#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const angular_project_1 = require("./angular-project");
const meow = require("meow");
const ts = require("typescript");
const cli = meow(`
Usage
  $ project-scanner angular path/to/program.ts

Options
  --tsconf, -c  Optionally provide a tsconfig.json file

Examples
  $ project-scanner angular ruf-shell/libs/shell/index.ts
    # outputs json of all angular types.

`, {
    flags: {
        tsconf: {
            type: 'string',
            alias: 'c'
        }
    }
});
const output = [];
angular_project_1.traverseAngularProgram([cli.input[1]], entry => {
    output.push(entry);
}, {
    compiler: cli.flags.tsconf
        ? cli.flags.tsconf
        : {
            target: ts.ScriptTarget.ES5,
            module: ts.ModuleKind.CommonJS
        }
});
console.log(JSON.stringify(output, null, 2));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NsaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1REFBMkQ7QUFDM0QsNkJBQTZCO0FBRzdCLGlDQUFpQztBQUVqQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQ2Q7Ozs7Ozs7Ozs7O0NBV0QsRUFDQztJQUNFLEtBQUssRUFBRTtRQUNMLE1BQU0sRUFBRTtZQUNOLElBQUksRUFBRSxRQUFRO1lBQ2QsS0FBSyxFQUFFLEdBQUc7U0FDWDtLQUNGO0NBQ0YsQ0FDRixDQUFDO0FBRUYsTUFBTSxNQUFNLEdBQW1CLEVBQUUsQ0FBQztBQUNsQyx3Q0FBc0IsQ0FDcEIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ2QsS0FBSyxDQUFDLEVBQUU7SUFDTixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3JCLENBQUMsRUFDRDtJQUNFLFFBQVEsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU07UUFDeEIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTTtRQUNsQixDQUFDLENBQUM7WUFDRSxNQUFNLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxHQUFHO1lBQzNCLE1BQU0sRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVE7U0FDL0I7Q0FDTixDQUNGLENBQUM7QUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDIn0=