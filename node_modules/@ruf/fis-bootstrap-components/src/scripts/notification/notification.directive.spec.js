describe('Directive: fis.bootstrap notification', function () {
  'use strict';

  var scope = null;

  beforeEach(function () {
    module('fis.bootstrap.components');
    inject(function ($rootScope) {
      scope = $rootScope.$new();
    });
  });

  /* jshint unused: false */
  it('it should show success notification if type is fis-success ', inject(function ($compile) {
    scope.showNotification = function () {
      scope.notificationsList = [
        {
          type: 'fis-success',
          message: 'This is success message'
        }
      ];
    };
    var element = $compile('<form name="MyForm"><fis-bs-notification fis-bs-notifications-list="notificationsList" ' +
      'fis-bs-form="MyForm" fis-bs-show-std-err="false"></fis-bs-notification><button ng-click="showNotification()">Show Success</button></form>')(scope);
    scope.$apply();

    var buttonEle = element.find('button');
    buttonEle.click();
    var image = element.find('.icon-Posak');
    var message = element.find('.fis-notifications');
    expect(image.length).toEqual(1);
    expect(message[0].innerText).toEqual('This is success message');
  }));

  it('it should show alert notification if type is fis-alert ', inject(function ($compile) {
    scope.showNotification = function () {
      scope.notificationsList = [
        {
          type: 'fis-alert',
          message: 'This is alert message'
        }
      ];
    };
    var element = $compile('<form name="MyForm"><fis-bs-notification fis-bs-notifications-list="notificationsList" ' +
      'fis-bs-form="MyForm" fis-bs-show-std-err="false"></fis-bs-notification><button ng-click="showNotification()">Show Success</button></form>')(scope);
    scope.$apply();

    var buttonEle = element.find('button');
    buttonEle.click();
    var image = element.find('.icon-Error');
    var message = element.find('.fis-notifications');
    expect(image.length).toEqual(1);
    expect(image.hasClass('orange')).toBe(true);
    expect(message[0].innerText).toEqual('This is alert message');
  }));

  it('it should show information notification if type is fis-information ', inject(function ($compile) {
    scope.showNotification = function () {
      scope.notificationsList = [
        {
          type: 'fis-information',
          message: 'This is information message'
        }
      ];
    };
    var element = $compile('<form name="MyForm"><fis-bs-notification fis-bs-notifications-list="notificationsList" ' +
      'fis-bs-form="MyForm" fis-bs-show-std-err="false" fis-bs-std-err-message="stdErrorText"></fis-bs-notification>' +
      '<button ng-click="showNotification()">Show Notification</button></form>')(scope);
    scope.$apply();

    var buttonEle = element.find('button');
    buttonEle.click();
    var image = element.find('.icon-Information');
    var message = element.find('.fis-notifications');

    expect(image.length).toEqual(1);
    expect(image.hasClass('blue')).toBe(true);
    expect(message[0].innerText).toEqual('This is information message');
  }));

  it('it should show error notification if type is fis-error ', inject(function ($compile) {
    scope.showNotification = function () {
      scope.notificationsList = [
        {
          type: 'fis-error',
          message: 'This is error message'
        }
      ];
    };
    var element = $compile('<form name="MyForm"><fis-bs-notification fis-bs-notifications-list="notificationsList" ' +
      'fis-bs-form="MyForm" fis-bs-show-std-err="false"></fis-bs-notification><button ng-click="showNotification()"' +
      '>Show Notification</button></form>')(scope);
    scope.$apply();

    var buttonEle = element.find('button');
    buttonEle.click();
    var image = element.find('.icon-Error');
    var message = element.find('.fis-notifications');
    expect(image.length).toEqual(1);
    expect(image.hasClass('red')).toBe(true);
    expect(message[0].innerText).toEqual('This is error message');
  }));
});
