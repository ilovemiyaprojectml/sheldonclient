(function () {
  'use strict';

  angular
    .module('fis.bootstrap.tabs')
    .directive('fisBsDraggable', draggable);

  function draggable() {
    'use strict';

    return function (scope, element) {
      var ff = navigator.userAgent.toLowerCase().indexOf('firefox');
      if (ff < 0) {
        var el = element[0];

        el.draggable = true;

        el.addEventListener('dragstart', function (e) {
          e.dataTransfer.effectAllowed = 'move';
          e.dataTransfer.setData('Text', this.id);
          this.classList.add('drag');
          return false;
        }, false);

        el.addEventListener('dragend', function () {
          this.classList.remove('drag');
          return false;
        }, false);
      }
    };
  }
})();

