describe('Directive: fis.bootstrap.calendar daypicker', function () {
  'use strict';

  var htmlelement;
  var template;
  var templateUrl;

  beforeEach(function () {
    angular.mock.module('fis.bootstrap.components');
    angular.mock.inject(function ($rootScope, $templateCache, uibDaypickerDirective) {
      template = $templateCache.get('calendar/daypicker.decorator.html');
      templateUrl = uibDaypickerDirective[0].templateUrl;

      htmlelement = '<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th>\n      	<button type="button" class="fis-bs-calendar-pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      \n      <th style="border-left:solid 2px #fff; border-right:solid 2px #fff; " colspan="{{5 + showWeeks}}" >\n      		<button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="fis-bs-calendar-middle" ng-click="toggleMode()" tabindex="-1" ><strong>{{title}}</strong> </button>\n      </th>\n      \n      <th><button type="button" class="fis-bs-calendar-pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  \n  <tbody >\n    <tr ng-repeat="row in rows track by $index" style="border-bottom: 1px solid lightgray;  border-top: 1px solid lightgray;  border-collapse: collapse;" >\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      \n      <td  ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n      	\n        <button type="button" style="width:100%; height:40px; width:40px; border: 0px " class="fis-bs-calendar-cell" \n        			ng-class="{ \'fis-bs-calendar-current-cell\': dt.current, \n' +
        '        			\'fis-bs-calendar-selected-cell\': dt.selected, \n' +
        '        			\'fis-bs-calendar-cell-active\': isActive(dt) && ! dt.selected && !dt.current,\n' +
        '        			\'fis-bs-calendar-cell-disabled\': dt.disabled,\n' +
        '        			\'fis-bs-calendar-cell-muted\': dt.secondary\n' +
        '        			}" \n' +
        '        			ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1">\n' +
        '        		<span \n' +
        '        			ng-class="{\'fis-bs-calendar-current-text\': dt.current,\n' +
        '        						\'fis-bs-calendar-selected-text\': dt.selected,\n' +
        '        						\'fis-bs-calendar-cell-active\': isActive(dt) && ! dt.selected && !dt.current,\n' +
        '        						\'fis-bs-calendar-text-muted\': dt.secondary \n' +
        '       					      }">\n' +
        '        			{{dt.label}}\n' +
        '        		</span>\n' +
        '        </button>\n' +
        '      </td>\n' +
        '    </tr>\n' +
        '  </tbody>\n' +
        '</table>\n\n\n\n';
    });
  });

  /* jshint unused: false */
  it('should match the retreived daypicker template and sample html markup', inject(function () {
    expect(template).toBe(htmlelement);
  }));

  it('should validate daypicker  decorated property', function () {
    expect(templateUrl).toBe('calendar/daypicker.decorator.html');
  });
});
