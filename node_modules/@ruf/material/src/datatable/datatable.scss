@import '~@ruf/theming/styles/_core.variables';

// Define a mixin that outputs the structural styles for the component.
@mixin ruf-mat-datatable($cls: '[fisStyle]', $config: ()) {

  $header-config: ruf-map-get($config, mat-header-row);
  $row-config: ruf-map-get($config, mat-row);

  $header-padding-horizontal: ruf-map-get($header-config, padding-horizontal, ruf-to-rem(10px));
  $header-padding-vertical: ruf-map-get($header-config, padding-vertical, ruf-to-rem(10px));
  $header-text-transform: ruf-map-get($header-config, text-transform, none);
  $border-bottom-width: ruf-map-get($header-config, border-bottom-width, ruf-to-rem(4px));
  $row-padding-horizontal: ruf-map-get($row-config, padding-horizontal, ruf-to-rem(10px));
  $row-padding-vertical: ruf-map-get($row-config, padding-vertical, ruf-to-rem(10px));
  $row-height: ruf-map-get($row-config, height, ruf-to-rem(50px));
  $row-border-width: ruf-map-get($config, 'row-border-width', ruf-to-rem(3px));

  .mat-table#{$cls} {
    .mat-header-row {
      height: auto;
      padding: 0;
      text-transform: $header-text-transform;
      .mat-header-cell {
        border-bottom-style: solid;
        border-bottom-width: $border-bottom-width;
        padding: $header-padding-horizontal  $header-padding-vertical;

        .mat-sort-header-container {
          justify-content: space-between;

          .mat-sort-header-stem {
            display: none;
          }
        }
      }
    }

    .mat-row, .mat-footer-row {
      height: $row-height;
      padding: 0;
      .mat-cell {
        padding: $row-padding-horizontal  $row-padding-vertical;
      }
    }

    &.striped-rows {
      .mat-row {
        .mat-cell {
          border-bottom: none;
        }
      }
    }

    &.rows-without-border {
      .mat-row {
        .mat-cell {
          border-bottom: none;
        }
      }
    }
    &[row-border=true] {
      .mat-row {
        .mat-cell:first-child {
          border-left-style: solid;
          border-left-width: $row-border-width;
        }
      }
    }
  }
}
