{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://@ruf/shell/src/info.ts","ng://@ruf/shell/src/version.ts","ng://@ruf/shell/src/utils/windowRef.service.ts","ng://@ruf/shell/src/utils/shell-intl.ts","ng://@ruf/shell/src/utils/focusable.ts","ng://@ruf/shell/src/utils/utils.module.ts","ng://@ruf/shell/src/input/keyboard.ts","ng://@ruf/shell/src/toolbar/toolbar-filler.directive.ts","ng://@ruf/shell/src/common/color/color.ts","ng://@ruf/shell/src/dynamic-menubar/dynamic-menubar.component.ts","ng://@ruf/shell/src/toolbar/toolbar.component.ts","ng://@ruf/shell/src/unique-id/unique-id.directive.ts","ng://@ruf/shell/src/unique-id/unique-id.module.ts","ng://@ruf/shell/src/toolbar/toolbar.module.ts","ng://@ruf/shell/src/banner/banner.component.ts","ng://@ruf/shell/src/banner/banner.module.ts","ng://@ruf/shell/src/dialog/dialog-panel.component.ts","ng://@ruf/shell/src/icon/icon.directive.ts","ng://@ruf/shell/src/icon/icon-style.directive.ts","ng://@ruf/shell/src/icon/icon.module.ts","ng://@ruf/shell/src/dialog/dialog-panel.module.ts","ng://@ruf/shell/src/labeled-icon/labeled-icon.component.ts","ng://@ruf/shell/src/labeled-icon/labeled-icon.module.ts","ng://@ruf/shell/src/menubar/menubar.component.ts","ng://@ruf/shell/src/menubar/menubar-item.component.ts","ng://@ruf/shell/src/menubar/menubar.module.ts","ng://@ruf/shell/src/menu-label/menu-label.component.ts","ng://@ruf/shell/src/trigger/trigger.interface.ts","ng://@ruf/shell/src/trigger/trigger.directive.ts","ng://@ruf/shell/src/trigger/trigger.module.ts","ng://@ruf/shell/src/menu-label/menu-label.module.ts","ng://@ruf/shell/src/dynamic-menubar/dynamic-menubar.module.ts","ng://@ruf/shell/src/dynamic-sidemenu/dynamic-sidemenu.component.ts","ng://@ruf/shell/src/toggle/toggle.directive.ts","ng://@ruf/shell/src/toggle/toggle.module.ts","ng://@ruf/shell/src/sidemenu/sidemenu-item.component.ts","ng://@ruf/shell/src/sidemenu/sidemenu.component.ts","ng://@ruf/shell/src/sidemenu/sidemenu-children.component.ts","ng://@ruf/shell/src/sidemenu/sidemenu.module.ts","ng://@ruf/shell/src/dynamic-sidemenu/dynamic-sidemenu.module.ts","ng://@ruf/shell/src/footer/footer.component.ts","ng://@ruf/shell/src/footer/footer.module.ts","ng://@ruf/shell/src/icon-button/icon-button.directive.ts","ng://@ruf/shell/src/icon-button/icon-button.module.ts","ng://@ruf/shell/src/layout/ruf-if.directive.ts","ng://@ruf/shell/src/layout/padding.directive.ts","ng://@ruf/shell/src/layout/margin.directive.ts","ng://@ruf/shell/src/layout/layout.module.ts","ng://@ruf/shell/src/page-header/page-header.component.ts","ng://@ruf/shell/src/page-header/page-header.module.ts","ng://@ruf/shell/src/app-canvas/app-canvas.component.ts","ng://@ruf/shell/src/app-canvas/app-canvas.module.ts","ng://@ruf/shell/src/i18n/locale.service.ts","ng://@ruf/shell/src/i18n/currency.pipe.ts","ng://@ruf/shell/src/i18n/date.pipe.ts","ng://@ruf/shell/src/i18n/i18n.module.ts","ng://@ruf/shell/src/dropdown-panel/dropdown-panel.component.ts","ng://@ruf/shell/src/navbar/navbar.component.ts","ng://@ruf/shell/src/navbar/navbar.module.ts","ng://@ruf/shell/src/megamenu/search/search.component.ts","ng://@ruf/shell/src/megamenu/menu-search.service.ts","ng://@ruf/shell/src/megamenu/megamenu.component.ts","ng://@ruf/shell/src/sitemap/sitemap.component.ts","ng://@ruf/shell/src/sitemap/sitemap.module.ts","ng://@ruf/shell/src/megamenu/megamenu.module.ts","ng://@ruf/shell/src/router/mdi-strategy.ts","ng://@ruf/shell/src/router/router-util.service.ts","ng://@ruf/shell/src/router/outlet.directive.ts","ng://@ruf/shell/src/router/router.module.ts","ng://@ruf/shell/src/router/route-reuse-strategy.ts","ng://@ruf/shell/src/card/card.component.ts","ng://@ruf/shell/src/card/card-action-bar.component.ts","ng://@ruf/shell/src/card/card.module.ts","ng://@ruf/shell/src/statusbar/statusbar.component.ts","ng://@ruf/shell/src/statusbar/statusbar.module.ts","ng://@ruf/shell/src/dropdown-panel/dropdown-panel.module.ts","ng://@ruf/shell/src/ellipsis/ellipsis.component.ts","ng://@ruf/shell/src/ellipsis/ellipsis.module.ts","ng://@ruf/shell/src/inkbar/inkbar.directive.ts","ng://@ruf/shell/src/inkbar/inkbar.module.ts","ng://@ruf/shell/src/side-panel/side-panel.component.ts","ng://@ruf/shell/src/side-panel/side-panel.module.ts","ng://@ruf/shell/src/shell.module.ts","ng://@ruf/shell/src/dynamic-segment/dynamic-segment.component.ts","ng://@ruf/shell/src/dynamic-segment/dynamic-segment.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__read","o","m","Symbol","iterator","e","ar","next","done","push","value","error","infoToken","InjectionToken","RUF_INFO","info","version","copyright","Date","getFullYear","console","log","RufWindowRef","window","Injectable","RufShellIntl","changes","Subject","dynamicmenubar","aria","closeIconLabel","dialog","closeIconTitle","banner","altText","label","labelledBy","toolbar","statusbar","expandIconLabel","ellipsis","megamenu","placeholder","clearSearchLabel","megamenusearch","card","expandLabel","collapseLabel","fileupload","fileNameLabel","sizeLabel","progressLabel","sidepanel","pinLabel","unpinLabel","RufFocusableDirective","_elementRef","focus","nativeElement","disabled","Directive","selector","ElementRef","RufUtilsModule","NgModule","imports","CommonModule","declarations","exports","providers","provide","useValue","Éµ0","RufKeyCodes","ENTER","ESCAPE","SPACE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","RufKeyboardNavigation","_direction","init","container","items","_container","_items","_FocusKeyManager","FocusKeyManager","withWrap","_ListKeyManager","ListKeyManager","setActiveItemWithoutFocus","setActiveItem","_subscription","index","navigate","event","keyCode","setPreviousItemActive","preventEventPropagation","setNextItemActive","selectFocusedItem","HOME","setFirstItemActive","END","setLastItemActive","onKeydown","preventDefault","stopPropagation","onKeyDown","addTabIndex","focusableItems","forEach","child","setAttribute","activeItem","path","item","find","f","toArray","indexOf","isActive","undefined","setDirection","direction","RufToolbarFillerDirective","el","renderer","setStyle","Renderer2","rufMixinColor","base","defaultColor","_super","class_1","args","_i","_this","concat","__spread","color","tslib_1.__extends","_color","colorPalette","classList","remove","add","RufDynamicNavType","RufElementRefBase","RufMixinBase","RufToolbarRowDirective","RufToolbarComponent","_intl","changeDetectorRef","children","_intlChanges","subscribe","markForCheck","_ariaLabel","ngAfterContentInit","_keyboardNav","toolbarItems","onKey","ngOnDestroy","unsubscribe","tslib_1.__decorate","Input","ContentChildren","descendants","QueryList","HostListener","KeyboardEvent","Component","template","encapsulation","ViewEncapsulation","None","changeDetection","ChangeDetectionStrategy","OnPush","ChangeDetectorRef","RufUniqueIdDirective","ngOnInit","isDevMode","currentElement","id","rufId","getUniqueId","generateID","getParentID","node","tempParentId","attributes","parentNode","nel","parentID","tempUid","tagName","toLowerCase","nodeName","tempId","count","genId","document","getElementById","RufUniqueIdModule","RufToolbarModule","RufBannerRowDirective","RufBannerControlsDirective","RufBannerBrandComponent","logoClass","showLogo","_altText","_ariaLabelledby","RufBannerComponent","ContentChild","static","RufBannerModule","RufDialogHeaderDirective","RufDialogContentDirective","RufDialogFooterDirective","RufDialogPanelComponent","tabindex","separator","_closeIconTitle","HostBinding","RufIconDirective","matIcon","icon","val","ngOnChanges","fisIcon","currentValue","rufIcon","currentIcon","fontSet","fontIcon","chg","SimpleChange","tslib_1.__param","Self","Optional","MatIcon","RUF_ICON_STYLE_VALUES","RufIconStyleDirective","elementRef","classPrefix","rufIconStyle","previous","_validateValue","previousValue","current","removeClass","addClass","exportAs","RufIconModule","MatIconModule","RufDialogPanelModule","MatButtonModule","MatDialogModule","RufDynamicMenubarComponent","_renderer","_isMenuItemClosed","tabLabels","tabSubscription","Subscription","EMPTY","selectedIndex","focusedIndex","closedItemIndexLessThanSelectedIndex","select","EventEmitter","closeEmitter","type","Nav","_closeAriaLabel","_type","matTabGroupElem","removeChild","ngAfterViewInit","menuLabels","indexToSet_1","setTimeout","onSelect","_selectedPath","selectedPath","selected","filter","matches","_b","tslib_1.__values","_c","citem","onChildSelect","isChild","parent","childPath","$event","selectedItem","focusTabOnIndex","emit","onFocusChange","OnSelectFocusedIndex","handleKeydown","onChildMenuToggle","close","getElementsByClassName","_handleKeydown","ViewChildren","Output","TemplateRef","RufLabeledIconComponent","RufLabeledIconModule","RufMenubarComponent","_selectedPathSubject","BehaviorSubject","_selectedPath$","from","_activatedPathSubject","_activatedPath$","autoActivate","selectEmitter","addNewKeyboardNav","menuItems","data","firstChild","findIndex","menuItem","activate","_inkbarPosition","position","_updateInkbarPosition","getLayoutClass","ruf-menubar-layout","ruf-layout-row","ruf-layout-column","ruf-layout-row-xs","directionXs","ruf-layout-column-xs","ruf-layout-row-sm","directionSm","ruf-layout-column-sm","ruf-layout-row-md","directionMd","ruf-layout-column-md","ruf-layout-row-lg","directionLg","ruf-layout-column-lg","ruf-layout-row-xl","directionXl","ruf-layout-column-xl","ruf-layout-row-gt-xs","directionGtXs","ruf-layout-column-gt-xs","ruf-layout-row-gt-sm","directionGtSm","ruf-layout-column-gt-sm","ruf-layout-row-gt-md","directionGtMd","ruf-layout-column-gt-md","ruf-layout-row-gt-lg","directionGtLg","ruf-layout-column-gt-lg","ruf-layout-row-lt-sm","directionLtSm","ruf-layout-column-lt-sm","ruf-layout-row-lt-md","directionLtMd","ruf-layout-column-lt-md","ruf-layout-row-lt-lg","directionLtLg","ruf-layout-column-lt-lg","ruf-layout-row-lt-xl","directionLtXl","ruf-layout-column-lt-xl","forwardRef","RufMenubarItemComponent","menubar","selectable","menuitem","role","active","selectedPath$","pipe","takeUntil","distinctUntilChanged","activatedPath$","match","complete","onClick","cancelBubble","pattern","RegExp","test","RufMenubarModule","RufMenuLabelComponent","toggle","rowLayout","handleClick","hasPopup","onClose","trigger","openMenu","menu","focusFirstItem","closeMenu","ViewChild","MatMenuTrigger","throwTargetMissingError","Error","RufTriggerDirective","elRef","subscription","_checkTarget","removeAttribute","opened","handleClickEvent","handleKeydownEvent","CdkOverlayOrigin","RufTriggerModule","RufMenuLabelModule","MatMenuModule","RufDynamicMenubarModule","MatTabsModule","RufDynamicSideMenuComponent","_mediaObserver","multi","_select","minimized","minimizedXs","minimizedSm","minimizedMd","minimizedLg","minimizedXl","minimizedGtXs","minimizedGtSm","minimizedGtMd","minimizedGtLg","isMinimized","some","x","getRufId","replace","menuTrigger","setPopupData","sideMenuPopupData","currentTarget","cdkOverlayClass","cdkOverlayElement","querySelector","rufMenuItemClientTect","getBoundingClientRect","style","left","width","firstMenuItem","onPopupClose","currentActiveItem","keyHandler","click","getOverlayClasses","colorClass","_activeColor","popupBackgroundClass","toggleChildItems","currentTrigger","_triggers","element","Inject","DOCUMENT","MediaObserver","RufToggleDirective","chevron","arrow","toggleChange","toggleValue","RufToggleModule","OverlayModule","RufSidemenuItemComponent","RufSidemenuComponent","inkbarPosition","orientation","RufSidemenuChildrenComponent","sidemenuComp","visible","sidemenuChildren","visibleState","childItems","_keyboardSideNav","toState","animations","state","height","transition","animate","RufSidemenuModule","RufDynamicSideMenuModule","FlexLayoutModule","RufFooterControlsDirective","RufFooterComponent","RufFooterModule","RufIconButtonDirective","_matButton","_active","_dark","_activeClass","square","darkClass","activeClass","primaryClass","disableRipple","MatButton","RufIconButtonModule","FALSY","RufIfDirective","templateRef","viewContainer","monitor","styleUtils","isAlreadyInserted","_cacheInput","_getDisplayStyle","_mqActivation","_updateWithValue","_listenForMediaQueryChanges","_getDefaultVal","activatedInput","shouldShow","_validateTruthy","_update","createEmbeddedView","clear","ViewContainerRef","MediaMonitor","StyleUtils","BaseDirective","RUF_PADDING_VALUES","RufPaddingDirective","_positions","rufPadding","rufPaddingVertical","rufPaddingHorizontal","rufPaddingTop","rufPaddingRight","rufPaddingBottom","rufPaddingLeft","padding","keys","update","change","pos","RUF_MARGIN_VALUES","RufMarginDirective","rufMargin","rufMarginVertical","rufMarginHorizontal","rufMarginTop","rufMarginRight","rufMarginBottom","rufMarginLeft","margin","RufLayoutModule","RufPageHeaderRowDirective","RufPageHeaderIconComponent","RufPageHeaderTitleComponent","RufPageHeaderDescriptionComponent","RufPageHeaderComponent","RufPageHeaderModule","RufAppCanvasComponent","RufAppCanvasModule","RufLocaleService","_locale","_localeSubject","_locale$","locale","RufCurrencyPipe","localeService","locale$","currencyPipe","CurrencyPipe","transform","currencyCode","symbolDisplay","digits","Pipe","name","pure","RufDatePipe","datePipe","DatePipe","RufI18nModule","forRoot","ngModule","RufI18nModule_1","LOCALE_ID","useFactory","localeFactory","deps","RufDropdownType","RufNavbarComponent","RufNavbarModule","RufMegamenuSearchComponent","filterValue","inputFocus","_placeholder","_clearSearchLabel","handleKeyDown","RufCart","RufSearchService","SPLITTER","String","fromCharCode","recursiveReduce","context","reduce","cart","newContext","childCart","parent_1","join","searchKey","searchKeys","parents","prepareSearch","preparedItems","term","performSearch","copySearchItem","newChildren","searchTerm","newItems","reducedChildren","RufMegamenuComponent","searchService","searchTerms$","selectedSidemenuItems$","preparedSearchableItems","_searchPlaceholder","_clearSearchAriaLabel","searchResults$","debounceTime","switchMap","search","startWith","selectedItemChildren$","withLatestFrom","map","_a","searchResults","sitemapItems$","merge","sidemenu","results","of","RufSitemapComponent","sitemapItems","selectItem","sitemapItem","uniqueItem","Observable","RufSitemapModule","RufMegamenuModule","RufMDIStrategy","util","handlers","shouldDetach","route","store","handle","getLeafNodePath","component","componentRef","getComponentRef","getLeafNode","shouldAttach","routeConfig","retrieve","loadChildren","fullPath","shouldReuseRoute","future","curr","JSON","stringify","params","destroy","RufRouterUtilService","_routeComp","_lastActivatedPath","_lastActivatedOutlet","outlet","setComponentRef","snapshot","pathFromRoot","url","leafNode","RufRouterOutletDirective","rufParentContexts","rufLocation","rufResolver","rufName","rufChangeDetector","PRIMARY_OUTLET","detach","lastActivatedOutlet","isActivated","lastCompRef","lastActivatedPath","activateWith","activatedRoute","resolver","storePreviousRoute","attach","ref","getContext","Attribute","ChildrenOutletContexts","ComponentFactoryResolver","RouterOutlet","RufRouterModule","RufRouterModule_1","RufRouteReuseStrategy","RouteReuseStrategy","RufCardControlsDirective","RufCardSubtitleDirective","RufCardComponent","expandable","expanded","_expandLabel","_collapseLabel","visibility","RufCardActionBarComponent","RufCardModule","MatCardModule","RufStatusbarComponent","closeable","border","isSubtitleEmpty","dismiss","_expandAriaLabel","onDismiss","subtitleContent","innerHTML","trim","min-height","RufStatusbarIconComponent","RufStatusbarDescriptionComponent","RufStatusbarModule","RufDropdownPanelComponent","_overlay","_viewContainerRef","hasBackdrop","openedChange","Dropdown","xPosition","yPosition","className","_overlayRef","open","origin","_getOrigin","overlay","_getOverlayPosition","positionStrategy","flexibleConnectedTo","withPositions","main","fallback","onPositionChanged","connectionPair","overlayX","overlayY","positionChanges","backdropClass","backdropClick","_portal","TemplatePortal","content","hasAttached","originPosition","_getPositionStrategy","_getOriginValues","_getOverlayPositionValues","_invertPosition","originX","originY","y","PopoverMenu","ContextMenu","overlayPosition","xCenterYBottom","xCenterYTop","xStartYBottom","xStartYTop","xStartYCenter","xEndYBottom","xEndYTop","xEndYCenter","Overlay","RufDropdownPanelModule","RufEllipsisComponent","showReadMore$","lines","lineHeight","expand","_label","checkReadMore","text","ellipsisContainer","offsetHeight","scrollHeight","ngAfterViewChecked","detectChanges","RufEllipsisModule","RufInkbarDirective","elm","_position","rufInkbar","_updateClass","newValue","oldValue","RufInkbarActiveDirective","rufInkbarItem","rufInkbarActive","RufInkbarModule","RufSidePanelComponent","isPinned","togglePin","_pinLabel","_unpinLabel","onPintoggle","pinned","RufSidePanelModule","SHELL_MODULES","RufShellRootModule","RufShellModule","RufDynamicSegmentComponent","segmentItems","selectSegmentItem","segmentItem","_matches","MatButtonToggle","RufDynamicSegmentModule","MatButtonToggleModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { InjectionToken } from '@angular/core';\nimport { versionString } from './version';\n\nexport function infoToken() {\n  return new InjectionToken('RUF_INFO');\n}\n\nexport const RUF_INFO = infoToken;\n\nexport const info = {\n  version: versionString,\n  get copyright() {\n    return 'ÃÂ© ' + new Date().getFullYear() + ' FIS';\n  }\n};\n\nconsole.log('RUF ' + info.version);\nconsole.log(info.copyright);\n","export const versionString = '4.7.0-beta8-SNAPSHOT';\n","import { Injectable } from '@angular/core';\n\nfunction _window(): any {\n  // return the global native browser window object\n  return window;\n}\n\n@Injectable()\nexport class RufWindowRef {\n  get nativeWindow(): any {\n    return _window();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\n\n\n/**\n * Labels used by all shell components that require internationalization.\n * These components also have individual attributes for these labels.\n * Users can either provide attributes\n * e.g., `closeIconTitle` can be provided by users for title of modal dialog close button.\n * <button mat-icon-button mat-dialog-close [title]=\"closeIconTitle\">\n * </button>\n * or\n * Provide an instance of this class which overrides `closeIconTitle`.\n * */\n@Injectable()\nexport class RufShellIntl {\n  /**\n   * Stream that emits whenever the labels here are changed. Use this to notify\n   * components if the labels have changed after initialization.\n   */\n  changes: Subject<void> = new Subject<void>();\n\n  dynamicmenubar = {\n    aria: { closeIconLabel: 'Close' }\n  };\n\n  dialog = { closeIconTitle: 'Close' };\n\n  banner = {\n    altText: 'logo',\n    aria: {\n      label: 'Banner',\n      labelledBy: null\n     }\n  };\n\n  toolbar = {\n    aria: { label: 'Toolbar' }\n  };\n\n  statusbar = {\n    aria: {closeIconLabel: 'Close', expandIconLabel: 'Expand'}\n  };\n  ellipsis = {\n    label: '...Read More',\n    aria: { label: 'Read More' }\n  };\n\n  megamenu = {\n    placeholder: 'Search',\n    aria: {clearSearchLabel: 'Clear search'}\n   };\n\n  megamenusearch = {\n    placeholder: 'Search',\n    aria: {clearSearchLabel: 'Clear search'}\n   };\n\n  card = {\n    aria: {\n      expandLabel: 'Expand',\n      collapseLabel: 'Collapse'\n    }\n  };\n\n  fileupload = {\n    aria: {\n      label: 'Choose File'\n    },\n    label: 'Choose File',\n    placeholder: 'No file chosen',\n    fileNameLabel : 'File Name',\n    sizeLabel : 'Size',\n    progressLabel : 'Progress'\n  };\n\n  sidepanel = {\n    aria: {\n      pinLabel : 'Pin',\n      unpinLabel: 'Unpin'\n    }\n  };\n}\n","import { Directive, ElementRef } from '@angular/core';\n\n/**\n * This attribute directive should be placed on any element that needs to get focus on keyboard navigation\n */\n@Directive({\n  selector: '[rufFocusable], [ruf-focusable]' // tslint:disable-line\n})\nexport class RufFocusableDirective {\n  constructor(private _elementRef: ElementRef) {}\n  focus() {\n    this._elementRef.nativeElement.focus();\n  }\n  get disabled() {\n    return this._elementRef.nativeElement.disabled;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufWindowRef } from './windowRef.service';\nimport { info, RUF_INFO } from '../info';\nimport { RufFocusableDirective } from './focusable';\nimport { RufShellIntl } from './shell-intl';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [\n    RufFocusableDirective\n  ],\n  exports: [\n    RufFocusableDirective\n  ],\n  providers: [RufWindowRef, RufShellIntl, { provide: RUF_INFO, useValue: info }]\n})\nexport class RufUtilsModule {}\n","/**The MIT License\n\nCopyright (c) 2017 Google, Inc.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport { QueryList, ElementRef } from '@angular/core';\nimport { FocusKeyManager, ListKeyManager, FocusableOption } from '@angular/cdk/a11y';\n// Focusable interface renamed to FocusableOption in @angular/cdk beta-10.\nimport { Subject } from 'rxjs';\nimport { LEFT_ARROW, RIGHT_ARROW, DOWN_ARROW, UP_ARROW, ENTER, SPACE, ESCAPE, HOME, END } from '@angular/cdk/keycodes';\n\nexport class RufKeyCodes {\n  static readonly ENTER = 13;\n  static readonly ESCAPE = 27;\n  static readonly SPACE = 32;\n  static readonly LEFT_ARROW = 37;\n  static readonly UP_ARROW = 38;\n  static readonly RIGHT_ARROW = 39;\n  static readonly DOWN_ARROW = 40;\n}\n\nexport class RufKeyboardNavigation {\n  private _FocusKeyManager: FocusKeyManager<FocusableOption>;\n  private _ListKeyManager: ListKeyManager<FocusableOption>;\n  private _subscription: Subject<any>;\n  private _container: ElementRef;\n  private _items: QueryList<any>;\n  private _direction = 'row';\n\n  // To receive select notifications, subscribe to this function\n  init(container: ElementRef, items: QueryList<any>): Subject<any> {\n    this._container = container;\n    this._items = items;\n    this._FocusKeyManager = new FocusKeyManager(items).withWrap();\n    this._ListKeyManager = new ListKeyManager(items);\n    if (items.length > 0) {\n      this.setActiveItemWithoutFocus(0);\n      this._ListKeyManager.setActiveItem.call(this._FocusKeyManager, 0);\n    }\n    this._subscription = new Subject<any>();\n    return this._subscription;\n  }\n\n  setActiveItem(index: number): void {\n    this._FocusKeyManager.setActiveItem(index);\n  }\n\n  setActiveItemWithoutFocus(index: number) {\n    this._ListKeyManager.setActiveItem.call(this._FocusKeyManager, index);\n  }\n\n  private navigate(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case RufKeyCodes.ESCAPE:\n        this._container.nativeElement.focus();\n        break;\n      case RufKeyCodes.LEFT_ARROW:\n      case RufKeyCodes.UP_ARROW:\n        this._FocusKeyManager.setPreviousItemActive();\n        // prevent scrollbar catching the event\n        this.preventEventPropagation(event);\n        break;\n      case RufKeyCodes.RIGHT_ARROW:\n      case RufKeyCodes.DOWN_ARROW:\n        this._FocusKeyManager.setNextItemActive();\n        // prevent scrollbar catching the event\n        this.preventEventPropagation(event);\n        break;\n      case RufKeyCodes.SPACE:\n      case RufKeyCodes.ENTER:\n        this.selectFocusedItem();\n        // prevent scrollbar catching the event\n        this.preventEventPropagation(event);\n        break;\n      case HOME:\n        this._FocusKeyManager.setFirstItemActive();\n        // prevent scrollbar catching the event\n        this.preventEventPropagation(event);\n        break;\n      case END:\n        this._FocusKeyManager.setLastItemActive();\n        // prevent scrollbar catching the event\n        this.preventEventPropagation(event);\n        break;\n      default:\n        this._FocusKeyManager.onKeydown(event);\n        break;\n    }\n  }\n\n  private preventEventPropagation(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    if (this._items.length === 0) {\n        return;\n    }\n    this.navigate(event);\n  }\n\n  public addTabIndex(focusableItems) {\n    focusableItems.forEach((child, index) => {\n      if (index === 0) {\n        child._elementRef.nativeElement.setAttribute('tabindex', 0);\n      } else {\n        child._elementRef.nativeElement.setAttribute('tabindex', -1);\n      }\n    });\n  }\n\n  private selectFocusedItem() {\n    if (this._FocusKeyManager.activeItem) {\n      this._subscription.next(this._FocusKeyManager.activeItem);\n    }\n  }\n\n  public focus(path: string) {\n    if (!this._items || this._items.length === 0) {\n      return;\n    }\n    const item = this._items.find(f => f.path === path);\n    const index = this._items.toArray().indexOf(item);\n    this._FocusKeyManager.setActiveItem(index);\n  }\n\n  public isActive(): boolean {\n    return this._FocusKeyManager.activeItem !== undefined;\n  }\n  public setDirection(direction: string) {\n    if (direction === 'column') {\n      this._direction = direction;\n    }\n  }\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\n\n// tslint doesn't see the selector is kebab-case here\n/* tslint:disable:directive-selector-name */\n@Directive({ selector: '[rufToolbarFiller]' })\nexport class RufToolbarFillerDirective {\n  constructor(private el: ElementRef, private renderer: Renderer2) {\n    renderer.setStyle(el.nativeElement, 'flex', '1 1 auto');\n  }\n}\n","/**\n * @license\n * The MIT License\n\n * Copyright (c) 2010-2019 Google LLC. http://angular.io/license\n\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation\n * files (the \"Software\"), * to deal in the Software without restriction, including without limitation the rights to use, copy,\n * modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software\n * is furnished to do so, subject to the following conditions:\n\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR\n * ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { ElementRef } from '@angular/core';\nimport { ThemePalette } from '@angular/material/core';\n\nexport type Constructor<T> = new(...args: any[]) => T;\n\nexport interface RufCanColor {\n  color: RufThemePalette\n}\n\nexport interface HasElementRef {\n  _elementRef: ElementRef;\n}\n\nexport type RufThemePalette = ThemePalette & 'emphasis' | 'info' | 'success' | 'error';\n\nexport type RufCanColorCtor = Constructor<RufCanColor>;\n\nexport function rufMixinColor<T extends Constructor<HasElementRef>>(base: T, defaultColor?: RufThemePalette): RufCanColorCtor & T {\n  return class extends base {\n    private _color: RufThemePalette;\n\n    constructor(...args: any[]) {\n      super(...args);\n\n      // Set the default color that can be specified from the mixin.\n      this.color = defaultColor;\n    }\n\n    get color(): RufThemePalette {\n      return this._color;\n    }\n\n    set color(value: RufThemePalette) {\n      const colorPalette = value || defaultColor;\n\n      if (colorPalette !== this._color) {\n        if (this._color) {\n          this._elementRef.nativeElement.classList.remove(`ruf-${this._color}`);\n        }\n        if (colorPalette) {\n          this._elementRef.nativeElement.classList.add(`ruf-${colorPalette}`);\n        }\n\n        this._color = colorPalette;\n      }\n    }\n  };\n}\n\nexport class RufElementRefBase {\n  constructor(public _elementRef: ElementRef) {}\n}\n\nexport const RufMixinBase: RufCanColorCtor & typeof RufElementRefBase = rufMixinColor(RufElementRefBase);\n\n\n","import {\n  AfterViewInit,\n  Input,\n  Output,\n  EventEmitter,\n  Component,\n  ChangeDetectorRef,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  ElementRef,\n  Renderer2,\n  OnInit,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges,\n  TemplateRef,\n  ContentChild,\n  ViewChildren,\n  QueryList\n} from '@angular/core';\n\nimport { ENTER, SPACE, ESCAPE } from '@angular/cdk/keycodes';\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../utils/shell-intl';\nimport { RufDynamicMenubarItem } from './dynamic-menubar-item';\nimport { RufMenuLabelComponent } from '../menu-label/menu-label.component';\nimport {  RufCanColor, RufMixinBase } from '../common/color/color';\n\nexport enum RufDynamicNavType {\n  Nav = 'nav',\n  Tabs = 'tabs'\n}\n\n@Component({\n  selector: 'ruf-dynamic-menubar',\n  templateUrl: './dynamic-menubar.component.html',\n  styleUrls: ['./dynamic-menubar.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufDynamicMenubarComponent extends RufMixinBase\n          implements AfterViewInit, OnInit, OnChanges, OnDestroy, RufCanColor {\n  private _isMenuItemClosed = false;\n  private _intlChanges: Subscription;\n  private _closeAriaLabel: string;\n  private _type: RufDynamicNavType;\n  @Input() items: RufDynamicMenubarItem[] = [];\n  private _selectedPath: string;\n  @ViewChildren('menuLabel') menuLabels: QueryList<RufMenuLabelComponent>;\n  tabLabels = [];\n  private tabSubscription = Subscription.EMPTY;\n\n  /* tslint:disable:no-input-rename */\n  @Input('activeColor') color;\n\n  @Input()\n  get closeAriaLabel() {\n    return this._closeAriaLabel || this._intl.dynamicmenubar.aria.closeIconLabel;\n  }\n  set closeAriaLabel(value: string) {\n    this._closeAriaLabel = value;\n  }\n  @Input()\n  get type() {\n    return this._type;\n  }\n  set type(value: RufDynamicNavType) {\n    this._renderer.removeClass(this._elementRef.nativeElement, `ruf-dynamic-${this._type}`);\n    this._type = value || RufDynamicNavType.Nav;\n    this._renderer.addClass(this._elementRef.nativeElement, `ruf-dynamic-${this._type}`)\n  }\n\n  selectedIndex = 0;\n  focusedIndex = 0;\n  closedItemIndexLessThanSelectedIndex = false;\n\n  @Output() select = new EventEmitter<RufDynamicMenubarItem>();\n\n  /* tslint:disable:no-output-rename */\n  @Output('close') closeEmitter = new EventEmitter<RufDynamicMenubarItem>();\n  @ContentChild(TemplateRef, {static: false}) navActions;\n\n  constructor(public _elementRef: ElementRef,\n              protected _renderer: Renderer2,\n              private _intl: RufShellIntl,\n              changeDetectorRef: ChangeDetectorRef) {\n      super(_elementRef);\n      this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n      this.type = RufDynamicNavType.Nav;\n  }\n\n  ngOnInit() {\n    // remove the body element from matTabGroup since we are never going to need it.\n    const matTabGroupElem = this._elementRef.nativeElement.children[0];\n    matTabGroupElem.removeChild(matTabGroupElem.children[1]);\n  }\n\n  ngAfterViewInit() {\n    this.tabLabels = this.menuLabels.toArray();\n    this.tabSubscription = this.menuLabels.changes.subscribe( (value) => {\n      this.tabLabels = value.toArray();\n    });\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.items && this.selectedIndex > -1 && this.items[this.selectedIndex]) {\n      // adding a setTimeout to delay the emil call in order to avoid ExpressionChangedAfterItHasBeenCheckedError\n      // need to see if there is a better solution for this\n      // https://stackoverflow.com/questions/44070732/angular-4-expressionchangedafterithasbeencheckederror-expression-has-changed\n      const indexToSet = this.closedItemIndexLessThanSelectedIndex ? this.selectedIndex - 1 : this.selectedIndex;\n      setTimeout(() => {\n        this.onSelect({ index: indexToSet });\n      });\n      this.closedItemIndexLessThanSelectedIndex = false;\n    }\n  }\n\n  @Input()\n  set selectedPath(path: string) {\n    if (this.selectedPath === path) {\n      return;\n    }\n\n    this._selectedPath = path;\n\n    // Check if selectedPath match with any first level items\n    let selected = path ? this.items.filter(item => this.matches(path, item)) : null;\n\n    // If selectedPath matches with first level items, first matched item will be selected (and select event emitter will be emitted).\n    if (selected && selected.length > 0) {\n      if (this.selectedIndex === this.items.indexOf(selected[0])) {\n        setTimeout(() => this.onSelect({ index: this.selectedIndex }));\n      } else {\n        this.selectedIndex = this.items.indexOf(selected[0]);\n      }\n      return;\n    } else {\n      // If selectedPath does not match with any first level item, check if matches with children of each first level item\n      for (const item of this.items) {\n        if (item.children && item.children.length > 0) {\n          selected = path ? item.children.filter(citem => this.matches(path, citem)) : null;\n          if (selected && selected.length > 0) {\n            // If selectedPath match with child menu, set selectedIndex to Parent and selectedPath to child menu\n            this.onChildSelect(selected[0], item);\n            return;\n          }\n        }\n      }\n    }\n    // If selectedPath does not match with first level items as well as child menu,\n    // select first item.\n    // FIXME: The `ngOnChange` event should take care of this. Currently it only checks for `items` changes.\n    setTimeout(() => this.onSelect({ index: 0 }));\n  }\n\n  get selectedPath() {\n    return this._selectedPath;\n  }\n\n  private isChild(parent: RufDynamicMenubarItem, childPath: string): boolean {\n    if (!childPath || parent.path === childPath) {\n      return false;\n    }\n    const selected = parent.children.filter(citem => this.matches(childPath, citem));\n    if (selected && selected.length > 0) {\n      return true;\n    }\n    return false;\n  }\n\n  onSelect($event) {\n    if (this.items.length > 0) {\n      this.selectedIndex = $event.index;\n      let selectedItem = this.items[$event.index];\n      // SDHTML-18280, SDHTML-18231\n      // Focus on the next element after menuitem is closed.\n      // We dont need to handle focus on click and enter because focus for those events will be handled by mat-tabs.\n      if (this._isMenuItemClosed) {\n        this.focusTabOnIndex(this.selectedIndex);\n        this._isMenuItemClosed = false;\n       }\n      // This condition added to avoid select emitter for parent item on selecting child item\n      if (selectedItem.children && selectedItem.children.length > 0) {\n        if (this.isChild(selectedItem, this._selectedPath)) {\n          return;\n        } else {\n          selectedItem = selectedItem.children[0];\n        }\n      }\n      this._selectedPath = selectedItem.path;\n      this.select.emit(selectedItem);\n    }\n  }\n\n  onFocusChange($event) {\n    this.focusedIndex = $event.index;\n  }\n\n  OnSelectFocusedIndex(event) {\n    this.tabLabels[this.focusedIndex].handleKeydown(event);\n  }\n\n  onChildMenuToggle(event) {\n    if (!event) {\n      // this.selectedIndex is used to ensure that it gives focus to parent element\n      // when child is selected using mouse click.\n      this.focusTabOnIndex(this.selectedIndex);\n    }\n  }\n\n  onChildSelect($event, item) {\n    this.selectedIndex = this.items.indexOf(item);\n    this._selectedPath = $event.path;\n    this.select.emit($event);\n  }\n\n  private matches(path: string, item: RufDynamicMenubarItem) {\n    if (path && item.path) {\n      if (path === item.path) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  close(item) {\n    // check if the index of the item being closed is smaller than the item that is currently selected\n    // if it is, and if the user actually closes the tab - we'll have to set the selectedIndex to selectedIndex - 1\n    // otherwise the selectedItem will change\n    // See https://etojira.fnfis.com/browse/SDHTML-16688 for details\n    this.closedItemIndexLessThanSelectedIndex = false;\n    if (this.items.indexOf(item) < this.selectedIndex) {\n      this.closedItemIndexLessThanSelectedIndex = true;\n    }\n    this._isMenuItemClosed = true;\n    this.closeEmitter.emit(item);\n  }\n\n  focusTabOnIndex(index) {\n    this._elementRef.nativeElement.getElementsByClassName('mat-tab-label')[index].focus();\n  }\n\n  _handleKeydown(event: KeyboardEvent, item: any) {\n    switch (event.keyCode) {\n      case ENTER:\n      case SPACE:\n        this.close(item);\n        event.stopPropagation();\n        break;\n      case ESCAPE:\n        this.focusTabOnIndex(this.focusedIndex);\n        event.stopPropagation();\n        break;\n      default:\n    }\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n    this.tabSubscription.unsubscribe();\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  ViewEncapsulation,\n  ElementRef,\n  ChangeDetectionStrategy,\n  Directive,\n  AfterContentInit,\n  ContentChildren,\n  QueryList,\n  HostListener,\n  OnDestroy\n} from '@angular/core';\n\nimport { RufKeyboardNavigation, RufKeyCodes } from '../input/keyboard';\nimport { RufFocusableDirective } from '../utils/focusable';\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../utils/shell-intl';\nimport { RufMixinBase, RufCanColor } from '../common/color/color';\n\n@Directive({\n  selector: 'ruf-toolbar-row' // tslint:disable-line\n})\nexport class RufToolbarRowDirective {}\n\n@Component({\n  selector: 'ruf-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufToolbarComponent extends RufMixinBase implements AfterContentInit, OnDestroy, RufCanColor {\n  private _intlChanges: Subscription;\n  private _color: string;\n  private _keyboardNav: RufKeyboardNavigation;\n  private _ariaLabel: string;\n\n  /* tslint:disable:no-input-rename */\n  @Input() color;\n\n  /* tslint:disable:no-input-rename */\n  @Input()\n  set ariaLabel(label: string) {\n    this._ariaLabel = label;\n  }\n\n  get ariaLabel() {\n    return  this._ariaLabel || this._intl.toolbar.aria.label;\n  }\n\n\n  private children = [];\n\n  @ContentChildren(RufFocusableDirective, { descendants: true })\n  toolbarItems: QueryList<RufFocusableDirective>;\n\n  constructor(public _elementRef: ElementRef,\n              private _intl: RufShellIntl,\n              changeDetectorRef: ChangeDetectorRef\n              ) {\n      super(_elementRef);\n      this._intlChanges = _intl.changes.subscribe(() => {\n        changeDetectorRef.markForCheck();\n      });\n   }\n\n  ngAfterContentInit() {\n    this._keyboardNav = new RufKeyboardNavigation();\n    this._keyboardNav.init(this._elementRef, this.toolbarItems);\n    this._keyboardNav.addTabIndex(this.toolbarItems);\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKey(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case RufKeyCodes.SPACE:\n      case RufKeyCodes.ENTER:\n        event.stopPropagation();\n        break;\n      default:\n        this._keyboardNav.onKeyDown(event);\n    }\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n\n}\n","/* tslint:disable:no-bitwise */\n/* tslint:disable:directive-selector-name */\nimport { Directive, ElementRef, OnInit, isDevMode, Input } from '@angular/core';\n\n@Directive({\n  selector: '[rufId]'\n})\nexport class RufUniqueIdDirective implements OnInit {\n  @Input() rufId: string;\n  constructor(private el: ElementRef) {}\n\n  ngOnInit() {\n    if (isDevMode()) {\n      const currentElement = this.el.nativeElement;\n      if (!currentElement.id) {\n        currentElement.id = this.rufId ? this.getUniqueId(this.rufId) : this.generateID();\n      }\n    }\n  }\n\n  /**\n   * Walks up the tree, picking up uids as it goes\n   * @param node\n   * @returns parent ID\n   */\n  private getParentID(node: any) {\n    let tempParentId = '';\n    if (node.attributes && node.attributes.id) {\n      return node.attributes.id.value;\n    }\n    if (node.parentNode) {\n      tempParentId = this.getParentID(node.parentNode);\n    }\n    return tempParentId;\n  }\n\n  /**\n   * Generates an idempotent id on the element this directive is attached to\n   * Based on the name and attributes (but ignores the angular temp name that can be different each run)\n   * @returns string\n   */\n  private generateID() {\n    const nel = this.el.nativeElement;\n    const parentID = this.getParentID(nel);\n    let tempUid = parentID === '' ? nel.tagName.toLowerCase() : parentID + '_' + nel.nodeName.toLowerCase();\n    tempUid = this.getUniqueId(tempUid);\n    return tempUid;\n  }\n\n  /**\n   * Check for unique id in DOM\n   * @returns string\n   */\n  private getUniqueId(tempId: string) {\n    let count = 0;\n    const genId = tempId + '_';\n    tempId = genId + count;\n    while (document.getElementById(tempId) !== null) {\n      count++;\n      tempId = genId + count;\n    }\n    return tempId;\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufUniqueIdDirective } from './unique-id.directive';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RufUniqueIdDirective],\n  exports: [RufUniqueIdDirective]\n})\nexport class RufUniqueIdModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufToolbarComponent, RufToolbarRowDirective } from './toolbar.component';\nimport { RufToolbarFillerDirective } from './toolbar-filler.directive';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\nimport { RufUtilsModule } from './../utils/utils.module';\n\n@NgModule({\n  imports: [CommonModule, RufUniqueIdModule, RufUtilsModule],\n  declarations: [RufToolbarComponent, RufToolbarFillerDirective, RufToolbarRowDirective],\n  exports: [RufToolbarComponent, RufToolbarFillerDirective, RufToolbarRowDirective]\n})\nexport class RufToolbarModule {}\n","import {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  ViewEncapsulation,\n  Directive,\n  ContentChild,\n  ChangeDetectionStrategy,\n  HostBinding,\n  OnDestroy\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../utils/shell-intl';\n\n@Directive({\n  selector: 'ruf-banner-row' // tslint:disable-line\n})\nexport class RufBannerRowDirective {}\n\n@Directive({\n  selector: '[rufBannerControls]' // tslint:disable-line\n})\nexport class RufBannerControlsDirective {}\n\n@Component({\n  selector: 'ruf-banner-brand',\n  template: `\n    <div rufId [class]=\"'ruf-banner-brand-logo ' + (!logoUrl && logoClass)\" *ngIf=\"showLogo\" >\n      <span hidden=\"true\" aria-hidden=\"false\" [attr.aria-label]=\"ariaLabel\"\n      [attr.aria-labelledby]=\"ariaLabelledby\">{{ariaLabel}}</span>\n      <img rufId *ngIf=\"logoUrl\" [src]=\"logoUrl\" [attr.alt]=\"altText\">\n    </div>\n    <div rufId class=\"ruf-toolbar-separator\" *ngIf=\"title && showLogo\"></div>\n    <h1 *ngIf=\"title\" class=\"ruf-banner-brand-title\">{{title}}</h1>\n  `,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufBannerBrandComponent implements OnDestroy {\n  private _intlChanges: Subscription;\n  private _altText: string;\n  private _ariaLabel: string;\n  private _ariaLabelledby: string;\n  @Input() logoUrl: string;\n  @Input() title: string;\n  @Input() logoClass = 'fis-logo';\n  @Input() showLogo = true;\n\n  @Input()\n  get altText() {\n    return this._altText || this._intl.banner.altText;\n  }\n  set altText(value: string) {\n    this._altText = value;\n  }\n\n  @Input()\n  get ariaLabel() {\n    return this._ariaLabel || this._intl.banner.aria.label;\n  }\n  set ariaLabel (value: string) {\n    this._ariaLabel = value;\n  }\n\n  @Input()\n  get ariaLabelledby() {\n    return this._ariaLabelledby || this._intl.banner.aria.labelledBy;\n  }\n  set ariaLabelledby (value: string) {\n    this._ariaLabel = value;\n  }\n\n  constructor(private _intl: RufShellIntl, changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n}\n\n@Component({\n  selector: 'ruf-banner',\n  templateUrl: './banner.component.html',\n  styleUrls: ['./banner.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufBannerComponent {\n  @Input() color: string;\n  @ContentChild(RufBannerControlsDirective, {static: false}) controls: RufBannerControlsDirective;\n\n  constructor() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufBannerComponent, RufBannerRowDirective, RufBannerBrandComponent, RufBannerControlsDirective } from './banner.component';\nimport { RufToolbarModule } from '../toolbar/toolbar.module';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\nimport { RufUtilsModule } from './../utils/utils.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RufToolbarModule,\n    RufUniqueIdModule,\n    RufUtilsModule\n  ],\n  declarations: [\n    RufBannerComponent,\n    RufBannerRowDirective,\n    RufBannerBrandComponent,\n    RufBannerControlsDirective\n  ],\n  exports: [\n    RufBannerComponent,\n    RufBannerRowDirective,\n    RufBannerBrandComponent,\n    RufBannerControlsDirective\n  ]\n})\nexport class RufBannerModule {}\n","import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  Directive,\n  HostBinding,\n  ViewEncapsulation,\n  Input,\n  ContentChild,\n  OnDestroy,\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../utils/shell-intl';\n\n@Directive({\n  selector: 'ruf-dialog-header' // tslint:disable-line\n})\nexport class RufDialogHeaderDirective {}\n\n@Directive({\n  selector: 'ruf-dialog-content' // tslint:disable-line\n})\nexport class RufDialogContentDirective {}\n\n@Directive({\n  selector: 'ruf-dialog-footer' // tslint:disable-line\n})\nexport class RufDialogFooterDirective {}\n\n@Component({\n  selector: 'ruf-dialog-panel',\n  templateUrl: 'dialog-panel.component.html',\n  styleUrls: ['dialog-panel.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufDialogPanelComponent implements OnDestroy {\n  private _intlChanges: Subscription;\n  private _closeIconTitle: string;\n  @ContentChild(RufDialogFooterDirective, {static: false}) footer: RufDialogFooterDirective;\n  @HostBinding('attr.tabindex') tabindex = 0;\n\n  @Input() separator = false;\n  @Input()\n  get closeIconTitle() {\n    return this._closeIconTitle || this._intl.dialog.closeIconTitle;\n  }\n  set closeIconTitle(value: string) {\n    this._closeIconTitle = value;\n  }\n\n  constructor(private _intl: RufShellIntl, changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n  ngOnDestroy() {\n     this._intlChanges.unsubscribe();\n  }\n\n}\n","import { MatIcon } from '@angular/material/icon';\nimport { Directive, Self, Optional, OnInit, Input, SimpleChange, OnChanges, SimpleChanges } from '@angular/core';\n\n@Directive({ selector: '[fisIcon], [rufIcon]' })\nexport class RufIconDirective implements OnChanges {\n  icon = '';\n\n  @Input()\n  set fisIcon(val: string) {\n    this.icon = val || '';\n  }\n\n  @Input()\n  set rufIcon(val: string) {\n    this.icon = val || '';\n  }\n\n  constructor(\n    @Self()\n    @Optional()\n    private matIcon: MatIcon\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    // the matIcon is intentionally left unchanged if fisIcon or rufIcon is set to empty:\n    // it is assumed that fontSet and fontIcon are changed appropriately.\n    if (this.matIcon &&\n      (\n        (changes.fisIcon && changes.fisIcon.currentValue) ||\n        (changes.rufIcon && changes.rufIcon.currentValue)\n      )) {\n      const currentIcon = changes.fisIcon ? changes.fisIcon.currentValue : changes.rufIcon.currentValue;\n      this.matIcon.fontSet = 'fisfont';\n      this.matIcon.fontIcon = 'fis-icon-' + currentIcon;\n      const chg = new SimpleChange('', this.matIcon.fontIcon, true);\n      this.matIcon.ngOnChanges({ fontIcon: chg });\n    }\n  }\n}\n","import { Directive, Input, SimpleChanges, OnChanges, ElementRef, Renderer2 } from '@angular/core';\n\n/* tslint:disable:max-line-length */\nexport const RUF_ICON_STYLE_VALUES = ['rotate-90', 'rotate-180', 'rotate-270', 'flip-horizontal', 'flip-vertical', 'spin', 'pulse', 'xs', 'sm', 'md', 'lg', 'xl'];\n\n@Directive({\n  selector: '[rufIconStyle]',\n  exportAs: 'rufIconStyle'\n})\n\nexport class RufIconStyleDirective implements OnChanges {\n  private classPrefix = 'fis-icon-';\n\n  @Input() rufIconStyle: string;\n  constructor(private renderer: Renderer2, private elementRef: ElementRef) { }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.rufIconStyle) {\n      const previous = this._validateValue(changes.rufIconStyle.previousValue);\n      const current = this._validateValue(changes.rufIconStyle.currentValue);\n      this.renderer.removeClass(this.elementRef.nativeElement, this.classPrefix + previous);\n      this.renderer.addClass(this.elementRef.nativeElement, this.classPrefix + current);\n    }\n  }\n\n  private _validateValue(val) {\n    if (RUF_ICON_STYLE_VALUES.indexOf(val) !== -1) {\n      return val;\n    }\n    return 'md';\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RufIconDirective } from './icon.directive';\nimport { RufIconStyleDirective } from './icon-style.directive';\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RufIconDirective, RufIconStyleDirective],\n  exports: [RufIconDirective, RufIconStyleDirective, MatIconModule]\n})\nexport class RufIconModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RufDialogPanelComponent } from './dialog-panel.component';\nimport { RufDialogHeaderDirective, RufDialogContentDirective, RufDialogFooterDirective } from './dialog-panel.component';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\nimport { RufIconModule } from './../icon/icon.module';\nimport { RufUtilsModule } from '../utils/utils.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatIconModule,\n    MatButtonModule,\n    MatDialogModule,\n    RufUniqueIdModule,\n    RufIconModule,\n    RufUtilsModule\n  ],\n  declarations: [RufDialogPanelComponent, RufDialogHeaderDirective, RufDialogContentDirective, RufDialogFooterDirective],\n  exports: [RufDialogPanelComponent, RufDialogHeaderDirective, RufDialogContentDirective, RufDialogFooterDirective]\n})\nexport class RufDialogPanelModule {}\n","import { Component, ViewEncapsulation, Input } from '@angular/core';\n\n@Component({\n  selector: 'ruf-labeled-icon',\n  templateUrl: './labeled-icon.component.html',\n  styleUrls: ['./labeled-icon.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufLabeledIconComponent {\n  @Input() fontSet = 'fisfont';\n  @Input() fontIcon: string;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RufLabeledIconComponent } from './labeled-icon.component';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\n\n@NgModule({\n  imports: [CommonModule, MatIconModule, RufUniqueIdModule],\n  declarations: [RufLabeledIconComponent],\n  exports: [RufLabeledIconComponent]\n})\nexport class RufLabeledIconModule {}\n","import {\n  Input,\n  Output,\n  EventEmitter,\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  HostBinding,\n  ElementRef,\n  Renderer2,\n  HostListener,\n  AfterViewInit,\n  AfterContentInit,\n  ContentChildren,\n  QueryList,\n  forwardRef\n} from '@angular/core';\n\nimport {RufMenubarItem, RufMenubarItemComponent} from './menubar-item.component';\nimport {RufKeyboardNavigation} from '../input/keyboard';\nimport {BehaviorSubject, from, Observable, Subject} from 'rxjs';\n\nimport { RufMixinBase, RufCanColor } from '../common/color/color';\n\n@Component({\n  selector: 'ruf-menubar',\n  templateUrl: './menubar.component.html',\n  styleUrls: ['./menubar.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufMenubarComponent extends RufMixinBase implements AfterViewInit, AfterContentInit, RufCanColor {\n\n  // defines which item is selected\n  private _selectedPath: string;\n  private _selectedPathSubject: Subject<string> = new BehaviorSubject(this._selectedPath);\n  private _selectedPath$: Observable<string> = from(this._selectedPathSubject);\n\n  private _activatedPathSubject: Subject<string> = new Subject();\n  private _activatedPath$: Observable<string> = from(this._activatedPathSubject);\n\n  // defines the position of the inkbar relative to the direction of the menubar\n  private _inkbarPosition: string;\n\n  // if true, selecting automatically activates the item\n  private autoActivate = true;\n\n  private _keyboardNav: RufKeyboardNavigation;\n\n  /* tslint:disable:no-input-rename */\n  @Input('activeColor') color;\n\n  @Input() direction = 'row';\n\n  /* tslint:disable:no-input-rename */\n  @Input('direction.xs') directionXs;\n  @Input('direction.sm') directionSm;\n  @Input('direction.md') directionMd;\n  @Input('direction.lg') directionLg;\n  @Input('direction.xl') directionXl;\n\n  @Input('direction.gt-xs') directionGtXs;\n  @Input('direction.gt-sm') directionGtSm;\n  @Input('direction.gt-md') directionGtMd;\n  @Input('direction.gt-lg') directionGtLg;\n\n  @Input('direction.lt-sm') directionLtSm;\n  @Input('direction.lt-md') directionLtMd;\n  @Input('direction.lt-lg') directionLtLg;\n  @Input('direction.lt-xl') directionLtXl;\n\n  /* tslint:disable:no-output-rename */\n  // Renaming output to avoid duplicate `select` identifiers\n  @Output('select') selectEmitter = new EventEmitter<RufMenubarItem>();\n\n  @ContentChildren(forwardRef(() => RufMenubarItemComponent))\n  menuItems: QueryList<RufMenubarItemComponent>;\n\n  constructor(public _elementRef: ElementRef, protected _renderer: Renderer2) {\n    super(_elementRef);\n  }\n\n  ngAfterViewInit() {\n    this.addNewKeyboardNav();\n    setTimeout(() => this.addTabIndex());\n  }\n\n  ngAfterContentInit() {\n    this.menuItems.changes.subscribe(() => {\n      this.addNewKeyboardNav();\n      if (this._keyboardNav) {\n        this._keyboardNav.setActiveItemWithoutFocus(this.selectedIndex(this.selectedPath));\n      }\n    });\n  }\n\n  addNewKeyboardNav() {\n    this._keyboardNav = new RufKeyboardNavigation();\n    this._keyboardNav.setDirection(this.direction);\n    this._keyboardNav.init(this._elementRef, this.menuItems).subscribe(item => this.select(item.path, item.data));\n  }\n\n  setActiveItem(path: string) {\n    this._keyboardNav.setActiveItemWithoutFocus(this.selectedIndex(path));\n    // if path is null, set tabindex to 0 for first menuitem\n    if (!path) {\n      this.addTabIndex();\n    }\n  }\n\n  firstChild(): RufMenubarItemComponent {\n    return this.menuItems ? this.menuItems.toArray()[0] : null;\n  }\n\n  addTabIndex() {\n    if (this.firstChild()) {\n      this.firstChild().tabindex = 0;\n    }\n  }\n\n  selectedIndex(path: string): number {\n    let index = 0;\n    if (path && this.menuItems) {\n      index = this.menuItems.toArray().findIndex(menuItem => {\n        return menuItem.matches(path);\n      });\n    }\n    return index;\n  }\n\n  select(path?: string, data?: any, event?: any) {\n    if (!path) {\n      this._selectedPath = null;\n      return;\n    }\n\n    this.selectEmitter.emit({\n      path: path,\n      data: data,\n      event: event\n    });\n\n    if (this.autoActivate) {\n      this.activate(path);\n    }\n\n    this._keyboardNav.focus(path);\n    this._activatedPathSubject.next(path);\n  }\n\n  activate(path: string) {\n    this._selectedPath = path;\n    this._selectedPathSubject.next(path);\n  }\n\n  // Selection of an item is driven by this input if it is used.\n  // Otherwise, the select method (which is invoked on click of an item) changes the selectedPath automatically.\n  // If this property setter is invoked, it turns off automatic selection.\n  // Normally, this should only happen when a selectedPath property binding is used.\n  @Input()\n  set selectedPath(path: string) {\n    this.autoActivate = false;\n    this.activate(path);\n  }\n\n  get selectedPath() {\n    return this._selectedPath;\n  }\n\n  get selectedPath$() {\n    return this._selectedPath$;\n  }\n\n  get activatedPath$() {\n    return this._activatedPath$;\n  }\n\n  @Input()\n  set inkbarPosition(position: string) {\n    this._updateInkbarPosition(position === 'start' ? position : 'end');\n  }\n\n  get inkbarPosition() {\n    return this._inkbarPosition;\n  }\n\n  getLayoutClass() {\n    return {\n      'ruf-menubar-layout': true,\n      'ruf-layout-row': this.direction !== 'column',\n      'ruf-layout-column': this.direction === 'column',\n      'ruf-layout-row-xs': this.directionXs === 'row',\n      'ruf-layout-column-xs': this.directionXs === 'column',\n      'ruf-layout-row-sm': this.directionSm === 'row',\n      'ruf-layout-column-sm': this.directionSm === 'column',\n      'ruf-layout-row-md': this.directionMd === 'row',\n      'ruf-layout-column-md': this.directionMd === 'column',\n      'ruf-layout-row-lg': this.directionLg === 'row',\n      'ruf-layout-column-lg': this.directionLg === 'column',\n      'ruf-layout-row-xl': this.directionXl === 'row',\n      'ruf-layout-column-xl': this.directionXl === 'column',\n      'ruf-layout-row-gt-xs': this.directionGtXs === 'row',\n      'ruf-layout-column-gt-xs': this.directionGtXs === 'column',\n      'ruf-layout-row-gt-sm': this.directionGtSm === 'row',\n      'ruf-layout-column-gt-sm': this.directionGtSm === 'column',\n      'ruf-layout-row-gt-md': this.directionGtMd === 'row',\n      'ruf-layout-column-gt-md': this.directionGtMd === 'column',\n      'ruf-layout-row-gt-lg': this.directionGtLg === 'row',\n      'ruf-layout-column-gt-lg': this.directionGtLg === 'column',\n      'ruf-layout-row-lt-sm': this.directionLtSm === 'row',\n      'ruf-layout-column-lt-sm': this.directionLtSm === 'column',\n      'ruf-layout-row-lt-md': this.directionLtMd === 'row',\n      'ruf-layout-column-lt-md': this.directionLtMd === 'column',\n      'ruf-layout-row-lt-lg': this.directionLtLg === 'row',\n      'ruf-layout-column-lt-lg': this.directionLtLg === 'column',\n      'ruf-layout-row-lt-xl': this.directionLtXl === 'row',\n      'ruf-layout-column-lt-xl': this.directionLtXl === 'column'\n    }\n  }\n\n  private _updateInkbarPosition(position: string) {\n    this._renderer.removeClass(this._elementRef.nativeElement, `ruf-menubar-inkbar-${this._inkbarPosition}`);\n    this._renderer.addClass(this._elementRef.nativeElement, `ruf-menubar-inkbar-${position}`);\n    this._inkbarPosition = position;\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKey(event: KeyboardEvent) {\n    if (this._keyboardNav && this._keyboardNav.isActive()) {\n      this._keyboardNav.onKeyDown(event);\n    }\n  }\n}\n","import { RufMenubarComponent } from './menubar.component';\nimport {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  Input,\n  AfterContentInit,\n  OnDestroy,\n  HostBinding,\n  HostListener,\n  ElementRef\n} from '@angular/core';\nimport { FocusableOption } from '@angular/cdk/a11y'; // Focusable interface renamed to FocusableOption in @angular/cdk beta-10\nimport { RufBaseItem } from '../common/base-item';\nimport { Subject } from 'rxjs';\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\n\nexport interface RufMenubarItem extends RufBaseItem {\n  data?: any;\n  event?: any;\n}\n\n@Component({\n  selector: 'ruf-menubar-item, [rufMenubarItem]',\n  template: `\n      <ng-content></ng-content>\n  `,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufMenubarItemComponent implements RufMenubarItem, FocusableOption, AfterContentInit, OnDestroy {\n  private unsubscribe = new Subject();\n\n  @Input() path: string;\n  @Input() data: any;\n  @Input() selectable = true;\n\n  @HostBinding('class.ruf-menu-item') menuitem = true;\n  @HostBinding('attr.role') role = 'menuitem';\n  @HostBinding('attr.tabindex') tabindex = -1;\n  @HostBinding('class.ruf-menubar-item-active') active = false;\n\n  ngAfterContentInit() {\n    this.menubar.selectedPath$.pipe(\n      takeUntil(this.unsubscribe),\n      distinctUntilChanged())\n      .subscribe( (path)  => {\n        this.active =  this.matches(path) ;\n        setTimeout(() => {\n          this.tabindex = this.active ? 0 : -1;\n          this.menubar.setActiveItem(path);\n        });\n      });\n\n    this.menubar.activatedPath$.pipe(\n      takeUntil(this.unsubscribe),\n      distinctUntilChanged())\n      .subscribe( (path)  => {\n        const match = this.matches(path);\n        setTimeout(() => this.tabindex = match ? 0 : -1);\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  // this can probably only be achieved in nav-menubar\n  // @HostBinding('attr.aria-haspopup') hasPopup = true;\n\n  constructor(protected menubar: RufMenubarComponent, protected _elementRef?: ElementRef) {}\n\n  @HostListener('click', ['$event']) onClick(event) {\n    if (!event.cancelBubble) {\n      if (this.selectable) {\n        this.menubar.select(this.path, this.data, event);\n      } else {\n        // still change activated state since user clicked on the item\n        this.menubar.activate(this.path);\n      }\n    }\n  }\n\n  focus() {\n    if (this._elementRef) {\n      this._elementRef.nativeElement.focus();\n    }\n  }\n\n  matches(selectedPath) {\n    if (selectedPath && this.path) {\n      const pattern = new RegExp('^((\\/)?' + this.path + ')(\\/.*)?$');  // use word boundary to exact match\n      if (selectedPath === this.path || pattern.test(selectedPath)) { // match with current menuitem and with parent menuitem\n        return true;\n      }\n    }\n    return false;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufMenubarItemComponent } from './menubar-item.component';\nimport { RufMenubarComponent } from './menubar.component';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\nimport { RufKeyboardNavigation } from '../input/keyboard';\n\n@NgModule({\n  imports: [CommonModule, RufUniqueIdModule],\n  providers: [RufKeyboardNavigation],\n  declarations: [RufMenubarComponent, RufMenubarItemComponent],\n  exports: [RufMenubarComponent, RufMenubarItemComponent]\n})\nexport class RufMenubarModule {}\n","import {\n  Input,\n  Output,\n  EventEmitter,\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  HostBinding,\n  HostListener,\n  ViewChild\n} from '@angular/core';\nimport { ENTER, SPACE, ESCAPE } from '@angular/cdk/keycodes';\nimport { MatMenuTrigger } from '@angular/material/menu';\nimport { RufTriggerTarget } from '../trigger/trigger.interface';\n\n// FIXME: this component should be independent of dynamic-menubar. Consider common/menu-item.ts for common interface.\nimport { RufDynamicMenubarItem } from '../dynamic-menubar/dynamic-menubar-item';\n\n@Component({\n  selector: 'ruf-menu-label',\n  templateUrl: './menu-label.component.html',\n  styleUrls: ['./menu-label.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufMenuLabelComponent implements RufTriggerTarget {\n  @Input() label = '';\n  @Input() icon = '';\n  @Input() children: RufDynamicMenubarItem[];\n  // on child menu toggle\n  @Output() toggle = new EventEmitter<boolean>();\n\n  @Output() select = new EventEmitter<RufDynamicMenubarItem>();\n  @HostBinding('class.ruf-layout-row') rowLayout = true; // tells the internal labeled-icon that it is in a row.\n  @ViewChild(MatMenuTrigger, {static: false}) trigger: MatMenuTrigger;\n\n  @Input() selectedPath: string;\n\n  @HostListener('click', ['$event'])\n  handleClick(event) {\n    // labels with children will not propagate the click event by default\n    if (this.children && this.children.length > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  hasPopup(): boolean {\n    return this.children ? this.children.length > 0 : false;\n  }\n\n  onClose() {\n    this.toggle.emit(false);\n  }\n\n  handleKeydown(event) {\n    if (!this.children || this.children.length === 0) {\n      return;\n    }\n    switch (event.keyCode) {\n      case SPACE:\n      case ENTER:\n        this.trigger.openMenu();\n        if (this.trigger.menu) {\n          // This is needed for dynamic menubar since it uses setTimeout for selecting a tab.\n          // This should be removed when we refactor dynamic menubar.\n          setTimeout(() => {\n            this.trigger.menu.focusFirstItem();\n          });\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        this.toggle.emit(true);\n        break;\n      case ESCAPE:\n        this.trigger.closeMenu();\n        this.toggle.emit(false);\n        event.stopPropagation();\n        break;\n      default:\n    }\n  }\n\n}\n","import { EventEmitter, Optional } from '@angular/core';\n\nexport interface RufTriggerTarget {\n  toggle: EventEmitter<boolean>;\n  handleKeydown(event): void;\n  handleClick(event): void;\n  hasPopup(): boolean;\n}\n\n/**\n * Throws an exception for the case when dropdown trigger doesn't have a valid ruf-dropdown-panel instance\n * @docs-private\n */\nexport function throwTargetMissingError() {\n  throw Error(`rufTrigger: must pass in RufTriggerTarget instance.\n    Example:\n    <button [rufTrigger]=\"menuLabel\">Open menu</button>\n    <ruf-menu-label #menuLabel ...></ruf-menu-label>\n    `);\n}\n","import {\n  Directive,\n  ElementRef,\n  Renderer2,\n  HostBinding,\n  HostListener,\n  Input,\n  OnDestroy,\n  AfterViewInit\n} from '@angular/core';\nimport { CdkOverlayOrigin } from '@angular/cdk/overlay';\nimport { Subscription } from 'rxjs';\nimport { RufTriggerTarget } from './trigger.interface';\nimport { throwTargetMissingError } from './trigger.interface';\n\n@Directive({\n  selector: '[rufTrigger]',\n  exportAs: 'rufTrigger'\n})\nexport class RufTriggerDirective extends CdkOverlayOrigin implements AfterViewInit, OnDestroy {\n  /* tslint:disable:no-input-rename */\n  @Input('rufTrigger') target: RufTriggerTarget;\n  private subscription = Subscription.EMPTY;\n\n  constructor(private elRef: ElementRef, private renderer: Renderer2) {\n    super(elRef);\n  }\n\n  ngAfterViewInit() {\n    this._checkTarget();\n    if (this.target.hasPopup()) {\n      this.renderer.setAttribute(this.elRef.nativeElement, 'aria-haspopup', 'true');\n      this.renderer.setAttribute(this.elRef.nativeElement, 'aria-expanded', 'false');\n    } else {\n      this.renderer.removeAttribute(this.elRef.nativeElement, 'aria-haspopup');\n      this.renderer.removeAttribute(this.elRef.nativeElement, 'aria-expanded');\n    }\n    if (this.subscription === Subscription.EMPTY) {\n      this.subscription = this.target.toggle.subscribe((opened) => {\n        this.renderer.setAttribute(this.elRef.nativeElement, 'aria-expanded', opened ? 'true' : 'false');\n        if (!opened) {\n          this.elRef.nativeElement.focus();\n        }\n      });\n    }\n  }\n\n  @HostListener('click', ['$event'])\n  handleClickEvent (event) {\n    this.target.handleClick(event);\n  }\n\n  @HostListener('keydown', ['$event'])\n  handleKeydownEvent(event) {\n    this.target.handleKeydown(event);\n  }\n\n  _checkTarget() {\n    if (!this.target) {\n      throwTargetMissingError();\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufTriggerDirective } from './trigger.directive';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RufTriggerDirective],\n  exports: [RufTriggerDirective]\n})\nexport class RufTriggerModule {}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { RufLabeledIconModule } from '../labeled-icon/labeled-icon.module';\n\nimport { RufMenuLabelComponent } from './menu-label.component';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\nimport { RufIconModule } from '../icon/icon.module';\nimport { RufTriggerModule } from '../trigger/trigger.module';\n\n@NgModule({\n  imports: [CommonModule,\n     MatMenuModule,\n     MatIconModule,\n     RufLabeledIconModule,\n     RufUniqueIdModule,\n     RufIconModule,\n    RufTriggerModule\n  ],\n  declarations: [RufMenuLabelComponent],\n  exports: [RufMenuLabelComponent]\n})\nexport class RufMenuLabelModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTabsModule } from '@angular/material/tabs';\n\nimport { RufLabeledIconModule } from '../labeled-icon/labeled-icon.module';\n\nimport { RufMenubarModule } from '../menubar/menubar.module';\nimport { RufMenuLabelModule } from '../menu-label/menu-label.module';\nimport { RufDynamicMenubarComponent } from './dynamic-menubar.component';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\nimport { RufUtilsModule } from './../utils/utils.module';\nimport { RufIconModule } from './../icon/icon.module';\nimport { RufTriggerModule } from '../trigger/trigger.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatTabsModule,\n    MatButtonModule,\n    RufLabeledIconModule,\n    RufMenubarModule,\n    RufMenuLabelModule,\n    RufUniqueIdModule,\n    RufUtilsModule,\n    RufIconModule,\n    RufTriggerModule\n  ],\n  declarations: [RufDynamicMenubarComponent],\n  exports: [RufDynamicMenubarComponent]\n})\nexport class RufDynamicMenubarModule {}\n","import {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  ElementRef,\n  Renderer2,\n  EventEmitter,\n  Input,\n  Inject,\n  Output,\n  ViewChild,\n  HostBinding,\n  ViewChildren,\n  QueryList\n} from '@angular/core';\nimport { MediaObserver } from '@angular/flex-layout';\n\nimport { RufDynamicSidemenuItem } from './dynamic-sidemenu-item';\nimport { MatMenuTrigger } from '@angular/material/menu';\nimport {DOCUMENT} from '@angular/common';\nimport { ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { RufMenubarItem } from '../menubar//menubar-item.component';\nimport { RufToggleDirective } from '../toggle/toggle.directive';\n\n@Component({\n  selector: 'ruf-dynamic-sidemenu',\n  templateUrl: './dynamic-sidemenu.component.html',\n  styleUrls: ['./dynamic-sidemenu.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufDynamicSideMenuComponent {\n  @Input() items: RufDynamicSidemenuItem[] = [];\n  @Input() popupBackgroundClass: string\n  sideMenuPopupData: RufDynamicSidemenuItem;\n\n  @ViewChild(MatMenuTrigger, {static: false}) public menuTrigger: MatMenuTrigger;\n  @ViewChild('menuTrigger', {static: false}) public trigger: ElementRef;\n\n  /* tslint:disable:no-input-rename */\n  /* tslint:disable:no-output-rename */\n\n  @Input('selectedPath') _selectedPath: string;\n\n  @Input('activeColor') _activeColor: string;\n\n  @Input('inkbarPosition') _inkbarPosition = this._inkbarPosition || 'start';\n\n  @Input('multi') multi = true;\n\n  @Output('select') _select = new EventEmitter<RufDynamicSidemenuItem>();\n  @ViewChildren('trigger') private _triggers: QueryList<RufToggleDirective>;\n\n  // @HostBinding('class.ruf-dynamic-sidemenu-minimized')\n  @Input() minimized = false;\n  @Input('minimized.xs') minimizedXs = false;\n  @Input('minimized.sm') minimizedSm = false;\n  @Input('minimized.md') minimizedMd = false;\n  @Input('minimized.lg') minimizedLg = false;\n  @Input('minimized.xl') minimizedXl = false;\n\n  @Input('minimized.gt-xs') minimizedGtXs = false;\n  @Input('minimized.gt-sm') minimizedGtSm = false;\n  @Input('minimized.gt-md') minimizedGtMd = false;\n  @Input('minimized.gt-lg') minimizedGtLg = false;\n\n\n  constructor(\n   @Inject(DOCUMENT) private document,\n   private _renderer: Renderer2,\n   private _mediaObserver: MediaObserver,\n   private _elementRef: ElementRef) {\n\n  }\n\n\n  isMinimized() {\n    return [\n       this.minimized,\n       this.minimizedXs && this._mediaObserver.isActive('xs'),\n       this.minimizedSm && this._mediaObserver.isActive('sm'),\n       this.minimizedMd && this._mediaObserver.isActive('md'),\n       this.minimizedLg && this._mediaObserver.isActive('lg'),\n       this.minimizedXl && this._mediaObserver.isActive('xl'),\n       this.minimizedGtXs && this._mediaObserver.isActive('gt-xs'),\n       this.minimizedGtSm && this._mediaObserver.isActive('gt-sm'),\n       this.minimizedGtMd && this._mediaObserver.isActive('gt-md'),\n       this.minimizedGtLg && this._mediaObserver.isActive('gt-lg')\n      ].some(x => x === true);\n  }\n\n\n  onSelect($event: RufMenubarItem) {\n    if (!($event.data && $event.data.children)) {\n      this._selectedPath = $event.path;\n      this._select.emit($event.data);\n    } else if ($event && $event.event) {\n      $event.event.preventDefault();\n      $event.event.stopPropagation();\n    }\n  }\n\n  getRufId(item): string { // return id for sidemenu items.\n   return 'dynamic_sidemenu_' + item.label.toLowerCase().replace(/ /g, '_');\n  }\n\n  closeMenu() {\n    this.menuTrigger.closeMenu();\n  }\n\n  setPopupData(event, data) {\n    this.sideMenuPopupData = data\n    event.currentTarget.classList.add('ruf-active')\n    // focus on the first menu item\n    setTimeout(() => {\n      const cdkOverlayClass = `.ruf-sidemenu-popup-backdrop + .cdk-overlay-connected-position-bounding-box`;\n      const cdkOverlayElement: HTMLElement = this.document.querySelector(cdkOverlayClass);\n      if (cdkOverlayElement) {\n        // set left position for cdkOverlay based on the position of menuitem.\n        // so we need to get left and width value from BoundingClientRect;\n        const rufMenuItem = this._elementRef.nativeElement.querySelector('.ruf-menu-item');\n        const rufMenuItemClientTect =   rufMenuItem.getBoundingClientRect();\n        cdkOverlayElement.style.left = rufMenuItemClientTect.left + rufMenuItemClientTect.width + 'px';\n        const firstMenuItem: HTMLElement = this.document.querySelector(`${cdkOverlayClass} .ruf-menu-item`);\n        if (firstMenuItem) {\n          firstMenuItem.focus();\n        }\n      }\n    });\n  }\n\n  onPopupClose() {\n    // remove active class when popop is closed\n    const currentActiveItem  = this._elementRef.nativeElement.querySelector('.ruf-menu-item.ruf-active');\n    if (currentActiveItem) {\n      currentActiveItem.focus();\n      this._renderer.removeClass(currentActiveItem, 'ruf-active');\n    }\n  }\n\n  keyHandler(event) {\n    switch (event.keyCode) {\n      case ENTER:\n      case SPACE:\n        event.currentTarget.click();\n        break;\n      default:\n    }\n  }\n\n  getOverlayClasses() {\n    const colorClass =  this._activeColor ? `ruf-${this._activeColor}` : ``;\n    return `${this.popupBackgroundClass} ${colorClass} ruf-menubar-inkbar-${this._inkbarPosition}`;\n  }\n\n  toggleChildItems(currentTrigger: RufToggleDirective): void {\n    if (this.multi === false) {\n      this._triggers.toArray()\n      .filter((element: RufToggleDirective) => element.value === true && element !== currentTrigger)\n      .forEach((element: any) => {\n        element.value = false;\n      });\n    }\n  }\n}\n","import { Directive, ElementRef, HostBinding, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { CdkOverlayOrigin } from '@angular/cdk/overlay';\n\n/**\n * Directive that can be applied on any element, and that toggles an attribute that can be used by the underlying element as need be.\n */\n@Directive({\n  selector: '[rufToggle], [rufToggleChevron], [rufToggleArrow]',\n  exportAs: 'rufToggle'\n})\nexport class RufToggleDirective extends CdkOverlayOrigin {\n  // boolean property that gets toggled when the underlying element is clicked\n  // tslint:disable-next-line:no-input-rename\n  @HostBinding('class.ruf-toggle-active') value = false;\n\n  @HostBinding('class.ruf-toggle-chevron') chevron = false;\n\n  @HostBinding('class.ruf-toggle-arrow') arrow = false;\n\n   @HostBinding('class.ruf-active')\n   get active() {\n      return this.value;\n    }\n\n  @Input()\n  set rufToggle(val: boolean) {\n    this.value = val || false;\n  }\n\n  @Input()\n  set rufToggleChevron(val: boolean) {\n    this.arrow = false;\n    this.chevron = true;\n    this.value = val || false;\n  }\n\n  @Input()\n  set rufToggleArrow(val: boolean) {\n    this.arrow = true;\n    this.chevron = false;\n    this.value = val || false;\n  }\n\n  @Output() toggleChange: EventEmitter<any> = new EventEmitter<any>();\n\n  @HostBinding('class.ruf-toggle') toggle = true;\n\n  constructor(private elRef: ElementRef) {\n    super(elRef);\n  }\n\n  @HostBinding('class.ruf-toggle-normal')\n  get normal() {\n    return !this.chevron && !this.arrow;\n  }\n\n  // select should focus the element and toggle value\n  select(event) {\n    this.elRef.nativeElement.focus();\n    this.toggleValue(event);\n  }\n\n  toggleValue(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    // For Safari browser, event.stopPropagation() is not setting the value of\n    // event.cancelBubble as true. So, we need to explicitly set it.\n    event.cancelBubble = true;\n    this.value = !this.value;\n    this.toggleChange.emit({trigger: this.elRef, value: this.value, event: event});\n  }\n\n  @HostListener('click', ['$event'])\n  onClick(event) {\n    this.toggleValue(event);\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKey(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case ENTER:\n      case SPACE:\n        this.toggleValue(event);\n        break;\n      default:\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule } from '@angular/cdk/overlay';\n\nimport { RufToggleDirective } from './toggle.directive';\n\n@NgModule({\n  imports: [CommonModule, OverlayModule],\n  declarations: [RufToggleDirective],\n  exports: [RufToggleDirective]\n})\nexport class RufToggleModule {}\n","import {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  Input,\n  HostBinding,\n  HostListener,\n  Inject,\n  forwardRef,\n  ElementRef\n} from '@angular/core';\nimport { RufMenubarItemComponent, RufMenubarItem } from '../menubar/menubar-item.component';\nimport { RufSidemenuComponent } from './sidemenu.component';\n\n@Component({\n  selector: 'ruf-sidemenu-item, [rufSidemenuItem]',\n  template: `\n      <ng-content></ng-content>\n  `,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufSidemenuItemComponent extends RufMenubarItemComponent {\n  constructor(\n    @Inject(forwardRef(() => RufSidemenuComponent))\n    protected menubar: RufSidemenuComponent,\n    protected _elementRef?: ElementRef\n  ) {\n    super(menubar);\n  }\n}\n","import {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  ElementRef,\n  Renderer2,\n  ContentChildren,\n  QueryList,\n  forwardRef,\n  HostBinding\n} from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RufMenubarComponent } from '../menubar/menubar.component';\nimport { RufSidemenuItemComponent } from './sidemenu-item.component';\n\n@Component({\n  selector: 'ruf-sidemenu',\n  templateUrl: '../menubar/menubar.component.html',\n  styleUrls: ['./sidemenu.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [RufMenubarComponent],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufSidemenuComponent extends RufMenubarComponent {\n  direction = 'column';\n  inkbarPosition = 'start';\n\n  @HostBinding('attr.aria-orientation') orientation = 'vertical';\n\n  @ContentChildren(forwardRef(() => RufSidemenuItemComponent))\n  menuItems: QueryList<RufSidemenuItemComponent>;\n\n  constructor(_elementRef: ElementRef, _renderer: Renderer2) {\n    super(_elementRef, _renderer);\n  }\n}\n","import { trigger, state, style, transition, animate } from '@angular/animations';\nimport {\n  Component,\n  HostBinding,\n  ViewEncapsulation,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  ContentChildren,\n  QueryList,\n  forwardRef,\n  AfterContentInit,\n  ElementRef,\n  HostListener\n} from '@angular/core';\nimport { RufSidemenuItemComponent } from './sidemenu-item.component';\nimport { RufKeyboardNavigation, RufKeyCodes } from '../input/keyboard';\nimport { RufSidemenuComponent } from './sidemenu.component';\nimport { RufToggleDirective } from '../toggle/toggle.directive';\n\n/**\n * description\n */\n@Component({\n  selector: `[rufSidemenuChildren], ruf-sidemenu-children`,\n  exportAs: 'rufSidemenuChildren',\n  template: `<div (@visible.done)=\"setActiveItem($event)\" [@visible]=\"visible\"><ng-content></ng-content></div>`,\n  encapsulation: ViewEncapsulation.None,\n  animations: [\n    trigger('visible', [\n      state('0', style({\n        height: 0\n      })),\n      state('1', style({\n        height: '*'\n      })),\n      transition('0 => 1', animate('300ms ease-in-out')),\n      transition('1 => 0', animate('300ms ease-in-out'))\n    ])\n  ]\n})\nexport class RufSidemenuChildrenComponent implements OnChanges, AfterContentInit {\n  @Input() visible = true;\n  @Input() menuTrigger: RufToggleDirective;\n  @HostBinding('class.ruf-sidemenu-children') sidemenuChildren = true;\n  @HostBinding('@visible') visibleState: boolean;\n\n  private _keyboardSideNav: RufKeyboardNavigation;\n  @ContentChildren(forwardRef(() => RufSidemenuItemComponent))\n  childItems: QueryList<RufSidemenuItemComponent>;\n\n  constructor(private _elementRef: ElementRef, private sidemenuComp: RufSidemenuComponent) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.visible) {\n      this.visibleState = changes.visible.currentValue;\n    }\n  }\n\n  ngAfterContentInit() {\n    if (this.childItems && this.childItems.length > 0) {\n      this._keyboardSideNav = new RufKeyboardNavigation();\n      this._keyboardSideNav.init(this._elementRef, this.childItems).subscribe(path => {\n        this.sidemenuComp.select(path.path, path.data);\n      });\n    }\n  }\n\n  setActiveItem(event) {\n    // set active item when parent is clicked\n    if (event.toState) {\n      this._keyboardSideNav.setActiveItem(0);\n    }\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKey(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case RufKeyCodes.ESCAPE:\n        if (this.menuTrigger) {\n          this.menuTrigger.select(event);\n        }\n        break;\n      default:\n        if (this._keyboardSideNav && this._keyboardSideNav.isActive()) {\n          this._keyboardSideNav.onKeyDown(event);\n        }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufMenubarModule } from '../menubar/menubar.module';\nimport { RufSidemenuComponent } from './sidemenu.component';\nimport { RufSidemenuItemComponent } from './sidemenu-item.component';\nimport { RufSidemenuChildrenComponent } from './sidemenu-children.component';\nimport { RufToggleModule } from '../toggle/toggle.module';\n\n@NgModule({\n  imports: [CommonModule, RufMenubarModule, RufToggleModule],\n  declarations: [RufSidemenuComponent, RufSidemenuItemComponent, RufSidemenuChildrenComponent],\n  exports: [RufSidemenuComponent, RufSidemenuItemComponent, RufSidemenuChildrenComponent]\n})\nexport class RufSidemenuModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufDynamicSideMenuComponent } from './dynamic-sidemenu.component';\nimport { RufUniqueIdModule } from '../unique-id/unique-id.module';\nimport { RufToggleModule } from '../toggle/toggle.module';\nimport { RufLabeledIconModule } from '../labeled-icon/labeled-icon.module';\nimport { RufSidemenuModule } from '../sidemenu/sidemenu.module';\nimport { RufIconModule } from '../icon/icon.module';\n\nimport { MatMenuModule } from '@angular/material/menu';\nimport { RufUtilsModule } from '../utils/utils.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RufUtilsModule,\n    RufUniqueIdModule,\n    RufToggleModule,\n    RufLabeledIconModule,\n    RufSidemenuModule,\n    RufIconModule,\n    FlexLayoutModule,\n    MatMenuModule\n  ],\n  declarations: [RufDynamicSideMenuComponent],\n  exports: [RufDynamicSideMenuComponent]\n})\nexport class RufDynamicSideMenuModule { }\n","import { Component, OnInit, ViewEncapsulation, Directive, ContentChild, HostBinding } from '@angular/core';\n\n@Directive({\n  selector: '[rufFooterControls]'\n})\nexport class RufFooterControlsDirective {}\n\n@Component({\n  selector: 'ruf-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufFooterComponent implements OnInit {\n  @HostBinding('attr.role') role = 'contentinfo';\n\n  @ContentChild(RufFooterControlsDirective, {static: false}) controls: RufFooterControlsDirective;\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufFooterComponent, RufFooterControlsDirective } from './footer.component';\nimport { RufToolbarModule } from '../toolbar/toolbar.module';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\n\n@NgModule({\n  imports: [CommonModule, RufToolbarModule, RufUniqueIdModule],\n  declarations: [RufFooterComponent, RufFooterControlsDirective],\n  exports: [RufFooterComponent, RufFooterControlsDirective]\n})\nexport class RufFooterModule {}\n","import { MatButton } from '@angular/material/button';\nimport { Input, HostBinding, Directive, Self, Optional } from '@angular/core';\n\n@Directive({\n  selector: '[rufIconButton]',\n  exportAs: 'rufIconButton'\n})\nexport class RufIconButtonDirective {\n  private _active = false;\n  private _dark = false;\n  private _activeClass = 'activeClass';\n\n  @Input() fontSet = 'fisfont';\n  @Input() fontIcon: string;\n\n  // can be used in a container that supports the ruf-square class\n  @HostBinding('class.ruf-square') square = true;\n  @HostBinding('class.ruf-background-dark') darkClass = this._dark;\n  @HostBinding('class.ruf-background-darker') activeClass = false;\n  @HostBinding('class.ruf-background-primary-dark') primaryClass = false;\n\n  @HostBinding('style.transition') transition = 'background-color 1s ease';\n\n  @HostBinding('attr.tabindex') tabindex = 0;\n\n  constructor(\n    @Self()\n    @Optional()\n    _matButton: MatButton\n  ) {\n    if (_matButton) {\n      _matButton.disableRipple = true;\n    }\n  }\n\n  @Input()\n  set activeColor(color) {\n    if (color === 'primary') {\n      this._activeClass = 'primaryClass';\n    }\n  }\n\n  @Input()\n  set active(isActive: boolean) {\n    this._active = !!isActive;\n    this[this._activeClass] = this._active;\n  }\n\n  get active() {\n    return this._active;\n  }\n\n  @Input()\n  set dark(isActive) {\n    this._dark = isActive;\n    this.darkClass = <any>isActive === '' || isActive;\n  }\n\n  get dark() {\n    return this._dark;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { RufIconButtonDirective } from './icon-button.directive';\n\n@NgModule({\n  imports: [CommonModule, MatButtonModule],\n  declarations: [RufIconButtonDirective],\n  exports: [RufIconButtonDirective]\n})\nexport class RufIconButtonModule {}\n","import {\n  SimpleChanges,\n  ElementRef,\n  ViewContainerRef,\n  TemplateRef,\n  OnDestroy,\n  OnChanges,\n  OnInit,\n  Input,\n  Directive, ChangeDetectorRef\n} from '@angular/core';\n\nimport {\n  MediaChange,\n  BaseDirective,\n  MediaMonitor,\n  StyleUtils\n} from '@angular/flex-layout';\n\nconst FALSY = ['false', false, 0];\n\n@Directive({\n  selector: `\n    [rufIfXs],\n    [rufIfGtXs],\n    [rufIfSm],\n    [rufIfGtSm],\n    [rufIfMd],\n    [rufIfGtMd],\n    [rufIfLg],\n    [rufIfGtLg],\n    [rufIfXl]\n  `\n})\nexport class RufIfDirective extends BaseDirective implements OnInit, OnChanges, OnDestroy {\n  private isAlreadyInserted = false;\n\n  @Input('rufIfXs')\n  set rufIfXs(val) {\n    this._cacheInput('rufIfXs', val);\n  }\n\n  @Input('rufIfGtXs')\n  set rufIfGtXs(val) {\n    this._cacheInput('rufIfGtXs', val);\n  }\n\n  @Input('rufIfSm')\n  set rufIfSm(val) {\n    this._cacheInput('rufIfSm', val);\n  }\n\n  @Input('rufIfGtSm')\n  set rufIfGtSm(val) {\n    this._cacheInput('rufIfGtSm', val);\n  }\n\n  @Input('rufIfMd')\n  set rufIfMd(val) {\n    this._cacheInput('rufIfMd', val);\n  }\n\n  @Input('rufIfGtMd')\n  set rufIfGtMd(val) {\n    this._cacheInput('rufIfGtMd', val);\n  }\n\n  @Input('rufIfLg')\n  set rufIfLg(val) {\n    this._cacheInput('rufIfLg', val);\n  }\n\n  @Input('rufIfGtLg')\n  set rufIfGtLg(val) {\n    this._cacheInput('rufIfGtLg', val);\n  }\n\n  @Input('rufIfXl')\n  set rufIfXl(val) {\n    this._cacheInput('rufIfXl', val);\n  }\n\n  constructor(\n    private templateRef: TemplateRef<any>,\n    private viewContainer: ViewContainerRef,\n    monitor: MediaMonitor,\n    protected elRef: ElementRef,\n    protected styleUtils: StyleUtils,\n    protected changeDetectorRef: ChangeDetectorRef\n  ) {\n    super(monitor, elRef, styleUtils);\n  }\n\n  protected _getDisplayStyle(): string {\n    // this is not used for rufIf, only prevents error from being throw as BaseDirective invokes it\n    return 'block';\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['rufIf'] != null || this._mqActivation) {\n      this._updateWithValue();\n    }\n  }\n\n  ngOnInit() {\n    this._listenForMediaQueryChanges('rufIf', false, (changes: MediaChange) => {\n      this._updateWithValue(changes.value);\n      this.changeDetectorRef.markForCheck();\n    });\n    this._updateWithValue();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n  }\n\n  private _updateWithValue(value?: string | number | boolean) {\n    value = value || this._getDefaultVal('rufIf', false);\n    if (this._mqActivation) {\n      value = this._mqActivation.activatedInput;\n    }\n\n    const shouldShow = this._validateTruthy(value);\n    this._update(shouldShow);\n  }\n\n  // Insert or remove the template\n  private _update(value) {\n    if (value && !this.isAlreadyInserted) {\n      this.viewContainer.createEmbeddedView(this.templateRef);\n      this.isAlreadyInserted = true;\n    } else if (!value && this.isAlreadyInserted) {\n      this.viewContainer.clear();\n      this.isAlreadyInserted = false;\n    }\n  }\n\n  private _validateTruthy(value) {\n    return FALSY.indexOf(value) === -1;\n  }\n}\n","import { Directive, HostBinding, Input, OnChanges, SimpleChanges, Renderer2, ElementRef } from '@angular/core';\n\nexport const RUF_PADDING_VALUES = ['none', 'auto', 'small', 'medium', 'large'];\n\n@Directive({\n  selector: `\n    [rufPadding],\n    [rufPaddingVertical],\n    [rufPaddingHorizontal],\n    [rufPaddingTop],\n    [rufPaddingRight],\n    [rufPaddingBottom],\n    [rufPaddingLeft]\n  `,\n  exportAs: 'rufPadding'\n})\nexport class RufPaddingDirective implements OnChanges {\n  private classPrefix = 'ruf-padding';\n\n  private _positions = {\n    rufPadding: ['-'],\n    rufPaddingVertical: ['-top-', '-bottom-'],\n    rufPaddingHorizontal: ['-left-', '-right-'],\n    rufPaddingTop: ['-top-'],\n    rufPaddingRight: ['-right-'],\n    rufPaddingBottom: ['-bottom-'],\n    rufPaddingLeft: ['-left-']\n  };\n\n  @Input() rufPadding = '';\n  @Input() rufPaddingVertical = '';\n  @Input() rufPaddingHorizontal = '';\n  @Input() rufPaddingTop = '';\n  @Input() rufPaddingRight = '';\n  @Input() rufPaddingBottom = '';\n  @Input() rufPaddingLeft = '';\n\n  @HostBinding('class.ruf-padding') padding = true;\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    Object.keys(changes).forEach(key => {\n      this.update(key, changes[key]);\n    });\n  }\n\n  private update(key, change) {\n    const previous = this._validateValue(change.previousValue);\n    const current = this._validateValue(change.currentValue);\n    const positions = this._positions[key];\n\n    positions.forEach(pos => {\n      // remove\n      this.renderer.removeClass(this.el.nativeElement, this.classPrefix + pos + previous);\n      // add\n      this.renderer.addClass(this.el.nativeElement, this.classPrefix + pos + current);\n    });\n  }\n\n  private _validateValue(val) {\n    if (RUF_PADDING_VALUES.indexOf(val) !== -1) {\n      return val;\n    }\n    return 'medium';\n  }\n}\n","import { Directive, HostBinding, Input, OnChanges, SimpleChanges, Renderer2, ElementRef } from '@angular/core';\n\nexport const RUF_MARGIN_VALUES = ['none', 'auto', 'small', 'medium', 'large'];\n\n@Directive({\n  selector: `\n    [rufMargin],\n    [rufMarginVertical],\n    [rufMarginHorizontal],\n    [rufMarginTop],\n    [rufMarginRight],\n    [rufMarginBottom],\n    [rufMarginLeft]\n  `,\n  exportAs: 'rufMargin'\n})\nexport class RufMarginDirective implements OnChanges {\n  private classPrefix = 'ruf-margin';\n\n  private _positions = {\n    rufMargin: ['-'],\n    rufMarginVertical: ['-top-', '-bottom-'],\n    rufMarginHorizontal: ['-left-', '-right-'],\n    rufMarginTop: ['-top-'],\n    rufMarginRight: ['-right-'],\n    rufMarginBottom: ['-bottom-'],\n    rufMarginLeft: ['-left-']\n  };\n\n  @Input() rufMargin = '';\n  @Input() rufMarginVertical = '';\n  @Input() rufMarginHorizontal = '';\n  @Input() rufMarginTop = '';\n  @Input() rufMarginRight = '';\n  @Input() rufMarginBottom = '';\n  @Input() rufMarginLeft = '';\n\n  @HostBinding('class.ruf-margin') margin = true;\n\n  constructor(private el: ElementRef, private renderer: Renderer2) {}\n\n  ngOnChanges(changes: SimpleChanges) {\n    Object.keys(changes).forEach(key => {\n      this.update(key, changes[key]);\n    });\n  }\n\n  private update(key, change) {\n    const previous = this._validateValue(change.previousValue);\n    const current = this._validateValue(change.currentValue);\n    const positions = this._positions[key];\n\n    positions.forEach(pos => {\n      // remove\n      this.renderer.removeClass(this.el.nativeElement, this.classPrefix + pos + previous);\n      // add\n      this.renderer.addClass(this.el.nativeElement, this.classPrefix + pos + current);\n    });\n  }\n\n  private _validateValue(val) {\n    if (RUF_MARGIN_VALUES.indexOf(val) !== -1) {\n      return val;\n    }\n    return 'medium';\n  }\n}\n","import { FlexLayoutModule } from '@angular/flex-layout';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufMarginDirective } from './margin.directive';\nimport { RufPaddingDirective } from './padding.directive';\nimport { RufIfDirective } from './ruf-if.directive';\n\n@NgModule({\n  imports: [CommonModule, FlexLayoutModule],\n  declarations: [RufMarginDirective, RufPaddingDirective, RufIfDirective],\n  exports: [RufMarginDirective, RufPaddingDirective, RufIfDirective, FlexLayoutModule]\n})\nexport class RufLayoutModule {}\n","import { Component, Directive, OnInit, ViewEncapsulation, Input } from '@angular/core';\n\n@Directive({\n  selector: 'ruf-page-header-row' // tslint:disable-line\n})\nexport class RufPageHeaderRowDirective {}\n\n@Component({\n  selector: 'ruf-page-header-icon',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <div><ng-content></ng-content></div>\n  `\n})\nexport class RufPageHeaderIconComponent {}\n\n@Component({\n  selector: 'ruf-page-header-title',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <ng-content></ng-content>\n  `\n})\nexport class RufPageHeaderTitleComponent {}\n\n@Component({\n  selector: 'ruf-page-header-description',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <ng-content></ng-content>\n  `\n})\nexport class RufPageHeaderDescriptionComponent {}\n\n@Component({\n  selector: 'ruf-page-header',\n  templateUrl: './page-header.component.html',\n  styleUrls: ['./page-header.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufPageHeaderComponent {\n  @Input() name: string;\n  @Input() title: string;\n  @Input() description: string;\n  @Input() icon: string;\n  @Input() color: string;\n\n  constructor() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n  RufPageHeaderComponent,\n  RufPageHeaderTitleComponent,\n  RufPageHeaderDescriptionComponent,\n  RufPageHeaderIconComponent,\n  RufPageHeaderRowDirective\n} from './page-header.component';\nimport { RufToolbarModule } from '../toolbar/toolbar.module';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\n\n@NgModule({\n  imports: [CommonModule, RufToolbarModule, RufUniqueIdModule],\n  declarations: [\n    RufPageHeaderComponent,\n    RufPageHeaderTitleComponent,\n    RufPageHeaderDescriptionComponent,\n    RufPageHeaderIconComponent,\n    RufPageHeaderRowDirective\n  ],\n  exports: [\n    RufPageHeaderComponent,\n    RufPageHeaderTitleComponent,\n    RufPageHeaderDescriptionComponent,\n    RufPageHeaderIconComponent,\n    RufPageHeaderRowDirective\n  ]\n})\nexport class RufPageHeaderModule {}\n","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'ruf-app-canvas',\n  templateUrl: './app-canvas.component.html',\n  styleUrls: ['./app-canvas.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufAppCanvasComponent {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufAppCanvasComponent } from './app-canvas.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RufAppCanvasComponent],\n  exports: [RufAppCanvasComponent]\n})\nexport class RufAppCanvasModule {}\n","import { Injectable } from '@angular/core';\nimport { Observable, from, BehaviorSubject } from 'rxjs';\n\n@Injectable()\nexport class RufLocaleService {\n  private _locale = 'en';\n  private _localeSubject: BehaviorSubject<string> = new BehaviorSubject(this._locale);\n  private _locale$: Observable<string> = from(this._localeSubject);\n\n  set locale(locale: string) {\n    this._locale = locale;\n    this._localeSubject.next(locale);\n  }\n\n  get locale(): string {\n    return this._locale;\n  }\n\n  get locale$(): Observable<string> {\n    return this._locale$;\n  }\n}\n","import { Pipe, PipeTransform, OnDestroy } from '@angular/core';\nimport { CurrencyPipe } from '@angular/common';\nimport { RufLocaleService } from './locale.service';\n\n@Pipe({\n  name: 'rufCurrency',\n  pure: false\n})\nexport class RufCurrencyPipe implements PipeTransform, OnDestroy {\n  private currencyPipe;\n  private subscription;\n\n  constructor(private localeService: RufLocaleService) {\n    this.subscription = localeService.locale$.subscribe(data => {\n      this.currencyPipe = new CurrencyPipe(data);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  transform(value: number, currencyCode: string, symbolDisplay: boolean, digits: number): number {\n    return this.currencyPipe.transform(value, currencyCode, symbolDisplay, digits);\n  }\n}\n","import { Pipe, PipeTransform, OnDestroy } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport { RufLocaleService } from './locale.service';\n\n@Pipe({\n  name: 'rufDate',\n  pure: false\n})\nexport class RufDatePipe implements PipeTransform, OnDestroy {\n  private datePipe: DatePipe;\n  private subscription;\n\n  constructor(private localeService: RufLocaleService) {\n    this.subscription = localeService.locale$.subscribe(data => {\n      this.datePipe = new DatePipe(data);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  transform(value: string, pattern?: string): string {\n    return this.datePipe.transform(value, pattern);\n  }\n}\n","import { LOCALE_ID, ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufLocaleService } from './locale.service';\nimport { RufDatePipe } from './date.pipe';\nimport { RufCurrencyPipe } from './currency.pipe';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RufDatePipe, RufCurrencyPipe],\n  exports: [RufDatePipe, RufCurrencyPipe]\n})\nexport class RufI18nModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: RufI18nModule,\n      providers: [{ provide: LOCALE_ID, useFactory: localeFactory, deps: [RufLocaleService] }, RufLocaleService]\n    };\n  }\n}\n\nexport function localeFactory(localeService: RufLocaleService) {\n  return localeService.locale;\n}\n","import {\n  Component,\n  EventEmitter,\n  HostListener,\n  TemplateRef,\n  ViewEncapsulation,\n  Input,\n  Output,\n  ViewChild,\n  ViewContainerRef,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { TemplatePortal } from '@angular/cdk/portal';\nimport { ENTER, SPACE, ESCAPE } from '@angular/cdk/keycodes';\nimport { Overlay,\n         OverlayConnectionPosition,\n         OriginConnectionPosition,\n         FlexibleConnectedPositionStrategy,\n         OverlayRef,\n         CdkOverlayOrigin,\n         HorizontalConnectionPos,\n         VerticalConnectionPos} from '@angular/cdk/overlay';\n\nimport { RufTriggerTarget } from '../trigger/trigger.interface';\n\nexport enum RufDropdownType {\n  PopoverMenu = 'popover-menu',\n  ContextMenu = 'context-menu',\n  Dropdown = 'dropdown',\n};\n\n@Component({\n  selector: 'ruf-dropdown-panel',\n  templateUrl: './dropdown-panel.component.html',\n  styleUrls: ['dropdown-panel.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufDropdownPanelComponent implements RufTriggerTarget, OnChanges {\n  @Input() origin: CdkOverlayOrigin;\n  @Input() opened: boolean;\n  @Input() hasBackdrop = true;\n  @Output() openedChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n  @Input() type = RufDropdownType.Dropdown;\n  @Input() xPosition = 'center';\n  @Input() yPosition = 'bottom';\n  className = 'ruf-dropdown-panel-container';\n  @Input() closeIcon: boolean;\n  private _overlayRef: OverlayRef;\n  private _portal: TemplatePortal<any>;\n  @ViewChild(TemplateRef, {static: false}) content: TemplateRef<any>;\n  @Output() toggle = new EventEmitter<boolean>();\n\n  constructor(private _overlay: Overlay,\n              private _viewContainerRef: ViewContainerRef) {}\n\n ngOnChanges(changes: SimpleChanges): void {\n  if (changes &&\n      changes.hasBackdrop &&\n      changes.hasBackdrop.previousValue !== changes.hasBackdrop.currentValue) {\n    // when value is changes for hasBackdrop set value null for overlay\n    // so that it will create new overlay with updated backdrop value\n    if (this._overlayRef) {\n      this._overlayRef.detach();\n      this._overlayRef = null;\n    }\n  }\n }\n\n  open() {\n    const origin = this._getOrigin();\n    const overlay = this._getOverlayPosition();\n\n    if (!this._overlayRef) {\n      let positionStrategy: FlexibleConnectedPositionStrategy;\n      positionStrategy = this._overlay.position()\n        .flexibleConnectedTo(this.origin.elementRef)\n        .withPositions([\n          { ...origin.main, ...overlay.main },\n          {...origin.fallback, ...overlay.fallback}\n        ]);\n\n      this.onPositionChanged({\n        connectionPair: {\n          overlayX: overlay.main.overlayX,\n          overlayY: overlay.main.overlayY\n        }\n      });\n\n      positionStrategy.positionChanges.subscribe(change => {\n        this.onPositionChanged(change);\n      });\n\n      this._overlayRef = this._overlay.create({\n        hasBackdrop: this.hasBackdrop,\n        backdropClass: 'ruf-dropdown-panel-wrapper',\n        positionStrategy\n      });\n\n      this._overlayRef.backdropClick().subscribe(() => this.close());\n      this._portal = new TemplatePortal(this.content, this._viewContainerRef);\n    }\n\n    if (!this._overlayRef.hasAttached()) {\n      this._overlayRef.attach(this._portal);\n      this.opened = true;\n      this.toggle.emit(true);\n    } else {\n      this.close();\n      this.toggle.emit(false);\n    }\n  };\n\n  _getOrigin(): { main: OriginConnectionPosition, fallback: OriginConnectionPosition} {\n    let originPosition: OriginConnectionPosition;\n    originPosition = this._getPositionStrategy(this._getOriginValues(), this._getOverlayPositionValues()).originPosition;\n    const {x, y} = this._invertPosition(originPosition.originX, originPosition.originY);\n    if (this.type === RufDropdownType.PopoverMenu || this.type === RufDropdownType.ContextMenu) {\n      return {\n        main: originPosition,\n        fallback: {originX: x, originY: y}\n      }\n    } else {\n      return {\n        main: {originX: 'start', originY: 'bottom'},\n        fallback: {originX: 'end', originY: 'top'}\n      }\n    }\n  }\n\n  _getOverlayPosition(): { main: OverlayConnectionPosition, fallback: OverlayConnectionPosition} {\n    const XPosition = this.xPosition;\n    const YPosition = this.yPosition;\n    let overlayPosition: OverlayConnectionPosition;\n    overlayPosition = this._getPositionStrategy(this._getOriginValues(), this._getOverlayPositionValues()).overlayPosition;\n    const {x, y} = this._invertPosition(overlayPosition.overlayX, overlayPosition.overlayY);\n    if (this.type === RufDropdownType.PopoverMenu || this.type === RufDropdownType.ContextMenu) {\n      return {\n        main: overlayPosition,\n        fallback: {overlayX: x, overlayY: y}\n      }\n    } else {\n      return {\n        main: {overlayX: 'start', overlayY: 'top'},\n        fallback: {overlayX: 'end', overlayY: 'bottom'}\n      }\n    }\n  }\n\n  _getOriginValues(): { xCenterYBottom: OriginConnectionPosition, xCenterYTop: OriginConnectionPosition\n                  xStartYBottom: OriginConnectionPosition, xStartYTop: OriginConnectionPosition, xStartYCenter: OriginConnectionPosition,\n                  xEndYBottom: OriginConnectionPosition, xEndYTop: OriginConnectionPosition, xEndYCenter: OriginConnectionPosition} {\n    const xCenterYBottom: OriginConnectionPosition = {originX: 'center', originY: 'bottom'};\n    const xCenterYTop: OriginConnectionPosition = {originX: 'center', originY: 'top'};\n    const xStartYBottom: OriginConnectionPosition = {originX: 'start', originY: 'bottom'};\n    const xStartYTop: OriginConnectionPosition = {originX: 'start', originY: 'top'};\n    const xStartYCenter: OriginConnectionPosition = { originX: 'start', originY: 'center'};\n    const xEndYBottom: OriginConnectionPosition = {originX: 'end', originY: 'bottom'};\n    const xEndYTop: OriginConnectionPosition = {originX: 'end', originY: 'top'};\n    const xEndYCenter: OriginConnectionPosition = { originX: 'end', originY: 'center'};\n\n    return {\n      xCenterYBottom: xCenterYBottom,\n      xCenterYTop: xCenterYTop,\n      xStartYBottom: xStartYBottom,\n      xStartYTop: xStartYTop,\n      xStartYCenter: xStartYCenter,\n      xEndYBottom: xEndYBottom,\n      xEndYTop: xEndYTop,\n      xEndYCenter: xEndYCenter\n    };\n  }\n\n  _getOverlayPositionValues(): {\n          xCenterYTop: OverlayConnectionPosition, xCenterYBottom: OverlayConnectionPosition\n          xStartYTop: OverlayConnectionPosition, xStartYBottom: OverlayConnectionPosition, xStartYCenter: OverlayConnectionPosition,\n          xEndYTop: OverlayConnectionPosition, xEndYBottom: OverlayConnectionPosition, xEndYCenter: OverlayConnectionPosition} {\n      const xCenterYTop: OverlayConnectionPosition = {overlayX: 'center', overlayY: 'top'};\n      const xCenterYBottom: OverlayConnectionPosition = {overlayX: 'center', overlayY: 'bottom'};\n      const xStartYTop: OverlayConnectionPosition = {overlayX: 'start', overlayY: 'top'};\n      const xStartYBottom: OverlayConnectionPosition = {overlayX: 'start', overlayY: 'bottom'};\n      const xStartYCenter: OverlayConnectionPosition = {overlayX: 'start', overlayY: 'center'};\n      const xEndYTop: OverlayConnectionPosition = {overlayX: 'end', overlayY: 'top'};\n      const xEndYBottom: OverlayConnectionPosition = {overlayX: 'end', overlayY: 'bottom'};\n      const xEndYCenter: OverlayConnectionPosition = {overlayX: 'end', overlayY: 'center'};\n\n      return {\n        xCenterYTop: xCenterYTop,\n        xCenterYBottom: xCenterYBottom,\n        xStartYTop: xStartYTop,\n        xStartYBottom: xStartYBottom,\n        xStartYCenter: xStartYCenter,\n        xEndYTop: xEndYTop,\n        xEndYBottom: xEndYBottom,\n        xEndYCenter: xEndYCenter\n      };\n  }\n\n  _getPositionStrategy(origin, overlay) {\n    let originPosition = origin.xCenterYBottom;\n    let overlayPosition = overlay.xCenterYTop;\n    if (this.xPosition === 'start') {\n      if (this.yPosition === 'top') {\n        originPosition = origin.xStartYTop;\n        overlayPosition = overlay.xStartYBottom;\n      } else if (this.yPosition === 'center' && this.type === RufDropdownType.PopoverMenu) {\n        originPosition = origin.xStartYCenter;\n        overlayPosition = overlay.xEndYCenter;\n      } else if (this.yPosition === 'bottom' || (this.yPosition === 'center' && this.type === RufDropdownType.ContextMenu)) {\n        originPosition = origin.xStartYBottom;\n        overlayPosition = overlay.xStartYTop;\n      }\n    } else if (this.xPosition === 'end') {\n      if (this.yPosition === 'top') {\n        originPosition = origin.xEndYTop;\n        overlayPosition = overlay.xEndYBottom;\n      } else if (this.yPosition === 'center' && this.type === RufDropdownType.PopoverMenu) {\n        originPosition = origin.xEndYCenter;\n        overlayPosition = overlay.xStartYCenter;\n      } else if (this.yPosition === 'bottom' || (this.yPosition === 'center' && this.type === RufDropdownType.ContextMenu)) {\n        originPosition = origin.xEndYBottom;\n        overlayPosition = overlay.xEndYTop;\n      }\n    } else if (this.xPosition === 'center') {\n      originPosition = this.yPosition === 'top' ? origin.xCenterYTop : origin.xCenterYBottom;\n      overlayPosition = this.yPosition === 'top' ? overlay.xCenterYBottom : overlay.xCenterYTop;\n    }\n    return {\n      originPosition: originPosition,\n      overlayPosition: overlayPosition\n    }\n  }\n\n  _invertPosition(x: HorizontalConnectionPos, y: VerticalConnectionPos) {\n    if (x === 'start') {\n      x = 'end'\n    } else if (x === 'end') {\n      x = 'start'\n    }\n\n    if (y === 'top') {\n      y = 'bottom';\n    } else if (y === 'bottom') {\n      y = 'top';\n    }\n    return {x, y};\n  }\n\n  onPositionChanged ($event) {\n    if (this.type === RufDropdownType.PopoverMenu || this.type === RufDropdownType.ContextMenu) {\n      if ($event.connectionPair.overlayY === 'top') {\n        if ($event.connectionPair.overlayX === 'center') {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu center-arrow-up';\n        } else if ($event.connectionPair.overlayX === 'start') {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu left-arrow-up';\n        } else {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu right-arrow-up';\n        }\n      } else if ($event.connectionPair.overlayY === 'center') {\n        if ($event.connectionPair.overlayX === 'start') {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu right-arrow-center';\n        } else {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu left-arrow-center';\n        }\n      } else {\n        if ($event.connectionPair.overlayX === 'center') {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu center-arrow-down';\n        } else if ($event.connectionPair.overlayX === 'start') {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu left-arrow-down';\n        } else {\n          this.className = 'ruf-dropdown-panel-container ruf-popover-menu right-arrow-down';\n        }\n      }\n    } else if (this.type === RufDropdownType.Dropdown) {\n      this.className = 'ruf-dropdown-panel-container';\n    }\n  }\n\n  close() {\n    if (this.opened) {\n      this.opened = false;\n      this._overlayRef.detach();\n      this.openedChange.emit(this.opened);\n    }\n  }\n\n  hasPopup(): boolean {\n    return true;\n  }\n\n  handleKeydown(event) {\n    switch (event.keyCode) {\n      case SPACE:\n      case ENTER:\n        this.open();\n        event.preventDefault();\n        event.stopPropagation();\n        this.toggle.emit(true);\n        break;\n      case ESCAPE:\n        this.close();\n        this.toggle.emit(false);\n        event.stopPropagation();\n        break;\n      default:\n    }\n  }\n\n  @HostListener('click', ['$event'])\n  handleClick(event) {\n    this.open();\n  }\n\n}\n","import { Component, Input, ViewEncapsulation, HostBinding } from '@angular/core';\n\n@Component({\n  selector: 'ruf-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufNavbarComponent {\n  @Input() color: string;\n  @HostBinding('attr.role') role = 'navigation';\n\n  constructor() {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufNavbarComponent } from './navbar.component';\nimport { RufToolbarModule } from '../toolbar/toolbar.module';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\n\n@NgModule({\n  imports: [CommonModule, RufToolbarModule, RufUniqueIdModule],\n  declarations: [RufNavbarComponent],\n  exports: [RufNavbarComponent]\n})\nexport class RufNavbarModule {}\n","import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  OnDestroy,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../../utils/shell-intl';\nimport { RufKeyCodes } from './../../input/keyboard';\n\n@Component({\n  selector: 'ruf-megamenu-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufMegamenuSearchComponent implements OnDestroy {\n  private _intlChanges: Subscription;\n  private _placeholder: string;\n  private _clearSearchLabel: string;\n  @Input()\n  get placeholder() {\n    return this._placeholder || this._intl.megamenusearch.placeholder;\n  }\n  set placeholder(value: string) {\n    this._placeholder = value;\n  }\n\n  @Input()\n  get clearSearchLabel() {\n    return this._clearSearchLabel || this._intl.megamenusearch.aria.clearSearchLabel;\n  }\n  set clearSearchLabel(value: string) {\n    this._clearSearchLabel = value;\n  }\n\n  @Output() filterValue = new EventEmitter<string>();\n  @Output() inputFocus = new EventEmitter<string>();\n\n  @ViewChild('filter', {static: false}) filter: ElementRef;\n\n  inputFocusClass: boolean;\n\n  constructor(private _intl: RufShellIntl, changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  clear($event) {\n    this.filter.nativeElement.value = '';\n    this.filterValue.emit('');\n    $event.preventDefault();\n    $event.stopPropagation();\n  }\n\n  handleKeyDown($event) {\n    switch ($event.keyCode) {\n      case RufKeyCodes.SPACE:\n      case RufKeyCodes.ENTER:\n        this.clear($event);\n        break;\n    }\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RufSearchItem } from './search/searchitem.interface';\n\n// the object we reduce into during search preparation\nexport class RufCart {\n  parents: RufSearchItem[];\n  children: RufSearchItem[];\n  searchKeys: string[];\n}\n\n@Injectable()\nexport class RufSearchService {\n  private SPLITTER = String.fromCharCode(167);\n\n  recursiveReduce(items: RufSearchItem[], context: string[]): RufCart {\n    return items.reduce<RufCart>(\n      (cart: RufCart, item: RufSearchItem) => {\n        if (item.children && item.children.length > 0) {\n          // this is a parent\n          const newContext = context.concat([item.label]);\n          const childCart = this.recursiveReduce(item.children, newContext);\n          // we need to add a parent object with this objects children\n          const parent = {\n            label: item.label,\n            path: item.path,\n            context: context.join(', '),\n            children: childCart.children, // this is the reducing part of things\n            searchKey: childCart.searchKeys.join(this.SPLITTER) // only searchkeys of non-parent nodes\n          };\n          // only add this parent, if it has children\n          if (childCart.children && childCart.children.length > 0) {\n            cart.parents.push(parent);\n          }\n          // we get the parent nodes from the children of this item and only pass these up\n          cart.parents = cart.parents.concat(childCart.parents); // the reduced items are basically pushed up to the highest level\n          // we also append the childcart keys to the parent (for searching purposes)\n          // This isn't necessary anymore as we only have one level cart.searchKeys = cart.searchKeys.concat(childCart.searchKeys);\n        } else {\n          // this is a child, so we add it to this carts children\n          item.searchKey = item.label.toLowerCase(); // we make the search key lowercase here for all children\n          cart.children.push(item);\n          cart.searchKeys.push(item.searchKey);\n        }\n        return cart;\n      },\n      {\n        // start with an empty cart\n        parents: [],\n        children: [],\n        searchKeys: []\n      }\n    );\n  }\n\n  // prepares the search items\n  prepareSearch(items: RufSearchItem[]): (term: string) => RufSearchItem[] {\n    // the goal is to recursively parse the tree structure for parents of children\n    // children are nodes with no children, parents are nodes with children\n    const preparedItems = this.recursiveReduce(items, []);\n    // we return a function here that performs the search on the prepared items\n    return term => {\n      return this.performSearch(preparedItems.parents, term);\n    };\n  }\n\n  // used to create a reduced version of what gets displayed, and also\n  // detaches from the original object\n  copySearchItem(item: RufSearchItem, newChildren: RufSearchItem[]): RufSearchItem {\n    return {\n      label: item.label,\n      path: item.path,\n      context: item.context,\n      children: newChildren\n    };\n  }\n\n  // The search assumes that there each item in the array only has one level of children\n  // this explicit structure is created in the prepare search\n  performSearch(items: RufSearchItem[], term: string) {\n    const searchTerm = term.toLowerCase(); // lowercase search term vs lowercase search key\n    // call the reduce to omit non matching items\n    return items.reduce(\n      // newItems is the returned value from the prev function call\n      (newItems, item) => {\n        // first we check if the parent item will be added (checking this here prevents unnecessary looping)\n        if (item.searchKey && item.searchKey.indexOf(searchTerm) > -1) {\n          // filter the children\n          // (we know there are children as the searchkey collates only child keys)\n          const reducedChildren = item.children.filter(child => {\n            return child.searchKey.indexOf(searchTerm) > -1;\n          });\n          // there will always be atleast one child that matches\n          // (as have already we checked the collated search key)\n          newItems.push(this.copySearchItem(item, reducedChildren));\n        }\n        return newItems;\n      },\n      [] // initial empty array\n    );\n  }\n}\n","import { RufSidemenuComponent } from './../sidemenu/sidemenu.component';\nimport { RufSearchService } from './menu-search.service';\nimport { RufSearchItem } from './search/searchitem.interface';\nimport {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  ViewEncapsulation,\n  OnInit,\n  OnDestroy,\n  AfterViewInit,\n  ViewChild,\n  ChangeDetectionStrategy,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { Observable, Subject, merge, of ,  Subscription } from 'rxjs';\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  map,\n  startWith,\n  switchMap,\n  withLatestFrom\n} from 'rxjs/operators';\nimport { RufShellIntl } from '../utils/shell-intl';\n\n@Component({\n  selector: 'ruf-megamenu',\n  templateUrl: './megamenu.component.html',\n  styleUrls: ['./megamenu.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [RufSearchService]\n})\nexport class RufMegamenuComponent implements AfterViewInit, OnInit, OnChanges, OnDestroy {\n  private _intlChanges: Subscription;\n  private _searchPlaceholder: string;\n  private _clearSearchAriaLabel: string;\n  @Input()\n  get searchPlaceholder() {\n    return this._searchPlaceholder || this._intl.megamenu.placeholder;\n  }\n  set searchPlaceholder(value: string) {\n    this._searchPlaceholder = value;\n  }\n\n  @Input()\n  get clearSearchAriaLabel() {\n    return this._clearSearchAriaLabel || this._intl.megamenu.aria.clearSearchLabel;\n  }\n  set clearSearchAriaLabel(value: string) {\n    this._clearSearchAriaLabel = value;\n  }\n\n  @Input() items: RufSearchItem[] = [];\n  @Output() select = new EventEmitter<RufSearchItem>();\n\n  @ViewChild('sidemenu', {static: true}) sidemenu: RufSidemenuComponent;\n\n  // Subjects: denotes user interaction streams\n  // search related properties\n  searchTerms$ = new Subject<string>(); // stream of search terms\n  // sidemenu select event stream\n  selectedSidemenuItems$ = new Subject<any>(); // stream of selected items (same type has this.items)\n  // merge search results and selected menu item's children into a single stream\n  sitemapItems$: Observable<RufSearchItem[]>; // use same type has this.items\n\n  private preparedSearchableItems: (term: string) => RufSearchItem[] = (term) => [];\n\n  constructor (private searchService: RufSearchService, private _intl: RufShellIntl, changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  ngOnInit() {\n    // map search terms to a search results stream ready to be consumed by sitemap\n    const searchResults$ = this.searchTerms$.pipe(\n      distinctUntilChanged(),\n      debounceTime(400), // don't search unless user stopped typing for 400ms\n      switchMap(term => this.search(term)), // ignore already triggered searches.\n      startWith([])\n      ); // start with empty results\n\n    // map sidemenu select event to selected item's children array\n    const selectedItemChildren$ = this.selectedSidemenuItems$.pipe(\n      withLatestFrom(searchResults$), // combine each event with the latest of the searchResults$ stream\n      map(([item, searchResults]) => {\n        if (!item) {\n          return searchResults || [];\n        }\n        // map to the selected item's children or an empty array.\n        return item.data || [];\n      }));\n\n    // sitemap data stream is a merge of search results and selected item's children streams\n    this.sitemapItems$ = merge(\n      selectedItemChildren$,\n      searchResults$\n    );\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // when any changes to the items occur, re-prepare the search\n    if (changes.items && changes.items.currentValue) {\n      this.preparedSearchableItems = this.searchService.prepareSearch(changes.items.currentValue);\n    }\n  }\n\n  ngAfterViewInit() {\n    // once the sidemenu is created (after view init), select first sidemenu item\n    setTimeout(() => {\n      if (this.items[0]) {\n        this.sidemenu.select(this.items[0].path, this.items[0].children);\n      }\n    });\n  }\n\n  private search(term: string): Observable<RufSearchItem[]> {\n    let results = this.items;\n    // if no prepared searchable data is available we just return everything\n    if (this.preparedSearchableItems) {\n      // now we process the searching of the data\n      results = this.preparedSearchableItems(term);\n    }\n    if (!term || term === '') {\n      results = [];\n    }\n    // return observable of results using same type has this.item\n    return of(results);\n  }\n\n   ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n}\n","import {\n  Input,\n  Output,\n  EventEmitter,\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  ElementRef,\n  AfterViewInit,\n  QueryList,\n  HostBinding,\n  ViewChildren\n} from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RufKeyboardNavigation, RufKeyCodes } from '../input/keyboard';\nimport { RufFocusableDirective } from '../utils/focusable';\nimport { RufBaseItem } from '../common/base-item';\n\nexport interface RufSitemapItem extends RufBaseItem {\n  children: RufSitemapItem[];\n  context?: string;\n}\n\n@Component({\n  selector: 'ruf-sitemap',\n  templateUrl: './sitemap.component.html',\n  styleUrls: ['./sitemap.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufSitemapComponent implements AfterViewInit {\n  @HostBinding('attr.role') role = 'menubar';\n\n  @Input() items: Observable<RufSitemapItem[]>;\n  @Output() select = new EventEmitter<RufSitemapItem>();\n  @Input() direction = 'row';\n\n  @ViewChildren(RufFocusableDirective) sitemapItems: QueryList<RufFocusableDirective>;\n\n  private _keyboardNav: RufKeyboardNavigation;\n\n  constructor(protected _elementRef: ElementRef) {}\n\n  ngAfterViewInit() {\n    if (this.sitemapItems.length > 0) {\n      this.addNewKeyboardNav();\n    }\n    this.sitemapItems.changes.subscribe(changes => {\n      if (this.sitemapItems.length > 0) {\n        this.addNewKeyboardNav();\n      }\n    });\n  }\n\n  addNewKeyboardNav() {\n    this._keyboardNav = new RufKeyboardNavigation();\n    this._keyboardNav.setDirection(this.direction);\n    this._keyboardNav.init(this._elementRef, this.sitemapItems);\n    this._keyboardNav.addTabIndex(this.sitemapItems);\n  }\n\n  // emit the currently selected\n  selectItem(sitemapItem: RufSitemapItem) {\n    this.select.emit(sitemapItem);\n  }\n\n  onKey(event: KeyboardEvent, item: RufSitemapItem) {\n    this._keyboardNav.onKeyDown(event);\n    switch (event.keyCode) {\n      case RufKeyCodes.ENTER:\n      case RufKeyCodes.SPACE:\n        this.selectItem(item);\n        break;\n    }\n  }\n\n  uniqueItem(index, item) {\n    return item.path;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufSitemapComponent } from './sitemap.component';\nimport { RufUtilsModule } from '../utils/utils.module';\n\n@NgModule({\n  imports: [CommonModule, RufUtilsModule],\n  declarations: [RufSitemapComponent],\n  exports: [RufSitemapComponent]\n})\nexport class RufSitemapModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufSidemenuModule } from './../sidemenu/sidemenu.module';\nimport { RufToolbarModule } from '../toolbar/toolbar.module';\nimport { RufMegamenuComponent } from './megamenu.component';\nimport { RufMegamenuSearchComponent } from './search/search.component';\nimport { RufSitemapModule } from './../sitemap/sitemap.module';\nimport { RufUtilsModule } from '../utils/utils.module';\n\n@NgModule({\n    imports: [\n      CommonModule,\n      RufToolbarModule,\n      RufSidemenuModule,\n      RufSitemapModule,\n      RufUtilsModule\n    ],\n    declarations: [\n      RufMegamenuComponent,\n      RufMegamenuSearchComponent\n    ],\n    exports: [\n      RufMegamenuComponent\n    ],\n    providers: [\n    ]\n})\nexport class RufMegamenuModule {}\n","import { Inject } from '@angular/core';\nimport { ActivatedRouteSnapshot, DetachedRouteHandle } from '@angular/router';\nimport { RufRouteReuseStrategy } from './route-reuse-strategy';\nimport { RufRouterUtilService } from './router-util.service';\n\nexport class RufMDIStrategy implements RufRouteReuseStrategy {\n  private handlers: { [key: string]: DetachedRouteHandle } = {};\n\n  constructor(protected util: RufRouterUtilService) {}\n\n  /**\n   * Decides when the route should be stored\n   * @param route the route that the user is currently on\n   * @returns boolean indicating whether the route should or should not be stored\n   */\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    return true;\n  }\n\n  /**\n   * Stores the complete route path and its component state (as ComponentRef) for later attachment\n   * @param route This is stored for later comparison to requested routes, see `this.shouldAttach`\n   * @param handle A DetachedRouteHandle which is later retrieved by this.retrieve to restore state\n   */\n  store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    const path = this.util.getLeafNodePath(route);\n    // path is '' when route has loadChildren.\n    if (path) {\n      if (route.component) {\n        this.handlers[path] = handle;\n      }\n      // route does not have component. this means it is a parent route like ruf/shell/banner or ruf/shell/layout.\n      // In this case, previously stored leaf node handler should be re-stored.\n      if (!route.component && handle) {\n        // This condition is when parent route is being stored but it's the child route whose reference needs to be stored instead.\n        // In this case, retrieve the component ref from RufRouterUtilService and create a new DetachedRouteHandle.\n        this.handlers[path] = {\n          componentRef: this.util.getComponentRef(path),\n          route: this.util.getLeafNode(handle['route'])\n        };\n      }\n    }\n  }\n\n  /**\n   * Determines whether there is a stored route and, if yes, should it be rendered in place of requested route\n   * @param route The route the user requested\n   * @returns boolean indicating whether or not to render the stored route\n   */\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    const path = this.util.getLeafNodePath(route);\n    return !!route.routeConfig && !!this.handlers[path];\n  }\n\n  /**\n   * Finds the locally stored instance of the requested route and returns it if it exists\n   * @param route New route the user has requested\n   * @returns DetachedRouteHandle object which can be used to render the component\n   */\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    if (!route.routeConfig) {\n      return null;\n    }\n    if (route.routeConfig.loadChildren) {\n      return null;\n    }\n    return this.handlers[this.util.fullPath(route)];\n  }\n\n  /**\n   * Determines whether or not the current route should be reused\n   * @param future The route the user is navigating to as triggered by the router\n   * @param curr The route the user is currently on\n   * @returns boolean indicating true if the user intends to leave the current route\n   */\n  shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    return (\n        (future.routeConfig === curr.routeConfig) &&\n        (JSON.stringify(future.params) === JSON.stringify(curr.params))\n      );\n  }\n\n/**\n *  Remove component reference from handlers.\n *  Destroy the route component\n *  @param path The key against which DetachedRouteHandle with component reference is stored for detached route\n */\n  destroy(path: string)  {\n    if (this.handlers[path] && this.util.getComponentRef(path)) {\n          this.util.getComponentRef(path).destroy();\n          delete this.handlers[path];\n        }\n  }\n}\n","import { Injectable, ComponentRef } from '@angular/core';\nimport { ActivatedRouteSnapshot, RouterOutlet } from '@angular/router';\n\n@Injectable()\nexport class RufRouterUtilService {\n  private _routeComp: { [key: string]: ComponentRef<any> } = {};\n  private _lastActivatedPath: string;\n  private _lastActivatedOutlet: RouterOutlet;\n\n  set lastActivatedPath(path: string) {\n    this._lastActivatedPath = path;\n  }\n\n  get lastActivatedPath(): string {\n    return this._lastActivatedPath;\n  }\n\n  set lastActivatedOutlet(outlet: RouterOutlet) {\n    this._lastActivatedOutlet = outlet;\n  }\n\n  get lastActivatedOutlet(): RouterOutlet {\n    return this._lastActivatedOutlet;\n  }\n\n  setComponentRef(path: string, componentRef: ComponentRef<any>) {\n    this._routeComp[path] = componentRef;\n  }\n\n  getComponentRef(path): ComponentRef<any> {\n    return this._routeComp[path];\n  }\n\n  fullPath(snapshot: ActivatedRouteSnapshot): string {\n    let path = '';\n    const rootElems = snapshot.pathFromRoot;\n    rootElems.forEach(function(child) {\n      const urlArray = child.url;\n      urlArray.forEach(function(url) {\n        path += `/${url.path}`;\n      });\n    });\n    return path;\n  }\n\n  getLeafNodePath(route: ActivatedRouteSnapshot): string {\n    let path;\n    // if (!route.routeConfig.loadChildren) {\n    // If !route.component, this is a parent route. Return path of the leaf node in this case.\n    if (!route.component) {\n      const leafNode = this.getLeafNode(route);\n      path = this.fullPath(leafNode);\n    } else {\n      path = this.fullPath(route);\n    }\n    // }\n    return path;\n  }\n\n  getLeafNode(route: any): any {\n    if (!route.children || route.children.length === 0) {\n      return route;\n    }\n    return this.getLeafNode(route.firstChild || route.children[0]);\n  }\n}\n","import {\n  Attribute,\n  ComponentFactoryResolver,\n  ComponentRef,\n  ChangeDetectorRef,\n  Directive,\n  ViewContainerRef,\n  Inject\n} from '@angular/core';\nimport { RouterOutlet, ActivatedRoute, ChildrenOutletContexts, PRIMARY_OUTLET } from '@angular/router';\nimport { RufRouterUtilService } from './router-util.service';\n\n@Directive({\n  selector: 'ruf-router-outlet' // tslint:disable-line\n})\nexport class RufRouterOutletDirective extends RouterOutlet {\n  constructor(\n    private rufParentContexts: ChildrenOutletContexts,\n    private rufLocation: ViewContainerRef,\n    private rufResolver: ComponentFactoryResolver,\n    @Attribute('name') private rufName: string,\n    private rufChangeDetector: ChangeDetectorRef,\n    private util: RufRouterUtilService\n  ) {\n    super(rufParentContexts, rufLocation, rufResolver, rufName, rufChangeDetector);\n    this.rufName = rufName || PRIMARY_OUTLET;\n  }\n\n  detach(): ComponentRef<any> {\n    const componentRef = super.detach();\n    const lastActivatedOutlet = this.util.lastActivatedOutlet;\n    // Detach child routes when a parent route like /banner or /layout is being detached.\n    if (lastActivatedOutlet && lastActivatedOutlet.isActivated) {\n      const lastCompRef = lastActivatedOutlet.detach();\n      this.util.setComponentRef(this.util.lastActivatedPath, lastCompRef);\n    } else {\n      this.util.setComponentRef(this.util.lastActivatedPath, componentRef);\n    }\n    return componentRef;\n  }\n\n  activateWith(activatedRoute: ActivatedRoute, resolver: ComponentFactoryResolver | null) {\n    this.storePreviousRoute(activatedRoute);\n    super.activateWith(activatedRoute, resolver);\n  }\n\n  attach(ref: ComponentRef<any>, activatedRoute: ActivatedRoute) {\n    this.storePreviousRoute(activatedRoute);\n    super.attach(ref, activatedRoute);\n  }\n\n  private storePreviousRoute(activatedRoute: ActivatedRoute) {\n    this.util.lastActivatedPath = this.util.fullPath(activatedRoute.snapshot);\n    if (!activatedRoute.children || activatedRoute.children.length === 0) {\n      // Store router outlet only in case of leaf routes. This will be used when detaching parent routes.\n      this.util.lastActivatedOutlet = this.rufParentContexts.getContext(this.rufName).outlet;\n    }\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufRouterOutletDirective } from './outlet.directive';\nimport { RufRouterUtilService } from './router-util.service';\n\n@NgModule({ declarations: [RufRouterOutletDirective], imports: [CommonModule], exports: [RufRouterOutletDirective] })\nexport class RufRouterModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: RufRouterModule,\n      providers: [RufRouterUtilService]\n    };\n  }\n}\n","import { RouteReuseStrategy } from '@angular/router';\n\nexport abstract class RufRouteReuseStrategy extends RouteReuseStrategy {\n  /** Removes the component from store and destroys it when called. */\n  abstract destroy(path: string): void;\n}\n","import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  Directive,\n  ViewEncapsulation,\n  Input,\n  OnDestroy\n} from '@angular/core';\n\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../utils/shell-intl';\n\n@Directive({\n  selector: 'ruf-card-controls' // tslint:disable-line\n})\nexport class RufCardControlsDirective {}\n\n@Directive({\n  selector: 'ruf-card-subtitle' // tslint:disable-line\n})\nexport class RufCardSubtitleDirective {}\n\n@Component({\n  selector: 'ruf-card',\n  templateUrl: 'card.component.html',\n  styleUrls: ['card.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    trigger('expanded', [\n      state(\n        'false',\n        style({\n          height: 0,\n          visibility: 'hidden'\n        })\n      ),\n      state(\n        'true',\n        style({\n          height: '*',\n          visibility: 'visible'\n        })\n      ),\n      transition('false => true', animate('300ms ease-in-out')),\n      transition('true => false', animate('300ms ease-in-out'))\n    ])\n  ]\n})\nexport class RufCardComponent implements OnDestroy {\n  private _intlChanges: Subscription;\n  private _expandLabel: string;\n  private _collapseLabel: string;\n  @Input() title: '';\n  @Input() expandable = false;\n  @Input() expanded = true;\n\n  @Input()\n  get expandLabel() {\n    return this._expandLabel || this._intl.card.aria.expandLabel;\n  }\n  set expandLabel(value: string) {\n    this._expandLabel = value;\n  }\n\n  @Input()\n  get collapseLabel() {\n    return this._collapseLabel || this._intl.card.aria.collapseLabel;\n  }\n  set collapseLabel(value: string) {\n    this._collapseLabel = value;\n  }\n\n  get toggleLabel() {\n    return this.expanded ? this.collapseLabel : this.expandLabel;\n  }\n\n  constructor(private _intl: RufShellIntl, changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n}\n","import { Component, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'ruf-card-action-bar',\n  templateUrl: 'card-action-bar.component.html',\n  styleUrls: ['card-action-bar.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class RufCardActionBarComponent {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RufCardComponent, RufCardSubtitleDirective, RufCardControlsDirective } from './card.component';\nimport { RufCardActionBarComponent } from './card-action-bar.component';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\nimport { RufIconModule } from './../icon/icon.module';\nimport { RufUtilsModule } from '../utils/utils.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatCardModule,\n    RufUniqueIdModule,\n    MatIconModule,\n    MatButtonModule,\n    RufIconModule,\n    RufUtilsModule\n  ],\n  declarations: [ RufCardComponent, RufCardActionBarComponent, RufCardControlsDirective, RufCardSubtitleDirective ],\n  exports: [ RufCardComponent, RufCardActionBarComponent, RufCardControlsDirective, RufCardSubtitleDirective ]\n})\nexport class RufCardModule {}\n","import {\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnDestroy,\n  Output,\n  HostBinding,\n  ViewEncapsulation,\n  EventEmitter,\n  AfterContentInit,\n  ViewChild,\n  ElementRef\n} from '@angular/core';\nimport {\n  trigger,\n  state,\n  style,\n  transition,\n  animate\n} from '@angular/animations';\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../utils/shell-intl';\n\n@Component({\n  selector: 'ruf-statusbar',\n  templateUrl: './statusbar.component.html',\n\n  styleUrls: ['./statusbar.component.scss'],\n  animations: [trigger('animation', [\n    state('0', style({ height: '0', 'min-height': '0', visibility: 'hidden'})),\n    state('1', style({ height: '*', 'min-height': '*', visibility: 'visible'})),\n    transition('0 => 1', animate('250ms ease-in')),\n    transition('1 => 0', animate('250ms ease-out'))\n    ]), trigger('expanded', [\n    state('false', style({ height: 0, visibility: 'hidden' })),\n    state('true', style({ height: '*', visibility: 'visible'})),\n    transition('false => true', animate('300ms ease-in-out')),\n    transition('true => false', animate('300ms ease-in-out'))\n  ])],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n\nexport class RufStatusbarComponent implements OnDestroy, AfterContentInit {\n  private _intlChanges: Subscription;\n  private _closeAriaLabel: string;\n  private _expandAriaLabel: string;\n\n  @Input() title: string;\n\n  @Input() color = 'accent';\n  @Input() closeable = true;\n  @Input() expandable = false;\n  @Input() icon: string;\n  @Input() border = true;\n  @ViewChild('subtitleRef', {static: true}) subtitleContent: ElementRef<any>;\n  isSubtitleEmpty = false;\n\n  @HostBinding('@animation')\n  @Input()\n  visible = true;\n\n  @Input()\n  get closeAriaLabel() {\n    return this._closeAriaLabel || this._intl.statusbar.aria.closeIconLabel;\n  }\n\n  set closeAriaLabel(value: string) {\n    this._closeAriaLabel = value;\n  }\n\n  @Input()\n  get expandAriaLabel() {\n    return this._expandAriaLabel || this._intl.statusbar.aria.expandIconLabel;\n  }\n\n  set expandAriaLabel(value: string) {\n    this._expandAriaLabel = value;\n  }\n\n  @HostBinding('class')\n  get _class() {\n    const colorClass =  this.color ? `ruf-${this.color}` : 'ruf-accent';\n    const borderClass =  !this.border ? `ruf-statusbar-noborder` : '';\n    return `${colorClass} ${borderClass}`;\n  }\n\n  @Output() dismiss = new EventEmitter();\n\n  constructor(private _intl: RufShellIntl, changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => changeDetectorRef.markForCheck());\n  }\n\n  onDismiss($event) {\n    this.dismiss.emit();\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n\n  ngAfterContentInit() {\n    this.isSubtitleEmpty = this.subtitleContent.nativeElement.innerHTML.trim() === '';\n  }\n}\n\n\n@Component({\n  selector: 'ruf-statusbar-icon',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n    <div class=\"ruf-statusbar-icon\"><ng-content></ng-content></div>\n  `\n})\nexport class RufStatusbarIconComponent {}\n\n@Component({\n  selector: 'ruf-statusbar-description',\n  encapsulation: ViewEncapsulation.None,\n  template: `\n   <div class=\"ruf-statusbar-description\"><ng-content></ng-content></div>\n  `\n})\nexport class RufStatusbarDescriptionComponent {}\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufUniqueIdModule } from '../unique-id/unique-id.module';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RufIconModule } from '../icon/icon.module';\nimport { RufUtilsModule } from '../utils/utils.module';\nimport {\n  RufStatusbarComponent, RufStatusbarIconComponent,\n  RufStatusbarDescriptionComponent\n} from './statusbar.component';\nimport { RufToggleModule } from '../toggle/toggle.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RufUniqueIdModule,\n    MatIconModule,\n    MatButtonModule,\n    RufIconModule,\n    RufUtilsModule,\n    RufToggleModule\n  ],\n  declarations: [RufStatusbarComponent, RufStatusbarIconComponent, RufStatusbarDescriptionComponent],\n  exports: [RufStatusbarComponent, RufStatusbarIconComponent, RufStatusbarDescriptionComponent]\n})\nexport class RufStatusbarModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { OverlayModule } from '@angular/cdk/overlay';\n\nimport { RufUniqueIdModule } from '../unique-id/unique-id.module';\nimport { RufTriggerModule } from '../trigger/trigger.module';\n\nimport { RufDropdownPanelComponent } from './dropdown-panel.component';\nimport { RufIconModule } from '../icon/icon.module';\nimport { MatButtonModule } from '@angular/material/button';\n\n@NgModule({\n  imports: [CommonModule, OverlayModule, RufUniqueIdModule, RufIconModule, RufTriggerModule, MatButtonModule],\n  declarations: [RufDropdownPanelComponent],\n  exports: [RufDropdownPanelComponent]\n})\nexport class RufDropdownPanelModule {}\n","import {\n  Component,\n  ViewChild,\n  ElementRef,\n  Input,\n  Output,\n  EventEmitter,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  OnDestroy,\n  AfterViewChecked\n} from '@angular/core';\nimport {RufShellIntl} from '../utils/shell-intl';\nimport {Subscription,  BehaviorSubject} from 'rxjs';\n\n\n@Component({\n  selector: 'ruf-ellipsis',\n  templateUrl: './ellipsis.component.html',\n  styleUrls: ['./ellipsis.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class RufEllipsisComponent implements AfterViewChecked, OnDestroy {\n  private _intlChanges: Subscription;\n\n  showReadMore$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  @Input() text: string;\n  @Input() lines = 5;\n  @Input() lineHeight = 1;\n  private _label: string;\n  private _ariaLabel: string;\n\n\n  @Input()\n  get label() {\n    return this._label || this._intl.ellipsis.label || '...';\n  }\n  set label(value: string) {\n    this._label = value;\n  }\n\n  @Input()\n  get ariaLabel() {\n    return this._ariaLabel || this._intl.ellipsis.aria.label;\n  }\n  set ariaLabel(value: string) {\n    this._ariaLabel = value;\n  }\n\n  @ViewChild('ellipsisContainer', {static: false}) ellipsisContainer: ElementRef;\n\n  @Output() expand = new EventEmitter();\n\n  constructor(private _intl: RufShellIntl, private changeDetectorRef: ChangeDetectorRef) {\n    this._intlChanges = _intl.changes.subscribe(() => this.changeDetectorRef.markForCheck());\n  }\n\n  checkReadMore() {\n   if (this.text && this.ellipsisContainer.nativeElement.offsetHeight < this.ellipsisContainer.nativeElement.scrollHeight) {\n      this.showReadMore$.next(true);\n    } else {\n      this.showReadMore$.next(false);\n    }\n  }\n\n  ngAfterViewChecked(): void {\n    this.checkReadMore() ;\n    this.changeDetectorRef.detectChanges();\n  }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufUtilsModule } from '../utils/utils.module';\nimport { RufEllipsisComponent } from './ellipsis.component';\n@NgModule({\n  imports: [\n    CommonModule,\n    RufUtilsModule\n  ],\n  declarations: [ RufEllipsisComponent ],\n  exports: [ RufEllipsisComponent ]\n})\nexport class RufEllipsisModule { }\n","import {\n    Directive,\n    Input,\n    HostBinding,\n    Renderer2,\n    ElementRef,\n    AfterViewInit\n} from '@angular/core';\n\n@Directive({\n    selector: '[rufInkbar]',\n    exportAs: 'rufInkbar'\n})\n\nexport class RufInkbarDirective {\n    private _color = 'primary';\n    private _position = 'bottom';\n    @HostBinding('class.ruf-inkbar') rufInkbar = 'ruf-inkbar';\n\n    @Input()\n    get inkbarPosition() {\n        return this._position;\n    }\n    set inkbarPosition(value: string) {\n        const position = value || 'bottom';\n        this._updateClass(position, this._position);\n        this._position = position;\n    }\n\n    @Input()\n    get inkbarColor() {\n        return this._color;\n    }\n\n    set inkbarColor(value: string) {\n        const color = value || 'primary'\n        this._updateClass(color, this._color);\n        this._color = color;\n    }\n\n    constructor(private renderer: Renderer2, private elm: ElementRef) {\n        // add default classes;\n        this._updateClass(this._color, null);\n        this._updateClass(this._position, null);\n    }\n\n    // method to update the class based on the input\n    private _updateClass(newValue, oldValue) {\n        if (oldValue) {\n            // remove class only if newValue is not null\n            this.renderer.removeClass(this.elm.nativeElement, `ruf-inkbar-${oldValue}`);\n        }\n        if (newValue) {\n            this.renderer.addClass(this.elm.nativeElement, `ruf-inkbar-${newValue}`);\n        }\n    }\n}\n\n\n@Directive({\n    selector: '[rufInkbarActive]',\n    exportAs: 'rufInkbarActive'\n})\n\nexport class RufInkbarActiveDirective {\n    @HostBinding('class.ruf-inkbar-item') rufInkbarItem = 'ruf-inkbar-item';\n    @HostBinding('class.ruf-inkbar-active')\n    get _inkbarActive(): boolean {\n        return this.rufInkbarActive;\n    }\n    @Input() rufInkbarActive: boolean;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufInkbarDirective, RufInkbarActiveDirective } from './inkbar.directive';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [RufInkbarDirective, RufInkbarActiveDirective],\n    exports : [\n        RufInkbarDirective, RufInkbarActiveDirective\n    ]\n\n})\n\nexport class RufInkbarModule {\n\n}\n","import {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  Input,\n  Output,\n  EventEmitter,\n  OnDestroy\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs';\nimport { RufShellIntl } from '../utils/shell-intl';\n\n@Component({\n  selector: 'ruf-side-panel',\n  styleUrls: ['./side-panel.component.scss'],\n  templateUrl: './side-panel.component.html',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\n\nexport class RufSidePanelComponent implements OnDestroy {\n\n  private _intlChanges: Subscription;\n  private _pinLabel: string;\n  private _unpinLabel: string;\n\n  /* tslint:disable:no-input-rename */\n  @Input('pinned') isPinned = false;\n  @Output() togglePin = new EventEmitter();\n\n  @Input()\n  get pinLabel() {\n    return this._pinLabel || this._intl.sidepanel.aria.pinLabel;\n  }\n  set pinLabel(value: string) {\n    this._pinLabel = value;\n  }\n\n  @Input()\n  get unpinLabel() {\n    return this._unpinLabel || this._intl.sidepanel.aria.unpinLabel;\n  }\n  set unpinLabel(value: string) {\n    this._unpinLabel = value;\n  }\n\n  get toggleLabel() {\n    return this.isPinned ? this.unpinLabel : this.pinLabel;\n  }\n\n  constructor( private _intl: RufShellIntl,\n               private changeDetectorRef: ChangeDetectorRef\n              ) {\n         this._intlChanges = _intl.changes.subscribe(() => {\n         changeDetectorRef.markForCheck();\n      });\n   }\n\n onPintoggle($event) {\n   this.isPinned = !this.isPinned;\n   this.togglePin.emit({'pinned': this.isPinned});\n }\n\n  ngOnDestroy() {\n    this._intlChanges.unsubscribe();\n  }\n}\n","import { NgModule } from '@angular/core'\nimport { CommonModule } from '@angular/common';\n\nimport { RufIconModule } from '../icon/icon.module';\nimport { RufUniqueIdModule } from '../unique-id/unique-id.module';\nimport { RufUtilsModule } from '../utils/utils.module';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { RufSidePanelComponent } from './side-panel.component'\n\n@NgModule({\n    imports: [\n      CommonModule,\n      MatButtonModule,\n      MatIconModule,\n      RufIconModule,\n      RufUtilsModule,\n      RufUniqueIdModule\n    ],\n    declarations: [ RufSidePanelComponent ],\n    exports: [ RufSidePanelComponent ]\n})\n\nexport class RufSidePanelModule {}\n","import { FlexLayoutModule } from '@angular/flex-layout';\nimport { NgModule } from '@angular/core';\nimport { RufDynamicMenubarModule } from './dynamic-menubar/dynamic-menubar.module';\nimport { RufDynamicSideMenuModule } from './dynamic-sidemenu/dynamic-sidemenu.module';\nimport { RufMenubarModule } from './menubar/menubar.module';\nimport { RufSidemenuModule } from './sidemenu/sidemenu.module';\nimport { RufBannerModule } from './banner/banner.module';\nimport { RufToolbarModule } from './toolbar/toolbar.module';\nimport { RufAppCanvasModule } from './app-canvas/app-canvas.module';\nimport { RufFooterModule } from './footer/footer.module';\nimport { RufLayoutModule } from './layout/layout.module';\nimport { RufI18nModule } from './i18n/i18n.module';\nimport { RufLabeledIconModule } from './labeled-icon/labeled-icon.module';\nimport { RufIconButtonModule } from './icon-button/icon-button.module';\nimport { RufPageHeaderModule } from './page-header/page-header.module';\nimport { RufNavbarModule } from './navbar/navbar.module';\nimport { RufMegamenuModule } from './megamenu/megamenu.module';\nimport { RufDialogPanelModule } from './dialog/dialog-panel.module';\nimport { RufUtilsModule } from './utils/utils.module';\nimport { RufRouterModule } from './router/router.module';\nimport { RufMenuLabelModule } from './menu-label/menu-label.module';\nimport { RufUniqueIdModule } from './unique-id/unique-id.module';\nimport { RufSitemapModule } from './sitemap/sitemap.module';\nimport { RufDropdownPanelModule } from './dropdown-panel/dropdown-panel.module';\nimport { RufToggleModule } from './toggle/toggle.module';\nimport { RufTriggerModule } from './trigger/trigger.module';\nimport { RufCardModule } from './card/card.module';\nimport { RufIconModule } from './icon/icon.module';\nimport { RufStatusbarModule } from './statusbar/statusbar.module';\nimport { RufEllipsisModule } from './ellipsis/ellipsis.module';\nimport { RufSidePanelModule } from './side-panel/side-panel.module';\nimport { RufInkbarModule } from './inkbar/inkbar.module';\n\nconst SHELL_MODULES = [\n  RufToggleModule, // Added RufToggleModule on top to make sure it binds click event first.\n  RufTriggerModule,\n  RufDynamicMenubarModule,\n  RufDynamicSideMenuModule,\n  RufMenubarModule,\n  RufSidemenuModule,\n  RufBannerModule,\n  RufToolbarModule,\n  RufAppCanvasModule,\n  RufFooterModule,\n  RufLayoutModule,\n  RufI18nModule,\n  RufLabeledIconModule,\n  RufIconButtonModule,\n  RufPageHeaderModule,\n  FlexLayoutModule,\n  RufNavbarModule,\n  RufMegamenuModule,\n  RufDialogPanelModule,\n  RufUtilsModule,\n  RufRouterModule,\n  RufMenuLabelModule,\n  RufUniqueIdModule,\n  RufSitemapModule,\n  RufDropdownPanelModule,\n  RufCardModule,\n  RufIconModule,\n  RufStatusbarModule,\n  RufEllipsisModule,\n  RufSidePanelModule,\n  RufInkbarModule\n];\n\n@NgModule({\n  imports: [\n    RufToggleModule,\n    RufTriggerModule,\n    RufDynamicMenubarModule,\n    RufDynamicSideMenuModule,\n    RufMenubarModule,\n    RufSidemenuModule,\n    RufBannerModule,\n    RufToolbarModule,\n    RufAppCanvasModule,\n    RufFooterModule,\n    RufLayoutModule,\n    RufI18nModule,\n    FlexLayoutModule,\n    RufLabeledIconModule,\n    RufIconButtonModule,\n    RufPageHeaderModule,\n    RufNavbarModule,\n    RufDialogPanelModule,\n    RufUtilsModule,\n    RufRouterModule,\n    RufMegamenuModule,\n    RufUniqueIdModule,\n    RufSitemapModule,\n    RufDropdownPanelModule,\n    RufCardModule,\n    RufIconModule,\n    RufStatusbarModule,\n    RufEllipsisModule,\n    RufSidePanelModule,\n    RufInkbarModule\n  ],\n  exports: SHELL_MODULES\n})\nexport class RufShellRootModule {}\n\n@NgModule({\n  imports: SHELL_MODULES,\n  exports: SHELL_MODULES,\n  providers: []\n})\nexport class RufShellModule {}\n","import {\n  Component,\n  ContentChild,\n  TemplateRef,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  EventEmitter,\n  Input,\n  Output,\n  AfterViewInit,\n  ElementRef,\n  OnChanges,\n  OnDestroy,\n  SimpleChanges,\n  ViewChildren,\n  QueryList,\n  HostListener\n} from '@angular/core';\n\nimport { Subscription } from 'rxjs';\nimport { MatButtonToggle } from '@angular/material/button-toggle';\n\nimport { RufDynamicSegmentItem } from './dynamic-segment-item.model';\nimport { RufKeyboardNavigation } from '../input/keyboard';\n\n@Component({\n  selector: 'ruf-dynamic-segment',\n  templateUrl: './dynamic-segment.component.html',\n  styleUrls: ['./dynamic-segment.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RufDynamicSegmentComponent implements AfterViewInit, OnChanges, OnDestroy {\n  private _keyboardNav: RufKeyboardNavigation;\n  private _selectedPath: string;\n  private ativeItemClip: boolean;\n  private subscription;\n\n  @Input() items: RufDynamicSegmentItem[] = [];\n  @Input() showActiveItemClip: boolean;\n  /* tslint:disable:no-output-rename */\n  // Renaming output to avoid duplicate `select` identifiers\n  @Output('select') selectEmitter = new EventEmitter<RufDynamicSegmentItem>();\n\n  @ViewChildren(MatButtonToggle) segmentItems: QueryList<MatButtonToggle>;\n  @ContentChild(TemplateRef, {static: false}) navActions;\n\n  @Input()\n  set selectedPath(id: string) {\n    this._selectedPath = id;\n  }\n\n  get selectedPath() {\n    return this._selectedPath;\n  }\n\n  constructor(protected _elementRef: ElementRef) { }\n\n  ngAfterViewInit(): void {\n    this.addNewKeyboardNav();\n    this.segmentItems.changes.subscribe(() => {\n      this.addNewKeyboardNav();\n    });\n  }\n\n  @HostListener('keydown', ['$event'])\n  onKey(event: KeyboardEvent) {\n    this._keyboardNav.onKeyDown(event);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.selectedPath && changes.selectedPath.currentValue) {\n      this.selectSegmentItem({path: changes.selectedPath.currentValue});\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  // Set Keyboard navigation\n  addNewKeyboardNav() {\n    this._keyboardNav = new RufKeyboardNavigation();\n    this.subscription = this._keyboardNav.init(this._elementRef, this.segmentItems).subscribe(item => {\n      this.selectSegmentItem({path: item.value});\n    });\n    this._keyboardNav.addTabIndex(this.segmentItems);\n  }\n\n  /**\n   * Set selectedPath and activate dynamic-segment item\n   * @param item\n   */\n  selectSegmentItem(item: RufDynamicSegmentItem) {\n    this._selectedPath = item.path;\n    const selectedIndex = this.selectedIndex();\n    if (this._keyboardNav) {\n      this._keyboardNav.setActiveItem((selectedIndex === -1) ? 0 : selectedIndex);\n    }\n    if (this.segmentItems) {\n      // if segmentItems are not present, the component view is not loaded yet.\n      // This means 'selectSegmentItem' is called from 'ngOnChanges' and the host element has [selectedPath] input.\n      const selectedItem = (selectedIndex === -1) ? null : this.items[selectedIndex];\n      this.selectEmitter.emit(selectedItem);\n    }\n\n  }\n\n  /**\n   * @returns - index of the selected dynamic-segment item. -1 if no dynamic-segment is selected.\n   */\n  selectedIndex(): number {\n    let index = -1;\n    if (this.segmentItems) {\n      index = this.items.findIndex( (segmentItem, i) => this._matches(segmentItem.path));\n    }\n    return index;\n  }\n\n  private _matches(path: string) {\n    if (path && this.selectedPath) {\n      const pattern = new RegExp('^((\\/)?' + this.selectedPath + ')(\\/.*)?$');  // use word boundary to exact match\n      if (path === this.selectedPath || pattern.test(path)) { // match with and parent dynamic-segment item\n        return true;\n      }\n    }\n    return false;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RufDynamicSegmentComponent } from './dynamic-segment.component';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { RufUniqueIdModule } from './../unique-id/unique-id.module';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MatButtonToggleModule,\n        RufUniqueIdModule\n    ],\n    declarations: [\n        RufDynamicSegmentComponent\n    ],\n    exports: [\n        RufDynamicSegmentComponent\n    ]\n})\nexport class RufDynamicSegmentModule { }\n"]}