import * as tslib_1 from "tslib";
import { ChangeDetectorRef, ChangeDetectionStrategy, Component, Input, Output, HostBinding, ViewEncapsulation, EventEmitter, ViewChild, ElementRef } from '@angular/core';
import { trigger, state, style, transition, animate } from '@angular/animations';
import { RufShellIntl } from '../utils/shell-intl';
var RufStatusbarComponent = /** @class */ (function () {
    function RufStatusbarComponent(_intl, changeDetectorRef) {
        this._intl = _intl;
        this.color = 'accent';
        this.closeable = true;
        this.expandable = false;
        this.border = true;
        this.isSubtitleEmpty = false;
        this.visible = true;
        this.dismiss = new EventEmitter();
        this._intlChanges = _intl.changes.subscribe(function () { return changeDetectorRef.markForCheck(); });
    }
    Object.defineProperty(RufStatusbarComponent.prototype, "closeAriaLabel", {
        get: function () {
            return this._closeAriaLabel || this._intl.statusbar.aria.closeIconLabel;
        },
        set: function (value) {
            this._closeAriaLabel = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RufStatusbarComponent.prototype, "expandAriaLabel", {
        get: function () {
            return this._expandAriaLabel || this._intl.statusbar.aria.expandIconLabel;
        },
        set: function (value) {
            this._expandAriaLabel = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(RufStatusbarComponent.prototype, "_class", {
        get: function () {
            var colorClass = this.color ? "ruf-" + this.color : 'ruf-accent';
            var borderClass = !this.border ? "ruf-statusbar-noborder" : '';
            return colorClass + " " + borderClass;
        },
        enumerable: true,
        configurable: true
    });
    RufStatusbarComponent.prototype.onDismiss = function ($event) {
        this.dismiss.emit();
    };
    RufStatusbarComponent.prototype.ngOnDestroy = function () {
        this._intlChanges.unsubscribe();
    };
    RufStatusbarComponent.prototype.ngAfterContentInit = function () {
        this.isSubtitleEmpty = this.subtitleContent.nativeElement.innerHTML.trim() === '';
    };
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], RufStatusbarComponent.prototype, "title", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], RufStatusbarComponent.prototype, "color", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], RufStatusbarComponent.prototype, "closeable", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], RufStatusbarComponent.prototype, "expandable", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], RufStatusbarComponent.prototype, "icon", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], RufStatusbarComponent.prototype, "border", void 0);
    tslib_1.__decorate([
        ViewChild('subtitleRef', { static: true }),
        tslib_1.__metadata("design:type", ElementRef)
    ], RufStatusbarComponent.prototype, "subtitleContent", void 0);
    tslib_1.__decorate([
        HostBinding('@animation'),
        Input(),
        tslib_1.__metadata("design:type", Object)
    ], RufStatusbarComponent.prototype, "visible", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], RufStatusbarComponent.prototype, "closeAriaLabel", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], RufStatusbarComponent.prototype, "expandAriaLabel", null);
    tslib_1.__decorate([
        HostBinding('class'),
        tslib_1.__metadata("design:type", Object),
        tslib_1.__metadata("design:paramtypes", [])
    ], RufStatusbarComponent.prototype, "_class", null);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", Object)
    ], RufStatusbarComponent.prototype, "dismiss", void 0);
    RufStatusbarComponent = tslib_1.__decorate([
        Component({
            selector: 'ruf-statusbar',
            template: "<div class=\"ruf-statusbar-wrapper\" rufId=\"statubar\" role=\"alert\">\n  <div class=\"ruf-statusbar-header\">\n    <ng-content select=\"ruf-statusbar-icon\"></ng-content>\n    <div *ngIf=\"icon\" class=\"ruf-statusbar-icon\" rufId=\"ruf-statusbar-default-icon\">\n      <mat-icon rufId [rufIcon]=\"icon\" rufIconStyle='md' [color]=\"color\"></mat-icon>\n    </div>\n    <div class=\"ruf-statusbar-content\" [ngClass]=\"{'no-header-content': !title && isSubtitleEmpty}\">\n      <div class=\"ruf-statusbar-header-text\">\n        <div *ngIf=\"title\" class=\"ruf-statusbar-title\" rufId=\"statubar_title\">{{title}}</div>\n        <div class=\"ruf-statusbar-subtitle\" #subtitleRef rufId=\"statusbar-subtitle\">\n          <ng-content></ng-content>\n        </div>\n      </div>\n      <div class=\"ruf-statusbar-detail\" [@expanded]=\"'' + (!expandable || trigger.value)\" rufId=\"statubar_detail\">\n        <ng-content select=\"ruf-statusbar-description, .ruf-statusbar-description\"></ng-content>\n      </div>\n    </div>\n    <button type=\"button\" [hidden]=\"!expandable\" rufToggleChevron fisStyle mat-icon-button class=\"ruf-statusbar-expand\" #trigger=\"rufToggle\"\n      [attr.aria-label]=\"expandAriaLabel\" rufId=\"statubar_expand\">\n    </button>\n\n    <button type=\"button\" *ngIf=\"closeable\" fisStyle mat-icon-button class=\"ruf-statusbar-close\" (click)=\"onDismiss($event)\" [attr.aria-label]=\"closeAriaLabel\"\n      rufId=\"statubar_close\">\n      <mat-icon rufIconStyle=\"sm\" fisIcon=\"close\"></mat-icon>\n    </button>\n  </div>\n</div>\n",
            animations: [trigger('animation', [
                    state('0', style({ height: '0', 'min-height': '0', visibility: 'hidden' })),
                    state('1', style({ height: '*', 'min-height': '*', visibility: 'visible' })),
                    transition('0 => 1', animate('250ms ease-in')),
                    transition('1 => 0', animate('250ms ease-out'))
                ]), trigger('expanded', [
                    state('false', style({ height: 0, visibility: 'hidden' })),
                    state('true', style({ height: '*', visibility: 'visible' })),
                    transition('false => true', animate('300ms ease-in-out')),
                    transition('true => false', animate('300ms ease-in-out'))
                ])],
            encapsulation: ViewEncapsulation.None,
            changeDetection: ChangeDetectionStrategy.OnPush,
            styles: ["ruf-statusbar{border-bottom-right-radius:.1875rem;border-left:.375rem solid;border-top-right-radius:.1875rem;display:block;min-height:2.5rem;overflow:hidden;padding:0 0 0 1rem;position:relative;-webkit-transition:border-left-color .2s;transition:border-left-color .2s}ruf-statusbar .ruf-statusbar-wrapper{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;margin:auto;min-height:2.5rem}ruf-statusbar.ruf-statusbar-noborder{border-left:none}ruf-statusbar .ruf-statusbar-header{display:-webkit-box;display:flex;padding:2px}ruf-statusbar .ruf-statusbar-header .ruf-statusbar-icon{flex-shrink:0;margin-right:10px;overflow:hidden;padding-top:.4375rem;text-align:center}ruf-statusbar .ruf-statusbar-title{flex-shrink:1;margin-right:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}ruf-statusbar .ruf-statusbar-subtitle{-webkit-box-flex:1;flex-grow:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}ruf-statusbar .ruf-statusbar-close{flex-shrink:0;height:2.125rem!important;margin-left:auto;margin-right:.1875rem;min-width:auto}ruf-statusbar .ruf-statusbar-expand{flex-shrink:0;font-size:18px;height:1.25rem;margin-left:auto;min-width:auto}ruf-statusbar .ruf-statusbar-detail{display:-webkit-box;display:flex}ruf-statusbar ruf-statusbar-description{overflow-wrap:break-word;width:100%}ruf-statusbar ruf-statusbar-description .ruf-statusbar-description{margin-bottom:.5em;margin-right:.5em}ruf-statusbar ruf-statusbar-description .ruf-statusbar-description[style*=hidden]{margin-bottom:0}ruf-statusbar .ruf-statusbar-expand:after{position:inherit}ruf-statusbar .ruf-toggle.ruf-toggle-chevron{height:2.125rem;margin:0 .125rem .125rem;padding-right:.625rem!important}ruf-statusbar .ruf-toggle.ruf-toggle-chevron:after{margin-right:0;padding-left:0;padding-right:0}ruf-statusbar .ruf-statusbar-header-text{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;padding:.125rem 0}ruf-statusbar .ruf-statusbar-content{-webkit-box-flex:1;flex-grow:1;min-height:34px;min-width:0;padding-top:.4375rem;width:100%}ruf-statusbar .no-header-content{padding-top:.25rem}"]
        }),
        tslib_1.__metadata("design:paramtypes", [RufShellIntl, ChangeDetectorRef])
    ], RufStatusbarComponent);
    return RufStatusbarComponent;
}());
export { RufStatusbarComponent };
var RufStatusbarIconComponent = /** @class */ (function () {
    function RufStatusbarIconComponent() {
    }
    RufStatusbarIconComponent = tslib_1.__decorate([
        Component({
            selector: 'ruf-statusbar-icon',
            encapsulation: ViewEncapsulation.None,
            template: "\n    <div class=\"ruf-statusbar-icon\"><ng-content></ng-content></div>\n  "
        })
    ], RufStatusbarIconComponent);
    return RufStatusbarIconComponent;
}());
export { RufStatusbarIconComponent };
var RufStatusbarDescriptionComponent = /** @class */ (function () {
    function RufStatusbarDescriptionComponent() {
    }
    RufStatusbarDescriptionComponent = tslib_1.__decorate([
        Component({
            selector: 'ruf-statusbar-description',
            encapsulation: ViewEncapsulation.None,
            template: "\n   <div class=\"ruf-statusbar-description\"><ng-content></ng-content></div>\n  "
        })
    ], RufStatusbarDescriptionComponent);
    return RufStatusbarDescriptionComponent;
}());
export { RufStatusbarDescriptionComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdHVzYmFyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BydWYvc2hlbGwvIiwic291cmNlcyI6WyJzcmMvc3RhdHVzYmFyL3N0YXR1c2Jhci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxLQUFLLEVBRUwsTUFBTSxFQUNOLFdBQVcsRUFDWCxpQkFBaUIsRUFDakIsWUFBWSxFQUVaLFNBQVMsRUFDVCxVQUFVLEVBQ1gsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUNMLE9BQU8sRUFDUCxLQUFLLEVBQ0wsS0FBSyxFQUNMLFVBQVUsRUFDVixPQUFPLEVBQ1IsTUFBTSxxQkFBcUIsQ0FBQztBQUU3QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFzQm5EO0lBOENFLCtCQUFvQixLQUFtQixFQUFFLGlCQUFvQztRQUF6RCxVQUFLLEdBQUwsS0FBSyxDQUFjO1FBdkM5QixVQUFLLEdBQUcsUUFBUSxDQUFDO1FBQ2pCLGNBQVMsR0FBRyxJQUFJLENBQUM7UUFDakIsZUFBVSxHQUFHLEtBQUssQ0FBQztRQUVuQixXQUFNLEdBQUcsSUFBSSxDQUFDO1FBRXZCLG9CQUFlLEdBQUcsS0FBSyxDQUFDO1FBSXhCLFlBQU8sR0FBRyxJQUFJLENBQUM7UUEyQkwsWUFBTyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFHckMsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxjQUFNLE9BQUEsaUJBQWlCLENBQUMsWUFBWSxFQUFFLEVBQWhDLENBQWdDLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBNUJELHNCQUFJLGlEQUFjO2FBQWxCO1lBQ0UsT0FBTyxJQUFJLENBQUMsZUFBZSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7UUFDMUUsQ0FBQzthQUVELFVBQW1CLEtBQWE7WUFDOUIsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7UUFDL0IsQ0FBQzs7O09BSkE7SUFPRCxzQkFBSSxrREFBZTthQUFuQjtZQUNFLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7UUFDNUUsQ0FBQzthQUVELFVBQW9CLEtBQWE7WUFDL0IsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztRQUNoQyxDQUFDOzs7T0FKQTtJQU9ELHNCQUFJLHlDQUFNO2FBQVY7WUFDRSxJQUFNLFVBQVUsR0FBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFPLElBQUksQ0FBQyxLQUFPLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztZQUNwRSxJQUFNLFdBQVcsR0FBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDbEUsT0FBVSxVQUFVLFNBQUksV0FBYSxDQUFDO1FBQ3hDLENBQUM7OztPQUFBO0lBUUQseUNBQVMsR0FBVCxVQUFVLE1BQU07UUFDZCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCwyQ0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBRUQsa0RBQWtCLEdBQWxCO1FBQ0UsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQ3BGLENBQUM7SUF2RFE7UUFBUixLQUFLLEVBQUU7O3dEQUFlO0lBRWQ7UUFBUixLQUFLLEVBQUU7O3dEQUFrQjtJQUNqQjtRQUFSLEtBQUssRUFBRTs7NERBQWtCO0lBQ2pCO1FBQVIsS0FBSyxFQUFFOzs2REFBb0I7SUFDbkI7UUFBUixLQUFLLEVBQUU7O3VEQUFjO0lBQ2I7UUFBUixLQUFLLEVBQUU7O3lEQUFlO0lBQ21CO1FBQXpDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFDLENBQUM7MENBQWtCLFVBQVU7a0VBQU07SUFLM0U7UUFGQyxXQUFXLENBQUMsWUFBWSxDQUFDO1FBQ3pCLEtBQUssRUFBRTs7MERBQ087SUFHZjtRQURDLEtBQUssRUFBRTs7OytEQUdQO0lBT0Q7UUFEQyxLQUFLLEVBQUU7OztnRUFHUDtJQU9EO1FBREMsV0FBVyxDQUFDLE9BQU8sQ0FBQzs7O3VEQUtwQjtJQUVTO1FBQVQsTUFBTSxFQUFFOzswREFBOEI7SUE1QzVCLHFCQUFxQjtRQXBCakMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLGVBQWU7WUFDekIsZ2pEQUF5QztZQUd6QyxVQUFVLEVBQUUsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFO29CQUNoQyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsWUFBWSxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztvQkFDMUUsS0FBSyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBQyxDQUFDLENBQUM7b0JBQzNFLFVBQVUsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO29CQUM5QyxVQUFVLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2lCQUM5QyxDQUFDLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRTtvQkFDeEIsS0FBSyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO29CQUMxRCxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBQyxDQUFDLENBQUM7b0JBQzNELFVBQVUsQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7b0JBQ3pELFVBQVUsQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7aUJBQzFELENBQUMsQ0FBQztZQUNILGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNOztTQUNoRCxDQUFDO2lEQWdEMkIsWUFBWSxFQUFxQixpQkFBaUI7T0E5Q2xFLHFCQUFxQixDQTZEakM7SUFBRCw0QkFBQztDQUFBLEFBN0RELElBNkRDO1NBN0RZLHFCQUFxQjtBQXVFbEM7SUFBQTtJQUF3QyxDQUFDO0lBQTVCLHlCQUF5QjtRQVByQyxTQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsb0JBQW9CO1lBQzlCLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO1lBQ3JDLFFBQVEsRUFBRSw2RUFFVDtTQUNGLENBQUM7T0FDVyx5QkFBeUIsQ0FBRztJQUFELGdDQUFDO0NBQUEsQUFBekMsSUFBeUM7U0FBNUIseUJBQXlCO0FBU3RDO0lBQUE7SUFBK0MsQ0FBQztJQUFuQyxnQ0FBZ0M7UUFQNUMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLDJCQUEyQjtZQUNyQyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTtZQUNyQyxRQUFRLEVBQUUsbUZBRVQ7U0FDRixDQUFDO09BQ1csZ0NBQWdDLENBQUc7SUFBRCx1Q0FBQztDQUFBLEFBQWhELElBQWdEO1NBQW5DLGdDQUFnQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPdXRwdXQsXG4gIEhvc3RCaW5kaW5nLFxuICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgRXZlbnRFbWl0dGVyLFxuICBBZnRlckNvbnRlbnRJbml0LFxuICBWaWV3Q2hpbGQsXG4gIEVsZW1lbnRSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICB0cmlnZ2VyLFxuICBzdGF0ZSxcbiAgc3R5bGUsXG4gIHRyYW5zaXRpb24sXG4gIGFuaW1hdGVcbn0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ1ZlNoZWxsSW50bCB9IGZyb20gJy4uL3V0aWxzL3NoZWxsLWludGwnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdydWYtc3RhdHVzYmFyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3N0YXR1c2Jhci5jb21wb25lbnQuaHRtbCcsXG5cbiAgc3R5bGVVcmxzOiBbJy4vc3RhdHVzYmFyLmNvbXBvbmVudC5zY3NzJ10sXG4gIGFuaW1hdGlvbnM6IFt0cmlnZ2VyKCdhbmltYXRpb24nLCBbXG4gICAgc3RhdGUoJzAnLCBzdHlsZSh7IGhlaWdodDogJzAnLCAnbWluLWhlaWdodCc6ICcwJywgdmlzaWJpbGl0eTogJ2hpZGRlbid9KSksXG4gICAgc3RhdGUoJzEnLCBzdHlsZSh7IGhlaWdodDogJyonLCAnbWluLWhlaWdodCc6ICcqJywgdmlzaWJpbGl0eTogJ3Zpc2libGUnfSkpLFxuICAgIHRyYW5zaXRpb24oJzAgPT4gMScsIGFuaW1hdGUoJzI1MG1zIGVhc2UtaW4nKSksXG4gICAgdHJhbnNpdGlvbignMSA9PiAwJywgYW5pbWF0ZSgnMjUwbXMgZWFzZS1vdXQnKSlcbiAgICBdKSwgdHJpZ2dlcignZXhwYW5kZWQnLCBbXG4gICAgc3RhdGUoJ2ZhbHNlJywgc3R5bGUoeyBoZWlnaHQ6IDAsIHZpc2liaWxpdHk6ICdoaWRkZW4nIH0pKSxcbiAgICBzdGF0ZSgndHJ1ZScsIHN0eWxlKHsgaGVpZ2h0OiAnKicsIHZpc2liaWxpdHk6ICd2aXNpYmxlJ30pKSxcbiAgICB0cmFuc2l0aW9uKCdmYWxzZSA9PiB0cnVlJywgYW5pbWF0ZSgnMzAwbXMgZWFzZS1pbi1vdXQnKSksXG4gICAgdHJhbnNpdGlvbigndHJ1ZSA9PiBmYWxzZScsIGFuaW1hdGUoJzMwMG1zIGVhc2UtaW4tb3V0JykpXG4gIF0pXSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5cbmV4cG9ydCBjbGFzcyBSdWZTdGF0dXNiYXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3ksIEFmdGVyQ29udGVudEluaXQge1xuICBwcml2YXRlIF9pbnRsQ2hhbmdlczogU3Vic2NyaXB0aW9uO1xuICBwcml2YXRlIF9jbG9zZUFyaWFMYWJlbDogc3RyaW5nO1xuICBwcml2YXRlIF9leHBhbmRBcmlhTGFiZWw6IHN0cmluZztcblxuICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpIGNvbG9yID0gJ2FjY2VudCc7XG4gIEBJbnB1dCgpIGNsb3NlYWJsZSA9IHRydWU7XG4gIEBJbnB1dCgpIGV4cGFuZGFibGUgPSBmYWxzZTtcbiAgQElucHV0KCkgaWNvbjogc3RyaW5nO1xuICBASW5wdXQoKSBib3JkZXIgPSB0cnVlO1xuICBAVmlld0NoaWxkKCdzdWJ0aXRsZVJlZicsIHtzdGF0aWM6IHRydWV9KSBzdWJ0aXRsZUNvbnRlbnQ6IEVsZW1lbnRSZWY8YW55PjtcbiAgaXNTdWJ0aXRsZUVtcHR5ID0gZmFsc2U7XG5cbiAgQEhvc3RCaW5kaW5nKCdAYW5pbWF0aW9uJylcbiAgQElucHV0KClcbiAgdmlzaWJsZSA9IHRydWU7XG5cbiAgQElucHV0KClcbiAgZ2V0IGNsb3NlQXJpYUxhYmVsKCkge1xuICAgIHJldHVybiB0aGlzLl9jbG9zZUFyaWFMYWJlbCB8fCB0aGlzLl9pbnRsLnN0YXR1c2Jhci5hcmlhLmNsb3NlSWNvbkxhYmVsO1xuICB9XG5cbiAgc2V0IGNsb3NlQXJpYUxhYmVsKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9jbG9zZUFyaWFMYWJlbCA9IHZhbHVlO1xuICB9XG5cbiAgQElucHV0KClcbiAgZ2V0IGV4cGFuZEFyaWFMYWJlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZXhwYW5kQXJpYUxhYmVsIHx8IHRoaXMuX2ludGwuc3RhdHVzYmFyLmFyaWEuZXhwYW5kSWNvbkxhYmVsO1xuICB9XG5cbiAgc2V0IGV4cGFuZEFyaWFMYWJlbCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fZXhwYW5kQXJpYUxhYmVsID0gdmFsdWU7XG4gIH1cblxuICBASG9zdEJpbmRpbmcoJ2NsYXNzJylcbiAgZ2V0IF9jbGFzcygpIHtcbiAgICBjb25zdCBjb2xvckNsYXNzID0gIHRoaXMuY29sb3IgPyBgcnVmLSR7dGhpcy5jb2xvcn1gIDogJ3J1Zi1hY2NlbnQnO1xuICAgIGNvbnN0IGJvcmRlckNsYXNzID0gICF0aGlzLmJvcmRlciA/IGBydWYtc3RhdHVzYmFyLW5vYm9yZGVyYCA6ICcnO1xuICAgIHJldHVybiBgJHtjb2xvckNsYXNzfSAke2JvcmRlckNsYXNzfWA7XG4gIH1cblxuICBAT3V0cHV0KCkgZGlzbWlzcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9pbnRsOiBSdWZTaGVsbEludGwsIGNoYW5nZURldGVjdG9yUmVmOiBDaGFuZ2VEZXRlY3RvclJlZikge1xuICAgIHRoaXMuX2ludGxDaGFuZ2VzID0gX2ludGwuY2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4gY2hhbmdlRGV0ZWN0b3JSZWYubWFya0ZvckNoZWNrKCkpO1xuICB9XG5cbiAgb25EaXNtaXNzKCRldmVudCkge1xuICAgIHRoaXMuZGlzbWlzcy5lbWl0KCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9pbnRsQ2hhbmdlcy51bnN1YnNjcmliZSgpO1xuICB9XG5cbiAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgIHRoaXMuaXNTdWJ0aXRsZUVtcHR5ID0gdGhpcy5zdWJ0aXRsZUNvbnRlbnQubmF0aXZlRWxlbWVudC5pbm5lckhUTUwudHJpbSgpID09PSAnJztcbiAgfVxufVxuXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3J1Zi1zdGF0dXNiYXItaWNvbicsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIHRlbXBsYXRlOiBgXG4gICAgPGRpdiBjbGFzcz1cInJ1Zi1zdGF0dXNiYXItaWNvblwiPjxuZy1jb250ZW50PjwvbmctY29udGVudD48L2Rpdj5cbiAgYFxufSlcbmV4cG9ydCBjbGFzcyBSdWZTdGF0dXNiYXJJY29uQ29tcG9uZW50IHt9XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3J1Zi1zdGF0dXNiYXItZGVzY3JpcHRpb24nLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICB0ZW1wbGF0ZTogYFxuICAgPGRpdiBjbGFzcz1cInJ1Zi1zdGF0dXNiYXItZGVzY3JpcHRpb25cIj48bmctY29udGVudD48L25nLWNvbnRlbnQ+PC9kaXY+XG4gIGBcbn0pXG5leHBvcnQgY2xhc3MgUnVmU3RhdHVzYmFyRGVzY3JpcHRpb25Db21wb25lbnQge31cblxuIl19