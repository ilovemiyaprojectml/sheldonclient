@import 'node_modules/@ruf/theming/styles/theming/_theming.scss';

@mixin _ruf-toolbar-color($background, $foreground) {
  background: $background;
  color: $foreground;
}

@mixin _ruf-toolbar-color-from-palette($palette) {
  @include _ruf-toolbar-color(ruf-color($palette), ruf-color($palette, default-contrast));
}

@mixin _ruf-toolbar-separator-color($color) {
  .ruf-toolbar-separator {
    border-left-color: $color;
    opacity: 1.0; // set default value when ruf-toolbar classes like ruf-default, ruf-primary etc. are used.
  }
}

@mixin _ruf-toolbar-separator($palette, $opacity: 0.5) {
  @include _ruf-toolbar-separator-color(ruf-color($palette, default-contrast, $opacity));
}

@mixin ruf-toolbar-theme($theme) {
  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);
  $emphasis: map-get($theme, emphasis);

  $background: map-get($theme, background);
  $foreground: map-get($theme, foreground);

  $ruf-toolbar-background: ruf-color($background, app-bar) !default;
  $ruf-banner-color: ruf-color($foreground, text) !default;

  ruf-toolbar {

    // default background and foreground colors are inherited

    &.ruf-default {
      @include _ruf-toolbar-color($ruf-toolbar-background, $ruf-banner-color);
      @include _ruf-toolbar-separator(ruf-palette(ruf-palette-from-color($ruf-toolbar-background)), 0.3);
    }

    &.ruf-primary {
      @include _ruf-toolbar-color-from-palette($primary);
      @include _ruf-toolbar-separator($primary);
    }

    &.ruf-accent {
      @include _ruf-toolbar-color-from-palette($accent);
      @include _ruf-toolbar-separator($accent);
    }

    &.ruf-emphasis {
      @include _ruf-toolbar-color-from-palette($emphasis);
      @include _ruf-toolbar-separator($emphasis);
    }

    .ruf-toolbar-separator {
      border-left-color: inherit; // takes the foreground color of the parent element
      opacity: 0.3;
    }

    a {
      color: inherit;
    }
  }
}


@mixin ruf-toolbar-typography($config) {
  ruf-toolbar {
    font-family: ruf-font-family($config);
  }
}
