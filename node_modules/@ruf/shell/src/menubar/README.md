# Menubar

The RUF Menubar component can be used where an menu of inline items is needed.
It renders multiple menu items and allows the user to select one.

[]()                 | []()
-------------------- | --------------------
Selector             | ruf-menubar
Class Name           | RufMenubarComponent
Module name          | RufMenubarModule
Presentational       | Yes
FIS UX Guidelines    | [NavBar](https://ux.fisglobal.com/ux/menutouch.html#/navbar)
Dependencies         | NA

## Appearance and Behavior

The component is a container for clickable menubar items. Each item can be selected on click and become activated.
An activated item will have an "ink bar" to visually identify the activated state of that item.
A menubar can be used horizontally or vertically.

Clicking on an item (selecting) doesn't necessarily activate the item. The activation of the item can be controlled externally using the selectedPath property binding.

### Styling

Most of the menu styling will be inherited from its parent, ex. height, fonts.

Colors are, by default, inherited from the parent. You can declaratively define the inkbar color using the activatedColor input.

Variable                             | Default           | Description
------------------------------------ | ----------------- | -----------
$ruf-menubar-item-padding-vertical   | ruf-to-rem($ruf-vunit * 8px) | Menu item vertical padding used when direction is column.
$ruf-menubar-item-padding-horizontal | ruf-to-rem(10px) | Menu item horizontal padding used when direction is row (default). Also used to separate item content from the inkbar when direction is column.
$ruf-menubar-inkbar-width            | ruf-to-rem($ruf-vunit * 6px) | Thickness of the inkbar.
$ruf-menubar-highlight-color         | ruf-color($background, hover)  | Background color for item hover and focus.
$ruf-menubar-item-active-color       | ruf-color($accent) | Color of the inkbar which identifies active menu items.

### Responsiveness

The menubar will have some adaptiveness features in the future: it will provide an overflow dropdown when the items cannot be displayed in the available space.
Other aspects should be controlled using the direction input and the [RUF layout directives](https://wiki.fnis.com/x/ifX4WgI).

## Accessibility
### ARIA Attributes
This component assigns a role attribute of menubar to the ruf-menubar element and a role of menuitem to each of the items.

See [ARIA Guidelines](https://www.w3.org/WAI/GL/wiki/Using_ARIA_menus) for menus

### Keyboard Accessibility
The menubar component also participates in tabbed navigation. The individual items however do not. You instead need to use keyboard navigation to assign focus and select an item.

After tabbing into the menubar the following applies:
* `UP-ARROW` or `LEFT-ARROW` moves focus upward/left within the menubar, and recycles focus to the bottom/right of the menubar if pressed on the top/right-most item
* `DOWN-ARROW` or `RIGHT-ARROW` moves focus downwards/right within the menubar, and recycles focus to the top/left of the menubar if pressed on the bottom/right-most item
* `SPACE` or `ENTER` will select the focused menubar item

### Future considerations:
- aria-haspopup (does the item have a dropdown that it opens)

## Inputs

### selectedPath

Type: string

Optional. Use this property to control the item that should be activated.

A path is simply an identifier for an item. Each menu item will use a "startsWith" matching strategy to determine if it is active or not.
This means that if you have an item with a path of users and on with 'users/me' and provide a selectedPath of 'users/me', both items will be activated.

Note: changing this property does not fire a select event.

### activeColor

Type: string

Optional. You can provide the color to be used to identify activated items.
Use one of the theme color names: primary, accent (default), emphasis.

### direction

Type: string

Optional. Can be either row (default) or column.
By default, the menubar will render its items horizontally (in a row).
If column is used, the items will be rendered vertically (in a column).

### inkbarPosition

Type: string

Optional. Can be either end (default) or start.
The inkbar is the colored line that appears when a menu item is activated.
The start and end positions are direction relative:

| Direction | Start                             | End  |
| --------- | --------------------------------- | ---- |
| row       | Displayed on top of the item      | Displayed at the bottom of the item |
| column    | Displayed to the left of the item | Displayed to the right of the item |

Note: only ltr (left to right) orientation is supported.

## Outputs

### select

A MenuItem event is fired on clicking an item in the menu. The event has the following properties:

| Property       | Type   | Description |
| -------------- | ------ | ------------|
| path           | string | Path associated to the menu item clicked. |
| data           | any    | Any value given to the item's data input property. |
| event          | Event  | Original event that triggered this select. `Undefined` if `select` is called through `selectedPath` input |

Example:

```html
<ruf-menubar (select)="doSomething($event)"></ruf-menubar>
<ruf-menubar (select)="selectedPath = $event.path"></ruf-menubar>
```

## Methods

### select

* Signature: select(path: string, data?: any, event?: any)
* Return type: void

Programmatically select an item with a given path (and optional data) and emit MenuItemSelectEvent event.

### activate

* Signature: activate(path: string)
* Return type: void

Activates a path. No select event gets emitted.

## Body

The body should only contain ruf-menubar-item and these will be added as menu items.

## RufMenubarItem Component

[]()                 | []()
-------------------- | --------------------
Selector             | ruf-menubar-item, [ruf-menubar-item]
Class                | RufMenubarItemComponent
Presentational       | Yes

## Inputs

### path

* Type: string

A string identifying the item. You will generally want these to be unique within a menubar.

If no path is provided, no item will be activated.

### data

* Type: any

Optional. A data item to be associated to the item. This data item will be part of the menubar's select event.

### selectable

* Type: boolean
* Default: true

Identifies the item as being selectable or not. If not selectable, clicking on the item will not fire a select event.
This can be useful if you want to define your own click event on the item.

Note: the item can still be activated using the menubar's selectedPath property.

## Examples

```html
<ruf-menubar>
  <a ruf-menubar-item>Item 1</a>
  <a ruf-menubar-item>Item 2</a>
</ruf-menubar>
```
