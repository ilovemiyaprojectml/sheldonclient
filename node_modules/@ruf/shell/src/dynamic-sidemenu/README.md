# Dynamic Sidemenu

The RUF Dynamic Sidemenu can be used to display menuitem vertically on either side of a content area.
It is a metadata component that will take view metadata (path, label, children, icon) as @input and provide a select @output.
It renders multiple menu items and allows the user to select one. The component is internally using `ruf-sidemenu`
so styling will be same as `ruf-sidemenu`.


[]()                 | []()
-------------------- | --------------------
Selector             | ruf-dynamic-sidemenu
Class Name           | RufDynamicSideMenuComponent
Module name          | RufDynamicSideMenuModule
Presentational       | Yes
FIS UX Guidelines    | [Side Main Menu](https://ux.fisglobal.com/ux/menutouch.html#/sidemainmenu)
Dependencies         | NA

## Appearance and Behavior

The component is a container for clickable menubar items. Each item can be selected on click and become activated.
An activated item will have an "ink bar" to visually identify the activated state of that item.

Clicking on an item (selecting) doesn't necessarily activate the item. The activation of the item can be controlled externally using the selectedPath property binding.

### Styling

This component share the same styling as SideMenuComponent because this component is implemented using `ruf-sidemenu`.

###  Detection of Light/Dark background
Dynamic Sidemenu does not add any background or foreground color. It inherits it from the parent. However, the container holding dynamic-sidemenu can have a lighter or darker background irrespective of whether the overall application uses `light` or `dark` theme.
In order for the dynamic-sidemenu to apply proper hover, text colors, a `light` attribute should be added to `ruf-dynamic-sidemenu` tag in component template.
The presence of `light` background suggests that this component has a dark background and lighter hover colors should be used. Similarly, if `light` attribute is not present on element, it assumes that background color is light.

This is just a css selector. It does not add any functionality.

```html
<ruf-dynamic-sidemenu class="ruf-background-primary-dark" light [items]="items" [selectedPath]="selectedPath">
</ruf-dynamic-sidemenu>
```

### Responsiveness

Use the layout directives to control the responsive aspects of your application.
If given a maximum height and the number of menu items is too big to be displayed, a scrollbar will appear next to the menu items.

## Accessibility

The component is implemented using `ruf-sidemenu` so it shares all the attributes like role, aria-label etc. of `ruf-sidemenu`.
Keyboard accessibility will work same as `ruf-sidemenu`.

## Inputs

### items

Type: DynamicSideMenuItem

The collection to be rendered. An item has following attributes:

| Property | Type | Description |
| ---- | ---- | ----------- |
| label | string | Required. The display name for the item. |
| path | string | Required. Path to uniquely identify this item |
| children | DynamicSideMenuItem[] | Children of this item, if any. Will be rendered as a dropdown menu when clicked |
| icon | string | Icon to be placed to the left of the label text |
| params | object | Optional. Params to be passed to the select output emitter for this item |
### selectedPath

Type: string

Optional. Use this property to control the item that should be activated.

A path is simply an identifier for an item. Each menu item will use a "startsWith" matching strategy to determine if it is active or not.
This means that if you have an item with a path of users and on with 'users/me' and provide a selectedPath of 'users/me', both items will be activated.

Note: changing this property does not fire select event.

### activeColor

Type: string

Optional. You can provide the color to be used to identify activated items.
Use one of the theme color names: primary, accent (default), emphasis.

### inkbarPosition

Type: string

Optional. Can be either start (default) or end.
In the dynamic-sidemenu, start will display the inkbar to the left of the menu item that is selected.

### minimized

Type: boolean

Optional. If the value is set to `true`, items in `dynamic-sidemenu` will display only icons (no labels).
This input also has responsive variations e.g. `minimized.xs`, `minimized.gt-md`
which can be used for achieving responsiveness on mobile devices where menu can be displayed in minimized state by default.

If a menu-item has children, child items will be displayed in popover menu.

It supports below breakpoints

`xs, sm, md, lg, xl, gt-xs, gt-sm, gt-md, gt-lg`

### popupBackgroundClass

Type: string

Optional. This input is used along with `minimized` attribute.

This is used to set `background-color` for popover menu.

### multi

Type: boolean

Default: `true`

Optional. Determines whether dynamic-sidemenu should allow multiple expanded items simultaneously.

This is applicable for menuitems having child items.

If set as `false` user can expand only one item at a time while for `true` value user can expand multiple items simultaneously.

## Outputs

### select

A DynamicSideMenuItem object is fired on clicking an item in the menu. The `$event` will therefore be the selected item from the input `items`:

| Property | Type | Description |
| ---- | ---- | ----------- |
| label | string | Required. The display name for the item. |
| path | string | Required. Path to uniquely identify this item |
| children | DynamicSideMenuItem[] | Children of this item, if any. Will be rendered as a dropdown menu when clicked |
| icon | string | Icon to be placed to the left of the label text |

## Examples:

### Simple Dynamic Sidemenu

```html
<ruf-dynamic-sidemenu [items]="items">
</ruf-dynamic-sidemenu>
```

### Dynamic Sidemenu with selectedPath

```html
<ruf-dynamic-sidemenu [items]="items" [selectedPath]="selectedPath">
</ruf-dynamic-sidemenu>
```

### Dynamic sidemenu with select

```html
<ruf-dynamic-sidemenu [items]="items" (select)="handleSelection($event)">
</ruf-dynamic-sidemenu>
```

### Dynamic sidemenu with minimized input

```html
<ruf-dynamic-sidemenu
  [items]="items"
  (select)="handleSelection($event)"
  [minimized]="true"
  popupBackgroundClass="ruf-background-primary-dark">
</ruf-dynamic-sidemenu>
```

### Dynamic sidemenu with minimized=true only on xs and md devices

```html
<ruf-dynamic-sidemenu [items]="items"
  (select)="handleSelection($event)"
  [minimized.xs]="true"
  [minimized.md]="true"
  popupBackgroundClass="ruf-background-primary-dark"
  >
</ruf-dynamic-sidemenu>
```

### Sample Metadata

```json
items: DynamicSideMenuItem[] = [
    {
      label: 'Item 1',
      path: 'item1',
      icon: 'fis-icon-dashboard',
      children: [
        {
          label: 'Child 1',
          path: 'item1/child1'
        },
        {
          label: 'Child 2',
          path: 'item1/child2'
        }
      ]
    },
    {
      label: 'Item 2',
      path: 'item2'
    },
    {
      label: 'Item 3',
      path: 'item3',
      icon: 'fis-icon-settings'
    }
]
```

### Dynamic sidemenu with multi=false, which allows single expansion

```html
<ruf-dynamic-sidemenu [items]="items"
  (select)="handleSelection($event)"
  [multi]="false"
  >
</ruf-dynamic-sidemenu>
```

### Sample Metadata

```json
items: DynamicSideMenuItem[] = [
    {
      label: 'Item 1',
      path: 'item1',
      icon: 'fis-icon-dashboard',
      children: [
        {
          label: 'Child 1',
          path: 'item1/child1'
        },
        {
          label: 'Child 2',
          path: 'item1/child2'
        }
      ]
    },
    {
      label: 'Item 2',
      path: 'item2'
    },
    {
      label: 'Item 3',
      path: 'item3',
      icon: 'fis-icon-settings'
    }
]
```
