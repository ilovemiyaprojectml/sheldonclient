@import 'node_modules/@ruf/theming/styles/theming/_theming.scss';

@mixin ruf-sidemenu-item-color($highlight-color, $color: null) {
  $class: '.ruf-menu-item';
  #{$class} {
    @if $color {
      color: $color;
    } @else {
      color: inherit;
    }
    &:hover, &:focus, &.ruf-active {
          background: $highlight-color;
     }
  }
  .ruf-sidemenu-children {
    background: $highlight-color;
    #{$class} {
       &:hover, &:focus {
         background: transparent;
      }
    }
  }
}


@mixin ruf-sidemenu-theme($theme) {
  $primary: map-get($theme, primary);
  $accent: map-get($theme, accent);
  $emphasis: map-get($theme, emphasis);
  $background: map-get($theme, background);
  $foreground: map-get($theme, foreground);

  $ruf-sidemenu-highlight-color: rgba(255, 255, 255, 0.1) !default;

  ruf-sidemenu, .ruf-sidemenu-popup-backdrop+* .mat-menu-panel {

    &.ruf-primary .ruf-menubar-item-active {
      &:not(.ruf-active) {
        border-bottom-color: ruf-color($primary);
        border-right-color: ruf-color($primary);
      }
    }

    &.ruf-accent .ruf-menubar-item-active, .ruf-menubar-item-active {
      &:not(.ruf-active) {
        border-bottom-color: ruf-color($accent);
        border-right-color: ruf-color($accent);
      }
    }

    &.ruf-emphasis .ruf-menubar-item-active {
      &:not(.ruf-active) {
        border-bottom-color: ruf-color($emphasis);
        border-right-color: ruf-color($emphasis);
      }
    }


    &.ruf-menubar-inkbar-start {
      &.ruf-primary .ruf-menubar-item-active {
        &:not(.ruf-active) {
          border-bottom-color: transparent;
          border-left-color: ruf-color($primary);
          border-right-color: transparent;
          border-top-color: ruf-color($primary);
        }
      }

      &.ruf-accent .ruf-menubar-item-active, .ruf-menubar-item-active {
        &:not(.ruf-active) {
          border-bottom-color: transparent;
          border-left-color: ruf-color($accent);
          border-right-color: transparent;
          border-top-color: ruf-color($accent);
        }
      }

      &.ruf-emphasis .ruf-menubar-item-active {
        &:not(.ruf-active) {
          border-bottom-color: transparent;
          border-left-color: ruf-color($emphasis);
          border-right-color: transparent;
          border-top-color: ruf-color($emphasis);
        }
      }
    }

  }

  ruf-sidemenu {
    background: inherit;
    box-shadow: inset -7px 0 9px -7px ruf-color($background, contrast, 0.19);
    color: inherit;

    &:not([light]) {
      @include ruf-sidemenu-item-color(ruf-color($background, sidemenu-focus), ruf-color($foreground, text));
    }

    &[light] {
      @include ruf-sidemenu-item-color($ruf-sidemenu-highlight-color);
    }
  }
}

@mixin ruf-sidemenu-typography($config) {
   ruf-sidemenu {
     .ruf-menu-item {
       font-size: ruf-font-size($config, subheading-2);
     }

     .ruf-sidemenu-children  .ruf-menu-item {
       font-size: ruf-font-size($config,  subheading-1);
     }
   }
}
