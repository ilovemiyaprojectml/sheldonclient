(function(a,b){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=a.document?b(a,true):function(a){if(!a.document){throw new Error("jQuery requires a window with a document")}return b(a)}}else{b(a)}})(typeof window!=="undefined"?window:this,function(a,b){"use strict";var c=[];var d=a.document;var e=Object.getPrototypeOf;var f=c.slice;var g=c.concat;var h=c.push;var i=c.indexOf;var j={};var k=j.toString;var l=j.hasOwnProperty;var m=l.toString;var n=m.call(Object);var o={};var p=function a(b){return typeof b==="function"&&typeof b.nodeType!=="number"};var q=function a(b){return b!=null&&b===b.window};var r={type:true,src:true,noModule:true};function s(a,b,c){b=b||d;var e,f=b.createElement("script");f.text=a;if(c){for(e in r){if(c[e]){f[e]=c[e]}}}b.head.appendChild(f).parentNode.removeChild(f)}function t(a){if(a==null){return a+""}return typeof a==="object"||typeof a==="function"?j[k.call(a)]||"object":typeof a}var u="3.3.1",v=function(a,b){return new v.fn.init(a,b)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;v.fn=v.prototype={jquery:u,constructor:v,length:0,toArray:function(){return f.call(this)},get:function(a){if(a==null){return f.call(this)}return a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=v.merge(this.constructor(),a);b.prevObject=this;return b},each:function(a){return v.each(this,a)},map:function(a){return this.pushStack(v.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:c.sort,splice:c.splice};v.extend=v.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=false;if(typeof g==="boolean"){j=g;g=arguments[h]||{};h++}if(typeof g!=="object"&&!p(g)){g={}}if(h===i){g=this;h--}for(;h<i;h++){if((a=arguments[h])!=null){for(b in a){c=g[b];d=a[b];if(g===d){continue}if(j&&d&&(v.isPlainObject(d)||(e=Array.isArray(d)))){if(e){e=false;f=c&&Array.isArray(c)?c:[]}else{f=c&&v.isPlainObject(c)?c:{}}g[b]=v.extend(j,f,d)}else if(d!==undefined){g[b]=d}}}}return g};v.extend({expando:"jQuery"+(u+Math.random()).replace(/\D/g,""),isReady:true,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var b,c;if(!a||k.call(a)!=="[object Object]"){return false}b=e(a);if(!b){return true}c=l.call(b,"constructor")&&b.constructor;return typeof c==="function"&&m.call(c)===n},isEmptyObject:function(a){var b;for(b in a){return false}return true},globalEval:function(a){s(a)},each:function(a,b){var c,d=0;if(x(a)){c=a.length;for(;d<c;d++){if(b.call(a[d],d,a[d])===false){break}}}else{for(d in a){if(b.call(a[d],d,a[d])===false){break}}}return a},trim:function(a){return a==null?"":(a+"").replace(w,"")},makeArray:function(a,b){var c=b||[];if(a!=null){if(x(Object(a))){v.merge(c,typeof a==="string"?[a]:a)}else{h.call(c,a)}}return c},inArray:function(a,b,c){return b==null?-1:i.call(b,a,c)},merge:function(a,b){var c=+b.length,d=0,e=a.length;for(;d<c;d++){a[e++]=b[d]}a.length=e;return a},grep:function(a,b,c){var d,e=[],f=0,g=a.length,h=!c;for(;f<g;f++){d=!b(a[f],f);if(d!==h){e.push(a[f])}}return e},map:function(a,b,c){var d,e,f=0,h=[];if(x(a)){d=a.length;for(;f<d;f++){e=b(a[f],f,c);if(e!=null){h.push(e)}}}else{for(f in a){e=b(a[f],f,c);if(e!=null){h.push(e)}}}return g.apply([],h)},guid:1,support:o});if(typeof Symbol==="function"){v.fn[Symbol.iterator]=c[Symbol.iterator]}v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){j["[object "+b+"]"]=b.toLowerCase()});function x(a){var b=!!a&&"length"in a&&a.length,c=t(a);if(p(a)||q(a)){return false}return c==="array"||b===0||typeof b==="number"&&b>0&&b-1 in a}var y=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){if(a===b){l=true}return 0},C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=function(a,b){var c=0,d=a.length;for(;c<d;c++){if(a[c]===b){return c}}return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+K+"*("+L+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+K+"*\\]",N=":("+L+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|"+".*"+")\\)|)",O=new RegExp(K+"+","g"),P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(N),U=new RegExp("^"+L+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),aa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,d&1023|56320)},ba=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ca=function(a,b){if(b){if(a==="\0"){return"ï¿½"}return a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" "}return"\\"+a},da=function(){m()},ea=sa(function(a){return a.disabled===true&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{G.apply(D=H.call(v.childNodes),v.childNodes);D[v.childNodes.length].nodeType}catch(a){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s=b&&b.ownerDocument,w=b?b.nodeType:9;d=d||[];if(typeof a!=="string"||!a||w!==1&&w!==9&&w!==11){return d}if(!e){if((b?b.ownerDocument||b:v)!==n){m(b)}b=b||n;if(p){if(w!==11&&(l=Z.exec(a))){if(f=l[1]){if(w===9){if(j=b.getElementById(f)){if(j.id===f){d.push(j);return d}}else{return d}}else{if(s&&(j=s.getElementById(f))&&t(b,j)&&j.id===f){d.push(j);return d}}}else if(l[2]){G.apply(d,b.getElementsByTagName(a));return d}else if((f=l[3])&&c.getElementsByClassName&&b.getElementsByClassName){G.apply(d,b.getElementsByClassName(f));return d}}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(w!==1){s=b;r=a}else if(b.nodeName.toLowerCase()!=="object"){if(k=b.getAttribute("id")){k=k.replace(ba,ca)}else{b.setAttribute("id",k=u)}o=g(a);h=o.length;while(h--){o[h]="#"+k+" "+ra(o[h])}r=o.join(",");s=$.test(a)&&pa(b.parentNode)||b}if(r){try{G.apply(d,s.querySelectorAll(r));return d}catch(a){}finally{if(k===u){b.removeAttribute("id")}}}}}}return i(a.replace(P,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){if(a.push(c+" ")>d.cacheLength){delete b[a.shift()]}return b[c+" "]=e}return b}function ha(a){a[u]=true;return a}function ia(a){var b=n.createElement("fieldset");try{return!!a(b)}catch(a){return false}finally{if(b.parentNode){b.parentNode.removeChild(b)}b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--){d.attrHandle[c[e]]=b}}function ka(a,b){var c=b&&a,d=c&&a.nodeType===1&&b.nodeType===1&&a.sourceIndex-b.sourceIndex;if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return-1}}}return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function na(a){return function(b){if("form"in b){if(b.parentNode&&b.disabled===false){if("label"in b){if("label"in b.parentNode){return b.parentNode.disabled===a}else{return b.disabled===a}}return b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a}return b.disabled===a}else if("label"in b){return b.disabled===a}return false}}function oa(a){return ha(function(b){b=+b;return ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){if(c[e=f[g]]){c[e]=!(d[e]=c[e])}}})})}function pa(a){return a&&typeof a.getElementsByTagName!=="undefined"&&a}c=fa.support={};f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":false};m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;if(g===n||g.nodeType!==9||!g.documentElement){return n}n=g;o=n.documentElement;p=!f(n);if(v!==n&&(e=n.defaultView)&&e.top!==e){if(e.addEventListener){e.addEventListener("unload",da,false)}else if(e.attachEvent){e.attachEvent("onunload",da)}}c.attributes=ia(function(a){a.className="i";return!a.getAttribute("className")});c.getElementsByTagName=ia(function(a){a.appendChild(n.createComment(""));return!a.getElementsByTagName("*").length});c.getElementsByClassName=Y.test(n.getElementsByClassName);c.getById=ia(function(a){o.appendChild(a).id=u;return!n.getElementsByName||!n.getElementsByName(u).length});if(c.getById){d.filter["ID"]=function(a){var b=a.replace(_,aa);return function(a){return a.getAttribute("id")===b}};d.find["ID"]=function(a,b){if(typeof b.getElementById!=="undefined"&&p){var c=b.getElementById(a);return c?[c]:[]}}}else{d.filter["ID"]=function(a){var b=a.replace(_,aa);return function(a){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return c&&c.value===b}};d.find["ID"]=function(a,b){if(typeof b.getElementById!=="undefined"&&p){var c,d,e,f=b.getElementById(a);if(f){c=f.getAttributeNode("id");if(c&&c.value===a){return[f]}e=b.getElementsByName(a);d=0;while(f=e[d++]){c=f.getAttributeNode("id");if(c&&c.value===a){return[f]}}}return[]}}}d.find["TAG"]=c.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!=="undefined"){return b.getElementsByTagName(a)}else if(c.qsa){return b.querySelectorAll(a)}}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if(a==="*"){while(c=f[e++]){if(c.nodeType===1){d.push(c)}}return d}return f};d.find["CLASS"]=c.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!=="undefined"&&p){return b.getElementsByClassName(a)}};r=[];q=[];if(c.qsa=Y.test(n.querySelectorAll)){ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a>"+"<select id='"+u+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(a.querySelectorAll("[msallowcapture^='']").length){q.push("[*^$]="+K+"*(?:''|\"\")")}if(!a.querySelectorAll("[selected]").length){q.push("\\["+K+"*(?:value|"+J+")")}if(!a.querySelectorAll("[id~="+u+"-]").length){q.push("~=")}if(!a.querySelectorAll(":checked").length){q.push(":checked")}if(!a.querySelectorAll("a#"+u+"+*").length){q.push(".#.+[+~]")}});ia(function(a){a.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var b=n.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");if(a.querySelectorAll("[name=d]").length){q.push("name"+K+"*[*^$|!~]?=")}if(a.querySelectorAll(":enabled").length!==2){q.push(":enabled",":disabled")}o.appendChild(a).disabled=true;if(a.querySelectorAll(":disabled").length!==2){q.push(":enabled",":disabled")}a.querySelectorAll("*,:x");q.push(",.*:")})}if(c.matchesSelector=Y.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector)){ia(function(a){c.disconnectedMatch=s.call(a,"*");s.call(a,"[s!='']:x");r.push("!=",N)})}q=q.length&&new RegExp(q.join("|"));r=r.length&&new RegExp(r.join("|"));b=Y.test(o.compareDocumentPosition);t=b||Y.test(o.contains)?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true}}}return false};B=b?function(a,b){if(a===b){l=true;return 0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;if(d){return d}d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(d&1||!c.sortDetached&&b.compareDocumentPosition(a)===d){if(a===n||a.ownerDocument===v&&t(v,a)){return-1}if(b===n||b.ownerDocument===v&&t(v,b)){return 1}return k?I(k,a)-I(k,b):0}return d&4?-1:1}:function(a,b){if(a===b){l=true;return 0}var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f){return a===n?-1:b===n?1:e?-1:f?1:k?I(k,a)-I(k,b):0}else if(e===f){return ka(a,b)}c=a;while(c=c.parentNode){g.unshift(c)}c=b;while(c=c.parentNode){h.unshift(c)}while(g[d]===h[d]){d++}return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0};return n};fa.matches=function(a,b){return fa(a,null,null,b)};fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n){m(a)}b=b.replace(S,"='$1']");if(c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&a.document.nodeType!==11){return d}}catch(a){}}return fa(b,n,null,[a]).length>0};fa.contains=function(a,b){if((a.ownerDocument||a)!==n){m(a)}return t(a,b)};fa.attr=function(a,b){if((a.ownerDocument||a)!==n){m(a)}var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):undefined;return f!==undefined?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null};fa.escape=function(a){return(a+"").replace(ba,ca)};fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};fa.uniqueSort=function(a){var b,d=[],e=0,f=0;l=!c.detectDuplicates;k=!c.sortStable&&a.slice(0);a.sort(B);if(l){while(b=a[f++]){if(b===a[f]){e=d.push(f)}}while(e--){a.splice(d[e],1)}}k=null;return a};e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(!f){while(b=a[d++]){c+=e(b)}}else if(f===1||f===9||f===11){if(typeof a.textContent==="string"){return a.textContent}else{for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}}else if(f===3||f===4){return a.nodeValue}return c};d=fa.selectors={cacheLength:50,createPseudo:ha,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(_,aa);a[3]=(a[3]||a[4]||a[5]||"").replace(_,aa);if(a[2]==="~="){a[3]=" "+a[3]+" "}return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();if(a[1].slice(0,3)==="nth"){if(!a[3]){fa.error(a[0])}a[4]=+(a[4]?a[5]+(a[6]||1):2*(a[3]==="even"||a[3]==="odd"));a[5]=+(a[7]+a[8]||a[3]==="odd")}else if(a[3]){fa.error(a[0])}return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(V["CHILD"].test(a[0])){return null}if(a[3]){a[2]=a[4]||a[5]||""}else if(c&&T.test(c)&&(b=g(c,true))&&(b=c.indexOf(")",c.length-b)-c.length)){a[0]=a[0].slice(0,b);a[2]=c.slice(0,b)}return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(_,aa).toLowerCase();return a==="*"?function(){return true}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&y(a,function(a){return b.test(typeof a.className==="string"&&a.className||typeof a.getAttribute!=="undefined"&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);if(e==null){return b==="!="}if(!b){return true}e+="";return b==="="?e===c:b==="!="?e!==c:b==="^="?c&&e.indexOf(c)===0:b==="*="?c&&e.indexOf(c)>-1:b==="$="?c&&e.slice(-c.length)===c:b==="~="?(" "+e.replace(O," ")+" ").indexOf(c)>-1:b==="|="?e===c||e.slice(0,c.length+1)===c+"-":false}},CHILD:function(a,b,c,d,e){var f=a.slice(0,3)!=="nth",g=a.slice(-4)!=="last",h=b==="of-type";return d===1&&e===0?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=false;if(q){if(f){while(p){m=b;while(m=m[p]){if(h?m.nodeName.toLowerCase()===r:m.nodeType===1){return false}}o=p=a==="only"&&!o&&"nextSibling"}return true}o=[g?q.firstChild:q.lastChild];if(g&&s){m=q;l=m[u]||(m[u]={});k=l[m.uniqueID]||(l[m.uniqueID]={});j=k[a]||[];n=j[0]===w&&j[1];t=n&&j[2];m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if(m.nodeType===1&&++t&&m===b){k[a]=[w,n,t];break}}}else{if(s){m=b;l=m[u]||(m[u]={});k=l[m.uniqueID]||(l[m.uniqueID]={});j=k[a]||[];n=j[0]===w&&j[1];t=n}if(t===false){while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if((h?m.nodeName.toLowerCase()===r:m.nodeType===1)&&++t){if(s){l=m[u]||(m[u]={});k=l[m.uniqueID]||(l[m.uniqueID]={});k[a]=[w,t]}if(m===b){break}}}}}t-=e;return t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);if(e[u]){return e(b)}if(e.length>1){c=[a,a,"",b];return d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=I(a,f[g]);a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}}return e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(P,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){if(f=g[h]){a[h]=!(b[h]=f)}}}):function(a,e,f){b[0]=a;d(b,null,f,c);b[0]=null;return!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){a=a.replace(_,aa);return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){if(!U.test(a||"")){fa.error("unsupported lang: "+a)}a=a.replace(_,aa).toLowerCase();return function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){c=c.toLowerCase();return c===a||c.indexOf(a+"-")===0}}while((b=b.parentNode)&&b.nodeType===1);return false}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:na(false),disabled:na(true),checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){if(a.parentNode){a.parentNode.selectedIndex}return a.selected===true},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return false}}return true},parent:function(a){return!d.pseudos["empty"](a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},text:function(a){var b;return a.nodeName.toLowerCase()==="input"&&a.type==="text"&&((b=a.getAttribute("type"))==null||b.toLowerCase()==="text")},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[c<0?c+b:c]}),even:oa(function(a,b){var c=0;for(;c<b;c+=2){a.push(c)}return a}),odd:oa(function(a,b){var c=1;for(;c<b;c+=2){a.push(c)}return a}),lt:oa(function(a,b,c){var d=c<0?c+b:c;for(;--d>=0;){a.push(d)}return a}),gt:oa(function(a,b,c){var d=c<0?c+b:c;for(;++d<b;){a.push(d)}return a})}};d.pseudos["nth"]=d.pseudos["eq"];for(b in{radio:true,checkbox:true,file:true,password:true,image:true}){d.pseudos[b]=la(b)}for(b in{submit:true,reset:true}){d.pseudos[b]=ma(b)}function qa(){}qa.prototype=d.filters=d.pseudos;d.setFilters=new qa;g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a;i=[];j=d.preFilter;while(h){if(!c||(e=Q.exec(h))){if(e){h=h.slice(e[0].length)||h}i.push(f=[])}c=false;if(e=R.exec(h)){c=e.shift();f.push({value:c,type:e[0].replace(P," ")});h=h.slice(c.length)}for(g in d.filter){if((e=V[g].exec(h))&&(!j[g]||(e=j[g](e)))){c=e.shift();f.push({value:c,type:g,matches:e});h=h.slice(c.length)}}if(!c){break}}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function ra(a){var b=0,c=a.length,d="";for(;b<c;b++){d+=a[b].value}return d}function sa(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&f==="parentNode",h=x++;return b.first?function(b,c,e){while(b=b[d]){if(b.nodeType===1||g){return a(b,c,e)}}return false}:function(b,c,i){var j,k,l,m=[w,h];if(i){while(b=b[d]){if(b.nodeType===1||g){if(a(b,c,i)){return true}}}}else{while(b=b[d]){if(b.nodeType===1||g){l=b[u]||(b[u]={});k=l[b.uniqueID]||(l[b.uniqueID]={});if(e&&e===b.nodeName.toLowerCase()){b=b[d]||b}else if((j=k[f])&&j[0]===w&&j[1]===h){return m[2]=j[2]}else{k[f]=m;if(m[2]=a(b,c,i)){return true}}}}}return false}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return false}}return true}:a[0]}function ua(a,b,c){var d=0,e=b.length;for(;d<e;d++){fa(a,b[d],c)}return c}function va(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++){if(f=a[h]){if(!c||c(f,d,e)){g.push(f);if(j){b.push(h)}}}}return g}function wa(a,b,c,d,e,f){if(d&&!d[u]){d=wa(d)}if(e&&!e[u]){e=wa(e,f)}return ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=a&&(f||!b)?va(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;if(c){c(q,r,h,i)}if(d){j=va(r,n);d(j,[],h,i);k=j.length;while(k--){if(l=j[k]){r[n[k]]=!(q[n[k]]=l)}}}if(f){if(e||a){if(e){j=[];k=r.length;while(k--){if(l=r[k]){j.push(q[k]=l)}}e(null,r=[],j,i)}k=r.length;while(k--){if((l=r[k])&&(j=e?I(f,l):m[k])>-1){f[j]=!(g[j]=l)}}}}else{r=va(r===g?r.splice(o,r.length):r);if(e){e(null,g,r,i)}else{G.apply(g,r)}}})}function xa(a){var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,true),l=sa(function(a){return I(b,a)>-1},h,true),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));b=null;return e}];for(;i<f;i++){if(c=d.relative[a[i].type]){m=[sa(ta(m),c)]}else{c=d.filter[a[i].type].apply(null,a[i].matches);if(c[u]){e=++i;for(;e<f;e++){if(d.relative[a[e].type]){break}}return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:a[i-2].type===" "?"*":""})).replace(P,"$1"),c,i<e&&xa(a.slice(i,e)),e<f&&xa(a=a.slice(e)),e<f&&ra(a))}m.push(c)}}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find["TAG"]("*",k),y=w+=v==null?1:Math.random()||.1,z=x.length;if(k){j=g===n||g||k}for(;s!==z&&(l=x[s])!=null;s++){if(e&&l){o=0;if(!g&&l.ownerDocument!==n){m(l);h=!p}while(q=a[o++]){if(q(l,g||n,h)){i.push(l);break}}if(k){w=y}}if(c){if(l=!q&&l){r--}if(f){t.push(l)}}}r+=s;if(c&&s!==r){o=0;while(q=b[o++]){q(t,u,g,h)}if(f){if(r>0){while(s--){if(!(t[s]||u[s])){u[s]=E.call(i)}}}u=va(u)}G.apply(i,u);if(k&&!f&&u.length>0&&r+b.length>1){fa.uniqueSort(i)}}if(k){w=y;j=v}return t};return c?ha(f):f}h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){if(!b){b=g(a)}c=b.length;while(c--){f=xa(b[c]);if(f[u]){d.push(f)}else{e.push(f)}}f=A(a,ya(e,d));f.selector=a}return f};i=fa.select=function(a,b,c,e){var f,i,j,k,l,m=typeof a==="function"&&a,n=!e&&g(a=m.selector||a);c=c||[];if(n.length===1){i=n[0]=n[0].slice(0);if(i.length>2&&(j=i[0]).type==="ID"&&b.nodeType===9&&p&&d.relative[i[1].type]){b=(d.find["ID"](j.matches[0].replace(_,aa),b)||[])[0];if(!b){return c}else if(m){b=b.parentNode}a=a.slice(i.shift().value.length)}f=V["needsContext"].test(a)?0:i.length;while(f--){j=i[f];if(d.relative[k=j.type]){break}if(l=d.find[k]){if(e=l(j.matches[0].replace(_,aa),$.test(i[0].type)&&pa(b.parentNode)||b)){i.splice(f,1);a=e.length&&ra(i);if(!a){G.apply(c,e);return c}break}}}}(m||h(a,n))(e,b,!p,c,!b||$.test(a)&&pa(b.parentNode)||b);return c};c.sortStable=u.split("").sort(B).join("")===u;c.detectDuplicates=!!l;m();c.sortDetached=ia(function(a){return a.compareDocumentPosition(n.createElement("fieldset"))&1});if(!ia(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild.getAttribute("href")==="#"})){ja("type|href|height|width",function(a,b,c){if(!c){return a.getAttribute(b,b.toLowerCase()==="type"?1:2)}})}if(!c.attributes||!ia(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return a.firstChild.getAttribute("value")===""})){ja("value",function(a,b,c){if(!c&&a.nodeName.toLowerCase()==="input"){return a.defaultValue}})}if(!ia(function(a){return a.getAttribute("disabled")==null})){ja(J,function(a,b,c){var d;if(!c){return a[b]===true?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}})}return fa}(a);v.find=y;v.expr=y.selectors;v.expr[":"]=v.expr.pseudos;v.uniqueSort=v.unique=y.uniqueSort;v.text=y.getText;v.isXMLDoc=y.isXML;v.contains=y.contains;v.escapeSelector=y.escape;var z=function(a,b,c){var d=[],e=c!==undefined;while((a=a[b])&&a.nodeType!==9){if(a.nodeType===1){if(e&&v(a).is(c)){break}d.push(a)}}return d};var A=function(a,b){var c=[];for(;a;a=a.nextSibling){if(a.nodeType===1&&a!==b){c.push(a)}}return c};var B=v.expr.match.needsContext;function C(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(a,b,c){if(p(b)){return v.grep(a,function(a,d){return!!b.call(a,d,a)!==c})}if(b.nodeType){return v.grep(a,function(a){return a===b!==c})}if(typeof b!=="string"){return v.grep(a,function(a){return i.call(b,a)>-1!==c})}return v.filter(b,a,c)}v.filter=function(a,b,c){var d=b[0];if(c){a=":not("+a+")"}if(b.length===1&&d.nodeType===1){return v.find.matchesSelector(d,a)?[d]:[]}return v.find.matches(a,v.grep(b,function(a){return a.nodeType===1}))};v.fn.extend({find:function(a){var b,c,d=this.length,e=this;if(typeof a!=="string"){return this.pushStack(v(a).filter(function(){for(b=0;b<d;b++){if(v.contains(e[b],this)){return true}}}))}c=this.pushStack([]);for(b=0;b<d;b++){v.find(a,e[b],c)}return d>1?v.uniqueSort(c):c},filter:function(a){return this.pushStack(E(this,a||[],false))},not:function(a){return this.pushStack(E(this,a||[],true))},is:function(a){return!!E(this,typeof a==="string"&&B.test(a)?v(a):a||[],false).length}});var F,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=v.fn.init=function(a,b,c){var e,f;if(!a){return this}c=c||F;if(typeof a==="string"){if(a[0]==="<"&&a[a.length-1]===">"&&a.length>=3){e=[null,a,null]}else{e=G.exec(a)}if(e&&(e[1]||!b)){if(e[1]){b=b instanceof v?b[0]:b;v.merge(this,v.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,true));if(D.test(e[1])&&v.isPlainObject(b)){for(e in b){if(p(this[e])){this[e](b[e])}else{this.attr(e,b[e])}}}return this}else{f=d.getElementById(e[2]);if(f){this[0]=f;this.length=1}return this}}else if(!b||b.jquery){return(b||c).find(a)}else{return this.constructor(b).find(a)}}else if(a.nodeType){this[0]=a;this.length=1;return this}else if(p(a)){return c.ready!==undefined?c.ready(a):a(v)}return v.makeArray(a,this)};H.prototype=v.fn;F=v(d);var I=/^(?:parents|prev(?:Until|All))/,J={children:true,contents:true,next:true,prev:true};v.fn.extend({has:function(a){var b=v(a,this),c=b.length;return this.filter(function(){var a=0;for(;a<c;a++){if(v.contains(this,b[a])){return true}}})},closest:function(a,b){var c,d=0,e=this.length,f=[],g=typeof a!=="string"&&v(a);if(!B.test(a)){for(;d<e;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:c.nodeType===1&&v.find.matchesSelector(c,a))){f.push(c);break}}}}return this.pushStack(f.length>1?v.uniqueSort(f):f)},index:function(a){if(!a){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof a==="string"){return i.call(v(a),this[0])}return i.call(this,a.jquery?a[0]:a)},add:function(a,b){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(a,b))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});function K(a,b){while((a=a[b])&&a.nodeType!==1){}return a}v.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return z(a,"parentNode")},parentsUntil:function(a,b,c){return z(a,"parentNode",c)},next:function(a){return K(a,"nextSibling")},prev:function(a){return K(a,"previousSibling")},nextAll:function(a){return z(a,"nextSibling")},prevAll:function(a){return z(a,"previousSibling")},nextUntil:function(a,b,c){return z(a,"nextSibling",c)},prevUntil:function(a,b,c){return z(a,"previousSibling",c)},siblings:function(a){return A((a.parentNode||{}).firstChild,a)},children:function(a){return A(a.firstChild)},contents:function(a){if(C(a,"iframe")){return a.contentDocument}if(C(a,"template")){a=a.content||a}return v.merge([],a.childNodes)}},function(a,b){v.fn[a]=function(c,d){var e=v.map(this,b,c);if(a.slice(-5)!=="Until"){d=c}if(d&&typeof d==="string"){e=v.filter(d,e)}if(this.length>1){if(!J[a]){v.uniqueSort(e)}if(I.test(a)){e.reverse()}}return this.pushStack(e)}});var L=/[^\x20\t\r\n\f]+/g;function M(a){var b={};v.each(a.match(L)||[],function(a,c){b[c]=true});return b}v.Callbacks=function(a){a=typeof a==="string"?M(a):v.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){e=e||a.once;d=b=true;for(;g.length;h=-1){c=g.shift();while(++h<f.length){if(f[h].apply(c[0],c[1])===false&&a.stopOnFalse){h=f.length;c=false}}}if(!a.memory){c=false}b=false;if(e){if(c){f=[]}else{f=""}}},j={add:function(){if(f){if(c&&!b){h=f.length-1;g.push(c)}(function b(c){v.each(c,function(c,d){if(p(d)){if(!a.unique||!j.has(d)){f.push(d)}}else if(d&&d.length&&t(d)!=="string"){b(d)}})})(arguments);if(c&&!b){i()}}return this},remove:function(){v.each(arguments,function(a,b){var c;while((c=v.inArray(b,f,c))>-1){f.splice(c,1);if(c<=h){h--}}});return this},has:function(a){return a?v.inArray(a,f)>-1:f.length>0},empty:function(){if(f){f=[]}return this},disable:function(){e=g=[];f=c="";return this},disabled:function(){return!f},lock:function(){e=g=[];if(!c&&!b){f=c=""}return this},locked:function(){return!!e},fireWith:function(a,c){if(!e){c=c||[];c=[a,c.slice?c.slice():c];g.push(c);if(!b){i()}}return this},fire:function(){j.fireWith(this,arguments);return this},fired:function(){return!!d}};return j};function N(a){return a}function O(a){throw a}function P(a,b,c,d){var e;try{if(a&&p(e=a.promise)){e.call(a).done(b).fail(c)}else if(a&&p(e=a.then)){e.call(a,b,c)}else{b.apply(undefined,[a].slice(d))}}catch(a){c.apply(undefined,[a])}}v.extend({Deferred:function(b){var c=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){f.done(arguments).fail(arguments);return this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return v.Deferred(function(b){v.each(c,function(c,d){var e=p(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);if(a&&p(a.promise)){a.promise().progress(b.notify).done(b.resolve).fail(b.reject)}else{b[d[0]+"With"](this,e?[a]:arguments)}})});a=null}).promise()},then:function(b,d,e){var f=0;function g(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(b<f){return}a=d.apply(h,i);if(a===c.promise()){throw new TypeError("Thenable self-resolution")}j=a&&(typeof a==="object"||typeof a==="function")&&a.then;if(p(j)){if(e){j.call(a,g(f,c,N,e),g(f,c,O,e))}else{f++;j.call(a,g(f,c,N,e),g(f,c,O,e),g(f,c,N,c.notifyWith))}}else{if(d!==N){h=undefined;i=[a]}(e||c.resolveWith)(h,i)}},k=e?j:function(){try{j()}catch(a){if(v.Deferred.exceptionHook){v.Deferred.exceptionHook(a,k.stackTrace)}if(b+1>=f){if(d!==O){h=undefined;i=[a]}c.rejectWith(h,i)}}};if(b){k()}else{if(v.Deferred.getStackHook){k.stackTrace=v.Deferred.getStackHook()}a.setTimeout(k)}}}return v.Deferred(function(a){c[0][3].add(g(0,a,p(e)?e:N,a.notifyWith));c[1][3].add(g(0,a,p(b)?b:N));c[2][3].add(g(0,a,p(d)?d:O))}).promise()},promise:function(a){return a!=null?v.extend(a,e):e}},f={};v.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add;if(h){g.add(function(){d=h},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock)}g.add(b[3].fire);f[b[0]]=function(){f[b[0]+"With"](this===f?undefined:this,arguments);return this};f[b[0]+"With"]=g.fireWith});e.promise(f);if(b){b.call(f,f)}return f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=f.call(arguments),g=v.Deferred(),h=function(a){return function(c){
d[a]=this;e[a]=arguments.length>1?f.call(arguments):c;if(!--b){g.resolveWith(d,e)}}};if(b<=1){P(a,g.done(h(c)).resolve,g.reject,!b);if(g.state()==="pending"||p(e[c]&&e[c].then)){return g.then()}}while(c--){P(e[c],h(c),g.reject)}return g.promise()}});var Q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(b,c){if(a.console&&a.console.warn&&b&&Q.test(b.name)){a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)}};v.readyException=function(b){a.setTimeout(function(){throw b})};var R=v.Deferred();v.fn.ready=function(a){R.then(a).catch(function(a){v.readyException(a)});return this};v.extend({isReady:false,readyWait:1,ready:function(a){if(a===true?--v.readyWait:v.isReady){return}v.isReady=true;if(a!==true&&--v.readyWait>0){return}R.resolveWith(d,[v])}});v.ready.then=R.then;function S(){d.removeEventListener("DOMContentLoaded",S);a.removeEventListener("load",S);v.ready()}if(d.readyState==="complete"||d.readyState!=="loading"&&!d.documentElement.doScroll){a.setTimeout(v.ready)}else{d.addEventListener("DOMContentLoaded",S);a.addEventListener("load",S)}var T=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=c==null;if(t(c)==="object"){e=true;for(h in c){T(a,b,h,c[h],true,f,g)}}else if(d!==undefined){e=true;if(!p(d)){g=true}if(j){if(g){b.call(a,d);b=null}else{j=b;b=function(a,b,c){return j.call(v(a),c)}}}if(b){for(;h<i;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}if(e){return a}if(j){return b.call(a)}return i?b(a[0],c):f};var U=/^-ms-/,V=/-([a-z])/g;function W(a,b){return b.toUpperCase()}function X(a){return a.replace(U,"ms-").replace(V,W)}var Y=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function Z(){this.expando=v.expando+Z.uid++}Z.uid=1;Z.prototype={cache:function(a){var b=a[this.expando];if(!b){b={};if(Y(a)){if(a.nodeType){a[this.expando]=b}else{Object.defineProperty(a,this.expando,{value:b,configurable:true})}}}return b},set:function(a,b,c){var d,e=this.cache(a);if(typeof b==="string"){e[X(b)]=c}else{for(d in b){e[X(d)]=b[d]}}return e},get:function(a,b){return b===undefined?this.cache(a):a[this.expando]&&a[this.expando][X(b)]},access:function(a,b,c){if(b===undefined||b&&typeof b==="string"&&c===undefined){return this.get(a,b)}this.set(a,b,c);return c!==undefined?c:b},remove:function(a,b){var c,d=a[this.expando];if(d===undefined){return}if(b!==undefined){if(Array.isArray(b)){b=b.map(X)}else{b=X(b);b=b in d?[b]:b.match(L)||[]}c=b.length;while(c--){delete d[b[c]]}}if(b===undefined||v.isEmptyObject(d)){if(a.nodeType){a[this.expando]=undefined}else{delete a[this.expando]}}},hasData:function(a){var b=a[this.expando];return b!==undefined&&!v.isEmptyObject(b)}};var $=new Z;var _=new Z;var aa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ba=/[A-Z]/g;function ca(a){if(a==="true"){return true}if(a==="false"){return false}if(a==="null"){return null}if(a===+a+""){return+a}if(aa.test(a)){return JSON.parse(a)}return a}function da(a,b,c){var d;if(c===undefined&&a.nodeType===1){d="data-"+b.replace(ba,"-$&").toLowerCase();c=a.getAttribute(d);if(typeof c==="string"){try{c=ca(c)}catch(a){}_.set(a,b,c)}else{c=undefined}}return c}v.extend({hasData:function(a){return _.hasData(a)||$.hasData(a)},data:function(a,b,c){return _.access(a,b,c)},removeData:function(a,b){_.remove(a,b)},_data:function(a,b,c){return $.access(a,b,c)},_removeData:function(a,b){$.remove(a,b)}});v.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(a===undefined){if(this.length){e=_.get(f);if(f.nodeType===1&&!$.get(f,"hasDataAttrs")){c=g.length;while(c--){if(g[c]){d=g[c].name;if(d.indexOf("data-")===0){d=X(d.slice(5));da(f,d,e[d])}}}$.set(f,"hasDataAttrs",true)}}return e}if(typeof a==="object"){return this.each(function(){_.set(this,a)})}return T(this,function(b){var c;if(f&&b===undefined){c=_.get(f,a);if(c!==undefined){return c}c=da(f,a);if(c!==undefined){return c}return}this.each(function(){_.set(this,a,b)})},null,b,arguments.length>1,null,true)},removeData:function(a){return this.each(function(){_.remove(this,a)})}});v.extend({queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue";d=$.get(a,b);if(c){if(!d||Array.isArray(c)){d=$.access(a,b,v.makeArray(c))}else{d.push(c)}}return d||[]}},dequeue:function(a,b){b=b||"fx";var c=v.queue(a,b),d=c.length,e=c.shift(),f=v._queueHooks(a,b),g=function(){v.dequeue(a,b)};if(e==="inprogress"){e=c.shift();d--}if(e){if(b==="fx"){c.unshift("inprogress")}delete f.stop;e.call(a,g,f)}if(!d&&f){f.empty.fire()}},_queueHooks:function(a,b){var c=b+"queueHooks";return $.get(a,c)||$.access(a,c,{empty:v.Callbacks("once memory").add(function(){$.remove(a,[b+"queue",c])})})}});v.fn.extend({queue:function(a,b){var c=2;if(typeof a!=="string"){b=a;a="fx";c--}if(arguments.length<c){return v.queue(this[0],a)}return b===undefined?this:this.each(function(){var c=v.queue(this,a,b);v._queueHooks(this,a);if(a==="fx"&&c[0]!=="inprogress"){v.dequeue(this,a)}})},dequeue:function(a){return this.each(function(){v.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=v.Deferred(),f=this,g=this.length,h=function(){if(!--d){e.resolveWith(f,[f])}};if(typeof a!=="string"){b=a;a=undefined}a=a||"fx";while(g--){c=$.get(f[g],a+"queueHooks");if(c&&c.empty){d++;c.empty.add(h)}}h();return e.promise(b)}});var ea=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var fa=new RegExp("^(?:([+-])=|)("+ea+")([a-z%]*)$","i");var ga=["Top","Right","Bottom","Left"];var ha=function(a,b){a=b||a;return a.style.display==="none"||a.style.display===""&&v.contains(a.ownerDocument,a)&&v.css(a,"display")==="none"};var ia=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f];a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};function ja(a,b,c,d){var e,f,g=20,h=d?function(){return d.cur()}:function(){return v.css(a,b,"")},i=h(),j=c&&c[3]||(v.cssNumber[b]?"":"px"),k=(v.cssNumber[b]||j!=="px"&&+i)&&fa.exec(v.css(a,b));if(k&&k[3]!==j){i=i/2;j=j||k[3];k=+i||1;while(g--){v.style(a,b,k+j);if((1-f)*(1-(f=h()/i||.5))<=0){g=0}k=k/f}k=k*2;v.style(a,b,k+j);c=c||[]}if(c){k=+k||+i||0;e=c[1]?k+(c[1]+1)*c[2]:+c[2];if(d){d.unit=j;d.start=k;d.end=e}}return e}var ka={};function la(a){var b,c=a.ownerDocument,d=a.nodeName,e=ka[d];if(e){return e}b=c.body.appendChild(c.createElement(d));e=v.css(b,"display");b.parentNode.removeChild(b);if(e==="none"){e="block"}ka[d]=e;return e}function ma(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){d=a[f];if(!d.style){continue}c=d.style.display;if(b){if(c==="none"){e[f]=$.get(d,"display")||null;if(!e[f]){d.style.display=""}}if(d.style.display===""&&ha(d)){e[f]=la(d)}}else{if(c!=="none"){e[f]="none";$.set(d,"display",c)}}}for(f=0;f<g;f++){if(e[f]!=null){a[f].style.display=e[f]}}return a}v.fn.extend({show:function(){return ma(this,true)},hide:function(){return ma(this)},toggle:function(a){if(typeof a==="boolean"){return a?this.show():this.hide()}return this.each(function(){if(ha(this)){v(this).show()}else{v(this).hide()}})}});var na=/^(?:checkbox|radio)$/i;var oa=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;var pa=/^$|^module$|\/(?:java|ecma)script/i;var qa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qa.optgroup=qa.option;qa.tbody=qa.tfoot=qa.colgroup=qa.caption=qa.thead;qa.th=qa.td;function ra(a,b){var c;if(typeof a.getElementsByTagName!=="undefined"){c=a.getElementsByTagName(b||"*")}else if(typeof a.querySelectorAll!=="undefined"){c=a.querySelectorAll(b||"*")}else{c=[]}if(b===undefined||b&&C(a,b)){return v.merge([a],c)}return c}function sa(a,b){var c=0,d=a.length;for(;c<d;c++){$.set(a[c],"globalEval",!b||$.get(b[c],"globalEval"))}}var ta=/<|&#?\w+;/;function ua(a,b,c,d,e){var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],n=0,o=a.length;for(;n<o;n++){f=a[n];if(f||f===0){if(t(f)==="object"){v.merge(m,f.nodeType?[f]:f)}else if(!ta.test(f)){m.push(b.createTextNode(f))}else{g=g||l.appendChild(b.createElement("div"));h=(oa.exec(f)||["",""])[1].toLowerCase();i=qa[h]||qa._default;g.innerHTML=i[1]+v.htmlPrefilter(f)+i[2];k=i[0];while(k--){g=g.lastChild}v.merge(m,g.childNodes);g=l.firstChild;g.textContent=""}}}l.textContent="";n=0;while(f=m[n++]){if(d&&v.inArray(f,d)>-1){if(e){e.push(f)}continue}j=v.contains(f.ownerDocument,f);g=ra(l.appendChild(f),"script");if(j){sa(g)}if(c){k=0;while(f=g[k++]){if(pa.test(f.type||"")){c.push(f)}}}}return l}(function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio");c.setAttribute("checked","checked");c.setAttribute("name","t");b.appendChild(c);o.checkClone=b.cloneNode(true).cloneNode(true).lastChild.checked;b.innerHTML="<textarea>x</textarea>";o.noCloneChecked=!!b.cloneNode(true).lastChild.defaultValue})();var va=d.documentElement;var wa=/^key/,xa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ya=/^([^.]*)(?:\.(.+)|)/;function za(){return true}function Aa(){return false}function Ba(){try{return d.activeElement}catch(a){}}function Ca(a,b,c,d,e,f){var g,h;if(typeof b==="object"){if(typeof c!=="string"){d=d||c;c=undefined}for(h in b){Ca(a,h,c,d,b[h],f)}return a}if(d==null&&e==null){e=c;d=c=undefined}else if(e==null){if(typeof c==="string"){e=d;d=undefined}else{e=d;d=c;c=undefined}}if(e===false){e=Aa}else if(!e){return a}if(f===1){g=e;e=function(a){v().off(a);return g.apply(this,arguments)};e.guid=g.guid||(g.guid=v.guid++)}return a.each(function(){v.event.add(this,b,e,d,c)})}v.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.get(a);if(!q){return}if(c.handler){f=c;c=f.handler;e=f.selector}if(e){v.find.matchesSelector(va,e)}if(!c.guid){c.guid=v.guid++}if(!(i=q.events)){i=q.events={}}if(!(g=q.handle)){g=q.handle=function(b){return typeof v!=="undefined"&&v.event.triggered!==b.type?v.event.dispatch.apply(a,arguments):undefined}}b=(b||"").match(L)||[""];j=b.length;while(j--){h=ya.exec(b[j])||[];n=p=h[1];o=(h[2]||"").split(".").sort();if(!n){continue}l=v.event.special[n]||{};n=(e?l.delegateType:l.bindType)||n;l=v.event.special[n]||{};k=v.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&v.expr.match.needsContext.test(e),namespace:o.join(".")},f);if(!(m=i[n])){m=i[n]=[];m.delegateCount=0;if(!l.setup||l.setup.call(a,d,o,g)===false){if(a.addEventListener){a.addEventListener(n,g)}}}if(l.add){l.add.call(a,k);if(!k.handler.guid){k.handler.guid=c.guid}}if(e){m.splice(m.delegateCount++,0,k)}else{m.push(k)}v.event.global[n]=true}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=$.hasData(a)&&$.get(a);if(!q||!(i=q.events)){return}b=(b||"").match(L)||[""];j=b.length;while(j--){h=ya.exec(b[j])||[];n=p=h[1];o=(h[2]||"").split(".").sort();if(!n){for(n in i){v.event.remove(a,n+b[j],c,d,true)}continue}l=v.event.special[n]||{};n=(d?l.delegateType:l.bindType)||n;m=i[n]||[];h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)");g=f=m.length;while(f--){k=m[f];if((e||p===k.origType)&&(!c||c.guid===k.guid)&&(!h||h.test(k.namespace))&&(!d||d===k.selector||d==="**"&&k.selector)){m.splice(f,1);if(k.selector){m.delegateCount--}if(l.remove){l.remove.call(a,k)}}}if(g&&!m.length){if(!l.teardown||l.teardown.call(a,o,q.handle)===false){v.removeEvent(a,n,q.handle)}delete i[n]}}if(v.isEmptyObject(i)){$.remove(a,"handle events")}},dispatch:function(a){var b=v.event.fix(a);var c,d,e,f,g,h,i=new Array(arguments.length),j=($.get(this,"events")||{})[b.type]||[],k=v.event.special[b.type]||{};i[0]=b;for(c=1;c<arguments.length;c++){i[c]=arguments[c]}b.delegateTarget=this;if(k.preDispatch&&k.preDispatch.call(this,b)===false){return}h=v.event.handlers.call(this,b,j);c=0;while((f=h[c++])&&!b.isPropagationStopped()){b.currentTarget=f.elem;d=0;while((g=f.handlers[d++])&&!b.isImmediatePropagationStopped()){if(!b.rnamespace||b.rnamespace.test(g.namespace)){b.handleObj=g;b.data=g.data;e=((v.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i);if(e!==undefined){if((b.result=e)===false){b.preventDefault();b.stopPropagation()}}}}}if(k.postDispatch){k.postDispatch.call(this,b)}return b.result},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!(a.type==="click"&&a.button>=1)){for(;j!==this;j=j.parentNode||this){if(j.nodeType===1&&!(a.type==="click"&&j.disabled===true)){f=[];g={};for(c=0;c<i;c++){d=b[c];e=d.selector+" ";if(g[e]===undefined){g[e]=d.needsContext?v(e,this).index(j)>-1:v.find(e,this,null,[j]).length}if(g[e]){f.push(d)}}if(f.length){h.push({elem:j,handlers:f})}}}}j=this;if(i<b.length){h.push({elem:j,handlers:b.slice(i)})}return h},addProp:function(a,b){Object.defineProperty(v.Event.prototype,a,{enumerable:true,configurable:true,get:p(b)?function(){if(this.originalEvent){return b(this.originalEvent)}}:function(){if(this.originalEvent){return this.originalEvent[a]}},set:function(b){Object.defineProperty(this,a,{enumerable:true,configurable:true,writable:true,value:b})}})},fix:function(a){return a[v.expando]?a:new v.Event(a)},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==Ba()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===Ba()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&C(this,"input")){this.click();return false}},_default:function(a){return C(a.target,"a")}},beforeunload:{postDispatch:function(a){if(a.result!==undefined&&a.originalEvent){a.originalEvent.returnValue=a.result}}}}};v.removeEvent=function(a,b,c){if(a.removeEventListener){a.removeEventListener(b,c)}};v.Event=function(a,b){if(!(this instanceof v.Event)){return new v.Event(a,b)}if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===undefined&&a.returnValue===false?za:Aa;this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target;this.currentTarget=a.currentTarget;this.relatedTarget=a.relatedTarget}else{this.type=a}if(b){v.extend(this,b)}this.timeStamp=a&&a.timeStamp||Date.now();this[v.expando]=true};v.Event.prototype={constructor:v.Event,isDefaultPrevented:Aa,isPropagationStopped:Aa,isImmediatePropagationStopped:Aa,isSimulated:false,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=za;if(a&&!this.isSimulated){a.preventDefault()}},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=za;if(a&&!this.isSimulated){a.stopPropagation()}},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=za;if(a&&!this.isSimulated){a.stopImmediatePropagation()}this.stopPropagation()}};v.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,char:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(a){var b=a.button;if(a.which==null&&wa.test(a.type)){return a.charCode!=null?a.charCode:a.keyCode}if(!a.which&&b!==undefined&&xa.test(a.type)){if(b&1){return 1}if(b&2){return 3}if(b&4){return 2}return 0}return a.which}},v.event.addProp);v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){v.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;if(!e||e!==d&&!v.contains(d,e)){a.type=f.origType;c=f.handler.apply(this,arguments);a.type=b}return c}}});v.fn.extend({on:function(a,b,c,d){return Ca(this,a,b,c,d)},one:function(a,b,c,d){return Ca(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){d=a.handleObj;v(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if(typeof a==="object"){for(e in a){this.off(e,b,a[e])}return this}if(b===false||typeof b==="function"){c=b;b=undefined}if(c===false){c=Aa}return this.each(function(){v.event.remove(this,a,c,b)})}});var Da=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ea=/<script|<style|<link/i,Fa=/checked\s*(?:[^=]|=\s*.checked.)/i,Ga=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ha(a,b){if(C(a,"table")&&C(b.nodeType!==11?b:b.firstChild,"tr")){return v(a).children("tbody")[0]||a}return a}function Ia(a){a.type=(a.getAttribute("type")!==null)+"/"+a.type;return a}function Ja(a){if((a.type||"").slice(0,5)==="true/"){a.type=a.type.slice(5)}else{a.removeAttribute("type")}return a}function Ka(a,b){var c,d,e,f,g,h,i,j;if(b.nodeType!==1){return}if($.hasData(a)){f=$.access(a);g=$.set(b,f);j=f.events;if(j){delete g.handle;g.events={};for(e in j){for(c=0,d=j[e].length;c<d;c++){v.event.add(b,e,j[e][c])}}}}if(_.hasData(a)){h=_.access(a);i=v.extend({},h);_.set(b,i)}}function La(a,b){var c=b.nodeName.toLowerCase();if(c==="input"&&na.test(a.type)){b.checked=a.checked}else if(c==="input"||c==="textarea"){b.defaultValue=a.defaultValue}}function Ma(a,b,c,d){b=g.apply([],b);var e,f,h,i,j,k,l=0,m=a.length,n=m-1,q=b[0],r=p(q);if(r||m>1&&typeof q==="string"&&!o.checkClone&&Fa.test(q)){return a.each(function(e){var f=a.eq(e);if(r){b[0]=q.call(this,e,f.html())}Ma(f,b,c,d)})}if(m){e=ua(b,a[0].ownerDocument,false,a,d);f=e.firstChild;if(e.childNodes.length===1){e=f}if(f||d){h=v.map(ra(e,"script"),Ia);i=h.length;for(;l<m;l++){j=e;if(l!==n){j=v.clone(j,true,true);if(i){v.merge(h,ra(j,"script"))}}c.call(a[l],j,l)}if(i){k=h[h.length-1].ownerDocument;v.map(h,Ja);for(l=0;l<i;l++){j=h[l];if(pa.test(j.type||"")&&!$.access(j,"globalEval")&&v.contains(k,j)){if(j.src&&(j.type||"").toLowerCase()!=="module"){if(v._evalUrl){v._evalUrl(j.src)}}else{s(j.textContent.replace(Ga,""),k,j)}}}}}}return a}function Na(a,b,c){var d,e=b?v.filter(b,a):a,f=0;for(;(d=e[f])!=null;f++){if(!c&&d.nodeType===1){v.cleanData(ra(d))}if(d.parentNode){if(c&&v.contains(d.ownerDocument,d)){sa(ra(d,"script"))}d.parentNode.removeChild(d)}}return a}v.extend({htmlPrefilter:function(a){return a.replace(Da,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(true),i=v.contains(a.ownerDocument,a);if(!o.noCloneChecked&&(a.nodeType===1||a.nodeType===11)&&!v.isXMLDoc(a)){g=ra(h);f=ra(a);for(d=0,e=f.length;d<e;d++){La(f[d],g[d])}}if(b){if(c){f=f||ra(a);g=g||ra(h);for(d=0,e=f.length;d<e;d++){Ka(f[d],g[d])}}else{Ka(a,h)}}g=ra(h,"script");if(g.length>0){sa(g,!i&&ra(a,"script"))}return h},cleanData:function(a){var b,c,d,e=v.event.special,f=0;for(;(c=a[f])!==undefined;f++){if(Y(c)){if(b=c[$.expando]){if(b.events){for(d in b.events){if(e[d]){v.event.remove(c,d)}else{v.removeEvent(c,d,b.handle)}}}c[$.expando]=undefined}if(c[_.expando]){c[_.expando]=undefined}}}}});v.fn.extend({detach:function(a){return Na(this,a,true)},remove:function(a){return Na(this,a)},text:function(a){return T(this,function(a){return a===undefined?v.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=a}})},null,a,arguments.length)},append:function(){return Ma(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Ha(this,a);b.appendChild(a)}})},prepend:function(){return Ma(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Ha(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ma(this,arguments,function(a){if(this.parentNode){this.parentNode.insertBefore(a,this)}})},after:function(){return Ma(this,arguments,function(a){if(this.parentNode){this.parentNode.insertBefore(a,this.nextSibling)}})},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){if(a.nodeType===1){v.cleanData(ra(a,false));a.textContent=""}}return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return v.clone(this,a,b)})},html:function(a){return T(this,function(a){var b=this[0]||{},c=0,d=this.length;if(a===undefined&&b.nodeType===1){return b.innerHTML}if(typeof a==="string"&&!Ea.test(a)&&!qa[(oa.exec(a)||["",""])[1].toLowerCase()]){a=v.htmlPrefilter(a);try{for(;c<d;c++){b=this[c]||{};if(b.nodeType===1){v.cleanData(ra(b,false));b.innerHTML=a}}b=0}catch(a){}}if(b){this.empty().append(a)}},null,a,arguments.length)},replaceWith:function(){var a=[];return Ma(this,arguments,function(b){var c=this.parentNode;if(v.inArray(this,a)<0){v.cleanData(ra(this));if(c){c.replaceChild(b,this)}}},a)}});v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){v.fn[a]=function(a){var c,d=[],e=v(a),f=e.length-1,g=0;for(;g<=f;g++){c=g===f?this:this.clone(true);v(e[g])[b](c);h.apply(d,c.get())}return this.pushStack(d)}});var Oa=new RegExp("^("+ea+")(?!px)[a-z%]+$","i");var Pa=function(b){var c=b.ownerDocument.defaultView;if(!c||!c.opener){c=a}return c.getComputedStyle(b)};var Qa=new RegExp(ga.join("|"),"i");(function(){function b(){if(!k){return}j.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";k.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";va.appendChild(j).appendChild(k);var b=a.getComputedStyle(k);e=b.top!=="1%";i=c(b.marginLeft)===12;k.style.right="60%";h=c(b.right)===36;f=c(b.width)===36;k.style.position="absolute";g=k.offsetWidth===36||"absolute";va.removeChild(j);k=null}function c(a){return Math.round(parseFloat(a))}var e,f,g,h,i,j=d.createElement("div"),k=d.createElement("div");if(!k.style){return}k.style.backgroundClip="content-box";k.cloneNode(true).style.backgroundClip="";o.clearCloneStyle=k.style.backgroundClip==="content-box";v.extend(o,{boxSizingReliable:function(){b();return f},pixelBoxStyles:function(){b();return h},pixelPosition:function(){b();return e},reliableMarginLeft:function(){b();return i},scrollboxSize:function(){b();return g}})})();function Ra(a,b,c){var d,e,f,g,h=a.style;c=c||Pa(a);if(c){g=c.getPropertyValue(b)||c[b];if(g===""&&!v.contains(a.ownerDocument,a)){g=v.style(a,b)}if(!o.pixelBoxStyles()&&Oa.test(g)&&Qa.test(b)){d=h.width;e=h.minWidth;f=h.maxWidth;h.minWidth=h.maxWidth=h.width=g;g=c.width;h.width=d;h.minWidth=e;h.maxWidth=f}}return g!==undefined?g+"":g}function Sa(a,b){return{get:function(){if(a()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var Ta=/^(none|table(?!-c[ea]).+)/,Ua=/^--/,Va={position:"absolute",visibility:"hidden",display:"block"},Wa={letterSpacing:"0",fontWeight:"400"},Xa=["Webkit","Moz","ms"],Ya=d.createElement("div").style;function Za(a){if(a in Ya){return a}var b=a[0].toUpperCase()+a.slice(1),c=Xa.length;while(c--){a=Xa[c]+b;if(a in Ya){return a}}}function $a(a){var b=v.cssProps[a];if(!b){b=v.cssProps[a]=Za(a)||a}return b}function _a(a,b,c){var d=fa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function ab(a,b,c,d,e,f){var g=b==="width"?1:0,h=0,i=0;if(c===(d?"border":"content")){return 0}for(;g<4;g+=2){if(c==="margin"){i+=v.css(a,c+ga[g],true,e)}if(!d){i+=v.css(a,"padding"+ga[g],true,e);if(c!=="padding"){i+=v.css(a,"border"+ga[g]+"Width",true,e)}else{h+=v.css(a,"border"+ga[g]+"Width",true,e)}}else{if(c==="content"){i-=v.css(a,"padding"+ga[g],true,e)}if(c!=="margin"){i-=v.css(a,"border"+ga[g]+"Width",true,e)}}}if(!d&&f>=0){i+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-i-h-.5))}return i}function bb(a,b,c){var d=Pa(a),e=Ra(a,b,d),f=v.css(a,"boxSizing",false,d)==="border-box",g=f;if(Oa.test(e)){if(!c){return e}e="auto"}g=g&&(o.boxSizingReliable()||e===a.style[b]);if(e==="auto"||!parseFloat(e)&&v.css(a,"display",false,d)==="inline"){e=a["offset"+b[0].toUpperCase()+b.slice(1)];g=true}e=parseFloat(e)||0;return e+ab(a,b,c||(f?"border":"content"),g,d,e)+"px"}v.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ra(a,"opacity");return c===""?"1":c}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{},style:function(a,b,c,d){if(!a||a.nodeType===3||a.nodeType===8||!a.style){return}var e,f,g,h=X(b),i=Ua.test(b),j=a.style;if(!i){b=$a(h)}g=v.cssHooks[b]||v.cssHooks[h];if(c!==undefined){f=typeof c;if(f==="string"&&(e=fa.exec(c))&&e[1]){c=ja(a,b,e);f="number"}if(c==null||c!==c){return}if(f==="number"){c+=e&&e[3]||(v.cssNumber[h]?"":"px")}if(!o.clearCloneStyle&&c===""&&b.indexOf("background")===0){j[b]="inherit"}if(!g||!("set"in g)||(c=g.set(a,c,d))!==undefined){if(i){j.setProperty(b,c)}else{j[b]=c}}}else{if(g&&"get"in g&&(e=g.get(a,false,d))!==undefined){return e}return j[b]}},css:function(a,b,c,d){var e,f,g,h=X(b),i=Ua.test(b);if(!i){b=$a(h)}g=v.cssHooks[b]||v.cssHooks[h];if(g&&"get"in g){e=g.get(a,true,c)}if(e===undefined){e=Ra(a,b,d)}if(e==="normal"&&b in Wa){e=Wa[b]}if(c===""||c){f=parseFloat(e);return c===true||isFinite(f)?f||0:e}return e}});v.each(["height","width"],function(a,b){v.cssHooks[b]={get:function(a,c,d){if(c){return Ta.test(v.css(a,"display"))&&(!a.getClientRects().length||!a.getBoundingClientRect().width)?ia(a,Va,function(){return bb(a,b,d)}):bb(a,b,d)}},set:function(a,c,d){var e,f=Pa(a),g=v.css(a,"boxSizing",false,f)==="border-box",h=d&&ab(a,b,d,g,f);if(g&&o.scrollboxSize()===f.position){h-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(f[b])-ab(a,b,"border",false,f)-.5)}if(h&&(e=fa.exec(c))&&(e[3]||"px")!=="px"){a.style[b]=c;c=v.css(a,b)}return _a(a,c,h)}}});v.cssHooks.marginLeft=Sa(o.reliableMarginLeft,function(a,b){if(b){return(parseFloat(Ra(a,"marginLeft"))||a.getBoundingClientRect().left-ia(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}});v.each({margin:"",padding:"",border:"Width"},function(a,b){v.cssHooks[a+b]={expand:function(c){var d=0,e={},f=typeof c==="string"?c.split(" "):[c];for(;d<4;d++){e[a+ga[d]+b]=f[d]||f[d-2]||f[0]}return e}};if(a!=="margin"){v.cssHooks[a+b].set=_a}});v.fn.extend({css:function(a,b){return T(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){d=Pa(a);e=b.length;for(;g<e;g++){f[b[g]]=v.css(a,b[g],false,d)}return f}return c!==undefined?v.style(a,b,c):v.css(a,b)},a,b,arguments.length>1)}});function cb(a,b,c,d,e){return new cb.prototype.init(a,b,c,d,e)}v.Tween=cb;cb.prototype={constructor:cb,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||v.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(v.cssNumber[c]?"":"px")},cur:function(){var a=cb.propHooks[this.prop];return a&&a.get?a.get(this):cb.propHooks._default.get(this)},run:function(a){var b,c=cb.propHooks[this.prop];if(this.options.duration){this.pos=b=v.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration)}else{this.pos=b=a}this.now=(this.end-this.start)*b+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(c&&c.set){c.set(this)}else{cb.propHooks._default.set(this)}return this}};cb.prototype.init.prototype=cb.prototype;cb.propHooks={_default:{get:function(a){var b;if(a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null){return a.elem[a.prop]}b=v.css(a.elem,a.prop,"");return!b||b==="auto"?0:b},set:function(a){if(v.fx.step[a.prop]){v.fx.step[a.prop](a)}else if(a.elem.nodeType===1&&(a.elem.style[v.cssProps[a.prop]]!=null||v.cssHooks[a.prop])){v.style(a.elem,a.prop,a.now+a.unit)}else{a.elem[a.prop]=a.now}}}};cb.propHooks.scrollTop=cb.propHooks.scrollLeft={set:function(a){if(a.elem.nodeType&&a.elem.parentNode){a.elem[a.prop]=a.now}}};v.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};v.fx=cb.prototype.init;v.fx.step={};var db,eb,fb=/^(?:toggle|show|hide)$/,gb=/queueHooks$/;function hb(){if(eb){if(d.hidden===false&&a.requestAnimationFrame){a.requestAnimationFrame(hb)}else{a.setTimeout(hb,v.fx.interval)}v.fx.tick()}}function ib(){a.setTimeout(function(){db=undefined});return db=Date.now()}function jb(a,b){var c,d=0,e={height:a};b=b?1:0;for(;d<4;d+=2-b){c=ga[d];e["margin"+c]=e["padding"+c]=a}if(b){e.opacity=e.width=a}return e}function kb(a,b,c){var d,e=(nb.tweeners[b]||[]).concat(nb.tweeners["*"]),f=0,g=e.length;for(;f<g;f++){if(d=e[f].call(c,b,a)){return d}}}function lb(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&ha(a),q=$.get(a,"fxshow");if(!c.queue){g=v._queueHooks(a,"fx");if(g.unqueued==null){g.unqueued=0;h=g.empty.fire;g.empty.fire=function(){if(!g.unqueued){h()}}}g.unqueued++;m.always(function(){m.always(function(){g.unqueued--;if(!v.queue(a,"fx").length){g.empty.fire()}})})}for(d in b){e=b[d];if(fb.test(e)){delete b[d];f=f||e==="toggle";if(e===(p?"hide":"show")){if(e==="show"&&q&&q[d]!==undefined){p=true}else{continue}}n[d]=q&&q[d]||v.style(a,d)}}i=!v.isEmptyObject(b);if(!i&&v.isEmptyObject(n)){return}if(l&&a.nodeType===1){c.overflow=[o.overflow,o.overflowX,o.overflowY];j=q&&q.display;if(j==null){j=$.get(a,"display")}k=v.css(a,"display");if(k==="none"){if(j){k=j}else{ma([a],true);j=a.style.display||j;k=v.css(a,"display");ma([a])}}if(k==="inline"||k==="inline-block"&&j!=null){if(v.css(a,"float")==="none"){if(!i){m.done(function(){o.display=j});if(j==null){k=o.display;j=k==="none"?"":k}}o.display="inline-block"}}}if(c.overflow){o.overflow="hidden";m.always(function(){o.overflow=c.overflow[0];o.overflowX=c.overflow[1];o.overflowY=c.overflow[2]})}i=false;for(d in n){if(!i){if(q){if("hidden"in q){p=q.hidden}}else{q=$.access(a,"fxshow",{display:j})}if(f){q.hidden=!p}if(p){ma([a],true)}m.done(function(){if(!p){ma([a])}$.remove(a,"fxshow");for(d in n){v.style(a,d,n[d])}})}i=kb(p?q[d]:0,d,m);if(!(d in q)){q[d]=i.start;if(p){i.end=i.start;i.start=0}}}}function mb(a,b){var c,d,e,f,g;for(c in a){d=X(c);e=b[d];f=a[c];if(Array.isArray(f)){e=f[1];f=a[c]=f[0]}if(c!==d){a[d]=f;delete a[c]}g=v.cssHooks[d];if(g&&"expand"in g){f=g.expand(f);delete a[d];for(c in f){if(!(c in a)){a[c]=f[c];b[c]=e}}}else{b[d]=e}}}function nb(a,b,c){var d,e,f=0,g=nb.prefilters.length,h=v.Deferred().always(function(){delete i.elem}),i=function(){if(e){return false}var b=db||ib(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;for(;g<i;g++){j.tweens[g].run(f)}h.notifyWith(a,[j,f,c]);if(f<1&&i){return c}if(!i){h.notifyWith(a,[j,1,0])}h.resolveWith(a,[j]);return false},j=h.promise({elem:a,props:v.extend({},b),opts:v.extend(true,{specialEasing:{},easing:v.easing._default},c),originalProperties:b,originalOptions:c,startTime:db||ib(),duration:c.duration,tweens:[],createTween:function(b,c){var d=v.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);j.tweens.push(d);return d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}e=true;for(;c<d;c++){j.tweens[c].run(1)}if(b){h.notifyWith(a,[j,1,0]);h.resolveWith(a,[j,b])}else{h.rejectWith(a,[j,b])}return this}}),k=j.props;mb(k,j.opts.specialEasing);for(;f<g;f++){d=nb.prefilters[f].call(j,a,k,j.opts);if(d){if(p(d.stop)){v._queueHooks(j.elem,j.opts.queue).stop=d.stop.bind(d)}return d}}v.map(k,kb,j);if(p(j.opts.start)){j.opts.start.call(a,j)}j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always);v.fx.timer(v.extend(i,{elem:a,anim:j,queue:j.opts.queue}));return j}v.Animation=v.extend(nb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);ja(c.elem,a,fa.exec(b),c);return c}]},tweener:function(a,b){if(p(a)){b=a;a=["*"]}else{a=a.match(L)}var c,d=0,e=a.length;for(;d<e;d++){c=a[d];nb.tweeners[c]=nb.tweeners[c]||[];nb.tweeners[c].unshift(b)}},prefilters:[lb],prefilter:function(a,b){if(b){nb.prefilters.unshift(a)}else{nb.prefilters.push(a)}}});v.speed=function(a,b,c){var d=a&&typeof a==="object"?v.extend({},a):{complete:c||!c&&b||p(a)&&a,duration:a,easing:c&&b||b&&!p(b)&&b};if(v.fx.off){d.duration=0}else{if(typeof d.duration!=="number"){if(d.duration in v.fx.speeds){d.duration=v.fx.speeds[d.duration]}else{d.duration=v.fx.speeds._default;
}}}if(d.queue==null||d.queue===true){d.queue="fx"}d.old=d.complete;d.complete=function(){if(p(d.old)){d.old.call(this)}if(d.queue){v.dequeue(this,d.queue)}};return d};v.fn.extend({fadeTo:function(a,b,c,d){return this.filter(ha).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=v.isEmptyObject(a),f=v.speed(b,c,d),g=function(){var b=nb(this,v.extend({},a),f);if(e||$.get(this,"finish")){b.stop(true)}};g.finish=g;return e||f.queue===false?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};if(typeof a!=="string"){c=b;b=a;a=undefined}if(b&&a!==false){this.queue(a||"fx",[])}return this.each(function(){var b=true,e=a!=null&&a+"queueHooks",f=v.timers,g=$.get(this);if(e){if(g[e]&&g[e].stop){d(g[e])}}else{for(e in g){if(g[e]&&g[e].stop&&gb.test(e)){d(g[e])}}}for(e=f.length;e--;){if(f[e].elem===this&&(a==null||f[e].queue===a)){f[e].anim.stop(c);b=false;f.splice(e,1)}}if(b||!c){v.dequeue(this,a)}})},finish:function(a){if(a!==false){a=a||"fx"}return this.each(function(){var b,c=$.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=v.timers,g=d?d.length:0;c.finish=true;v.queue(this,a,[]);if(e&&e.stop){e.stop.call(this,true)}for(b=f.length;b--;){if(f[b].elem===this&&f[b].queue===a){f[b].anim.stop(true);f.splice(b,1)}}for(b=0;b<g;b++){if(d[b]&&d[b].finish){d[b].finish.call(this)}}delete c.finish})}});v.each(["toggle","show","hide"],function(a,b){var c=v.fn[b];v.fn[b]=function(a,d,e){return a==null||typeof a==="boolean"?c.apply(this,arguments):this.animate(jb(b,true),a,d,e)}});v.each({slideDown:jb("show"),slideUp:jb("hide"),slideToggle:jb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){v.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});v.timers=[];v.fx.tick=function(){var a,b=0,c=v.timers;db=Date.now();for(;b<c.length;b++){a=c[b];if(!a()&&c[b]===a){c.splice(b--,1)}}if(!c.length){v.fx.stop()}db=undefined};v.fx.timer=function(a){v.timers.push(a);v.fx.start()};v.fx.interval=13;v.fx.start=function(){if(eb){return}eb=true;hb()};v.fx.stop=function(){eb=null};v.fx.speeds={slow:600,fast:200,_default:400};v.fn.delay=function(b,c){b=v.fx?v.fx.speeds[b]||b:b;c=c||"fx";return this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})};(function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox";o.checkOn=a.value!=="";o.optSelected=c.selected;a=d.createElement("input");a.value="t";a.type="radio";o.radioValue=a.value==="t"})();var ob,pb=v.expr.attrHandle;v.fn.extend({attr:function(a,b){return T(this,v.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){v.removeAttr(this,a)})}});v.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(f===3||f===8||f===2){return}if(typeof a.getAttribute==="undefined"){return v.prop(a,b,c)}if(f!==1||!v.isXMLDoc(a)){e=v.attrHooks[b.toLowerCase()]||(v.expr.match.bool.test(b)?ob:undefined)}if(c!==undefined){if(c===null){v.removeAttr(a,b);return}if(e&&"set"in e&&(d=e.set(a,c,b))!==undefined){return d}a.setAttribute(b,c+"");return c}if(e&&"get"in e&&(d=e.get(a,b))!==null){return d}d=v.find.attr(a,b);return d==null?undefined:d},attrHooks:{type:{set:function(a,b){if(!o.radioValue&&b==="radio"&&C(a,"input")){var c=a.value;a.setAttribute("type",b);if(c){a.value=c}return b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(L);if(e&&a.nodeType===1){while(c=e[d++]){a.removeAttribute(c)}}}});ob={set:function(a,b,c){if(b===false){v.removeAttr(a,c)}else{a.setAttribute(c,c)}return c}};v.each(v.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pb[b]||v.find.attr;pb[b]=function(a,b,d){var e,f,g=b.toLowerCase();if(!d){f=pb[g];pb[g]=e;e=c(a,b,d)!=null?g:null;pb[g]=f}return e}});var qb=/^(?:input|select|textarea|button)$/i,rb=/^(?:a|area)$/i;v.fn.extend({prop:function(a,b){return T(this,v.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[v.propFix[a]||a]})}});v.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(f===3||f===8||f===2){return}if(f!==1||!v.isXMLDoc(a)){b=v.propFix[b]||b;e=v.propHooks[b]}if(c!==undefined){if(e&&"set"in e&&(d=e.set(a,c,b))!==undefined){return d}return a[b]=c}if(e&&"get"in e&&(d=e.get(a,b))!==null){return d}return a[b]},propHooks:{tabIndex:{get:function(a){var b=v.find.attr(a,"tabindex");if(b){return parseInt(b,10)}if(qb.test(a.nodeName)||rb.test(a.nodeName)&&a.href){return 0}return-1}}},propFix:{for:"htmlFor",class:"className"}});if(!o.optSelected){v.propHooks.selected={get:function(a){var b=a.parentNode;if(b&&b.parentNode){b.parentNode.selectedIndex}return null},set:function(a){var b=a.parentNode;if(b){b.selectedIndex;if(b.parentNode){b.parentNode.selectedIndex}}}}}v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function sb(a){var b=a.match(L)||[];return b.join(" ")}function tb(a){return a.getAttribute&&a.getAttribute("class")||""}function ub(a){if(Array.isArray(a)){return a}if(typeof a==="string"){return a.match(L)||[]}return[]}v.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(p(a)){return this.each(function(b){v(this).addClass(a.call(this,b,tb(this)))})}b=ub(a);if(b.length){while(c=this[i++]){e=tb(c);d=c.nodeType===1&&" "+sb(e)+" ";if(d){g=0;while(f=b[g++]){if(d.indexOf(" "+f+" ")<0){d+=f+" "}}h=sb(d);if(e!==h){c.setAttribute("class",h)}}}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(p(a)){return this.each(function(b){v(this).removeClass(a.call(this,b,tb(this)))})}if(!arguments.length){return this.attr("class","")}b=ub(a);if(b.length){while(c=this[i++]){e=tb(c);d=c.nodeType===1&&" "+sb(e)+" ";if(d){g=0;while(f=b[g++]){while(d.indexOf(" "+f+" ")>-1){d=d.replace(" "+f+" "," ")}}h=sb(d);if(e!==h){c.setAttribute("class",h)}}}}return this},toggleClass:function(a,b){var c=typeof a,d=c==="string"||Array.isArray(a);if(typeof b==="boolean"&&d){return b?this.addClass(a):this.removeClass(a)}if(p(a)){return this.each(function(c){v(this).toggleClass(a.call(this,c,tb(this),b),b)})}return this.each(function(){var b,e,f,g;if(d){e=0;f=v(this);g=ub(a);while(b=g[e++]){if(f.hasClass(b)){f.removeClass(b)}else{f.addClass(b)}}}else if(a===undefined||c==="boolean"){b=tb(this);if(b){$.set(this,"__className__",b)}if(this.setAttribute){this.setAttribute("class",b||a===false?"":$.get(this,"__className__")||"")}}})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++]){if(c.nodeType===1&&(" "+sb(tb(c))+" ").indexOf(b)>-1){return true}}return false}});var vb=/\r/g;v.fn.extend({val:function(a){var b,c,d,e=this[0];if(!arguments.length){if(e){b=v.valHooks[e.type]||v.valHooks[e.nodeName.toLowerCase()];if(b&&"get"in b&&(c=b.get(e,"value"))!==undefined){return c}c=e.value;if(typeof c==="string"){return c.replace(vb,"")}return c==null?"":c}return}d=p(a);return this.each(function(c){var e;if(this.nodeType!==1){return}if(d){e=a.call(this,c,v(this).val())}else{e=a}if(e==null){e=""}else if(typeof e==="number"){e+=""}else if(Array.isArray(e)){e=v.map(e,function(a){return a==null?"":a+""})}b=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||b.set(this,e,"value")===undefined){this.value=e}})}});v.extend({valHooks:{option:{get:function(a){var b=v.find.attr(a,"value");return b!=null?b:sb(v.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,g=a.type==="select-one",h=g?null:[],i=g?f+1:e.length;if(f<0){d=i}else{d=g?f:0}for(;d<i;d++){c=e[d];if((c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!C(c.parentNode,"optgroup"))){b=v(c).val();if(g){return b}h.push(b)}}return h},set:function(a,b){var c,d,e=a.options,f=v.makeArray(b),g=e.length;while(g--){d=e[g];if(d.selected=v.inArray(v.valHooks.option.get(d),f)>-1){c=true}}if(!c){a.selectedIndex=-1}return f}}}});v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(a,b){if(Array.isArray(b)){return a.checked=v.inArray(v(a).val(),b)>-1}}};if(!o.checkOn){v.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value}}});o.focusin="onfocusin"in a;var wb=/^(?:focusinfocus|focusoutblur)$/,xb=function(a){a.stopPropagation()};v.extend(v.event,{trigger:function(b,c,e,f){var g,h,i,j,k,m,n,o,r=[e||d],s=l.call(b,"type")?b.type:b,t=l.call(b,"namespace")?b.namespace.split("."):[];h=o=i=e=e||d;if(e.nodeType===3||e.nodeType===8){return}if(wb.test(s+v.event.triggered)){return}if(s.indexOf(".")>-1){t=s.split(".");s=t.shift();t.sort()}k=s.indexOf(":")<0&&"on"+s;b=b[v.expando]?b:new v.Event(s,typeof b==="object"&&b);b.isTrigger=f?2:3;b.namespace=t.join(".");b.rnamespace=b.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b.result=undefined;if(!b.target){b.target=e}c=c==null?[b]:v.makeArray(c,[b]);n=v.event.special[s]||{};if(!f&&n.trigger&&n.trigger.apply(e,c)===false){return}if(!f&&!n.noBubble&&!q(e)){j=n.delegateType||s;if(!wb.test(j+s)){h=h.parentNode}for(;h;h=h.parentNode){r.push(h);i=h}if(i===(e.ownerDocument||d)){r.push(i.defaultView||i.parentWindow||a)}}g=0;while((h=r[g++])&&!b.isPropagationStopped()){o=h;b.type=g>1?j:n.bindType||s;m=($.get(h,"events")||{})[b.type]&&$.get(h,"handle");if(m){m.apply(h,c)}m=k&&h[k];if(m&&m.apply&&Y(h)){b.result=m.apply(h,c);if(b.result===false){b.preventDefault()}}}b.type=s;if(!f&&!b.isDefaultPrevented()){if((!n._default||n._default.apply(r.pop(),c)===false)&&Y(e)){if(k&&p(e[s])&&!q(e)){i=e[k];if(i){e[k]=null}v.event.triggered=s;if(b.isPropagationStopped()){o.addEventListener(s,xb)}e[s]();if(b.isPropagationStopped()){o.removeEventListener(s,xb)}v.event.triggered=undefined;if(i){e[k]=i}}}}return b.result},simulate:function(a,b,c){var d=v.extend(new v.Event,c,{type:a,isSimulated:true});v.event.trigger(d,null,b)}});v.fn.extend({trigger:function(a,b){return this.each(function(){v.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c){return v.event.trigger(a,b,c,true)}}});if(!o.focusin){v.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){v.event.simulate(b,a.target,v.event.fix(a))};v.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=$.access(d,b);if(!e){d.addEventListener(a,c,true)}$.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=$.access(d,b)-1;if(!e){d.removeEventListener(a,c,true);$.remove(d,b)}else{$.access(d,b,e)}}}})}var yb=a.location;var zb=Date.now();var Ab=/\?/;v.parseXML=function(b){var c;if(!b||typeof b!=="string"){return null}try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=undefined}if(!c||c.getElementsByTagName("parsererror").length){v.error("Invalid XML: "+b)}return c};var Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;function Fb(a,b,c,d){var e;if(Array.isArray(b)){v.each(b,function(b,e){if(c||Bb.test(a)){d(a,e)}else{Fb(a+"["+(typeof e==="object"&&e!=null?b:"")+"]",e,c,d)}})}else if(!c&&t(b)==="object"){for(e in b){Fb(a+"["+e+"]",b[e],c,d)}}else{d(a,b)}}v.param=function(a,b){var c,d=[],e=function(a,b){var c=p(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(c==null?"":c)};if(Array.isArray(a)||a.jquery&&!v.isPlainObject(a)){v.each(a,function(){e(this.name,this.value)})}else{for(c in a){Fb(c,a[c],b,e)}}return d.join("&")};v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=v.prop(this,"elements");return a?v.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!v(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!na.test(a))}).map(function(a,b){var c=v(this).val();if(c==null){return null}if(Array.isArray(c)){return v.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}})}return{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}});var Gb=/%20/g,Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\/\//,Nb={},Ob={},Pb="*/".concat("*"),Qb=d.createElement("a");Qb.href=yb.href;function Rb(a){return function(b,c){if(typeof b!=="string"){c=b;b="*"}var d,e=0,f=b.toLowerCase().match(L)||[];if(p(c)){while(d=f[e++]){if(d[0]==="+"){d=d.slice(1)||"*";(a[d]=a[d]||[]).unshift(c)}else{(a[d]=a[d]||[]).push(c)}}}}}function Sb(a,b,c,d){var e={},f=a===Ob;function g(h){var i;e[h]=true;v.each(a[h]||[],function(a,h){var j=h(b,c,d);if(typeof j==="string"&&!f&&!e[j]){b.dataTypes.unshift(j);g(j);return false}else if(f){return!(i=j)}});return i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Tb(a,b){var c,d,e=v.ajaxSettings.flatOptions||{};for(c in b){if(b[c]!==undefined){(e[c]?a:d||(d={}))[c]=b[c]}}if(d){v.extend(true,a,d)}return a}function Ub(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while(i[0]==="*"){i.shift();if(d===undefined){d=a.mimeType||b.getResponseHeader("Content-Type")}}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0]in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}if(!g){g=e}}f=f||g}if(f){if(f!==i[0]){i.unshift(f)}return c[f]}}function Vb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]){c[a.responseFields[f]]=b}if(!i&&d&&a.dataFilter){b=a.dataFilter(b,a.dataType)}i=f;f=k.shift();if(f){if(f==="*"){f=i}else if(i!=="*"&&i!==f){g=j[i+" "+f]||j["* "+f];if(!g){for(e in j){h=e.split(" ");if(h[1]===f){g=j[i+" "+h[0]]||j["* "+h[0]];if(g){if(g===true){g=j[e]}else if(j[e]!==true){f=h[0];k.unshift(h[1])}break}}}}if(g!==true){if(g&&a.throws){b=g(b)}else{try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}}}}}return{state:"success",data:b}}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yb.href,type:"GET",isLocal:Kb.test(yb.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(a,b){return b?Tb(Tb(a,v.ajaxSettings),b):Tb(v.ajaxSettings,a)},ajaxPrefilter:Rb(Nb),ajaxTransport:Rb(Ob),ajax:function(b,c){if(typeof b==="object"){c=b;b=undefined}c=c||{};var e,f,g,h,i,j,k,l,m,n,o=v.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?v(p):v.event,r=v.Deferred(),s=v.Callbacks("once memory"),t=o.statusCode||{},u={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h){h={};while(b=Jb.exec(g)){h[b[1].toLowerCase()]=b[2]}}b=h[a.toLowerCase()]}return b==null?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){if(k==null){a=w[a.toLowerCase()]=w[a.toLowerCase()]||a;u[a]=b}return this},overrideMimeType:function(a){if(k==null){o.mimeType=a}return this},statusCode:function(a){var b;if(a){if(k){y.always(a[y.status])}else{for(b in a){t[b]=[t[b],a[b]]}}}return this},abort:function(a){var b=a||x;if(e){e.abort(b)}z(0,b);return this}};r.promise(y);o.url=((b||o.url||yb.href)+"").replace(Mb,yb.protocol+"//");o.type=c.method||c.type||o.method||o.type;o.dataTypes=(o.dataType||"*").toLowerCase().match(L)||[""];if(o.crossDomain==null){j=d.createElement("a");try{j.href=o.url;j.href=j.href;o.crossDomain=Qb.protocol+"//"+Qb.host!==j.protocol+"//"+j.host}catch(a){o.crossDomain=true}}if(o.data&&o.processData&&typeof o.data!=="string"){o.data=v.param(o.data,o.traditional)}Sb(Nb,o,c,y);if(k){return y}l=v.event&&o.global;if(l&&v.active++===0){v.event.trigger("ajaxStart")}o.type=o.type.toUpperCase();o.hasContent=!Lb.test(o.type);f=o.url.replace(Hb,"");if(!o.hasContent){n=o.url.slice(f.length);if(o.data&&(o.processData||typeof o.data==="string")){f+=(Ab.test(f)?"&":"?")+o.data;delete o.data}if(o.cache===false){f=f.replace(Ib,"$1");n=(Ab.test(f)?"&":"?")+"_="+zb++ +n}o.url=f+n}else if(o.data&&o.processData&&(o.contentType||"").indexOf("application/x-www-form-urlencoded")===0){o.data=o.data.replace(Gb,"+")}if(o.ifModified){if(v.lastModified[f]){y.setRequestHeader("If-Modified-Since",v.lastModified[f])}if(v.etag[f]){y.setRequestHeader("If-None-Match",v.etag[f])}}if(o.data&&o.hasContent&&o.contentType!==false||c.contentType){y.setRequestHeader("Content-Type",o.contentType)}y.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+(o.dataTypes[0]!=="*"?", "+Pb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers){y.setRequestHeader(m,o.headers[m])}if(o.beforeSend&&(o.beforeSend.call(p,y,o)===false||k)){return y.abort()}x="abort";s.add(o.complete);y.done(o.success);y.fail(o.error);e=Sb(Ob,o,c,y);if(!e){z(-1,"No Transport")}else{y.readyState=1;if(l){q.trigger("ajaxSend",[y,o])}if(k){return y}if(o.async&&o.timeout>0){i=a.setTimeout(function(){y.abort("timeout")},o.timeout)}try{k=false;e.send(u,z)}catch(a){if(k){throw a}z(-1,a)}}function z(b,c,d,h){var j,m,n,u,w,x=c;if(k){return}k=true;if(i){a.clearTimeout(i)}e=undefined;g=h||"";y.readyState=b>0?4:0;j=b>=200&&b<300||b===304;if(d){u=Ub(o,y,d)}u=Vb(o,u,y,j);if(j){if(o.ifModified){w=y.getResponseHeader("Last-Modified");if(w){v.lastModified[f]=w}w=y.getResponseHeader("etag");if(w){v.etag[f]=w}}if(b===204||o.type==="HEAD"){x="nocontent"}else if(b===304){x="notmodified"}else{x=u.state;m=u.data;n=u.error;j=!n}}else{n=x;if(b||!x){x="error";if(b<0){b=0}}}y.status=b;y.statusText=(c||x)+"";if(j){r.resolveWith(p,[m,x,y])}else{r.rejectWith(p,[y,x,n])}y.statusCode(t);t=undefined;if(l){q.trigger(j?"ajaxSuccess":"ajaxError",[y,o,j?m:n])}s.fireWith(p,[y,x]);if(l){q.trigger("ajaxComplete",[y,o]);if(!--v.active){v.event.trigger("ajaxStop")}}}return y},getJSON:function(a,b,c){return v.get(a,b,c,"json")},getScript:function(a,b){return v.get(a,undefined,b,"script")}});v.each(["get","post"],function(a,b){v[b]=function(a,c,d,e){if(p(c)){e=e||d;d=c;c=undefined}return v.ajax(v.extend({url:a,type:b,dataType:e,data:c,success:d},v.isPlainObject(a)&&a))}});v._evalUrl=function(a){return v.ajax({url:a,type:"GET",dataType:"script",cache:true,async:false,global:false,throws:true})};v.fn.extend({wrapAll:function(a){var b;if(this[0]){if(p(a)){a=a.call(this[0])}b=v(a,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b.insertBefore(this[0])}b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)}return this},wrapInner:function(a){if(p(a)){return this.each(function(b){v(this).wrapInner(a.call(this,b))})}return this.each(function(){var b=v(this),c=b.contents();if(c.length){c.wrapAll(a)}else{b.append(a)}})},wrap:function(a){var b=p(a);return this.each(function(c){v(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){v(this).replaceWith(this.childNodes)});return this}});v.expr.pseudos.hidden=function(a){return!v.expr.pseudos.visible(a)};v.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};v.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Wb={0:200,1223:204},Xb=v.ajaxSettings.xhr();o.cors=!!Xb&&"withCredentials"in Xb;o.ajax=Xb=!!Xb;v.ajaxTransport(function(b){var c,d;if(o.cors||Xb&&!b.crossDomain){return{send:function(e,f){var g,h=b.xhr();h.open(b.type,b.url,b.async,b.username,b.password);if(b.xhrFields){for(g in b.xhrFields){h[g]=b.xhrFields[g]}}if(b.mimeType&&h.overrideMimeType){h.overrideMimeType(b.mimeType)}if(!b.crossDomain&&!e["X-Requested-With"]){e["X-Requested-With"]="XMLHttpRequest"}for(g in e){h.setRequestHeader(g,e[g])}c=function(a){return function(){if(c){c=d=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null;if(a==="abort"){h.abort()}else if(a==="error"){if(typeof h.status!=="number"){f(0,"error")}else{f(h.status,h.statusText)}}else{f(Wb[h.status]||h.status,h.statusText,(h.responseType||"text")!=="text"||typeof h.responseText!=="string"?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders())}}}};h.onload=c();d=h.onerror=h.ontimeout=c("error");if(h.onabort!==undefined){h.onabort=d}else{h.onreadystatechange=function(){if(h.readyState===4){a.setTimeout(function(){if(c){d()}})}}}c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c){throw a}}},abort:function(){if(c){c()}}}}});v.ajaxPrefilter(function(a){if(a.crossDomain){a.contents.script=false}});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){v.globalEval(a);return a}}});v.ajaxPrefilter("script",function(a){if(a.cache===undefined){a.cache=false}if(a.crossDomain){a.type="GET"}});v.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=v("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;if(a){f(a.type==="error"?404:200,a.type)}});d.head.appendChild(b[0])},abort:function(){if(c){c()}}}}});var Yb=[],Zb=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Yb.pop()||v.expando+"_"+zb++;this[a]=true;return a}});v.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==false&&(Zb.test(b.url)?"url":typeof b.data==="string"&&(b.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Zb.test(b.data)&&"data");if(h||b.dataTypes[0]==="jsonp"){e=b.jsonpCallback=p(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback;if(h){b[h]=b[h].replace(Zb,"$1"+e)}else if(b.jsonp!==false){b.url+=(Ab.test(b.url)?"&":"?")+b.jsonp+"="+e}b.converters["script json"]=function(){if(!g){v.error(e+" was not called")}return g[0]};b.dataTypes[0]="json";f=a[e];a[e]=function(){g=arguments};d.always(function(){if(f===undefined){v(a).removeProp(e)}else{a[e]=f}if(b[e]){b.jsonpCallback=c.jsonpCallback;Yb.push(e)}if(g&&p(f)){f(g[0])}g=f=undefined});return"script"}});o.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;a.innerHTML="<form></form><form></form>";return a.childNodes.length===2}();v.parseHTML=function(a,b,c){if(typeof a!=="string"){return[]}if(typeof b==="boolean"){c=b;b=false}var e,f,g;if(!b){if(o.createHTMLDocument){b=d.implementation.createHTMLDocument("");e=b.createElement("base");e.href=d.location.href;b.head.appendChild(e)}else{b=d}}f=D.exec(a);g=!c&&[];if(f){return[b.createElement(f[1])]}f=ua([a],b,g);if(g&&g.length){v(g).remove()}return v.merge([],f.childNodes)};v.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");if(h>-1){d=sb(a.slice(h));a=a.slice(0,h)}if(p(b)){c=b;b=undefined}else if(b&&typeof b==="object"){e="POST"}if(g.length>0){v.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments;g.html(d?v("<div>").append(v.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})})}return this};v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){v.fn[b]=function(a){return this.on(b,a)}});v.expr.pseudos.animated=function(a){return v.grep(v.timers,function(b){return a===b.elem}).length};v.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=v.css(a,"position"),l=v(a),m={};if(k==="static"){a.style.position="relative"}h=l.offset();f=v.css(a,"top");i=v.css(a,"left");j=(k==="absolute"||k==="fixed")&&(f+i).indexOf("auto")>-1;if(j){d=l.position();g=d.top;e=d.left}else{g=parseFloat(f)||0;e=parseFloat(i)||0}if(p(b)){b=b.call(a,c,v.extend({},h))}if(b.top!=null){m.top=b.top-h.top+g}if(b.left!=null){m.left=b.left-h.left+e}if("using"in b){b.using.call(a,m)}else{l.css(m)}}};v.fn.extend({offset:function(a){if(arguments.length){return a===undefined?this:this.each(function(b){v.offset.setOffset(this,a,b)})}var b,c,d=this[0];if(!d){return}if(!d.getClientRects().length){return{top:0,left:0}}b=d.getBoundingClientRect();c=d.ownerDocument.defaultView;return{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}},position:function(){if(!this[0]){return}var a,b,c,d=this[0],e={top:0,left:0};if(v.css(d,"position")==="fixed"){b=d.getBoundingClientRect()}else{b=this.offset();c=d.ownerDocument;a=d.offsetParent||c.documentElement;while(a&&(a===c.body||a===c.documentElement)&&v.css(a,"position")==="static"){a=a.parentNode}if(a&&a!==d&&a.nodeType===1){e=v(a).offset();e.top+=v.css(a,"borderTopWidth",true);e.left+=v.css(a,"borderLeftWidth",true)}}return{top:b.top-e.top-v.css(d,"marginTop",true),left:b.left-e.left-v.css(d,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&v.css(a,"position")==="static"){a=a.offsetParent}return a||va})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;v.fn[a]=function(d){return T(this,function(a,d,e){var f;if(q(a)){f=a}else if(a.nodeType===9){f=a.defaultView}if(e===undefined){return f?f[b]:a[d]}if(f){f.scrollTo(!c?e:f.pageXOffset,c?e:f.pageYOffset)}else{a[d]=e}},a,d,arguments.length)}});v.each(["top","left"],function(a,b){v.cssHooks[b]=Sa(o.pixelPosition,function(a,c){if(c){c=Ra(a,b);return Oa.test(c)?v(a).position()[b]+"px":c}})});v.each({Height:"height",Width:"width"},function(a,b){v.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){v.fn[d]=function(e,f){var g=arguments.length&&(c||typeof e!=="boolean"),h=c||(e===true||f===true?"margin":"border");return T(this,function(b,c,e){var f;if(q(b)){return d.indexOf("outer")===0?b["inner"+a]:b.document.documentElement["client"+a]}if(b.nodeType===9){f=b.documentElement;return Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])}return e===undefined?v.css(b,c,h):v.style(b,c,e,h)},b,g?e:undefined,g)}})});v.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(a,b){v.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}});v.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});v.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)}});v.proxy=function(a,b){var c,d,e;if(typeof b==="string"){c=a[b];b=a;a=c}if(!p(a)){return undefined}d=f.call(arguments,2);e=function(){return a.apply(b||this,d.concat(f.call(arguments)))};e.guid=a.guid=a.guid||v.guid++;return e};v.holdReady=function(a){if(a){v.readyWait++}else{v.ready(true)}};v.isArray=Array.isArray;v.parseJSON=JSON.parse;v.nodeName=C;v.isFunction=p;v.isWindow=q;v.camelCase=X;v.type=t;v.now=Date.now;v.isNumeric=function(a){var b=v.type(a);return(b==="number"||b==="string")&&!isNaN(a-parseFloat(a))};if(typeof define==="function"&&define.amd){define("jquery",[],function(){return v})}var $b=a.jQuery,_b=a.$;v.noConflict=function(b){if(a.$===v){a.$=_b}if(b&&a.jQuery===v){a.jQuery=$b}return v};if(!b){a.jQuery=a.$=v}return v});(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function(a){a.ui=a.ui||{};var b=a.ui.version="1.12.1";var c=0;var d=Array.prototype.slice;a.cleanData=function(b){return function(c){var d,e,f;for(f=0;(e=c[f])!=null;f++){try{d=a._data(e,"events");if(d&&d.remove){a(e).triggerHandler("remove")}}catch(a){}}b(c)}}(a.cleanData);a.widget=function(b,c,d){var e,f,g;var h={};var i=b.split(".")[0];b=b.split(".")[1];var j=i+"-"+b;if(!d){d=c;c=a.Widget}if(a.isArray(d)){d=a.extend.apply(null,[{}].concat(d))}a.expr[":"][j.toLowerCase()]=function(b){return!!a.data(b,j)};a[i]=a[i]||{};e=a[i][b];f=a[i][b]=function(a,b){if(!this._createWidget){return new f(a,b)}if(arguments.length){this._createWidget(a,b)}};a.extend(f,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]});g=new c;g.options=a.widget.extend({},g.options);a.each(d,function(b,d){if(!a.isFunction(d)){h[b]=d;return}h[b]=function(){function a(){return c.prototype[b].apply(this,arguments)}function e(a){return c.prototype[b].apply(this,a)}return function(){var b=this._super;var c=this._superApply;var f;this._super=a;this._superApply=e;f=d.apply(this,arguments);this._super=b;this._superApply=c;return f}}()});f.prototype=a.widget.extend(g,{widgetEventPrefix:e?g.widgetEventPrefix||b:b},h,{constructor:f,namespace:i,widgetName:b,widgetFullName:j});if(e){a.each(e._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,f,c._proto)});delete e._childConstructors}else{c._childConstructors.push(f)}a.widget.bridge(b,f);return f};a.widget.extend=function(b){var c=d.call(arguments,1);var e=0;var f=c.length;var g;var h;for(;e<f;e++){for(g in c[e]){h=c[e][g];if(c[e].hasOwnProperty(g)&&h!==undefined){if(a.isPlainObject(h)){b[g]=a.isPlainObject(b[g])?a.widget.extend({},b[g],h):a.widget.extend({},h)}else{b[g]=h}}}}return b};a.widget.bridge=function(b,c){var e=c.prototype.widgetFullName||b;a.fn[b]=function(f){var g=typeof f==="string";var h=d.call(arguments,1);var i=this;if(g){if(!this.length&&f==="instance"){i=undefined}else{this.each(function(){var c;var d=a.data(this,e);if(f==="instance"){i=d;return false}if(!d){return a.error("cannot call methods on "+b+" prior to initialization; "+"attempted to call method '"+f+"'")}if(!a.isFunction(d[f])||f.charAt(0)==="_"){return a.error("no such method '"+f+"' for "+b+" widget instance")}c=d[f].apply(d,h);if(c!==d&&c!==undefined){i=c&&c.jquery?i.pushStack(c.get()):c;return false}})}}else{if(h.length){f=a.widget.extend.apply(null,[f].concat(h))}this.each(function(){var b=a.data(this,e);if(b){b.option(f||{});if(b._init){b._init()}}else{a.data(this,e,new c(f,this))}})}return i}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=a();this.hoverable=a();this.focusable=a();this.classesElementLookup={};if(d!==this){a.data(d,this.widgetFullName,this);this._on(true,this.element,{remove:function(a){if(a.target===d){this.destroy()}}});this.document=a(d.style?d.ownerDocument:d.document||d);this.window=a(this.document[0].defaultView||this.document[0].parentWindow)}this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy();a.each(this.classesElementLookup,function(a,c){b._removeClass(c,a)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,c){var d=b;var e;var f;var g;if(arguments.length===0){return a.widget.extend({},this.options)}if(typeof b==="string"){d={};e=b.split(".");b=e.shift();if(e.length){f=d[b]=a.widget.extend({},this.options[b]);for(g=0;g<e.length-1;g++){f[e[g]]=f[e[g]]||{};f=f[e[g]]}b=e.pop();if(arguments.length===1){return f[b]===undefined?null:f[b]}f[b]=c}else{if(arguments.length===1){return this.options[b]===undefined?null:this.options[b]}d[b]=c}}this._setOptions(d);return this},_setOptions:function(a){var b;for(b in a){this._setOption(b,a[b])}return this},_setOption:function(a,b){if(a==="classes"){this._setOptionClasses(b)}this.options[a]=b;
if(a==="disabled"){this._setOptionDisabled(b)}return this},_setOptionClasses:function(b){var c,d,e;for(c in b){e=this.classesElementLookup[c];if(b[c]===this.options.classes[c]||!e||!e.length){continue}d=a(e.get());this._removeClass(e,c);d.addClass(this._classes({element:d,keys:c,classes:b,add:true}))}},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);if(a){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(b){var c=[];var d=this;b=a.extend({element:this.element,classes:this.options.classes||{}},b);function e(e,f){var g,h;for(h=0;h<e.length;h++){g=d.classesElementLookup[e[h]]||a();if(b.add){g=a(a.unique(g.get().concat(b.element.get())))}else{g=a(g.not(b.element).get())}d.classesElementLookup[e[h]]=g;c.push(e[h]);if(f&&b.classes[e[h]]){c.push(b.classes[e[h]])}}}this._on(b.element,{remove:"_untrackClassesElement"});if(b.keys){e(b.keys.match(/\S+/g)||[],true)}if(b.extra){e(b.extra.match(/\S+/g)||[])}return c.join(" ")},_untrackClassesElement:function(b){var c=this;a.each(c.classesElementLookup,function(d,e){if(a.inArray(b.target,e)!==-1){c.classesElementLookup[d]=a(e.not(b.target).get())}})},_removeClass:function(a,b,c){return this._toggleClass(a,b,c,false)},_addClass:function(a,b,c){return this._toggleClass(a,b,c,true)},_toggleClass:function(a,b,c,d){d=typeof d==="boolean"?d:c;var e=typeof a==="string"||a===null,f={extra:e?b:c,keys:e?a:b,element:e?this.element:a,add:d};f.element.toggleClass(this._classes(f),d);return this},_on:function(b,c,d){var e;var f=this;if(typeof b!=="boolean"){d=c;c=b;b=false}if(!d){d=c;c=this.element;e=this.widget()}else{c=e=a(c);this.bindings=this.bindings.add(c)}a.each(d,function(d,g){function h(){if(!b&&(f.options.disabled===true||a(this).hasClass("ui-state-disabled"))){return}return(typeof g==="string"?f[g]:g).apply(f,arguments)}if(typeof g!=="string"){h.guid=g.guid=g.guid||h.guid||a.guid++}var i=d.match(/^([\w:-]*)\s*(.*)$/);var j=i[1]+f.eventNamespace;var k=i[2];if(k){e.on(j,k,h)}else{c.on(j,h)}})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.off(c).off(c);this.bindings=a(this.bindings.not(b).get());this.focusable=a(this.focusable.not(b).get());this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){function c(){return(typeof a==="string"?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,c,d){var e,f;var g=this.options[b];d=d||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];f=c.originalEvent;if(f){for(e in f){if(!(e in c)){c[e]=f[e]}}}this.element.trigger(c,d);return!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===false||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){if(typeof e==="string"){e={effect:e}}var g;var h=!e?b:e===true||typeof e==="number"?c:e.effect||c;e=e||{};if(typeof e==="number"){e={duration:e}}g=!a.isEmptyObject(e);e.complete=f;if(e.delay){d.delay(e.delay)}if(g&&a.effects&&a.effects.effect[h]){d[b](e)}else if(h!==b&&d[h]){d[h](e.duration,e.easing,f)}else{d.queue(function(c){a(this)[b]();if(f){f.call(d[0])}c()})}}});var e=a.widget;(function(){var b,c=Math.max,d=Math.abs,e=/left|center|right/,f=/top|center|bottom/,g=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,i=/%$/,j=a.fn.position;function k(a,b,c){return[parseFloat(a[0])*(i.test(a[0])?b/100:1),parseFloat(a[1])*(i.test(a[1])?c/100:1)]}function l(b,c){return parseInt(a.css(b,c),10)||0}function m(b){var c=b[0];if(c.nodeType===9){return{width:b.width(),height:b.height(),offset:{top:0,left:0}}}if(a.isWindow(c)){return{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}}if(c.preventDefault){return{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}}return{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.position={scrollbarWidth:function(){if(b!==undefined){return b}var c,d,e=a("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),f=e.children()[0];a("body").append(e);c=f.offsetWidth;e.css("overflow","scroll");d=f.offsetWidth;if(c===d){d=e[0].clientWidth}e.remove();return b=c-d},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e=c==="scroll"||c==="auto"&&b.width<b.element[0].scrollWidth,f=d==="scroll"||d==="auto"&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&c[0].nodeType===9,f=!d&&!e;return{element:c,isWindow:d,isDocument:e,offset:f?a(b).offset():{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:c.outerWidth(),height:c.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of){return j.apply(this,arguments)}b=a.extend({},b);var i,n,o,p,q,r,s=a(b.of),t=a.position.getWithinInfo(b.within),u=a.position.getScrollInfo(t),v=(b.collision||"flip").split(" "),w={};r=m(s);if(s[0].preventDefault){b.at="left top"}n=r.width;o=r.height;p=r.offset;q=a.extend({},p);a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,d;if(a.length===1){a=e.test(a[0])?a.concat(["center"]):f.test(a[0])?["center"].concat(a):["center","center"]}a[0]=e.test(a[0])?a[0]:"center";a[1]=f.test(a[1])?a[1]:"center";c=g.exec(a[0]);d=g.exec(a[1]);w[this]=[c?c[0]:0,d?d[0]:0];b[this]=[h.exec(a[0])[0],h.exec(a[1])[0]]});if(v.length===1){v[1]=v[0]}if(b.at[0]==="right"){q.left+=n}else if(b.at[0]==="center"){q.left+=n/2}if(b.at[1]==="bottom"){q.top+=o}else if(b.at[1]==="center"){q.top+=o/2}i=k(w.at,n,o);q.left+=i[0];q.top+=i[1];return this.each(function(){var e,f,g=a(this),h=g.outerWidth(),j=g.outerHeight(),m=l(this,"marginLeft"),r=l(this,"marginTop"),x=h+m+l(this,"marginRight")+u.width,y=j+r+l(this,"marginBottom")+u.height,z=a.extend({},q),A=k(w.my,g.outerWidth(),g.outerHeight());if(b.my[0]==="right"){z.left-=h}else if(b.my[0]==="center"){z.left-=h/2}if(b.my[1]==="bottom"){z.top-=j}else if(b.my[1]==="center"){z.top-=j/2}z.left+=A[0];z.top+=A[1];e={marginLeft:m,marginTop:r};a.each(["left","top"],function(c,d){if(a.ui.position[v[c]]){a.ui.position[v[c]][d](z,{targetWidth:n,targetHeight:o,elemWidth:h,elemHeight:j,collisionPosition:e,collisionWidth:x,collisionHeight:y,offset:[i[0]+A[0],i[1]+A[1]],my:b.my,at:b.at,within:t,elem:g})}});if(b.using){f=function(a){var e=p.left-z.left,f=e+n-h,i=p.top-z.top,k=i+o-j,l={target:{element:s,left:p.left,top:p.top,width:n,height:o},element:{element:g,left:z.left,top:z.top,width:h,height:j},horizontal:f<0?"left":e>0?"right":"center",vertical:k<0?"top":i>0?"bottom":"middle"};if(n<h&&d(e+f)<n){l.horizontal="center"}if(o<j&&d(i+k)<o){l.vertical="middle"}if(c(d(e),d(f))>c(d(i),d(k))){l.important="horizontal"}else{l.important="vertical"}b.using.call(this,a,l)}}g.offset(a.extend(z,{using:f}))})};a.ui.position={fit:{left:function(a,b){var d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e,j;if(b.collisionWidth>f){if(h>0&&i<=0){j=a.left+h+b.collisionWidth-f-e;a.left+=h-j}else if(i>0&&h<=0){a.left=e}else{if(h>i){a.left=e+f-b.collisionWidth}else{a.left=e}}}else if(h>0){a.left+=h}else if(i>0){a.left-=i}else{a.left=c(a.left-g,a.left)}},top:function(a,b){var d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e,j;if(b.collisionHeight>f){if(h>0&&i<=0){j=a.top+h+b.collisionHeight-f-e;a.top+=h-j}else if(i>0&&h<=0){a.top=e}else{if(h>i){a.top=e+f-b.collisionHeight}else{a.top=e}}}else if(h>0){a.top+=h}else if(i>0){a.top-=i}else{a.top=c(a.top-g,a.top)}}},flip:{left:function(a,b){var c=b.within,e=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k=b.my[0]==="left"?-b.elemWidth:b.my[0]==="right"?b.elemWidth:0,l=b.at[0]==="left"?b.targetWidth:b.at[0]==="right"?-b.targetWidth:0,m=-2*b.offset[0],n,o;if(i<0){n=a.left+k+l+m+b.collisionWidth-f-e;if(n<0||n<d(i)){a.left+=k+l+m}}else if(j>0){o=a.left-b.collisionPosition.marginLeft+k+l+m-g;if(o>0||d(o)<j){a.left+=k+l+m}}},top:function(a,b){var c=b.within,e=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k=b.my[1]==="top",l=k?-b.elemHeight:b.my[1]==="bottom"?b.elemHeight:0,m=b.at[1]==="top"?b.targetHeight:b.at[1]==="bottom"?-b.targetHeight:0,n=-2*b.offset[1],o,p;if(i<0){p=a.top+l+m+n+b.collisionHeight-f-e;if(p<0||p<d(i)){a.top+=l+m+n}}else if(j>0){o=a.top-b.collisionPosition.marginTop+l+m+n-g;if(o>0||d(o)<j){a.top+=l+m+n}}}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}}})();var f=a.ui.position;var g=a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}});var h=a.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var i="ui-effects-",j="ui-effects-style",k="ui-effects-animated",l=a;a.effects={effect:{}};(function(a,b){var c="backgroundColor borderBottomColor borderLeftColor borderRightColor "+"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},i=f.support={},j=a("<p>")[0],k,l=a.each;j.style.cssText="background-color:rgba(1,1,1,.5)";i.rgba=j.style.backgroundColor.indexOf("rgba")>-1;l(g,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});function m(a,b,c){var d=h[b.type]||{};if(a==null){return c||!b.def?null:b.def}a=d.floor?~~a:parseFloat(a);if(isNaN(a)){return b.def}if(d.mod){return(a+d.mod)%d.mod}return 0>a?0:d.max<a?d.max:a}function n(b){var c=f(),d=c._rgba=[];b=b.toLowerCase();l(e,function(a,e){var f,h=e.re.exec(b),i=h&&e.parse(h),j=e.space||"rgba";if(i){f=c[j](i);c[g[j].cache]=f[g[j].cache];d=c._rgba=f._rgba;return false}});if(d.length){if(d.join()==="0,0,0,0"){a.extend(d,k.transparent)}return c}return k[b]}f.fn=a.extend(f.prototype,{parse:function(c,d,e,h){if(c===b){this._rgba=[null,null,null,null];return this}if(c.jquery||c.nodeType){c=a(c).css(d);d=b}var i=this,j=a.type(c),o=this._rgba=[];if(d!==b){c=[c,d,e,h];j="array"}if(j==="string"){return this.parse(n(c)||k._default)}if(j==="array"){l(g.rgba.props,function(a,b){o[b.idx]=m(c[b.idx],b)});return this}if(j==="object"){if(c instanceof f){l(g,function(a,b){if(c[b.cache]){i[b.cache]=c[b.cache].slice()}})}else{l(g,function(b,d){var e=d.cache;l(d.props,function(a,b){if(!i[e]&&d.to){if(a==="alpha"||c[a]==null){return}i[e]=d.to(i._rgba)}i[e][b.idx]=m(c[a],b,true)});if(i[e]&&a.inArray(null,i[e].slice(0,3))<0){i[e][3]=1;if(d.from){i._rgba=d.from(i[e])}}})}return this}},is:function(a){var b=f(a),c=true,d=this;l(g,function(a,e){var f,g=b[e.cache];if(g){f=d[e.cache]||e.to&&e.to(d._rgba)||[];l(e.props,function(a,b){if(g[b.idx]!=null){c=g[b.idx]===f[b.idx];return c}})}return c});return c},_space:function(){var a=[],b=this;l(g,function(c,d){if(b[d.cache]){a.push(c)}});return a.pop()},transition:function(a,b){var c=f(a),d=c._space(),e=g[d],i=this.alpha()===0?f("transparent"):this,j=i[e.cache]||e.to(i._rgba),k=j.slice();c=c[e.cache];l(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],i=h[d.type]||{};if(g===null){return}if(f===null){k[e]=g}else{if(i.mod){if(g-f>i.mod/2){f+=i.mod}else if(f-g>i.mod/2){f-=i.mod}}k[e]=m((g-f)*b+f,d)}});return this[d](k)},blend:function(b){if(this._rgba[3]===1){return this}var c=this._rgba.slice(),d=c.pop(),e=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});if(c[3]===1){c.pop();b="rgb("}return b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){if(a==null){a=b>2?1:0}if(b&&b<3){a=Math.round(a*100)+"%"}return a});if(c[3]===1){c.pop();b="hsl("}return b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();if(b){c.push(~~(d*255))}return"#"+a.map(c,function(a){a=(a||0).toString(16);return a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});f.fn.parse.prototype=f.fn;function o(a,b,c){c=(c+1)%1;if(c*6<1){return a+(b-a)*c*6}if(c*2<1){return b}if(c*3<2){return a+(b-a)*(2/3-c)*6}return a}g.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null){return[null,null,null,a[3]]}var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;if(g===f){k=0}else if(b===f){k=60*(c-d)/h+360}else if(c===f){k=60*(d-b)/h+120}else{k=60*(b-c)/h+240}if(h===0){l=0}else if(j<=.5){l=h/i}else{l=h/(2-i)}return[Math.round(k)%360,l,j,e==null?1:e]};g.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null){return[null,null,null,a[3]]}var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d<=.5?d*(1+c):d+c-d*c,g=2*d-f;return[Math.round(o(g,f,b+1/3)*255),Math.round(o(g,f,b)*255),Math.round(o(g,f,b-1/3)*255),e]};l(g,function(c,e){var g=e.props,h=e.cache,i=e.to,j=e.from;f.fn[c]=function(c){if(i&&!this[h]){this[h]=i(this._rgba)}if(c===b){return this[h].slice()}var d,e=a.type(c),k=e==="array"||e==="object"?c:arguments,n=this[h].slice();l(g,function(a,b){var c=k[e==="object"?a:b.idx];if(c==null){c=n[b.idx]}n[b.idx]=m(c,b)});if(j){d=f(j(n));d[h]=n;return d}else{return f(n)}};l(g,function(b,e){if(f.fn[b]){return}f.fn[b]=function(f){var g=a.type(f),h=b==="alpha"?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[e.idx],k;if(g==="undefined"){return j}if(g==="function"){f=f.call(this,j);g=a.type(f)}if(f==null&&e.empty){return this}if(g==="string"){k=d.exec(f);if(k){f=j+parseFloat(k[2])*(k[1]==="+"?1:-1)}}i[e.idx]=f;return this[h](i)}})});f.hook=function(b){var c=b.split(" ");l(c,function(b,c){a.cssHooks[c]={set:function(b,d){var e,g,h="";if(d!=="transparent"&&(a.type(d)!=="string"||(e=n(d)))){d=f(e||d);if(!i.rgba&&d._rgba[3]!==1){g=c==="backgroundColor"?b.parentNode:b;while((h===""||h==="transparent")&&g&&g.style){try{h=a.css(g,"backgroundColor");g=g.parentNode}catch(a){}}d=d.blend(h&&h!=="transparent"?h:"_default")}d=d.toRgbaString()}try{b.style[c]=d}catch(a){}}};a.fx.step[c]=function(b){if(!b.colorInit){b.start=f(b.elem,c);b.end=f(b.end);b.colorInit=true}a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})};f.hook(c);a.cssHooks.borderColor={expand:function(a){var b={};l(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a});return b}};k=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(l);(function(){var b=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){if(a.end!=="none"&&!a.setAttr||a.pos===1&&!a.setAttr){l.style(a.elem,c,a.end);a.setAttr=true}}});function d(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]]){d=e.length;while(d--){c=e[d];if(typeof e[c]==="string"){f[a.camelCase(c)]=e[c]}}}else{for(c in e){if(typeof e[c]==="string"){f[c]=e[c]}}}return f}function e(b,d){var e={},f,g;for(f in d){g=d[f];if(b[f]!==g){if(!c[f]){if(a.fx.step[f]||!isNaN(parseFloat(g))){e[f]=g}}}}return e}if(!a.fn.addBack){a.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}a.effects.animateClass=function(c,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f=a(this),g=f.attr("class")||"",h,j=i.children?f.find("*").addBack():f;j=j.map(function(){var b=a(this);return{el:b,start:d(this)}});h=function(){a.each(b,function(a,b){if(c[b]){f[b+"Class"](c[b])}})};h();j=j.map(function(){this.end=d(this.el[0]);this.diff=e(this.start,this.end);return this});f.attr("class",g);j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:false,complete:function(){c.resolve(b)}});this.el.animate(this.diff,d);return c.promise()});a.when.apply(a,j.get()).done(function(){h();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});i.complete.call(f[0])})})};a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,e,f,g){if(typeof d==="boolean"||d===undefined){if(!e){return b.apply(this,arguments)}else{return a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g)}}else{return a.effects.animateClass.call(this,{toggle:c},d,e,f)}}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})})();(function(){if(a.expr&&a.expr.filters&&a.expr.filters.animated){a.expr.filters.animated=function(b){return function(c){return!!a(c).data(k)||b(c)}}(a.expr.filters.animated)}if(a.uiBackCompat!==false){a.extend(a.effects,{save:function(a,b){var c=0,d=b.length;for(;c<d;c++){if(b[c]!==null){a.data(i+b[c],a[0].style[b[c]])}}},restore:function(a,b){var c,d=0,e=b.length;for(;d<e;d++){if(b[d]!==null){c=a.data(i+b[d]);a.css(b[d],c)}}},setMode:function(a,b){if(b==="toggle"){b=a.is(":hidden")?"show":"hide"}return b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper")){return b.parent()}var c={width:b.outerWidth(true),height:b.outerHeight(true),float:b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(a){f=document.body}b.wrap(d);if(b[0]===f||a.contains(b[0],f)){a(f).trigger("focus")}d=b.parent();if(b.css("position")==="static"){d.css({position:"relative"});b.css({position:"relative"})}else{a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")});a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d);if(isNaN(parseInt(c[d],10))){c[d]="auto"}});b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}b.css(e);return d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;if(b.parent().is(".ui-effects-wrapper")){b.parent().replaceWith(b);if(b[0]===c||a.contains(b[0],c)){a(c).trigger("focus")}}return b}})}a.extend(a.effects,{version:"1.12.1",define:function(b,c,d){if(!d){d=c;c="effect"}a.effects.effect[b]=d;a.effects.effect[b].mode=c;return d},scaledDimensions:function(a,b,c){if(b===0){return{height:0,width:0,outerHeight:0,outerWidth:0}}var d=c!=="horizontal"?(b||100)/100:1,e=c!=="vertical"?(b||100)/100:1;return{height:a.height()*e,width:a.width()*d,outerHeight:a.outerHeight()*e,outerWidth:a.outerWidth()*d}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,c){var d=a.queue();if(b>1){d.splice.apply(d,[1,0].concat(d.splice(b,c)))}a.dequeue()},saveStyle:function(a){a.data(j,a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data(j)||"";a.removeData(j)},mode:function(a,b){var c=a.is(":hidden");if(b==="toggle"){b=c?"show":"hide"}if(c?b==="hide":b==="show"){b="none"}return b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createPlaceholder:function(b){var c,d=b.css("position"),e=b.position();b.css({marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight());if(/^(static|relative)/.test(d)){d="absolute";c=a("<"+b[0].nodeName+">").insertAfter(b).css({display:/^(inline|ruby)/.test(b.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight"),float:b.css("float")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).addClass("ui-effects-placeholder");b.data(i+"placeholder",c)}b.css({position:d,left:e.left,top:e.top});return c},removePlaceholder:function(a){var b=i+"placeholder",c=a.data(b);if(c){c.remove();a.removeData(b)}},cleanUp:function(b){a.effects.restoreStyle(b);a.effects.removePlaceholder(b)},setTransition:function(b,c,d,e){e=e||{};a.each(c,function(a,c){var f=b.cssUnit(c);if(f[0]>0){e[c]=f[0]*d+f[1]}});return e}});function b(b,c,d,e){if(a.isPlainObject(b)){c=b;b=b.effect}b={effect:b};if(c==null){c={}}if(a.isFunction(c)){e=c;d=null;c={}}if(typeof c==="number"||a.fx.speeds[c]){e=d;d=c;c={}}if(a.isFunction(d)){e=d;d=null}if(c){a.extend(b,c)}d=d||c.duration;b.duration=a.fx.off?0:typeof d==="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default;b.complete=e||c.complete;return b}function c(b){if(!b||typeof b==="number"||a.fx.speeds[b]){return true}if(typeof b==="string"&&!a.effects.effect[b]){return true}if(a.isFunction(b)){return true}if(typeof b==="object"&&!b.effect){return true}return false}a.fn.extend({effect:function(){var c=b.apply(this,arguments),d=a.effects.effect[c.effect],e=d.mode,f=c.queue,g=f||"fx",h=c.complete,i=c.mode,j=[],l=function(b){var c=a(this),d=a.effects.mode(c,i)||e;c.data(k,true);j.push(d);if(e&&(d==="show"||d===e&&d==="hide")){c.show()}if(!e||d!=="none"){a.effects.saveStyle(c)}if(a.isFunction(b)){b()}};if(a.fx.off||!d){if(i){return this[i](c.duration,h)}else{return this.each(function(){if(h){h.call(this)}})}}function m(b){var f=a(this);function g(){f.removeData(k);a.effects.cleanUp(f);if(c.mode==="hide"){f.hide()}l()}function l(){if(a.isFunction(h)){h.call(f[0])}if(a.isFunction(b)){b()}}c.mode=j.shift();if(a.uiBackCompat!==false&&!e){if(f.is(":hidden")?i==="hide":i==="show"){f[i]();l()}else{d.call(f[0],c,l)}}else{if(c.mode==="none"){f[i]();l()}else{d.call(f[0],c,g)}}}return f===false?this.each(l).each(m):this.queue(g,l).queue(g,m)},show:function(a){return function(d){if(c(d)){return a.apply(this,arguments)}else{var e=b.apply(this,arguments);e.mode="show";return this.effect.call(this,e)}}}(a.fn.show),hide:function(a){return function(d){if(c(d)){return a.apply(this,arguments)}else{var e=b.apply(this,arguments);e.mode="hide";return this.effect.call(this,e)}}}(a.fn.hide),toggle:function(a){return function(d){if(c(d)||typeof d==="boolean"){return a.apply(this,arguments)}else{var e=b.apply(this,arguments);e.mode="toggle";return this.effect.call(this,e)}}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){if(c.indexOf(b)>0){d=[parseFloat(c),b]}});return d},cssClip:function(a){if(a){return this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)")}return d(this.css("clip"),this)},transfer:function(b,c){var d=a(this),e=a(b.to),f=e.css("position")==="fixed",g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove();if(a.isFunction(c)){c()}})}});function d(a,b){var c=b.outerWidth(),d=b.outerHeight(),e=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,f=e.exec(a)||["",0,c,d,0];return{top:parseFloat(f[1])||0,right:f[2]==="auto"?c:parseFloat(f[2]),bottom:f[3]==="auto"?d:parseFloat(f[3]),left:parseFloat(f[4])||0}}a.fx.step.clip=function(b){if(!b.clipInit){b.start=a(b.elem).cssClip();if(typeof b.end==="string"){b.end=d(b.end,b.elem)}b.clipInit=true}a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-b.start.left)+b.start.left})}})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return a===0||a===1?a:-Math.pow(2,8*(a-1))*Math.sin(((a-1)*80-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){var b,c=4;while(a<((b=Math.pow(2,--c))-1)/11){}return 1/Math.pow(4,3-c)-7.5625*Math.pow((b*3-2)/22-a,2)}});a.each(b,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-c(1-a)};a.easing["easeInOut"+b]=function(a){return a<.5?c(a*2)/2:1-c(a*-2+2)/2}})})();var m=a.effects;var n=a.effects.define("blind","hide",function(b,c){var d={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},e=a(this),f=b.direction||"up",g=e.cssClip(),h={clip:a.extend({},g)},i=a.effects.createPlaceholder(e);h.clip[d[f][0]]=h.clip[d[f][1]];if(b.mode==="show"){e.cssClip(h.clip);if(i){i.css(a.effects.clipToBox(h))}h.clip=g}if(i){i.animate(a.effects.clipToBox(h),b.duration,b.easing)}e.animate(h,{queue:false,duration:b.duration,easing:b.easing,complete:c})});var o=a.effects.define("bounce",function(b,c){var d,e,f,g=a(this),h=b.mode,i=h==="hide",j=h==="show",k=b.direction||"up",l=b.distance,m=b.times||5,n=m*2+(j||i?1:0),o=b.duration/n,p=b.easing,q=k==="up"||k==="down"?"top":"left",r=k==="up"||k==="left",s=0,t=g.queue().length;a.effects.createPlaceholder(g);f=g.css(q);if(!l){l=g[q==="top"?"outerHeight":"outerWidth"]()/3}if(j){e={opacity:1};e[q]=f;g.css("opacity",0).css(q,r?-l*2:l*2).animate(e,o,p)}if(i){l=l/Math.pow(2,m-1)}e={};e[q]=f;for(;s<m;s++){d={};d[q]=(r?"-=":"+=")+l;g.animate(d,o,p).animate(e,o,p);l=i?l*2:l/2}if(i){d={opacity:0};d[q]=(r?"-=":"+=")+l;g.animate(d,o,p)}g.queue(c);a.effects.unshift(g,t,n+1)});var p=a.effects.define("clip","hide",function(b,c){var d,e={},f=a(this),g=b.direction||"vertical",h=g==="both",i=h||g==="horizontal",j=h||g==="vertical";d=f.cssClip();e.clip={top:j?(d.bottom-d.top)/2:d.top,right:i?(d.right-d.left)/2:d.right,bottom:j?(d.bottom-d.top)/2:d.bottom,left:i?(d.right-d.left)/2:d.left};a.effects.createPlaceholder(f);if(b.mode==="show"){f.cssClip(e.clip);e.clip=d}f.animate(e,{queue:false,duration:b.duration,easing:b.easing,complete:c})});var q=a.effects.define("drop","hide",function(b,c){var d,e=a(this),f=b.mode,g=f==="show",h=b.direction||"left",i=h==="up"||h==="down"?"top":"left",j=h==="up"||h==="left"?"-=":"+=",k=j==="+="?"-=":"+=",l={opacity:0};a.effects.createPlaceholder(e);d=b.distance||e[i==="top"?"outerHeight":"outerWidth"](true)/2;l[i]=j+d;if(g){e.css(l);l[i]=k+d;l.opacity=1}e.animate(l,{queue:false,duration:b.duration,easing:b.easing,complete:c})});var r=a.effects.define("explode","hide",function(b,c){var d,e,f,g,h,i,j=b.pieces?Math.round(Math.sqrt(b.pieces)):3,k=j,l=a(this),m=b.mode,n=m==="show",o=l.show().css("visibility","hidden").offset(),p=Math.ceil(l.outerWidth()/k),q=Math.ceil(l.outerHeight()/j),r=[];function s(){r.push(this);if(r.length===j*k){t()}}for(d=0;d<j;d++){g=o.top+d*q;i=d-(j-1)/2;for(e=0;e<k;e++){f=o.left+e*p;h=e-(k-1)/2;l.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-e*p,top:-d*q}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:q,left:f+(n?h*p:0),top:g+(n?i*q:0),opacity:n?0:1}).animate({left:f+(n?0:h*p),top:g+(n?0:i*q),opacity:n?1:0},b.duration||500,b.easing,s)}}function t(){l.css({visibility:"visible"});a(r).remove();c()}});var s=a.effects.define("fade","toggle",function(b,c){var d=b.mode==="show";a(this).css("opacity",d?0:1).animate({opacity:d?1:0},{queue:false,duration:b.duration,easing:b.easing,complete:c})});var t=a.effects.define("fold","hide",function(b,c){var d=a(this),e=b.mode,f=e==="show",g=e==="hide",h=b.size||15,i=/([0-9]+)%/.exec(h),j=!!b.horizFirst,k=j?["right","bottom"]:["bottom","right"],l=b.duration/2,m=a.effects.createPlaceholder(d),n=d.cssClip(),o={clip:a.extend({},n)},p={clip:a.extend({},n)},q=[n[k[0]],n[k[1]]],r=d.queue().length;if(i){h=parseInt(i[1],10)/100*q[g?0:1]}o.clip[k[0]]=h;p.clip[k[0]]=h;p.clip[k[1]]=0;if(f){d.cssClip(p.clip);if(m){m.css(a.effects.clipToBox(p))}p.clip=n}d.queue(function(c){if(m){m.animate(a.effects.clipToBox(o),l,b.easing).animate(a.effects.clipToBox(p),l,b.easing)}c()}).animate(o,l,b.easing).animate(p,l,b.easing).queue(c);a.effects.unshift(d,r,4)});var u=a.effects.define("highlight","show",function(b,c){var d=a(this),e={backgroundColor:d.css("backgroundColor")};if(b.mode==="hide"){e.opacity=0}a.effects.saveStyle(d);d.css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(e,{queue:false,duration:b.duration,easing:b.easing,complete:c})});var v=a.effects.define("size",function(b,c){var d,e,f,g=a(this),h=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],j=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],k=b.mode,l=k!=="effect",m=b.scale||"both",n=b.origin||["middle","center"],o=g.css("position"),p=g.position(),q=a.effects.scaledDimensions(g),r=b.from||q,s=b.to||a.effects.scaledDimensions(g,0);a.effects.createPlaceholder(g);if(k==="show"){f=r;r=s;s=f}e={from:{y:r.height/q.height,
x:r.width/q.width},to:{y:s.height/q.height,x:s.width/q.width}};if(m==="box"||m==="both"){if(e.from.y!==e.to.y){r=a.effects.setTransition(g,i,e.from.y,r);s=a.effects.setTransition(g,i,e.to.y,s)}if(e.from.x!==e.to.x){r=a.effects.setTransition(g,j,e.from.x,r);s=a.effects.setTransition(g,j,e.to.x,s)}}if(m==="content"||m==="both"){if(e.from.y!==e.to.y){r=a.effects.setTransition(g,h,e.from.y,r);s=a.effects.setTransition(g,h,e.to.y,s)}}if(n){d=a.effects.getBaseline(n,q);r.top=(q.outerHeight-r.outerHeight)*d.y+p.top;r.left=(q.outerWidth-r.outerWidth)*d.x+p.left;s.top=(q.outerHeight-s.outerHeight)*d.y+p.top;s.left=(q.outerWidth-s.outerWidth)*d.x+p.left}g.css(r);if(m==="content"||m==="both"){i=i.concat(["marginTop","marginBottom"]).concat(h);j=j.concat(["marginLeft","marginRight"]);g.find("*[width]").each(function(){var c=a(this),d=a.effects.scaledDimensions(c),f={height:d.height*e.from.y,width:d.width*e.from.x,outerHeight:d.outerHeight*e.from.y,outerWidth:d.outerWidth*e.from.x},g={height:d.height*e.to.y,width:d.width*e.to.x,outerHeight:d.height*e.to.y,outerWidth:d.width*e.to.x};if(e.from.y!==e.to.y){f=a.effects.setTransition(c,i,e.from.y,f);g=a.effects.setTransition(c,i,e.to.y,g)}if(e.from.x!==e.to.x){f=a.effects.setTransition(c,j,e.from.x,f);g=a.effects.setTransition(c,j,e.to.x,g)}if(l){a.effects.saveStyle(c)}c.css(f);c.animate(g,b.duration,b.easing,function(){if(l){a.effects.restoreStyle(c)}})})}g.animate(s,{queue:false,duration:b.duration,easing:b.easing,complete:function(){var b=g.offset();if(s.opacity===0){g.css("opacity",r.opacity)}if(!l){g.css("position",o==="static"?"relative":o).offset(b);a.effects.saveStyle(g)}c()}})});var w=a.effects.define("scale",function(b,c){var d=a(this),e=b.mode,f=parseInt(b.percent,10)||(parseInt(b.percent,10)===0?0:e!=="effect"?0:100),g=a.extend(true,{from:a.effects.scaledDimensions(d),to:a.effects.scaledDimensions(d,f,b.direction||"both"),origin:b.origin||["middle","center"]},b);if(b.fade){g.from.opacity=1;g.to.opacity=0}a.effects.effect.size.call(this,g,c)});var x=a.effects.define("puff","hide",function(b,c){var d=a.extend(true,{},b,{fade:true,percent:parseInt(b.percent,10)||150});a.effects.effect.scale.call(this,d,c)});var y=a.effects.define("pulsate","show",function(b,c){var d=a(this),e=b.mode,f=e==="show",g=e==="hide",h=f||g,i=(b.times||5)*2+(h?1:0),j=b.duration/i,k=0,l=1,m=d.queue().length;if(f||!d.is(":visible")){d.css("opacity",0).show();k=1}for(;l<i;l++){d.animate({opacity:k},j,b.easing);k=1-k}d.animate({opacity:k},j,b.easing);d.queue(c);a.effects.unshift(d,m,i+1)});var z=a.effects.define("shake",function(b,c){var d=1,e=a(this),f=b.direction||"left",g=b.distance||20,h=b.times||3,i=h*2+1,j=Math.round(b.duration/i),k=f==="up"||f==="down"?"top":"left",l=f==="up"||f==="left",m={},n={},o={},p=e.queue().length;a.effects.createPlaceholder(e);m[k]=(l?"-=":"+=")+g;n[k]=(l?"+=":"-=")+g*2;o[k]=(l?"-=":"+=")+g*2;e.animate(m,j,b.easing);for(;d<h;d++){e.animate(n,j,b.easing).animate(o,j,b.easing)}e.animate(n,j,b.easing).animate(m,j/2,b.easing).queue(c);a.effects.unshift(e,p,i+1)});var A=a.effects.define("slide","show",function(b,c){var d,e,f=a(this),g={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},h=b.mode,i=b.direction||"left",j=i==="up"||i==="down"?"top":"left",k=i==="up"||i==="left",l=b.distance||f[j==="top"?"outerHeight":"outerWidth"](true),m={};a.effects.createPlaceholder(f);d=f.cssClip();e=f.position()[j];m[j]=(k?-1:1)*l+e;m.clip=f.cssClip();m.clip[g[i][1]]=m.clip[g[i][0]];if(h==="show"){f.cssClip(m.clip);f.css(j,m[j]);m.clip=d;m[j]=e}f.animate(m,{queue:false,duration:b.duration,easing:b.easing,complete:c})});var m;if(a.uiBackCompat!==false){m=a.effects.define("transfer",function(b,c){a(this).transfer(b,c)})}var B=m;a.ui.focusable=function(b,c){var d,e,f,g,h,i=b.nodeName.toLowerCase();if("area"===i){d=b.parentNode;e=d.name;if(!b.href||!e||d.nodeName.toLowerCase()!=="map"){return false}f=a("img[usemap='#"+e+"']");return f.length>0&&f.is(":visible")}if(/^(input|select|textarea|button|object)$/.test(i)){g=!b.disabled;if(g){h=a(b).closest("fieldset")[0];if(h){g=!h.disabled}}}else if("a"===i){g=b.href||c}else{g=c}return g&&a(b).is(":visible")&&C(a(b))};function C(a){var b=a.css("visibility");while(b==="inherit"){a=a.parent();b=a.css("visibility")}return b!=="hidden"}a.extend(a.expr[":"],{focusable:function(b){return a.ui.focusable(b,a.attr(b,"tabindex")!=null)}});var D=a.ui.focusable;var E=a.fn.form=function(){return typeof this[0].form==="string"?this.closest("form"):a(this[0].form)};var F=a.ui.formResetMixin={_formResetHandler:function(){var b=a(this);setTimeout(function(){var c=b.data("ui-form-reset-instances");a.each(c,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length){return}var a=this.form.data("ui-form-reset-instances")||[];if(!a.length){this.form.on("reset.ui-form-reset",this._formResetHandler)}a.push(this);this.form.data("ui-form-reset-instances",a)},_unbindFormResetHandler:function(){if(!this.form.length){return}var b=this.form.data("ui-form-reset-instances");b.splice(a.inArray(this,b),1);if(b.length){this.form.data("ui-form-reset-instances",b)}else{this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};if(a.fn.jquery.substring(0,3)==="1.7"){a.each(["Width","Height"],function(b,c){var d=c==="Width"?["Left","Right"]:["Top","Bottom"],e=c.toLowerCase(),f={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};function g(b,c,e,f){a.each(d,function(){c-=parseFloat(a.css(b,"padding"+this))||0;if(e){c-=parseFloat(a.css(b,"border"+this+"Width"))||0}if(f){c-=parseFloat(a.css(b,"margin"+this))||0}});return c}a.fn["inner"+c]=function(b){if(b===undefined){return f["inner"+c].call(this)}return this.each(function(){a(this).css(e,g(this,b)+"px")})};a.fn["outer"+c]=function(b,d){if(typeof b!=="number"){return f["outer"+c].call(this,b)}return this.each(function(){a(this).css(e,g(this,b,true,d)+"px")})}});a.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}var G=a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var H=a.ui.escapeSelector=function(){var a=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}}();var I=a.fn.labels=function(){var b,c,d,e,f;if(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels)}e=this.eq(0).parents("label");d=this.attr("id");if(d){b=this.eq(0).parents().last();f=b.add(b.length?b.siblings():this.siblings());c="label[for='"+a.ui.escapeSelector(d)+"']";e=e.add(f.find(c).addBack(c))}return this.pushStack(e)};var J=a.fn.scrollParent=function(b){var c=this.css("position"),d=c==="absolute",e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);if(d&&b.css("position")==="static"){return false}return e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return c==="fixed"||!f.length?a(this[0].ownerDocument||document):f};var K=a.extend(a.expr[":"],{tabbable:function(b){var c=a.attr(b,"tabindex"),d=c!=null;return(!d||c>=0)&&a.ui.focusable(b,d)}});var L=a.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++a}})}}(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){a(this).removeAttr("id")}})}});var M=a.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");if(!b.collapsible&&(b.active===false||b.active==null)){b.active=0}this._processPanels();if(b.active<0){b.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?a():this.active.next()}},_createIcons:function(){var b,c,d=this.options.icons;if(d){b=a("<span>");this._addClass(b,"ui-accordion-header-icon","ui-icon "+d.header);b.prependTo(this.headers);c=this.active.children(".ui-accordion-header-icon");this._removeClass(c,d.header)._addClass(c,null,d.activeHeader)._addClass(this.headers,"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){a.css("height","")}},_setOption:function(a,b){if(a==="active"){this._activate(b);return}if(a==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(b)}this._super(a,b);if(a==="collapsible"&&!b&&this.options.active===false){this._activate(0)}if(a==="icons"){this._destroyIcons();if(b){this._createIcons()}}},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!a)},_keydown:function(b){if(b.altKey||b.ctrlKey){return}var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=false;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1];break}if(f){a(b.target).attr("tabIndex",-1);a(f).attr("tabIndex",0);a(f).trigger("focus");b.preventDefault()}},_panelKeyDown:function(b){if(b.keyCode===a.ui.keyCode.UP&&b.ctrlKey){a(b.currentTarget).prev().trigger("focus")}},refresh:function(){var b=this.options;this._processPanels();if(b.active===false&&b.collapsible===true||!this.headers.length){b.active=false;this.active=a()}else if(b.active===false){this._activate(0)}else if(this.active.length&&!a.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){b.active=false;this.active=a()}else{this._activate(Math.max(0,b.active-1))}}else{b.active=this.headers.index(this.active)}this._destroyIcons();this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(b){this._off(a.not(this.headers));this._off(b.not(this.panels))}},_refresh:function(){var b,c=this.options,d=c.heightStyle,e=this.element.parent();this.active=this._findActive(c.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var b=a(this),c=b.uniqueId().attr("id"),d=b.next(),e=d.uniqueId().attr("id");b.attr("aria-controls",e);d.attr("aria-labelledby",c)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(c.event);if(d==="fill"){b=e.height();this.element.siblings(":visible").each(function(){var c=a(this),d=c.css("position");if(d==="absolute"||d==="fixed"){return}b-=c.outerHeight(true)});this.headers.each(function(){b-=a(this).outerHeight(true)});this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else if(d==="auto"){b=0;this.headers.next().each(function(){var c=a(this).is(":visible");if(!c){a(this).show()}b=Math.max(b,a(this).css("height","").height());if(!c){a(this).hide()}}).height(b)}},_activate:function(b){var c=this._findActive(b)[0];if(c===this.active[0]){return}c=c||this.active[0];this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop})},_findActive:function(b){return typeof b==="number"?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};if(b){a.each(b.split(" "),function(a,b){c[b]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,c);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var c,d,e=this.options,f=this.active,g=a(b.currentTarget),h=g[0]===f[0],i=h&&e.collapsible,j=i?a():g.next(),k=f.next(),l={oldHeader:f,oldPanel:k,newHeader:i?a():g,newPanel:j};b.preventDefault();if(h&&!e.collapsible||this._trigger("beforeActivate",b,l)===false){return}e.active=i?false:this.headers.index(g);this.active=h?a():g;this._toggle(l);this._removeClass(f,"ui-accordion-header-active","ui-state-active");if(e.icons){c=f.children(".ui-accordion-header-icon");this._removeClass(c,null,e.icons.activeHeader)._addClass(c,null,e.icons.header)}if(!h){this._removeClass(g,"ui-accordion-header-collapsed")._addClass(g,"ui-accordion-header-active","ui-state-active");if(e.icons){d=g.children(".ui-accordion-header-icon");this._removeClass(d,null,e.icons.header)._addClass(d,null,e.icons.activeHeader)}this._addClass(g.next(),"ui-accordion-content-active")}},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=c;this.prevHide=d;if(this.options.animate){this._animate(c,d,b)}else{d.hide();c.show();this._toggleComplete(b)}d.attr({"aria-hidden":"true"});d.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(c.length&&d.length){d.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else if(c.length){this.headers.filter(function(){return parseInt(a(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1)}c.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var d,e,f,g=this,h=0,i=a.css("box-sizing"),j=a.length&&(!b.length||a.index()<b.index()),k=this.options.animate||{},l=j&&k.down||k,m=function(){g._toggleComplete(c)};if(typeof l==="number"){f=l}if(typeof l==="string"){e=l}e=e||l.easing||k.easing;f=f||l.duration||k.duration;if(!b.length){return a.animate(this.showProps,f,e,m)}if(!a.length){return b.animate(this.hideProps,f,e,m)}d=a.show().outerHeight();b.animate(this.hideProps,{duration:f,easing:e,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(this.showProps,{duration:f,easing:e,complete:m,step:function(a,c){c.now=Math.round(a);if(c.prop!=="height"){if(i==="content-box"){h+=c.now}}else if(g.options.heightStyle!=="content"){c.now=Math.round(d-b.outerHeight()-h);h=0}}})},_toggleComplete:function(a){var b=a.oldPanel,c=b.prev();this._removeClass(b,"ui-accordion-content-active");this._removeClass(c,"ui-accordion-header-active")._addClass(c,"ui-accordion-header-collapsed");if(b.length){b.parent()[0].className=b.parent()[0].className}this._trigger("activate",null,a)}});var N=a.ui.safeActiveElement=function(a){var b;try{b=a.activeElement}catch(c){b=a.body}if(!b){b=a.body}if(!b.nodeName){b=a.body}return b};var O=a.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target);var d=a(a.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&c.not(".ui-state-disabled").length){this.select(b);if(!b.isPropagationStopped()){this.mouseHandled=true}if(c.has(".ui-menu").length){this.expand(b)}else if(!this.element.is(":focus")&&d.closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}},"mouseenter .ui-menu-item":function(b){if(this.previousFilter){return}var c=a(b.target).closest(".ui-menu-item"),d=a(b.currentTarget);if(c[0]!==d[0]){return}this._removeClass(d.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(b,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);if(!b){this.focus(a,c)}},blur:function(b){this._delay(function(){var c=!a.contains(this.element[0],a.ui.safeActiveElement(this.document[0]));if(c){this.collapseAll(b)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){if(this._closeOnDocumentClick(a)){this.collapseAll(a)}this.mouseHandled=false}})},_destroy:function(){var b=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),c=b.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled "+"tabIndex").removeUniqueId().show();c.children().each(function(){var b=a(this);if(b.data("ui-menu-submenu-caret")){b.remove()}})},_keydown:function(b){var c,d,e,f,g=true;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(b)}break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=false;d=this.previousFilter||"";f=false;e=b.keyCode>=96&&b.keyCode<=105?(b.keyCode-96).toString():String.fromCharCode(b.keyCode);clearTimeout(this.filterTimer);if(e===d){f=true}else{e=d+e}c=this._filterMenuItems(e);c=f&&c.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):c;if(!c.length){e=String.fromCharCode(b.keyCode);c=this._filterMenuItems(e)}if(c.length){this.focus(b,c);this.previousFilter=e;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else{delete this.previousFilter}}if(g){b.preventDefault()}},_activate:function(a){if(this.active&&!this.active.is(".ui-state-disabled")){if(this.active.children("[aria-haspopup='true']").length){this.expand(a)}else{this.select(a)}}},refresh:function(){var b,c,d,e,f,g=this,h=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);d=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.prev(),d=a("<span>").data("ui-menu-submenu-caret",true);g._addClass(d,"ui-menu-icon","ui-icon "+h);c.attr("aria-haspopup","true").prepend(d);b.attr("aria-labelledby",c.attr("id"))});this._addClass(d,"ui-menu","ui-widget ui-widget-content ui-front");b=i.add(this.element);c=b.find(this.options.items);c.not(".ui-menu-item").each(function(){var b=a(this);if(g._isDivider(b)){g._addClass(b,"ui-menu-divider","ui-widget-content")}});e=c.not(".ui-menu-item, .ui-menu-divider");f=e.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(e,"ui-menu-item")._addClass(f,"ui-menu-item-wrapper");c.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!a.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if(a==="icons"){var c=this.element.find(".ui-menu-icon");this._removeClass(c,null,this.options.icons.submenu)._addClass(c,null,b.submenu)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",String(a));this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,b){var c,d,e;this.blur(a,a&&a.type==="focus");this._scrollIntoView(b);this.active=b.first();d=this.active.children(".ui-menu-item-wrapper");this._addClass(d,null,"ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",d.attr("id"))}e=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(e,null,"ui-state-active");if(a&&a.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}c=b.children(".ui-menu");if(c.length&&a&&/^mouse/.test(a.type)){this._startOpening(c)}this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;if(this._hasScroll()){c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0;d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0;e=b.offset().top-this.activeMenu.offset().top-c-d;f=this.activeMenu.scrollTop();g=this.activeMenu.height();h=b.outerHeight();if(e<0){this.activeMenu.scrollTop(f+e)}else if(e+h>g){this.activeMenu.scrollTop(f+e-g+h)}}},blur:function(a,b){if(!b){clearTimeout(this.timer)}if(!this.active){return}this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",a,{item:this.active});this.active=null},_startOpening:function(a){clearTimeout(this.timer);if(a.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(a)},this.delay)},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer);this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));if(!d.length){d=this.element}this._close(d);this.blur(b);this._removeClass(d.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=d},this.delay)},_close:function(a){if(!a){a=this.active?this.active.parent():this.element}a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(b&&b.length){this._close();this.focus(a,b)}},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(b&&b.length){this._open(b.parent());this._delay(function(){this.focus(a,b)})}},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;if(this.active){if(a==="first"||a==="last"){d=this.active[a==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{d=this.active[a+"All"](".ui-menu-item").eq(0)}}if(!d||!d.length||!this.active){d=this.activeMenu.find(this.options.items)[b]()}this.focus(c,d)},nextPage:function(b){var c,d,e;if(!this.active){this.next(b);return}if(this.isLastItem()){return}if(this._hasScroll()){d=this.active.offset().top;e=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){c=a(this);return c.offset().top-d-e<0});this.focus(b,c)}else{this.focus(b,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(b){var c,d,e;if(!this.active){this.next(b);return}if(this.isFirstItem()){return}if(this._hasScroll()){d=this.active.offset().top;e=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){c=a(this);return c.offset().top-d+e>0});this.focus(b,c)}else{this.focus(b,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(b,true)}this._trigger("select",b,c)},_filterMenuItems:function(b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=new RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(a.trim(a(this).children(".ui-menu-item-wrapper").text()))})}});a.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f=e==="textarea",g=e==="input";this.isMultiLine=f||!g&&this._isContentEditable(this.element);this.valueMethod=this.element[f||g?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly")){b=true;d=true;c=true;return}b=false;d=false;c=false;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=true;this._move("previousPage",e);break;case f.PAGE_DOWN:b=true;this._move("nextPage",e);break;case f.UP:b=true;this._keyEvent("previous",e);break;case f.DOWN:b=true;this._keyEvent("next",e);break;case f.ENTER:if(this.menu.active){b=true;e.preventDefault();this.menu.select(e)}break;case f.TAB:if(this.menu.active){this.menu.select(e)}break;case f.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term)}this.close(e);e.preventDefault()}break;default:c=true;this._searchTimeout(e);break}},keypress:function(d){if(b){b=false;if(!this.isMultiLine||this.menu.element.is(":visible")){d.preventDefault()}return}if(c){return}var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d);break}},input:function(a){if(d){d=false;a.preventDefault();return}this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(a);this._change(a)}});this._initSource();this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;if(this.element[0]!==a.ui.safeActiveElement(this.document[0])){this.element.trigger("focus")}})},menufocus:function(b,c){var d,e;if(this.isNewMenu){this.isNewMenu=false;if(b.originalEvent&&/^mouse/.test(b.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});return}}e=c.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",b,{item:e})){if(b.originalEvent&&/^key/.test(b.originalEvent.type)){this._value(e.value)}}d=c.item.attr("aria-label")||e.value;if(d&&a.trim(d).length){this.liveRegion.children().hide();a("<div>").text(d).appendTo(this.liveRegion)}},menuselect:function(b,c){var d=c.item.data("ui-autocomplete-item"),e=this.previous;if(this.element[0]!==a.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=e;this._delay(function(){this.previous=e;this.selectedItem=d})}if(false!==this._trigger("select",b,{item:d})){this._value(d.value)}this.term=this._value();this.close(b);this.selectedItem=d}});this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b);if(a==="source"){this._initSource()}if(a==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(a==="disabled"&&b&&this.xhr){this.xhr.abort()}},_isEventTargetInWidget:function(b){var c=this.menu.element[0];return b.target===this.element[0]||b.target===c||a.contains(c,b.target)},_closeOnClickOutside:function(a){if(!this._isEventTargetInWidget(a)){this.close()}},_appendTo:function(){var b=this.options.appendTo;if(b){b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)}if(!b||!b[0]){b=this.element.closest(".ui-front, dialog")}if(!b.length){b=this.document[0].body}return b},_initSource:function(){var b,c,d=this;if(a.isArray(this.options.source)){b=this.options.source;this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}}else if(typeof this.options.source==="string"){c=this.options.source;this.source=function(b,e){if(d.xhr){d.xhr.abort()}d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}}else{this.source=this.options.source}},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!b||b&&!c&&!d){this.selectedItem=null;this.search(null,a)}},this.options.delay)},search:function(a,b){a=a!=null?a:this._value();this.term=this._value();if(a.length<this.options.minLength){return this.close(b)}if(this._trigger("search",b)===false){return}return this._search(a)},_search:function(a){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){if(b===this.requestIndex){this.__response(a)}this.pending--;if(!this.pending){this._removeClass("ui-autocomplete-loading")}},this)},__response:function(a){if(a){a=this._normalize(a)}this._trigger("response",null,{content:a});if(!this.options.disabled&&a&&a.length&&!this.cancelSearch){this._suggest(a);this._trigger("open")}else{this._close()}},close:function(a){this.cancelSearch=true;this._close(a)},_close:function(a){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",a)}},_change:function(a){if(this.previous!==this._value()){this._trigger("change",a,{item:this.selectedItem})}},_normalize:function(b){if(b.length&&b[0].label&&b[0].value){
return b}return a.map(b,function(b){if(typeof b==="string"){return{label:b,value:b}}return a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b);this.isNewMenu=true;this.menu.refresh();c.show();this._resizeMenu();c.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<div>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)){if(!this.isMultiLine){this._value(this.term)}this.menu.blur();return}this.menu[a](b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(a,b);b.preventDefault()}},_isContentEditable:function(a){if(!a.length){return false}var b=a.prop("contentEditable");if(b==="inherit"){return this._isContentEditable(a.parent())}return b==="true"}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(b&&b.length){c=this.options.messages.results(b.length)}else{c=this.options.messages.noResults}this.liveRegion.children().hide();a("<div>").text(c).appendTo(this.liveRegion)}});var P=a.ui.autocomplete;var Q=/ui-corner-([a-z]){2,6}/g;var R=a.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");if(this.options.items.controlgroupLabel){this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()}},_initWidgets:function(){var b=this,c=[];a.each(this.options.items,function(d,e){var f;var g={};if(!e){return}if(d==="controlgroupLabel"){f=b.element.find(e);f.each(function(){var b=a(this);if(b.children(".ui-controlgroup-label-contents").length){return}b.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")});b._addClass(f,null,"ui-widget ui-widget-content ui-state-default");c=c.concat(f.get());return}if(!a.fn[d]){return}if(b["_"+d+"Options"]){g=b["_"+d+"Options"]("middle")}else{g={classes:{}}}b.element.find(e).each(function(){var e=a(this);var f=e[d]("instance");var h=a.widget.extend({},g);if(d==="button"&&e.parent(".ui-spinner").length){return}if(!f){f=e[d]()[d]("instance")}if(f){h.classes=b._resolveClassesValues(h.classes,f)}e[d](h);var i=e[d]("widget");a.data(i[0],"ui-controlgroup-data",f?f:e[d]("instance"));c.push(i[0])})});this.childWidgets=a(a.unique(c));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(b){this.childWidgets.each(function(){var c=a(this),d=c.data("ui-controlgroup-data");if(d&&d[b]){d[b]()}})},_updateCornerClass:function(a,b){var c="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var d=this._buildSimpleOptions(b,"label").classes.label;this._removeClass(a,null,c);this._addClass(a,null,d)},_buildSimpleOptions:function(a,b){var c=this.options.direction==="vertical";var d={classes:{}};d.classes[b]={middle:"",first:"ui-corner-"+(c?"top":"left"),last:"ui-corner-"+(c?"bottom":"right"),only:"ui-corner-all"}[a];return d},_spinnerOptions:function(a){var b=this._buildSimpleOptions(a,"ui-spinner");b.classes["ui-spinner-up"]="";b.classes["ui-spinner-down"]="";return b},_buttonOptions:function(a){return this._buildSimpleOptions(a,"ui-button")},_checkboxradioOptions:function(a){return this._buildSimpleOptions(a,"ui-checkboxradio-label")},_selectmenuOptions:function(a){var b=this.options.direction==="vertical";return{width:b?"auto":false,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(b?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(b?"top":"left")},last:{"ui-selectmenu-button-open":b?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(b?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[a]}},_resolveClassesValues:function(b,c){var d={};a.each(b,function(e){var f=c.options.classes[e]||"";f=a.trim(f.replace(Q,""));d[e]=(f+" "+b[e]).replace(/\s+/g," ")});return d},_setOption:function(a,b){if(a==="direction"){this._removeClass("ui-controlgroup-"+this.options.direction)}this._super(a,b);if(a==="disabled"){this._callChildMethod(b?"disable":"enable");return}this.refresh()},refresh:function(){var b,c=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);if(this.options.direction==="horizontal"){this._addClass(null,"ui-helper-clearfix")}this._initWidgets();b=this.childWidgets;if(this.options.onlyVisible){b=b.filter(":visible")}if(b.length){a.each(["first","last"],function(a,d){var e=b[d]().data("ui-controlgroup-data");if(e&&c["_"+e.widgetName+"Options"]){var f=c["_"+e.widgetName+"Options"](b.length===1?"only":d);f.classes=c._resolveClassesValues(f.classes,e);e.element[e.widgetName](f)}else{c._updateCornerClass(b[d](),d)}});this._callChildMethod("refresh")}}});a.widget("ui.checkboxradio",[a.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var b,c;var d=this;var e=this._super()||{};this._readType();c=this.element.labels();this.label=a(c[c.length-1]);if(!this.label.length){a.error("No label found for checkboxradio widget")}this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){d.originalLabel+=this.nodeType===3?a(this).text():this.outerHTML});if(this.originalLabel){e.label=this.originalLabel}b=this.element[0].disabled;if(b!=null){e.disabled=b}return e},_create:function(){var a=this.element[0].checked;this._bindFormResetHandler();if(this.options.disabled==null){this.options.disabled=this.element[0].disabled}this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");if(this.type==="radio"){this._addClass(this.label,"ui-checkboxradio-radio-label")}if(this.options.label&&this.options.label!==this.originalLabel){this._updateLabel()}else if(this.originalLabel){this.options.label=this.originalLabel}this._enhance();if(a){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");if(this.icon){this._addClass(this.icon,null,"ui-state-hover")}}this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var b=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;if(b!=="input"||!/radio|checkbox/.test(this.type)){a.error("Can't create checkboxradio on element.nodeName="+b+" and element.type="+this.type)}},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var b;var c=this.element[0].name;var d="input[name='"+a.ui.escapeSelector(c)+"']";if(!c){return a([])}if(this.form.length){b=a(this.form[0].elements).filter(d)}else{b=a(d).filter(function(){return a(this).form().length===0})}return b.not(this.element)},_toggleClasses:function(){var b=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b);if(this.options.icon&&this.type==="checkbox"){this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",b)._toggleClass(this.icon,null,"ui-icon-blank",!b)}if(this.type==="radio"){this._getRadioGroup().each(function(){var b=a(this).checkboxradio("instance");if(b){b._removeClass(b.label,"ui-checkboxradio-checked","ui-state-active")}})}},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove()}},_setOption:function(a,b){if(a==="label"&&!b){return}this._super(a,b);if(a==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",b);this.element[0].disabled=b;return}this.refresh()},_updateIcon:function(b){var c="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=a("<span>");this.iconSpace=a("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")}if(this.type==="checkbox"){c+=b?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,b?"ui-icon-blank":"ui-icon-check")}else{c+="ui-icon-blank"}this._addClass(this.icon,"ui-checkboxradio-icon",c);if(!b){this._removeClass(this.icon,null,"ui-icon-check ui-state-checked")}this.icon.prependTo(this.label).after(this.iconSpace)}else if(this.icon!==undefined){this.icon.remove();this.iconSpace.remove();delete this.icon}},_updateLabel:function(){var a=this.label.contents().not(this.element[0]);if(this.icon){a=a.not(this.icon[0])}if(this.iconSpace){a=a.not(this.iconSpace[0])}a.remove();this.label.append(this.options.label)},refresh:function(){var a=this.element[0].checked,b=this.element[0].disabled;this._updateIcon(a);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",a);if(this.options.label!==null){this._updateLabel()}if(b!==this.options.disabled){this._setOptions({disabled:b})}}}]);var S=a.ui.checkboxradio;a.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var a,b=this._super()||{};this.isInput=this.element.is("input");a=this.element[0].disabled;if(a!=null){b.disabled=a}this.originalLabel=this.isInput?this.element.val():this.element.html();if(this.originalLabel){b.label=this.originalLabel}return b},_create:function(){if(!this.option.showLabel&!this.options.icon){this.options.showLabel=true}if(this.options.disabled==null){this.options.disabled=this.element[0].disabled||false}this.hasTitle=!!this.element.attr("title");if(this.options.label&&this.options.label!==this.originalLabel){if(this.isInput){this.element.val(this.options.label)}else{this.element.html(this.options.label)}}this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();if(this.element.is("a")){this._on({keyup:function(b){if(b.keyCode===a.ui.keyCode.SPACE){b.preventDefault();if(this.element[0].click){this.element[0].click()}else{this.element.trigger("click")}}}})}},_enhance:function(){if(!this.element.is("button")){this.element.attr("role","button")}if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip()}},_updateTooltip:function(){this.title=this.element.attr("title");if(!this.options.showLabel&&!this.title){this.element.attr("title",this.options.label)}},_updateIcon:function(b,c){var d=b!=="iconPosition",e=d?this.options.iconPosition:c,f=e==="top"||e==="bottom";if(!this.icon){this.icon=a("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");if(!this.options.showLabel){this._addClass("ui-button-icon-only")}}else if(d){this._removeClass(this.icon,null,this.options.icon)}if(d){this._addClass(this.icon,null,c)}this._attachIcon(e);if(f){this._addClass(this.icon,null,"ui-widget-icon-block");if(this.iconSpace){this.iconSpace.remove()}}else{if(!this.iconSpace){this.iconSpace=a("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space")}this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(e)}},_destroy:function(){this.element.removeAttr("role");if(this.icon){this.icon.remove()}if(this.iconSpace){this.iconSpace.remove()}if(!this.hasTitle){this.element.removeAttr("title")}},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=a.showLabel===undefined?this.options.showLabel:a.showLabel,c=a.icon===undefined?this.options.icon:a.icon;if(!b&&!c){a.showLabel=true}this._super(a)},_setOption:function(a,b){if(a==="icon"){if(b){this._updateIcon(a,b)}else if(this.icon){this.icon.remove();if(this.iconSpace){this.iconSpace.remove()}}}if(a==="iconPosition"){this._updateIcon(a,b)}if(a==="showLabel"){this._toggleClass("ui-button-icon-only",null,!b);this._updateTooltip()}if(a==="label"){if(this.isInput){this.element.val(b)}else{this.element.html(b);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition)}}}this._super(a,b);if(a==="disabled"){this._toggleClass(null,"ui-state-disabled",b);this.element[0].disabled=b;if(b){this.element.blur()}}},refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");if(a!==this.options.disabled){this._setOptions({disabled:a})}this._updateTooltip()}});if(a.uiBackCompat!==false){a.widget("ui.button",a.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){if(this.options.showLabel&&!this.options.text){this.options.showLabel=this.options.text}if(!this.options.showLabel&&this.options.text){this.options.text=this.options.showLabel}if(!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)){if(this.options.icons.primary){this.options.icon=this.options.icons.primary}else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end"}}else if(this.options.icon){this.options.icons.primary=this.options.icon}this._super()},_setOption:function(a,b){if(a==="text"){this._super("showLabel",b);return}if(a==="showLabel"){this.options.text=b}if(a==="icon"){this.options.icons.primary=b}if(a==="icons"){if(b.primary){this._super("icon",b.primary);this._super("iconPosition","beginning")}else if(b.secondary){this._super("icon",b.secondary);this._super("iconPosition","end")}}this._superApply(arguments)}});a.fn.button=function(b){return function(){if(!this.length||this.length&&this[0].tagName!=="INPUT"||this.length&&this[0].tagName==="INPUT"&&(this.attr("type")!=="checkbox"&&this.attr("type")!=="radio")){return b.apply(this,arguments)}if(!a.ui.checkboxradio){a.error("Checkboxradio widget missing")}if(arguments.length===0){return this.checkboxradio({icon:false})}return this.checkboxradio.apply(this,arguments)}}(a.fn.button);a.fn.buttonset=function(){if(!a.ui.controlgroup){a.error("Controlgroup widget missing")}if(arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]){return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]])}if(arguments[0]==="option"&&arguments[1]==="items"){return this.controlgroup.apply(this,[arguments[0],"items.button"])}if(typeof arguments[0]==="object"&&arguments[0].items){arguments[0].items={button:arguments[0].items}}return this.controlgroup.apply(this,arguments)}}var T=a.ui.button;a.extend(a.ui,{datepicker:{version:"1.12.1"}});var U;function V(a){var b,c;while(a.length&&a[0]!==document){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){c=parseInt(a.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}a=a.parent()}return 0}function W(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};a.extend(this._defaults,this.regional[""]);this.regional.en=a.extend(true,{},this.regional[""]);this.regional["en-US"]=a.extend(true,{},this.regional.en);this.dpDiv=X(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}a.extend(W.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){Z(this._defaults,a||{});return this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase();e=d==="div"||d==="span";if(!b.id){this.uuid+=1;b.id="dp"+this.uuid}f=this._newInst(a(b),e);f.settings=a.extend({},c||{});if(d==="input"){this._connectDatepicker(b,f)}else if(e){this._inlineDatepicker(b,f)}},_newInst:function(b,c){var d=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:d,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:!c?this.dpDiv:X(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]);c.trigger=a([]);if(d.hasClass(this.markerClassName)){return}this._attachments(d,c);d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(c);a.data(b,"datepicker",c);if(c.settings.disabled){this._disableDatepicker(b)}},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");if(c.append){c.append.remove()}if(g){c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>");b[h?"before":"after"](c.append)}b.off("focus",this._showDatepicker);if(c.trigger){c.trigger.remove()}d=this._get(c,"showOn");if(d==="focus"||d==="both"){b.on("focus",this._showDatepicker)}if(d==="button"||d==="both"){e=this._get(c,"buttonText");f=this._get(c,"buttonImage");c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(!f?e:a("<img/>").attr({src:f,alt:e,title:e})));b[h?"before":"after"](c.trigger);c.trigger.on("click",function(){if(a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]){a.datepicker._hideDatepicker()}else if(a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]){a.datepicker._hideDatepicker();a.datepicker._showDatepicker(b[0])}else{a.datepicker._showDatepicker(b[0])}return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,12-1,20),g=this._get(a,"dateFormat");if(g.match(/[DM]/)){b=function(a){c=0;d=0;for(e=0;e<a.length;e++){if(a[e].length>c){c=a[e].length;d=e}}return d};f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort")));f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())}a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);if(d.hasClass(this.markerClassName)){return}d.addClass(this.markerClassName).append(c.dpDiv);a.data(b,"datepicker",c);this._setDate(c,this._getDefaultDate(c),true);this._updateDatepicker(c);this._updateAlternate(c);if(c.settings.disabled){this._disableDatepicker(b)}c.dpDiv.css("display","block")},_dialogDatepicker:function(b,c,d,e,f){var g,h,i,j,k,l=this._dialogInst;if(!l){this.uuid+=1;g="dp"+this.uuid;this._dialogInput=a("<input type='text' id='"+g+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);a("body").append(this._dialogInput);l=this._dialogInst=this._newInst(this._dialogInput,false);l.settings={};a.data(this._dialogInput[0],"datepicker",l)}Z(l.settings,e||{});c=c&&c.constructor===Date?this._formatDate(l,c):c;this._dialogInput.val(c);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){h=document.documentElement.clientWidth;i=document.documentElement.clientHeight;j=document.documentElement.scrollLeft||document.body.scrollLeft;k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");l.settings.onSelect=d;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(a.blockUI){a.blockUI(this.dpDiv)}a.data(this._dialogInput[0],"datepicker",l);return this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");if(!d.hasClass(this.markerClassName)){return}c=b.nodeName.toLowerCase();a.removeData(b,"datepicker");if(c==="input"){e.append.remove();e.trigger.remove();d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else if(c==="div"||c==="span"){d.removeClass(this.markerClassName).empty()}if(U===e){U=null}},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");if(!e.hasClass(this.markerClassName)){return}c=b.nodeName.toLowerCase();if(c==="input"){b.disabled=false;f.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(c==="div"||c==="span"){d=e.children("."+this._inlineClass);d.children().removeClass("ui-state-disabled");d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");if(!e.hasClass(this.markerClassName)){return}c=b.nodeName.toLowerCase();if(c==="input"){b.disabled=true;f.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(c==="div"||c==="span"){d=e.children("."+this._inlineClass);d.children().addClass("ui-state-disabled");d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]===a){return true}}return false},_getInst:function(b){try{return a.data(b,"datepicker")}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,f,g,h,i=this._getInst(b);if(arguments.length===2&&typeof c==="string"){return c==="defaults"?a.extend({},a.datepicker._defaults):i?c==="all"?a.extend({},i.settings):this._get(i,c):null}e=c||{};if(typeof c==="string"){e={};e[c]=d}if(i){if(this._curInst===i){this._hideDatepicker()}f=this._getDateDatepicker(b,true);g=this._getMinMaxDate(i,"min");h=this._getMinMaxDate(i,"max");Z(i.settings,e);if(g!==null&&e.dateFormat!==undefined&&e.minDate===undefined){i.settings.minDate=this._formatDate(i,g)}if(h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined){i.settings.maxDate=this._formatDate(i,h)}if("disabled"in e){if(e.disabled){this._disableDatepicker(b)}else{this._enableDatepicker(b)}}this._attachments(a(b),i);this._autoSize(i);this._setDate(i,f);this._updateAlternate(i);this._updateDatepicker(i)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);if(b){this._updateDatepicker(b)}},_setDateDatepicker:function(a,b){var c=this._getInst(a);if(c){this._setDate(c,b);this._updateDatepicker(c);this._updateAlternate(c)}},_getDateDatepicker:function(a,b){var c=this._getInst(a);if(c&&!c.inline){this._setDateFromField(c,b)}return c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=true,h=f.dpDiv.is(".ui-datepicker-rtl");f._keyEvent=true;if(a.datepicker._datepickerShowing){switch(b.keyCode){case 9:a.datepicker._hideDatepicker();g=false;break;case 13:e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv);if(e[0]){a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0])}c=a.datepicker._get(f,"onSelect");if(c){d=a.datepicker._formatDate(f);c.apply(f.input?f.input[0]:null,[d,f])}else{a.datepicker._hideDatepicker()}return false;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:if(b.ctrlKey||b.metaKey){a.datepicker._clearDate(b.target)}g=b.ctrlKey||b.metaKey;break;case 36:if(b.ctrlKey||b.metaKey){a.datepicker._gotoToday(b.target)}g=b.ctrlKey||b.metaKey;break;case 37:if(b.ctrlKey||b.metaKey){a.datepicker._adjustDate(b.target,h?+1:-1,"D")}g=b.ctrlKey||b.metaKey;if(b.originalEvent.altKey){a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M")}break;case 38:if(b.ctrlKey||b.metaKey){a.datepicker._adjustDate(b.target,-7,"D")}g=b.ctrlKey||b.metaKey;break;case 39:if(b.ctrlKey||b.metaKey){a.datepicker._adjustDate(b.target,h?-1:+1,"D")}g=b.ctrlKey||b.metaKey;if(b.originalEvent.altKey){a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M")}break;case 40:if(b.ctrlKey||b.metaKey){a.datepicker._adjustDate(b.target,+7,"D")}g=b.ctrlKey||b.metaKey;break;default:g=false}}else if(b.keyCode===36&&b.ctrlKey){a.datepicker._showDatepicker(this)}else{g=false}if(g){b.preventDefault();b.stopPropagation()}},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);if(a.datepicker._get(e,"constrainInput")){c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat"));d=String.fromCharCode(b.charCode==null?b.keyCode:b.charCode);return b.ctrlKey||b.metaKey||(d<" "||!c||c.indexOf(d)>-1)}},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal){try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d));if(c){a.datepicker._setDateFromField(d);a.datepicker._updateAlternate(d);a.datepicker._updateDatepicker(d)}}catch(a){}}return true},_showDatepicker:function(b){b=b.target||b;if(b.nodeName.toLowerCase()!=="input"){b=a("input",b.parentNode)[0]}if(a.datepicker._isDisabledDatepicker(b)||a.datepicker._lastInput===b){return}var c,d,e,f,g,h,i;c=a.datepicker._getInst(b);if(a.datepicker._curInst&&a.datepicker._curInst!==c){a.datepicker._curInst.dpDiv.stop(true,true);if(c&&a.datepicker._datepickerShowing){a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])}}d=a.datepicker._get(c,"beforeShow");e=d?d.apply(b,[b,c]):{};if(e===false){return}Z(c.settings,e);c.lastVal=null;a.datepicker._lastInput=b;a.datepicker._setDateFromField(c);if(a.datepicker._inDialog){b.value=""}if(!a.datepicker._pos){a.datepicker._pos=a.datepicker._findPos(b);a.datepicker._pos[1]+=b.offsetHeight}f=false;a(b).parents().each(function(){f|=a(this).css("position")==="fixed";return!f});g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=null;c.dpDiv.empty();c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});a.datepicker._updateDatepicker(c);g=a.datepicker._checkOffset(c,g,f);c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":f?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"});if(!c.inline){h=a.datepicker._get(c,"showAnim");i=a.datepicker._get(c,"duration");c.dpDiv.css("z-index",V(a(b))+1);a.datepicker._datepickerShowing=true;if(a.effects&&a.effects.effect[h]){c.dpDiv.show(h,a.datepicker._get(c,"showOptions"),i)}else{c.dpDiv[h||"show"](h?i:null)}if(a.datepicker._shouldFocusInput(c)){c.input.trigger("focus")}a.datepicker._curInst=c}},_updateDatepicker:function(b){this.maxRows=4;U=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),e=d[1],f=17,g=b.dpDiv.find("."+this._dayOverClass+" a");if(g.length>0){Y.apply(g.get(0))}b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(e>1){b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",f*e+"em")}b.dpDiv[(d[0]!==1||d[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)){b.input.trigger("focus")}if(b.yearshtml){c=b.yearshtml;setTimeout(function(){if(c===b.yearshtml&&b.yearshtml){b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml)}c=b.yearshtml=null},0)}},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());c.left-=this._get(b,"isRTL")?e-g:0;c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0;c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0;c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0);c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0);return c},_findPos:function(b){var c,d=this._getInst(b),e=this._get(d,"isRTL");while(b&&(b.type==="hidden"||b.nodeType!==1||a.expr.filters.hidden(b))){b=b[e?"previousSibling":"nextSibling"]}c=a(b).offset();return[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;if(!g||b&&g!==a.data(b,"datepicker")){return}if(this._datepickerShowing){c=this._get(g,"showAnim");d=this._get(g,"duration");
e=function(){a.datepicker._tidyDialog(g)};if(a.effects&&(a.effects.effect[c]||a.effects[c])){g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e)}else{g.dpDiv[c==="slideDown"?"slideUp":c==="fadeIn"?"fadeOut":"hide"](c?d:null,e)}if(!c){e()}this._datepickerShowing=false;f=this._get(g,"onClose");if(f){f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(a.blockUI){a.unblockUI();a("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(!a.datepicker._curInst){return}var c=a(b.target),d=a.datepicker._getInst(c[0]);if(c[0].id!==a.datepicker._mainDivId&&c.parents("#"+a.datepicker._mainDivId).length===0&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&!(a.datepicker._inDialog&&a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d){a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);if(this._isDisabledDatepicker(e[0])){return}this._adjustInstDate(f,c+(d==="M"?this._get(f,"showCurrentAtPos"):0),d);this._updateDatepicker(f)},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);if(this._get(e,"gotoCurrent")&&e.currentDay){e.selectedDay=e.currentDay;e.drawMonth=e.selectedMonth=e.currentMonth;e.drawYear=e.selectedYear=e.currentYear}else{c=new Date;e.selectedDay=c.getDate();e.drawMonth=e.selectedMonth=c.getMonth();e.drawYear=e.selectedYear=c.getFullYear()}this._notifyChange(e);this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+(d==="M"?"Month":"Year")]=f["draw"+(d==="M"?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(f);this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);if(a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])){return}f=this._getInst(g[0]);f.selectedDay=f.currentDay=a("a",e).html();f.selectedMonth=f.currentMonth=c;f.selectedYear=f.currentYear=d;this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=c!=null?c:this._formatDate(f);if(f.input){f.input.val(c)}this._updateAlternate(f);d=this._get(f,"onSelect");if(d){d.apply(f.input?f.input[0]:null,[c,f])}else if(f.input){f.input.trigger("change")}if(f.inline){this._updateDatepicker(f)}else{this._hideDatepicker();this._lastInput=f.input[0];if(typeof f.input[0]!=="object"){f.input.trigger("focus")}this._lastInput=null}},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");if(f){c=this._get(b,"altFormat")||this._get(b,"dateFormat");d=this._getDate(b);e=this.formatDate(c,d,this._getFormatConfig(b));a(f).val(e)}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());c.setDate(c.getDate()+4-(c.getDay()||7));b=c.getTime();c.setMonth(0);c.setDate(1);return Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(b==null||c==null){throw"Invalid arguments"}c=typeof c==="object"?c.toString():c+"";if(c===""){return null}var e,f,g,h=0,i=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,j=typeof i!=="string"?i:(new Date).getFullYear()%100+parseInt(i,10),k=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,l=(d?d.dayNames:null)||this._defaults.dayNames,m=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,n=(d?d.monthNames:null)||this._defaults.monthNames,o=-1,p=-1,q=-1,r=-1,s=false,t,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;if(c){e++}return c},v=function(a){var b=u(a),d=a==="@"?14:a==="!"?20:a==="y"&&b?4:a==="o"?3:2,e=a==="y"?d:1,f=new RegExp("^\\d{"+e+","+d+"}"),g=c.substring(h).match(f);if(!g){throw"Missing number at position "+h}h+=g[0].length;return parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});a.each(g,function(a,b){var d=b[1];if(c.substr(h,d.length).toLowerCase()===d.toLowerCase()){f=b[0];h+=d.length;return false}});if(f!==-1){return f+1}else{throw"Unknown name at position "+h}},x=function(){if(c.charAt(h)!==b.charAt(e)){throw"Unexpected literal at position "+h}h++};for(e=0;e<b.length;e++){if(s){if(b.charAt(e)==="'"&&!u("'")){s=false}else{x()}}else{switch(b.charAt(e)){case"d":q=v("d");break;case"D":w("D",k,l);break;case"o":r=v("o");break;case"m":p=v("m");break;case"M":p=w("M",m,n);break;case"y":o=v("y");break;case"@":t=new Date(v("@"));o=t.getFullYear();p=t.getMonth()+1;q=t.getDate();break;case"!":t=new Date((v("!")-this._ticksTo1970)/1e4);o=t.getFullYear();p=t.getMonth()+1;q=t.getDate();break;case"'":if(u("'")){x()}else{s=true}break;default:x()}}}if(h<c.length){g=c.substr(h);if(!/^\s+/.test(g)){throw"Extra/unparsed characters found in date: "+g}}if(o===-1){o=(new Date).getFullYear()}else if(o<100){o+=(new Date).getFullYear()-(new Date).getFullYear()%100+(o<=j?0:-100)}if(r>-1){p=1;q=r;do{f=this._getDaysInMonth(o,p-1);if(q<=f){break}p++;q-=f}while(true)}t=this._daylightSavingAdjust(new Date(o,p-1,q));if(t.getFullYear()!==o||t.getMonth()+1!==p||t.getDate()!==q){throw"Invalid date"}return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(a,b,c){if(!b){return""}var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;if(c){d++}return c},j=function(a,b,c){var d=""+b;if(i(a)){while(d.length<c){d="0"+d}}return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=false;if(b){for(d=0;d<a.length;d++){if(m){if(a.charAt(d)==="'"&&!i("'")){m=false}else{l+=a.charAt(d)}}else{switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getFullYear()%100<10?"0":"")+b.getFullYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*1e4+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{m=true}break;default:l+=a.charAt(d)}}}}return l},_possibleChars:function(a){var b,c="",d=false,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;if(d){b++}return d};for(b=0;b<a.length;b++){if(d){if(a.charAt(b)==="'"&&!e("'")){d=false}else{c+=a.charAt(b)}}else{switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){c+="'"}else{d=true}break;default:c+=a.charAt(b)}}}return c},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()===a.lastVal){return}var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(a){d=b?"":d}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=d?f.getDate():0;a.currentMonth=d?f.getMonth():0;a.currentYear=d?f.getFullYear():0;this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(a){}var d=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(c);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10);g=Math.min(g,a.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10);g=Math.min(g,a.datepicker._getDaysInMonth(e,f));break}i=h.exec(c)}return new Date(e,f,g)},g=c==null||c===""?d:typeof c==="string"?f(c):typeof c==="number"?isNaN(c)?d:e(c):new Date(c.getTime());g=g&&g.toString()==="Invalid Date"?d:g;if(g){g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0)}return this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth();a.drawYear=a.selectedYear=a.currentYear=g.getFullYear();if((e!==a.selectedMonth||f!==a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(d?"":this._formatDate(a))}},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()===""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){a.datepicker._selectMonthYear(d,this,"M");return false},selectYear:function(){a.datepicker._selectMonthYear(d,this,"Y");return false}};a(this).on(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=U[0]!==1||U[1]!==1,Y=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(_<0){_+=12;aa--}if($){b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate()));b=Z&&b<Z?Z:b;while(this._daylightSavingAdjust(new Date(aa,_,1))>b){_--;if(_<0){_=11;aa--}}}a.drawMonth=_;a.drawYear=aa;c=this._get(a,"prevText");c=!T?c:this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a));d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>";e=this._get(a,"nextText");e=!T?e:this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>";g=this._get(a,"currentText");h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P;g=!T?g:this.formatDate(g,h,this._getFormatConfig(a));i=!a.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>":"";j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+g+"</button>":"")+(Q?"":i)+"</div>":"";k=parseInt(this._get(a,"firstDay"),10);k=isNaN(k)?0:k;l=this._get(a,"showWeek");m=this._get(a,"dayNames");n=this._get(a,"dayNamesMin");o=this._get(a,"monthNames");p=this._get(a,"monthNamesShort");q=this._get(a,"beforeShowDay");r=this._get(a,"showOtherMonths");s=this._get(a,"selectOtherMonths");t=this._getDefaultDate(a);u="";for(w=0;w<U[0];w++){x="";this.maxRows=4;for(y=0;y<U[1];y++){z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay));A=" ui-corner-all";B="";if(X){B+="<div class='ui-datepicker-group";if(U[1]>1){switch(y){case 0:B+=" ui-datepicker-group-first";A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last";A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle";A="";break}}B+="'>"}B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&w===0?Q?f:d:"")+(/all|right/.test(A)&&w===0?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(v=0;v<7;v++){D=(v+k)%7;C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+m[D]+"'>"+n[D]+"</span></th>"}B+=C+"</tr></thead><tbody>";E=this._getDaysInMonth(aa,_);if(aa===a.selectedYear&&_===a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,E)}F=(this._getFirstDayOfMonth(aa,_)-k+7)%7;G=Math.ceil((F+E)/7);H=X?this.maxRows>G?this.maxRows:G:G;this.maxRows=H;I=this._daylightSavingAdjust(new Date(aa,_,1-F));for(J=0;J<H;J++){B+="<tr>";K=!l?"":"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>";for(v=0;v<7;v++){L=q?q.apply(a.input?a.input[0]:null,[I]):[true,""];M=I.getMonth()!==_;N=M&&!s||!L[0]||Z&&I<Z||$&&I>$;K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+((!M||r)&&L[2]?" title='"+L[2].replace(/'/g,"&#39;")+"'":"")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>";I.setDate(I.getDate()+1);I=this._daylightSavingAdjust(I)}B+=K+"</tr>"}_++;if(_>11){_=0;aa++}B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");x+=B}u+=x}u+=j;a._keyEvent=false;return u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q){u+="<span class='ui-datepicker-month'>"+g[b]+"</span>"}else{i=d&&d.getFullYear()===c;j=e&&e.getFullYear()===c;u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(k=0;k<12;k++){if((!i||k>=d.getMonth())&&(!j||k<=e.getMonth())){u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>"}}u+="</select>"}if(!s){t+=u+(f||!(q&&r)?"&#xa0;":"")}if(!a.yearshtml){a.yearshtml="";if(f||!r){t+="<span class='ui-datepicker-year'>"+c+"</span>"}else{l=this._get(a,"yearRange").split(":");m=(new Date).getFullYear();n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b};o=n(l[0]);p=Math.max(o,n(l[1]||""));o=d?Math.max(o,d.getFullYear()):o;p=e?Math.min(p,e.getFullYear()):p;a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;o<=p;o++){a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>"}a.yearshtml+="</select>";t+=a.yearshtml;a.yearshtml=null}}t+=this._get(a,"yearSuffix");if(s){t+=(f||!(q&&r)?"&#xa0;":"")+u}t+="</div>";return t},_adjustInstDate:function(a,b,c){var d=a.selectedYear+(c==="Y"?b:0),e=a.selectedMonth+(c==="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c==="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate();a.drawMonth=a.selectedMonth=g.getMonth();a.drawYear=a.selectedYear=g.getFullYear();if(c==="M"||c==="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b==="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));if(b<0){f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()))}return this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");if(i){c=i.split(":");d=(new Date).getFullYear();g=parseInt(c[0],10);h=parseInt(c[1],10);if(c[0].match(/[+\-].*/)){g+=d}if(c[1].match(/[+\-].*/)){h+=d}}return(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!=="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}var e=b?typeof b==="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}});function X(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.on("mouseout",c,function(){a(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){a(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){a(this).removeClass("ui-datepicker-next-hover")}}).on("mouseover",c,Y)}function Y(){if(!a.datepicker._isDisabledDatepicker(U.inline?U.dpDiv.parent()[0]:U.input[0])){a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");a(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){a(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){a(this).addClass("ui-datepicker-next-hover")}}}function Z(b,c){a.extend(b,c);for(var d in c){if(c[d]==null){b[d]=c[d]}}return b}a.fn.datepicker=function(b){if(!this.length){return this}if(!a.datepicker.initialized){a(document).on("mousedown",a.datepicker._checkExternalClick);a.datepicker.initialized=true}if(a("#"+a.datepicker._mainDivId).length===0){a("body").append(a.datepicker.dpDiv)}var c=Array.prototype.slice.call(arguments,1);if(typeof b==="string"&&(b==="isDisabled"||b==="getDate"||b==="widget")){return a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))}if(b==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))}return this.each(function(){typeof b==="string"?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new W;a.datepicker.initialized=false;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.12.1";var $=a.datepicker;var _=a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var aa=false;a(document).on("mouseup",function(){aa=false});var ba=a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).on("click."+this.widgetName,function(c){if(true===a.data(c.target,b.widgetName+".preventClickEvent")){a.removeData(c.target,b.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(b){if(aa){return}this._mouseMoved=false;this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var c=this,d=b.which===1,e=typeof this.options.cancel==="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:false;if(!d||e||!this._mouseCapture(b)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==false;if(!this._mouseStarted){b.preventDefault();return true}}if(true===a.data(b.target,this.widgetName+".preventClickEvent")){a.removeData(b.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(a){return c._mouseMove(a)};this._mouseUpDelegate=function(a){return c._mouseUp(a)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();aa=true;return true},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button){return this._mouseUp(b)}else if(!b.which){if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey){this.ignoreMissingWhich=true}else if(!this.ignoreMissingWhich){return this._mouseUp(b)}}}if(b.which||b.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false;this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)}return!this._mouseStarted},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(b.target===this._mouseDownEvent.target){a.data(b.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(b)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;aa=false;b.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var ca=a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d){f.plugins[e]=f.plugins[e]||[];f.plugins[e].push([c,d[e]])}},call:function(a,b,c,d){var e,f=a.plugins[b];if(!f){return}if(!d&&(!a.element[0].parentNode||a.element[0].parentNode.nodeType===11)){return}for(e=0;e<f.length;e++){if(a.options[f[e][0]]){f[e][1].apply(a.element,c)}}}};var da=a.ui.safeBlur=function(b){if(b&&b.nodeName.toLowerCase()!=="body"){a(b).trigger("blur")}};a.widget("ui.draggable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(a,b){this._super(a,b);if(a==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(b);if(!this.handle){return false}this._blurActiveElement(b);this._blockFrames(c.iframeFix===true?"iframe":c.iframeFix);return true},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(b){var c=a.ui.safeActiveElement(this.document[0]),d=a(b.target);if(d.closest(c).length){return}a.ui.safeBlur(c)},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return a(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(b);this.originalPosition=this.position=this._generatePosition(b,false);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this._setContainment();if(this._trigger("start",b)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!c.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}this._mouseDrag(b,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,b)}return true},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(b,true);this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===false){this._mouseUp(new a.Event("mouseup",b));return false}this.position=d.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(a.ui.ddmanager){a.ui.ddmanager.drag(this,b)}return false},_mouseStop:function(b){var c=this,d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,b)}if(this.dropped){d=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!d||this.options.revert==="valid"&&d||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(c._trigger("stop",b)!==false){c._clear()}})}else{if(this._trigger("stop",b)!==false){this._clear()}}return false},_mouseUp:function(b){this._unblockFrames();if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,b)}if(this.handleElement.is(b.target)){this.element.trigger("focus")}return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new a.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper),e=d?a(c.helper.apply(this.element[0],[b])):c.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!e.parents("body").length){e.appendTo(c.appendTo==="parent"?this.element[0].parentNode:c.appendTo)}if(d&&e[0]===this.element[0]){this._setPositionRelative()}if(e[0]!==this.element[0]&&!/(fixed|absolute)/.test(e.css("position"))){e.css("position","absolute")}return e},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(b){if(typeof b==="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left"in b){this.offset.click.left=b.left+this.margins.left}if("right"in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top"in b){this.offset.click.top=b.top+this.margins.top}if("bottom"in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(!b?this.scrollParent.scrollTop():0),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(!b?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0
}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options,f=this.document[0];this.relativeContainer=null;if(!e.containment){this.containment=null;return}if(e.containment==="window"){this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(e.containment==="document"){this.containment=[0,0,a(f).width()-this.helperProportions.width-this.margins.left,(a(f).height()||f.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(e.containment.constructor===Array){this.containment=e.containment;return}if(e.containment==="parent"){e.containment=this.helper[0].parentNode}c=a(e.containment);d=c[0];if(!d){return}b=/(scroll|auto)/.test(c.css("overflow"));this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=c},_convertPositionTo:function(a,b){if(!b){b=this.position}var c=a==="absolute"?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-(this.cssPosition==="fixed"?-this.offset.scroll.top:d?0:this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-(this.cssPosition==="fixed"?-this.offset.scroll.left:d?0:this.offset.scroll.left)*c}},_generatePosition:function(a,b){var c,d,e,f,g=this.options,h=this._isRootNode(this.scrollParent[0]),i=a.pageX,j=a.pageY;if(!h||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(b){if(this.containment){if(this.relativeContainer){d=this.relativeContainer.offset();c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]}else{c=this.containment}if(a.pageX-this.offset.click.left<c[0]){i=c[0]+this.offset.click.left}if(a.pageY-this.offset.click.top<c[1]){j=c[1]+this.offset.click.top}if(a.pageX-this.offset.click.left>c[2]){i=c[2]+this.offset.click.left}if(a.pageY-this.offset.click.top>c[3]){j=c[3]+this.offset.click.top}}if(g.grid){e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY;j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e;f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX;i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f}if(g.axis==="y"){i=this.originalPageX}if(g.axis==="x"){j=this.originalPageY}}return{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d,this],true);if(/^(drag|start|stop)/.test(b)){this.positionAbs=this._convertPositionTo("absolute");d.offset=this.positionAbs}return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var e=a.extend({},c,{item:d.element});d.sortables=[];a(d.options.connectToSortable).each(function(){var c=a(this).sortable("instance");if(c&&!c.options.disabled){d.sortables.push(c);c.refreshPositions();c._trigger("activate",b,e)}})},stop:function(b,c,d){var e=a.extend({},c,{item:d.element});d.cancelHelperRemoval=false;a.each(d.sortables,function(){var a=this;if(a.isOver){a.isOver=0;d.cancelHelperRemoval=true;a.cancelHelperRemoval=false;a._storedCSS={position:a.placeholder.css("position"),top:a.placeholder.css("top"),left:a.placeholder.css("left")};a._mouseStop(b);a.options.helper=a.options._helper}else{a.cancelHelperRemoval=true;a._trigger("deactivate",b,e)}})},drag:function(b,c,d){a.each(d.sortables,function(){var e=false,f=this;f.positionAbs=d.positionAbs;f.helperProportions=d.helperProportions;f.offset.click=d.offset.click;if(f._intersectsWith(f.containerCache)){e=true;a.each(d.sortables,function(){this.positionAbs=d.positionAbs;this.helperProportions=d.helperProportions;this.offset.click=d.offset.click;if(this!==f&&this._intersectsWith(this.containerCache)&&a.contains(f.element[0],this.element[0])){e=false}return e})}if(e){if(!f.isOver){f.isOver=1;d._parent=c.helper.parent();f.currentItem=c.helper.appendTo(f.element).data("ui-sortable-item",true);f.options._helper=f.options.helper;f.options.helper=function(){return c.helper[0]};b.target=f.currentItem[0];f._mouseCapture(b,true);f._mouseStart(b,true,true);f.offset.click.top=d.offset.click.top;f.offset.click.left=d.offset.click.left;f.offset.parent.left-=d.offset.parent.left-f.offset.parent.left;f.offset.parent.top-=d.offset.parent.top-f.offset.parent.top;d._trigger("toSortable",b);d.dropped=f.element;a.each(d.sortables,function(){this.refreshPositions()});d.currentItem=d.element;f.fromOutside=d}if(f.currentItem){f._mouseDrag(b);c.position=f.position}}else{if(f.isOver){f.isOver=0;f.cancelHelperRemoval=true;f.options._revert=f.options.revert;f.options.revert=false;f._trigger("out",b,f._uiHash(f));f._mouseStop(b,true);f.options.revert=f.options._revert;f.options.helper=f.options._helper;if(f.placeholder){f.placeholder.remove()}c.helper.appendTo(d._parent);d._refreshOffsets(b);c.position=d._generatePosition(b,true);d._trigger("fromSortable",b);d.dropped=false;a.each(d.sortables,function(){this.refreshPositions()})}}})}});a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){var e=a("body"),f=d.options;if(e.css("cursor")){f._cursor=e.css("cursor")}e.css("cursor",f.cursor)},stop:function(b,c,d){var e=d.options;if(e._cursor){a("body").css("cursor",e._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(b,c,d){var e=a(c.helper),f=d.options;if(e.css("opacity")){f._opacity=e.css("opacity")}e.css("opacity",f.opacity)},stop:function(b,c,d){var e=d.options;if(e._opacity){a(c.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){if(!c.scrollParentNotHidden){c.scrollParentNotHidden=c.helper.scrollParent(false)}if(c.scrollParentNotHidden[0]!==c.document[0]&&c.scrollParentNotHidden[0].tagName!=="HTML"){c.overflowOffset=c.scrollParentNotHidden.offset()}},drag:function(b,c,d){var e=d.options,f=false,g=d.scrollParentNotHidden[0],h=d.document[0];if(g!==h&&g.tagName!=="HTML"){if(!e.axis||e.axis!=="x"){if(d.overflowOffset.top+g.offsetHeight-b.pageY<e.scrollSensitivity){g.scrollTop=f=g.scrollTop+e.scrollSpeed}else if(b.pageY-d.overflowOffset.top<e.scrollSensitivity){g.scrollTop=f=g.scrollTop-e.scrollSpeed}}if(!e.axis||e.axis!=="y"){if(d.overflowOffset.left+g.offsetWidth-b.pageX<e.scrollSensitivity){g.scrollLeft=f=g.scrollLeft+e.scrollSpeed}else if(b.pageX-d.overflowOffset.left<e.scrollSensitivity){g.scrollLeft=f=g.scrollLeft-e.scrollSpeed}}}else{if(!e.axis||e.axis!=="x"){if(b.pageY-a(h).scrollTop()<e.scrollSensitivity){f=a(h).scrollTop(a(h).scrollTop()-e.scrollSpeed)}else if(a(window).height()-(b.pageY-a(h).scrollTop())<e.scrollSensitivity){f=a(h).scrollTop(a(h).scrollTop()+e.scrollSpeed)}}if(!e.axis||e.axis!=="y"){if(b.pageX-a(h).scrollLeft()<e.scrollSensitivity){f=a(h).scrollLeft(a(h).scrollLeft()-e.scrollSpeed)}else if(a(window).width()-(b.pageX-a(h).scrollLeft())<e.scrollSensitivity){f=a(h).scrollLeft(a(h).scrollLeft()+e.scrollSpeed)}}}if(f!==false&&a.ui.ddmanager&&!e.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,b)}}});a.ui.plugin.add("draggable","snap",{start:function(b,c,d){var e=d.options;d.snapElements=[];a(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var b=a(this),c=b.offset();if(this!==d.element[0]){d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})}})},drag:function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o=d.options,p=o.snapTolerance,q=c.offset.left,r=q+d.helperProportions.width,s=c.offset.top,t=s+d.helperProportions.height;for(m=d.snapElements.length-1;m>=0;m--){i=d.snapElements[m].left-d.margins.left;j=i+d.snapElements[m].width;k=d.snapElements[m].top-d.margins.top;l=k+d.snapElements[m].height;if(r<i-p||q>j+p||t<k-p||s>l+p||!a.contains(d.snapElements[m].item.ownerDocument,d.snapElements[m].item)){if(d.snapElements[m].snapping){d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item}))}d.snapElements[m].snapping=false;continue}if(o.snapMode!=="inner"){e=Math.abs(k-t)<=p;f=Math.abs(l-s)<=p;g=Math.abs(i-r)<=p;h=Math.abs(j-q)<=p;if(e){c.position.top=d._convertPositionTo("relative",{top:k-d.helperProportions.height,left:0}).top}if(f){c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top}if(g){c.position.left=d._convertPositionTo("relative",{top:0,left:i-d.helperProportions.width}).left}if(h){c.position.left=d._convertPositionTo("relative",{top:0,left:j}).left}}n=e||f||g||h;if(o.snapMode!=="outer"){e=Math.abs(k-s)<=p;f=Math.abs(l-t)<=p;g=Math.abs(i-q)<=p;h=Math.abs(j-r)<=p;if(e){c.position.top=d._convertPositionTo("relative",{top:k,left:0}).top}if(f){c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top}if(g){c.position.left=d._convertPositionTo("relative",{top:0,left:i}).left}if(h){c.position.left=d._convertPositionTo("relative",{top:0,left:j-d.helperProportions.width}).left}}if(!d.snapElements[m].snapping&&(e||f||g||h||n)){d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[m].item}))}d.snapElements[m].snapping=e||f||g||h||n}}});a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var e,f=d.options,g=a.makeArray(a(f.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!g.length){return}e=parseInt(a(g[0]).css("zIndex"),10)||0;a(g).each(function(b){a(this).css("zIndex",e+b)});this.css("zIndex",e+g.length)}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){var e=a(c.helper),f=d.options;if(e.css("zIndex")){f._zIndex=e.css("zIndex")}e.css("zIndex",f.zIndex)},stop:function(b,c,d){var e=d.options;if(e._zIndex){a(c.helper).css("zIndex",e._zIndex)}}});var ea=a.ui.draggable;a.widget("ui.resizable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(b,c){if(a(b).css("overflow")==="hidden"){return false}var d=c&&c==="left"?"scrollLeft":"scrollTop",e=false;if(b[d]>0){return true}b[d]=1;e=b[d]>0;b[d]=0;return e},_create:function(){var b,c=this.options,d=this;this._addClass("ui-resizable");a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;b={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(b);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(b);this._proportionallyResize()}this._setupHandles();if(c.autoHide){a(this.element).on("mouseenter",function(){if(c.disabled){return}d._removeClass("ui-resizable-autohide");d._handles.show()}).on("mouseleave",function(){if(c.disabled){return}if(!d.resizing){d._addClass("ui-resizable-autohide");d._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){c(this.element);b=this.element;this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b);b.remove()}this.originalElement.css("resize",this.originalResizeStyle);c(this.originalElement);return this},_setOption:function(a,b){this._super(a,b);switch(a){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var b=this.options,c,d,e,f,g,h=this;this.handles=b.handles||(!a(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=a();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}e=this.handles.split(",");this.handles={};for(d=0;d<e.length;d++){c=a.trim(e[d]);f="ui-resizable-"+c;g=a("<div>");this._addClass(g,"ui-resizable-handle "+f);g.css({zIndex:b.zIndex});this.handles[c]=".ui-resizable-"+c;this.element.append(g)}}this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles){if(this.handles[c].constructor===String){this.handles[c]=this.element.children(this.handles[c]).first().show()}else if(this.handles[c].jquery||this.handles[c].nodeType){this.handles[c]=a(this.handles[c]);this._on(this.handles[c],{mousedown:h._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){d=a(this.handles[c],this.element);f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(e,f);this._proportionallyResize()}this._handles=this._handles.add(this.handles[c])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!h.resizing){if(this.className){g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=g&&g[1]?g[1]:"se"}});if(b.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(b){var c,d,e=false;for(c in this.handles){d=a(this.handles[c])[0];if(d===b.target||a.contains(d,b.target)){e=true}}return!this.options.disabled&&e},_mouseStart:function(b){var c,d,e,f=this.options,g=this.element;this.resizing=true;this._renderProxy();c=this._num(this.helper.css("left"));d=this._num(this.helper.css("top"));if(f.containment){c+=a(f.containment).scrollLeft()||0;d+=a(f.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:c,top:d};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()};this.originalPosition={left:c,top:d};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio=typeof f.aspectRatio==="number"?f.aspectRatio:this.originalSize.width/this.originalSize.height||1;e=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",e==="auto"?this.axis+"-resize":e);this._addClass("ui-resizable-resizing");this._propagate("start",b);return true},_mouseDrag:function(b){var c,d,e=this.originalMousePosition,f=this.axis,g=b.pageX-e.left||0,h=b.pageY-e.top||0,i=this._change[f];this._updatePrevProperties();if(!i){return false}c=i.apply(this,[b,g,h]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey){c=this._updateRatio(c,b)}c=this._respectSize(c,b);this._updateCache(c);this._propagate("resize",b);d=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!a.isEmptyObject(d)){this._updatePrevProperties();this._trigger("resize",b,this.ui());this._applyChanges()}return false},_mouseStop:function(b){this.resizing=false;var c,d,e,f,g,h,i,j=this.options,k=this;if(this._helper){c=this._proportionallyResizeElements;d=c.length&&/textarea/i.test(c[0].nodeName);e=d&&this._hasScroll(c[0],"left")?0:k.sizeDiff.height;f=d?0:k.sizeDiff.width;g={width:k.helper.width()-f,height:k.helper.height()-e};h=parseFloat(k.element.css("left"))+(k.position.left-k.originalPosition.left)||null;i=parseFloat(k.element.css("top"))+(k.position.top-k.originalPosition.top)||null;if(!j.animate){this.element.css(a.extend(g,{top:i,left:h}))}k.helper.height(k.size.height);k.helper.width(k.size.width);if(this._helper&&!j.animate){this._proportionallyResize()}}a("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",b);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};if(this.position.top!==this.prevPosition.top){a.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){a.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){a.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){a.height=this.size.height+"px"}this.helper.css(a);return a},_updateVirtualBoundaries:function(a){var b,c,d,e,f,g=this.options;f={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:Infinity,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:Infinity};if(this._aspectRatio||a){b=f.minHeight*this.aspectRatio;d=f.minWidth/this.aspectRatio;c=f.maxHeight*this.aspectRatio;e=f.maxWidth/this.aspectRatio;if(b>f.minWidth){f.minWidth=b}if(d>f.minHeight){f.minHeight=d}if(c<f.maxWidth){f.maxWidth=c}if(e<f.maxHeight){f.maxHeight=e}}this._vBoundaries=f},_updateCache:function(a){this.offset=this.helper.offset();if(this._isNumber(a.left)){this.position.left=a.left}if(this._isNumber(a.top)){this.position.top=a.top}if(this._isNumber(a.height)){this.size.height=a.height}if(this._isNumber(a.width)){this.size.width=a.width}},_updateRatio:function(a){var b=this.position,c=this.size,d=this.axis;if(this._isNumber(a.height)){a.width=a.height*this.aspectRatio}else if(this._isNumber(a.width)){a.height=a.width/this.aspectRatio}if(d==="sw"){a.left=b.left+(c.width-a.width);a.top=null}if(d==="nw"){a.top=b.top+(c.height-a.height);a.left=b.left+(c.width-a.width)}return a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,g=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,h=this.originalPosition.left+this.originalSize.width,i=this.originalPosition.top+this.originalSize.height,j=/sw|nw|w/.test(c),k=/nw|ne|n/.test(c);if(f){a.width=b.minWidth}if(g){a.height=b.minHeight}if(d){a.width=b.maxWidth}if(e){a.height=b.maxHeight}if(f&&j){a.left=h-b.minWidth}if(d&&j){a.left=h-b.maxWidth}if(g&&k){a.top=i-b.minHeight}if(e&&k){a.top=i-b.maxHeight}if(!a.width&&!a.height&&!a.left&&a.top){a.top=null}else if(!a.width&&!a.height&&!a.top&&a.left){a.left=null}return a},_getPaddingPlusBorderDimensions:function(a){var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],e=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];for(;b<4;b++){c[b]=parseFloat(d[b])||0;c[b]+=parseFloat(e[b])||0}return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var a,b=0,c=this.helper||this.element;for(;b<this._proportionallyResizeElements.length;b++){a=this._proportionallyResizeElements[b];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(a)}a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);b!=="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).resizable("instance"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&c._hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,k=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseFloat(c.element.css("width")),height:parseFloat(c.element.css("height")),top:parseFloat(c.element.css("top")),left:parseFloat(c.element.css("left"))};if(e&&e.length){a(e[0]).css({width:d.width,height:d.height})}c._updateCache(d);c._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,c,d,e,f,g,h,i=a(this).resizable("instance"),j=i.options,k=i.element,l=j.containment,m=l instanceof a?l.get(0):/parent/.test(l)?k.parent().get(0):l;if(!m){return}i.containerElement=a(m);if(/document/.test(l)||l===document){i.containerOffset={left:0,top:0};i.containerPosition={left:0,top:0};i.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{b=a(m);c=[];a(["Top","Right","Left","Bottom"]).each(function(a,d){c[a]=i._num(b.css("padding"+d))});i.containerOffset=b.offset();i.containerPosition=b.position();i.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]};d=i.containerOffset;e=i.containerSize.height;f=i.containerSize.width;g=i._hasScroll(m,"left")?m.scrollWidth:f;h=i._hasScroll(m)?m.scrollHeight:e;i.parentData={element:m,left:d.left,top:d.top,width:g,height:h}}},resize:function(b){var c,d,e,f,g=a(this).resizable("instance"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement,n=true;if(m[0]!==document&&/static/.test(m.css("position"))){l=i}if(j.left<(g._helper?i.left:0)){g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left);if(k){g.size.height=g.size.width/g.aspectRatio;n=false}g.position.left=h.helper?i.left:0}if(j.top<(g._helper?i.top:0)){g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top);if(k){g.size.width=g.size.height*g.aspectRatio;n=false}g.position.top=g._helper?i.top:0}e=g.containerElement.get(0)===g.element.parent().get(0);f=/relative|absolute/.test(g.containerElement.css("position"));if(e&&f){g.offset.left=g.parentData.left+g.position.left;g.offset.top=g.parentData.top+g.position.top}else{g.offset.left=g.element.offset().left;g.offset.top=g.element.offset().top}c=Math.abs(g.sizeDiff.width+(g._helper?g.offset.left-l.left:g.offset.left-i.left));d=Math.abs(g.sizeDiff.height+(g._helper?g.offset.top-l.top:g.offset.top-i.top));if(c+g.size.width>=g.parentData.width){g.size.width=g.parentData.width-c;if(k){g.size.height=g.size.width/g.aspectRatio;n=false}}if(d+g.size.height>=g.parentData.height){g.size.height=g.parentData.height-d;if(k){g.size.width=g.size.height*g.aspectRatio;n=false}}if(!n){g.position.left=g.prevPosition.left;g.position.top=g.prevPosition.top;g.size.width=g.prevSize.width;g.size.height=g.prevSize.height}},stop:function(){var b=a(this).resizable("instance"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;if(b._helper&&!c.animate&&/relative/.test(f.css("position"))){a(this).css({left:h.left-e.left-d.left,width:i,height:j})}if(b._helper&&!c.animate&&/static/.test(f.css("position"))){a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance"),c=b.options;a(c.alsoResize).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseFloat(b.width()),height:parseFloat(b.height()),left:parseFloat(b.css("left")),top:parseFloat(b.css("top"))})})},resize:function(b,c){var d=a(this).resizable("instance"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0};a(e.alsoResize).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),e={},f=b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(f,function(a,b){var c=(d[b]||0)+(h[b]||0);if(c&&c>=0){e[b]=c||null}});b.css(e)})},stop:function(){a(this).removeData("ui-resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),c=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0});b._addClass(b.ghost,"ui-resizable-ghost");if(a.uiBackCompat!==false&&typeof b.options.ghost==="string"){b.ghost.addClass(this.options.ghost)}b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");if(b.ghost){b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})}},stop:function(){var b=a(this).resizable("instance");if(b.ghost&&b.helper){b.helper.get(0).removeChild(b.ghost.get(0))}}});a.ui.plugin.add("resizable","grid",{resize:function(){var b,c=a(this).resizable("instance"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis,i=typeof d.grid==="number"?[d.grid,d.grid]:d.grid,j=i[0]||1,k=i[1]||1,l=Math.round((e.width-f.width)/j)*j,m=Math.round((e.height-f.height)/k)*k,n=f.width+l,o=f.height+m,p=d.maxWidth&&d.maxWidth<n,q=d.maxHeight&&d.maxHeight<o,r=d.minWidth&&d.minWidth>n,s=d.minHeight&&d.minHeight>o;d.grid=i;if(r){n+=j}if(s){o+=k}if(p){n-=j}if(q){o-=k}if(/^(se|s|e)$/.test(h)){c.size.width=n;c.size.height=o}else if(/^(ne)$/.test(h)){c.size.width=n;c.size.height=o;c.position.top=g.top-m}else if(/^(sw)$/.test(h)){c.size.width=n;c.size.height=o;c.position.left=g.left-l}else{if(o-k<=0||n-j<=0){b=c._getPaddingPlusBorderDimensions(this)}if(o-k>0){c.size.height=o;c.position.top=g.top-m}else{o=k-b.height;c.size.height=o;c.position.top=g.top+f.height-o}if(n-j>0){c.size.width=n;c.position.left=g.left-l}else{n=j-b.width;c.size.width=n;c.position.left=g.left+f.width-n}}}});var fa=a.ui.resizable;a.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;if(c<0){a(this).css("top",b.top-c)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");if(this.options.title==null&&this.originalTitle!=null){this.options.title=this.originalTitle}if(this.options.disabled){this.options.disabled=false}this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();if(this.options.draggable&&a.fn.draggable){this._makeDraggable()}if(this.options.resizable&&a.fn.resizable){this._makeResizable()}this._isOpen=false;this._trackFocus()},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var b=this.options.appendTo;if(b&&(b.jquery||b.nodeType)){return a(b)}return this.document.find(b||"body").eq(0);
},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}a=b.parent.children().eq(b.index);if(a.length&&a[0]!==this.element[0]){a.before(this.element)}else{b.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c=this;if(!this._isOpen||this._trigger("beforeClose",b)===false){return}this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").trigger("focus").length){a.ui.safeBlur(a.ui.safeActiveElement(this.document[0]))}this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=false,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),f=Math.max.apply(null,e);if(f>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",f+1);d=true}if(d&&!c){this._trigger("focus",b)}return d},open:function(){var b=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=a(a.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1)}this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var a=this._focusedElement;if(!a){a=this.element.find("[autofocus]")}if(!a.length){a=this.element.find(":tabbable")}if(!a.length){a=this.uiDialogButtonPane.find(":tabbable")}if(!a.length){a=this.uiDialogTitlebarClose.filter(":tabbable")}if(!a.length){a=this.uiDialog}a.eq(0).trigger("focus")},_keepFocus:function(b){function c(){var b=a.ui.safeActiveElement(this.document[0]),c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);if(!c){this._focusTabbable()}}b.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE){b.preventDefault();this.close(b);return}if(b.keyCode!==a.ui.keyCode.TAB||b.isDefaultPrevented()){return}var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");if((b.target===e[0]||b.target===this.uiDialog[0])&&!b.shiftKey){this._delay(function(){d.trigger("focus")});b.preventDefault()}else if((b.target===d[0]||b.target===this.uiDialog[0])&&b.shiftKey){this._delay(function(){e.trigger("focus")});b.preventDefault()}},mousedown:function(a){if(this._moveToTop(a)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(b){if(!a(b.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.trigger("focus")}}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:a("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(b,"ui-dialog-title");this._title(b);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){if(this.options.title){a.text(this.options.title)}else{a.html("&#160;")}},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(a.isEmptyObject(c)||a.isArray(c)&&!c.length){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d;d=a.extend({type:"button"},d);e=d.click;f={icon:d.icon,iconPosition:d.iconPosition,showLabel:d.showLabel,icons:d.icons,text:d.text};delete d.click;delete d.icon;delete d.iconPosition;delete d.showLabel;delete d.icons;if(typeof d.text==="boolean"){delete d.text}a("<button></button>",d).button(f).appendTo(b.uiButtonSet).on("click",function(){e.apply(b.element[0],arguments)})});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var b=this,c=this.options;function d(a){return{position:a.position,offset:a.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,e){b._addClass(a(this),"ui-dialog-dragging");b._blockFrames();b._trigger("dragStart",c,d(e))},drag:function(a,c){b._trigger("drag",a,d(c))},stop:function(e,f){var g=f.offset.left-b.document.scrollLeft(),h=f.offset.top-b.document.scrollTop();c.position={my:"left top",at:"left"+(g>=0?"+":"")+g+" "+"top"+(h>=0?"+":"")+h,of:b.window};b._removeClass(a(this),"ui-dialog-dragging");b._unblockFrames();b._trigger("dragStop",e,d(f))}})},_makeResizable:function(){var b=this,c=this.options,d=c.resizable,e=this.uiDialog.css("position"),f=typeof d==="string"?d:"n,e,s,w,se,sw,ne,nw";function g(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,minWidth:c.minWidth,minHeight:this._minHeight(),handles:f,start:function(c,d){b._addClass(a(this),"ui-dialog-resizing");b._blockFrames();b._trigger("resizeStart",c,g(d))},resize:function(a,c){b._trigger("resize",a,g(c))},stop:function(d,e){var f=b.uiDialog.offset(),h=f.left-b.document.scrollLeft(),i=f.top-b.document.scrollTop();c.height=b.uiDialog.height();c.width=b.uiDialog.width();c.position={my:"left top",at:"left"+(h>=0?"+":"")+h+" "+"top"+(i>=0?"+":"")+i,of:b.window};b._removeClass(a(this),"ui-dialog-resizing");b._unblockFrames();b._trigger("resizeStop",d,g(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget();this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);if(c!==-1){b.splice(c,1)}},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");if(!a){a=[];this.document.data("ui-dialog-instances",a)}return a},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");if(!a){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!a){this.uiDialog.hide()}},_setOptions:function(b){var c=this,d=false,e={};a.each(b,function(a,b){c._setOption(a,b);if(a in c.sizeRelatedOptions){d=true}if(a in c.resizableRelatedOptions){e[a]=b}});if(d){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",e)}},_setOption:function(b,c){var d,e,f=this.uiDialog;if(b==="disabled"){return}this._super(b,c);if(b==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(b==="buttons"){this._createButtons()}if(b==="closeText"){this.uiDialogTitlebarClose.button({label:a("<a>").text(""+this.options.closeText).html()})}if(b==="draggable"){d=f.is(":data(ui-draggable)");if(d&&!c){f.draggable("destroy")}if(!d&&c){this._makeDraggable()}}if(b==="position"){this._position()}if(b==="resizable"){e=f.is(":data(ui-resizable)");if(e&&!c){f.resizable("destroy")}if(e&&typeof c==="string"){f.resizable("option","handles",c)}if(!e&&c!==false){this._makeResizable()}}if(b==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(d.minWidth>d.width){d.width=d.minWidth}a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight();b=Math.max(0,d.minHeight-a);c=typeof d.maxHeight==="number"?Math.max(0,d.maxHeight-a):"none";if(d.height==="auto"){this.element.css({minHeight:b,maxHeight:c,height:"auto"})}else{this.element.height(Math.max(0,d.height-a))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(b){if(a(b.target).closest(".ui-dialog").length){return true}return!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var b=true;this._delay(function(){b=false});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(a){if(b){return}if(!this._allowInteraction(a)){a.preventDefault();this._trackingInstances()[0]._focusTabbable()}}})}this.overlay=a("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){var a=this.document.data("ui-dialog-overlays")-1;if(!a){this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays")}else{this.document.data("ui-dialog-overlays",a)}this.overlay.remove();this.overlay=null}}});if(a.uiBackCompat!==false){a.widget("ui.dialog",a.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,b){if(a==="dialogClass"){this.uiDialog.removeClass(this.options.dialogClass).addClass(b)}this._superApply(arguments)}})}var ga=a.ui.dialog;a.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=false;this.isout=true;this.accept=a.isFunction(d)?d:function(a){return a.is(d)};this.proportions=function(){if(arguments.length){b=arguments[0]}else{return b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(c.scope);c.addClasses&&this._addClass("ui-droppable")},_addToManager:function(b){a.ui.ddmanager.droppables[b]=a.ui.ddmanager.droppables[b]||[];a.ui.ddmanager.droppables[b].push(this)},_splice:function(a){var b=0;for(;b<a.length;b++){if(a[b]===this){a.splice(b,1)}}},_destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];this._splice(b)},_setOption:function(b,c){if(b==="accept"){this.accept=a.isFunction(c)?c:function(a){return a.is(c)}}else if(b==="scope"){var d=a.ui.ddmanager.droppables[this.options.scope];this._splice(d);this._addToManager(c)}this._super(b,c)},_activate:function(b){var c=a.ui.ddmanager.current;this._addActiveClass();if(c){this._trigger("activate",b,this.ui(c))}},_deactivate:function(b){var c=a.ui.ddmanager.current;this._removeActiveClass();if(c){this._trigger("deactivate",b,this.ui(c))}},_over:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],c.currentItem||c.element)){this._addHoverClass();this._trigger("over",b,this.ui(c))}},_out:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],c.currentItem||c.element)){this._removeHoverClass();this._trigger("out",b,this.ui(c))}},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=false;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=a(this).droppable("instance");if(c.options.greedy&&!c.options.disabled&&c.options.scope===d.options.scope&&c.accept.call(c.element[0],d.currentItem||d.element)&&ha(d,a.extend(c,{offset:c.element.offset()}),c.options.tolerance,b)){e=true;return false}});if(e){return false}if(this.accept.call(this.element[0],d.currentItem||d.element)){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",b,this.ui(d));return this.element}return false},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var ha=a.ui.intersect=function(){function a(a,b,c){return a>=b&&a<b+c}return function(b,c,d,e){if(!c.offset){return false}var f=(b.positionAbs||b.position.absolute).left+b.margins.left,g=(b.positionAbs||b.position.absolute).top+b.margins.top,h=f+b.helperProportions.width,i=g+b.helperProportions.height,j=c.offset.left,k=c.offset.top,l=j+c.proportions().width,m=k+c.proportions().height;switch(d){case"fit":return j<=f&&h<=l&&k<=g&&i<=m;case"intersect":return j<f+b.helperProportions.width/2&&h-b.helperProportions.width/2<l&&k<g+b.helperProportions.height/2&&i-b.helperProportions.height/2<m;case"pointer":return a(e.pageY,k,c.proportions().height)&&a(e.pageX,j,c.proportions().width);case"touch":return(g>=k&&g<=m||i>=k&&i<=m||g<k&&i>m)&&(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l);default:return false}}}();a.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++){if(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element)){continue}for(e=0;e<h.length;e++){if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}}f[d].visible=f[d].element.css("display")!=="none";if(!f[d].visible){continue}if(g==="mousedown"){f[d]._activate.call(f[d],c)}f[d].offset=f[d].element.offset();f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight})}},drop:function(b,c){var d=false;a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&ha(b,this,this.options.tolerance,c)){d=this._drop.call(this,c)||d}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)){this.isout=true;this.isover=false;this._deactivate.call(this,c)}});return d},dragStart:function(b,c){b.element.parentsUntil("body").on("scroll.droppable",function(){if(!b.options.refreshPositions){a.ui.ddmanager.prepareOffsets(b,c)}})},drag:function(b,c){if(b.options.refreshPositions){a.ui.ddmanager.prepareOffsets(b,c)}a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var d,e,f,g=ha(b,this,this.options.tolerance,c),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;if(!h){return}if(this.options.greedy){e=this.options.scope;f=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===e});if(f.length){d=a(f[0]).droppable("instance");d.greedyChild=h==="isover"}}if(d&&h==="isover"){d.isover=false;d.isout=true;d._out.call(d,c)}this[h]=true;this[h==="isout"?"isover":"isout"]=false;this[h==="isover"?"_over":"_out"].call(this,c);if(d&&h==="isout"){d.isout=false;d.isover=true;d._over.call(d,c)}})},dragStop:function(b,c){b.element.parentsUntil("body").off("scroll.droppable");if(!b.options.refreshPositions){a.ui.ddmanager.prepareOffsets(b,c)}}};if(a.uiBackCompat!==false){a.widget("ui.droppable",a.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass)}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}}})}var ia=a.ui.droppable;var ja=a.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=a("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(a){if(a===undefined){return this.options.value}this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){if(a===undefined){a=this.options.value}this.indeterminate=a===false;if(typeof a!=="number"){a=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,b){if(a==="max"){b=Math.max(this.min,b)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).width(c.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,b===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=a("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay")}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==b){this.oldValue=b;this._trigger("change")}if(b===this.options.max){this._trigger("complete")}}});var ka=a.widget("ui.selectable",a.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){b.elementPos=a(b.element[0]).offset();b.selectees=a(b.options.filter,b.element[0]);b._addClass(b.selectees,"ui-selectee");b.selectees.each(function(){var c=a(this),d=c.offset(),e={left:d.left-b.elementPos.left,top:d.top-b.elementPos.top};a.data(this,"selectable-item",{element:this,$element:c,left:e.left,top:e.top,right:e.left+c.outerWidth(),bottom:e.top+c.outerHeight(),startselected:false,selected:c.hasClass("ui-selected"),selecting:c.hasClass("ui-selecting"),unselecting:c.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=a("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY];this.elementPos=a(this.element[0]).offset();if(this.options.disabled){return}this.selectees=a(d.filter,this.element[0]);this._trigger("start",b);a(d.appendTo).append(this.helper);this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0});if(d.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=true;if(!b.metaKey&&!b.ctrlKey){c._removeClass(d.$element,"ui-selected");d.selected=false;c._addClass(d.$element,"ui-unselecting");d.unselecting=true;c._trigger("unselecting",b,{unselecting:d.element})}});a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");if(e){d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected");c._removeClass(e.$element,d?"ui-unselecting":"ui-selected")._addClass(e.$element,d?"ui-selecting":"ui-unselecting");e.unselecting=!d;e.selecting=d;e.selected=d;if(d){c._trigger("selecting",b,{selecting:e.element})}else{c._trigger("unselecting",b,{unselecting:e.element})}return false}})},_mouseDrag:function(b){this.dragged=true;if(this.options.disabled){return}var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;if(f>h){c=h;h=f;f=c}if(g>i){c=i;i=g;g=c}this.helper.css({left:f,top:g,width:h-f,height:i-g});this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=false,k={};if(!c||c.element===d.element[0]){return}k.left=c.left+d.elementPos.left;k.right=c.right+d.elementPos.left;k.top=c.top+d.elementPos.top;k.bottom=c.bottom+d.elementPos.top;if(e.tolerance==="touch"){j=!(k.left>h||k.right<f||k.top>i||k.bottom<g)}else if(e.tolerance==="fit"){j=k.left>f&&k.right<h&&k.top>g&&k.bottom<i}if(j){if(c.selected){d._removeClass(c.$element,"ui-selected");c.selected=false}if(c.unselecting){d._removeClass(c.$element,"ui-unselecting");c.unselecting=false}if(!c.selecting){d._addClass(c.$element,"ui-selecting");c.selecting=true;d._trigger("selecting",b,{selecting:c.element})}}else{if(c.selecting){if((b.metaKey||b.ctrlKey)&&c.startselected){d._removeClass(c.$element,"ui-selecting");c.selecting=false;d._addClass(c.$element,"ui-selected");c.selected=true}else{d._removeClass(c.$element,"ui-selecting");c.selecting=false;if(c.startselected){d._addClass(c.$element,"ui-unselecting");c.unselecting=true}d._trigger("unselecting",b,{unselecting:c.element})}}if(c.selected){if(!b.metaKey&&!b.ctrlKey&&!c.startselected){d._removeClass(c.$element,"ui-selected");c.selected=false;d._addClass(c.$element,"ui-unselecting");c.unselecting=true;d._trigger("unselecting",b,{unselecting:c.element})}}}});return false},_mouseStop:function(b){var c=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-unselecting");d.unselecting=false;d.startselected=false;c._trigger("unselected",b,{unselected:d.element})});a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");c._removeClass(d.$element,"ui-selecting")._addClass(d.$element,"ui-selected");d.selecting=false;d.selected=true;d.startselected=true;c._trigger("selected",b,{selected:d.element})});this._trigger("stop",b);this.helper.remove();return false}});var la=a.widget("ui.selectmenu",[a.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var b=this.element.uniqueId().attr("id");this.ids={element:b,button:b+"-button",menu:b+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=a()},_drawButton:function(){var b,c=this,d=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(a){this.button.focus();a.preventDefault()}});this.element.hide();this.button=a("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");b=a("<span>").appendTo(this.button);this._addClass(b,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(d).appendTo(this.button);if(this.options.width!==false){this._resizeButton()}this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!c._rendered){c._refreshMenu()}})},_drawMenu:function(){var b=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=a("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(a,c){a.preventDefault();b._setSelection();b._select(c.item.data("ui-selectmenu-item"),a)},focus:function(a,c){var d=c.item.data("ui-selectmenu-item");if(b.focusIndex!=null&&d.index!==b.focusIndex){b._trigger("focus",a,{item:d});if(!b.isOpen){b._select(d,a)}}b.focusIndex=d.index;b.button.attr("aria-activedescendant",b.menuItems.eq(d.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));if(this.options.width===null){this._resizeButton()}},_refreshMenu:function(){var a,b=this.element.find("option");this.menu.empty();this._parseOptions(b);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!b.length){return}a=this._getSelectedItem();this.menuInstance.focus(null,a);this._setAria(a.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))},open:function(a){if(this.options.disabled){return}if(!this._rendered){this._refreshMenu()}else{this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem())}if(!this.menuItems.length){return}this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",a)},_position:function(){this.menuWrap.position(a.extend({of:this.button},this.options.position))},close:function(a){if(!this.isOpen){return}this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",a)},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(b){var c=a("<span>");this._setText(c,b.label);this._addClass(c,"ui-selectmenu-text");return c},_renderMenu:function(b,c){var d=this,e="";a.each(c,function(c,f){var g;if(f.optgroup!==e){g=a("<li>",{text:f.optgroup});d._addClass(g,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));g.appendTo(b);e=f.optgroup}d._renderItemData(b,f)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(b,c){var d=a("<li>"),e=a("<div>",{title:c.element.attr("title")});if(c.disabled){this._addClass(d,null,"ui-state-disabled")}this._setText(e,c.label);return d.append(e).appendTo(b)},_setText:function(a,b){if(b){a.text(b)}else{a.html("&#160;")}},_move:function(a,b){var c,d,e=".ui-menu-item";if(this.isOpen){c=this.menuItems.eq(this.focusIndex).parent("li")}else{c=this.menuItems.eq(this.element[0].selectedIndex).parent("li");e+=":not(.ui-state-disabled)"}if(a==="first"||a==="last"){d=c[a==="first"?"prevAll":"nextAll"](e).eq(-1)}else{d=c[a+"All"](e).eq(0)}if(d.length){this.menuInstance.focus(b,d)}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;if(!this.range){return}if(window.getSelection){a=window.getSelection();a.removeAllRanges();a.addRange(this.range)}else{this.range.select()}this.button.focus()},_documentClick:{mousedown:function(b){if(!this.isOpen){return}if(!a(b.target).closest(".ui-selectmenu-menu, #"+a.ui.escapeSelector(this.ids.button)).length){this.close(b)}}},_buttonEvents:{mousedown:function(){var a;if(window.getSelection){a=window.getSelection();if(a.rangeCount){this.range=a.getRangeAt(0)}}else{this.range=document.selection.createRange()}},click:function(a){this._setSelection();this._toggle(a)},keydown:function(b){var c=true;switch(b.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(b);c=false;break;case a.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(b)}break;case a.ui.keyCode.UP:if(b.altKey){this._toggle(b)}else{this._move("prev",b)}break;case a.ui.keyCode.DOWN:if(b.altKey){this._toggle(b)}else{this._move("next",b)}break;case a.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(b)}else{this._toggle(b)}break;case a.ui.keyCode.LEFT:this._move("prev",b);break;case a.ui.keyCode.RIGHT:this._move("next",b);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",b);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b);c=false}if(c){b.preventDefault()}}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex).parent("li");if(!b.hasClass("ui-state-disabled")){this._select(b.data("ui-selectmenu-item"),a)}},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(a));this._setAria(a);this._trigger("select",b,{item:a});if(a.index!==c){this._trigger("change",b,{item:a})}this.close(b)},_setAria:function(a){var b=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":b,"aria-activedescendant":b});this.menu.attr("aria-activedescendant",b)},_setOption:function(a,b){if(a==="icons"){var c=this.button.find("span.ui-icon");this._removeClass(c,null,this.options.icons.button)._addClass(c,null,b.button)}this._super(a,b);if(a==="appendTo"){this.menuWrap.appendTo(this._appendTo())}if(a==="width"){this._resizeButton()}},_setOptionDisabled:function(a){this._super(a);this.menuInstance.option("disabled",a);this.button.attr("aria-disabled",a);this._toggleClass(this.button,null,"ui-state-disabled",a);this.element.prop("disabled",a);if(a){this.button.attr("tabindex",-1);this.close()}else{this.button.attr("tabindex",0)}},_appendTo:function(){var b=this.options.appendTo;if(b){b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)}if(!b||!b[0]){b=this.element.closest(".ui-front, dialog")}if(!b.length){b=this.document[0].body;
}return b},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;if(a===false){this.button.css("width","");return}if(a===null){a=this.element.show().outerWidth();this.element.hide()}this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var a=this._super();a.disabled=this.element.prop("disabled");return a},_parseOptions:function(b){var c=this,d=[];b.each(function(b,e){d.push(c._parseOption(a(e),b))});this.items=d},_parseOption:function(a,b){var c=a.parent("optgroup");return{element:a,index:b,value:a.val(),label:a.text(),optgroup:c.attr("label")||"",disabled:c.prop("disabled")||a.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);var ma=a.widget("ui.slider",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle"),f="<span tabindex='0'></span>",g=[];c=d.values&&d.values.length||1;if(e.length>c){e.slice(c).remove();e=e.slice(0,c)}for(b=e.length;b<c;b++){g.push(f)}this.handles=e.add(a(g.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b).attr("tabIndex",0)})},_createRange:function(){var b=this.options;if(b.range){if(b.range===true){if(!b.values){b.values=[this._valueMin(),this._valueMin()]}else if(b.values.length&&b.values.length!==2){b.values=[b.values[0],b.values[0]]}else if(a.isArray(b.values)){b.values=b.values.slice(0)}}if(!this.range||!this.range.length){this.range=a("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range")}else{this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({left:"",bottom:""})}if(b.range==="min"||b.range==="max"){this._addClass(this.range,"ui-slider-range-"+b.range)}}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;if(l.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c={x:b.pageX,y:b.pageY};d=this._normValueFromMouse(c);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(b){var c=Math.abs(d-k.values(b));if(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min)){e=c;f=a(this);g=b}});h=this._start(b,g);if(h===false){return false}this._mouseSliding=true;this._handleIndex=g;this._addClass(f,null,"ui-state-active");f.trigger("focus");i=f.offset();j=!a(b.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(b,g,d)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);this._slide(a,this._handleIndex,c);return false},_mouseStop:function(a){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;if(this.orientation==="horizontal"){b=this.elementSize.width;c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{b=this.elementSize.height;c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}d=c/b;if(d>1){d=1}if(d<0){d=0}if(this.orientation==="vertical"){d=1-d}e=this._valueMax()-this._valueMin();f=this._valueMin()+d*e;return this._trimAlignValue(f)},_uiHash:function(a,b,c){var d={handle:this.handles[a],handleIndex:a,value:b!==undefined?b:this.value()};if(this._hasMultipleValues()){d.value=b!==undefined?b:this.values(a);d.values=c||this.values()}return d},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,b){return this._trigger("start",a,this._uiHash(b))},_slide:function(a,b,c){var d,e,f=this.value(),g=this.values();if(this._hasMultipleValues()){e=this.values(b?0:1);f=this.values(b);if(this.options.values.length===2&&this.options.range===true){c=b===0?Math.min(e,c):Math.max(e,c)}g[b]=c}if(c===f){return}d=this._trigger("slide",a,this._uiHash(b,c,g));if(d===false){return}if(this._hasMultipleValues()){this.values(b,c)}else{this.value(c)}},_stop:function(a,b){this._trigger("stop",a,this._uiHash(b))},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=b;this._trigger("change",a,this._uiHash(b))}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a);this._refreshValue();this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c);this._refreshValue();this._change(null,b);return}if(arguments.length){if(a.isArray(arguments[0])){d=this.options.values;e=arguments[0];for(f=0;f<d.length;f+=1){d[f]=this._trimAlignValue(e[f]);this._change(null,f)}this._refreshValue()}else{if(this._hasMultipleValues()){return this._values(b)}else{return this.value()}}}else{return this._values()}},_setOption:function(b,c){var d,e=0;if(b==="range"&&this.options.range===true){if(c==="min"){this.options.value=this._values(0);this.options.values=null}else if(c==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}if(a.isArray(this.options.values)){e=this.options.values.length}this._super(b,c);switch(b){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(c)}this.handles.css(c==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=e-1;d>=0;d--){this._change(null,d)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_setOptionDisabled:function(a){this._super(a);this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;a=this._trimAlignValue(a);return a},_values:function(a){var b,c,d;if(arguments.length){b=this.options.values[a];b=this._trimAlignValue(b);return b}else if(this._hasMultipleValues()){c=this.options.values.slice();for(d=0;d<c.length;d+=1){c[d]=this._trimAlignValue(c[d])}return c}else{return[]}},_trimAlignValue:function(a){if(a<=this._valueMin()){return this._valueMin()}if(a>=this._valueMax()){return this._valueMax()}var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;if(Math.abs(c)*2>=b){d+=c>0?b:-b}return parseFloat(d.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,d=Math.round((a-b)/c)*c;a=d+b;if(a>this.options.max){a-=c}this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);if(this.options.min!==null){a=Math.max(a,this._precisionOf(this.options.min))}return a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){if(a==="vertical"){this.range.css({width:"",left:""})}if(a==="horizontal"){this.range.css({height:"",bottom:""})}},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=!this._animateOff?h.animate:false,k={};if(this._hasMultipleValues()){this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100;k[i.orientation==="horizontal"?"left":"bottom"]=c+"%";a(this).stop(1,1)[j?"animate":"css"](k,h.animate);if(i.options.range===true){if(i.orientation==="horizontal"){if(d===0){i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate)}if(d===1){i.range[j?"animate":"css"]({width:c-b+"%"},{queue:false,duration:h.animate})}}else{if(d===0){i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate)}if(d===1){i.range[j?"animate":"css"]({height:c-b+"%"},{queue:false,duration:h.animate})}}}b=c})}else{d=this.value();e=this._valueMin();f=this._valueMax();c=f!==e?(d-e)/(f-e)*100:0;k[this.orientation==="horizontal"?"left":"bottom"]=c+"%";this.handle.stop(1,1)[j?"animate":"css"](k,h.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range.stop(1,1)[j?"animate":"css"]({width:100-c+"%"},h.animate)}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate)}if(g==="max"&&this.orientation==="vertical"){this.range.stop(1,1)[j?"animate":"css"]({height:100-c+"%"},h.animate)}}},_handleEvents:{keydown:function(b){var c,d,e,f,g=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:b.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass(a(b.target),null,"ui-state-active");c=this._start(b,g);if(c===false){return}}break}f=this.options.step;if(this._hasMultipleValues()){d=e=this.values(g)}else{d=e=this.value()}switch(b.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(d+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(d-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(d===this._valueMax()){return}e=this._trimAlignValue(d+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d===this._valueMin()){return}e=this._trimAlignValue(d-f);break}this._slide(b,g,e)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(b,c);this._change(b,c);this._removeClass(a(b.target),null,"ui-state-active")}}}});var na=a.widget("ui.sortable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(a,b){this._super(a,b);if(a==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){var b=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");a.each(this.items,function(){b._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(b,c){var d=null,e=false,f=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,f.widgetName+"-item")===f){d=a(this);return false}});if(a.data(b.target,f.widgetName+"-item")===f){d=a(b.target)}if(!d){return false}if(this.options.handle&&!c){a(this.options.handle,d).find("*").addBack().each(function(){if(this===b.target){e=true}});if(!e){return false}}this.currentItem=d;this._removeCurrentsFromItems();return true},_mouseStart:function(b,c,d){var e,f,g=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(g.containment){this._setContainment()}if(g.cursor&&g.cursor!=="auto"){f=this.document.find("body");this.storedCursor=f.css("cursor");f.css("cursor",g.cursor);this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)}if(g.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",b,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!d){for(e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("activate",b,this._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(b);return true},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=false;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity){this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed}else if(b.pageY-this.overflowOffset.top<g.scrollSensitivity){this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity){this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed}else if(b.pageX-this.overflowOffset.left<g.scrollSensitivity){this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed}}else{if(b.pageY-this.document.scrollTop()<g.scrollSensitivity){h=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed)}else if(this.window.height()-(b.pageY-this.document.scrollTop())<g.scrollSensitivity){h=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed)}if(b.pageX-this.document.scrollLeft()<g.scrollSensitivity){h=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed)}else if(this.window.width()-(b.pageX-this.document.scrollLeft())<g.scrollSensitivity){h=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed)}}if(h!==false&&a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,b)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(c=this.items.length-1;c>=0;c--){d=this.items[c];e=d.item[0];f=this._intersectsWithPointer(d);if(!f){continue}if(d.instance!==this.currentContainer){continue}if(e!==this.currentItem[0]&&this.placeholder[f===1?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&(this.options.type==="semi-dynamic"?!a.contains(this.element[0],e):true)){this.direction=f===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(d)){this._rearrange(b,d)}else{break}this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,b)}this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(b,c){if(!b){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,b)}if(this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};if(!f||f==="x"){g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!f||f==="y"){g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else{this._clear(b,c)}return false},cancel:function(){if(this.dragging){this._mouseUp(new a.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",null,this._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,this._uiHash(this));this.containers[b].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);if(c){d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}});if(!d.length&&b.key){d.push(b.key+"=")}return d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")});return d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=this.options.axis==="x"||d+j>h&&d+j<i,m=this.options.axis==="y"||b+k>f&&b+k<g,n=l&&m;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]){return n}else{return f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i}},_intersectsWithPointer:function(a){var b,c,d=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),e=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),f=d&&e;if(!f){return false}b=this._getDragVerticalDirection();c=this._getDragHorizontalDirection();return this.floating?c==="right"||b==="down"?2:1:b&&(b==="down"?2:1)},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),c=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();if(this.floating&&e){return e==="right"&&c||e==="left"&&!c}else{return d&&(d==="down"&&b||d==="up"&&!b)}},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!==0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!==0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c,d,e,f,g=[],h=[],i=this._connectWith();if(i&&b){for(c=i.length-1;c>=0;c--){e=a(i[c],this.document[0]);for(d=e.length-1;d>=0;d--){f=a.data(e[d],this.widgetFullName);if(f&&f!==this&&!f.options.disabled){h.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f])}}}}h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function j(){g.push(this)}for(c=h.length-1;c>=0;c--){h[c][0].each(j)}return a(g)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++){if(b[c]===a.item[0]){return false}}return true})},_refreshItems:function(b){this.items=[];this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready){for(c=m.length-1;c>=0;c--){e=a(m[c],this.document[0]);for(d=e.length-1;d>=0;d--){f=a.data(e[d],this.widgetFullName);if(f&&f!==this&&!f.options.disabled){l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]);this.containers.push(f)}}}}for(c=l.length-1;c>=0;c--){g=l[c][1];h=l[c][0];for(d=0,j=h.length;d<j;d++){i=a(h[d]);i.data(this.widgetName+"-item",g);k.push({item:i,instance:g,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var c,d,e,f;for(c=this.items.length-1;c>=0;c--){d=this.items[c];if(d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]){continue}e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;if(!b){d.width=e.outerWidth();d.height=e.outerHeight()}f=e.offset();d.left=f.left;d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(c=this.containers.length-1;c>=0;c--){f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left;this.containers[c].containerCache.top=f.top;this.containers[c].containerCache.width=this.containers[c].element.outerWidth();this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}}return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;if(!d.placeholder||d.placeholder.constructor===String){c=d.placeholder;d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]);b._addClass(e,"ui-sortable-placeholder",c||b.currentItem[0].className)._removeClass(e,"ui-sortable-helper");if(d==="tbody"){b._createTrPlaceholder(b.currentItem.find("tr").eq(0),a("<tr>",b.document[0]).appendTo(e))}else if(d==="tr"){b._createTrPlaceholder(b.currentItem,e)}else if(d==="img"){e.attr("src",b.currentItem.attr("src"))}if(!c){e.css("visibility","hidden")}return e},update:function(a,e){if(c&&!d.forcePlaceholderSize){return}if(!e.height()){e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10))}if(!e.width()){e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}}b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);d.placeholder.update(b,b.placeholder)},_createTrPlaceholder:function(b,c){var d=this;b.children().each(function(){a("<td>&#160;</td>",d.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(b){var c,d,e,f,g,h,i,j,k,l,m=null,n=null;for(c=this.containers.length-1;c>=0;c--){if(a.contains(this.currentItem[0],this.containers[c].element[0])){continue}if(this._intersectsWith(this.containers[c].containerCache)){if(m&&a.contains(this.containers[c].element[0],m.element[0])){continue}m=this.containers[c];n=c}else{if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",b,this._uiHash(this));this.containers[c].containerCache.over=0}}}if(!m){return}if(this.containers.length===1){if(!this.containers[n].containerCache.over){this.containers[n]._trigger("over",b,this._uiHash(this));this.containers[n].containerCache.over=1}}else{e=1e4;f=null;k=m.floating||this._isFloating(this.currentItem);g=k?"left":"top";h=k?"width":"height";l=k?"pageX":"pageY";for(d=this.items.length-1;d>=0;d--){if(!a.contains(this.containers[n].element[0],this.items[d].item[0])){continue}if(this.items[d].item[0]===this.currentItem[0]){continue}i=this.items[d].item.offset()[g];j=false;if(b[l]-i>this.items[d][h]/2){j=true}if(Math.abs(b[l]-i)<e){e=Math.abs(b[l]-i);f=this.items[d];this.direction=j?"up":"down"}}if(!f&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[n]){if(!this.currentContainer.containerCache.over){this.containers[n]._trigger("over",b,this._uiHash());this.currentContainer.containerCache.over=1}return}f?this._rearrange(b,f,null,true):this._rearrange(b,null,this.containers[n].element,true);this._trigger("change",b,this._uiHash());this.containers[n]._trigger("change",b,this._uiHash(this));this.currentContainer=this.containers[n];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",b,this._uiHash(this));this.containers[n].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper==="clone"?this.currentItem.clone():this.currentItem;if(!d.parents("body").length){a(c.appendTo!=="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0])}if(d[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!d[0].style.width||c.forceHelperSize){d.width(this.currentItem.width())}if(!d[0].style.height||c.forceHelperSize){d.height(this.currentItem.height())}return d},_adjustOffsetFromHelper:function(b){if(typeof b==="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left"in b){this.offset.click.left=b.left+this.margins.left}if("right"in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top"in b){this.offset.click.top=b.top+this.margins.top}if("bottom"in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&a.ui.ie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;if(e.containment==="parent"){e.containment=this.helper[0].parentNode}if(e.containment==="document"||e.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(e.containment==="document"?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)){b=a(e.containment)[0];c=a(e.containment).offset();d=a(b).css("overflow")!=="hidden";this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];
}},_convertPositionTo:function(b,c){if(!c){c=this.position}var d=b==="absolute"?1:-1,e=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=/(html|body)/i.test(h[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0]){f=this.containment[0]+this.offset.click.left}if(b.pageY-this.offset.click.top<this.containment[1]){g=this.containment[1]+this.offset.click.top}if(b.pageX-this.offset.click.left>this.containment[2]){f=this.containment[2]+this.offset.click.left}if(b.pageY-this.offset.click.top>this.containment[3]){g=this.containment[3]+this.offset.click.top}}if(e.grid){c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1];g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c;d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0];f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?b.item[0]:b.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){if(e===this.counter){this.refreshPositions(!d)}})},_clear:function(a,b){this.reverting=false;var c,d=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(c in this._storedCSS){if(this._storedCSS[c]==="auto"||this._storedCSS[c]==="static"){this._storedCSS[c]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!b){d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!b){d.push(function(a){this._trigger("update",a,this._uiHash())})}if(this!==this.currentContainer){if(!b){d.push(function(a){this._trigger("remove",a,this._uiHash())});d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer));d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer))}}function e(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}for(c=this.containers.length-1;c>=0;c--){if(!b){d.push(e("deactivate",this,this.containers[c]))}if(this.containers[c].containerCache.over){d.push(e("out",this,this.containers[c]));this.containers[c].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!b){this._trigger("beforeStop",a,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!b){for(c=0;c<d.length;c++){d[c].call(this,a)}this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return!this.cancelHelperRemoval},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});function oa(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();if(b!==this.element.val()){this._trigger("change")}}}a.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true)}this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b=this._super();var c=this.element;a.each(["min","max","step"],function(a,d){var e=c.attr(d);if(e!=null&&e.length){b[d]=e}});return b},_events:{keydown:function(a){if(this._start(a)&&this._keydown(a)){a.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",a)}},mousewheel:function(a,b){if(!b){return}if(!this.spinning&&!this._start(a)){return false}this._spin((b>0?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(a)}},100);a.preventDefault()},"mousedown .ui-spinner-button":function(b){var c;c=this.element[0]===a.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function d(){var b=this.element[0]===a.ui.safeActiveElement(this.document[0]);if(!b){this.element.trigger("focus");this.previous=c;this._delay(function(){this.previous=c})}}b.preventDefault();d.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;d.call(this)});if(this._start(b)===false){return}this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(!a(b.currentTarget).hasClass("ui-state-active")){return}if(this._start(b)===false){return false}this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:false});this.buttons.last().button({icon:this.options.icons.down,showLabel:false});if(this.buttons.height()>Math.ceil(this.uiSpinner.height()*.5)&&this.uiSpinner.height()>0){this.uiSpinner.height(this.uiSpinner.height())}},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:this._repeat(null,1,b);return true;case d.DOWN:this._repeat(null,-1,b);return true;case d.PAGE_UP:this._repeat(null,c.page,b);return true;case d.PAGE_DOWN:this._repeat(null,-c.page,b);return true}return false},_start:function(a){if(!this.spinning&&this._trigger("start",a)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(a,b,c){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,b,c)},a);this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;if(!this.counter){this.counter=1}c=this._adjustValue(c+a*this._increment(this.counter));if(!this.spinning||this._trigger("spin",b,{value:c})!==false){this._value(c);this.counter++}},_increment:function(b){var c=this.options.incremental;if(c){return a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1)}return 1},_precision:function(){var a=this._precisionOf(this.options.step);if(this.options.min!==null){a=Math.max(a,this._precisionOf(this.options.min))}return a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return c===-1?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;b=d.min!==null?d.min:0;c=a-b;c=Math.round(c/d.step)*d.step;a=b+c;a=parseFloat(a.toFixed(this._precision()));if(d.max!==null&&a>d.max){return d.max}if(d.min!==null&&a<d.min){return d.min}return a},_stop:function(a){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",a)},_setOption:function(a,b){var c,d,e;if(a==="culture"||a==="numberFormat"){c=this._parse(this.element.val());this.options[a]=b;this.element.val(this._format(c));return}if(a==="max"||a==="min"||a==="step"){if(typeof b==="string"){b=this._parse(b)}}if(a==="icons"){d=this.buttons.first().find(".ui-icon");this._removeClass(d,null,this.options.icons.up);this._addClass(d,null,b.up);e=this.buttons.last().find(".ui-icon");this._removeClass(e,null,this.options.icons.down);this._addClass(e,null,b.down)}this._super(a,b)},_setOptionDisabled:function(a){this._super(a);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!a);this.element.prop("disabled",!!a);this.buttons.button(a?"disable":"enable")},_setOptions:oa(function(a){this._super(a)}),_parse:function(a){if(typeof a==="string"&&a!==""){a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a}return a===""||isNaN(a)?null:a},_format:function(a){if(a===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();if(a===null){return false}return a===this._adjustValue(a)},_value:function(a,b){var c;if(a!==""){c=this._parse(a);if(c!==null){if(!b){c=this._adjustValue(c)}a=this._format(c)}}this.element.val(a);this._refresh()},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:oa(function(a){this._stepUp(a)}),_stepUp:function(a){if(this._start()){this._spin((a||1)*this.options.step);this._stop()}},stepDown:oa(function(a){this._stepDown(a)}),_stepDown:function(a){if(this._start()){this._spin((a||1)*-this.options.step);this._stop()}},pageUp:oa(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:oa(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length){return this._parse(this.element.val())}oa(this._value).call(this,a)},widget:function(){return this.uiSpinner}});if(a.uiBackCompat!==false){a.widget("ui.spinner",a.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}})}var pa=a.ui.spinner;a.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;c=b.href.replace(a,"");d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(a){}try{d=decodeURIComponent(d)}catch(a){}return b.hash.length>1&&c===d}}(),_create:function(){var b=this,c=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,c.collapsible);this._processTabs();c.active=this._initialActive();if(a.isArray(c.disabled)){c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(c.active)}else{this.active=a()}this._refresh();if(this.active.length){this.load(c.active)}},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);if(b===null){if(d){this.tabs.each(function(c,e){if(a(e).attr("aria-controls")===d){b=c;return false}})}if(b===null){b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(b===null||b===-1){b=this.tabs.length?0:false}}if(b!==false){b=this.tabs.index(this.tabs.eq(b));if(b===-1){b=c?false:0}}if(!c&&b===false&&this.anchors.length){b=0}return b},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?a():this._getPanelForTab(this.active)}},_tabKeydown:function(b){var c=a(a.ui.safeActiveElement(this.document[0])).closest("li"),d=this.tabs.index(c),e=true;if(this._handlePageNav(b)){return}switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=false;d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:b.preventDefault();clearTimeout(this.activating);this._activate(d);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(d===this.options.active?false:d);return;default:return}b.preventDefault();clearTimeout(this.activating);d=this._focusNextTab(d,e);if(!b.ctrlKey&&!b.metaKey){c.attr("aria-selected","false");this.tabs.eq(d).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",d)},this.delay)}},_panelKeydown:function(b){if(this._handlePageNav(b)){return}if(b.ctrlKey&&b.keyCode===a.ui.keyCode.UP){b.preventDefault();this.active.trigger("focus")}},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(b,c){var d=this.tabs.length-1;function e(){if(b>d){b=0}if(b<0){b=d}return b}while(a.inArray(e(),this.options.disabled)!==-1){b=c?b+1:b-1}return b},_focusNextTab:function(a,b){a=this._findNextTab(a,b);this.tabs.eq(a).trigger("focus");return a},_setOption:function(a,b){if(a==="active"){this._activate(b);return}this._super(a,b);if(a==="collapsible"){this._toggleClass("ui-tabs-collapsible",null,b);if(!b&&this.options.active===false){this._activate(0)}}if(a==="event"){this._setupEvents(b)}if(a==="heightStyle"){this._setupHeightStyle(b)}},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)});this._processTabs();if(b.active===false||!this.anchors.length){b.active=false;this.active=a()}else if(this.active.length&&!a.contains(this.tablist[0],this.active[0])){if(this.tabs.length===b.disabled.length){b.active=false;this.active=a()}else{this._activate(this._findNextTab(Math.max(0,b.active-1),false))}}else{b.active=this.tabs.index(this.active)}this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(b){if(a(this).is(".ui-state-disabled")){b.preventDefault()}}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){if(a(this).closest("li").is(".ui-state-disabled")){this.blur()}});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return a("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=a();this.anchors.each(function(c,d){var e,f,g,h=a(d).uniqueId().attr("id"),i=a(d).closest("li"),j=i.attr("aria-controls");if(b._isLocal(d)){e=d.hash;g=e.substring(1);f=b.element.find(b._sanitizeSelector(e))}else{g=i.attr("aria-controls")||a({}).uniqueId()[0].id;e="#"+g;f=b.element.find(e);if(!f.length){f=b._createPanel(g);f.insertAfter(b.panels[c-1]||b.tablist)}f.attr("aria-live","polite")}if(f.length){b.panels=b.panels.add(f)}if(j){i.data("ui-tabs-aria-controls",j)}i.attr({"aria-controls":g,"aria-labelledby":h});f.attr("aria-labelledby",h)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(c){this._off(c.not(this.tabs));this._off(d.not(this.anchors));this._off(e.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).data("ui-tabs-destroy",true)},_setOptionDisabled:function(b){var c,d,e;if(a.isArray(b)){if(!b.length){b=false}else if(b.length===this.anchors.length){b=true}}for(e=0;d=this.tabs[e];e++){c=a(d);if(b===true||a.inArray(e,b)!==-1){c.attr("aria-disabled","true");this._addClass(c,null,"ui-state-disabled")}else{c.removeAttr("aria-disabled");this._removeClass(c,null,"ui-state-disabled")}}this.options.disabled=b;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,b===true)},_setupEvents:function(b){var c={};if(b){a.each(b.split(" "),function(a,b){c[b]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,c);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();if(b==="fill"){c=d.height();c-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");if(d==="absolute"||d==="fixed"){return}c-=b.outerHeight(true)});this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(true)});this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else if(b==="auto"){c=0;this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c)}},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=!d.length?a():this._getPanelForTab(d),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault();if(f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===false){return}c.active=h?false:this.tabs.index(f);this.active=g?a():f;if(this.xhr){this.xhr.abort()}if(!j.length&&!i.length){a.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(i.length){this.load(this.tabs.index(f),b)}this._toggle(b,k)},_toggle:function(b,c){var d=this,e=c.newPanel,f=c.oldPanel;this.running=true;function g(){d.running=false;d._trigger("activate",b,c)}function h(){d._addClass(c.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(e.length&&d.options.show){d._show(e,d.options.show,g)}else{e.show();g()}}if(f.length&&this.options.hide){this._hide(f,this.options.hide,function(){d._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active");h()})}else{this._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active");f.hide();h()}f.attr("aria-hidden","true");c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(e.length&&f.length){c.oldTab.attr("tabIndex",-1)}else if(e.length){this.tabs.filter(function(){return a(this).attr("tabIndex")===0}).attr("tabIndex",-1)}e.attr("aria-hidden","false");c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);if(d[0]===this.active[0]){return}if(!d.length){d=this.active}c=d.find(".ui-tabs-anchor")[0];this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop})},_findActive:function(b){return b===false?a():this.tabs.eq(b)},_getIndex:function(b){if(typeof b==="string"){b=this.anchors.index(this.anchors.filter("[href$='"+a.ui.escapeSelector(b)+"']"))}return b},_destroy:function(){if(this.xhr){this.xhr.abort()}this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(a.data(this,"ui-tabs-destroy")){a(this).remove()}else{a(this).removeAttr("role tabIndex "+"aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}});this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");if(c){b.attr("aria-controls",c).removeData("ui-tabs-aria-controls")}else{b.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(b){var c=this.options.disabled;if(c===false){return}if(b===undefined){c=false}else{b=this._getIndex(b);if(a.isArray(c)){c=a.map(c,function(a){return a!==b?a:null})}else{c=a.map(this.tabs,function(a,c){return c!==b?c:null})}}this._setOptionDisabled(c)},disable:function(b){var c=this.options.disabled;if(c===true){return}if(b===undefined){c=true}else{b=this._getIndex(b);if(a.inArray(b,c)!==-1){return}if(a.isArray(c)){c=a.merge([b],c).sort()}else{c=[b]}}this._setOptionDisabled(c)},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),f=e.find(".ui-tabs-anchor"),g=this._getPanelForTab(e),h={tab:e,panel:g},i=function(a,b){if(b==="abort"){d.panels.stop(false,true)}d._removeClass(e,"ui-tabs-loading");g.removeAttr("aria-busy");if(a===d.xhr){delete d.xhr}};if(this._isLocal(f[0])){return}this.xhr=a.ajax(this._ajaxSettings(f,c,h));if(this.xhr&&this.xhr.statusText!=="canceled"){this._addClass(e,"ui-tabs-loading");g.attr("aria-busy","true");this.xhr.done(function(a,b,e){setTimeout(function(){g.html(a);d._trigger("load",c,h);i(e,b)},1)}).fail(function(a,b){setTimeout(function(){i(a,b)},1)})}},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href").replace(/#.*$/,""),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}});if(a.uiBackCompat!==false){a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}})}var qa=a.ui.tabs;a.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c);b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))},_removeDescribedBy:function(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);if(e!==-1){d.splice(e,1)}b.removeData("ui-tooltip-id");d=a.trim(d.join(" "));if(d){b.attr("aria-describedby",d)}else{b.removeAttr("aria-describedby")}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=a([])},_setOption:function(b,c){var d=this;this._super(b,c);if(b==="content"){a.each(this.tooltips,function(a,b){d._updateContent(b.element)})}},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d.element[0];b.close(e,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var b=a(this);if(b.is("[title]")){return b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")}}))},_enable:function(){this.disabledTitles.each(function(){var b=a(this);if(b.data("ui-tooltip-title")){b.attr("title",b.data("ui-tooltip-title"))}});this.disabledTitles=a([])},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);if(!d.length||d.data("ui-tooltip-id")){return}if(d.attr("title")){d.data("ui-tooltip-title",d.attr("title"))}d.data("ui-tooltip-open",true);if(b&&b.type==="mouseover"){d.parents().each(function(){var b=a(this),d;if(b.data("ui-tooltip-open")){d=a.Event("blur");d.target=d.currentTarget=this;c.close(d,true)}if(b.attr("title")){b.uniqueId();c.parents[this.id]={element:this,title:b.attr("title")};b.attr("title","")}})}this._registerCloseHandlers(b,d);this._updateContent(d,b)},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;if(typeof d==="string"||d.nodeType||d.jquery){return this._open(b,a,d)}c=d.call(a[0],function(c){e._delay(function(){if(!a.data("ui-tooltip-open")){return}if(b){b.type=f}this._open(b,a,c)})});if(c){this._open(b,a,c)}},_open:function(b,c,d){var e,f,g,h,i=a.extend({},this.options.position);if(!d){return}e=this._find(c);if(e){e.tooltip.find(".ui-tooltip-content").html(d);return}if(c.is("[title]")){if(b&&b.type==="mouseover"){c.attr("title","")}else{c.removeAttr("title")}}e=this._tooltip(c);f=e.tooltip;this._addDescribedBy(c,f.attr("id"));f.find(".ui-tooltip-content").html(d);this.liveRegion.children().hide();h=a("<div>").html(f.find(".ui-tooltip-content").html());h.removeAttr("name").find("[name]").removeAttr("name");h.removeAttr("id").find("[id]").removeAttr("id");h.appendTo(this.liveRegion);function j(a){i.of=a;if(f.is(":hidden")){return}f.position(i)}if(this.options.track&&b&&/^mouse/.test(b.type)){this._on(this.document,{mousemove:j});j(b)}else{f.position(a.extend({of:c},this.options.position))}f.hide();this._show(f,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){g=this.delayedShow=setInterval(function(){if(f.is(":visible")){j(i.of);clearInterval(g)}},a.fx.interval)}this._trigger("open",b,{tooltip:f})},_registerCloseHandlers:function(b,c){var d={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var d=a.Event(b);d.currentTarget=c[0];this.close(d,true)}}};if(c[0]!==this.element[0]){d.remove=function(){this._removeTooltip(this._find(c).tooltip)}}if(!b||b.type==="mouseover"){d.mouseleave="close"}if(!b||b.type==="focusin"){d.focusout="close"}this._on(true,c,d)},close:function(b){var c,d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);if(!f){e.removeData("ui-tooltip-open");return}c=f.tooltip;if(f.closing){return}clearInterval(this.delayedShow);if(e.data("ui-tooltip-title")&&!e.attr("title")){e.attr("title",e.data("ui-tooltip-title"))}this._removeDescribedBy(e);f.hiding=true;c.stop(true);this._hide(c,this.options.hide,function(){d._removeTooltip(a(this))});e.removeData("ui-tooltip-open");this._off(e,"mouseleave focusout keyup");if(e[0]!==this.element[0]){this._off(e,"remove")}this._off(this.document,"mousemove");if(b&&b.type==="mouseleave"){a.each(this.parents,function(b,c){a(c.element).attr("title",c.title);delete d.parents[b]})}f.closing=true;this._trigger("close",b,{tooltip:c});if(!f.hiding){f.closing=false}},_tooltip:function(b){var c=a("<div>").attr("role","tooltip"),d=a("<div>").appendTo(c),e=c.uniqueId().attr("id");this._addClass(d,"ui-tooltip-content");this._addClass(c,"ui-tooltip","ui-widget ui-widget-content");c.appendTo(this._appendTo(b));return this.tooltips[e]={element:b,tooltip:c}},_find:function(a){var b=a.data("ui-tooltip-id");return b?this.tooltips[b]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_appendTo:function(a){var b=a.closest(".ui-front, dialog");if(!b.length){b=this.document[0].body}return b},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur"),f=d.element;e.target=e.currentTarget=f[0];b.close(e,true);a("#"+c).remove();if(f.data("ui-tooltip-title")){if(!f.attr("title")){f.attr("title",f.data("ui-tooltip-title"))}f.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});if(a.uiBackCompat!==false){a.widget("ui.tooltip",a.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);if(this.options.tooltipClass){a.tooltip.addClass(this.options.tooltipClass)}return a}})}var ra=a.ui.tooltip});/**
 * @license AngularJS v1.7.8
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(a){"use strict";var b={objectMaxDepth:5,urlErrorParamsEnabled:true};function c(a){if(O(a)){if(N(a.objectMaxDepth)){b.objectMaxDepth=d(a.objectMaxDepth)?a.objectMaxDepth:NaN}if(N(a.urlErrorParamsEnabled)&&aa(a.urlErrorParamsEnabled)){b.urlErrorParamsEnabled=a.urlErrorParamsEnabled}}else{return b}}function d(a){return R(a)&&a>0}function e(a,c){c=c||Error;var d="https://errors.angularjs.org/1.7.8/";var e=d.replace(".","\\.")+"[\\s\\S]*";var f=new RegExp(e,"g");return function(){var e=arguments[0],g=arguments[1],h="["+(a?a+":":"")+e+"] ",i=sa(arguments,2).map(function(a){return hb(a,b.objectMaxDepth)}),j,k;h+=g.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);if(b<i.length){return i[b].replace(f,"")}return a});h+="\n"+d+(a?a+"/":"")+e;if(b.urlErrorParamsEnabled){for(k=0,j="?";k<i.length;k++,j="&"){h+=j+"p"+k+"="+encodeURIComponent(i[k])}}return new c(h)}}var f=/^\/(.+)\/([a-z]*)$/;var g="validity";var h=Object.prototype.hasOwnProperty;var i=function(a){return Q(a)?a.toLowerCase():a};var j=function(a){return Q(a)?a.toUpperCase():a};var k,l,m,n=[].slice,o=[].splice,p=[].push,q=Object.prototype.toString,r=Object.getPrototypeOf,s=e("ng"),t=a.angular||(a.angular={}),u,v=0;k=a.document.documentMode;function w(a){if(a==null||X(a))return false;if(T(a)||Q(a)||l&&a instanceof l)return true;var b="length"in Object(a)&&a.length;return R(b)&&(b>=0&&b-1 in a||typeof a.item==="function")}function x(a,b,c){var d,e;if(a){if(V(a)){for(d in a){if(d!=="prototype"&&d!=="length"&&d!=="name"&&a.hasOwnProperty(d)){b.call(c,a[d],d,a)}}}else if(T(a)||w(a)){var f=typeof a!=="object";for(d=0,e=a.length;d<e;d++){if(f||d in a){b.call(c,a[d],d,a)}}}else if(a.forEach&&a.forEach!==x){a.forEach(b,c,a)}else if(P(a)){for(d in a){b.call(c,a[d],d,a)}}else if(typeof a.hasOwnProperty==="function"){for(d in a){if(a.hasOwnProperty(d)){b.call(c,a[d],d,a)}}}else{for(d in a){if(h.call(a,d)){b.call(c,a[d],d,a)}}}}return a}function y(a,b,c){var d=Object.keys(a).sort();for(var e=0;e<d.length;e++){b.call(c,a[d[e]],d[e])}return d}function z(a){return function(b,c){a(c,b)}}function A(){return++v}function B(a,b){if(b){a.$$hashKey=b}else{delete a.$$hashKey}}function C(a,b,c){var d=a.$$hashKey;for(var e=0,f=b.length;e<f;++e){var g=b[e];if(!O(g)&&!V(g))continue;var h=Object.keys(g);for(var i=0,j=h.length;i<j;i++){var k=h[i];var l=g[k];if(c&&O(l)){if(S(l)){a[k]=new Date(l.valueOf())}else if(W(l)){a[k]=new RegExp(l)}else if(l.nodeName){a[k]=l.cloneNode(true)}else if(ha(l)){a[k]=l.clone()}else{if(!O(a[k]))a[k]=T(l)?[]:{};C(a[k],[l],true)}}else{a[k]=l}}}B(a,d);return a}function D(a){return C(a,n.call(arguments,1),false)}function E(a){return C(a,n.call(arguments,1),true)}function F(a){return parseInt(a,10)}var G=Number.isNaN||function a(b){return b!==b};function H(a,b){return D(Object.create(a),b)}function I(){}I.$inject=[];function J(a){return a}J.$inject=[];function K(a){return function b(){return a}}function L(a){return V(a.toString)&&a.toString!==q}function M(a){return typeof a==="undefined"}function N(a){return typeof a!=="undefined"}function O(a){return a!==null&&typeof a==="object"}function P(a){return a!==null&&typeof a==="object"&&!r(a)}function Q(a){return typeof a==="string"}function R(a){return typeof a==="number"}function S(a){return q.call(a)==="[object Date]"}function T(a){return Array.isArray(a)||a instanceof Array}function U(a){var b=q.call(a);switch(b){case"[object Error]":return true;case"[object Exception]":return true;case"[object DOMException]":return true;default:return a instanceof Error}}function V(a){return typeof a==="function"}function W(a){return q.call(a)==="[object RegExp]"}function X(a){return a&&a.window===a}function Y(a){return a&&a.$evalAsync&&a.$watch}function Z(a){return q.call(a)==="[object File]"}function $(a){return q.call(a)==="[object FormData]"}function _(a){return q.call(a)==="[object Blob]"}function aa(a){return typeof a==="boolean"}function ba(a){return a&&V(a.then)}var ca=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function da(a){return a&&R(a.length)&&ca.test(q.call(a))}function ea(a){return q.call(a)==="[object ArrayBuffer]"}var fa=function(a){return Q(a)?a.trim():a};var ga=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function ha(a){return!!(a&&(a.nodeName||a.prop&&a.attr&&a.find))}function ia(a){var b={},c=a.split(","),d;for(d=0;d<c.length;d++){b[c[d]]=true}return b}function ja(a){return i(a.nodeName||a[0]&&a[0].nodeName)}function ka(a,b){return Array.prototype.indexOf.call(a,b)!==-1}function la(a,b){var c=a.indexOf(b);if(c>=0){a.splice(c,1)}return c}function ma(a,b,c){var e=[];var f=[];c=d(c)?c:NaN;if(b){if(da(b)||ea(b)){throw s("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(a===b){throw s("cpi","Can't copy! Source and destination are identical.")}if(T(b)){b.length=0}else{x(b,function(a,c){if(c!=="$$hashKey"){delete b[c]}})}e.push(a);f.push(b);return g(a,b,c)}return i(a,c);function g(a,b,c){c--;if(c<0){return"..."}var d=b.$$hashKey;var e;if(T(a)){for(var f=0,g=a.length;f<g;f++){b.push(i(a[f],c))}}else if(P(a)){for(e in a){b[e]=i(a[e],c)}}else if(a&&typeof a.hasOwnProperty==="function"){for(e in a){if(a.hasOwnProperty(e)){b[e]=i(a[e],c)}}}else{for(e in a){if(h.call(a,e)){b[e]=i(a[e],c)}}}B(b,d);return b}function i(a,b){if(!O(a)){return a}var c=e.indexOf(a);if(c!==-1){return f[c]}if(X(a)||Y(a)){throw s("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}var d=false;var h=j(a);if(h===undefined){h=T(a)?[]:Object.create(r(a));d=true}e.push(a);f.push(h);return d?g(a,h,b):h}function j(a){switch(q.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(i(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);new Uint8Array(b).set(new Uint8Array(a));return b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);c.lastIndex=a.lastIndex;return c;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(V(a.cloneNode)){return a.cloneNode(true)}}}function na(a,b){return a===b||a!==a&&b!==b}function oa(a,b){if(a===b)return true;if(a===null||b===null)return false;if(a!==a&&b!==b)return true;var c=typeof a,d=typeof b,e,f,g;if(c===d&&c==="object"){if(T(a)){if(!T(b))return false;if((e=a.length)===b.length){for(f=0;f<e;f++){if(!oa(a[f],b[f]))return false}return true}}else if(S(a)){if(!S(b))return false;return na(a.getTime(),b.getTime())}else if(W(a)){if(!W(b))return false;return a.toString()===b.toString()}else{if(Y(a)||Y(b)||X(a)||X(b)||T(b)||S(b)||W(b))return false;g=Ya();for(f in a){if(f.charAt(0)==="$"||V(a[f]))continue;if(!oa(a[f],b[f]))return false;g[f]=true}for(f in b){if(!(f in g)&&f.charAt(0)!=="$"&&N(b[f])&&!V(b[f]))return false}return true}}return false}var pa=function(){if(!N(pa.rules)){var b=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(b){var c=b.getAttribute("ng-csp")||b.getAttribute("data-ng-csp");pa.rules={noUnsafeEval:!c||c.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!c||c.indexOf("no-inline-style")!==-1}}else{pa.rules={noUnsafeEval:d(),noInlineStyle:false}}}return pa.rules;function d(){try{new Function("");return false}catch(a){return true}}};var qa=function(){if(N(qa.name_))return qa.name_;var b;var c,d=Ha.length,e,f;for(c=0;c<d;++c){e=Ha[c];b=a.document.querySelector("["+e.replace(":","\\:")+"jq]");if(b){f=b.getAttribute(e+"jq");break}}return qa.name_=f};function ra(a,b,c){return a.concat(n.call(b,c))}function sa(a,b){return n.call(a,b||0)}function ta(a,b){var c=arguments.length>2?sa(arguments,2):[];if(V(b)&&!(b instanceof RegExp)){return c.length?function(){return arguments.length?b.apply(a,ra(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}else{return b}}function ua(b,c){var d=c;if(typeof b==="string"&&b.charAt(0)==="$"&&b.charAt(1)==="$"){d=undefined}else if(X(c)){d="$WINDOW"}else if(c&&a.document===c){d="$DOCUMENT"}else if(Y(c)){d="$SCOPE"}return d}function va(a,b){if(M(a))return undefined;if(!R(b)){b=b?2:null}return JSON.stringify(a,ua,b)}function wa(a){return Q(a)?JSON.parse(a):a}var xa=/:/g;function ya(a,b){a=a.replace(xa,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return G(c)?b:c}function za(a,b){a=new Date(a.getTime());a.setMinutes(a.getMinutes()+b);return a}function Aa(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset();var e=ya(b,d);return za(a,c*(e-d))}function Ba(a){a=l(a).clone().empty();var b=l("<div></div>").append(a).html();try{return a[0].nodeType===ab?i(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+i(b)})}catch(a){return i(b)}}function Ca(a){try{return decodeURIComponent(a)}catch(a){}}function Da(a){var b={};x((a||"").split("&"),function(a){var c,d,e;if(a){d=a=a.replace(/\+/g,"%20");c=a.indexOf("=");if(c!==-1){d=a.substring(0,c);e=a.substring(c+1)}d=Ca(d);if(N(d)){e=N(e)?Ca(e):true;if(!h.call(b,d)){b[d]=e}else if(T(b[d])){b[d].push(e)}else{b[d]=[b[d],e]}}}});return b}function Ea(a){var b=[];x(a,function(a,c){if(T(a)){x(a,function(a){b.push(Ga(c,true)+(a===true?"":"="+Ga(a,true)))})}else{b.push(Ga(c,true)+(a===true?"":"="+Ga(a,true)))}});return b.length?b.join("&"):""}function Fa(a){return Ga(a,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ga(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}var Ha=["ng-","data-ng-","ng:","x-ng-"];function Ia(a,b){var c,d,e=Ha.length;for(d=0;d<e;++d){c=Ha[d]+b;if(Q(c=a.getAttribute(c))){return c}}return null}function Ja(b){var c=b.currentScript;if(!c){return true}if(!(c instanceof a.HTMLScriptElement||c instanceof a.SVGScriptElement)){return false}var d=c.attributes;var e=[d.getNamedItem("src"),d.getNamedItem("href"),d.getNamedItem("xlink:href")];return e.every(function(a){if(!a){return true}if(!a.value){return false}var c=b.createElement("a");c.href=a.value;if(b.location.origin===c.origin){return true}switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return true;default:return false}})}var Ka=Ja(a.document);function La(b,c){var d,e,f={};x(Ha,function(a){var c=a+"app";if(!d&&b.hasAttribute&&b.hasAttribute(c)){d=b;e=b.getAttribute(c)}});x(Ha,function(a){var c=a+"app";var f;if(!d&&(f=b.querySelector("["+c.replace(":","\\:")+"]"))){d=f;e=f.getAttribute(c)}});if(d){if(!Ka){a.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates "+"an extension, document.location.href does not match.");return}f.strictDi=Ia(d,"strict-di")!==null;c(d,e?[e]:[],f)}}function Ma(b,c,d){if(!O(d))d={};var e={strictDi:false};d=D(e,d);var f=function(){b=l(b);if(b.injector()){var e=b[0]===a.document?"document":Ba(b);throw s("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[];c.unshift(["$provide",function(a){a.value("$rootElement",b)}]);if(d.debugInfoEnabled){c.push(["$compileProvider",function(a){a.debugInfoEnabled(true)}])}c.unshift("ng");var f=wc(c,d.strictDi);f.invoke(["$rootScope","$rootElement","$compile","$injector",function a(b,c,d,e){b.$apply(function(){c.data("$injector",e);d(c)(b)})}]);return f};var g=/^NG_ENABLE_DEBUG_INFO!/;var h=/^NG_DEFER_BOOTSTRAP!/;if(a&&g.test(a.name)){d.debugInfoEnabled=true;a.name=a.name.replace(g,"")}if(a&&!h.test(a.name)){return f()}a.name=a.name.replace(h,"");t.resumeBootstrap=function(a){x(a,function(a){c.push(a)});return f()};if(V(t.resumeDeferredBootstrap)){t.resumeDeferredBootstrap()}}function Na(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name;a.location.reload()}function Oa(a){var b=t.element(a).injector();if(!b){throw s("test","no injector found for element argument to getTestability")}return b.get("$$testability")}var Pa=/[A-Z]/g;function Qa(a,b){b=b||"_";return a.replace(Pa,function(a,c){return(c?b:"")+a.toLowerCase()})}var Ra=false;function Sa(){var b;if(Ra){return}var c=qa();m=M(c)?a.jQuery:!c?undefined:a[c];if(m&&m.fn.on){l=m;D(m.fn,{scope:Zb.scope,isolateScope:Zb.isolateScope,controller:Zb.controller,injector:Zb.injector,inheritedData:Zb.inheritedData})}else{l=Gb}b=l.cleanData;l.cleanData=function(a){var c;for(var d=0,e;(e=a[d])!=null;d++){c=(l._data(e)||{}).events;if(c&&c.$destroy){l(e).triggerHandler("$destroy")}}b(a)};t.element=l;Ra=true}function Ta(a,b,c){if(!a){throw s("areq","Argument '{0}' is {1}",b||"?",c||"required")}return a}function Ua(a,b,c){if(c&&T(a)){a=a[a.length-1]}Ta(V(a),b,"not a function, got "+(a&&typeof a==="object"?a.constructor.name||"Object":typeof a));return a}function Va(a,b){if(a==="hasOwnProperty"){throw s("badname","hasOwnProperty is not a valid {0} name",b)}}function Wa(a,b,c){if(!b)return a;var d=b.split(".");var e;var f=a;var g=d.length;for(var h=0;h<g;h++){e=d[h];if(a){a=(f=a)[e]}}if(!c&&V(a)){return ta(f,a)}return a}function Xa(a){var b=a[0];var c=a[a.length-1];var d;for(var e=1;b!==c&&(b=b.nextSibling);e++){if(d||a[e]!==b){if(!d){d=l(n.call(a,0,e))}d.push(b)}}return d||a}function Ya(){return Object.create(null)}function Za(a){if(a==null){return""}switch(typeof a){case"string":break;case"number":a=""+a;break;default:if(L(a)&&!T(a)&&!S(a)){a=a.toString()}else{a=va(a)}}return a}var $a=1;var _a=2;var ab=3;var bb=8;var cb=9;var db=11;function eb(a){var b=e("$injector");var c=e("ng");function d(a,b,c){return a[b]||(a[b]=c())}var f=d(a,"angular",Object);f.$$minErr=f.$$minErr||e;return d(f,"module",function(){var a={};return function e(f,g,h){var i={};var j=function(a,b){if(a==="hasOwnProperty"){throw c("badname","hasOwnProperty is not a valid {0} name",b)}};j(f,"module");if(g&&a.hasOwnProperty(f)){a[f]=null}return d(a,f,function(){if(!g){throw b("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",f)}var a=[];var d=[];var e=[];var j=l("$injector","invoke","push",d);var k={_invokeQueue:a,_configBlocks:d,_runBlocks:e,info:function(a){if(N(a)){if(!O(a))throw c("aobj","Argument '{0}' must be an object","value");i=a;return this}return i},requires:g,name:f,provider:m("$provide","provider"),factory:m("$provide","factory"),service:m("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:m("$provide","decorator",d),animation:m("$animateProvider","register"),filter:m("$filterProvider","register"),controller:m("$controllerProvider","register"),directive:m("$compileProvider","directive"),component:m("$compileProvider","component"),config:j,run:function(a){e.push(a);return this}};if(h){j(h)}return k;function l(b,c,d,e){if(!e)e=a;return function(){e[d||"push"]([b,c,arguments]);return k}}function m(b,c,d){if(!d)d=a;return function(a,e){if(e&&V(e))e.$$moduleName=f;d.push([b,c,arguments]);return k}}})}})}function fb(a,b){if(T(a)){b=b||[];for(var c=0,d=a.length;c<d;c++){b[c]=a[c]}}else if(O(a)){b=b||{};for(var e in a){if(!(e.charAt(0)==="$"&&e.charAt(1)==="$")){b[e]=a[e]}}}return b||a}function gb(a,b){var c=[];if(d(b)){a=t.copy(a,null,b)}return JSON.stringify(a,function(a,b){b=ua(a,b);if(O(b)){if(c.indexOf(b)>=0)return"...";c.push(b)}return b})}function hb(a,b){if(typeof a==="function"){return a.toString().replace(/ \{[\s\S]*$/,"")}else if(M(a)){return"undefined"}else if(typeof a!=="string"){return gb(a,b)}return a}var ib={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};function jb(b){D(b,{errorHandlingConfig:c,bootstrap:Ma,copy:ma,extend:D,merge:E,equals:oa,element:l,forEach:x,injector:wc,noop:I,bind:ta,toJson:va,fromJson:wa,identity:J,isUndefined:M,isDefined:N,isString:Q,isFunction:V,isObject:O,isNumber:R,isElement:ha,isArray:T,version:ib,isDate:S,callbacks:{$$counter:0},getTestability:Oa,reloadWithDebugInfo:Na,$$minErr:e,$$csp:pa,$$encodeUriSegment:Fa,$$encodeUriQuery:Ga,$$lowercase:i,$$stringify:Za,$$uppercase:j});u=eb(a);u("ng",["ngLocale"],["$provide",function a(b){b.provider({$$sanitizeUri:Ie});b.provider("$compile",Uc).directive({a:Tf,input:Jg,textarea:Jg,form:_f,script:Mh,select:Qh,option:Rh,ngBind:Ng,ngBindHtml:Pg,ngBindTemplate:Og,ngClass:Sg,ngClassEven:Ug,ngClassOdd:Tg,ngCloak:Vg,ngController:Wg,ngForm:ag,ngHide:Fh,ngIf:$g,ngInclude:_g,ngInit:bh,ngNonBindable:uh,ngPluralize:yh,ngRef:Ah,ngRepeat:Bh,ngShow:Eh,ngStyle:Gh,ngSwitch:Hh,ngSwitchWhen:Ih,ngSwitchDefault:Jh,ngOptions:xh,ngTransclude:Lh,ngModel:oh,ngList:ch,ngChange:Qg,pattern:Th,ngPattern:Th,required:Sh,ngRequired:Sh,minlength:Vh,ngMinlength:Vh,maxlength:Uh,ngMaxlength:Uh,ngValue:Mg,ngModelOptions:sh}).directive({ngInclude:ah,input:Kg}).directive(Uf).directive(Xg);b.provider({$anchorScroll:xc,$animate:Hc,$animateCss:Kc,$$animateJs:Fc,$$animateQueue:Gc,$$AnimateRunner:Jc,$$animateAsyncRun:Ic,$browser:Oc,$cacheFactory:Pc,$controller:ed,$document:fd,$$isDocumentHidden:gd,$exceptionHandler:hd,$filter:lf,$$forceReflow:id,$interpolate:Dd,$interval:Fd,$$intervalFactory:Gd,$http:yd,$httpParamSerializer:qd,$httpParamSerializerJQLike:rd,$httpBackend:Ad,$xhrFactory:zd,$jsonpCallbacks:Hd,$location:ae,$log:be,$parse:ze,$rootScope:He,$q:Ae,$$q:Be,$sce:Qe,$sceDelegate:Pe,$sniffer:Re,$$taskTrackerFactory:Se,$templateCache:Qc,$templateRequest:Ve,$$testability:We,$timeout:Ye,$window:hf,$$rAF:Ge,$$jqLite:gc,$$Map:lc,$$cookieReader:kf})}]).info({angularVersion:"1.7.8"})}Gb.expando="ng339";var kb=Gb.cache={},lb=1;Gb._data=function(a){return this.cache[a[this.expando]]||{}};function mb(){return++lb}var nb=/-([a-z])/g;var ob=/^-ms-/;var pb={mouseleave:"mouseout",mouseenter:"mouseover"};var qb=e("jqLite");function rb(a){return tb(a.replace(ob,"ms-"))}function sb(a,b){return b.toUpperCase()}function tb(a){return a.replace(nb,sb)}var ub=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var vb=/<|&#?\w+;/;var wb=/<([\w:-]+)/;var xb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var yb={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yb.optgroup=yb.option;yb.tbody=yb.tfoot=yb.colgroup=yb.caption=yb.thead;yb.th=yb.td;function zb(a){return!vb.test(a)}function Ab(a){var b=a.nodeType;return b===$a||!b||b===cb}function Bb(a){for(var b in kb[a.ng339]){return true}return false}function Cb(a,b){var c,d,e,f=b.createDocumentFragment(),g=[],h;if(zb(a)){g.push(b.createTextNode(a))}else{c=f.appendChild(b.createElement("div"));d=(wb.exec(a)||["",""])[1].toLowerCase();e=yb[d]||yb._default;c.innerHTML=e[1]+a.replace(xb,"<$1></$2>")+e[2];h=e[0];while(h--){c=c.lastChild}g=ra(g,c.childNodes);c=f.firstChild;c.textContent=""}f.textContent="";f.innerHTML="";x(g,function(a){f.appendChild(a)});return f}function Db(b,c){c=c||a.document;var d;if(d=ub.exec(b)){return[c.createElement(d[1])]}if(d=Cb(b,c)){return d.childNodes}return[]}function Eb(a,b){var c=a.parentNode;if(c){c.replaceChild(b,a)}b.appendChild(a)}var Fb=a.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)};function Gb(a){if(a instanceof Gb){return a}var b;if(Q(a)){a=fa(a);b=true}if(!(this instanceof Gb)){if(b&&a.charAt(0)!=="<"){throw qb("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new Gb(a)}if(b){Sb(this,Db(a))}else if(V(a)){Yb(a)}else{Sb(this,a)}}function Hb(a){return a.cloneNode(true)}function Ib(a,b){if(!b&&Ab(a))l.cleanData([a]);if(a.querySelectorAll){l.cleanData(a.querySelectorAll("*"))}}function Jb(a){var b;for(b in a){return false}return true}function Kb(a){var b=a.ng339;var c=b&&kb[b];var d=c&&c.events;var e=c&&c.data;if((!e||Jb(e))&&(!d||Jb(d))){delete kb[b];a.ng339=undefined}}function Lb(a,b,c,d){if(N(d))throw qb("offargs","jqLite#off() does not support the `selector` argument");var e=Nb(a);var f=e&&e.events;var g=e&&e.handle;if(!g)return;if(!b){for(b in f){if(b!=="$destroy"){a.removeEventListener(b,g)}delete f[b]}}else{var h=function(b){var d=f[b];if(N(c)){la(d||[],c)}if(!(N(c)&&d&&d.length>0)){a.removeEventListener(b,g);delete f[b]}};x(b.split(" "),function(a){h(a);if(pb[a]){h(pb[a])}})}Kb(a)}function Mb(a,b){var c=a.ng339;var d=c&&kb[c];if(d){if(b){delete d.data[b]}else{d.data={}}Kb(a)}}function Nb(a,b){var c=a.ng339,d=c&&kb[c];if(b&&!d){a.ng339=c=mb();d=kb[c]={events:{},data:{},handle:undefined}}return d}function Ob(a,b,c){if(Ab(a)){var d;var e=N(c);var f=!e&&b&&!O(b);var g=!b;var h=Nb(a,!f);var i=h&&h.data;if(e){i[tb(b)]=c}else{if(g){return i}else{if(f){return i&&i[tb(b)]}else{for(d in b){i[tb(d)]=b[d]}}}}}}function Pb(a,b){if(!a.getAttribute)return false;return(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function Qb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var d=c;x(b.split(" "),function(a){a=fa(a);d=d.replace(" "+a+" "," ")});if(d!==c){a.setAttribute("class",fa(d))}}}function Rb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var d=c;x(b.split(" "),function(a){a=fa(a);if(d.indexOf(" "+a+" ")===-1){d+=a+" "}});if(d!==c){a.setAttribute("class",fa(d))}}}function Sb(a,b){if(b){if(b.nodeType){a[a.length++]=b}else{var c=b.length;if(typeof c==="number"&&b.window!==b){if(c){for(var d=0;d<c;d++){a[a.length++]=b[d]}}}else{a[a.length++]=b}}}}function Tb(a,b){return Ub(a,"$"+(b||"ngController")+"Controller")}function Ub(a,b,c){if(a.nodeType===cb){a=a.documentElement}var d=T(b)?b:[b];while(a){for(var e=0,f=d.length;e<f;e++){if(N(c=l.data(a,d[e])))return c}a=a.parentNode||a.nodeType===db&&a.host}}function Vb(a){Ib(a,true);while(a.firstChild){a.removeChild(a.firstChild)}}function Wb(a,b){if(!b)Ib(a);var c=a.parentNode;if(c)c.removeChild(a)}function Xb(b,c){c=c||a;if(c.document.readyState==="complete"){c.setTimeout(b)}else{l(c).on("load",b)}}function Yb(b){function c(){a.document.removeEventListener("DOMContentLoaded",c);a.removeEventListener("load",c);b()}if(a.document.readyState==="complete"){a.setTimeout(b)}else{a.document.addEventListener("DOMContentLoaded",c);a.addEventListener("load",c)}}var Zb=Gb.prototype={ready:Yb,toString:function(){var a=[];x(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return a>=0?l(this[a]):l(this[this.length+a])},length:0,push:p,sort:[].sort,splice:[].splice};var $b={};x("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){$b[i(a)]=a});var _b={};x("input,select,option,textarea,button,form,details".split(","),function(a){_b[a]=true});var ac={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function bc(a,b){var c=$b[b.toLowerCase()];return c&&_b[ja(a)]&&c}function cc(a){return ac[a]}x({data:Ob,removeData:Mb,hasData:Bb,cleanData:function a(b){for(var c=0,d=b.length;c<d;c++){Mb(b[c]);Lb(b[c])}}},function(a,b){Gb[b]=a});x({data:Ob,inheritedData:Ub,scope:function(a){return l.data(a,"$scope")||Ub(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return l.data(a,"$isolateScope")||l.data(a,"$isolateScopeNoTemplate")},controller:Tb,injector:function(a){return Ub(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Pb,css:function(a,b,c){b=rb(b);if(N(c)){a.style[b]=c}else{return a.style[b]}},attr:function(a,b,c){var d;var e=a.nodeType;if(e===ab||e===_a||e===bb||!a.getAttribute){return}var f=i(b);var g=$b[f];if(N(c)){if(c===null||c===false&&g){a.removeAttribute(b)}else{a.setAttribute(b,g?f:c)}}else{d=a.getAttribute(b);if(g&&d!==null){d=f}return d===null?undefined:d}},prop:function(a,b,c){if(N(c)){a[b]=c}else{return a[b]}},text:function(){a.$dv="";return a;function a(a,b){if(M(b)){var c=a.nodeType;return c===$a||c===ab?a.textContent:""}a.textContent=b}}(),val:function(a,b){if(M(b)){if(a.multiple&&ja(a)==="select"){var c=[];x(a.options,function(a){if(a.selected){c.push(a.value||a.text)}});return c}return a.value}a.value=b},html:function(a,b){if(M(b)){return a.innerHTML}Ib(a,true);a.innerHTML=b},empty:Vb},function(a,b){Gb.prototype[b]=function(b,c){var d,e;var f=this.length;if(a!==Vb&&M(a.length===2&&(a!==Pb&&a!==Tb)?b:c)){if(O(b)){for(d=0;d<f;d++){if(a===Ob){a(this[d],b)}else{for(e in b){a(this[d],e,b[e])}}}return this}else{var g=a.$dv;var h=M(g)?Math.min(f,1):f;for(var i=0;i<h;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}}else{for(d=0;d<f;d++){a(this[d],b,c)}return this}}});function dc(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type];var f=e?e.length:0;if(!f)return;if(M(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=true;if(c.stopPropagation){c.stopPropagation()}if(g){g.call(c)}}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===true};var h=e.specialHandlerWrapper||ec;if(f>1){e=fb(e)}for(var i=0;i<f;i++){if(!c.isImmediatePropagationStopped()){h(a,c,e[i])}}};c.elem=a;return c}function ec(a,b,c){c.call(a,b)}function fc(a,b,c){var d=b.relatedTarget;if(!d||d!==a&&!Fb.call(a,d)){c.call(a,b)}}x({removeData:Mb,on:function a(b,c,d,e){if(N(e))throw qb("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!Ab(b)){return}var f=Nb(b,true);var g=f.events;var h=f.handle;if(!h){h=f.handle=dc(b,g)}var i=c.indexOf(" ")>=0?c.split(" "):[c];var j=i.length;var k=function(a,c,e){var f=g[a];if(!f){f=g[a]=[];f.specialHandlerWrapper=c;if(a!=="$destroy"&&!e){b.addEventListener(a,h)}}f.push(d)};while(j--){c=i[j];if(pb[c]){k(pb[c],fc);k(c,undefined,true)}else{k(c)}}},off:Lb,one:function(a,b,c){a=l(a);a.on(b,function d(){a.off(b,c);a.off(b,d)});a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;Ib(a);x(new Gb(b),function(b){if(c){d.insertBefore(b,c.nextSibling)}else{d.replaceChild(b,a)}c=b})},children:function(a){var b=[];x(a.childNodes,function(a){if(a.nodeType===$a){b.push(a)}});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c!==$a&&c!==db)return;b=new Gb(b);for(var d=0,e=b.length;d<e;d++){var f=b[d];a.appendChild(f)}},prepend:function(a,b){if(a.nodeType===$a){var c=a.firstChild;x(new Gb(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Eb(a,l(b).eq(0).clone()[0])},remove:Wb,detach:function(a){Wb(a,true)},after:function(a,b){var c=a,d=a.parentNode;if(d){b=new Gb(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];d.insertBefore(g,c.nextSibling);c=g}}},addClass:Rb,removeClass:Qb,toggleClass:function(a,b,c){if(b){x(b.split(" "),function(b){var d=c;if(M(d)){d=!Pb(a,b)}(d?Rb:Qb)(a,b)})}},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==db?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){if(a.getElementsByTagName){return a.getElementsByTagName(b)}else{return[]}},clone:Hb,triggerHandler:function(a,b,c){var d,e,f;var g=b.type||b;var h=Nb(a);var i=h&&h.events;var j=i&&i[g];if(j){d={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:I,type:g,target:a};if(b.type){d=D(d,b)}e=fb(j);f=c?[d].concat(c):[d];x(e,function(b){if(!d.isImmediatePropagationStopped()){b.apply(a,f)}})}}},function(a,b){Gb.prototype[b]=function(b,c,d){var e;for(var f=0,g=this.length;f<g;f++){if(M(e)){e=a(this[f],b,c,d);if(N(e)){e=l(e)}}else{Sb(e,a(this[f],b,c,d))}}return N(e)?e:this}});Gb.prototype.bind=Gb.prototype.on;Gb.prototype.unbind=Gb.prototype.off;function gc(){this.$get=function a(){return D(Gb,{hasClass:function(a,b){if(a.attr)a=a[0];return Pb(a,b)},addClass:function(a,b){if(a.attr)a=a[0];return Rb(a,b)},removeClass:function(a,b){if(a.attr)a=a[0];return Qb(a,b)}})}}function hc(a,b){var c=a&&a.$$hashKey;if(c){if(typeof c==="function"){c=a.$$hashKey()}return c}var d=typeof a;if(d==="function"||d==="object"&&a!==null){c=a.$$hashKey=d+":"+(b||A)()}else{c=d+":"+a}return c}var ic=Object.create(null);function jc(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}jc.prototype={_idx:function(a){if(a!==this._lastKey){this._lastKey=a;this._lastIndex=this._keys.indexOf(a)}return this._lastIndex},_transformKey:function(a){return G(a)?ic:a},get:function(a){a=this._transformKey(a);var b=this._idx(a);if(b!==-1){return this._values[b]}},has:function(a){a=this._transformKey(a);var b=this._idx(a);return b!==-1},set:function(a,b){a=this._transformKey(a);var c=this._idx(a);if(c===-1){c=this._lastIndex=this._keys.length}this._keys[c]=a;this._values[c]=b},delete:function(a){a=this._transformKey(a);var b=this._idx(a);if(b===-1){return false}this._keys.splice(b,1);this._values.splice(b,1);this._lastKey=NaN;this._lastIndex=-1;return true}};var kc=jc;var lc=[function(){this.$get=[function(){return kc}]}];var mc=/^([^(]+?)=>/;var nc=/^[^(]*\(\s*([^)]*)\)/m;var oc=/,/;var pc=/^\s*(_?)(\S+?)\1\s*$/;var qc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var rc=e("$injector");function sc(a){return Function.prototype.toString.call(a)}function tc(a){var b=sc(a).replace(qc,""),c=b.match(mc)||b.match(nc);return c}function uc(a){var b=tc(a);if(b){return"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function vc(a,b,c){var d,e,f;if(typeof a==="function"){if(!(d=a.$inject)){d=[];if(a.length){if(b){if(!Q(c)||!c){c=a.name||uc(a)}throw rc("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c)}e=tc(a);x(e[1].split(oc),function(a){a.replace(pc,function(a,b,c){d.push(c)})})}a.$inject=d}}else if(T(a)){f=a.length-1;Ua(a[f],"fn");d=a.slice(0,f)}else{Ua(a,"fn",true)}return d}function wc(a,b){b=b===true;var c={},d="Provider",e=[],f=new kc,g={$provide:{provider:n(o),factory:n(q),service:n(r),value:n(s),constant:n(v),decorator:w}},h=g.$injector=A(g,function(a,b){if(t.isString(b)){e.push(b)}throw rc("unpr","Unknown provider: {0}",e.join(" <- "))}),i={},j=A(i,function(a,b){var c=h.get(a+d,b);return l.invoke(c.$get,c,undefined,a)}),l=j;g["$injector"+d]={$get:K(j)};l.modules=h.modules=Ya();var m=y(a);l=j.get("$injector");l.strictDi=b;x(m,function(a){if(a)l.invoke(a)});l.loadNewModules=function(a){x(y(a),function(a){if(a)l.invoke(a)})};return l;function n(a){return function(b,c){if(O(b)){x(b,z(a))}else{return a(b,c)}}}function o(a,b){Va(a,"service");if(V(b)||T(b)){b=h.instantiate(b)}if(!b.$get){throw rc("pget","Provider '{0}' must define $get factory method.",a)}return g[a+d]=b}function p(a,b){return function c(){var d=l.invoke(b,this);if(M(d)){throw rc("undef","Provider '{0}' must return a value from $get factory method.",a)}return d}}function q(a,b,c){return o(a,{$get:c!==false?p(a,b):b})}function r(a,b){return q(a,["$injector",function(a){return a.instantiate(b)}])}function s(a,b){return q(a,K(b),false)}function v(a,b){Va(a,"constant");g[a]=b;i[a]=b}function w(a,b){var c=h.get(a+d),e=c.$get;c.$get=function(){var a=l.invoke(e,c);return l.invoke(b,null,{$delegate:a})}}function y(a){Ta(M(a)||T(a),"modulesToLoad","not an array");var b=[],c;x(a,function(a){if(f.get(a))return;f.set(a,true);function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var d=a[b],e=h.get(d[0]);e[d[1]].apply(e,d[2])}}try{if(Q(a)){c=u(a);l.modules[a]=c;b=b.concat(y(c.requires)).concat(c._runBlocks);d(c._invokeQueue);d(c._configBlocks)}else if(V(a)){b.push(h.invoke(a))}else if(T(a)){b.push(h.invoke(a))}else{Ua(a,"module")}}catch(b){if(T(a)){a=a[a.length-1]}if(b.message&&b.stack&&b.stack.indexOf(b.message)===-1){b=b.message+"\n"+b.stack}throw rc("modulerr","Failed to instantiate module {0} due to:\n{1}",a,b.stack||b.message||b);
}});return b}function A(a,f){function h(b,d){if(a.hasOwnProperty(b)){if(a[b]===c){throw rc("cdep","Circular dependency found: {0}",b+" <- "+e.join(" <- "))}return a[b]}else{try{e.unshift(b);a[b]=c;a[b]=f(b,d);return a[b]}catch(d){if(a[b]===c){delete a[b]}throw d}finally{e.shift()}}}function i(a,c,d){var e=[],f=wc.$$annotate(a,b,d);for(var g=0,i=f.length;g<i;g++){var j=f[g];if(typeof j!=="string"){throw rc("itkn","Incorrect injection token! Expected service name as string, got {0}",j)}e.push(c&&c.hasOwnProperty(j)?c[j]:h(j,d))}return e}function j(a){if(k||typeof a!=="function"){return false}var b=a.$$ngIsClass;if(!aa(b)){b=a.$$ngIsClass=/^class\b/.test(sc(a))}return b}function l(a,b,c,d){if(typeof c==="string"){d=c;c=null}var e=i(a,c,d);if(T(a)){a=a[a.length-1]}if(!j(a)){return a.apply(b,e)}else{e.unshift(null);return new(Function.prototype.bind.apply(a,e))}}function m(a,b,c){var d=T(a)?a[a.length-1]:a;var e=i(a,b,c);e.unshift(null);return new(Function.prototype.bind.apply(d,e))}return{invoke:l,instantiate:m,get:h,annotate:wc.$$annotate,has:function(b){return g.hasOwnProperty(b+d)||a.hasOwnProperty(b)}}}}wc.$$annotate=vc;function xc(){var a=true;this.disableAutoScrolling=function(){a=false};this.$get=["$window","$location","$rootScope",function(b,c,d){var e=b.document;function f(a){var b=null;Array.prototype.some.call(a,function(a){if(ja(a)==="a"){b=a;return true}});return b}function g(){var a=i.yOffset;if(V(a)){a=a()}else if(ha(a)){var c=a[0];var d=b.getComputedStyle(c);if(d.position!=="fixed"){a=0}else{a=c.getBoundingClientRect().bottom}}else if(!R(a)){a=0}return a}function h(a){if(a){a.scrollIntoView();var c=g();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else{b.scrollTo(0,0)}}function i(a){a=Q(a)?a:R(a)?a.toString():c.hash();var b;if(!a)h(null);else if(b=e.getElementById(a))h(b);else if(b=f(e.getElementsByName(a)))h(b);else if(a==="top")h(null)}if(a){d.$watch(function a(){return c.hash()},function a(b,c){if(b===c&&b==="")return;Xb(function(){d.$evalAsync(i)})})}return i}]}var yc=e("$animate");var zc=1;var Ac="ng-animate";function Bc(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;if(T(a))a=a.join(" ");if(T(b))b=b.join(" ");return a+" "+b}function Cc(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===zc){return c}}}function Dc(a){if(Q(a)){a=a.split(" ")}var b=Ya();x(a,function(a){if(a.length){b[a]=true}});return b}function Ec(a){return O(a)?a:{}}var Fc=function(){this.$get=I};var Gc=function(){var a=new kc;var b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){return{enabled:I,on:I,off:I,pin:I,push:function(a,b,d,e){if(e){e()}d=d||{};if(d.from){a.css(d.from)}if(d.to){a.css(d.to)}if(d.addClass||d.removeClass){g(a,d.addClass,d.removeClass)}var f=new c;f.complete();return f}};function e(a,b,c){var d=false;if(b){b=Q(b)?b.split(" "):T(b)?b:[];x(b,function(b){if(b){d=true;a[b]=c}})}return d}function f(){x(b,function(b){var c=a.get(b);if(c){var d=Dc(b.attr("class"));var e="";var f="";x(c,function(a,b){var c=!!d[b];if(a!==c){if(a){e+=(e.length?" ":"")+b}else{f+=(f.length?" ":"")+b}}});x(b,function(a){if(e){Rb(a,e)}if(f){Qb(a,f)}});a.delete(b)}});b.length=0}function g(c,g,h){var i=a.get(c)||{};var j=e(i,g,true);var k=e(i,h,false);if(j||k){a.set(c,i);b.push(c);if(b.length===1){d.$$postDigest(f)}}}}]};var Hc=["$provide",function(a){var b=this;var c=null;var d=null;this.$$registeredAnimations=Object.create(null);this.register=function(c,d){if(c&&c.charAt(0)!=="."){throw yc("notcsel","Expecting class selector starting with '.' got '{0}'.",c)}var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e;a.factory(e,d)};this.customFilter=function(a){if(arguments.length===1){d=V(a)?a:null}return d};this.classNameFilter=function(a){if(arguments.length===1){c=a instanceof RegExp?a:null;if(c){var b=new RegExp("[(\\s|\\/)]"+Ac+"[(\\s|\\/)]");if(b.test(c.toString())){c=null;throw yc("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ac)}}}return c};this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=Cc(c);if(d&&!d.parentNode&&!d.previousElementSibling){c=null}}if(c){c.after(a)}else{b.prepend(a)}}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){if(a.cancel){a.cancel()}},enter:function(c,d,e,f){d=d&&l(d);e=e&&l(e);d=d||e.parent();b(c,d,e);return a.push(c,"enter",Ec(f))},move:function(c,d,e,f){d=d&&l(d);e=e&&l(e);d=d||e.parent();b(c,d,e);return a.push(c,"move",Ec(f))},leave:function(b,c){return a.push(b,"leave",Ec(c),function(){b.remove()})},addClass:function(b,c,d){d=Ec(d);d.addClass=Bc(d.addclass,c);return a.push(b,"addClass",d)},removeClass:function(b,c,d){d=Ec(d);d.removeClass=Bc(d.removeClass,c);return a.push(b,"removeClass",d)},setClass:function(b,c,d,e){e=Ec(e);e.addClass=Bc(e.addClass,c);e.removeClass=Bc(e.removeClass,d);return a.push(b,"setClass",e)},animate:function(b,c,d,e,f){f=Ec(f);f.from=f.from?D(f.from,c):c;f.to=f.to?D(f.to,d):d;e=e||"ng-inline-animate";f.tempClasses=Bc(f.tempClasses,e);return a.push(b,"animate",f)}}}]}];var Ic=function(){this.$get=["$$rAF",function(a){var b=[];function c(c){b.push(c);if(b.length>1)return;a(function(){for(var a=0;a<b.length;a++){b[a]()}b=[]})}return function(){var a=false;c(function(){a=true});return function(b){if(a){b()}else{c(b)}}}}]};var Jc=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,c,d,e){var f=0;var g=1;var h=2;i.chain=function(a,b){var c=0;d();function d(){if(c===a.length){b(true);return}a[c](function(a){if(a===false){b(false);return}c++;d()})}};i.all=function(a,b){var c=0;var d=true;x(a,function(a){a.done(e)});function e(e){d=d&&e;if(++c===a.length){b(d)}}};function i(a){this.setHost(a);var b=c();var f=function(a){e(a,0,false)};this._doneCallbacks=[];this._tick=function(a){if(d()){f(a)}else{b(a)}};this._state=0}i.prototype={setHost:function(a){this.host=a||{}},done:function(a){if(this._state===h){a()}else{this._doneCallbacks.push(a)}},progress:I,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){if(b===false){c()}else{a()}})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise()["catch"](a)},finally:function(a){return this.getPromise()["finally"](a)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(a){var b=this;if(b._state===f){b._state=g;b._tick(function(){b._resolve(a)})}},_resolve:function(a){if(this._state!==h){x(this._doneCallbacks,function(b){b(a)});this._doneCallbacks.length=0;this._state=h}}};return i}]};var Kc=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){var e=d||{};if(!e.$$prepared){e=ma(e)}if(e.cleanupStyles){e.from=e.to=null}if(e.from){b.css(e.from);e.from=null}var f,g=new c;return{start:h,end:h};function h(){a(function(){i();if(!f){g.complete()}f=true});return g}function i(){if(e.addClass){b.addClass(e.addClass);e.addClass=null}if(e.removeClass){b.removeClass(e.removeClass);e.removeClass=null}if(e.to){b.css(e.to);e.to=null}}}}]};function Lc(a){var b=a.indexOf("#");return b===-1?"":a.substr(b)}function Mc(a){return a.replace(/#$/,"")}function Nc(a,b,c,d,e){var f=this,g=a.location,h=a.history,i=a.setTimeout,j=a.clearTimeout,k={},m=e(c);f.isMock=false;f.$$completeOutstandingRequest=m.completeTask;f.$$incOutstandingRequestCount=m.incTaskCount;f.notifyWhenNoOutstandingRequests=m.notifyWhenNoPendingTasks;var n,o,p=g.href,q=b.find("base"),r=null,s=!d.history?I:function a(){try{return h.state}catch(a){}};y();f.url=function(b,c,e){if(M(e)){e=null}if(g!==a.location)g=a.location;if(h!==a.history)h=a.history;if(b){var i=o===e;b=bf(b).href;if(p===b&&(!d.history||i)){return f}var j=p&&Td(p)===Td(b);p=b;o=e;if(d.history&&(!j||!i)){h[c?"replaceState":"pushState"](e,"",b);y()}else{if(!j){r=b}if(c){g.replace(b)}else if(!j){g.href=b}else{g.hash=Lc(b)}if(g.href!==b){r=b}}if(r){r=b}return f}else{return Mc(r||g.href)}};f.state=function(){return n};var t=[],u=false;function v(){r=null;z()}var w=null;function y(){n=s();n=M(n)?null:n;if(oa(n,w)){n=w}w=n;o=n}function z(){var a=o;y();if(p===f.url()&&a===n){return}p=f.url();o=n;x(t,function(a){a(f.url(),n)})}f.onUrlChange=function(b){if(!u){if(d.history)l(a).on("popstate",v);l(a).on("hashchange",v);u=true}t.push(b);return b};f.$$applicationDestroyed=function(){l(a).off("hashchange popstate",v)};f.$$checkUrlChange=z;f.baseHref=function(){var a=q.attr("href");return a?a.replace(/^(https?:)?\/\/[^\/]*/,""):""};f.defer=function(a,b,c){var d;b=b||0;c=c||m.DEFAULT_TASK_TYPE;m.incTaskCount(c);d=i(function(){delete k[d];m.completeTask(a,c)},b);k[d]=c;return d};f.defer.cancel=function(a){if(k.hasOwnProperty(a)){var b=k[a];delete k[a];j(a);m.completeTask(I,b);return true}return false}}function Oc(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(a,b,c,d,e){return new Nc(a,d,b,c,e)}]}function Pc(){this.$get=function(){var a={};function b(b,c){if(b in a){throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",b)}var d=0,f=D({},c,{id:b}),g=Ya(),h=c&&c.capacity||Number.MAX_VALUE,i=Ya(),j=null,k=null;return a[b]={put:function(a,b){if(M(b))return;if(h<Number.MAX_VALUE){var c=i[a]||(i[a]={key:a});l(c)}if(!(a in g))d++;g[a]=b;if(d>h){this.remove(k.key)}return b},get:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;l(b)}return g[a]},remove:function(a){if(h<Number.MAX_VALUE){var b=i[a];if(!b)return;if(b===j)j=b.p;if(b===k)k=b.n;m(b.n,b.p);delete i[a]}if(!(a in g))return;delete g[a];d--},removeAll:function(){g=Ya();d=0;i=Ya();j=k=null},destroy:function(){g=null;f=null;i=null;delete a[b]},info:function(){return D({},f,{size:d})}};function l(a){if(a!==j){if(!k){k=a}else if(k===a){k=a.n}m(a.n,a.p);m(a,j);j=a;j.n=null}}function m(a,b){if(a!==b){if(a)a.p=b;if(b)b.n=a}}}b.info=function(){var b={};x(a,function(a,c){b[c]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Qc(){this.$get=["$cacheFactory",function(a){return a("templates")}]}var Rc=e("$compile");function Sc(){}var Tc=new Sc;Uc.$inject=["$provide","$$sanitizeUriProvider"];function Uc(b,c){var d={},e="Directive",f=/^\s*directive:\s*([\w-]+)\s+(.*)$/,g=/(([\w-]+)(?::([^;]+))?;?)/,j=ia("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var n=/^(on[a-z]+|formaction)$/;var o=Ya();function p(a,b,c){var d=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/;var e=Ya();x(a,function(a,f){a=a.trim();if(a in o){e[f]=o[a];return}var g=a.match(d);if(!g){throw Rc("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition")}e[f]={mode:g[1][0],collection:g[2]==="*",optional:g[3]==="?",attrName:g[4]||f};if(g[4]){o[a]=e[f]}});return e}function r(a,b){var c={isolateScope:null,bindToController:null};if(O(a.scope)){if(a.bindToController===true){c.bindToController=p(a.scope,b,true);c.isolateScope={}}else{c.isolateScope=p(a.scope,b,false)}}if(O(a.bindToController)){c.bindToController=p(a.bindToController,b,true)}if(c.bindToController&&!a.controller){throw Rc("noctrl","Cannot bind to controller without directive '{0}'s controller.",b)}return c}function s(a){var b=a.charAt(0);if(!b||b!==i(b)){throw Rc("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a)}if(a!==a.trim()){throw Rc("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}}function t(a){var b=a.require||a.controller&&a.name;if(!T(b)&&O(b)){x(b,function(a,c){var d=a.match(m);var e=a.substring(d[0].length);if(!e)b[c]=d[0]+c})}return b}function u(a,b){if(a&&!(Q(a)&&/[EACM]/.test(a))){throw Rc("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",a,b)}return a||"EA"}this.directive=function a(c,f){Ta(c,"name");Va(c,"directive");if(Q(c)){s(c);Ta(f,"directiveFactory");if(!d.hasOwnProperty(c)){d[c]=[];b.factory(c+e,["$injector","$exceptionHandler",function(a,b){var e=[];x(d[c],function(d,f){try{var g=a.invoke(d);if(V(g)){g={compile:K(g)}}else if(!g.compile&&g.link){g.compile=K(g.link)}g.priority=g.priority||0;g.index=f;g.name=g.name||c;g.require=t(g);g.restrict=u(g.restrict,c);g.$$moduleName=d.$$moduleName;e.push(g)}catch(a){b(a)}});return e}])}d[c].push(f)}else{x(c,z(a))}return this};this.component=function a(b,c){if(!Q(b)){x(b,z(ta(this,a)));return this}var d=c.controller||function(){};function e(a){function b(b){if(V(b)||T(b)){return function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}}else{return b}}var e=!c.template&&!c.templateUrl?"":c.template;var f={controller:d,controllerAs:dd(c.controller)||c.controllerAs||"$ctrl",template:b(e),templateUrl:b(c.templateUrl),transclude:c.transclude,scope:{},bindToController:c.bindings||{},restrict:"E",require:c.require};x(c,function(a,b){if(b.charAt(0)==="$")f[b]=a});return f}x(c,function(a,b){if(b.charAt(0)==="$"){e[b]=a;if(V(d))d[b]=a}});e.$inject=["$injector"];return this.directive(b,e)};this.aHrefSanitizationWhitelist=function(a){if(N(a)){c.aHrefSanitizationWhitelist(a);return this}else{return c.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(a){if(N(a)){c.imgSrcSanitizationWhitelist(a);return this}else{return c.imgSrcSanitizationWhitelist()}};var v=true;this.debugInfoEnabled=function(a){if(N(a)){v=a;return this}return v};var w=false;this.strictComponentBindingsEnabled=function(a){if(N(a)){w=a;return this}return w};var y=10;this.onChangesTtl=function(a){if(arguments.length){y=a;return this}return y};var A=true;this.commentDirectivesEnabled=function(a){if(arguments.length){A=a;return this}return A};var B=true;this.cssClassDirectivesEnabled=function(a){if(arguments.length){B=a;return this}return B};var C=Ya();this.addPropertySecurityContext=function(a,b,c){var d=a.toLowerCase()+"|"+b.toLowerCase();if(d in C&&C[d]!==c){throw Rc("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",a,b,C[d],c)}C[d]=c;return this};(function a(){function b(a,b){x(b,function(b){C[b.toLowerCase()]=a})}b(Ke.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]);b(Ke.CSS,["*|style"]);b(Ke.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]);b(Ke.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]);b(Ke.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])})();this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(b,c,o,p,s,t,u,z,E){var F=/^\w/;var G=a.document.createElement("div");var K=A;var L=B;var N=y;var P;function R(){try{if(!--N){P=undefined;throw Rc("infchng","{0} $onChanges() iterations reached. Aborting!\n",y)}u.$apply(function(){for(var a=0,b=P.length;a<b;++a){try{P[a]()}catch(a){o(a)}}P=undefined})}finally{N++}}function S(a,b){if(!a){return a}if(!Q(a)){throw Rc("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',b,a.toString())}var c="";var d=fa(a);var e=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var f=/\s/.test(d)?e:/(,)/;var g=d.split(f);var h=Math.floor(g.length/2);for(var i=0;i<h;i++){var j=i*2;c+=z.getTrustedMediaUrl(fa(g[j]));c+=" "+fa(g[j+1])}var k=fa(g[i*2]).split(/\s/);c+=z.getTrustedMediaUrl(fa(k[0]));if(k.length===2){c+=" "+fa(k[1])}return c}function W(a,b){if(b){var c=Object.keys(b);var d,e,f;for(d=0,e=c.length;d<e;d++){f=c[d];this[f]=b[f]}}else{this.$attr={}}this.$$element=a}W.prototype={$normalize:Yc,$addClass:function(a){if(a&&a.length>0){E.addClass(this.$$element,a)}},$removeClass:function(a){if(a&&a.length>0){E.removeClass(this.$$element,a)}},$updateClass:function(a,b){var c=_c(a,b);if(c&&c.length){E.addClass(this.$$element,c)}var d=_c(b,a);if(d&&d.length){E.removeClass(this.$$element,d)}},$set:function(a,b,c,d){var e=this.$$element[0],f=bc(e,a),g=cc(a),h=a,i;if(f){this.$$element.prop(a,b);d=f}else if(g){this[g]=b;h=g}this[a]=b;if(d){this.$attr[a]=d}else{d=this.$attr[a];if(!d){this.$attr[a]=d=Qa(a,"-")}}i=ja(this.$$element);if(i==="img"&&a==="srcset"){this[a]=b=S(b,"$set('srcset', value)")}if(c!==false){if(b===null||M(b)){this.$$element.removeAttr(d)}else{if(F.test(d)){if(f&&b===false){this.$$element.removeAttr(d)}else{this.$$element.attr(d,b)}}else{X(this.$$element[0],d,b)}}}var j=this.$$observers;if(j){x(j[h],function(a){try{a(b)}catch(a){o(a)}})}},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=Ya()),e=d[a]||(d[a]=[]);e.push(b);u.$evalAsync(function(){if(!e.$$inter&&c.hasOwnProperty(a)&&!M(c[a])){b(c[a])}});return function(){la(e,b)}}};function X(a,b,c){G.innerHTML="<span "+b+">";var d=G.firstChild.attributes;var e=d[0];d.removeNamedItem(e.name);e.value=c;a.attributes.setNamedItem(e)}function Z(a,b){try{a.addClass(b)}catch(a){}}var $=c.startSymbol(),_=c.endSymbol(),ba=$==="{{"&&_==="}}"?J:function a(b){return b.replace(/\{\{/g,$).replace(/}}/g,_)},ca=/^ng(Attr|Prop|On)([A-Z].*)$/;var da=/^(.+)Start$/;ea.$$addBindingInfo=v?function a(b,c){var d=b.data("$binding")||[];if(T(c)){d=d.concat(c)}else{d.push(c)}b.data("$binding",d)}:I;ea.$$addBindingClass=v?function a(b){Z(b,"ng-binding")}:I;ea.$$addScopeInfo=v?function a(b,c,d,e){var f=d?e?"$isolateScopeNoTemplate":"$isolateScope":"$scope";b.data(f,c)}:I;ea.$$addScopeClass=v?function a(b,c){Z(b,c?"ng-isolate-scope":"ng-scope")}:I;ea.$$createComment=function(b,c){var d="";if(v){d=" "+(b||"")+": ";if(c)d+=c+" "}return a.document.createComment(d)};return ea;function ea(a,b,c,d,e){if(!(a instanceof l)){a=l(a)}var f=ha(a,b,a,c,d,e);ea.$$addScopeClass(a);var g=null;return function b(c,d,h){if(!a){throw Rc("multilink","This element has already been linked.")}Ta(c,"scope");if(e&&e.needsNewScope){c=c.$parent.$new()}h=h||{};var i=h.parentBoundTranscludeFn,j=h.transcludeControllers,k=h.futureParentElement;if(i&&i.$$boundTransclude){i=i.$$boundTransclude}if(!g){g=ga(k)}var m;if(g!=="html"){m=l(Ha(g,l("<div></div>").append(a).html()))}else if(d){m=Zb.clone.call(a)}else{m=a}if(j){for(var n in j){m.data("$"+n+"Controller",j[n].instance)}}ea.$$addScopeInfo(m,c);if(d)d(m,c);if(f)f(c,m,m,i);if(!d){a=f=null}return m}}function ga(a){var b=a&&a[0];if(!b){return"html"}else{return ja(b)!=="foreignobject"&&q.call(b).match(/SVG/)?"svg":"html"}}function ha(a,b,c,d,e,f){var g=[],h=T(a)||a instanceof l,i,j,m,n,o,p,q;for(var r=0;r<a.length;r++){i=new W;if(k===11){ia(a,r,h)}j=ma(a[r],[],i,r===0?d:undefined,e);m=j.length?va(j,a[r],i,b,c,null,[],[],f):null;if(m&&m.scope){ea.$$addScopeClass(i.$$element)}o=m&&m.terminal||!(n=a[r].childNodes)||!n.length?null:ha(n,m?(m.transcludeOnThisElement||!m.templateOnThisElement)&&m.transclude:b);if(m||o){g.push(r,m,o);p=true;q=q||m}f=null}return p?s:null;function s(a,c,d,e){var f,h,i,j,k,m,n,o;var p;if(q){var r=c.length;p=new Array(r);for(k=0;k<g.length;k+=3){n=g[k];p[n]=c[n]}}else{p=c}for(k=0,m=g.length;k<m;){i=p[g[k++]];f=g[k++];h=g[k++];if(f){if(f.scope){j=a.$new();ea.$$addScopeInfo(l(i),j)}else{j=a}if(f.transcludeOnThisElement){o=ka(a,f.transclude,e)}else if(!f.templateOnThisElement&&e){o=e}else if(!e&&b){o=ka(a,b)}else{o=null}f(h,j,i,d,o)}else if(h){h(a,i.childNodes,undefined,e)}}}}function ia(a,b,c){var d=a[b];var e=d.parentNode;var f;if(d.nodeType!==ab){return}while(true){f=e?d.nextSibling:a[b+1];if(!f||f.nodeType!==ab){break}d.nodeValue=d.nodeValue+f.nodeValue;if(f.parentNode){f.parentNode.removeChild(f)}if(c&&f===a[b+1]){a.splice(b+1,1)}}}function ka(a,b,c){function d(d,e,f,g,h){if(!d){d=a.$new(false,h);d.$$transcluded=true}return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=Ya();for(var f in b.$$slots){if(b.$$slots[f]){e[f]=ka(a,b.$$slots[f],c)}else{e[f]=null}}return d}function ma(a,b,c,d,e){var f=a.nodeType,h=c.$attr,i,j,k;switch(f){case $a:j=ja(a);za(b,Yc(j),"E",d,e);for(var l,m,n,o,p,q=a.attributes,r=0,s=q&&q.length;r<s;r++){var t=false;var u=false;var v=false,w=false,x=false;var y;l=q[r];m=l.name;o=l.value;n=Yc(m.toLowerCase());if(p=n.match(ca)){v=p[1]==="Attr";w=p[1]==="Prop";x=p[1]==="On";m=m.replace(Wc,"").toLowerCase().substr(4+p[1].length).replace(/_(.)/g,function(a,b){return b.toUpperCase()})}else if((y=n.match(da))&&Aa(y[1])){t=m;u=m.substr(0,m.length-5)+"end";m=m.substr(0,m.length-6)}if(w||x){c[n]=o;h[n]=l.name;if(w){La(a,b,n,m)}else{Ma(b,n,m)}}else{n=Yc(m.toLowerCase());h[n]=m;if(v||!c.hasOwnProperty(n)){c[n]=o;if(bc(a,n)){c[n]=true}}Na(a,b,o,n,v);za(b,n,"A",d,e,t,u)}}if(j==="input"&&a.getAttribute("type")==="hidden"){a.setAttribute("autocomplete","off")}if(!L)break;k=a.className;if(O(k)){k=k.animVal}if(Q(k)&&k!==""){while(i=g.exec(k)){n=Yc(i[2]);if(za(b,n,"C",d,e)){c[n]=fa(i[3])}k=k.substr(i.index+i[0].length)}}break;case ab:Ga(b,a.nodeValue);break;case bb:if(!K)break;pa(a,b,c,d,e);break}b.sort(Ea);return b}function pa(a,b,c,d,e){try{var g=f.exec(a.nodeValue);if(g){var h=Yc(g[1]);if(za(b,h,"M",d,e)){c[h]=fa(g[2])}}}catch(a){}}function qa(a,b,c){var d=[];var e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a){throw Rc("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c)}if(a.nodeType===$a){if(a.hasAttribute(b))e++;if(a.hasAttribute(c))e--}d.push(a);a=a.nextSibling}while(e>0)}else{d.push(a)}return l(d)}function ra(a,b,c){return function d(e,f,g,h,i){f=qa(f[0],b,c);return a(e,f,g,h,i)}}function ua(a,b,c,d,e,f){var g;if(a){return ea(b,c,d,e,f)}return function a(){if(!g){g=ea(b,c,d,e,f);b=c=f=null}return g.apply(this,arguments)}}function va(b,c,d,e,f,g,h,i,j){j=j||{};var k=-Number.MAX_VALUE,m=j.newScopeDirective,n=j.controllerDirectives,p=j.newIsolateScopeDirective,q=j.templateDirective,r=j.nonTlbTranscludeDirective,s=false,t=false,u=j.hasElementTranscludeDirective,v=d.$$element=l(c),w,y,z,A=g,B=e,C,E=false,F=false,G;for(var H=0,I=b.length;H<I;H++){w=b[H];var J=w.$$start;var K=w.$$end;if(J){v=qa(c,J,K)}z=undefined;if(k>w.priority){break}G=w.scope;if(G){if(!w.templateUrl){if(O(G)){Fa("new/isolated scope",p||m,w,v);p=w}else{Fa("new/isolated scope",p,w,v)}}m=m||w}y=w.name;if(!E&&(w.replace&&(w.templateUrl||w.template)||w.transclude&&!w.$$tlb)){var L;for(var N=H+1;L=b[N++];){if(L.transclude&&!L.$$tlb||L.replace&&(L.templateUrl||L.template)){F=true;break}}E=true}if(!w.templateUrl&&w.controller){n=n||Ya();Fa("'"+y+"' controller",n[y],w,v);n[y]=w}G=w.transclude;if(G){s=true;if(!w.$$tlb){Fa("transclusion",r,w,v);r=w}if(G==="element"){u=true;k=w.priority;z=v;v=d.$$element=l(ea.$$createComment(y,d[y]));c=v[0];Oa(f,sa(z),c);B=ua(F,z,e,k,A&&A.name,{nonTlbTranscludeDirective:r})}else{var P=Ya();if(!O(G)){z=l(Hb(c)).contents()}else{z=a.document.createDocumentFragment();var Q=Ya();var R=Ya();x(G,function(a,b){var c=a.charAt(0)==="?";a=c?a.substring(1):a;Q[a]=b;P[b]=null;R[b]=c});x(v.contents(),function(b){var c=Q[Yc(ja(b))];if(c){R[c]=true;P[c]=P[c]||a.document.createDocumentFragment();P[c].appendChild(b)}else{z.appendChild(b)}});x(R,function(a,b){if(!a){throw Rc("reqslot","Required transclusion slot `{0}` was not filled.",b)}});for(var S in P){if(P[S]){var U=l(P[S].childNodes);P[S]=ua(F,U,e)}}z=l(z.childNodes)}v.empty();B=ua(F,z,e,undefined,undefined,{needsNewScope:w.$$isolateScope||w.$$newScope});B.$$slots=P}}if(w.template){t=true;Fa("template",q,w,v);q=w;G=V(w.template)?w.template(v,d):w.template;G=ba(G);if(w.replace){A=w;if(zb(G)){z=[]}else{z=ad(Ha(w.templateNamespace,fa(G)))}c=z[0];if(z.length!==1||c.nodeType!==$a){throw Rc("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"")}Oa(f,v,c);var X={$attr:{}};var Z=ma(c,[],X);var $=b.splice(H+1,b.length-(H+1));if(p||m){ya(Z,p,m)}b=b.concat(Z).concat($);Ca(d,X);I=b.length}else{v.html(G)}}if(w.templateUrl){t=true;Fa("template",q,w,v);q=w;if(w.replace){A=w}ca=Da(b.splice(H,b.length-H),v,d,f,s&&B,h,i,{controllerDirectives:n,newScopeDirective:m!==w&&m,newIsolateScopeDirective:p,templateDirective:q,nonTlbTranscludeDirective:r});I=b.length}else if(w.compile){try{C=w.compile(v,d,B);var _=w.$$originalDirective||w;if(V(C)){aa(null,ta(_,C),J,K)}else if(C){aa(ta(_,C.pre),ta(_,C.post),J,K)}}catch(a){o(a,Ba(v))}}if(w.terminal){ca.terminal=true;k=Math.max(k,w.priority)}}ca.scope=m&&m.scope===true;ca.transcludeOnThisElement=s;ca.templateOnThisElement=t;ca.transclude=B;j.hasElementTranscludeDirective=u;return ca;function aa(a,b,c,d){if(a){if(c)a=ra(a,c,d);a.require=w.require;a.directiveName=y;if(p===w||w.$$isolateScope){a=Pa(a,{isolateScope:true})}h.push(a)}if(b){if(c)b=ra(b,c,d);b.require=w.require;b.directiveName=y;if(p===w||w.$$isolateScope){b=Pa(b,{isolateScope:true})}i.push(b)}}function ca(a,b,e,f,g){var j,k,r,s,t,v,w,y,z,A;if(c===e){z=d;y=d.$$element}else{y=l(e);z=new W(y,d)}t=b;if(p){s=b.$new(true)}else if(m){t=b.$parent}if(g){w=H;w.$$boundTransclude=g;w.isSlotFilled=function(a){return!!g.$$slots[a]}}if(n){v=xa(y,z,w,n,s,b,p)}if(p){ea.$$addScopeInfo(y,s,true,!(q&&(q===p||q===p.$$originalDirective)));ea.$$addScopeClass(y,true);s.$$isolateBindings=p.$$isolateBindings;A=Ua(b,z,s,s.$$isolateBindings,p);if(A.removeWatches){s.$on("$destroy",A.removeWatches)}}for(var B in v){var C=n[B];var E=v[B];var F=C.$$bindings.bindToController;E.instance=E();y.data("$"+C.name+"Controller",E.instance);E.bindingInfo=Ua(t,z,E.instance,F,C)}x(n,function(a,b){var c=a.require;if(a.bindToController&&!T(c)&&O(c)){D(v[b].instance,wa(b,c,y,v))}});x(v,function(a){var b=a.instance;if(V(b.$onChanges)){try{b.$onChanges(a.bindingInfo.initialChanges)}catch(a){o(a)}}if(V(b.$onInit)){try{b.$onInit()}catch(a){o(a)}}if(V(b.$doCheck)){t.$watch(function(){b.$doCheck()});b.$doCheck()}if(V(b.$onDestroy)){t.$on("$destroy",function a(){b.$onDestroy()})}});for(j=0,k=h.length;j<k;j++){r=h[j];Ra(r,r.isolateScope?s:b,y,z,r.require&&wa(r.directiveName,r.require,y,v),w)}var G=b;if(p&&(p.template||p.templateUrl===null)){G=s}if(a){a(G,e.childNodes,undefined,g)}for(j=i.length-1;j>=0;j--){r=i[j];Ra(r,r.isolateScope?s:b,y,z,r.require&&wa(r.directiveName,r.require,y,v),w)}x(v,function(a){var b=a.instance;if(V(b.$postLink)){b.$postLink()}});function H(a,b,c,d){var e;if(!Y(a)){d=c;c=b;b=a;a=undefined}if(u){e=v}if(!c){c=u?y.parent():y}if(d){var f=g.$$slots[d];if(f){return f(a,b,e,c,G)}else if(M(f)){throw Rc("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",d,Ba(y))}}else{return g(a,b,e,c,G)}}}}function wa(a,b,c,d){var e;if(Q(b)){var f=b.match(m);var g=b.substring(f[0].length);var h=f[1]||f[3];var i=f[2]==="?";if(h==="^^"){c=c.parent()}else{e=d&&d[g];e=e&&e.instance}if(!e){var j="$"+g+"Controller";if(h==="^^"&&c[0]&&c[0].nodeType===cb){e=null}else{e=h?c.inheritedData(j):c.data(j)}}if(!e&&!i){throw Rc("ctreq","Controller '{0}', required by directive '{1}', can't be found!",g,a)}}else if(T(b)){e=[];for(var k=0,l=b.length;k<l;k++){e[k]=wa(a,b[k],c,d)}}else if(O(b)){e={};x(b,function(b,f){e[f]=wa(a,b,c,d)})}return e||null}function xa(a,b,c,d,e,f,g){var h=Ya();for(var i in d){var j=d[i];var k={$scope:j===g||j.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c};var l=j.controller;if(l==="@"){l=b[j.name]}var m=t(l,k,true,j.controllerAs);h[j.name]=m;a.data("$"+j.name+"Controller",m.instance)}return h}function ya(a,b,c){for(var d=0,e=a.length;d<e;d++){a[d]=H(a[d],{$$isolateScope:b,$$newScope:c})}}function za(a,c,f,g,h,i,j){if(c===h)return null;var k=null;if(d.hasOwnProperty(c)){for(var l,m=b.get(c+e),n=0,o=m.length;n<o;n++){l=m[n];if((M(g)||g>l.priority)&&l.restrict.indexOf(f)!==-1){if(i){l=H(l,{$$start:i,$$end:j})}if(!l.$$bindings){var p=l.$$bindings=r(l,l.name);if(O(p.isolateScope)){l.$$isolateBindings=p.isolateScope}}a.push(l);k=l}}}return k}function Aa(a){if(d.hasOwnProperty(a)){for(var c,f=b.get(a+e),g=0,h=f.length;g<h;g++){c=f[g];if(c.multiElement){return true}}}return false}function Ca(a,b){var c=b.$attr,d=a.$attr;x(a,function(d,e){if(e.charAt(0)!=="$"){if(b[e]&&b[e]!==d){if(d.length){d+=(e==="style"?";":" ")+b[e]}else{d=b[e]}}a.$set(e,d,true,c[e])}});x(b,function(b,e){if(!a.hasOwnProperty(e)&&e.charAt(0)!=="$"){a[e]=b;if(e!=="class"&&e!=="style"){d[e]=c[e]}}})}function Da(a,b,c,d,e,f,g,h){var i=[],j,k,m=b[0],n=a.shift(),q=H(n,{templateUrl:null,transclude:null,replace:null,$$originalDirective:n}),r=V(n.templateUrl)?n.templateUrl(b,c):n.templateUrl,s=n.templateNamespace;b.empty();p(r).then(function(o){var p,t,u,v;o=ba(o);if(n.replace){if(zb(o)){u=[]}else{u=ad(Ha(s,fa(o)))}p=u[0];if(u.length!==1||p.nodeType!==$a){throw Rc("tplrt","Template for directive '{0}' must have exactly one root element. {1}",n.name,r)}t={$attr:{}};Oa(d,b,p);var w=ma(p,[],t);if(O(n.scope)){ya(w,true)}a=w.concat(a);Ca(c,t)}else{p=m;b.html(o)}a.unshift(q);j=va(a,p,c,e,b,n,f,g,h);x(d,function(a,c){if(a===p){d[c]=b[0]}});k=ha(b[0].childNodes,e);while(i.length){var y=i.shift(),z=i.shift(),A=i.shift(),B=i.shift(),C=b[0];if(y.$$destroyed)continue;if(z!==m){var D=z.className;if(!(h.hasElementTranscludeDirective&&n.replace)){C=Hb(p)}Oa(A,l(z),C);Z(l(C),D)}if(j.transcludeOnThisElement){v=ka(y,j.transclude,B)}else{v=B}j(k,y,C,d,v)}i=null}).catch(function(a){if(U(a)){o(a)}});return function a(b,c,d,e,f){var g=f;if(c.$$destroyed)return;if(i){i.push(c,d,e,g)}else{if(j.transcludeOnThisElement){g=ka(c,j.transclude,f)}j(k,c,d,e,g)}}}function Ea(a,b){var c=b.priority-a.priority;if(c!==0)return c;if(a.name!==b.name)return a.name<b.name?-1:1;return a.index-b.index}function Fa(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b){throw Rc("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Ba(d))}}function Ga(a,b){var d=c(b,true);if(d){a.push({priority:0,compile:function a(b){var c=b.parent(),e=!!c.length;if(e)ea.$$addBindingClass(c);return function a(b,c){var f=c.parent();if(!e)ea.$$addBindingClass(f);ea.$$addBindingInfo(f,d.expressions);b.$watch(d,function a(b){c[0].nodeValue=b})}}})}}function Ha(b,c){b=i(b||"html");switch(b){case"svg":case"math":var d=a.document.createElement("div");d.innerHTML="<"+b+">"+c+"</"+b+">";return d.childNodes[0].childNodes;default:return c}}function Ia(a,b){if(b==="srcdoc"){return z.HTML}if(b==="src"||b==="ngSrc"){if(["img","video","audio","source","track"].indexOf(a)===-1){return z.RESOURCE_URL}return z.MEDIA_URL}else if(b==="xlinkHref"){if(a==="image")return z.MEDIA_URL;if(a==="a")return z.URL;return z.RESOURCE_URL}else if(a==="form"&&b==="action"||a==="base"&&b==="href"||a==="link"&&b==="href"){return z.RESOURCE_URL}else if(a==="a"&&(b==="href"||b==="ngHref")){return z.URL}}function Ja(a,b){var c=b.toLowerCase();return C[a+"|"+c]||C["*|"+c]}function Ka(a){return S(z.valueOf(a),"ng-prop-srcset")}function La(a,b,c,d){if(n.test(d)){throw Rc("nodomevents","Property bindings for HTML DOM event properties are disallowed")}var e=ja(a);var f=Ja(e,d);var g=J;if(d==="srcset"&&(e==="img"||e==="source")){g=Ka}else if(f){g=z.getTrusted.bind(z,f)}b.push({priority:100,compile:function a(b,e){var f=s(e[c]);var h=s(e[c],function a(b){return z.valueOf(b)});return{pre:function a(b,c){function e(){var a=f(b);c[0][d]=g(a)}e();b.$watch(h,e)}}}})}function Ma(a,b,c){a.push(Zg(s,u,o,b,c,false))}function Na(a,b,d,e,f){var g=ja(a);var h=Ia(g,e);var i=!f;var k=j[e]||f;var l=c(d,i,h,k);if(!l)return;if(e==="multiple"&&g==="select"){throw Rc("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Ba(a))}if(n.test(e)){throw Rc("nodomevents","Interpolations for HTML DOM event attributes are disallowed")}b.push({priority:100,compile:function(){return{pre:function a(b,f,g){var i=g.$$observers||(g.$$observers=Ya());var j=g[e];if(j!==d){l=j&&c(j,true,h,k);d=j}if(!l)return;g[e]=l(b);(i[e]||(i[e]=[])).$$inter=true;(g.$$observers&&g.$$observers[e].$$scope||b).$watch(l,function a(b,c){if(e==="class"&&b!==c){g.$updateClass(b,c);
}else{g.$set(e,b)}})}}}})}function Oa(b,c,d){var e=c[0],f=c.length,g=e.parentNode,h,i;if(b){for(h=0,i=b.length;h<i;h++){if(b[h]===e){b[h++]=d;for(var j=h,k=j+f-1,m=b.length;j<m;j++,k++){if(k<m){b[j]=b[k]}else{delete b[j]}}b.length-=f-1;if(b.context===e){b.context=d}break}}}if(g){g.replaceChild(d,e)}var n=a.document.createDocumentFragment();for(h=0;h<f;h++){n.appendChild(c[h])}if(l.hasData(e)){l.data(d,l.data(e));l(e).off("$destroy")}l.cleanData(n.querySelectorAll("*"));for(h=1;h<f;h++){delete c[h]}c[0]=d;c.length=1}function Pa(a,b){return D(function(){return a.apply(null,arguments)},a,b)}function Ra(a,b,c,d,e,f){try{a(b,c,d,e,f)}catch(a){o(a,Ba(c))}}function Sa(a,b){if(w){throw Rc("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",a,b)}}function Ua(a,b,d,e,f){var g=[];var i={};var j;x(e,function e(j,l){var m=j.attrName,n=j.optional,o=j.mode,p,q,r,t,u;switch(o){case"@":if(!n&&!h.call(b,m)){Sa(m,f.name);d[l]=b[m]=undefined}u=b.$observe(m,function(a){if(Q(a)||aa(a)){var b=d[l];k(l,a,b);d[l]=a}});b.$$observers[m].$$scope=a;p=b[m];if(Q(p)){d[l]=c(p)(a)}else if(aa(p)){d[l]=p}i[l]=new Vc(Tc,d[l]);g.push(u);break;case"=":if(!h.call(b,m)){if(n)break;Sa(m,f.name);b[m]=undefined}if(n&&!b[m])break;q=s(b[m]);if(q.literal){t=oa}else{t=na}r=q.assign||function(){p=d[l]=q(a);throw Rc("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[m],m,f.name)};p=d[l]=q(a);var v=function b(c){if(!t(c,d[l])){if(!t(c,p)){d[l]=c}else{r(a,c=d[l])}}p=c;return p};v.$stateful=true;if(j.collection){u=a.$watchCollection(b[m],v)}else{u=a.$watch(s(b[m],v),null,q.literal)}g.push(u);break;case"<":if(!h.call(b,m)){if(n)break;Sa(m,f.name);b[m]=undefined}if(n&&!b[m])break;q=s(b[m]);var w=q.literal;var x=d[l]=q(a);i[l]=new Vc(Tc,d[l]);u=a[j.collection?"$watchCollection":"$watch"](q,function a(b,c){if(c===b){if(c===x||w&&oa(c,x)){return}c=x}k(l,b,c);d[l]=b});g.push(u);break;case"&":if(!n&&!h.call(b,m)){Sa(m,f.name)}q=b.hasOwnProperty(m)?s(b[m]):I;if(q===I&&n)break;d[l]=function(b){return q(a,b)};break}});function k(b,c,e){if(V(d.$onChanges)&&!na(c,e)){if(!P){a.$$postDigest(R);P=[]}if(!j){j={};P.push(l)}if(j[b]){e=j[b].previousValue}j[b]=new Vc(e,c)}}function l(){d.$onChanges(j);j=undefined}return{initialChanges:i,removeWatches:g.length&&function a(){for(var b=0,c=g.length;b<c;++b){g[b]()}}}}}]}function Vc(a,b){this.previousValue=a;this.currentValue=b}Vc.prototype.isFirstChange=function(){return this.previousValue===Tc};var Wc=/^((?:x|data)[:\-_])/i;var Xc=/[:\-_]+(.)/g;function Yc(a){return a.replace(Wc,"").replace(Xc,function(a,b,c){return c?b.toUpperCase():b})}function Zc(a,b,c,d){}function $c(a,b,c,d,e){}function _c(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){var g=d[f];for(var h=0;h<e.length;h++){if(g===e[h])continue a}c+=(c.length>0?" ":"")+g}return c}function ad(a){a=l(a);var b=a.length;if(b<=1){return a}while(b--){var c=a[b];if(c.nodeType===bb||c.nodeType===ab&&c.nodeValue.trim()===""){o.call(a,b,1)}}return a}var bd=e("$controller");var cd=/^(\S+)(\s+as\s+([\w$]+))?$/;function dd(a,b){if(b&&Q(b))return b;if(Q(a)){var c=cd.exec(a);if(c)return c[3]}}function ed(){var a={};this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Va(b,"controller");if(O(b)){D(a,b)}else{a[b]=c}};this.$get=["$injector",function(b){return function d(e,f,g,h){var i,j,k,l;g=g===true;if(h&&Q(h)){l=h}if(Q(e)){j=e.match(cd);if(!j){throw bd("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",e)}k=j[1];l=l||j[3];e=a.hasOwnProperty(k)?a[k]:Wa(f.$scope,k,true);if(!e){throw bd("ctrlreg","The controller with the name '{0}' is not registered.",k)}Ua(e,k,true)}if(g){var m=(T(e)?e[e.length-1]:e).prototype;i=Object.create(m||null);if(l){c(f,l,i,k||e.name)}return D(function a(){var d=b.invoke(e,i,f,k);if(d!==i&&(O(d)||V(d))){i=d;if(l){c(f,l,i,k||e.name)}}return i},{instance:i,identifier:l})}i=b.instantiate(e,f,k);if(l){c(f,l,i,k||e.name)}return i};function c(a,b,c,d){if(!(a&&O(a.$scope))){throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",d,b)}a.$scope[b]=c}}]}function fd(){this.$get=["$window",function(a){return l(a.document)}]}function gd(){this.$get=["$document","$rootScope",function(a,b){var c=a[0];var d=c&&c.hidden;a.on("visibilitychange",e);b.$on("$destroy",function(){a.off("visibilitychange",e)});function e(){d=c.hidden}return function(){return d}}]}function hd(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}var id=function(){this.$get=["$document",function(a){return function(b){if(b){if(!b.nodeType&&b instanceof l){b=b[0]}}else{b=a[0].body}return b.offsetWidth+1}}]};var jd="application/json";var kd={"Content-Type":jd+";charset=utf-8"};var ld=/^\[|^\{(?!\{)/;var md={"[":/]$/,"{":/}$/};var nd=/^\)]\}',?\n/;var od=e("$http");function pd(a){if(O(a)){return S(a)?a.toISOString():va(a)}return a}function qd(){this.$get=function(){return function a(b){if(!b)return"";var c=[];y(b,function(a,b){if(a===null||M(a)||V(a))return;if(T(a)){x(a,function(a){c.push(Ga(b)+"="+Ga(pd(a)))})}else{c.push(Ga(b)+"="+Ga(pd(a)))}});return c.join("&")}}}function rd(){this.$get=function(){return function a(b){if(!b)return"";var c=[];d(b,"",true);return c.join("&");function d(a,b,e){if(T(a)){x(a,function(a,c){d(a,b+"["+(O(a)?c:"")+"]")})}else if(O(a)&&!S(a)){y(a,function(a,c){d(a,b+(e?"":"[")+c+(e?"":"]"))})}else{if(V(a)){a=a()}c.push(Ga(b)+"="+(a==null?"":Ga(pd(a))))}}}}}function sd(a,b){if(Q(a)){var c=a.replace(nd,"").trim();if(c){var d=b("Content-Type");var e=d&&d.indexOf(jd)===0;if(e||td(c)){try{a=wa(c)}catch(b){if(!e){return a}throw od("baddata",'Data must be a valid JSON object. Received: "{0}". '+'Parse error: "{1}"',a,b)}}}}return a}function td(a){var b=a.match(ld);return b&&md[b[0]].test(a)}function ud(a){var b=Ya(),c;function d(a,c){if(a){b[a]=b[a]?b[a]+", "+c:c}}if(Q(a)){x(a.split("\n"),function(a){c=a.indexOf(":");d(i(fa(a.substr(0,c))),fa(a.substr(c+1)))})}else if(O(a)){x(a,function(a,b){d(i(b),fa(a))})}return b}function vd(a){var b;return function(c){if(!b)b=ud(a);if(c){var d=b[i(c)];if(d===undefined){d=null}return d}return b}}function wd(a,b,c,d){if(V(d)){return d(a,b,c)}x(d,function(d){a=d(a,b,c)});return a}function xd(a){return 200<=a&&a<300}function yd(){var a=this.defaults={transformResponse:[sd],transformRequest:[function(a){return O(a)&&!Z(a)&&!_(a)&&!$(a)?va(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:fb(kd),put:fb(kd),patch:fb(kd)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"};var b=false;this.useApplyAsync=function(a){if(N(a)){b=!!a;return this}return b};var c=this.interceptors=[];var d=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(f,g,h,k,l,m,n,o){var p=k("$http");a.paramSerializer=Q(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var q=[];x(c,function(a){q.unshift(Q(a)?n.get(a):n.invoke(a))});var r=ef(d);function s(b){if(!O(b)){throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",b)}if(!Q(o.valueOf(b.url))){throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",b.url)}var c=D({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);c.headers=r(b);c.method=j(c.method);c.paramSerializer=Q(c.paramSerializer)?n.get(c.paramSerializer):c.paramSerializer;f.$$incOutstandingRequestCount("$http");var d=[];var g=[];var h=m.resolve(c);x(q,function(a){if(a.request||a.requestError){d.unshift(a.request,a.requestError)}if(a.response||a.responseError){g.push(a.response,a.responseError)}});h=k(h,d);h=h.then(s);h=k(h,g);h=h.finally(l);return h;function k(a,b){for(var c=0,d=b.length;c<d;){var e=b[c++];var f=b[c++];a=a.then(e,f)}b.length=0;return a}function l(){f.$$completeOutstandingRequest(I,"$http")}function p(a,b){var c,d={};x(a,function(a,e){if(V(a)){c=a(b);if(c!=null){d[e]=c}}else{d[e]=a}});return d}function r(b){var c=a.headers,d=D({},b.headers),e,f,g;c=D({},c.common,c[i(b.method)]);a:for(e in c){f=i(e);for(g in d){if(i(g)===f){continue a}}d[e]=c[e]}return p(d,fb(b))}function s(b){var c=b.headers;var d=wd(b.data,vd(c),undefined,b.transformRequest);if(M(d)){x(c,function(a,b){if(i(b)==="content-type"){delete c[b]}})}if(M(b.withCredentials)&&!M(a.withCredentials)){b.withCredentials=a.withCredentials}return v(b,d).then(t,t)}function t(a){var b=D({},a);b.data=wd(a.data,a.headers,a.status,c.transformResponse);return xd(a.status)?b:m.reject(b)}}s.pendingRequests=[];t("get","delete","head","jsonp");u("post","put","patch");s.defaults=a;return s;function t(a){x(arguments,function(a){s[a]=function(b,c){return s(D({},c||{},{method:a,url:b}))}})}function u(a){x(arguments,function(a){s[a]=function(b,c,d){return s(D({},d||{},{method:a,url:b,data:c}))}})}function v(c,d){var e=m.defer(),f=e.promise,j,k,n=c.headers,q=i(c.method)==="jsonp",t=c.url;if(q){t=o.getTrustedResourceUrl(t)}else if(!Q(t)){t=o.valueOf(t)}t=w(t,c.paramSerializer(c.params));if(q){t=y(t,c.jsonpCallbackParam)}s.pendingRequests.push(c);f.then(C,C);if((c.cache||a.cache)&&c.cache!==false&&(c.method==="GET"||c.method==="JSONP")){j=O(c.cache)?c.cache:O(a.cache)?a.cache:p}if(j){k=j.get(t);if(N(k)){if(ba(k)){k.then(B,B)}else{if(T(k)){A(k[1],k[0],fb(k[2]),k[3],k[4])}else{A(k,200,{},"OK","complete")}}}else{j.put(t,f)}}if(M(k)){var u=r(c.url)?h()[c.xsrfCookieName||a.xsrfCookieName]:undefined;if(u){n[c.xsrfHeaderName||a.xsrfHeaderName]=u}g(c.method,t,d,z,n,c.timeout,c.withCredentials,c.responseType,v(c.eventHandlers),v(c.uploadEventHandlers))}return f;function v(a){if(a){var c={};x(a,function(a,d){c[d]=function(c){if(b){l.$applyAsync(d)}else if(l.$$phase){d()}else{l.$apply(d)}function d(){a(c)}}});return c}}function z(a,c,d,e,f){if(j){if(xd(a)){j.put(t,[a,c,ud(d),e,f])}else{j.remove(t)}}function g(){A(c,a,d,e,f)}if(b){l.$applyAsync(g)}else{g();if(!l.$$phase)l.$apply()}}function A(a,b,d,f,g){b=b>=-1?b:0;(xd(b)?e.resolve:e.reject)({data:a,status:b,headers:vd(d),config:c,statusText:f,xhrStatus:g})}function B(a){A(a.data,a.status,fb(a.headers()),a.statusText,a.xhrStatus)}function C(){var a=s.pendingRequests.indexOf(c);if(a!==-1)s.pendingRequests.splice(a,1)}}function w(a,b){if(b.length>0){a+=(a.indexOf("?")===-1?"?":"&")+b}return a}function y(a,b){var c=a.split("?");if(c.length>2){throw od("badjsonp",'Illegal use more than one "?", in url, "{1}"',a)}var d=Da(c[1]);x(d,function(c,d){if(c==="JSON_CALLBACK"){throw od("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',a)}if(d===b){throw od("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',b,a)}});a+=(a.indexOf("?")===-1?"?":"&")+b+"=JSON_CALLBACK";return a}}]}function zd(){this.$get=function(){return function b(){return new a.XMLHttpRequest}}}function Ad(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,c,d){return Bd(a,d,a.defer,b,c[0])}]}function Bd(a,b,c,d,e){return function(e,g,h,j,k,l,m,n,o,p){g=g||a.url();if(i(e)==="jsonp"){var q=d.createCallback(g);var r=f(g,q,function(a,b){var c=a===200&&d.getResponse(q);A(j,a,c,"",b,"complete");d.removeCallback(q)})}else{var s=b(e,g);var t=false;s.open(e,g,true);x(k,function(a,b){if(N(a)){s.setRequestHeader(b,a)}});s.onload=function a(){var b=s.statusText||"";var c="response"in s?s.response:s.responseText;var d=s.status===1223?204:s.status;if(d===0){d=c?200:bf(g).protocol==="file"?404:0}A(j,d,c,s.getAllResponseHeaders(),b,"complete")};var u=function(){A(j,-1,null,null,"","error")};var v=function(){A(j,-1,null,null,"",t?"timeout":"abort")};var w=function(){A(j,-1,null,null,"","timeout")};s.onerror=u;s.ontimeout=w;s.onabort=v;x(o,function(a,b){s.addEventListener(b,a)});x(p,function(a,b){s.upload.addEventListener(b,a)});if(m){s.withCredentials=true}if(n){try{s.responseType=n}catch(a){if(n!=="json"){throw a}}}s.send(M(h)?null:h)}if(l>0){var y=c(function(){z("timeout")},l)}else if(ba(l)){l.then(function(){z(N(l.$$timeoutId)?"timeout":"abort")})}function z(a){t=a==="timeout";if(r){r()}if(s){s.abort()}}function A(a,b,d,e,f,g){if(N(y)){c.cancel(y)}r=s=null;a(b,d,e,f,g)}};function f(a,b,c){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),g=null;f.type="text/javascript";f.src=a;f.async=true;g=function(a){f.removeEventListener("load",g);f.removeEventListener("error",g);e.body.removeChild(f);f=null;var h=-1;var i="unknown";if(a){if(a.type==="load"&&!d.wasCalled(b)){a={type:"error"}}i=a.type;h=a.type==="error"?404:200}if(c){c(h,i)}};f.addEventListener("load",g);f.addEventListener("error",g);e.body.appendChild(f);return g}}var Cd=t.$interpolateMinErr=e("$interpolate");Cd.throwNoconcat=function(a){throw Cd("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",a)};Cd.interr=function(a,b){return Cd("interr","Can't interpolate: {0}\n{1}",a,b.toString())};function Dd(){var a="{{";var b="}}";this.startSymbol=function(b){if(b){a=b;return this}return a};this.endSymbol=function(a){if(a){b=a;return this}return b};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){var f=a.length,g=b.length,h=new RegExp(a.replace(/./g,j),"g"),i=new RegExp(b.replace(/./g,j),"g");function j(a){return"\\\\\\"+a}function k(c){return c.replace(h,a).replace(i,b)}function l(a,b,c,d){var e=a.$watch(function a(b){e();return d(b)},b,c);return e}function m(h,i,j,m){var n=j===e.URL||j===e.MEDIA_URL;if(!h.length||h.indexOf(a)===-1){if(i)return;var o=k(h);if(n){o=e.getTrusted(j,o)}var p=K(o);p.exp=h;p.expressions=[];p.$$watchDelegate=l;return p}m=!!m;var q,r,s=0,t=[],u,v=h.length,w,x=[],y=[],z;while(s<v){if((q=h.indexOf(a,s))!==-1&&(r=h.indexOf(b,q+f))!==-1){if(s!==q){x.push(k(h.substring(s,q)))}w=h.substring(q+f,r);t.push(w);s=r+g;y.push(x.length);x.push("")}else{if(s!==v){x.push(k(h.substring(s)))}break}}z=x.length===1&&y.length===1;var A=n&&z?undefined:C;u=t.map(function(a){return c(a,A)});if(!i||t.length){var B=function(a){for(var b=0,c=t.length;b<c;b++){if(m&&M(a[b]))return;x[y[b]]=a[b]}if(n){return e.getTrusted(j,z?x[0]:x.join(""))}else if(j&&x.length>1){Cd.throwNoconcat(h)}return x.join("")};return D(function a(b){var c=0;var e=t.length;var f=new Array(e);try{for(;c<e;c++){f[c]=u[c](b)}return B(f)}catch(a){d(Cd.interr(h,a))}},{exp:h,expressions:t,$$watchDelegate:function(a,b){var c;return a.$watchGroup(u,function d(e,f){var g=B(e);b.call(this,g,e!==f?c:g,a);c=g})}})}function C(a){try{a=j&&!n?e.getTrusted(j,a):e.valueOf(a);return m&&!N(a)?a:Za(a)}catch(a){d(Cd.interr(h,a))}}}m.startSymbol=function(){return a};m.endSymbol=function(){return b};return m}]}var Ed=e("$interval");function Fd(){this.$get=["$$intervalFactory","$window",function(a,b){var c={};var d=function(a,d,e){var f=b.setInterval(a,d);c[f]=e;return f};var e=function(a){b.clearInterval(a);delete c[a]};var f=a(d,e);f.cancel=function(a){if(!a)return false;if(!a.hasOwnProperty("$$intervalId")){throw Ed("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.")}if(!c.hasOwnProperty(a.$$intervalId))return false;var b=a.$$intervalId;var d=c[b];Fe(d.promise);d.reject("canceled");e(b);return true};return f}]}function Gd(){this.$get=["$browser","$q","$$q","$rootScope",function(a,b,c,d){return function e(f,g){return function e(h,i,j,k){var l=arguments.length>4,m=l?sa(arguments,4):[],n=0,o=N(k)&&!k,p=(o?c:b).defer(),q=p.promise;j=N(j)?j:0;function r(){if(!l){h(n)}else{h.apply(null,m)}}function s(){if(o){a.defer(r)}else{d.$evalAsync(r)}p.notify(n++);if(j>0&&n>=j){p.resolve(n);g(q.$$intervalId)}if(!o)d.$apply()}q.$$intervalId=f(s,i,p,o);return q}}}]}var Hd=function(){this.$get=function(){var a=t.callbacks;var b={};function c(a){var b=function(a){b.data=a;b.called=true};b.id=a;return b}return{createCallback:function(d){var e="_"+(a.$$counter++).toString(36);var f="angular.callbacks."+e;var g=c(e);b[f]=a[e]=g;return f},wasCalled:function(a){return b[a].called},getResponse:function(a){return b[a].data},removeCallback:function(c){var d=b[c];delete a[d.id];delete b[c]}}}};var Id=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Jd={http:80,https:443,ftp:21};var Kd=e("$location");function Ld(a){var b=a.split("/"),c=b.length;while(c--){b[c]=Fa(b[c].replace(/%2F/g,"/"))}return b.join("/")}function Md(a,b){var c=a.split("/"),d=c.length;while(d--){c[d]=decodeURIComponent(c[d]);if(b){c[d]=c[d].replace(/\//g,"%2F")}}return c.join("/")}function Nd(a,b,c){var d=Ea(b),e=c?"#"+Fa(c):"",f=Ld(a);return f+(d?"?"+d:"")+e}function Od(a,b){var c=bf(a);b.$$protocol=c.protocol;b.$$host=c.hostname;b.$$port=F(c.port)||Jd[c.protocol]||null}var Pd=/^\s*[\\\/]{2,}/;function Qd(a,b,c){if(Pd.test(a)){throw Kd("badpath",'Invalid url "{0}".',a)}var d=a.charAt(0)!=="/";if(d){a="/"+a}var e=bf(a);var f=d&&e.pathname.charAt(0)==="/"?e.pathname.substring(1):e.pathname;b.$$path=Md(f,c);b.$$search=Da(e.search);b.$$hash=decodeURIComponent(e.hash);if(b.$$path&&b.$$path.charAt(0)!=="/"){b.$$path="/"+b.$$path}}function Rd(a,b){return a.slice(0,b.length)===b}function Sd(a,b){if(Rd(b,a)){return b.substr(a.length)}}function Td(a){var b=a.indexOf("#");return b===-1?a:a.substr(0,b)}function Ud(a){return a.substr(0,Td(a).lastIndexOf("/")+1)}function Vd(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Wd(a,b,c){this.$$html5=true;c=c||"";Od(a,this);this.$$parse=function(a){var c=Sd(b,a);if(!Q(c)){throw Kd("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b)}Qd(c,this,true);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$normalizeUrl=function(a){return b+a.substr(1)};this.$$parseLinkUrl=function(d,e){if(e&&e[0]==="#"){this.hash(e.slice(1));return true}var f,g;var h;if(N(f=Sd(a,d))){g=f;if(c&&N(f=Sd(c,f))){h=b+(Sd("/",f)||f)}else{h=a+g}}else if(N(f=Sd(b,d))){h=b+f}else if(b===d+"/"){h=b}if(h){this.$$parse(h)}return!!h}}function Xd(a,b,c){Od(a,this);this.$$parse=function(d){var e=Sd(a,d)||Sd(b,d);var f;if(!M(e)&&e.charAt(0)==="#"){f=Sd(c,e);if(M(f)){f=e}}else{if(this.$$html5){f=e}else{f="";if(M(e)){a=d;this.replace()}}}Qd(f,this,false);this.$$path=g(this.$$path,f,a);this.$$compose();function g(a,b,c){var d=/^\/[A-Z]:(\/.*)/;var e;if(Rd(b,c)){b=b.replace(c,"")}if(d.exec(b)){return a}e=d.exec(a);return e?e[1]:a}};this.$$normalizeUrl=function(b){return a+(b?c+b:"")};this.$$parseLinkUrl=function(b,c){if(Td(a)===Td(b)){this.$$parse(b);return true}return false}}function Yd(a,b,c){this.$$html5=true;Xd.apply(this,arguments);this.$$parseLinkUrl=function(d,e){if(e&&e[0]==="#"){this.hash(e.slice(1));return true}var f;var g;if(a===Td(d)){f=d}else if(g=Sd(b,d)){f=a+c+g}else if(b===d+"/"){f=b}if(f){this.$$parse(f)}return!!f};this.$$normalizeUrl=function(b){return a+c+b}}var Zd={$$absUrl:"",$$html5:false,$$replace:false,$$compose:function(){this.$$url=Nd(this.$$path,this.$$search,this.$$hash);this.$$absUrl=this.$$normalizeUrl(this.$$url);this.$$urlUpdatedByLocation=true},absUrl:$d("$$absUrl"),url:function(a){if(M(a)){return this.$$url}var b=Id.exec(a);if(b[1]||a==="")this.path(decodeURIComponent(b[1]));if(b[2]||b[1]||a==="")this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:$d("$$protocol"),host:$d("$$host"),port:$d("$$port"),path:_d("$$path",function(a){a=a!==null?a.toString():"";return a.charAt(0)==="/"?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(Q(a)||R(a)){a=a.toString();this.$$search=Da(a)}else if(O(a)){a=ma(a,{});x(a,function(b,c){if(b==null)delete a[c]});this.$$search=a}else{throw Kd("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(M(b)||b===null){delete this.$$search[a]}else{this.$$search[a]=b}}this.$$compose();return this},hash:_d("$$hash",function(a){return a!==null?a.toString():""}),replace:function(){this.$$replace=true;return this}};x([Yd,Xd,Wd],function(a){a.prototype=Object.create(Zd);a.prototype.state=function(b){if(!arguments.length){return this.$$state}if(a!==Wd||!this.$$html5){throw Kd("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=M(b)?null:b;this.$$urlUpdatedByLocation=true;return this}});function $d(a){return function(){return this[a]}}function _d(a,b){return function(c){if(M(c)){return this[a]}this[a]=b(c);this.$$compose();return this}}function ae(){var a="!",b={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(b){if(N(b)){a=b;return this}else{return a}};this.html5Mode=function(a){if(aa(a)){b.enabled=a;return this}else if(O(a)){if(aa(a.enabled)){b.enabled=a.enabled}if(aa(a.requireBase)){b.requireBase=a.requireBase}if(aa(a.rewriteLinks)||Q(a.rewriteLinks)){b.rewriteLinks=a.rewriteLinks}return this}else{return b}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){var h,i,j=d.baseHref(),k=d.url(),m;if(b.enabled){if(!j&&b.requireBase){throw Kd("nobase","$location in HTML5 mode requires a <base> tag to be present!")}m=Vd(k)+(j||"/");i=e.history?Wd:Yd}else{m=Td(k);i=Xd}var n=Ud(m);h=new i(m,n,"#"+a);h.$$parseLinkUrl(k,k);h.$$state=d.state();var o=/^\s*(javascript|mailto):/i;function p(a,b){return a===b||bf(a).href===bf(b).href}function q(a,b,c){var e=h.url();var f=h.$$state;try{d.url(a,b,c);h.$$state=d.state()}catch(a){h.url(e);h.$$state=f;throw a}}f.on("click",function(a){var e=b.rewriteLinks;if(!e||a.ctrlKey||a.metaKey||a.shiftKey||a.which===2||a.button===2)return;var g=l(a.target);while(ja(g[0])!=="a"){if(g[0]===f[0]||!(g=g.parent())[0])return}if(Q(e)&&M(g.attr(e)))return;var i=g.prop("href");var j=g.attr("href")||g.attr("xlink:href");if(O(i)&&i.toString()==="[object SVGAnimatedString]"){i=bf(i.animVal).href}if(o.test(i))return;if(i&&!g.attr("target")&&!a.isDefaultPrevented()){if(h.$$parseLinkUrl(i,j)){a.preventDefault();if(h.absUrl()!==d.url()){c.$apply()}}}});if(h.absUrl()!==k){d.url(h.absUrl(),true)}var r=true;d.onUrlChange(function(a,b){if(!Rd(a,n)){g.location.href=a;return}c.$evalAsync(function(){var d=h.absUrl();var e=h.$$state;var f;h.$$parse(a);h.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;if(h.absUrl()!==a)return;if(f){h.$$parse(d);h.$$state=e;q(d,false,e)}else{r=false;s(d,e)}});if(!c.$$phase)c.$digest()});c.$watch(function a(){if(r||h.$$urlUpdatedByLocation){h.$$urlUpdatedByLocation=false;var b=d.url();var f=h.absUrl();var g=d.state();var i=h.$$replace;var j=!p(b,f)||h.$$html5&&e.history&&g!==h.$$state;if(r||j){r=false;c.$evalAsync(function(){var a=h.absUrl();var d=c.$broadcast("$locationChangeStart",a,b,h.$$state,g).defaultPrevented;if(h.absUrl()!==a)return;if(d){h.$$parse(b);h.$$state=g}else{if(j){q(a,i,g===h.$$state?null:h.$$state)}s(b,g)}})}}h.$$replace=false});return h;function s(a,b){c.$broadcast("$locationChangeSuccess",h.absUrl(),a,h.$$state,b)}}]}function be(){var a=true,b=this;this.debugEnabled=function(b){if(N(b)){a=b;return this}else{return a}};this.$get=["$window",function(c){var d=k||/\bEdge\//.test(c.navigator&&c.navigator.userAgent);return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){if(a){c.apply(b,arguments)}}}()};function e(a){if(U(a)){if(a.stack&&d){a=a.message&&a.stack.indexOf(a.message)===-1?"Error: "+a.message+"\n"+a.stack:a.stack}else if(a.sourceURL){a=a.message+"\n"+a.sourceURL+":"+a.line}}return a}function f(a){var b=c.console||{},d=b[a]||b.log||I;return function(){var a=[];x(arguments,function(b){a.push(e(b))});return Function.prototype.apply.call(d,b,a)}}}]}var ce=e("$parse");var de={}.constructor.prototype.valueOf;function ee(a){return a+""}var fe=Ya();x("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){fe[a]=true});var ge={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};var he=function a(b){this.options=b};he.prototype={constructor:he,lex:function(a){this.text=a;this.index=0;this.tokens=[];while(this.index<this.text.length){var b=this.text.charAt(this.index);if(b==='"'||b==="'"){this.readString(b)}else if(this.isNumber(b)||b==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdentifierStart(this.peekMultichar())){this.readIdent()}else if(this.is(b,"(){}[].,;:?")){this.tokens.push({index:this.index,text:b});this.index++}else if(this.isWhitespace(b)){this.index++}else{var c=b+this.peek();var d=c+this.peek(2);var e=fe[b];var f=fe[c];var g=fe[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:true});this.index+=h.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(a,b){return b.indexOf(a)!==-1},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):false},isNumber:function(a){return"0"<=a&&a<="9"&&typeof a==="string"},isWhitespace:function(a){return a===" "||a==="\r"||a==="\t"||a==="\n"||a==="\v"||a==="Â "},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||a==="$"},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){if(a.length===1)return a.charCodeAt(0);return(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index);var b=this.peek();if(!b){return a}var c=a.charCodeAt(0);var d=b.charCodeAt(0);if(c>=55296&&c<=56319&&d>=56320&&d<=57343){return a+b}return a},isExpOperator:function(a){return a==="-"||a==="+"||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=N(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ce("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){var a="";var b=this.index;while(this.index<this.text.length){var c=i(this.text.charAt(this.index));if(c==="."||this.isNumber(c)){a+=c}else{var d=this.peek();if(c==="e"&&this.isExpOperator(d)){a+=c}else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&a.charAt(a.length-1)==="e"){a+=c}else if(this.isExpOperator(c)&&(!d||!this.isNumber(d))&&a.charAt(a.length-1)==="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:b,text:a,constant:true,value:Number(a)})},readIdent:function(){var a=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var b=this.peekMultichar();if(!this.isIdentifierContinue(b)){break}this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:true})},readString:function(a){var b=this.index;this.index++;var c="";var d=a;var e=false;while(this.index<this.text.length){var f=this.text.charAt(this.index);d+=f;if(e){if(f==="u"){var g=this.text.substring(this.index+1,this.index+5);if(!g.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+g+"]")}this.index+=4;c+=String.fromCharCode(parseInt(g,16))}else{var h=ge[f];c=c+(h||f)}e=false}else if(f==="\\"){e=true}else if(f===a){this.index++;this.tokens.push({index:b,text:d,constant:true,value:c});return}else{c+=f}this.index++}this.throwError("Unterminated quote",b)}};var ie=function a(b,c){this.lexer=b;this.options=c};ie.Program="Program";ie.ExpressionStatement="ExpressionStatement";ie.AssignmentExpression="AssignmentExpression";ie.ConditionalExpression="ConditionalExpression";ie.LogicalExpression="LogicalExpression";ie.BinaryExpression="BinaryExpression";ie.UnaryExpression="UnaryExpression";ie.CallExpression="CallExpression";ie.MemberExpression="MemberExpression";ie.Identifier="Identifier";ie.Literal="Literal";ie.ArrayExpression="ArrayExpression";ie.Property="Property";ie.ObjectExpression="ObjectExpression";ie.ThisExpression="ThisExpression";ie.LocalsExpression="LocalsExpression";ie.NGValueParameter="NGValueParameter";ie.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);var b=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return b},program:function(){var a=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))a.push(this.expressionStatement());if(!this.expect(";")){return{type:ie.Program,body:a}}}},expressionStatement:function(){return{type:ie.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var a=this.expression();while(this.expect("|")){a=this.filter(a)}return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!re(a)){throw ce("lval","Trying to assign a value to a non l-value")}a={type:ie.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR();var b;var c;if(this.expect("?")){b=this.expression();if(this.consume(":")){c=this.expression();return{type:ie.ConditionalExpression,test:a,alternate:b,consequent:c}}}return a},logicalOR:function(){var a=this.logicalAND();while(this.expect("||")){a={type:ie.LogicalExpression,operator:"||",left:a,right:this.logicalAND()}}return a},logicalAND:function(){var a=this.equality();while(this.expect("&&")){a={type:ie.LogicalExpression,operator:"&&",left:a,right:this.equality()}}return a},equality:function(){var a=this.relational();var b;while(b=this.expect("==","!=","===","!==")){a={type:ie.BinaryExpression,operator:b.text,left:a,right:this.relational()}}return a},relational:function(){var a=this.additive();var b;while(b=this.expect("<",">","<=",">=")){a={type:ie.BinaryExpression,operator:b.text,left:a,right:this.additive()}}return a},additive:function(){var a=this.multiplicative();var b;while(b=this.expect("+","-")){a={type:ie.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()}}return a},multiplicative:function(){var a=this.unary();var b;while(b=this.expect("*","/","%")){a={type:ie.BinaryExpression,operator:b.text,left:a,right:this.unary()}}return a},unary:function(){var a;if(a=this.expect("+","-","!")){return{type:ie.UnaryExpression,operator:a.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var a;if(this.expect("(")){a=this.filterChain();this.consume(")")}else if(this.expect("[")){a=this.arrayDeclaration()}else if(this.expect("{")){a=this.object()}else if(this.selfReferential.hasOwnProperty(this.peek().text)){a=ma(this.selfReferential[this.consume().text])}else if(this.options.literals.hasOwnProperty(this.peek().text)){a={type:ie.Literal,value:this.options.literals[this.consume().text]}}else if(this.peek().identifier){a=this.identifier()}else if(this.peek().constant){a=this.constant()}else{this.throwError("not a primary expression",this.peek())}var b;while(b=this.expect("(","[",".")){if(b.text==="("){a={type:ie.CallExpression,callee:a,arguments:this.parseArguments()};this.consume(")")}else if(b.text==="["){a={type:ie.MemberExpression,object:a,property:this.expression(),computed:true};this.consume("]")}else if(b.text==="."){a={type:ie.MemberExpression,object:a,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return a},filter:function(a){var b=[a];var c={type:ie.CallExpression,callee:this.identifier(),arguments:b,filter:true};while(this.expect(":")){b.push(this.expression())}return c},parseArguments:function(){var a=[];if(this.peekToken().text!==")"){do{a.push(this.filterChain())}while(this.expect(","))}return a},identifier:function(){var a=this.consume();if(!a.identifier){this.throwError("is not a valid identifier",a)}return{type:ie.Identifier,name:a.text}},constant:function(){return{type:ie.Literal,value:this.consume().value
}},arrayDeclaration:function(){var a=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:ie.ArrayExpression,elements:a}},object:function(){var a=[],b;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}b={type:ie.Property,kind:"init"};if(this.peek().constant){b.key=this.constant();b.computed=false;this.consume(":");b.value=this.expression()}else if(this.peek().identifier){b.key=this.identifier();b.computed=false;if(this.peek(":")){this.consume(":");b.value=this.expression()}else{b.value=b.key}}else if(this.peek("[")){this.consume("[");b.key=this.expression();this.consume("]");b.computed=true;this.consume(":");b.value=this.expression()}else{this.throwError("invalid key",this.peek())}a.push(b)}while(this.expect(","))}this.consume("}");return{type:ie.ObjectExpression,properties:a}},throwError:function(a,b){throw ce("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(this.tokens.length===0){throw ce("ueoe","Unexpected end of expression: {0}",this.text)}var b=this.expect(a);if(!b){this.throwError("is unexpected, expecting ["+a+"]",this.peek())}return b},peekToken:function(){if(this.tokens.length===0){throw ce("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a];var g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e){return f}}return false},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);if(e){this.tokens.shift();return e}return false},selfReferential:{this:{type:ie.ThisExpression},$locals:{type:ie.LocalsExpression}}};function je(a,b){return typeof a!=="undefined"?a:b}function ke(a,b){if(typeof a==="undefined")return b;if(typeof b==="undefined")return a;return a+b}function le(a,b){var c=a(b);return!c.$stateful}var me=1;var ne=2;function oe(a,b){switch(a.type){case ie.MemberExpression:if(a.computed){return false}break;case ie.UnaryExpression:return me;case ie.BinaryExpression:return a.operator!=="+"?me:false;case ie.CallExpression:return false}return undefined===b?ne:b}function pe(a,b,c){var d;var e;var f;var g=a.isPure=oe(a,c);switch(a.type){case ie.Program:d=true;x(a.body,function(a){pe(a.expression,b,g);d=d&&a.expression.constant});a.constant=d;break;case ie.Literal:a.constant=true;a.toWatch=[];break;case ie.UnaryExpression:pe(a.argument,b,g);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case ie.BinaryExpression:pe(a.left,b,g);pe(a.right,b,g);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case ie.LogicalExpression:pe(a.left,b,g);pe(a.right,b,g);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case ie.ConditionalExpression:pe(a.test,b,g);pe(a.alternate,b,g);pe(a.consequent,b,g);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case ie.Identifier:a.constant=false;a.toWatch=[a];break;case ie.MemberExpression:pe(a.object,b,g);if(a.computed){pe(a.property,b,g)}a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=a.constant?[]:[a];break;case ie.CallExpression:f=a.filter?le(b,a.callee.name):false;d=f;e=[];x(a.arguments,function(a){pe(a,b,g);d=d&&a.constant;e.push.apply(e,a.toWatch)});a.constant=d;a.toWatch=f?e:[a];break;case ie.AssignmentExpression:pe(a.left,b,g);pe(a.right,b,g);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case ie.ArrayExpression:d=true;e=[];x(a.elements,function(a){pe(a,b,g);d=d&&a.constant;e.push.apply(e,a.toWatch)});a.constant=d;a.toWatch=e;break;case ie.ObjectExpression:d=true;e=[];x(a.properties,function(a){pe(a.value,b,g);d=d&&a.value.constant;e.push.apply(e,a.value.toWatch);if(a.computed){pe(a.key,b,false);d=d&&a.key.constant;e.push.apply(e,a.key.toWatch)}});a.constant=d;a.toWatch=e;break;case ie.ThisExpression:a.constant=false;a.toWatch=[];break;case ie.LocalsExpression:a.constant=false;a.toWatch=[];break}}function qe(a){if(a.length!==1)return;var b=a[0].expression;var c=b.toWatch;if(c.length!==1)return c;return c[0]!==b?c:undefined}function re(a){return a.type===ie.Identifier||a.type===ie.MemberExpression}function se(a){if(a.body.length===1&&re(a.body[0].expression)){return{type:ie.AssignmentExpression,left:a.body[0].expression,right:{type:ie.NGValueParameter},operator:"="}}}function te(a){return a.body.length===0||a.body.length===1&&(a.body[0].expression.type===ie.Literal||a.body[0].expression.type===ie.ArrayExpression||a.body[0].expression.type===ie.ObjectExpression)}function ue(a){return a.constant}function ve(a){this.$filter=a}ve.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};pe(a,b.$filter);var c="";var d;this.stage="assign";if(d=se(a)){this.state.computing="assign";var e=this.nextId();this.recurse(d,e);this.return_(e);c="fn.assign="+this.generateFunction("assign","s,v,l")}var f=qe(a.body);b.stage="inputs";x(f,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}};b.state.computing=d;var e=b.nextId();b.recurse(a,e);b.return_(e);b.state.inputs.push({name:d,isPure:a.isPure});a.watchId=c});this.state.computing="fn";this.stage="main";this.recurse(a);var g='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+c+this.watchFns()+"return fn;";var h=new Function("$filter","getStringValue","ifDefined","plus",g)(this.$filter,ee,je,ke);this.state=this.stage=undefined;return h},USE:"use",STRICT:"strict",watchFns:function(){var a=[];var b=this.state.inputs;var c=this;x(b,function(b){a.push("var "+b.name+"="+c.generateFunction(b.name,"s"));if(b.isPure){a.push(b.name,".isPure="+JSON.stringify(b.isPure)+";")}});if(b.length){a.push("fn.inputs=["+b.map(function(a){return a.name}).join(",")+"];")}return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[];var b=this;x(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")});if(a.length)return"var "+a.join(",")+";";return""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,d,e,f){var g,h,i=this,j,k,l;d=d||I;if(!f&&N(a.watchId)){b=b||this.nextId();this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,d,e,true));return}switch(a.type){case ie.Program:x(a.body,function(b,c){i.recurse(b.expression,undefined,undefined,function(a){h=a});if(c!==a.body.length-1){i.current().body.push(h,";")}else{i.return_(h)}});break;case ie.Literal:k=this.escape(a.value);this.assign(b,k);d(b||k);break;case ie.UnaryExpression:this.recurse(a.argument,undefined,undefined,function(a){h=a});k=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,k);d(k);break;case ie.BinaryExpression:this.recurse(a.left,undefined,undefined,function(a){g=a});this.recurse(a.right,undefined,undefined,function(a){h=a});if(a.operator==="+"){k=this.plus(g,h)}else if(a.operator==="-"){k=this.ifDefined(g,0)+a.operator+this.ifDefined(h,0)}else{k="("+g+")"+a.operator+"("+h+")"}this.assign(b,k);d(k);break;case ie.LogicalExpression:b=b||this.nextId();i.recurse(a.left,b);i.if_(a.operator==="&&"?b:i.not(b),i.lazyRecurse(a.right,b));d(b);break;case ie.ConditionalExpression:b=b||this.nextId();i.recurse(a.test,b);i.if_(b,i.lazyRecurse(a.alternate,b),i.lazyRecurse(a.consequent,b));d(b);break;case ie.Identifier:b=b||this.nextId();if(c){c.context=i.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s");c.computed=false;c.name=a.name}i.if_(i.stage==="inputs"||i.not(i.getHasOwnProperty("l",a.name)),function(){i.if_(i.stage==="inputs"||"s",function(){if(e&&e!==1){i.if_(i.isNull(i.nonComputedMember("s",a.name)),i.lazyAssign(i.nonComputedMember("s",a.name),"{}"))}i.assign(b,i.nonComputedMember("s",a.name))})},b&&i.lazyAssign(b,i.nonComputedMember("l",a.name)));d(b);break;case ie.MemberExpression:g=c&&(c.context=this.nextId())||this.nextId();b=b||this.nextId();i.recurse(a.object,g,undefined,function(){i.if_(i.notNull(g),function(){if(a.computed){h=i.nextId();i.recurse(a.property,h);i.getStringValue(h);if(e&&e!==1){i.if_(i.not(i.computedMember(g,h)),i.lazyAssign(i.computedMember(g,h),"{}"))}k=i.computedMember(g,h);i.assign(b,k);if(c){c.computed=true;c.name=h}}else{if(e&&e!==1){i.if_(i.isNull(i.nonComputedMember(g,a.property.name)),i.lazyAssign(i.nonComputedMember(g,a.property.name),"{}"))}k=i.nonComputedMember(g,a.property.name);i.assign(b,k);if(c){c.computed=false;c.name=a.property.name}}},function(){i.assign(b,"undefined")});d(b)},!!e);break;case ie.CallExpression:b=b||this.nextId();if(a.filter){h=i.filter(a.callee.name);j=[];x(a.arguments,function(a){var b=i.nextId();i.recurse(a,b);j.push(b)});k=h+"("+j.join(",")+")";i.assign(b,k);d(b)}else{h=i.nextId();g={};j=[];i.recurse(a.callee,h,g,function(){i.if_(i.notNull(h),function(){x(a.arguments,function(b){i.recurse(b,a.constant?undefined:i.nextId(),undefined,function(a){j.push(a)})});if(g.name){k=i.member(g.context,g.name,g.computed)+"("+j.join(",")+")"}else{k=h+"("+j.join(",")+")"}i.assign(b,k)},function(){i.assign(b,"undefined")});d(b)})}break;case ie.AssignmentExpression:h=this.nextId();g={};this.recurse(a.left,undefined,g,function(){i.if_(i.notNull(g.context),function(){i.recurse(a.right,h);k=i.member(g.context,g.name,g.computed)+a.operator+h;i.assign(b,k);d(b||k)})},1);break;case ie.ArrayExpression:j=[];x(a.elements,function(b){i.recurse(b,a.constant?undefined:i.nextId(),undefined,function(a){j.push(a)})});k="["+j.join(",")+"]";this.assign(b,k);d(b||k);break;case ie.ObjectExpression:j=[];l=false;x(a.properties,function(a){if(a.computed){l=true}});if(l){b=b||this.nextId();this.assign(b,"{}");x(a.properties,function(a){if(a.computed){g=i.nextId();i.recurse(a.key,g)}else{g=a.key.type===ie.Identifier?a.key.name:""+a.key.value}h=i.nextId();i.recurse(a.value,h);i.assign(i.member(b,g,a.computed),h)})}else{x(a.properties,function(b){i.recurse(b.value,a.constant?undefined:i.nextId(),undefined,function(a){j.push(i.escape(b.key.type===ie.Identifier?b.key.name:""+b.key.value)+":"+a)})});k="{"+j.join(",")+"}";this.assign(b,k)}d(b||k);break;case ie.ThisExpression:this.assign(b,"s");d(b||"s");break;case ie.LocalsExpression:this.assign(b,"l");d(b||"l");break;case ie.NGValueParameter:this.assign(b,"v");d(b||"v");break}},getHasOwnProperty:function(a,b){var c=a+"."+b;var d=this.current().own;if(!d.hasOwnProperty(c)){d[c]=this.nextId(false,a+"&&("+this.escape(b)+" in "+a+")")}return d[c]},assign:function(a,b){if(!a)return;this.current().body.push(a,"=",b,";");return a},filter:function(a){if(!this.state.filters.hasOwnProperty(a)){this.state.filters[a]=this.nextId(true)}return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===true){b()}else{var d=this.current().body;d.push("if(",a,"){");b();d.push("}");if(c){d.push("else{");c();d.push("}")}}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;var d=/[^$_a-zA-Z0-9]/g;if(c.test(b)){return a+"."+b}else{return a+'["'+b.replace(d,this.stringEscapeFn)+'"]'}},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){if(c)return this.computedMember(a,b);return this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(Q(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(R(a))return a.toString();if(a===true)return"true";if(a===false)return"false";if(a===null)return"null";if(typeof a==="undefined")return"undefined";throw ce("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;if(!a){this.current().vars.push(c+(b?"="+b:""))}return c},current:function(){return this.state[this.state.computing]}};function we(a){this.$filter=a}we.prototype={compile:function(a){var b=this;pe(a,b.$filter);var c;var d;if(c=se(a)){d=this.recurse(c)}var e=qe(a.body);var f;if(e){f=[];x(e,function(a,c){var d=b.recurse(a);d.isPure=a.isPure;a.input=d;f.push(d);a.watchId=c})}var g=[];x(a.body,function(a){g.push(b.recurse(a.expression))});var h=a.body.length===0?I:a.body.length===1?g[0]:function(a,b){var c;x(g,function(d){c=d(a,b)});return c};if(d){h.assign=function(a,b,c){return d(a,c,b)}}if(f){h.inputs=f}return h},recurse:function(a,b,c){var d,e,f=this,g;if(a.input){return this.inputs(a.input,a.watchId)}switch(a.type){case ie.Literal:return this.value(a.value,b);case ie.UnaryExpression:e=this.recurse(a.argument);return this["unary"+a.operator](e,b);case ie.BinaryExpression:d=this.recurse(a.left);e=this.recurse(a.right);return this["binary"+a.operator](d,e,b);case ie.LogicalExpression:d=this.recurse(a.left);e=this.recurse(a.right);return this["binary"+a.operator](d,e,b);case ie.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case ie.Identifier:return f.identifier(a.name,b,c);case ie.MemberExpression:d=this.recurse(a.object,false,!!c);if(!a.computed){e=a.property.name}if(a.computed)e=this.recurse(a.property);return a.computed?this.computedMember(d,e,b,c):this.nonComputedMember(d,e,b,c);case ie.CallExpression:g=[];x(a.arguments,function(a){g.push(f.recurse(a))});if(a.filter)e=this.$filter(a.callee.name);if(!a.filter)e=this.recurse(a.callee,true);return a.filter?function(a,c,d,f){var h=[];for(var i=0;i<g.length;++i){h.push(g[i](a,c,d,f))}var j=e.apply(undefined,h,f);return b?{context:undefined,name:undefined,value:j}:j}:function(a,c,d,f){var h=e(a,c,d,f);var i;if(h.value!=null){var j=[];for(var k=0;k<g.length;++k){j.push(g[k](a,c,d,f))}i=h.value.apply(h.context,j)}return b?{value:i}:i};case ie.AssignmentExpression:d=this.recurse(a.left,true,1);e=this.recurse(a.right);return function(a,c,f,g){var h=d(a,c,f,g);var i=e(a,c,f,g);h.context[h.name]=i;return b?{value:i}:i};case ie.ArrayExpression:g=[];x(a.elements,function(a){g.push(f.recurse(a))});return function(a,c,d,e){var f=[];for(var h=0;h<g.length;++h){f.push(g[h](a,c,d,e))}return b?{value:f}:f};case ie.ObjectExpression:g=[];x(a.properties,function(a){if(a.computed){g.push({key:f.recurse(a.key),computed:true,value:f.recurse(a.value)})}else{g.push({key:a.key.type===ie.Identifier?a.key.name:""+a.key.value,computed:false,value:f.recurse(a.value)})}});return function(a,c,d,e){var f={};for(var h=0;h<g.length;++h){if(g[h].computed){f[g[h].key(a,c,d,e)]=g[h].value(a,c,d,e)}else{f[g[h].key]=g[h].value(a,c,d,e)}}return b?{value:f}:f};case ie.ThisExpression:return function(a){return b?{value:a}:a};case ie.LocalsExpression:return function(a,c){return b?{value:c}:c};case ie.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);if(N(g)){g=+g}else{g=0}return b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);if(N(g)){g=-g}else{g=-0}return b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);var i=b(d,e,f,g);var j=ke(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g);var i=b(d,e,f,g);var j=(N(h)?h:0)-(N(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:undefined,name:undefined,value:a}:a}},identifier:function(a,b,c){return function(d,e,f,g){var h=e&&a in e?e:d;if(c&&c!==1&&h&&h[a]==null){h[a]={}}var i=h?h[a]:undefined;if(b){return{context:h,name:a,value:i}}else{return i}}},computedMember:function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h);var j;var k;if(i!=null){j=b(e,f,g,h);j=ee(j);if(d&&d!==1){if(i&&!i[j]){i[j]={}}}k=i[j]}if(c){return{context:i,name:j,value:k}}else{return k}}},nonComputedMember:function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h);if(d&&d!==1){if(i&&i[b]==null){i[b]={}}}var j=i!=null?i[b]:undefined;if(c){return{context:i,name:b,value:j}}else{return j}}},inputs:function(a,b){return function(c,d,e,f){if(f)return f[b];return a(c,d,e)}}};function xe(a,b,c){this.ast=new ie(a,c);this.astCompiler=c.csp?new we(b):new ve(b)}xe.prototype={constructor:xe,parse:function(a){var b=this.getAst(a);var c=this.astCompiler.compile(b.ast);c.literal=te(b.ast);c.constant=ue(b.ast);c.oneTime=b.oneTime;return c},getAst:function(a){var b=false;a=a.trim();if(a.charAt(0)===":"&&a.charAt(1)===":"){b=true;a=a.substring(2)}return{ast:this.ast.ast(a),oneTime:b}}};function ye(a){return V(a.valueOf)?a.valueOf():de.call(a)}function ze(){var a=Ya();var b={true:true,false:false,null:null,undefined:undefined};var c,d;this.addLiteral=function(a,c){b[a]=c};this.setIdentifierFns=function(a,b){c=a;d=b;return this};this.$get=["$filter",function(e){var f=pa().noUnsafeEval;var g={csp:f,literals:ma(b),isIdentifierStart:V(c)&&c,isIdentifierContinue:V(d)&&d};h.$$getAst=i;return h;function h(b,c){var d,f;switch(typeof b){case"string":b=b.trim();f=b;d=a[f];if(!d){var h=new he(g);var i=new xe(h,e,g);d=i.parse(b);a[f]=o(d)}return q(d,c);case"function":return q(b,c);default:return q(I,c)}}function i(a){var b=new he(g);var c=new xe(b,e,g);return c.getAst(a).ast}function j(a,b,c){if(a==null||b==null){return a===b}if(typeof a==="object"){a=ye(a);if(typeof a==="object"&&!c){return false}}return a===b||a!==a&&b!==b}function k(a,b,c,d,e){var f=d.inputs;var g;if(f.length===1){var h=j;f=f[0];return a.$watch(function a(b){var c=f(b);if(!j(c,h,f.isPure)){g=d(b,undefined,undefined,[c]);h=c&&ye(c)}return g},b,c,e)}var i=[];var k=[];for(var l=0,m=f.length;l<m;l++){i[l]=j;k[l]=null}return a.$watch(function a(b){var c=false;for(var e=0,h=f.length;e<h;e++){var l=f[e](b);if(c||(c=!j(l,i[e],f[e].isPure))){k[e]=l;i[e]=l&&ye(l)}}if(c){g=d(b,undefined,undefined,k)}return g},b,c,e)}function l(a,b,c,d,e){var f=d.literal?m:N;var g,h;var i=d.$$intercepted||d;var j=d.$$interceptor||J;var k=d.inputs&&!i.inputs;n.literal=d.literal;n.constant=d.constant;n.inputs=d.inputs;o(n);g=a.$watch(n,b,c,e);return g;function l(){if(f(h)){g()}}function n(a,b,c,d){h=k&&d?d[0]:i(a,b,c,d);if(f(h)){a.$$postDigest(l)}return j(h)}}function m(a){var b=true;x(a,function(a){if(!N(a))b=false});return b}function n(a,b,c,d){var e=a.$watch(function a(b){e();return d(b)},b,c);return e}function o(a){if(a.constant){a.$$watchDelegate=n}else if(a.oneTime){a.$$watchDelegate=l}else if(a.inputs){a.$$watchDelegate=k}return a}function p(a,b){function c(c){return b(a(c))}c.$stateful=a.$stateful||b.$stateful;c.$$pure=a.$$pure&&b.$$pure;return c}function q(a,b){if(!b)return a;if(a.$$interceptor){b=p(a.$$interceptor,b);a=a.$$intercepted}var c=false;var d=function d(e,f,g,h){var i=c&&h?h[0]:a(e,f,g,h);return b(i)};d.$$intercepted=a;d.$$interceptor=b;d.literal=a.literal;d.oneTime=a.oneTime;d.constant=a.constant;if(!b.$stateful){c=!a.inputs;d.inputs=a.inputs?a.inputs:[a];if(!b.$$pure){d.inputs=d.inputs.map(function(a){if(a.isPure===ne){return function b(c){return a(c)}}return a})}}return o(d)}}]}function Ae(){var a=true;this.$get=["$rootScope","$exceptionHandler",function(b,c){return Ce(function(a){b.$evalAsync(a)},c,a)}];this.errorOnUnhandledRejections=function(b){if(N(b)){a=b;return this}else{return a}}}function Be(){var a=true;this.$get=["$browser","$exceptionHandler",function(b,c){return Ce(function(a){b.defer(a)},c,a)}];this.errorOnUnhandledRejections=function(b){if(N(b)){a=b;return this}else{return a}}}function Ce(a,b,c){var d=e("$q",TypeError);var f=0;var g=[];function h(){return new i}function i(){var a=this.promise=new j;this.resolve=function(b){n(a,b)};this.reject=function(b){p(a,b)};this.notify=function(b){r(a,b)}}function j(){this.$$state={status:0}}D(j.prototype,{then:function(a,b,c){if(M(a)&&M(b)&&M(c)){return this}var d=new j;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);if(this.$$state.status>0)m(this.$$state);return d},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return t(b,v,a)},function(b){return t(b,s,a)},b)}});function k(d){var e,g,h;h=d.pending;d.processScheduled=false;d.pending=undefined;try{for(var i=0,j=h.length;i<j;++i){Ee(d);g=h[i][0];e=h[i][d.status];try{if(V(e)){n(g,e(d.value))}else if(d.status===1){n(g,d.value)}else{p(g,d.value)}}catch(a){p(g,a);if(a&&a.$$passToExceptionHandler===true){b(a)}}}}finally{--f;if(c&&f===0){a(l)}}}function l(){while(!f&&g.length){var a=g.shift();if(!De(a)){Ee(a);var c="Possibly unhandled rejection: "+hb(a.value);if(U(a.value)){b(a.value,c)}else{b(c)}}}}function m(b){if(c&&!b.pending&&b.status===2&&!De(b)){if(f===0&&g.length===0){a(l)}g.push(b)}if(b.processScheduled||!b.pending)return;b.processScheduled=true;++f;a(function(){k(b)})}function n(a,b){if(a.$$state.status)return;if(b===a){q(a,d("qcycle","Expected promise to be resolved with value other than itself '{0}'",b))}else{o(a,b)}}function o(a,b){var c;var d=false;try{if(O(b)||V(b))c=b.then;if(V(c)){a.$$state.status=-1;c.call(b,e,f,g)}else{a.$$state.value=b;a.$$state.status=1;m(a.$$state)}}catch(a){f(a)}function e(b){if(d)return;d=true;o(a,b)}function f(b){if(d)return;d=true;q(a,b)}function g(b){r(a,b)}}function p(a,b){if(a.$$state.status)return;q(a,b)}function q(a,b){a.$$state.value=b;a.$$state.status=2;m(a.$$state)}function r(c,d){var e=c.$$state.pending;if(c.$$state.status<=0&&e&&e.length){a(function(){var a,c;for(var f=0,g=e.length;f<g;f++){c=e[f][0];a=e[f][3];try{r(c,V(a)?a(d):d)}catch(a){b(a)}}})}}function s(a){var b=new j;p(b,a);return b}function t(a,b,c){var d=null;try{if(V(c))d=c()}catch(a){return s(a)}if(ba(d)){return d.then(function(){return b(a)},s)}else{return b(a)}}function u(a,b,c,d){var e=new j;n(e,a);return e.then(b,c,d)}var v=u;function w(a){var b=new j,c=0,d=T(a)?[]:{};x(a,function(a,e){c++;u(a).then(function(a){d[e]=a;if(!--c)n(b,d)},function(a){p(b,a)})});if(c===0){n(b,d)}return b}function y(a){var b=h();x(a,function(a){u(a).then(b.resolve,b.reject)});return b.promise}function z(a){if(!V(a)){throw d("norslvr","Expected resolverFn, got '{0}'",a)}var b=new j;function c(a){n(b,a)}function e(a){p(b,a)}a(c,e);return b}z.prototype=j.prototype;z.defer=h;z.reject=s;z.when=u;z.resolve=v;z.all=w;z.race=y;return z}function De(a){return!!a.pur}function Ee(a){a.pur=true}function Fe(a){if(a.$$state){Ee(a.$$state)}}function Ge(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame;var d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame;var e=!!c;var f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,false);return function(){b.cancel(c)}};f.supported=e;return f}]}function He(){var a=10;var b=e("$rootScope");var c=null;var d=null;this.digestTtl=function(b){if(arguments.length){a=b}return a};function f(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=A();this.$$ChildScope=null;this.$$suspended=false}b.prototype=a;return b}this.$get=["$exceptionHandler","$parse","$browser",function(e,g,i){function j(a){a.currentScope.$$destroyed=true}function l(a){if(k===9){if(a.$$childHead){l(a.$$childHead)}if(a.$$nextSibling){l(a.$$nextSibling)}}a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=A();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$suspended=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}m.prototype={constructor:m,$new:function(a,b){var c;b=b||this;if(a){c=new m;c.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=f(this)}c=new this.$$ChildScope}c.$parent=b;c.$$prevSibling=b.$$childTail;if(b.$$childHead){b.$$childTail.$$nextSibling=c;b.$$childTail=c}else{b.$$childHead=b.$$childTail=c}if(a||b!==this)c.$on("$destroy",j);return c},$watch:function(a,b,d,e){var f=g(a);var h=V(b)?b:I;if(f.$$watchDelegate){return f.$$watchDelegate(this,h,d,f,a)}var i=this,j=i.$$watchers,k={fn:h,last:y,get:f,exp:e||a,eq:!!d};c=null;if(!j){j=i.$$watchers=[];j.$$digestWatchIndex=-1}j.unshift(k);j.$$digestWatchIndex++;u(this,1);return function a(){var b=la(j,k);if(b>=0){u(i,-1);if(b<j.$$digestWatchIndex){j.$$digestWatchIndex--}}c=null}},$watchGroup:function(a,b){var c=new Array(a.length);var d=new Array(a.length);var e=[];var f=this;var g=false;var h=true;if(!a.length){var i=true;f.$evalAsync(function(){if(i)b(d,d,f)});return function a(){i=false}}if(a.length===1){return this.$watch(a[0],function a(e,f,g){d[0]=e;c[0]=f;b(d,e===f?d:c,g)})}x(a,function(a,b){var c=f.$watch(a,function a(c){d[b]=c;if(!g){g=true;f.$evalAsync(j)}});e.push(c)});function j(){g=false;try{if(h){h=false;b(d,d,f)}else{b(d,c,f)}}finally{for(var e=0;e<a.length;e++){c[e]=d[e]}}}return function a(){while(e.length){e.shift()()}}},$watchCollection:function(a,b){p.$$pure=g(a).literal;p.$stateful=!p.$$pure;var c=this;var d;var e;var f;var i=b.length>1;var j=0;var k=g(a,p);var l=[];var m={};var n=true;var o=0;function p(a){d=a;var b,c,f,g,i;if(M(d))return;if(!O(d)){if(e!==d){e=d;j++}}else if(w(d)){if(e!==l){e=l;o=e.length=0;j++}b=d.length;if(o!==b){j++;e.length=o=b}for(var k=0;k<b;k++){i=e[k];g=d[k];f=i!==i&&g!==g;if(!f&&i!==g){j++;e[k]=g}}}else{if(e!==m){e=m={};o=0;j++}b=0;for(c in d){if(h.call(d,c)){b++;g=d[c];i=e[c];if(c in e){f=i!==i&&g!==g;if(!f&&i!==g){j++;e[c]=g}}else{o++;e[c]=g;j++}}}if(o>b){j++;for(c in e){if(!h.call(d,c)){o--;delete e[c]}}}}return j}function q(){if(n){n=false;b(d,d,c)}else{b(d,f,c)}if(i){if(!O(d)){f=d}else if(w(d)){f=new Array(d.length);for(var a=0;a<d.length;a++){f[a]=d[a]}}else{f={};for(var e in d){if(h.call(d,e)){f[e]=d[e]}}}}}return this.$watch(k,q)},$digest:function(){var f,g,h,j,k,l,m,q=a,u,v,w=o.length?n:this,x=[],A,B;s("$digest");i.$$checkUrlChange();if(this===n&&d!==null){i.defer.cancel(d);z()}c=null;do{m=false;v=w;for(var C=0;C<o.length;C++){try{B=o[C];j=B.fn;j(B.scope,B.locals)}catch(a){e(a)}c=null}o.length=0;a:do{if(l=!v.$$suspended&&v.$$watchers){l.$$digestWatchIndex=l.length;while(l.$$digestWatchIndex--){try{f=l[l.$$digestWatchIndex];if(f){k=f.get;if((g=k(v))!==(h=f.last)&&!(f.eq?oa(g,h):G(g)&&G(h))){m=true;c=f;f.last=f.eq?ma(g,null):g;j=f.fn;j(g,h===y?g:h,v);if(q<5){A=4-q;if(!x[A])x[A]=[];x[A].push({msg:V(f.exp)?"fn: "+(f.exp.name||f.exp.toString()):f.exp,newVal:g,oldVal:h})}}else if(f===c){m=false;break a}}}catch(a){e(a)}}}if(!(u=!v.$$suspended&&v.$$watchersCount&&v.$$childHead||v!==w&&v.$$nextSibling)){while(v!==w&&!(u=v.$$nextSibling)){v=v.$parent}}}while(v=u);if((m||o.length)&&!q--){t();throw b("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",a,x)}}while(m||o.length);t();while(r<p.length){try{p[r++]()}catch(a){e(a)}}p.length=r=0;i.$$checkUrlChange()},$suspend:function(){this.$$suspended=true},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=false},$destroy:function(){if(this.$$destroyed)return;var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===n){i.$$applicationDestroyed()}u(this,-this.$$watchersCount);for(var b in this.$$listenerCount){v(this,this.$$listenerCount[b],b)}if(a&&a.$$childHead===this)a.$$childHead=this.$$nextSibling;if(a&&a.$$childTail===this)a.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=I;this.$on=this.$watch=this.$watchGroup=function(){return I};this.$$listeners={};this.$$nextSibling=null;l(this)},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){if(!n.$$phase&&!o.length){i.defer(function(){if(o.length){n.$digest()}},null,"$evalAsync")}o.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){p.push(a)},$apply:function(a){try{s("$apply");try{return this.$eval(a)}finally{t()}}catch(a){e(a)}finally{try{n.$digest()}catch(a){e(a);throw a}}},$applyAsync:function(a){var b=this;if(a){q.push(c)}a=g(a);B();function c(){b.$eval(a)}},$on:function(a,b){var c=this.$$listeners[a];if(!c){this.$$listeners[a]=c=[]}c.push(b);var d=this;do{if(!d.$$listenerCount[a]){d.$$listenerCount[a]=0}d.$$listenerCount[a]++}while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);if(d!==-1){delete c[d];v(e,1,a)}}},$emit:function(a,b){var c=[],d,f=this,g=false,h={name:a,targetScope:f,stopPropagation:function(){g=true},preventDefault:function(){h.defaultPrevented=true},defaultPrevented:false},i=ra([h],arguments,1),j,k;do{d=f.$$listeners[a]||c;h.currentScope=f;for(j=0,k=d.length;j<k;j++){if(!d[j]){d.splice(j,1);j--;k--;continue}try{d[j].apply(null,i)}catch(a){e(a)}}if(g){break}f=f.$parent}while(f);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=c,f=c,g={name:a,targetScope:c,preventDefault:function(){g.defaultPrevented=true},defaultPrevented:false};if(!c.$$listenerCount[a])return g;var h=ra([g],arguments,1),i,j,k;while(d=f){g.currentScope=d;i=d.$$listeners[a]||[];for(j=0,k=i.length;j<k;j++){if(!i[j]){i.splice(j,1);j--;k--;continue}try{i[j].apply(null,h)}catch(a){e(a)}}if(!(f=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling)){while(d!==c&&!(f=d.$$nextSibling)){d=d.$parent}}}g.currentScope=null;return g}};var n=new m;var o=n.$$asyncQueue=[];var p=n.$$postDigestQueue=[];var q=n.$$applyAsyncQueue=[];var r=0;return n;function s(a){if(n.$$phase){throw b("inprog","{0} already in progress",n.$$phase)}n.$$phase=a}function t(){n.$$phase=null}function u(a,b){do{a.$$watchersCount+=b}while(a=a.$parent)}function v(a,b,c){do{a.$$listenerCount[c]-=b;if(a.$$listenerCount[c]===0){delete a.$$listenerCount[c];
}}while(a=a.$parent)}function y(){}function z(){while(q.length){try{q.shift()()}catch(a){e(a)}}d=null}function B(){if(d===null){d=i.defer(function(){n.$apply(z)},null,"$applyAsync")}}}]}function Ie(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){if(N(b)){a=b;return this}return a};this.imgSrcSanitizationWhitelist=function(a){if(N(a)){b=a;return this}return b};this.$get=function(){return function c(d,e){var f=e?b:a;var g=bf(d&&d.trim()).href;if(g!==""&&!g.match(f)){return"unsafe:"+g}return d}}}var Je=e("$sce");var Ke={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};var Le=/_([a-z])/g;function Me(a){return a.replace(Le,sb)}function Ne(a){if(a==="self"){return a}else if(Q(a)){if(a.indexOf("***")>-1){throw Je("iwcard","Illegal sequence *** in string matcher.  String: {0}",a)}a=ga(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+a+"$")}else if(W(a)){return new RegExp("^"+a.source+"$")}else{throw Je("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function Oe(a){var b=[];if(N(a)){x(a,function(a){b.push(Ne(a))})}return b}function Pe(){this.SCE_CONTEXTS=Ke;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){if(arguments.length){a=Oe(b)}return a};this.resourceUrlBlacklist=function(a){if(arguments.length){b=Oe(a)}return b};this.$get=["$injector","$$sanitizeUri",function(c,d){var e=function a(b){throw Je("unsafe","Attempting to use an unsafe value in a safe context.")};if(c.has("$sanitize")){e=c.get("$sanitize")}function f(a,b){if(a==="self"){return cf(b)||df(b)}else{return!!a.exec(b.href)}}function g(c){var d=bf(c.toString());var e,g,h=false;for(e=0,g=a.length;e<g;e++){if(f(a[e],d)){h=true;break}}if(h){for(e=0,g=b.length;e<g;e++){if(f(b[e],d)){h=false;break}}}return h}function h(a){var b=function a(b){this.$$unwrapTrustedValue=function(){return b}};if(a){b.prototype=new a}b.prototype.valueOf=function a(){return this.$$unwrapTrustedValue()};b.prototype.toString=function a(){return this.$$unwrapTrustedValue().toString()};return b}var i=h(),j={};j[Ke.HTML]=h(i);j[Ke.CSS]=h(i);j[Ke.MEDIA_URL]=h(i);j[Ke.URL]=h(j[Ke.MEDIA_URL]);j[Ke.JS]=h(i);j[Ke.RESOURCE_URL]=h(j[Ke.URL]);function k(a,b){var c=j.hasOwnProperty(a)?j[a]:null;if(!c){throw Je("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b)}if(b===null||M(b)||b===""){return b}if(typeof b!=="string"){throw Je("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a)}return new c(b)}function l(a){if(a instanceof i){return a.$$unwrapTrustedValue()}else{return a}}function m(a,b){if(b===null||M(b)||b===""){return b}var c=j.hasOwnProperty(a)?j[a]:null;if(c&&b instanceof c){return b.$$unwrapTrustedValue()}if(V(b.$$unwrapTrustedValue)){b=b.$$unwrapTrustedValue()}if(a===Ke.MEDIA_URL||a===Ke.URL){return d(b.toString(),a===Ke.MEDIA_URL)}else if(a===Ke.RESOURCE_URL){if(g(b)){return b}else{throw Je("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}}else if(a===Ke.HTML){return e(b)}throw Je("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:k,getTrusted:m,valueOf:l}}]}function Qe(){var a=true;this.enabled=function(b){if(arguments.length){a=!!b}return a};this.$get=["$parse","$sceDelegate",function(b,c){if(a&&k<8){throw Je("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var d=fb(Ke);d.isEnabled=function(){return a};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;if(!a){d.trustAs=d.getTrusted=function(a,b){return b};d.valueOf=J}d.parseAs=function a(c,e){var f=b(e);if(f.literal&&f.constant){return f}else{return b(e,function(a){return d.getTrusted(c,a)})}};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;x(Ke,function(a,b){var c=i(b);d[Me("parse_as_"+c)]=function(b){return e(a,b)};d[Me("get_trusted_"+c)]=function(b){return f(a,b)};d[Me("trust_as_"+c)]=function(b){return g(a,b)}});return d}]}function Re(){this.$get=["$window","$document",function(a,b){var c={},d=a.nw&&a.nw.process,e=!d&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id),f=!e&&a.history&&a.history.pushState,g=F((/android (\d+)/.exec(i((a.navigator||{}).userAgent))||[])[1]),h=/Boxee/i.test((a.navigator||{}).userAgent),j=b[0]||{},l=j.body&&j.body.style,m=false,n=false;if(l){m=!!("transition"in l||"webkitTransition"in l);n=!!("animation"in l||"webkitAnimation"in l)}return{history:!!(f&&!(g<4)&&!h),hasEvent:function(a){if(a==="input"&&k)return false;if(M(c[a])){var b=j.createElement("div");c[a]="on"+a in b}return c[a]},csp:pa(),transitions:m,animations:n,android:g}}]}function Se(){this.$get=K(function(a){return new Te(a)})}function Te(a){var b=this;var c={};var d=[];var e=b.ALL_TASKS_TYPE="$$all$$";var f=b.DEFAULT_TASK_TYPE="$$default$$";b.completeTask=g;b.incTaskCount=k;b.notifyWhenNoPendingTasks=l;function g(b,d){d=d||f;try{b()}finally{h(d);var g=c[d];var k=c[e];if(!k||!g){var l=!k?i:j;var m;while(m=l(d)){try{m()}catch(b){a.error(b)}}}}}function h(a){a=a||f;if(c[a]){c[a]--;c[e]--}}function i(){var a=d.pop();return a&&a.cb}function j(a){for(var b=d.length-1;b>=0;--b){var c=d[b];if(c.type===a){d.splice(b,1);return c.cb}}}function k(a){a=a||f;c[a]=(c[a]||0)+1;c[e]=(c[e]||0)+1}function l(a,b){b=b||e;if(!c[b]){a()}else{d.push({type:b,cb:a})}}}var Ue=e("$templateRequest");function Ve(){var a;this.httpOptions=function(b){if(b){a=b;return this}return a};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,c,d,e,f){function g(h,i){g.totalPendingRequests++;if(!Q(h)||M(c.get(h))){h=f.getTrustedResourceUrl(h)}var j=d.defaults&&d.defaults.transformResponse;if(T(j)){j=j.filter(function(a){return a!==sd})}else if(j===sd){j=null}return d.get(h,D({cache:c,transformResponse:j},a)).finally(function(){g.totalPendingRequests--}).then(function(a){return c.put(h,a.data)},k);function k(a){if(!i){a=Ue("tpload","Failed to load template: {0} (HTTP status: {1} {2})",h,a.status,a.statusText);b(a)}return e.reject(a)}}g.totalPendingRequests=0;return g}]}function We(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding");var e=[];x(d,function(a){var d=t.element(a).data("$binding");if(d){x(d,function(d){if(c){var f=new RegExp("(^|\\s)"+ga(b)+"(\\s|\\||$)");if(f.test(d)){e.push(a)}}else{if(d.indexOf(b)!==-1){e.push(a)}}})}});return e};d.findModels=function(a,b,c){var d=["ng-","data-ng-","ng\\:"];for(var e=0;e<d.length;++e){var f=c?"=":"*=";var g="["+d[e]+"model"+f+'"'+b+'"]';var h=a.querySelectorAll(g);if(h.length){return h}}};d.getLocation=function(){return c.url()};d.setLocation=function(b){if(b!==c.url()){c.url(b);a.$digest()}};d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)};return d}]}var Xe=e("$timeout");function Ye(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){var f={};function g(g,h,i){if(!V(g)){i=h;h=g;g=I}var j=sa(arguments,3),k=N(i)&&!i,l=(k?d:c).defer(),m=l.promise,n;n=b.defer(function(){try{l.resolve(g.apply(null,j))}catch(a){l.reject(a);e(a)}finally{delete f[m.$$timeoutId]}if(!k)a.$apply()},h,"$timeout");m.$$timeoutId=n;f[n]=l;return m}g.cancel=function(a){if(!a)return false;if(!a.hasOwnProperty("$$timeoutId")){throw Xe("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")}if(!f.hasOwnProperty(a.$$timeoutId))return false;var c=a.$$timeoutId;var d=f[c];Fe(d.promise);d.reject("canceled");delete f[c];return b.defer.cancel(c)};return g}]}var Ze=a.document.createElement("a");var $e=bf(a.location.href);var _e;Ze.href="http://[::1]";var af=Ze.hostname==="[::1]";function bf(a){if(!Q(a))return a;var b=a;if(k){Ze.setAttribute("href",b);b=Ze.href}Ze.setAttribute("href",b);var c=Ze.hostname;if(!af&&c.indexOf(":")>-1){c="["+c+"]"}return{href:Ze.href,protocol:Ze.protocol?Ze.protocol.replace(/:$/,""):"",host:Ze.host,search:Ze.search?Ze.search.replace(/^\?/,""):"",hash:Ze.hash?Ze.hash.replace(/^#/,""):"",hostname:c,port:Ze.port,pathname:Ze.pathname.charAt(0)==="/"?Ze.pathname:"/"+Ze.pathname}}function cf(a){return ff(a,$e)}function df(a){return ff(a,gf())}function ef(a){var b=[$e].concat(a.map(bf));return function a(c){var d=bf(c);return b.some(ff.bind(null,d))}}function ff(a,b){a=bf(a);b=bf(b);return a.protocol===b.protocol&&a.host===b.host}function gf(){if(a.document.baseURI){return a.document.baseURI}if(!_e){_e=a.document.createElement("a");_e.href=".";_e=_e.cloneNode(false)}return _e.href}function hf(){this.$get=K(a)}function jf(a){var b=a[0]||{};var c={};var d="";function e(a){try{return a.cookie||""}catch(a){return""}}function f(a){try{return decodeURIComponent(a)}catch(b){return a}}return function(){var a,g,h,i,j;var k=e(b);if(k!==d){d=k;a=d.split("; ");c={};for(h=0;h<a.length;h++){g=a[h];i=g.indexOf("=");if(i>0){j=f(g.substring(0,i));if(M(c[j])){c[j]=f(g.substring(i+1))}}}}return c}}jf.$inject=["$document"];function kf(){this.$get=jf}lf.$inject=["$provide"];function lf(a){var b="Filter";function c(d,e){if(O(d)){var f={};x(d,function(a,b){f[b]=c(b,a)});return f}else{return a.factory(d+b,e)}}this.register=c;this.$get=["$injector",function(a){return function(c){return a.get(c+b)}}];c("currency",tf);c("date",Lf);c("filter",mf);c("json",Mf);c("limitTo",Pf);c("lowercase",Nf);c("number",uf);c("orderBy",Rf);c("uppercase",Of)}function mf(){return function(a,b,c,d){if(!w(a)){if(a==null){return a}else{throw e("filter")("notarray","Expected array but received: {0}",a)}}d=d||"$";var f=pf(b);var g;var h;switch(f){case"function":g=b;break;case"boolean":case"null":case"number":case"string":h=true;case"object":g=nf(b,c,d,h);break;default:return a}return Array.prototype.filter.call(a,g)}}function nf(a,b,c,d){var e=O(a)&&c in a;var f;if(b===true){b=oa}else if(!V(b)){b=function(a,b){if(M(a)){return false}if(a===null||b===null){return a===b}if(O(b)||O(a)&&!L(a)){return false}a=i(""+a);b=i(""+b);return a.indexOf(b)!==-1}}f=function(f){if(e&&!O(f)){return of(f,a[c],b,c,false)}return of(f,a,b,c,d)};return f}function of(a,b,c,d,e,f){var g=pf(a);var h=pf(b);if(h==="string"&&b.charAt(0)==="!"){return!of(a,b.substring(1),c,d,e)}else if(T(a)){return a.some(function(a){return of(a,b,c,d,e)})}switch(g){case"object":var i;if(e){for(i in a){if(i.charAt&&i.charAt(0)!=="$"&&of(a[i],b,c,d,true)){return true}}return f?false:of(a,b,c,d,false)}else if(h==="object"){for(i in b){var j=b[i];if(V(j)||M(j)){continue}var k=i===d;var l=k?a:a[i];if(!of(l,j,c,d,k,k)){return false}}return true}else{return c(a,b)}case"function":return false;default:return c(a,b)}}function pf(a){return a===null?"null":typeof a}var qf=22;var rf=".";var sf="0";tf.$inject=["$locale"];function tf(a){var b=a.NUMBER_FORMATS;return function(a,c,d){if(M(c)){c=b.CURRENCY_SYM}if(M(d)){d=b.PATTERNS[1].maxFrac}var e=!c?/\s*\u00A4\s*/g:/\u00A4/g;return a==null?a:xf(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(e,c)}}uf.$inject=["$locale"];function uf(a){var b=a.NUMBER_FORMATS;return function(a,c){return a==null?a:xf(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function vf(a){var b=0,c,d;var e,f,g;if((d=a.indexOf(rf))>-1){a=a.replace(rf,"")}if((e=a.search(/e/i))>0){if(d<0)d=e;d+=+a.slice(e+1);a=a.substring(0,e)}else if(d<0){d=a.length}for(e=0;a.charAt(e)===sf;e++){}if(e===(g=a.length)){c=[0];d=1}else{g--;while(a.charAt(g)===sf)g--;d-=e;c=[];for(f=0;e<=g;e++,f++){c[f]=+a.charAt(e)}}if(d>qf){c=c.splice(0,qf-1);b=d-1;d=1}return{d:c,e:b,i:d}}function wf(a,b,c,d){var e=a.d;var f=e.length-a.i;b=M(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i;var h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++){e[i]=0}}else{f=Math.max(0,f);a.i=1;e.length=Math.max(1,g=b+1);e[0]=0;for(var j=1;j<g;j++)e[j]=0}if(h>=5){if(g-1<0){for(var k=0;k>g;k--){e.unshift(0);a.i++}e.unshift(1);a.i++}else{e[g-1]++}}for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){b=b+a;d[c]=b%10;return Math.floor(b/10)},0);if(l){e.unshift(l);a.i++}}function xf(a,b,c,d,e){if(!(Q(a)||R(a))||isNaN(a))return"";var f=!isFinite(a);var g=false;var h=Math.abs(a)+"",i="",j;if(f){i="â"}else{j=vf(h);wf(j,e,b.minFrac,b.maxFrac);var k=j.d;var l=j.i;var m=j.e;var n=[];g=k.reduce(function(a,b){return a&&!b},true);while(l<0){k.unshift(0);l++}if(l>0){n=k.splice(l,k.length)}else{n=k;k=[0]}var o=[];if(k.length>=b.lgSize){o.unshift(k.splice(-b.lgSize,k.length).join(""))}while(k.length>b.gSize){o.unshift(k.splice(-b.gSize,k.length).join(""))}if(k.length){o.unshift(k.join(""))}i=o.join(c);if(n.length){i+=d+n.join("")}if(m){i+="e+"+m}}if(a<0&&!g){return b.negPre+i+b.negSuf}else{return b.posPre+i+b.posSuf}}function yf(a,b,c,d){var e="";if(a<0||d&&a<=0){if(d){a=-a+1}else{a=-a;e="-"}}a=""+a;while(a.length<b)a=sf+a;if(c){a=a.substr(a.length-b)}return e+a}function zf(a,b,c,d,e){c=c||0;return function(f){var g=f["get"+a]();if(c>0||g>-c){g+=c}if(g===0&&c===-12)g=12;return yf(g,b,d,e)}}function Af(a,b,c){return function(d,e){var f=d["get"+a]();var g=(c?"STANDALONE":"")+(b?"SHORT":"");var h=j(g+a);return e[h][f]}}function Bf(a,b,c){var d=-1*c;var e=d>=0?"+":"";e+=yf(Math[d>0?"floor":"ceil"](d/60),2)+yf(Math.abs(d%60),2);return e}function Cf(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(b<=4?5:12)-b)}function Df(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function Ef(a){return function(b){var c=Cf(b.getFullYear()),d=Df(b);var e=+d-+c,f=1+Math.round(e/6048e5);return yf(f,a)}}function Ff(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Gf(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function Hf(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}var If={yyyy:zf("FullYear",4,0,false,true),yy:zf("FullYear",2,0,true,true),y:zf("FullYear",1,0,false,true),MMMM:Af("Month"),MMM:Af("Month",true),MM:zf("Month",2,1),M:zf("Month",1,1),LLLL:Af("Month",false,true),dd:zf("Date",2),d:zf("Date",1),HH:zf("Hours",2),H:zf("Hours",1),hh:zf("Hours",2,-12),h:zf("Hours",1,-12),mm:zf("Minutes",2),m:zf("Minutes",1),ss:zf("Seconds",2),s:zf("Seconds",1),sss:zf("Milliseconds",3),EEEE:Af("Day"),EEE:Af("Day",true),a:Ff,Z:Bf,ww:Ef(2),w:Ef(1),G:Gf,GG:Gf,GGG:Gf,GGGG:Hf};var Jf=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Kf=/^-?\d+$/;Lf.$inject=["$locale"];function Lf(a){var b=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function c(a){var c;if(c=a.match(b)){var d=new Date(0),e=0,f=0,g=c[8]?d.setUTCFullYear:d.setFullYear,h=c[8]?d.setUTCHours:d.setHours;if(c[9]){e=F(c[9]+c[10]);f=F(c[9]+c[11])}g.call(d,F(c[1]),F(c[2])-1,F(c[3]));var i=F(c[4]||0)-e;var j=F(c[5]||0)-f;var k=F(c[6]||0);var l=Math.round(parseFloat("0."+(c[7]||0))*1e3);h.call(d,i,j,k,l);return d}return a}return function(b,d,e){var f="",g=[],h,i;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;if(Q(b)){b=Kf.test(b)?F(b):c(b)}if(R(b)){b=new Date(b)}if(!S(b)||!isFinite(b.getTime())){return b}while(d){i=Jf.exec(d);if(i){g=ra(g,i,1);d=g.pop()}else{g.push(d);d=null}}var j=b.getTimezoneOffset();if(e){j=ya(e,j);b=Aa(b,e,true)}x(g,function(c){h=If[c];f+=h?h(b,a.DATETIME_FORMATS,j):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return f}}function Mf(){return function(a,b){if(M(b)){b=2}return va(a,b)}}var Nf=K(i);var Of=K(j);function Pf(){return function(a,b,c){if(Math.abs(Number(b))===Infinity){b=Number(b)}else{b=F(b)}if(G(b))return a;if(R(a))a=a.toString();if(!w(a))return a;c=!c||isNaN(c)?0:F(c);c=c<0?Math.max(0,a.length+c):c;if(b>=0){return Qf(a,c,c+b)}else{if(c===0){return Qf(a,b,a.length)}else{return Qf(a,Math.max(0,c+b),c)}}}}function Qf(a,b,c){if(Q(a))return a.slice(b,c);return n.call(a,b,c)}Rf.$inject=["$parse"];function Rf(a){return function(a,c,d,h){if(a==null)return a;if(!w(a)){throw e("orderBy")("notarray","Expected array but received: {0}",a)}if(!T(c)){c=[c]}if(c.length===0){c=["+"]}var i=b(c);var j=d?-1:1;var k=V(h)?h:g;var l=Array.prototype.map.call(a,m);l.sort(n);a=l.map(function(a){return a.value});return a;function m(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:i.map(function(c){return f(c.get(a),b)})}}function n(a,b){for(var c=0,d=i.length;c<d;c++){var e=k(a.predicateValues[c],b.predicateValues[c]);if(e){return e*i[c].descending*j}}return(k(a.tieBreaker,b.tieBreaker)||g(a.tieBreaker,b.tieBreaker))*j}};function b(b){return b.map(function(b){var c=1,d=J;if(V(b)){d=b}else if(Q(b)){if(b.charAt(0)==="+"||b.charAt(0)==="-"){c=b.charAt(0)==="-"?-1:1;b=b.substring(1)}if(b!==""){d=a(b);if(d.constant){var e=d();d=function(a){return a[e]}}}}return{get:d,descending:c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return true;default:return false}}function d(a){if(V(a.valueOf)){a=a.valueOf();if(c(a))return a}if(L(a)){a=a.toString();if(c(a))return a}return a}function f(a,b){var c=typeof a;if(a===null){c="null"}else if(c==="object"){a=d(a)}return{value:a,type:c,index:b}}function g(a,b){var c=0;var d=a.type;var e=b.type;if(d===e){var f=a.value;var g=b.value;if(d==="string"){f=f.toLowerCase();g=g.toLowerCase()}else if(d==="object"){if(O(f))f=a.index;if(O(g))g=b.index}if(f!==g){c=f<g?-1:1}}else{c=d==="undefined"?1:e==="undefined"?-1:d==="null"?1:e==="null"?-1:d<e?-1:1}return c}}function Sf(a){if(V(a)){a={link:a}}a.restrict=a.restrict||"AC";return K(a)}var Tf=K({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref){return function(a,b){if(b[0].nodeName.toLowerCase()!=="a")return;var c=q.call(b.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";b.on("click",function(a){if(!b.attr(c)){a.preventDefault()}})}}}});var Uf={};x($b,function(a,b){if(a==="multiple")return;function c(a,c,e){a.$watch(e[d],function a(c){e.$set(b,!!c)})}var d=Yc("ng-"+b);var e=c;if(a==="checked"){e=function(a,b,e){if(e.ngModel!==e[d]){c(a,b,e)}}}Uf[d]=function(){return{restrict:"A",priority:100,link:e}}});x(ac,function(a,b){Uf[b]=function(){return{priority:100,link:function(a,c,d){if(b==="ngPattern"&&d.ngPattern.charAt(0)==="/"){var e=d.ngPattern.match(f);if(e){d.$set("ngPattern",new RegExp(e[1],e[2]));return}}a.$watch(d[b],function a(c){d.$set(b,c)})}}}});x(["src","srcset","href"],function(a){var b=Yc("ng-"+a);Uf[b]=["$sce",function(c){return{priority:99,link:function(d,e,f){var g=a,h=a;if(a==="href"&&q.call(e.prop("href"))==="[object SVGAnimatedString]"){h="xlinkHref";f.$attr[h]="xlink:href";g=null}f.$set(b,c.getTrustedMediaUrl(f[b]));f.$observe(b,function(b){if(!b){if(a==="href"){f.$set(h,null)}return}f.$set(h,b);if(k&&g)e.prop(g,f[h])})}}}]});var Vf={$addControl:I,$getControls:K([]),$$renameControl:Yf,$removeControl:I,$setValidity:I,$setDirty:I,$setPristine:I,$setSubmitted:I,$$setSubmitted:I},Wf="ng-pending",Xf="ng-submitted";function Yf(a,b){a.$name=b}Zf.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function Zf(a,b,c,d,e){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=e(b.name||b.ngForm||"")(c);this.$dirty=false;this.$pristine=true;this.$valid=true;this.$invalid=false;this.$submitted=false;this.$$parentForm=Vf;this.$$element=a;this.$$animate=d;bg(this)}Zf.prototype={$rollbackViewValue:function(){x(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){x(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Va(a.$name,"input");this.$$controls.push(a);if(a.$name){this[a.$name]=a}a.$$parentForm=this},$getControls:function(){return fb(this.$$controls)},$$renameControl:function(a,b){var c=a.$name;if(this[c]===a){delete this[c]}this[b]=a;a.$name=b},$removeControl:function(a){if(a.$name&&this[a.$name]===a){delete this[a.$name]}x(this.$pending,function(b,c){this.$setValidity(c,null,a)},this);x(this.$error,function(b,c){this.$setValidity(c,null,a)},this);x(this.$$success,function(b,c){this.$setValidity(c,null,a)},this);la(this.$$controls,a);a.$$parentForm=Vf},$setDirty:function(){this.$$animate.removeClass(this.$$element,fh);this.$$animate.addClass(this.$$element,gh);this.$dirty=true;this.$pristine=false;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,fh,gh+" "+Xf);this.$dirty=false;this.$pristine=true;this.$submitted=false;x(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){x(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){var a=this;while(a.$$parentForm&&a.$$parentForm!==Vf){a=a.$$parentForm}a.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,Xf);this.$submitted=true;x(this.$$controls,function(a){if(a.$$setSubmitted){a.$$setSubmitted()}})}};cg({clazz:Zf,set:function(a,b,c){var d=a[b];if(!d){a[b]=[c]}else{var e=d.indexOf(c);if(e===-1){d.push(c)}}},unset:function(a,b,c){var d=a[b];if(!d){return}la(d,c);if(d.length===0){delete a[b]}}});var $f=function(a){return["$timeout","$parse",function(b,c){var d={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Zf,compile:function c(d,f){d.addClass(fh).addClass(dh);var g=f.name?"name":a&&f.ngForm?"ngForm":false;return{pre:function a(c,d,f,h){var i=h[0];if(!("action"in f)){var j=function(a){c.$apply(function(){i.$commitViewValue();i.$setSubmitted()});a.preventDefault()};d[0].addEventListener("submit",j);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",j)},0,false)})}var k=h[1]||i.$$parentForm;k.$addControl(i);var l=g?e(i.$name):I;if(g){l(c,i);f.$observe(g,function(a){if(i.$name===a)return;l(c,undefined);i.$$parentForm.$$renameControl(i,a);l=e(i.$name);l(c,i)})}d.on("$destroy",function(){i.$$parentForm.$removeControl(i);l(c,undefined);D(i,Vf)})}}}};return d;function e(a){if(a===""){return c('this[""]').assign}return c(a).assign||I}}]};var _f=$f();var ag=$f(true);function bg(a){a.$$classCache={};a.$$classCache[eh]=!(a.$$classCache[dh]=a.$$element.hasClass(dh))}function cg(a){var b=a.clazz,c=a.set,d=a.unset;b.prototype.$setValidity=function(a,b,i){if(M(b)){e(this,"$pending",a,i)}else{f(this,"$pending",a,i)}if(!aa(b)){d(this.$error,a,i);d(this.$$success,a,i)}else{if(b){d(this.$error,a,i);c(this.$$success,a,i)}else{c(this.$error,a,i);d(this.$$success,a,i)}}if(this.$pending){g(this,Wf,true);this.$valid=this.$invalid=undefined;h(this,"",null)}else{g(this,Wf,false);this.$valid=dg(this.$error);this.$invalid=!this.$valid;h(this,"",this.$valid)}var j;if(this.$pending&&this.$pending[a]){j=undefined}else if(this.$error[a]){j=false}else if(this.$$success[a]){j=true}else{j=null}h(this,a,j);this.$$parentForm.$setValidity(a,j,this)};function e(a,b,d,e){if(!a[b]){a[b]={}}c(a[b],d,e)}function f(a,b,c,e){if(a[b]){d(a[b],c,e)}if(dg(a[b])){a[b]=undefined}}function g(a,b,c){if(c&&!a.$$classCache[b]){a.$$animate.addClass(a.$$element,b);a.$$classCache[b]=true}else if(!c&&a.$$classCache[b]){a.$$animate.removeClass(a.$$element,b);a.$$classCache[b]=false}}function h(a,b,c){b=b?"-"+Qa(b,"-"):"";g(a,dh+b,c===true);g(a,eh+b,c===false)}}function dg(a){if(a){for(var b in a){if(a.hasOwnProperty(b)){return false}}}return true}var eg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var fg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var gg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var hg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var ig=/^(\d{4,})-(\d{2})-(\d{2})$/;var jg=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var kg=/^(\d{4,})-W(\d\d)$/;var lg=/^(\d{4,})-(\d\d)$/;var mg=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var ng="keydown wheel mousedown";var og=Ya();x("date,datetime-local,month,time,week".split(","),function(a){og[a]=true});var pg={text:rg,date:vg("date",ig,ug(ig,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":vg("datetimelocal",jg,ug(jg,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:vg("time",mg,ug(mg,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:vg("week",kg,tg,"yyyy-Www"),month:vg("month",lg,ug(lg,["yyyy","MM"]),"yyyy-MM"),number:Cg,url:Eg,email:Fg,radio:Gg,range:Dg,checkbox:Ig,hidden:I,button:I,submit:I,reset:I,file:I};function qg(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function rg(a,b,c,d,e,f){sg(a,b,c,d,e,f);qg(d)}function sg(a,b,c,d,e,f){var h=i(b[0].type);if(!e.android){var j=false;b.on("compositionstart",function(){j=true});b.on("compositionupdate",function(a){if(M(a.data)||a.data===""){j=false}});b.on("compositionend",function(){j=false;l()})}var k;var l=function(a){if(k){f.defer.cancel(k);k=null}if(j)return;var e=b.val(),g=a&&a.type;if(h!=="password"&&(!c.ngTrim||c.ngTrim!=="false")){e=fa(e)}if(d.$viewValue!==e||e===""&&d.$$hasNativeValidators){d.$setViewValue(e,g)}};if(e.hasEvent("input")){b.on("input",l)}else{var m=function(a,b,c){if(!k){k=f.defer(function(){k=null;if(!b||b.value!==c){l(a)}})}};b.on("keydown",function(a){var b=a.keyCode;if(b===91||15<b&&b<19||37<=b&&b<=40)return;m(a,this,this.value)});if(e.hasEvent("paste")){b.on("paste cut drop",m)}}b.on("change",l);if(og[h]&&d.$$hasNativeValidators&&h===c.type){b.on(ng,function(a){if(!k){var b=this[g];var c=b.badInput;var d=b.typeMismatch;k=f.defer(function(){k=null;if(b.badInput!==c||b.typeMismatch!==d){l(a)}})}})}d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;if(b.val()!==a){b.val(a)}}}function tg(a,b){if(S(a)){return a}if(Q(a)){kg.lastIndex=0;var c=kg.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Cf(d),k=(e-1)*7;if(b){f=b.getHours();g=b.getMinutes();h=b.getSeconds();i=b.getMilliseconds()}return new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function ug(a,b){return function(c,d){var e,f;if(S(c)){return c}if(Q(c)){if(c.charAt(0)==='"'&&c.charAt(c.length-1)==='"'){c=c.substring(1,c.length-1)}if(eg.test(c)){return new Date(c)}a.lastIndex=0;e=a.exec(c);if(e){e.shift();if(d){f={yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}}else{f={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}x(e,function(a,c){if(c<b.length){f[b[c]]=+a}});var g=new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,f.sss*1e3||0);if(f.yyyy<100){g.setFullYear(f.yyyy)}return g}}return NaN}}function vg(a,b,c,d){return function e(f,g,h,i,j,k,l,m){wg(f,g,h,i,a);sg(f,g,h,i,j,k);var n=a==="time"||a==="datetimelocal";var o;var p;i.$parsers.push(function(c){if(i.$isEmpty(c))return null;if(b.test(c)){return w(c,o)}i.$$parserName=a;return undefined});i.$formatters.push(function(a){if(a&&!S(a)){throw lh("datefmt","Expected `{0}` to be a date",a)}if(u(a)){o=a;var b=i.$options.getOption("timezone");if(b){p=b;o=Aa(o,b,true)}return x(a,b)}else{o=null;p=null;return""}});if(N(h.min)||h.ngMin){var q=h.min||m(h.ngMin)(f);var r=v(q);i.$validators.min=function(a){return!u(a)||M(r)||c(a)>=r};h.$observe("min",function(a){if(a!==q){r=v(a);q=a;i.$validate()}})}if(N(h.max)||h.ngMax){var s=h.max||m(h.ngMax)(f);var t=v(s);i.$validators.max=function(a){return!u(a)||M(t)||c(a)<=t};h.$observe("max",function(a){if(a!==s){t=v(a);s=a;i.$validate()}})}function u(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function v(a){return N(a)&&!S(a)?w(a)||undefined:a}function w(a,b){var d=i.$options.getOption("timezone");if(p&&p!==d){b=za(b,ya(p))}var e=c(a,b);if(!isNaN(e)&&d){e=Aa(e,d)}return e}function x(a,b){var c=d;if(n&&Q(i.$options.getOption("timeSecondsFormat"))){c=d.replace("ss.sss",i.$options.getOption("timeSecondsFormat")).replace(/:$/,"")}var e=l("date")(a,c,b);if(n&&i.$options.getOption("timeStripZeroSeconds")){e=e.replace(/(?::00)?(?:\.000)?$/,"")}return e}}}function wg(a,b,c,d,e){var f=b[0];var h=d.$$hasNativeValidators=O(f.validity);if(h){d.$parsers.push(function(a){var c=b.prop(g)||{};if(c.badInput||c.typeMismatch){d.$$parserName=e;return undefined}return a})}}function xg(a){a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(hg.test(b))return parseFloat(b);a.$$parserName="number";return undefined});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!R(b)){throw lh("numfmt","Expected `{0}` to be a number",b)}b=b.toString()}return b})}function yg(a){if(N(a)&&!R(a)){a=parseFloat(a)}return!G(a)?a:undefined}function zg(a){return(a|0)===a}function Ag(a){var b=a.toString();var c=b.indexOf(".");if(c===-1){if(-1<a&&a<1){var d=/e-(\d+)$/.exec(b);if(d){return Number(d[1])}}return 0}return b.length-c-1}function Bg(a,b,c){var d=Number(a);var e=!zg(d);var f=!zg(b);var g=!zg(c);if(e||f||g){var h=e?Ag(d):0;var i=f?Ag(b):0;var j=g?Ag(c):0;var k=Math.max(h,i,j);var l=Math.pow(10,k);d=d*l;b=b*l;c=c*l;if(e)d=Math.round(d);if(f)b=Math.round(b);if(g)c=Math.round(c)}return(d-b)%c===0}function Cg(a,b,c,d,e,f,g,h){wg(a,b,c,d,"number");xg(d);sg(a,b,c,d,e,f);var i;if(N(c.min)||c.ngMin){var j=c.min||h(c.ngMin)(a);i=yg(j);d.$validators.min=function(a,b){return d.$isEmpty(b)||M(i)||b>=i};c.$observe("min",function(a){if(a!==j){i=yg(a);j=a;d.$validate()}})}if(N(c.max)||c.ngMax){var k=c.max||h(c.ngMax)(a);var l=yg(k);d.$validators.max=function(a,b){return d.$isEmpty(b)||M(l)||b<=l};c.$observe("max",function(a){if(a!==k){l=yg(a);k=a;d.$validate()}})}if(N(c.step)||c.ngStep){var m=c.step||h(c.ngStep)(a);var n=yg(m);d.$validators.step=function(a,b){return d.$isEmpty(b)||M(n)||Bg(b,i||0,n)};c.$observe("step",function(a){if(a!==m){n=yg(a);m=a;d.$validate()}})}}function Dg(a,b,c,d,e,f){wg(a,b,c,d,"range");xg(d);sg(a,b,c,d,e,f);var g=d.$$hasNativeValidators&&b[0].type==="range",h=g?0:undefined,i=g?100:undefined,j=g?1:undefined,k=b[0].validity,l=N(c.min),m=N(c.max),n=N(c.step);var o=d.$render;d.$render=g&&N(k.rangeUnderflow)&&N(k.rangeOverflow)?function a(){o();d.$setViewValue(b.val())}:o;if(l){h=yg(c.min);d.$validators.min=g?function a(){return true}:function a(b,c){return d.$isEmpty(c)||M(h)||c>=h};p("min",q)}if(m){i=yg(c.max);d.$validators.max=g?function a(){return true}:function a(b,c){return d.$isEmpty(c)||M(i)||c<=i};p("max",r)}if(n){j=yg(c.step);d.$validators.step=g?function a(){return!k.stepMismatch}:function a(b,c){return d.$isEmpty(c)||M(j)||Bg(c,h||0,j)};p("step",s)}function p(a,d){b.attr(a,c[a]);var e=c[a];c.$observe(a,function a(b){if(b!==e){e=b;d(b)}})}function q(a){h=yg(a);if(G(d.$modelValue)){return}if(g){var c=b.val();if(h>c){c=h;b.val(c)}d.$setViewValue(c)}else{d.$validate()}}function r(a){i=yg(a);if(G(d.$modelValue)){return}if(g){var c=b.val();if(i<c){b.val(i);c=i<h?h:i}d.$setViewValue(c)}else{d.$validate()}}function s(a){j=yg(a);if(G(d.$modelValue)){return}if(!g){d.$validate()}else if(d.$viewValue!==b.val()){d.$setViewValue(b.val())}}}function Eg(a,b,c,d,e,f){sg(a,b,c,d,e,f);qg(d);d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||fg.test(c)}}function Fg(a,b,c,d,e,f){sg(a,b,c,d,e,f);qg(d);d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||gg.test(c)}}function Gg(a,b,c,d){var e=!c.ngTrim||fa(c.ngTrim)!=="false";if(M(c.name)){b.attr("name",A())}var f=function(a){var f;if(b[0].checked){f=c.value;if(e){f=fa(f)}d.$setViewValue(f,a&&a.type)}};b.on("change",f);d.$render=function(){var a=c.value;if(e){a=fa(a)}b[0].checked=a===d.$viewValue};c.$observe("value",d.$render)}function Hg(a,b,c,d,e){var f;if(N(d)){f=a(d);if(!f.constant){throw lh("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",c,d)}return f(b)}return e}function Ig(a,b,c,d,e,f,g,h){var i=Hg(h,a,"ngTrueValue",c.ngTrueValue,true);var j=Hg(h,a,"ngFalseValue",c.ngFalseValue,false);var k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("change",k);d.$render=function(){b[0].checked=d.$viewValue};d.$isEmpty=function(a){return a===false};d.$formatters.push(function(a){return oa(a,i)});d.$parsers.push(function(a){return a?i:j})}var Jg=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){
return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){if(h[0]){(pg[i(g.type)]||pg.text)(e,f,g,h[0],b,a,c,d)}}}}}];var Kg=function(){var a={configurable:true,enumerable:false,get:function(){return this.getAttribute("value")||""},set:function(a){this.setAttribute("value",a)}};return{restrict:"E",priority:200,compile:function(b,c){if(i(c.type)!=="hidden"){return}return{pre:function(b,c,d,e){var f=c[0];if(f.parentNode){f.parentNode.insertBefore(f,f.nextSibling)}if(Object.defineProperty){Object.defineProperty(f,"value",a)}}}}}};var Lg=/^(true|false|\d+)$/;var Mg=function(){function a(a,b,c){var d=N(c)?c:k===9?"":null;a.prop("value",d);b.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,c){if(Lg.test(c.ngValue)){return function b(c,d,e){var f=c.$eval(e.ngValue);a(d,e,f)}}else{return function b(c,d,e){c.$watch(e.ngValue,function b(c){a(d,e,c)})}}}}};var Ng=["$compile",function(a){return{restrict:"AC",compile:function b(c){a.$$addBindingClass(c);return function b(c,d,e){a.$$addBindingInfo(d,e.ngBind);d=d[0];c.$watch(e.ngBind,function a(b){d.textContent=Za(b)})}}}}];var Og=["$interpolate","$compile",function(a,b){return{compile:function c(d){b.$$addBindingClass(d);return function c(d,e,f){var g=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,g.expressions);e=e[0];f.$observe("ngBindTemplate",function(a){e.textContent=M(a)?"":a})}}}}];var Pg=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function d(e,f){var g=b(f.ngBindHtml);var h=b(f.ngBindHtml,function b(c){return a.valueOf(c)});c.$$addBindingClass(e);return function b(d,e,f){c.$$addBindingInfo(e,f.ngBindHtml);d.$watch(h,function b(){var c=g(d);e.html(a.getTrustedHtml(c)||"")})}}}}];var Qg=K({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}});function Rg(a,b){a="ngClass"+a;var c;return["$parse",function(g){return{restrict:"AC",link:function(h,i,j){var k=i.data("$classCounts");var l=true;var m;if(!k){k=Ya();i.data("$classCounts",k)}if(a!=="ngClass"){if(!c){c=g("$index",function a(b){return b&1})}h.$watch(c,r)}h.$watch(g(j[a],f),s);function n(a){a=q(e(a),1);j.$addClass(a)}function o(a){a=q(e(a),-1);j.$removeClass(a)}function p(a,b){var c=e(a);var f=e(b);var g=d(c,f);var h=d(f,c);var i=q(g,-1);var k=q(h,1);j.$addClass(k);j.$removeClass(i)}function q(a,b){var c=[];x(a,function(a){if(b>0||k[a]){k[a]=(k[a]||0)+b;if(k[a]===+(b>0)){c.push(a)}}});return c.join(" ")}function r(a){if(a===b){n(m)}else{o(m)}l=a}function s(a){if(l===b){p(m,a)}m=a}}}}];function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[];a:for(var d=0;d<a.length;d++){var e=a[d];for(var f=0;f<b.length;f++){if(e===b[f])continue a}c.push(e)}return c}function e(a){return a&&a.split(" ")}function f(a){if(!a)return a;var b=a;if(T(a)){b=a.map(f).join(" ")}else if(O(a)){b=Object.keys(a).filter(function(b){return a[b]}).join(" ")}else if(!Q(a)){b=a+""}return b}}var Sg=Rg("",true);var Tg=Rg("Odd",0);var Ug=Rg("Even",1);var Vg=Sf({compile:function(a,b){b.$set("ngCloak",undefined);a.removeClass("ng-cloak")}});var Wg=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var Xg={};var Yg={blur:true,focus:true};x("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Yc("ng-"+a);Xg[b]=["$parse","$rootScope","$exceptionHandler",function(c,d,e){return Zg(c,d,e,b,a,Yg[a])}]});function Zg(a,b,c,d,e,f){return{restrict:"A",compile:function(g,h){var i=a(h[d]);return function a(d,g){g.on(e,function(a){var e=function(){i(d,{$event:a})};if(!b.$$phase){d.$apply(e)}else if(f){d.$evalAsync(e)}else{try{e()}catch(a){c(a)}}})}}}}var $g=["$animate","$compile",function(a,b){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function c(f){if(f){if(!i){g(function(c,f){i=f;c[c.length++]=b.$$createComment("end ngIf",e.ngIf);h={clone:c};a.enter(c,d.parent(),d)})}}else{if(j){j.remove();j=null}if(i){i.$destroy();i=null}if(h){j=Xa(h.clone);a.leave(j).done(function(a){if(a!==false)j=null});h=null}}})}}}];var _g=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:t.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l=0,m,n,o;var p=function(){if(n){n.remove();n=null}if(m){m.$destroy();m=null}if(o){c.leave(o).done(function(a){if(a!==false)n=null});n=o;o=null}};d.$watch(f,function f(i){var n=function(a){if(a!==false&&N(h)&&(!h||d.$eval(h))){b()}};var q=++l;if(i){a(i,true).then(function(a){if(d.$$destroyed)return;if(q!==l)return;var b=d.$new();j.template=a;var f=k(b,function(a){p();c.enter(a,null,e).done(n)});m=b;o=f;m.$emit("$includeContentLoaded",i);d.$eval(g)},function(){if(d.$$destroyed)return;if(q===l){p();d.$emit("$includeContentError",i)}});d.$emit("$includeContentRequested",i)}else{p();j.template=null}})}}}}];var ah=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){if(q.call(d[0]).match(/SVG/)){d.empty();b(Cb(f.template,a.document).childNodes)(c,function a(b){d.append(b)},{futureParentElement:d});return}d.html(f.template);b(d.contents())(c)}}}];var bh=Sf({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}});var ch=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,d){var e=c.ngList||", ";var f=c.ngTrim!=="false";var g=f?fa(e):e;var h=function(a){if(M(a))return;var b=[];if(a){x(a.split(g),function(a){if(a)b.push(f?fa(a):a)})}return b};d.$parsers.push(h);d.$formatters.push(function(a){if(T(a)){return a.join(e)}return undefined});d.$isEmpty=function(a){return!a||!a.length}}}};var dh="ng-valid",eh="ng-invalid",fh="ng-pristine",gh="ng-dirty",hh="ng-untouched",ih="ng-touched",jh="ng-empty",kh="ng-not-empty";var lh=e("ngModel");mh.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function mh(a,b,c,d,e,f,g,h,i){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=i(c.name||"",false)(a);this.$$parentForm=Vf;this.$options=ph;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=e(c.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=undefined;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=a;this.$$rootScope=a.$root;this.$$attr=c;this.$$element=d;this.$$animate=f;this.$$timeout=g;this.$$parse=e;this.$$q=h;this.$$exceptionHandler=b;bg(this);nh(this)}mh.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);if(V(c)){c=a(b)}return c};this.$$ngModelSet=function(a,c){if(V(this.$$parsedNgModel(a))){b(a,{$$$p:c})}else{this.$$parsedNgModelAssign(a,c)}}}else if(!this.$$parsedNgModel.assign){throw lh("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Ba(this.$$element))}},$render:I,$isEmpty:function(a){return M(a)||a===""||a===null||a!==a},$$updateEmptyClasses:function(a){if(this.$isEmpty(a)){this.$$animate.removeClass(this.$$element,kh);this.$$animate.addClass(this.$$element,jh)}else{this.$$animate.removeClass(this.$$element,jh);this.$$animate.addClass(this.$$element,kh)}},$setPristine:function(){this.$dirty=false;this.$pristine=true;this.$$animate.removeClass(this.$$element,gh);this.$$animate.addClass(this.$$element,fh)},$setDirty:function(){this.$dirty=true;this.$pristine=false;this.$$animate.removeClass(this.$$element,fh);this.$$animate.addClass(this.$$element,gh);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=false;this.$untouched=true;this.$$animate.setClass(this.$$element,hh,ih)},$setTouched:function(){this.$touched=true;this.$untouched=false;this.$$animate.setClass(this.$$element,ih,hh)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(G(this.$modelValue)){return}var a=this.$$lastCommittedViewValue;var b=this.$$rawModelValue;var c=this.$valid;var d=this.$modelValue;var e=this.$options.getOption("allowInvalid");var f=this;this.$$runValidators(b,a,function(a){if(!e&&c!==a){f.$modelValue=a?b:undefined;if(f.$modelValue!==d){f.$$writeModelToScope()}}})},$$runValidators:function(a,b,c){this.$$currentValidationRunId++;var d=this.$$currentValidationRunId;var e=this;if(!f()){j(false);return}if(!g()){j(false);return}h();function f(){var a=e.$$parserName;if(M(e.$$parserValid)){i(a,null)}else{if(!e.$$parserValid){x(e.$validators,function(a,b){i(b,null)});x(e.$asyncValidators,function(a,b){i(b,null)})}i(a,e.$$parserValid);return e.$$parserValid}return true}function g(){var c=true;x(e.$validators,function(d,e){var f=Boolean(d(a,b));c=c&&f;i(e,f)});if(!c){x(e.$asyncValidators,function(a,b){i(b,null)});return false}return true}function h(){var c=[];var d=true;x(e.$asyncValidators,function(e,f){var g=e(a,b);if(!ba(g)){throw lh("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",g)}i(f,undefined);c.push(g.then(function(){i(f,true)},function(){d=false;i(f,false)}))});if(!c.length){j(true)}else{e.$$q.all(c).then(function(){j(d)},I)}}function i(a,b){if(d===e.$$currentValidationRunId){e.$setValidity(a,b)}}function j(a){if(d===e.$$currentValidationRunId){c(a)}}},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue===a&&(a!==""||!this.$$hasNativeValidators)){return}this.$$updateEmptyClasses(a);this.$$lastCommittedViewValue=a;if(this.$pristine){this.$setDirty()}this.$$parseAndValidate()},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue;var b=a;var c=this;this.$$parserValid=M(b)?undefined:true;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid){for(var d=0;d<this.$parsers.length;d++){b=this.$parsers[d](b);if(M(b)){this.$$parserValid=false;break}}}if(G(this.$modelValue)){this.$modelValue=this.$$ngModelGet(this.$$scope)}var e=this.$modelValue;var f=this.$options.getOption("allowInvalid");this.$$rawModelValue=b;if(f){this.$modelValue=b;g()}this.$$runValidators(b,this.$$lastCommittedViewValue,function(a){if(!f){c.$modelValue=a?b:undefined;g()}});function g(){if(c.$modelValue!==e){c.$$writeModelToScope()}}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);x(this.$viewChangeListeners,function(a){try{a()}catch(a){this.$$exceptionHandler(a)}},this)},$setViewValue:function(a,b){this.$viewValue=a;if(this.$options.getOption("updateOnDefault")){this.$$debounceViewValueCommit(b)}},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");if(R(b[a])){b=b[a]}else if(R(b["default"])&&this.$options.getOption("updateOn").indexOf(a)===-1){b=b["default"]}else if(R(b["*"])){b=b["*"]}this.$$timeout.cancel(this.$$pendingDebounce);var c=this;if(b>0){this.$$pendingDebounce=this.$$timeout(function(){c.$commitViewValue()},b)}else if(this.$$rootScope.$$phase){this.$commitViewValue()}else{this.$$scope.$apply(function(){c.$commitViewValue()})}},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a);this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();if(this.$viewValue!==a){this.$$updateEmptyClasses(a);this.$viewValue=this.$$lastCommittedViewValue=a;this.$render();this.$$runValidators(this.$modelValue,this.$viewValue,I)}},$$format:function(){var a=this.$formatters,b=a.length;var c=this.$modelValue;while(b--){c=a[b](c)}return c},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a;this.$$parserValid=undefined;this.$processModelValue()},$$setUpdateOnEvents:function(){if(this.$$updateEvents){this.$$element.off(this.$$updateEvents,this.$$updateEventHandler)}this.$$updateEvents=this.$options.getOption("updateOn");if(this.$$updateEvents){this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)}},$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&&a.type)}};function nh(a){a.$$scope.$watch(function b(c){var d=a.$$ngModelGet(c);if(d!==a.$modelValue&&(a.$modelValue===a.$modelValue||d===d)){a.$$setModelValue(d)}return d})}cg({clazz:mh,set:function(a,b){a[b]=true},unset:function(a,b){delete a[b]}});var oh=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:mh,priority:1,compile:function b(c){c.addClass(fh).addClass(hh).addClass(dh);return{pre:function a(b,c,d,e){var f=e[0],g=e[1]||f.$$parentForm,h=e[2];if(h){f.$options=h.$options}f.$$initGetterSetters();g.$addControl(f);d.$observe("name",function(a){if(f.$name!==a){f.$$parentForm.$$renameControl(f,a)}});b.$on("$destroy",function(){f.$$parentForm.$removeControl(f)})},post:function b(c,d,e,f){var g=f[0];g.$$setUpdateOnEvents();function h(){g.$setTouched()}d.on("blur",function(){if(g.$touched)return;if(a.$$phase){c.$evalAsync(h)}else{c.$apply(h)}})}}}}}];var ph;var qh=/(\s+|^)default(\s+|$)/;function rh(a){this.$$options=a}rh.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=false;a=D({},a);x(a,function(c,d){if(c==="$inherit"){if(d==="*"){b=true}else{a[d]=this.$$options[d];if(d==="updateOn"){a.updateOnDefault=this.$$options.updateOnDefault}}}else{if(d==="updateOn"){a.updateOnDefault=false;a[d]=fa(c.replace(qh,function(){a.updateOnDefault=true;return" "}))}}},this);if(b){delete a["*"];th(a,this.$$options)}th(a,ph.$$options);return new rh(a)}};ph=new rh({updateOn:"",updateOnDefault:true,debounce:0,getterSetter:false,allowInvalid:false,timezone:null});var sh=function(){a.$inject=["$attrs","$scope"];function a(a,b){this.$$attrs=a;this.$$scope=b}a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:ph;var b=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(b)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:true,controller:a}};function th(a,b){x(b,function(b,c){if(!N(a[c])){a[c]=b}})}var uh=Sf({terminal:true,priority:1e3});var vh=e("ngOptions");var wh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var xh=["$compile","$document","$parse",function(b,c,d){function e(a,b,c){var e=a.match(wh);if(!e){throw vh("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",a,Ba(b))}var f=e[5]||e[7];var g=e[6];var h=/ as /.test(e[0])&&e[1];var i=e[9];var j=d(e[2]?e[1]:f);var k=h&&d(h);var l=k||j;var m=i&&d(i);var n=i?function(a,b){return m(c,b)}:function a(b){return hc(b)};var o=function(a,b){return n(a,u(a,b))};var p=d(e[2]||e[1]);var q=d(e[3]||"");var r=d(e[4]||"");var s=d(e[8]);var t={};var u=g?function(a,b){t[g]=b;t[f]=a;return t}:function(a){t[f]=a;return t};function v(a,b,c,d,e){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=e}function x(a){var b;if(!g&&w(a)){b=a}else{b=[];for(var c in a){if(a.hasOwnProperty(c)&&c.charAt(0)!=="$"){b.push(c)}}}return b}return{trackBy:i,getTrackByValue:o,getWatchables:d(s,function(a){var b=[];a=a||[];var d=x(a);var f=d.length;for(var g=0;g<f;g++){var h=a===d?g:d[g];var i=a[h];var j=u(i,h);var k=n(i,j);b.push(k);if(e[2]||e[1]){var l=p(c,j);b.push(l)}if(e[4]){var m=r(c,j);b.push(m)}}return b}),getOptions:function(){var a=[];var b={};var d=s(c)||[];var e=x(d);var f=e.length;for(var g=0;g<f;g++){var h=d===e?g:e[g];var j=d[h];var k=u(j,h);var m=l(c,k);var t=n(m,k);var w=p(c,k);var y=q(c,k);var z=r(c,k);var A=new v(t,m,w,y,z);a.push(A);b[t]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[o(a)]},getViewValueFromOption:function(a){return i?ma(a.viewValue):a.viewValue}}}}}var f=a.document.createElement("option"),g=a.document.createElement("optgroup");function h(a,d,h,i){var j=i[0];var k=i[1];var m=h.multiple;for(var n=0,o=d.children(),p=o.length;n<p;n++){if(o[n].value===""){j.hasEmptyOption=true;j.emptyOption=o.eq(n);break}}d.empty();var q=!!j.emptyOption;var r=l(f.cloneNode(false));r.val("?");var s;var t=e(h.ngOptions,d,a);var u=c[0].createDocumentFragment();j.generateUnknownOptionValue=function(a){return"?"};if(!m){j.writeValue=function a(b){if(!s)return;var c=d[0].options[d[0].selectedIndex];var e=s.getOptionFromViewValue(b);if(c)c.removeAttribute("selected");if(e){if(d[0].value!==e.selectValue){j.removeUnknownOption();d[0].value=e.selectValue;e.element.selected=true}e.element.setAttribute("selected","selected")}else{j.selectUnknownOrEmptyOption(b)}};j.readValue=function a(){var b=s.selectValueMap[d.val()];if(b&&!b.disabled){j.unselectEmptyOption();j.removeUnknownOption();return s.getViewValueFromOption(b)}return null};if(t.trackBy){a.$watch(function(){return t.getTrackByValue(k.$viewValue)},function(){k.$render()})}}else{j.writeValue=function a(b){if(!s)return;var c=b&&b.map(w)||[];s.items.forEach(function(a){if(a.element.selected&&!ka(c,a)){a.element.selected=false}})};j.readValue=function a(){var b=d.val()||[],c=[];x(b,function(a){var b=s.selectValueMap[a];if(b&&!b.disabled)c.push(s.getViewValueFromOption(b))});return c};if(t.trackBy){a.$watchCollection(function(){if(T(k.$viewValue)){return k.$viewValue.map(function(a){return t.getTrackByValue(a)})}},function(){k.$render()})}}if(q){b(j.emptyOption)(a);d.prepend(j.emptyOption);if(j.emptyOption[0].nodeType===bb){j.hasEmptyOption=false;j.registerOption=function(a,b){if(b.val()===""){j.hasEmptyOption=true;j.emptyOption=b;j.emptyOption.removeClass("ng-scope");k.$render();b.on("$destroy",function(){var a=j.$isEmptyOptionSelected();j.hasEmptyOption=false;j.emptyOption=undefined;if(a)k.$render()})}}}else{j.emptyOption.removeClass("ng-scope")}}a.$watchCollection(t.getWatchables,z);function v(a,b){var c=f.cloneNode(false);b.appendChild(c);y(a,c)}function w(a){var b=s.getOptionFromViewValue(a);var c=b&&b.element;if(c&&!c.selected)c.selected=true;return b}function y(a,b){a.element=b;b.disabled=a.disabled;if(a.label!==b.label){b.label=a.label;b.textContent=a.label}b.value=a.selectValue}function z(){var a=s&&j.readValue();if(s){for(var b=s.items.length-1;b>=0;b--){var c=s.items[b];if(N(c.group)){Wb(c.element.parentNode)}else{Wb(c.element)}}}s=t.getOptions();var e={};s.items.forEach(function a(b){var c;if(N(b.group)){c=e[b.group];if(!c){c=g.cloneNode(false);u.appendChild(c);c.label=b.group===null?"null":b.group;e[b.group]=c}v(b,c)}else{v(b,u)}});d[0].appendChild(u);k.$render();if(!k.$isEmpty(a)){var f=j.readValue();var h=t.trackBy||m;if(h?!oa(a,f):a!==f){k.$setViewValue(f);k.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function a(b,c,d,e){e[0].registerOption=I},post:h}}}];var yh=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){var j=h.count,k=h.$attr.when&&g.attr(h.$attr.when),l=h.offset||0,m=f.$eval(k)||{},n={},o=b.startSymbol(),p=b.endSymbol(),q=o+j+"-"+l+p,r=t.noop,s;x(h,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+i(c[2]);m[d]=g.attr(h.$attr[b])}});x(m,function(a,c){n[c]=b(a.replace(d,q))});f.$watch(j,function b(d){var e=parseFloat(d);var g=G(e);if(!g&&!(e in m)){e=a.pluralCat(e-l)}if(e!==s&&!(g&&G(s))){r();var h=n[e];if(M(h)){if(d!=null){c.debug("ngPluralize: no rule defined for '"+e+"' in "+k)}r=I;u()}else{r=f.$watch(h,u)}s=e}});function u(a){g.text(a||"")}}}}];var zh=e("ngRef");var Ah=["$parse",function(a){return{priority:-1,restrict:"A",compile:function(b,c){var d=Yc(ja(b));var e=a(c.ngRef);var f=e.assign||function(){throw zh("nonassign",'Expression in ngRef="{0}" is non-assignable!',c.ngRef)};return function(a,b,g){var h;if(g.hasOwnProperty("ngRefRead")){if(g.ngRefRead==="$element"){h=b}else{h=b.data("$"+g.ngRefRead+"Controller");if(!h){throw zh("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',g.ngRefRead,c.ngRef)}}}else{h=b.data("$"+d+"Controller")}h=h||b;f(a,h);b.on("$destroy",function(){if(e(a)===h){f(a,null)}})}}}}];var Bh=["$parse","$animate","$compile",function(a,b,c){var d="$$NG_REMOVED";var f=e("ngRepeat");var g=function(a,b,c,d,e,f,g){a[c]=d;if(e)a[e]=f;a.$index=b;a.$first=b===0;a.$last=b===g-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=(b&1)===0)};var i=function(a){return a.clone[0]};var j=function(a){return a.clone[a.clone.length-1]};var k=function(a,b,c){return hc(c)};var l=function(a,b){return b};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function e(m,n){var o=n.ngRepeat;var p=c.$$createComment("end ngRepeat",o);var q=o.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!q){throw f("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",o)}var r=q[1];var s=q[2];var t=q[3];var u=q[4];q=r.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!q){throw f("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r)}var v=q[3]||q[1];var y=q[2];if(t&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(t)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(t))){throw f("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",t)}var z;if(u){var A={$id:hc};var B=a(u);z=function(a,b,c,d){if(y)A[y]=b;A[v]=c;A.$index=d;return B(a,A)}}return function a(c,e,m,n,q){var r=Ya();c.$watchCollection(s,function a(m){var n,s,u=e[0],B,C=Ya(),D,E,F,G,H,I,J,K,L;if(t){c[t]=m}if(w(m)){I=m;H=z||k}else{H=z||l;I=[];for(var M in m){if(h.call(m,M)&&M.charAt(0)!=="$"){I.push(M)}}}D=I.length;K=new Array(D);for(n=0;n<D;n++){E=m===I?n:I[n];F=m[E];G=H(c,E,F,n);if(r[G]){J=r[G];delete r[G];C[G]=J;K[n]=J}else if(C[G]){x(K,function(a){if(a&&a.scope)r[a.id]=a});throw f("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",o,G,F)}else{K[n]={id:G,scope:undefined,clone:undefined};C[G]=true}}if(A){A[v]=undefined}for(var N in r){J=r[N];L=Xa(J.clone);b.leave(L);if(L[0].parentNode){for(n=0,s=L.length;n<s;n++){L[n][d]=true}}J.scope.$destroy()}for(n=0;n<D;n++){E=m===I?n:I[n];F=m[E];J=K[n];if(J.scope){B=u;do{B=B.nextSibling}while(B&&B[d]);if(i(J)!==B){b.move(Xa(J.clone),null,u)}u=j(J);g(J.scope,n,v,F,y,E,D)}else{q(function a(c,d){J.scope=d;var e=p.cloneNode(false);c[c.length++]=e;b.enter(c,null,u);u=e;J.clone=c;C[J.id]=J;g(J.scope,n,v,F,y,E,D)})}}r=C})}}}}];var Ch="ng-hide";var Dh="ng-hide-animate";var Eh=["$animate",function(a){return{restrict:"A",multiElement:true,link:function(b,c,d){b.$watch(d.ngShow,function b(d){a[d?"removeClass":"addClass"](c,Ch,{tempClasses:Dh})})}}}];var Fh=["$animate",function(a){return{restrict:"A",multiElement:true,link:function(b,c,d){b.$watch(d.ngHide,function b(d){a[d?"addClass":"removeClass"](c,Ch,{tempClasses:Dh})})}}}];var Gh=Sf(function(a,b,c){a.$watchCollection(c.ngStyle,function a(c,d){if(d&&c!==d){if(!c){c={}}x(d,function(a,b){if(c[b]==null){c[b]=""}})}if(c)b.css(c)})});var Hh=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function a(){this.cases={}}],link:function(c,d,e,f){var g=e.ngSwitch||e.on,h=[],i=[],j=[],k=[];var l=function(a,b){return function(c){if(c!==false)a.splice(b,1)}};c.$watch(g,function c(d){var e,g;while(j.length){a.cancel(j.pop())}for(e=0,g=k.length;e<g;++e){var m=Xa(i[e].clone);k[e].$destroy();var n=j[e]=a.leave(m);n.done(l(j,e))}i.length=0;k.length=0;if(h=f.cases["!"+d]||f.cases["?"]){x(h,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};i.push(g);a.enter(d,f.parent(),f)})})}})}}}];var Ih=Sf({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(a,b,c,d,e){var f=c.ngSwitchWhen.split(c.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});x(f,function(a){d.cases["!"+a]=d.cases["!"+a]||[];d.cases["!"+a].push({transclude:e,element:b})})}});var Jh=Sf({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[];d.cases["?"].push({transclude:e,element:b})}});var Kh=e("ngTransclude");var Lh=["$compile",function(a){return{restrict:"EAC",compile:function b(c){var d=a(c.contents());c.empty();return function a(b,c,e,f,g){if(!g){throw Kh("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",Ba(c))}if(e.ngTransclude===e.$attr.ngTransclude){e.ngTransclude=""}var h=e.ngTransclude||e.ngTranscludeSlot;g(i,null,h);if(h&&!g.isSlotFilled(h)){j()}function i(a,b){if(a.length&&k(a)){c.append(a)}else{j();b.$destroy()}}function j(){d(b,function(a){c.append(a)})}function k(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d.nodeType!==ab||d.nodeValue.trim()){return true}}}}}}}];var Mh=["$templateCache",function(a){return{restrict:"E",terminal:true,compile:function(b,c){if(c.type==="text/ng-template"){var d=c.id,e=b[0].text;a.put(d,e)}}}}];var Nh={$setViewValue:I,$render:I};function Oh(a,b){a.prop("selected",b);a.attr("selected",b)}var Ph=["$element","$scope",function(b,c){var d=this,e=new kc;d.selectValueMap={};d.ngModelCtrl=Nh;d.multiple=false;d.unknownOption=l(a.document.createElement("option"));d.hasEmptyOption=false;d.emptyOption=undefined;d.renderUnknownOption=function(a){var c=d.generateUnknownOptionValue(a);d.unknownOption.val(c);b.prepend(d.unknownOption);Oh(d.unknownOption,true);b.val(c)};d.updateUnknownOption=function(a){var c=d.generateUnknownOptionValue(a);d.unknownOption.val(c);Oh(d.unknownOption,true);b.val(c)};d.generateUnknownOptionValue=function(a){return"? "+hc(a)+" ?"};d.removeUnknownOption=function(){if(d.unknownOption.parent())d.unknownOption.remove()};d.selectEmptyOption=function(){if(d.emptyOption){b.val("");Oh(d.emptyOption,true)}};d.unselectEmptyOption=function(){if(d.hasEmptyOption){Oh(d.emptyOption,false)}};c.$on("$destroy",function(){d.renderUnknownOption=I});d.readValue=function a(){var c=b.val();var e=c in d.selectValueMap?d.selectValueMap[c]:c;if(d.hasOption(e)){return e}return null};d.writeValue=function a(c){var e=b[0].options[b[0].selectedIndex];if(e)Oh(l(e),false);if(d.hasOption(c)){d.removeUnknownOption();var f=hc(c);b.val(f in d.selectValueMap?f:c);var g=b[0].options[b[0].selectedIndex];Oh(l(g),true)}else{d.selectUnknownOrEmptyOption(c)}};d.addOption=function(a,b){if(b[0].nodeType===bb)return;Va(a,'"option value"');if(a===""){d.hasEmptyOption=true;d.emptyOption=b}var c=e.get(a)||0;e.set(a,c+1);g()};d.removeOption=function(a){var b=e.get(a);if(b){if(b===1){e.delete(a);if(a===""){d.hasEmptyOption=false;d.emptyOption=undefined}}else{e.set(a,b-1)}}};d.hasOption=function(a){return!!e.get(a)};d.$hasEmptyOption=function(){return d.hasEmptyOption};d.$isUnknownOptionSelected=function(){return b[0].options[0]===d.unknownOption[0]};d.$isEmptyOptionSelected=function(){return d.hasEmptyOption&&b[0].options[b[0].selectedIndex]===d.emptyOption[0]};d.selectUnknownOrEmptyOption=function(a){if(a==null&&d.emptyOption){d.removeUnknownOption();d.selectEmptyOption()}else if(d.unknownOption.parent().length){d.updateUnknownOption(a)}else{d.renderUnknownOption(a)}};var f=false;function g(){if(f)return;f=true;c.$$postDigest(function(){f=false;d.ngModelCtrl.$render()})}var h=false;function i(a){if(h)return;h=true;c.$$postDigest(function(){if(c.$$destroyed)return;h=false;d.ngModelCtrl.$setViewValue(d.readValue());if(a)d.ngModelCtrl.$render()})}d.registerOption=function(a,b,c,e,f){if(c.$attr.ngValue){var h,j;c.$observe("value",function a(c){var e;var f=b.prop("selected");if(N(j)){d.removeOption(h);delete d.selectValueMap[j];e=true}j=hc(c);h=c;d.selectValueMap[j]=c;d.addOption(c,b);b.attr("value",j);if(e&&f){i()}})}else if(e){c.$observe("value",function a(c){d.readValue();var e;var f=b.prop("selected");if(N(h)){d.removeOption(h);e=true}h=c;d.addOption(c,b);if(e&&f){i()}})}else if(f){a.$watch(f,function a(e,f){c.$set("value",e);var g=b.prop("selected");if(f!==e){d.removeOption(f)}d.addOption(e,b);if(f&&g){i()}})}else{d.addOption(c.value,b)}c.$observe("disabled",function(a){if(a==="true"||a&&b.prop("selected")){if(d.multiple){i(true)}else{d.ngModelCtrl.$setViewValue(null);d.ngModelCtrl.$render()}}});b.on("$destroy",function(){var a=d.readValue();var b=c.value;d.removeOption(b);g();if(d.multiple&&a&&a.indexOf(b)!==-1||a===b){i(true)}})}}];var Qh=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ph,priority:1,link:{pre:a,post:b}};function a(a,b,c,d){var e=d[0];var f=d[1];if(!f){e.registerOption=I;return}e.ngModelCtrl=f;b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})});if(c.multiple){e.multiple=true;e.readValue=function a(){var c=[];x(b.find("option"),function(a){if(a.selected&&!a.disabled){var b=a.value;c.push(b in e.selectValueMap?e.selectValueMap[b]:b)}});return c};e.writeValue=function a(c){x(b.find("option"),function(a){var b=!!c&&(ka(c,a.value)||ka(c,e.selectValueMap[a.value]));var d=a.selected;if(b!==d){Oh(l(a),b)}})};var g,h=NaN;a.$watch(function a(){if(h===f.$viewValue&&!oa(g,f.$viewValue)){g=fb(f.$viewValue);f.$render()}h=f.$viewValue});f.$isEmpty=function(a){return!a||a.length===0}}}function b(a,b,c,d){var e=d[1];if(!e)return;var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}};var Rh=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){var d,e;if(N(c.ngValue)){}else if(N(c.value)){d=a(c.value,true)}else{e=a(b.text(),true);if(!e){c.$set("value",b.text())}}return function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);if(h){h.registerOption(a,b,c,d,e)}}}}}];var Sh=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){if(!e)return;var f=d.hasOwnProperty("required")||a(d.ngRequired)(b);if(!d.ngRequired){d.required=true}e.$validators.required=function(a,b){return!f||!e.$isEmpty(b)};d.$observe("required",function(a){if(f!==a){f=a;e.$validate()}})}}}];var Th=["$parse",function(a){return{restrict:"A",require:"?ngModel",compile:function(b,c){var d;var e;if(c.ngPattern){d=c.ngPattern;if(c.ngPattern.charAt(0)==="/"&&f.test(c.ngPattern)){e=function(){return c.ngPattern}}else{e=a(c.ngPattern)}}return function(a,b,c,f){if(!f)return;var g=c.pattern;if(c.ngPattern){g=e(a)}else{d=c.pattern}var h=Wh(g,d,b);c.$observe("pattern",function(a){var c=h;h=Wh(a,d,b);if((c&&c.toString())!==(h&&h.toString())){f.$validate()}});f.$validators.pattern=function(a,b){return f.$isEmpty(b)||M(h)||h.test(b)}}}}}];var Uh=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){if(!e)return;var f=d.maxlength||a(d.ngMaxlength)(b);var g=Xh(f);d.$observe("maxlength",function(a){if(f!==a){g=Xh(a);f=a;e.$validate()}});e.$validators.maxlength=function(a,b){return g<0||e.$isEmpty(b)||b.length<=g}}}}];var Vh=["$parse",function(a){return{restrict:"A",require:"?ngModel",link:function(b,c,d,e){if(!e)return;var f=d.minlength||a(d.ngMinlength)(b);var g=Xh(f)||-1;d.$observe("minlength",function(a){
if(f!==a){g=Xh(a)||-1;f=a;e.$validate()}});e.$validators.minlength=function(a,b){return e.$isEmpty(b)||b.length>=g}}}}];function Wh(a,b,c){if(!a)return undefined;if(Q(a)){a=new RegExp("^"+a+"$")}if(!a.test){throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",b,a,Ba(c))}return a}function Xh(a){var b=F(a);return G(b)?-1:b}if(a.angular.bootstrap){if(a.console){console.log("WARNING: Tried to load AngularJS more than once.")}return}Sa();jb(t);t.module("ngLocale",[],["$provide",function(a){var b={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function c(a){a=a+"";var b=a.indexOf(".");return b==-1?0:a.length-b-1}function d(a,b){var d=b;if(undefined===d){d=Math.min(c(a),3)}var e=Math.pow(10,d);var f=(a*e|0)%e;return{v:d,f:f}}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0;var f=d(a,c);if(e==1&&f.v==0){return b.ONE}return b.OTHER}})}]);l(function(){La(a.document,Ma)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');/**
 * @license AngularJS v1.7.8
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(a,b){"use strict";var c=b.$$minErr("$resource");var d=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function e(a){return a!=null&&a!==""&&a!=="hasOwnProperty"&&d.test("."+a)}function f(a,d){if(!e(d)){throw c("badmember",'Dotted member path "@{0}" is invalid.',d)}var f=d.split(".");for(var g=0,h=f.length;g<h&&b.isDefined(a);g++){var i=f[g];a=a!==null?a[i]:undefined}return a}function g(a,c){c=c||{};b.forEach(c,function(a,b){delete c[b]});for(var d in a){if(a.hasOwnProperty(d)&&!(d.charAt(0)==="$"&&d.charAt(1)==="$")){c[d]=a[d]}}return c}b.module("ngResource",["ng"]).info({angularVersion:"1.7.8"}).provider("$resource",function a(){var d=/^https?:\/\/\[[^\]]*][^\/]*/;var e=this;this.defaults={stripTrailingSlashes:true,cancellable:false,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:true},remove:{method:"DELETE"},delete:{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(a,h,i,j){var k=b.noop,l=b.forEach,m=b.extend,n=b.copy,o=b.isArray,p=b.isDefined,q=b.isFunction,r=b.isNumber,s=b.$$encodeUriQuery,t=b.$$encodeUriSegment;function u(a,b){this.template=a;this.defaults=m({},e.defaults,b);this.urlParams={}}u.prototype={setUrlParams:function(a,b,e){var f=this,g=e||f.template,h,i,j="";var k=f.urlParams=Object.create(null);l(g.split(/\W/),function(a){if(a==="hasOwnProperty"){throw c("badname","hasOwnProperty is not a valid parameter name.")}if(!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(g)){k[a]={isQueryParamValue:new RegExp("\\?.*=:"+a+"(?:\\W|$)").test(g)}}});g=g.replace(/\\:/g,":");g=g.replace(d,function(a){j=a;return""});b=b||{};l(f.urlParams,function(a,c){h=b.hasOwnProperty(c)?b[c]:f.defaults[c];if(p(h)&&h!==null){if(a.isQueryParamValue){i=s(h,true)}else{i=t(h)}g=g.replace(new RegExp(":"+c+"(\\W|$)","g"),function(a,b){return i+b})}else{g=g.replace(new RegExp("(/?):"+c+"(\\W|$)","g"),function(a,b,c){if(c.charAt(0)==="/"){return c}else{return b+c}})}});if(f.defaults.stripTrailingSlashes){g=g.replace(/\/+$/,"")||"/"}g=g.replace(/\/\.(?=\w+($|\?))/,".");a.url=j+g.replace(/\/(\\|%5C)\./,"/.");l(b,function(b,c){if(!f.urlParams[c]){a.params=a.params||{};a.params[c]=b}})}};function v(b,d,s,t){var v=new u(b,t);s=m({},e.defaults.actions,s);function w(a,b){var c={};b=m({},d,b);l(b,function(b,d){if(q(b)){b=b(a)}c[d]=b&&b.charAt&&b.charAt(0)==="@"?f(a,b.substr(1)):b});return c}function x(a){return a.resource}function y(a){g(a||{},this)}y.prototype.toJSON=function(){var a=m({},this);delete a.$promise;delete a.$resolved;delete a.$cancelRequest;return a};l(s,function(b,d){var e=b.hasBody===true||b.hasBody!==false&&/^(POST|PUT|PATCH)$/i.test(b.method);var f=b.timeout;var s=p(b.cancellable)?b.cancellable:v.defaults.cancellable;if(f&&!r(f)){h.debug("ngResource:\n"+"  Only numeric values are allowed as `timeout`.\n"+"  Promises are not supported in $resource, because the same value would "+"be used for multiple requests. If you are looking for a way to cancel "+"requests, you should use the `cancellable` option.");delete b.timeout;f=null}y[d]=function(h,p,r,t){var u={},z,A,B;switch(arguments.length){case 4:B=t;A=r;case 3:case 2:if(q(p)){if(q(h)){A=h;B=p;break}A=p;B=r}else{u=h;z=p;A=r;break}case 1:if(q(h))A=h;else if(e)z=h;else u=h;break;case 0:break;default:throw c("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C=this instanceof y;var D=C?z:b.isArray?[]:new y(z);var E={};var F=b.interceptor&&b.interceptor.request||undefined;var G=b.interceptor&&b.interceptor.requestError||undefined;var H=b.interceptor&&b.interceptor.response||x;var I=b.interceptor&&b.interceptor.responseError||i.reject;var J=A?function(a){A(a,N.headers,N.status,N.statusText)}:undefined;var K=B||undefined;var L;var M;var N;l(b,function(a,b){switch(b){default:E[b]=n(a);break;case"params":case"isArray":case"interceptor":case"cancellable":break}});if(!C&&s){L=i.defer();E.timeout=L.promise;if(f){M=j(L.resolve,f)}}if(e)E.data=z;v.setUrlParams(E,m({},w(z,b.params||{}),u),b.url);var O=i.resolve(E).then(F).catch(G).then(a);O=O.then(function(a){var e=a.data;if(e){if(o(e)!==!!b.isArray){throw c("badcfg","Error in resource configuration for action `{0}`. Expected response to "+"contain an {1} but got an {2} (Request: {3} {4})",d,b.isArray?"array":"object",o(e)?"array":"object",E.method,E.url)}if(b.isArray){D.length=0;l(e,function(a){if(typeof a==="object"){D.push(new y(a))}else{D.push(a)}})}else{var f=D.$promise;g(e,D);D.$promise=f}}a.resource=D;N=a;return H(a)},function(a){a.resource=D;N=a;return I(a)});O=O["finally"](function(){D.$resolved=true;if(!C&&s){D.$cancelRequest=k;j.cancel(M);L=M=E.timeout=null}});O.then(J,K);if(!C){D.$promise=O;D.$resolved=false;if(s)D.$cancelRequest=P;return D}return O;function P(a){O.catch(k);if(L!==null){L.resolve(a)}}};y.prototype["$"+d]=function(a,b,c){if(q(a)){c=b;b=a;a={}}var e=y[d].call(this,a,this,b,c);return e.$promise||e}});return y}return v}]})})(window,window.angular);/**
 * @license AngularJS v1.7.8
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(a,b){"use strict";function c(a,b){if(e(a)){b=b||[];for(var c=0,d=a.length;c<d;c++){b[c]=a[c]}}else if(f(a)){b=b||{};for(var g in a){if(!(g.charAt(0)==="$"&&g.charAt(1)==="$")){b[g]=a[g]}}}return b||a}function d(a,b){var c=[];var d=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(a,b,d,e){var f=e==="?"||e==="*?";var g=e==="*"||e==="*?";c.push({name:d,optional:f});b=b||"";return(f?"(?:"+b:b+"(?:")+(g?"(.+?)":"([^/]+)")+(f?"?)?":")")}).replace(/([\/$*])/g,"\\$1");if(b.ignoreTrailingSlashes){d=d.replace(/\/+$/,"")+"/*"}return{keys:c,regexp:new RegExp("^"+d+"(?:[?#]|$)",b.caseInsensitiveMatch?"i":"")}}var e;var f;var g;var h;var i=b.module("ngRoute",[]).info({angularVersion:"1.7.8"}).provider("$route",l).run(m);var j=b.$$minErr("ngRoute");var k;function l(){e=b.isArray;f=b.isObject;g=b.isDefined;h=b.noop;function a(a,c){return b.extend(Object.create(a),c)}var i={};this.when=function(a,e){var f=c(e);if(b.isUndefined(f.reloadOnUrl)){f.reloadOnUrl=true}if(b.isUndefined(f.reloadOnSearch)){f.reloadOnSearch=true}if(b.isUndefined(f.caseInsensitiveMatch)){f.caseInsensitiveMatch=this.caseInsensitiveMatch}i[a]=b.extend(f,{originalPath:a},a&&d(a,f));if(a){var g=a[a.length-1]==="/"?a.substr(0,a.length-1):a+"/";i[g]=b.extend({originalPath:a,redirectTo:a},d(g,f))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(a){if(typeof a==="string"){a={redirectTo:a}}this.when(null,a);return this};k=true;this.eagerInstantiationEnabled=function a(b){if(g(b)){k=b;return this}return k};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(c,d,e,f,g,k,l,m){var n=false,o,p,q={routes:i,reload:function(){n=true;var a={defaultPrevented:false,preventDefault:function a(){this.defaultPrevented=true;n=false}};c.$evalAsync(function(){s(a);if(!a.defaultPrevented)t()})},updateParams:function(a){if(this.current&&this.current.$$route){a=b.extend({},this.current.params,a);d.path(A(this.current.$$route.originalPath,a));d.search(a)}else{throw j("norout","Tried updating route with no current route")}}};c.$on("$locationChangeStart",s);c.$on("$locationChangeSuccess",t);return q;function r(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;f<g;++f){var h=c[f-1];var i=e[f];if(h&&i){d[h.name]=i}}return d}function s(a){var b=q.current;o=y();p=z(o,b);if(!p&&(b||o)){if(c.$broadcast("$routeChangeStart",o,b).defaultPrevented){if(a){a.preventDefault()}}}}function t(){var a=q.current;var d=o;if(p){a.params=d.params;b.copy(a.params,e);c.$broadcast("$routeUpdate",a)}else if(d||a){n=false;q.current=d;var g=f.resolve(d);m.$$incOutstandingRequestCount("$route");g.then(u).then(v).then(function(f){return f&&g.then(w).then(function(f){if(d===q.current){if(d){d.locals=f;b.copy(d.params,e)}c.$broadcast("$routeChangeSuccess",d,a)}})}).catch(function(b){if(d===q.current){c.$broadcast("$routeChangeError",d,a,b)}}).finally(function(){m.$$completeOutstandingRequest(h,"$route")})}}function u(a){var c={route:a,hasRedirection:false};if(a){if(a.redirectTo){if(b.isString(a.redirectTo)){c.path=A(a.redirectTo,a.params);c.search=a.params;c.hasRedirection=true}else{var e=d.path();var h=d.search();var i=a.redirectTo(a.pathParams,e,h);if(b.isDefined(i)){c.url=i;c.hasRedirection=true}}}else if(a.resolveRedirectTo){return f.resolve(g.invoke(a.resolveRedirectTo)).then(function(a){if(b.isDefined(a)){c.url=a;c.hasRedirection=true}return c})}}return c}function v(a){var b=true;if(a.route!==q.current){b=false}else if(a.hasRedirection){var c=d.url();var e=a.url;if(e){d.url(e).replace()}else{e=d.path(a.path).search(a.search).replace().url()}if(e!==c){b=false}}return b}function w(a){if(a){var c=b.extend({},a.resolve);b.forEach(c,function(a,d){c[d]=b.isString(a)?g.get(a):g.invoke(a,null,null,d)});var d=x(a);if(b.isDefined(d)){c["$template"]=d}return f.all(c)}}function x(a){var c,d;if(b.isDefined(c=a.template)){if(b.isFunction(c)){c=c(a.params)}}else if(b.isDefined(d=a.templateUrl)){if(b.isFunction(d)){d=d(a.params)}if(b.isDefined(d)){a.loadedTemplateUrl=l.valueOf(d);c=k(d)}}return c}function y(){var c,e;b.forEach(i,function(f,g){if(!e&&(c=r(d.path(),f))){e=a(f,{params:b.extend({},d.search(),c),pathParams:c});e.$$route=f}});return e||i[null]&&a(i[null],{params:{},pathParams:{}})}function z(a,c){return!n&&a&&c&&a.$$route===c.$$route&&(!a.reloadOnUrl||!a.reloadOnSearch&&b.equals(a.pathParams,c.pathParams))}function A(a,c){var d=[];b.forEach((a||"").split(":"),function(a,b){if(b===0){d.push(a)}else{var e=a.match(/(\w+)(?:[?*])?(.*)/);var f=e[1];d.push(c[f]);d.push(e[2]||"");delete c[f]}});return d.join("")}}]}m.$inject=["$injector"];function m(a){if(k){a.get("$route")}}i.provider("$routeParams",n);function n(){this.$get=function(){return{}}}i.directive("ngView",o);i.directive("ngView",p);o.$inject=["$route","$anchorScroll","$animate"];function o(a,c,d){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(e,f,g,h,i){var j,k,l,m=g.autoscroll,n=g.onload||"";e.$on("$routeChangeSuccess",p);p();function o(){if(l){d.cancel(l);l=null}if(j){j.$destroy();j=null}if(k){l=d.leave(k);l.done(function(a){if(a!==false)l=null});k=null}}function p(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var l=e.$new();var p=a.current;var q=i(l,function(a){d.enter(a,null,k||f).done(function a(d){if(d!==false&&b.isDefined(m)&&(!m||e.$eval(m))){c()}});o()});k=q;j=p.scope=l;j.$emit("$viewContentLoaded");j.$eval(n)}else{o()}}}}}p.$inject=["$compile","$controller","$route"];function p(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);if(f.controllerAs){d[f.controllerAs]=i}e.data("$ngControllerController",i);e.children().data("$ngControllerController",i)}d[f.resolveAs||"$resolve"]=g;h(d)}}}})(window,window.angular);/**
 * @license AngularJS v1.7.8
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(a,b){"use strict";var c=1;var d=8;var e="-add";var f="-remove";var g="ng-";var h="-active";var i="-prepare";var j="ng-animate";var k="$$ngAnimateChildren";var l="",m,n,o,p;if(a.ontransitionend===undefined&&a.onwebkittransitionend!==undefined){l="-webkit-";m="WebkitTransition";n="webkitTransitionEnd transitionend"}else{m="transition";n="transitionend"}if(a.onanimationend===undefined&&a.onwebkitanimationend!==undefined){l="-webkit-";o="WebkitAnimation";p="webkitAnimationEnd animationend"}else{o="animation";p="animationend"}var q="Duration";var r="Property";var s="Delay";var t="TimingFunction";var u="IterationCount";var v="PlayState";var w=9999;var x=o+s;var y=o+q;var z=m+s;var A=m+q;var B=b.$$minErr("ng");function C(a,b,c){if(!a){throw B("areq","Argument '{0}' is {1}",b||"?",c||"required")}return a}function D(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;if(za(a))a=a.join(" ");if(za(b))b=b.join(" ");return a+" "+b}function E(a){var b={};if(a&&(a.to||a.from)){b.to=a.to;b.from=a.from}return b}function F(a,b,c){var d="";a=za(a)?a:a&&Ea(a)&&a.length?a.split(/\s+/):[];ya(a,function(a,e){if(a&&a.length>0){d+=e>0?" ":"";d+=c?b+a:a+b}});return d}function G(a,b){var c=a.indexOf(b);if(b>=0){a.splice(c,1)}}function H(a){if(a instanceof Ga){switch(a.length){case 0:return a;case 1:if(a[0].nodeType===c){return a}break;default:return Ga(I(a))}}if(a.nodeType===c){return Ga(a)}}function I(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var d=a[b];if(d.nodeType===c){return d}}}function J(a,b,c){ya(b,function(b){a.addClass(b,c)})}function K(a,b,c){ya(b,function(b){a.removeClass(b,c)})}function L(a){return function(b,c){if(c.addClass){J(a,b,c.addClass);c.addClass=null}if(c.removeClass){K(a,b,c.removeClass);c.removeClass=null}}}function M(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||Ha;a.domOperation=function(){a.$$domOperationFired=true;b();b=Ha};a.$$prepared=true}return a}function N(a,b){O(a,b);P(a,b)}function O(a,b){if(b.from){a.css(b.from);b.from=null}}function P(a,b){if(b.to){a.css(b.to);b.to=null}}function Q(a,b,c){var d=b.options||{};var e=c.options||{};var f=(d.addClass||"")+" "+(e.addClass||"");var g=(d.removeClass||"")+" "+(e.removeClass||"");var h=R(a.attr("class"),f,g);if(e.preparationClasses){d.preparationClasses=X(e.preparationClasses,d.preparationClasses);delete e.preparationClasses}var i=d.domOperation!==Ha?d.domOperation:null;xa(d,e);if(i){d.domOperation=i}if(h.addClass){d.addClass=h.addClass}else{d.addClass=null}if(h.removeClass){d.removeClass=h.removeClass}else{d.removeClass=null}b.addClass=d.addClass;b.removeClass=d.removeClass;return d}function R(a,b,c){var d=1;var g=-1;var h={};a=j(a);b=j(b);ya(b,function(a,b){h[b]=d});c=j(c);ya(c,function(a,b){h[b]=h[b]===d?null:g});var i={addClass:"",removeClass:""};ya(h,function(b,c){var h,j;if(b===d){h="addClass";j=!a[c]||a[c+f]}else if(b===g){h="removeClass";j=a[c]||a[c+e]}if(j){if(i[h].length){i[h]+=" "}i[h]+=c}});function j(a){if(Ea(a)){a=a.split(" ")}var b={};ya(a,function(a){if(a.length){b[a]=true}});return b}return i}function S(a){return a instanceof Ga?a[0]:a}function T(a,b,c,d){var h="";if(c){h=F(c,g,true)}if(d.addClass){h=X(h,F(d.addClass,e))}if(d.removeClass){h=X(h,F(d.removeClass,f))}if(h.length){d.preparationClasses=h;b.addClass(h)}}function U(a,b){if(b.preparationClasses){a.removeClass(b.preparationClasses);b.preparationClasses=null}if(b.activeClasses){a.removeClass(b.activeClasses);b.activeClasses=null}}function V(a,b){var c=b?"paused":"";var d=o+v;W(a,[d,c]);return[d,c]}function W(a,b){var c=b[0];var d=b[1];a.style[c]=d}function X(a,b){if(!a)return b;if(!b)return a;return a+" "+b}var Y={blockTransitions:function(a,b){var c=b?"-"+b+"s":"";W(a,[z,c]);return[z,c]}};var Z=["$$rAF",function(a){var b,c;function d(a){b=b.concat(a);e()}b=d.queue=[];d.waitUntilQuiet=function(b){if(c)c();c=a(function(){c=null;b();e()})};return d;function e(){if(!b.length)return;var d=b.shift();for(var f=0;f<d.length;f++){d[f]()}if(!c){a(function(){if(!c)e()})}}}];var $=["$interpolate",function(a){return{link:function(b,c,d){var e=d.ngAnimateChildren;if(Ea(e)&&e.length===0){c.data(k,true)}else{f(a(e)(b));d.$observe("ngAnimateChildren",f)}function f(a){a=a==="on"||a==="true";c.data(k,a)}}}}];var _="$$animateCss";var aa=1e3;var ba=3;var ca=1.5;var da={transitionDuration:A,transitionDelay:z,transitionProperty:m+r,animationDuration:y,animationDelay:x,animationIterationCount:o+u};var ea={transitionDuration:A,transitionDelay:z,animationDuration:y,animationDelay:x};function fa(a){return[y,a+"s"]}function ga(a,b){var c=b?x:z;return[c,a+"s"]}function ha(a,b,c){var d=Object.create(null);var e=a.getComputedStyle(b)||{};ya(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);if(f==="-"||f==="+"||f>=0){c=ia(c)}if(c===0){c=null}d[b]=c}});return d}function ia(a){var b=0;var c=a.split(/\s*,\s*/);ya(c,function(a){if(a.charAt(a.length-1)==="s"){a=a.substring(0,a.length-1)}a=parseFloat(a)||0;b=b?Math.max(a,b):a});return b}function ja(a){return a===0||a!=null}function ka(a,b){var c=m;var d=a+"s";if(b){c+=q}else{d+=" linear all"}return[c,d]}function la(a,b,c){ya(c,function(c){a[c]=Aa(a[c])?a[c]:b.style.getPropertyValue(c)})}var ma=["$animateProvider",function(a){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,b,c,d,i,j,k,l,q){var s=L(b);function u(b,c,d,e,f){var g=i.get(d);if(!g){g=ha(a,b,f);if(g.animationIterationCount==="infinite"){g.animationIterationCount=1}}var h=e||(g.transitionDuration>0||g.animationDuration>0);i.put(d,g,h);return g}function v(c,d,e,f){var g;var h="stagger-"+e;if(i.count(e)>0){g=i.get(h);if(!g){var j=F(d,"-stagger");b.addClass(c,j);g=ha(a,c,f);g.animationDuration=Math.max(g.animationDuration,0);g.transitionDuration=Math.max(g.transitionDuration,0);b.removeClass(c,j);i.put(h,g,true)}}return g||{}}var x=[];function y(a){x.push(a);l.waitUntilQuiet(function(){i.flush();var a=j();for(var b=0;b<x.length;b++){x[b](a)}x.length=0})}function z(a,b,c,d){var e=u(a,b,c,d,da);var f=e.animationDelay;var g=e.transitionDelay;e.maxDelay=f&&g?Math.max(f,g):f||g;e.maxDuration=Math.max(e.animationDuration*e.animationIterationCount,e.transitionDuration);return e}return function a(j,l){var u=l||{};if(!u.$$prepared){u=M(wa(u))}var x={};var A=S(j);if(!A||!A.parentNode||!q.enabled()){return Ma()}var B=[];var C=j.attr("class");var D=E(u);var H;var I;var J;var K;var L;var Q;var R;var T;var U;var X;var Z=[];if(u.duration===0||!k.animations&&!k.transitions){return Ma()}var $=u.event&&za(u.event)?u.event.join(" "):u.event;var da=$&&u.structural;var ha="";var ia="";if(da){ha=F($,g,true)}else if($){ha=$}if(u.addClass){ia+=F(u.addClass,e)}if(u.removeClass){if(ia.length){ia+=" "}ia+=F(u.removeClass,f)}if(u.applyClassesEarly&&ia.length){s(j,u)}var ma=[ha,ia].join(" ").trim();var na=C+" "+ma;var oa=D.to&&Object.keys(D.to).length>0;var pa=(u.keyframeStyle||"").length>0;if(!pa&&!oa&&!ma){return Ma()}var qa,ra=i.cacheKey(A,$,u.addClass,u.removeClass);if(i.containsCachedAnimationWithoutDuration(ra)){ma=null;return Ma()}if(u.stagger>0){var sa=parseFloat(u.stagger);qa={transitionDelay:sa,animationDelay:sa,transitionDuration:0,animationDuration:0}}else{qa=v(A,ma,ra,ea)}if(!u.$$skipPreparationClasses){b.addClass(j,ma)}var ta;if(u.transitionStyle){var ua=[m,u.transitionStyle];W(A,ua);B.push(ua)}if(u.duration>=0){ta=A.style[m].length>0;var va=ka(u.duration,ta);W(A,va);B.push(va)}if(u.keyframeStyle){var xa=[o,u.keyframeStyle];W(A,xa);B.push(xa)}var Aa=qa?u.staggerIndex>=0?u.staggerIndex:i.count(ra):0;var Ba=Aa===0;if(Ba&&!u.skipBlocking){Y.blockTransitions(A,w)}var Ca=z(A,na,ra,!da);var Da=Ca.maxDelay;Q=Math.max(Da,0);T=Ca.maxDuration;var Ea={};Ea.hasTransitions=Ca.transitionDuration>0;Ea.hasAnimations=Ca.animationDuration>0;Ea.hasTransitionAll=Ea.hasTransitions&&Ca.transitionProperty==="all";Ea.applyTransitionDuration=oa&&(Ea.hasTransitions&&!Ea.hasTransitionAll||Ea.hasAnimations&&!Ea.hasTransitions);Ea.applyAnimationDuration=u.duration&&Ea.hasAnimations;Ea.applyTransitionDelay=ja(u.delay)&&(Ea.applyTransitionDuration||Ea.hasTransitions);Ea.applyAnimationDelay=ja(u.delay)&&Ea.hasAnimations;Ea.recalculateTimingStyles=ia.length>0;if(Ea.applyTransitionDuration||Ea.applyAnimationDuration){T=u.duration?parseFloat(u.duration):T;if(Ea.applyTransitionDuration){Ea.hasTransitions=true;Ca.transitionDuration=T;ta=A.style[m+r].length>0;B.push(ka(T,ta))}if(Ea.applyAnimationDuration){Ea.hasAnimations=true;Ca.animationDuration=T;B.push(fa(T))}}if(T===0&&!Ea.recalculateTimingStyles){return Ma()}var Fa=F(ma,h);if(u.delay!=null){var Ga;if(typeof u.delay!=="boolean"){Ga=parseFloat(u.delay);Q=Math.max(Ga,0)}if(Ea.applyTransitionDelay){B.push(ga(Ga))}if(Ea.applyAnimationDelay){B.push(ga(Ga,true))}}if(u.duration==null&&Ca.transitionDuration>0){Ea.recalculateTimingStyles=Ea.recalculateTimingStyles||Ba}R=Q*aa;U=T*aa;if(!u.skipBlocking){Ea.blockTransition=Ca.transitionDuration>0;Ea.blockKeyframeAnimation=Ca.animationDuration>0&&qa.animationDelay>0&&qa.animationDuration===0}if(u.from){if(u.cleanupStyles){la(x,A,Object.keys(u.from))}O(j,u)}if(Ea.blockTransition||Ea.blockKeyframeAnimation){La(T)}else if(!u.skipBlocking){Y.blockTransitions(A,false)}return{$$willAnimate:true,end:Ia,start:function(){if(H)return;L={end:Ia,cancel:Ja,resume:null,pause:null};K=new c(L);y(Oa);return K}};function Ia(){Ka()}function Ja(){Ka(true)}function Ka(a){if(H||J&&I)return;H=true;I=false;if(ma&&!u.$$skipPreparationClasses){b.removeClass(j,ma)}if(Fa){b.removeClass(j,Fa)}V(A,false);Y.blockTransitions(A,false);ya(B,function(a){A.style[a[0]]=""});s(j,u);N(j,u);if(Object.keys(x).length){ya(x,function(a,b){if(a){A.style.setProperty(b,a)}else{A.style.removeProperty(b)}})}if(u.onDone){u.onDone()}if(Z&&Z.length){j.off(Z.join(" "),Na)}var c=j.data(_);if(c){d.cancel(c[0].timer);j.removeData(_)}if(K){K.complete(!a)}}function La(a){if(Ea.blockTransition){Y.blockTransitions(A,a)}if(Ea.blockKeyframeAnimation){V(A,!!a)}}function Ma(){K=new c({end:Ia,cancel:Ja});y(Ha);Ka();return{$$willAnimate:false,start:function(){return K},end:Ia}}function Na(a){a.stopPropagation();var b=a.originalEvent||a;if(b.target!==A){return}var c=b.$manualTimeStamp||Date.now();var d=parseFloat(b.elapsedTime.toFixed(ba));if(Math.max(c-X,0)>=R&&d>=T){J=true;Ka()}}function Oa(){if(H)return;if(!A.parentNode){Ka();return}var a=function(a){if(!J){I=!a;if(Ca.animationDuration){var b=V(A,I);if(I){B.push(b)}else{G(B,b)}}}else if(I&&a){I=false;Ka()}};var c=Aa>0&&(Ca.transitionDuration&&qa.transitionDuration===0||Ca.animationDuration&&qa.animationDuration===0)&&Math.max(qa.animationDelay,qa.transitionDelay);if(c){d(e,Math.floor(c*Aa*aa),false)}else{e()}L.resume=function(){a(true)};L.pause=function(){a(false)};function e(){if(H)return;La(false);ya(B,function(a){var b=a[0];var c=a[1];A.style[b]=c});s(j,u);b.addClass(j,Fa);if(Ea.recalculateTimingStyles){na=A.getAttribute("class")+" "+ma;ra=i.cacheKey(A,$,u.addClass,u.removeClass);Ca=z(A,na,ra,false);Da=Ca.maxDelay;Q=Math.max(Da,0);T=Ca.maxDuration;if(T===0){Ka();return}Ea.hasTransitions=Ca.transitionDuration>0;Ea.hasAnimations=Ca.animationDuration>0}if(Ea.applyAnimationDelay){Da=typeof u.delay!=="boolean"&&ja(u.delay)?parseFloat(u.delay):Da;Q=Math.max(Da,0);Ca.animationDelay=Da;Ga=ga(Da,true);B.push(Ga);A.style[Ga[0]]=Ga[1]}R=Q*aa;U=T*aa;if(u.easing){var a,c=u.easing;if(Ea.hasTransitions){a=m+t;B.push([a,c]);A.style[a]=c}if(Ea.hasAnimations){a=o+t;B.push([a,c]);A.style[a]=c}}if(Ca.transitionDuration){Z.push(n)}if(Ca.animationDuration){Z.push(p)}X=Date.now();var e=R+ca*U;var g=X+e;var h=j.data(_)||[];var k=true;if(h.length){var l=h[0];k=g>l.expectedEndTime;if(k){d.cancel(l.timer)}else{h.push(Ka)}}if(k){var q=d(f,e,false);h[0]={timer:q,expectedEndTime:g};h.push(Ka);j.data(_,h)}if(Z.length){j.on(Z.join(" "),Na)}if(u.to){if(u.cleanupStyles){la(x,A,Object.keys(u.to))}P(j,u)}}function f(){var a=j.data(_);if(a){for(var b=1;b<a.length;b++){a[b]()}j.removeData(_)}}}}}]}];var na=["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");var b="ng-animate-shim";var c="ng-anchor";var d="ng-anchor-out";var e="ng-anchor-in";function f(a){return a.parentNode&&a.parentNode.nodeType===11}this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,g,h,i,j,k,l){if(!j.animations&&!j.transitions)return Ha;var m=l[0].body;var n=S(i);var o=Ga(f(n)||m.contains(n)?n:m);return function a(b){return b.from&&b.to?s(b.from,b.to,b.classes,b.anchors):t(b)};function p(a){return a.replace(/\bng-\S+\b/g,"")}function q(a,b){if(Ea(a))a=a.split(" ");if(Ea(b))b=b.split(" ");return a.filter(function(a){return b.indexOf(a)===-1}).join(" ")}function r(f,g,i){var j=Ga(S(g).cloneNode(true));var k=p(u(j));g.addClass(b);i.addClass(b);j.addClass(c);o.append(j);var l,n=t();if(!n){l=v();if(!l){return w()}}var r=n||l;return{start:function(){var a;var b=r.start();b.done(function(){b=null;if(!l){l=v();if(l){b=l.start();b.done(function(){b=null;w();a.complete()});return b}}w();a.complete()});a=new h({end:c,cancel:c});return a;function c(){if(b){b.end()}}}};function s(a){var b={};var c=S(a).getBoundingClientRect();ya(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=m.scrollTop;break;case"left":d+=m.scrollLeft;break}b[a]=Math.floor(d)+"px"});return b}function t(){var b=a(j,{addClass:d,delay:true,from:s(g)});return b.$$willAnimate?b:null}function u(a){return a.attr("class")||""}function v(){var b=p(u(i));var c=q(b,k);var f=q(k,b);var g=a(j,{to:s(i),addClass:e+" "+c,removeClass:d+" "+f,delay:true});return g.$$willAnimate?g:null}function w(){j.remove();g.removeClass(b);i.removeClass(b)}}function s(a,b,c,d){var e=t(a,Ha);var f=t(b,Ha);var g=[];ya(d,function(a){var b=a["out"];var d=a["in"];var e=r(c,b,d);if(e){g.push(e)}});if(!e&&!f&&g.length===0)return;return{start:function(){var a=[];if(e){a.push(e.start())}if(f){a.push(f.start())}ya(g,function(b){a.push(b.start())});var b=new h({end:c,cancel:c});h.all(a,function(a){b.complete(a)});return b;function c(){ya(a,function(a){a.end()})}}}}function t(b){var c=b.element;var d=b.options||{};if(b.structural){d.event=b.event;d.structural=true;d.applyClassesEarly=true;if(b.event==="leave"){d.onDone=d.domOperation}}if(d.preparationClasses){d.event=X(d.event,d.preparationClasses)}var e=a(c,d);return e.$$willAnimate?e:null}}]}];var oa=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){var e=L(d);return function(a,b,d,g){var h=false;if(arguments.length===3&&Da(d)){g=d;d=null}g=M(g);if(!d){d=a.attr("class")||"";if(g.addClass){d+=" "+g.addClass}if(g.removeClass){d+=" "+g.removeClass}}var i=g.addClass;var j=g.removeClass;var k=f(d);var l,m;if(k.length){var n,o;if(b==="leave"){o="leave";n="afterLeave"}else{o="before"+b.charAt(0).toUpperCase()+b.substr(1);n=b}if(b!=="enter"&&b!=="move"){l=u(a,b,g,k,o)}m=u(a,b,g,k,n)}if(!l&&!m)return;function p(){g.domOperation();e(a,g)}function q(){h=true;p();N(a,g)}var r;return{$$willAnimate:true,end:function(){if(r){r.end()}else{q();r=new c;r.complete(true)}return r},start:function(){if(r){return r}r=new c;var a;var b=[];if(l){b.push(function(b){a=l(b)})}if(b.length){b.push(function(a){p();a(true)})}else{p()}if(m){b.push(function(b){a=m(b)})}r.setHost({end:function(){e()},cancel:function(){e(true)}});c.chain(b,d);return r;function d(a){q(a);r.complete(a)}function e(b){if(!h){(a||Ha)(b);d(b)}}}};function s(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,i,j,f];break;case"addClass":g=[b,i,f];break;case"removeClass":g=[b,j,f];break;default:g=[b,f];break}g.push(e);var h=a.apply(a,g);if(h){if(Ca(h.start)){h=h.start()}if(h instanceof c){h.done(f)}else if(Ca(h)){return h}}return Ha}function t(a,b,d,e,f){var g=[];ya(e,function(e){var h=e[f];if(!h)return;g.push(function(){var e;var f;var g=false;var i=function(a){if(!g){g=true;(f||Ha)(a);e.complete(!a)}};e=new c({end:function(){i()},cancel:function(){i(true)}});f=s(h,a,b,d,function(a){var b=a===false;i(b)});return e})});return g}function u(a,b,d,e,f){var g=t(a,b,d,e,f);if(g.length===0){var h,i;if(f==="beforeSetClass"){h=t(a,"removeClass",d,e,"beforeRemoveClass");i=t(a,"addClass",d,e,"beforeAddClass")}else if(f==="setClass"){h=t(a,"removeClass",d,e,"removeClass");i=t(a,"addClass",d,e,"addClass")}if(h){g=g.concat(h)}if(i){g=g.concat(i)}}if(g.length===0)return;return function a(b){var d=[];if(g.length){ya(g,function(a){d.push(a())})}if(d.length){c.all(d,b)}else{b()}return function a(b){ya(d,function(a){if(b){a.cancel()}else{a.end()}})}}}};function f(c){c=za(c)?c:c.split(" ");var d=[],e={};for(var f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];if(h&&!e[g]){d.push(b.get(h));e[g]=true}}return d}}]}];var pa=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(a,b){return function a(d){if(d.from&&d.to){var e=c(d.from);var f=c(d.to);if(!e&&!f)return;return{start:function(){var a=[];if(e){a.push(e.start())}if(f){a.push(f.start())}b.all(a,g);var c=new b({end:d(),cancel:d()});return c;function d(){return function(){ya(a,function(a){a.end()})}}function g(a){c.complete(a)}}}}else{return c(d)}};function c(b){var c=b.element;var d=b.event;var e=b.options;var f=b.classes;return a(c,d,f,e)}}]}];var qa="data-ng-animate";var ra="$ngAnimatePin";var sa=["$animateProvider",function(b){var d=1;var e=2;var f=" ";var g=this.rules={skip:[],cancel:[],join:[]};function h(a){return{addClass:a.addClass,removeClass:a.removeClass,from:a.from,to:a.to}}function i(a){if(!a){return null}var b=a.split(f);var c=Object.create(null);ya(b,function(a){c[a]=true});return c}function j(a,b){if(a&&b){var c=i(b);return a.split(f).some(function(a){return c[a]})}}function l(a,b,c){return g[a].some(function(a){return a(b,c)})}function m(a,b){var c=(a.addClass||"").length>0;var d=(a.removeClass||"").length>0;return b?c&&d:c||d}g.join.push(function(a,b){return!a.structural&&m(a)});g.skip.push(function(a,b){return!a.structural&&!m(a)});g.skip.push(function(a,b){return b.event==="leave"&&a.structural});g.skip.push(function(a,b){return b.structural&&b.state===e&&!a.structural});g.cancel.push(function(a,b){return b.structural&&a.structural});g.cancel.push(function(a,b){return b.state===e&&a.structural});g.cancel.push(function(a,b){if(b.structural)return false;var c=a.addClass;var d=a.removeClass;var e=b.addClass;var f=b.removeClass;if(Fa(c)&&Fa(d)||Fa(e)&&Fa(f)){return false}return j(c,f)||j(d,e)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(f,g,i,j,n,o,p,q,r,s,t){var u=new n;var v=new n;var w=null;function x(a){v.delete(a.target)}function y(){var a=false;return function(b){if(a){b()}else{g.$$postDigest(function(){a=true;b()})}}}var z=g.$watch(function(){return q.totalPendingRequests===0},function(a){if(!a)return;z();g.$$postDigest(function(){g.$$postDigest(function(){if(w===null){w=true}})})});var A=Object.create(null);var B=b.customFilter();var D=b.classNameFilter();var E=function(){return true};var F=B||E;var G=!D?E:function(a,b){var c=[a.getAttribute("class"),b.addClass,b.removeClass].join(" ");return D.test(c)};var J=L(r);function K(a,b){return Q(a,b,{})}var O=a.Node.prototype.contains||function(a){return this===a||!!(this.compareDocumentPosition(a)&16)};function P(a,b,c){var d=[];var e=A[c];if(e){ya(e,function(e){if(O.call(e.node,b)){d.push(e.callback)}else if(c==="leave"&&O.call(e.node,a)){d.push(e.callback)}})}return d}function R(a,b,c){var d=I(b);return a.filter(function(a){var b=a.node===d&&(!c||a.callback===c);return!b})}function V(a,b){if(a==="close"&&!b.parentNode){W.off(b)}}var W={on:function(a,b,c){var d=I(b);A[a]=A[a]||[];A[a].push({node:d,callback:c});Ga(b).on("$destroy",function(){var e=u.get(d);if(!e){W.off(a,b,c)}})},off:function(a,b,c){if(arguments.length===1&&!Ea(arguments[0])){b=arguments[0];for(var d in A){A[d]=R(A[d],b)}return}var e=A[a];if(!e)return;A[a]=arguments.length===1?null:R(e,b,c)},pin:function(a,b){C(Ba(a),"element","not an element");C(Ba(b),"parentElement","not an element");a.data(ra,b)},push:function(a,b,c,d){c=c||{};c.domOperation=d;return X(a,b,c)},enabled:function(a,b){var c=arguments.length;if(c===0){b=!!w}else{var d=Ba(a);if(!d){b=w=!!a}else{var e=S(a);if(c===1){b=!v.get(e)}else{if(!v.has(e)){Ga(a).on("$destroy",x)}v.set(e,!b)}}}return b}};return W;function X(a,b,c){var i=wa(c);var j=H(a);var k=S(j);var n=k&&k.parentNode;i=M(i);var q=new p;var s=y();if(za(i.addClass)){i.addClass=i.addClass.join(" ")}if(i.addClass&&!Ea(i.addClass)){i.addClass=null}if(za(i.removeClass)){i.removeClass=i.removeClass.join(" ")}if(i.removeClass&&!Ea(i.removeClass)){i.removeClass=null}if(i.from&&!Da(i.from)){i.from=null}if(i.to&&!Da(i.to)){i.to=null}if(!w||!k||!F(k,b,c)||!G(k,i)){X();return q}var x=["enter","move","leave"].indexOf(b)>=0;var z=t();var A=z||v.get(k);var B=!A&&u.get(k)||{};var C=!!B.state;if(!A&&(!C||B.state!==d)){A=!$(k,n,b)}if(A){if(z)W(q,b,"start",h(i));X();if(z)W(q,b,"close",h(i));return q}if(x){Y(k)}var D={structural:x,element:j,event:b,addClass:i.addClass,removeClass:i.removeClass,close:X,options:i,runner:q};if(C){var E=l("skip",D,B);if(E){if(B.state===e){X();return q}else{Q(j,B,D);return B.runner}}var I=l("cancel",D,B);if(I){if(B.state===e){B.runner.end()}else if(B.structural){B.close()}else{Q(j,B,D);return B.runner}}else{var L=l("join",D,B);if(L){if(B.state===e){K(j,D)}else{T(r,j,x?b:null,i);b=D.event=B.event;i=Q(j,B,D);return B.runner}}}}else{K(j,D)}var O=D.structural;if(!O){O=D.event==="animate"&&Object.keys(D.options.to||{}).length>0||m(D)}if(!O){X();Z(k);return q}var R=(B.counter||0)+1;D.counter=R;_(k,d,D);g.$$postDigest(function(){j=H(a);var c=u.get(k);var d=!c;c=c||{};var f=j.parent()||[];var g=f.length>0&&(c.event==="animate"||c.structural||m(c));if(d||c.counter!==R||!g){if(d){J(j,i);N(j,i)}if(d||x&&c.event!==b){i.domOperation();q.end()}if(!g){Z(k)}return}b=!c.structural&&m(c,true)?"setClass":c.event;_(k,e);var l=o(j,b,c.options);q.setHost(l);W(q,b,"start",h(i));l.done(function(a){X(!a);var c=u.get(k);if(c&&c.counter===R){Z(k)}W(q,b,"close",h(i))})});return q;function W(a,b,c,d){s(function(){var a=P(n,k,b);if(a.length){f(function(){ya(a,function(a){a(j,c,d)});V(c,k)})}else{V(c,k)}});a.progress(b,c,d)}function X(a){U(j,i);J(j,i);N(j,i);i.domOperation();q.complete(!a)}}function Y(a){var b=a.querySelectorAll("["+qa+"]");ya(b,function(a){var b=parseInt(a.getAttribute(qa),10);var c=u.get(a);if(c){switch(b){case e:c.runner.end();case d:u.delete(a);break}}})}function Z(a){a.removeAttribute(qa);u.delete(a)}function $(a,b,d){var e=j[0].body;var f=S(i);var g=a===e||a.nodeName==="HTML";var h=a===f;var l=false;var m=v.get(a);var n;var o=Ga.data(a,ra);if(o){b=S(o)}while(b){if(!h){h=b===f}if(b.nodeType!==c){break}var p=u.get(b)||{};if(!l){var q=v.get(b);if(q===true&&m!==false){m=true;break}else if(q===false){m=false}l=p.structural}if(Fa(n)||n===true){var r=Ga.data(b,k);if(Aa(r)){n=r}}if(l&&n===false)break;if(!g){g=b===e}if(g&&h){break}if(!h){o=Ga.data(b,ra);if(o){b=S(o);continue}}b=b.parentNode}var s=(!l||n)&&m!==true;return s&&h&&g}function _(a,b,c){c=c||{};c.state=b;a.setAttribute(qa,b);var d=u.get(a);var e=d?xa(d,c):c;u.set(a,e)}}]}];var ta=function(){var a="$$ngAnimateParentKey";var b=0;var c=Object.create(null);this.$get=[function(){return{cacheKey:function(c,d,e,f){var g=c.parentNode;var h=g[a]||(g[a]=++b);var i=[h,d,c.getAttribute("class")];if(e){i.push(e)}if(f){i.push(f)}return i.join(" ")},containsCachedAnimationWithoutDuration:function(a){var b=c[a];return b&&!b.isValid||false},flush:function(){c=Object.create(null)},count:function(a){var b=c[a];return b?b.total:0},get:function(a){var b=c[a];return b&&b.value},put:function(a,b,d){if(!c[a]){c[a]={total:1,value:b,isValid:d}}else{c[a].total++;c[a].value=b}}}}]};var ua=["$animateProvider",function(a){var b="ng-animate-ref";var c=this.drivers=[];var d="$$animationRunner";var e="$$animatePrepareClasses";function f(a,b){a.data(d,b)}function g(a){a.removeData(d)}function h(a){return a.data(d)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(a,d,k,l,m,n,o){var p=[];var q=L(a);function r(a){var b={children:[]};var c,d=new m;for(c=0;c<a.length;c++){var e=a[c];d.set(e.domNode,a[c]={domNode:e.domNode,element:e.element,fn:e.fn,children:[]})}for(c=0;c<a.length;c++){f(a[c])}return g(b);function f(a){if(a.processed)return a;a.processed=true;var c=a.domNode;var e=c.parentNode;d.set(c,a);var g;while(e){g=d.get(e);if(g){if(!g.processed){g=f(g)}break}e=e.parentNode}(g||b).children.push(a);return a}function g(a){var b=[];var c=[];var d;for(d=0;d<a.children.length;d++){c.push(a.children[d])}var e=c.length;var f=0;var g=[];for(d=0;d<c.length;d++){var h=c[d];if(e<=0){e=f;f=0;b.push(g);g=[]}g.push(h);h.children.forEach(function(a){f++;c.push(a)});e--}if(g.length){b.push(g)}return b}}return function(m,s,t){t=M(t);var u=["enter","move","leave"].indexOf(s)>=0;var v=new l({end:function(){G()},cancel:function(){G(true)}});if(!c.length){G();return v}var w=D(m.attr("class"),D(t.addClass,t.removeClass));var x=t.tempClasses;if(x){w+=" "+x;t.tempClasses=null}if(u){m.data(e,"ng-"+s+i)}f(m,v);p.push({element:m,classes:w,event:s,structural:u,options:t,beforeStart:C,close:G});m.on("$destroy",F);if(p.length>1)return v;d.$$postDigest(function(){var b=[];ya(p,function(a){if(h(a.element)){b.push(a)}else{a.close()}});p.length=0;var c=z(b);var d=[];ya(c,function(a){var b=a.from?a.from.element:a.element;var c=t.addClass;c=(c?c+" ":"")+j;var e=o.cacheKey(b[0],a.event,c,t.removeClass);d.push({element:b,domNode:S(b),fn:function b(){var c,d=a.close;if(o.containsCachedAnimationWithoutDuration(e)){d();return}a.beforeStart();var f=a.anchors?a.from.element||a.to.element:a.element;if(h(f)){var g=B(a);if(g){c=g.start}}if(!c){d()}else{var i=c();i.done(function(a){d(!a)});E(a,i)}}})});var f=r(d);for(var g=0;g<f.length;g++){var i=f[g];for(var k=0;k<i.length;k++){var l=i[k];var m=l.element;f[g][k]=l.fn;if(g===0){m.removeData(e);continue}var q=m.data(e);if(q){a.addClass(m,q)}}}n(f)});return v;function y(a){var c="["+b+"]";var d=a.hasAttribute(b)?[a]:a.querySelectorAll(c);var e=[];ya(d,function(a){var c=a.getAttribute(b);if(c&&c.length){e.push(a)}});return e}function z(a){var c=[];var d={};ya(a,function(a,e){var f=a.element;var g=S(f);var h=a.event;var i=["enter","move"].indexOf(h)>=0;var j=a.structural?y(g):[];if(j.length){var k=i?"to":"from";ya(j,function(a){var c=a.getAttribute(b);d[c]=d[c]||{};d[c][k]={animationID:e,element:Ga(a)}})}else{c.push(a)}});var e={};var f={};ya(d,function(b,d){var g=b.from;var h=b.to;if(!g||!h){var i=g?g.animationID:h.animationID;var j=i.toString();if(!e[j]){e[j]=true;c.push(a[i])}return}var k=a[g.animationID];var l=a[h.animationID];var m=g.animationID.toString();if(!f[m]){var n=f[m]={structural:true,beforeStart:function(){k.beforeStart();l.beforeStart()},close:function(){k.close();l.close()},classes:A(k.classes,l.classes),from:k,to:l,anchors:[]};if(n.classes.length){c.push(n)}else{c.push(k);c.push(l)}}f[m].anchors.push({out:g.element,in:h.element})});return c}function A(a,b){a=a.split(" ");b=b.split(" ");var c=[];for(var d=0;d<a.length;d++){var e=a[d];if(e.substring(0,3)==="ng-")continue;for(var f=0;f<b.length;f++){if(e===b[f]){c.push(e);break}}}return c.join(" ")}function B(a){for(var b=c.length-1;b>=0;b--){var d=c[b];var e=k.get(d);var f=e(a);if(f){return f}}}function C(){x=(x?x+" ":"")+j;a.addClass(m,x);var b=m.data(e);if(b){a.removeClass(m,b);b=null}}function E(a,b){if(a.from&&a.to){c(a.from.element);c(a.to.element)}else{c(a.element)}function c(a){var c=h(a);if(c)c.setHost(b)}}function F(){var a=h(m);if(a&&(s!=="leave"||!t.$$domOperationFired)){a.end()}}function G(b){m.off("$destroy",F);g(m);q(m,t);N(m,t);t.domOperation();if(x){a.removeClass(m,x)}v.complete(!b)}}}]}];var va=["$animate",function(a){return{restrict:"A",transclude:"element",terminal:true,priority:550,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d["for"],function(b){if(g){a.leave(g)}if(h){h.$destroy();h=null}if(b||b===0){f(function(b,d){g=b;h=d;a.enter(b,null,c)})}})}}}];var wa;var xa;var ya;var za;var Aa;var Ba;var Ca;var Da;var Ea;var Fa;var Ga;var Ha;b.module("ngAnimate",[],function a(){Ha=b.noop;wa=b.copy;xa=b.extend;Ga=b.element;ya=b.forEach;za=b.isArray;Ea=b.isString;Da=b.isObject;Fa=b.isUndefined;Aa=b.isDefined;Ca=b.isFunction;Ba=b.isElement}).info({angularVersion:"1.7.8"}).directive("ngAnimateSwap",va).directive("ngAnimateChildren",$).factory("$$rAFScheduler",Z).provider("$$animateQueue",sa).provider("$$animateCache",ta).provider("$$animation",ua).provider("$animateCss",ma).provider("$$animateCssDriver",na).provider("$$animateJs",oa).provider("$$animateJsDriver",pa)})(window,window.angular);/**
 * @license AngularJS v1.7.8
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(a,b){"use strict";var c=b.$$minErr("$sanitize");var d;var e;var f;var g;var h;var i;var j;var k;var l;var m;function n(){var n=false;var o=false;this.$get=["$$sanitizeUri",function(a){n=true;if(o){e(z,x)}return function(b){var c=[];l(b,m(c,function(b,c){return!/^unsafe:/.test(a(b,c))}));return c.join("")}}];this.enableSvg=function(a){if(h(a)){o=a;return this}else{return o}};this.addValidElements=function(a){if(!n){if(g(a)){a={htmlElements:a}}G(x,a.svgElements);G(r,a.htmlVoidElements);G(z,a.htmlVoidElements);G(z,a.htmlElements)}return this};this.addValidAttrs=function(a){if(!n){e(D,F(a,true))}return this};d=b.bind;e=b.extend;f=b.forEach;g=b.isArray;h=b.isDefined;i=b.$$lowercase;j=b.noop;l=I;m=L;k=a.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)};var p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q=/([^#-~ |!])/g;var r=E("area,br,col,hr,img,wbr");var s=E("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),t=E("rp,rt"),u=e({},t,s);var v=e({},s,E("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var w=e({},t,E("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var x=E("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var y=E("script,style");var z=e({},r,v,w,u);var A=E("background,cite,href,longdesc,src,xlink:href,xml:base");var B=E("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var C=E("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var D=e({},A,C,B);function E(a,b){return F(a.split(","),b)}function F(a,b){var c={},d;for(d=0;d<a.length;d++){c[b?i(a[d]):a[d]]=true}return c}function G(a,b){if(b&&b.length){e(a,F(b))}}var H=function(a,b){var d;if(b&&b.implementation){d=b.implementation.createHTMLDocument("inert")}else{throw c("noinert","Can't create an inert html document")}var e=(d.documentElement||d.getDocumentElement()).querySelector("body");e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!e.querySelector("svg")){return f}else{e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(e.querySelector("svg img")){return g}else{return h}}function f(b){b="<remove></remove>"+b;try{b=encodeURI(b)}catch(a){return undefined}var c=new a.XMLHttpRequest;c.responseType="document";c.open("GET","data:text/html;charset=utf-8,"+b,false);c.send(null);var d=c.response.body;d.firstChild.remove();return d}function g(b){b="<remove></remove>"+b;try{var c=(new a.DOMParser).parseFromString(b,"text/html").body;c.firstChild.remove();return c}catch(a){return undefined}}function h(a){e.innerHTML=a;if(b.documentMode){M(e)}return e}}(a,a.document);function I(a,b){if(a===null||a===undefined){a=""}else if(typeof a!=="string"){a=""+a}var d=H(a);if(!d)return"";var e=5;do{if(e===0){throw c("uinput","Failed to sanitize html because the input is unstable")}e--;a=d.innerHTML;d=H(a)}while(a!==d.innerHTML);var f=d.firstChild;while(f){switch(f.nodeType){case 1:b.start(f.nodeName.toLowerCase(),J(f.attributes));break;case 3:b.chars(f.textContent);break}var g;if(!(g=f.firstChild)){if(f.nodeType===1){b.end(f.nodeName.toLowerCase())}g=N("nextSibling",f);if(!g){while(g==null){f=N("parentNode",f);if(f===d)break;g=N("nextSibling",f);if(f.nodeType===1){b.end(f.nodeName.toLowerCase())}}}}f=g}while(f=d.firstChild){d.removeChild(f)}}function J(a){var b={};for(var c=0,d=a.length;c<d;c++){var e=a[c];b[e.name]=e.value}return b}function K(a){return a.replace(/&/g,"&amp;").replace(p,function(a){var b=a.charCodeAt(0);var c=a.charCodeAt(1);return"&#"+((b-55296)*1024+(c-56320)+65536)+";"}).replace(q,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L(a,b){var c=false;var e=d(a,a.push);return{start:function(a,d){a=i(a);if(!c&&y[a]){c=a}if(!c&&z[a]===true){e("<");e(a);f(d,function(c,d){var f=i(d);var g=a==="img"&&f==="src"||f==="background";if(D[f]===true&&(A[f]!==true||b(c,g))){e(" ");e(d);e('="');e(K(c));e('"')}});e(">")}},end:function(a){a=i(a);if(!c&&z[a]===true&&r[a]!==true){e("</");e(a);e(">")}if(a==c){c=false}},chars:function(a){if(!c){e(K(a))}}}}function M(b){while(b){if(b.nodeType===a.Node.ELEMENT_NODE){var c=b.attributes;for(var d=0,e=c.length;d<e;d++){var f=c[d];var g=f.name.toLowerCase();if(g==="xmlns:ns1"||g.lastIndexOf("ns1:",0)===0){b.removeAttributeNode(f);d--;e--}}}var h=b.firstChild;if(h){M(h)}b=N("nextSibling",b)}}function N(a,b){var d=b[a];if(d&&k.call(b,d)){throw c("elclob","Failed to sanitize html because the element is clobbered: {0}",b.outerHTML||b.outerText)}return d}}function o(a){var b=[];var c=m(b,j);c.chars(a);return b.join("")}b.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.7.8"});b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,d=/^mailto:/i;var e=b.$$minErr("linky");var f=b.isDefined;var g=b.isFunction;var h=b.isObject;var i=b.isString;return function(b,j,k){if(b==null||b==="")return b;if(!i(b))throw e("notstring","Expected string but received: {0}",b);var l=g(k)?k:h(k)?function a(){return k}:function a(){return{}};var m;var n=b;var p=[];var q;var r;while(m=n.match(c)){q=m[0];if(!m[2]&&!m[4]){q=(m[3]?"http://":"mailto:")+q}r=m.index;s(n.substr(0,r));t(q,m[0].replace(d,""));n=n.substring(r+m[0].length)}s(n);return a(p.join(""));function s(a){if(!a){return}p.push(o(a))}function t(a,b){var c,d=l(a);p.push("<a ");for(c in d){p.push(c+'="'+d[c]+'" ')}if(f(j)&&!("target"in d)){p.push('target="',j,'" ')}p.push('href="',a.replace(/"/g,"&quot;"),'">');s(b);p.push("</a>")}}}])})(window,window.angular);(function(){var a=this;var b=a._;var c=Array.prototype,d=Object.prototype,e=Function.prototype;var f=c.push,g=c.slice,h=d.toString,i=d.hasOwnProperty;var j=Array.isArray,k=Object.keys,l=e.bind,m=Object.create;var n=function(){};var o=function(a){if(a instanceof o)return a;if(!(this instanceof o))return new o(a);this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=o}exports._=o}else{a._=o}o.VERSION="1.8.3";var p=function(a,b,c){if(b===void 0)return a;switch(c==null?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};var q=function(a,b,c){if(a==null)return o.identity;if(o.isFunction(a))return p(a,b,c);if(o.isObject(a))return o.matcher(a);return o.property(a)};o.iteratee=function(a,b){return q(a,b,Infinity)};var r=function(a,b){return function(c){var d=arguments.length;if(d<2||c==null)return c;for(var e=1;e<d;e++){var f=arguments[e],g=a(f),h=g.length;for(var i=0;i<h;i++){var j=g[i];if(!b||c[j]===void 0)c[j]=f[j]}}return c}};var s=function(a){if(!o.isObject(a))return{};if(m)return m(a);n.prototype=a;var b=new n;n.prototype=null;return b};var t=function(a){return function(b){return b==null?void 0:b[a]}};var u=Math.pow(2,53)-1;var v=t("length");var w=function(a){var b=v(a);return typeof b=="number"&&b>=0&&b<=u};o.each=o.forEach=function(a,b,c){b=p(b,c);var d,e;if(w(a)){for(d=0,e=a.length;d<e;d++){b(a[d],d,a)}}else{var f=o.keys(a);for(d=0,e=f.length;d<e;d++){b(a[f[d]],f[d],a)}}return a};o.map=o.collect=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length,f=Array(e);for(var g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f};function x(a){function b(b,c,d,e,f,g){for(;f>=0&&f<g;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=p(d,f,4);var g=!w(c)&&o.keys(c),h=(g||c).length,i=a>0?0:h-1;if(arguments.length<3){e=c[g?g[i]:i];i+=a}return b(c,d,e,g,i,h)}}o.reduce=o.foldl=o.inject=x(1);o.reduceRight=o.foldr=x(-1);o.find=o.detect=function(a,b,c){var d;if(w(a)){d=o.findIndex(a,b,c)}else{d=o.findKey(a,b,c)}if(d!==void 0&&d!==-1)return a[d]};o.filter=o.select=function(a,b,c){var d=[];b=q(b,c);o.each(a,function(a,c,e){if(b(a,c,e))d.push(a)});return d};o.reject=function(a,b,c){return o.filter(a,o.negate(q(b)),c)};o.every=o.all=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length;for(var f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return false}return true};o.some=o.any=function(a,b,c){b=q(b,c);var d=!w(a)&&o.keys(a),e=(d||a).length;for(var f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return true}return false};o.contains=o.includes=o.include=function(a,b,c,d){if(!w(a))a=o.values(a);if(typeof c!="number"||d)c=0;return o.indexOf(a,b,c)>=0};o.invoke=function(a,b){var c=g.call(arguments,2);var d=o.isFunction(b);return o.map(a,function(a){var e=d?b:a[b];return e==null?e:e.apply(a,c)})};o.pluck=function(a,b){return o.map(a,o.property(b))};o.where=function(a,b){return o.filter(a,o.matcher(b))};o.findWhere=function(a,b){return o.find(a,o.matcher(b))};o.max=function(a,b,c){var d=-Infinity,e=-Infinity,f,g;if(b==null&&a!=null){a=w(a)?a:o.values(a);for(var h=0,i=a.length;h<i;h++){f=a[h];if(f>d){d=f}}}else{b=q(b,c);o.each(a,function(a,c,f){g=b(a,c,f);if(g>e||g===-Infinity&&d===-Infinity){d=a;e=g}})}return d};o.min=function(a,b,c){var d=Infinity,e=Infinity,f,g;if(b==null&&a!=null){a=w(a)?a:o.values(a);for(var h=0,i=a.length;h<i;h++){f=a[h];if(f<d){d=f}}}else{b=q(b,c);o.each(a,function(a,c,f){g=b(a,c,f);if(g<e||g===Infinity&&d===Infinity){d=a;e=g}})}return d};o.shuffle=function(a){var b=w(a)?a:o.values(a);var c=b.length;var d=Array(c);for(var e=0,f;e<c;e++){f=o.random(0,e);if(f!==e)d[e]=d[f];d[f]=b[e]}return d};o.sample=function(a,b,c){if(b==null||c){if(!w(a))a=o.values(a);return a[o.random(a.length-1)]}return o.shuffle(a).slice(0,Math.max(0,b))};o.sortBy=function(a,b,c){b=q(b,c);return o.pluck(o.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria;var d=b.criteria;if(c!==d){if(c>d||c===void 0)return 1;if(c<d||d===void 0)return-1}return a.index-b.index}),"value")};var y=function(a){return function(b,c,d){var e={};c=q(c,d);o.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)});return e}};o.groupBy=y(function(a,b,c){if(o.has(a,c))a[c].push(b);else a[c]=[b]});o.indexBy=y(function(a,b,c){a[c]=b});o.countBy=y(function(a,b,c){if(o.has(a,c))a[c]++;else a[c]=1});o.toArray=function(a){if(!a)return[];if(o.isArray(a))return g.call(a);if(w(a))return o.map(a,o.identity);return o.values(a)};o.size=function(a){if(a==null)return 0;return w(a)?a.length:o.keys(a).length};o.partition=function(a,b,c){b=q(b,c);var d=[],e=[];o.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)});return[d,e]};o.first=o.head=o.take=function(a,b,c){if(a==null)return void 0;if(b==null||c)return a[0];return o.initial(a,a.length-b)};o.initial=function(a,b,c){return g.call(a,0,Math.max(0,a.length-(b==null||c?1:b)))};o.last=function(a,b,c){if(a==null)return void 0;if(b==null||c)return a[a.length-1];return o.rest(a,Math.max(0,a.length-b))};o.rest=o.tail=o.drop=function(a,b,c){return g.call(a,b==null||c?1:b)};o.compact=function(a){return o.filter(a,o.identity)};var z=function(a,b,c,d){var e=[],f=0;for(var g=d||0,h=v(a);g<h;g++){var i=a[g];if(w(i)&&(o.isArray(i)||o.isArguments(i))){if(!b)i=z(i,b,c);var j=0,k=i.length;e.length+=k;while(j<k){e[f++]=i[j++]}}else if(!c){e[f++]=i}}return e};o.flatten=function(a,b){return z(a,b,false)};o.without=function(a){return o.difference(a,g.call(arguments,1))};o.uniq=o.unique=function(a,b,c,d){if(!o.isBoolean(b)){d=c;c=b;b=false}if(c!=null)c=q(c,d);var e=[];var f=[];for(var g=0,h=v(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;if(b){if(!g||f!==j)e.push(i);f=j}else if(c){if(!o.contains(f,j)){f.push(j);e.push(i)}}else if(!o.contains(e,i)){e.push(i)}}return e};o.union=function(){return o.uniq(z(arguments,true,true))};o.intersection=function(a){var b=[];var c=arguments.length;for(var d=0,e=v(a);d<e;d++){var f=a[d];if(o.contains(b,f))continue;for(var g=1;g<c;g++){if(!o.contains(arguments[g],f))break}if(g===c)b.push(f)}return b};o.difference=function(a){var b=z(arguments,true,true,1);return o.filter(a,function(a){return!o.contains(b,a)})};o.zip=function(){return o.unzip(arguments)};o.unzip=function(a){var b=a&&o.max(a,v).length||0;var c=Array(b);for(var d=0;d<b;d++){c[d]=o.pluck(a,d)}return c};o.object=function(a,b){var c={};for(var d=0,e=v(a);d<e;d++){if(b){c[a[d]]=b[d]}else{c[a[d][0]]=a[d][1]}}return c};function A(a){return function(b,c,d){c=q(c,d);var e=v(b);var f=a>0?0:e-1;for(;f>=0&&f<e;f+=a){if(c(b[f],f,b))return f}return-1}}o.findIndex=A(1);o.findLastIndex=A(-1);o.sortedIndex=function(a,b,c,d){c=q(c,d,1);var e=c(b);var f=0,g=v(a);while(f<g){var h=Math.floor((f+g)/2);if(c(a[h])<e)f=h+1;else g=h}return f};function B(a,b,c){return function(d,e,f){var h=0,i=v(d);if(typeof f=="number"){if(a>0){h=f>=0?f:Math.max(f+i,h)}else{i=f>=0?Math.min(f+1,i):f+i+1}}else if(c&&f&&i){f=c(d,e);return d[f]===e?f:-1}if(e!==e){f=b(g.call(d,h,i),o.isNaN);return f>=0?f+h:-1}for(f=a>0?h:i-1;f>=0&&f<i;f+=a){if(d[f]===e)return f}return-1}}o.indexOf=B(1,o.findIndex,o.sortedIndex);o.lastIndexOf=B(-1,o.findLastIndex);o.range=function(a,b,c){if(b==null){b=a||0;a=0}c=c||1;var d=Math.max(Math.ceil((b-a)/c),0);var e=Array(d);for(var f=0;f<d;f++,a+=c){e[f]=a}return e};var C=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=s(a.prototype);var g=a.apply(f,e);if(o.isObject(g))return g;return f};o.bind=function(a,b){if(l&&a.bind===l)return l.apply(a,g.call(arguments,1));if(!o.isFunction(a))throw new TypeError("Bind must be called on a function");var c=g.call(arguments,2);var d=function(){return C(a,d,b,this,c.concat(g.call(arguments)))};return d};o.partial=function(a){var b=g.call(arguments,1);var c=function(){var d=0,e=b.length;var f=Array(e);for(var g=0;g<e;g++){f[g]=b[g]===o?arguments[d++]:b[g]}while(d<arguments.length)f.push(arguments[d++]);return C(a,c,this,this,f)};return c};o.bindAll=function(a){var b,c=arguments.length,d;if(c<=1)throw new Error("bindAll must be passed function names");for(b=1;b<c;b++){d=arguments[b];a[d]=o.bind(a[d],a)}return a};o.memoize=function(a,b){var c=function(d){var e=c.cache;var f=""+(b?b.apply(this,arguments):d);if(!o.has(e,f))e[f]=a.apply(this,arguments);return e[f]};c.cache={};return c};o.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};o.defer=o.partial(o.delay,o,1);o.throttle=function(a,b,c){var d,e,f;var g=null;var h=0;if(!c)c={};var i=function(){h=c.leading===false?0:o.now();g=null;f=a.apply(d,e);if(!g)d=e=null};return function(){var j=o.now();if(!h&&c.leading===false)h=j;var k=b-(j-h);d=this;e=arguments;if(k<=0||k>b){if(g){clearTimeout(g);g=null}h=j;f=a.apply(d,e);if(!g)d=e=null}else if(!g&&c.trailing!==false){g=setTimeout(i,k)}return f}};o.debounce=function(a,b,c){var d,e,f,g,h;var i=function(){var j=o.now()-g;if(j<b&&j>=0){d=setTimeout(i,b-j)}else{d=null;if(!c){h=a.apply(f,e);if(!d)f=e=null}}};return function(){f=this;e=arguments;g=o.now();var j=c&&!d;if(!d)d=setTimeout(i,b);if(j){h=a.apply(f,e);f=e=null}return h}};o.wrap=function(a,b){return o.partial(b,a)};o.negate=function(a){return function(){return!a.apply(this,arguments)}};o.compose=function(){var a=arguments;var b=a.length-1;return function(){var c=b;var d=a[b].apply(this,arguments);while(c--)d=a[c].call(this,d);return d}};o.after=function(a,b){return function(){if(--a<1){return b.apply(this,arguments)}}};o.before=function(a,b){var c;return function(){if(--a>0){c=b.apply(this,arguments)}if(a<=1)b=null;return c}};o.once=o.partial(o.before,2);var D=!{toString:null}.propertyIsEnumerable("toString");var E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function F(a,b){var c=E.length;var e=a.constructor;var f=o.isFunction(e)&&e.prototype||d;var g="constructor";if(o.has(a,g)&&!o.contains(b,g))b.push(g);while(c--){g=E[c];if(g in a&&a[g]!==f[g]&&!o.contains(b,g)){b.push(g)}}}o.keys=function(a){if(!o.isObject(a))return[];if(k)return k(a);var b=[];for(var c in a)if(o.has(a,c))b.push(c);if(D)F(a,b);return b};o.allKeys=function(a){if(!o.isObject(a))return[];var b=[];for(var c in a)b.push(c);if(D)F(a,b);return b};o.values=function(a){var b=o.keys(a);var c=b.length;var d=Array(c);for(var e=0;e<c;e++){d[e]=a[b[e]]}return d};o.mapObject=function(a,b,c){b=q(b,c);var d=o.keys(a),e=d.length,f={},g;for(var h=0;h<e;h++){g=d[h];f[g]=b(a[g],g,a)}return f};o.pairs=function(a){var b=o.keys(a);var c=b.length;var d=Array(c);for(var e=0;e<c;e++){d[e]=[b[e],a[b[e]]]}return d};o.invert=function(a){var b={};var c=o.keys(a);for(var d=0,e=c.length;d<e;d++){b[a[c[d]]]=c[d]}return b};o.functions=o.methods=function(a){var b=[];for(var c in a){if(o.isFunction(a[c]))b.push(c)}return b.sort()};o.extend=r(o.allKeys);o.extendOwn=o.assign=r(o.keys);o.findKey=function(a,b,c){b=q(b,c);var d=o.keys(a),e;for(var f=0,g=d.length;f<g;f++){e=d[f];if(b(a[e],e,a))return e}};o.pick=function(a,b,c){var d={},e=a,f,g;if(e==null)return d;if(o.isFunction(b)){g=o.allKeys(e);f=p(b,c)}else{g=z(arguments,false,false,1);f=function(a,b,c){return b in c};e=Object(e)}for(var h=0,i=g.length;h<i;h++){var j=g[h];var k=e[j];if(f(k,j,e))d[j]=k}return d};o.omit=function(a,b,c){if(o.isFunction(b)){b=o.negate(b)}else{var d=o.map(z(arguments,false,false,1),String);b=function(a,b){return!o.contains(d,b)}}return o.pick(a,b,c)};o.defaults=r(o.allKeys,true);o.create=function(a,b){var c=s(a);if(b)o.extendOwn(c,b);return c};o.clone=function(a){if(!o.isObject(a))return a;return o.isArray(a)?a.slice():o.extend({},a)};o.tap=function(a,b){b(a);return a};o.isMatch=function(a,b){var c=o.keys(b),d=c.length;if(a==null)return!d;var e=Object(a);for(var f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return false}return true};var G=function(a,b,c,d){if(a===b)return a!==0||1/a===1/b;if(a==null||b==null)return a===b;if(a instanceof o)a=a._wrapped;if(b instanceof o)b=b._wrapped;var e=h.call(a);if(e!==h.call(b))return false;switch(e){case"[object RegExp]":case"[object String]":return""+a===""+b;case"[object Number]":if(+a!==+a)return+b!==+b;return+a===0?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f=e==="[object Array]";if(!f){if(typeof a!="object"||typeof b!="object")return false;var g=a.constructor,i=b.constructor;if(g!==i&&!(o.isFunction(g)&&g instanceof g&&o.isFunction(i)&&i instanceof i)&&("constructor"in a&&"constructor"in b)){return false}}c=c||[];d=d||[];var j=c.length;while(j--){if(c[j]===a)return d[j]===b}c.push(a);d.push(b);if(f){j=a.length;if(j!==b.length)return false;while(j--){if(!G(a[j],b[j],c,d))return false}}else{var k=o.keys(a),l;j=k.length;if(o.keys(b).length!==j)return false;while(j--){l=k[j];if(!(o.has(b,l)&&G(a[l],b[l],c,d)))return false}}c.pop();d.pop();return true};o.isEqual=function(a,b){return G(a,b)};o.isEmpty=function(a){if(a==null)return true;if(w(a)&&(o.isArray(a)||o.isString(a)||o.isArguments(a)))return a.length===0;return o.keys(a).length===0};o.isElement=function(a){return!!(a&&a.nodeType===1)};o.isArray=j||function(a){return h.call(a)==="[object Array]"};o.isObject=function(a){var b=typeof a;return b==="function"||b==="object"&&!!a};o.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){o["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}});if(!o.isArguments(arguments)){o.isArguments=function(a){return o.has(a,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){o.isFunction=function(a){return typeof a=="function"||false}}o.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};o.isNaN=function(a){return o.isNumber(a)&&a!==+a};o.isBoolean=function(a){return a===true||a===false||h.call(a)==="[object Boolean]"};o.isNull=function(a){return a===null};o.isUndefined=function(a){return a===void 0};o.has=function(a,b){return a!=null&&i.call(a,b)};o.noConflict=function(){a._=b;return this};o.identity=function(a){return a};o.constant=function(a){return function(){return a}};o.noop=function(){};o.property=t;o.propertyOf=function(a){return a==null?function(){}:function(b){return a[b]}};o.matcher=o.matches=function(a){a=o.extendOwn({},a);return function(b){return o.isMatch(b,a)}};o.times=function(a,b,c){var d=Array(Math.max(0,a));b=p(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d};o.random=function(a,b){if(b==null){b=a;a=0}return a+Math.floor(Math.random()*(b-a+1))};o.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var I=o.invert(H);var J=function(a){var b=function(b){return a[b]};var c="(?:"+o.keys(a).join("|")+")";var d=RegExp(c);var e=RegExp(c,"g");return function(a){a=a==null?"":""+a;return d.test(a)?a.replace(e,b):a}};o.escape=J(H);o.unescape=J(I);o.result=function(a,b,c){var d=a==null?void 0:a[b];if(d===void 0){d=c}return o.isFunction(d)?d.call(a):d};var K=0;o.uniqueId=function(a){var b=++K+"";return a?a+b:b};o.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/;var M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var N=/\\|'|\r|\n|\u2028|\u2029/g;var O=function(a){return"\\"+M[a]};o.template=function(a,b,c){if(!b&&c)b=c;b=o.defaults({},b,o.templateSettings);var d=RegExp([(b.escape||L).source,(b.interpolate||L).source,(b.evaluate||L).source].join("|")+"|$","g");var e=0;var f="__p+='";a.replace(d,function(b,c,d,g,h){f+=a.slice(e,h).replace(N,O);e=h+b.length;if(c){f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"}else if(d){f+="'+\n((__t=("+d+"))==null?'':__t)+\n'"}else if(g){f+="';\n"+g+"\n__p+='"}return b});f+="';\n";if(!b.variable)f="with(obj||{}){\n"+f+"}\n";f="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(a){a.source=f;throw a}var h=function(a){return g.call(this,a,o)};var i=b.variable||"obj";h.source="function("+i+"){\n"+f+"}";return h};o.chain=function(a){var b=o(a);b._chain=true;return b};var P=function(a,b){return a._chain?o(b).chain():b};o.mixin=function(a){o.each(o.functions(a),function(b){var c=o[b]=a[b];o.prototype[b]=function(){var a=[this._wrapped];f.apply(a,arguments);return P(this,c.apply(o,a))}})};o.mixin(o);o.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=c[a];o.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);if((a==="shift"||a==="splice")&&c.length===0)delete c[0];return P(this,c)}});o.each(["concat","join","slice"],function(a){var b=c[a];o.prototype[a]=function(){return P(this,b.apply(this._wrapped,arguments))}});o.prototype.value=function(){return this._wrapped};o.prototype.valueOf=o.prototype.toJSON=o.prototype.value;o.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return o})}}).call(this);(function(a,b){b("kendo.core",["jquery"],a)})(function(){var a={id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."};(function(a,b,c){var d=b.kendo=b.kendo||{cultures:{}},e=a.extend,f=a.each,g=a.isArray,h=a.proxy,i=a.noop,j=Math,k,l=b.JSON||{},m={},n=/%/,o=/\{(\d+)(:[^\}]+)?\}/g,p=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,q=/^(\+|-?)\d+(\.?)\d*$/,r="function",s="string",t="number",u="object",v="null",w="boolean",x="undefined",y={},z={},A=[].slice;d.version="2018.2.620".replace(/^\s+|\s+$/g,"");function B(){}B.extend=function(a){var b=function(){},c,d=this,f=a&&a.init?a.init:function(){d.apply(this,arguments)},g;b.prototype=d.prototype;g=f.fn=f.prototype=new b;for(c in a){if(a[c]!=null&&a[c].constructor===Object){g[c]=e(true,{},b.prototype[c],a[c])}else{g[c]=a[c]}}g.constructor=f;f.extend=d.extend;return f};B.prototype._initOptions=function(a){this.options=R({},this.options,a)};var C=d.isFunction=function(a){return typeof a==="function"};var D=function(){this._defaultPrevented=true};var E=function(){return this._defaultPrevented===true};var F=B.extend({init:function(){this._events={}},bind:function(a,b,d){var e=this,f,g=typeof a===s?[a]:a,h,i,j,k=typeof b===r,l;if(b===c){for(f in a){e.bind(f,a[f])}return e}for(f=0,h=g.length;f<h;f++){a=g[f];j=k?b:b[a];if(j){if(d){i=j;j=function(){e.unbind(a,j);i.apply(e,arguments)};j.original=i}l=e._events[a]=e._events[a]||[];l.push(j)}}return e},one:function(a,b){return this.bind(a,b,true)},first:function(a,b){var c=this,d,e=typeof a===s?[a]:a,f,g,h=typeof b===r,i;for(d=0,f=e.length;d<f;d++){a=e[d];g=h?b:b[a];if(g){i=c._events[a]=c._events[a]||[];i.unshift(g)}}return c},trigger:function(a,b){var c=this,d=c._events[a],e,f;if(d){b=b||{};b.sender=c;b._defaultPrevented=false;b.preventDefault=D;b.isDefaultPrevented=E;d=d.slice();for(e=0,f=d.length;e<f;e++){d[e].call(c,b)}return b._defaultPrevented===true}return false},unbind:function(a,b){var d=this,e=d._events[a],f;if(a===c){d._events={}}else if(e){if(b){for(f=e.length-1;f>=0;f--){if(e[f]===b||e[f].original===b){e.splice(f,1)}}}else{d._events[a]=[]}}return d}});function G(a,b){if(b){return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var c=a.charAt(0),d=a.substring(1);if(c==="="){return"+("+d+")+"}else if(c===":"){return"+$kendoHtmlEncode("+d+")+"}else{return";"+a+";$kendoOutput+="}}}var H=/^\w+/,I=/\$\{([^}]*)\}/g,J=/\\\}/g,K=/__CURLY__/g,L=/\\#/g,M=/__SHARP__/g,N=["","0","00","000","0000"];k={paramName:"data",useWithBlock:true,render:function(a,b){var c,d,e="";for(c=0,d=b.length;c<d;c++){e+=a(b[c])}return e},compile:function(a,b){var c=e({},this,b),f=c.paramName,g=f.match(H)[0],h=c.useWithBlock,i="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",j,k,l;if(C(a)){return a}i+=h?"with("+f+"){":"";i+="$kendoOutput=";k=a.replace(J,"__CURLY__").replace(I,"#=$kendoHtmlEncode($1)#").replace(K,"}").replace(L,"__SHARP__").split("#");for(l=0;l<k.length;l++){i+=G(k[l],l%2===0)}i+=h?";}":";";i+="return $kendoOutput;";i=i.replace(M,"#");try{j=new Function(g,i);j._slotCount=Math.floor(k.length/2);return j}catch(b){throw new Error(d.format("Invalid template:'{0}' Generated code:'{1}'",a,i))}}};function O(a,b,c){a=a+"";b=b||2;c=b-a.length;if(c){return N[b].substring(0,c)+a}return a}(function(){var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,c,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},e,f={}.toString;if(typeof Date.prototype.toJSON!==r){Date.prototype.toJSON=function(){var a=this;return isFinite(a.valueOf())?O(a.getUTCFullYear(),4)+"-"+O(a.getUTCMonth()+1)+"-"+O(a.getUTCDate())+"T"+O(a.getUTCHours())+":"+O(a.getUTCMinutes())+":"+O(a.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function g(b){a.lastIndex=0;return a.test(b)?'"'+b.replace(a,function(a){var b=d[a];return typeof b===s?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function h(a,d){var i,j,k,l,m=b,n,o=d[a],p;if(o&&typeof o===u&&typeof o.toJSON===r){o=o.toJSON(a)}if(typeof e===r){o=e.call(d,a,o)}p=typeof o;if(p===s){return g(o)}else if(p===t){return isFinite(o)?String(o):v}else if(p===w||p===v){return String(o)}else if(p===u){if(!o){return v}b+=c;n=[];if(f.apply(o)==="[object Array]"){l=o.length;for(i=0;i<l;i++){n[i]=h(i,o)||v}k=n.length===0?"[]":b?"[\n"+b+n.join(",\n"+b)+"\n"+m+"]":"["+n.join(",")+"]";b=m;return k}if(e&&typeof e===u){l=e.length;for(i=0;i<l;i++){if(typeof e[i]===s){j=e[i];k=h(j,o);if(k){n.push(g(j)+(b?": ":":")+k)}}}}else{for(j in o){if(Object.hasOwnProperty.call(o,j)){k=h(j,o);if(k){n.push(g(j)+(b?": ":":")+k)}}}}k=n.length===0?"{}":b?"{\n"+b+n.join(",\n"+b)+"\n"+m+"}":"{"+n.join(",")+"}";b=m;return k}}if(typeof l.stringify!==r){l.stringify=function(a,d,f){var g;b="";c="";if(typeof f===t){for(g=0;g<f;g+=1){c+=" "}}else if(typeof f===s){c=f}e=d;if(d&&typeof d!==r&&(typeof d!==u||typeof d.length!==t)){throw new Error("JSON.stringify")}return h("",{"":a})}}})();(function(){var b=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,e=/^(n|c|p|e)(\d*)$/i,f=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,g=/\,/g,h="",i=".",k=",",l="#",m="0",n="??",p="en-US",q={}.toString;d.cultures["en-US"]={name:p,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function r(a){if(a){if(a.numberFormat){return a}if(typeof a===s){var b=d.cultures;return b[a]||b[a.split("-")[0]]||null}return null}return null}function u(a){if(a){a=r(a)}return a||d.cultures.current}d.culture=function(a){var b=d.cultures,e;if(a!==c){e=r(a)||b[p];e.calendar=e.calendars.standard;b.current=e}else{return b.current}};d.findCulture=r;d.getCulture=u;d.culture(p);function v(a,d,e){e=u(e);var f=e.calendars.standard,g=f.days,h=f.months;d=f.patterns[d]||d;return d.replace(b,function(b){var d;var e;var i;if(b==="d"){e=a.getDate()}else if(b==="dd"){e=O(a.getDate())}else if(b==="ddd"){e=g.namesAbbr[a.getDay()]}else if(b==="dddd"){e=g.names[a.getDay()]}else if(b==="M"){e=a.getMonth()+1}else if(b==="MM"){e=O(a.getMonth()+1)}else if(b==="MMM"){e=h.namesAbbr[a.getMonth()]}else if(b==="MMMM"){e=h.names[a.getMonth()]}else if(b==="yy"){e=O(a.getFullYear()%100)}else if(b==="yyyy"){e=O(a.getFullYear(),4)}else if(b==="h"){e=a.getHours()%12||12}else if(b==="hh"){e=O(a.getHours()%12||12);
}else if(b==="H"){e=a.getHours()}else if(b==="HH"){e=O(a.getHours())}else if(b==="m"){e=a.getMinutes()}else if(b==="mm"){e=O(a.getMinutes())}else if(b==="s"){e=a.getSeconds()}else if(b==="ss"){e=O(a.getSeconds())}else if(b==="f"){e=j.floor(a.getMilliseconds()/100)}else if(b==="ff"){e=a.getMilliseconds();if(e>99){e=j.floor(e/10)}e=O(e)}else if(b==="fff"){e=O(a.getMilliseconds(),3)}else if(b==="tt"){e=a.getHours()<12?f.AM[0]:f.PM[0]}else if(b==="zzz"){d=a.getTimezoneOffset();i=d<0;e=j.abs(d/60).toString().split(".")[0];d=j.abs(d)-e*60;e=(i?"+":"-")+O(e);e+=":"+O(d)}else if(b==="zz"||b==="z"){e=a.getTimezoneOffset()/60;i=e<0;e=j.abs(e).toString().split(".")[0];e=(i?"+":"-")+(b==="zz"?O(e):e)}return e!==c?e:b.slice(1,b.length-1)})}function w(a,b,d){d=u(d);var j=d.numberFormat,o=j[i],p=j.decimals,q=j.pattern[0],r=[],s,t,v,w,z,A=a<0,B,C,D,E,F=h,G=h,H,I,J,K,L,M,N,O,P,Q,R,S,T,U=-1,V;if(a===c){return h}if(!isFinite(a)){return a}if(!b){return d.name.length?a.toLocaleString():a.toString()}z=e.exec(b);if(z){b=z[1].toLowerCase();t=b==="c";v=b==="p";if(t||v){j=t?j.currency:j.percent;o=j[i];p=j.decimals;s=j.symbol;q=j.pattern[A?0:1]}w=z[2];if(w){p=+w}if(b==="e"){return w?a.toExponential(p):a.toExponential()}if(v){a*=100}a=y(a,p);A=a<0;a=a.split(i);B=a[0];C=a[1];if(A){B=B.substring(1)}G=x(B,0,B.length,j);if(C){G+=o+C}if(b==="n"&&!A){return G}a=h;for(H=0,I=q.length;H<I;H++){J=q.charAt(H);if(J==="n"){a+=G}else if(J==="$"||J==="%"){a+=s}else{a+=J}}return a}if(b.indexOf("'")>-1||b.indexOf('"')>-1||b.indexOf("\\")>-1){b=b.replace(f,function(a){var b=a.charAt(0).replace("\\",""),c=a.slice(1).replace(b,"");r.push(c);return n})}b=b.split(";");if(A&&b[1]){b=b[1];L=true}else if(a===0){b=b[2]||b[0];if(b.indexOf(l)==-1&&b.indexOf(m)==-1){return b}}else{b=b[0]}R=b.indexOf("%");S=b.indexOf("$");v=R!=-1;t=S!=-1;if(v){a*=100}if(t&&b[S-1]==="\\"){b=b.split("\\").join("");t=false}if(t||v){j=t?j.currency:j.percent;o=j[i];p=j.decimals;s=j.symbol}K=b.indexOf(k)>-1;if(K){b=b.replace(g,h)}M=b.indexOf(i);I=b.length;if(M!=-1){C=a.toString().split("e");if(C[1]){C=y(a,Math.abs(C[1]))}else{C=C[0]}C=C.split(i)[1]||h;O=b.lastIndexOf(m)-M;N=b.lastIndexOf(l)-M;P=O>-1;Q=N>-1;H=C.length;if(!P&&!Q){b=b.substring(0,M)+b.substring(M+1);I=b.length;M=-1;H=0}if(P&&O>N){H=O}else if(N>O){if(Q&&H>N){H=N}else if(P&&H<O){H=O}}}a=y(a,H,A);N=b.indexOf(l);T=O=b.indexOf(m);if(N==-1&&O!=-1){U=O}else if(N!=-1&&O==-1){U=N}else{U=N>O?O:N}N=b.lastIndexOf(l);O=b.lastIndexOf(m);if(N==-1&&O!=-1){V=O}else if(N!=-1&&O==-1){V=N}else{V=N>O?N:O}if(U==I){V=U}if(U!=-1){G=a.toString().split(i);B=G[0];C=G[1]||h;D=B.length;E=C.length;if(A&&a*-1>=0){A=false}a=b.substring(0,U);if(A&&!L){a+="-"}for(H=U;H<I;H++){J=b.charAt(H);if(M==-1){if(V-H<D){a+=B;break}}else{if(O!=-1&&O<H){F=h}if(M-H<=D&&M-H>-1){a+=B;H=M}if(M===H){a+=(C?o:h)+C;H+=V-M+1;continue}}if(J===m){a+=J;F=J}else if(J===l){a+=F}}if(K){a=x(a,U+(A&&!L?1:0),Math.max(V,D+U),j)}if(V>=U){a+=b.substring(V+1)}if(t||v){G=h;for(H=0,I=a.length;H<I;H++){J=a.charAt(H);G+=J==="$"||J==="%"?s:J}a=G}I=r.length;if(I){for(H=0;H<I;H++){a=a.replace(n,r[H])}}}return a}var x=function(a,b,d,e){var f=a.indexOf(e[i]);var g=e.groupSize.slice();var h=g.shift();var j,l;var m,n,o;var p;d=f!==-1?f:d+1;j=a.substring(b,d);l=j.length;if(l>=h){m=l;n=[];while(m>-1){o=j.substring(m-h,m);if(o){n.push(o)}m-=h;p=g.shift();h=p!==c?p:h;if(h===0){if(m>0){n.push(j.substring(0,m))}break}}j=n.reverse().join(e[k]);a=a.substring(0,b)+j+a.substring(d)}return a};var y=function(a,b,c){b=b||0;a=a.toString().split("e");a=Math.round(+(a[0]+"e"+(a[1]?+a[1]+b:b)));if(c){a=-a}a=a.toString().split("e");a=+(a[0]+"e"+(a[1]?+a[1]-b:-b));return a.toFixed(Math.min(b,20))};var z=function(a,b,d){if(b){if(q.call(a)==="[object Date]"){return v(a,b,d)}else if(typeof a===t){return w(a,b,d)}}return a!==c?a:""};d.format=function(a){var b=arguments;return a.replace(o,function(a,c,d){var e=b[parseInt(c,10)+1];return z(e,d?d.substring(1):"")})};d._extractFormat=function(a){if(a.slice(0,3)==="{0:"){a=a.slice(3,a.length-1)}return a};d._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}};d._round=y;d._outerWidth=function(b,c){return a(b).outerWidth(c||false)||0};d._outerHeight=function(b,c){return a(b).outerHeight(c||false)||0};d.toString=z})();(function(){var b=/\u00A0/g,e=/[eE][\-+]?[0-9]+/,f=/[+|\-]\d{1,2}/,h=/[+|\-]\d{1,2}:?\d{2}/,i=/^\/Date\((.*?)\)\/$/,k=/[+-]\d*/,l=[[],["G","g","F"],["D","d","y","m","T","t"]],m=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],n={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},o={}.toString;function p(a,b,c){return!(a>=b&&a<=c)}function q(a){return a.charAt(0)}function r(b){return a.map(b,q)}function s(a,b){if(!b&&a.getHours()===23){a.setHours(a.getHours()+2)}}function u(a){var b=0,c=a.length,d=[];for(;b<c;b++){d[b]=(a[b]+"").toLowerCase()}return d}function v(a){var b={},c;for(c in a){b[c]=u(a[c])}return b}function w(a,b,e,g){if(!a){return null}var i=function(a){var c=0;while(b[z]===a){c++;z++}if(c>0){z-=1}return c},j=function(b){var c=n[b]||new RegExp("^\\d{1,"+b+"}"),d=a.substr(A,b).match(c);if(d){d=d[0];A+=d.length;return parseInt(d,10)}return null},k=function(b,c){var d=0,e=b.length,f,g,h=0,i=0,j;for(;d<e;d++){f=b[d];g=f.length;j=a.substr(A,g);if(c){j=j.toLowerCase()}if(j==f&&g>h){h=g;i=d}}if(h){A+=h;return i+1}return null},l=function(){var c=false;if(a.charAt(A)===b[z]){A++;c=true}return c},m=e.calendars.standard,o=null,q=null,t=null,u=null,w=null,x=null,y=null,z=0,A=0,B=false,C=new Date,D=m.twoDigitYearMax||2029,E=C.getFullYear(),F,G,H,I,J,K,L,M,N,O,P,Q,R;if(!b){b="d"}I=m.patterns[b];if(I){b=I}b=b.split("");H=b.length;for(;z<H;z++){F=b[z];if(B){if(F==="'"){B=false}else{l()}}else{if(F==="d"){G=i("d");if(!m._lowerDays){m._lowerDays=v(m.days)}if(t!==null&&G>2){continue}t=G<3?j(2):k(m._lowerDays[G==3?"namesAbbr":"names"],true);if(t===null||p(t,1,31)){return null}}else if(F==="M"){G=i("M");if(!m._lowerMonths){m._lowerMonths=v(m.months)}q=G<3?j(2):k(m._lowerMonths[G==3?"namesAbbr":"names"],true);if(q===null||p(q,1,12)){return null}q-=1}else if(F==="y"){G=i("y");o=j(G);if(o===null){return null}if(G==2){if(typeof D==="string"){D=E+parseInt(D,10)}o=E-E%100+o;if(o>D){o-=100}}}else if(F==="h"){i("h");u=j(2);if(u==12){u=0}if(u===null||p(u,0,11)){return null}}else if(F==="H"){i("H");u=j(2);if(u===null||p(u,0,23)){return null}}else if(F==="m"){i("m");w=j(2);if(w===null||p(w,0,59)){return null}}else if(F==="s"){i("s");x=j(2);if(x===null||p(x,0,59)){return null}}else if(F==="f"){G=i("f");R=a.substr(A,G).match(n[3]);y=j(G);if(y!==null){y=parseFloat("0."+R[0],10);y=d._round(y,3);y*=1e3}if(y===null||p(y,0,999)){return null}}else if(F==="t"){G=i("t");M=m.AM;N=m.PM;if(G===1){M=r(M);N=r(N)}J=k(N);if(!J&&!k(M)){return null}}else if(F==="z"){K=true;G=i("z");if(a.substr(A,1)==="Z"){l();continue}L=a.substr(A,6).match(G>2?h:f);if(!L){return null}L=L[0].split(":");O=L[0];P=L[1];if(!P&&O.length>3){A=O.length-2;P=O.substring(A);O=O.substring(0,A)}O=parseInt(O,10);if(p(O,-12,13)){return null}if(G>2){P=L[0][0]+P;P=parseInt(P,10);if(isNaN(P)||p(P,-59,59)){return null}}}else if(F==="'"){B=true;l()}else if(!l()){return null}}}if(g&&!/^\s*$/.test(a.substr(A))){return null}Q=u!==null||w!==null||x||null;if(o===null&&q===null&&t===null&&Q){o=E;q=C.getMonth();t=C.getDate()}else{if(o===null){o=E}if(t===null){t=1}}if(J&&u<12){u+=12}if(K){if(O){u+=-O}if(P){w+=-P}a=new Date(Date.UTC(o,q,t,u,w,x,y))}else{a=new Date(o,q,t,u,w,x,y);s(a,u)}if(o<100){a.setFullYear(o)}if(a.getDate()!==t&&K===c){return null}return a}function x(a){var b=a.substr(0,1)==="-"?-1:1;a=a.substring(1);a=parseInt(a.substr(0,2),10)*60+parseInt(a.substring(2),10);return b*a}function y(a){var b=j.max(l.length,m.length);var c=a.calendar.patterns;var d,e,f;var g=[];for(f=0;f<b;f++){d=l[f];for(e=0;e<d.length;e++){g.push(c[d[e]])}g=g.concat(m[f])}return g}function z(a,b,c,e){if(o.call(a)==="[object Date]"){return a}var f=0;var h=null;var j;var l;if(a&&a.indexOf("/D")===0){h=i.exec(a);if(h){h=h[1];l=k.exec(h.substring(1));h=new Date(parseInt(h,10));if(l){l=x(l[0]);h=d.timezone.apply(h,0);h=d.timezone.convert(h,0,-1*l)}return h}}c=d.getCulture(c);if(!b){b=y(c)}b=g(b)?b:[b];j=b.length;for(;f<j;f++){h=w(a,b[f],c,e);if(h){return h}}return h}d.parseDate=function(a,b,c){return z(a,b,c,false)};d.parseExactDate=function(a,b,c){return z(a,b,c,true)};d.parseInt=function(a,b){var c=d.parseFloat(a,b);if(c){c=c|0}return c};d.parseFloat=function(a,c,f){if(!a&&a!==0){return null}if(typeof a===t){return a}a=a.toString();c=d.getCulture(c);var g=c.numberFormat,h=g.percent,i=g.currency,j=i.symbol,k=h.symbol,l=a.indexOf("-"),m,n;if(e.test(a)){a=parseFloat(a.replace(g["."],"."));if(isNaN(a)){a=null}return a}if(l>0){return null}else{l=l>-1}if(a.indexOf(j)>-1||f&&f.toLowerCase().indexOf("c")>-1){g=i;m=g.pattern[0].replace("$",j).split("n");if(a.indexOf(m[0])>-1&&a.indexOf(m[1])>-1){a=a.replace(m[0],"").replace(m[1],"");l=true}}else if(a.indexOf(k)>-1){n=true;g=h;j=k}a=a.replace("-","").replace(j,"").replace(b," ").split(g[","].replace(b," ")).join("").replace(g["."],".");a=parseFloat(a);if(isNaN(a)){a=null}else if(l){a*=-1}if(a&&n){a/=100}return a}})();function P(a){var b=a.css(d.support.transitions.css+"box-shadow")||a.css("box-shadow"),c=b?b.match(p)||[0,0,0,0,0]:[0,0,0,0,0],e=j.max(+c[3],+(c[4]||0));return{left:-c[1]+e,right:+c[1]+e,bottom:+c[2]+e}}function Q(b,c){var e=m.browser,f,g=d._outerWidth,h=d._outerHeight;if(!b.parent().hasClass("k-animation-container")){var i=b[0].style.width,k=b[0].style.height,l=n.test(i),o=n.test(k);f=l||o;if(!l&&(!c||c&&i)){i=c?g(b)+1:g(b)}if(!o&&(!c||c&&k)){k=h(b)}b.wrap(a("<div/>").addClass("k-animation-container").css({width:i,height:k}));if(f){b.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var p=b.parent(".k-animation-container"),q=p[0].style;if(p.is(":hidden")){p.css({display:"",position:""})}f=n.test(q.width)||n.test(q.height);if(!f){p.css({width:c?g(b)+1:g(b),height:h(b),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}}if(e.msie&&j.floor(e.version)<=7){b.css({zoom:1});b.children(".k-menu").width(b.width())}return b.parent()}function R(a){var b=1,c=arguments.length;for(b=1;b<c;b++){S(a,arguments[b])}return a}function S(a,b){var c=d.data.ObservableArray,e=d.data.LazyObservableArray,f=d.data.DataSource,g=d.data.HierarchicalDataSource,h,i,j,k,l;for(h in b){i=b[h];j=typeof i;if(j===u&&i!==null){k=i.constructor}else{k=null}if(k&&k!==Array&&k!==c&&k!==e&&k!==f&&k!==g&&k!==RegExp){if(i instanceof Date){a[h]=new Date(i.getTime())}else if(C(i.clone)){a[h]=i.clone()}else{l=a[h];if(typeof l===u){a[h]=l||{}}else{a[h]={}}S(a[h],i)}}else if(j!==x){a[h]=i}}return a}function T(a,b,d){for(var e in b){if(b.hasOwnProperty(e)&&b[e].test(a)){return e}}return d!==c?d:a}function U(a){return a.replace(/([a-z][A-Z])/g,function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})}function V(a){return a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})}function W(b,c){var e={},f;if(document.defaultView&&document.defaultView.getComputedStyle){f=document.defaultView.getComputedStyle(b,"");if(c){a.each(c,function(a,b){e[b]=f.getPropertyValue(b)})}}else{f=b.currentStyle;if(c){a.each(c,function(a,b){e[b]=f[V(b)]})}}if(!d.size(e)){e=f}return e}function X(a){if(a&&a.className&&typeof a.className==="string"&&a.className.indexOf("k-auto-scrollable")>-1){return true}var b=W(a,["overflow"]).overflow;return b=="auto"||b=="scroll"}function Y(b,d){var e=m.browser.webkit;var f=m.browser.mozilla;var g=b instanceof a?b[0]:b;var h;if(!b){return}h=m.isRtl(b);if(d!==c){if(h&&e){g.scrollLeft=g.scrollWidth-g.clientWidth-d}else if(h&&f){g.scrollLeft=-d}else{g.scrollLeft=d}}else{if(h&&e){return g.scrollWidth-g.clientWidth-g.scrollLeft}else{return Math.abs(g.scrollLeft)}}}(function(){m._scrollbar=c;m.scrollbar=function(a){if(!isNaN(m._scrollbar)&&!a){return m._scrollbar}else{var b=document.createElement("div"),c;b.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block";b.innerHTML="&nbsp;";document.body.appendChild(b);m._scrollbar=c=b.offsetWidth-b.scrollWidth;document.body.removeChild(b);return c}};m.isRtl=function(b){return a(b).closest(".k-rtl").length>0};var d=document.createElement("table");try{d.innerHTML="<tr><td></td></tr>";m.tbodyInnerHtml=true}catch(a){m.tbodyInnerHtml=false}m.touch="ontouchstart"in b;var e=document.documentElement.style;var g=m.transitions=false,h=m.transforms=false,i="HTMLElement"in b?HTMLElement.prototype:[];m.hasHW3D="WebKitCSSMatrix"in b&&"m11"in new b.WebKitCSSMatrix||"MozPerspective"in e||"msPerspective"in e;m.cssFlexbox="flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e;f(["Moz","webkit","O","ms"],function(){var a=this.toString(),b=typeof d.style[a+"Transition"]===s;if(b||typeof d.style[a+"Transform"]===s){var c=a.toLowerCase();h={css:c!="ms"?"-"+c+"-":"",prefix:a,event:c==="o"||c==="webkit"?c:""};if(b){g=h;g.event=g.event?g.event+"TransitionEnd":"transitionend"}return false}});d=null;m.transforms=h;m.transitions=g;m.devicePixelRatio=b.devicePixelRatio===c?1:b.devicePixelRatio;try{m.screenWidth=b.outerWidth||b.screen?b.screen.availWidth:b.innerWidth;m.screenHeight=b.outerHeight||b.screen?b.screen.availHeight:b.innerHeight}catch(a){m.screenWidth=b.screen.availWidth;m.screenHeight=b.screen.availHeight}m.detectOS=function(a){var c=false,d,e=[],f=!/mobile safari/i.test(a),g={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},h={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},i={tablet:/playbook|ipad|fire/i},j={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var k in g){if(g.hasOwnProperty(k)){e=a.match(g[k]);if(e){if(k=="windows"&&"plugins"in navigator){return false}c={};c.device=k;c.tablet=T(k,i,false);c.browser=T(a,j,"default");c.name=T(k,h);c[c.name]=true;c.majorVersion=e[2];c.minorVersion=e[3].replace("_",".");d=c.minorVersion.replace(".","").substr(0,2);c.flatVersion=c.majorVersion+d+new Array(3-(d.length<3?d.length:2)).join("0");c.cordova=typeof b.PhoneGap!==x||typeof b.cordova!==x;c.appMode=b.navigator.standalone||/file|local|wmapp/.test(b.location.protocol)||c.cordova;if(c.android&&(m.devicePixelRatio<1.5&&c.flatVersion<400||f)&&(m.screenWidth>800||m.screenHeight>800)){c.tablet=k}break}}}return c};var j=m.mobileOS=m.detectOS(navigator.userAgent);m.wpDevicePixelRatio=j.wp?screen.width/320:0;m.hasNativeScrolling=false;if(j.ios||j.android&&j.majorVersion>2||j.wp){m.hasNativeScrolling=j}m.delayedClick=function(){if(m.touch){if(j.ios){return true}if(j.android){if(!m.browser.chrome){return true}if(m.browser.version<32){return false}return!(a("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}}return false};m.mouseAndTouchPresent=m.touch&&!(m.mobileOS.ios||m.mobileOS.android);m.detectBrowser=function(a){var b=false,c=[],d={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var e in d){if(d.hasOwnProperty(e)){c=a.match(d[e]);if(c){b={};b[e]=true;b[c[1].toLowerCase().split(" ")[0].split("/")[0]]=true;b.version=parseInt(document.documentMode||c[2],10);break}}}return b};m.browser=m.detectBrowser(navigator.userAgent);m.detectClipboardAccess=function(){var a={copy:document.queryCommandSupported?document.queryCommandSupported("copy"):false,cut:document.queryCommandSupported?document.queryCommandSupported("cut"):false,paste:document.queryCommandSupported?document.queryCommandSupported("paste"):false};if(m.browser.chrome){a.paste=false;if(m.browser.version>=43){a.copy=true;a.cut=true}}return a};m.clipboard=m.detectClipboardAccess();m.zoomLevel=function(){try{var a=m.browser;var c=0;var d=document.documentElement;if(a.msie&&a.version==11&&d.scrollHeight>d.clientHeight&&!m.touch){c=m.scrollbar()}return m.touch?d.clientWidth/b.innerWidth:a.msie&&a.version>=10?((top||b).document.documentElement.offsetWidth+c)/(top||b).innerWidth:1}catch(a){return 1}};m.cssBorderSpacing=typeof e.borderSpacing!="undefined"&&!(m.browser.msie&&m.browser.version<8);(function(b){var c="",d=a(document.documentElement),e=parseInt(b.version,10);if(b.msie){c="ie"}else if(b.mozilla){c="ff"}else if(b.safari){c="safari"}else if(b.webkit){c="webkit"}else if(b.opera){c="opera"}else if(b.edge){c="edge"}if(c){c="k-"+c+" k-"+c+e}if(m.mobileOS){c+=" k-mobile"}if(!m.cssFlexbox){c+=" k-no-flexbox"}d.addClass(c)})(m.browser);m.eventCapture=document.documentElement.addEventListener;var k=document.createElement("input");m.placeholder="placeholder"in k;m.propertyChangeEvent="onpropertychange"in k;m.input=function(){var a=["number","date","time","month","week","datetime","datetime-local"];var b=a.length;var c="test";var d={};var e=0;var f;for(;e<b;e++){f=a[e];k.setAttribute("type",f);k.value=c;d[f.replace("-","")]=k.type!=="text"&&k.value!==c}return d}();k.style.cssText="float:left;";m.cssFloat=!!k.style.cssFloat;k=null;m.stableSort=function(){var a=513;var b=[{index:0,field:"b"}];for(var c=1;c<a;c++){b.push({index:c,field:"a"})}b.sort(function(a,b){return a.field>b.field?1:a.field<b.field?-1:0});return b[0].index===1}();m.matchesSelector=i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.matchesSelector||i.matches||function(b){var c=document.querySelectorAll?(this.parentNode||document).querySelectorAll(b)||[]:a(b),d=c.length;while(d--){if(c[d]==this){return true}}return false};m.pushState=b.history&&b.history.pushState;var l=document.documentMode;m.hashChange="onhashchange"in b&&!(m.browser.msie&&(!l||l<=8));m.customElements="registerElement"in b.document;var n=m.browser.chrome,o=m.browser.mozilla;m.msPointers=!n&&b.MSPointerEvent;m.pointers=!n&&!o&&b.PointerEvent;m.kineticScrollNeeded=j&&(m.touch||m.msPointers||m.pointers)})();function Z(a){var b=0,c;for(c in a){if(a.hasOwnProperty(c)&&c!="toJSON"){b++}}return b}function $(a,c,d){if(!c){c="offset"}var e=a[c]();var f={top:e.top,right:e.right,bottom:e.bottom,left:e.left};if(m.browser.msie&&(m.pointers||m.msPointers)&&!d){var g=m.isRtl(a)?1:-1;f.top-=b.pageYOffset-document.documentElement.scrollTop;f.left-=b.pageXOffset+g*document.documentElement.scrollLeft}return f}var _={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}};function aa(a){var b={};f(typeof a==="string"?a.split(" "):a,function(a){b[a]=this});return b}function ba(a){return new d.effects.Element(a)}var ca={};a.extend(ca,{enabled:true,Element:function(b){this.element=a(b)},promise:function(a,b){if(!a.is(":visible")){a.css({display:a.data("olddisplay")||"block"}).css("display")}if(b.hide){a.data("olddisplay",a.css("display")).hide()}if(b.init){b.init()}if(b.completeCallback){b.completeCallback(a)}a.dequeue()},disable:function(){this.enabled=false;this.promise=this.promiseShim},enable:function(){this.enabled=true;this.promise=this.animatedPromise}});ca.promiseShim=ca.promise;function da(a,b,c,d){if(typeof a===s){if(C(b)){d=b;b=400;c=false}if(C(c)){d=c;c=false}if(typeof b===w){c=b;b=400}a={effects:a,duration:b,reverse:c,complete:d}}return e({effects:{},duration:400,reverse:false,init:i,teardown:i,hide:false},a,{completeCallback:a.complete,complete:i})}function ea(b,c,d,e,f){var g=0,h=b.length,i;for(;g<h;g++){i=a(b[g]);i.queue(function(){ca.promise(i,da(c,d,e,f))})}return b}function fa(a,b,c,d){if(b){b=b.split(" ");f(b,function(b,c){a.toggleClass(c,d)})}return a}if(!("kendoAnimate"in a.fn)){e(a.fn,{kendoStop:function(a,b){return this.stop(a,b)},kendoAnimate:function(a,b,c,d){return ea(this,a,b,c,d)},kendoAddClass:function(a,b){return d.toggleClass(this,a,b,true)},kendoRemoveClass:function(a,b){return d.toggleClass(this,a,b,false)},kendoToggleClass:function(a,b,c){return d.toggleClass(this,a,b,c)}})}var ga=/&/g,ha=/</g,ia=/"/g,ja=/'/g,ka=/>/g;function la(a){return(""+a).replace(ga,"&amp;").replace(ha,"&lt;").replace(ka,"&gt;").replace(ia,"&quot;").replace(ja,"&#39;")}var ma=function(a){return a.target};if(m.touch){ma=function(a){var b="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null;return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target};f(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(b,c){a.fn[c]=function(a){return this.bind(c,a)}})}if(m.touch){if(!m.mobileOS){m.mousedown="mousedown touchstart";m.mouseup="mouseup touchend";m.mousemove="mousemove touchmove";m.mousecancel="mouseleave touchcancel";m.click="click";m.resize="resize"}else{m.mousedown="touchstart";m.mouseup="touchend";m.mousemove="touchmove";m.mousecancel="touchcancel";m.click="touchend";m.resize="orientationchange"}}else if(m.pointers){m.mousemove="pointermove";m.mousedown="pointerdown";m.mouseup="pointerup";m.mousecancel="pointercancel";m.click="pointerup";m.resize="orientationchange resize"}else if(m.msPointers){m.mousemove="MSPointerMove";m.mousedown="MSPointerDown";m.mouseup="MSPointerUp";m.mousecancel="MSPointerCancel";m.click="MSPointerUp";m.resize="orientationchange resize"}else{m.mousemove="mousemove";m.mousedown="mousedown";m.mouseup="mouseup";m.mousecancel="mouseleave";m.click="click";m.resize="resize"}var na=function(a,b){var c=b||"d",d,e,f,g,h=1;for(e=0,f=a.length;e<f;e++){g=a[e];if(g!==""){d=g.indexOf("[");if(d!==0){if(d==-1){g="."+g}else{h++;g="."+g.substring(0,d)+" || {})"+g.substring(d)}}h++;c+=g+(e<f-1?" || {})":")")}}return new Array(h).join("(")+c},oa=/^([a-z]+:)?\/\//i;e(d,{widgets:[],_widgetRegisteredCallbacks:[],ui:d.ui||{},fx:d.fx||ba,effects:d.effects||ca,mobile:d.mobile||{},data:d.data||{},dataviz:d.dataviz||{},drawing:d.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:d.support||m,animate:d.animate||ea,ns:"",attr:function(a){return"data-"+d.ns+a},getShadows:P,wrap:Q,deepExtend:R,getComputedStyles:W,webComponents:d.webComponents||[],isScrollable:X,scrollLeft:Y,size:Z,toCamelCase:V,toHyphens:U,getOffset:d.getOffset||$,parseEffects:d.parseEffects||aa,toggleClass:d.toggleClass||fa,directions:d.directions||_,Observable:F,Class:B,Template:k,template:h(k.compile,k),render:h(k.render,k),stringify:h(l.stringify,l),eventTarget:ma,htmlEncode:la,isLocalUrl:function(a){return a&&!oa.test(a)},expr:function(a,b,c){a=a||"";if(typeof b==s){c=b;b=false}c=c||"d";if(a&&a.charAt(0)!=="["){a="."+a}if(b){a=a.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"');a=a.replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'");a=na(a.split("."),c);a=a.replace(/_\$DOT\$_/g,".")}else{a=c+a}return a},getter:function(a,b){var c=a+b;return y[c]=y[c]||new Function("d","return "+d.expr(a,b))},setter:function(a){return z[a]=z[a]||new Function("d,value",d.expr(a)+"=value")},accessor:function(a){return{get:d.getter(a),set:d.setter(a)}},guid:function(){var a="",b,c;for(b=0;b<32;b++){c=j.random()*16|0;if(b==8||b==12||b==16||b==20){a+="-"}a+=(b==12?4:b==16?c&3|8:c).toString(16)}return a},roleSelector:function(a){return a.replace(/(\S+)/g,"["+d.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(a){var b=a.split(" ");if(b){for(var c=0;c<b.length;c++){if(b[c]!="view"){b[c]=b[c].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2")}}}return b.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},onWidgetRegistered:function(a){for(var b=0,c=d.widgets.length;b<c;b++){a(d.widgets[b])}d._widgetRegisteredCallbacks.push(a)},logToConsole:function(a,c){var e=b.console;if(!d.suppressLog&&typeof e!="undefined"&&e.log){e[c||"log"](a)}}});var pa=F.extend({init:function(a,b){var c=this;c.element=d.jQuery(a).handler(c);c.angular("init",b);F.fn.init.call(c);var f=b?b.dataSource:null;if(f){b=e({},b,{dataSource:{}})}b=c.options=e(true,{},c.options,b);if(f){b.dataSource=f}if(!c.element.attr(d.attr("role"))){c.element.attr(d.attr("role"),(b.name||"").toLowerCase())}c.element.data("kendo"+b.prefix+b.name,c);c.bind(c.events,b)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(a){a=a||this.wrapper;var b=this.element,c="tabindex",d=a.attr(c)||b.attr(c);b.removeAttr(c);a.attr(c,!isNaN(d)?d:0)},setOptions:function(b){this._setEvents(b);a.extend(this.options,b)},_setEvents:function(a){var b=this,c=0,d=b.events.length,e;for(;c<d;c++){e=b.events[c];if(b.options[e]&&a[e]){b.unbind(e,b.options[e])}}b.bind(b.events,a)},resize:function(a){var b=this.getSize(),c=this._size;if(a||(b.width>0||b.height>0)&&(!c||b.width!==c.width||b.height!==c.height)){this._size=b;this._resize(b,a);this.trigger("resize",b)}},getSize:function(){return d.dimensions(this.element)},size:function(a){if(!a){return this.getSize()}else{this.setSize(a)}},setSize:a.noop,_resize:a.noop,destroy:function(){var a=this;a.element.removeData("kendo"+a.options.prefix+a.options.name);a.element.removeData("handler");a.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(a){this._muteRebind=true;a.call(this);this._muteRebind=false}});var qa=pa.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(b){var c=this;c.angular(b,function(){return{elements:c.items(),data:a.map(c.dataItems(),function(a){return{dataItem:a}})}})}});d.dimensions=function(a,b){var c=a[0];if(b){a.css(b)}return{width:c.offsetWidth,height:c.offsetHeight}};d.notify=i;var ra=/template$/i,sa=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,ta=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,ua=/([A-Z])/g;function va(a,b){var e;if(b.indexOf("data")===0){b=b.substring(4);b=b.charAt(0).toLowerCase()+b.substring(1)}b=b.replace(ua,"-$1");e=a.getAttribute("data-"+d.ns+b);if(e===null){e=c}else if(e==="null"){e=null}else if(e==="true"){e=true}else if(e==="false"){e=false}else if(q.test(e)&&b!="mask"){e=parseFloat(e)}else if(sa.test(e)&&!ta.test(e)){e=new Function("return ("+e+")")()}return e}function wa(b,e,f){var g={},h,i;for(h in e){i=va(b,h);if(i!==c){if(ra.test(h)){if(typeof i==="string"){if(a("#"+i).length){i=d.template(a("#"+i).html())}else if(f){i=d.template(f[i])}}else{i=b.getAttribute(h)}}g[h]=i}}return g}d.initWidget=function(e,f,g){var h,i,j,k,l,m,n,o,p,q;if(!g){g=d.ui.roles}else if(g.roles){g=g.roles}e=e.nodeType?e:e[0];m=e.getAttribute("data-"+d.ns+"role");if(!m){return}p=m.indexOf(".")===-1;if(p){j=g[m]}else{j=d.getter(m)(b)}var r=a(e).data(),t=j?"kendo"+j.fn.options.prefix+j.fn.options.name:"";if(p){q=new RegExp("^kendo.*"+m+"$","i")}else{q=new RegExp("^"+t+"$","i")}for(var u in r){if(u.match(q)){if(u===t){h=r[u]}else{return r[u]}}}if(!j){return}o=va(e,"dataSource");f=a.extend({},wa(e,j.fn.options),f);if(o){if(typeof o===s){f.dataSource=d.getter(o)(b)}else{f.dataSource=o}}for(k=0,l=j.fn.events.length;k<l;k++){i=j.fn.events[k];n=va(e,i);if(n!==c){f[i]=d.getter(n)(b)}}if(!h){h=new j(e,f)}else if(!a.isEmptyObject(f)){h.setOptions(f)}return h};d.rolesFromNamespaces=function(a){var b=[],c,f;if(!a[0]){a=[d.ui,d.dataviz.ui]}for(c=0,f=a.length;c<f;c++){b[c]=a[c].roles}return e.apply(null,[{}].concat(b.reverse()))};d.init=function(b){var c=d.rolesFromNamespaces(A.call(arguments,1));a(b).find("[data-"+d.ns+"role]").addBack().each(function(){d.initWidget(this,{},c)})};d.destroy=function(b){a(b).find("[data-"+d.ns+"role]").addBack().each(function(){var b=a(this).data();for(var c in b){if(c.indexOf("kendo")===0&&typeof b[c].destroy===r){b[c].destroy()}}})};function xa(b,c){return a.contains(b,c)?-1:1}function ya(){var b=a(this);return a.inArray(b.attr("data-"+d.ns+"role"),["slider","rangeslider"])>-1||b.is(":visible")}d.resize=function(b,c){var e=a(b).find("[data-"+d.ns+"role]").addBack().filter(ya);if(!e.length){return}var f=a.makeArray(e);f.sort(xa);a.each(f,function(){var b=d.widgetInstance(a(this));if(b){b.resize(c)}})};d.parseOptions=wa;e(d.ui,{Widget:pa,DataBoundWidget:qa,roles:{},progress:function(b,c,e){var f=b.find(".k-loading-mask"),g=d.support,h=g.browser,i,j,k,l,m;e=a.extend({},{width:"100%",height:"100%",top:b.scrollTop(),opacity:false},e);m=e.opacity?"k-loading-mask k-opaque":"k-loading-mask";if(c){if(!f.length){i=g.isRtl(b);j=i?"right":"left";l=b.scrollLeft();k=h.webkit?!i?0:b[0].scrollWidth-b.width()-2*l:0;f=a(d.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",m,d.ui.progress.messages.loading)).width(e.width).height(e.height).css("top",e.top).css(j,Math.abs(l)+k).prependTo(b)}}else if(f){f.remove()}},plugin:function(b,e,f){var g=b.fn.options.name,h;e=e||d.ui;f=f||"";e[g]=b;e.roles[g.toLowerCase()]=b;h="getKendo"+f+g;g="kendo"+f+g;var i={name:g,widget:b,prefix:f||""};d.widgets.push(i);for(var j=0,k=d._widgetRegisteredCallbacks.length;j<k;j++){d._widgetRegisteredCallbacks[j](i)}a.fn[g]=function(e){var f=this,h;if(typeof e===s){h=A.call(arguments,1);this.each(function(){var b=a.data(this,g),i,j;if(!b){throw new Error(d.format("Cannot call method '{0}' of {1} before it is initialized",e,g))}i=b[e];if(typeof i!==r){throw new Error(d.format("Cannot find method '{0}' of {1}",e,g))}j=i.apply(b,h);if(j!==c){f=j;return false}})}else{this.each(function(){return new b(this,e)})}return f};a.fn[g].widget=b;a.fn[h]=function(){return this.data(g)}}});d.ui.progress.messages={loading:"Loading..."};var za={bind:function(){return this},nullObject:true,options:{}};var Aa=pa.extend({init:function(a,b){pa.fn.init.call(this,a,b);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){pa.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(d.roleSelector("view splitview modalview drawer"));return d.widgetInstance(a,d.mobile.ui)||za},viewHasNativeScrolling:function(){var a=this.view();return a&&a.options.useNativeScrolling},container:function(){var a=this.element.closest(d.roleSelector("view layout modalview drawer splitview"));return d.widgetInstance(a.eq(0),d.mobile.ui)||za}});e(d.mobile,{init:function(a){d.init(a,d.mobile.ui,d.ui,d.dataviz.ui)},appLevelNativeScrolling:function(){return d.mobile.application&&d.mobile.application.options&&d.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:Aa,DataBoundWidget:qa.extend(Aa.prototype),roles:{},plugin:function(a){d.ui.plugin(a,d.mobile.ui,"Mobile")}}});R(d.dataviz,{init:function(a){d.init(a,d.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(a){d.ui.plugin(a,d.dataviz.ui)}},roles:{}});d.touchScroller=function(b,c){if(!c){c={}}c.useNative=true;return a(b).map(function(b,e){e=a(e);if(m.kineticScrollNeeded&&d.mobile.ui.Scroller&&!e.data("kendoMobileScroller")){
e.kendoMobileScroller(c);return e.data("kendoMobileScroller")}else{return false}})[0]};d.preventDefault=function(a){a.preventDefault()};d.widgetInstance=function(a,c){var e=a.data(d.ns+"role"),f=[],g,h;if(e){if(e==="content"){e="scroller"}if(e==="editortoolbar"){var i=a.data("kendoEditorToolbar");if(i){return i}}if(c){if(c[0]){for(g=0,h=c.length;g<h;g++){f.push(c[g].roles[e])}}else{f.push(c.roles[e])}}else{f=[d.ui.roles[e],d.dataviz.ui.roles[e],d.mobile.ui.roles[e]]}if(e.indexOf(".")>=0){f=[d.getter(e)(b)]}for(g=0,h=f.length;g<h;g++){var j=f[g];if(j){var k=a.data("kendo"+j.fn.options.prefix+j.fn.options.name);if(k){return k}}}}};d.onResize=function(c){var d=c;if(m.mobileOS.android){d=function(){setTimeout(c,600)}}a(b).on(m.resize,d);return d};d.unbindResize=function(c){a(b).off(m.resize,c)};d.attrValue=function(a,b){return a.data(d.ns+b)};d.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function Ba(a,b){var c=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&Ca(a)}function Ca(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return a.css(this,"visibility")==="hidden"}).length}a.extend(a.expr[":"],{kendoFocusable:function(b){var c=a.attr(b,"tabindex");return Ba(b,!isNaN(c)&&c>-1)}});var Da=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var Ea="label, input, [data-rel=external]";var Fa={setupMouseMute:function(){var b=0,c=Da.length,d=document.documentElement;if(Fa.mouseTrap||!m.eventCapture){return}Fa.mouseTrap=true;Fa.bustClick=false;Fa.captureMouse=false;var e=function(b){if(Fa.captureMouse){if(b.type==="click"){if(Fa.bustClick&&!a(b.target).is(Ea)){b.preventDefault();b.stopPropagation()}}else{b.stopPropagation()}}};for(;b<c;b++){d.addEventListener(Da[b],e,true)}},muteMouse:function(a){Fa.captureMouse=true;if(a.data.bustClick){Fa.bustClick=true}clearTimeout(Fa.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Fa.mouseTrapTimeoutID);Fa.mouseTrapTimeoutID=setTimeout(function(){Fa.captureMouse=false;Fa.bustClick=false},400)}};var Ga={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(m.touch&&(m.mobileOS.ios||m.mobileOS.android)){Ga={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}}else if(m.pointers){Ga={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}}else if(m.msPointers){Ga={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}}if(m.msPointers&&!("onmspointerenter"in b)){a.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(b,c){a.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=this,f=b.relatedTarget,g=b.handleObj;if(!f||f!==e&&!a.contains(e,f)){b.type=g.origType;d=g.handler.apply(this,arguments);b.type=c}return d}}})}var Ha=function(a){return Ga[a]||a},Ia=/([^ ]+)/g;d.applyEventMap=function(a,b){a=a.replace(Ia,Ha);if(b){a=a.replace(Ia,"$1."+b)}return a};var Ja=a.fn.on;function Ka(a,b){return new Ka.fn.init(a,b)}e(true,Ka,a);Ka.fn=Ka.prototype=new a;Ka.fn.constructor=Ka;Ka.fn.init=function(b,c){if(c&&c instanceof a&&!(c instanceof Ka)){c=Ka(c)}return a.fn.init.call(this,b,c,La)};Ka.fn.init.prototype=Ka.fn;var La=Ka(document);e(Ka.fn,{handler:function(a){this.data("handler",a);return this},autoApplyNS:function(a){this.data("kendoNS",a||d.guid());return this},on:function(){var a=this,b=a.data("kendoNS");if(arguments.length===1){return Ja.call(a,arguments[0])}var c=a,e=A.call(arguments);if(typeof e[e.length-1]===x){e.pop()}var f=e[e.length-1],g=d.applyEventMap(e[0],b);if(m.mouseAndTouchPresent&&g.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Fa.setupMouseMute();var h=e.length===2?null:e[1],i=g.indexOf("click")>-1&&g.indexOf("touchend")>-1;Ja.call(this,{touchstart:Fa.muteMouse,touchend:Fa.unMuteMouse},h,{bustClick:i})}if(typeof f===s){c=a.data("handler");f=c[f];e[e.length-1]=function(a){f.call(c,a)}}e[0]=g;Ja.apply(a,e);return a},kendoDestroy:function(a){a=a||this.data("kendoNS");if(a){this.off("."+a)}return this}});d.jQuery=Ka;d.eventMap=Ga;d.timezone=function(){var a={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var b={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function c(c,d){var e;var f;var g;var h=d[3];var i=d[4];var j=d[5];var k=d[8];if(!k){d[8]=k={}}if(k[c]){return k[c]}if(!isNaN(i)){e=new Date(Date.UTC(c,a[h],i,j[0],j[1],j[2],0))}else if(i.indexOf("last")===0){e=new Date(Date.UTC(c,a[h]+1,1,j[0]-24,j[1],j[2],0));f=b[i.substr(4,3)];g=e.getUTCDay();e.setUTCDate(e.getUTCDate()+f-g-(f>g?7:0))}else if(i.indexOf(">=")>=0){e=new Date(Date.UTC(c,a[h],i.substr(5),j[0],j[1],j[2],0));f=b[i.substr(0,3)];g=e.getUTCDay();e.setUTCDate(e.getUTCDate()+f-g+(f<g?7:0))}return k[c]=e}function e(a,b,d){b=b[d];if(!b){var e=d.split(":");var f=0;if(e.length>1){f=e[0]*60+Number(e[1])}return[-1e6,"max","-","Jan",1,[0,0,0],f,"-"]}var g=new Date(a).getUTCFullYear();b=jQuery.grep(b,function(a){var b=a[0];var c=a[1];return b<=g&&(c>=g||b==g&&c=="only"||c=="max")});b.push(a);b.sort(function(a,b){if(typeof a!="number"){a=Number(c(g,a))}if(typeof b!="number"){b=Number(c(g,b))}return a-b});var h=b[jQuery.inArray(a,b)-1]||b[b.length-1];return isNaN(h)?h:null}function f(a,b,c){var d=b[c];if(typeof d==="string"){d=b[d]}if(!d){throw new Error('Timezone "'+c+'" is either incorrect, or kendo.timezones.min.js is not included.')}for(var e=d.length-1;e>=0;e--){var f=d[e][3];if(f&&a>f){break}}var g=d[e+1];if(!g){throw new Error('Timezone "'+c+'" not found on '+a+".")}return g}function g(a,b,c,d){if(typeof a!=t){a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}var g=f(a,b,d);return{zone:g,rule:e(a,c,g[1])}}function h(a,b){if(b=="Etc/UTC"||b=="Etc/GMT"){return 0}var c=g(a,this.zones,this.rules,b);var e=c.zone;var f=c.rule;return d.parseFloat(f?e[0]-f[6]:e[0])}function i(a,b){var c=g(a,this.zones,this.rules,b);var d=c.zone;var e=c.rule;var f=d[2];if(f.indexOf("/")>=0){return f.split("/")[e&&+e[6]?1:0]}else if(f.indexOf("%s")>=0){return f.replace("%s",!e||e[7]=="-"?"":e[7])}return f}function j(a,b,c){var d=c;var e;if(typeof b==s){b=this.offset(a,b)}if(typeof c==s){c=this.offset(a,c)}var f=a.getTimezoneOffset();a=new Date(a.getTime()+(b-c)*6e4);var g=a.getTimezoneOffset();if(typeof d==s){d=this.offset(a,d)}e=g-f+(c-d);return new Date(a.getTime()+e*6e4)}function k(a,b){return this.convert(a,a.getTimezoneOffset(),b)}function l(a,b){return this.convert(a,b,a.getTimezoneOffset())}function m(a){return this.apply(new Date(a),"Etc/UTC")}return{zones:{},rules:{},offset:h,convert:j,apply:k,remove:l,abbr:i,toLocalDate:m}}();d.date=function(){var a=6e4,b=864e5;function e(a,b){if(b===0&&a.getHours()===23){a.setHours(a.getHours()+2);return true}return false}function f(a,b,c){var d=a.getHours();c=c||1;b=(b-a.getDay()+7*c)%7;a.setDate(a.getDate()+b);e(a,d)}function g(a,b,c){a=new Date(a);f(a,b,c);return a}function h(a){return new Date(a.getFullYear(),a.getMonth(),1)}function i(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=h(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());if(d){b.setHours(c.getHours()+d/60)}return b}function j(a,b){if(b!==1){return r(g(a,b,-1),4)}return r(a,4-(a.getDay()||7))}function k(a,c){var d=new Date(a.getFullYear(),0,1,-6);var e=j(a,c);var f=e.getTime()-d.getTime();var g=Math.floor(f/b);return 1+Math.floor(g/7)}function l(a,b){if(b===c){b=d.culture().calendar.firstDay}var e=r(a,-7);var f=r(a,7);var g=k(a,b);if(g===0){return k(e,b)+1}if(g===53&&k(f,b)>1){return 1}return g}function m(a){a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);e(a,0);return a}function n(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function o(a){return w(a).getTime()-m(w(a))}function p(a,c,d){var e=o(c),f=o(d),g;if(!a||e==f){return true}if(c>=d){d+=b}g=o(a);if(e>g){g+=b}if(f<e){f+=b}return g>=e&&g<=f}function q(a,c,d){var e=c.getTime(),f=d.getTime(),g;if(e>=f){f+=b}g=a.getTime();return g>=e&&g<=f}function r(a,c){var d=a.getHours();a=new Date(a);s(a,c*b);e(a,d);return a}function s(b,c,d){var e=b.getTimezoneOffset();var f;b.setTime(b.getTime()+c);if(!d){f=b.getTimezoneOffset()-e;b.setTime(b.getTime()+f*a)}}function t(a,b){a=new Date(d.date.getDate(a).getTime()+d.date.getMilliseconds(b));e(a,b.getHours());return a}function u(){return m(new Date)}function v(a){return m(a).getTime()==u().getTime()}function w(a){var b=new Date(1980,1,1,0,0,0);if(a){b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}return b}return{adjustDST:e,dayOfWeek:g,setDayOfWeek:f,getDate:m,isInDateRange:q,isInTimeRange:p,isToday:v,nextDay:function(a){return r(a,1)},previousDay:function(a){return r(a,-1)},toUtcTime:n,MS_PER_DAY:b,MS_PER_HOUR:60*a,MS_PER_MINUTE:a,setTime:s,setHours:t,addDays:r,today:u,toInvariantTime:w,firstDayOfMonth:h,lastDayOfMonth:i,weekInYear:l,getMilliseconds:o}}();d.stripWhitespace=function(a){if(document.createNodeIterator){var b=document.createNodeIterator(a,NodeFilter.SHOW_TEXT,function(b){return b.parentNode==a?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(b.nextNode()){if(b.referenceNode&&!b.referenceNode.textContent.trim()){b.referenceNode.parentNode.removeChild(b.referenceNode)}}}else{for(var c=0;c<a.childNodes.length;c++){var e=a.childNodes[c];if(e.nodeType==3&&!/\S/.test(e.nodeValue)){a.removeChild(e);c--}if(e.nodeType==1){d.stripWhitespace(e)}}}};var Ma=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};d.animationFrame=function(a){Ma.call(b,a)};var Na=[];d.queueAnimation=function(a){Na[Na.length]=a;if(Na.length===1){d.runNextAnimation()}};d.runNextAnimation=function(){d.animationFrame(function(){if(Na[0]){Na.shift()();if(Na[0]){d.runNextAnimation()}}})};d.parseQueryStringParams=function(a){var b=a.split("?")[1]||"",c={},d=b.split(/&|=/),e=d.length,f=0;for(;f<e;f+=2){if(d[f]!==""){c[decodeURIComponent(d[f])]=decodeURIComponent(d[f+1])}}return c};d.elementUnderCursor=function(a){if(typeof a.x.client!="undefined"){return document.elementFromPoint(a.x.client,a.y.client)}};d.wheelDeltaY=function(a){var b=a.originalEvent,d=b.wheelDeltaY,e;if(b.wheelDelta){if(d===c||d){e=b.wheelDelta}}else if(b.detail&&b.axis===b.VERTICAL_AXIS){e=-b.detail*10}return e};d.throttle=function(a,b){var c;var d=0;if(!b||b<=0){return a}var e=function(){var e=this;var f=+new Date-d;var g=arguments;function h(){a.apply(e,g);d=+new Date}if(!d){return h()}if(c){clearTimeout(c)}if(f>b){h()}else{c=setTimeout(h,b-f)}};e.cancel=function(){clearTimeout(c)};return e};d.caret=function(b,d,e){var f;var g=d!==c;if(e===c){e=d}if(b[0]){b=b[0]}if(g&&b.disabled){return}try{if(b.selectionStart!==c){if(g){b.focus();var h=m.mobileOS;if(h.wp||h.android){setTimeout(function(){b.setSelectionRange(d,e)},0)}else{b.setSelectionRange(d,e)}}else{d=[b.selectionStart,b.selectionEnd]}}else if(document.selection){if(a(b).is(":visible")){b.focus()}f=b.createTextRange();if(g){f.collapse(true);f.moveStart("character",d);f.moveEnd("character",e-d);f.select()}else{var i=f.duplicate(),j,k;f.moveToBookmark(document.selection.createRange().getBookmark());i.setEndPoint("EndToStart",f);j=i.text.length;k=j+f.text.length;d=[j,k]}}}catch(a){d=[]}return d};d.compileMobileDirective=function(a,c){var e=b.angular;a.attr("data-"+d.ns+"role",a[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-",""));e.element(a).injector().invoke(["$compile",function(b){b(a)(c);if(!/^\$(digest|apply)$/.test(c.$$phase)){c.$digest()}}]);return d.widgetInstance(a,d.mobile.ui)};d.antiForgeryTokens=function(){var b={},d=a("meta[name=csrf-token],meta[name=_csrf]").attr("content"),e=a("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");a("input[name^='__RequestVerificationToken']").each(function(){b[this.name]=this.value});if(e!==c&&d!==c){b[e]=d}return b};d.cycleForm=function(a){var b=a.find("input, .k-widget").first();var c=a.find("button, .k-button").last();function e(a){var b=d.widgetInstance(a);if(b&&b.focus){b.focus()}else{a.focus()}}c.on("keydown",function(a){if(a.keyCode==d.keys.TAB&&!a.shiftKey){a.preventDefault();e(b)}});b.on("keydown",function(a){if(a.keyCode==d.keys.TAB&&a.shiftKey){a.preventDefault();e(c)}})};d.focusElement=function(c){var e=[];var f=c.parentsUntil("body").filter(function(a,b){var c=d.getComputedStyles(b,["overflow"]);return c.overflow!=="visible"}).add(b);f.each(function(b,c){e[b]=a(c).scrollTop()});try{c[0].setActive()}catch(a){c[0].focus()}f.each(function(b,c){a(c).scrollTop(e[b])})};(function(){function c(b,c,e,f){var g=a("<form>").attr({action:e,method:"POST",target:f});var h=d.antiForgeryTokens();h.fileName=c;var i=b.split(";base64,");h.contentType=i[0].replace("data:","");h.base64=i[1];for(var j in h){if(h.hasOwnProperty(j)){a("<input>").attr({value:h[j],name:j,type:"hidden"}).appendTo(g)}}g.appendTo("body").submit().remove()}var e=document.createElement("a");var f="download"in e&&!d.support.browser.edge;function g(a,b){var c=a;if(typeof a=="string"){var d=a.split(";base64,");var e=d[0];var f=atob(d[1]);var g=new Uint8Array(f.length);for(var h=0;h<f.length;h++){g[h]=f.charCodeAt(h)}c=new Blob([g.buffer],{type:e})}navigator.msSaveBlob(c,b)}function h(a,c){if(b.Blob&&a instanceof Blob){a=URL.createObjectURL(a)}e.download=c;e.href=a;var d=document.createEvent("MouseEvents");d.initMouseEvent("click",true,false,b,0,0,0,0,0,false,false,false,false,0,null);e.dispatchEvent(d);setTimeout(function(){URL.revokeObjectURL(a)})}d.saveAs=function(a){var b=c;if(!a.forceProxy){if(f){b=h}else if(navigator.msSaveBlob){b=g}}b(a.dataURI,a.fileName,a.proxyURL,a.proxyTarget)}})();d.proxyModelSetters=function a(b){var c={};Object.keys(b||{}).forEach(function(a){Object.defineProperty(c,a,{get:function(){return b[a]},set:function(c){b[a]=c;b.dirty=true}})});return c}})(jQuery,window);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.router",["kendo.core"],a)})(function(){var a={id:"router",name:"Router",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:false};(function(a,b){var c=window.kendo,d="change",e="back",f="same",g=c.support,h=window.location,i=window.history,j=50,k=c.support.browser.msie,l=/^#*/,m=window.document;function n(a,b){if(!b){return a}if(a+"/"===b){a=b}var c=new RegExp("^"+b,"i");if(!c.test(a)){a=b+"/"+a}return h.protocol+"//"+(h.host+"/"+a).replace(/\/\/+/g,"/")}function o(a){return a?"#!":"#"}function p(a){var b=h.href;if(a==="#!"&&b.indexOf("#")>-1&&b.indexOf("#!")<0){return null}return b.split(a)[1]||""}function q(a,b){if(b.indexOf(a)===0){return b.substr(a.length).replace(/\/\//g,"/")}else{return b}}var r=c.Class.extend({back:function(){if(k){setTimeout(function(){i.back()})}else{i.back()}},forward:function(){if(k){setTimeout(function(){i.forward()})}else{i.forward()}},length:function(){return i.length},replaceLocation:function(a){h.replace(a)}});var s=r.extend({init:function(a){this.root=a},navigate:function(a){i.pushState({},m.title,n(a,this.root))},replace:function(a){i.replaceState({},m.title,n(a,this.root))},normalize:function(a){return q(this.root,a)},current:function(){var a=h.pathname;if(h.search){a+=h.search}return q(this.root,a)},change:function(b){a(window).bind("popstate.kendo",b)},stop:function(){a(window).unbind("popstate.kendo")},normalizeCurrent:function(a){var b,c=a.root,d=h.pathname,e=p(o(a.hashBang));if(c===d+"/"){b=c}if(c===d&&e){b=n(e.replace(l,""),c)}if(b){i.pushState({},m.title,b)}}});function t(a){return a.replace(/^(#)?/,"#")}function u(a){return a.replace(/^(#(!)?)?/,"#!")}var v=r.extend({init:function(a){this._id=c.guid();this.prefix=o(a);this.fix=a?u:t},navigate:function(a){h.hash=this.fix(a)},replace:function(a){this.replaceLocation(this.fix(a))},normalize:function(a){if(a.indexOf(this.prefix)<0){return a}else{return a.split(this.prefix)[1]}},change:function(b){if(g.hashChange){a(window).on("hashchange."+this._id,b)}else{this._interval=setInterval(b,j)}},stop:function(){a(window).off("hashchange."+this._id);clearInterval(this._interval)},current:function(){return p(this.prefix)},normalizeCurrent:function(a){var b=h.pathname,c=a.root;if(a.pushState&&c!==b){this.replaceLocation(c+this.prefix+q(c,b));return true}return false}});var w=c.Observable.extend({start:function(b){b=b||{};this.bind([d,e,f],b);if(this._started){return}this._started=true;b.root=b.root||"/";var c=this.createAdapter(b),g;if(c.normalizeCurrent(b)){return}g=c.current();a.extend(this,{adapter:c,root:b.root,historyLength:c.length(),current:g,locations:[g]});c.change(a.proxy(this,"_checkUrl"))},createAdapter:function(a){return g.pushState&&a.pushState?new s(a.root):new v(a.hashBang)},stop:function(){if(!this._started){return}this.adapter.stop();this.unbind(d);this._started=false},change:function(a){this.bind(d,a)},replace:function(a,b){this._navigate(a,b,function(b){b.replace(a);this.locations[this.locations.length-1]=this.current})},navigate:function(a,b){if(a==="#:back"){this.backCalled=true;this.adapter.back();return}this._navigate(a,b,function(b){b.navigate(a);this.locations.push(this.current)})},_navigate:function(a,b,c){var e=this.adapter;a=e.normalize(a);if(this.current===a||this.current===decodeURIComponent(a)){this.trigger(f);return}if(!b){if(this.trigger(d,{url:a,decode:false})){return}}this.current=a;c.call(this,e);this.historyLength=e.length()},_checkUrl:function(){var a=this.adapter,b=a.current(),c=a.length(),e=this.historyLength===c,f=b===this.locations[this.locations.length-2]&&e,g=this.backCalled,h=this.current;if(b===null||this.current===b||this.current===decodeURIComponent(b)){return true}this.historyLength=c;this.backCalled=false;this.current=b;if(f&&this.trigger("back",{url:h,to:b})){a.forward();this.current=h;return}if(this.trigger(d,{url:b,backButtonPressed:!g})){if(f){a.forward()}else{a.back();this.historyLength--}this.current=h;return}if(f){this.locations.pop()}else{this.locations.push(b)}}});c.History=w;c.History.HistoryAdapter=r;c.History.HashAdapter=v;c.History.PushStateAdapter=s;c.absoluteURL=n;c.history=new w})(window.kendo.jQuery);(function(){var a=window.kendo,b=a.history,c=a.Observable,d="init",e="routeMissing",f="change",g="back",h="same",i=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,k=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g;function m(a,b){return b?a:"([^/]+)"}function n(a,b){return new RegExp("^"+a.replace(l,"\\$&").replace(i,"(?:$1)?").replace(j,m).replace(k,"(.*?)")+"$",b?"i":"")}function o(a){return a.replace(/(\?.*)|(#.*)/g,"")}var p=a.Class.extend({init:function(a,b,c){if(!(a instanceof RegExp)){a=n(a,c)}this.route=a;this._callback=b},callback:function(b,c,d){var e,f=0,g,h=a.parseQueryStringParams(b);h._back=c;b=o(b);e=this.route.exec(b).slice(1);g=e.length;if(d){for(;f<g;f++){if(typeof e[f]!=="undefined"){e[f]=decodeURIComponent(e[f])}}}e.push(h);this._callback.apply(null,e)},worksWith:function(a,b,c){if(this.route.test(o(a))){this.callback(a,b,c);return true}else{return false}}});var q=c.extend({init:function(a){if(!a){a={}}c.fn.init.call(this);this.routes=[];this.pushState=a.pushState;this.hashBang=a.hashBang;this.root=a.root;this.ignoreCase=a.ignoreCase!==false;this.bind([d,e,f,h],a)},destroy:function(){b.unbind(f,this._urlChangedProxy);b.unbind(h,this._sameProxy);b.unbind(g,this._backProxy);this.unbind()},start:function(){var a=this,c=function(){a._same()},e=function(b){a._back(b)},f=function(b){a._urlChanged(b)};b.start({same:c,change:f,back:e,pushState:a.pushState,hashBang:a.hashBang,root:a.root});var g={url:b.current||"/",preventDefault:$.noop};if(!a.trigger(d,g)){a._urlChanged(g)}this._urlChangedProxy=f;this._backProxy=e},route:function(a,b){this.routes.push(new p(a,b,this.ignoreCase))},navigate:function(b,c){a.history.navigate(b,c)},replace:function(b,c){a.history.replace(b,c)},_back:function(a){if(this.trigger(g,{url:a.url,to:a.to})){a.preventDefault()}},_same:function(){this.trigger(h)},_urlChanged:function(b){var c=b.url;var d=!!b.decode;var g=b.backButtonPressed;if(!c){c="/"}if(this.trigger(f,{url:b.url,params:a.parseQueryStringParams(b.url),backButtonPressed:g})){b.preventDefault();return}var h=0,i=this.routes,j,k=i.length;for(;h<k;h++){j=i[h];if(j.worksWith(c,g,d)){return}}if(this.trigger(e,{url:c,params:a.parseQueryStringParams(c),backButtonPressed:g})){b.preventDefault()}}});a.Router=q})();return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.data.odata",["kendo.core"],a)})(function(){var a={id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:true};(function(a,b){var c=window.kendo,d=a.extend,e="\r\n",f="\r\n\r\n",g=c.isFunction,h={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isempty:"eq",isnotempty:"ne"},i=d({},h,{contains:"contains"}),j={pageSize:a.noop,page:a.noop,filter:function(a,b,c){if(b){b=l(b,c);if(b){a.$filter=b}}},sort:function(b,c){var d=a.map(c,function(a){var b=a.field.replace(/\./g,"/");if(a.dir==="desc"){b+=" desc"}return b}).join(",");if(d){b.$orderby=d}},skip:function(a,b){if(b){a.$skip=b}},take:function(a,b){if(b){a.$top=b}}},k={read:{dataType:"jsonp"}};function l(d,e){var f=[],g=d.logic||"and",j,k,m,n,o,p,q,r,s=d.filters;for(j=0,k=s.length;j<k;j++){d=s[j];m=d.field;q=d.value;p=d.operator;if(d.filters){d=l(d,e)}else{r=d.ignoreCase;m=m.replace(/\./g,"/");d=h[p];if(e){d=i[p]}if(p==="isnull"||p==="isnotnull"){d=c.format("{0} {1} null",m,d)}else if(p==="isempty"||p==="isnotempty"){d=c.format("{0} {1} ''",m,d)}else if(d&&q!==b){n=a.type(q);if(n==="string"){o="'{1}'";q=q.replace(/'/g,"''");if(r===true){m="tolower("+m+")"}}else if(n==="date"){if(e){o="{1:yyyy-MM-ddTHH:mm:ss+00:00}";q=c.timezone.apply(q,"Etc/UTC")}else{o="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}}else{o="{1}"}if(d.length>3){if(d!=="substringof"){o="{0}({2},"+o+")"}else{o="{0}("+o+",{2})";if(p==="doesnotcontain"){if(e){o="{0}({2},'{1}') eq -1";d="indexof"}else{o+=" eq false"}}}}else{o="{2} {0} "+o}d=c.format(o,d,q,m)}}f.push(d)}d=f.join(" "+g+" ");if(f.length>1){d="("+d+")"}return d}function m(a){for(var b in a){if(b.indexOf("@odata")===0){delete a[b]}}}function n(){return Math.floor((1+Math.random())*65536).toString(16).substr(1)}function o(a){return a+n()+"-"+n()+"-"+n()}function p(a,b){var c=e+"--"+a;if(b){c+="--"}return c}function q(a,b,d,e){var f=a.options[e].url;var h=c.format("{0} ",d);if(g(f)){return h+f(b)}else{return h+f}}function r(a,b){var c="";c+=p(a,false);c+=e+"Content-Type: application/http";c+=e+"Content-Transfer-Encoding: binary";c+=e+"Content-ID: "+b;return c}function s(a){var b="";b+=e+"Content-Type: application/json;odata=minimalmetadata";b+=e+"Prefer: return=representation";b+=f+c.stringify(a);return b}function t(a,b,c,d,g,h){var i="";for(var j=0;j<a.length;j++){i+=r(b,c);i+=f+q(g,a[j],g.options[d].type,d)+" HTTP/1.1";if(!h){i+=s(a[j])}i+=e;c++}return i}function u(a,b,c,d,f,g,h){var i="";i+=v(b,c);i+=t(a,c,d,g,f,h);i+=p(c,true);i+=e;return i}function v(a,b){var c="";c+="--"+a+e;c+="Content-Type: multipart/mixed; boundary="+b+e;return c}function w(a,b){var c={};var d=o("sf_batch_");var e="";var f=0;var h=a.options.batch.url;var i=o("sf_changeset_");c.type=a.options.batch.type;c.url=g(h)?h():h;c.headers={"Content-Type":"multipart/mixed; boundary="+d};if(b.updated.length){e+=u(b.updated,d,i,f,a,"update",false);f+=b.updated.length;i=o("sf_changeset_")}if(b.destroyed.length){e+=u(b.destroyed,d,i,f,a,"destroy",true);f+=b.destroyed.length;i=o("sf_changeset_")}if(b.created.length){e+=u(b.created,d,i,f,a,"create",false)}e+=p(d,true);c.data=e;return c}function x(a){var b=a.match(/--changesetresponse_[a-z0-9-]+$/gm);var d=0;var e=[];var f;var g;var h;var i;var j;e.push({models:[],passed:true});for(var k=0;k<b.length;k++){i=b[k];if(i.lastIndexOf("--",i.length-1)){if(k<b.length-1){e.push({models:[],passed:true})}continue}if(!d){d=a.indexOf(i)}else{d=a.indexOf(i,d+i.length)}f=a.substring(d,a.indexOf("--",d+1));g=f.match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop();h=c.parseFloat(g.match(/\d{3}/g).pop());if(h>=200&&h<=299){j=f.match(/\{.*\}/gm);if(j){e[e.length-1].models.push(JSON.parse(j[0]))}}else{e[e.length-1].passed=false}}return e}d(true,c.data,{schemas:{odata:{type:"json",data:function(a){return a.d.results||[a.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(a,b,d){var e,f,g,h;a=a||{};b=b||"read";h=(this.options||k)[b];h=h?h.dataType:"json";if(b==="read"){e={$inlinecount:"allpages"};if(h!="json"){e.$format="json"}for(g in a){if(j[g]){j[g](e,a[g],d)}else{e[g]=a[g]}}}else{if(h!=="json"){throw new Error("Only json dataType can be used for "+b+" operation.")}if(b!=="destroy"){for(g in a){f=a[g];if(typeof f==="number"){a[g]=f+""}}e=c.stringify(a)}}return e}}}});d(true,c.data,{schemas:{"odata-v4":{type:"json",data:function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++){m(b[c])}return b}else{b=a.extend({},b);m(b);if(b.value){return b.value}return[b]}},total:function(a){return a["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:true,dataType:"json"},update:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(a,b){var d=c.data.transports.odata.parameterMap(a,b,true);if(b=="read"){d.$count=true;delete d.$inlinecount}return d},submit:function(b){var c=this;var e=w(c,b.data);var f=b.data;if(!f.updated.length&&!f.destroyed.length&&!f.created.length){return}a.ajax(d(true,{},{success:function(a){var c=x(a);var d=0;var e;if(f.updated.length){e=c[d];if(e.passed){b.success(e.models.length?e.models:[],"update")}d++}if(f.destroyed.length){e=c[d];if(e.passed){b.success([],"destroy")}d++}if(f.created.length){e=c[d];if(e.passed){b.success(e.models,"create")}}},error:function(a,c,d){b.error(a,c,d)}},e))}}}})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.data.xml",["kendo.core"],a)})(function(){var a={id:"data.xml",name:"XML",category:"framework",depends:["core"],hidden:true};(function(a,b){var c=window.kendo,d=a.isArray,e=a.isPlainObject,f=a.map,g=a.each,h=a.extend,i=c.getter,j=c.Class;var k=j.extend({init:function(b){var i=this,j=b.total,k=b.model,l=b.parse,m=b.errors,n=b.serialize,o=b.data;if(k){if(e(k)){var p=b.modelBase||c.data.Model;if(k.fields){g(k.fields,function(b,c){if(e(c)&&c.field){if(!a.isFunction(c.field)){c=h(c,{field:i.getter(c.field)})}}else{c={field:i.getter(c)}}k.fields[b]=c})}var q=k.id;if(q){var r={};r[i.xpathToMember(q,true)]={field:i.getter(q)};k.fields=h(r,k.fields);k.id=i.xpathToMember(q)}k=p.define(k)}i.model=k}if(j){if(typeof j=="string"){j=i.getter(j);i.total=function(a){return parseInt(j(a),10)}}else if(typeof j=="function"){i.total=j}}if(m){if(typeof m=="string"){m=i.getter(m);i.errors=function(a){return m(a)||null}}else if(typeof m=="function"){i.errors=m}}if(o){if(typeof o=="string"){o=i.xpathToMember(o);i.data=function(a){var b=i.evaluate(a,o),c;b=d(b)?b:[b];if(i.model&&k.fields){c=new i.model;return f(b,function(a){if(a){var b={},d;for(d in k.fields){b[d]=c._parse(d,k.fields[d].field(a))}return b}})}return b}}else if(typeof o=="function"){i.data=o}}if(typeof l=="function"){var s=i.parse;i.parse=function(a){var b=l.call(i,a);return s.call(i,b)}}if(typeof n=="function"){i.serialize=n}},total:function(a){return this.data(a).length},errors:function(a){return a?a.errors:null},serialize:function(a){return a},parseDOM:function(a){var c={},e,f,g,h,i,j,k=a.attributes,l=k.length,m;for(m=0;m<l;m++){j=k[m];c["@"+j.nodeName]=j.nodeValue}for(f=a.firstChild;f;f=f.nextSibling){g=f.nodeType;if(g===3||g===4){c["#text"]=f.nodeValue}else if(g===1){e=this.parseDOM(f);h=f.nodeName;i=c[h];if(d(i)){i.push(e)}else if(i!==b){i=[i,e]}else{i=e}c[h]=i}}return c},evaluate:function(a,b){var c=b.split("."),e,f,g,h,i;while(e=c.shift()){a=a[e];if(d(a)){f=[];b=c.join(".");for(i=0,g=a.length;i<g;i++){h=this.evaluate(a[i],b);h=d(h)?h:[h];f.push.apply(f,h)}return f}}return a},parse:function(b){var c,d,e={};c=b.documentElement||a.parseXML(b).documentElement;d=this.parseDOM(c);e[c.nodeName]=d;return e},xpathToMember:function(a,b){if(!a){return""}a=a.replace(/^\//,"").replace(/\//g,".");if(a.indexOf("@")>=0){return a.replace(/\.?(@.*)/,b?"$1":'["$1"]')}if(a.indexOf("text()")>=0){return a.replace(/(\.?text\(\))/,b?"#text":'["#text"]')}return a},getter:function(a){return i(this.xpathToMember(a),true)}});a.extend(true,c.data,{XmlDataReader:k,readers:{xml:k}})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.data",["kendo.core","kendo.data.odata","kendo.data.xml"],a)})(function(){var a={id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-signalr",name:"SignalR",description:"Support for binding to SignalR hubs.",depends:["data.signalr"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]};(function(a,b){var c=a.extend,d=a.proxy,e=a.isPlainObject,f=a.isEmptyObject,g=a.isArray,h=a.grep,i=a.ajax,j,k=a.each,l=a.noop,m=window.kendo,n=m.isFunction,o=m.Observable,p=m.Class,q="string",r="function",s="create",t="read",u="update",v="destroy",w="change",x="sync",y="get",z="error",A="requestStart",B="progress",C="requestEnd",D=[s,t,u,v],E=function(a){return a},F=m.getter,G=m.stringify,H=Math,I=[].push,J=[].join,K=[].pop,L=[].splice,M=[].shift,N=[].slice,O=[].unshift,P={}.toString,Q=m.support.stableSort,R=/^\/Date\((.*?)\)\/$/;var S=o.extend({init:function(a,b){var c=this;c.type=b||V;o.fn.init.call(c);c.length=a.length;c.wrapAll(a,c)},at:function(a){return this[a]},toJSON:function(){var a,b=this.length,c,d=new Array(b);for(a=0;a<b;a++){c=this[a];if(c instanceof V){c=c.toJSON()}d[a]=c}return d},parent:l,wrapAll:function(a,b){var c=this,d,e,f=function(){return c};b=b||[];for(d=0,e=a.length;d<e;d++){b[d]=c.wrap(a[d],f)}return b},wrap:function(a,b){var c=this,d;if(a!==null&&P.call(a)==="[object Object]"){d=a instanceof c.type||a instanceof $;if(!d){a=a instanceof V?a.toJSON():a;a=new c.type(a)}a.parent=b;a.bind(w,function(a){c.trigger(w,{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemloaded":"itemchange"})})}return a},push:function(){var a=this.length,b=this.wrapAll(arguments),c;c=I.apply(this,b);this.trigger(w,{action:"add",index:a,items:b});return c},slice:N,sort:[].sort,join:J,pop:function(){var a=this.length,b=K.apply(this);if(a){this.trigger(w,{action:"remove",index:a-1,items:[b]})}return b},splice:function(a,b,c){var d=this.wrapAll(N.call(arguments,2)),e,f,g;e=L.apply(this,[a,b].concat(d));if(e.length){this.trigger(w,{action:"remove",index:a,items:e});for(f=0,g=e.length;f<g;f++){if(e[f]&&e[f].children){e[f].unbind(w)}}}if(c){this.trigger(w,{action:"add",index:a,items:d})}return e},shift:function(){var a=this.length,b=M.apply(this);if(a){this.trigger(w,{action:"remove",index:0,
items:[b]})}return b},unshift:function(){var a=this.wrapAll(arguments),b;b=O.apply(this,a);this.trigger(w,{action:"add",index:0,items:a});return b},indexOf:function(a){var b=this,c,d;for(c=0,d=b.length;c<d;c++){if(b[c]===a){return c}}return-1},forEach:function(a,b){var c=0;var d=this.length;var e=b||window;for(;c<d;c++){a.call(e,this[c],c,this)}},map:function(a,b){var c=0;var d=[];var e=this.length;var f=b||window;for(;c<e;c++){d[c]=a.call(f,this[c],c,this)}return d},reduce:function(a){var b=0,c,d=this.length;if(arguments.length==2){c=arguments[1]}else if(b<d){c=this[b++]}for(;b<d;b++){c=a(c,this[b],b,this)}return c},reduceRight:function(a){var b=this.length-1,c;if(arguments.length==2){c=arguments[1]}else if(b>0){c=this[b--]}for(;b>=0;b--){c=a(c,this[b],b,this)}return c},filter:function(a,b){var c=0;var d=[];var e;var f=this.length;var g=b||window;for(;c<f;c++){e=this[c];if(a.call(g,e,c,this)){d[d.length]=e}}return d},find:function(a,b){var c=0;var d;var e=this.length;var f=b||window;for(;c<e;c++){d=this[c];if(a.call(f,d,c,this)){return d}}},every:function(a,b){var c=0;var d;var e=this.length;var f=b||window;for(;c<e;c++){d=this[c];if(!a.call(f,d,c,this)){return false}}return true},some:function(a,b){var c=0;var d;var e=this.length;var f=b||window;for(;c<e;c++){d=this[c];if(a.call(f,d,c,this)){return true}}return false},remove:function(a){var b=this.indexOf(a);if(b!==-1){this.splice(b,1)}},empty:function(){this.splice(0,this.length)}});if(typeof Symbol!=="undefined"&&Symbol.iterator&&!S.prototype[Symbol.iterator]){S.prototype[Symbol.iterator]=[][Symbol.iterator]}var T=S.extend({init:function(a,b){o.fn.init.call(this);this.type=b||V;for(var c=0;c<a.length;c++){this[c]=a[c]}this.length=c;this._parent=d(function(){return this},this)},at:function(a){var b=this[a];if(!(b instanceof this.type)){b=this[a]=this.wrap(b,this._parent)}else{b.parent=this._parent}return b}});function U(a,b,c,d){return function(e){var f={},g;for(g in e){f[g]=e[g]}if(d){f.field=c+"."+e.field}else{f.field=c}if(b==w&&a._notifyChange){a._notifyChange(f)}a.trigger(b,f)}}var V=o.extend({init:function(a){var b=this,c,d,e=function(){return b};o.fn.init.call(this);this._handlers={};for(d in a){c=a[d];if(typeof c==="object"&&c&&!c.getTime&&d.charAt(0)!="_"){c=b.wrap(c,d,e)}b[d]=c}b.uid=m.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&a!=="_handlers"&&a!=="_events"&&typeof this[a]!==r&&a!=="uid"},forEach:function(a){for(var b in this){if(this.shouldSerialize(b)){a(this[b],b)}}},toJSON:function(){var a={},b,c;for(c in this){if(this.shouldSerialize(c)){b=this[c];if(b instanceof V||b instanceof S){b=b.toJSON()}a[c]=b}}return a},get:function(a){var b=this,c;b.trigger(y,{field:a});if(a==="this"){c=b}else{c=m.getter(a,true)(b)}return c},_set:function(a,b){var c=this;var d=a.indexOf(".")>=0;if(d){var e=a.split("."),f="";while(e.length>1){f+=e.shift();var g=m.getter(f,true)(c);if(g instanceof V){g.set(e.join("."),b);return d}f+="."}}m.setter(a)(c,b);return d},set:function(a,b){var c=this,d=false,e=a.indexOf(".")>=0,f=m.getter(a,true)(c);if(f!==b){if(f instanceof o&&this._handlers[a]){if(this._handlers[a].get){f.unbind(y,this._handlers[a].get)}f.unbind(w,this._handlers[a].change)}d=c.trigger("set",{field:a,value:b});if(!d){if(!e){b=c.wrap(b,a,function(){return c})}if(!c._set(a,b)||a.indexOf("(")>=0||a.indexOf("[")>=0){c.trigger(w,{field:a})}}}return d},parent:l,wrap:function(a,b,c){var d=this;var e;var f;var g=P.call(a);if(a!=null&&(g==="[object Object]"||g==="[object Array]")){var h=a instanceof S;var i=a instanceof Ra;if(g==="[object Object]"&&!i&&!h){if(!(a instanceof V)){a=new V(a)}e=U(d,y,b,true);a.bind(y,e);f=U(d,w,b,true);a.bind(w,f);d._handlers[b]={get:e,change:f}}else if(g==="[object Array]"||h||i){if(!h&&!i){a=new S(a)}f=U(d,w,b,false);a.bind(w,f);d._handlers[b]={change:f}}a.parent=c}return a}});function W(b,c){if(b===c){return true}var d=a.type(b),e=a.type(c),f;if(d!==e){return false}if(d==="date"){return b.getTime()===c.getTime()}if(d!=="object"&&d!=="array"){return false}for(f in b){if(!W(b[f],c[f])){return false}}return true}var X={number:function(a){if(typeof a===q&&a.toLowerCase()==="null"){return null}return m.parseFloat(a)},date:function(a){if(typeof a===q&&a.toLowerCase()==="null"){return null}return m.parseDate(a)},boolean:function(a){if(typeof a===q){if(a.toLowerCase()==="null"){return null}else{return a.toLowerCase()==="true"}}return a!=null?!!a:a},string:function(a){if(typeof a===q&&a.toLowerCase()==="null"){return null}return a!=null?a+"":a},default:function(a){return a}};var Y={string:"",number:0,date:new Date,boolean:false,default:""};function Z(a,b){var c,d;for(d in a){c=a[d];if(e(c)&&c.field&&c.field===b){return c}else if(c===b){return c}}return null}var $=V.extend({init:function(c){var d=this;if(!c||a.isEmptyObject(c)){c=a.extend({},d.defaults,c);if(d._initializers){for(var e=0;e<d._initializers.length;e++){var f=d._initializers[e];c[f]=d.defaults[f]()}}}V.fn.init.call(d,c);d.dirty=false;d.dirtyFields={};if(d.idField){d.id=d.get(d.idField);if(d.id===b){d.id=d._defaultId}}},shouldSerialize:function(a){return V.fn.shouldSerialize.call(this,a)&&a!=="uid"&&!(this.idField!=="id"&&a==="id")&&a!=="dirty"&&a!=="dirtyFields"&&a!=="_accessors"},_parse:function(a,b){var c=this,d=a,e=c.fields||{},f;a=e[a];if(!a){a=Z(e,d)}if(a){f=a.parse;if(!f&&a.type){f=X[a.type.toLowerCase()]}}return f?f(b):b},_notifyChange:function(a){var b=a.action;if(b=="add"||b=="remove"){this.dirty=true;this.dirtyFields[a.field]=true}},editable:function(a){a=(this.fields||{})[a];return a?a.editable!==false:true},set:function(a,b,c){var d=this;var e=d.dirty;if(d.editable(a)){b=d._parse(a,b);if(!W(b,d.get(a))){d.dirty=true;d.dirtyFields[a]=true;if(V.fn.set.call(d,a,b,c)&&!e){d.dirty=e;if(!d.dirty){d.dirtyFields[a]=false}}}else{d.trigger("equalSet",{field:a,value:b})}}},accept:function(a){var b=this,c=function(){return b},d;for(d in a){var e=a[d];if(d.charAt(0)!="_"){e=b.wrap(a[d],d,c)}b._set(d,e)}if(b.idField){b.id=b.get(b.idField)}b.dirty=false;b.dirtyFields={}},isNew:function(){return this.id===this._defaultId}});$.define=function(a,d){if(d===b){d=a;a=$}var e,f=c({defaults:{}},d),g,h,i,j,k,l,m={},n,o=f.id,p=[];if(o){f.idField=o}if(f.id){delete f.id}if(o){f.defaults[o]=f._defaultId=""}if(P.call(f.fields)==="[object Array]"){for(k=0,l=f.fields.length;k<l;k++){h=f.fields[k];if(typeof h===q){m[h]={}}else if(h.field){m[h.field]=h}}f.fields=m}for(g in f.fields){h=f.fields[g];i=h.type||"default";j=null;n=g;g=typeof h.field===q?h.field:g;if(!h.nullable){j=f.defaults[n!==g?n:g]=h.defaultValue!==b?h.defaultValue:Y[i.toLowerCase()];if(typeof j==="function"){p.push(g)}}if(d.id===g){f._defaultId=j}f.defaults[n!==g?n:g]=j;h.parse=h.parse||X[i]}if(p.length>0){f._initializers=p}e=a.extend(f);e.define=function(a){return $.define(e,a)};if(f.fields){e.fields=f.fields;e.idField=f.idField}return e};var _={selector:function(a){return n(a)?a:F(a)},compare:function(a){var b=this.selector(a);return function(a,c){a=b(a);c=b(c);if(a==null&&c==null){return 0}if(a==null){return-1}if(c==null){return 1}if(a.localeCompare){return a.localeCompare(c)}return a>c?1:a<c?-1:0}},create:function(a){var b=a.compare||this.compare(a.field);if(a.dir=="desc"){return function(a,c){return b(c,a,true)}}return b},combine:function(a){return function(b,c){var d=a[0](b,c),e,f;for(e=1,f=a.length;e<f;e++){d=d||a[e](b,c)}return d}}};var aa=c({},_,{asc:function(a){var b=this.selector(a);return function(a,c){var d=b(a);var e=b(c);if(d&&d.getTime&&e&&e.getTime){d=d.getTime();e=e.getTime()}if(d===e){return a.__position-c.__position}if(d==null){return-1}if(e==null){return 1}if(d.localeCompare){return d.localeCompare(e)}return d>e?1:-1}},desc:function(a){var b=this.selector(a);return function(a,c){var d=b(a);var e=b(c);if(d&&d.getTime&&e&&e.getTime){d=d.getTime();e=e.getTime()}if(d===e){return a.__position-c.__position}if(d==null){return 1}if(e==null){return-1}if(e.localeCompare){return e.localeCompare(d)}return d<e?1:-1}},create:function(a){return this[a.dir](a.field)}});j=function(a,b){var c,d=a.length,e=new Array(d);for(c=0;c<d;c++){e[c]=b(a[c],c,a)}return e};var ba=function(){function a(a){if(typeof a=="string"){a=a.replace(/[\r\n]+/g,"")}return JSON.stringify(a)}function b(b){return function(c,d,e){d+="";if(e){c="("+c+" || '').toLowerCase()";d=d.toLowerCase()}return b(c,a(d),e)}}function c(b,c,d,e){if(d!=null){if(typeof d===q){var f=R.exec(d);if(f){d=new Date(+f[1])}else if(e){d=a(d.toLowerCase());c="(("+c+" || '')+'').toLowerCase()"}else{d=a(d)}}if(d.getTime){c="("+c+"&&"+c+".getTime?"+c+".getTime():"+c+")";d=d.getTime()}}return c+" "+b+" "+d}function d(a){for(var b="/^",c=false,d=0;d<a.length;++d){var e=a.charAt(d);if(c){b+="\\"+e}else if(e=="~"){c=true;continue}else if(e=="*"){b+=".*"}else if(e=="?"){b+="."}else if(".+^$()[]{}|\\/\n\r\u2028\u2029Â ".indexOf(e)>=0){b+="\\"+e}else{b+=e}c=false}return b+"$/"}return{quote:function(b){if(b&&b.getTime){return"new Date("+b.getTime()+")"}return a(b)},eq:function(a,b,d){return c("==",a,b,d)},neq:function(a,b,d){return c("!=",a,b,d)},gt:function(a,b,d){return c(">",a,b,d)},gte:function(a,b,d){return c(">=",a,b,d)},lt:function(a,b,d){return c("<",a,b,d)},lte:function(a,b,d){return c("<=",a,b,d)},startswith:b(function(a,b){return a+".lastIndexOf("+b+", 0) == 0"}),doesnotstartwith:b(function(a,b){return a+".lastIndexOf("+b+", 0) == -1"}),endswith:b(function(a,b){var c=b?b.length-2:0;return a+".indexOf("+b+", "+a+".length - "+c+") >= 0"}),doesnotendwith:b(function(a,b){var c=b?b.length-2:0;return a+".indexOf("+b+", "+a+".length - "+c+") < 0"}),contains:b(function(a,b){return a+".indexOf("+b+") >= 0"}),doesnotcontain:b(function(a,b){return a+".indexOf("+b+") == -1"}),matches:b(function(a,b){b=b.substring(1,b.length-1);return d(b)+".test("+a+")"}),doesnotmatch:b(function(a,b){b=b.substring(1,b.length-1);return"!"+d(b)+".test("+a+")"}),isempty:function(a){return a+" === ''"},isnotempty:function(a){return a+" !== ''"},isnull:function(a){return"("+a+" == null)"},isnotnull:function(a){return"("+a+" != null)"},isnullorempty:function(a){return"("+a+" === null) || ("+a+" === '')"},isnotnullorempty:function(a){return"("+a+" !== null) && ("+a+" !== '')"}}}();function ca(a){this.data=a||[]}ca.filterExpr=function(a){var c=[],d={and:" && ",or:" || "},e,f,g,h,i=[],j=[],k,l,n=a.filters;for(e=0,f=n.length;e<f;e++){g=n[e];k=g.field;l=g.operator;if(g.filters){h=ca.filterExpr(g);g=h.expression.replace(/__o\[(\d+)\]/g,function(a,b){b=+b;return"__o["+(j.length+b)+"]"}).replace(/__f\[(\d+)\]/g,function(a,b){b=+b;return"__f["+(i.length+b)+"]"});j.push.apply(j,h.operators);i.push.apply(i,h.fields)}else{if(typeof k===r){h="__f["+i.length+"](d)";i.push(k)}else{h=m.expr(k)}if(typeof l===r){g="__o["+j.length+"]("+h+", "+ba.quote(g.value)+")";j.push(l)}else{g=ba[(l||"eq").toLowerCase()](h,g.value,g.ignoreCase!==b?g.ignoreCase:true)}}c.push(g)}return{expression:"("+c.join(d[a.logic])+")",fields:i,operators:j}};function da(a,c){if(a){var d=typeof a===q?{field:a,dir:c}:a,e=g(d)?d:d!==b?[d]:[];return h(e,function(a){return!!a.dir})}}var ea={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function fa(a){var b,c,d,e,f=a.filters;if(f){for(b=0,c=f.length;b<c;b++){d=f[b];e=d.operator;if(e&&typeof e===q){d.operator=ea[e.toLowerCase()]||e}fa(d)}}}function ga(a){if(a&&!f(a)){if(g(a)||!a.filters){a={logic:"and",filters:g(a)?a:[a]}}fa(a);return a}}ca.normalizeFilter=ga;function ha(a,b){if(a.logic||b.logic){return false}return a.field===b.field&&a.value===b.value&&a.operator===b.operator}function ia(a){a=a||{};if(f(a)){return{logic:"and",filters:[]}}return ga(a)}function ja(a,b){if(b.logic||a.field>b.field){return 1}else if(a.field<b.field){return-1}else{return 0}}function ka(a,b){a=ia(a);b=ia(b);if(a.logic!==b.logic){return false}var c,d;var e=(a.filters||[]).slice();var f=(b.filters||[]).slice();if(e.length!==f.length){return false}e=e.sort(ja);f=f.sort(ja);for(var g=0;g<e.length;g++){c=e[g];d=f[g];if(c.logic&&d.logic){if(!ka(c,d)){return false}}else if(!ha(c,d)){return false}}return true}ca.compareFilters=ka;function la(a){return g(a)?a:[a]}function ma(a,c){var d=typeof a===q?{field:a,dir:c}:a,e=g(d)?d:d!==b?[d]:[];return j(e,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}ca.prototype={toArray:function(){return this.data},range:function(a,b){return new ca(this.data.slice(a,a+b))},skip:function(a){return new ca(this.data.slice(a))},take:function(a){return new ca(this.data.slice(0,a))},select:function(a){return new ca(j(this.data,a))},order:function(a,b,c){var d={dir:b};if(a){if(a.compare){d.compare=a.compare}else{d.field=a}}if(c){return new ca(this.data.sort(_.create(d)))}return new ca(this.data.slice(0).sort(_.create(d)))},orderBy:function(a,b){return this.order(a,"asc",b)},orderByDescending:function(a,b){return this.order(a,"desc",b)},sort:function(a,b,c,d){var e,f,g=da(a,b),h=[];c=c||_;if(g.length){for(e=0,f=g.length;e<f;e++){h.push(c.create(g[e]))}return this.orderBy({compare:c.combine(h)},d)}return this},filter:function(a){var b,c,d,e,f,g=this.data,h,i,j=[],k;a=ga(a);if(!a||a.filters.length===0){return this}e=ca.filterExpr(a);h=e.fields;i=e.operators;f=k=new Function("d, __f, __o","return "+e.expression);if(h.length||i.length){k=function(a){return f(a,h,i)}}for(b=0,d=g.length;b<d;b++){c=g[b];if(k(c)){j.push(c)}}return new ca(j)},group:function(a,b){a=ma(a||[]);b=b||this.data;var c=this,d=new ca(c.data),e;if(a.length>0){e=a[0];d=d.groupBy(e).select(function(c){var d=new ca(b).filter([{field:c.field,operator:"eq",value:c.value,ignoreCase:false}]);return{field:c.field,value:c.value,items:a.length>1?new ca(c.items).group(a.slice(1),d.toArray()).toArray():c.items,hasSubgroups:a.length>1,aggregates:d.aggregate(e.aggregates)}})}return d},groupBy:function(a){if(f(a)||!this.data.length){return new ca([])}var b=a.field,c=this._sortForGrouping(b,a.dir||"asc"),d=m.accessor(b),e,g=d.get(c[0],b),h={field:b,value:g,items:[]},i,j,k,l=[h];for(j=0,k=c.length;j<k;j++){e=c[j];i=d.get(e,b);if(!na(g,i)){g=i;h={field:b,value:g,items:[]};l.push(h)}h.items.push(e)}return new ca(l)},_sortForGrouping:function(a,b){var c,d,e=this.data;if(!Q){for(c=0,d=e.length;c<d;c++){e[c].__position=c}e=new ca(e).sort(a,b,aa).toArray();for(c=0,d=e.length;c<d;c++){delete e[c].__position}return e}return this.sort(a,b).toArray()},aggregate:function(a){var b,c,d={},e={};if(a&&a.length){for(b=0,c=this.data.length;b<c;b++){oa(d,a,this.data[b],b,c,e)}}return d}};function na(a,b){if(a&&a.getTime&&b&&b.getTime){return a.getTime()===b.getTime()}return a===b}function oa(a,b,c,d,e,f){b=b||[];var g,h,i,j=b.length;for(g=0;g<j;g++){h=b[g];i=h.aggregate;var k=h.field;a[k]=a[k]||{};f[k]=f[k]||{};f[k][i]=f[k][i]||{};a[k][i]=pa[i.toLowerCase()](a[k][i],c,m.accessor(k),d,e,f[k][i])}}var pa={sum:function(a,b,c){var d=c.get(b);if(!qa(a)){a=d}else if(qa(d)){a+=d}return a},count:function(a){return(a||0)+1},average:function(a,c,d,e,f,g){var h=d.get(c);if(g.count===b){g.count=0}if(!qa(a)){a=h}else if(qa(h)){a+=h}if(qa(h)){g.count++}if(e==f-1&&qa(a)){a=a/g.count}return a},max:function(a,b,c){var d=c.get(b);if(!qa(a)&&!ra(a)){a=d}if(a<d&&(qa(d)||ra(d))){a=d}return a},min:function(a,b,c){var d=c.get(b);if(!qa(a)&&!ra(a)){a=d}if(a>d&&(qa(d)||ra(d))){a=d}return a}};function qa(a){return typeof a==="number"&&!isNaN(a)}function ra(a){return a&&a.getTime}function sa(a){var b,c=a.length,d=new Array(c);for(b=0;b<c;b++){d[b]=a[b].toJSON()}return d}ca.process=function(a,c,d){c=c||{};var e=new ca(a),f=c.group,g=ma(f||[]).concat(da(c.sort||[])),h,i=c.filterCallback,j=c.filter,k=c.skip,l=c.take;if(g&&d){e=e.sort(g,b,b,d)}if(j){e=e.filter(j);if(i){e=i(e)}h=e.toArray().length}if(g&&!d){e=e.sort(g);if(f){a=e.toArray()}}if(k!==b&&l!==b){e=e.range(k,l)}if(f){e=e.group(f,a)}return{total:h,data:e.toArray()}};var ta=p.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}});var ua=p.extend({init:function(a){var b=this,d;a=b.options=c({},b.options,a);k(D,function(b,c){if(typeof a[c]===q){a[c]={url:a[c]}}});b.cache=a.cache?va.create(a.cache):{find:l,add:l};d=a.parameterMap;if(a.submit){b.submit=a.submit}if(n(a.push)){b.push=a.push}if(!b.push){b.push=E}b.parameterMap=n(d)?d:function(a){var b={};k(a,function(a,c){if(a in d){a=d[a];if(e(a)){c=a.value(c);a=a.key}}b[a]=c});return b}},options:{parameterMap:E},create:function(a){return i(this.setup(a,s))},read:function(c){var d=this,e,f,g,h=d.cache;c=d.setup(c,t);e=c.success||l;f=c.error||l;g=h.find(c.data);if(g!==b){e(g)}else{c.success=function(a){h.add(c.data,a);e(a)};a.ajax(c)}},update:function(a){return i(this.setup(a,u))},destroy:function(a){return i(this.setup(a,v))},setup:function(a,b){a=a||{};var d=this,e,f=d.options[b],g=n(f.data)?f.data(a.data):f.data;a=c(true,{},f,a);e=c(true,{},g,a.data);a.data=d.parameterMap(e,b);if(n(a.url)){a.url=a.url(e)}return a}});var va=p.extend({init:function(){this._store={}},add:function(a,c){if(a!==b){this._store[G(a)]=c}},find:function(a){return this._store[G(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[G(a)]}});va.create=function(a){var b={inmemory:function(){return new va}};if(e(a)&&n(a.find)){return a}if(a===true){return new va}return b[a]()};function wa(a,b,c,d,e){var f,g,h,i,j={},k;for(i=0,k=a.length;i<k;i++){f=a[i];for(g in b){h=e[g];if(h&&h!==g){if(!j[h]){j[h]=m.setter(h)}j[h](f,b[g](f));delete f[g]}}}}function xa(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;i<j;i++){f=a[i];for(g in b){f[g]=c._parse(g,b[g](f));h=e[g];if(h&&h!==g){delete f[h]}}}}function ya(a,b,c,d,e){var f,g,h,i;for(g=0,i=a.length;g<i;g++){f=a[g];h=d[f.field];if(h&&h!=f.field){f.field=h}f.value=c._parse(f.field,f.value);if(f.hasSubgroups){ya(f.items,b,c,d,e)}else{xa(f.items,b,c,d,e)}}}function za(a,b,c,d,e,f){return function(g){g=a(g);return Aa(b,c,d,e,f)(g)}}function Aa(a,b,c,d,e){return function(g){if(g&&!f(c)){if(P.call(g)!=="[object Array]"&&!(g instanceof S)){g=[g]}b(g,c,new a,d,e)}return g||[]}}var Ba=p.extend({init:function(a){var b=this,c,f,g,h;a=a||{};for(c in a){f=a[c];b[c]=typeof f===q?F(f):f}h=a.modelBase||$;if(e(b.model)){b.model=g=h.define(b.model)}var i=d(b.data,b);b._dataAccessFunction=i;if(b.model){var j=d(b.groups,b),l=d(b.serialize,b),m={},n={},o={},p={},r=false,s,t;g=b.model;if(g.fields){k(g.fields,function(a,b){var c;s=a;if(e(b)&&b.field){s=b.field}else if(typeof b===q){s=b}if(e(b)&&b.from){c=b.from}r=r||c&&c!==a||s!==a;t=c||s;n[a]=t.indexOf(".")!==-1?F(t,true):F(t);o[a]=F(a);m[c||s]=a;p[a]=c||s});if(!a.serialize&&r){b.serialize=za(l,g,wa,o,m,p)}}b._dataAccessFunction=i;b._wrapDataAccessBase=Aa(g,xa,n,m,p);b.data=za(i,g,xa,n,m,p);b.groups=za(j,g,ya,n,m,p)}},errors:function(a){return a?a.errors:null},parse:E,data:E,total:function(a){return a.length},groups:E,aggregates:function(){return{}},serialize:function(a){return a}});function Ca(a,b){var c;var d;if(b.items&&b.items.length){for(var e=0;e<b.items.length;e++){c=a.items[e];d=b.items[e];if(c&&d){if(c.hasSubgroups){Ca(c,d)}else if(c.field&&c.value==d.value){c.items.push.apply(c.items,d.items)}else{a.items.push.apply(a.items,[d])}}else if(d){a.items.push.apply(a.items,[d])}}}}function Da(a,b,c,d){var e,f=0,g;while(b.length&&d){e=b[f];g=e.items;var h=g.length;if(a&&a.field===e.field&&a.value===e.value){if(a.hasSubgroups&&a.items.length){Da(a.items[a.items.length-1],e.items,c,d)}else{g=g.slice(c,c+d);a.items=a.items.concat(g)}b.splice(f--,1)}else if(e.hasSubgroups&&g.length){Da(e,g,c,d);if(!e.items.length){b.splice(f--,1)}}else{g=g.slice(c,c+d);e.items=g;if(!e.items.length){b.splice(f--,1)}}if(g.length===0){c-=h}else{c=0;d-=g.length}if(++f>=b.length){break}}if(f<b.length){b.splice(f,b.length-f)}}function Ea(a){var b,c=[],d,e,f;for(b=0,d=a.length;b<d;b++){var g=a.at(b);if(g.hasSubgroups){c=c.concat(Ea(g.items))}else{e=g.items;for(f=0;f<e.length;f++){c.push(e.at(f))}}}return c}function Fa(a,b){var c,d,e;if(b){for(c=0,d=a.length;c<d;c++){e=a.at(c);if(e.hasSubgroups){Fa(e.items,b)}else{e.items=new T(e.items,b)}}}}function Ga(a,b){for(var c=0,d=a.length;c<d;c++){if(a[c].hasSubgroups){if(Ga(a[c].items,b)){return true}}else if(b(a[c].items,a[c])){return true}}}function Ha(a,b,c,d){for(var e=0;e<a.length;e++){if(a[e].data===b){break}if(Ia(a[e].data,c,d)){break}}}function Ia(a,b,c){for(var d=0,e=a.length;d<e;d++){if(a[d]&&a[d].hasSubgroups){return Ia(a[d].items,b,c)}else if(a[d]===b||a[d]===c){a[d]=c;return true}}}function Ja(a,c,d,e,f){for(var g=0,h=a.length;g<h;g++){var i=a[g];if(!i||i instanceof e){continue}if(i.hasSubgroups!==b&&!f){Ja(i.items,c,d,e,f)}else{for(var j=0;j<c.length;j++){if(c[j]===i){a[g]=c.at(j);Ha(d,c,i,a[g]);break}}}}}function Ka(a,b){var c=a.length;var d;var e;for(e=0;e<c;e++){d=a[e];if(d.uid&&d.uid==b.uid){a.splice(e,1);return d}}}function La(a,b){if(b){return Na(a,function(a){return a.uid&&a.uid==b.uid||a[b.idField]===b.id&&b.id!==b._defaultId})}return-1}function Ma(a,b){if(b){return Na(a,function(a){return a.uid==b.uid})}return-1}function Na(a,b){var c,d;for(c=0,d=a.length;c<d;c++){if(b(a[c])){return c}}return-1}function Oa(a,b){if(a&&!f(a)){var c=a[b];var d;if(e(c)){d=c.from||c.field||b}else{d=a[b]||b}if(n(d)){return b}return d}return b}function Pa(a,b){var c,d,e={};for(var f in a){if(f!=="filters"){e[f]=a[f]}}if(a.filters){e.filters=[];for(c=0,d=a.filters.length;c<d;c++){e.filters[c]=Pa(a.filters[c],b)}}else{e.field=Oa(b.fields,e.field)}return e}function Qa(a,b){var c,d,e=[],f,h;for(c=0,d=a.length;c<d;c++){f={};h=a[c];for(var i in h){f[i]=h[i]}f.field=Oa(b.fields,f.field);if(f.aggregates&&g(f.aggregates)){f.aggregates=Qa(f.aggregates,b)}e.push(f)}return e}var Ra=o.extend({init:function(a){var e=this,f,g;if(a){g=a.data}a=e.options=c({},e.options,a);e._map={};e._prefetch={};e._data=[];e._pristineData=[];e._ranges=[];e._view=[];e._pristineTotal=0;e._destroyed=[];e._pageSize=a.pageSize;e._page=a.page||(a.pageSize?1:b);e._sort=da(a.sort);e._filter=ga(a.filter);e._group=ma(a.group);e._aggregate=a.aggregate;e._total=a.total;e._shouldDetachObservableParents=true;o.fn.init.call(e);e.transport=Sa.create(a,g,e);if(n(e.transport.push)){e.transport.push({pushCreate:d(e._pushCreate,e),pushUpdate:d(e._pushUpdate,e),pushDestroy:d(e._pushDestroy,e)})}if(a.offlineStorage!=null){if(typeof a.offlineStorage=="string"){var h=a.offlineStorage;e._storage={getItem:function(){return JSON.parse(localStorage.getItem(h))},setItem:function(a){localStorage.setItem(h,G(e.reader.serialize(a)))}}}else{e._storage=a.offlineStorage}}e.reader=new m.data.readers[a.schema.type||"json"](a.schema);f=e.reader.model||{};e._detachObservableParents();e._data=e._observe(e._data);e._online=true;e.bind(["push",z,w,A,x,C,B],a)},options:{data:null,schema:{modelBase:$},offlineStorage:null,serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false,inPlaceSort:false},clone:function(){return this},online:function(c){if(c!==b){if(this._online!=c){this._online=c;if(c){return this.sync()}}return a.Deferred().resolve().promise()}else{return this._online}},offlineData:function(a){if(this.options.offlineStorage==null){return null}if(a!==b){return this._storage.setItem(a)}return this._storage.getItem()||[]},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_pushCreate:function(a){this._push(a,"pushCreate")},_pushUpdate:function(a){this._push(a,"pushUpdate")},_pushDestroy:function(a){this._push(a,"pushDestroy")},_push:function(a,b){var c=this._readData(a);if(!c){c=a}this[b](c)},_flatData:function(a,b){if(a){if(this._isServerGrouped()){return Ea(a)}if(!b){for(var c=0;c<a.length;c++){a.at(c)}}}return a},parent:l,get:function(a){var b,c,d=this._flatData(this._data,this.options.useRanges);for(b=0,c=d.length;b<c;b++){if(d[b].id==a){return d[b]}}},getByUid:function(a){return this._getByUid(a,this._data)},_getByUid:function(a,b){var c,d,e=this._flatData(b,this.options.useRanges);if(!e){return}for(c=0,d=e.length;c<d;c++){if(e[c].uid==a){return e[c]}}},indexOf:function(a){return Ma(this._data,a)},at:function(a){return this._data.at(a)},data:function(a){var c=this;if(a!==b){c._detachObservableParents();c._data=this._observe(a);c._pristineData=a.slice(0);c._storeData();c._ranges=[];c.trigger("reset");c._addRange(c._data);c._total=c._data.length;c._pristineTotal=c._total;c._process(c._data)}else{if(c._data){for(var d=0;d<c._data.length;d++){c._data.at(d)}}return c._data}},view:function(a){if(a===b){return this._view}else{this._view=this._observeView(a)}},_observeView:function(a){var b=this;Ja(a,b._data,b._ranges,b.reader.model||V,b._isServerGrouped());var c=new T(a,b.reader.model);c.parent=function(){return b.parent()};return c},flatView:function(){var a=this.group()||[];if(a.length){return Ea(this._view)}else{return this._view}},add:function(a){return this.insert(this._data.length,a)},_createNewModel:function(a){if(this.reader.model){return new this.reader.model(a)}if(a instanceof V){return a}return new V(a)},insert:function(a,b){if(!b){b=a;a=0}if(!(b instanceof $)){b=this._createNewModel(b)}if(this._isServerGrouped()){this._data.splice(a,0,this._wrapInEmptyGroup(b))}else{this._data.splice(a,0,b)}this._insertModelInRange(a,b);return b},pushInsert:function(b,c){var d=this;var e=d._getCurrentRangeSpan();if(!c){c=b;b=0}if(!g(c)){c=[c]}var f=[];var h=this.options.autoSync;this.options.autoSync=false;try{for(var i=0;i<c.length;i++){var j=c[i];var k=this.insert(b,j);f.push(k);var l=k.toJSON();if(this._isServerGrouped()){l=this._wrapInEmptyGroup(l)}this._pristineData.push(l);if(e&&e.length){a(e).last()[0].pristineData.push(l)}b++}}finally{this.options.autoSync=h}if(f.length){this.trigger("push",{type:"create",items:f})}},pushCreate:function(a){this.pushInsert(this._data.length,a)},pushUpdate:function(a){if(!g(a)){a=[a]}var b=[];for(var c=0;c<a.length;c++){var d=a[c];var e=this._createNewModel(d);var f=this.get(e.id);if(f){b.push(f);f.accept(d);f.trigger(w);this._updatePristineForModel(f,d)}else{this.pushCreate(d)}}if(b.length){this.trigger("push",{type:"update",items:b})}},pushDestroy:function(a){var b=this._removeItems(a);if(b.length){this.trigger("push",{type:"destroy",items:b})}},_removeItems:function(a){if(!g(a)){a=[a]}var b=[];var c=this.options.autoSync;this.options.autoSync=false;try{for(var d=0;d<a.length;d++){var e=a[d];var f=this._createNewModel(e);var h=false;this._eachItem(this._data,function(a){for(var c=0;c<a.length;c++){var d=a.at(c);if(d.id===f.id){b.push(d);a.splice(c,1);h=true;break}}});if(h){this._removePristineForModel(f);this._destroyed.pop()}}}finally{this.options.autoSync=c}return b},remove:function(a){var b,c=this,d=c._isServerGrouped();this._eachItem(c._data,function(e){b=Ka(e,a);if(b&&d){if(!b.isNew||!b.isNew()){c._destroyed.push(b)}return true}});this._removeModelFromRanges(a);return a},destroyed:function(){return this._destroyed},created:function(){var a,b,c=[],d=this._flatData(this._data,this.options.useRanges);for(a=0,b=d.length;a<b;a++){if(d[a].isNew&&d[a].isNew()){c.push(d[a])}}return c},updated:function(){var a,b,c=[],d=this._flatData(this._data,this.options.useRanges);for(a=0,b=d.length;a<b;a++){if(d[a].isNew&&!d[a].isNew()&&d[a].dirty){c.push(d[a])}}return c},sync:function(){var b=this,c=[],d=[],e=b._destroyed;var f=a.Deferred().resolve().promise();if(b.online()){if(!b.reader.model){return f}c=b.created();d=b.updated();var g=[];if(b.options.batch&&b.transport.submit){g=b._sendSubmit(c,d,e)}else{g.push.apply(g,b._send("create",c));g.push.apply(g,b._send("update",d));g.push.apply(g,b._send("destroy",e))}f=a.when.apply(null,g).then(function(){var a,c;for(a=0,c=arguments.length;a<c;a++){if(arguments[a]){b._accept(arguments[a])}}b._storeData(true);b._change({action:"sync"});b.trigger(x)})}else{b._storeData(true);b._change({action:"sync"})}return f},cancelChanges:function(a){var b=this;if(a instanceof m.data.Model){b._cancelModel(a)}else{b._destroyed=[];b._detachObservableParents();b._data=b._observe(b._pristineData);if(b.options.serverPaging){b._total=b._pristineTotal}b._ranges=[];b._addRange(b._data,0);b._change();b._markOfflineUpdatesAsDirty()}},_markOfflineUpdatesAsDirty:function(){var a=this;if(a.options.offlineStorage!=null){a._eachItem(a._data,function(a){for(var b=0;b<a.length;b++){var c=a.at(b);if(c.__state__=="update"||c.__state__=="create"){c.dirty=true}}})}},hasChanges:function(){var a,b,c=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length){return true}for(a=0,b=c.length;a<b;a++){if(c[a].isNew&&c[a].isNew()||c[a].dirty){return true}}return false},_accept:function(b){var c=this,d=b.models,e=b.response,h=0,i=c._isServerGrouped(),j=c._pristineData,k=b.type,l;c.trigger(C,{response:e,type:k});if(e&&!f(e)){e=c.reader.parse(e);if(c._handleCustomErrors(e)){return}e=c.reader.data(e);if(!g(e)){e=[e]}}else{e=a.map(d,function(a){return a.toJSON()})}if(k==="destroy"){c._destroyed=[]}for(h=0,l=d.length;h<l;h++){if(k!=="destroy"){d[h].accept(e[h]);if(k==="create"){j.push(i?c._wrapInEmptyGroup(d[h]):e[h])}else if(k==="update"){c._updatePristineForModel(d[h],e[h])}}else{c._removePristineForModel(d[h])}}},_updatePristineForModel:function(a,b){this._executeOnPristineForModel(a,function(a,c){m.deepExtend(c[a],b)})},_executeOnPristineForModel:function(a,b){this._eachPristineItem(function(c){var d=La(c,a);if(d>-1){b(d,c);return true}})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,b){b.splice(a,1)})},_readData:function(a){var b=!this._isServerGrouped()?this.reader.data:this.reader.groups;return b.call(this.reader,a)},_eachPristineItem:function(a){var b=this;var c=b.options;var d=b._getCurrentRangeSpan();b._eachItem(b._pristineData,a);if(c.serverPaging&&c.useRanges){k(d,function(c,d){b._eachItem(d.pristineData,a)})}},_eachItem:function(a,b){if(a&&a.length){if(this._isServerGrouped()){Ga(a,b)}else{b(a)}}},_pristineForModel:function(a){var b,c,d=function(d){c=La(d,a);if(c>-1){b=d[c];return true}};this._eachPristineItem(d);return b},_cancelModel:function(a){var b=this;var c=this._pristineForModel(a);this._eachItem(this._data,function(d){var e=Ma(d,a);if(e>=0){if(c&&(!a.isNew()||c.__state__)){d[e].accept(c);if(c.__state__=="update"){d[e].dirty=true}}else{d.splice(e,1);b._removeModelFromRanges(a)}}})},_submit:function(b,d){var e=this;e.trigger(A,{type:"submit"});e.trigger(B);e.transport.submit(c({success:function(c,d){var e=a.grep(b,function(a){return a.type==d})[0];if(e){e.resolve({response:c,models:e.models,type:d})}},error:function(a,c,d){for(var f=0;f<b.length;f++){b[f].reject(a)}e.error(a,c,d)}},d))},_sendSubmit:function(b,c,d){var e=this,f=[];if(e.options.batch){if(b.length){f.push(a.Deferred(function(a){a.type="create";a.models=b}))}if(c.length){f.push(a.Deferred(function(a){a.type="update";a.models=c}))}if(d.length){f.push(a.Deferred(function(a){a.type="destroy";a.models=d}))}e._submit(f,{data:{created:e.reader.serialize(sa(b)),updated:e.reader.serialize(sa(c)),destroyed:e.reader.serialize(sa(d))}})}return f},_promise:function(b,d,e){var f=this;return a.Deferred(function(a){f.trigger(A,{type:e});f.trigger(B);f.transport[e].call(f.transport,c({success:function(b){a.resolve({response:b,models:d,type:e})},error:function(b,c,d){a.reject(b);f.error(b,c,d)}},b))}).promise()},_send:function(a,b){var c=this,d,e,f=[],g=c.reader.serialize(sa(b));if(c.options.batch){if(b.length){f.push(c._promise({data:{models:g}},b,a))}}else{for(d=0,e=b.length;d<e;d++){f.push(c._promise({data:g[d]},[b[d]],a))}}return f},read:function(b){var c=this,d=c._params(b);var e=a.Deferred();c._queueRequest(d,function(){var a=c.trigger(A,{
type:"read"});if(!a){c.trigger(B);c._ranges=[];c.trigger("reset");if(c.online()){c.transport.read({data:d,success:function(a){c._ranges=[];c.success(a,d);e.resolve()},error:function(){var a=N.call(arguments);c.error.apply(c,a);e.reject.apply(e,a)}})}else if(c.options.offlineStorage!=null){c.success(c.offlineData(),d);e.resolve()}}else{c._dequeueRequest();e.resolve(a)}});return e.promise()},_readAggregates:function(a){return this.reader.aggregates(a)},success:function(a){var b=this,c=b.options;b.trigger(C,{response:a,type:"read"});if(b.online()){a=b.reader.parse(a);if(b._handleCustomErrors(a)){b._dequeueRequest();return}b._total=b.reader.total(a);if(b._pageSize>b._total){b._pageSize=b._total;if(b.options.pageSize&&b.options.pageSize>b._pageSize){b._pageSize=b.options.pageSize}}if(b._aggregate&&c.serverAggregates){b._aggregateResult=b._readAggregates(a)}a=b._readData(a);b._destroyed=[]}else{a=b._readData(a);var d=[];var e={};var f=b.reader.model;var g=f?f.idField:"id";var h;for(h=0;h<this._destroyed.length;h++){var i=this._destroyed[h][g];e[i]=i}for(h=0;h<a.length;h++){var j=a[h];var k=j.__state__;if(k=="destroy"){if(!e[j[g]]){this._destroyed.push(this._createNewModel(j))}}else{d.push(j)}}a=d;b._total=a.length}b._pristineTotal=b._total;b._pristineData=a.slice(0);b._detachObservableParents();if(b.options.endless){b._data.unbind(w,b._changeHandler);if(b._isServerGrouped()&&b._data[b._data.length-1].value===a[0].value){Ca(b._data[b._data.length-1],a[0]);a.shift()}a=b._observe(a);for(var l=0;l<a.length;l++){b._data.push(a[l])}b._data.bind(w,b._changeHandler)}else{b._data=b._observe(a)}b._markOfflineUpdatesAsDirty();b._storeData();b._addRange(b._data);b._process(b._data);b._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents){for(var a=0;a<this._data.length;a++){if(this._data[a].parent){this._data[a].parent=l}}}},_storeData:function(a){var b=this._isServerGrouped();var c=this.reader.model;function d(a){var e=[];for(var f=0;f<a.length;f++){var g=a.at(f);var h=g.toJSON();if(b&&g.items){h.items=d(g.items)}else{h.uid=g.uid;if(c){if(g.isNew()){h.__state__="create"}else if(g.dirty){h.__state__="update"}}}e.push(h)}return e}if(this.options.offlineStorage!=null){var e=d(this._data);var f=[];for(var g=0;g<this._destroyed.length;g++){var h=this._destroyed[g].toJSON();h.__state__="destroy";f.push(h)}this.offlineData(e.concat(f));if(a){this._pristineData=this.reader._wrapDataAccessBase(e)}}},_addRange:function(a,b){var c=this,d=typeof b!=="undefined"?b:c._skip||0,e=d+c._flatData(a,true).length;c._ranges.push({start:d,end:e,data:a,pristineData:a.toJSON(),timestamp:c._timeStamp()});c._sortRanges()},_sortRanges:function(){this._ranges.sort(function(a,b){return a.start-b.start})},error:function(a,b,c){this._dequeueRequest();this.trigger(C,{});this.trigger(z,{xhr:a,status:b,errorThrown:c})},_params:function(a){var b=this,d=c({take:b.take(),skip:b.skip(),page:b.page(),pageSize:b.pageSize(),sort:b._sort,filter:b._filter,group:b._group,aggregate:b._aggregate},a);if(!b.options.serverPaging){delete d.take;delete d.skip;delete d.page;delete d.pageSize}if(!b.options.serverGrouping){delete d.group}else if(b.reader.model&&d.group){d.group=Qa(d.group,b.reader.model)}if(!b.options.serverFiltering){delete d.filter}else if(b.reader.model&&d.filter){d.filter=Pa(d.filter,b.reader.model)}if(!b.options.serverSorting){delete d.sort}else if(b.reader.model&&d.sort){d.sort=Qa(d.sort,b.reader.model)}if(!b.options.serverAggregates){delete d.aggregate}else if(b.reader.model&&d.aggregate){d.aggregate=Qa(d.aggregate,b.reader.model)}return d},_queueRequest:function(a,c){var e=this;if(!e._requestInProgress){e._requestInProgress=true;e._pending=b;c()}else{e._pending={callback:d(c,e),options:a}}},_dequeueRequest:function(){var a=this;a._requestInProgress=false;if(a._pending){a._queueRequest(a._pending.options,a._pending.callback)}},_handleCustomErrors:function(a){if(this.reader.errors){var b=this.reader.errors(a);if(b){this.trigger(z,{xhr:null,status:"customerror",errorThrown:"custom error",errors:b});return true}}return false},_shouldWrap:function(a){var b=this.reader.model;if(b&&a.length){return!(a[0]instanceof b)}return false},_observe:function(a){var b=this,c=b.reader.model;b._shouldDetachObservableParents=true;if(a instanceof S){b._shouldDetachObservableParents=false;if(b._shouldWrap(a)){a.type=b.reader.model;a.wrapAll(a,a)}}else{var e=b.pageSize()&&!b.options.serverPaging?T:S;a=new e(a,b.reader.model);a.parent=function(){return b.parent()}}if(b._isServerGrouped()){Fa(a,c)}if(b._changeHandler&&b._data&&b._data instanceof S){b._data.unbind(w,b._changeHandler)}else{b._changeHandler=d(b._change,b)}return a.bind(w,b._changeHandler)},_updateTotalForAction:function(a,b){var c=this;var d=parseInt(c._total,10);if(!qa(c._total)){d=parseInt(c._pristineTotal,10)}if(a==="add"){d+=b.length}else if(a==="remove"){d-=b.length}else if(a!=="itemchange"&&a!=="sync"&&!c.options.serverPaging){d=c._pristineTotal}else if(a==="sync"){d=c._pristineTotal=parseInt(c._total,10)}c._total=d},_change:function(a){var b=this,c,d,e=a?a.action:"";if(e==="remove"){for(c=0,d=a.items.length;c<d;c++){if(!a.items[c].isNew||!a.items[c].isNew()){b._destroyed.push(a.items[c])}}}if(b.options.autoSync&&(e==="add"||e==="remove"||e==="itemchange")){var f=function(c){if(c.action==="sync"){b.unbind("change",f);b._updateTotalForAction(e,a.items)}};b.first("change",f);b.sync()}else{b._updateTotalForAction(e,a?a.items:[]);b._process(b._data,a)}},_calculateAggregates:function(a,b){b=b||{};var c=new ca(a),d=b.aggregate,e=b.filter;if(e){c=c.filter(e)}return c.aggregate(d)},_process:function(a,c){var d=this,e={},f;if(d.options.serverPaging!==true){e.skip=d._skip;e.take=d._take||d._pageSize;if(e.skip===b&&d._page!==b&&d._pageSize!==b){e.skip=(d._page-1)*d._pageSize}if(d.options.useRanges){e.skip=d.currentRangeStart()}}if(d.options.serverSorting!==true){e.sort=d._sort}if(d.options.serverFiltering!==true){e.filter=d._filter}if(d.options.serverGrouping!==true){e.group=d._group}if(d.options.serverAggregates!==true){e.aggregate=d._aggregate;d._aggregateResult=d._calculateAggregates(a,e)}f=d._queryProcess(a,e);d.view(f.data);if(f.total!==b&&!d.options.serverFiltering){d._total=f.total}c=c||{};c.items=c.items||d._view;d.trigger(w,c)},_queryProcess:function(a,b){if(this.options.inPlaceSort){return ca.process(a,b,this.options.inPlaceSort)}else{return ca.process(a,b)}},_mergeState:function(a){var c=this;if(a!==b){c._pageSize=a.pageSize;c._page=a.page;c._sort=a.sort;c._filter=a.filter;c._group=a.group;c._aggregate=a.aggregate;c._skip=c._currentRangeStart=a.skip;c._take=a.take;if(c._skip===b){c._skip=c._currentRangeStart=c.skip();a.skip=c.skip()}if(c._take===b&&c._pageSize!==b){c._take=c._pageSize;a.take=c._take}if(a.sort){c._sort=a.sort=da(a.sort)}if(a.filter){c._filter=a.filter=ga(a.filter)}if(a.group){c._group=a.group=ma(a.group)}if(a.aggregate){c._aggregate=a.aggregate=la(a.aggregate)}}return a},query:function(c){var d;var e=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;if(e||(this._data===b||this._data.length===0)&&!this._destroyed.length){if(this.options.endless){var f=c.pageSize-this.pageSize();if(f>0){f=this.pageSize();c.page=c.pageSize/f;c.pageSize=f}else{c.page=1;this.options.endless=false}}return this.read(this._mergeState(c))}var g=this.trigger(A,{type:"read"});if(!g){this.trigger(B);d=this._queryProcess(this._data,this._mergeState(c));if(!this.options.serverFiltering){if(d.total!==b){this._total=d.total}else{this._total=this._data.length}}this._aggregateResult=this._calculateAggregates(this._data,c);this.view(d.data);this.trigger(C,{type:"read"});this.trigger(w,{items:d.data})}return a.Deferred().resolve(g).promise()},fetch:function(a){var b=this;var c=function(c){if(c!==true&&n(a)){a.call(b)}};return this._query().then(c)},_query:function(a){var b=this;return b.query(c({},{page:b.page(),pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate()},a))},next:function(a){var b=this,c=b.page(),d=b.total();a=a||{};if(!c||d&&c+1>b.totalPages()){return}b._skip=b._currentRangeStart=c*b.take();c+=1;a.page=c;b._query(a);return c},prev:function(a){var b=this,c=b.page();a=a||{};if(!c||c===1){return}b._skip=b._currentRangeStart=b._skip-b.take();c-=1;a.page=c;b._query(a);return c},page:function(a){var c=this,d;if(a!==b){a=H.max(H.min(H.max(a,1),c.totalPages()),1);c._query({page:a});return}d=c.skip();return d!==b?H.round((d||0)/(c.take()||1))+1:b},pageSize:function(a){var c=this;if(a!==b){c._query({pageSize:a,page:1});return}return c.take()},sort:function(a){var c=this;if(a!==b){c._query({sort:a});return}return c._sort},filter:function(a){var c=this;if(a===b){return c._filter}c.trigger("reset");c._query({filter:a,page:1})},group:function(a){var c=this;if(a!==b){c._query({group:a});return}return c._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a){var c=this;if(a!==b){c._query({aggregate:a});return}return c._aggregate},aggregates:function(){var a=this._aggregateResult;if(f(a)){a=this._emptyAggregates(this.aggregate())}return a},_emptyAggregates:function(a){var b={};if(!f(a)){var c={};if(!g(a)){a=[a]}for(var d=0;d<a.length;d++){c[a[d].aggregate]=0;b[a[d].field]=c}}return b},_wrapInEmptyGroup:function(a){var b=this.group(),c,d,e,f;for(e=b.length-1,f=0;e>=f;e--){d=b[e];c={value:a.get(d.field),field:d.field,items:c?[c]:[a],hasSubgroups:!!c,aggregates:this._emptyAggregates(d.aggregates)}}return c},totalPages:function(){var a=this,b=a.pageSize()||a.total();return H.ceil((a.total()||0)/b)},inRange:function(a,b){var c=this,d=H.min(a+b,c.total());if(!c.options.serverPaging&&c._data.length>0){return true}return c._findRange(a,d).length>0},lastRange:function(){var a=this._ranges;return a[a.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a=this._ranges;return a.length&&a[0].data.length&&a[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=false},_timeStamp:function(){return(new Date).getTime()},range:function(a,c,d){this._currentRequestTimeStamp=this._timeStamp();this._skipRequestsInProgress=true;a=H.min(a||0,this.total());d=n(d)?d:l;var e=this,f=H.max(H.floor(a/c),0)*c,g=H.min(f+c,e.total()),h;h=e._findRange(a,H.min(a+c,e.total()));if(h.length||e.total()===0){e._processRangeData(h,a,c,f,g);d();return}if(c!==b){if(!e._rangeExists(f,g)){e.prefetch(f,c,function(){if(a>f&&g<e.total()&&!e._rangeExists(g,H.min(g+c,e.total()))){e.prefetch(g,c,function(){e.range(a,c,d)})}else{e.range(a,c,d)}})}else if(f<a){e.prefetch(g,c,function(){e.range(a,c,d)})}}},_findRange:function(a,c){var d=this,e=d._ranges,f,g=[],h,i,j,k,l,m,n,o=d.options,p=o.serverSorting||o.serverPaging||o.serverFiltering||o.serverGrouping||o.serverAggregates,q,r,s;for(h=0,s=e.length;h<s;h++){f=e[h];if(a>=f.start&&a<=f.end){r=0;for(i=h;i<s;i++){f=e[i];q=d._flatData(f.data,true);if(q.length&&a+r>=f.start){l=f.data;m=f.end;if(!p){if(o.inPlaceSort){n=d._queryProcess(f.data,{filter:d.filter()})}else{var t=ma(d.group()||[]).concat(da(d.sort()||[]));n=d._queryProcess(f.data,{sort:t,filter:d.filter()})}q=l=n.data;if(n.total!==b){m=n.total}}j=0;if(a+r>f.start){j=a+r-f.start}k=q.length;if(m>c){k=k-(m-c)}r+=k-j;g=d._mergeGroups(g,l,j,k);if(c<=f.end&&r==c-a){return g}}}break}}return[]},_mergeGroups:function(a,b,c,d){if(this._isServerGrouped()){var e=b.toJSON(),f;if(a.length){f=a[a.length-1]}Da(f,e,c,d);return a.concat(e)}return a.concat(b.slice(c,d))},_processRangeData:function(a,c,d,e,f){var g=this;g._pending=b;g._skip=c>g.skip()?H.min(f,(g.totalPages()-1)*g.take()):e;g._currentRangeStart=c;g._take=d;var h=g.options.serverPaging;var i=g.options.serverSorting;var j=g.options.serverFiltering;var k=g.options.serverAggregates;try{g.options.serverPaging=true;if(!g._isServerGrouped()&&!(g.group()&&g.group().length)){g.options.serverSorting=true}g.options.serverFiltering=true;g.options.serverPaging=true;g.options.serverAggregates=true;if(h){g._detachObservableParents();g._data=a=g._observe(a)}g._process(a)}finally{g.options.serverPaging=h;g.options.serverSorting=i;g.options.serverFiltering=j;g.options.serverAggregates=k}},skip:function(){var a=this;if(a._skip===b){return a._page!==b?(a._page-1)*(a.take()||1):b}return a._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,b,c,d){var e=this;var f=e._timeStamp();return function(g){var h=false,i={start:a,end:b,data:[],timestamp:e._timeStamp()},j,k,l;e._dequeueRequest();e.trigger(C,{response:g,type:"read"});g=e.reader.parse(g);l=e._readData(g);if(l.length){for(j=0,k=e._ranges.length;j<k;j++){if(e._ranges[j].start===a){h=true;i=e._ranges[j];i.pristineData=l;i.data=e._observe(l);i.end=i.start+e._flatData(i.data,true).length;e._sortRanges();break}}if(!h){e._addRange(e._observe(l),a)}}e._total=e.reader.total(g);if(d||(f>=e._currentRequestTimeStamp||!e._skipRequestsInProgress)){if(c&&l.length){c()}else{e.trigger(w,{})}}}},prefetch:function(a,b,c){var d=this,e=H.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};if(!d._rangeExists(a,e)){clearTimeout(d._timeout);d._timeout=setTimeout(function(){d._queueRequest(f,function(){if(!d.trigger(A,{type:"read"})){d.transport.read({data:d._params(f),success:d._prefetchSuccessHandler(a,e,c),error:function(){var a=N.call(arguments);d.error.apply(d,a)}})}else{d._dequeueRequest()}})},100)}else if(c){c()}},_multiplePrefetch:function(a,b,c){var d=this,e=H.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};if(!d._rangeExists(a,e)){if(!d.trigger(A,{type:"read"})){d.transport.read({data:d._params(f),success:d._prefetchSuccessHandler(a,e,c,true)})}}else if(c){c()}},_rangeExists:function(a,b){var c=this,d=c._ranges,e,f;for(e=0,f=d.length;e<f;e++){if(d[e].start<=a&&d[e].end>=b){return true}}return false},_getCurrentRangeSpan:function(){var a=this;var b=a._ranges;var c=a.currentRangeStart();var d=c+(a.take()||0);var e=[];var f;var g;var h=b.length;for(g=0;g<h;g++){f=b[g];if(f.start<=c&&f.end>=c||f.start>=c&&f.start<=d){e.push(f)}}return e},_removeModelFromRanges:function(a){var b=this;var c,d;for(var e=0,f=this._ranges.length;e<f;e++){d=this._ranges[e];this._eachItem(d.data,function(b){c=Ka(b,a)});if(c){break}}b._updateRangesLength()},_insertModelInRange:function(a,b){var c=this;var d=c._ranges||[];var e=d.length;var f;var g;for(g=0;g<e;g++){f=d[g];if(f.start<=a&&f.end>=a){if(!c._getByUid(b.uid,f.data)){if(c._isServerGrouped()){f.data.splice(a,0,c._wrapInEmptyGroup(b))}else{f.data.splice(a,0,b)}}break}}c._updateRangesLength()},_updateRangesLength:function(){var a=this;var b=a._ranges||[];var c=b.length;var d=false;var e=0;var f=0;var g;var h;for(h=0;h<c;h++){g=b[h];f=a._flatData(g.data,true).length-H.abs(g.end-g.start);if(!d&&f!==0){d=true;e=f;g.end+=e;continue}if(d){g.start+=e;g.end+=e}}}});var Sa={};Sa.create=function(b,d,f){var g,h=b.transport?a.extend({},b.transport):null;if(h){h.read=typeof h.read===q?{url:h.read}:h.read;if(b.type==="jsdo"){h.dataSource=f}if(b.type){m.data.transports=m.data.transports||{};m.data.schemas=m.data.schemas||{};if(!m.data.transports[b.type]){m.logToConsole("Unknown DataSource transport type '"+b.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn")}else if(!e(m.data.transports[b.type])){g=new m.data.transports[b.type](c(h,{data:d}))}else{h=c(true,{},m.data.transports[b.type],h)}b.schema=c(true,{},m.data.schemas[b.type],b.schema)}if(!g){g=n(h.read)?h:new ua(h)}}else{g=new ta({data:b.data||[]})}return g};Ra.create=function(a){if(g(a)||a instanceof S){a={data:a}}var d=a||{},e=d.data,h=d.fields,i=d.table,j=d.select,k,l,n={},o;if(!e&&h&&!d.transport){if(i){e=Ua(i,h)}else if(j){e=Ta(j,h);if(d.group===b&&e[0]&&e[0].optgroup!==b){d.group="optgroup"}}}if(m.data.Model&&h&&(!d.schema||!d.schema.model)){for(k=0,l=h.length;k<l;k++){o=h[k];if(o.type){n[o.field]=o}}if(!f(n)){d.schema=c(true,d.schema,{model:{fields:n}})}}d.data=e;j=null;d.select=null;i=null;d.table=null;return d instanceof Ra?d:new Ra(d)};function Ta(b,c){b=a(b)[0];var d=b.options;var e=c[0];var f=c[1];var g=[];var h,i;var j;var k;var l;var m;for(h=0,i=d.length;h<i;h++){l={};k=d[h];j=k.parentNode;if(j===b){j=null}if(k.disabled||j&&j.disabled){continue}if(j){l.optgroup=j.label}l[e.field]=k.text;m=k.attributes.value;if(m&&m.specified){m=k.value}else{m=k.text}l[f.field]=m;g.push(l)}return g}function Ua(b,c){var d=a(b)[0].tBodies[0],e=d?d.rows:[],f,g,h,i=c.length,j=[],k,l,m,n;for(f=0,g=e.length;f<g;f++){l={};n=true;k=e[f].cells;for(h=0;h<i;h++){m=k[h];if(m.nodeName.toLowerCase()!=="th"){n=false;l[c[h].field]=m.innerHTML}}if(!n){j.push(l)}}return j}var Va=$.define({idField:"id",init:function(a){var b=this,d=b.hasChildren||a&&a.hasChildren,e="items",f={};m.data.Model.fn.init.call(b,a);if(typeof b.children===q){e=b.children}f={schema:{data:e,model:{hasChildren:d,id:b.idField,fields:b.fields}}};if(typeof b.children!==q){c(f,b.children)}f.data=a;if(!d){d=f.schema.data}if(typeof d===q){d=m.getter(d)}if(n(d)){var g=d.call(b,b);if(g&&g.length===0){b.hasChildren=false}else{b.hasChildren=!!g}}b._childrenOptions=f;if(b.hasChildren){b._initChildren()}b._loaded=!!(a&&a._loaded)},_initChildren:function(){var a=this;var b,c,d;if(!(a.children instanceof Xa)){b=a.children=new Xa(a._childrenOptions);c=b.transport;d=c.parameterMap;c.parameterMap=function(b,c){b[a.idField||"id"]=a.id;if(d){b=d(b,c)}return b};b.parent=function(){return a};b.bind(w,function(b){b.node=b.node||a;a.trigger(w,b)});b.bind(z,function(b){var c=a.parent();if(c){b.node=b.node||a;c.trigger(z,b)}});a._updateChildrenField()}},append:function(a){this._initChildren();this.loaded(true);this.children.add(a)},hasChildren:false,level:function(){var a=this.parentNode(),b=0;while(a&&a.parentNode){b++;a=a.parentNode?a.parentNode():null}return b},_updateChildrenField:function(){var a=this._childrenOptions.schema.data;this[a||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=true;this._updateChildrenField()},load:function(){var c={};var e="_query";var f,g;if(this.hasChildren){this._initChildren();f=this.children;c[this.idField||"id"]=this.id;if(!this._loaded){f._data=b;e="read"}f.one(w,d(this._childrenLoaded,this));if(this._matchFilter){c.filter={field:"_matchFilter",operator:"eq",value:true}}g=f[e](c)}else{this.loaded(true)}return g||a.Deferred().resolve().promise()},parentNode:function(){var a=this.parent();return a.parent()},loaded:function(a){if(a!==b){this._loaded=a}else{return this._loaded}},shouldSerialize:function(a){return $.fn.shouldSerialize.call(this,a)&&a!=="children"&&a!=="_loaded"&&a!=="hasChildren"&&a!=="_childrenOptions"}});function Wa(a){return function(){var b=this._data,c=Ra.fn[a].apply(this,N.call(arguments));if(this._data!=b){this._attachBubbleHandlers()}return c}}var Xa=Ra.extend({init:function(a){var b=Va.define({children:a});if(a.filter&&!a.serverFiltering){this._hierarchicalFilter=a.filter;a.filter=null}Ra.fn.init.call(this,c(true,{},{schema:{modelBase:b,model:b}},a));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a=this;a._data.bind(z,function(b){a.trigger(z,b)})},read:function(a){var b=Ra.fn.read.call(this,a);if(this._hierarchicalFilter){if(this._data&&this._data.length>0){this.filter(this._hierarchicalFilter)}else{this.options.filter=this._hierarchicalFilter;this._filter=ga(this.options.filter);this._hierarchicalFilter=null}}return b},remove:function(a){var b=a.parentNode(),c=this,d;if(b&&b._initChildren){c=b.children}d=Ra.fn.remove.call(c,a);if(b&&!c.data().length){b.hasChildren=false}return d},success:Wa("success"),data:Wa("data"),insert:function(a,b){var c=this.parent();if(c&&c._initChildren){c.hasChildren=true;c._initChildren()}return Ra.fn.insert.call(this,a,b)},filter:function(a){if(a===b){return this._filter}if(!this.options.serverFiltering&&this._markHierarchicalQuery(a)){a={logic:"or",filters:[a,{field:"_matchFilter",operator:"equals",value:true}]}}this.trigger("reset");this._query({filter:a,page:1})},_markHierarchicalQuery:function(a){var b;var c;var d;var e;var f;a=ga(a);if(!a||a.filters.length===0){this._updateHierarchicalFilter(function(){return true});return false}b=ca.filterExpr(a);d=b.fields;e=b.operators;c=f=new Function("d, __f, __o","return "+b.expression);if(d.length||e.length){f=function(a){return c(a,d,e)}}this._updateHierarchicalFilter(f);return true},_updateHierarchicalFilter:function(a){var b;var c=this._data;var d=false;for(var e=0;e<c.length;e++){b=c[e];if(b.hasChildren){b._matchFilter=b.children._updateHierarchicalFilter(a);if(!b._matchFilter){b._matchFilter=a(b)}}else{b._matchFilter=a(b)}if(b._matchFilter){d=true}}return d},_find:function(a,b){var c,d,e,f;var g=this._data;if(!g){return}e=Ra.fn[a].call(this,b);if(e){return e}g=this._flatData(this._data);for(c=0,d=g.length;c<d;c++){f=g[c].children;if(!(f instanceof Xa)){continue}e=f[a](b);if(e){return e}}},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});function Ya(b,c){var d=a(b).children(),e,f,g=[],h,i=c[0].field,j=c[1]&&c[1].field,k=c[2]&&c[2].field,l=c[3]&&c[3].field,m,n,o,p,q;function r(a,b){return a.filter(b).add(a.find(b))}for(e=0,f=d.length;e<f;e++){h={_loaded:true};m=d.eq(e);o=m[0].firstChild;q=m.children();b=q.filter("ul");q=q.filter(":not(ul)");n=m.attr("data-id");if(n){h.id=n}if(o){h[i]=o.nodeType==3?o.nodeValue:q.text()}if(j){h[j]=r(q,"a").attr("href")}if(l){h[l]=r(q,"img").attr("src")}if(k){p=r(q,".k-sprite").prop("className");h[k]=p&&a.trim(p.replace("k-sprite",""))}if(b.length){h.items=Ya(b.eq(0),c)}if(m.attr("data-hasChildren")=="true"){h.hasChildren=true}g.push(h)}return g}Xa.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},c=b.data,d=b.fields,e=b.list;if(c&&c._dataSource){return c._dataSource}if(!c&&d&&!b.transport){if(e){c=Ya(e,d)}}b.data=c;return b instanceof Xa?b:new Xa(b)};var Za=m.Observable.extend({init:function(a,b,c){m.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=a;this.prefetch=!c;var d=this;a.bind("change",function(){d._change()});a.bind("reset",function(){d._reset()});this._syncWithDataSource();this.setViewSize(b)},setViewSize:function(a){this.viewSize=a;this._recalculate()},at:function(a){var b=this.pageSize,c=true;if(a>=this.total()){this.trigger("endreached",{index:a});return null}if(!this.useRanges){return this.dataSource.view()[a]}if(this.useRanges){if(a<this.dataOffset||a>=this.skip+b){c=this.range(Math.floor(a/b)*b)}if(a===this.prefetchThreshold){this._prefetch()}if(a===this.midPageThreshold){this.range(this.nextMidRange,true)}else if(a===this.nextPageThreshold){this.range(this.nextFullRange)}else if(a===this.pullBackThreshold){if(this.offset===this.skip){this.range(this.previousMidRange)}else{this.range(this.previousFullRange)}}if(c){return this.dataSource.at(a-this.dataOffset)}else{this.trigger("endreached",{index:a});return null}}},indexOf:function(a){return this.dataSource.data().indexOf(a)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a=this,b=a.pageSize,c=a.skip-a.viewSize+b,d=H.max(H.floor(c/b),0)*b;this.offset=c;this.dataSource.prefetch(d,b,function(){a._goToRange(c,true)})},range:function(a,b){if(this.offset===a){return true}var c=this,d=this.pageSize,e=H.max(H.floor(a/d),0)*d,f=this.dataSource;if(b){e+=d}if(f.inRange(a,d)){this.offset=a;this._recalculate();this._goToRange(a);return true}else if(this.prefetch){f.prefetch(e,d,function(){c.offset=a;c._recalculate();c._goToRange(a,true)});return false}return true},syncDataSource:function(){var a=this.offset;this.offset=null;this.range(a)},destroy:function(){this.unbind()},_prefetch:function(){var a=this,b=this.pageSize,c=this.skip+b,d=this.dataSource;if(!d.inRange(c,b)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:c,take:b});d.prefetch(c,b,function(){a._prefetching=false;a.trigger("prefetched",{skip:c,take:b})})}},_goToRange:function(a,b){if(this.offset!==a){return}this.dataOffset=a;this._expanding=b;this.dataSource.range(a,this.pageSize);this.dataSource.enableRequestsInProgress()},_reset:function(){this._syncPending=true},_change:function(){var a=this.dataSource;this.length=this.useRanges?a.lastRange().end:a.view().length;if(this._syncPending){this._syncWithDataSource();this._recalculate();this._syncPending=false;this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding){this.trigger("expand")}delete this._expanding},_syncWithDataSource:function(){var a=this.dataSource;this._firstItemUid=a.firstItemUid();this.dataOffset=this.offset=a.skip()||0;this.pageSize=a.pageSize();this.useRanges=a.options.serverPaging},_recalculate:function(){var a=this.pageSize,b=this.offset,c=this.viewSize,d=Math.ceil(b/a)*a;this.skip=d;this.midPageThreshold=d+a-1;this.nextPageThreshold=d+c-1;this.prefetchThreshold=d+Math.floor(a/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=d+a-c;this.nextFullRange=d;this.previousMidRange=b-c;this.previousFullRange=d-a}});var $a=m.Observable.extend({init:function(a,b){var c=this;m.Observable.fn.init.call(c);this.dataSource=a;this.batchSize=b;this._total=0;this.buffer=new Za(a,b*3);this.buffer.bind({endreached:function(a){c.trigger("endreached",{index:a.index})},prefetching:function(a){c.trigger("prefetching",{skip:a.skip,take:a.take})},prefetched:function(a){c.trigger("prefetched",{skip:a.skip,take:a.take})},reset:function(){c._total=0;c.trigger("reset")},resize:function(){c._total=Math.ceil(this.length/c.batchSize);c.trigger("resize",{total:c.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a){var b=this.buffer,c=a*this.batchSize,d=this.batchSize,e=[],f;if(b.offset>c){b.at(b.offset-1)}for(var g=0;g<d;g++){f=b.at(c+g);if(f===null){break}e.push(f)}return e},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});c(true,m.data,{readers:{json:Ba},Query:ca,DataSource:Ra,HierarchicalDataSource:Xa,Node:Va,ObservableObject:V,ObservableArray:S,LazyObservableArray:T,LocalTransport:ta,RemoteTransport:ua,Cache:va,DataReader:Ba,Model:$,Buffer:Za,BatchBuffer:$a})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.binder",["kendo.core","kendo.data"],a)})(function(){var a={id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]};(function(a,b){var c=window.kendo,d=c.Observable,e=c.data.ObservableObject,f=c.data.ObservableArray,g={}.toString,h={},i=c.Class,j=a.proxy,k="value",l="source",m="events",n="checked",o="css",p=true,q="function",r="change";(function(){var a=document.createElement("a");try{delete a.test}catch(a){p=false}})();var s=d.extend({init:function(a,b){var c=this;d.fn.init.call(c);c.source=a[0];c.parents=a;c.path=b;c.dependencies={};c.dependencies[b]=true;c.observable=c.source instanceof d;c._access=function(a){c.dependencies[a.field]=true};if(c.observable){c._change=function(a){c.change(a)};c.source.bind(r,c._change)}},_parents:function(){var b=this.parents;var c=this.get();if(c&&typeof c.parent=="function"){var d=c.parent();if(a.inArray(d,b)<0){b=[d].concat(b)}}return b},change:function(a){var b,c,d=a.field,e=this;if(e.path==="this"){e.trigger(r,a)}else{for(b in e.dependencies){if(b.indexOf(d)===0){c=b.charAt(d.length);if(!c||c==="."||c==="["){e.trigger(r,a);break}}}}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this,c=a.source,d=0,f=a.path,g=c;if(!a.observable){return g}a.start(a.source);g=c.get(f);while(g===b&&c){c=a.parents[++d];if(c instanceof e){g=c.get(f)}}if(g===b){c=a.source;while(g===b&&c){c=c.parent();if(c instanceof e){g=c.get(f)}}}if(typeof g==="function"){d=f.lastIndexOf(".");if(d>0){c=c.get(f.substring(0,d))}a.start(c);if(c!==a.source){g=g.call(c,a.source)}else{g=g.call(c)}a.stop(c)}if(c&&c!==a.source){a.currentSource=c;c.unbind(r,a._change).bind(r,a._change)}a.stop(a.source);return g},set:function(a){var b=this.currentSource||this.source;var d=c.getter(this.path)(b);if(typeof d==="function"){if(b!==this.source){d.call(b,this.source,a)}else{d.call(b,a)}}else{b.set(this.path,a)}},destroy:function(){if(this.observable){this.source.unbind(r,this._change);if(this.currentSource){this.currentSource.unbind(r,this._change)}}this.unbind()}});var t=s.extend({get:function(){var a=this.source,b=this.path,c=0,d;d=a.get(b);while(!d&&a){a=this.parents[++c];if(a instanceof e){d=a.get(b)}}return j(d,a)}});var u=s.extend({init:function(a,b,c){var d=this;s.fn.init.call(d,a,b);d.template=c},render:function(a){var b;this.start(this.source);b=c.render(this.template,a);this.stop(this.source);return b}});var v=i.extend({init:function(a,b,c){this.element=a;this.bindings=b;this.options=c},bind:function(a,b){var c=this;a=b?a[b]:a;a.bind(r,function(a){c.refresh(b||a)});c.refresh(b)},destroy:function(){}});var w=v.extend({dataType:function(){var a=this.element.getAttribute("data-type")||this.element.type||"text";return a.toLowerCase()},parsedValue:function(){return this._parseValue(this.element.value,this.dataType())},_parseValue:function(a,b){if(b=="date"){a=c.parseDate(a,"yyyy-MM-dd")}else if(b=="datetime-local"){a=c.parseDate(a,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"])}else if(b=="number"){a=c.parseFloat(a)}else if(b=="boolean"){a=a.toLowerCase();if(c.parseFloat(a)!==null){a=Boolean(c.parseFloat(a))}else{a=a.toLowerCase()==="true"}}return a}});h.attr=v.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}});h.css=v.extend({init:function(a,b,c){v.fn.init.call(this,a,b,c);this.classes={}},refresh:function(b){var c=a(this.element),d=this.bindings.css[b],e=this.classes[b]=d.get();if(e){c.addClass(b)}else{c.removeClass(b)}}});h.style=v.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()||""}});h.enabled=v.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});h.readonly=v.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});h.disabled=v.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});h.events=v.extend({init:function(a,b,c){v.fn.init.call(this,a,b,c);this.handlers={}},refresh:function(b){var c=a(this.element),d=this.bindings.events[b],e=this.handlers[b];if(e){c.off(b,e)}e=this.handlers[b]=d.get();c.on(b,d.source,e)},destroy:function(){var b=a(this.element),c;for(c in this.handlers){b.off(c,this.handlers[c])}}});h.text=v.extend({refresh:function(){var b=this.bindings.text.get();var d=this.element.getAttribute("data-format")||"";if(b==null){b=""}a(this.element).text(c.toString(b,d))}});h.visible=v.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});h.invisible=v.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});h.html=v.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});h.value=w.extend({init:function(b,c,d){w.fn.init.call(this,b,c,d);this._change=j(this.change,this);this.eventName=d.valueUpdate||r;a(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=r;this.bindings[k].set(this.parsedValue());this._initChange=false},refresh:function(){if(!this._initChange){
var a=this.bindings[k].get();if(a==null){a=""}var b=this.dataType();if(b=="date"){a=c.toString(a,"yyyy-MM-dd")}else if(b=="datetime-local"){a=c.toString(a,"yyyy-MM-ddTHH:mm:ss")}this.element.value=a}this._initChange=false},destroy:function(){a(this.element).off(this.eventName,this._change)}});h.source=v.extend({init:function(a,b,d){v.fn.init.call(this,a,b,d);var e=this.bindings.source.get();if(e instanceof c.data.DataSource&&d.autoBind!==false){e.fetch()}},refresh:function(a){var b=this,d=b.bindings.source.get();if(d instanceof f||d instanceof c.data.DataSource){a=a||{};if(a.action=="add"){b.add(a.index,a.items)}else if(a.action=="remove"){b.remove(a.index,a.items)}else if(a.action!="itemchange"){b.render()}}else{b.render()}},container:function(){var a=this.element;if(a.nodeName.toLowerCase()=="table"){if(!a.tBodies[0]){a.appendChild(document.createElement("tbody"))}a=a.tBodies[0]}return a},template:function(){var a=this.options,b=a.template,d=this.container().nodeName.toLowerCase();if(!b){if(d=="select"){if(a.valueField||a.textField){b=c.format('<option value="#:{0}#">#:{1}#</option>',a.valueField||a.textField,a.textField||a.valueField)}else{b="<option>#:data#</option>"}}else if(d=="tbody"){b="<tr><td>#:data#</td></tr>"}else if(d=="ul"||d=="ol"){b="<li>#:data#</li>"}else{b="#:data#"}b=c.template(b)}return b},add:function(b,d){var e=this.container(),f,g,h,i,j=e.cloneNode(false),k=e.children[b];a(j).html(c.render(this.template(),d));if(j.children.length){f=this.bindings.source._parents();for(g=0,h=d.length;g<h;g++){i=j.children[0];e.insertBefore(i,k||null);G(i,d[g],this.options.roles,[d[g]].concat(f))}}},remove:function(a,b){var c,d=this.container();for(c=0;c<b.length;c++){var e=d.children[a];J(e,true);if(e.parentNode==d){d.removeChild(e)}}},render:function(){var b=this.bindings.source.get(),d,e,h,i=this.container(),j=this.template();if(b==null){return}if(b instanceof c.data.DataSource){b=b.view()}if(!(b instanceof f)&&g.call(b)!=="[object Array]"){b=[b]}if(this.bindings.template){K(i,true);a(i).html(this.bindings.template.render(b));if(i.children.length){d=this.bindings.source._parents();for(e=0,h=b.length;e<h;e++){G(i.children[e],b[e],this.options.roles,[b[e]].concat(d))}}}else{a(i).html(c.render(j,b))}}});h.input={checked:w.extend({init:function(b,c,d){w.fn.init.call(this,b,c,d);this._change=j(this.change,this);a(this.element).change(this._change)},change:function(){var a=this.element;var b=this.value();if(a.type=="radio"){b=this.parsedValue();this.bindings[n].set(b)}else if(a.type=="checkbox"){var c=this.bindings[n].get();var d;if(c instanceof f){b=this.parsedValue();if(b instanceof Date){for(var e=0;e<c.length;e++){if(c[e]instanceof Date&&+c[e]===+b){d=e;break}}}else{d=c.indexOf(b)}if(d>-1){c.splice(d,1)}else{c.push(b)}}else{this.bindings[n].set(b)}}},refresh:function(){var a=this.bindings[n].get(),b=a,d=this.dataType(),e=this.element;if(e.type=="checkbox"){if(b instanceof f){var g=-1;a=this.parsedValue();if(a instanceof Date){for(var h=0;h<b.length;h++){if(b[h]instanceof Date&&+b[h]===+a){g=h;break}}}else{g=b.indexOf(a)}e.checked=g>=0}else{e.checked=b}}else if(e.type=="radio"){if(d=="date"){a=c.toString(a,"yyyy-MM-dd")}else if(d=="datetime-local"){a=c.toString(a,"yyyy-MM-ddTHH:mm:ss")}if(a!==null&&typeof a!=="undefined"&&e.value===a.toString()){e.checked=true}else{e.checked=false}}},value:function(){var a=this.element,b=a.value;if(a.type=="checkbox"){b=a.checked}return b},destroy:function(){a(this.element).off(r,this._change)}})};h.select={source:h.source.extend({refresh:function(d){var e=this,g=e.bindings.source.get();if(g instanceof f||g instanceof c.data.DataSource){d=d||{};if(d.action=="add"){e.add(d.index,d.items)}else if(d.action=="remove"){e.remove(d.index,d.items)}else if(d.action=="itemchange"||d.action===b){e.render();if(e.bindings.value){if(e.bindings.value){var h=N(e.bindings.value.get(),a(e.element).data("valueField"));if(h===null){e.element.selectedIndex=-1}else{e.element.value=h}}}}}else{e.render()}}}),value:w.extend({init:function(b,c,d){w.fn.init.call(this,b,c,d);this._change=j(this.change,this);a(this.element).change(this._change)},parsedValue:function(){var a=this.dataType();var b=[];var c,d,e,f;for(e=0,f=this.element.options.length;e<f;e++){d=this.element.options[e];if(d.selected){c=d.attributes.value;if(c&&c.specified){c=d.value}else{c=d.text}b.push(this._parseValue(c,a))}}return b},change:function(){var a=[],d=this.element,g,h=this.options.valueField||this.options.textField,i=this.options.valuePrimitive,j,l,m,n,o;for(n=0,o=d.options.length;n<o;n++){j=d.options[n];if(j.selected){m=j.attributes.value;if(m&&m.specified){m=j.value}else{m=j.text}if(h){a.push(m)}else{a.push(this._parseValue(m,this.dataType()))}}}if(h){g=this.bindings.source.get();if(g instanceof c.data.DataSource){g=g.view()}for(l=0;l<a.length;l++){for(n=0,o=g.length;n<o;n++){var p=g[n].get(h);var q=String(p)===a[l];if(q){a[l]=g[n];break}}}}m=this.bindings[k].get();if(m instanceof f){m.splice.apply(m,[0,m.length].concat(a))}else if(!i&&(m instanceof e||m===null||m===b||!h)){this.bindings[k].set(a[0])}else{this.bindings[k].set(a[0].get(h))}},refresh:function(){var a,b=this.element,d=b.options,g=this.bindings[k].get(),h=g,i=this.options.valueField||this.options.textField,j=false,l=this.dataType(),m;if(!(h instanceof f)){h=new f([g])}b.selectedIndex=-1;for(var n=0;n<h.length;n++){g=h[n];if(i&&g instanceof e){g=g.get(i)}if(l=="date"){g=c.toString(h[n],"yyyy-MM-dd")}else if(l=="datetime-local"){g=c.toString(h[n],"yyyy-MM-ddTHH:mm:ss")}for(a=0;a<d.length;a++){m=d[a].value;if(m===""&&g!==""){m=d[a].text}if(g!=null&&m==g.toString()){d[a].selected=true;j=true}}}},destroy:function(){a(this.element).off(r,this._change)}})};function x(b,d,e){return v.extend({init:function(a,b,c){var d=this;v.fn.init.call(d,a.element[0],b,c);d.widget=a;d._dataBinding=j(d.dataBinding,d);d._dataBound=j(d.dataBound,d);d._itemChange=j(d.itemChange,d)},itemChange:function(a){G(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings[b]._parents()))},dataBinding:function(a){var b,c,d=this.widget,e=a.removedItems||d.items();for(b=0,c=e.length;b<c;b++){J(e[b],false)}},_ns:function(b){b=b||c.ui;var d=[c.ui,c.dataviz.ui,c.mobile.ui];d.splice(a.inArray(b,d),1);d.unshift(b);return c.rolesFromNamespaces(d)},dataBound:function(a){var e,f,g=this.widget,h=a.addedItems||g.items(),i=g[d],j,k,l=c.data.HierarchicalDataSource;if(l&&i instanceof l){return}if(h.length){j=a.addedDataItems||i.flatView();k=this.bindings[b]._parents();for(e=0,f=j.length;e<f;e++){if(h[e]){G(h[e],j[e],this._ns(a.ns),[j[e]].concat(k))}}}},refresh:function(a){var f=this,g,h=f.widget,i,j,k;a=a||{};if(!a.action){f.destroy();h.bind("dataBinding",f._dataBinding);h.bind("dataBound",f._dataBound);h.bind("itemChange",f._itemChange);g=f.bindings[b].get();if(h[d]instanceof c.data.DataSource&&h[d]!=g){if(g instanceof c.data.DataSource){h[e](g)}else if(g&&g._dataSource){h[e](g._dataSource)}else{i=c.ui.Select&&h instanceof c.ui.Select;j=c.ui.MultiSelect&&h instanceof c.ui.MultiSelect;k=c.ui.DropDownTree&&h instanceof c.ui.DropDownTree;if(!k){h[d].data(g)}else{h.treeview[d].data(g)}if(f.bindings.value&&(i||j)){h.value(N(f.bindings.value.get(),h.options.dataValueField))}}}}},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding);a.unbind("dataBound",this._dataBound);a.unbind("itemChange",this._itemChange)}})}h.widget={events:v.extend({init:function(a,b,c){v.fn.init.call(this,a.element[0],b,c);this.widget=a;this.handlers={}},refresh:function(a){var b=this.bindings.events[a],c=this.handlers[a];if(c){this.widget.unbind(a,c)}c=b.get();this.handlers[a]=function(a){a.data=b.source;c(a);if(a.data===b.source){delete a.data}};this.widget.bind(a,this.handlers[a])},destroy:function(){var a;for(a in this.handlers){this.widget.unbind(a,this.handlers[a])}}}),checked:v.extend({init:function(a,b,c){v.fn.init.call(this,a.element[0],b,c);this.widget=a;this._change=j(this.change,this);this.widget.bind(r,this._change)},change:function(){this.bindings[n].set(this.value())},refresh:function(){this.widget.check(this.bindings[n].get()===true)},value:function(){var a=this.element,b=a.value;if(b=="on"||b=="off"){b=a.checked}return b},destroy:function(){this.widget.unbind(r,this._change)}}),visible:v.extend({init:function(a,b,c){v.fn.init.call(this,a.element[0],b,c);this.widget=a},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:v.extend({init:function(a,b,c){v.fn.init.call(this,a.element[0],b,c);this.widget=a},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=a?"none":""}}),enabled:v.extend({init:function(a,b,c){v.fn.init.call(this,a.element[0],b,c);this.widget=a},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:v.extend({init:function(a,b,c){v.fn.init.call(this,a.element[0],b,c);this.widget=a},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:x("source","dataSource","setDataSource"),value:v.extend({init:function(b,c,d){v.fn.init.call(this,b.element[0],c,d);this.widget=b;this._change=a.proxy(this.change,this);this.widget.first(r,this._change);var g=this.bindings.value.get();this._valueIsObservableObject=!d.valuePrimitive&&(g==null||g instanceof e);this._valueIsObservableArray=g instanceof f;this._initChange=false},_source:function(){var a;if(this.widget.dataItem){a=this.widget.dataItem();if(a&&a instanceof e){return[a]}}if(this.bindings.source){a=this.bindings.source.get()}if(!a||a instanceof c.data.DataSource){a=this.widget.dataSource.flatView()}return a},change:function(){var a=this.widget.value(),b=this.options.dataValueField||this.options.dataTextField,c=g.call(a)==="[object Array]",d=this._valueIsObservableObject,e,f,h=[],i,j,k,l,m;this._initChange=true;if(b){if(a===""&&(d||this.options.valuePrimitive)){a=null}else{m=this._source();if(c){f=a.length;h=a.slice(0)}for(k=0,l=m.length;k<l;k++){i=m[k];j=i.get(b);if(c){for(e=0;e<f;e++){if(j==h[e]){h[e]=i;break}}}else if(j==a){a=d?i:j;break}}if(h[0]){if(this._valueIsObservableArray){a=h}else if(d||!b){a=h[0]}else{a=h[0].get(b)}}}}this.bindings.value.set(a);this._initChange=false},refresh:function(){if(!this._initChange){var a=this.widget;var c=a.options;var d=c.dataTextField;var g=c.dataValueField||d;var h=this.bindings.value.get();var i=c.text||"";var j=0,k;var l=[];if(h===b){h=null}if(g){if(h instanceof f){for(k=h.length;j<k;j++){l[j]=h[j].get(g)}h=l}else if(h instanceof e){i=h.get(d);h=h.get(g)}}if(c.autoBind===false&&!c.cascadeFrom&&a.listView&&!a.listView.bound()){if(d===g&&!i){i=h}if(!i&&(h||h===0)&&c.valuePrimitive){a.value(h)}else{a._preselect(h,i)}}else{a.value(h)}}this._initChange=false},destroy:function(){this.widget.unbind(r,this._change)}}),dropdowntree:{value:v.extend({init:function(b,c,d){v.fn.init.call(this,b.element[0],c,d);this.widget=b;this._change=a.proxy(this.change,this);this.widget.first(r,this._change);this._initChange=false},change:function(){var a=this,c=a.bindings[k].get(),d=a.options.valuePrimitive,e=a.widget.treeview.select(),g=a.widget._isMultipleSelection()?a.widget._getAllChecked():a.widget.treeview.dataItem(e)||a.widget.value(),h=d||a.widget.options.autoBind===false?a.widget.value():g;var i=this.options.dataValueField||this.options.dataTextField;h=h.slice?h.slice(0):h;a._initChange=true;if(c instanceof f){var j=[];var l=h.length;var m=0,n=0;var o=c[m];var p=false;var q;var r;var s;while(o!==b){s=false;for(n=0;n<l;n++){if(d){p=h[n]==o}else{r=h[n];r=r.get?r.get(i):r;p=r==(o.get?o.get(i):o)}if(p){h.splice(n,1);l-=1;s=true;break}}if(!s){j.push(o);y(c,m,1);q=m}else{m+=1}o=c[m]}y(c,c.length,0,h);if(j.length){c.trigger("change",{action:"remove",items:j,index:q})}if(h.length){c.trigger("change",{action:"add",items:h,index:c.length-1})}}else{a.bindings[k].set(h)}a._initChange=false},refresh:function(){if(!this._initChange){var a=this.options,b=this.widget,c=a.dataValueField||a.dataTextField,d=this.bindings.value.get(),g=d,h=0,i,j=[],k;if(c){if(d instanceof f){for(i=d.length;h<i;h++){k=d[h];j[h]=k.get?k.get(c):k}d=j}else if(d instanceof e){d=d.get(c)}}if(a.autoBind===false&&a.valuePrimitive!==true){b._preselect(g,d)}else{b.value(d)}}},destroy:function(){this.widget.unbind(r,this._change)}})},gantt:{dependencies:x("dependencies","dependencies","setDependenciesDataSource")},multiselect:{value:v.extend({init:function(b,c,d){v.fn.init.call(this,b.element[0],c,d);this.widget=b;this._change=a.proxy(this.change,this);this.widget.first(r,this._change);this._initChange=false},change:function(){var a=this,c=a.bindings[k].get(),d=a.options.valuePrimitive,e=d?a.widget.value():a.widget.dataItems();var g=this.options.dataValueField||this.options.dataTextField;e=e.slice(0);a._initChange=true;if(c instanceof f){var h=[];var i=e.length;var j=0,l=0;var m=c[j];var n=false;var o;var p;var q;while(m!==b){q=false;for(l=0;l<i;l++){if(d){n=e[l]==m}else{p=e[l];p=p.get?p.get(g):p;n=p==(m.get?m.get(g):m)}if(n){e.splice(l,1);i-=1;q=true;break}}if(!q){h.push(m);y(c,j,1);o=j}else{j+=1}m=c[j]}y(c,c.length,0,e);if(h.length){c.trigger("change",{action:"remove",items:h,index:o})}if(e.length){c.trigger("change",{action:"add",items:e,index:c.length-1})}}else{a.bindings[k].set(e)}a._initChange=false},refresh:function(){if(!this._initChange){var a=this.options,c=this.widget,d=a.dataValueField||a.dataTextField,g=this.bindings.value.get(),h=g,i=0,j,k=[],l;if(g===b){g=null}if(d){if(g instanceof f){for(j=g.length;i<j;i++){l=g[i];k[i]=l.get?l.get(d):l}g=k}else if(g instanceof e){g=g.get(d)}}if(a.autoBind===false&&a.valuePrimitive!==true&&!c._isBound()){c._preselect(h,g)}else{c.value(g)}}},destroy:function(){this.widget.unbind(r,this._change)}})},scheduler:{source:x("source","dataSource","setDataSource").extend({dataBound:function(a){var b;var c;var d=this.widget;var e=a.addedItems||d.items();var f,g;if(e.length){f=a.addedDataItems||d.dataItems();g=this.bindings.source._parents();for(b=0,c=f.length;b<c;b++){G(e[b],f[b],this._ns(a.ns),[f[b]].concat(g))}}}})}};var y=function(a,b,c,d){d=d||[];c=c||0;var e=d.length;var f=a.length;var g=[].slice.call(a,b+c);var h=g.length;var i;if(e){e=b+e;i=0;for(;b<e;b++){a[b]=d[i];i++}a.length=e}else if(c){a.length=b;c+=b;while(b<c){delete a[--c]}}if(h){h=b+h;i=0;for(;b<h;b++){a[b]=g[i];i++}a.length=h}b=a.length;while(b<f){delete a[b];b++}};var z=i.extend({init:function(a,b){this.target=a;this.options=b;this.toDestroy=[]},bind:function(a){var b,c,d,e,f,g,h=this instanceof A,i=this.binders();for(b in a){if(b==k){c=true}else if(b==l){d=true}else if(b==m&&!h){e=true}else if(b==n){f=true}else if(b==o){g=true}else{this.applyBinding(b,a,i)}}if(d){this.applyBinding(l,a,i)}if(c){this.applyBinding(k,a,i)}if(f){this.applyBinding(n,a,i)}if(e&&!h){this.applyBinding(m,a,i)}if(g&&!h){this.applyBinding(o,a,i)}},binders:function(){return h[this.target.nodeName.toLowerCase()]||{}},applyBinding:function(a,b,c){var d=c[a]||h[a],e=this.toDestroy,f,g=b[a];if(d){d=new d(this.target,b,this.options);e.push(d);if(g instanceof s){d.bind(g);e.push(g)}else{for(f in g){d.bind(g,f);e.push(g[f])}}}else if(a!=="template"){throw new Error("The "+a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}},destroy:function(){var a,b,c=this.toDestroy;for(a=0,b=c.length;a<b;a++){c[a].destroy()}}});var A=z.extend({binders:function(){return h.widget[this.target.options.name.toLowerCase()]||{}},applyBinding:function(a,b,c){var d=c[a]||h.widget[a],e=this.toDestroy,f,g=b[a];if(d){d=new d(this.target,b,this.target.options);e.push(d);if(g instanceof s){d.bind(g);e.push(g)}else{for(f in g){d.bind(g,f);e.push(g[f])}}}else{throw new Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget")}}});function B(a,b){var d=c.initWidget(a,{},b);if(d){return new A(d)}}var C=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,D=/\s/g;function E(a){var b={},c,d,e,f,g,h,i;i=a.match(C);for(c=0,d=i.length;c<d;c++){e=i[c];f=e.indexOf(":");g=e.substring(0,f);h=e.substring(f+1);if(h.charAt(0)=="{"){h=E(h)}b[g]=h}return b}function F(a,b,c){var d,e={};for(d in a){e[d]=new c(b,a[d])}return e}function G(a,b,d,e){if(!a||a.getAttribute("data-"+c.ns+"stop")){return}var f=a.getAttribute("data-"+c.ns+"role"),g,h=a.getAttribute("data-"+c.ns+"bind"),i=[],j=true,k,l={},m;e=e||[b];if(f||h){I(a,false)}if(f){m=B(a,d)}if(h){h=E(h.replace(D,""));if(!m){l=c.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:r,valuePrimitive:false,autoBind:true},b);l.roles=d;m=new z(a,l)}m.source=b;k=F(h,e,s);if(l.template){k.template=new u(e,"",l.template)}if(k.click){h.events=h.events||{};h.events.click=h.click;k.click.destroy();delete k.click}if(k.source){j=false}if(h.attr){k.attr=F(h.attr,e,s)}if(h.style){k.style=F(h.style,e,s)}if(h.events){k.events=F(h.events,e,t)}if(h.css){k.css=F(h.css,e,s)}m.bind(k)}if(m){a.kendoBindingTarget=m}var n=a.children;if(j&&n){for(g=0;g<n.length;g++){i[g]=n[g]}for(g=0;g<i.length;g++){G(i[g],b,d,e)}}}function H(b,d){var e,f,g,h=c.rolesFromNamespaces([].slice.call(arguments,2));d=c.observable(d);b=a(b);for(e=0,f=b.length;e<f;e++){g=b[e];if(g.nodeType===1){G(g,d,h)}}}function I(b,d){var e=b.kendoBindingTarget;if(e){e.destroy();if(p){delete b.kendoBindingTarget}else if(b.removeAttribute){b.removeAttribute("kendoBindingTarget")}else{b.kendoBindingTarget=null}}if(d){var f=c.widgetInstance(a(b));if(f&&typeof f.destroy===q){f.destroy()}}}function J(a,b){I(a,b);K(a,b)}function K(a,b){var c=a.children;if(c){for(var d=0,e=c.length;d<e;d++){J(c[d],b)}}}function L(b){var c,d;b=a(b);for(c=0,d=b.length;c<d;c++){J(b[c],false)}}function M(a,b){var c=a.element,d=c[0].kendoBindingTarget;if(d){H(c,d.source,b)}}function N(a,b){var c=[];var d=0;var g;var h;if(!b){return a}if(a instanceof f){for(g=a.length;d<g;d++){h=a[d];c[d]=h.get?h.get(b):h[b]}a=c}else if(a instanceof e){a=a.get(b)}return a}c.unbind=L;c.bind=H;c.data.binders=h;c.data.Binder=v;c.notify=M;c.observable=function(a){if(!(a instanceof e)){a=new e(a)}return a};c.observableHierarchy=function(a){var b=c.data.HierarchicalDataSource.create(a);function d(a){var b,c;for(b=0;b<a.length;b++){a[b]._initChildren();c=a[b].children;c.fetch();a[b].items=c.data();d(a[b].items)}}b.fetch();d(b.data());b._data._dataSource=b;return b._data}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.fx",["kendo.core"],a)})(function(){var a={id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.effects,e=a.each,f=a.extend,g=a.proxy,h=c.support,i=h.browser,j=h.transforms,k=h.transitions,l={scale:0,scalex:0,scaley:0,scale3d:0},m={translate:0,translatex:0,translatey:0,translate3d:0},n=typeof document.documentElement.style.zoom!=="undefined"&&!j,o=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,p=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,q=/translatex?$/i,r=/(zoom|fade|expand)(\w+)/,s=/(zoom|fade|expand)/,t=/[xy]$/i,u=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],v=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],w={rotate:"deg",scale:"",skew:"px",translate:"px"},x=j.css,y=Math.round,z="",A="px",B="none",C="auto",D="width",E="height",F="hidden",G="origin",H="abortId",I="overflow",J="translate",K="position",L="completeCallback",M=x+"transition",N=x+"transform",O=x+"backface-visibility",P=x+"perspective",Q="1500px",R="perspective("+Q+")",S={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};c.directions=S;f(a.fn,{kendoStop:function(a,b){if(k){return d.stopQueue(this,a||false,b||false)}else{return this.stop(a,b)}}});if(j&&!k){e(v,function(b,c){a.fn[c]=function(b){if(typeof b=="undefined"){return Z(this,c)}else{var d=a(this)[0],e=c+"("+b+w[c.replace(t,"")]+")";if(d.style.cssText.indexOf(N)==-1){a(this).css(N,e)}else{d.style.cssText=d.style.cssText.replace(new RegExp(c+"\\(.*?\\)","i"),e)}}return this};a.fx.step[c]=function(b){a(b.elem)[c](b.now)}});var T=a.fx.prototype.cur;a.fx.prototype.cur=function(){if(v.indexOf(this.prop)!=-1){return parseFloat(a(this.elem)[this.prop]())}return T.apply(this,arguments)}}c.toggleClass=function(a,b,c,d){if(b){b=b.split(" ");if(k){c=f({exclusive:"all",duration:400,ease:"ease-out"},c);a.css(M,c.exclusive+" "+c.duration+"ms "+c.ease);setTimeout(function(){a.css(M,"").css(E)},c.duration)}e(b,function(b,c){a.toggleClass(c,d)})}return a};c.parseEffects=function(a,b){var c={};if(typeof a==="string"){e(a.split(" "),function(a,d){var e=!s.test(d),f=d.replace(r,function(a,b,c){return b+":"+c.toLowerCase()}),g=f.split(":"),h=g[1],i={};if(g.length>1){i.direction=b&&e?S[h].reverse:h}c[g[0]]=i})}else{e(a,function(a){var d=this.direction;if(d&&b&&!s.test(a)){this.direction=S[d].reverse}c[a]=this})}return c};function U(a){return parseInt(a,10)}function V(a,b){return U(a.css(b))}function W(a){var b=[];for(var c in a){b.push(c)}return b}function X(a){for(var b in a){if(u.indexOf(b)!=-1&&v.indexOf(b)==-1){delete a[b]}}return a}function Y(a,b){var c=[],d={},e,f,g,i;for(f in b){e=f.toLowerCase();i=j&&u.indexOf(e)!=-1;if(!h.hasHW3D&&i&&v.indexOf(e)==-1){delete b[f]}else{g=b[f];if(i){c.push(f+"("+g+")")}else{d[f]=g}}}if(c.length){d[N]=c.join(" ")}return d}if(k){f(d,{transition:function(b,c,d){var e,g=0,h=b.data("keys")||[],i;d=f({duration:200,ease:"ease-out",complete:null,exclusive:"all"},d);var j=false;var l=function(){if(!j){j=true;if(i){clearTimeout(i);i=null}b.removeData(H).dequeue().css(M,"").css(M);d.complete.call(b)}};d.duration=a.fx?a.fx.speeds[d.duration]||d.duration:d.duration;e=Y(b,c);a.merge(h,W(e));b.data("keys",a.unique(h)).height();b.css(M,d.exclusive+" "+d.duration+"ms "+d.ease).css(M);b.css(e).css(N);if(k.event){b.one(k.event,l);if(d.duration!==0){g=500}}i=setTimeout(l,d.duration+g);b.data(H,i);b.data(L,l)},stopQueue:function(a,b,d){var e,f=a.data("keys"),g=!d&&f,h=a.data(L);if(g){e=c.getComputedStyles(a[0],f)}if(h){h()}if(g){a.css(e)}return a.removeData("keys").stop(b)}})}function Z(a,b){if(j){var c=a.css(N);if(c==B){return b=="scale"?1:0}var d=c.match(new RegExp(b+"\\s*\\(([\\d\\w\\.]+)")),e=0;if(d){e=U(d[1])}else{d=c.match(o)||[0,0,0,0,0];b=b.toLowerCase();if(q.test(b)){e=parseFloat(d[3]/d[2])}else if(b=="translatey"){e=parseFloat(d[4]/d[2])}else if(b=="scale"){e=parseFloat(d[2])}else if(b=="rotate"){e=parseFloat(Math.atan2(d[2],d[1]))}}return e}else{return parseFloat(a.css(b))}}var $=c.Class.extend({init:function(a,b){var c=this;c.element=a;c.effects=[];c.options=b;c.restore=[]},run:function(b){var c=this,e,g,h,i=b.length,l=c.element,m=c.options,n=a.Deferred(),o={},p={},q,r,s;c.effects=b;n.done(a.proxy(c,"complete"));l.data("animating",true);for(g=0;g<i;g++){e=b[g];e.setReverse(m.reverse);e.setOptions(m);c.addRestoreProperties(e.restore);e.prepare(o,p);r=e.children();for(h=0,s=r.length;h<s;h++){r[h].duration(m.duration).run()}}for(var t in m.effects){f(p,m.effects[t].properties)}if(!l.is(":visible")){f(o,{display:l.data("olddisplay")||"block"})}if(j&&!m.reset){q=l.data("targetTransform");if(q){o=f(q,o)}}o=Y(l,o);if(j&&!k){o=X(o)}l.css(o).css(N);for(g=0;g<i;g++){b[g].setup()}if(m.init){m.init()}l.data("targetTransform",p);d.animate(l,p,f({},m,{complete:n.resolve}));return n.promise()},stop:function(){a(this.element).kendoStop(true,true)},addRestoreProperties:function(a){var b=this.element,c,d=0,e=a.length;for(;d<e;d++){c=a[d];this.restore.push(c);if(!b.data(c)){b.data(c,b.css(c))}}},restoreCallback:function(){var a=this.element;for(var b=0,c=this.restore.length;b<c;b++){var d=this.restore[b];a.css(d,a.data(d))}},complete:function(){var b=this,c=0,d=b.element,e=b.options,f=b.effects,g=f.length;d.removeData("animating").dequeue();if(e.hide){d.data("olddisplay",d.css("display")).hide()}this.restoreCallback();if(n&&!j){setTimeout(a.proxy(this,"restoreCallback"),0)}for(;c<g;c++){f[c].teardown()}if(e.completeCallback){e.completeCallback(d)}}});d.promise=function(a,b){var e=[],f,g=new $(a,b),h=c.parseEffects(b.effects),i;b.effects=h;for(var j in h){f=d[aa(j)];if(f){i=new f(a,h[j].direction);e.push(i)}}if(e[0]){g.run(e)}else{if(!a.is(":visible")){a.css({display:a.data("olddisplay")||"block"}).css("display")}if(b.init){b.init()}a.dequeue();g.complete()}};f(d,{animate:function(c,g,h){var n=h.transition!==false;delete h.transition;if(k&&"transition"in d&&n){d.transition(c,g,h)}else{if(j){c.animate(X(g),{queue:false,show:false,hide:false,duration:h.duration,complete:h.complete})}else{c.each(function(){var c=a(this),d={};e(u,function(a,e){var h,i=g?g[e]+" ":null;if(i){var k=g;if(e in l&&g[e]!==b){h=i.match(p);if(j){f(k,{scale:+h[0]})}}else{if(e in m&&g[e]!==b){var n=c.css(K),o=n=="absolute"||n=="fixed";if(!c.data(J)){if(o){c.data(J,{top:V(c,"top")||0,left:V(c,"left")||0,bottom:V(c,"bottom"),right:V(c,"right")})}else{c.data(J,{top:V(c,"marginTop")||0,left:V(c,"marginLeft")||0})}}var q=c.data(J);h=i.match(p);if(h){var r=e==J+"y"?+null:+h[1],s=e==J+"y"?+h[1]:+h[2];if(o){if(!isNaN(q.right)){if(!isNaN(r)){f(k,{right:q.right-r})}}else{if(!isNaN(r)){f(k,{left:q.left+r})}}if(!isNaN(q.bottom)){if(!isNaN(s)){f(k,{bottom:q.bottom-s})}}else{if(!isNaN(s)){f(k,{top:q.top+s})}}}else{if(!isNaN(r)){f(k,{marginLeft:q.left+r})}if(!isNaN(s)){f(k,{marginTop:q.top+s})}}}}}if(!j&&e!="scale"&&e in k){delete k[e]}if(k){f(d,k)}}});if(i.msie){delete d.scale}c.animate(d,{queue:false,show:false,hide:false,duration:h.duration,complete:h.complete})})}}}});d.animatedPromise=d.promise;var _=c.Class.extend({init:function(a,b){var c=this;c.element=a;c._direction=b;c.options={};c._additionalEffects=[];if(!c.restore){c.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(a){this._additionalEffects.push(a);return this},direction:function(a){this._direction=a;return this},duration:function(a){this._duration=a;return this},compositeRun:function(){var a=this,b=new $(a.element,{reverse:a._reverse,duration:a._duration}),c=a._additionalEffects.concat([a]);return b.run(c)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var b=this,c=b.element,e=0,g=b.restore,h=g.length,i,l=a.Deferred(),m={},n={},o,p=b.children(),q=p.length;l.done(a.proxy(b,"_complete"));c.data("animating",true);for(e=0;e<h;e++){i=g[e];if(!c.data(i)){c.data(i,c.css(i))}}for(e=0;e<q;e++){p[e].duration(b._duration).run()}b.prepare(m,n);if(!c.is(":visible")){f(m,{display:c.data("olddisplay")||"block"})}if(j){o=c.data("targetTransform");if(o){m=f(o,m)}}m=Y(c,m);if(j&&!k){m=X(m)}c.css(m).css(N);b.setup();c.data("targetTransform",n);d.animate(c,n,{duration:b._duration,complete:l.resolve});return l.promise()},stop:function(){var b=0,c=this.children(),d=c.length;for(b=0;b<d;b++){c[b].stop()}a(this.element).kendoStop(true,true);return this},restoreCallback:function(){var a=this.element;for(var b=0,c=this.restore.length;b<c;b++){var d=this.restore[b];a.css(d,a.data(d))}},_complete:function(){var b=this,c=b.element;c.removeData("animating").dequeue();b.restoreCallback();if(b.shouldHide()){c.data("olddisplay",c.css("display")).hide()}if(n&&!j){setTimeout(a.proxy(b,"restoreCallback"),0)}b.teardown()},setOptions:function(a){f(true,this.options,a)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(a){this._reverse=a;return this}});function aa(a){return a.charAt(0).toUpperCase()+a.substring(1)}function ba(a,b){var c=_.extend(b),f=c.prototype.directions;d[aa(a)]=c;d.Element.prototype[a]=function(a,b,d,e){return new c(this.element,a,b,d,e)};e(f,function(b,e){d.Element.prototype[a+aa(e)]=function(a,b,d){return new c(this.element,e,a,b,d)}})}var ca=["left","right","up","down"],da=["in","out"];ba("slideIn",{directions:ca,divisor:function(a){this.options.divisor=a;return this},prepare:function(a,b){var d=this,e,f=d.element,g=c._outerWidth,h=c._outerHeight,i=S[d._direction],k=-i.modifier*(i.vertical?h(f):g(f)),l=k/(d.options&&d.options.divisor||1)+A,m="0px";if(d._reverse){e=a;a=b;b=e}if(j){a[i.transition]=l;b[i.transition]=m}else{a[i.property]=l;b[i.property]=m}}});ba("tile",{directions:ca,init:function(a,b,c){_.prototype.init.call(this,a,b);this.options={previous:c}},previousDivisor:function(a){this.options.previousDivisor=a;return this},children:function(){var a=this,b=a._reverse,d=a.options.previous,e=a.options.previousDivisor||1,f=a._direction;var g=[c.fx(a.element).slideIn(f).setReverse(b)];if(d){g.push(c.fx(d).slideIn(S[f].reverse).divisor(e).setReverse(!b))}return g}});function ea(a,b,c,d){ba(a,{directions:da,startValue:function(a){this._startValue=a;return this},endValue:function(a){this._endValue=a;return this},shouldHide:function(){return this._shouldHide},prepare:function(a,e){var f=this,g,h,i=this._direction==="out",j=f.element.data(b),k=!(isNaN(j)||j==c);if(k){g=j}else if(typeof this._startValue!=="undefined"){g=this._startValue}else{g=i?c:d}if(typeof this._endValue!=="undefined"){h=this._endValue}else{h=i?d:c}if(this._reverse){a[b]=h;e[b]=g}else{a[b]=g;e[b]=h}f._shouldHide=e[b]===d}})}ea("fade","opacity",1,0);ea("zoom","scale",1,.01);ba("slideMargin",{prepare:function(a,b){var c=this,d=c.element,e=c.options,f=d.data(G),g=e.offset,h,i=c._reverse;if(!i&&f===null){d.data(G,parseFloat(d.css("margin-"+e.axis)))}h=d.data(G)||0;b["margin-"+e.axis]=!i?h+g:h}});ba("slideTo",{prepare:function(a,b){var c=this,d=c.element,e=c.options,f=e.offset.split(","),g=c._reverse;if(j){b.translatex=!g?f[0]:0;b.translatey=!g?f[1]:0}else{b.left=!g?f[0]:0;b.top=!g?f[1]:0}d.css("left")}});ba("expand",{directions:["horizontal","vertical"],restore:[I],prepare:function(a,c){var d=this,e=d.element,f=d.options,g=d._reverse,h=d._direction==="vertical"?E:D,i=e[0].style[h],j=e.data(h),k=parseFloat(j||i),l=y(e.css(h,C)[h]());a.overflow=F;k=f&&f.reset?l||k:k||l;c[h]=(g?0:k)+A;a[h]=(g?k:0)+A;if(j===b){e.data(h,i)}},shouldHide:function(){return this._reverse},teardown:function(){var a=this,b=a.element,c=a._direction==="vertical"?E:D,d=b.data(c);if(d==C||d===z){setTimeout(function(){b.css(c,C).css(c)},0)}}});var fa={position:"absolute",marginLeft:0,marginTop:0,scale:1};ba("transfer",{init:function(a,b){this.element=a;this.options={target:b};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,b){var c=this,e=c.element,g=d.box(e),h=d.box(c.options.target),i=Z(e,"scale"),j=d.fillScale(h,g),k=d.transformOrigin(h,g);f(a,fa);b.scale=1;e.css(N,"scale(1)").css(N);e.css(N,"scale("+i+")");a.top=g.top;a.left=g.left;a.transformOrigin=k.x+A+" "+k.y+A;if(c._reverse){a.scale=j}else{b.scale=j}}});var ga={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var ha={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function ia(a,b){var d=c.directions[b].vertical,e=a[d?E:D]()/2+"px";return ga[b].replace("$size",e)}ba("turningPage",{directions:ca,init:function(a,b,c){_.prototype.init.call(this,a,b);this._container=c},prepare:function(a,b){var d=this,e=d._reverse,f=e?S[d._direction].reverse:d._direction,g=ha[f];
a.zIndex=1;if(d._clipInHalf){a.clip=ia(d._container,c.directions[f].reverse)}a[O]=F;b[N]=R+(e?g.start:g.end);a[N]=R+(e?g.end:g.start)},setup:function(){this._container.append(this.element)},face:function(a){this._face=a;return this},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},clipInHalf:function(a){this._clipInHalf=a;return this},temporary:function(){this.element.addClass("temp-page");return this}});ba("staticPage",{directions:ca,init:function(a,b,c){_.prototype.init.call(this,a,b);this._container=c},restore:["clip"],prepare:function(a,b){var c=this,d=c._reverse?S[c._direction].reverse:c._direction;a.clip=ia(c._container,d);a.opacity=.999;b.opacity=1},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},face:function(a){this._face=a;return this}});ba("pageturn",{directions:["horizontal","vertical"],init:function(a,b,c,d){_.prototype.init.call(this,a,b);this.options={};this.options.face=c;this.options.back=d},children:function(){var a=this,b=a.options,d=a._direction==="horizontal"?"left":"top",e=c.directions[d].reverse,f=a._reverse,g,h=b.face.clone(true).removeAttr("id"),i=b.back.clone(true).removeAttr("id"),j=a.element;if(f){g=d;d=e;e=g}return[c.fx(b.face).staticPage(d,j).face(true).setReverse(f),c.fx(b.back).staticPage(e,j).setReverse(f),c.fx(h).turningPage(d,j).face(true).clipInHalf(true).temporary().setReverse(f),c.fx(i).turningPage(e,j).clipInHalf(true).temporary().setReverse(f)]},prepare:function(a,b){a[P]=Q;a.transformStyle="preserve-3d";a.opacity=.999;b.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});ba("flip",{directions:["horizontal","vertical"],init:function(a,b,c,d){_.prototype.init.call(this,a,b);this.options={};this.options.face=c;this.options.back=d},children:function(){var a=this,b=a.options,d=a._direction==="horizontal"?"left":"top",e=c.directions[d].reverse,f=a._reverse,g,h=a.element;if(f){g=d;d=e;e=g}return[c.fx(b.face).turningPage(d,h).face(true).setReverse(f),c.fx(b.back).turningPage(e,h).setReverse(f)]},prepare:function(a){a[P]=Q;a.transformStyle="preserve-3d"}});var ja=!h.mobileOS.android;var ka=".km-touch-scrollbar, .km-actionsheet-wrapper";ba("replace",{_before:a.noop,_after:a.noop,init:function(b,c,d){_.prototype.init.call(this,b);this._previous=a(c);this._transitionClass=d},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(a){this._before=a;return this},afterTransition:function(a){this._after=a;return this},_both:function(){return a().add(this._element).add(this._previous)},_containerClass:function(){var a=this._direction,b="k-fx k-fx-start k-fx-"+this._transitionClass;if(a){b+=" k-fx-"+a}if(this._reverse){b+=" k-fx-reverse"}return b},complete:function(b){if(!this.deferred||b&&a(b.target).is(ka)){return}var c=this.container;c.removeClass("k-fx-end").removeClass(this._containerClass()).off(k.event,this.completeProxy);this._previous.hide().removeClass("k-fx-current");this.element.removeClass("k-fx-next");if(ja){c.css(I,"")}if(!this.isAbsolute){this._both().css(K,"")}this.deferred.resolve();delete this.deferred},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var b=this,d=b.element,e=b._previous,f=d.parents().filter(e.parents()).first(),g=b._both(),h=a.Deferred(),i=d.css(K),j;if(!f.length){f=d.parent()}this.container=f;this.deferred=h;this.isAbsolute=i=="absolute";if(!this.isAbsolute){g.css(K,"absolute")}if(ja){j=f.css(I);f.css(I,"hidden")}if(!k){this.complete()}else{d.addClass("k-fx-hidden");f.addClass(this._containerClass());this.completeProxy=a.proxy(this,"complete");f.on(k.event,this.completeProxy);c.animationFrame(function(){d.removeClass("k-fx-hidden").addClass("k-fx-next");e.css("display","").addClass("k-fx-current");b._before(e,d);c.animationFrame(function(){f.removeClass("k-fx-start").addClass("k-fx-end");b._after(e,d)})})}return h.promise()},stop:function(){this.complete()}});var la=c.Class.extend({init:function(){var a=this;a._tickProxy=g(a._tick,a);a._started=false},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){if(!this.enabled()){return}if(!this.done()){this._started=true;c.animationFrame(this._tickProxy)}else{this.onEnd()}},enabled:function(){return true},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var a=this;if(!a._started){return}a.tick();if(!a.done()){c.animationFrame(a._tickProxy)}else{a._started=false;a.onEnd()}}});var ma=la.extend({init:function(a){var b=this;f(b,a);la.fn.init.call(b)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(a){var b=this,c=b.movable;b.initial=c[b.axis];b.delta=a.location-b.initial;b.duration=typeof a.duration=="number"?a.duration:300;b.tick=b._easeProxy(a.ease);b.startDate=new Date;b.start()},_easeProxy:function(a){var b=this;return function(){b.movable.moveAxis(b.axis,a(b.timePassed(),b.initial,b.delta,b.duration))}}});f(ma,{easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeOutBack:function(a,b,c,d,e){e=1.70158;return c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}});d.Animation=la;d.Transition=ma;d.createEffect=ba;d.box=function(b){b=a(b);var d=b.offset();d.width=c._outerWidth(b);d.height=c._outerHeight(b);return d};d.transformOrigin=function(a,b){var c=(a.left-b.left)*b.width/(b.width-a.width),d=(a.top-b.top)*b.height/(b.height-a.height);return{x:isNaN(c)?0:c,y:isNaN(d)?0:d}};d.fillScale=function(a,b){return Math.min(a.width/b.width,a.height/b.height)};d.fitScale=function(a,b){return Math.max(a.width/b.width,a.height/b.height)}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.view",["kendo.core","kendo.binder","kendo.fx"],a)})(function(){var a={id:"view",name:"View",category:"framework",description:"The View class instantiates and handles the events of a certain screen from the application.",depends:["core","binder","fx"],hidden:false};(function(a,b){var c=window.kendo,d=c.Observable,e="SCRIPT",f="init",g="show",h="hide",i="transitionStart",j="transitionEnd",k="attach",l="detach",m=/unrecognized expression/;var n=d.extend({init:function(a,b){var e=this;b=b||{};d.fn.init.call(e);e.content=a;e.id=c.guid();e.tagName=b.tagName||"div";e.model=b.model;e._wrap=b.wrap!==false;this._evalTemplate=b.evalTemplate||false;e._fragments={};e.bind([f,g,h,i,j],b)},render:function(b){var d=this,e=!d.element;if(e){d.element=d._createElement()}if(b){a(b).append(d.element)}if(e){c.bind(d.element,d.model);d.trigger(f)}if(b){d._eachFragment(k);d.trigger(g)}return d.element},clone:function(){return new o(this)},triggerBeforeShow:function(){return true},triggerBeforeHide:function(){return true},showStart:function(){this.element.css("display","")},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(a){this.trigger(i,{type:a})},afterTransition:function(a){this.trigger(j,{type:a})},hide:function(){this._eachFragment(l);this.element.detach();this.trigger(h)},destroy:function(){var a=this.element;if(a){c.unbind(a);c.destroy(a);a.remove()}},fragments:function(b){a.extend(this._fragments,b)},_eachFragment:function(a){for(var b in this._fragments){this._fragments[b][a](this,b)}},_createElement:function(){var b=this,d="<"+b.tagName+" />",f,g;try{g=a(document.getElementById(b.content)||b.content);if(g[0].tagName===e){g=g.html()}}catch(a){if(m.test(a.message)){g=b.content}}if(typeof g==="string"){g=g.replace(/^\s+|\s+$/g,"");if(b._evalTemplate){g=c.template(g)(b.model||{})}f=a(d).append(g);if(!b._wrap){f=f.contents()}}else{f=g;if(b._evalTemplate){var h=a(c.template(a("<div />").append(f.clone(true)).html())(b.model||{}));if(a.contains(document,f[0])){f.replaceWith(h)}f=h}if(b._wrap){f=f.wrapAll(d).parent()}}return f}});var o=c.Class.extend({init:function(b){a.extend(this,{element:b.element.clone(true),transition:b.transition,id:b.id});b.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:a.noop,afterTransition:a.noop});var p=n.extend({init:function(a,b){n.fn.init.call(this,a,b);this.containers={}},container:function(a){var b=this.containers[a];if(!b){b=this._createContainer(a);this.containers[a]=b}return b},showIn:function(a,b,c){this.container(a).show(b,c)},_createContainer:function(a){var b=this.render(),c=b.find(a),d;if(!c.length&&b.is(a)){if(b.is(a)){c=b}else{throw new Error("can't find a container with the specified "+a+" selector")}}d=new t(c);d.bind("accepted",function(a){a.view.render(c)});return d}});var q=n.extend({attach:function(a,b){a.element.find(b).replaceWith(this.render())},detach:function(){}});var r=/^(\w+)(:(\w+))?( (\w+))?$/;function s(a){if(!a){return{}}var b=a.match(r)||[];return{type:b[1],direction:b[3],reverse:b[5]==="reverse"}}var t=d.extend({init:function(a){d.fn.init.call(this);this.container=a;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(a,b,d){if(!a.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide()){this.trigger("after");return false}d=d||a.id;var e=this,f=a===e.view?a.clone():e.view,g=e.history,h=g[g.length-2]||{},i=h.id===d,j=b||(i?g[g.length-1].transition:a.transition),k=s(j);if(e.running){e.effect.stop()}if(j==="none"){j=null}e.trigger("accepted",{view:a});e.view=a;e.previous=f;e.running=true;if(!i){g.push({id:d,transition:j})}else{g.pop()}if(!f){a.showStart();a.showEnd();e.after();return true}if(!j||!c.effects.enabled){a.showStart();e.end()}else{a.element.addClass("k-fx-hidden");a.showStart();if(i&&!b){k.reverse=!k.reverse}e.effect=c.fx(a.element).replace(f.element,k.type).beforeTransition(function(){a.beforeTransition("show");f.beforeTransition("hide")}).afterTransition(function(){a.afterTransition("show");f.afterTransition("hide")}).direction(k.direction).setReverse(k.reverse);e.effect.run().then(function(){e.end()})}return true}});c.ViewContainer=t;c.Fragment=q;c.Layout=p;c.View=n;c.ViewClone=o})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dom",["kendo.core"],a)})(function(){var a={id:"dom",name:"Virtual DOM",category:"framework",depends:["core"],advanced:true};(function(a){function b(){this.node=null}b.prototype={remove:function(){if(this.node.parentNode){this.node.parentNode.removeChild(this.node)}this.attr={}},attr:{},text:function(){return""}};function c(){}c.prototype={nodeName:"#null",attr:{style:{}},children:[],remove:function(){}};var d=new c;function e(a,b,c){this.nodeName=a;this.attr=b||{};this.children=c||[]}e.prototype=new b;e.prototype.appendTo=function(a){var b=document.createElement(this.nodeName);var c=this.children;for(var e=0;e<c.length;e++){c[e].render(b,d)}a.appendChild(b);return b};e.prototype.render=function(a,b){var c;if(b.nodeName!==this.nodeName){b.remove();c=this.appendTo(a)}else{c=b.node;var e;var f=this.children;var g=f.length;var h=b.children;var i=h.length;if(Math.abs(i-g)>2){this.render({appendChild:function(c){a.replaceChild(c,b.node)}},d);return}for(e=0;e<g;e++){f[e].render(c,h[e]||d)}for(e=g;e<i;e++){h[e].remove()}}this.node=c;this.syncAttributes(b.attr);this.removeAttributes(b.attr)};e.prototype.syncAttributes=function(a){var b=this.attr;for(var c in b){var d=b[c];var e=a[c];if(c==="style"){this.setStyle(d,e)}else if(d!==e){this.setAttribute(c,d,e)}}};e.prototype.setStyle=function(a,b){var c=this.node;var d;if(b){for(d in a){if(a[d]!==b[d]){c.style[d]=a[d]}}}else{for(d in a){c.style[d]=a[d]}}};e.prototype.removeStyle=function(a){var b=this.attr.style||{};var c=this.node;for(var d in a){if(b[d]===undefined){c.style[d]=""}}};e.prototype.removeAttributes=function(a){var b=this.attr;for(var c in a){if(c==="style"){this.removeStyle(a.style)}else if(b[c]===undefined){this.removeAttribute(c)}}};e.prototype.removeAttribute=function(a){var b=this.node;if(a==="style"){b.style.cssText=""}else if(a==="className"){b.className=""}else{b.removeAttribute(a)}};e.prototype.setAttribute=function(a,b){var c=this.node;if(c[a]!==undefined){c[a]=b}else{c.setAttribute(a,b)}};e.prototype.text=function(){var a="";for(var b=0;b<this.children.length;++b){a+=this.children[b].text()}return a};function f(a){this.nodeValue=String(a)}f.prototype=new b;f.prototype.nodeName="#text";f.prototype.render=function(a,b){var c;if(b.nodeName!==this.nodeName){b.remove();c=document.createTextNode(this.nodeValue);a.appendChild(c)}else{c=b.node;if(this.nodeValue!==b.nodeValue){if(c.parentNode){c.nodeValue=this.nodeValue}}}this.node=c};f.prototype.text=function(){return this.nodeValue};function g(a){this.html=a}g.prototype={nodeName:"#html",attr:{},remove:function(){for(var a=0;a<this.nodes.length;a++){var b=this.nodes[a];if(b.parentNode){b.parentNode.removeChild(b)}}},render:function(a,b){if(b.nodeName!==this.nodeName||b.html!==this.html){b.remove();var c=a.lastChild;i(a,this.html);this.nodes=[];for(var d=c?c.nextSibling:a.firstChild;d;d=d.nextSibling){this.nodes.push(d)}}else{this.nodes=b.nodes.slice(0)}}};var h=document.createElement("div");function i(a,b){h.innerHTML=b;while(h.firstChild){a.appendChild(h.firstChild)}}function j(a){return new g(a)}function k(a,b,c){return new e(a,b,c)}function l(a){return new f(a)}function m(a){this.root=a;this.children=[]}m.prototype={html:j,element:k,text:l,render:function(a){var b=this.children;var c;var e;for(c=0,e=a.length;c<e;c++){var f=b[c];if(!f){f=d}else if(!f.node||!f.node.parentNode){f.remove();f=d}a[c].render(this.root,f)}for(c=e;c<b.length;c++){b[c].remove()}this.children=a}};a.dom={html:j,text:l,element:k,Tree:m,Node:b}})(window.kendo);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("ooxml/utils",["kendo.core"],a)})(function(){(function(){kendo.ooxml=kendo.ooxml||{};kendo.ooxml.createZip=function(){if(typeof JSZip==="undefined"){throw new Error("JSZip not found. Check http://docs.telerik.com/kendo-ui/framework/excel/introduction#requirements for more details.")}return new JSZip}})()},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("ooxml/kendo-ooxml",["kendo.core","ooxml/utils"],a)})(function(){(function(a){window.kendo.ooxml=window.kendo.ooxml||{};var b=kendo.ooxml;var c=a.map;var d=b.createZip;var e={toString:function(a){return a}};var f=kendo.Class.extend({});f.register=function(a){e=a};f.toString=function(a,b){return e.toString(a,b)};var g="data:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;base64,";var h={compression:"DEFLATE",type:"base64"};var i=6e4;var j=864e5;function k(a){return g+a}function l(a,b){return b.indexOf(a)}var m=JSON.parse.bind(JSON);function n(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function o(a,b){var c="";for(var d=0;d<a;++d){c+=b(d)}return c}function p(a,b){var c="";for(var d=0;d<a.length;++d){c+=b(a[d],d)}return c}var q='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r';var r=q+'\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>';var s=function(a){var b=a.creator;var c=a.lastModifiedBy;var d=a.created;var e=a.modified;return q+'\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>'+n(b)+"</dc:creator>\n   <cp:lastModifiedBy>"+n(c)+'</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">'+n(d)+'</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">'+n(e)+"</dcterms:modified>\n</cp:coreProperties>"};var t=function(a){var b=a.sheets;return q+'\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>'+b.length+'</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="'+b.length+'" baseType="lpstr">'+p(b,function(a,b){return a.options.title?"<vt:lpstr>"+n(a.options.title)+"</vt:lpstr>":"<vt:lpstr>Sheet"+(b+1)+"</vt:lpstr>"})+"</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>"};var u=function(a){var b=a.count;return q+'\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  '+o(b,function(a){return'<Override PartName="/xl/worksheets/sheet'+(a+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />'})+'\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>'};var v=function(a){var b=a.sheets;var c=a.filterNames;var d=a.userNames;return q+'\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  '+p(b,function(a,b){var c=a.options;var d=c.name||c.title||"Sheet"+(b+1);return'<sheet name="'+n(d)+'" sheetId="'+(b+1)+'" r:id="rId'+(b+1)+'" />'})+"\n  </sheets>\n  "+(c.length||d.length?"\n    <definedNames>\n      "+p(c,function(a){return'\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="'+a.localSheetId+'">'+n(a.name)+"!"+n(a.from)+":"+n(a.to)+"</definedName>"})+"\n      "+p(d,function(a){return'\n         <definedName name="'+a.name+'" hidden="'+(a.hidden?1:0)+'" '+(a.localSheetId!=null?'localSheetId="'+a.localSheetId+'"':"")+">"+n(a.value)+"</definedName>"})+"\n    </definedNames>":"")+'\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>'};var w=function(a){var b=a.frozenColumns;var c=a.frozenRows;var d=a.columns;var e=a.defaults;var f=a.data;var g=a.index;var h=a.mergeCells;var i=a.autoFilter;var j=a.filter;var k=a.showGridLines;var l=a.hyperlinks;var m=a.validations;var o=a.defaultCellStyleId;var r=a.rtl;return q+'\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   <dimension ref="A1" />\n\n   <sheetViews>\n     <sheetView '+(r?'rightToLeft="1"':"")+" "+(g===0?'tabSelected="1"':"")+' workbookViewId="0" '+(k===false?'showGridLines="0"':"")+">\n     "+(c||b?'\n       <pane state="frozen"\n         '+(b?'xSplit="'+b+'"':"")+"\n         "+(c?'ySplit="'+c+'"':"")+'\n         topLeftCell="'+(String.fromCharCode(65+(b||0))+((c||0)+1))+'"\n       />':"")+'\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" defaultRowHeight="'+(e.rowHeight?e.rowHeight*.75:15)+'"\n     '+(e.columnWidth?'defaultColWidth="'+G(e.columnWidth)+'"':"")+" />\n\n   "+(o!=null||d&&d.length>0?"\n     <cols>\n       "+(!d||!d.length?'\n         <col min="1" max="16384" style="'+o+'"\n              '+(e.columnWidth?'width="'+G(e.columnWidth)+'"':"")+" /> ":"")+"\n       "+p(d,function(a,b){var c=typeof a.index==="number"?a.index+1:b+1;if(a.width===0){return"<col "+(o!=null?'style="'+o+'"':"")+'\n                        min="'+c+'" max="'+c+'" hidden="1" customWidth="1" />'}return"<col "+(o!=null?'style="'+o+'"':"")+'\n                      min="'+c+'" max="'+c+'" customWidth="1"\n                      '+(a.autoWidth?'width="'+(a.width*7+5)/7*256/256+'" bestFit="1"':'width="'+G(a.width)+'"')+" />"})+"\n     </cols>":"")+"\n\n   <sheetData>\n     "+p(f,function(a,b){var c=typeof a.index==="number"?a.index+1:b+1;return'\n         <row r="'+c+'" x14ac:dyDescent="0.25"\n              '+(a.height===0?'hidden="1"':a.height?'ht="'+H(a.height)+'" customHeight="1"':"")+">\n           "+p(a.data,function(a){return'\n             <c r="'+a.ref+'" '+(a.style?'s="'+a.style+'"':"")+" "+(a.type?'t="'+a.type+'"':"")+">\n               "+(a.formula!=null?B(a.formula):"")+"\n               "+(a.value!=null?"<v>"+n(a.value)+"</v>":"")+"\n             </c>"})+"\n         </row>\n       "})+"\n   </sheetData>\n\n   "+(i?'<autoFilter ref="'+i.from+":"+i.to+'"/>':j?ia(j):"")+"\n\n   "+(h.length?'\n     <mergeCells count="'+h.length+'">\n       '+p(h,function(a){return'<mergeCell ref="'+a+'"/>'})+"\n     </mergeCells>":"")+"\n\n   "+(m.length?"\n     <dataValidations>\n       "+p(m,function(a){return'\n         <dataValidation sqref="'+a.sqref.join(" ")+'"\n                         showErrorMessage="'+a.showErrorMessage+'"\n                         type="'+n(a.type)+'"\n                         '+(a.type!=="list"?'operator="'+n(a.operator)+'"':"")+'\n                         allowBlank="'+a.allowBlank+'"\n                         showDropDown="'+a.showDropDown+'"\n                         '+(a.error?'error="'+n(a.error)+'"':"")+"\n                         "+(a.errorTitle?'errorTitle="'+n(a.errorTitle)+'"':"")+">\n           "+(a.formula1?"<formula1>"+n(a.formula1)+"</formula1>":"")+"\n           "+(a.formula2?"<formula2>"+n(a.formula2)+"</formula2>":"")+"\n         </dataValidation>"})+"\n     </dataValidations>":"")+"\n\n   "+(l.length?"\n     <hyperlinks>\n       "+p(l,function(a,b){return'\n         <hyperlink ref="'+a.ref+'" r:id="rId'+b+'"/>'})+"\n     </hyperlinks>":"")+'\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n</worksheet>'};var x=function(a){var b=a.count;return q+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+o(b,function(a){return'\n    <Relationship Id="rId'+(a+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet'+(a+1)+'.xml" />'})+'\n  <Relationship Id="rId'+(b+1)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId'+(b+2)+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>'};var y=function(a){var b=a.hyperlinks;return q+'\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  '+p(b,function(a,b){return'\n    <Relationship Id="rId'+b+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="'+n(a.target)+'" TargetMode="External" />'})+"\n</Relationships>"};var z=function(a){var b=a.count;var c=a.uniqueCount;var d=a.indexes;return q+'\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+b+'" uniqueCount="'+c+'">\n  '+p(Object.keys(d),function(a){return'\n    <si><t xml:space="preserve">'+n(a.substring(1))+"</t></si>"})+"\n</sst>"};var A=function(a){var b=a.formats;var c=a.fonts;var d=a.fills;var e=a.borders;var f=a.styles;return q+'\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="'+b.length+'">\n  '+p(b,function(a,b){return'\n    <numFmt formatCode="'+n(a.format)+'" numFmtId="'+(165+b)+'" />'})+'\n  </numFmts>\n  <fonts count="'+(c.length+1)+'" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    '+p(c,function(a){return'\n    <font>\n      <sz val="'+(a.fontSize||11)+'" />\n      '+(a.bold?"<b/>":"")+"\n      "+(a.italic?"<i/>":"")+"\n      "+(a.underline?"<u/>":"")+"\n      "+(a.color?'<color rgb="'+n(a.color)+'" />':'<color theme="1" />')+"\n      "+(a.fontFamily?'\n        <name val="'+n(a.fontFamily)+'" />\n        <family val="2" />\n      ':'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      ')+"\n    </font>"})+'\n  </fonts>\n  <fills count="'+(d.length+2)+'">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    '+p(d,function(a){return"\n      "+(a.background?'\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="'+n(a.background)+'"/>\n          </patternFill>\n        </fill>\n      ':"")})+'\n  </fills>\n  <borders count="'+(e.length+1)+'">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    '+p(e,S)+'\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="'+(f.length+1)+'">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    '+p(f,function(a){return'\n      <xf xfId="0"\n          '+(a.fontId?'fontId="'+a.fontId+'" applyFont="1"':"")+"\n          "+(a.fillId?'fillId="'+a.fillId+'" applyFill="1"':"")+"\n          "+(a.numFmtId?'numFmtId="'+a.numFmtId+'" applyNumberFormat="1"':"")+"\n          "+(a.textAlign||a.verticalAlign||a.wrap?'applyAlignment="1"':"")+"\n          "+(a.borderId?'borderId="'+a.borderId+'" applyBorder="1"':"")+">\n        "+(a.textAlign||a.verticalAlign||a.wrap?"\n        <alignment\n          "+(a.textAlign?'horizontal="'+n(a.textAlign)+'"':"")+"\n          "+(a.verticalAlign?'vertical="'+n(a.verticalAlign)+'"':"")+"\n          "+(a.wrap?'wrapText="1"':"")+" />\n        ":"")+"\n      </xf>\n    "})+'\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>'};function B(a){if(typeof a=="string"){return"<f>"+n(a)+"</f>"}return'<f t="array" ref="'+a.ref+'">'+n(a.src)+"</f>"}function C(a){var b=Math.floor(a/26)-1;return(b>=0?C(b):"")+String.fromCharCode(65+a%26)}function D(a,b){return C(b)+(a+1)}function E(a,b){return"$"+C(b)+"$"+(a+1)}function F(a){var b=a.frozenRows||(a.freezePane||{}).rowSplit||1;return b-1}function G(a){return(a/7*100+.5)/100}function H(a){return a*.75}function I(a){return String(a).replace(/[\x00-\x1F]/g,"").replace(/\n/g,"\r\n")}var J=new Date(1900,0,0);var K=kendo.Class.extend({init:function(a,b,c,d){this.options=a;this._strings=b;this._styles=c;this._borders=d;this._validations={}},relsToXML:function(){var a=this.options.hyperlinks||[];if(!a.length){return""}return y({hyperlinks:a})},toXML:function(a){var b=this;var c=this.options.mergedCells||[];var d=this.options.rows||[];var e=U(d,c);this._readCells(e);var f=this.options.filter;var g;if(f&&typeof f.from==="number"&&typeof f.to==="number"){f={from:D(F(this.options),f.from),to:D(F(this.options),f.to)}}else if(f&&f.ref&&f.columns){g=f;f=null}var h=[];for(var i in this._validations){if(Object.prototype.hasOwnProperty.call(b._validations,i)){h.push(b._validations[i])}}var j=null;if(this.options.defaultCellStyle){j=this._lookupStyle(this.options.defaultCellStyle)}var k=this.options.freezePane||{};var l=this.options.defaults||{};return w({frozenColumns:this.options.frozenColumns||k.colSplit,frozenRows:this.options.frozenRows||k.rowSplit,columns:this.options.columns,defaults:l,data:e,index:a,mergeCells:c,autoFilter:f,filter:g,showGridLines:this.options.showGridLines,hyperlinks:this.options.hyperlinks||[],validations:h,defaultCellStyleId:j,rtl:this.options.rtl!==undefined?this.options.rtl:l.rtl})},_lookupString:function(a){var b="$"+a;var c=this._strings.indexes[b];var d;if(c!==undefined){d=c}else{d=this._strings.indexes[b]=this._strings.uniqueCount;this._strings.uniqueCount++}this._strings.count++;return d},_lookupStyle:function(a){var b=JSON.stringify(a);if(b==="{}"){return 0}var c=l(b,this._styles);if(c<0){c=this._styles.push(b)-1}return c+1},_lookupBorder:function(a){var b=JSON.stringify(a);if(b==="{}"){return}var c=l(b,this._borders);if(c<0){c=this._borders.push(b)-1}return c+1},_readCells:function(a){var b=this;for(var c=0;c<a.length;c++){var d=a[c];var e=d.cells;d.data=[];for(var f=0;f<e.length;f++){var g=b._cell(e[f],d.index,f);if(g){d.data.push(g)}}}},_cell:function(a,b,c){if(!a||a===T){return null}var d=a.value;var e={};if(a.borderLeft){e.left=a.borderLeft}if(a.borderRight){e.right=a.borderRight}if(a.borderTop){e.top=a.borderTop}if(a.borderBottom){e.bottom=a.borderBottom}e=this._lookupBorder(e);var g=this.options.defaultCellStyle||{};var h={borderId:e};(function(a){a("color");a("background");a("bold");a("italic");a("underline");if(!a("fontFamily")){a("fontName","fontFamily")}a("fontSize");a("format");if(!a("textAlign")){a("hAlign","textAlign")}if(!a("verticalAlign")){a("vAlign","verticalAlign")}a("wrap")})(function(b,c){var d=a[b];if(d===undefined){d=g[b]}if(d!==undefined){h[c||b]=d;return true}});var k=this.options.columns||[];var l=k[c];var m=typeof d;if(l&&l.autoWidth){var n=d;if(m==="number"){n=f.toString(d,a.format)}l.width=Math.max(l.width||0,String(n).length)}if(m==="string"){d=I(d);d=this._lookupString(d);m="s"}else if(m==="number"){m="n"}else if(m==="boolean"){m="b";d=Number(d)}else if(d&&d.getTime){m=null;var o=(d.getTimezoneOffset()-J.getTimezoneOffset())*i;d=(d-J-o)/j+1;if(!h.format){h.format="mm-dd-yy"}}else{m=null;d=null}h=this._lookupStyle(h);var p=D(b,c);if(a.validation){this._addValidation(a.validation,p)}return{value:d,formula:a.formula,type:m,style:h,ref:p}},_addValidation:function(a,b){var c={showErrorMessage:a.type==="reject"?1:0,formula1:a.from,formula2:a.to,type:M[a.dataType]||a.dataType,operator:L[a.comparerType]||a.comparerType,allowBlank:a.allowNulls?1:0,showDropDown:a.showButton?0:1,error:a.messageTemplate,errorTitle:a.titleTemplate};var d=JSON.stringify(c);if(!this._validations[d]){this._validations[d]=c;c.sqref=[]}this._validations[d].sqref.push(b)}});var L={greaterThanOrEqualTo:"greaterThanOrEqual",
lessThanOrEqualTo:"lessThanOrEqual"};var M={number:"decimal"};var N={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function O(a){var b=a;if(b.length<6){b=b.replace(/(\w)/g,function(a,b){return b+b})}b=b.substring(1).toUpperCase();if(b.length<8){b="FF"+b}return b}var P=kendo.Class.extend({init:function(a){var b=this;this.options=a||{};this._strings={indexes:{},count:0,uniqueCount:0};this._styles=[];this._borders=[];this._sheets=c(this.options.sheets||[],function(a){a.defaults=b.options;return new K(a,b._strings,b._styles,b._borders)})},toZIP:function(){var a=this;var b=d();var e=b.folder("docProps");e.file("core.xml",s({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));var f=this._sheets.length;e.file("app.xml",t({sheets:this._sheets}));var g=b.folder("_rels");g.file(".rels",r);var h=b.folder("xl");var i=h.folder("_rels");i.file("workbook.xml.rels",x({count:f}));var j={};h.file("workbook.xml",v({sheets:this._sheets,filterNames:c(this._sheets,function(a,b){var c=a.options;var d=c.name||c.title||"Sheet"+(b+1);j[d.toLowerCase()]=b;var e=c.filter;if(e){if(e.ref){var f=e.ref.split(":");var g=Z(f[0]);var h=Z(f[1]);return{localSheetId:b,name:d,from:E(g.row,g.col),to:E(h.row,h.col)}}else if(typeof e.from!=="undefined"&&typeof e.to!=="undefined"){return{localSheetId:b,name:d,from:E(F(c),e.from),to:E(F(c),e.to)}}}}),userNames:c(this.options.names||[],function(a){return{name:a.localName,localSheetId:a.sheet?j[a.sheet.toLowerCase()]:null,value:a.value,hidden:a.hidden}})}));var k=h.folder("worksheets");var n=k.folder("_rels");for(var o=0;o<f;o++){var p=a._sheets[o];var q="sheet"+(o+1)+".xml";var w=p.relsToXML();if(w){n.file(q+".rels",w)}k.file(q,p.toXML(o))}var y=c(this._borders,m);var B=c(this._styles,m);var C=function(a){return a.underline||a.bold||a.italic||a.color||a.fontFamily||a.fontSize};var D=c(B,function(a){if(a.color){a.color=O(a.color)}if(C(a)){return a}});var G=c(B,function(a){if(a.format&&N[a.format]===undefined){return a}});var H=c(B,function(a){if(a.background){a.background=O(a.background);return a}});h.file("styles.xml",A({fonts:D,fills:H,formats:G,borders:y,styles:c(B,function(a){var b={};if(C(a)){b.fontId=l(a,D)+1}if(a.background){b.fillId=l(a,H)+2}b.textAlign=a.textAlign;b.verticalAlign=a.verticalAlign;b.wrap=a.wrap;b.borderId=a.borderId;if(a.format){if(N[a.format]!==undefined){b.numFmtId=N[a.format]}else{b.numFmtId=165+l(a,G)}}return b})}));h.file("sharedStrings.xml",z(this._strings));b.file("[Content_Types].xml",u({count:f}));return b},toDataURL:function(){var a=this.toZIP();return a.generateAsync?a.generateAsync(h).then(k):k(a.generate(h))}});function Q(a){var b="thin";if(a===2){b="medium"}else if(a===3){b="thick"}return b}function R(a,b){var c="";if(b){c+="<"+a+' style="'+Q(b.size)+'">';if(b.color){c+='<color rgb="'+O(b.color)+'"/>'}c+="</"+a+">"}return c}function S(a){return"<border>"+R("left",a.left)+R("right",a.right)+R("top",a.top)+R("bottom",a.bottom)+"</border>"}var T={};function U(a,b){var c=[];var d=[];V(a,function(a,b){var e={_source:a,index:b,height:a.height,cells:[]};c.push(e);d[b]=e});var e=W(c).slice(0);var f={rowData:c,rowsByIndex:d,mergedCells:b};for(var g=0;g<e.length;g++){$(e[g],f);delete e[g]._source}return W(c)}function V(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(!d){continue}var e=d.index;if(typeof e!=="number"){e=c}b(d,e)}}function W(a){return a.sort(function(a,b){return a.index-b.index})}function X(a,b){if(a.indexOf(b)<0){a.push(b)}}function Y(a,b){for(var c=0;c<a.length;++c){var d=a[c];var e=d.split(":");var f=e[0];if(f===b){var g=e[1];f=Z(f);g=Z(g);return{rowSpan:g.row-f.row+1,colSpan:g.col-f.col+1}}}}function Z(a){function b(a){var b=a.toUpperCase();var c=0;for(var d=0;d<b.length;++d){c=c*26+b.charCodeAt(d)-64}return c-1}function c(a){return parseInt(a,10)-1}var d=/^([a-z]+)(\d+)$/i.exec(a);return{row:c(d[2]),col:b(d[1])}}function $(a,b){var c=a._source;var d=a.index;var e=c.cells;var f=a.cells;if(!e){return}for(var g=0;g<e.length;g++){var h=e[g]||T;var i=h.rowSpan||1;var j=h.colSpan||1;var k=_(f,h);var l=D(d,k);if(i===1&&j===1){var m=Y(b.mergedCells,l);if(m){j=m.colSpan;i=m.rowSpan}}ca(h,f,k,j);if(i>1||j>1){X(b.mergedCells,l+":"+D(d+i-1,k+j-1))}if(i>1){for(var n=d+1;n<d+i;n++){var o=b.rowsByIndex[n];if(!o){o=b.rowsByIndex[n]={index:n,cells:[]};b.rowData.push(o)}ca(h,o.cells,k-1,j+1)}}}}function _(a,b){var c;if(typeof b.index==="number"){c=b.index;aa(a,b,b.index)}else{c=ba(a,b)}return c}function aa(a,b,c){a[c]=b}function ba(a,b){var c=a.length;for(var d=0;d<a.length+1;d++){if(!a[d]){a[d]=b;c=d;break}}return c}function ca(a,b,c,d){for(var e=1;e<d;e++){var f={borderTop:a.borderTop,borderRight:a.borderRight,borderBottom:a.borderBottom,borderLeft:a.borderLeft};aa(b,f,c+e)}}var da=function(a){var b=a.ref;var c=a.columns;var d=a.generators;return'\n<autoFilter ref="'+b+'">\n  '+p(c,function(a){return'\n    <filterColumn colId="'+a.index+'">\n      '+d[a.filter](a)+"\n    </filterColumn>\n  "})+"\n</autoFilter>"};var ea=function(a){var b=a.logic;var c=a.criteria;return"\n<customFilters "+(b==="and"?'and="1"':"")+">\n"+p(c,function(a){var b=ia.customOperator(a);var c=ia.customValue(a);return"<customFilter "+(b?'operator="'+b+'"':"")+' val="'+c+'"/>'})+"\n</customFilters>"};var fa=function(a){var b=a.type;return'<dynamicFilter type="'+ia.dynamicFilterType(b)+'" />'};var ga=function(a){var b=a.type;var c=a.value;return'<top10 percent="'+(/percent$/i.test(b)?1:0)+'"\n       top="'+(/^top/i.test(b)?1:0)+'"\n       val="'+c+'" />'};var ha=function(a){var b=a.blanks;var c=a.values;return"<filters "+(b?'blank="1"':"")+">\n    "+p(c,function(a){return'\n      <filter val="'+a+'" />'})+"\n  </filters>"};function ia(a){return da({ref:a.ref,columns:a.columns,generators:{custom:ea,dynamic:fa,top:ga,value:ha}})}ia.customOperator=function(a){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[a.operator.toLowerCase()]};ia.customValue=function(a){function b(a){return a.replace(/([*?])/g,"~$1")}switch(a.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return b(a.value)+"*";case"endswith":case"doesnotendwith":return"*"+b(a.value);case"contains":case"doesnotcontain":return"*"+b(a.value)+"*";default:return a.value}};ia.dynamicFilterType=function(a){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[a.toLowerCase()]||a};kendo.deepExtend(kendo.ooxml,{IntlService:f,Workbook:P,Worksheet:K})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("ooxml/main",["kendo.core","ooxml/kendo-ooxml"],a)})(function(){(function(a){var b=kendo.ooxml.Workbook;kendo.ooxml.IntlService.register({toString:kendo.toString});kendo.ooxml.Workbook=b.extend({toDataURL:function(){var a=b.fn.toDataURL.call(this);if(typeof a!=="string"){throw new Error("The toDataURL method can be used only with jsZip 2. Either include jsZip 2 or use the toDataURLAsync method.")}return a},toDataURLAsync:function(){var c=a.Deferred();var d=b.fn.toDataURL.call(this);if(typeof d==="string"){d=c.resolve(d)}else if(d&&d.then){d.then(function(a){c.resolve(a)},function(){c.reject()})}return c.promise()}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.ooxml",["ooxml/main"],a)})(function(){var a={id:"ooxml",name:"XLSX generation",category:"framework",advanced:true,depends:["core"]}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("excel/kendo-excel",["kendo.core"],a)})(function(){(function(a){window.kendo.excel=window.kendo.excel||{};var b=kendo.getter;var c=a.map;var d={compile:function(a){return a}};var e=kendo.Class.extend({});e.register=function(a){d=a};e.compile=function(a){return d.compile(a)};function f(a){return a.title+": "+a.value}function g(a,b){var c=[];for(var d=0;d<a;d++){c.push(b(d))}return c}var h=kendo.Class.extend({init:function(a){a.columns=this._trimColumns(a.columns||[]);this.allColumns=c(this._leafColumns(a.columns||[]),this._prepareColumn);this.columns=this.allColumns.filter(function(a){return!a.hidden});this.options=a;this.data=a.data||[];this.aggregates=a.aggregates||{};this.groups=[].concat(a.groups||[]);this.hierarchy=a.hierarchy},workbook:function(){var a={sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]};return a},_trimColumns:function(a){var b=this;return a.filter(function(a){var c=Boolean(a.field);if(!c&&a.columns){c=b._trimColumns(a.columns).length>0}return c})},_leafColumns:function(a){var b=this;var c=[];for(var d=0;d<a.length;d++){if(!a[d].columns){c.push(a[d])}else{c=c.concat(b._leafColumns(a[d].columns))}}return c},_prepareColumn:function(c){if(!c.field){return null}var d=function(a){return b(c.field,true)(a)};var g=null;if(c.values){g={};c.values.forEach(function(a){g[a.value]=a.text});d=function(a){return g[b(c.field,true)(a)]}}return a.extend({},c,{value:d,values:g,groupHeaderTemplate:c.groupHeaderTemplate?e.compile(c.groupHeaderTemplate):f,groupFooterTemplate:c.groupFooterTemplate?e.compile(c.groupFooterTemplate):null,footerTemplate:c.footerTemplate?e.compile(c.footerTemplate):null})},_filter:function(){if(!this.options.filterable){return null}var a=this._depth();return{from:a,to:a+this.columns.length-1}},_createPaddingCells:function(b){var c=this;return g(b,function(){return a.extend({background:"#dfdfdf",color:"#333"},c.options.paddingCellOptions)})},_dataRow:function(b,c,d){var e=this;var f=this._createPaddingCells(c);if(d&&b.items){var g=this.allColumns.filter(function(a){return a.field===b.field})[0];var h=g&&g.title?g.title:b.field;var i=g?g.groupHeaderTemplate:null;var j=a.extend({title:h,field:b.field,value:g&&g.values?g.values[b.value]:b.value,aggregates:b.aggregates,items:b.items},b.aggregates[b.field]);var k=h+": "+b.value;if(i){k=i(j)}f.push(a.extend({value:k,background:"#dfdfdf",color:"#333",colSpan:this.columns.length+d-c},(g||{}).groupHeaderCellOptions));var l=this._dataRows(b.items,c+1);l.unshift({type:"group-header",cells:f});return l.concat(this._footer(b))}var m=[];for(var n=0;n<this.columns.length;n++){m[n]=e._cell(b,e.columns[n])}if(this.hierarchy){m[0].colSpan=d-c+1}return[{type:"data",cells:f.concat(m)}]},_dataRows:function(a,b){var c=this;var d=this._depth();var e=[];for(var f=0;f<a.length;f++){e.push.apply(e,c._dataRow(a[f],b,d))}return e},_hierarchyRows:function(){var a=this;var b=this._depth();var c=this.data;var d=this.hierarchy.itemLevel;var e=this._hasFooterTemplate();var f=[];var g=[];var h=0;var i;for(var j=0;j<c.length;j++){var k=c[j];var l=d(k);if(e){if(l>h){g.push({id:i,level:h})}else if(l<h){f.push.apply(f,a._hierarchyFooterRows(g,l,b))}h=l;i=k.id}f.push.apply(f,a._dataRow(k,l+1,b))}if(e){f.push.apply(f,this._hierarchyFooterRows(g,0,b));var m=c.length?this.aggregates[c[0].parentId]:{};f.push(this._hierarchyFooter(m,0,b))}this._prependHeaderRows(f);return f},_hierarchyFooterRows:function(a,b,c){var d=this;var e=[];while(a.length&&a[a.length-1].level>=b){var f=a.pop();e.push(d._hierarchyFooter(d.aggregates[f.id],f.level+1,c))}return e},_hasFooterTemplate:function(){var a=this.columns;for(var b=0;b<a.length;b++){if(a[b].footerTemplate){return true}}},_hierarchyFooter:function(b,c,d){var e=this.columns.map(function(e,f){var g=f?1:d-c+1;if(e.footerTemplate){return a.extend({background:"#dfdfdf",color:"#333",colSpan:g,value:e.footerTemplate(a.extend({},(b||{})[e.field]))},e.footerCellOptions)}return a.extend({background:"#dfdfdf",color:"#333",colSpan:g},e.footerCellOptions)});return{type:"footer",cells:this._createPaddingCells(c).concat(e)}},_footer:function(b){var c=this;var d=[];var e=false;var f=this.columns.map(function(d){if(d.groupFooterTemplate){var f=a.extend({},c.aggregates,b.aggregates,b.aggregates[d.field],{group:{items:b.items,field:b.field,value:b.value}});f[b.field]=f;e=true;return a.extend({background:"#dfdfdf",color:"#333",value:d.groupFooterTemplate(f)},d.groupFooterCellOptions)}return a.extend({background:"#dfdfdf",color:"#333"},d.groupFooterCellOptions)});if(e){d.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(f)})}return d},_isColumnVisible:function(a){return this._visibleColumns([a]).length>0&&(a.field||a.columns)},_visibleColumns:function(a){var b=this;return a.filter(function(a){var c=!a.hidden;if(c&&a.columns){c=b._visibleColumns(a.columns).length>0}return c})},_headerRow:function(b,c){var d=this;var e=b.cells.map(function(c){return a.extend(c,{colSpan:c.colSpan>1?c.colSpan:1,rowSpan:b.rowSpan>1&&!c.colSpan?b.rowSpan:1})});if(this.hierarchy){e[0].colSpan=this._depth()+1}return{type:"header",cells:g(c.length,function(){return a.extend({background:"#7a7a7a",color:"#fff"},d.options.headerPaddingCellOptions)}).concat(e)}},_prependHeaderRows:function(a){var b=this;var c=this.groups;var d=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(d,this.options.columns);for(var e=d.length-1;e>=0;e--){a.unshift(b._headerRow(d[e],c))}},_prepareHeaderRows:function(b,c,d,e){var f=this;var g=e||b[b.length-1];var h=b[g.index+1];var i=0;for(var j=0;j<c.length;j++){var k=c[j];if(f._isColumnVisible(k)){var l=a.extend({background:"#7a7a7a",color:"#fff",value:k.title||k.field,colSpan:0},k.headerCellOptions);g.cells.push(l);if(k.columns&&k.columns.length){if(!h){h={rowSpan:0,cells:[],index:b.length};b.push(h)}l.colSpan=f._trimColumns(f._visibleColumns(k.columns)).length;f._prepareHeaderRows(b,k.columns,l,h);i+=l.colSpan-1;g.rowSpan=b.length-g.index}}}if(d){d.colSpan+=i}},_rows:function(){var b=this;var c=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(c);var d=false;var e=this.columns.map(function(c){if(c.footerTemplate){d=true;return a.extend({background:"#dfdfdf",color:"#333",value:c.footerTemplate(a.extend({},b.aggregates,b.aggregates[c.field]))},c.footerCellOptions)}return a.extend({background:"#dfdfdf",color:"#333"},c.footerCellOptions)});if(d){c.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(e)})}}return c},_headerDepth:function(a){var b=this;var c=1;var d=0;for(var e=0;e<a.length;e++){if(a[e].columns){var f=b._headerDepth(a[e].columns);if(f>d){d=f}}}return c+d},_freezePane:function(){var a=this._visibleColumns(this.options.columns||[]);var b=this._visibleColumns(this._trimColumns(this._leafColumns(a.filter(function(a){return a.locked})))).length;return{rowSplit:this._headerDepth(a),colSplit:b?b+this.groups.length:0}},_cell:function(b,c){return a.extend({value:c.value(b)},c.cellOptions)},_depth:function(){var a=0;if(this.hierarchy){a=this.hierarchy.depth}else{a=this.groups.length}return a},_columns:function(){var a=this._depth();var b=g(a,function(){return{width:20}});return b.concat(this.columns.map(function(a){return{width:parseInt(a.width,10),autoWidth:a.width?false:true}}))}});kendo.deepExtend(kendo.excel,{ExcelExporter:h,TemplateService:e})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("excel/main",["kendo.core","kendo.data","excel/kendo-excel"],a)})(function(){(function(a,b){var c=b.excel.ExcelExporter;var d=a.extend;b.excel.TemplateService.register({compile:b.template});b.ExcelExporter=b.Class.extend({init:function(a){this.options=a;var c=a.dataSource;if(c instanceof b.data.DataSource){if(!c.filter()){c.options.filter=undefined}this.dataSource=new c.constructor(d({},c.options,{page:a.allPages?0:c.page(),filter:c.filter(),pageSize:a.allPages?c.total():c.pageSize(),sort:c.sort(),group:c.group(),aggregate:c.aggregate()}));var e=c.data();if(e.length>0){this.dataSource._data=e;var f=this.dataSource.transport;if(c._isServerGrouped()&&f.options&&f.options.data){f.options.data=null}}}else{this.dataSource=b.data.DataSource.create(c)}},_hierarchy:function(){var a=this.options.hierarchy;var b=this.dataSource;if(a&&b.level){a={itemLevel:function(a){return b.level(a)}};var c=b.view();var d=0;var e;for(var f=0;f<c.length;f++){e=b.level(c[f]);if(e>d){d=e}}a.depth=d+1}else{a=false}return{hierarchy:a}},workbook:function(){return a.Deferred(a.proxy(function(b){this.dataSource.fetch().then(a.proxy(function(){var a=new c(d({},this.options,this._hierarchy(),{data:this.dataSource.view(),groups:this.dataSource.group(),aggregates:this.dataSource.aggregates()})).workbook();b.resolve(a,this.dataSource.view())},this))},this)).promise()}})})(kendo.jQuery,kendo);return kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("excel/mixins",["excel/main","kendo.ooxml"],a)})(function(){(function(a,b){b.ExcelMixin={extend:function(b){b.events.push("excelExport");b.options.excel=a.extend(b.options.excel,this.options);b.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",allPages:false,filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var c=this.options.excel||{};var d=new b.ExcelExporter({columns:this.columns,dataSource:this.dataSource,allPages:c.allPages,filterable:c.filterable,hierarchy:c.hierarchy});d.workbook().then(a.proxy(function(a,d){if(!this.trigger("excelExport",{workbook:a,data:d})){var e=new b.ooxml.Workbook(a);e.toDataURLAsync().then(function(d){b.saveAs({dataURI:d,fileName:a.fileName||c.fileName,proxyURL:c.proxyURL,forceProxy:c.forceProxy})})}},this))}}})(kendo.jQuery,kendo);return kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.excel",["excel/main","excel/mixins"],a)})(function(){var a={id:"excel",name:"Excel export",category:"framework",advanced:true,mixin:true,depends:["data","ooxml"]}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.data.signalr",["kendo.data"],a)})(function(){var a={id:"data.signalr",name:"SignalR",category:"framework",depends:["data"],hidden:true};(function(a){var b=window.kendo;var c=b.isFunction;function d(a){return a&&c(a.done)&&c(a.fail)}function e(a){return a&&c(a.then)&&c(a.catch)}var f=b.data.RemoteTransport.extend({init:function(a){var c=a&&a.signalr?a.signalr:{};var f=c.promise;if(!f){throw new Error('The "promise" option must be set.')}if(!d(f)&&!e(f)){throw new Error('The "promise" option must be a Promise.')}this.promise=f;var g=c.hub;if(!g){throw new Error('The "hub" option must be set.')}if(typeof g.on!="function"||typeof g.invoke!="function"){throw new Error('The "hub" option is not a valid SignalR hub proxy.')}this.hub=g;b.data.RemoteTransport.fn.init.call(this,a)},push:function(a){var b=this.options.signalr.client||{};if(b.create){this.hub.on(b.create,a.pushCreate)}if(b.update){this.hub.on(b.update,a.pushUpdate)}if(b.destroy){this.hub.on(b.destroy,a.pushDestroy)}},_crud:function(c,f){var g=this.hub;var h=this.promise;var i=this.options.signalr.server;if(!i||!i[f]){throw new Error(b.format('The "server.{0}" option must be set.',f))}var j=[i[f]];var k=this.parameterMap(c.data,f);if(!a.isEmptyObject(k)){j.push(k)}if(d(h)){h.done(function(){g.invoke.apply(g,j).done(c.success).fail(c.error)})}else if(e(h)){h.then(function(){g.invoke.apply(g,j).then(c.success).catch(c.error)})}},read:function(a){this._crud(a,"read")},create:function(a){this._crud(a,"create")},update:function(a){this._crud(a,"update")},destroy:function(a){this._crud(a,"destroy")}});a.extend(true,b.data,{transports:{signalr:f}})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("drawing/util",["kendo.core"],a)})(function(){(function(a){function b(){return a.Deferred()}function c(b){return a.when.apply(a,b)}kendo.drawing.util=kendo.drawing.util||{};kendo.deepExtend(kendo.drawing.util,{createPromise:b,promiseAll:c})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.color",["kendo.core"],a)})(function(){var a={id:"color",name:"Color utils",category:"framework",advanced:true,description:"Color utilities used across components",depends:["core"]};window.kendo=window.kendo||{};var b=kendo.Class;var c=kendo.support;var d={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var e=c.browser;var f=function(a){var b=Object.keys(d);b.push("transparent");var c=new RegExp("^("+b.join("|")+")(\\W|$)","i");f=function(a){return c.exec(a)};return c.exec(a)};var g=b.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){if(e.msie&&e.version<9){return this.toCss()}return this.toCssRgba()},equals:function(a){return a===this||a!==null&&this.toCssRgba()===n(a).toCssRgba()},diff:function(a){if(a===null){return NaN}var b=this.toBytes();var c=a.toBytes();return Math.sqrt(Math.pow((b.r-c.r)*.3,2)+Math.pow((b.g-c.g)*.59,2)+Math.pow((b.b-c.b)*.11,2))},clone:function(){var a=this.toBytes();if(a===this){a=new i(a.r,a.g,a.b,a.a)}return a}});var h=g.extend({init:function(a,b,c,d){g.fn.init.call(this);this.r=a;this.g=b;this.b=c;this.a=d},toHSV:function(){var a=this;var b=a.r;var c=a.g;var d=a.b;var e=Math.min(b,c,d);var f=Math.max(b,c,d);var g=f-e;var h=f;var i,j;if(g===0){return new k(0,0,h,this.a)}if(f!==0){j=g/f;if(b===f){i=(c-d)/g}else if(c===f){i=2+(d-b)/g}else{i=4+(b-c)/g}i*=60;if(i<0){i+=360}}else{j=0;i=-1}return new k(i,j,h,this.a)},toHSL:function(){var a=this;var b=a.r;var c=a.g;var d=a.b;var e=Math.max(b,c,d);var f=Math.min(b,c,d);var g,h,i=(e+f)/2;if(e===f){g=h=0}else{var j=e-f;h=i>.5?j/(2-e-f):j/(e+f);switch(e){case b:g=(c-d)/j+(c<d?6:0);break;case c:g=(d-b)/j+2;break;case d:g=(b-c)/j+4;break;default:break}g*=60;h*=100;i*=100}return new l(g,h,i,this.a)},toBytes:function(){return new i(this.r*255,this.g*255,this.b*255,this.a)}});var i=h.extend({init:function(a,b,c,d){h.fn.init.call(this,Math.round(a),Math.round(b),Math.round(c),d)},toRGB:function(){return new h(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return j(this.r,2)+j(this.g,2)+j(this.b,2)},toBytes:function(){return this}});function j(a,b,c){if(c===void 0){c="0"}var d=a.toString(16);while(b>d.length){d=c+d}return d}var k=g.extend({init:function(a,b,c,d){g.fn.init.call(this);this.h=a;this.s=b;this.v=c;this.a=d},toRGB:function(){var a=this;var b=a.h;var c=a.s;var d=a.v;var e,f,g;if(c===0){e=f=g=d}else{b/=60;var i=Math.floor(b);var j=b-i;var k=d*(1-c);var l=d*(1-c*j);var m=d*(1-c*(1-j));switch(i){case 0:e=d;f=m;g=k;break;case 1:e=l;f=d;g=k;break;case 2:e=k;f=d;g=m;break;case 3:e=k;f=l;g=d;break;case 4:e=m;f=k;g=d;break;default:e=d;f=k;g=l;break}}return new h(e,f,g,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}});var l=g.extend({init:function(a,b,c,d){g.fn.init.call(this);this.h=a;this.s=b;this.l=c;this.a=d},toRGB:function(){var a=this;var b=a.h;var c=a.s;var d=a.l;var e,f,g;if(c===0){e=f=g=d}else{b/=360;c/=100;d/=100;var i=d<.5?d*(1+c):d+c-d*c;var j=2*d-i;e=m(j,i,b+1/3);f=m(j,i,b);g=m(j,i,b-1/3)}return new h(e,f,g,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function m(a,b,c){var d=c;if(d<0){d+=1}if(d>1){d-=1}if(d<1/6){return a+(b-a)*6*d}if(d<1/2){return b}if(d<2/3){return a+(b-a)*(2/3-d)*6}return a}function n(a,b){var c,e;if(a==null||a==="none"){return null}if(a instanceof g){return a}var j=a.toLowerCase();if(c=f(j)){if(c[1]==="transparent"){j=new h(1,1,1,0)}else{j=n(d[c[1]],b)}j.match=[c[1]];return j}if(c=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(j)){e=new i(parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16),1)}else if(c=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(j)){e=new i(parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16),1)}else if(c=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(j)){e=new i(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),1)}else if(c=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(j)){e=new i(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseFloat(c[4]))}else if(c=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(j)){e=new h(parseFloat(c[1])/100,parseFloat(c[2])/100,parseFloat(c[3])/100,1)}else if(c=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(j)){e=new h(parseFloat(c[1])/100,parseFloat(c[2])/100,parseFloat(c[3])/100,parseFloat(c[4]))}if(e){e.match=c}else if(!b){throw new Error("Cannot parse color: "+j)}return e}var o=b.extend({init:function(a){var b=this;if(arguments.length===1){var c=o.formats;var d=this.resolveColor(a);for(var e=0;e<c.length;e++){var f=c[e].re;var g=c[e].process;var h=f.exec(d);if(h){var i=g(h);b.r=i[0];b.g=i[1];b.b=i[2]}}}else{this.r=arguments[0];this.g=arguments[1];this.b=arguments[2]}this.r=this.normalizeByte(this.r);this.g=this.normalizeByte(this.g);this.b=this.normalizeByte(this.b)},toHex:function(){var a=this.padDigit;var b=this.r.toString(16);var c=this.g.toString(16);var d=this.b.toString(16);return"#"+a(b)+a(c)+a(d)},resolveColor:function(a){var b=a||"black";if(b.charAt(0)==="#"){b=b.substr(1,6)}b=b.replace(/ /g,"");b=b.toLowerCase();b=o.namedColors[b]||b;return b},normalizeByte:function(a){if(a<0||isNaN(a)){return 0}return a>255?255:a},padDigit:function(a){return a.length===1?"0"+a:a},brightness:function(a){var b=Math.round;this.r=b(this.normalizeByte(this.r*a));this.g=b(this.normalizeByte(this.g*a));this.b=b(this.normalizeByte(this.b*a));return this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}});o.fromBytes=function(a,b,c,d){return new i(a,b,c,d!=null?d:1)};o.fromRGB=function(a,b,c,d){return new h(a,b,c,d!=null?d:1)};o.fromHSV=function(a,b,c,d){return new k(a,b,c,d!=null?d:1)};o.fromHSL=function(a,b,c,d){return new l(a,b,c,d!=null?d:1)};o.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];o.namedColors=d;kendo.deepExtend(kendo,{parseColor:n,Color:o})},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("util/text-metrics",["kendo.core"],a)})(function(){(function(a){window.kendo.util=window.kendo.util||{};var b=kendo.Class.extend({init:function(a){this._size=a;this._length=0;this._map={}},put:function(a,b){var c=this._map;var d={key:a,value:b};c[a]=d;if(!this._head){this._head=this._tail=d}else{this._tail.newer=d;d.older=this._tail;this._tail=d}if(this._length>=this._size){c[this._head.key]=null;this._head=this._head.newer;this._head.older=null}else{this._length++}},get:function(a){var b=this._map[a];if(b){if(b===this._head&&b!==this._tail){this._head=b.newer;this._head.older=null}if(b!==this._tail){if(b.older){b.older.newer=b.newer;b.newer.older=b.older}b.older=this._tail;b.newer=null;this._tail.newer=b;this._tail=b}return b.value}}});var c=/\r?\n|\r|\t/g;var d=" ";function e(a){return String(a).replace(c,d)}function f(a){var b=[];for(var c in a){b.push(c+a[c])}return b.sort().join("")}function g(a){var b=2166136261;for(var c=0;c<a.length;++c){b+=(b<<1)+(b<<4)+(b<<7)+(b<<8)+(b<<24);b^=a.charCodeAt(c)}return b>>>0}function h(){return{width:0,height:0,baseline:0}}var i={baselineMarkerSize:1};var j;if(typeof document!=="undefined"){j=document.createElement("div");j.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;"+"padding: 0 !important; margin: 0 !important; border: 0 !important;"+"line-height: normal !important; visibility: hidden !important; white-space: pre!important;"}var k=kendo.Class.extend({init:function(c){this._cache=new b(1e3);this.options=a.extend({},i,c)},measure:function(a,b,c){if(c===void 0){c={}}if(!a){return h()}var d=f(b);var i=g(a+d);var k=this._cache.get(i);if(k){return k}var l=h();var m=c.box||j;var n=this._baselineMarker().cloneNode(false);for(var o in b){var p=b[o];if(typeof p!=="undefined"){m.style[o]=p}}var q=c.normalizeText!==false?e(a):String(a);
m.textContent=q;m.appendChild(n);document.body.appendChild(m);if(q.length){l.width=m.offsetWidth-this.options.baselineMarkerSize;l.height=m.offsetHeight;l.baseline=n.offsetTop+this.options.baselineMarkerSize}if(l.width>0&&l.height>0){this._cache.put(i,l)}m.parentNode.removeChild(m);return l},_baselineMarker:function(){var a=document.createElement("div");a.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;";return a}});k.current=new k;function l(a,b,c){return k.current.measure(a,b,c)}kendo.deepExtend(kendo.util,{LRUCache:b,TextMetrics:k,measureText:l,objectKey:f,hashKey:g,normalizeText:e})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("drawing/kendo-drawing",["drawing/util","kendo.color","util/text-metrics"],a)})(function(){(function(a){window.kendo=window.kendo||{};var b=kendo.drawing;var c=b.util;var d=kendo.Class;var e=kendo.util;var f=kendo.support;var g=f.browser;var h=c.createPromise;var i=c.promiseAll;var j={extend:function(a){var b=this;for(var c in this){if(c!=="extend"){a[c]=b[c]}}},observers:function(){this._observers=this._observers||[];return this._observers},addObserver:function(a){if(!this._observers){this._observers=[a]}else{this._observers.push(a)}return this},removeObserver:function(a){var b=this.observers();var c=b.indexOf(a);if(c!==-1){b.splice(c,1)}return this},trigger:function(a,b){var c=this._observers;if(c&&!this._suspended){for(var d=0;d<c.length;d++){var e=c[d];if(e[a]){e[a](b)}}}return this},optionsChange:function(a){if(a===void 0){a={}}a.element=this;this.trigger("optionsChange",a)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){this._suspended=(this._suspended||0)+1;return this},resume:function(){this._suspended=Math.max((this._suspended||0)-1,0);return this},_observerField:function(a,b){if(this[a]){this[a].removeObserver(this)}this[a]=b;b.addObserver(this)}};function k(a,b){a.push.apply(a,b);return a}var l={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function m(a){var b=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var c="";while(a>0){if(a<b[0]){b.shift()}else{c+=l[b[0]];a-=b[0]}}return c}var n="undefined";function o(a){return typeof a!==n}var p=1;function q(){return"kdef"+p++}var r=Math.PI/180;var s=Number.MAX_VALUE;var t=-Number.MAX_VALUE;function u(a){return a/r}var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var w=String.fromCharCode;function x(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(d<128){b+=w(d)}else if(d<2048){b+=w(192|d>>>6);b+=w(128|d&63)}else if(d<65536){b+=w(224|d>>>12);b+=w(128|d>>>6&63);b+=w(128|d&63)}}return b}function y(a){var b="";var c=0;var d=x(a);while(c<d.length){var e=d.charCodeAt(c++);var f=d.charCodeAt(c++);var g=d.charCodeAt(c++);var h=e>>2;var i=(e&3)<<4|f>>4;var j=(f&15)<<2|g>>6;var k=g&63;if(isNaN(f)){j=k=64}else if(isNaN(g)){k=64}b=b+v.charAt(h)+v.charAt(i)+v.charAt(j)+v.charAt(k)}return b}function z(a){if(o((a.x||{}).location)){return{x:a.x.location,y:a.y.location}}return{x:a.pageX||a.clientX||0,y:a.pageY||a.clientY||0}}function A(a){if(a===void 0){a={}}return a.touch?a.touch.initialTouch:a.target}function B(a){return a===""||a===null||a==="none"||a==="transparent"||!o(a)}function C(a){if(a){return a[a.length-1]}}function D(a,b,c){return Math.max(Math.min(a,c),b)}function E(a,b){if(a.length<2){return a.slice()}function c(a,c){var d=[],e=0,f=0,g=0;while(e<a.length&&f<c.length){if(b(a[e],c[f])<=0){d[g++]=a[e++]}else{d[g++]=c[f++]}}if(e<a.length){d.push.apply(d,a.slice(e))}if(f<c.length){d.push.apply(d,c.slice(f))}return d}return function a(b){if(b.length<=1){return b}var d=Math.floor(b.length/2);var e=b.slice(0,d);var f=b.slice(d);e=a(e);f=a(f);return c(e,f)}(a)}function F(a){return a*r}function G(a){if(a){return Math.pow(10,a)}return 1}function H(a,b){var c=G(b);return Math.round(a*c)/c}function I(a,b){return o(a)?a:b}function J(a,b){for(var c in b){var d=c.trim().split(" ");for(var e=0;e<d.length;e++){a.addEventListener(d[e],b[c],false)}}}function K(a){var b=a.getBoundingClientRect();var c=document.documentElement;return{top:b.top+(window.pageYOffset||c.scrollTop)-(c.clientTop||0),left:b.left+(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}function L(a,b){var c={};var d=window.getComputedStyle(a)||{};var e=Array.isArray(b)?b:[b];for(var f=0;f<e.length;f++){var g=e[f];c[g]=d[g]}return c}function M(a){if(isNaN(a)){return a}return a+"px"}function N(a,b){if(b){var c=b.width;var d=b.height;if(o(c)){a.style.width=M(c)}if(o(d)){a.style.height=M(d)}}else{var e=L(a,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}}function O(a,b){if(b===void 0){b={}}for(var c in b){var d=c.trim().split(" ");for(var e=0;e<d.length;e++){a.removeEventListener(d[e],b[c],false)}}}var P={append:k,arabicToRoman:m,createPromise:h,defined:o,definitionId:q,deg:u,encodeBase64:y,eventCoordinates:z,eventElement:A,isTransparent:B,last:C,limitValue:D,mergeSort:E,promiseAll:i,rad:F,round:H,valueOrDefault:I,bindEvents:J,elementOffset:K,elementSize:N,elementStyles:L,unbindEvents:O,DEG_TO_RAD:r,MAX_NUM:s,MIN_NUM:t};var Q={}.toString;var R=d.extend({init:function(a,b){var c=this;if(b===void 0){b=""}this.prefix=b;for(var d in a){var e=a[d];e=c._wrap(e,d);c[d]=e}},get:function(a){var b=a.split(".");var c=this;while(b.length&&c){var d=b.shift();c=c[d]}return c},set:function(a,b){var c=this.get(a);if(c!==b){this._set(a,this._wrap(b,a));this.optionsChange({field:this.prefix+a,value:b})}},_set:function(a,b){var c=this;var d=a.indexOf(".")>=0;var e=this;var f=a;if(d){var g=f.split(".");var h=this.prefix;while(g.length>1){f=g.shift();h+=f+".";var i=e[f];if(!i){i=new R({},h);i.addObserver(c);e[f]=i}e=i}f=g[0]}e._clear(f);e[f]=b},_clear:function(a){var b=this[a];if(b&&b.removeObserver){b.removeObserver(this)}},_wrap:function(a,b){var c=Q.call(a);var e=a;if(e!==null&&o(e)&&c==="[object Object]"){if(!(a instanceof R)&&!(a instanceof d)){e=new R(e,this.prefix+b+".")}e.addObserver(this)}return e}});j.extend(R.prototype);function S(a){return function(b){if(this[a]!==b){this[a]=b;this.geometryChange()}return this}}function T(a){return function(){return this[a]}}function U(a,b){for(var c=0;c<b.length;c++){var d=b[c];var e=d.charAt(0).toUpperCase()+d.substring(1,d.length);a["set"+e]=S(d);a["get"+e]=T(d)}}var V=d.extend({init:function(a,b,c,d,e,f){if(a===void 0){a=0}if(b===void 0){b=0}if(c===void 0){c=0}if(d===void 0){d=0}if(e===void 0){e=0}if(f===void 0){f=0}this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f},multiplyCopy:function(a){return new V(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.e+this.c*a.f+this.e,this.b*a.e+this.d*a.f+this.f)},invert:function(){var a=this;var b=a.a;var c=a.b;var d=a.c;var e=a.d;var f=a.e;var g=a.f;var h=b*e-c*d;if(h===0){return null}return new V(e/h,-c/h,-d/h,b/h,(d*g-e*f)/h,(c*f-b*g)/h)},clone:function(){return new V(this.a,this.b,this.c,this.d,this.e,this.f)},equals:function(a){if(!a){return false}return this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.e===a.e&&this.f===a.f},round:function(a){this.a=H(this.a,a);this.b=H(this.b,a);this.c=H(this.c,a);this.d=H(this.d,a);this.e=H(this.e,a);this.f=H(this.f,a);return this},toArray:function(a){var b=[this.a,this.b,this.c,this.d,this.e,this.f];if(o(a)){for(var c=0;c<b.length;c++){b[c]=H(b[c],a)}}return b},toString:function(a,b){if(b===void 0){b=","}return this.toArray(a).join(b)}});V.translate=function(a,b){return new V(1,0,0,1,a,b)};V.unit=function(){return new V(1,0,0,1,0,0)};V.rotate=function(a,b,c){var d=new V;d.a=Math.cos(F(a));d.b=Math.sin(F(a));d.c=-d.b;d.d=d.a;d.e=b-b*d.a+c*d.b||0;d.f=c-c*d.a-b*d.b||0;return d};V.scale=function(a,b){return new V(a,0,0,b,0,0)};V.IDENTITY=V.unit();function W(a){if(a&&typeof a.matrix==="function"){return a.matrix()}return a}var X=d.extend({init:function(a,b){this.x=a||0;this.y=b||0},equals:function(a){return a&&a.x===this.x&&a.y===this.y},clone:function(){return new X(this.x,this.y)},rotate:function(a,b){var c=X.create(b)||X.ZERO;return this.transform(V.rotate(a,c.x,c.y))},translate:function(a,b){this.x+=a;this.y+=b;this.geometryChange();return this},translateWith:function(a){return this.translate(a.x,a.y)},move:function(a,b){this.x=this.y=0;return this.translate(a,b)},scale:function(a,b){if(b===void 0){b=a}this.x*=a;this.y*=b;this.geometryChange();return this},scaleCopy:function(a,b){return this.clone().scale(a,b)},transform:function(a){var b=W(a);var c=this;var d=c.x;var e=c.y;this.x=b.a*d+b.c*e+b.e;this.y=b.b*d+b.d*e+b.f;this.geometryChange();return this},transformCopy:function(a){var b=this.clone();if(a){b.transform(a)}return b},distanceTo:function(a){var b=this.x-a.x;var c=this.y-a.y;return Math.sqrt(b*b+c*c)},round:function(a){this.x=H(this.x,a);this.y=H(this.y,a);this.geometryChange();return this},toArray:function(a){var b=o(a);var c=b?H(this.x,a):this.x;var d=b?H(this.y,a):this.y;return[c,d]},toString:function(a,b){if(b===void 0){b=" "}var c=this;var d=c.x;var e=c.y;if(o(a)){d=H(d,a);e=H(e,a)}return d+b+e}});X.create=function(a,b){if(o(a)){if(a instanceof X){return a}else if(arguments.length===1&&a.length===2){return new X(a[0],a[1])}return new X(a,b)}};X.min=function(){var a=arguments;var b=s;var c=s;for(var d=0;d<arguments.length;d++){var e=a[d];b=Math.min(e.x,b);c=Math.min(e.y,c)}return new X(b,c)};X.max=function(){var a=arguments;var b=t;var c=t;for(var d=0;d<arguments.length;d++){var e=a[d];b=Math.max(e.x,b);c=Math.max(e.y,c)}return new X(b,c)};X.minPoint=function(){return new X(t,t)};X.maxPoint=function(){return new X(s,s)};if(Object.defineProperties){Object.defineProperties(X,{ZERO:{get:function(){return new X(0,0)}}})}U(X.prototype,["x","y"]);j.extend(X.prototype);var Y=d.extend({init:function(a,b){this.width=a||0;this.height=b||0},equals:function(a){return a&&a.width===this.width&&a.height===this.height},clone:function(){return new Y(this.width,this.height)},toArray:function(a){var b=o(a);var c=b?H(this.width,a):this.width;var d=b?H(this.height,a):this.height;return[c,d]}});Y.create=function(a,b){if(o(a)){if(a instanceof Y){return a}else if(arguments.length===1&&a.length===2){return new Y(a[0],a[1])}return new Y(a,b)}};if(Object.defineProperties){Object.defineProperties(Y,{ZERO:{get:function(){return new Y(0,0)}}})}U(Y.prototype,["width","height"]);j.extend(Y.prototype);var Z=d.extend({init:function(a,b){if(a===void 0){a=new X}if(b===void 0){b=new Y}this.setOrigin(a);this.setSize(b)},clone:function(){return new Z(this.origin.clone(),this.size.clone())},equals:function(a){return a&&a.origin.equals(this.origin)&&a.size.equals(this.size)},setOrigin:function(a){this._observerField("origin",X.create(a));this.geometryChange();return this},getOrigin:function(){return this.origin},setSize:function(a){this._observerField("size",Y.create(a));this.geometryChange();return this},getSize:function(){return this.size},width:function(){return this.size.width},height:function(){return this.size.height},topLeft:function(){return this.origin.clone()},bottomRight:function(){return this.origin.clone().translate(this.width(),this.height())},topRight:function(){return this.origin.clone().translate(this.width(),0)},bottomLeft:function(){return this.origin.clone().translate(0,this.height())},center:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)},bbox:function(a){var b=this.topLeft().transformCopy(a);var c=this.topRight().transformCopy(a);var d=this.bottomRight().transformCopy(a);var e=this.bottomLeft().transformCopy(a);return Z.fromPoints(b,c,d,e)},transformCopy:function(a){return Z.fromPoints(this.topLeft().transform(a),this.bottomRight().transform(a))},expand:function(a,b){if(b===void 0){b=a}this.size.width+=2*a;this.size.height+=2*b;this.origin.translate(-a,-b);return this},expandCopy:function(a,b){return this.clone().expand(a,b)},containsPoint:function(a){var b=this.origin;var c=this.bottomRight();return!(a.x<b.x||a.y<b.y||c.x<a.x||c.y<a.y)},_isOnPath:function(a,b){var c=this.expandCopy(b,b);var d=this.expandCopy(-b,-b);return c.containsPoint(a)&&!d.containsPoint(a)}});Z.fromPoints=function(){var a=X.min.apply(null,arguments);var b=X.max.apply(null,arguments);var c=new Y(b.x-a.x,b.y-a.y);return new Z(a,c)};Z.union=function(a,b){return Z.fromPoints(X.min(a.topLeft(),b.topLeft()),X.max(a.bottomRight(),b.bottomRight()))};Z.intersect=function(a,b){var c={left:a.topLeft().x,top:a.topLeft().y,right:a.bottomRight().x,bottom:a.bottomRight().y};var d={left:b.topLeft().x,top:b.topLeft().y,right:b.bottomRight().x,bottom:b.bottomRight().y};if(c.left<=d.right&&d.left<=c.right&&c.top<=d.bottom&&d.top<=c.bottom){return Z.fromPoints(new X(Math.max(c.left,d.left),Math.max(c.top,d.top)),new X(Math.min(c.right,d.right),Math.min(c.bottom,d.bottom)))}};j.extend(Z.prototype);var $=d.extend({init:function(a){if(a===void 0){a=V.unit()}this._matrix=a},clone:function(){return new $(this._matrix.clone())},equals:function(a){return a&&a._matrix.equals(this._matrix)},translate:function(a,b){this._matrix=this._matrix.multiplyCopy(V.translate(a,b));this._optionsChange();return this},scale:function(a,b,c){if(b===void 0){b=a}if(c===void 0){c=null}var d=c;if(d){d=X.create(d);this._matrix=this._matrix.multiplyCopy(V.translate(d.x,d.y))}this._matrix=this._matrix.multiplyCopy(V.scale(a,b));if(d){this._matrix=this._matrix.multiplyCopy(V.translate(-d.x,-d.y))}this._optionsChange();return this},rotate:function(a,b){var c=X.create(b)||X.ZERO;this._matrix=this._matrix.multiplyCopy(V.rotate(a,c.x,c.y));this._optionsChange();return this},multiply:function(a){var b=W(a);this._matrix=this._matrix.multiplyCopy(b);this._optionsChange();return this},matrix:function(a){if(a){this._matrix=a;this._optionsChange();return this}return this._matrix},_optionsChange:function(){this.optionsChange({field:"transform",value:this})}});j.extend($.prototype);function _(a){if(a===null){return null}if(a instanceof $){return a}return new $(a)}var aa=d.extend({init:function(a){this._initOptions(a)},_initOptions:function(a){if(a===void 0){a={}}var b=a.clip;var c=a.transform;if(c){a.transform=_(c)}if(b&&!b.id){b.id=q()}this.options=new R(a);this.options.addObserver(this)},transform:function(a){if(o(a)){this.options.set("transform",_(a))}else{return this.options.get("transform")}},parentTransform:function(){var a=this;var b;while(a.parent){a=a.parent;var c=a.transform();if(c){b=c.matrix().multiplyCopy(b||V.unit())}}if(b){return _(b)}},currentTransform:function(a){if(a===void 0){a=this.parentTransform()}var b=this.transform();var c=W(b);var d=W(a);var e;if(c&&d){e=d.multiplyCopy(c)}else{e=c||d}if(e){return _(e)}},visible:function(a){if(o(a)){this.options.set("visible",a);return this}return this.options.get("visible")!==false},clip:function(a){var b=this.options;if(o(a)){if(a&&!a.id){a.id=q()}b.set("clip",a);return this}return b.get("clip")},opacity:function(a){if(o(a)){this.options.set("opacity",a);return this}return I(this.options.get("opacity"),1)},clippedBBox:function(a){var b=this._clippedBBox(a);if(b){var c=this.clip();return c?Z.intersect(b,c.bbox(a)):b}},containsPoint:function(a,b){if(this.visible()){var c=this.currentTransform(b);var d=a;if(c){d=a.transformCopy(c.matrix().invert())}return this._hasFill()&&this._containsPoint(d)||this._isOnPath&&this._hasStroke()&&this._isOnPath(d)}return false},_hasFill:function(){var a=this.options.fill;return a&&!B(a.color)},_hasStroke:function(){var a=this.options.stroke;return a&&a.width>0&&!B(a.color)},_clippedBBox:function(a){return this.bbox(a)}});aa.prototype.nodeType="Element";j.extend(aa.prototype);function ba(a,b,c,d){var e=0;var f=0;if(d){e=Math.atan2(d.c*c,d.a*b);if(d.b!==0){f=Math.atan2(d.d*c,d.b*b)}}return{x:e,y:f}}var ca=Math.PI/2;var da=d.extend({init:function(a,b){if(a===void 0){a=new X}if(b===void 0){b=0}this.setCenter(a);this.setRadius(b)},setCenter:function(a){this._observerField("center",X.create(a));this.geometryChange();return this},getCenter:function(){return this.center},equals:function(a){return a&&a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return new da(this.center.clone(),this.radius)},pointAt:function(a){return this._pointAt(F(a))},bbox:function(a){var b=this;var c=ba(this.center,this.radius,this.radius,a);var d=X.maxPoint();var e=X.minPoint();for(var f=0;f<4;f++){var g=b._pointAt(c.x+f*ca).transformCopy(a);var h=b._pointAt(c.y+f*ca).transformCopy(a);var i=new X(g.x,h.y);d=X.min(d,i);e=X.max(e,i)}return Z.fromPoints(d,e)},_pointAt:function(a){var b=this;var c=b.center;var d=b.radius;return new X(c.x+d*Math.cos(a),c.y+d*Math.sin(a))},containsPoint:function(a){var b=this;var c=b.center;var d=b.radius;var e=Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2)<=Math.pow(d,2);return e},_isOnPath:function(a,b){var c=this;var d=c.center;var e=c.radius;var f=d.distanceTo(a);return e-b<=f&&f<=e+b}});U(da.prototype,["radius"]);j.extend(da.prototype);var ea="Gradient";var fa={extend:function(a){a.fill=this.fill;a.stroke=this.stroke},fill:function(a,b){var c=this.options;if(o(a)){if(a&&a.nodeType!==ea){var d={color:a};if(o(b)){d.opacity=b}c.set("fill",d)}else{c.set("fill",a)}return this}return c.get("fill")},stroke:function(a,b,c){if(o(a)){this.options.set("stroke.color",a);if(o(b)){this.options.set("stroke.width",b)}if(o(c)){this.options.set("stroke.opacity",c)}return this}return this.options.get("stroke")}};var ga=V.IDENTITY.toString();var ha={extend:function(a){a.bbox=this.bbox;a.geometryChange=this.geometryChange},bbox:function(a){var b=W(this.currentTransform(a));var c=b?b.toString():ga;var d;if(this._bboxCache&&this._matrixHash===c){d=this._bboxCache.clone()}else{d=this._bbox(b);this._bboxCache=d?d.clone():null;this._matrixHash=c}var e=this.options.get("stroke.width");if(e&&d){d.expand(e/2)}return d},geometryChange:function(){delete this._bboxCache;this.trigger("geometryChange",{element:this})}};function ia(a){var b="_"+a;return function(a){if(o(a)){this._observerField(b,a);this.geometryChange();return this}return this[b]}}function ja(a,b){for(var c=0;c<b.length;c++){a[b[c]]=ia(b[c])}}var ka="#000";var la=aa.extend({init:function(a,b){if(a===void 0){a=new da}if(b===void 0){b={}}aa.fn.init.call(this,b);this.geometry(a);if(!o(this.options.stroke)){this.stroke(ka)}},rawBBox:function(){return this._geometry.bbox()},_bbox:function(a){return this._geometry.bbox(a)},_containsPoint:function(a){return this.geometry().containsPoint(a)},_isOnPath:function(a){return this.geometry()._isOnPath(a,this.options.stroke.width/2)}});la.prototype.nodeType="Circle";fa.extend(la.prototype);ha.extend(la.prototype);ja(la.prototype,["geometry"]);var ma=10;function na(a,b,c){if(c===void 0){c=ma}return H(Math.abs(a-b),c)===0}function oa(a,b,c){return a<b||na(a,b,c)}function pa(a,b,c,d){var e=b.x-a.x;var f=d.x-c.x;var g=b.y-a.y;var h=d.y-c.y;var i=a.x-c.x;var j=a.y-c.y;var k=e*h-f*g;var l=(e*j-g*i)/k;var m=(f*j-h*i)/k;if(l>=0&&l<=1&&m>=0&&m<=1){return new X(a.x+m*e,a.y+m*g)}}var qa=45;var ra=Math.pow;var sa=d.extend({init:function(a,b){if(a===void 0){a=new X}if(b===void 0){b={}}this.setCenter(a);this.radiusX=b.radiusX;this.radiusY=b.radiusY||b.radiusX;this.startAngle=b.startAngle;this.endAngle=b.endAngle;this.anticlockwise=b.anticlockwise||false;this.xRotation=b.xRotation},clone:function(){return new sa(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})},setCenter:function(a){this._observerField("center",X.create(a));this.geometryChange();return this},getCenter:function(){return this.center},pointAt:function(a){var b=this.center;var c=F(a);return new X(b.x+this.radiusX*Math.cos(c),b.y+this.radiusY*Math.sin(c))},curvePoints:function(){var a=this;var b=this.startAngle;var c=this.anticlockwise?-1:1;var d=[this.pointAt(b)];var e=this._arcInterval();var f=e.endAngle-e.startAngle;var g=Math.ceil(f/qa);var h=f/g;var i=b;var j;if(this.xRotation){j=_().rotate(this.xRotation,this.center)}for(var k=1;k<=g;k++){var l=i+c*h;var m=a._intervalCurvePoints(i,l,j);d.push(m.cp1,m.cp2,m.p2);i=l}return d},bbox:function(a){var b=this;var c=this._arcInterval();var d=c.startAngle;var e=c.endAngle;var f=ba(this.center,this.radiusX,this.radiusY,a);var g=u(f.x);var h=u(f.y);var i=this.pointAt(e).transformCopy(a);var j=va(g,d);var k=va(h,d);var l=this.pointAt(d).transformCopy(a);var m=X.min(l,i);var n=X.max(l,i);while(j<e||k<e){var o=void 0;if(j<e){o=b.pointAt(j).transformCopy(a);j+=90}var p=void 0;if(k<e){p=b.pointAt(k).transformCopy(a);k+=90}l=new X(o.x,p.y);m=X.min(m,l);n=X.max(n,l)}return Z.fromPoints(m,n)},_arcInterval:function(){var a=this;var b=a.startAngle;var c=a.endAngle;var d=a.anticlockwise;if(d){var e=b;b=c;c=e}if(b>c||d&&b===c){c+=360}return{startAngle:b,endAngle:c}},_intervalCurvePoints:function(a,b,c){var d=this.pointAt(a);var e=this.pointAt(b);var f=this._derivativeAt(a);var g=this._derivativeAt(b);var h=(F(b)-F(a))/3;var i=new X(d.x+h*f.x,d.y+h*f.y);var j=new X(e.x-h*g.x,e.y-h*g.y);if(c){d.transform(c);e.transform(c);i.transform(c);j.transform(c)}return{p1:d,cp1:i,cp2:j,p2:e}},_derivativeAt:function(a){var b=F(a);return new X(-this.radiusX*Math.sin(b),this.radiusY*Math.cos(b))},containsPoint:function(a){var b=this._arcInterval();var c=b.endAngle-b.startAngle;var d=this;var e=d.center;var f=d.radiusX;var g=d.radiusY;var h=e.distanceTo(a);var i=Math.atan2(a.y-e.y,a.x-e.x);var j=f*g/Math.sqrt(ra(f,2)*ra(Math.sin(i),2)+ra(g,2)*ra(Math.cos(i),2));var k=this.pointAt(this.startAngle).round(ma);var l=this.pointAt(this.endAngle).round(ma);var m=pa(e,a.round(ma),k,l);var n;if(c<180){n=m&&oa(e.distanceTo(m),h)&&oa(h,j)}else{var o=ta(e.x,e.y,f,g,a.x,a.y);if(o!==360){o=(360+o)%360}var p=b.startAngle<=o&&o<=b.endAngle;n=p&&oa(h,j)||!p&&(!m||m.equals(a))}return n},_isOnPath:function(a,b){var c=this._arcInterval();var d=this.center;var e=ta(d.x,d.y,this.radiusX,this.radiusY,a.x,a.y);if(e!==360){e=(360+e)%360}var f=c.startAngle<=e&&e<=c.endAngle;return f&&this.pointAt(e).distanceTo(a)<=b}});sa.fromPoints=function(a,b,c,d,e,f,g){var h=ua({x1:a.x,y1:a.y,x2:b.x,y2:b.y,rx:c,ry:d,largeArc:e,swipe:f,rotation:g});return new sa(h.center,{startAngle:h.startAngle,endAngle:h.endAngle,radiusX:h.radiusX,radiusY:h.radiusY,xRotation:h.xRotation,anticlockwise:f===0})};U(sa.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]);j.extend(sa.prototype);function ta(a,b,c,d,e,f){var g=H((e-a)/c,3);var h=H((f-b)/d,3);return H(u(Math.atan2(h,g)))}function ua(a){var b=a.x1;var c=a.y1;var d=a.x2;var e=a.y2;var f=a.rx;var g=a.ry;var h=a.largeArc;var i=a.swipe;var j=a.rotation;if(j===void 0){j=0}var k=F(j);var l=Math.cos(k);var m=Math.sin(k);var n=l*(b-d)/2+m*(c-e)/2;var o=-m*(b-d)/2+l*(c-e)/2;var p=h!==i?1:-1;var q=Math.pow(n,2);var r=Math.pow(o,2);var s=Math.pow(f,2);var t=Math.pow(g,2);var v=q/s+r/t;if(v>1){v=Math.sqrt(q/s+r/t);f=v*f;s=Math.pow(f,2);g=v*g;t=Math.pow(g,2)}var w=p*Math.sqrt((s*t-s*r-t*q)/(s*r+t*q));if(isNaN(w)){w=0}var x=w*(f*o)/g;var y=-w*(g*n)/f;var z=l*x-m*y+(b+d)/2;var A=m*x+l*y+(c+e)/2;var B=(n-x)/f;var C=(o-y)/g;var D=-(n+x)/f;var E=-(o+y)/g;var G=(C>=0?1:-1)*u(Math.acos(B/Math.sqrt(B*B+C*C)));var I=H((B*D+C*E)/(Math.sqrt(B*B+C*C)*Math.sqrt(D*D+E*E)),10);var J=(B*E-C*D>=0?1:-1)*u(Math.acos(I));if(!i&&J>0){J-=360}if(i&&J<0){J+=360}var K=G+J;var L=K>=0?1:-1;K=Math.abs(K)%360*L;return{center:new X(z,A),startAngle:G,endAngle:K,radiusX:f,radiusY:g,xRotation:j}}function va(a,b){var c=a;while(c<b){c+=90}return c}var wa=[].push;var xa=[].pop;var ya=[].splice;var za=[].shift;var Aa=[].slice;var Ba=[].unshift;var Ca=d.extend({init:function(a){if(a===void 0){a=[]}this.length=0;this._splice(0,a.length,a)},elements:function(a){if(a){this._splice(0,this.length,a);this._change();return this}return this.slice(0)},push:function(){var a=arguments;var b=wa.apply(this,a);this._add(a);return b},slice:function(){return Aa.call(this)},pop:function(){var a=this.length;var b=xa.apply(this);if(a){this._remove([b])}return b},splice:function(a,b){var c=Aa.call(arguments,2);var d=this._splice(a,b,c);this._change();return d},shift:function(){var a=this.length;var b=za.apply(this);if(a){this._remove([b])}return b},unshift:function(){var a=arguments;var b=Ba.apply(this,a);this._add(a);return b},indexOf:function(a){var b=this;var c=this.length;for(var d=0;d<c;d++){if(b[d]===a){return d}}return-1},_splice:function(a,b,c){var d=ya.apply(this,[a,b].concat(c));this._clearObserver(d);this._setObserver(c);return d},_add:function(a){this._setObserver(a);this._change()},_remove:function(a){this._clearObserver(a);this._change()},_setObserver:function(a){var b=this;for(var c=0;c<a.length;c++){a[c].addObserver(b)}},_clearObserver:function(a){var b=this;for(var c=0;c<a.length;c++){a[c].removeObserver(b)}},_change:function(){}});j.extend(Ca.prototype);var Da=Ca.extend({_change:function(){this.geometryChange()}});function Ea(a){var b="_"+a;return function(a){if(o(a)){this._observerField(b,X.create(a));this.geometryChange();return this}return this[b]}}function Fa(a,b){for(var c=0;c<b.length;c++){a[b[c]]=Ea(b[c])}}function Ga(a,b,c){var d=u(Math.atan2(b.y-a.y,b.x-a.x));var e=c.transformCopy(_().rotate(-d,a));return e.x<a.x}function Ha(a,b,c){var d=1-a;return Math.pow(d,3)*c[0][b]+3*Math.pow(d,2)*a*c[1][b]+3*Math.pow(a,2)*d*c[2][b]+Math.pow(a,3)*c[3][b]}function Ia(a,b){return[-a[0][b]+3*a[1][b]-3*a[2][b]+a[3][b],3*(a[0][b]-2*a[1][b]+a[2][b]),3*(-a[0][b]+a[1][b]),a[0][b]]}var Ja=d.extend({init:function(a,b){if(a===void 0){a=0}if(b===void 0){b=0}this.real=a;this.img=b},add:function(a){return new Ja(H(this.real+a.real,ma),H(this.img+a.img,ma))},addConstant:function(a){return new Ja(this.real+a,this.img)},negate:function(){return new Ja(-this.real,-this.img)},multiply:function(a){return new Ja(this.real*a.real-this.img*a.img,this.real*a.img+this.img*a.real)},multiplyConstant:function(a){return new Ja(this.real*a,this.img*a)},nthRoot:function(a){var b=Math.atan2(this.img,this.real);var c=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2));var d=Math.pow(c,1/a);return new Ja(d*Math.cos(b/a),d*Math.sin(b/a))},equals:function(a){return this.real===a.real&&this.img===a.img},isReal:function(){return this.img===0}});function Ka(a){return a<0?-1:1}function La(a,b,c){var d=Math.sqrt(Math.pow(b,2)-4*a*c);return[(-b+d)/(2*a),(-b-d)/(2*a)]}function Ma(a,b,c,d){if(a===0){return La(b,c,d)}var e=(3*a*c-Math.pow(b,2))/(3*Math.pow(a,2));var f=(2*Math.pow(b,3)-9*a*b*c+27*Math.pow(a,2)*d)/(27*Math.pow(a,3));var g=Math.pow(e/3,3)+Math.pow(f/2,2);var h=new Ja(0,1);var i=-b/(3*a);var j,k,l,m,n,o,p;if(g<0){j=new Ja(-f/2,Math.sqrt(-g)).nthRoot(3);k=new Ja(-f/2,-Math.sqrt(-g)).nthRoot(3)}else{j=-f/2+Math.sqrt(g);j=new Ja(Ka(j)*Math.pow(Math.abs(j),1/3));k=-f/2-Math.sqrt(g);k=new Ja(Ka(k)*Math.pow(Math.abs(k),1/3))}l=j.add(k);o=j.add(k).multiplyConstant(-1/2);p=j.add(k.negate()).multiplyConstant(Math.sqrt(3)/2);m=o.add(h.multiply(p));n=o.add(h.negate().multiply(p));var q=[];if(l.isReal()){q.push(H(l.real+i,ma))}if(m.isReal()){q.push(H(m.real+i,ma))}if(n.isReal()){q.push(H(n.real+i,ma))}return q}function Na(a,b,c,d,e){var f=Ia(a,d);var g=Ma(f[0],f[1],f[2],f[3]-b[d]);var h;for(var i=0;i<g.length;i++){if(0<=g[i]&&g[i]<=1){h=Ha(g[i],c,a);if(Math.abs(h-b[c])<=e){return true}}}}function Oa(a,b,c){var d=Ia(a,"x");var e=Ma(d[0],d[1],d[2],d[3]-b.x);var f,g;var h=0;for(var i=0;i<e.length;i++){f=Ha(e[i],"y",a);g=na(f,b.y)||f>b.y;if(g&&((e[i]===0||e[i]===1)&&c.bottomRight().x>b.x||0<e[i]&&e[i]<1)){h++}}return h}function Pa(a,b,c){var d;if(a.x!==b.x){var e=Math.min(a.x,b.x);var f=Math.max(a.x,b.x);var g=Math.min(a.y,b.y);var h=Math.max(a.y,b.y);var i=e<=c.x&&c.x<f;if(g===h){d=c.y<=g&&i}else{d=i&&(h-g)*((a.x-b.x)*(a.y-b.y)>0?c.x-e:f-c.x)/(f-e)+g-c.y>=0}}return d?1:0}var Qa=d.extend({init:function(a,b,c){this.anchor(a||new X);this.controlIn(b);this.controlOut(c)},bboxTo:function(a,b){var c=this.anchor().transformCopy(b);var d=a.anchor().transformCopy(b);var e;if(this.controlOut()&&a.controlIn()){e=this._curveBoundingBox(c,this.controlOut().transformCopy(b),a.controlIn().transformCopy(b),d)}else{e=this._lineBoundingBox(c,d)}return e},_lineBoundingBox:function(a,b){return Z.fromPoints(a,b)},_curveBoundingBox:function(a,b,c,d){var e=[a,b,c,d];var f=this._curveExtremesFor(e,"x");var g=this._curveExtremesFor(e,"y");var h=Ra([f.min,f.max,a.x,d.x]);var i=Ra([g.min,g.max,a.y,d.y]);return Z.fromPoints(new X(h.min,i.min),new X(h.max,i.max))},_curveExtremesFor:function(a,b){var c=this._curveExtremes(a[0][b],a[1][b],a[2][b],a[3][b]);return{min:Ha(c.min,b,a),max:Ha(c.max,b,a)}},_curveExtremes:function(a,b,c,d){var e=a-3*b+3*c-d;var f=-2*(a-2*b+c);var g=a-b;var h=Math.sqrt(f*f-4*e*g);var i=0;var j=1;if(e===0){if(f!==0){i=j=-g/f}}else if(!isNaN(h)){i=(-f+h)/(2*e);j=(-f-h)/(2*e)}var k=Math.max(Math.min(i,j),0);if(k<0||k>1){k=0}var l=Math.min(Math.max(i,j),1);if(l>1||l<0){l=1}return{min:k,max:l}},_intersectionsTo:function(a,b){var c;if(this.controlOut()&&a.controlIn()){c=Oa([this.anchor(),this.controlOut(),a.controlIn(),a.anchor()],b,this.bboxTo(a))}else{c=Pa(this.anchor(),a.anchor(),b)}return c},_isOnCurveTo:function(a,b,c,d){var e=this.bboxTo(a).expand(c,c);if(e.containsPoint(b)){var f=this.anchor();var g=this.controlOut();var h=a.controlIn();var i=a.anchor();if(d==="start"&&f.distanceTo(b)<=c){return!Ga(f,g,b)}else if(d==="end"&&i.distanceTo(b)<=c){return!Ga(i,h,b)}var j=[f,g,h,i];if(Na(j,b,"x","y",c)||Na(j,b,"y","x",c)){return true}var k=_().rotate(45,b);var l=[f.transformCopy(k),g.transformCopy(k),h.transformCopy(k),i.transformCopy(k)];return Na(l,b,"x","y",c)||Na(l,b,"y","x",c)}},_isOnLineTo:function(a,b,c){var d=this.anchor();var e=a.anchor();var f=u(Math.atan2(e.y-d.y,e.x-d.x));var g=new Z([d.x,d.y-c/2],[d.distanceTo(e),c]);return g.containsPoint(b.transformCopy(_().rotate(-f,d)))},_isOnPathTo:function(a,b,c,d){var e;if(this.controlOut()&&a.controlIn()){e=this._isOnCurveTo(a,b,c/2,d)}else{e=this._isOnLineTo(a,b,c)}return e}});Fa(Qa.prototype,["anchor","controlIn","controlOut"]);j.extend(Qa.prototype);function Ra(a){var b=a.length;var c=s;var d=t;for(var e=0;e<b;e++){d=Math.max(d,a[e]);c=Math.min(c,a[e])}return{min:c,max:d}}var Sa=aa.extend({init:function(a){aa.fn.init.call(this,a);this.segments=new Da;this.segments.addObserver(this);if(!o(this.options.stroke)){this.stroke("#000");if(!o(this.options.stroke.lineJoin)){this.options.set("stroke.lineJoin","miter")}}},moveTo:function(a,b){this.suspend();this.segments.elements([]);this.resume();this.lineTo(a,b);return this},lineTo:function(a,b){var c=o(b)?new X(a,b):a;var d=new Qa(c);this.segments.push(d);return this},curveTo:function(a,b,c){if(this.segments.length>0){var d=C(this.segments);var e=new Qa(c,b);this.suspend();d.controlOut(a);this.resume();this.segments.push(e)}return this},arc:function(a,b,c,d,e){if(this.segments.length>0){var f=C(this.segments);var g=f.anchor();var h=F(a);var i=new X(g.x-c*Math.cos(h),g.y-d*Math.sin(h));var j=new sa(i,{startAngle:a,endAngle:b,radiusX:c,radiusY:d,anticlockwise:e});this._addArcSegments(j)}return this},arcTo:function(a,b,c,d,e,f){if(this.segments.length>0){var g=C(this.segments);var h=g.anchor();var i=sa.fromPoints(h,a,b,c,d,e,f);this._addArcSegments(i)}return this},_addArcSegments:function(a){var b=this;this.suspend();var c=a.curvePoints();for(var d=1;d<c.length;d+=3){b.curveTo(c[d],c[d+1],c[d+2])}this.resume();this.geometryChange()},close:function(){this.options.closed=true;this.geometryChange();return this},rawBBox:function(){return this._bbox()},_containsPoint:function(a){var b=this.segments;var c=b.length;var d=0;var e,f;for(var g=1;g<c;g++){e=b[g-1];f=b[g];d+=e._intersectionsTo(f,a)}if(this.options.closed||!b[0].anchor().equals(b[c-1].anchor())){d+=Pa(b[0].anchor(),b[c-1].anchor(),a)}
return d%2!==0},_isOnPath:function(a,b){var c=this.segments;var d=c.length;var e=b||this.options.stroke.width;if(d>1){if(c[0]._isOnPathTo(c[1],a,e,"start")){return true}for(var f=2;f<=d-2;f++){if(c[f-1]._isOnPathTo(c[f],a,e)){return true}}if(c[d-2]._isOnPathTo(c[d-1],a,e,"end")){return true}}return false},_bbox:function(a){var b=this.segments;var c=b.length;var d;if(c===1){var e=b[0].anchor().transformCopy(a);d=new Z(e,Y.ZERO)}else if(c>0){for(var f=1;f<c;f++){var g=b[f-1].bboxTo(b[f],a);if(d){d=Z.union(d,g)}else{d=g}}}return d}});Sa.fromRect=function(a,b){return new Sa(b).moveTo(a.topLeft()).lineTo(a.topRight()).lineTo(a.bottomRight()).lineTo(a.bottomLeft()).close()};Sa.fromPoints=function(a,b){if(a){var c=new Sa(b);for(var d=0;d<a.length;d++){var e=X.create(a[d]);if(e){if(d===0){c.moveTo(e)}else{c.lineTo(e)}}}return c}};Sa.fromArc=function(a,b){var c=new Sa(b);var d=a.startAngle;var e=a.pointAt(d);c.moveTo(e.x,e.y);c.arc(d,a.endAngle,a.radiusX,a.radiusY,a.anticlockwise);return c};Sa.prototype.nodeType="Path";fa.extend(Sa.prototype);ha.extend(Sa.prototype);var Ta="#000";var Ua=aa.extend({init:function(a,b){if(a===void 0){a=new sa}if(b===void 0){b={}}aa.fn.init.call(this,b);this.geometry(a);if(!o(this.options.stroke)){this.stroke(Ta)}},_bbox:function(a){return this._geometry.bbox(a)},rawBBox:function(){return this.geometry().bbox()},toPath:function(){var a=new Sa;var b=this.geometry().curvePoints();if(b.length>0){a.moveTo(b[0].x,b[0].y);for(var c=1;c<b.length;c+=3){a.curveTo(b[c],b[c+1],b[c+2])}}return a},_containsPoint:function(a){return this.geometry().containsPoint(a)},_isOnPath:function(a){return this.geometry()._isOnPath(a,this.options.stroke.width/2)}});Ua.prototype.nodeType="Arc";fa.extend(Ua.prototype);ha.extend(Ua.prototype);ja(Ua.prototype,["geometry"]);function Va(a,b,c){var d;for(var e=0;e<a.length;e++){var f=a[e];if(f.visible()){var g=b?f.bbox(c):f.rawBBox();if(g){if(d){d=Z.union(d,g)}else{d=g}}}}return d}function Wa(a,b){var c;for(var d=0;d<a.length;d++){var e=a[d];if(e.visible()){var f=e.clippedBBox(b);if(f){if(c){c=Z.union(c,f)}else{c=f}}}}return c}var Xa=aa.extend({init:function(a){aa.fn.init.call(this,a);this.paths=new Da;this.paths.addObserver(this);if(!o(this.options.stroke)){this.stroke("#000")}},moveTo:function(a,b){var c=new Sa;c.moveTo(a,b);this.paths.push(c);return this},lineTo:function(a,b){if(this.paths.length>0){C(this.paths).lineTo(a,b)}return this},curveTo:function(a,b,c){if(this.paths.length>0){C(this.paths).curveTo(a,b,c)}return this},arc:function(a,b,c,d,e){if(this.paths.length>0){C(this.paths).arc(a,b,c,d,e)}return this},arcTo:function(a,b,c,d,e,f){if(this.paths.length>0){C(this.paths).arcTo(a,b,c,d,e,f)}return this},close:function(){if(this.paths.length>0){C(this.paths).close()}return this},_bbox:function(a){return Va(this.paths,true,a)},rawBBox:function(){return Va(this.paths,false)},_containsPoint:function(a){var b=this.paths;for(var c=0;c<b.length;c++){if(b[c]._containsPoint(a)){return true}}return false},_isOnPath:function(a){var b=this.paths;var c=this.options.stroke.width;for(var d=0;d<b.length;d++){if(b[d]._isOnPath(a,c)){return true}}return false},_clippedBBox:function(a){return Wa(this.paths,this.currentTransform(a))}});Xa.prototype.nodeType="MultiPath";fa.extend(Xa.prototype);ha.extend(Xa.prototype);var Ya="12px sans-serif";var Za="#000";var $a=aa.extend({init:function(a,b,c){if(b===void 0){b=new X}if(c===void 0){c={}}aa.fn.init.call(this,c);this.content(a);this.position(b);if(!this.options.font){this.options.font=Ya}if(!o(this.options.fill)){this.fill(Za)}},content:function(a){if(o(a)){this.options.set("content",a);return this}return this.options.get("content")},measure:function(){var a=e.measureText(this.content(),{font:this.options.get("font")});return a},rect:function(){var a=this.measure();var b=this.position().clone();return new Z(b,[a.width,a.height])},bbox:function(a){var b=W(this.currentTransform(a));return this.rect().bbox(b)},rawBBox:function(){return this.rect().bbox()},_containsPoint:function(a){return this.rect().containsPoint(a)}});$a.prototype.nodeType="Text";fa.extend($a.prototype);Fa($a.prototype,["position"]);var _a=aa.extend({init:function(a,b,c){if(b===void 0){b=new Z}if(c===void 0){c={}}aa.fn.init.call(this,c);this.src(a);this.rect(b)},src:function(a){if(o(a)){this.options.set("src",a);return this}return this.options.get("src")},bbox:function(a){var b=W(this.currentTransform(a));return this._rect.bbox(b)},rawBBox:function(){return this._rect.bbox()},_containsPoint:function(a){return this._rect.containsPoint(a)},_hasFill:function(){return this.src()}});_a.prototype.nodeType="Image";ja(_a.prototype,["rect"]);var ab={extend:function(a,b){a.traverse=function(a){var c=this[b];for(var d=0;d<c.length;d++){var e=c[d];if(e.traverse){e.traverse(a)}else{a(e)}}return this}}};var bb=aa.extend({init:function(a){aa.fn.init.call(this,a);this.children=[]},childrenChange:function(a,b,c){this.trigger("childrenChange",{action:a,items:b,index:c})},append:function(){k(this.children,arguments);this._reparent(arguments,this);this.childrenChange("add",arguments);return this},insert:function(a,b){this.children.splice(a,0,b);b.parent=this;this.childrenChange("add",[b],a);return this},insertAt:function(a,b){return this.insert(b,a)},remove:function(a){var b=this.children.indexOf(a);if(b>=0){this.children.splice(b,1);a.parent=null;this.childrenChange("remove",[a],b)}return this},removeAt:function(a){if(0<=a&&a<this.children.length){var b=this.children[a];this.children.splice(a,1);b.parent=null;this.childrenChange("remove",[b],a)}return this},clear:function(){var a=this.children;this.children=[];this._reparent(a,null);this.childrenChange("remove",a,0);return this},bbox:function(a){return Va(this.children,true,this.currentTransform(a))},rawBBox:function(){return Va(this.children,false)},_clippedBBox:function(a){return Wa(this.children,this.currentTransform(a))},currentTransform:function(a){return aa.prototype.currentTransform.call(this,a)||null},containsPoint:function(a,b){if(this.visible()){var c=this.children;var d=this.currentTransform(b);for(var e=0;e<c.length;e++){if(c[e].containsPoint(a,d)){return true}}}return false},_reparent:function(a,b){var c=this;for(var d=0;d<a.length;d++){var e=a[d];var f=e.parent;if(f&&f!==c&&f.remove){f.remove(e)}e.parent=b}}});bb.prototype.nodeType="Group";ab.extend(bb.prototype,"children");function cb(a,b,c){var d=c.transform()||_();var e=d.matrix();e.e+=a.x-b.origin.x;e.f+=a.y-b.origin.y;d.matrix(e);c.transform(d)}function db(a,b,c,d,e){var f;if(c==="start"){f=b.origin[d]}else if(c==="end"){f=b.origin[d]+b.size[e]-a}else{f=b.origin[d]+(b.size[e]-a)/2}return f}function eb(a,b,c,d,e){var f;if(c==="start"){f=b.origin[d]+b.size[e]-a}else if(c==="end"){f=b.origin[d]}else{f=b.origin[d]+(b.size[e]-a)/2}return f}var fb={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:true,revers:false};var gb=function(a,b){a.forEach(b)};var hb=function(a,b){var c=a.length;for(var d=c-1;d>=0;d--){b(a[d],d)}};var ib=bb.extend({init:function(b,c){bb.fn.init.call(this,a.extend({},fb,c));this._rect=b;this._fieldMap={}},rect:function(a){if(a){this._rect=a;return this}return this._rect},_initMap:function(){var a=this.options;var b=this._fieldMap;if(a.orientation==="horizontal"){b.sizeField="width";b.groupsSizeField="height";b.groupAxis="x";b.groupsAxis="y"}else{b.sizeField="height";b.groupsSizeField="width";b.groupAxis="y";b.groupsAxis="x"}if(a.reverse){this.forEach=hb;this.justifyAlign=eb}else{this.forEach=gb;this.justifyAlign=db}},reflow:function(){var a=this;if(!this._rect||this.children.length===0){return}this._initMap();if(this.options.transform){this.transform(null)}var b=this.options;var c=this._rect;var d=this._initGroups();var e=d.groups;var f=d.groupsSize;var g=this._fieldMap;var h=g.sizeField;var i=g.groupsSizeField;var j=g.groupAxis;var k=g.groupsAxis;var l=new X;var m=new X;var n=new Y;var o=db(f,c,b.alignContent,k,i);var p,q,r;var s=function(a,c){var d=q.elements[c];m[j]=p;m[k]=db(a.size[i],r,b.alignItems,k,i);cb(m,a,d);p+=a.size[h]+b.spacing};for(var t=0;t<e.length;t++){q=e[t];l[j]=p=a.justifyAlign(q.size,c,b.justifyContent,j,h);l[k]=o;n[h]=q.size;n[i]=q.lineSize;r=new Z(l,n);a.forEach(q.bboxes,s);o+=q.lineSize+b.lineSpacing}if(!b.wrap&&q.size>c.size[h]){var u=c.size[h]/r.size[h];var v=r.topLeft().scale(u,u);var w=r.size[i]*u;var x=db(w,c,b.alignContent,k,i);var y=_();if(j==="x"){y.translate(c.origin.x-v.x,x-v.y)}else{y.translate(x-v.x,c.origin.y-v.y)}y.scale(u,u);this.transform(y)}},_initGroups:function(){var a=this;var b=this;var c=b.options;var d=b.children;var e=c.lineSpacing;var f=c.wrap;var g=c.spacing;var h=this._fieldMap.sizeField;var i=this._newGroup();var j=[];var k=function(){j.push(i);l+=i.lineSize+e};var l=-e;for(var m=0;m<d.length;m++){var n=d[m];var o=d[m].clippedBBox();if(n.visible()&&o){if(f&&i.size+o.size[h]+g>a._rect.size[h]){if(i.bboxes.length===0){a._addToGroup(i,o,n);k();i=a._newGroup()}else{k();i=a._newGroup();a._addToGroup(i,o,n)}}else{a._addToGroup(i,o,n)}}}if(i.bboxes.length){k()}return{groups:j,groupsSize:l}},_addToGroup:function(a,b,c){a.size+=b.size[this._fieldMap.sizeField]+this.options.spacing;a.lineSize=Math.max(b.size[this._fieldMap.groupsSizeField],a.lineSize);a.bboxes.push(b);a.elements.push(c)},_newGroup:function(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}});var jb=aa.extend({init:function(a,b){if(a===void 0){a=new Z}if(b===void 0){b={}}aa.fn.init.call(this,b);this.geometry(a);if(!o(this.options.stroke)){this.stroke("#000")}},_bbox:function(a){return this._geometry.bbox(a)},rawBBox:function(){return this._geometry.bbox()},_containsPoint:function(a){return this._geometry.containsPoint(a)},_isOnPath:function(a){return this.geometry()._isOnPath(a,this.options.stroke.width/2)}});jb.prototype.nodeType="Rect";fa.extend(jb.prototype);ha.extend(jb.prototype);ja(jb.prototype,["geometry"]);function kb(a,b,c,d,e){for(var f=0;f<a.length;f++){var g=a[f].clippedBBox();if(g){var h=g.origin.clone();h[d]=db(g.size[e],b,c||"start",d,e);cb(h,g,a[f])}}}function lb(a,b,c){kb(a,b,c,"x","width")}function mb(a,b,c){kb(a,b,c,"y","height")}function nb(a,b,c,d){if(a.length>1){var e=new X;var f=a[0].bbox;for(var g=1;g<a.length;g++){var h=a[g].element;var i=a[g].bbox;e[b]=f.origin[b]+f.size[d];e[c]=i.origin[c];cb(e,i,h);i.origin[b]=e[b];f=i}}}function ob(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];var e=d.clippedBBox();if(e){b.push({element:d,bbox:e})}}return b}function pb(a){nb(ob(a),"x","y","width")}function qb(a){nb(ob(a),"y","x","height")}function rb(a,b,c){var d=b.size[c];var e=[];var f=[];var g=0;var h,i;var j=function(){f.push({element:h,bbox:i})};for(var k=0;k<a.length;k++){h=a[k];i=h.clippedBBox();if(i){var l=i.size[c];if(g+l>d){if(f.length){e.push(f);f=[];j();g=l}else{j();e.push(f);f=[];g=0}}else{j();g+=l}}}if(f.length){e.push(f)}return e}function sb(a,b,c,d,e){var f=rb(a,b,e);var g=b.origin.clone();var h=[];for(var i=0;i<f.length;i++){var j=f[i];var k=j[0];g[d]=k.bbox.origin[d];cb(g,k.bbox,k.element);k.bbox.origin[c]=g[c];nb(j,c,d,e);h.push([]);for(var l=0;l<j.length;l++){h[i].push(j[l].element)}}return h}function tb(a,b){return sb(a,b,"x","y","width")}function ub(a,b){return sb(a,b,"y","x","height")}function vb(a,b){var c=a.clippedBBox();if(c){var d=c.size;var e=b.size;if(e.width<d.width||e.height<d.height){var f=Math.min(e.width/d.width,e.height/d.height);var g=a.transform()||_();g.scale(f,f);a.transform(g)}}}var wb=Ca.extend({_change:function(){this.optionsChange({field:"stops"})}});function xb(a){return function(b){if(o(b)){this.options.set(a,b);return this}return this.options.get(a)}}function yb(a,b){for(var c=0;c<b.length;c++){a[b[c]]=xb(b[c])}}var zb=d.extend({init:function(a,b,c){this.options=new R({offset:a,color:b,opacity:o(c)?c:1});this.options.addObserver(this)}});zb.create=function(a){if(o(a)){var b;if(a instanceof zb){b=a}else if(a.length>1){b=new zb(a[0],a[1],a[2])}else{b=new zb(a.offset,a.color,a.opacity)}return b}};yb(zb.prototype,["offset","color","opacity"]);j.extend(zb.prototype);var Ab=d.extend({init:function(a){if(a===void 0){a={}}this.stops=new wb(this._createStops(a.stops));this.stops.addObserver(this);this._userSpace=a.userSpace;this.id=q()},userSpace:function(a){if(o(a)){this._userSpace=a;this.optionsChange();return this}return this._userSpace},_createStops:function(a){if(a===void 0){a=[]}var b=[];for(var c=0;c<a.length;c++){b.push(zb.create(a[c]))}return b},addStop:function(a,b,c){this.stops.push(new zb(a,b,c))},removeStop:function(a){var b=this.stops.indexOf(a);if(b>=0){this.stops.splice(b,1)}}});Ab.prototype.nodeType="Gradient";j.extend(Ab.prototype);a.extend(Ab.prototype,{optionsChange:function(a){this.trigger("optionsChange",{field:"gradient"+(a?"."+a.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var Bb=Ab.extend({init:function(a){if(a===void 0){a={}}Ab.fn.init.call(this,a);this.start(a.start||new X);this.end(a.end||new X(1,0))}});Fa(Bb.prototype,["start","end"]);var Cb=Ab.extend({init:function(a){if(a===void 0){a={}}Ab.fn.init.call(this,a);this.center(a.center||new X);this._radius=o(a.radius)?a.radius:1;this._fallbackFill=a.fallbackFill},radius:function(a){if(o(a)){this._radius=a;this.geometryChange();return this}return this._radius},fallbackFill:function(a){if(o(a)){this._fallbackFill=a;this.optionsChange();return this}return this._fallbackFill}});Fa(Cb.prototype,["center"]);function Db(a){return.5-Math.cos(a*Math.PI)/2}function Eb(a){return a}function Fb(a,b,c,d){var e=1.70158,f=0,g=d;if(a===0){return c}if(a===1){return c+d}if(!f){f=.5}if(g<Math.abs(d)){g=d;e=f/4}else{e=f/(2*Math.PI)*Math.asin(d/g)}return g*Math.pow(2,-10*a)*Math.sin((Number(a)-e)*(1.1*Math.PI)/f)+d+c}var Gb={swing:Db,linear:Eb,easeOutElastic:Fb};var Hb=Date.now||function(){return(new Date).getTime()};var Ib=d.extend({init:function(b,c){this.options=a.extend({},this.options,c);this.element=b},setup:function(){},step:function(){},play:function(){var a=this;var b=this.options;var c=b.duration;var d=b.delay;if(d===void 0){d=0}var e=Gb[b.easing];var f=Hb()+d;var g=f+c;if(c===0){this.step(1);this.abort()}else{setTimeout(function(){var b=function(){if(a._stopped){return}var d=Hb();var h=D(d-f,0,c);var i=h/c;var j=e(i,h,0,1,c);a.step(j);if(d<g){kendo.animationFrame(b)}else{a.abort()}};b()},d)}},abort:function(){this._stopped=true},destroy:function(){this.abort()}});Ib.prototype.options={duration:500,easing:"swing"};var Jb=d.extend({init:function(){this._items=[]},register:function(a,b){this._items.push({name:a,type:b})},create:function(a,b){var c=this._items;var d;if(b&&b.type){var e=b.type.toLowerCase();for(var f=0;f<c.length;f++){if(c[f].name.toLowerCase()===e){d=c[f];break}}}if(d){return new d.type(a,b)}}});Jb.current=new Jb;Ib.create=function(a,b,c){return Jb.current.create(a,b,c)};var Kb={l:function(a,b){var c=b.parameters;var d=b.position;for(var e=0;e<c.length;e+=2){var f=new X(c[e],c[e+1]);if(b.isRelative){f.translateWith(d)}a.lineTo(f.x,f.y);d.x=f.x;d.y=f.y}},c:function(a,b){var c=b.parameters;var d=b.position;for(var e=0;e<c.length;e+=6){var f=new X(c[e],c[e+1]);var g=new X(c[e+2],c[e+3]);var h=new X(c[e+4],c[e+5]);if(b.isRelative){g.translateWith(d);f.translateWith(d);h.translateWith(d)}a.curveTo(f,g,h);d.x=h.x;d.y=h.y}},v:function(a,b){var c=b.isRelative?0:b.position.x;Lb(b.parameters,true,c);this.l(a,b)},h:function(a,b){var c=b.isRelative?0:b.position.y;Lb(b.parameters,false,c);this.l(a,b)},a:function(a,b){var c=b.parameters;var d=b.position;for(var e=0;e<c.length;e+=7){var f=c[e];var g=c[e+1];var h=c[e+2];var i=c[e+3];var j=c[e+4];var k=new X(c[e+5],c[e+6]);if(b.isRelative){k.translateWith(d)}if(d.x!==k.x||d.y!==k.y){a.arcTo(k,f,g,i,j,h);d.x=k.x;d.y=k.y}}},s:function(a,b){var c=b.parameters;var d=b.position;var e=b.previousCommand;var f;if(e==="s"||e==="c"){f=C(C(a.paths).segments).controlIn()}for(var g=0;g<c.length;g+=4){var h=new X(c[g],c[g+1]);var i=new X(c[g+2],c[g+3]);var j=void 0;if(b.isRelative){h.translateWith(d);i.translateWith(d)}if(f){j=Mb(f,d)}else{j=d.clone()}f=h;a.curveTo(j,h,i);d.x=i.x;d.y=i.y}},q:function(a,b){var c=b.parameters;var d=b.position;for(var e=0;e<c.length;e+=4){var f=new X(c[e],c[e+1]);var g=new X(c[e+2],c[e+3]);if(b.isRelative){f.translateWith(d);g.translateWith(d)}var h=Ob(d,f,g);a.curveTo(h.controlOut,h.controlIn,g);d.x=g.x;d.y=g.y}},t:function(a,b){var c=b.parameters;var d=b.position;var e=b.previousCommand;var f;if(e==="q"||e==="t"){var g=C(C(a.paths).segments);f=g.controlIn().clone().translateWith(d.scaleCopy(-1/3)).scale(3/2)}for(var h=0;h<c.length;h+=2){var i=new X(c[h],c[h+1]);if(b.isRelative){i.translateWith(d)}if(f){f=Mb(f,d)}else{f=d.clone()}var j=Ob(d,f,i);a.curveTo(j.controlOut,j.controlIn,i);d.x=i.x;d.y=i.y}}};function Lb(a,b,c){var d=b?0:1;for(var e=0;e<a.length;e+=2){a.splice(e+d,0,c)}}function Mb(a,b){if(a&&b){return b.scaleCopy(2).translate(-a.x,-a.y)}}var Nb=1/3;function Ob(a,b,c){var d=b.clone().scale(2/3);return{controlOut:d.clone().translateWith(a.scaleCopy(Nb)),controlIn:d.translateWith(c.scaleCopy(Nb))}}var Pb=/([a-df-z]{1})([^a-df-z]*)(z)?/gi;var Qb=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g;var Rb="m";var Sb="z";function Tb(a){var b=[];a.replace(Qb,function(a,c){b.push(parseFloat(c))});return b}var Ub=d.extend({parse:function(a,b){var c=new Xa(b);var d=new X;var e;a.replace(Pb,function(a,b,f,g){var h=b.toLowerCase();var i=h===b;var j=Tb(f.trim());if(h===Rb){if(i){d.x+=j[0];d.y+=j[1]}else{d.x=j[0];d.y=j[1]}c.moveTo(d.x,d.y);if(j.length>2){h="l";j.splice(0,2)}}if(Kb[h]){Kb[h](c,{parameters:j,position:d,isRelative:i,previousCommand:e});if(g&&g.toLowerCase()===Sb){c.close()}}else if(h!==Rb){throw new Error("Error while parsing SVG path. Unsupported command: "+h)}e=h});return c}});Ub.current=new Ub;Sa.parse=function(a,b){return Ub.current.parse(a,b)};var Vb=d.extend({init:function(){this._items=[]},register:function(a,b,c){var d=this._items;var e=d[0];var f={name:a,type:b,order:c};if(!e||c<e.order){d.unshift(f)}else{d.push(f)}},create:function(a,b){var c=this._items;var d=c[0];if(b&&b.type){var e=b.type.toLowerCase();for(var f=0;f<c.length;f++){if(c[f].name===e){d=c[f];break}}}if(d){return new d.type(a,b)}kendo.logToConsole("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+"- The browser does not support SVG and Canvas. User agent: "+navigator.userAgent)}});Vb.current=new Vb;var Wb=["click","mouseenter","mouseleave","mousemove","resize"];var Xb=kendo.Observable.extend({init:function(b,c){kendo.Observable.fn.init.call(this);this.options=a.extend({},c);this.element=b;this.element._kendoExportVisual=this.exportVisual.bind(this);this._click=this._handler("click");this._mouseenter=this._handler("mouseenter");this._mouseleave=this._handler("mouseleave");this._mousemove=this._handler("mousemove");this._visual=new bb;N(b,this.options);this.bind(Wb,this.options);this._enableTracking()},draw:function(a){this._visual.children.push(a)},clear:function(){this._visual.children=[]},destroy:function(){this._visual=null;this.element._kendoExportVisual=null;this.unbind()},eventTarget:function(a){var b=this;var c=A(a);var d;while(!d&&c){d=c._kendoNode;if(c===b.element){break}c=c.parentElement}if(d){return d.srcElement}},exportVisual:function(){return this._visual},getSize:function(){return N(this.element)},currentSize:function(a){if(a){this._size=a}else{return this._size}},setSize:function(a){N(this.element,a);this.currentSize(a);this._resize()},resize:function(a){var b=this.getSize();var c=this.currentSize();if(a||(b.width>0||b.height>0)&&(!c||b.width!==c.width||b.height!==c.height)){this.currentSize(b);this._resize(b,a);this.trigger("resize",b)}},size:function(a){if(!a){return this.getSize()}this.setSize(a)},suspendTracking:function(){this._suspendedTracking=true},resumeTracking:function(){this._suspendedTracking=false},_enableTracking:function(){},_resize:function(){},_handler:function(a){var b=this;return function(c){var d=b.eventTarget(c);if(d&&!b._suspendedTracking){b.trigger(a,{element:d,originalEvent:c,type:a})}}},_elementOffset:function(){var a=this.element;var b=L(a,["paddingLeft","paddingTop"]);var c=b.paddingLeft;var d=b.paddingTop;var e=K(a);var f=e.left;var g=e.top;return{left:f+parseInt(c,10),top:g+parseInt(d,10)}},_surfacePoint:function(a){var b=this._elementOffset();var c=z(a);var d=c.x-b.left;var e=c.y-b.top;return new X(d,e)}});Xb.create=function(a,b){return Vb.current.create(a,b)};Xb.support={};var Yb=d.extend({init:function(a){this.childNodes=[];this.parent=null;if(a){this.srcElement=a;this.observe()}},destroy:function(){var a=this;if(this.srcElement){this.srcElement.removeObserver(this)}var b=this.childNodes;for(var c=0;c<b.length;c++){a.childNodes[c].destroy()}this.parent=null},load:function(){},observe:function(){if(this.srcElement){this.srcElement.addObserver(this)}},append:function(a){this.childNodes.push(a);a.parent=this},insertAt:function(a,b){this.childNodes.splice(b,0,a);a.parent=this},remove:function(a,b){var c=this;var d=a+b;for(var e=a;e<d;e++){c.childNodes[e].removeSelf()}this.childNodes.splice(a,b)},removeSelf:function(){this.clear();this.destroy()},clear:function(){this.remove(0,this.childNodes.length)},invalidate:function(){if(this.parent){this.parent.invalidate()}},geometryChange:function(){this.invalidate()},optionsChange:function(){this.invalidate()},childrenChange:function(a){if(a.action==="add"){this.load(a.items,a.index)}else if(a.action==="remove"){this.remove(a.index,a.items.length)}this.invalidate()}});function Zb(a,b){return o(b)&&b!==null?" "+a+'="'+b+'" ':""}function $b(a){var b="";for(var c=0;c<a.length;c++){b+=Zb(a[c][0],a[c][1])}return b}function _b(a){var b="";for(var c=0;c<a.length;c++){var d=a[c][1];if(o(d)){b+=a[c][0]+":"+d+";"}}if(b!==""){return b}}var ac={};var bc="http://www.w3.org/2000/svg";var cc="none";var dc=function(a,b){a.innerHTML=b};if(typeof document!=="undefined"){var ec="<svg xmlns='"+bc+"'></svg>";var fc=document.createElement("div");var gc=typeof DOMParser!=="undefined";fc.innerHTML=ec;if(gc&&fc.firstChild.namespaceURI!==bc){dc=function(a,b){var c=new DOMParser;var d=c.parseFromString(b,"text/xml");var e=document.adoptNode(d.documentElement);a.innerHTML="";a.appendChild(e)}}}var hc=dc;var ic="transform";var jc={clip:"clip-path",fill:"fill"};function kc(a,b){return a==="clip"||a==="fill"&&(!b||b.nodeType==="Gradient")}function lc(){var a=document.getElementsByTagName("base")[0];var b=document.location.href;var c="";if(a&&!g.msie){var d=b.indexOf("#");if(d!==-1){b=b.substring(0,d)}c=b}return c}var mc=Yb.extend({init:function(a,b){Yb.fn.init.call(this,a);this.definitions={};this.options=b},destroy:function(){if(this.element){this.element._kendoNode=null;this.element=null}this.clearDefinitions();Yb.fn.destroy.call(this)},load:function(a,b){var c=this;for(var d=0;d<a.length;d++){var e=a[d];var f=e.children;var g=new ac[e.nodeType](e,c.options);if(o(b)){c.insertAt(g,b)}else{c.append(g)}g.createDefinitions();if(f&&f.length>0){g.load(f)}var h=c.element;if(h){g.attachTo(h,b)}}},root:function(){var a=this;while(a.parent){a=a.parent}return a},attachTo:function(a,b){var c=document.createElement("div");hc(c,"<svg xmlns='"+bc+"' version='1.1'>"+this.render()+"</svg>");var d=c.firstChild.firstChild;if(d){if(o(b)){a.insertBefore(d,a.childNodes[b]||null)}else{a.appendChild(d)}this.setElement(d)}},setElement:function(a){if(this.element){this.element._kendoNode=null}this.element=a;this.element._kendoNode=this;var b=this.childNodes;for(var c=0;c<b.length;c++){var d=a.childNodes[c];b[c].setElement(d)}},clear:function(){this.clearDefinitions();if(this.element){this.element.innerHTML=""}var a=this.childNodes;for(var b=0;b<a.length;b++){a[b].destroy()}this.childNodes=[]},removeSelf:function(){if(this.element){var a=this.element.parentNode;if(a){a.removeChild(this.element)}this.element=null}Yb.fn.removeSelf.call(this)},template:function(){return this.renderChildren()},render:function(){return this.template()},renderChildren:function(){var a=this.childNodes;var b="";for(var c=0;c<a.length;c++){b+=a[c].render()}return b},optionsChange:function(a){var b=a.field;var c=a.value;if(b==="visible"){this.css("display",c?"":cc)}else if(jc[b]&&kc(b,c)){this.updateDefinition(b,c)}else if(b==="opacity"){this.attr("opacity",c)}else if(b==="cursor"){this.css("cursor",c)}else if(b==="id"){if(c){this.attr("id",c)}else{this.removeAttr("id")}}Yb.fn.optionsChange.call(this,a)},attr:function(a,b){if(this.element){this.element.setAttribute(a,b)}},allAttr:function(a){var b=this;for(var c=0;c<a.length;c++){b.attr(a[c][0],a[c][1])}},css:function(a,b){if(this.element){this.element.style[a]=b}},allCss:function(a){var b=this;for(var c=0;c<a.length;c++){b.css(a[c][0],a[c][1])}},removeAttr:function(a){if(this.element){this.element.removeAttribute(a)}},mapTransform:function(a){var b=[];if(a){b.push([ic,"matrix("+a.matrix().toString(6)+")"])}return b},renderTransform:function(){return $b(this.mapTransform(this.srcElement.transform()))},transformChange:function(a){if(a){this.allAttr(this.mapTransform(a))}else{this.removeAttr(ic)}},mapStyle:function(){var a=this.srcElement.options;var b=[["cursor",a.cursor]];if(a.visible===false){b.push(["display",cc])}return b},renderStyle:function(){return Zb("style",_b(this.mapStyle(true)))},renderOpacity:function(){return Zb("opacity",this.srcElement.options.opacity)},renderId:function(){return Zb("id",this.srcElement.options.id)},createDefinitions:function(){var a=this.srcElement;var b=this.definitions;if(a){var c=a.options;var d;for(var e in jc){var f=c.get(e);if(f&&kc(e,f)){b[e]=f;d=true}}if(d){this.definitionChange({action:"add",definitions:b})}}},definitionChange:function(a){if(this.parent){this.parent.definitionChange(a)}},updateDefinition:function(a,b){var c=this.definitions;var d=c[a];var e=jc[a];var f={};if(d){f[a]=d;this.definitionChange({action:"remove",definitions:f});delete c[a]}if(!b){if(d){this.removeAttr(e)}}else{f[a]=b;this.definitionChange({action:"add",definitions:f});c[a]=b;this.attr(e,this.refUrl(b.id))}},clearDefinitions:function(){var a=this.definitions;this.definitionChange({action:"remove",definitions:a});this.definitions={}},renderDefinitions:function(){return $b(this.mapDefinitions())},mapDefinitions:function(){var a=this;var b=this.definitions;var c=[];for(var d in b){c.push([jc[d],a.refUrl(b[d].id)])}return c},refUrl:function(a){var b=(this.options||{}).skipBaseHref;var c=this.baseUrl().replace(/'/g,"\\'");var d=b?"":c;return"url("+d+"#"+a+")"},baseUrl:function(){return lc()}});var nc=mc.extend({template:function(){return"<stop "+this.renderOffset()+" "+this.renderStyle()+" />"},renderOffset:function(){return Zb("offset",this.srcElement.offset())},mapStyle:function(){var a=this.srcElement;return[["stop-color",a.color()],["stop-opacity",a.opacity()]]},optionsChange:function(a){if(a.field==="offset"){this.attr(a.field,a.value)}else if(a.field==="color"||a.field==="opacity"){this.css("stop-"+a.field,a.value)}}});var oc=mc.extend({init:function(a){mc.fn.init.call(this,a);this.id=a.id;this.loadStops()},loadStops:function(){var a=this;var b=this.srcElement.stops;var c=this.element;for(var d=0;d<b.length;d++){var e=new nc(b[d]);a.append(e);if(c){e.attachTo(c)}}},optionsChange:function(a){if(a.field==="gradient.stops"){Yb.prototype.clear.call(this);this.loadStops()}else if(a.field==="gradient"){this.allAttr(this.mapCoordinates())}},renderCoordinates:function(){return $b(this.mapCoordinates())},mapSpace:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}});var pc=oc.extend({template:function(){return"<linearGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</linearGradient>"},mapCoordinates:function(){var a=this.srcElement;var b=a.start();var c=a.end();var d=[["x1",b.x],["y1",b.y],["x2",c.x],["y2",c.y],this.mapSpace()];return d}});var qc=oc.extend({template:function(){return"<radialGradient id='"+this.id+"' "+this.renderCoordinates()+">"+this.renderChildren()+"</radialGradient>"},mapCoordinates:function(){var a=this.srcElement;var b=a.center();var c=a.radius();var d=[["cx",b.x],["cy",b.y],["r",c],this.mapSpace()];return d}});var rc=mc.extend({init:function(a){mc.fn.init.call(this);this.srcElement=a;this.id=a.id;this.load([a])},template:function(){return"<clipPath id='"+this.id+"'>"+this.renderChildren()+"</clipPath>"}});var sc=mc.extend({init:function(){mc.fn.init.call(this);this.definitionMap={}},attachTo:function(a){this.element=a},template:function(){return"<defs>"+this.renderChildren()+"</defs>"},definitionChange:function(a){var b=a.definitions;var c=a.action;if(c==="add"){this.addDefinitions(b)}else if(c==="remove"){this.removeDefinitions(b)}},createDefinition:function(a,b){var c;if(a==="clip"){c=rc}else if(a==="fill"){if(b instanceof Bb){c=pc}else if(b instanceof Cb){c=qc}}return new c(b)},addDefinitions:function(a){var b=this;for(var c in a){b.addDefinition(c,a[c])}},addDefinition:function(a,b){var c=this;var d=c.element;var e=c.definitionMap;var f=b.id;var g=e[f];if(!g){var h=this.createDefinition(a,b);e[f]={element:h,count:1};this.append(h);if(d){h.attachTo(this.element)}}else{g.count++}},removeDefinitions:function(a){var b=this;for(var c in a){b.removeDefinition(a[c])}},removeDefinition:function(a){var b=this.definitionMap;var c=a.id;var d=b[c];if(d){d.count--;if(d.count===0){this.remove(this.childNodes.indexOf(d.element),1);delete b[c]}}}});var tc=mc.extend({init:function(a){mc.fn.init.call(this);this.options=a;this.defs=new sc},attachTo:function(a){this.element=a;this.defs.attachTo(a.firstElementChild)},clear:function(){Yb.prototype.clear.call(this)},template:function(){return this.defs.render()+this.renderChildren()},definitionChange:function(a){this.defs.definitionChange(a)}});var uc="rtl";function vc(a){var b;try{b=a.getScreenCTM?a.getScreenCTM():null}catch(a){}if(b){var c=-b.e%1;var d=-b.f%1;var e=a.style;if(c!==0||d!==0){e.left=c+"px";e.top=d+"px"}}}var wc=Xb.extend({init:function(b,c){Xb.fn.init.call(this,b,c);this._root=new tc(a.extend({rtl:L(b,"direction").direction===uc},this.options));hc(this.element,this._template());this._rootElement=this.element.firstElementChild;vc(this._rootElement);this._root.attachTo(this._rootElement);J(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove});this.resize()},destroy:function(){if(this._root){this._root.destroy();this._root=null;this._rootElement=null;O(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})}Xb.fn.destroy.call(this)},translate:function(a){var b=Math.round(a.x)+" "+Math.round(a.y)+" "+this._size.width+" "+this._size.height;this._offset=a;this._rootElement.setAttribute("viewBox",b)},draw:function(a){Xb.fn.draw.call(this,a);this._root.load([a])},clear:function(){Xb.fn.clear.call(this);this._root.clear()},svg:function(){return"<?xml version='1.0' ?>"+this._template()},exportVisual:function(){var a=this;var b=a._visual;var c=a._offset;if(c){var d=new bb;d.children.push(b);d.transform(_().translate(-c.x,-c.y));b=d}return b},_resize:function(){if(this._offset){this.translate(this._offset)}},_template:function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='"+bc+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+this._root.render()+"</svg>"}});wc.prototype.type="svg";if(typeof document!=="undefined"&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")){Xb.support.svg=true;Vb.current.register("svg",wc,10)}var xc=mc.extend({template:function(){return"<g"+(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions())+">"+this.renderChildren()+"</g>"},optionsChange:function(a){if(a.field==="transform"){this.transformChange(a.value)}mc.fn.optionsChange.call(this,a)}});ac.Group=xc;var yc={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],
longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]};var zc="solid";var Ac="butt";var Bc={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"};var Cc=" ";var Dc=mc.extend({geometryChange:function(){this.attr("d",this.renderData());this.invalidate()},optionsChange:function(a){switch(a.field){case"fill":if(a.value){this.allAttr(this.mapFill(a.value))}else{this.removeAttr("fill")}break;case"fill.color":this.allAttr(this.mapFill({color:a.value}));break;case"stroke":if(a.value){this.allAttr(this.mapStroke(a.value))}else{this.removeAttr("stroke")}break;case"transform":this.transformChange(a.value);break;default:var b=Bc[a.field];if(b){this.attr(b,a.value)}break}mc.fn.optionsChange.call(this,a)},content:function(){if(this.element){this.element.textContent=this.srcElement.content()}},renderData:function(){return this.printPath(this.srcElement)},printPath:function(a){var b=this;var c=a.segments;var d=c.length;if(d>0){var e=[];var f,g;for(var h=1;h<d;h++){var i=b.segmentType(c[h-1],c[h]);if(i!==g){g=i;e.push(i)}if(i==="L"){e.push(b.printPoints(c[h].anchor()))}else{e.push(b.printPoints(c[h-1].controlOut(),c[h].controlIn(),c[h].anchor()))}}f="M"+this.printPoints(c[0].anchor())+Cc+e.join(Cc);if(a.options.closed){f+="Z"}return f}},printPoints:function(){var a=arguments;var b=a.length;var c=[];for(var d=0;d<b;d++){c.push(a[d].toString(3))}return c.join(" ")},segmentType:function(a,b){return a.controlOut()&&b.controlIn()?"C":"L"},mapStroke:function(a){var b=[];if(a&&!B(a.color)){b.push(["stroke",a.color]);b.push(["stroke-width",a.width]);b.push(["stroke-linecap",this.renderLinecap(a)]);b.push(["stroke-linejoin",a.lineJoin]);if(o(a.opacity)){b.push(["stroke-opacity",a.opacity])}if(o(a.dashType)){b.push(["stroke-dasharray",this.renderDashType(a)])}}else{b.push(["stroke",cc])}return b},renderStroke:function(){return $b(this.mapStroke(this.srcElement.options.stroke))},renderDashType:function(a){var b=a.dashType;var c=a.width;if(c===void 0){c=1}if(b&&b!==zc){var d=yc[b.toLowerCase()];var e=[];for(var f=0;f<d.length;f++){e.push(d[f]*c)}return e.join(" ")}},renderLinecap:function(a){var b=a.dashType;var c=a.lineCap;return b&&b!=="solid"?Ac:c},mapFill:function(a){var b=[];if(!(a&&a.nodeType==="Gradient")){if(a&&!B(a.color)){b.push(["fill",a.color]);if(o(a.opacity)){b.push(["fill-opacity",a.opacity])}}else{b.push(["fill",cc])}}return b},renderFill:function(){return $b(this.mapFill(this.srcElement.options.fill))},template:function(){return"<path "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" "+Zb("d",this.renderData())+""+this.renderStroke()+this.renderFill()+this.renderDefinitions()+this.renderTransform()+"></path>"}});ac.Path=Dc;var Ec=Dc.extend({renderData:function(){return this.printPath(this.srcElement.toPath())}});ac.Arc=Ec;var Fc=Dc.extend({geometryChange:function(){var a=this.center();this.attr("cx",a.x);this.attr("cy",a.y);this.attr("r",this.radius());this.invalidate()},center:function(){return this.srcElement.geometry().center},radius:function(){return this.srcElement.geometry().radius},template:function(){return"<circle "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+"cx='"+this.center().x+"' cy='"+this.center().y+"' r='"+this.radius()+"'"+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+this.renderTransform()+" ></circle>"}});ac.Circle=Fc;var Gc=Dc.extend({geometryChange:function(){var a=this.srcElement.geometry();this.attr("x",a.origin.x);this.attr("y",a.origin.y);this.attr("width",a.size.width);this.attr("height",a.size.height);this.invalidate()},size:function(){return this.srcElement.geometry().size},origin:function(){return this.srcElement.geometry().origin},template:function(){return"<rect "+this.renderId()+" "+this.renderStyle()+" "+this.renderOpacity()+" x='"+this.origin().x+"' y='"+this.origin().y+"' "+"width='"+this.size().width+"' height='"+this.size().height+"' "+this.renderStroke()+" "+this.renderFill()+" "+this.renderDefinitions()+" "+this.renderTransform()+" />"}});ac.Rect=Gc;var Hc=Dc.extend({geometryChange:function(){this.allAttr(this.mapPosition());this.invalidate()},optionsChange:function(a){if(a.field==="src"){this.allAttr(this.mapSource())}Dc.fn.optionsChange.call(this,a)},mapPosition:function(){var a=this.srcElement.rect();var b=a.topLeft();return[["x",b.x],["y",b.y],["width",a.width()+"px"],["height",a.height()+"px"]]},renderPosition:function(){return $b(this.mapPosition())},mapSource:function(a){var b=this.srcElement.src();if(a){b=kendo.htmlEncode(b)}return[["xlink:href",b]]},renderSource:function(){return $b(this.mapSource(true))},template:function(){return"<image preserveAspectRatio='none' "+this.renderId()+" "+this.renderStyle()+" "+this.renderTransform()+" "+this.renderOpacity()+this.renderPosition()+" "+this.renderSource()+" "+this.renderDefinitions()+">"+"</image>"}});ac.Image=Hc;var Ic=/&(?:[a-zA-Z]+|#\d+);/g;function Jc(a){if(!a||typeof a!=="string"||!Ic.test(a)){return a}var b=Jc._element;Ic.lastIndex=0;return a.replace(Ic,function(a){b.innerHTML=a;return b.textContent||b.innerText})}if(typeof document!=="undefined"){Jc._element=document.createElement("span")}var Kc=Dc.extend({geometryChange:function(){var a=this.pos();this.attr("x",a.x);this.attr("y",a.y);this.invalidate()},optionsChange:function(a){if(a.field==="font"){this.attr("style",_b(this.mapStyle()));this.geometryChange()}else if(a.field==="content"){Dc.fn.content.call(this,this.srcElement.content())}Dc.fn.optionsChange.call(this,a)},mapStyle:function(a){var b=Dc.fn.mapStyle.call(this,a);var c=this.srcElement.options.font;if(a){c=kendo.htmlEncode(c)}b.push(["font",c],["white-space","pre"]);return b},pos:function(){var a=this.srcElement.position();var b=this.srcElement.measure();return a.clone().setY(a.y+b.baseline)},renderContent:function(){var a=this.srcElement.content();a=Jc(a);a=kendo.htmlEncode(a);return e.normalizeText(a)},renderTextAnchor:function(){var a;if((this.options||{}).rtl&&!(g.msie||g.edge)){a="end"}return Zb("text-anchor",a)},template:function(){return"<text "+this.renderId()+" "+this.renderTextAnchor()+" "+this.renderStyle()+" "+this.renderOpacity()+"x='"+this.pos().x+"' y='"+this.pos().y+"' "+this.renderStroke()+" "+this.renderTransform()+" "+this.renderDefinitions()+this.renderFill()+">"+this.renderContent()+"</text>"}});ac.Text=Kc;var Lc=Dc.extend({renderData:function(){var a=this;var b=this.srcElement.paths;if(b.length>0){var c=[];for(var d=0;d<b.length;d++){c.push(a.printPath(b[d]))}return c.join(" ")}}});ac.MultiPath=Lc;var Mc={Circle:da,Arc:sa,Rect:Z,Point:X,Segment:Qa,Matrix:V,Size:Y,toMatrix:W,Transformation:$,transform:_};function Nc(a){var b=new tc({skipBaseHref:true});var c=a.clippedBBox();var d=a;if(c){var e=c.getOrigin();var f=new bb;f.transform(_().translate(-e.x,-e.y));f.children.push(a);d=f}b.load([d]);var g="<?xml version='1.0' ?><svg xmlns='"+bc+"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>"+b.render()+"</svg>";b.destroy();return g}var Oc={Surface:wc,RootNode:tc,Node:mc,GroupNode:xc,ArcNode:Ec,CircleNode:Fc,RectNode:Gc,ImageNode:Hc,TextNode:Kc,PathNode:Dc,MultiPathNode:Lc,DefinitionNode:sc,ClipNode:rc,GradientStopNode:nc,LinearGradientNode:pc,RadialGradientNode:qc,exportGroup:Nc};var Pc={};function Qc(a,b){var c=b.segments;if(c.length===0){return}var d=c[0];var e=d.anchor();a.moveTo(e.x,e.y);for(var f=1;f<c.length;f++){d=c[f];e=d.anchor();var g=c[f-1];var h=g.controlOut();var i=d.controlIn();if(h&&i){a.bezierCurveTo(h.x,h.y,i.x,i.y,e.x,e.y)}else{a.lineTo(e.x,e.y)}}if(b.options.closed){a.closePath()}}var Rc=Yb.extend({init:function(a){Yb.fn.init.call(this,a);if(a){this.initClip()}},initClip:function(){var a=this.srcElement.clip();if(a){this.clip=a;a.addObserver(this)}},clear:function(){if(this.srcElement){this.srcElement.removeObserver(this)}this.clearClip();Yb.fn.clear.call(this)},clearClip:function(){if(this.clip){this.clip.removeObserver(this);delete this.clip}},setClip:function(a){if(this.clip){a.beginPath();Qc(a,this.clip);a.clip()}},optionsChange:function(a){if(a.field==="clip"){this.clearClip();this.initClip()}Yb.fn.optionsChange.call(this,a)},setTransform:function(a){if(this.srcElement){var b=this.srcElement.transform();if(b){a.transform.apply(a,b.matrix().toArray(6))}}},loadElements:function(a,b,c){var d=this;for(var e=0;e<a.length;e++){var f=a[e];var g=f.children;var h=new Pc[f.nodeType](f,c);if(g&&g.length>0){h.load(g,b,c)}if(o(b)){d.insertAt(h,b)}else{d.append(h)}}},load:function(a,b,c){this.loadElements(a,b,c);this.invalidate()},setOpacity:function(a){if(this.srcElement){var b=this.srcElement.opacity();if(o(b)){this.globalAlpha(a,b)}}},globalAlpha:function(a,b){var c=b;if(c&&a.globalAlpha){c*=a.globalAlpha}a.globalAlpha=c},visible:function(){var a=this.srcElement;return!a||a&&a.options.visible!==false}});var Sc=Rc.extend({renderTo:function(a){if(!this.visible()){return}a.save();this.setTransform(a);this.setClip(a);this.setOpacity(a);var b=this.childNodes;for(var c=0;c<b.length;c++){var d=b[c];if(d.visible()){d.renderTo(a)}}a.restore()}});ab.extend(Sc.prototype,"childNodes");Pc.Group=Sc;var Tc=1e3/60;var Uc=Sc.extend({init:function(a){Sc.fn.init.call(this);this.canvas=a;this.ctx=a.getContext("2d");var b=this._invalidate.bind(this);this.invalidate=kendo.throttle(function(){kendo.animationFrame(b)},Tc)},destroy:function(){Sc.fn.destroy.call(this);this.canvas=null;this.ctx=null},load:function(a,b,c){this.loadElements(a,b,c);this._invalidate()},_invalidate:function(){if(!this.ctx){return}this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.renderTo(this.ctx)}});ab.extend(Uc.prototype,"childNodes");var Vc=d.extend({init:function(){this.shapes=[]},_add:function(a,b){this.shapes.push({bbox:b,shape:a});a._quadNode=this},pointShapes:function(a){var b=this.shapes;var c=b.length;var d=[];for(var e=0;e<c;e++){if(b[e].bbox.containsPoint(a)){d.push(b[e].shape)}}return d},insert:function(a,b){this._add(a,b)},remove:function(a){var b=this.shapes;var c=b.length;for(var d=0;d<c;d++){if(b[d].shape===a){b.splice(d,1);break}}}});var Wc=Vc.extend({init:function(a){Vc.fn.init.call(this);this.children=[];this.rect=a},inBounds:function(a){var b=this.rect;var c=b.bottomRight();var d=a.bottomRight();var e=b.origin.x<=a.origin.x&&b.origin.y<=a.origin.y&&d.x<=c.x&&d.y<=c.y;return e},pointShapes:function(a){var b=this.children;var c=b.length;var d=Vc.fn.pointShapes.call(this,a);for(var e=0;e<c;e++){k(d,b[e].pointShapes(a))}return d},insert:function(a,b){var c=this.children;var d=false;if(this.inBounds(b)){if(this.shapes.length<4){this._add(a,b)}else{if(!c.length){this._initChildren()}for(var e=0;e<c.length;e++){if(c[e].insert(a,b)){d=true;break}}if(!d){this._add(a,b)}}d=true}return d},_initChildren:function(){var a=this;var b=a.rect;var c=a.children;var d=b.center();var e=b.width()/2;var f=b.height()/2;c.push(new Wc(new Z([b.origin.x,b.origin.y],[e,f])),new Wc(new Z([d.x,b.origin.y],[e,f])),new Wc(new Z([b.origin.x,d.y],[e,f])),new Wc(new Z([d.x,d.y],[e,f])))}});var Xc=3e3;var Yc=1e4;var Zc=75;var $c=d.extend({init:function(){this.initRoots()},initRoots:function(){this.rootMap={};this.root=new Vc;this.rootElements=[]},clear:function(){var a=this;var b=this.rootElements;for(var c=0;c<b.length;c++){a.remove(b[c])}this.initRoots()},pointShape:function(a){var b=(this.rootMap[Math.floor(a.x/Xc)]||{})[Math.floor(a.y/Xc)];var c=this.root.pointShapes(a);if(b){c=c.concat(b.pointShapes(a))}this.assignZindex(c);c.sort(_c);for(var d=0;d<c.length;d++){if(c[d].containsPoint(a)){return c[d]}}},assignZindex:function(a){var b=this;for(var c=0;c<a.length;c++){var d=a[c];var e=0;var f=Math.pow(Yc,Zc);var g=[];while(d){g.push(d);d=d.parent}while(g.length){d=g.pop();e+=((d.parent?d.parent.children:b.rootElements).indexOf(d)+1)*f;f/=Yc}a[c]._zIndex=e}},optionsChange:function(a){if(a.field==="transform"||a.field==="stroke.width"){this.bboxChange(a.element)}},geometryChange:function(a){this.bboxChange(a.element)},bboxChange:function(a){var b=this;if(a.nodeType==="Group"){for(var c=0;c<a.children.length;c++){b.bboxChange(a.children[c])}}else{if(a._quadNode){a._quadNode.remove(a)}this._insertShape(a)}},add:function(a){var b=Array.isArray(a)?a.slice(0):[a];k(this.rootElements,b);this._insert(b)},childrenChange:function(a){var b=this;if(a.action==="remove"){for(var c=0;c<a.items.length;c++){b.remove(a.items[c])}}else{this._insert(Array.prototype.slice.call(a.items,0))}},_insert:function(a){var b=this;var c;while(a.length>0){c=a.pop();c.addObserver(b);if(c.nodeType==="Group"){k(a,c.children)}else{b._insertShape(c)}}},_insertShape:function(a){var b=a.bbox();if(b){var c=this.getSectors(b);var d=c[0][0];var e=c[1][0];if(this.inRoot(c)){this.root.insert(a,b)}else{var f=this.rootMap;if(!f[d]){f[d]={}}if(!f[d][e]){f[d][e]=new Wc(new Z([d*Xc,e*Xc],[Xc,Xc]))}f[d][e].insert(a,b)}}},remove:function(a){var b=this;a.removeObserver(this);if(a.nodeType==="Group"){var c=a.children;for(var d=0;d<c.length;d++){b.remove(c[d])}}else if(a._quadNode){a._quadNode.remove(a);delete a._quadNode}},inRoot:function(a){return a[0].length>1||a[1].length>1},getSectors:function(a){var b=a.bottomRight();var c=Math.floor(b.x/Xc);var d=Math.floor(b.y/Xc);var e=[[],[]];for(var f=Math.floor(a.origin.x/Xc);f<=c;f++){e[0].push(f)}for(var g=Math.floor(a.origin.y/Xc);g<=d;g++){e[1].push(g)}return e}});function _c(a,b){if(a._zIndex<b._zIndex){return 1}if(a._zIndex>b._zIndex){return-1}return 0}var ad=d.extend({init:function(a){a.bind("mouseenter",this._mouseenter.bind(this));a.bind("mouseleave",this._mouseleave.bind(this));this.element=a.element},clear:function(){this._resetCursor()},destroy:function(){this._resetCursor();delete this.element},_mouseenter:function(a){var b=this._shapeCursor(a);if(!b){this._resetCursor()}else{if(!this._current){this._defaultCursor=this._getCursor()}this._setCursor(b)}},_mouseleave:function(){this._resetCursor()},_shapeCursor:function(a){var b=a.element;while(b&&!o(b.options.cursor)){b=b.parent}if(b){return b.options.cursor}},_getCursor:function(){if(this.element){return this.element.style.cursor}},_setCursor:function(a){if(this.element){this.element.style.cursor=a;this._current=a}},_resetCursor:function(){if(this._current){this._setCursor(this._defaultCursor||"");delete this._current}}});var bd=Xb.extend({init:function(a,b){Xb.fn.init.call(this,a,b);this.element.innerHTML=this._template(this);var c=this.element.firstElementChild;var d=N(a);c.width=d.width;c.height=d.height;this._rootElement=c;this._root=new Uc(c);this._mouseTrackHandler=this._trackMouse.bind(this);J(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},destroy:function(){Xb.fn.destroy.call(this);if(this._root){this._root.destroy();this._root=null}if(this._searchTree){this._searchTree.clear();delete this._searchTree}if(this._cursor){this._cursor.destroy();delete this._cursor}O(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})},draw:function(a){Xb.fn.draw.call(this,a);this._root.load([a],undefined,this.options.cors);if(this._searchTree){this._searchTree.add([a])}},clear:function(){Xb.fn.clear.call(this);this._root.clear();if(this._searchTree){this._searchTree.clear()}if(this._cursor){this._cursor.clear()}},eventTarget:function(a){if(this._searchTree){var b=this._surfacePoint(a);var c=this._searchTree.pointShape(b);return c}},image:function(){var a=this;var b=a._root;var c=a._rootElement;var d=[];b.traverse(function(a){if(a.loading){d.push(a.loading)}});var e=h();var f=function(){b._invalidate();try{var a=c.toDataURL();e.resolve(a)}catch(a){e.reject(a)}};i(d).then(f,f);return e},suspendTracking:function(){Xb.fn.suspendTracking.call(this);if(this._searchTree){this._searchTree.clear();delete this._searchTree}},resumeTracking:function(){Xb.fn.resumeTracking.call(this);if(!this._searchTree){this._searchTree=new $c;var a=this._root.childNodes;var b=[];for(var c=0;c<a.length;c++){b.push(a[c].srcElement)}this._searchTree.add(b)}},_resize:function(){this._rootElement.width=this._size.width;this._rootElement.height=this._size.height;this._root.invalidate()},_template:function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"},_enableTracking:function(){this._searchTree=new $c;this._cursor=new ad(this);Xb.fn._enableTracking.call(this)},_trackMouse:function(a){if(this._suspendedTracking){return}var b=this.eventTarget(a);if(a.type!=="click"){var c=this._currentShape;if(c&&c!==b){this.trigger("mouseleave",{element:c,originalEvent:a,type:"mouseleave"})}if(b&&c!==b){this.trigger("mouseenter",{element:b,originalEvent:a,type:"mouseenter"})}this.trigger("mousemove",{element:b,originalEvent:a,type:"mousemove"});this._currentShape=b}else if(b){this.trigger("click",{element:b,originalEvent:a,type:"click"})}}});bd.prototype.type="canvas";if(typeof document!=="undefined"&&document.createElement("canvas").getContext){Xb.support.canvas=true;Vb.current.register("canvas",bd,20)}function cd(a,b){for(var c=0;c<b.length;c++){var d=b[c];var e=kendo.parseColor(d.color());e.a*=d.opacity();a.addColorStop(d.offset(),e.toCssRgba())}}var dd=Rc.extend({renderTo:function(a){a.save();this.setTransform(a);this.setClip(a);this.setOpacity(a);a.beginPath();this.renderPoints(a,this.srcElement);this.setLineDash(a);this.setLineCap(a);this.setLineJoin(a);this.setFill(a);this.setStroke(a);a.restore()},setFill:function(a){var b=this.srcElement.options.fill;var c=false;if(b){if(b.nodeType==="Gradient"){this.setGradientFill(a,b);c=true}else if(!B(b.color)){a.fillStyle=b.color;a.save();this.globalAlpha(a,b.opacity);a.fill();a.restore();c=true}}return c},setGradientFill:function(a,b){var c=this.srcElement.rawBBox();var d;if(b instanceof Bb){var e=b.start();var f=b.end();d=a.createLinearGradient(e.x,e.y,f.x,f.y)}else if(b instanceof Cb){var g=b.center();d=a.createRadialGradient(g.x,g.y,0,g.x,g.y,b.radius())}cd(d,b.stops);a.save();if(!b.userSpace()){a.transform(c.width(),0,0,c.height(),c.origin.x,c.origin.y)}a.fillStyle=d;a.fill();a.restore()},setStroke:function(a){var b=this.srcElement.options.stroke;if(b&&!B(b.color)&&b.width>0){a.strokeStyle=b.color;a.lineWidth=I(b.width,1);a.save();this.globalAlpha(a,b.opacity);a.stroke();a.restore();return true}},dashType:function(){var a=this.srcElement.options.stroke;if(a&&a.dashType){return a.dashType.toLowerCase()}},setLineDash:function(a){var b=this.dashType();if(b&&b!==zc){var c=yc[b];if(a.setLineDash){a.setLineDash(c)}else{a.mozDash=c;a.webkitLineDash=c}}},setLineCap:function(a){var b=this.dashType();var c=this.srcElement.options.stroke;if(b&&b!==zc){a.lineCap=Ac}else if(c&&c.lineCap){a.lineCap=c.lineCap}},setLineJoin:function(a){var b=this.srcElement.options.stroke;if(b&&b.lineJoin){a.lineJoin=b.lineJoin}},renderPoints:function(a,b){Qc(a,b)}});Pc.Path=dd;var ed=dd.extend({renderPoints:function(a){var b=this.srcElement.toPath();Qc(a,b)}});Pc.Arc=ed;var fd=dd.extend({renderPoints:function(a){var b=this.srcElement.geometry();var c=b.center;var d=b.radius;a.arc(c.x,c.y,d,0,Math.PI*2)}});Pc.Circle=fd;var gd=dd.extend({renderPoints:function(a){var b=this.srcElement.geometry();var c=b.origin;var d=b.size;a.rect(c.x,c.y,d.width,d.height)}});Pc.Rect=gd;var hd=dd.extend({init:function(a,b){dd.fn.init.call(this,a);this.onLoad=this.onLoad.bind(this);this.onError=this.onError.bind(this);this.loading=h();var c=this.img=new Image;if(b&&!/^data:/i.test(a.src())){c.crossOrigin=b}c.src=a.src();if(c.complete){this.onLoad()}else{c.onload=this.onLoad;c.onerror=this.onError}},renderTo:function(a){if(this.loading.state()==="resolved"){a.save();this.setTransform(a);this.setClip(a);this.drawImage(a);a.restore()}},optionsChange:function(a){if(a.field==="src"){this.loading=h();this.img.src=this.srcElement.src()}else{dd.fn.optionsChange.call(this,a)}},onLoad:function(){this.loading.resolve();this.invalidate()},onError:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))},drawImage:function(a){var b=this.srcElement.rect();var c=b.topLeft();a.drawImage(this.img,c.x,c.y,b.width(),b.height())}});Pc.Image=hd;var id=dd.extend({renderTo:function(a){var b=this.srcElement;var c=b.position();var d=b.measure();a.save();this.setTransform(a);this.setClip(a);this.setOpacity(a);a.beginPath();a.font=b.options.font;a.textAlign="left";if(this.setFill(a)){a.fillText(b.content(),c.x,c.y+d.baseline)}if(this.setStroke(a)){this.setLineDash(a);a.strokeText(b.content(),c.x,c.y+d.baseline)}a.restore()}});Pc.Text=id;var jd=dd.extend({renderPoints:function(a){var b=this.srcElement.paths;for(var c=0;c<b.length;c++){Qc(a,b[c])}}});Pc.MultiPath=jd;var kd={Surface:bd,RootNode:Uc,Node:Rc,GroupNode:Sc,ArcNode:ed,CircleNode:fd,RectNode:gd,ImageNode:hd,TextNode:id,PathNode:dd,MultiPathNode:jd};function ld(b,c){var d={width:"800px",height:"600px",cors:"Anonymous"};var e=b;var f=b.clippedBBox();if(f){var g=f.getOrigin();e=new bb;e.transform(_().translate(-g.x,-g.y));e.children.push(b);var h=f.getSize();d.width=h.width+"px";d.height=h.height+"px"}var i=a.extend(d,c);var j=document.createElement("div");var k=j.style;k.display="none";k.width=i.width;k.height=i.height;document.body.appendChild(j);var l=new bd(j,i);l.suspendTracking();l.draw(e);var m=l.image();var n=function(){l.destroy();document.body.removeChild(j)};m.then(n,n);return m}function md(a,b){var c=Nc(a);if(!b||!b.raw){c="data:image/svg+xml;base64,"+y(c)}return h().resolve(c)}var nd=g;function od(a){return Array.prototype.slice.call(a)}var pd="KENDO-PSEUDO-ELEMENT";var qd={};var rd={};rd._root=rd;var sd=typeof window!=="undefined";var td=sd?nd.msie||nd.edge:false;var ud=$a.extend({init:function(a,b,c){$a.fn.init.call(this,a,b.getOrigin(),c);this._pdfRect=b},rect:function(){return this._pdfRect},rawBBox:function(){return this._pdfRect}});function vd(a,b){if(a.classList){a.classList.add(b)}else{a.className+=" "+b}}function wd(a,b){if(a.classList){a.classList.remove(b)}else{a.className=a.className.split(/\s+/).reduce(function(a,c){if(c!=b){a.push(c)}return a},[]).join(" ")}}function xd(a,b){Object.keys(b).forEach(function(c){a.style[c]=b[c]})}var yd=typeof Element!=="undefined"&&Element.prototype&&function(a){if(a.matches){return function(a,b){return a.matches(b)}}if(a.webkitMatchesSelector){return function(a,b){return a.webkitMatchesSelector(b)}}if(a.mozMatchesSelector){return function(a,b){return a.mozMatchesSelector(b)}}if(a.msMatchesSelector){return function(a,b){return a.msMatchesSelector(b)}}return function(a){return[].indexOf.call(document.querySelectorAll(a),this)!==-1}}(Element.prototype);function zd(a,b){if(a.closest){return a.closest(b)}while(a&&!/^\[object (?:HTML)?Document\]$/.test(String(a))){if(a.nodeType==1&&yd(a,b)){return a}a=a.parentNode}}var Ad=function(a){if(a){return function b(c){var d=c.cloneNode(false);if(c.nodeType==1){var e=a(c),f=a(d),g;var h=e.data();for(g in h){f.data(g,h[g])}if(/^canvas$/i.test(c.tagName)){d.getContext("2d").drawImage(c,0,0)}else if(/^(?:input|select|textarea|option)$/i.test(c.tagName)){d.removeAttribute("id");d.removeAttribute("name");d.value=c.value;d.checked=c.checked;d.selected=c.selected}for(g=c.firstChild;g;g=g.nextSibling){d.appendChild(b(g))}}return d}}else{return function a(b){var c=function a(b){var c=b.cloneNode(false);if(b._kendoExportVisual){c._kendoExportVisual=b._kendoExportVisual}for(var d=b.firstChild;d;d=d.nextSibling){c.appendChild(a(d))}return c}(b);var d=b.querySelectorAll("canvas");if(d.length){od(c.querySelectorAll("canvas")).forEach(function(a,b){a.getContext("2d").drawImage(d[b],0,0)})}var e=b.querySelectorAll("input, select, textarea, option");od(c.querySelectorAll("input, select, textarea, option")).forEach(function(a,b){a.removeAttribute("id");a.removeAttribute("name");a.value=e[b].value;a.checked=e[b].checked;a.selected=e[b].selected});return c}}}(typeof window!=="undefined"&&window.kendo&&window.kendo.jQuery);function Bd(a){if(typeof a=="number"){return{x:a,y:a}}if(Array.isArray(a)){return{x:a[0],y:a[1]}}return{x:a.x,y:a.y}}function Cd(a,b){if(!b){b={}}var c=h();if(!a){return c.reject("No element to export")}if(typeof window.getComputedStyle!="function"){throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.")}kendo.pdf.defineFont(Hd(a.ownerDocument));var d=Bd(b.scale||1);function e(a){var c=new bb;var e=a.getBoundingClientRect();he(c,[d.x,0,0,d.y,-e.left*d.x,-e.top*d.y]);rd._clipbox=false;rd._matrix=V.unit();rd._stackingContext={element:a,group:c};if(b.avoidLinks===true){rd._avoidLinks="a"}else{rd._avoidLinks=b.avoidLinks}vd(a,"k-pdf-export");Ee(a,c);wd(a,"k-pdf-export");return c}Rd(a,function(){var f=b&&b.forcePageBreak;var h=b&&b.paperSize&&b.paperSize!="auto";var i=kendo.pdf.getPaperOptions(function(a,c){if(a=="paperSize"){return h?b[a]:"A4"}return a in b?b[a]:c});var j=h&&i.paperSize[0];var k=h&&i.paperSize[1];var l=b.margin&&i.margin;var m=Boolean(l);if(f||k){if(!l){l={left:0,top:0,right:0,bottom:0}}if(j){j/=d.x}if(k){k/=d.y}l.left/=d.x;l.right/=d.x;l.top/=d.y;l.bottom/=d.y;var n=new bb({pdf:{multiPage:true,paperSize:h?i.paperSize:"auto",_ignoreMargin:m}});g(function(a){if(b.progress){var d=false,f=0;(function g(){if(f<a.pages.length){var h=e(a.pages[f]);n.append(h);b.progress({page:h,pageNum:++f,totalPages:a.pages.length,cancel:function(){d=true}});if(!d){setTimeout(g)}else{a.container.parentNode.removeChild(a.container)}}else{a.container.parentNode.removeChild(a.container);c.resolve(n)}})()}else{a.pages.forEach(function(a){n.append(e(a))});a.container.parentNode.removeChild(a.container);c.resolve(n)}},a,f,j?j-l.left-l.right:null,k?k-l.top-l.bottom:null,l,b)}else{c.resolve(e(a))}});function f(a){if(a!=null){if(typeof a=="string"){a=kendo.template(a.replace(/^\s+|\s+$/g,""))}if(typeof a=="function"){return function(b){var c=a(b);if(c&&typeof c=="string"){var d=document.createElement("div");d.innerHTML=c;c=d.firstElementChild}return c}}return function(){return a.cloneNode(true)}}}function g(a,b,c,d,e,g,h){var i=f(h.template);var j=b.ownerDocument;var k=[];var l=h._destructive?b:Ad(b);var m=j.createElement("KENDO-PDF-DOCUMENT");var n=0;od(l.querySelectorAll("tfoot")).forEach(function(a){a.parentNode.appendChild(a)});od(l.querySelectorAll("ol")).forEach(function(a){od(a.children).forEach(function(a,b){a.setAttribute("kendo-split-index",b)})});xd(m,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"});if(d){xd(m,{width:d+"px",paddingLeft:g.left+"px",paddingRight:g.right+"px"});xd(l,{overflow:"hidden"})}b.parentNode.insertBefore(m,b);m.appendChild(l);if(h.beforePageBreak){setTimeout(function(){h.beforePageBreak(m,o)},15)}else{setTimeout(o,15)}function o(){if(c!="-"||e){q(l)}{var b=t();l.parentNode.insertBefore(b,l);b.appendChild(l)}if(i){k.forEach(function(a,b){var c=i({element:a,pageNum:b+1,totalPages:k.length});if(c){a.appendChild(c)}})}Rd(k,function(){Qd(k,function(){a({pages:k,container:m})})})}function p(a){if(h.keepTogether&&yd(a,h.keepTogether)&&a.offsetHeight<=e-n){return true}var b=a.tagName;if(/^h[1-6]$/i.test(b)&&a.offsetHeight>=e-n){return false}return a.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(a.tagName)}function q(a){if(a.tagName=="TABLE"){xd(a,{tableLayout:"fixed"})}if(p(a)){return}var b=Yd(a);var d=parseFloat(Zd(b,"padding-bottom"));var f=parseFloat(Zd(b,"border-bottom-width"));var g=n;n+=d+f;var h=true;for(var i=a.firstChild;i;i=i.nextSibling){if(i.nodeType==1){h=false;if(yd(i,c)){s(i);continue}if(!e){q(i);continue}if(!/^(?:static|relative)$/.test(Zd(Yd(i),"position"))){continue}var j=u(i);if(j==1){s(i)}else if(j){if(p(i)){s(i)}else{q(i)}}else{q(i)}}else if(i.nodeType==3&&e){v(i,h);h=false}}n=g}function r(a){var b=a.parentNode,c=b.firstChild;if(a===c){return true}if(a===b.children[0]){if(c.nodeType==7||c.nodeType==8){return true}if(c.nodeType==3){return!/\S/.test(c.data)}}return false}function s(a){if(a.nodeType==1&&a!==l&&r(a)){return s(a.parentNode)}var b,c,d,e,f;b=zd(a,"table");c=b&&b.querySelector("colgroup");if(h.repeatHeaders){d=b&&b.querySelector("thead");e=zd(a,".k-grid.k-widget");if(e&&e.querySelector(".k-auto-scrollable")){f=e.querySelector(".k-grid-header")}}var g=t();var i=j.createRange();i.setStartBefore(l);i.setEndBefore(a);g.appendChild(i.extractContents());l.parentNode.insertBefore(g,l);w(a.parentNode);if(b){b=zd(a,"table");if(h.repeatHeaders&&d){b.insertBefore(d.cloneNode(true),b.firstChild)}if(c){b.insertBefore(c.cloneNode(true),b.firstChild)}}if(h.repeatHeaders&&f){e=zd(a,".k-grid.k-widget");e.insertBefore(f.cloneNode(true),e.firstChild)}}function t(){var a=j.createElement("KENDO-PDF-PAGE");xd(a,{display:"block",boxSizing:"content-box",width:d?d+"px":"auto",padding:g.top+"px "+g.right+"px "+g.bottom+"px "+g.left+"px",position:"relative",height:e?e+"px":"auto",overflow:e||d?"hidden":"visible",clear:"both"});if(h&&h.pageClassName){a.className=h.pageClassName}k.push(a);return a}function u(a){var b=a.getBoundingClientRect();if(b.width===0||b.height===0){return 0}var c=l.getBoundingClientRect().top;var d=e-n;return b.height>d?3:b.top-c>d?1:b.bottom-c>d?2:0}function v(a,b){if(!/\S/.test(a.data)){return}var c=a.data.length;var d=j.createRange();d.selectNodeContents(a);var e=u(d);if(!e){return}var f=a;if(e==1){if(b){s(a.parentNode)}else{s(a)}}else{(function b(c,e,f){d.setEnd(a,e);if(c==e||e==f){return e}if(u(d)){return b(c,c+e>>1,e)}else{return b(e,e+f>>1,f)}})(0,c>>1,c);if(!/\S/.test(d.toString())&&b){s(a.parentNode)}else{f=a.splitText(d.endOffset);var g=t();d.setStartBefore(l);g.appendChild(d.extractContents());l.parentNode.insertBefore(g,l);w(f.parentNode)}}v(f)}function w(a){var b=zd(a,"li");if(b){b.setAttribute("kendo-no-bullet","1");w(b.parentNode)}}}return c}Cd.getFontFaces=Hd;Cd.drawText=function(a){var b=new bb;rd._clipbox=false;rd._matrix=V.unit();rd._stackingContext={element:a,group:b};Td(a,Yd(a),b);if(a.firstChild.nodeType==3){Ce(a,a.firstChild,b)}else{se(a,b)}Ud();return b};var Dd=function(){var a=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;var b=/^([-0-9.]+%)/;var c=/^([-0-9.]+px)/;var d=/^(left|right|top|bottom|to|center)\W/;var e=/^([-0-9.]+(deg|grad|rad|turn))/;var f=/^(\s+)/;var g=/^(\()/;var h=/^(\))/;var i=/^(,)/;var j=/^(url)\(/;var k=/^(.*?)\)/;var l={},m={};function n(m){var n=m;if(Id(l,n)){return l[n]}function o(){var a=f.exec(m);if(a){m=m.substr(a[1].length)}}function p(a){o();var b=a.exec(m);if(b){m=m.substr(b[1].length);return b[1]}}function q(){var a=kendo.parseColor(m,true);var d,e;if(a){var f=/^#[0-9a-f]+/i.exec(m)||/^rgba?\(.*?\)/i.exec(m)||/^..*?\b/.exec(m);m=m.substr(f[0].length);a=a.toRGB();if(!(d=p(c))){e=p(b)}return{color:a,length:d,percent:e}}}function r(a){var c;var f,j;var k=[];var l=false;if(p(g)){c=p(e);if(c){c=ge(c);p(i)}else{f=p(d);if(f=="to"){f=p(d)}else if(f&&/^-/.test(a)){l=true}j=p(d);p(i)}if(/-moz-/.test(a)&&c==null&&f==null){var n=p(b),o=p(b);l=true;if(n=="0%"){f="left"}else if(n=="100%"){f="right"}if(o=="0%"){j="top"}else if(o=="100%"){j="bottom"}p(i)}while(m&&!p(h)){var r=q();if(!r){break}k.push(r);p(i)}return{type:"linear",angle:c,to:f&&j?f+" "+j:f?f:j?j:null,stops:k,reverse:l}}}function s(){if(p(g)){var a=p(k);a=a.replace(/^['"]+|["']+$/g,"");p(h);return{type:"url",url:a}}}var t;if(t=p(a)){t=r(t)}else if(t=p(j)){t=s()}return l[n]=t||{type:"none"}}return function(a){if(Id(m,a)){return m[a]}return m[a]=Ed(a).map(n)}}();var Ed=function(){var a={};return function(b,c){if(!c){c=/^\s*,\s*/}var d=b+c;if(Id(a,d)){return a[d]}var e=[];var f=0,g=0;var h=0;var i=false;var j;function k(a){return j=a.exec(b.substr(g))}function l(a){return a.replace(/^\s+|\s+$/g,"")}while(g<b.length){if(!i&&k(/^[\(\[\{]/)){h++;g++}else if(!i&&k(/^[\)\]\}]/)){h--;g++}else if(!i&&k(/^[\"\']/)){i=j[0];g++}else if(i=="'"&&k(/^\\\'/)){g+=2}else if(i=='"'&&k(/^\\\"/)){g+=2}else if(i=="'"&&k(/^\'/)){i=false;g++}else if(i=='"'&&k(/^\"/)){i=false;g++}else if(k(c)){if(!i&&!h&&g>f){e.push(l(b.substring(f,g)));
f=g+j[0].length}g+=j[0].length}else{g++}}if(f<g){e.push(l(b.substring(f,g)))}return a[d]=e}}();var Fd=function(a){return function(b){var c=a[b];if(!c){var d;if(d=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(b)){c=a[b]=d[2]}else if(d=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(b)){c=a[b]=d[2]}}return c}}(Object.create?Object.create(null):{});var Gd=function(a){return function(b){var c=a[b];if(c==null){c=a[b]=e.measureText("Mapq",{font:b}).height}return c}}(Object.create?Object.create(null):{});function Hd(a){if(a==null){a=document}var b={};for(var c=0;c<a.styleSheets.length;++c){d(a.styleSheets[c])}return b;function d(a){if(a){var b=null;try{b=a.cssRules}catch(a){}if(b){f(a,b)}}}function e(a){var b=Zd(a.style,"src");if(b){return Ed(b).reduce(function(a,b){var c=Fd(b);if(c){a.push(c)}return a},[])}else{var c=Fd(a.cssText);return c?[c]:[]}}function f(a,b){for(var c=0;c<b.length;++c){var f=b[c];switch(f.type){case 3:d(f.styleSheet);break;case 5:var h=f.style;var i=Ed(Zd(h,"font-family"));var j=/^([56789]00|bold)$/i.test(Zd(h,"font-weight"));var k="italic"==Zd(h,"font-style");var l=e(f);if(l.length>0){g(a,i,j,k,l[0])}}}}function g(a,c,d,e,f){if(!/^data:/i.test(f)){if(!(/^[^\/:]+:\/\//.test(f)||/^\//.test(f))){f=String(a.href).replace(/[^\/]*$/,"")+f}}c.forEach(function(a){a=a.replace(/^(['"]?)(.*?)\1$/,"$2");if(d){a+="|bold"}if(e){a+="|italic"}b[a]=f})}}function Id(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function Jd(a){a="_counter_"+a;return rd[a]}function Kd(a){var b=[],c=rd;a="_counter_"+a;while(c){if(Id(c,a)){b.push(c[a])}c=Object.getPrototypeOf(c)}return b.reverse()}function Ld(a,b){var c=rd;a="_counter_"+a;while(c&&!Id(c,a)){c=Object.getPrototypeOf(c)}if(!c){c=rd._root}c[a]=(c[a]||0)+(b==null?1:b)}function Md(a,b){a="_counter_"+a;rd[a]=b==null?0:b}function Nd(a,b,c){for(var d=0;d<a.length;){var e=a[d++];var f=parseFloat(a[d]);if(isNaN(f)){b(e,c)}else{b(e,f);++d}}}function Od(a){var b=Zd(a,"counter-reset");if(b){Nd(Ed(b,/^\s+/),Md,0)}var c=Zd(a,"counter-increment");if(c){Nd(Ed(c,/^\s+/),Ld,1)}}function Pd(a,b){var c=kendo.parseColor(a,true);if(c){c=c.toRGB();if(b){c=c.toCssRgba()}else if(c.a===0){c=null}}return c}function Qd(a,b){var c=0;a.forEach(function(a){var b=a.querySelectorAll("img");for(var e=0;e<b.length;++e){var f=b[e];if(!f.complete){c++;f.onload=f.onerror=d}}});if(!c){d()}function d(){if(--c<=0){b()}}}function Rd(a,b){var c=[];function d(a){if(!qd[a]){qd[a]=true;c.push(a)}}function e(a){if(/^img$/i.test(a.tagName)){d(a.src)}Dd(Zd(Yd(a),"background-image")).forEach(function(a){if(a.type=="url"){d(a.url)}});if(a.children){od(a.children).forEach(e)}}if(Array.isArray(a)){a.forEach(e)}else{e(a)}var f=c.length;function g(){if(--f<=0){b()}}if(f===0){g()}c.forEach(function(a){var b=qd[a]=new window.Image;if(!/^data:/i.test(a)){b.crossOrigin="Anonymous"}b.src=a;if(b.complete){g()}else{b.onload=g;b.onerror=function(){qd[a]=null;g()}}})}function Sd(a){var b="";do{var c=a%26;b=String.fromCharCode(97+c)+b;a=Math.floor(a/26)}while(a>0);return b}function Td(a,b,c){rd=Object.create(rd);rd[a.tagName.toLowerCase()]={element:a,style:b};var d=Zd(b,"text-decoration");if(d&&d!="none"){var e=Zd(b,"color");d.split(/\s+/g).forEach(function(a){if(!rd[a]){rd[a]=e}})}if(Xd(b)){rd._stackingContext={element:a,group:c}}}function Ud(){rd=Object.getPrototypeOf(rd)}function Vd(a){if(rd._clipbox!=null){var b=a.bbox(rd._matrix);if(rd._clipbox){rd._clipbox=Z.intersect(rd._clipbox,b)}else{rd._clipbox=b}}}function Wd(){var a=rd._clipbox;if(a==null){return true}if(a){return a.width()===0||a.height()===0}}function Xd(a){function b(b){return Zd(a,b)}if(b("transform")!="none"||b("position")!="static"||b("z-index")!="auto"||b("opacity")<1){return true}}function Yd(a,b){return window.getComputedStyle(a,b||null)}function Zd(a,b,c){var d=a.getPropertyValue(b);if(d==null||d===""){if(nd.webkit){d=a.getPropertyValue("-webkit-"+b)}else if(nd.mozilla){d=a.getPropertyValue("-moz-"+b)}else if(nd.opera){d=a.getPropertyValue("-o-"+b)}else if(td){d=a.getPropertyValue("-ms-"+b)}}if(arguments.length>2&&(d==null||d==="")){return c}else{return d}}function $d(a,b,c,d){a.setProperty(b,c,d);if(nd.webkit){a.setProperty("-webkit-"+b,c,d)}else if(nd.mozilla){a.setProperty("-moz-"+b,c,d)}else if(nd.opera){a.setProperty("-o-"+b,c,d)}else if(td){a.setProperty("-ms-"+b,c,d);b="ms"+b.replace(/(^|-)([a-z])/g,function(a,b,c){return b+c.toUpperCase()});a[b]=c}}function _d(a,b){b="border-"+b;return{width:parseFloat(Zd(a,b+"-width")),style:Zd(a,b+"-style"),color:Pd(Zd(a,b+"-color"),true)}}function ae(a,b){var c=a.style.cssText;var d=b();a.style.cssText=c;return d}function be(a,b){var c=Zd(a,"border-"+b+"-radius").split(/\s+/g).map(parseFloat);if(c.length==1){c.push(c[0])}return ke({x:c[0],y:c[1]})}function ce(a){var b=a.getBoundingClientRect();b=de(b,"border-*-width",a);b=de(b,"padding-*",a);return b}function de(a,b,c){var d,e,f,g,h;if(typeof b=="string"){d=Yd(c);e=parseFloat(Zd(d,b.replace("*","top")));f=parseFloat(Zd(d,b.replace("*","right")));g=parseFloat(Zd(d,b.replace("*","bottom")));h=parseFloat(Zd(d,b.replace("*","left")))}else if(typeof b=="number"){e=f=g=h=b}return{top:a.top+e,right:a.right-f,bottom:a.bottom-g,left:a.left+h,width:a.right-a.left-f-h,height:a.bottom-a.top-g-e}}function ee(a){var b=Zd(a,"transform");if(b=="none"){return null}var c=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(b);if(c){var d=Zd(a,"transform-origin");c=c[1].split(/\s*,\s*/g).map(parseFloat);d=d.split(/\s+/g).map(parseFloat);return{matrix:c,origin:d}}}function fe(a){return 180*a/Math.PI%360}function ge(a){var b=parseFloat(a);if(/grad$/.test(a)){return Math.PI*b/200}else if(/rad$/.test(a)){return b}else if(/turn$/.test(a)){return Math.PI*b*2}else if(/deg$/.test(a)){return Math.PI*b/180}}function he(a,b){b=new V(b[0],b[1],b[2],b[3],b[4],b[5]);a.transform(b);return b}function ie(a,b){a.clip(b)}function je(a,b,c,d){var e=new sa([b,c],d).curvePoints(),f=1;while(f<e.length){a.curveTo(e[f++],e[f++],e[f++])}}function ke(a){if(a.x<=0||a.y<=0){a.x=a.y=0}return a}function le(a,b,c,d,e){var f=Math.max(0,b.x),g=Math.max(0,b.y);var h=Math.max(0,c.x),i=Math.max(0,c.y);var j=Math.max(0,d.x),k=Math.max(0,d.y);var l=Math.max(0,e.x),m=Math.max(0,e.y);var n=Math.min(a.width/(f+h),a.height/(i+k),a.width/(j+l),a.height/(m+g));if(n<1){f*=n;g*=n;h*=n;i*=n;j*=n;k*=n;l*=n;m*=n}return{tl:{x:f,y:g},tr:{x:h,y:i},br:{x:j,y:k},bl:{x:l,y:m}}}function me(a,b,c){var d=Yd(a);var e=be(d,"top-left");var f=be(d,"top-right");var g=be(d,"bottom-left");var h=be(d,"bottom-right");if(c=="padding"||c=="content"){var i=_d(d,"top");var j=_d(d,"right");var k=_d(d,"bottom");var l=_d(d,"left");e.x-=l.width;e.y-=i.width;f.x-=j.width;f.y-=i.width;h.x-=j.width;h.y-=k.width;g.x-=l.width;g.y-=k.width;if(c=="content"){var m=parseFloat(Zd(d,"padding-top"));var n=parseFloat(Zd(d,"padding-right"));var o=parseFloat(Zd(d,"padding-bottom"));var p=parseFloat(Zd(d,"padding-left"));e.x-=p;e.y-=m;f.x-=n;f.y-=m;h.x-=n;h.y-=o;g.x-=p;g.y-=o}}if(typeof c=="number"){e.x-=c;e.y-=c;f.x-=c;f.y-=c;h.x-=c;h.y-=c;g.x-=c;g.y-=c}return ne(b,e,f,h,g)}function ne(a,b,c,d,e){var f=le(a,b,c,d,e);var g=f.tl;var h=f.tr;var i=f.br;var j=f.bl;var k=new Sa({fill:null,stroke:null});k.moveTo(a.left,a.top+g.y);if(g.x){je(k,a.left+g.x,a.top+g.y,{startAngle:-180,endAngle:-90,radiusX:g.x,radiusY:g.y})}k.lineTo(a.right-h.x,a.top);if(h.x){je(k,a.right-h.x,a.top+h.y,{startAngle:-90,endAngle:0,radiusX:h.x,radiusY:h.y})}k.lineTo(a.right,a.bottom-i.y);if(i.x){je(k,a.right-i.x,a.bottom-i.y,{startAngle:0,endAngle:90,radiusX:i.x,radiusY:i.y})}k.lineTo(a.left+j.x,a.bottom);if(j.x){je(k,a.left+j.x,a.bottom-j.y,{startAngle:90,endAngle:180,radiusX:j.x,radiusY:j.y})}return k.close()}function oe(a,b){var c=String(parseFloat(a));switch(b){case"decimal-leading-zero":if(c.length<2){c="0"+c}return c;case"lower-roman":return m(a).toLowerCase();case"upper-roman":return m(a).toUpperCase();case"lower-latin":case"lower-alpha":return Sd(a-1);case"upper-latin":case"upper-alpha":return Sd(a-1).toUpperCase();default:return c}}function pe(a,b){function c(a,b,c){if(!c){return oe(Jd(a)||0,b)}c=c.replace(/^\s*(["'])(.*)\1\s*$/,"$2");return Kd(a).map(function(a){return oe(a,b)}).join(c)}var d=Ed(b,/^\s+/);var e=[],f;d.forEach(function(b){var d;if(f=/^\s*(["'])(.*)\1\s*$/.exec(b)){e.push(f[2].replace(/\\([0-9a-f]{4})/gi,function(a,b){return String.fromCharCode(parseInt(b,16))}))}else if(f=/^\s*counter\((.*?)\)\s*$/.exec(b)){d=Ed(f[1]);e.push(c(d[0],d[1]))}else if(f=/^\s*counters\((.*?)\)\s*$/.exec(b)){d=Ed(f[1]);e.push(c(d[0],d[2],d[1]))}else if(f=/^\s*attr\((.*?)\)\s*$/.exec(b)){e.push(a.getAttribute(f[1])||"")}else{e.push(b)}});return e.join("")}function qe(a){if(a.cssText){return a.cssText}var b=[];for(var c=0;c<a.length;++c){b.push(a[c]+": "+Zd(a,a[c]))}return b.join(";\n")}function re(a,b){if(a.tagName==pd){se(a,b);return}var c=[];function d(b,d){var e=Yd(a,b),f=e.content;Od(e);if(f&&f!="normal"&&f!="none"&&e.width!="0px"){var g=a.ownerDocument.createElement(pd);g.style.cssText=qe(e);g.textContent=pe(a,f);a.insertBefore(g,d);c.push(g)}}d(":before",a.firstChild);d(":after",null);if(c.length>0){var e=a.className;a.className+=" kendo-pdf-hide-pseudo-elements";se(a,b);a.className=e;c.forEach(function(b){a.removeChild(b)})}else{se(a,b)}}function se(a,b){var c=Yd(a);var d=_d(c,"top");var e=_d(c,"right");var f=_d(c,"bottom");var g=_d(c,"left");var h=be(c,"top-left");var i=be(c,"top-right");var j=be(c,"bottom-left");var k=be(c,"bottom-right");var l=Zd(c,"direction");var n=Zd(c,"background-color");n=Pd(n);var o=Dd(Zd(c,"background-image"));var p=Ed(Zd(c,"background-repeat"));var q=Ed(Zd(c,"background-position"));var r=Ed(Zd(c,"background-origin"));var s=Ed(Zd(c,"background-size"));if(nd.msie&&nd.version<10){q=Ed(a.currentStyle.backgroundPosition)}var t=de(a.getBoundingClientRect(),"border-*-width",a);(function(){var a=Zd(c,"clip");var d=/^\s*rect\((.*)\)\s*$/.exec(a);if(d){var e=d[1].split(/[ ,]+/g);var f=e[0]=="auto"?t.top:parseFloat(e[0])+t.top;var g=e[1]=="auto"?t.right:parseFloat(e[1])+t.left;var h=e[2]=="auto"?t.bottom:parseFloat(e[2])+t.top;var i=e[3]=="auto"?t.left:parseFloat(e[3])+t.left;var j=new bb;var k=(new Sa).moveTo(i,f).lineTo(g,f).lineTo(g,h).lineTo(i,h).close();ie(j,k);b.append(j);b=j;Vd(k)}})();var u,v,w;var x=Zd(c,"display");if(x=="table-row"){u=[];for(v=0,w=a.children;v<w.length;++v){u.push(w[v].getBoundingClientRect())}}else{u=a.getClientRects();if(u.length==1){u=[a.getBoundingClientRect()]}}u=z(u);for(v=0;v<u.length;++v){E(u[v],v===0,v==u.length-1)}if(a.tagName=="A"&&a.href&&!/^#?$/.test(a.getAttribute("href"))){if(!rd._avoidLinks||!yd(a,rd._avoidLinks)){var y=document.createRange();y.selectNodeContents(a);od(y.getClientRects()).forEach(function(c){var d=new bb;d._pdfLink={url:a.href,top:c.top,right:c.right,bottom:c.bottom,left:c.left};b.append(d)})}}if(u.length>0&&x=="list-item"&&!a.getAttribute("kendo-no-bullet")){D(u[0])}(function(){function d(){var c=me(a,t,"padding");var d=new bb;ie(d,c);b.append(d);b=d;Vd(c)}if(xe(a)){d()}else if(/^(hidden|auto|scroll)/.test(Zd(c,"overflow"))){d()}else if(/^(hidden|auto|scroll)/.test(Zd(c,"overflow-x"))){d()}else if(/^(hidden|auto|scroll)/.test(Zd(c,"overflow-y"))){d()}})();if(!ue(a,b)){Be(a,b)}return b;function z(b){if(/^td$/i.test(a.tagName)){var c=rd.table;if(c&&Zd(c.style,"border-collapse")=="collapse"){var d=_d(c.style,"left").width;var e=_d(c.style,"top").width;if(d===0&&e===0){return b}var f=c.element.getBoundingClientRect();var g=c.element.rows[0].cells[0];var h=g.getBoundingClientRect();if(h.top==f.top||h.left==f.left){return od(b).map(function(a){return{left:a.left+d,top:a.top+e,right:a.right+d,bottom:a.bottom+e,height:a.height,width:a.width}})}}}return b}function A(a,c,d,e,f,g,h,i){if(d<=0){return}var j,k=new bb;he(k,i);b.append(k);ke(g);ke(h);j=new Sa({fill:{color:a},stroke:null});k.append(j);j.moveTo(g.x?Math.max(g.x,e):0,0).lineTo(c-(h.x?Math.max(h.x,f):0),0).lineTo(c-Math.max(h.x,f),d).lineTo(Math.max(g.x,e),d).close();if(g.x){l(e,g,[-1,0,0,1,g.x,0])}if(h.x){l(f,h,[1,0,0,1,c-h.x,0])}function l(b,c,e){var f=Math.PI/2*b/(b+d);var g={x:c.x-b,y:c.y-d};var h=new Sa({fill:{color:a},stroke:null}).moveTo(0,0);he(h,e);je(h,0,c.y,{startAngle:-90,endAngle:-fe(f),radiusX:c.x,radiusY:c.y});if(g.x>0&&g.y>0){h.lineTo(g.x*Math.cos(f),c.y-g.y*Math.sin(f));je(h,0,c.y,{startAngle:-fe(f),endAngle:-90,radiusX:g.x,radiusY:g.y,anticlockwise:true})}else if(g.x>0){h.lineTo(g.x,d).lineTo(0,d)}else{h.lineTo(g.x,d).lineTo(g.x,0)}k.append(h.close())}}function B(a){var c=new bb;ie(c,ne(a,h,i,k,j));b.append(c);if(n){var d=new Sa({fill:{color:n.toCssRgba()},stroke:null});d.moveTo(a.left,a.top).lineTo(a.right,a.top).lineTo(a.right,a.bottom).lineTo(a.left,a.bottom).close();c.append(d)}for(var e=o.length;--e>=0;){C(c,a,o[e],p[e%p.length],q[e%q.length],r[e%r.length],s[e%s.length])}}function C(b,c,d,e,f,g,h){if(!d||d=="none"){return}if(d.type=="url"){if(/^url\(\"data:image\/svg/i.test(d.url)){return}var i=qd[d.url];if(i&&i.width>0&&i.height>0){j(b,c,i.width,i.height,function(a,b){a.append(new _a(d.url,b))})}}else if(d.type=="linear"){j(b,c,c.width,c.height,te(d))}else{return}function j(b,c,d,i,j){var k=d/i,l;var m=c;if(g=="content-box"){m=de(m,"border-*-width",a);m=de(m,"padding-*",a)}else if(g=="padding-box"){m=de(m,"border-*-width",a)}if(!/^\s*auto(\s+auto)?\s*$/.test(h)){if(h=="contain"){l=Math.min(m.width/d,m.height/i);d*=l;i*=l}else if(h=="cover"){l=Math.max(m.width/d,m.height/i);d*=l;i*=l}else{var n=h.split(/\s+/g);if(/%$/.test(n[0])){d=m.width*parseFloat(n[0])/100}else{d=parseFloat(n[0])}if(n.length==1||n[1]=="auto"){i=d/k}else if(/%$/.test(n[1])){i=m.height*parseFloat(n[1])/100}else{i=parseFloat(n[1])}}}var o=String(f);switch(o){case"bottom":o="50% 100%";break;case"top":o="50% 0";break;case"left":o="0 50%";break;case"right":o="100% 50%";break;case"center":o="50% 50%";break}o=o.split(/\s+/);if(o.length==1){o[1]="50%"}if(/%$/.test(o[0])){o[0]=parseFloat(o[0])/100*(m.width-d)}else{o[0]=parseFloat(o[0])}if(/%$/.test(o[1])){o[1]=parseFloat(o[1])/100*(m.height-i)}else{o[1]=parseFloat(o[1])}var p=new Z([m.left+o[0],m.top+o[1]],[d,i]);function q(){while(p.origin.x>c.left){p.origin.x-=d}}function r(){while(p.origin.y>c.top){p.origin.y-=i}}function s(){while(p.origin.x<c.right){j(b,p.clone());p.origin.x+=d}}if(e=="no-repeat"){j(b,p)}else if(e=="repeat-x"){q();s()}else if(e=="repeat-y"){r();while(p.origin.y<c.bottom){j(b,p.clone());p.origin.y+=i}}else if(e=="repeat"){q();r();var t=p.origin.clone();while(p.origin.y<c.bottom){p.origin.x=t.x;s();p.origin.y+=i}}}}function D(){var d=Zd(c,"list-style-type");if(d=="none"){return}var e=Zd(c,"list-style-position");function f(c){ae(a,function(){a.style.position="relative";var d=a.ownerDocument.createElement(pd);d.style.position="absolute";d.style.boxSizing="border-box";if(e=="outside"){d.style.width="6em";d.style.left="-6.8em";d.style.textAlign="right"}else{d.style.left="0px"}c(d);a.insertBefore(d,a.firstChild);Ee(d,b);a.removeChild(d)})}function g(b){var c=a.parentNode.children;var d=a.getAttribute("kendo-split-index");if(d!=null){return b(d|0,c.length)}for(var e=0;e<c.length;++e){if(c[e]===a){return b(e,c.length)}}}switch(d){case"circle":case"disc":case"square":f(function(a){a.style.fontSize="60%";a.style.lineHeight="200%";a.style.paddingRight="0.5em";a.style.fontFamily="DejaVu Serif";a.innerHTML={disc:"â",circle:"â¯",square:"â "}[d]});break;case"decimal":case"decimal-leading-zero":f(function(a){g(function(b){++b;if(d=="decimal-leading-zero"&&b<10){b="0"+b}a.innerHTML=b+"."})});break;case"lower-roman":case"upper-roman":f(function(a){g(function(b){b=m(b+1);if(d=="upper-roman"){b=b.toUpperCase()}a.innerHTML=b+"."})});break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":f(function(a){g(function(b){b=Sd(b);if(/^upper/i.test(d)){b=b.toUpperCase()}a.innerHTML=b+"."})});break}}function E(c,m,n){if(c.width===0||c.height===0){return}B(c);var o=g.width>0&&(m&&l=="ltr"||n&&l=="rtl");var p=e.width>0&&(n&&l=="ltr"||m&&l=="rtl");if(d.width===0&&g.width===0&&e.width===0&&f.width===0){return}if(d.color==e.color&&d.color==f.color&&d.color==g.color){if(d.width==e.width&&d.width==f.width&&d.width==g.width){if(o&&p){c=de(c,d.width/2);var q=me(a,c,d.width/2);q.options.stroke={color:d.color,width:d.width};b.append(q);return}}}if(h.x===0&&i.x===0&&k.x===0&&j.x===0){if(d.width<2&&g.width<2&&e.width<2&&f.width<2){if(d.width>0){b.append(new Sa({stroke:{width:d.width,color:d.color}}).moveTo(c.left,c.top+d.width/2).lineTo(c.right,c.top+d.width/2))}if(f.width>0){b.append(new Sa({stroke:{width:f.width,color:f.color}}).moveTo(c.left,c.bottom-f.width/2).lineTo(c.right,c.bottom-f.width/2))}if(o){b.append(new Sa({stroke:{width:g.width,color:g.color}}).moveTo(c.left+g.width/2,c.top).lineTo(c.left+g.width/2,c.bottom))}if(p){b.append(new Sa({stroke:{width:e.width,color:e.color}}).moveTo(c.right-e.width/2,c.top).lineTo(c.right-e.width/2,c.bottom))}return}}var r=le(c,h,i,k,j);var s=r.tl;var t=r.tr;var u=r.br;var v=r.bl;A(d.color,c.width,d.width,g.width,e.width,s,t,[1,0,0,1,c.left,c.top]);A(f.color,c.width,f.width,e.width,g.width,u,v,[-1,0,0,-1,c.right,c.bottom]);function w(a){return{x:a.y,y:a.x}}A(g.color,c.height,g.width,f.width,d.width,w(v),w(s),[0,-1,1,0,c.left,c.bottom]);A(e.color,c.height,e.width,d.width,f.width,w(t),w(u),[0,1,-1,0,c.right,c.top])}}function te(a){return function(b,c){var d=c.width(),e=c.height();switch(a.type){case"linear":var f=a.angle!=null?a.angle:Math.PI;switch(a.to){case"top":f=0;break;case"left":f=-Math.PI/2;break;case"bottom":f=Math.PI;break;case"right":f=Math.PI/2;break;case"top left":case"left top":f=-Math.atan2(e,d);break;case"top right":case"right top":f=Math.atan2(e,d);break;case"bottom left":case"left bottom":f=Math.PI+Math.atan2(e,d);break;case"bottom right":case"right bottom":f=Math.PI-Math.atan2(e,d);break}if(a.reverse){f-=Math.PI}f%=2*Math.PI;if(f<0){f+=2*Math.PI}var g=Math.abs(d*Math.sin(f))+Math.abs(e*Math.cos(f));var h=Math.atan(d*Math.tan(f)/e);var i=Math.sin(h),j=Math.cos(h);var k=Math.abs(i)+Math.abs(j);var l=k/2*i;var m=k/2*j;if(f>Math.PI/2&&f<=3*Math.PI/2){l=-l;m=-m}var n=[],o=0;var p=a.stops.map(function(b,c){var d=b.percent;if(d){d=parseFloat(d)/100}else if(b.length){d=parseFloat(b.length)/g}else if(c===0){d=0}else if(c==a.stops.length-1){d=1}var e={color:b.color.toCssRgba(),offset:d};if(d!=null){o=d;n.forEach(function(a,b){var c=a.stop;c.offset=a.left+(o-a.left)*(b+1)/(n.length+1)});n=[]}else{n.push({left:o,stop:e})}return e});var q=[.5-l,.5+m];var r=[.5+l,.5-m];b.append(Sa.fromRect(c).stroke(null).fill(new Bb({start:q,end:r,stops:p,userSpace:false})));break;case"radial":if(window.console&&window.console.log){window.console.log("Radial gradients are not yet supported in HTML renderer")}break}}}function ue(a,b){var c;if(a._kendoExportVisual){c=a._kendoExportVisual()}else if(window.kendo&&window.kendo.jQuery&&a.getAttribute(window.kendo.attr("role"))){var d=window.kendo.widgetInstance(window.kendo.jQuery(a));if(d&&(d.exportDOMVisual||d.exportVisual)){if(d.exportDOMVisual){c=d.exportDOMVisual()}else{c=d.exportVisual()}}}if(!c){return false}var e=new bb;e.children.push(c);var f=a.getBoundingClientRect();e.transform(_().translate(f.left,f.top));b.append(e);return true}function ve(a,b,c){var d=ce(a);var e=new Z([d.left,d.top],[d.width,d.height]);var f=new _a(b,e);ie(f,me(a,d,"content"));c.append(f)}function we(a,b){var c=Yd(a);var d=Yd(b);var e=parseFloat(Zd(c,"z-index"));var f=parseFloat(Zd(d,"z-index"));var g=Zd(c,"position");var h=Zd(d,"position");if(isNaN(e)&&isNaN(f)){if(/static|absolute/.test(g)&&/static|absolute/.test(h)){return 0}if(g=="static"){return-1}if(h=="static"){return 1}return 0}if(isNaN(e)){return f===0?0:f>0?-1:1}if(isNaN(f)){return e===0?0:e>0?1:-1}return parseFloat(e)-parseFloat(f)}function xe(a){return/^(?:textarea|select|input)$/i.test(a.tagName)}function ye(a){if(a.selectedOptions&&a.selectedOptions.length>0){return a.selectedOptions[0]}return a.options[a.selectedIndex]}function ze(a,b){var c=Yd(a);var d=Zd(c,"color");var e=a.getBoundingClientRect();if(a.type=="checkbox"){b.append(Sa.fromRect(new Z([e.left+1,e.top+1],[e.width-2,e.height-2])).stroke(d,1));if(a.checked){b.append((new Sa).stroke(d,1.2).moveTo(e.left+.22*e.width,e.top+.55*e.height).lineTo(e.left+.45*e.width,e.top+.75*e.height).lineTo(e.left+.78*e.width,e.top+.22*e.width))}}else{b.append(new la(new da([(e.left+e.right)/2,(e.top+e.bottom)/2],Math.min(e.width-2,e.height-2)/2)).stroke(d,1));if(a.checked){b.append(new la(new da([(e.left+e.right)/2,(e.top+e.bottom)/2],Math.min(e.width-8,e.height-8)/2)).fill(d).stroke(null))}}}function Ae(a,b){var c=a.tagName.toLowerCase();if(c=="input"&&(a.type=="checkbox"||a.type=="radio")){return ze(a,b)}var d=a.parentNode;var e=a.ownerDocument;var f=e.createElement(pd);var g;f.style.cssText=qe(Yd(a));if(c=="input"){f.style.whiteSpace="pre"}if(c=="select"||c=="textarea"){f.style.overflow="auto"}if(c=="select"){if(a.multiple){for(var h=0;h<a.options.length;++h){g=e.createElement(pd);g.style.cssText=qe(Yd(a.options[h]));g.style.display="block";g.textContent=a.options[h].textContent;f.appendChild(g)}}else{g=ye(a);if(g){f.textContent=g.textContent}}}else{f.textContent=a.value}d.insertBefore(f,a);f.scrollLeft=a.scrollLeft;f.scrollTop=a.scrollTop;a.style.display="none";Be(f,b);a.style.display="";d.removeChild(f)}function Be(a,b){if(rd._stackingContext.element===a){rd._stackingContext.group=b}switch(a.tagName.toLowerCase()){case"img":ve(a,a.src,b);break;case"canvas":try{ve(a,a.toDataURL("image/png"),b)}catch(a){}break;case"textarea":case"input":case"select":Ae(a,b);break;default:var c=[],d=[],e=[];for(var f=a.firstChild;f;f=f.nextSibling){switch(f.nodeType){case 3:if(/\S/.test(f.data)){Ce(a,f,b)}break;case 1:var g=Yd(f);var h=Zd(g,"float");var i=Zd(g,"position");if(i!="static"){e.push(f)}else if(h!="none"){d.push(f)}else{c.push(f)}break}}E(c,we).forEach(function(a){Ee(a,b)});E(d,we).forEach(function(a){Ee(a,b)});E(e,we).forEach(function(a){Ee(a,b)})}}function Ce(a,b,c){if(Wd()){return}var d=Yd(a);if(parseFloat(Zd(d,"text-indent"))<-500){return}var e=b.data;var f=0;var g=e.search(/\S\s*$/)+1;if(!g){return}var h=Zd(d,"font-size");var i=Zd(d,"line-height");var j=[Zd(d,"font-style"),Zd(d,"font-variant"),Zd(d,"font-weight"),h,Zd(d,"font-family")].join(" ");h=parseFloat(h);i=parseFloat(i);if(h===0){return}var k=Zd(d,"color");var l=a.ownerDocument.createRange();var m=Zd(d,"text-align");var n=m=="justify";var o=Zd(d,"column-count",1);var p=Zd(d,"white-space");var q=Zd(d,"text-transform");var r,s;if(td){r=d.textOverflow;if(r=="ellipsis"){s=a.style.textOverflow;a.style.textOverflow="clip"}}var t=a.getBoundingClientRect().width/h*5;if(t===0){t=500}var u=null;var v=rd["underline"];var w=rd["line-through"];var x=rd["overline"];var y=v||w||x;while(!A()){}if(td&&r=="ellipsis"){a.style.textOverflow=s}if(y){l.selectNode(b);od(l.getClientRects()).forEach(C)}return;function z(a){if(td||nd.chrome){var b=a.getClientRects(),c={top:Infinity,right:-Infinity,bottom:-Infinity,left:Infinity},d=false;for(var e=0;e<b.length;++e){var f=b[e];if(f.width<=1||f.bottom===u){continue}c.left=Math.min(f.left,c.left);c.top=Math.min(f.top,c.top);c.right=Math.max(f.right,c.right);c.bottom=Math.max(f.bottom,c.bottom);d=true}if(!d){return a.getBoundingClientRect()}c.width=c.right-c.left;c.height=c.bottom-c.top;return c}return a.getBoundingClientRect()}function A(){var a=f;var c,d=e.substr(f).search(/\S/);f+=d;if(d<0||f>=g){return true}l.setStart(b,f);l.setEnd(b,f+1);c=z(l);var h=false;if(n||o>1){d=e.substr(f).search(/\s/);if(d>=0){l.setEnd(b,f+d);var i=z(l);if(i.bottom==c.bottom){c=i;h=true;f+=d}}}if(!h){d=function a(d,e,f){l.setEnd(b,e);var g=z(l);if(g.bottom!=c.bottom&&d<e){return a(d,d+e>>1,e)}else if(g.right!=c.right){c=g;if(e<f){return a(e,e+f>>1,f)}else{return e}}else{return e}}(f,Math.min(g,f+t),g);if(d==f){return true}f=d;d=l.toString().search(/\s+$/);if(d===0){return false}if(d>0){l.setEnd(b,l.startOffset+d);c=z(l)}}if(td){c=l.getClientRects()[0]}var j=l.toString();if(!/^(?:pre|pre-wrap)$/i.test(p)){j=j.replace(/\s+/g," ")}else if(/\t/.test(j)){var k=0;for(d=a;d<l.startOffset;++d){var m=e.charCodeAt(d);if(m==9){k+=8-k%8}else if(m==10||m==13){k=0}else{k++}}while((d=j.search("\t"))>=0){var q="        ".substr(0,8-(k+d)%8);j=j.substr(0,d)+q+j.substr(d+1)}}if(!h){u=c.bottom}B(j,c)}function B(a,b){if(td&&!isNaN(i)){var d=Gd(j);var e=(b.top+b.bottom-d)/2;b={top:e,right:b.right,bottom:e+d,left:b.left,height:d,width:b.right-b.left}}switch(q){case"uppercase":a=a.toUpperCase();break;case"lowercase":a=a.toLowerCase();break;case"capitalize":a=a.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()});break}var f=new ud(a,new Z([b.left,b.top],[b.width,b.height]),{font:j,fill:{color:k}});c.append(f)}function C(a){b(v,a.bottom);b(w,a.bottom-a.height/2.7);b(x,a.top);function b(b,d){if(b){var e=h/12;var f=new Sa({stroke:{width:e,color:b}});d-=e;f.moveTo(a.left,d).lineTo(a.right,d);c.append(f)}}}}function De(a,b,c){var d;if(c!="auto"){d=rd._stackingContext.group;c=parseFloat(c)}else{d=b;c=0}var e=d.children;for(var f=0;f<e.length;++f){if(e[f]._dom_zIndex!=null&&e[f]._dom_zIndex>c){break}}var g=new bb;d.insert(f,g);g._dom_zIndex=c;if(d!==b){if(rd._clipbox){var h=rd._matrix.invert();var i=rd._clipbox.transformCopy(h);ie(g,Sa.fromRect(i))}}return g}function Ee(a,b){var c=Yd(a);Od(c);if(/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(a.tagName)){return}if(rd._clipbox==null){return}var d=parseFloat(Zd(c,"opacity"));var e=Zd(c,"visibility");var f=Zd(c,"display");if(d===0||e=="hidden"||f=="none"){return}var g=ee(c);var h;var i=Zd(c,"z-index");if((g||d<1)&&i=="auto"){i=0}h=De(a,b,i);if(d<1){h.opacity(d*h.opacity())}Td(a,c,h);if(!g){re(a,h)}else{ae(a,function(){$d(a.style,"transform","none","important");$d(a.style,"transition","none","important");if(Zd(c,"position")=="static"){$d(a.style,"position","relative","important")}var b=a.getBoundingClientRect();var d=b.left+g.origin[0];var e=b.top+g.origin[1];var f=[1,0,0,1,-d,-e];f=Fe(f,g.matrix);f=Fe(f,[1,0,0,1,d,e]);f=he(h,f);rd._matrix=rd._matrix.multiplyCopy(f);re(a,h)})}Ud()}function Fe(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];var i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5];return[c*i+d*k,c*j+d*l,e*i+f*k,e*j+f*l,g*i+h*k+m,g*j+h*l+n]}var Ge={svg:Oc,canvas:kd,util:P,PathParser:Ub,Surface:Xb,BaseNode:Yb,SurfaceFactory:Vb,OptionsStore:R,exportImage:ld,exportSVG:md,QuadNode:Wc,ShapesQuadTree:$c,ObserversMixin:j,Element:aa,Circle:la,Arc:Ua,Path:Sa,MultiPath:Xa,Text:$a,Image:_a,Group:bb,Layout:ib,Rect:jb,align:lb,vAlign:mb,stack:pb,vStack:qb,wrap:tb,vWrap:ub,fit:vb,LinearGradient:Bb,RadialGradient:Cb,GradientStop:zb,Gradient:Ab,Animation:Ib,AnimationFactory:Jb,drawDOM:Cd};kendo.deepExtend(kendo,{drawing:Ge,geometry:Mc});kendo.drawing.Segment=kendo.geometry.Segment;kendo.dataviz.drawing=kendo.drawing;kendo.dataviz.geometry=kendo.geometry;kendo.drawing.util.measureText=kendo.util.measureText;kendo.drawing.util.objectKey=kendo.util.objectKey;kendo.drawing.Color=kendo.Color;kendo.util.encodeBase64=kendo.drawing.util.encodeBase64})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.popup",["kendo.core"],a)})(function(){var a={id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=c.Class,g=c.support,h=c.getOffset,i=c._outerWidth,j=c._outerHeight,k="open",l="close",m="deactivate",n="activate",o="center",p="left",q="right",r="top",s="bottom",t="absolute",u="hidden",v="body",w="location",x="position",y="visible",z="effects",A="k-state-active",B="k-state-border",C=/k-state-border-(\w+)/,D=".k-picker-wrap, .k-dropdown-wrap, .k-link",E="down",F=a(document.documentElement),G=a.proxy,H=a(window),I="scroll",J=g.transitions.css,K=J+"transform",L=a.extend,M=".kendoPopup",N=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function O(b,c){if(!b||!c){return false}return b===c||a.contains(b,c)}var P=e.extend({init:function(b,d){var f=this,h;d=d||{};if(d.isRtl){d.origin=d.origin||s+" "+q;d.position=d.position||r+" "+q}e.fn.init.call(f,b,d);b=f.element;d=f.options;f.collisions=d.collision?d.collision.split(" "):[];f.downEvent=c.applyEventMap(E,c.guid());if(f.collisions.length===1){f.collisions.push(f.collisions[0])}h=a(f.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");d.appendTo=a(a(d.appendTo)[0]||h[0]||document.body);f.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!d.isRtl).css({position:t}).appendTo(d.appendTo).attr("aria-hidden",true).on("mouseenter"+M,function(){f._hovered=true}).on("wheel"+M,function(b){var c=a(b.target).find(".k-list");var d=c.parent();if(c.length&&c.is(":visible")&&(d.scrollTop()===0&&b.originalEvent.deltaY<0||d.scrollTop()===d.prop("scrollHeight")-d.prop("offsetHeight")&&b.originalEvent.deltaY>0)){b.preventDefault()}}).on("mouseleave"+M,function(){f._hovered=false});f.wrapper=a();if(d.animation===false){d.animation={open:{effects:{}},close:{hide:true,effects:{}}}}L(d.animation.open,{complete:function(){f.wrapper.css({overflow:y});f._activated=true;f._trigger(n)}});L(d.animation.close,{complete:function(){f._animationClose()}});f._mousedownProxy=function(a){f._mousedown(a)};if(g.mobileOS.android){f._resizeProxy=function(a){setTimeout(function(){f._resize(a)},600)}}else{f._resizeProxy=function(a){f._resize(a)}}if(d.toggleTarget){a(d.toggleTarget).on(d.toggleEvent+M,a.proxy(f.toggle,f))}},events:[k,n,l,m],options:{name:"Popup",toggleEvent:"click",origin:s+" "+p,position:r+" "+p,anchor:v,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},_animationClose:function(){var a=this;var b=a.wrapper.data(w);a.wrapper.hide();if(b){a.wrapper.css(b)}if(a.options.anchor!=v){a._hideDirClass()}a._closing=false;a._trigger(m)},destroy:function(){var b=this,d=b.options,f=b.element.off(M),g;e.fn.destroy.call(b);if(d.toggleTarget){a(d.toggleTarget).off(M)}if(!d.modal){F.unbind(b.downEvent,b._mousedownProxy);b._toggleResize(false)}c.destroy(b.element.children());f.removeData();if(d.appendTo[0]===document.body){g=f.parent(".k-animation-container");if(g[0]){g.remove()}else{f.remove()}}},open:function(b,d){var e=this,f={isFixed:!isNaN(parseInt(d,10)),x:b,y:d},h=e.element,i=e.options,j,l,m=a(i.anchor),n=h[0]&&h.hasClass("km-widget");if(!e.visible()){if(i.copyAnchorStyles){if(n&&N[0]=="font-size"){N.shift()}h.css(c.getComputedStyles(m[0],N))}if(h.data("animating")||e._trigger(k)){return}e._activated=false;if(!i.modal){F.unbind(e.downEvent,e._mousedownProxy).bind(e.downEvent,e._mousedownProxy);e._toggleResize(false);e._toggleResize(true)}e.wrapper=l=c.wrap(h,i.autosize).css({overflow:u,display:"block",position:t}).attr("aria-hidden",false);if(g.mobileOS.android){l.css(K,"translatez(0)")}l.css(x);if(a(i.appendTo)[0]==document.body){l.css(r,"-10000px")}e.flipped=e._position(f);j=e._openAnimation();if(i.anchor!=v){e._showDirClass(j)}h.data(z,j.effects).kendoStop(true).kendoAnimate(j).attr("aria-hidden",false)}},_location:function(b){var d=this,e=d.element,f=d.options,h,i=a(f.anchor),j=e[0]&&e.hasClass("km-widget");if(f.copyAnchorStyles){if(j&&N[0]=="font-size"){N.shift()}e.css(c.getComputedStyles(i[0],N))}d.wrapper=h=c.wrap(e,f.autosize).css({overflow:u,display:"block",position:t});if(g.mobileOS.android){h.css(K,"translatez(0)")}h.css(x);if(a(f.appendTo)[0]==document.body){h.css(r,"-10000px")}d._position(b||{});var k=h.offset();return{width:c._outerWidth(h),height:c._outerHeight(h),left:k.left,top:k.top}},_openAnimation:function(){var a=L(true,{},this.options.animation.open);a.effects=c.parseEffects(a.effects,this.flipped);return a},_hideDirClass:function(){var b=a(this.options.anchor);var d=((b.attr("class")||"").match(C)||["","down"])[1];var e=B+"-"+d;b.removeClass(e).children(D).removeClass(A).removeClass(e);this.element.removeClass(B+"-"+c.directions[d].reverse)},_showDirClass:function(b){
var d=b.effects.slideIn?b.effects.slideIn.direction:"down";var e=B+"-"+d;a(this.options.anchor).addClass(e).children(D).addClass(A).addClass(e);this.element.addClass(B+"-"+c.directions[d].reverse)},position:function(){if(this.visible()){this.flipped=this._position()}},toggle:function(){var a=this;a[a.visible()?l:k]()},visible:function(){return this.element.is(":"+y)},close:function(b){var d=this,e=d.options,f,g,h,i;if(d.visible()){f=d.wrapper[0]?d.wrapper:c.wrap(d.element).hide();d._toggleResize(false);if(d._closing||d._trigger(l)){d._toggleResize(true);return}d.element.find(".k-popup").each(function(){var c=a(this),d=c.data("kendoPopup");if(d){d.close(b)}});F.unbind(d.downEvent,d._mousedownProxy);if(b){g={hide:true,effects:{}}}else{g=L(true,{},e.animation.close);h=d.element.data(z);i=g.effects;if(!i&&!c.size(i)&&h&&c.size(h)){g.effects=h;g.reverse=true}d._closing=true}d.element.kendoStop(true).attr("aria-hidden",true);f.css({overflow:u}).attr("aria-hidden",true);d.element.kendoAnimate(g);if(b){d._animationClose()}}},_trigger:function(a){return this.trigger(a,{type:a})},_resize:function(a){var b=this;if(g.resize.indexOf(a.type)!==-1){clearTimeout(b._resizeTimeout);b._resizeTimeout=setTimeout(function(){b._position();b._resizeTimeout=null},50)}else{if(!b._hovered||b._activated&&b.element.hasClass("k-list-container")){b.close()}}},_toggleResize:function(a){var b=a?"on":"off";var c=g.resize;if(!(g.mobileOS.ios||g.mobileOS.android)){c+=" "+I}this._scrollableParents()[b](I,this._resizeProxy);H[b](c,this._resizeProxy)},_mousedown:function(b){var d=this,e=d.element[0],f=d.options,g=a(f.anchor)[0],h=f.toggleTarget,i=c.eventTarget(b),j=a(i).closest(".k-popup"),k=j.parent().parent(".km-shim").length;j=j[0];if(!k&&j&&j!==d.element[0]){return}if(a(b.target).closest("a").data("rel")==="popover"){return}if(!O(e,i)&&!O(g,i)&&!(h&&O(a(h)[0],i))){d.close()}},_fit:function(a,b,c){var d=0;if(a+b>c){d=c-(a+b)}if(a<0){d=-a}return d},_flip:function(a,b,c,d,e,f,g){var h=0;g=g||b;if(f!==e&&f!==o&&e!==o){if(a+g>d){h+=-(c+b)}if(a+h<0){h+=c+b}}return h},_scrollableParents:function(){return a(this.options.anchor).parentsUntil("body").filter(function(a,b){return c.isScrollable(b)})},_position:function(b){var d=this,e=d.element,f=d.wrapper,k=d.options,l=a(k.viewport),m=g.zoomLevel(),n=!!(l[0]==window&&window.innerWidth&&m<=1.02),o=a(k.anchor),p=k.origin.toLowerCase().split(" "),q=k.position.toLowerCase().split(" "),r=d.collisions,s,u,v,y=10002,z=0,A=document.documentElement,B,C,D,E;if(k.viewport===window){C={top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}}else{C=l.offset()}if(n){D=window.innerWidth;E=window.innerHeight}else{D=l.width();E=l.height()}if(n&&A.scrollHeight-A.clientHeight>0){var F=k.isRtl?-1:1;D-=F*c.support.scrollbar()}s=o.parents().filter(f.siblings());if(s[0]){v=Math.max(Number(s.css("zIndex")),0);if(v){y=v+10}else{u=o.parentsUntil(s);for(B=u.length;z<B;z++){v=Number(a(u[z]).css("zIndex"));if(v&&y<v){y=v+10}}}}f.css("zIndex",y);if(b&&b.isFixed){f.css({left:b.x,top:b.y})}else{f.css(d._align(p,q))}var G=h(f,x,o[0]===f.offsetParent()[0]),H=h(f),I=o.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(I.length){G=h(f,x,true);H=h(f)}H.top-=C.top;H.left-=C.left;if(!d.wrapper.data(w)){f.data(w,L({},G))}var J=L({},H),K=L({},G),M=k.adjustSize;if(r[0]==="fit"){K.top+=d._fit(J.top,j(f)+M.height,E/m)}if(r[1]==="fit"){K.left+=d._fit(J.left,i(f)+M.width,D/m)}var N=L({},K);var O=j(e);var P=j(f);if(!f.height()&&O){P=P+O}if(r[0]==="flip"){K.top+=d._flip(J.top,O,j(o),E/m,p[0],q[0],P)}if(r[1]==="flip"){K.left+=d._flip(J.left,i(e),i(o),D/m,p[1],q[1],i(f))}e.css(x,t);f.css(K);return K.left!=N.left||K.top!=N.top},_align:function(b,c){var d=this,e=d.wrapper,f=a(d.options.anchor),g=b[0],k=b[1],l=c[0],m=c[1],n=h(f),p=a(d.options.appendTo),r,t=i(e),u=j(e)||j(e.children().first()),v=i(f),w=j(f),x=n.top,y=n.left,z=Math.round;if(p[0]!=document.body){r=h(p);x-=r.top;y-=r.left}if(g===s){x+=w}if(g===o){x+=z(w/2)}if(l===s){x-=u}if(l===o){x-=z(u/2)}if(k===q){y+=v}if(k===o){y+=z(v/2)}if(m===q){y-=t}if(m===o){y-=z(t/2)}return{top:x,left:y}}});d.plugin(P);var Q=c.support.stableSort;var R="kendoTabKeyTrap";var S="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]";var T=f.extend({init:function(b){this.element=a(b);this.element.autoApplyNS(R)},trap:function(){this.element.on("keydown",G(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(R)},destroy:function(){this.element.kendoDestroy(R);this.element=b},shouldTrap:function(){return true},_keepInTrap:function(a){if(a.which!==9||!this.shouldTrap()||a.isDefaultPrevented()){return}var b=this._focusableElements();var c=this._sortFocusableElements(b);var d=this._nextFocusable(a,c);this._focus(d);a.preventDefault()},_focusableElements:function(){var b=this.element.find(S).filter(function(b,c){return c.tabIndex>=0&&a(c).is(":visible")&&!a(c).is("[disabled]")});if(this.element.is("[tabindex]")){b.push(this.element[0])}return b},_sortFocusableElements:function(a){var b;if(Q){b=a.sort(function(a,b){return a.tabIndex-b.tabIndex})}else{var c="__k_index";a.each(function(a,b){b.setAttribute(c,a)});b=a.sort(function(a,b){return a.tabIndex===b.tabIndex?parseInt(a.getAttribute(c),10)-parseInt(b.getAttribute(c),10):a.tabIndex-b.tabIndex});a.removeAttr(c)}return b},_nextFocusable:function(a,b){var c=b.length;var d=b.index(a.target);return b.get((d+(a.shiftKey?-1:1))%c)},_focus:function(a){if(a.nodeName=="IFRAME"){a.contentWindow.document.body.focus();return}a.focus();if(a.nodeName=="INPUT"&&a.setSelectionRange&&this._haveSelectionRange(a)){a.setSelectionRange(0,a.value.length)}},_haveSelectionRange:function(a){var b=a.type.toLowerCase();return b==="text"||b==="search"||b==="url"||b==="tel"||b==="password"}});d.Popup.TabKeyTrap=T})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("drawing/surface-tooltip",["kendo.popup","drawing/kendo-drawing"],a)})(function(){(function(a){var b=".kendo";var c=window.kendo;var d=c.deepExtend;var e=c.drawing.util;var f=e.defined;var g=e.limitValue;var h=e.eventCoordinates;var i=c._outerWidth;var j=c._outerHeight;var k=a.proxy;var l='<div class="k-tooltip">'+'<div class="k-tooltip-content"></div>'+"</div>";var m='<div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div>';var n=c.Class.extend({init:function(b,c){this.element=a(l);this.content=this.element.children(".k-tooltip-content");c=c||{};this.options=d({},this.options,this._tooltipOptions(c));this.popupOptions={appendTo:c.appendTo,animation:c.animation,copyAnchorStyles:false,collision:"fit fit"};this._openPopupHandler=a.proxy(this._openPopup,this);this.surface=b;this._bindEvents()},options:{position:"top",showOn:"mouseenter",offset:7,autoHide:true,hideDelay:0,showAfter:100},_bindEvents:function(){this._showHandler=k(this._showEvent,this);this._surfaceLeaveHandler=k(this._surfaceLeave,this);this._mouseleaveHandler=k(this._mouseleave,this);this._mousemoveHandler=k(this._mousemove,this);this.surface.bind("click",this._showHandler);this.surface.bind("mouseenter",this._showHandler);this.surface.bind("mouseleave",this._mouseleaveHandler);this.surface.bind("mousemove",this._mousemoveHandler);this.surface.element.on("mouseleave"+b,this._surfaceLeaveHandler);this.element.on("click"+b,".k-tooltip-button",k(this._hideClick,this))},getPopup:function(){if(!this.popup){this.popup=new c.ui.Popup(this.element,this.popupOptions)}return this.popup},destroy:function(){var a=this.popup;this.surface.unbind("click",this._showHandler);this.surface.unbind("mouseenter",this._showHandler);this.surface.unbind("mouseleave",this._mouseleaveHandler);this.surface.unbind("mousemove",this._mousemoveHandler);this.surface.element.off("mouseleave"+b,this._surfaceLeaveHandler);this.element.off("click"+b);if(a){a.destroy();delete this.popup}delete this.popupOptions;clearTimeout(this._timeout);delete this.element;delete this.content;delete this.surface},_tooltipOptions:function(a){a=a||{};return{position:a.position,showOn:a.showOn,offset:a.offset,autoHide:a.autoHide,width:a.width,height:a.height,content:a.content,shared:a.shared,hideDelay:a.hideDelay,showAfter:a.showAfter}},_tooltipShape:function(a){while(a&&!a.options.tooltip){a=a.parent}return a},_updateContent:function(a,b,d){var e=d.content;if(c.isFunction(e)){e=e({element:b,target:a})}if(e){this.content.html(e);return true}},_position:function(a,b,c,d){var e=b.position;var f=b.offset||0;var i=this.surface;var j=i._instance._elementOffset();var k=i.getSize();var l=i._instance._offset;var m=a.bbox();var n=c.width;var o=c.height;var p=0,q=0;m.origin.translate(j.left,j.top);if(l){m.origin.translate(-l.x,-l.y)}if(e=="cursor"&&d){var r=h(d);p=r.x-n/2;q=r.y-o-f}else if(e=="left"){p=m.origin.x-n-f;q=m.center().y-o/2}else if(e=="right"){p=m.bottomRight().x+f;q=m.center().y-o/2}else if(e=="bottom"){p=m.center().x-n/2;q=m.bottomRight().y+f}else{p=m.center().x-n/2;q=m.origin.y-o-f}return{left:g(p,j.left,j.left+k.width),top:g(q,j.top,j.top+k.height)}},show:function(a,b){this._show(a,a,d({},this.options,this._tooltipOptions(a.options.tooltip),b))},hide:function(){var a=this.popup;var b=this._current;delete this._current;clearTimeout(this._showTimeout);if(a&&a.visible()&&b&&!this.surface.trigger("tooltipClose",{element:b.shape,target:b.target,popup:a})){a.close()}},_hideClick:function(a){a.preventDefault();this.hide()},_show:function(a,b,c,d,e){var f=this._current;clearTimeout(this._timeout);if(f&&(f.shape===b&&c.shared||f.target===a)){return}clearTimeout(this._showTimeout);var g=this.getPopup();if(!this.surface.trigger("tooltipOpen",{element:b,target:a,popup:g})&&this._updateContent(a,b,c)){this._autoHide(c);var h=this._measure(c);if(g.visible()){g.close(true)}this._current={options:c,elementSize:h,shape:b,target:a,position:this._position(c.shared?b:a,c,h,d)};if(e){this._showTimeout=setTimeout(this._openPopupHandler,c.showAfter||0)}else{this._openPopup()}}},_openPopup:function(){var a=this._current;var b=a.position;this.getPopup().open(b.left,b.top)},_autoHide:function(b){if(b.autoHide&&this._closeButton){this.element.removeClass("k-tooltip-closable");this._closeButton.remove();delete this._closeButton}if(!b.autoHide&&!this._closeButton){this.element.addClass("k-tooltip-closable");this._closeButton=a(m).prependTo(this.element)}},_showEvent:function(a){var b=this._tooltipShape(a.element);if(b){var c=d({},this.options,this._tooltipOptions(b.options.tooltip));if(c&&c.showOn==a.type){this._show(a.element,b,c,a.originalEvent,true)}}},_measure:function(a){var b=this.getPopup();var c,d;this.element.css({width:"auto",height:"auto"});var e=b.visible();if(!e){b.wrapper.show()}this.element.css({width:f(a.width)?a.width:"auto",height:f(a.height)?a.height:"auto"});c=i(this.element);d=j(this.element);if(!e){b.wrapper.hide()}return{width:c,height:d}},_mouseleave:function(a){if(this.popup&&!this._popupRelatedTarget(a.originalEvent)){var b=this;var c=b._current;if(c&&c.options.autoHide){b._timeout=setTimeout(function(){clearTimeout(b._showTimeout);b.hide()},c.options.hideDelay||0)}}},_mousemove:function(a){var b=this._current;if(b&&a.element){var c=b.options;if(c.position=="cursor"){var d=this._position(a.element,c,b.elementSize,a.originalEvent);b.position=d;this.getPopup().wrapper.css({left:d.left,top:d.top})}}},_surfaceLeave:function(a){if(this.popup&&!this._popupRelatedTarget(a)){clearTimeout(this._showTimeout);this.hide()}},_popupRelatedTarget:function(b){return b.relatedTarget&&a(b.relatedTarget).closest(this.popup.wrapper).length}});c.drawing.SurfaceTooltip=n})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("drawing/surface",["drawing/kendo-drawing","drawing/surface-tooltip"],a)})(function(){(function(a){var b=window.kendo;var c=b.drawing;var d=c.Surface;var e=b.ui.Widget;var f=b.deepExtend;var g=a.proxy;b.support.svg=d.support.svg;b.support.canvas=d.support.canvas;var h=e.extend({init:function(a,b){e.fn.init.call(this,a,{});this.options=f({},this.options,b);this._instance=d.create(this.element[0],b);if(this._instance.translate){this.translate=i}this._triggerInstanceHandler=g(this._triggerInstanceEvent,this);this._bindHandler("click");this._bindHandler("mouseenter");this._bindHandler("mouseleave");this._bindHandler("mousemove");this._enableTracking()},options:{name:"Surface",tooltip:{}},events:["click","mouseenter","mouseleave","mousemove","resize","tooltipOpen","tooltipClose"],_triggerInstanceEvent:function(a){this.trigger(a.type,a)},_bindHandler:function(a){this._instance.bind(a,this._triggerInstanceHandler)},draw:function(a){this._instance.draw(a)},clear:function(){if(this._instance){this._instance.clear()}this.hideTooltip()},destroy:function(){if(this._instance){this._instance.destroy();delete this._instance}if(this._tooltip){this._tooltip.destroy();delete this._tooltip}e.fn.destroy.call(this)},exportVisual:function(){return this._instance.exportVisual()},eventTarget:function(a){return this._instance.eventTarget(a)},showTooltip:function(a,b){if(this._tooltip){this._tooltip.show(a,b)}},hideTooltip:function(){if(this._tooltip){this._tooltip.hide()}},suspendTracking:function(){this._instance.suspendTracking();this.hideTooltip()},resumeTracking:function(){this._instance.resumeTracking()},getSize:function(){return{width:this.element.width(),height:this.element.height()}},setSize:function(a){this.element.css({width:a.width,height:a.height});this._size=a;this._instance.currentSize(a);this._resize()},_resize:function(){this._instance.currentSize(this._size);this._instance._resize()},_enableTracking:function(){if(b.ui.Popup){this._tooltip=new c.SurfaceTooltip(this,this.options.tooltip||{})}}});b.ui.plugin(h);h.create=function(a,b){return new h(a,b)};b.drawing.Surface=h;function i(a){this._instance.translate(a)}})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("drawing/html",["drawing/kendo-drawing"],a)})(function(){(function(a){var b=window.kendo;var c=b.drawing;var d=c.drawDOM;c.drawDOM=function(b,c){return d(a(b)[0],c)};c.drawDOM.drawText=d.drawText;c.drawDOM.getFontFaces=d.getFontFaces})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.drawing",["drawing/util","drawing/kendo-drawing","drawing/surface-tooltip","drawing/surface","drawing/html"],a)})(function(){var a={id:"drawing",name:"Drawing API",category:"framework",description:"The Kendo UI low-level drawing API",depends:["core","color","popup"]}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.validator",["kendo.core"],a)})(function(){var a={id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=".kendoValidator",f="k-invalid-msg",g=new RegExp(f,"i"),h="k-invalid",i="k-valid",j=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,k=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,l=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",m=":checkbox:not([disabled],[readonly])",n="[type=number],[type=range]",o="blur",p="name",q="form",r="novalidate",s="validate",t="change",u="validateInput",v=a.proxy,w=function(a,b){if(typeof b==="string"){b=new RegExp("^(?:"+b+")$")}return b.test(a)},x=function(a,b,c){var d=a.val();if(a.filter(b).length&&d!==""){return w(d,c)}return true},y=function(a,b){if(a.length){return a[0].attributes[b]!=null}return false};if(!c.ui.validator){c.ui.validator={rules:{},messages:{}}}function z(b){var d=c.ui.validator.ruleResolvers||{},e={},f;for(f in d){a.extend(true,e,d[f].resolve(b))}return e}function A(a){return a.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function B(a){a=(a+"").split(".");if(a.length>1){return a[1].length}return 0}function C(b){if(a.parseHTML){return a(a.parseHTML(b))}return a(b)}function D(b,d){var e=a(),f,h;for(var i=0,j=b.length;i<j;i++){f=b[i];if(g.test(f.className)){h=f.getAttribute(c.attr("for"));if(h===d){e=e.add(f)}}}return e}var E=d.extend({init:function(b,e){var f=this,g=z(b),h="["+c.attr("validate")+"!=false]";e=e||{};e.rules=a.extend({},c.ui.validator.rules,g.rules,e.rules);e.messages=a.extend({},c.ui.validator.messages,g.messages,e.messages);d.fn.init.call(f,b,e);f._errorTemplate=c.template(f.options.errorTemplate);if(f.element.is(q)){f.element.attr(r,r)}f._inputSelector=l+h;f._checkboxSelector=m+h;f._errors={};f._attachEvents();f._isValidated=false},events:[s,t,u],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation">'+'<span class="k-icon k-i-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date"},rules:{required:function(a){var b=a.filter("[type=checkbox]").length&&!a.is(":checked"),c=a.val();return!(y(a,"required")&&(!c||c===""||c.length===0||b))},pattern:function(a){if(a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&a.val()!==""){return w(a.val(),a.attr("pattern"))}return true},min:function(a){if(a.filter(n+",["+c.attr("type")+"=number]").filter("[min]").length&&a.val()!==""){var b=parseFloat(a.attr("min"))||0,d=c.parseFloat(a.val());return b<=d}return true},max:function(a){if(a.filter(n+",["+c.attr("type")+"=number]").filter("[max]").length&&a.val()!==""){var b=parseFloat(a.attr("max"))||0,d=c.parseFloat(a.val());return b>=d}return true},step:function(a){if(a.filter(n+",["+c.attr("type")+"=number]").filter("[step]").length&&a.val()!==""){var b=parseFloat(a.attr("min"))||0,d=parseFloat(a.attr("step"))||1,e=parseFloat(a.val()),f=B(d),g;if(f){g=Math.pow(10,f);return Math.floor((e-b)*g)%(d*g)/Math.pow(100,f)===0}return(e-b)%d===0}return true},email:function(a){return x(a,"[type=email],["+c.attr("type")+"=email]",j)},url:function(a){return x(a,"[type=url],["+c.attr("type")+"=url]",k)},date:function(a){if(a.filter("[type^=date],["+c.attr("type")+"=date]").length&&a.val()!==""){return c.parseDate(a.val(),a.attr(c.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){d.fn.destroy.call(this);this.element.off(e)},value:function(){if(!this._isValidated){return false}return this.errors().length===0},_submit:function(a){if(!this.validate()){a.stopPropagation();a.stopImmediatePropagation();a.preventDefault();return false}return true},_checkElement:function(a){var b=this.value();this.validateInput(a);if(this.value()!==b){this.trigger(t)}},_attachEvents:function(){var b=this;if(b.element.is(q)){b.element.on("submit"+e,v(b._submit,b))}if(b.options.validateOnBlur){if(!b.element.is(l)){b.element.on(o+e,b._inputSelector,function(){b._checkElement(a(this))});b.element.on("click"+e,b._checkboxSelector,function(){b._checkElement(a(this))})}else{b.element.on(o+e,function(){b._checkElement(b.element)});if(b.element.is(m)){b.element.on("click"+e,function(){b._checkElement(b.element)})}}}},validate:function(){var a;var b;var c=false;var d;var e=this.value();this._errors={};if(!this.element.is(l)){var f=false;a=this.element.find(this._inputSelector);for(b=0,d=a.length;b<d;b++){if(!this.validateInput(a.eq(b))){f=true}}c=!f}else{c=this.validateInput(this.element)}this.trigger(s,{valid:c});if(e!==c){this.trigger(t)}return c},validateInput:function(b){b=a(b);this._isValidated=true;var d=this,e=d._errorTemplate,g=d._checkValidity(b),j=g.valid,k="."+f,l=b.attr(p)||"",m=d._findMessageContainer(l).add(b.next(k).filter(function(){var b=a(this);if(b.filter("["+c.attr("for")+"]").length){return b.attr(c.attr("for"))===l}return true})).hide(),n,o=!b.attr("aria-invalid");b.removeAttr("aria-invalid");if(!j){n=d._extractMessage(b,g.key);d._errors[l]=n;var q=C(e({message:A(n)}));var r=m.attr("id");d._decorateMessageContainer(q,l);if(r){q.attr("id",r)}if(!m.replaceWith(q).length){q.insertAfter(b)}q.show();b.attr("aria-invalid",true)}else{delete d._errors[l]}if(o!==j){this.trigger(u,{valid:j,input:b})}b.toggleClass(h,!j);b.toggleClass(i,j);return j},hideMessages:function(){var a=this,b="."+f,c=a.element;if(!c.is(l)){c.find(b).hide()}else{c.next(b).hide()}},_findMessageContainer:function(b){var d=c.ui.validator.messageLocators,e,f=a();for(var g=0,h=this.element.length;g<h;g++){f=f.add(D(this.element[g].getElementsByTagName("*"),b))}for(e in d){f=f.add(d[e].locate(this.element,b))}return f},_decorateMessageContainer:function(a,b){var d=c.ui.validator.messageLocators,e;a.addClass(f).attr(c.attr("for"),b||"");for(e in d){d[e].decorate(a,b)}a.attr("role","alert")},_extractMessage:function(a,b){var d=this,e=d.options.messages[b],f=a.attr(p),g;if(!c.ui.Validator.prototype.options.messages[b]){g=c.isFunction(e)?e(a):e}e=c.isFunction(e)?e(a):e;return c.format(a.attr(c.attr(b+"-msg"))||a.attr("validationMessage")||g||a.attr("title")||e||"",f,a.attr(b)||a.attr(c.attr(b)))},_checkValidity:function(a){var b=this.options.rules,c;for(c in b){if(!b[c].call(this,a)){return{valid:false,key:c}}}return{valid:true}},errors:function(){var a=[],b=this._errors,c;for(c in b){a.push(b[c])}return a}});c.ui.plugin(E)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.userevents",["kendo.core"],a)})(function(){var a={id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true};(function(a,b){var c=window.kendo,d=c.support,e=c.Class,f=c.Observable,g=a.now,h=a.extend,i=d.mobileOS,j=i&&i.android,k=800,l=d.browser.msie?5:0,m="press",n="hold",o="select",p="start",q="move",r="end",s="cancel",t="tap",u="release",v="gesturestart",w="gesturechange",x="gestureend",y="gesturetap";var z={api:0,touch:0,mouse:9,pointer:9};var A=!d.touch||d.mouseAndTouchPresent;function B(a,b){var c=a.x.location,d=a.y.location,e=b.x.location,f=b.y.location,g=c-e,h=d-f;return{center:{x:(c+e)/2,y:(d+f)/2},distance:Math.sqrt(g*g+h*h)}}function C(a){var b=[],c=a.originalEvent,e=a.currentTarget,f=0,g,h,i;if(a.api){b.push({id:2,event:a,target:a.target,currentTarget:a.target,location:a,type:"api"})}else if(a.type.match(/touch/)){h=c?c.changedTouches:[];for(g=h.length;f<g;f++){i=h[f];b.push({location:i,event:a,target:i.target,currentTarget:e,id:i.identifier,type:"touch"})}}else if(d.pointers||d.msPointers){b.push({location:c,event:a,target:a.target,currentTarget:e,id:c.pointerId,type:"pointer"})}else{b.push({id:1,event:a,target:a.target,currentTarget:e,location:a,type:"mouse"})}return b}var D=e.extend({init:function(a,b){var c=this;c.axis=a;c._updateLocationData(b);c.startLocation=c.location;c.velocity=c.delta=0;c.timeStamp=g()},move:function(a){var b=this,c=a["page"+b.axis],d=g(),e=d-b.timeStamp||1;if(!c&&j){return}b.delta=c-b.location;b._updateLocationData(a);b.initialDelta=c-b.startLocation;b.velocity=b.delta/e;b.timeStamp=d},_updateLocationData:function(a){var b=this,c=b.axis;b.location=a["page"+c];b.client=a["client"+c];b.screen=a["screen"+c]}});var E=e.extend({init:function(a,b,c){h(this,{x:new D("X",c.location),y:new D("Y",c.location),type:c.type,useClickAsTap:a.useClickAsTap,threshold:a.threshold||z[c.type],userEvents:a,target:b,currentTarget:c.currentTarget,initialTouch:c.target,id:c.id,pressEvent:c,_moved:false,_finished:false})},press:function(){this._holdTimeout=setTimeout(a.proxy(this,"_hold"),this.userEvents.minHold);this._trigger(m,this.pressEvent)},_hold:function(){this._trigger(n,this.pressEvent)},move:function(a){var b=this;if(b._finished){return}b.x.move(a.location);b.y.move(a.location);if(!b._moved){if(b._withinIgnoreThreshold()){return}if(!G.current||G.current===b.userEvents){b._start(a)}else{return b.dispose()}}if(!b._finished){b._trigger(q,a)}},end:function(a){this.endTime=g();if(this._finished){return}this._finished=true;this._trigger(u,a);if(this._moved){this._trigger(r,a)}else{if(!this.useClickAsTap){this._trigger(t,a)}}clearTimeout(this._holdTimeout);this.dispose()},dispose:function(){var b=this.userEvents,c=b.touches;this._finished=true;this.pressEvent=null;clearTimeout(this._holdTimeout);c.splice(a.inArray(this,c),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(a){clearTimeout(this._holdTimeout);this.startTime=g();this._moved=true;this._trigger(p,a)},_trigger:function(a,b){var c=this,d=b.event,e={touch:c,x:c.x,y:c.y,target:c.target,event:d};if(c.userEvents.notify(a,e)){d.preventDefault()}},_withinIgnoreThreshold:function(){var a=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(a*a+b*b)<=this.threshold}});function F(a){var b=c.eventMap.up.split(" "),d=0,e=b.length;for(;d<e;d++){a(b[d])}}var G=f.extend({init:function(b,e){var g=this,i,j=c.guid();e=e||{};i=g.filter=e.filter;g.threshold=e.threshold||l;g.minHold=e.minHold||k;g.touches=[];g._maxTouches=e.multiTouch?2:1;g.allowSelection=e.allowSelection;g.captureUpIfMoved=e.captureUpIfMoved;g.useClickAsTap=!e.fastTap&&!d.delayedClick();g.eventNS=j;b=a(b).handler(g);f.fn.init.call(g);h(g,{element:b,surface:e.global&&A?a(b[0].ownerDocument.documentElement):a(e.surface||b),stopPropagation:e.stopPropagation,pressed:false});g.surface.handler(g).on(c.applyEventMap("move",j),"_move").on(c.applyEventMap("up cancel",j),"_end");b.on(c.applyEventMap("down",j),i,"_start");if(g.useClickAsTap){b.on(c.applyEventMap("click",j),i,"_click")}if(d.pointers||d.msPointers){if(d.browser.version<11){var z="pinch-zoom double-tap-zoom";b.css("-ms-touch-action",e.touchAction&&e.touchAction!="none"?z+" "+e.touchAction:z)}else{b.css("touch-action",e.touchAction||"none")}}if(e.preventDragEvent){b.on(c.applyEventMap("dragstart",j),c.preventDefault)}b.on(c.applyEventMap("mousedown",j),i,{root:b},"_select");if(g.captureUpIfMoved&&d.eventCapture){var B=g.surface[0],C=a.proxy(g.preventIfMoving,g);F(function(a){B.addEventListener(a,C,true)})}g.bind([m,n,t,p,q,r,u,s,v,w,x,y,o],e)},preventIfMoving:function(a){if(this._isMoved()){a.preventDefault()}},destroy:function(){var a=this;if(a._destroyed){return}a._destroyed=true;if(a.captureUpIfMoved&&d.eventCapture){var b=a.surface[0];F(function(c){b.removeEventListener(c,a.preventIfMoving)})}a.element.kendoDestroy(a.eventNS);a.surface.kendoDestroy(a.eventNS);a.element.removeData("handler");a.surface.removeData("handler");a._disposeAll();a.unbind();delete a.surface;delete a.element;delete a.currentTarget},capture:function(){G.current=this},cancel:function(){this._disposeAll();this.trigger(s)},notify:function(a,b){var c=this,d=c.touches;if(this._isMultiTouch()){switch(a){case q:a=w;break;case r:a=x;break;case t:a=y;break}h(b,{touches:d},B(d[0],d[1]))}return this.trigger(a,h(b,{type:a}))},press:function(a,b,c){this._apiCall("_start",a,b,c)},move:function(a,b){this._apiCall("_move",a,b)},end:function(a,b){this._apiCall("_end",a,b)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var a=this.touches;while(a.length>0){a.pop().dispose()}},_isMoved:function(){return a.grep(this.touches,function(a){return a.isMoved()}).length},_select:function(a){if(!this.allowSelection||this.trigger(o,{event:a})){a.preventDefault()}},_start:function(b){var c=this,d=0,e=c.filter,f,g=C(b),h=g.length,i,j=b.which;if(j&&j>1||c._maxTouchesReached()){return}G.current=null;c.currentTarget=b.currentTarget;if(c.stopPropagation){b.stopPropagation()}for(;d<h;d++){if(c._maxTouchesReached()){break}i=g[d];if(e){f=a(i.currentTarget)}else{f=c.element}if(!f.length){continue}i=new E(c,f,i);c.touches.push(i);i.press();if(c._isMultiTouch()){c.notify("gesturestart",{})}}},_move:function(a){this._eachTouch("move",a)},_end:function(a){this._eachTouch("end",a)},_click:function(b){var c={touch:{initialTouch:b.target,target:a(b.currentTarget),endTime:g(),x:{location:b.pageX,client:b.clientX},y:{location:b.pageY,client:b.clientY}},x:b.pageX,y:b.pageY,target:a(b.currentTarget),event:b,type:"tap"};if(this.trigger("tap",c)){b.preventDefault()}},_eachTouch:function(a,b){var c=this,d={},e=C(b),f=c.touches,g,h,i,j;for(g=0;g<f.length;g++){h=f[g];d[h.id]=h}for(g=0;g<e.length;g++){i=e[g];j=d[i.id];if(j){j[a](i)}}},_apiCall:function(b,c,d,e){this[b]({api:true,pageX:c,pageY:d,clientX:c,clientY:d,target:a(e||this.element)[0],stopPropagation:a.noop,preventDefault:a.noop})}});G.defaultThreshold=function(a){l=a};G.minHold=function(a){k=a};c.getTouches=C;c.touchDelta=B;c.UserEvents=G})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.draganddrop",["kendo.core","kendo.userevents"],a)})(function(){var a={id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]};(function(a,b){var c=window.kendo,d=c.support,e=window.document,f=a(window),g=c.Class,h=c.ui.Widget,i=c.Observable,j=c.UserEvents,k=a.proxy,l=a.extend,m=c.getOffset,n={},o={},p={},q,r=c.elementUnderCursor,s="keyup",t="change",u="dragstart",v="hold",w="drag",x="dragend",y="dragcancel",z="hintDestroyed",A="dragenter",B="dragleave",C="drop";function D(b,c){try{return a.contains(b,c)||b==c}catch(a){return false}}function E(a,b){return parseInt(a.css(b),10)||0}function F(a,b){return Math.min(Math.max(a,b.min),b.max)}function G(a,b){var d=m(a),e=c._outerWidth,f=c._outerHeight,g=d.left+E(a,"borderLeftWidth")+E(a,"paddingLeft"),h=d.top+E(a,"borderTopWidth")+E(a,"paddingTop"),i=g+a.width()-e(b,true),j=h+a.height()-f(b,true);return{x:{min:g,max:i},y:{min:h,max:j}}}function H(c,e,f){var g,h,i=0,j=e&&e.length,k=f&&f.length;while(c&&c.parentNode){for(i=0;i<j;i++){g=e[i];if(g.element[0]===c){return{target:g,targetElement:c}}}for(i=0;i<k;i++){h=f[i];if(a.contains(h.element[0],c)&&d.matchesSelector.call(c,h.options.filter)){return{target:h,targetElement:c}}}c=c.parentNode}return b}var I=i.extend({init:function(b,d){var e=this,f=b[0];e.capture=false;if(f.addEventListener){a.each(c.eventMap.down.split(" "),function(){f.addEventListener(this,k(e._press,e),true)});a.each(c.eventMap.up.split(" "),function(){f.addEventListener(this,k(e._release,e),true)})}else{a.each(c.eventMap.down.split(" "),function(){f.attachEvent(this,k(e._press,e))});a.each(c.eventMap.up.split(" "),function(){
f.attachEvent(this,k(e._release,e))})}i.fn.init.call(e);e.bind(["press","release"],d||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(a){var b=this;b.trigger("press");if(b.capture){a.preventDefault()}},_release:function(a){var b=this;b.trigger("release");if(b.capture){a.preventDefault();b.cancelCapture()}}});var J=i.extend({init:function(b){var c=this;i.fn.init.call(c);c.forcedEnabled=false;a.extend(c,b);c.scale=1;if(c.horizontal){c.measure="offsetWidth";c.scrollSize="scrollWidth";c.axis="x"}else{c.measure="offsetHeight";c.scrollSize="scrollHeight";c.axis="y"}},makeVirtual:function(){a.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:0,_virtualMax:0})},virtualSize:function(a,b){if(this._virtualMin!==a||this._virtualMax!==b){this._virtualMin=a;this._virtualMax=b;this.update()}},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var b=this,c=b.virtual?b._virtualMax:b.getTotal(),d=c*b.scale,e=b.getSize();if(c===0&&!b.forcedEnabled){return}b.max=b.virtual?-b._virtualMin:0;b.size=e;b.total=d;b.min=Math.min(b.max,e-d);b.minScale=e/c;b.centerOffset=(d-e)/2;b.enabled=b.forcedEnabled||d>e;if(!a){b.trigger(t,b)}}});var K=i.extend({init:function(a){var b=this;i.fn.init.call(b);b.x=new J(l({horizontal:true},a));b.y=new J(l({horizontal:false},a));b.container=a.container;b.forcedMinScale=a.minScale;b.maxScale=a.maxScale||100;b.bind(t,a)},rescale:function(a){this.x.rescale(a);this.y.rescale(a);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var a=this;a.x.update();a.y.update();a.enabled=a.x.enabled||a.y.enabled;a.minScale=a.forcedMinScale||Math.min(a.x.minScale,a.y.minScale);a.fitScale=Math.max(a.x.minScale,a.y.minScale);a.trigger(t)}});var L=i.extend({init:function(a){var b=this;l(b,a);i.fn.init.call(b)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(a){var b=this,c=b.dimension,d=b.axis,e=b.movable,f=e[d]+a;if(!c.enabled){return}if(f<c.min&&a<0||f>c.max&&a>0){a*=b.resistance}e.translateAxis(d,a);b.trigger(t,b)}});var M=g.extend({init:function(b){var c=this,d,e,f,g;l(c,{elastic:true},b);f=c.elastic?.5:0;g=c.movable;c.x=d=new L({axis:"x",dimension:c.dimensions.x,resistance:f,movable:g});c.y=e=new L({axis:"y",dimension:c.dimensions.y,resistance:f,movable:g});c.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(a){c.gesture=a;c.offset=c.dimensions.container.offset()},press:function(b){if(a(b.event.target).closest("a").is("[data-navigate-on-press=true]")){b.sender.cancel()}},gesturechange:function(a){var b=c.gesture,f=b.center,h=a.center,i=a.distance/b.distance,j=c.dimensions.minScale,k=c.dimensions.maxScale,l;if(g.scale<=j&&i<1){i+=(1-i)*.8}if(g.scale*i>=k){i=k/g.scale}var m=g.x+c.offset.left,n=g.y+c.offset.top;l={x:(m-f.x)*i+h.x-m,y:(n-f.y)*i+h.y-n};g.scaleWith(i);d.dragMove(l.x);e.dragMove(l.y);c.dimensions.rescale(g.scale);c.gesture=a;a.preventDefault()},move:function(a){if(a.event.target.tagName.match(/textarea|input/i)){return}if(d.dimension.enabled||e.dimension.enabled){d.dragMove(a.x.delta);e.dragMove(a.y.delta);a.preventDefault()}else{a.touch.skip()}},end:function(a){a.preventDefault()}})}});var N=d.transitions.prefix+"Transform",O;if(d.hasHW3D){O=function(a,b,c){return"translate3d("+a+"px,"+b+"px,0) scale("+c+")"}}else{O=function(a,b,c){return"translate("+a+"px,"+b+"px) scale("+c+")"}}var P=i.extend({init:function(b){var c=this;i.fn.init.call(c);c.element=a(b);c.element[0].style.webkitTransformOrigin="left top";c.x=0;c.y=0;c.scale=1;c._saveCoordinates(O(c.x,c.y,c.scale))},translateAxis:function(a,b){this[a]+=b;this.refresh()},scaleTo:function(a){this.scale=a;this.refresh()},scaleWith:function(a){this.scale*=a;this.refresh()},translate:function(a){this.x+=a.x;this.y+=a.y;this.refresh()},moveAxis:function(a,b){this[a]=b;this.refresh()},moveTo:function(a){l(this,a);this.refresh()},refresh:function(){var a=this,b=a.x,d=a.y,e;if(a.round){b=Math.round(b);d=Math.round(d)}e=O(b,d,a.scale);if(e!=a.coordinates){if(c.support.browser.msie&&c.support.browser.version<10){a.element[0].style.position="absolute";a.element[0].style.left=a.x+"px";a.element[0].style.top=a.y+"px"}else{a.element[0].style[N]=e}a._saveCoordinates(e);a.trigger(t)}},_saveCoordinates:function(a){this.coordinates=a}});function Q(a,b){var c=b.options.group,d=a[c],e;h.fn.destroy.call(b);if(d.length>1){for(e=0;e<d.length;e++){if(d[e]==b){d.splice(e,1);break}}}else{d.length=0;delete a[c]}}var R=h.extend({init:function(a,b){var c=this;h.fn.init.call(c,a,b);var d=c.options.group;if(!(d in o)){o[d]=[c]}else{o[d].push(c)}},events:[A,B,C],options:{name:"DropTarget",group:"default"},destroy:function(){Q(o,this)},_trigger:function(a,b){var c=this,d=n[c.options.group];if(d){return c.trigger(a,l({},b.event,{draggable:d,dropTarget:b.dropTarget}))}},_over:function(a){this._trigger(A,a)},_out:function(a){this._trigger(B,a)},_drop:function(a){var b=this,c=n[b.options.group];if(c){c.dropped=!b._trigger(C,a)}}});R.destroyGroup=function(a){var b=o[a]||p[a],c;if(b){for(c=0;c<b.length;c++){h.fn.destroy.call(b[c])}b.length=0;delete o[a];delete p[a]}};R._cache=o;var S=R.extend({init:function(a,b){var c=this;h.fn.init.call(c,a,b);var d=c.options.group;if(!(d in p)){p[d]=[c]}else{p[d].push(c)}},destroy:function(){Q(p,this)},options:{name:"DropTargetArea",group:"default",filter:null}});var T=h.extend({init:function(a,b){var c=this;h.fn.init.call(c,a,b);c._activated=false;c.userEvents=new j(c.element,{global:true,allowSelection:true,filter:c.options.filter,threshold:c.options.distance,start:k(c._start,c),hold:k(c._hold,c),move:k(c._drag,c),end:k(c._end,c),cancel:k(c._cancel,c),select:k(c._select,c)});c._afterEndHandler=k(c._afterEnd,c);c._captureEscape=k(c._captureEscape,c)},events:[v,u,w,x,y,z],options:{name:"Draggable",distance:c.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:false,autoScroll:false,dropped:false},cancelHold:function(){this._activated=false},_captureEscape:function(a){var b=this;if(a.keyCode===c.keys.ESC){b._trigger(y,{event:a});b.userEvents.cancel()}},_updateHint:function(b){var c=this,d,e=c.options,f=c.boundaries,g=e.axis,h=c.options.cursorOffset;if(h){d={left:b.x.location+h.left,top:b.y.location+h.top}}else{c.hintOffset.left+=b.x.delta;c.hintOffset.top+=b.y.delta;d=a.extend({},c.hintOffset)}if(f){d.top=F(d.top,f.y);d.left=F(d.left,f.x)}if(g==="x"){delete d.top}else if(g==="y"){delete d.left}c.hint.css(d)},_shouldIgnoreTarget:function(b){var c=this.options.ignore;return c&&a(b).is(c)},_select:function(a){if(!this._shouldIgnoreTarget(a.event.target)){a.preventDefault()}},_start:function(b){var d=this,f=d.options,g=f.container?a(f.container):null,h=f.hint;if(this._shouldIgnoreTarget(b.touch.initialTouch)||f.holdToDrag&&!d._activated){d.userEvents.cancel();return}d.currentTarget=b.target;d.currentTargetOffset=m(d.currentTarget);if(h){if(d.hint){d.hint.stop(true,true).remove()}d.hint=c.isFunction(h)?a(h.call(d,d.currentTarget)):h;var i=m(d.currentTarget);d.hintOffset=i;d.hint.css({position:"absolute",zIndex:2e4,left:i.left,top:i.top}).appendTo(e.body);d.angular("compile",function(){d.hint.removeAttr("ng-repeat");var c=a(b.target);while(!c.data("$$kendoScope")&&c.length){c=c.parent()}return{elements:d.hint.get(),scopeFrom:c.data("$$kendoScope")}})}n[f.group]=d;d.dropped=false;if(g){d.boundaries=G(g,d.hint)}a(e).on(s,d._captureEscape);if(d._trigger(u,b)){d.userEvents.cancel();d._afterEnd()}d.userEvents.capture()},_hold:function(a){this.currentTarget=a.target;if(this._trigger(v,a)){this.userEvents.cancel()}else{this._activated=true}},_drag:function(b){b.preventDefault();var c=this._elementUnderCursor(b);if(this.options.autoScroll&&this._cursorElement!==c){this._scrollableParent=W(c);this._cursorElement=c}this._lastEvent=b;this._processMovement(b,c);if(this.options.autoScroll){if(this._scrollableParent[0]){var d=X(b.x.location,b.y.location,U(this._scrollableParent));this._scrollCompenstation=a.extend({},this.hintOffset);this._scrollVelocity=d;if(d.y===0&&d.x===0){clearInterval(this._scrollInterval);this._scrollInterval=null}else if(!this._scrollInterval){this._scrollInterval=setInterval(a.proxy(this,"_autoScroll"),50)}}}if(this.hint){this._updateHint(b)}},_processMovement:function(b,c){this._withDropTarget(c,function(c,d){if(!c){if(q){q._trigger(B,l(b,{dropTarget:a(q.targetElement)}));q=null}return}if(q){if(d===q.targetElement){return}q._trigger(B,l(b,{dropTarget:a(q.targetElement)}))}c._trigger(A,l(b,{dropTarget:a(d)}));q=l(c,{targetElement:d})});this._trigger(w,l(b,{dropTarget:q,elementUnderCursor:c}))},_autoScroll:function(){var a=this._scrollableParent[0],b=this._scrollVelocity,c=this._scrollCompenstation;if(!a){return}var d=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,d);var g,h;var i=a===V()[0];if(i){g=e.body.scrollHeight>f.height();h=e.body.scrollWidth>f.width()}else{g=a.offsetHeight<=a.scrollHeight;h=a.offsetWidth<=a.scrollWidth}var j=a.scrollTop+b.y;var k=g&&j>0&&j<a.scrollHeight;var l=a.scrollLeft+b.x;var m=h&&l>0&&l<a.scrollWidth;if(k){a.scrollTop+=b.y}if(m){a.scrollLeft+=b.x}if(this.hint&&i&&(m||k)){if(k){c.top+=b.y}if(m){c.left+=b.x}this.hint.css(c)}},_end:function(b){this._withDropTarget(this._elementUnderCursor(b),function(c,d){if(c){c._drop(l({},b,{dropTarget:a(d)}));q=null}});this._cancel(this._trigger(x,b))},_cancel:function(a){var b=this;b._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);b._activated=false;if(b.hint&&!b.dropped){setTimeout(function(){b.hint.stop(true,true);if(a){b._afterEndHandler()}else{b.hint.animate(b.currentTargetOffset,"fast",b._afterEndHandler)}},0)}else{b._afterEnd()}},_trigger:function(a,b){var c=this;return c.trigger(a,l({},b.event,{x:b.x,y:b.y,currentTarget:c.currentTarget,initialTarget:b.touch?b.touch.initialTouch:null,dropTarget:b.dropTarget,elementUnderCursor:b.elementUnderCursor}))},_elementUnderCursor:function(a){var b=r(a),c=this.hint;if(c&&D(c[0],b)){c.hide();b=r(a);if(!b){b=r(a)}c.show()}return b},_withDropTarget:function(a,b){var c,d=this.options.group,e=o[d],f=p[d];if(e&&e.length||f&&f.length){c=H(a,e,f);if(c){b(c.target,c.targetElement)}else{b()}}},destroy:function(){var a=this;h.fn.destroy.call(a);a._afterEnd();a.userEvents.destroy();this._scrollableParent=null;this._cursorElement=null;clearInterval(this._scrollInterval);a.currentTarget=null},_afterEnd:function(){var b=this;if(b.hint){b.hint.remove()}delete n[b.options.group];b.trigger("destroy");b.trigger(z);a(e).off(s,b._captureEscape)}});c.ui.plugin(R);c.ui.plugin(S);c.ui.plugin(T);c.TapCapture=I;c.containerBoundaries=G;l(c.ui,{Pane:M,PaneDimensions:K,Movable:P});function U(a){var b=V()[0],c,d,e;if(a[0]===b){d=b.scrollTop;e=b.scrollLeft;return{top:d,left:e,bottom:d+f.height(),right:e+f.width()}}else{c=a.offset();c.bottom=c.top+a.height();c.right=c.left+a.width();return c}}function V(){return a(c.support.browser.edge||c.support.browser.safari?e.body:e.documentElement)}function W(b){var d=V();if(!b||b===e.body||b===e.documentElement){return d}var f=a(b)[0];while(f&&!c.isScrollable(f)&&f!==e.body){f=f.parentNode}if(f===e.body){return d}return a(f)}function X(a,b,c){var d={x:0,y:0};var e=50;if(a-c.left<e){d.x=-(e-(a-c.left))}else if(c.right-a<e){d.x=e-(c.right-a)}if(b-c.top<e){d.y=-(e-(b-c.top))}else if(c.bottom-b<e){d.y=e-(c.bottom-b)}return d}c.ui.Draggable.utils={autoScrollVelocity:X,scrollableViewPort:U,findScrollableParent:W}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.scroller",["kendo.fx","kendo.draganddrop"],a)})(function(){var a={id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["fx","draganddrop"]};(function(a,b){var c=window.kendo,d=c.mobile,e=c.effects,f=d.ui,g=a.proxy,h=a.extend,i=f.Widget,j=c.Class,k=c.ui.Movable,l=c.ui.Pane,m=c.ui.PaneDimensions,n=e.Transition,o=e.Animation,p=Math.abs,q=500,r=.7,s=.96,t=10,u=55,v=.5,w=5,x="km-scroller-release",y="km-scroller-refresh",z="pull",A="change",B="resize",C="scroll",D=2;var E=o.extend({init:function(a){var b=this;o.fn.init.call(b);h(b,a);b.userEvents.bind("gestureend",g(b.start,b));b.tapCapture.bind("press",g(b.cancel,b))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var a=this.movable;a.scaleWith(1.1);this.dimensions.rescale(a.scale)},onEnd:function(){var a=this.movable;a.scaleTo(this.dimensions.minScale);this.dimensions.rescale(a.scale)}});var F=o.extend({init:function(a){var b=this;o.fn.init.call(b);h(b,a,{transition:new n({axis:a.axis,movable:a.movable,onEnd:function(){b._end()}})});b.tapCapture.bind("press",function(){b.cancel()});b.userEvents.bind("end",g(b.start,b));b.userEvents.bind("gestureend",g(b.start,b));b.userEvents.bind("tap",g(b.onEnd,b))},onCancel:function(){this.transition.cancel()},freeze:function(a){var b=this;b.cancel();b._moveTo(a)},onEnd:function(){var a=this;if(a.paneAxis.outOfBounds()){a._snapBack()}else{a._end()}},done:function(){return p(this.velocity)<1},start:function(a){var b=this,c;if(!b.dimension.enabled){return}if(b.paneAxis.outOfBounds()){b._snapBack()}else{c=a.touch.id===D?0:a.touch[b.axis].velocity;b.velocity=Math.max(Math.min(c*b.velocityMultiplier,u),-u);b.tapCapture.captureNext();o.fn.start.call(b)}},tick:function(){var a=this,b=a.dimension,c=a.paneAxis.outOfBounds()?v:a.friction,d=a.velocity*=c,e=a.movable[a.axis]+d;if(!a.elastic&&b.outOfBounds(e)){e=Math.max(Math.min(e,b.max),b.min);a.velocity=0}a.movable.moveAxis(a.axis,e)},_end:function(){this.tapCapture.cancelCapture();this.end()},_snapBack:function(){var a=this,b=a.dimension,c=a.movable[a.axis]>b.max?b.max:b.min;a._moveTo(c)},_moveTo:function(a){this.transition.moveTo({location:a,duration:q,ease:n.easeOutExpo})}});var G=o.extend({init:function(a){var b=this;c.effects.Animation.fn.init.call(this);h(b,a,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return p(this.offset.y)<w&&p(this.offset.x)<w},onEnd:function(){this.moveTo(this.destination);if(this.callback){this.callback.call()}},setCoordinates:function(a,b){this.offset={};this.origin=a;this.destination=b},setCallback:function(a){if(a&&c.isFunction(a)){this.callback=a}else{a=b}},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}});var H=j.extend({init:function(b){var c=this,d=b.axis==="x",e=a('<div class="km-touch-scrollbar km-'+(d?"horizontal":"vertical")+'-scrollbar" />');h(c,b,{element:e,elementSize:0,movable:new k(e),scrollMovable:b.movable,alwaysVisible:b.alwaysVisible,size:d?"width":"height"});c.scrollMovable.bind(A,g(c.refresh,c));c.container.append(e);if(b.alwaysVisible){c.show()}},refresh:function(){var a=this,b=a.axis,c=a.dimension,d=c.size,e=a.scrollMovable,f=d/c.total,g=Math.round(-e[b]*f),h=Math.round(d*f);if(f>=1){this.element.css("display","none")}else{this.element.css("display","")}if(g+h>d){h=d-g}else if(g<0){h+=g;g=0}if(a.elementSize!=h){a.element.css(a.size,h+"px");a.elementSize=h}a.movable.moveAxis(b,g)},show:function(){this.element.css({opacity:r,visibility:"visible"})},hide:function(){if(!this.alwaysVisible){this.element.css({opacity:0})}}});var I=i.extend({init:function(b,d){var e=this;i.fn.init.call(e,b,d);b=e.element;e._native=e.options.useNative&&c.support.hasNativeScrolling;if(e._native){b.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');h(e,{scrollElement:b,fixedContainer:b.children().first()});return}b.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var f=b.children().eq(1),j=new c.TapCapture(b),n=new k(f),o=new m({element:f,container:b,forcedEnabled:e.options.zoom}),q=this.options.avoidScrolling,r=new c.UserEvents(b,{touchAction:"pan-y",fastTap:true,allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:e.options.zoom,start:function(b){o.refresh();var c=p(b.x.velocity),d=p(b.y.velocity),f=c*2>=d,g=a.contains(e.fixedContainer[0],b.event.target),h=d*2>=c;if(!g&&!q(b)&&e.enabled&&(o.x.enabled&&f||o.y.enabled&&h)){r.capture()}else{r.cancel()}}}),s=new l({movable:n,dimensions:o,userEvents:r,elastic:e.options.elastic}),t=new E({movable:n,dimensions:o,userEvents:r,tapCapture:j}),u=new G({moveTo:function(a){e.scrollTo(a.x,a.y)}});n.bind(A,function(){e.scrollTop=-n.y;e.scrollLeft=-n.x;e.trigger(C,{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})});if(e.options.mousewheelScrolling){b.on("DOMMouseScroll mousewheel",g(this,"_wheelScroll"))}h(e,{movable:n,dimensions:o,zoomSnapBack:t,animatedScroller:u,userEvents:r,pane:s,tapCapture:j,pulled:false,enabled:true,scrollElement:f,scrollTop:0,scrollLeft:0,fixedContainer:b.children().first()});e._initAxis("x");e._initAxis("y");e._wheelEnd=function(){e._wheel=false;e.userEvents.end(0,e._wheelY)};o.refresh();if(e.options.pullToRefresh){e._initPullToRefresh()}},_wheelScroll:function(a){if(!this._wheel){this._wheel=true;this._wheelY=0;this.userEvents.press(0,this._wheelY)}clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(this._wheelEnd,50);var b=c.wheelDeltaY(a);if(b){this._wheelY+=b;this.userEvents.move(0,this._wheelY)}a.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(a,b){this.dimensions.y.virtualSize(a,b)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,visibleScrollHints:false,elastic:true,useNative:false,mousewheelScrolling:true,avoidScrolling:function(){return false},pullToRefresh:false,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[z,C,B],_resize:function(){if(!this._native){this.contentResized()}},setOptions:function(a){var b=this;i.fn.setOptions.call(b,a);if(a.pullToRefresh){b._initPullToRefresh()}},reset:function(){if(this._native){this.scrollElement.scrollTop(0)}else{this.movable.moveTo({x:0,y:0});this._scale(1)}},contentResized:function(){this.dimensions.refresh();if(this.pane.x.outOfBounds()){this.movable.moveAxis("x",this.dimensions.x.min)}if(this.pane.y.outOfBounds()){this.movable.moveAxis("y",this.dimensions.y.min)}},zoomOut:function(){var a=this.dimensions;a.refresh();this._scale(a.fitScale);this.movable.moveTo(a.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(a,b){if(this._native){this.scrollElement.scrollLeft(p(a));this.scrollElement.scrollTop(p(b))}else{this.dimensions.refresh();this.movable.moveTo({x:a,y:b})}},animatedScrollTo:function(a,b,c){var d,e;if(this._native){this.scrollTo(a,b)}else{d={x:this.movable.x,y:this.movable.y};e={x:a,y:b};this.animatedScroller.setCoordinates(d,e);this.animatedScroller.setCallback(c);this.animatedScroller.start()}},pullHandled:function(){var a=this;a.refreshHint.removeClass(y);a.hintContainer.html(a.pullTemplate({}));a.yinertia.onEnd();a.xinertia.onEnd();a.userEvents.cancel()},destroy:function(){i.fn.destroy.call(this);if(this.userEvents){this.userEvents.destroy()}},_scale:function(a){this.dimensions.rescale(a);this.movable.scaleTo(a)},_initPullToRefresh:function(){var a=this;a.dimensions.y.forceEnabled();a.pullTemplate=c.template(a.options.messages.pullTemplate);a.releaseTemplate=c.template(a.options.messages.releaseTemplate);a.refreshTemplate=c.template(a.options.messages.refreshTemplate);a.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+a.pullTemplate({})+"</span></span>");a.refreshHint=a.scrollElement.children().first();a.hintContainer=a.refreshHint.children(".km-template");a.pane.y.bind("change",g(a._paneChange,a));a.userEvents.bind("end",g(a._dragEnd,a))},_dragEnd:function(){var a=this;if(!a.pulled){return}a.pulled=false;a.refreshHint.removeClass(x).addClass(y);a.hintContainer.html(a.refreshTemplate({}));a.yinertia.freeze(a.options.pullOffset/2);a.trigger("pull")},_paneChange:function(){var a=this;if(a.movable.y/v>a.options.pullOffset){if(!a.pulled){a.pulled=true;a.refreshHint.removeClass(y).addClass(x);a.hintContainer.html(a.releaseTemplate({}))}}else if(a.pulled){a.pulled=false;a.refreshHint.removeClass(x);a.hintContainer.html(a.pullTemplate({}))}},_initAxis:function(a){var b=this,c=b.movable,d=b.dimensions[a],e=b.tapCapture,f=b.pane[a],g=new H({axis:a,movable:c,dimension:d,container:b.element,alwaysVisible:b.options.visibleScrollHints});d.bind(A,function(){g.refresh()});f.bind(A,function(){g.show()});b[a+"inertia"]=new F({axis:a,paneAxis:f,movable:c,tapCapture:e,userEvents:b.userEvents,dimension:d,elastic:b.options.elastic,friction:b.options.friction||s,velocityMultiplier:b.options.velocityMultiplier||t,end:function(){g.hide();b.trigger("scrollEnd",{axis:a,scrollTop:b.scrollTop,scrollLeft:b.scrollLeft})}})}});f.plugin(I)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.groupable",["kendo.core","kendo.draganddrop"],a)})(function(){var a={id:"groupable",name:"Groupable",category:"framework",depends:["core","draganddrop"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=c._outerWidth,f=a.proxy,g=false,h=".kendoGroupable",i="change",j=c.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}">'+'<a href="\\#" class="k-link">'+'<span class="k-icon k-i-sort-${(data.dir || "asc") == "asc" ? "asc-sm" : "desc-sm"}" title="(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})"></span>'+"${data.title ? data.title: data.field}"+"</a>"+'<a class="k-button k-button-icon k-bare">'+'<span class="k-icon k-i-close"></span>'+"</a>"+"</div>",{useWithBlock:false}),k=function(b){var d=b.attr(c.attr("title"));if(d){d=c.htmlEncode(d)}return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(d||b.attr(c.attr("field"))).prepend('<span class="k-icon k-drag-status k-i-cancel" />')},l=a('<div class="k-grouping-dropclue"/>');function m(a){return a.position().top+3}var n=d.extend({init:function(b,j){var n=this,o=c.guid(),p=f(n._intializePositions,n),q,r,s=n._dropCuePositions=[];d.fn.init.call(n,b,j);g=c.support.isRtl(b);r=g?"right":"left";n.draggable=q=n.options.draggable||new c.ui.Draggable(n.element,{filter:n.options.draggableElements,hint:k,group:o});n.groupContainer=a(n.options.groupContainer,n.element).kendoDropTarget({group:q.options.group,dragenter:function(a){if(n._canDrag(a.draggable.currentTarget)){a.draggable.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus");l.css("top",m(n.groupContainer)).css(r,0).appendTo(n.groupContainer)}},dragleave:function(a){a.draggable.hint.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel");l.remove()},drop:function(b){var d=b.draggable.currentTarget,e=d.attr(c.attr("field")),f=d.attr(c.attr("title")),h=n.indicator(e),i=n._dropCuePositions,j=i[i.length-1],k;if(!d.hasClass("k-group-indicator")&&!n._canDrag(d)){return}if(j){k=n._dropCuePosition(c.getOffset(l).left+parseInt(j.element.css("marginLeft"),10)*(g?-1:1)+parseInt(j.element.css("marginRight"),10));if(k&&n._canDrop(a(h),k.element,k.left)){if(k.before){k.element.before(h||n.buildIndicator(e,f))}else{k.element.after(h||n.buildIndicator(e,f))}n._change()}}else{n.groupContainer.append(n.buildIndicator(e,f));n._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:k,group:q.options.group,dragcancel:f(n._dragCancel,n),dragstart:function(a){var b=a.currentTarget,c=parseInt(b.css("marginLeft"),10),d=b.position(),f=g?d.left-c:d.left+e(b);p();l.css({top:m(n.groupContainer),left:f}).appendTo(n.groupContainer);this.hint.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")},dragend:function(){n._dragEnd(this)},drag:f(n._drag,n)}).on("click"+h,".k-button",function(b){b.preventDefault();n._removeIndicator(a(this).parent())}).on("click"+h,".k-link",function(b){var d=a(this).parent(),e=n.buildIndicator(d.attr(c.attr("field")),d.attr(c.attr("title")),d.attr(c.attr("dir"))=="asc"?"desc":"asc");d.before(e).remove();n._change();b.preventDefault()});q.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){n._dragEnd(this)},dragcancel:f(n._dragCancel,n),dragstart:function(a){var b,c,d;if(!n.options.allowDrag&&!n._canDrag(a.currentTarget)){a.preventDefault();return}p();if(s.length){b=s[s.length-1].element;c=parseInt(b.css("marginRight"),10);d=b.position().left+e(b)+c}else{d=0}},drag:f(n._drag,n)});n.dataSource=n.options.dataSource;if(n.dataSource&&n._refreshHandler){n.dataSource.unbind(i,n._refreshHandler)}else{n._refreshHandler=f(n.refresh,n)}if(n.dataSource){n.dataSource.bind("change",n._refreshHandler);n.refresh()}},refresh:function(){var b=this,d=b.dataSource;if(b.groupContainer){b.groupContainer.empty().append(a.map(d.group()||[],function(d){var e=d.field;var f=c.attr("field");var g=b.element.find(b.options.filter).filter(function(){return a(this).attr(f)===e});return b.buildIndicator(d.field,g.attr(c.attr("title")),d.dir)}).join(""))}b._invalidateGroupContainer()},destroy:function(){var a=this;d.fn.destroy.call(a);a.groupContainer.off(h);if(a.groupContainer.data("kendoDropTarget")){a.groupContainer.data("kendoDropTarget").destroy()}if(a.groupContainer.data("kendoDraggable")){a.groupContainer.data("kendoDraggable").destroy()}if(!a.options.draggable){a.draggable.destroy()}if(a.dataSource&&a._refreshHandler){a.dataSource.unbind("change",a._refreshHandler);a._refreshHandler=null}a.groupContainer=a.element=a.draggable=null},events:["change"],options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(b){var d=a(".k-group-indicator",this.groupContainer);return a.grep(d,function(d){return a(d).attr(c.attr("field"))===b})[0]},buildIndicator:function(a,b,d){return j({field:a.replace(/"/g,"'"),dir:d,title:b,ns:c.ns})},descriptors:function(){var b=this,d=a(".k-group-indicator",b.groupContainer),e,f,g,h,i;e=b.element.find(b.options.filter).map(function(){var b=a(this),d=b.attr(c.attr("aggregates")),e=b.attr(c.attr("field"));if(d&&d!==""){f=d.split(",");d=[];for(h=0,i=f.length;h<i;h++){d.push({field:e,aggregate:f[h]})}}return d}).toArray();return a.map(d,function(b){b=a(b);g=b.attr(c.attr("field"));return{field:g,dir:b.attr(c.attr("dir")),aggregates:e||[]}})},_removeIndicator:function(a){var b=this;a.remove();b._invalidateGroupContainer();b._change()},_change:function(){var a=this;if(a.dataSource){var b=a.descriptors();if(a.trigger("change",{groups:b})){a.refresh();return}a.dataSource.group(b)}},_dropCuePosition:function(b){var c=this._dropCuePositions;if(!l.is(":visible")||c.length===0){return}b=Math.ceil(b);var d=c[c.length-1],f=d.left,h=d.right,i=parseInt(d.element.css("marginLeft"),10),j=parseInt(d.element.css("marginRight"),10);if(b>=h&&!g||b<f&&g){b={left:d.element.position().left+(!g?e(d.element)+j:-i),element:d.element,before:false}}else{b=a.grep(c,function(a){return a.left<=b&&b<=a.right||g&&b>a.right})[0];if(b){b={left:g?b.element.position().left+e(b.element)+j:b.element.position().left-i,element:b.element,before:true}}}return b},_drag:function(a){var b=this._dropCuePosition(a.x.location);if(b){l.css({left:b.left,right:"auto"})}},_canDrag:function(a){var b=a.attr(c.attr("field"));return a.attr(c.attr("groupable"))!="false"&&b&&(a.hasClass("k-group-indicator")||!this.indicator(b))},_canDrop:function(a,b,c){var d=a.next(),e=a[0]!==b[0]&&(!d[0]||b[0]!==d[0]||(!g&&c>d.position().left||g&&c<d.position().left));return e},_dragEnd:function(b){var d=this,e=b.currentTarget.attr(c.attr("field")),f=d.indicator(e);if(b!==d.options.draggable&&!b.dropped&&f){d._removeIndicator(a(f))}d._dragCancel()},_dragCancel:function(){l.remove();this._dropCuePositions=[]},_intializePositions:function(){var b=this,d=a(".k-group-indicator",b.groupContainer),f;b._dropCuePositions=a.map(d,function(b){b=a(b);f=c.getOffset(b).left;return{left:parseInt(f,10),right:parseInt(f+e(b),10),element:b}})},_invalidateGroupContainer:function(){var a=this.groupContainer;if(a&&a.is(":empty")){a.html(this.options.messages.empty)}}});c.ui.plugin(n)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.reorderable",["kendo.core","kendo.draganddrop"],a)})(function(){var a={id:"reorderable",name:"Reorderable",category:"framework",depends:["core","draganddrop"],advanced:true};(function(a,b){var c=window.kendo,d=c._outerWidth,e=c._outerHeight,f=c.getOffset,g=c.ui.Widget,h="change",i="k-reorderable";function j(b,c){b=a(b);if(c){b.find(".k-drag-status").removeClass("k-i-plus").addClass("k-i-cancel")}else{b.find(".k-drag-status").removeClass("k-i-cancel").addClass("k-i-plus")}}var k=g.extend({init:function(b,k){var l=this,m,n=c.guid()+"-reorderable";g.fn.init.call(l,b,k);b=l.element.addClass(i);k=l.options;l.draggable=m=k.draggable||new c.ui.Draggable(b,{group:n,autoScroll:true,filter:k.filter,hint:k.hint});l.reorderDropCue=a('<div class="k-reorder-cue"></div></div>');b.find(m.options.filter).kendoDropTarget({group:m.options.group,dragenter:function(a){if(!l._draggable){return}var b=this.element,c;var g=!l._dropTargetAllowed(b)||l._isLastDraggable();j(a.draggable.hint,g);if(!g){c=f(b);var h=c.left;if(k.inSameContainer&&!k.inSameContainer({source:b,target:l._draggable,sourceIndex:l._index(b),targetIndex:l._index(l._draggable)})){l._dropTarget=b}else{if(l._index(b)>l._index(l._draggable)){h+=d(b)}}l.reorderDropCue.css({height:e(b),top:c.top,left:h}).appendTo(document.body)}},dragleave:function(a){j(a.draggable.hint,true);l.reorderDropCue.remove();l._dropTarget=null},drop:function(){l._dropTarget=null;if(!l._draggable){return}var a=this.element;var b=l._draggable;if(l._dropTargetAllowed(a)&&!l._isLastDraggable()){l.trigger(h,{element:l._draggable,target:a,oldIndex:l._index(b),newIndex:l._index(a),position:f(l.reorderDropCue).left>f(a).left?"after":"before"})}}});m.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){l.reorderDropCue.remove();l._draggable=null;l._elements=null},dragend:function(){l.reorderDropCue.remove();l._draggable=null;l._elements=null},dragstart:function(a){l._draggable=a.currentTarget;l._elements=l.element.find(l.draggable.options.filter)},drag:function(a){if(!l._dropTarget||this.hint.find(".k-drag-status").hasClass("k-i-cancel")){return}var b=f(l._dropTarget).left;var c=d(l._dropTarget);if(a.pageX>b+c/2){l.reorderDropCue.css({left:b+c})}else{l.reorderDropCue.css({left:b})}}})},options:{name:"Reorderable",filter:"*"},events:[h],_isLastDraggable:function(){var a=this.options.inSameContainer,b=this._draggable[0],c=this._elements.get(),d=false,e;if(!a){return false}while(!d&&c.length>0){e=c.pop();d=b!==e&&a({source:b,target:e,sourceIndex:this._index(b),targetIndex:this._index(e)})}return!d},_dropTargetAllowed:function(a){
var b=this.options.inSameContainer,c=this.options.dragOverContainers,d=this._draggable;if(d[0]===a[0]){return false}if(!b||!c){return true}if(b({source:d,target:a,sourceIndex:this._index(d),targetIndex:this._index(a)})){return true}return c(this._index(d),this._index(a))},_index:function(a){return this._elements.index(a)},destroy:function(){var b=this;g.fn.destroy.call(b);b.element.find(b.draggable.options.filter).each(function(){var b=a(this);if(b.data("kendoDropTarget")){b.data("kendoDropTarget").destroy()}});if(b.draggable){b.draggable.destroy();b.draggable.element=b.draggable=null}b.elements=b.reorderDropCue=b._elements=b._draggable=null}});c.ui.plugin(k)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.resizable",["kendo.core","kendo.draganddrop"],a)})(function(){var a={id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=c.isFunction,h=a.extend,i="horizontal",j="vertical",k="start",l="resize",m="resizeend";var n=e.extend({init:function(a,b){var c=this;e.fn.init.call(c,a,b);c.orientation=c.options.orientation.toLowerCase()!=j?i:j;c._positionMouse=c.orientation==i?"x":"y";c._position=c.orientation==i?"left":"top";c._sizingDom=c.orientation==i?"outerWidth":"outerHeight";c.draggable=new d.Draggable(b.draggableElement||a,{distance:1,filter:b.handle,drag:f(c._resize,c),dragcancel:f(c._cancel,c),dragstart:f(c._start,c),dragend:f(c._stop,c)});c.userEvents=c.draggable.userEvents},events:[l,m,k],options:{name:"Resizable",orientation:i},resize:function(){},_max:function(a){var c=this,d=c.hint?c.hint[c._sizingDom]():0,e=c.options.max;return g(e)?e(a):e!==b?c._initialElementPosition+e-d:e},_min:function(a){var c=this,d=c.options.min;return g(d)?d(a):d!==b?c._initialElementPosition+d:d},_start:function(b){var c=this,d=c.options.hint,e=a(b.currentTarget);c._initialElementPosition=e.position()[c._position];c._initialMousePosition=b[c._positionMouse].startLocation;if(d){c.hint=g(d)?a(d(e)):d;c.hint.css({position:"absolute"}).css(c._position,c._initialElementPosition).appendTo(c.element)}c.trigger(k,b);c._maxPosition=c._max(b);c._minPosition=c._min(b);a(document.body).css("cursor",e.css("cursor"))},_resize:function(a){var c=this,d=c._maxPosition,e=c._minPosition,f=c._initialElementPosition+(a[c._positionMouse].location-c._initialMousePosition),g;g=e!==b?Math.max(e,f):f;c.position=g=d!==b?Math.min(d,g):g;if(c.hint){c.hint.toggleClass(c.options.invalidClass||"",g==d||g==e).css(c._position,g)}c.resizing=true;c.trigger(l,h(a,{position:g}))},_stop:function(b){var c=this;if(c.hint){c.hint.remove()}c.resizing=false;c.trigger(m,h(b,{position:c.position}));a(document.body).css("cursor","")},_cancel:function(a){var c=this;if(c.hint){c.position=b;c.hint.css(c._position,c._initialElementPosition);c._stop(a)}},destroy:function(){var a=this;e.fn.destroy.call(a);if(a.draggable){a.draggable.destroy()}},press:function(a){if(!a){return}var b=a.position(),c=this;c.userEvents.press(b.left,b.top,a[0]);c.targetPosition=b;c.target=a},move:function(a){var c=this,d=c._position,e=c.targetPosition,f=c.position;if(f===b){f=e[d]}e[d]=f+a;c.userEvents.move(e.left,e.top)},end:function(){this.userEvents.end();this.target=this.position=b}});c.ui.plugin(n)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.sortable",["kendo.draganddrop"],a)})(function(){var a={id:"sortable",name:"Sortable",category:"framework",depends:["draganddrop"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=c._outerWidth,f=c._outerHeight,g="start",h="beforeMove",i="move",j="end",k="change",l="cancel",m="sort",n="remove",o="receive",p=">*",q=-1;function r(b,c){try{return a.contains(b,c)||b==c}catch(a){return false}}function s(a){return a.clone()}function t(a){return a.clone().removeAttr("id").css("visibility","hidden")}var u=d.extend({init:function(a,b){var c=this;d.fn.init.call(c,a,b);if(!c.options.placeholder){c.options.placeholder=t}if(!c.options.hint){c.options.hint=s}c.draggable=c._createDraggable()},events:[g,h,i,j,k,l],options:{name:"Sortable",hint:null,placeholder:null,filter:p,holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:false,cursor:"auto",moveOnDragEnter:false},destroy:function(){this.draggable.destroy();d.fn.destroy.call(this)},_createDraggable:function(){var b=this,d=b.element,e=b.options;return new c.ui.Draggable(d,{filter:e.filter,hint:c.isFunction(e.hint)?e.hint:a(e.hint),holdToDrag:e.holdToDrag,container:e.container?a(e.container):null,cursorOffset:e.cursorOffset,axis:e.axis,ignore:e.ignore,autoScroll:e.autoScroll,dragstart:a.proxy(b._dragstart,b),dragcancel:a.proxy(b._dragcancel,b),drag:a.proxy(b._drag,b),dragend:a.proxy(b._dragend,b)})},_dragstart:function(b){var d=this.draggedElement=b.currentTarget,e=this.options.disabled,f=this.options.handler,h=this.options.placeholder,i=this.placeholder=c.isFunction(h)?a(h.call(this,d)):a(h);if(e&&d.is(e)){b.preventDefault()}else if(f&&!a(b.initialTarget).is(f)){b.preventDefault()}else{if(this.trigger(g,{item:d,draggableEvent:b})){b.preventDefault()}else{d.css("display","none");d.before(i);this._setCursor()}}},_dragcancel:function(){this._cancel();this.trigger(l,{item:this.draggedElement});this._resetCursor()},_drag:function(b){var c=this.draggedElement,d=this._findTarget(b),e,f={left:b.x.location,top:b.y.location},g,h={x:b.x.delta,y:b.y.delta},i,j,k,l=this.options.axis,m=this.options.moveOnDragEnter,n={item:c,list:this,draggableEvent:b};if(l==="x"||l==="y"){this._movementByAxis(l,f,h[l],n);return}if(d){e=this._getElementCenter(d.element);g={left:Math.round(f.left-e.left),top:Math.round(f.top-e.top)};a.extend(n,{target:d.element});if(d.appendToBottom){this._movePlaceholder(d,null,n);return}if(d.appendAfterHidden){this._movePlaceholder(d,"next",n)}if(this._isFloating(d.element)){if(h.x<0&&m||!m&&g.left<0){i="prev"}else if(h.x>0&&m||!m&&g.left>0){i="next"}}else{if(h.y<0&&m||!m&&g.top<0){i="prev"}else if(h.y>0&&m||!m&&g.top>0){i="next"}}if(i){k=i==="prev"?jQuery.fn.prev:jQuery.fn.next;j=k.call(d.element);while(j.length&&!j.is(":visible")){j=k.call(j)}if(j[0]!=this.placeholder[0]){this._movePlaceholder(d,i,n)}}}},_dragend:function(b){var c=this.placeholder,d=this.draggedElement,e=this.indexOf(d),f=this.indexOf(c),g=this.options.connectWith,h,i,l,p;this._resetCursor();l={action:m,item:d,oldIndex:e,newIndex:f,draggableEvent:b};if(f>=0){i=this.trigger(j,l)}else{h=c.parents(g).getKendoSortable();l.action=n;p=a.extend({},l,{action:o,oldIndex:q,newIndex:h.indexOf(c)});i=!(!this.trigger(j,l)&&!h.trigger(j,p))}if(i||f===e){this._cancel();return}c.replaceWith(d);d.show();this.draggable.dropped=true;l={action:this.indexOf(d)!=q?m:n,item:d,oldIndex:e,newIndex:this.indexOf(d),draggableEvent:b};this.trigger(k,l);if(h){p=a.extend({},l,{action:o,oldIndex:q,newIndex:h.indexOf(d)});h.trigger(k,p)}},_findTarget:function(b){var c=this._findElementUnderCursor(b),d,e=this.options.connectWith,f;if(a.contains(this.element[0],c)){d=this.items();f=d.filter(c)[0]||d.has(c)[0];return f?{element:a(f),sortable:this}:null}else if(this.element[0]==c&&this._isEmpty()){return{element:this.element,sortable:this,appendToBottom:true}}else if(this.element[0]==c&&this._isLastHidden()){f=this.items().eq(0);return{element:f,sortable:this,appendAfterHidden:true}}else if(e){return this._searchConnectedTargets(c,b)}},_findElementUnderCursor:function(a){var b=c.elementUnderCursor(a),d=a.sender;if(r(d.hint[0],b)){d.hint.hide();b=c.elementUnderCursor(a);if(!b){b=c.elementUnderCursor(a)}d.hint.show()}return b},_searchConnectedTargets:function(b,c){var d=a(this.options.connectWith),e,f,g;for(var h=0;h<d.length;h++){e=d.eq(h).getKendoSortable();if(a.contains(d[h],b)){if(e){f=e.items();g=f.filter(b)[0]||f.has(b)[0];if(g){e.placeholder=this.placeholder;return{element:a(g),sortable:e}}else{return null}}}else if(d[h]==b){if(e&&e._isEmpty()){return{element:d.eq(h),sortable:e,appendToBottom:true}}else if(this._isCursorAfterLast(e,c)){g=e.items().last();return{element:g,sortable:e}}}}},_isCursorAfterLast:function(a,b){var d=a.items().last(),g={left:b.x.location,top:b.y.location},h,i;h=c.getOffset(d);h.top+=f(d);h.left+=e(d);if(this._isFloating(d)){i=h.left-g.left}else{i=h.top-g.top}return i<0?true:false},_movementByAxis:function(b,c,d,e){var f=b==="x"?c.left:c.top,g=d<0?this.placeholder.prev():this.placeholder.next(),h;if(g.length&&!g.is(":visible")){g=d<0?g.prev():g.next()}a.extend(e,{target:g});h=this._getElementCenter(g);if(h){h=b==="x"?h.left:h.top}if(g.length&&d<0&&f-h<0){this._movePlaceholder({element:g,sortable:this},"prev",e)}else if(g.length&&d>0&&f-h>0){this._movePlaceholder({element:g,sortable:this},"next",e)}},_movePlaceholder:function(a,b,c){var d=this.placeholder;if(!a.sortable.trigger(h,c)){if(!b){a.element.append(d)}else if(b==="prev"){a.element.before(d)}else if(b==="next"){a.element.after(d)}a.sortable.trigger(i,c)}},_setCursor:function(){var b=this.options.cursor,c;if(b&&b!=="auto"){c=a(document.body);this._originalCursorType=c.css("cursor");c.css({cursor:b});if(!this._cursorStylesheet){this._cursorStylesheet=a("<style>* { cursor: "+b+" !important; }</style>")}this._cursorStylesheet.appendTo(c)}},_resetCursor:function(){if(this._originalCursorType){a(document.body).css("cursor",this._originalCursorType);this._originalCursorType=null;this._cursorStylesheet.remove()}},_getElementCenter:function(a){var b=a.length?c.getOffset(a):null;if(b){b.top+=f(a)/2;b.left+=e(a)/2}return b},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_cancel:function(){this.draggedElement.show();this.placeholder.remove()},_items:function(){var a=this.options.filter,b;if(a){b=this.element.find(a)}else{b=this.element.children()}return b},indexOf:function(a){var b=this._items(),c=this.placeholder,d=this.draggedElement;if(c&&a[0]==c[0]){return b.not(d).index(a)}else{return b.not(c).index(a)}},items:function(){var a=this.placeholder,b=this._items();if(a){b=b.not(a)}return b},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});c.ui.plugin(u)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.selectable",["kendo.core","kendo.userevents"],a)})(function(){var a={id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=Math.abs,g="aria-selected",h="k-state-selected",i="k-state-selecting",j="k-selectable",k="change",l=".kendoSelectable",m="k-state-unselecting",n="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",o=c.support.browser.msie,p=false;(function(a){(function(){a('<div class="parent"><span /></div>').on("click",">*",function(){p=true}).find("span").click().end().off()})()})(a);var q=d.extend({init:function(b,f){var g=this,h;d.fn.init.call(g,b,f);g._marquee=a("<div class='k-marquee'><div class='k-marquee-color'></div></div>");g._lastActive=null;g.element.addClass(j);g.relatedTarget=g.options.relatedTarget;h=g.options.multiple;if(this.options.aria&&h){g.element.attr("aria-multiselectable",true)}g.userEvents=new c.UserEvents(g.element,{global:true,allowSelection:true,filter:(!p?"."+j+" ":"")+g.options.filter,tap:e(g._tap,g),touchAction:h?"none":"pan-x pan-y"});if(h){g.userEvents.bind("start",e(g._start,g)).bind("move",e(g._move,g)).bind("end",e(g._end,g)).bind("select",e(g._select,g))}},events:[k],options:{name:"Selectable",filter:">*",inputSelectors:n,multiple:false,relatedTarget:a.noop},_isElement:function(a){var b=this.element;var c,d=b.length,e=false;a=a[0];for(c=0;c<d;c++){if(b[c]===a){e=true;break}}return e},_tap:function(b){var c=a(b.target),d=this,e=b.event.ctrlKey||b.event.metaKey,f=d.options.multiple,g=f&&b.event.shiftKey,i,l=b.event.which,m=b.event.button;if(!d._isElement(c.closest("."+j))||l&&l==3||m&&m==2){return}if(!this._allowSelection(b.event.target)){return}i=c.hasClass(h);if(!f||!e){d.clear()}c=c.add(d.relatedTarget(c));if(g){d.selectRange(d._firstSelectee(),c,b)}else{if(i&&e){d._unselect(c);d._notify(k,b)}else{d.value(c,b)}d._lastActive=d._downTarget=c}},_start:function(b){var c=this,d=a(b.target),e=d.hasClass(h),f,g=b.event.ctrlKey||b.event.metaKey;if(!this._allowSelection(b.event.target)){return}c._downTarget=d;if(!c._isElement(d.closest("."+j))){c.userEvents.cancel();return}if(c.options.useAllItems){c._items=c.element.find(c.options.filter)}else{f=d.closest(c.element);c._items=f.find(c.options.filter)}b.sender.capture();c._marquee.appendTo(document.body).css({left:b.x.client+1,top:b.y.client+1,width:0,height:0});if(!g){c.clear()}d=d.add(c.relatedTarget(d));if(e){c._selectElement(d,true);if(g){d.addClass(m)}}},_move:function(a){var b=this,c={left:a.x.startLocation>a.x.location?a.x.location:a.x.startLocation,top:a.y.startLocation>a.y.location?a.y.location:a.y.startLocation,width:f(a.x.initialDelta),height:f(a.y.initialDelta)};b._marquee.css(c);b._invalidateSelectables(c,a.event.ctrlKey||a.event.metaKey);a.preventDefault()},_end:function(a){var b=this;b._marquee.remove();b._unselect(b.element.find(b.options.filter+"."+m)).removeClass(m);var c=b.element.find(b.options.filter+"."+i);c=c.add(b.relatedTarget(c));b.value(c,a);b._lastActive=b._downTarget;b._items=null},_invalidateSelectables:function(a,b){var c,d,e=this._downTarget[0],f=this._items,g,j;for(c=0,d=f.length;c<d;c++){j=f.eq(c);g=j.add(this.relatedTarget(j));if(r(j,a)){if(j.hasClass(h)){if(b&&e!==j[0]){g.removeClass(h).addClass(m)}}else if(!j.hasClass(i)&&!j.hasClass(m)){g.addClass(i)}}else{if(j.hasClass(i)){g.removeClass(i)}else if(b&&j.hasClass(m)){g.removeClass(m).addClass(h)}}}},value:function(a,b){var c=this,d=e(c._selectElement,c);if(a){a.each(function(){d(this)});c._notify(k,b);return}return c.element.find(c.options.filter+"."+h)},_firstSelectee:function(){var a=this,b;if(a._lastActive!==null){return a._lastActive}b=a.value();return b.length>0?b[0]:a.element.find(a.options.filter)[0]},_selectElement:function(b,c){var d=a(b),e=!c&&this._notify("select",{element:b});d.removeClass(i);if(!e){d.addClass(h);if(this.options.aria){d.attr(g,true)}}},_notify:function(a,b){b=b||{};return this.trigger(a,b)},_unselect:function(a){a.removeClass(h);if(this.options.aria){a.attr(g,false)}return a},_select:function(b){if(this._allowSelection(b.event.target)){if(!o||o&&!a(c._activeElement()).is(this.options.inputSelectors)){b.preventDefault()}}},_allowSelection:function(b){if(a(b).is(this.options.inputSelectors)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var a=this.element.find(this.options.filter+"."+h);this._unselect(a)},selectRange:function(b,c,d){var e=this,f,g,h;e.clear();if(e.element.length>1){h=e.options.continuousItems()}if(!h||!h.length){h=e.element.find(e.options.filter)}b=a.inArray(a(b)[0],h);c=a.inArray(a(c)[0],h);if(b>c){g=b;b=c;c=g}if(!e.options.useAllItems){c+=e.element.length-1}for(f=b;f<=c;f++){e._selectElement(h[f])}e._notify(k,d)},destroy:function(){var a=this;d.fn.destroy.call(a);a.element.off(l);a.userEvents.destroy();a._marquee=a._lastActive=a.element=a.userEvents=null}});q.parseOptions=function(a){var b=typeof a==="string"&&a.toLowerCase();return{multiple:b&&b.indexOf("multiple")>-1,cell:b&&b.indexOf("cell")>-1}};function r(a,b){if(!a.is(":visible")){return false}var d=c.getOffset(a),e=b.left+b.width,f=b.top+b.height;d.right=d.left+c._outerWidth(a);d.bottom=d.top+c._outerHeight(a);return!(d.left>e||d.right<b.left||d.top>f||d.bottom<b.top)}c.ui.plugin(q)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("chat/view",["kendo.core","kendo.draganddrop"],a)})(function(){(function(a,b){var c=window.kendo;var d=c.ui.Widget;var e=a.extend;var f=a.proxy;var g=".";var h=" ";var i=".kendoChat";var j=c.template('<div #:text# class="#=styles.messageGroup# #= url ? "" : styles.noAvatar #">'+'<p class="#=styles.author#">#:text#</p>'+"# if (url) { #"+'<img src="#=url#" alt="#:text#" class="#=styles.avatar#">'+"# } #"+"</div>");var k=c.template('<div me class="#=styles.messageGroup# #=styles.self# #= url ? "" : styles.noAvatar #">'+"# if (url) { #"+'<img src="#=url#" alt="#:text#" class="#=styles.avatar#">'+"# } #"+"</div>");var l=c.template('<div class="#=styles.message#">'+'<time class="#=styles.messageTime#">#= kendo.toString(kendo.parseDate(timestamp), "HH:mm:ss") #</time>'+'<div class="#=styles.bubble#">#:text#</div>'+"</div>");var m=c.template('<div class="#=styles.message#">'+'<div class="#=styles.bubble#">'+'<div class="#=styles.typingIndicator#">'+"<span></span><span></span><span></span>"+"</div>"+"</div>"+"</div>");var n=c.template('<div class="#=styles.suggestedActions#">'+"# for (var i = 0; i < suggestedActions.length; i++) { #"+'<span class="#=styles.suggestedAction#" data-value="#:suggestedActions[i].value#">#:suggestedActions[i].title#</span>'+"# } #"+"</div>");var o=c.template('<div class="#=styles.card# #=styles.cardRich#">'+'# if (typeof images !== "undefined" && images.length > 0) { #'+'<img src="#:images[0].url#" alt="#:images[0].alt#" class="#=styles.cardImage#" />'+"# } #"+'<div class="#=styles.cardBody#">'+'# if (typeof title !== "undefined") { #'+'<h5 class="#=styles.cardTitle#">#:title#</h5>'+"# } #"+'# if (typeof subtitle !== "undefined") { #'+'<h6 class="#=styles.cardSubtitle#">#:subtitle#</h6>'+"# } #"+'# if (typeof text !== "undefined") { #'+"<p>#:text#</p>"+"# } #"+"</div>"+'# if (typeof buttons !== "undefined" && buttons.length > 0) { #'+'<div class="#=styles.cardActions# #=styles.cardActionsVertical#">'+"# for (var i = 0; i < buttons.length; i++) { #"+'<span class="#=styles.cardAction#"><span class="#=styles.button# #=styles.buttonPrimary#" data-value="#:buttons[i].value#">#:buttons[i].title#</span></span>'+"# } #"+"</div>"+"# } #"+"</div>");c.chat={Templates:{},Components:{}};c.chat.registerTemplate=function(a,b){c.chat.Templates[a]=c.template(b)};c.chat.getTemplate=function(a){return c.chat.Templates[a]||l};c.chat.registerTemplate("text",l);c.chat.registerTemplate("message",l);c.chat.registerTemplate("typing",m);c.chat.registerTemplate("suggestedAction",n);c.chat.registerTemplate("heroCard",o);c.chat.registerTemplate("application/vnd.microsoft.card.hero",o);c.chat.registerComponent=function(a,b){c.chat.Components[a]=b};c.chat.getComponent=function(a){return c.chat.Components[a]||null};var p=c.chat.Component=c.Class.extend({init:function(b,c){this.element=a("<div></div>");this.options=b;this.view=c},destroy:function(){c.destroy(this.element)}});var q=p.extend({init:function(a,b){p.fn.init.call(this,a,b);this.element.kendoCalendar({change:function(){b.trigger("suggestedAction",{text:c.toString(this.value(),"d"),type:"message"})}})},destroy:function(){}});c.chat.registerComponent("calendar",q);var r={wrapper:"k-widget k-chat",messageList:"k-avatars",messageTime:"k-message-time",messageGroup:"k-message-group",message:"k-message",only:"k-only",first:"k-first",middle:"k-middle",last:"k-last",author:"k-author",avatar:"k-avatar",noAvatar:"k-no-avatar",self:"k-alt",button:"k-button",buttonPrimary:"k-flat k-primary",typingIndicator:"k-typing-indicator",bubble:"k-bubble",suggestedActions:"k-quick-replies",suggestedAction:"k-quick-reply",cardWrapper:"k-card-container",card:"k-card",cardRich:"k-card-type-rich",cardBody:"k-card-body",cardImage:"k-card-image",cardTitle:"k-card-title",cardSubtitle:"k-card-subtitle",cardActions:"k-card-actions",cardActionsVertical:"k-card-actions-vertical",cardAction:"k-card-action",selected:"k-state-selected"};var s=c.chat.ChatView=d.extend({init:function(a,b){d.fn.init.call(this,a,b);this._list();this._lastSender=null;this._attachEvents();this._scrollable()},events:[],options:{},destroy:function(){d.fn.destroy.call(this);if(this._scrollDraggable){this._scrollDraggable.destroy()}this.list.empty();this.list=null;this.element.off(i);this._lastSender=null},_list:function(){var a=s.styles;this.list=this.element.addClass(a.messageList).attr("aria-live","polite")},_attachEvents:function(){var a=s.styles;this.element.on("click"+i,f(this._listClick,this)).on("click"+i,g+a.message,f(this._messageClick,this)).on("click"+i,g+a.suggestedAction,f(this._suggestedActionClick,this)).on("click"+i,g+a.cardAction+h+g+a.button,f(this._cardActionClick,this))},_scrollable:function(){var b=s.styles;var d;var e;this._scrollDraggable=new c.ui.Draggable(this.list,{distance:0,filter:g+b.cardDeck});this._scrollDraggable.bind("dragstart",function(b){d=b.x.location;e=a(b.currentTarget).scrollLeft()}).bind("drag",c.throttle(function(b){var c=d-b.x.location;a(b.currentTarget).scrollLeft(e+c);e=a(b.currentTarget).scrollLeft()},15))},getTemplate:function(a){return c.chat.getTemplate(a)},getComponent:function(a){return c.chat.getComponent(a)},renderMessage:function(a,b){if(!a.timestamp){a.timestamp=new Date}var c=this._renderTemplate(a.type,a);this._renderBubble(c,b);if(a.type!=="typing"){this._lastSender=b.id}},renderSuggestedActions:function(a){this._removeSuggestedActions();var b=this._renderTemplate("suggestedAction",{suggestedActions:a});this.list.append(b);this._scrollToBottom()},renderAttachments:function(b,c){var d=b.attachmentLayout==="carousel"?s.styles.cardDeck:s.styles.cardWrapper;var e=a("<div>").addClass(d);var f=b.attachments;for(var g=0;g<f.length;g++){var h=this._renderTemplate(f[g].contentType,f[g].content);e.append(h)}if(f.length){this._renderBubble(e,c);this._lastSender=null}},renderComponent:function(a){var b=this.getComponent(a);var c=new b({},this);this.list.append(c.element);this._scrollToBottom()},_removeTypingIndicator:function(){var a=s.styles;var b=this.list.find(g+a.typingIndicator);if(b.length){var c=b.parents(g+a.message).first();var d=b.parents(g+a.messageGroup).first();c.remove();if(!d.find(g+a.message).length&&!d.find(g+a.cardDeck).length&&!d.find(g+a.cardWrapper).length){d.remove()}}},_removeSuggestedActions:function(){this.list.find(g+s.styles.suggestedActions).remove()},_listClick:function(b){var c=s.styles;var d=a(b.target);if(d.hasClass(c.message)||d.parents(g+c.message).length){return}this._clearSelection()},_messageClick:function(b){this._clearSelection();a(b.currentTarget).addClass(s.styles.selected)},_suggestedActionClick:function(b){var c=a(b.target).data("value")||"";this.trigger("actionClick",{text:c});this._removeSuggestedActions()},_cardActionClick:function(b){var c=a(b.target).data("value")||"";this.trigger("actionClick",{text:c})},_renderBubble:function(a,b){this._removeSuggestedActions();this._removeTypingIndicator();var c=this._getMessageGroup(b);this._appendToGroup(c,a);this._scrollToBottom()},_renderTemplate:function(b,c){var d=this.getComponent(b);var f;if(d){var g=new d(c,this);f=g.element}else{var h=this.getTemplate(b);var i=e(true,{},c,{styles:s.styles});f=a(h(i))}return f},_getMessageGroup:function(b){var c=s.styles;var d=this._getMessageGroupTemplate(b);var e;if(b.id===this._lastSender&&this._lastSender!==null){e=this.list.find(g+c.messageGroup).last();if(e.length){return e}}return a(d({text:b.name,url:b.iconUrl,styles:c})).appendTo(this.list)},_getMessageGroupTemplate:function(a){var b=a.id===this.options.user.id;var c=b?k:j;return c},_appendToGroup:function(a,b){var c=s.styles;var d=a.find(g+c.message);var e=d.length;b.addClass(e===0?c.only:c.last);d.filter(g+c.only).removeClass(c.only).addClass(c.first);d.filter(g+c.last).removeClass(c.last).addClass(c.middle);a.append(b)},_clearSelection:function(){var a=s.styles.selected;this.element.find(g+a).removeClass(a)},_scrollToBottom:function(){this.list.scrollTop(this.list.prop("scrollHeight"))}});e(true,s,{styles:r})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("chat/messageBox",["kendo.core"],a)})(function(){(function(a,b){var c=window.kendo;var d=c.ui.Widget;var e=a.extend;var f=a.proxy;var g=".";var h=".kendoChat";var i=c.keys;var j='<svg version="1.1" ixmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><path d="M0,14.3c-0.1,0.6,0.3,0.8,0.8,0.6l14.8-6.5c0.5-0.2,0.5-0.6,0-0.8L0.8,1.1C0.3,0.9-0.1,1.1,0,1.7l0.7,4.2C0.8,6.5,1.4,7,1.9,7.1l8.8,0.8c0.6,0.1,0.6,0.1,0,0.2L1.9,8.9C1.4,9,0.8,9.5,0.7,10.1L0,14.3z"/></svg>';var k={input:"k-input",button:"k-button",buttonFlat:"k-flat",buttonIcon:"k-button-icon",buttonSend:"k-button-send",iconAdd:"k-icon k-i-add",hidden:"k-hidden"};var l=c.chat.ChatMessageBox=d.extend({init:function(a,b){d.fn.init.call(this,a,b);this._wrapper();this._attachEvents();this._typing=false},events:[],options:{messages:{placeholder:"Type a message..."}},destroy:function(){d.fn.destroy.call(this);if(this.input){this.input.off(h);this.input.remove();this.input=null}this.element.off(h);this.element.empty()},_wrapper:function(){var b=l.styles;var d=this.options.messages;var e="inputId_"+c.guid();a("<label>").addClass(b.hidden).html(d.placeholder).attr("for",e).appendTo(this.element);this.input=a("<input type='text'>").addClass(b.input).attr("id",e).attr("placeholder",d.placeholder).appendTo(this.element);a("<button>").addClass(b.button).addClass(b.buttonFlat).addClass(b.buttonIcon).addClass(b.buttonSend).append(a(j)).appendTo(this.element)},_attachEvents:function(){var a=l.styles;this.input.on("keydown"+h,f(this._keydown,this)).on("input"+h,f(this._input,this)).on("focusout"+h,f(this._inputFocusout,this));this.element.on("click"+h,g+a.buttonSend,f(this._buttonClick,this))},_input:function(){var a=this.input.val();var b=a.length>0;this._triggerTyping(b)},_keydown:function(a){var b=a.keyCode;switch(b){case i.ENTER:a.preventDefault();this._sendMessage();break}},_buttonClick:function(a){a.preventDefault();this._sendMessage()},_sendMessage:function(){var a=this.input.val();if(!a.length){return}this._triggerTyping(false);var b={text:a};this.trigger("sendMessage",b);this.input.val("")},_inputFocusout:function(){this._triggerTyping(false)},_triggerTyping:function(a){if(a){if(!this._typing){this.trigger("typingStart",{});this._typing=true}}else{if(this._typing){this.trigger("typingEnd",{});this._typing=false}}}});e(true,l,{styles:k})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.chat",["chat/view","chat/messageBox"],a)})(function(){var a={id:"chat",name:"Chat",category:"web",description:"The Chat component.",depends:["core","draganddrop"]};(function(a,b){var c=window.kendo;var d=c.ui.Widget;var e=a.extend;var f=".";var g={wrapper:"k-widget k-chat",canvas:"k-chat-canvas",viewWrapper:"k-message-list",messageBoxWrapper:"k-message-box"};var h=d.extend({init:function(a,b,e){d.fn.init.call(this,a,b);if(e){this._events=e}this._user();this._wrapper();this._view();this._messageBox();c.notify(this)},events:["typingStart","typingEnd","post","sendMessage","actionClick"],options:{user:{name:"User",iconUrl:""},name:"Chat",messages:{placeholder:"Type a message..."}},destroy:function(){if(this.view){this.view.unbind();this.view.destroy();this.view=null}if(this.messageBox){this.messageBox.unbind();this.messageBox.destroy();this.messageBox=null}d.fn.destroy.call(this)},_user:function(){this.options.user.id=c.guid()},getUser:function(){return e(true,{},this.options.user)},_wrapper:function(){var a=h.styles;var b=this.options;var c=b.height;var d=b.width;this.wrapper=this.element.addClass(a.wrapper).append("<div class='"+a.viewWrapper+"'></div>"+"<div class='"+a.messageBoxWrapper+"'></div>");if(c){this.wrapper.height(c)}if(d){this.wrapper.css("max-width",d)}},_view:function(){var a=this;var b=h.styles;var d=e(true,{},this.options);var g=this.wrapper.find(f+b.viewWrapper+"");this.view=new c.chat.ChatView(g,d);this.view.bind("actionClick",function(b){a.trigger("actionClick",b);a.postMessage(b.text)})},_messageBox:function(){var a=this;var b=h.styles;var d=e(true,{},this.options);var g=this.wrapper.find(f+b.messageBoxWrapper+"");this.messageBox=new c.chat.ChatMessageBox(g,d);this.messageBox.bind("typingStart",function(b){a.trigger("typingStart",b)}).bind("typingEnd",function(b){a.trigger("typingEnd",b)}).bind("sendMessage",function(b){a.trigger("sendMessage",b);a.postMessage(b.text)})},postMessage:function(a){var b=e(true,{},{text:a,type:"message",timestamp:new Date,from:this.getUser()});this.trigger("post",b);this.renderMessage(b,b.from)},renderMessage:function(a,b){this.view.renderMessage(a,b)},renderSuggestedActions:function(a){this.view.renderSuggestedActions(a)},renderAttachments:function(a,b){this.view.renderAttachments(a,b)}});c.ui.plugin(h);e(true,h,{styles:g})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.button",["kendo.core"],a)})(function(){var a={id:"button",name:"Button",category:"web",description:"The Button widget displays styled buttons.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=c.keys,g="click",h="k-button",i="k-button-icon",j="k-button-icontext",k=".kendoButton",l="disabled",m="k-state-disabled",n="k-state-focused",o="k-state-active";var p=d.extend({init:function(a,b){var f=this;d.fn.init.call(f,a,b);a=f.wrapper=f.element;b=f.options;a.addClass(h).attr("role","button");b.enable=b.enable&&!a.attr(l);f.enable(b.enable);if(b.enable){f._tabindex()}f._graphics();a.on(g+k,e(f._click,f)).on("focus"+k,e(f._focus,f)).on("blur"+k,e(f._blur,f)).on("keydown"+k,e(f._keydown,f)).on("keyup"+k,e(f._keyup,f));c.notify(f)},destroy:function(){var a=this;a.wrapper.off(k);d.fn.destroy.call(a)},events:[g],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:true},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(a){if(this.options.enable){if(this.trigger(g,{event:a})){a.preventDefault()}}},_focus:function(){if(this.options.enable){this.element.addClass(n)}},_blur:function(){var a=this;a.element.removeClass(n);setTimeout(function(){a.element.removeClass(o)})},_keydown:function(a){var b=this;if(a.keyCode==f.ENTER||a.keyCode==f.SPACEBAR){if(b.options.enable){b.element.addClass(o)}if(!b._isNativeButton()){if(a.keyCode==f.SPACEBAR){a.preventDefault()}b._click(a)}}},_keyup:function(){this.element.removeClass(o)},_graphics:function(){var b=this,c=b.element,d=b.options,e=d.icon,f=d.spriteCssClass,g=d.imageUrl,h,k,l;if(f||g||e){l=true;c.contents().filter(function(){return!a(this).hasClass("k-sprite")&&!a(this).hasClass("k-icon")&&!a(this).hasClass("k-image")}).each(function(b,c){if(c.nodeType==1||c.nodeType==3&&a.trim(c.nodeValue).length>0){l=false}});if(l){c.addClass(i)}else{c.addClass(j)}}if(e){h=c.children("span.k-icon").first();if(!h[0]){h=a('<span class="k-icon"></span>').prependTo(c)}h.addClass("k-i-"+e)}else if(f){h=c.children("span.k-sprite").first();if(!h[0]){h=a('<span class="k-sprite"></span>').prependTo(c)}h.addClass(f)}else if(g){k=c.children("img.k-image").first();if(!k[0]){k=a('<img alt="icon" class="k-image" />').prependTo(c)}k.attr("src",g)}},enable:function(a){var c=this,d=c.element;if(a===b){a=true}a=!!a;c.options.enable=a;d.toggleClass(m,!a).attr("aria-disabled",!a).attr(l,!a);if(a){c._tabindex()}try{d.blur()}catch(a){}}});c.ui.plugin(p)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.buttongroup",["kendo.core"],a)})(function(){var a={id:"buttongroup",name:"ButtonGroup",category:"web",description:"The Kendo ButtonGroup widget is a linear set of grouped buttons.",depends:["core"]
};(function(a,b){var c=window.kendo;var d=c.ui;var e=d.Widget;var f=c.keys;var g=a.proxy;var h=c.template;var i=".kendoButtonGroup";var j="k-widget";var k="k-button-group";var l="k-button";var m="k-button-icontext";var n="k-button-icon";var o="k-state-active";var p="k-state-focused";var q="k-state-disabled";var r="select";var s="click";var t="keydown";var u="focus";var v="blur";var w="mousedown";var x={item:h('<span class="#= item.selected ? " '+o+'" : "" #" '+'#= item.enabled === false ? "disabled" : "" # '+"# if (item.badge) { #"+c.attr("badge")+'="#=item.badge#"'+"# } #"+">"+"#= icon(iconClass) #"+"#= image(item) #"+"#= text #"+"</span>"),image:h('<img alt="icon" src="#=data.imageUrl#" />'),icon:h('<span class="#=data#" />'),empty:h("")};function y(d,e){if(d===b){return}a('<span class="k-badge">'+c.htmlEncode(d)+"</span>").appendTo(e)}var z=e.extend({init:function(b,c){var d=this;e.fn.init.call(d,b,c);d.wrapper=d.element;if(d.options.items){d._renderItems(d.options.items)}d.selectedIndices=[];d.element.addClass(j+" "+k).attr("role","group").attr("tabindex",d.element.attr("tabindex")||"0").children().each(function(){var b=a(this);d._updateClasses.bind(d)(b)});d._enable=true;if(!d.options.enable){d._enable=false;d.element.attr("aria-disabled",true).addClass(q)}d.select(d.options.index);d.element.on(s+i,"."+l,g(d._click,d)).on(u+i,g(d._focus,d)).on(t+i,g(d._keyDown,d)).on(v+i,function(){d.preventFocus=false;d.element.find("."+l).removeClass(p)}).on(w+i,function(){d.preventFocus=true})},events:[r],options:{name:"ButtonGroup",selection:"single",index:-1,enable:true},current:function(){return this.element.find("."+o)},_renderItems:function(b){var d=this;b.forEach(function(b){var e=a(x.item({image:b.imageUrl?x.image:x.empty,icon:!b.imageUrl&&(b.iconClass||b.icon)?x.icon:x.empty,iconClass:b.iconClass||"k-icon k-i-"+b.icon,item:b,text:b.text?b.encoded===false?b.text:c.htmlEncode(b.text):""}));if(b.attributes){e.attr(b.attributes)}if(b.iconClass||b.icon||b.imageUrl){e.addClass(b.text?"k-button-icontext":"k-button-icon")}e.appendTo(d.element)})},_focus:function(){var b=a(this.element);if(this.preventFocus){return}if(b.find("."+o).length){b.find("."+o).first().focus().addClass(p)}else{b.children().first().focus().addClass(p)}},_keyDown:function(b){var d=this;var e=a(d.element);var g=e.find("."+l);var h=e.find("."+p);var i=g.index(h);var j=c.support.isRtl(d.element);var k;if(b.keyCode===f.LEFT&&!j||b.keyCode===f.RIGHT&&j){h.removeClass(p);k=i===0?g.eq(g.length-1):a(g[i-1]);k.focus().addClass(p);b.preventDefault()}else if(b.keyCode===f.LEFT&&j||b.keyCode===f.RIGHT&&!j){h.removeClass(p);k=i+1===g.length?g.eq(0):a(g[i+1]);k.focus().addClass(p);b.preventDefault()}else if(b.keyCode===f.ENTER||b.keyCode===f.SPACEBAR){d._select(h);b.preventDefault()}},select:function(c){var d=this,e,f=-1;if(c===b||c===-1){return}d.element.find("."+l).removeClass(p);if(typeof c==="number"){f=c;c=d.element.children().eq(c)}else if(c.nodeType){c=a(c);f=c.index()}if(d.options.selection==="multiple"){e=c.attr("aria-pressed")==="true";c.attr("aria-pressed",!e).toggleClass(o);if(d.selectedIndices.indexOf(f)===-1){d.selectedIndices.push(f)}else{d.selectedIndices.splice(d.selectedIndices.indexOf(f),1)}}else{d.selectedIndices=[];d.current().attr("aria-pressed",false).removeClass(o);c.attr("aria-pressed",true).addClass(o);d.selectedIndices.push(f)}d.trigger(r,{indices:d.selectedIndices})},badge:function(a,b){var d=this.element;var e=!isNaN(a)?d.children().eq(a):d.find(a);var f=b||b===0;var g;if(!e.length){return}g=e.children(".k-badge").eq(0);if(!g.length&&f){y(c.htmlEncode(b),e);return c.htmlEncode(b)}if(f){g.html(c.htmlEncode(b))}else if(b===false){g.empty().remove();return}return g.html()},enable:function(a){if(typeof a=="undefined"){a=true}this.element.attr("aria-disabled",!a).toggleClass(q,!a);this._enable=this.options.enable=a},destroy:function(){var a=this;a.element.off(i);e.fn.destroy.call(a)},_updateClasses:function(b){var d=c.attrValue(b,"icon");var e=c.attrValue(b,"badge");var f=b.find("img").addClass("k-image");var g=true;b.attr("aria-pressed",false).attr("role","button").addClass(l);if(b.is("[disabled]")||b.hasClass(q)){b.addClass(q).attr("aria-disabled",true).removeAttr("disabled")}if(b.is("."+o)){b.removeClass(o);if(!b.hasClass(q)&&this.options.selection==="single"||this.options.selection==="multiple"){this.select(b[0])}}if(!f[0]&&d){b.prepend(a(x.icon("k-icon k-i-"+d)))}b.contents().filter(function(){return!a(this).hasClass("k-icon")&&!a(this).hasClass("k-image")}).each(function(){if(this.nodeType==1||this.nodeType==3&&a.trim(this.nodeValue).length>0){g=false}});if(f[0]||d){b.addClass(g?n:m)}if(e||e===0){y(e,b)}},_click:function(b){var c=a(b.target).closest("."+l);if(b.isDefaultPrevented()){return}this._select(c)},_select:function(a){var b=a;this.element.find("."+l).removeClass(p);if(!this._enable||b.is("."+q)){b.addClass(p);return}this.select(a[0]);b.addClass(p)}});d.plugin(z)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.pager",["kendo.data"],a)})(function(){var a={id:"pager",name:"Pager",category:"framework",depends:["data"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=".k-i-arrow-end-left",h=".k-i-arrow-end-right",i=".k-i-arrow-60-left",j=".k-i-arrow-60-right",k="change",l=".kendoPager",m="click",n="keydown",o="disabled",p="down",q=a(document.documentElement),r=Number.MAX_VALUE,s=c.template('<a href="\\#" aria-label="#=text#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #"></span></a>');function t(a,b,d,e,f){return a({idx:b,text:d,ns:c.ns,numeric:e,title:f||""})}function u(a,b,c){return s({className:a.substring(1),text:b,wrapClassName:c||""})}function v(a,b,d,e){a.find(b).parent().attr(c.attr("page"),d).attr("tabindex",-1).toggleClass("k-state-disabled",e)}function w(a,b){v(a,g,1,b<=1)}function x(a,b){v(a,i,Math.max(1,b-1),b<=1)}function y(a,b,c){v(a,j,Math.min(c,b+1),b>=c)}function z(a,b,c){v(a,h,c,b>=c)}var A=e.extend({init:function(b,d){var o=this,q,r;e.fn.init.call(o,b,d);d=o.options;o.dataSource=c.data.DataSource.create(d.dataSource);o.linkTemplate=c.template(o.options.linkTemplate);o.selectTemplate=c.template(o.options.selectTemplate);o.currentPageTemplate=c.template(o.options.currentPageTemplate);q=o.page();r=o.totalPages();o._refreshHandler=f(o.refresh,o);o.dataSource.bind(k,o._refreshHandler);o.downEvent=c.applyEventMap(p,c.guid());if(d.previousNext){if(!o.element.find(g).length){o.element.append(u(g,d.messages.first,"k-pager-first"));w(o.element,q,r)}if(!o.element.find(i).length){o.element.append(u(i,d.messages.previous));x(o.element,q,r)}}if(d.numeric){o.list=o.element.find(".k-pager-numbers");if(!o.list.length){o.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(o.element)}}if(d.input){if(!o.element.find(".k-pager-input").length){o.element.append('<span class="k-pager-input k-label">'+d.messages.page+'<input class="k-textbox">'+c.format(d.messages.of,r)+"</span>")}o.element.on(n+l,".k-pager-input input",f(o._keydown,o))}if(d.previousNext){if(!o.element.find(j).length){o.element.append(u(j,d.messages.next));y(o.element,q,r)}if(!o.element.find(h).length){o.element.append(u(h,d.messages.last,"k-pager-last"));z(o.element,q,r)}}if(d.pageSizes){if(!o.element.find(".k-pager-sizes").length){var s=d.pageSizes.length?d.pageSizes:["all",5,10,20];var t=a.map(s,function(a){if(a.toLowerCase&&a.toLowerCase()==="all"){return"<option value='all'>"+d.messages.allPages+"</option>"}return"<option>"+a+"</option>"});a('<span class="k-pager-sizes k-label"><select/>'+d.messages.itemsPerPage+"</span>").appendTo(o.element).find("select").html(t.join("")).end().appendTo(o.element)}o.element.find(".k-pager-sizes select").val(o.pageSize());if(c.ui.DropDownList){o.element.find(".k-pager-sizes select").show().kendoDropDownList()}o.element.on(k+l,".k-pager-sizes select",f(o._change,o))}if(d.refresh){if(!o.element.find(".k-pager-refresh").length){o.element.append('<a href="#" class="k-pager-refresh k-link" title="'+d.messages.refresh+'" aria-label="'+d.messages.refresh+'"><span class="k-icon k-i-reload"></span></a>')}o.element.on(m+l,".k-pager-refresh",f(o._refreshClick,o))}if(d.info){if(!o.element.find(".k-pager-info").length){o.element.append('<span class="k-pager-info k-label" />')}}o.element.on(m+l,"a",f(o._click,o)).addClass("k-pager-wrap k-widget k-floatwrap");o.element.on(m+l,".k-current-page",f(o._toggleActive,o));if(d.autoBind){o.refresh()}c.notify(o)},destroy:function(){var a=this;e.fn.destroy.call(a);a.element.off(l);a.dataSource.unbind(k,a._refreshHandler);a._refreshHandler=null;c.destroy(a.element);a.element=a.list=null},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',currentPageTemplate:'<li class="k-current-page"><span class="k-link k-pager-nav">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{allPages:"All",display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(a){var b=this;b.dataSource.unbind(k,b._refreshHandler);b.dataSource=b.options.dataSource=a;a.bind(k,b._refreshHandler);if(b.options.autoBind){a.fetch()}},refresh:function(b){var d=this,e,f,g=1,h,i=d.page(),j="",k=d.options,l=d.pageSize(),m=d.dataSource.total(),n=d.totalPages(),p=d.linkTemplate,s=k.buttonCount;q.unbind(d.downEvent,a.proxy(d._hideList,d));if(b&&b.action=="itemchange"){return}if(k.numeric){if(i>s){h=i%s;g=h===0?i-s+1:i-h+1}f=Math.min(g+s-1,n);if(g>1){j+=t(p,g-1,"...",false,k.messages.morePages)}for(e=g;e<=f;e++){j+=t(e==i?d.selectTemplate:p,e,e,true)}if(f<n){j+=t(p,e,"...",false,k.messages.morePages)}if(j===""){j=d.selectTemplate({text:0})}j=this.currentPageTemplate({text:i})+j;d.list.removeClass("k-state-expanded").html(j)}if(k.info){if(m>0){j=c.format(k.messages.display,d.dataSource.options.endless?1:Math.min((i-1)*l+1,m),Math.min(i*l,m),m)}else{j=k.messages.empty}d.element.find(".k-pager-info").html(j)}if(k.input){d.element.find(".k-pager-input").html(d.options.messages.page+'<input class="k-textbox" aria-label="'+i+'">'+c.format(k.messages.of,n)).find("input").val(i).attr(o,m<1).toggleClass("k-state-disabled",m<1)}if(k.previousNext){w(d.element,i,n);x(d.element,i,n);y(d.element,i,n);z(d.element,i,n)}if(k.pageSizes){var u=d.element.find(".k-pager-sizes option[value='all']").length>0;var v=u&&(l===this.dataSource.total()||l==r);var A=l;if(v){l="all";A=k.messages.allPages}d.element.find(".k-pager-sizes select").val(l).attr("aria-label",l).filter("["+c.attr("role")+"=dropdownlist]").kendoDropDownList("value",l).kendoDropDownList("text",A)}},_keydown:function(a){if(a.keyCode===c.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),d=parseInt(b.val(),10);if(isNaN(d)||d<1||d>this.totalPages()){d=this.page()}b.val(d);this.page(d)}},_refreshClick:function(a){a.preventDefault();this.dataSource.read()},_change:function(a){var c=a.currentTarget.value;var d=parseInt(c,10);var e=this.dataSource;if(!isNaN(d)){e.pageSize(d)}else if((c+"").toLowerCase()=="all"){e._pageSize=b;e._take=b;e.fetch()}},_toggleActive:function(){var b=this;if(b.list.hasClass("k-state-expanded")){q.unbind(b.downEvent,a.proxy(b._hideList,b))}else{q.bind(b.downEvent,a.proxy(b._hideList,b))}b.list.toggleClass("k-state-expanded")},_hideList:function(b){var d=this,e=c.eventTarget(b);if(!a.contains(d.list[0],e)){q.unbind(d.downEvent,a.proxy(d._hideList,d));d.list.removeClass("k-state-expanded")}},_click:function(b){var d=a(b.currentTarget);b.preventDefault();if(!d.is(".k-state-disabled")){this.page(d.attr(c.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/(this.pageSize()||1))},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){if(a!==b){if(this.trigger("pageChange",{index:a})){return}this.dataSource.page(a);this.trigger(k,{index:a})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});d.plugin(A)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.notification",["kendo.core","kendo.popup"],a)})(function(){var a={id:"notification",name:"Notification",category:"web",description:"The Notification widget displays user alerts.",depends:["core","popup"],features:[{id:"notification-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=a.extend,g=window.setTimeout,h="click",i="show",j="hide",k="k-notification",l=".k-notification-wrap .k-i-close",m="k-hiding",n="info",o="success",p="warning",q="error",r="top",s="left",t="bottom",u="right",v="up",w=".kendoNotification",x='<div class="k-widget k-popup k-notification"></div>',y='<div class="k-notification-wrap">'+'<span class="k-icon k-i-#=typeIcon#" title="#=typeIcon#"></span>'+"#=content#"+'<span class="k-icon k-i-close" title="Hide"></span>'+"</div>",z=y.replace("#=content#","#:content#");var A=d.extend({init:function(b,e){var f=this;d.fn.init.call(f,b,e);e=f.options;if(!e.appendTo||!a(e.appendTo).is(b)){f.element.hide()}f._compileTemplates(e.templates);f._guid="_"+c.guid();f._isRtl=c.support.isRtl(b);f._compileStacking(e.stacking,e.position.top,e.position.left);c.notify(f)},events:[i,j],options:{name:"Notification",position:{pinned:true,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:true,button:false,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:true}}},_compileTemplates:function(b){var d=this;var e=c.template;d._compiled={};a.each(b,function(b,c){d._compiled[c.type]=e(c.template||a("#"+c.templateId).html())});d._defaultCompiled=e(y);d._safeCompiled=e(z)},_getCompiled:function(a,b){var c=b?this._safeCompiled:this._defaultCompiled;return a?this._compiled[a]||c:c},_compileStacking:function(a,b,c){var d=this,e={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},f=c!==null?s:u,g,h;switch(a){case"down":g=t+" "+f;h=r+" "+f;delete e.paddingBottom;break;case u:g=r+" "+u;h=r+" "+s;delete e.paddingRight;break;case s:g=r+" "+s;h=r+" "+u;delete e.paddingLeft;break;case v:g=r+" "+f;h=t+" "+f;delete e.paddingTop;break;default:if(b!==null){g=t+" "+f;h=r+" "+f;delete e.paddingBottom}else{g=r+" "+f;h=t+" "+f;delete e.paddingTop}break}d._popupOrigin=g;d._popupPosition=h;d._popupPaddings=e},_attachPopupEvents:function(a,b){var c=this,d=a.allowHideAfter,e=!isNaN(d)&&d>0,f;function i(a){a.on(h+w,function(){c._hidePopup(b)})}if(a.hideOnClick){b.bind("activate",function(){if(e){g(function(){i(b.element)},d)}else{i(b.element)}})}else if(a.button){f=b.element.find(l);if(e){g(function(){i(f)},d)}else{i(f)}}},_showPopup:function(b,d){var e=this,h=d.autoHideAfter,i=d.position.left,j=d.position.top,k,n;n=a("."+e._guid+":not(."+m+")").last();k=new c.ui.Popup(b,{anchor:n[0]?n:document.body,origin:e._popupOrigin,position:e._popupPosition,animation:d.animation,modal:true,collision:"",isRtl:e._isRtl,close:function(){e._triggerHide(this.element)},deactivate:function(a){a.sender.element.off(w);a.sender.element.find(l).off(w);a.sender.destroy()}});e._attachPopupEvents(d,k);b.removeClass("k-group k-reset");if(n[0]){k.open()}else{if(i===null){i=a(window).width()-b.width()-d.position.right}if(j===null){j=a(window).height()-b.height()-d.position.bottom}k.open(i,j)}k.wrapper.addClass(e._guid).css(f({margin:0,zIndex:10050},e._popupPaddings));if(d.position.pinned){k.wrapper.css("position","fixed");if(n[0]){e._togglePin(k.wrapper,true)}}else if(!n[0]){e._togglePin(k.wrapper,false)}if(h>0){g(function(){e._hidePopup(k)},h)}},_hidePopup:function(a){a.wrapper.addClass(m);a.close()},_togglePin:function(b,c){var d=a(window),e=c?-1:1;b.css({top:parseInt(b.css(r),10)+e*d.scrollTop(),left:parseInt(b.css(s),10)+e*d.scrollLeft()})},_attachStaticEvents:function(a,b){var c=this,d=a.allowHideAfter,f=!isNaN(d)&&d>0;function i(a){a.on(h+w,e(c._hideStatic,c,b))}if(a.hideOnClick){if(f){g(function(){i(b)},d)}else{i(b)}}else if(a.button){if(f){g(function(){i(b.find(l))},d)}else{i(b.find(l))}}},_showStatic:function(a,b){var c=this,d=b.autoHideAfter,e=b.animation,f=b.stacking==v||b.stacking==s?"prependTo":"appendTo";a.removeClass("k-popup").addClass(c._guid)[f](b.appendTo).hide().kendoAnimate(e.open||false);c._attachStaticEvents(b,a);if(d>0){g(function(){c._hideStatic(a)},d)}},_hideStatic:function(a){a.kendoAnimate(f(this.options.animation.close||false,{complete:function(){a.off(w).find(l).off(w);a.remove()}}));this._triggerHide(a)},_triggerHide:function(a){this.trigger(j,{element:a});this.angular("cleanup",function(){return{elements:a}})},show:function(d,e,g){var h=this,j=h.options,l=a(x),m,o;if(!e){e=n}if(d!==null&&d!==b&&d!==""){if(c.isFunction(d)){d=d()}o={typeIcon:e,content:""};if(a.isPlainObject(d)){m=f(o,d)}else{m=f(o,{content:d})}l.addClass(k+"-"+e).toggleClass(k+"-button",j.button).attr("data-role","alert").css({width:j.width,height:j.height}).append(h._getCompiled(e,g)(m));h.angular("compile",function(){return{elements:l,data:[{dataItem:m}]}});if(a(j.appendTo)[0]){h._showStatic(l,j)}else{h._showPopup(l,j)}h.trigger(i,{element:l})}return h},showText:function(a,b){this.show(a,b,true)},info:function(a){return this.show(a,n)},success:function(a){return this.show(a,o)},warning:function(a){return this.show(a,p)},error:function(a){return this.show(a,q)},hide:function(){var b=this,c=b.getNotifications();if(b.options.appendTo){c.each(function(c,d){b._hideStatic(a(d))})}else{c.each(function(c,d){var e=a(d).data("kendoPopup");if(e){b._hidePopup(e)}})}return b},getNotifications:function(){var b=this,c=a("."+b._guid+":not(."+m+")");if(b.options.appendTo){return c}else{return c.children("."+k)}},setOptions:function(a){var c=this,e;d.fn.setOptions.call(c,a);e=c.options;if(a.templates!==b){c._compileTemplates(e.templates)}if(a.stacking!==b||a.position!==b){c._compileStacking(e.stacking,e.position.top,e.position.left)}},destroy:function(){d.fn.destroy.call(this);this.getNotifications().off(w).find(l).off(w)}});c.ui.plugin(A)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.tooltip",["kendo.core","kendo.popup"],a)})(function(){var a={id:"tooltip",name:"Tooltip",category:"web",description:"The Tooltip widget displays a popup hint for a given html element.",depends:["core","popup"],features:[{id:"tooltip-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=c.ui.Popup,f=c.isFunction,g=a.isPlainObject,h=a.extend,i=a.proxy,j=a(document),k=c.isLocalUrl,l="_tt_active",m="aria-describedby",n="show",o="hide",p="error",q="contentLoad",r="requestStart",s="k-content-frame",t='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close" title="Close"></a></div> #}#'+'<div class="k-tooltip-content"></div>'+'#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#'+"</div>",u=c.template("<iframe frameborder='0' class='"+s+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),v=".kendoTooltip",w={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},x={bottom:"n",top:"s",left:"e",right:"w",center:"n"},y={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},z=function(a){return a.target.data(c.ns+"title")};function A(a){while(a.length){if(B(a)){break}a=a.parent()}}function B(a){var b=a.data(c.ns+"title");if(b){a.attr("title",b);a.removeData(c.ns+"title");return true}}function C(a){var b=a.attr("title");if(b){a.data(c.ns+"title",b);a.attr("title","");return true}}function D(a){while(a.length&&!a.is("body")){if(C(a)){break}a=a.parent()}}var E=d.extend({init:function(a,b){var c=this,e;d.fn.init.call(c,a,b);e=c.options.position.match(/left|right/)?"horizontal":"vertical";c.dimensions=y[e];c._documentKeyDownHandler=i(c._documentKeyDown,c);c.element.on(c.options.showOn+v,c.options.filter,i(c._showOn,c));if(!this._isShownOnFocus()){c.element.on("mouseenter"+v,c.options.filter,i(c._mouseenter,c))}if(this.options.autoHide&&!this._isShownOnFocus()){c.element.on("mouseleave"+v,c.options.filter,i(c._mouseleave,c))}if(this.options.autoHide&&this._isShownOnFocus()){c.element.on("blur"+v,c.options.filter,i(c._blur,c))}},options:{name:"Tooltip",filter:"",content:z,showAfter:100,callout:true,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{duration:40,hide:true}}},events:[n,o,q,p,r],_isShownOnFocus:function(){return this.options.showOn&&this.options.showOn.match(/focus/)},_mouseenter:function(b){D(a(b.currentTarget))},_showOn:function(b){var c=this;var d=a(b.currentTarget);if(c.options.showOn&&c.options.showOn.match(/click/)){c._show(d)}else if(c._isShownOnFocus()){D(d);c._show(d)}else{clearTimeout(c.timeout);c.timeout=setTimeout(function(){c._show(d)},c.options.showAfter)}},_appendContent:function(a){var b=this,d=b.options.content,e=b.content,h=b.options.iframe,i;if(g(d)&&d.url){if(!("iframe"in b.options)){h=!k(d.url)}b.trigger(r,{options:d,target:a});if(!h){e.empty();c.ui.progress(e,true);b._ajaxRequest(d)}else{e.hide();i=e.find("."+s)[0];if(i){i.src=d.url||i.src}else{e.html(u({content:d}))}e.find("."+s).off("load"+v).on("load"+v,function(){b.trigger(q);e.show()})}}else if(d&&f(d)){d=d({sender:this,target:a});e.html(d||"")}else{e.html(d)}b.angular("compile",function(){return{elements:e}})},_ajaxRequest:function(a){var b=this;jQuery.ajax(h({type:"GET",dataType:"html",cache:false,error:function(a,d){c.ui.progress(b.content,false);b.trigger(p,{status:d,xhr:a})},success:i(function(a){c.ui.progress(b.content,false);b.content.html(a);b.trigger(q)},b)},a))},_documentKeyDown:function(a){if(a.keyCode===c.keys.ESC){this.hide()}},refresh:function(){var a=this,b=a.popup;if(b&&b.options.anchor){a._appendContent(b.options.anchor)}},hide:function(){if(this.popup){this.popup.close()}},show:function(a){a=a||this.element;D(a);this._show(a)},_show:function(a){var b=this,c=b.target();if(!b.popup){b._initPopup()}if(c&&c[0]!=a[0]){b.popup.close();b.popup.element.kendoStop(true,true)}if(!c||c[0]!=a[0]){b._appendContent(a);b.popup.options.anchor=a}b.popup.one("deactivate",function(){A(a);a.removeAttr(m);this.element.removeAttr("id").attr("aria-hidden",true);j.off("keydown"+v,b._documentKeyDownHandler)});b.popup.open()},_initPopup:function(){var b=this,d=b.options,f=a(c.template(t)({callout:d.callout&&d.position!=="center",dir:x[d.position],autoHide:d.autoHide}));b.popup=new e(f,h({activate:function(){var a=this.options.anchor,c=a[0].id||b.element[0].id;if(c){a.attr(m,c+l);this.element.attr("id",c+l)}this.element.removeAttr("aria-hidden");j.on("keydown"+v,b._documentKeyDownHandler);b.trigger(n)},close:function(){b.trigger(o)},copyAnchorStyles:false,animation:d.animation},w[d.position]));f.css({width:d.width,height:d.height});b.content=f.find(".k-tooltip-content");b.arrow=f.find(".k-callout");if(d.autoHide&&!this._isShownOnFocus()){f.on("mouseleave"+v,i(b._mouseleave,b))}else{f.on("click"+v,".k-tooltip-button",i(b._closeButtonClick,b))}},_closeButtonClick:function(a){a.preventDefault();this.hide()},_mouseleave:function(a){this._closePopup(a.currentTarget);clearTimeout(this.timeout)},_blur:function(a){this._closePopup(a.currentTarget)},_closePopup:function(b){if(this.popup){this.popup.close()}else{A(a(b))}},target:function(){if(this.popup){return this.popup.options.anchor}return null},destroy:function(){var a=this.popup;if(a){a.element.off(v);a.destroy()}clearTimeout(this.timeout);this.element.off(v);j.off("keydown"+v,this._documentKeyDownHandler);d.fn.destroy.call(this)}});c.ui.plugin(E)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.list",["kendo.data","kendo.popup"],a)})(function(){var a={id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true};(function(a,b){var c=window.kendo,d=c.ui,e=c._outerHeight,f=d.Widget,g=c.keys,h=c.support,i=c.htmlEncode,j=c._activeElement,k=c._outerWidth,l=c.data.ObservableArray,m="id",n="change",o="k-state-focused",p="k-state-hover",q="k-i-loading",r=".k-group-header",s="_label",t="open",u="close",v="cascade",w="select",x="selected",y="requestStart",z="requestEnd",A=a.extend,B=a.proxy,C=a.isArray,D=h.browser,E="k-hidden",F="width",G=D.msie,H=G&&D.version<9,I=/"/g,J={ComboBox:"DropDownList",DropDownList:"ComboBox"};var K=c.ui.DataBoundWidget.extend({init:function(b,c){var d=this,e=d.ns,g;f.fn.init.call(d,b,c);b=d.element;c=d.options;d._isSelect=b.is(w);if(d._isSelect&&d.element[0].length){if(!c.dataSource){c.dataTextField=c.dataTextField||"text";c.dataValueField=c.dataValueField||"value"}}d.ul=a('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":true});d.list=a("<div class='k-list-container'/>").append(d.ul).on("mousedown"+e,B(d._listMousedown,d));g=b.attr(m);if(g){d.list.attr(m,g+"-list");d.ul.attr(m,g+"_listbox")}d._header();d._noData();d._footer();d._accessors();d._initValue()},options:{valuePrimitive:false,footerTemplate:"",headerTemplate:"",noDataTemplate:"No data found."},setOptions:function(a){f.fn.setOptions.call(this,a);if(a&&a.enable!==b){a.enabled=a.enable}this._header();this._noData();this._footer();this._renderFooter();this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false})},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)})},_header:function(){var b=this;var d=a(b.header);var e=b.options.headerTemplate;this._angularElement(d,"cleanup");c.destroy(d);d.remove();if(!e){b.header=null;return}var f=typeof e!=="function"?c.template(e):e;d=a(f({}));b.header=d[0]?d:null;b.list.prepend(d);this._angularElement(b.header,"compile")},_noData:function(){var b=this;var d=a(b.noData);var e=b.options.noDataTemplate;b.angular("cleanup",function(){return{elements:d}});c.destroy(d);d.remove();if(!e){b.noData=null;return}b.noData=a('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(b.list);b.noDataTemplate=typeof e!=="function"?c.template(e):e},_footer:function(){var b=this;var d=a(b.footer);var e=b.options.footerTemplate;this._angularElement(d,"cleanup");c.destroy(d);d.remove();if(!e){b.footer=null;return}b.footer=a('<div class="k-footer"></div>').appendTo(b.list);b.footerTemplate=typeof e!=="function"?c.template(e):e},_listOptions:function(b){var d=this;var e=d.options;var f=e.virtual;var g={change:B(d._listChange,d)};var h=B(d._listBound,d);f=typeof f==="object"?f:{};b=a.extend({autoBind:false,selectable:true,dataSource:d.dataSource,click:B(d._click,d),activate:B(d._activateItem,d),deactivate:B(d._deactivateItem,d),dataBinding:function(){d.trigger("dataBinding")},dataBound:h,height:e.height,dataValueField:e.dataValueField,dataTextField:e.dataTextField,groupTemplate:e.groupTemplate,fixedGroupTemplate:e.fixedGroupTemplate,template:e.template},b,f,g);if(!b.template){b.template="#:"+c.expr(b.dataTextField,"data")+"#"}if(e.$angular){b.$angular=e.$angular}return b},_initList:function(){var a=this;var b=a._listOptions({selectedItemChange:B(a._listChange,a)});if(!a.options.virtual){a.listView=new c.ui.StaticList(a.ul,b)}else{a.listView=new c.ui.VirtualList(a.ul,b)}a.listView.bind("listBound",B(a._listBound,a));a._setListValue()},_setListValue:function(a){a=a||this.options.value;if(a!==b){this.listView.value(a).done(B(this._updateSelectionState,this))}},_updateSelectionState:a.noop,_listMousedown:function(a){if(!this.filterInput||this.filterInput[0]!==a.target){a.preventDefault()}},_isFilterEnabled:function(){var a=this.options.filter;return a&&a!=="none"},_hideClear:function(){var a=this;if(a._clear){a._clear.addClass(E)}},_showClear:function(){if(this._clear){this._clear.removeClass(E)}},_clearValue:function(){this._clearText();this._accessor("");this.listView.value([]);if(this._isFilterEnabled()&&!this.options.enforceMinLength){if(this._isSelect){this._customOption=b}this._filter({word:"",open:false})}this._change()},_clearText:function(){this.text("")},_clearFilter:function(){if(!this.options.virtual){this.listView.bound(false)}this._filterSource()},_filterSource:function(b,c){var d=this;var e=d.options;var f=d.dataSource;var g=A({},f.filter()||{});var h=b||g.filters&&g.filters.length&&!b;var i=S(g,e.dataTextField);if((b||i)&&d.trigger("filtering",{filter:b})){return}var j={filters:[],logic:"and"};if(R(b)&&a.trim(b.value).length){j.filters.push(b)}if(R(g)){if(j.logic===g.logic){j.filters=j.filters.concat(g.filters)}else{j.filters.push(g)}}if(d._cascading){this.listView.setDSFilter(j)}var k=A({},{page:h?1:f.page(),pageSize:h?f.options.pageSize:f.pageSize(),sort:f.sort(),filter:f.filter(),group:f.group(),aggregate:f.aggregate()},{filter:j});return f[c?"read":"query"](f._mergeState(k))},_angularElement:function(a,b){if(!a){return}this.angular(b,function(){return{elements:a}})},_renderNoData:function(){var a=this;var b=a.noData;if(!b){return}this._angularElement(b,"cleanup");b.children(":first").html(a.noDataTemplate({instance:a}));this._angularElement(b,"compile")},_toggleNoData:function(b){a(this.noData).toggle(b)},_toggleHeader:function(a){var b=this.listView.content.prev(r);b.toggle(a)},_renderFooter:function(){var a=this;var b=a.footer;if(!b){return}this._angularElement(b,"cleanup");b.html(a.footerTemplate({instance:a}));this._angularElement(b,"compile")},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var a=this,b=a.options.value;if(b!==null){a.element.val(b)}else{b=a._accessor();a.options.value=b}a._old=b},_ignoreCase:function(){var a=this,b=a.dataSource.reader.model,c;if(b&&b.fields){c=b.fields[a.options.dataTextField];if(c&&c.type&&c.type!=="string"){a.options.ignoreCase=false}}},_focus:function(a){return this.listView.focus(a)},_filter:function(a){var b=this;var c=b.options;var d=c.ignoreCase;var e=c.dataTextField;var f={value:d?a.word.toLowerCase():a.word,field:e,operator:c.filter,ignoreCase:d};b._open=a.open;b._filterSource(f)},_clearButton:function(){var b=this;var c=b.options.messages&&b.options.messages.clear?b.options.messages.clear:"clear";if(!b._clear){b._clear=a('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+c+'"></span>').attr({role:"button",tabIndex:-1})}if(!b.options.clearButton){b._clear.remove()}this._hideClear()},search:function(b){var c=this.options;b=typeof b==="string"?b:this._inputValue();clearTimeout(this._typingTimeout);if(!c.enforceMinLength&&!b.length||b.length>=c.minLength){this._state="filter";if(!this._isFilterEnabled()){this._searchByWord(b)}else{if(a.trim(b).length&&this.listView){this.listView._emptySearch=false}else{this.listView._emptySearch=true}this._filter({word:b,open:true})}}},current:function(a){return this._focus(a)},items:function(){return this.ul[0].children},destroy:function(){var a=this;var b=a.ns;f.fn.destroy.call(a);a._unbindDataSource();a.listView.destroy();a.list.off(b);a.popup.destroy();
if(a._form){a._form.off("reset",a._resetHandler)}},dataItem:function(c){var d=this;if(c===b){return d.listView.selectedDataItems()[0]}if(typeof c!=="number"){if(d.options.virtual){return d.dataSource.getByUid(a(c).data("uid"))}c=a(d.items()).index(c)}return d.dataSource.flatView()[c]},_activateItem:function(){var a=this.listView.focus();if(a){this._focused.add(this.filterInput).attr("aria-activedescendant",a.attr("id"))}},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var a=this;var b=a.element;var d=a.options;var e=c.getter;var f=b.attr(c.attr("text-field"));var g=b.attr(c.attr("value-field"));if(!d.dataTextField&&f){d.dataTextField=f}if(!d.dataValueField&&g){d.dataValueField=g}a._text=e(d.dataTextField);a._value=e(d.dataValueField)},_aria:function(a){var c=this,d=c.options,e=c._focused.add(c.filterInput);if(d.suggest!==b){e.attr("aria-autocomplete",d.suggest?"both":"list")}a=a?a+" "+c.ul[0].id:c.ul[0].id;e.attr("aria-owns",a);c.ul.attr("aria-live",!c._isFilterEnabled()?"off":"polite");c._ariaLabel()},_ariaLabel:function(){var b=this;var c=b._focused;var d=b.element;var e=d.attr("id");var f=a('label[for="'+e+'"]');var g=d.attr("aria-label");var h=d.attr("aria-labelledby");if(c===d){return}if(g){c.attr("aria-label",g)}else if(h){c.attr("aria-labelledby",h)}else if(f.length){var i=f.attr("id")||b._generateLabelId(f,e);c.attr("aria-labelledby",i)}},_generateLabelId:function(a,b){var c=b+s;a.attr("id",c);return c},_blur:function(){var a=this;a._change();a.close()},_change:function(){var a=this;var c=a.selectedIndex;var d=a.options.value;var e=a.value();var f;if(a._isSelect&&!a.listView.bound()&&d){e=d}if(e!==L(a._old,typeof e)){f=true}else if(a._valueBeforeCascade!==b&&a._valueBeforeCascade!==L(a._old,typeof a._valueBeforeCascade)&&a._userTriggered){f=true}else if(c!==b&&c!==a._oldIndex&&!a.listView.isFiltered()){f=true}if(f){if(a._old===null||e===""){a._valueBeforeCascade=a._old=e}else{a._valueBeforeCascade=a._old=a.dataItem()?a.dataItem()[a.options.dataValueField]||a.dataItem():null}a._oldIndex=c;if(!a._typing){a.element.trigger(n)}a.trigger(n)}a.typing=false},_data:function(){return this.dataSource.view()},_enable:function(){var a=this,c=a.options,d=a.element.is("[disabled]");if(c.enable!==b){c.enabled=c.enable}if(!c.enabled||d){a.enable(false)}else{a.readonly(a.element.is("[readonly]"))}},_dataValue:function(a){var c=this._value(a);if(c===b){c=this._text(a)}return c},_offsetHeight:function(){var b=0;var c=this.listView.content.prevAll(":visible");c.each(function(){var c=a(this);b+=e(c,true)});return b},_height:function(b){var c=this;var d=c.list;var f=c.options.height;var g=c.popup.visible();var h;var i;var j;if(b||c.options.noDataTemplate){i=d.add(d.parent(".k-animation-container")).show();if(!d.is(":visible")){i.hide();return}f=c.listView.content[0].scrollHeight>f?f:"auto";i.height(f);if(f!=="auto"){h=c._offsetHeight();j=e(a(c.footer))||0;f=f-h-j}c.listView.content.height(f);if(!g){i.hide()}}return f},_openHandler:function(a){this._adjustListWidth();if(this.trigger(t)){a.preventDefault()}else{this._focused.attr("aria-expanded",true);this.ul.attr("aria-hidden",false)}},_adjustListWidth:function(){var a=this,b=a.list,c=b[0].style.width,d=a.wrapper,e,f;if(!b.data(F)&&c){return}e=window.getComputedStyle?window.getComputedStyle(d[0],null):0;f=parseFloat(e&&e.width)||k(d);if(e&&D.msie){f+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)}if(b.css("box-sizing")!=="border-box"){c=f-(k(b)-b.width())}else{c=f}b.css({fontFamily:d.css("font-family"),width:a.options.autoWidth?"auto":c,minWidth:c,whiteSpace:a.options.autoWidth?"nowrap":"normal"}).data(F,c);return true},_closeHandler:function(a){if(this.trigger(u)){a.preventDefault()}else{this._focused.attr("aria-expanded",false);this.ul.attr("aria-hidden",true)}},_focusItem:function(){var a=this.listView;var c=!a.focus();var d=O(a.select());if(d===b&&this.options.highlightFirst&&c){d=0}if(d!==b){a.focus(d)}else if(c){a.scrollToIndex(0)}},_calculateGroupPadding:function(a){var b=this.ul.children(".k-first:first");var d=this.listView.content.prev(r);var e=0;if(d[0]&&d[0].style.display!=="none"){if(a!=="auto"){e=c.support.scrollbar()}e+=parseFloat(b.css("border-right-width"),10)+parseFloat(b.children(".k-group").css("padding-right"),10);d.css("padding-right",e)}},_calculatePopupHeight:function(a){var b=this._height(this.dataSource.flatView().length||a);this._calculateGroupPadding(b)},_resizePopup:function(a){if(this.options.virtual){return}if(!this.popup.element.is(":visible")){this.popup.one("open",function(a){return B(function(){this._calculatePopupHeight(a)},this)}.call(this,a))}else{this._calculatePopupHeight(a)}},_popup:function(){var a=this;a.popup=new d.Popup(a.list,A({},a.options.popup,{anchor:a.wrapper,open:B(a._openHandler,a),close:B(a._closeHandler,a),animation:a.options.animation,isRtl:h.isRtl(a.wrapper),autosize:a.options.autoWidth}))},_makeUnselectable:function(){if(H){this.list.find("*").not(".k-textbox").attr("unselectable","on")}},_toggleHover:function(b){a(b.currentTarget).toggleClass(p,b.type==="mouseenter")},_toggle:function(a,c){var d=this;var e=h.mobileOS&&(h.touch||h.MSPointers||h.pointers);a=a!==b?a:!d.popup.visible();if(!c&&!e&&d._focused[0]!==j()){d._prevent=true;d._focused.focus();d._prevent=false}d[a?t:u]()},_triggerCascade:function(){var a=this;if(!a._cascadeTriggered||a.value()!==L(a._cascadedValue,typeof a.value())){a._cascadedValue=a.value();a._cascadeTriggered=true;a.trigger(v,{userTriggered:a._userTriggered})}},_triggerChange:function(){if(this._valueBeforeCascade!==this.value()){this.trigger(n)}},_unbindDataSource:function(){var a=this;a.dataSource.unbind(y,a._requestStartHandler).unbind(z,a._requestEndHandler).unbind("error",a._errorHandler)},requireValueMapper:function(a,b){var c=(a.value instanceof Array?a.value.length:a.value)||(b instanceof Array?b.length:b);if(c&&a.virtual&&typeof a.virtual.valueMapper!=="function"){throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}}});function L(a,c){if(a!==b&&a!==""&&a!==null){if(c==="boolean"){a=Boolean(a)}else if(c==="number"){a=Number(a)}else if(c==="string"){a=a.toString()}}return a}A(K,{inArray:function(a,b){var c,d,e=b.children;if(!a||a.parentNode!==b){return-1}for(c=0,d=e.length;c<d;c++){if(a===e[c]){return c}}return-1},unifyType:L});c.ui.List=K;d.Select=K.extend({init:function(a,b){K.fn.init.call(this,a,b);this._initial=this.element.val()},setDataSource:function(a){var b=this;var c;b.options.dataSource=a;b._dataSource();if(b.listView.bound()){b._initialIndex=null;b.listView._current=null}b.listView.setDataSource(b.dataSource);if(b.options.autoBind){b.dataSource.fetch()}c=b._parentWidget();if(c){b._cascadeSelect(c)}},close:function(){this.popup.close()},select:function(a){var c=this;if(a===b){return c.selectedIndex}else{return c._select(a).done(function(){c._cascadeValue=c._old=c._accessor();c._oldIndex=c.selectedIndex})}},_accessor:function(a,b){return this[this._isSelect?"_accessorSelect":"_accessorInput"](a,b)},_accessorInput:function(a){var c=this.element[0];if(a===b){return c.value}else{if(a===null){a=""}c.value=a}},_accessorSelect:function(a,c){var d=this.element[0];var e;if(a===b){return P(d).value||""}P(d).selected=false;if(c===b){c=-1}e=a!==null&&a!=="";if(e&&c==-1){this._custom(a)}else{if(a){d.value=a}else{d.selectedIndex=c}}},_syncValueAndText:function(){return true},_custom:function(b){var c=this;var d=c.element;var e=c._customOption;if(!e){e=a("<option/>");c._customOption=e;d.append(e)}e.text(b);e[0].selected=true},_hideBusy:function(){var a=this;clearTimeout(a._busy);a._arrowIcon.removeClass(q);a._focused.attr("aria-busy",false);a._busy=null;a._showClear()},_showBusy:function(a){var b=this;if(a.isDefaultPrevented()){return}b._request=true;if(b._busy){return}b._busy=setTimeout(function(){if(b._arrowIcon){b._focused.attr("aria-busy",true);b._arrowIcon.addClass(q);b._hideClear()}},100)},_requestEnd:function(){this._request=false;this._hideBusy()},_dataSource:function(){var b=this,d=b.element,e=b.options,f=e.dataSource||{},g;f=a.isArray(f)?{data:f}:f;if(b._isSelect){g=d[0].selectedIndex;if(g>-1){e.index=g}f.select=d;f.fields=[{field:e.dataTextField},{field:e.dataValueField}]}if(b.dataSource){b._unbindDataSource()}else{b._requestStartHandler=B(b._showBusy,b);b._requestEndHandler=B(b._requestEnd,b);b._errorHandler=B(b._hideBusy,b)}b.dataSource=c.data.DataSource.create(f).bind(y,b._requestStartHandler).bind(z,b._requestEndHandler).bind("error",b._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(a){var b=this;var c=b.listView;var d=a.keyCode;var e=d===g.DOWN;var f;var h;var i;if(d===g.UP||e){if(a.altKey){b.toggle(e)}else{if(!c.bound()&&!b.ul[0].firstChild){if(!b._fetch){b.dataSource.one(n,function(){b._fetch=false;b._move(a)});b._fetch=true;b._filterSource()}a.preventDefault();return true}i=b._focus();if(!b._fetch&&(!i||i.hasClass("k-state-selected"))){if(e){b._nextItem();if(!b._focus()){b._lastItem()}}else{b._prevItem();if(!b._focus()){b._firstItem()}}}f=c.dataItemByIndex(c.getElementIndex(b._focus()));if(b.trigger(w,{dataItem:f,item:b._focus()})){b._focus(i);return}b._select(b._focus(),true).done(function(){if(!b.popup.visible()){b._blur()}if(b._cascadedValue===null){b._cascadedValue=b.value()}else{b._cascadedValue=b.dataItem()?b.dataItem()[b.options.dataValueField]||b.dataItem():null}})}a.preventDefault();h=true}else if(d===g.ENTER||d===g.TAB){if(b.popup.visible()){a.preventDefault()}i=b._focus();f=b.dataItem();if(!b.popup.visible()&&(!f||b.text()!==b._text(f))){i=null}var k=b.filterInput&&b.filterInput[0]===j();if(i){f=c.dataItemByIndex(c.getElementIndex(i));var l=true;if(f){l=b._value(f)!==K.unifyType(b.value(),typeof b._value(f))}if(l&&b.trigger(w,{dataItem:f,item:i})){return}b._select(i)}else if(b.input){if(b._syncValueAndText()||b._isSelect){b._accessor(b.input.val())}b.listView.value(b.input.val())}if(b._focusElement){b._focusElement(b.wrapper)}if(k&&d===g.TAB){b.wrapper.focusout()}else{b._blur()}b.close();h=true}else if(d===g.ESC){if(b.popup.visible()){a.preventDefault()}b.close();h=true}else if(b.popup.visible()&&(d===g.PAGEDOWN||d===g.PAGEUP)){a.preventDefault();var m=d===g.PAGEDOWN?1:-1;c.scrollWith(m*c.screenHeight());h=true}return h},_fetchData:function(){var a=this;var b=!!a.dataSource.view().length;if(a._request||a.options.cascadeFrom){return}if(!a.listView.bound()&&!a._fetch&&!b){a._fetch=true;a.dataSource.fetch().done(function(){a._fetch=false})}},_options:function(a,c,d){var e=this,f=e.element,g=f[0],h=a.length,j="",k,l,m,n,o=0;if(c){j=c}for(;o<h;o++){k="<option";l=a[o];m=e._text(l);n=e._value(l);if(n!==b){n+="";if(n.indexOf('"')!==-1){n=n.replace(I,"&quot;")}k+=' value="'+n+'"'}k+=">";if(m!==b){k+=i(m)}k+="</option>";j+=k}f.html(j);if(d!==b){g.value=d;if(g.value&&!d){g.selectedIndex=-1}}if(g.selectedIndex!==-1){k=P(g);if(k){k.setAttribute(x,x)}}},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){setTimeout(function(){b.value(b._initial)})};b._form=e.on("reset",b._resetHandler)}},_parentWidget:function(){var b=this.options.name;if(!this.options.cascadeFrom){return}var c=a("#"+this.options.cascadeFrom);var d=c.data("kendo"+b);if(!d){d=c.data("kendo"+J[b])}return d},_cascade:function(){var a=this;var b=a.options;var c=b.cascadeFrom;var d;if(c){d=a._parentWidget();if(!d){return}a._cascadeHandlerProxy=B(a._cascadeHandler,a);a._cascadeFilterRequests=[];b.autoBind=false;d.bind("set",function(){a.one("set",function(b){a._selectedValue=b.value||a._accessor()})});d.first(v,a._cascadeHandlerProxy);if(d.listView.bound()){a._toggleCascadeOnFocus();a._cascadeSelect(d)}else{d.one("dataBound",function(){a._toggleCascadeOnFocus();if(d.popup.visible()){d._focused.focus()}});if(!d.value()){a.enable(false)}}}},_toggleCascadeOnFocus:function(){var a=this;var b=a._parentWidget();var c=G?"blur":"focusout";b._focused.add(b.filterInput).bind("focus",function(){b.unbind(v,a._cascadeHandlerProxy);b.first(n,a._cascadeHandlerProxy)});b._focused.add(b.filterInput).bind(c,function(){b.unbind(n,a._cascadeHandlerProxy);b.first(v,a._cascadeHandlerProxy)})},_cascadeHandler:function(a){var b=this._parentWidget();var c=this.value();this._userTriggered=a.userTriggered;if(this.listView.bound()){this._clearSelection(b,true)}this._cascadeSelect(b,c)},_cascadeChange:function(a){var b=this;var c=b._accessor()||b._selectedValue;if(!b._cascadeFilterRequests.length){b._selectedValue=null}if(b._userTriggered){b._clearSelection(a,true)}else if(c){if(c!==b.listView.value()[0]){b.value(c)}if(!b.dataSource.view()[0]||b.selectedIndex===-1){b._clearSelection(a,true)}}else if(b.dataSource.flatView().length){b.select(b.options.index)}b.enable();b._triggerCascade();b._triggerChange();b._userTriggered=false},_cascadeSelect:function(a,c){var d=this;var e=a.dataItem();var f=e?a._value(e):null;var g=d.options.cascadeFromField||a.options.dataValueField;var h;d._valueBeforeCascade=c!==b?c:d.value();if(f||f===0){h=d.dataSource.filter()||{};S(h,g);var i=function(){var b=d._cascadeFilterRequests.shift();if(b){d.unbind("dataBound",b)}b=d._cascadeFilterRequests[0];if(b){d.first("dataBound",b)}d._cascadeChange(a)};d._cascadeFilterRequests.push(i);if(d._cascadeFilterRequests.length===1){d.first("dataBound",i)}d._cascading=true;d._filterSource({field:g,operator:"eq",value:f});d._cascading=false}else{d.enable(false);d._clearSelection(a);d._triggerCascade();d._triggerChange();d._userTriggered=false}}});var M=".StaticList";var N=c.ui.DataBoundWidget.extend({init:function(b,d){f.fn.init.call(this,b,d);this.element.attr("role","listbox").on("click"+M,"li",B(this._click,this)).on("mouseenter"+M,"li",function(){a(this).addClass(p)}).on("mouseleave"+M,"li",function(){a(this).removeClass(p)});if(this.options.selectable==="multiple"){this.element.attr("aria-multiselectable",true)}this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent();this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev();this.bound(false);this._optionID=c.guid();this._selectedIndices=[];this._view=[];this._dataItems=[];this._values=[];var e=this.options.value;if(e){this._values=a.isArray(e)?e.slice(0):[e]}this._getter();this._templates();this.setDataSource(this.options.dataSource);this._onScroll=B(function(){var a=this;clearTimeout(a._scrollId);a._scrollId=setTimeout(function(){a._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:false,selectable:true,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",n,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(b){var d=this;var e=b||{};var f;e=a.isArray(e)?{data:e}:e;e=c.data.DataSource.create(e);if(d.dataSource){d.dataSource.unbind(n,d._refreshHandler);f=d.value();d.value([]);d.bound(false);d.value(f)}else{d._refreshHandler=B(d.refresh,d)}d.setDSFilter(e.filter());d.dataSource=e.bind(n,d._refreshHandler);d._fixedHeader()},skip:function(){return this.dataSource.skip()},setOptions:function(a){f.fn.setOptions.call(this,a);this._getter();this._templates();this._render()},destroy:function(){this.element.off(M);if(this._refreshHandler){this.dataSource.unbind(n,this._refreshHandler)}clearTimeout(this._scrollId);f.fn.destroy.call(this)},dataItemByIndex:function(a){return this.dataSource.flatView()[a]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(a){var b=this.element[0].children[a];if(b){this.scroll(b)}},scrollWith:function(a){this.content.scrollTop(this.content.scrollTop()+a)},scroll:function(a){if(!a){return}if(a[0]){a=a[0]}var b=this.content[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;if(e>c){e=c}else if(g>e+f){e=g-f}b.scrollTop=e},selectedDataItems:function(a){if(a===b){return this._dataItems.slice()}this._dataItems=a;this._values=this._getValues(a)},_getValues:function(b){var c=this._valueGetter;return a.map(b,function(a){return c(a)})},focusNext:function(){var a=this.focus();if(!a){a=0}else{a=a.next()}this.focus(a)},focusPrev:function(){var a=this.focus();if(!a){a=this.element[0].children.length-1}else{a=a.prev()}this.focus(a)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(O(this.element[0].children))},focus:function(c){var d=this;var e=d._optionID;var f;if(c===b){return d._current}c=O(d._get(c));c=a(this.element[0].children[c]);if(d._current){d._current.removeClass(o).removeAttr(m);d.trigger("deactivate")}f=!!c[0];if(f){c.addClass(o);d.scroll(c);c.attr("id",e)}d._current=f?c:null;d.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():b},skipUpdate:function(a){this._skipUpdate=a},select:function(c){var d=this;var e=d.options.selectable;var f=e!=="multiple"&&e!==false;var g=d._selectedIndices;var h=[];var i=[];var j;if(c===b){return g.slice()}c=d._get(c);if(c.length===1&&c[0]===-1){c=[]}var k=a.Deferred().resolve();var l=d.isFiltered();if(l&&!f&&d._deselectFiltered(c)){return k}if(f&&!l&&a.inArray(O(c),g)!==-1){if(d._dataItems.length&&d._view.length){d._dataItems=[d._view[g[0]].item]}return k}j=d._deselect(c);i=j.removed;c=j.indices;if(c.length){if(f){c=[O(c)]}h=d._select(c)}if(h.length||i.length){d._valueComparer=null;d.trigger(n,{added:h,removed:i})}return k},removeAt:function(a){this._selectedIndices.splice(a,1);this._values.splice(a,1);this._valueComparer=null;return{position:a,dataItem:this._dataItems.splice(a,1)[0]}},setValue:function(b){b=a.isArray(b)||b instanceof l?b.slice(0):[b];this._values=b;this._valueComparer=null},value:function(c){var d=this;var e=d._valueDeferred;var f;if(c===b){return d._values.slice()}d.setValue(c);if(!e||e.state()==="resolved"){d._valueDeferred=e=a.Deferred()}if(d.bound()){f=d._valueIndices(d._values);if(d.options.selectable==="multiple"){d.select(-1)}d.select(f);e.resolve()}d._skipUpdate=false;return e},items:function(){return this.element.children(".k-item")},_click:function(b){if(!b.isDefaultPrevented()){if(!this.trigger("click",{item:a(b.currentTarget)})){this.select(b.currentTarget)}}},_valueExpr:function(a,b){var c=this;var d=0;var e;var f;var g=[];if(!c._valueComparer||c._valueType!==a){c._valueType=a;for(;d<b.length;d++){g.push(L(b[d],a))}e="for (var idx = 0; idx < "+g.length+"; idx++) {"+" if (current === values[idx]) {"+"   return idx;"+" }"+"} "+"return -1;";f=new Function("current","values",e);c._valueComparer=function(a){return f(a,g)}}return c._valueComparer},_dataItemPosition:function(a,b){var c=this._valueGetter(a);var d=this._valueExpr(typeof c,b);return d(c)},_getter:function(){this._valueGetter=c.getter(this.options.dataValueField)},_deselect:function(b){var c=this;var d=c.element[0].children;var e=c.options.selectable;var f=c._selectedIndices;var g=c._dataItems;var h=c._values;var i=[];var j=0;var k;var l,m;var n=0;b=b.slice();if(e===true||!b.length){for(;j<f.length;j++){a(d[f[j]]).removeClass("k-state-selected").attr("aria-selected",false);i.push({position:j,dataItem:g[j]})}c._values=[];c._dataItems=[];c._selectedIndices=[]}else if(e==="multiple"){for(;j<b.length;j++){l=b[j];if(!a(d[l]).hasClass("k-state-selected")){continue}for(k=0;k<f.length;k++){m=f[k];if(m===l){a(d[m]).removeClass("k-state-selected").attr("aria-selected",false);i.push({position:k+n,dataItem:g.splice(k,1)[0]});f.splice(k,1);b.splice(j,1);h.splice(k,1);n+=1;j-=1;k-=1;break}}}}return{indices:b,removed:i}},_deselectFiltered:function(b){var c=this.element[0].children;var d,e,f;var g=[];var h=0;for(;h<b.length;h++){e=b[h];d=this._view[e].item;f=this._dataItemPosition(d,this._values);if(f>-1){g.push(this.removeAt(f));a(c[e]).removeClass("k-state-selected")}}if(g.length){this.trigger(n,{added:[],removed:g});return true}return false},_select:function(b){var c=this;var d=c.element[0].children;var e=c._view;var f,g;var h=[];var i=0;if(O(b)!==-1){c.focus(b)}for(;i<b.length;i++){g=b[i];f=e[g];if(g===-1||!f){continue}f=f.item;c._selectedIndices.push(g);c._dataItems.push(f);c._values.push(c._valueGetter(f));a(d[g]).addClass("k-state-selected").attr("aria-selected",true);h.push({dataItem:f})}return h},getElementIndex:function(b){return a(b).data("offset-index")},_get:function(a){if(typeof a==="number"){a=[a]}else if(!C(a)){a=this.getElementIndex(a);a=[a!==b?a:-1]}return a},_template:function(){var a=this;var b=a.options;var d=b.template;if(!d){d=c.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+c.expr(b.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{d=c.template(d);d=function(a){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+d(a)+"</li>"}}return d},_templates:function(){var a;var b=this.options;var d={template:b.template,groupTemplate:b.groupTemplate,fixedGroupTemplate:b.fixedGroupTemplate};for(var e in d){a=d[e];if(a&&typeof a!=="function"){d[e]=c.template(a)}}this.templates=d},_normalizeIndices:function(a){var c=[];var d=0;for(;d<a.length;d++){if(a[d]!==b){c.push(a[d])}}return c},_valueIndices:function(a,b){var c=this._view;var d=0;var e;b=b?b.slice():[];if(!a.length){return[]}for(;d<c.length;d++){e=this._dataItemPosition(c[d].item,a);if(e!==-1){b[e]=d}}return this._normalizeIndices(b)},_firstVisibleItem:function(){var b=this.element[0];var c=this.content[0];var d=c.scrollTop;var e=a(b.children[0]).height();var f=Math.floor(d/e)||0;var g=b.children[f]||b.lastChild;var h=g.offsetTop<d;while(g){if(h){if(g.offsetTop+e>d||!g.nextSibling){break}g=g.nextSibling}else{if(g.offsetTop<=d||!g.previousSibling){break}g=g.previousSibling}}return this._view[a(g).data("offset-index")]},_fixedHeader:function(){if(this.isGrouped()&&this.templates.fixedGroupTemplate){this.header.show();this.content.scroll(this._onScroll)}else{this.header.hide();this.content.off("scroll",this._onScroll)}},_renderHeader:function(){var a=this.templates.fixedGroupTemplate;if(!a){return}var b=this._firstVisibleItem();if(b&&b.group){this.header.html(a(b.group))}},_renderItem:function(a){var b='<li tabindex="-1" role="option" unselectable="on" class="k-item';var c=a.item;var d=a.index!==0;var e=a.selected;if(d&&a.newGroup){b+=" k-first"}if(e){b+=" k-state-selected"}b+='" aria-selected="'+(e?"true":"false")+'" data-offset-index="'+a.index+'">';b+=this.templates.template(c);if(d&&a.newGroup){b+='<div class="k-group">'+this.templates.groupTemplate(a.group)+"</div>"}return b+"</li>"},_render:function(){var a="";var b=0;var c=0;var d;var e=[];var f=this.dataSource.view();var g=this.value();var h,i,j;var k=this.isGrouped();if(k){for(b=0;b<f.length;b++){h=f[b];i=true;for(j=0;j<h.items.length;j++){d={selected:this._selected(h.items[j],g),item:h.items[j],group:h.value,newGroup:i,index:c};e[c]=d;c+=1;a+=this._renderItem(d);i=false}}}else{for(b=0;b<f.length;b++){d={selected:this._selected(f[b],g),item:f[b],index:b};e[b]=d;a+=this._renderItem(d)}}this._view=e;this.element[0].innerHTML=a;if(k&&e.length){this._renderHeader()}},_selected:function(a,b){var c=!this.isFiltered()||this.options.selectable==="multiple";return c&&this._dataItemPosition(a,b)!==-1},setDSFilter:function(a){this._lastDSFilter=A({},a)},isFiltered:function(){if(!this._lastDSFilter){this.setDSFilter(this.dataSource.filter())}return!c.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(a){var b=this;var c=a&&a.action;var d=b.options.skipUpdateOnBind;var e=c==="itemchange";var f;b.trigger("dataBinding");b._angularItems("cleanup");b._fixedHeader();b._render();b.bound(true);if(e||c==="remove"){f=Q(b._dataItems,a.items);if(f.changed.length){if(e){b.trigger("selectedItemChange",{items:f.changed})}else{b.value(b._getValues(f.unchanged))}}}else if(b.isFiltered()||b._skipUpdate||b._emptySearch){b.focus(0);if(b._skipUpdate){b._skipUpdate=false;b._selectedIndices=b._valueIndices(b._values,b._selectedIndices)}}else if(!d&&(!c||c==="add")){b.value(b._values)}if(b._valueDeferred){b._valueDeferred.resolve()}b._angularItems("compile");b.trigger("dataBound")},bound:function(a){if(a===b){return this._bound}this._bound=a},isGrouped:function(){return(this.dataSource.group()||[]).length}});d.plugin(N);function O(a){return a[a.length-1]}function P(a){var b=a.selectedIndex;return b>-1?a.options[b]:{}}function Q(a,b){var c=b.length;var d=a.length;var e;var f;var g,h;var i=[];var j=[];if(d){for(g=0;g<d;g++){e=a[g];f=false;for(h=0;h<c;h++){if(e===b[h]){f=true;i.push({index:g,item:e});break}}if(!f){j.push(e)}}}return{changed:i,unchanged:j}}function R(b){if(!b||a.isEmptyObject(b)){return false}if(b.filters&&!b.filters.length){return false}return true}function S(b,c){var d;var e=false;if(b.filters){d=a.grep(b.filters,function(a){e=S(a,c);if(a.filters){return a.filters.length}else{return a.field!=c}});if(!e&&b.filters.length!==d.length){e=true}b.filters=d}return e}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.calendar",["kendo.core","kendo.selectable"],a)})(function(){var a={id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core","selectable"]};(function(a,b){var c=window.kendo,d=c.support,e=c.ui,f=e.Widget,g=c.keys,h=c.parseDate,i=c.date.adjustDST,j=c.date.weekInYear,k=c.ui.Selectable,l=c._extractFormat,m=c.template,n=c.getCulture,o=c.support.transitions,p=o?o.css+"transform-origin":"",q=m('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),r=m('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),s=m('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:false}),t=c.support.browser,u=t.msie&&t.version<9,v=c._outerHeight,w=c._outerWidth,x=".kendoCalendar",y="click"+x,z="keydown"+x,A="id",B="min",C="left",D="slideIn",E="month",F="century",G="change",H="navigate",I="value",J="k-state-hover",K="k-state-disabled",L="k-state-focused",M="k-other-month",N=' class="'+M+'"',O="k-nav-today",P="td:has(.k-link)",Q="td:has(.k-link):not(."+K+")",R="td:not(:has(.k-link))",S="k-state-selected",T="blur"+x,U="focus",V=U+x,W=d.touch?"touchstart":"mouseenter",X=d.touch?"touchstart"+x:"mouseenter"+x,Y=d.touch?"touchend"+x+" touchmove"+x:"mouseleave"+x,Z=6e4,$=864e5,_="_prevArrow",aa="_nextArrow",ba="aria-disabled",ca="aria-selected",da="aria-label",ea=a.proxy,fa=a.extend,ga=Date,ha={month:0,year:1,decade:2,century:3};var ia=f.extend({init:function(b,d){var e=this,g,i;f.fn.init.call(e,b,d);b=e.wrapper=e.element;d=e.options;d.url=window.unescape(d.url);e.options.disableDates=Ea(e.options.disableDates);e._templates();e._selectable();e._header();e._footer(e.footer);i=b.addClass("k-widget k-calendar "+(d.weekNumber?" k-week-number":"")).on(X+" "+Y,P,ua).on(z,"table.k-content",ea(e._move,e)).on(y,P,function(b){var c=b.currentTarget.firstChild,f=e._toDateObject(c);if(c.href.indexOf("#")!=-1){b.preventDefault()}if(e._view.name=="month"&&e.options.disableDates(f)){return}if(e._view.name!="month"||d.selectable=="single"){e._click(a(c))}}).on("mouseup"+x,"table.k-content, .k-footer",function(){e._focusView(e.options.focusOnNav!==false)}).attr(A);if(i){e._cellID=i+"_cell_selected"}if(e._isMultipleSelection()&&e.options.weekNumber){b.on(y,R,function(b){var c=a(b.currentTarget).closest("tr").find(Q).first(),d=e.selectable._lastActive=a(b.currentTarget).closest("tr").find(Q).last();e.selectable.selectRange(c,d,{event:b});e._current=e._value=e._toDateObject(d.find("a"));e._class(L,e._current)})}ya(d);g=h(d.value,d.format,d.culture);e._selectDates=[];e._index=ha[d.start];e._current=new ga(+oa(g,d.min,d.max));e._addClassProxy=function(){e._active=true;if(e._cell.hasClass(K)){var a=e._view.toDateString(na());e._cell=e._cellByDate(a)}e._cell.addClass(L)};e._removeClassProxy=function(){e._active=false;e._cell.removeClass(L)};e.value(g);if(e._isMultipleSelection()&&d.selectDates.length>0){e.selectDates(d.selectDates)}c.notify(e)},options:{name:"Calendar",value:null,min:new ga(1900,0,1),max:new ga(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:false,selectable:"single",selectDates:[],start:E,depth:E,animation:{horizontal:{effects:D,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:[G,H],setOptions:function(a){var b=this;ya(a);a.disableDates=Ea(a.disableDates);f.fn.setOptions.call(b,a);b._templates();b._selectable();b._footer(b.footer);b._index=ha[b.options.start];b.navigate()},destroy:function(){var a=this,b=a._today;a.element.off(x);a._title.off(x);a[_].off(x);a[aa].off(x);a._destroySelectable();c.destroy(a._table);if(b){c.destroy(b.off(x))}f.fn.destroy.call(a)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table;this._bindTable(a);a.focus()},min:function(a){return this._option(B,a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate(_,-1)},navigateToFuture:function(){this._navigate(aa,1)},navigateUp:function(){var a=this,b=a._index;if(a._title.hasClass(K)){return}a.navigate(a._current,++b)},navigateDown:function(a){var b=this,c=b._index,d=b.options.depth;if(!a){return}if(c===ha[d]){if(!Ha(b._value,b._current)||!Ha(b._value,a)){b.value(a);b.trigger(G)}return}b.navigate(a,--c)},navigate:function(c,d){d=isNaN(d)?ha[d]:d;var e=this,f=e.options,g=f.culture,h=f.min,i=f.max,j=e._title,k=e._table,l=e._oldTable,m=e._current,n=c&&+c>+m,o=d!==b&&d!==e._index,p,q,r,s;if(!c){c=m}e._current=c=new ga(+oa(c,h,i));if(d===b){d=e._index}else{e._index=d}e._view=q=ja.views[d];r=q.compare;s=d===ha[F];j.toggleClass(K,s).attr(ba,s);s=r(c,h)<1;e[_].toggleClass(K,s).attr(ba,s);if(e[_].hasClass(K)){e[_].removeClass(J)}s=r(c,i)>-1;e[aa].toggleClass(K,s).attr(ba,s);if(e[aa].hasClass(K)){e[aa].removeClass(J)}if(k&&l&&l.data("animating")){l.kendoStop(true,true);k.kendoStop(true,true)}e._oldTable=k;if(!k||e._changeView){j.html(q.title(c,h,i,g));e._table=p=a(q.content(fa({min:h,max:i,date:c,url:f.url,dates:f.dates,format:f.format,culture:g,disableDates:f.disableDates,isWeekColumnVisible:f.weekNumber,messages:f.messages},e[q.name])));Aa(p,q.name);za(p);var t=k&&k.data("start")===p.data("start");e._animate({from:k,to:p,vertical:o,future:n,replace:t});e.trigger(H);e._focus(c)}if(d===ha[f.depth]&&e._selectDates.length>0){e._visualizeSelectedDatesInView()}if(e.options.selectable==="single"){if(d===ha[f.depth]&&e._value&&!e.options.disableDates(e._value)){e._class("k-state-selected",e._value)}}e._class(L,c);if(!k&&e._cell){e._cell.removeClass(L)}e._changeView=true},selectDates:function(c){var d=this,e,f;if(c===b){return d._selectDates}f=c.map(function(a){return a.getTime()}).filter(function(a,b,c){return c.indexOf(a)===b}).map(function(a){return new Date(a)});e=a.grep(f,function(a){if(a){return+d._validateValue(new Date(a.setHours(0,0,0,0)))===+a}});d._selectDates=e.length>0?e:f.length===0?f:d._selectDates;d._visualizeSelectedDatesInView()},value:function(a){var c=this,d=c._view,e=c._view;if(a===b){return c._value}a=c._validateValue(a);if(a&&c._isMultipleSelection()){var f=new Date(+a);f.setHours(0,0,0,0);c._selectDates=[f];c.selectable._lastActive=null}if(d&&a===null&&c._cell){c._cell.removeClass(S)}else{c._changeView=!a||e&&e.compare(a,c._current)!==0;c.navigate(a)}},_validateValue:function(a){var c=this,d=c.options,e=d.min,f=d.max;if(a===null){c._current=wa(c._current.getFullYear(),c._current.getMonth(),c._current.getDate())}a=h(a,d.format,d.culture);if(a!==null){a=new ga(+a);if(!pa(a,e,f)){a=null}}if(a===null||!c.options.disableDates(new Date(+a))){
c._value=a}else if(c._value===b){c._value=null}return c._value},_visualizeSelectedDatesInView:function(){var b=this;var d={};a.each(b._selectDates,function(a,b){d[c.calendar.views[0].toDateString(b)]=b});b.selectable.clear();var e=b._table.find(P).filter(function(b,e){return d[a(e.firstChild).attr(c.attr(I))]});if(e.length>0){b.selectable._selectElement(e,true)}},_isMultipleSelection:function(){var a=this;return a.options.selectable==="multiple"},_selectable:function(){var a=this;if(!a._isMultipleSelection()){return}var b=a.options.selectable,c=k.parseOptions(b);if(c.multiple){a.element.attr("aria-multiselectable","true")}a.selectable=new k(a.wrapper,{aria:true,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:c.multiple,filter:"table.k-month:eq(0) "+Q,change:ea(a._onSelect,a),relatedTarget:ea(a._onRelatedTarget,a)})},_onRelatedTarget:function(a){var b=this;if(b.selectable.options.multiple&&a.is(Q)){b._current=b._toDateObject(a.find("a"));b._class(L,b._toDateObject(a.find("a")))}},_onSelect:function(b){var c=this,d=b,e=k.parseOptions(c.options.selectable);if(!e.multiple){if(a(d.event.currentTarget).is("td")&&!a(d.event.currentTarget).hasClass("k-state-selected")){a(d.event.currentTarget).addClass("k-state-selected")}else{c._click(a(d.event.currentTarget).find("a"))}return}if(d.event.ctrlKey||d.event.metaKey){if(a(d.event.currentTarget).is(Q)){c._toggleSelection(a(d.event.currentTarget))}else{c._cellsBySelector(Q).each(function(b,d){var e=c._toDateObject(a(d).find("a"));c._deselect(e)});c._addSelectedCellsToArray()}}else if(d.event.shiftKey){c._rangeSelection(c._cell)}else if(a(d.event.currentTarget).is(P)){c.value(c._toDateObject(a(d.event.currentTarget).find("a")))}else{c._selectDates=[];c._addSelectedCellsToArray()}c.trigger(G)},_destroySelectable:function(){var a=this;if(a.selectable){a.selectable.destroy();a.selectable=null}},_toggleSelection:function(a){var b=this,c=b._toDateObject(a.find("a"));if(a.hasClass("k-state-selected")){b._selectDates.push(c)}else{b._deselect(c)}},_rangeSelection:function(a,b){var c=this,d=b||c._toDateObject(c.selectable.value().first().find("a")),e=c._toDateObject(a.find("a")),f;if(c.selectable._lastActive||c._value){d=c.selectable._lastActive?c._toDateObject(c.selectable._lastActive.find("a")):new Date(+c._value)}else{c.selectable._lastActive=b?c._cellByDate(c._view.toDateString(b),Q):c.selectable.value().first()}c._selectDates=[];f=sa(d,e);ta(c._selectDates,f,d,c.options.disableDates);c._visualizeSelectedDatesInView()},_cellsBySelector:function(a){var b=this;return b._table.find(a)},_addSelectedCellsToArray:function(){var b=this;b.selectable.value().each(function(c,d){var e=b._toDateObject(a(d.firstChild));if(!b.options.disableDates(e)){b._selectDates.push(e)}})},_deselect:function(a){var b=this;var c=b._selectDates.map(Number).indexOf(+a);if(c!=-1){b._selectDates.splice(c,1)}},_dateInView:function(a){var b=this,c=b._toDateObject(b._cellsBySelector(P+":first").find("a")),d=b._toDateObject(b._cellsBySelector(P+":last").find("a"));return+a<=+d&&+a>=+c},_move:function(d){var e=this,f=e.options,h=d.keyCode,i=e._view,j=e._index,k=e.options.min,l=e.options.max,m=new ga(+e._current),n=c.support.isRtl(e.wrapper),o=e.options.disableDates,p,q,r,s;if(d.target===e._table[0]){e._active=true}if(h==g.RIGHT&&!n||h==g.LEFT&&n){p=1;q=true}else if(h==g.LEFT&&!n||h==g.RIGHT&&n){p=-1;q=true}else if(h==g.UP){p=j===0?-7:-4;q=true}else if(h==g.DOWN){p=j===0?7:4;q=true}else if(h==g.SPACEBAR){p=0;q=true}else if(h==g.HOME||h==g.END){r=h==g.HOME?"first":"last";s=i[r](m);m=new ga(s.getFullYear(),s.getMonth(),s.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds());m.setFullYear(s.getFullYear());q=true}if(d.ctrlKey||d.metaKey){if(h==g.RIGHT&&!n||h==g.LEFT&&n){e.navigateToFuture();q=true}else if(h==g.LEFT&&!n||h==g.RIGHT&&n){e.navigateToPast();q=true}else if(h==g.UP){e.navigateUp();q=true}else if(h==g.DOWN){e._click(a(e._cell[0].firstChild));q=true}else if((h==g.ENTER||h==g.SPACEBAR)&&e._isMultipleSelection()){e._keyboardToggleSelection(d);var t=e._toDateObject(a(e._cell[0]).find("a"));e._class(L,t)}}else if(d.shiftKey){if(p!==b||r){if(!r){i.setDate(m,p)}if(o(m)){m=e._nextNavigatable(m,p)}k=wa(k.getFullYear(),k.getMonth(),k.getDate());if(pa(m,k,l)){if(e._isMultipleSelection()){e._keyboardRangeSelection(d,m)}else{e._focus(oa(m,f.min,f.max))}}}}else{if(h==g.ENTER||h==g.SPACEBAR){if(i.name=="month"&&e._isMultipleSelection()){e.value(e._toDateObject(a(e._cell.find("a"))));e.selectable._lastActive=a(e._cell[0]);e.trigger(G)}else{e._click(a(e._cell[0].firstChild))}q=true}else if(h==g.PAGEUP){q=true;e.navigateToPast()}else if(h==g.PAGEDOWN){q=true;e.navigateToFuture()}if(p||r){if(!r){i.setDate(m,p)}if(o(m)){m=e._nextNavigatable(m,p)}k=wa(k.getFullYear(),k.getMonth(),k.getDate());if(pa(m,k,l)){if(e._isMultipleSelection()){if(!e._dateInView(m)){e.navigate(m)}else{e._current=m;e._class(L,m)}}else{e._focus(oa(m,f.min,f.max))}}}}if(q){d.preventDefault()}return e._current},_keyboardRangeSelection:function(a,b){var c=this,d,e;if(!c._dateInView(b)){c._selectDates=[];d=c.selectable._lastActive?c._toDateObject(c.selectable._lastActive.find("a")):b;e=sa(d,new Date(+b));ta(c._selectDates,e,d,c.options.disableDates);c.navigate(b);c._current=b;c.selectable._lastActive=c.selectable._lastActive||c._cellByDate(c._view.toDateString(b),Q);c.trigger(G);return}c.selectable.options.filter=c.wrapper.find("table").length>1&&+b>+c._current?"table.k-month:eq(1) "+Q:"table.k-month:eq(0) "+Q;c._class(L,b);c._current=b;c._rangeSelection(c._cellByDate(c._view.toDateString(b),Q),b);c.trigger(G);c.selectable.options.filter="table.k-month:eq(0) "+Q},_keyboardToggleSelection:function(b){var c=this;b.currentTarget=c._cell[0];c.selectable._lastActive=a(c._cell[0]);if(a(c._cell[0]).hasClass(S)){c.selectable._unselect(a(c._cell[0]));c.selectable.trigger(G,{event:b})}else{c.selectable.value(a(c._cell[0]),{event:b})}},_nextNavigatable:function(a,b){var c=this,d=true,e=c._view,f=c.options.min,g=c.options.max,h=c.options.disableDates,i=new Date(a.getTime());e.setDate(i,-b);while(d){e.setDate(a,b);if(!pa(a,f,g)){a=i;break}d=h(a)}return a},_animate:function(a){var b=this,c=a.from,d=a.to,e=b._active;if(!c){d.insertAfter(b.element[0].firstChild);b._bindTable(d)}else if(c.parent().data("animating")){c.off(x);c.parent().kendoStop(true,true).remove();c.remove();d.insertAfter(b.element[0].firstChild);b._focusView(e)}else if(!c.is(":visible")||b.options.animation===false||a.replace){d.insertAfter(c);c.off(x).remove();b._focusView(e)}else{b[a.vertical?"_vertical":"_horizontal"](c,d,a.future)}},_horizontal:function(a,b,c){var d=this,e=d._active,f=d.options.animation.horizontal,g=f.effects,h=w(a);if(g&&g.indexOf(D)!=-1){a.add(b).css({width:h});a.wrap("<div/>");d._focusView(e,a);a.parent().css({position:"relative",width:h*2,float:C,"margin-left":c?0:-h});b[c?"insertAfter":"insertBefore"](a);fa(f,{effects:D+":"+(c?"right":C),complete:function(){a.off(x).remove();d._oldTable=null;b.unwrap();d._focusView(e)}});a.parent().kendoStop(true,true).kendoAnimate(f)}},_vertical:function(a,b){var c=this,d=c.options.animation.vertical,e=d.effects,f=c._active,g,h;if(e&&e.indexOf("zoom")!=-1){b.css({position:"absolute",top:v(a.prev()),left:0}).insertBefore(a);if(p){g=c._cellByDate(c._view.toDateString(c._current));h=g.position();h=h.left+parseInt(g.width()/2,10)+"px"+" "+(h.top+parseInt(g.height()/2,10)+"px");b.css(p,h)}a.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){a.off(x).remove();c._oldTable=null;b.css({position:"static",top:0,left:0});c._focusView(f)}});b.kendoStop(true,true).kendoAnimate(d)}},_cellByDate:function(b,d){return this._table.find(d?d:"td:not(."+M+")").filter(function(){return a(this.firstChild).attr(c.attr(I))===b})},_class:function(a,b){var c=this,d=c._cellID,e=c._cell,f=c._view.toDateString(b),g;if(e){e.removeAttr(ca).removeAttr(da).removeAttr(A)}if(b&&c._view.name=="month"){g=c.options.disableDates(b)}c._cellsBySelector(c._isMultipleSelection()?P:"td:not(."+M+")").removeClass(a);e=c._cellByDate(f,c.options.selectable=="multiple"?P:"td:not(."+M+")").attr(ca,true);if(a===L&&!c._active&&c.options.focusOnNav!==false||g){a=""}e.addClass(a);if(e[0]){c._cell=e}if(d){e.attr(A,d);c._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",d)}},_bindTable:function(a){a.on(V,this._addClassProxy).on(T,this._removeClassProxy)},_click:function(a){var b=this,c=b.options,d=new Date(+b._current),e=b._toDateObject(a);i(e,0);if(b._view.name=="month"&&b.options.disableDates(e)){e=b._value}b._view.setDate(d,e);b.navigateDown(oa(d,c.min,c.max))},_focus:function(a){var b=this,c=b._view;if(c.compare(a,b._current)!==0){b.navigate(a)}else{b._current=a;b._class(L,a)}},_focusView:function(a,b){if(a){this.focus(b)}},_footer:function(b){var d=this,e=na(),f=d.element,g=f.find(".k-footer");if(!b){d._toggle(false);g.hide();return}if(!g[0]){g=a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(f)}d._today=g.show().find(".k-link").html(b(e)).attr("title",c.toString(e,"D",d.options.culture));d._toggle()},_header:function(){var a=this,b=a.element,c;if(!b.find(".k-header")[0]){b.html('<div class="k-header">'+'<a href="#" role="button" class="k-link k-nav-prev" '+da+'="Previous"><span class="k-icon k-i-arrow-60-left"></span></a>'+'<a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a>'+'<a href="#" role="button" class="k-link k-nav-next" '+da+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a>'+"</div>")}c=b.find(".k-link").on(X+" "+Y+" "+V+" "+T,ua).click(false);a._title=c.eq(1).on(y,function(){a._active=a.options.focusOnNav!==false;a.navigateUp()});a[_]=c.eq(0).on(y,function(){a._active=a.options.focusOnNav!==false;a.navigateToPast()});a[aa]=c.eq(2).on(y,function(){a._active=a.options.focusOnNav!==false;a.navigateToFuture()})},_navigate:function(a,b){var c=this,d=c._index+1,e=new ga(+c._current);if(c._isMultipleSelection()){var f=c._table.find("td:not(.k-other-month)").has(".k-link").first();e=c._toDateObject(f.find("a"));c._current=new Date(+e)}a=c[a];if(!a.hasClass(K)){if(d>3){e.setFullYear(e.getFullYear()+100*b)}else{ja.views[d].setDate(e,b)}c.navigate(e)}},_option:function(a,c){var d=this,e=d.options,f=d._value||d._current,g;if(c===b){return e[a]}c=h(c,e.format,e.culture);if(!c){return}e[a]=new ga(+c);if(a===B){g=c>f}else{g=f>c}if(g||Da(f,c)){if(g){d._value=null}d._changeView=true}if(!d._changeView){d._changeView=!!(e.month.content||e.month.empty)}d.navigate(d._value);d._toggle()},_toggle:function(a){var c=this,d=c.options,e=c.options.disableDates(na()),f=c._today;if(a===b){a=pa(na(),d.min,d.max)}if(f){f.off(y);if(a&&!e){f.addClass(O).removeClass(K).on(y,ea(c._todayClick,c))}else{f.removeClass(O).addClass(K).on(y,va)}}},_todayClick:function(a){var b=this,c=ha[b.options.depth],d=b.options.disableDates,e=na();a.preventDefault();if(d(e)){return}if(b._view.compare(b._current,e)===0&&b._index==c){b._changeView=false}if(b._isMultipleSelection()){b._selectDates=[e];b.selectable._lastActive=null}b._value=e;b.navigate(e,c);b.trigger(G)},_toDateObject:function(b){var d=a(b).attr(c.attr(I)).split("/");d=wa(d[0],d[1],d[2]);return d},_templates:function(){var a=this,b=a.options,d=b.footer,e=b.month,f=e.content,g=e.weekNumber,h=e.empty;a.month={content:m('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+c.attr(I)+'="#=data.dateString#" title="#=data.title#">'+(f||"#=data.value#")+"</a></td>",{useWithBlock:!!f}),empty:m('<td role="gridcell">'+(h||"&nbsp;")+"</td>",{useWithBlock:!!h}),weekNumber:m('<td class="k-alt">'+(g||"#= data.weekNumber #")+"</td>",{useWithBlock:!!g})};a.footer=d!==false?m(d||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:false}):null}});e.plugin(ia);var ja={firstDayOfMonth:function(a){return wa(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(a,b){b=b||c.culture().calendar;var d=b.firstDay,e=new ga(a.getFullYear(),a.getMonth(),1,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());e.setFullYear(a.getFullYear());while(e.getDay()!=d){ja.setTime(e,-1*$)}return e},setTime:function(a,b){var c=a.getTimezoneOffset(),d=new ga(a.getTime()+b),e=d.getTimezoneOffset()-c;a.setTime(d.getTime()+e*Z)},views:[{name:E,title:function(a,b,c,d){return xa(d).months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){var b=this,d=0,e=a.min,f=a.max,g=a.date,h=a.dates,k=a.format,l=a.culture,m=a.url,n=a.isWeekColumnVisible,o=m&&h[0],p=xa(l),q=p.firstDay,r=p.days,s=qa(r.names,q),t=qa(r.namesShort,q),u=ja.firstVisibleDay(g,p),v=b.first(g),w=b.last(g),x=b.toDateString,y=na(),z='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+x(u)+'"><thead><tr role="row">';if(n){z+='<th scope="col" class="k-alt">'+a.messages.weekColumnHeader+"</th>"}for(;d<7;d++){z+='<th scope="col" title="'+s[d]+'">'+t[d]+"</th>"}i(y,0);y=+y;return la({cells:42,perRow:7,html:z+='</tr></thead><tbody><tr role="row">',start:u,isWeekColumnVisible:n,weekNumber:a.weekNumber,min:wa(e.getFullYear(),e.getMonth(),e.getDate()),max:wa(f.getFullYear(),f.getMonth(),f.getDate()),content:a.content,empty:a.empty,setter:b.setDate,disableDates:a.disableDates,build:function(a,b,d){var e=[],f=a.getDay(),g="",i="#";if(a<v||a>w){e.push(M)}if(d(a)){e.push(K)}if(+a===y){e.push("k-today")}if(f===0||f===6){e.push("k-weekend")}if(o&&Ba(+a,h)){i=m.replace("{0}",c.toString(a,k,l));g=" k-action-link"}return{date:a,dates:h,ns:c.ns,title:c.toString(a,"D",l),value:a.getDate(),dateString:x(a),cssClass:e[0]?' class="'+e.join(" ")+'"':"",linkClass:g,url:i}},weekNumberBuild:function(a){return{weekNumber:j(a,c.culture().calendar.firstDay),currentDate:a}}})},first:function(a){return ja.firstDayOfMonth(a)},last:function(a){var b=wa(a.getFullYear(),a.getMonth()+1,0),c=ja.firstDayOfMonth(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());if(d){b.setHours(c.getHours()+d/60)}return b},compare:function(a,b){var c,d=a.getMonth(),e=a.getFullYear(),f=b.getMonth(),g=b.getFullYear();if(e>g){c=1}else if(e<g){c=-1}else{c=d==f?0:d>f?1:-1}return c},setDate:function(a,b){var c=a.getHours();if(b instanceof ga){a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())}else{ja.setTime(a,b*$)}i(a,c)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var b=xa(a.culture).months.namesAbbr,d=this.toDateString,e=a.min,f=a.max;return la({min:wa(e.getFullYear(),e.getMonth(),1),max:wa(f.getFullYear(),f.getMonth(),1),start:wa(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:b[a.getMonth()],ns:c.ns,dateString:d(a),cssClass:""}}})},first:function(a){return wa(a.getFullYear(),0,a.getDate())},last:function(a){return wa(a.getFullYear(),11,a.getDate())},compare:function(a,b){return ma(a,b)},setDate:function(a,b){var c,d=a.getHours();if(b instanceof ga){c=b.getMonth();a.setFullYear(b.getFullYear(),c,a.getDate());if(c!==a.getMonth()){a.setDate(0)}}else{c=a.getMonth()+b;a.setMonth(c);if(c>11){c-=12}if(c>0&&a.getMonth()!=c){a.setDate(0)}}i(a,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,b,c){return ka(a,b,c,10)},content:function(a){var b=a.date.getFullYear(),d=this.toDateString;return la({start:wa(b-b%10-1,0,1),min:wa(a.min.getFullYear(),0,1),max:wa(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,b){return{value:a.getFullYear(),ns:c.ns,dateString:d(a),cssClass:b===0||b==11?N:""}}})},first:function(a){var b=a.getFullYear();return wa(b-b%10,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return wa(b-b%10+9,a.getMonth(),a.getDate())},compare:function(a,b){return ma(a,b,10)},setDate:function(a,b){ra(a,b,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:F,title:function(a,b,c){return ka(a,b,c,100)},content:function(a){var b=a.date.getFullYear(),d=a.min.getFullYear(),e=a.max.getFullYear(),f=this.toDateString,g=d,h=e;g=g-g%10;h=h-h%10;if(h-g<10){h=g+9}return la({start:wa(b-b%100-10,0,1),min:wa(g,0,1),max:wa(h,0,1),setter:this.setDate,build:function(a,b){var g=a.getFullYear(),h=g+9;if(g<d){g=d}if(h>e){h=e}return{ns:c.ns,value:g+" - "+h,dateString:f(a),cssClass:b===0||b==11?N:""}}})},first:function(a){var b=a.getFullYear();return wa(b-b%100,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return wa(b-b%100+99,a.getMonth(),a.getDate())},compare:function(a,b){return ma(a,b,100)},setDate:function(a,b){ra(a,b,10)},toDateString:function(a){var b=a.getFullYear();return b-b%10+"/0/1"}}]};function ka(a,b,c,d){var e=a.getFullYear(),f=b.getFullYear(),g=c.getFullYear(),h;e=e-e%d;h=e+(d-1);if(e<f){e=f}if(h>g){h=g}return e+"-"+h}function la(a){var b=0,c,d=a.min,e=a.max,f=a.start,g=a.setter,h=a.build,j=a.weekNumberBuild,k=a.cells||12,l=a.isWeekColumnVisible,m=a.perRow||4,n=a.weekNumber||s,o=a.content||q,p=a.empty||r,t=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';if(l){t+=n(j(f))}for(;b<k;b++){if(b>0&&b%m===0){t+='</tr><tr role="row">';if(l){t+=n(j(f))}}f=wa(f.getFullYear(),f.getMonth(),f.getDate());i(f,0);c=h(f,b,a.disableDates);t+=pa(f,d,e)?o(c):p(c);g(f,1)}return t+"</tr></tbody></table>"}function ma(a,b,c){var d=a.getFullYear(),e=b.getFullYear(),f=e,g=0;if(c){e=e-e%c;f=e-e%c+c-1}if(d>f){g=1}else if(d<e){g=-1}return g}function na(){var a=new ga;return new ga(a.getFullYear(),a.getMonth(),a.getDate())}function oa(a,b,c){var d=na();if(a){d=new ga(+a)}if(b>d){d=new ga(+b)}else if(c<d){d=new ga(+c)}return d}function pa(a,b,c){return+a>=+b&&+a<=+c}function qa(a,b){return a.slice(b).concat(a.slice(0,b))}function ra(a,b,c){b=b instanceof ga?b.getFullYear():a.getFullYear()+c*b;a.setFullYear(b)}function sa(a,b){if(+b<+a){var d=+a;ja.views[0].setDate(a,b);ja.views[0].setDate(b,new Date(d))}var e=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate());var f=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate());return Math.ceil((+f-+e)/c.date.MS_PER_DAY)}function ta(a,b,c,d){for(var e=0;e<=b;e++){var f=new Date(c.getTime());f=new Date(f.setDate(f.getDate()+e));if(!d(f)){a.push(f)}}}function ua(b){var c=a(this).hasClass("k-state-disabled");if(!c){a(this).toggleClass(J,W.indexOf(b.type)>-1||b.type==U)}}function va(a){a.preventDefault()}function wa(a,b,c){var d=new ga(a,b,c);d.setFullYear(a,b,c);return d}function xa(a){return n(a).calendars.standard}function ya(a){var c=ha[a.start],d=ha[a.depth],e=n(a.culture);a.format=l(a.format||e.calendars.standard.patterns.d);if(isNaN(c)){c=0;a.start=E}if(d===b||d>c){a.depth=E}if(a.dates===null){a.dates=[]}}function za(a){if(u){a.find("*").attr("unselectable","on")}}function Aa(a,b){a.addClass("k-"+b)}function Ba(a,b){for(var c=0,d=b.length;c<d;c++){if(a===+b[c]){return true}}return false}function Ca(a,b){if(a){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}return false}function Da(a,b){if(a){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()}return false}function Ea(b){if(c.isFunction(b)){return b}if(a.isArray(b)){return Ga(b)}return a.noop}function Fa(a){var b=[];for(var c=0;c<a.length;c++){b.push(a[c].setHours(0,0,0,0))}return b}function Ga(b){var c,d,e=[],f=["su","mo","tu","we","th","fr","sa"],g="if (found) {"+" return true "+"} else {"+"return false"+"}";if(b[0]instanceof ga){e=Fa(b);c="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+e+"]) > -1;"+g}else{for(var h=0;h<b.length;h++){var i=b[h].slice(0,2).toLowerCase();var j=a.inArray(i,f);if(j>-1){e.push(j)}}c="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+e+"]) > -1;"+g}d=new Function("date",c);return d}function Ha(a,b){if(a instanceof Date&&b instanceof Date){a=a.getTime();b=b.getTime()}return a===b}ja.isEqualDatePart=Ca;ja.isEqualDate=Ha;ja.makeUnselectable=za;ja.restrictValue=oa;ja.isInRange=pa;ja.addClassToViewContainer=Aa;ja.normalize=ya;ja.viewsEnum=ha;ja.disabled=Ea;c.calendar=ja})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dateinput",["kendo.core"],a)})(function(){var a={id:"dateinput",name:"DateInput",category:"web",description:"The DateInput widget allows to edit date by typing.",depends:["core"]};(function(a,b){var c=window;var d=c.kendo;var e=d.caret;var f=d.ui;var g=f.Widget;var h=d.keys;var i=".kendoDateInput";var j=a.proxy;var k={}.toString;var l=(d.support.propertyChangeEvent?"propertychange.kendoDateInput input":"input")+i;var m="k-state-disabled";var n="k-state-default";var o="k-state-invalid";var p="disabled";var q="readonly";var r="change";var s="dMyHhmftsz";var t=g.extend({init:function(b,c){var e=this;g.fn.init.call(e,b,c);b=e.element;c=e.options;c.format=d._extractFormat(c.format||d.getCulture(c.culture).calendars.standard.patterns.d);c.min=d.parseDate(b.attr("min"))||d.parseDate(c.min);c.max=d.parseDate(b.attr("max"))||d.parseDate(c.max);var f=(b.parent().attr("class")||"").indexOf("k-picker-wrap")>=0;if(f){e.wrapper=b.parent()}else{e.wrapper=b.wrap("<span class='k-widget k-dateinput'></span>").parent();e.wrapper.addClass(b[0].className);e.wrapper[0].style.cssText=b[0].style.cssText;b.css({width:"100%",height:b[0].style.height})}a("<span class='k-icon k-i-warning'></span>").insertAfter(b);e._form();e.element.addClass(f?" ":"k-textbox").attr("autocomplete","off").on("focusout"+i,function(){e._change()});try{b[0].setAttribute("type","text")}catch(a){b[0].type="text"}var h=b.is("[disabled]")||a(e.element).parents("fieldset").is(":disabled");if(h){e.enable(false)}else{e.readonly(b.is("[readonly]"))}e.value(e.options.value||b.val());d.notify(e)},options:{name:"DateInput",culture:"",value:"",format:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{year:"year",month:"month",day:"day",weekday:"day of the week",hour:"hours",minute:"minutes",second:"seconds",dayperiod:"AM/PM"}},events:[r],min:function(a){if(a!==b){this.options.min=a}else{return this.options.min}},max:function(a){if(a!==b){this.options.max=a}else{return this.options.max}},setOptions:function(a){var b=this;g.fn.setOptions.call(b,a);this._unbindInput();this._bindInput();this._updateElementValue()},destroy:function(){var a=this;a.element.off(i);if(a._formElement){a._formElement.off("reset",a._resetHandler)}g.fn.destroy.call(a)},value:function(a){if(a===b){return this._dateTime.getDateObject()}if(a===null){a=""}if(k.call(a)!=="[object Date]"){a=d.parseDate(a,this.options.format,this.options.culture)}if(a&&!a.getTime()){a=null}this._dateTime=new u(a,this.options.format,this.options.culture,this.options.messages);this._updateElementValue();this._oldValue=a},_updateElementValue:function(){var a=this._dateTime.toPair(this.options.format,this.options.culture,this.options.messages);this.element.val(a[0]);this._oldText=a[0];this._format=a[1]},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false})},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)})},_bindInput:function(){var a=this;a.element.on("paste"+i,j(a._paste,a)).on("keydown"+i,j(a._keydown,a)).on(l,j(a._input,a)).on("mouseup"+i,j(a._mouseUp,a)).on("DOMMouseScroll"+i+" mousewheel"+i,j(a._scroll,a))},_unbindInput:function(){this.element.off("keydown"+i).off("paste"+i).off(l).off("mouseup"+i).off("DOMMouseScroll"+i+" mousewheel"+i)},_editable:function(a){var b=this;var c=b.element;var d=a.disable;var e=a.readonly;var f=b.wrapper;b._unbindInput();if(!e&&!d){f.addClass(n).removeClass(m);c.removeAttr(p).removeAttr(q);b._bindInput()}else{if(d){f.addClass(m).removeClass(n);c.attr(p,d);c.removeAttr(q)}if(e){c.attr(q,e)}}},_change:function(){var a=this;var b=a._oldValue;var c=a.value();if(c&&a.min()&&c<a.min()){a.value(a.min());c=a.value()}if(c&&a.max()&&c>a.max()){a.value(a.max());c=a.value()}if(b&&c&&c.getTime()!==b.getTime()||b&&!c||!b&&c){a._oldValue=c;a.trigger(r);a.element.trigger(r)}},_input:function(){var a=this;var b=a.element[0];var c=false;if(d._activeElement()!==b){return}var f=v(this._oldText,this._format,this.element[0].value,e(this.element[0])[0]);var g=f.length===1&&f[0][1]===" ";if(!g){for(var h=0;h<f.length;h++){var i=this._dateTime.parsePart(f[h][0],f[h][1]);c=c||!i}}this._updateElementValue();if(f.length&&f[0][0]!==" "){this._selectSegment(f[0][0]);if(!g){var j=f[0][0];setTimeout(function(){a._selectSegment(j)})}}if(g){var k={keyCode:39,preventDefault:function(){}};this._keydown(k)}if(c){clearTimeout(a._blinkInvalidTimeout);var l=o;a.wrapper.addClass(o);a._blinkInvalidTimeout=setTimeout(function(){a.wrapper.removeClass(l)},100)}},_mouseUp:function(){var a=e(this.element[0]);if(a[0]===a[1]){this._selectNearestSegment()}},_scroll:function(a){if(d._activeElement()!==this.element[0]||this.element.is("[readonly]")){return}a=window.event||a;var b={keyCode:37,preventDefault:function(){}};if(a.shiftKey){b.keyCode=(a.wheelDelta||-a.detail)>0?37:39}else{b.keyCode=(a.wheelDelta||-a.detail)>0?38:40}this._keydown(b);a.returnValue=false;if(a.preventDefault){a.preventDefault()}if(a.stopPropagation){a.stopPropagation()}},_form:function(){var b=this;var c=b.element;var d=c.attr("form");var e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){setTimeout(function(){b.value(c[0].value)})};b._formElement=e.on("reset",b._resetHandler)}},_paste:function(a){a.preventDefault()},_keydown:function(a){var b=a.keyCode;var c;if(b==37||b==39){a.preventDefault();c=e(this.element[0]);if(c[0]!=c[1]){this._selectNearestSegment()}var f=b==37?-1:1;var g=f==-1?e(this.element[0])[0]-1:e(this.element[0])[1]+1;while(g>=0&&g<this._format.length){if(s.indexOf(this._format[g])>=0){this._selectSegment(this._format[g]);break}g+=f}}if(b==38||b==40){a.preventDefault();c=e(this.element[0]);var i=this._format[c[0]];if(s.indexOf(i)>=0){this._dateTime.modifyPart(i,b==38?1:-1);this._updateElementValue();this._selectSegment(i)}}if(d.support.browser.msie&&d.support.browser.version<10){var j=a.keyCode?a.keyCode:a.which;if(j===8||j===46){var k=this;setTimeout(function(){k._input()},0)}}if(b===h.ENTER){this._change()}},_selectNearestSegment:function(){var a=e(this.element[0]);var b=a[0];for(var c=b,d=b-1;c<this._format.length||d>=0;c++,d--){if(c<this._format.length&&s.indexOf(this._format[c])!==-1){this._selectSegment(this._format[c]);return}if(d>=0&&s.indexOf(this._format[d])!==-1){this._selectSegment(this._format[d]);return}}},_selectSegment:function(a){var b=-1,c=0;for(var d=0;d<this._format.length;d++){if(this._format[d]===a){c=d+1;if(b===-1){b=d}}}if(b<0){b=0}e(this.element,b,c)}});f.plugin(t);var u=function(a,c,e,f){var g=null;var h=true,i=true,j=true,k=true,l=true,m=true,n=true;var o="";var p="";var q={};var r=["","0","00","000","0000"];function s(a,b,c){a=a+"";b=b||2;c=b-a.length;if(c){return r[b].substring(0,c)+a}return a}var t=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g;var u=null,v=null,w=null,x=false;var y=function(a){var c,d;var e;switch(a){case"d":e=j?g.getDate():q.day;break;case"dd":e=j?s(g.getDate()):q.day;break;case"ddd":e=j&&i&&h?w.namesAbbr[g.getDay()]:q.weekday;break;case"dddd":e=j&&i&&h?w.names[g.getDay()]:q.weekday;break;case"M":e=i?g.getMonth()+1:q.month;break;case"MM":e=i?s(g.getMonth()+1):q.month;break;case"MMM":e=i?u.namesAbbr[g.getMonth()]:q.month;break;case"MMMM":e=i?u.names[g.getMonth()]:q.month;break;case"yy":e=h?s(g.getFullYear()%100):q.year;break;case"yyyy":e=h?s(g.getFullYear(),4):q.year;break;case"h":e=k?g.getHours()%12||12:q.hour;break;case"hh":e=k?s(g.getHours()%12||12):q.hour;break;case"H":e=k?g.getHours():q.hour;break;case"HH":e=k?s(g.getHours()):q.hour;break;case"m":e=l?g.getMinutes():q.minute;break;case"mm":e=l?s(g.getMinutes()):q.minute;break;case"s":e=m?g.getSeconds():q.second;break;case"ss":e=m?s(g.getSeconds()):q.second;break;case"f":e=n?Math.floor(g.getMilliseconds()/100):n;break;case"ff":e=g.getMilliseconds();if(e>99){e=Math.floor(e/10)}e=n?s(e):a;break;case"fff":e=n?s(g.getMilliseconds(),3):a;break;case"tt":e=k?g.getHours()<12?v.AM[0]:v.PM[0]:q.dayperiod;break;case"zzz":c=g.getTimezoneOffset();d=c<0;e=Math.abs(c/60).toString().split(".")[0];c=Math.abs(c)-e*60;e=(d?"+":"-")+s(e);e+=":"+s(c);break;case"z":case"zz":e=g.getTimezoneOffset()/60;d=e<0;e=Math.abs(e).toString().split(".")[0];e=(d?"+":"-")+(a==="zz"?s(e):e);break}e=e!==b?e:a.slice(1,a.length-1);if(x){e=""+e;var f="";if(a=="ddd"){a="EEE"}if(a=="dddd"){a="EEEE"}for(var o=0;o<e.length;o++){f+=a[0]}return f}else{return e}};function z(a){x=a;return y}function A(a,b){switch(a){case"y":h=b;break;case"M":i=b;if(!b){g.setMonth(0);o=""}break;case"d":j=b;break;case"H":case"h":k=b;if(!b){p=""}break;case"m":l=b;break;case"s":m=b;break;default:return}}this.setValue=function(a){j=a};this.getValue=function(){return j};this.modifyPart=function(a,b){var c=new Date(g&&g.getTime?g.getTime():g);switch(a){case"y":c.setFullYear(c.getFullYear()+b);break;case"M":var d=c.getMonth()+b;c.setMonth(d);if(c.getMonth()%12!==(d+12)%12){c.setDate(1);c.setMonth(d)}break;case"d":case"E":c.setDate(c.getDate()+b);break;case"H":case"h":c.setHours(c.getHours()+b);break;case"m":c.setMinutes(c.getMinutes()+b);break;case"s":c.setSeconds(c.getSeconds()+b);break;case"t":c.setHours((c.getHours()+12)%24);break;default:break}if(c.getFullYear()>0){A(a,true);g=c}};this.parsePart=function(a,b){if(!b){A(a,false);return true}var c=new Date(g&&g.getTime?g.getTime():g);var d;switch(a){case"d":var e=(j?c.getDate()*10:0)+parseInt(b,10);if(isNaN(e)){return}while(e>31){e=parseInt(e.toString().slice(1),10)}if(e<1){j=false}else{c.setDate(e);if(c.getMonth()!==g.getMonth()){return}j=true}break;case"M":var f=(i?(c.getMonth()+1)*10:0)+parseInt(b,10);if(!isNaN(f)){while(f>12){f=parseInt(f.toString().slice(1),10)}if(f<1){i=false}else{c.setMonth(f-1);if(c.getMonth()!==f-1){c.setDate(1);c.setMonth(f-1)}i=true}}else{var n=v.months.names;o+=b.toLowerCase();while(o.length>0){for(var q=0;q<n.length;q++){if(n[q].toLowerCase().indexOf(o)===0){c.setMonth(q);i=true;g=c;return true}}o=o.substring(1,o.length)}return false}break;case"y":var r=(h?c.getFullYear()*10:0)+parseInt(b,10);if(isNaN(r)){return}while(r>9999){r=parseInt(r.toString().slice(1),10)}if(r<1){h=false}else{c.setFullYear(r);h=true}break;case"h":d=(k?(c.getHours()%12||12)*10:0)+parseInt(b,10);if(isNaN(d)){return}while(d>12){d=parseInt(d.toString().slice(1),10)}c.setHours(Math.floor(c.getHours()/12)*12+d%12);k=true;break;case"H":d=(k?c.getHours()*10:0)+parseInt(b,10);if(isNaN(d)){return}while(d>23){d=parseInt(d.toString().slice(1),10)}c.setHours(d);k=true;break;case"m":var s=(l?c.getMinutes()*10:0)+parseInt(b,10);if(isNaN(s)){return}while(s>59){s=parseInt(s.toString().slice(1),10)}c.setMinutes(s);l=true;break;case"s":var t=(m?c.getSeconds()*10:0)+parseInt(b,10);if(isNaN(t)){return}while(t>59){t=parseInt(t.toString().slice(1),10)}c.setSeconds(t);m=true;break;case"t":if(k){p+=b.toLowerCase();while(p.length>0){if(v.AM[0].toLowerCase().indexOf(p)===0&&c.getHours()>=12||v.PM[0].toLowerCase().indexOf(p)===0&&c.getHours()<12){c.setHours((c.getHours()+12)%24);g=c;return true}p=p.substring(1,p.length)}return false}break;default:break}g=c;return true};this.toPair=function(a,b,c){if(!a){return["",""]}b=d.getCulture(b);v=b.calendars.standard;a=v.patterns[a]||a;w=v.days;u=v.months;q=c;return[a.replace(t,z(false)),a.replace(t,z(true))]};this.getDateObject=function(){return h&&i&&j&&k&&l&&m&&n?new Date(g.getTime()):null};if(!a){g=new Date;var B=this.toPair(c,e,f)[1];for(var C=0;C<B.length;C++){A(B[C],false)}}else{g=new Date(a.getTime())}};function v(a,b,c,d){var e=a[d+a.length-c.length];a=a.substring(0,d+a.length-c.length);c=c.substring(0,d);var f=[];var g;if(a===c&&d>0){f.push([b[d-1],c[d-1]]);return f}if(a.indexOf(c)===0&&(c.length===0||b[c.length-1]!==b[c.length])){var h="";for(g=c.length;g<a.length;g++){if(b[g]!==h&&s.indexOf(b[g])>=0){h=b[g];
f.push([h,""])}}return f}if(c[c.length-1]===" "||c[c.length-1]===e){return[[b[d-1]," "]]}if(c.indexOf(a)===0||s.indexOf(b[d-1])===-1){var i=b[0];for(g=Math.max(0,a.length-1);g<b.length;g++){if(s.indexOf(b[g])>=0){i=b[g];break}}return[[i,c[d-1]]]}return[[b[d-1],c[d-1]]]}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.datepicker",["kendo.calendar","kendo.popup","kendo.dateinput"],a)})(function(){var a={id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup"]};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=c.parseDate,g=c.keys,h=c.support,i=c.template,j=c._activeElement,k="<div />",l="<span />",m=".kendoDatePicker",n="click"+m,o=h.mouseAndTouchPresent?c.applyEventMap("up",m.slice(1)):n,p="open",q="close",r="change",s="disabled",t="readonly",u="k-state-default",v="k-state-focused",w="k-state-selected",x="k-state-disabled",y="k-state-hover",z="mouseenter"+m+" mouseleave"+m,A="mousedown"+m,B="id",C="min",D="max",E="month",F="aria-disabled",G="aria-expanded",H="aria-hidden",I=c.calendar,J=I.isInRange,K=I.restrictValue,L=I.isEqualDatePart,M=a.extend,N=a.proxy,O=Date;function P(b){var c=b.parseFormats,d=b.format;I.normalize(b);c=a.isArray(c)?c:[c];if(!c.length){c.push("yyyy-MM-dd")}if(a.inArray(d,c)===-1){c.splice(0,0,b.format)}b.parseFormats=c}function Q(a){a.preventDefault()}var R=function(b){var e=this,f,g=document.body,h=a(k).attr(H,"true").addClass("k-calendar-container").appendTo(g);e.options=b=b||{};f=b.id;if(f){f+="_dateview";h.attr(B,f);e._dateViewID=f}e.popup=new d.Popup(h,M(b.popup,b,{name:"Popup",isRtl:c.support.isRtl(b.anchor)}));e.div=h;e.value(b.value)};R.prototype={_calendar:function(){var b=this;var e=b.calendar;var f=b.options;var g;if(!e){g=a(k).attr(B,c.guid()).appendTo(b.popup.element).on(A,Q).on(n,"td:has(.k-link)",N(b._click,b));b.calendar=e=new d.Calendar(g);b._setOptions(f);c.calendar.makeUnselectable(e.element);e.navigate(b._value||b._current,f.start);b.value(b._value)}},_setOptions:function(a){this.calendar.setOptions({focusOnNav:false,change:a.change,culture:a.culture,dates:a.dates,depth:a.depth,footer:a.footer,format:a.format,max:a.max,min:a.min,month:a.month,weekNumber:a.weekNumber,start:a.start,disableDates:a.disableDates})},setOptions:function(a){var b=this.options;var c=a.disableDates;if(c){a.disableDates=I.disabled(c)}this.options=M(b,a,{change:b.change,close:b.close,open:b.open});if(this.calendar){this._setOptions(this.options)}},destroy:function(){this.popup.destroy()},open:function(){var a=this;var b;a._calendar();b=a.popup._hovered;a.popup._hovered=true;a.popup.open();setTimeout(function(){a.popup._hovered=b},1)},close:function(){this.popup.close()},min:function(a){this._option(C,a)},max:function(a){this._option(D,a)},toggle:function(){var a=this;a[a.popup.visible()?q:p]()},move:function(a){var b=this,c=a.keyCode,d=b.calendar,e=a.ctrlKey&&c==g.DOWN||c==g.ENTER,f=false;if(a.altKey){if(c==g.DOWN){b.open();a.preventDefault();f=true}else if(c==g.UP){b.close();a.preventDefault();f=true}}else if(b.popup.visible()){if(c==g.ESC||e&&d._cell.hasClass(w)){b.close();a.preventDefault();return true}if(c!=g.SPACEBAR){b._current=d._move(a)}f=true}return f},current:function(a){this._current=a;this.calendar._focus(a)},value:function(a){var b=this,c=b.calendar,d=b.options,e=d.disableDates;if(e&&e(a)){a=null}b._value=a;b._current=new O(+K(a,d.min,d.max));if(c){c.value(a)}},_click:function(a){if(a.currentTarget.className.indexOf(w)!==-1){this.close()}},_option:function(a,b){var c=this;var d=c.calendar;c.options[a]=b;if(d){d[a](b)}}};R.normalize=P;c.DateView=R;var S=e.extend({init:function(b,d){var g=this,h,i;e.fn.init.call(g,b,d);b=g.element;d=g.options;d.disableDates=c.calendar.disabled(d.disableDates);d.min=f(b.attr("min"))||f(d.min);d.max=f(b.attr("max"))||f(d.max);P(d);g._initialOptions=M({},d);g._wrapper();g.dateView=new R(M({},d,{id:b.attr(B),anchor:g.wrapper,change:function(){g._change(this.value());g.close()},close:function(a){if(g.trigger(q)){a.preventDefault()}else{b.attr(G,false);i.attr(H,true)}},open:function(a){var c=g.options,d;if(g.trigger(p)){a.preventDefault()}else{if(g.element.val()!==g._oldText){d=f(b.val(),c.parseFormats,c.culture);g.dateView[d?"current":"value"](d)}b.attr(G,true);i.attr(H,false);g._updateARIA(d)}}}));i=g.dateView.div;g._icon();try{b[0].setAttribute("type","text")}catch(a){b[0].type="text"}b.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":g.dateView._dateViewID});g._reset();g._template();h=b.is("[disabled]")||a(g.element).parents("fieldset").is(":disabled");if(h){g.enable(false)}else{g.readonly(b.is("[readonly]"))}g._createDateInput(d);g._old=g._update(d.value||g.element.val());g._oldText=b.val();c.notify(g)},events:[p,q,r],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:E,depth:E,animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:false,weekNumber:false},setOptions:function(a){var b=this;var d=b._value;e.fn.setOptions.call(b,a);a=b.options;a.min=f(a.min);a.max=f(a.max);P(a);b.dateView.setOptions(a);b._createDateInput(a);if(!b._dateInput){b.element.val(c.toString(d,a.format,a.culture))}if(d){b._updateARIA(d)}},_editable:function(a){var b=this,c=b._dateIcon.off(m),d=b.element.off(m),e=b._inputWrapper.off(m),f=a.readonly,g=a.disable;if(!f&&!g){e.addClass(u).removeClass(x).on(z,b._toggleHover);d.removeAttr(s).removeAttr(t).attr(F,false).on("keydown"+m,N(b._keydown,b)).on("focusout"+m,N(b._blur,b)).on("focus"+m,function(){b._inputWrapper.addClass(v)});c.on(o,N(b._click,b)).on(A,Q)}else{e.addClass(g?x:u).removeClass(g?u:x);d.attr(s,g).attr(t,f).attr(F,g)}},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false})},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)})},destroy:function(){var a=this;e.fn.destroy.call(a);a.dateView.destroy();a.element.off(m);a._dateIcon.off(m);a._inputWrapper.off(m);if(a._form){a._form.off("reset",a._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(a){return this._option(C,a)},max:function(a){return this._option(D,a)},value:function(a){var c=this;if(a===b){return c._value}c._old=c._update(a);if(c._old===null){c.element.val("")}c._oldText=c.element.val()},_toggleHover:function(b){a(b.currentTarget).toggleClass(y,b.type==="mouseenter")},_blur:function(){var a=this,b=a.element.val();a.close();if(b!==a._oldText){a._change(b)}a._inputWrapper.removeClass(v)},_click:function(a){var b=this;b.dateView.toggle();b._focusElement(a.type)},_focusElement:function(a){var b=this.element;if((!h.touch||h.mouseAndTouchPresent&&!(a||"").match(/touch/i))&&b[0]!==j()){b.focus()}},_change:function(a){var b=this,d=b.element.val(),e;a=b._update(a);e=!c.calendar.isEqualDate(b._old,a);var f=e&&!b._typing;var g=d!==b.element.val();if(f||g){b.element.trigger(r)}if(e){b._old=a;b._oldText=b.element.val();b.trigger(r)}b._typing=false},_keydown:function(a){var b=this,c=b.dateView,d=b.element.val(),e=false;if(!c.popup.visible()&&a.keyCode==g.ENTER&&d!==b._oldText){b._change(d)}else{e=c.move(a);b._updateARIA(c._current);if(!e){b._typing=true}else if(b._dateInput&&a.stopImmediatePropagation){a.stopImmediatePropagation()}}},_icon:function(){var b=this,c=b.element,d;d=c.next("span.k-select");if(!d[0]){d=a('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(c)}b._dateIcon=d.attr({role:"button","aria-controls":b.dateView._dateViewID})},_option:function(a,c){var d=this,e=d.options;if(c===b){return e[a]}c=f(c,e.parseFormats,e.culture);if(!c){return}e[a]=new O(+c);d.dateView[a](c)},_update:function(a){var b=this,d=b.options,e=d.min,g=d.max,h=b._value,i=f(a,d.parseFormats,d.culture),j=i===null&&h===null||i instanceof Date&&h instanceof Date,k;if(d.disableDates(i)){i=null;if(!b._old&&!b.element.val()){a=null}}if(+i===+h&&j){k=c.toString(i,d.format,d.culture);if(k!==a){b.element.val(i===null?a:k)}return i}if(i!==null&&L(i,e)){i=K(i,e,g)}else if(!J(i,e,g)){i=null}b._value=i;b.dateView.value(i);if(b._dateInput&&i){b._dateInput.value(i||a)}else{b.element.val(c.toString(i||a,d.format,d.culture))}b._updateARIA(i);return i},_wrapper:function(){var b=this,c=b.element,d;d=c.parents(".k-datepicker");if(!d[0]){d=c.wrap(l).parent().addClass("k-picker-wrap k-state-default");d=d.wrap(l).parent()}d[0].style.cssText=c[0].style.cssText;c.css({width:"100%",height:c[0].style.height});b.wrapper=d.addClass("k-widget k-datepicker k-header").addClass(c[0].className);b._inputWrapper=a(d[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){b.value(c[0].defaultValue);b.max(b._initialOptions.max);b.min(b._initialOptions.min)};b._form=e.on("reset",b._resetHandler)}},_template:function(){this._ariaTemplate=i(this.options.ARIATemplate)},_createDateInput:function(a){if(this._dateInput){this._dateInput.destroy();this._dateInput=null}if(a.dateInput){this._dateInput=new d.DateInput(this.element,{culture:a.culture,format:a.format,min:a.min,max:a.max})}},_updateARIA:function(a){var b;var c=this;var d=c.dateView.calendar;c.element.removeAttr("aria-activedescendant");if(d){b=d._cell;b.attr("aria-label",c._ariaTemplate({current:a||d.current()}));c.element.attr("aria-activedescendant",b.attr("id"))}}});d.plugin(S)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.virtuallist",["kendo.data"],a)})(function(){var a={id:"virtuallist",name:"VirtualList",category:"framework",depends:["data"],hidden:true};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=d.DataBoundWidget,g=a.proxy,h="k-virtual-wrap",i="k-virtual-list",j="k-virtual-content",k="k-list",l="k-group-header",m="k-virtual-item",n="k-item",o="k-height-container",p="k-group",q="k-state-selected",r="k-state-focused",s="k-state-hover",t="change",u="click",v="listBound",w="itemChange",x="activate",y="deactivate",z=".VirtualList";function A(a){return a[a.length-1]}function B(a){return a instanceof Array?a:[a]}function C(a){return typeof a==="string"||typeof a==="number"||typeof a==="boolean"}function D(a,b,c){return Math.ceil(a*b/c)}function E(a,b,c){var d=document.createElement(c||"div");if(b){d.className=b}a.appendChild(d);return d}function F(){var b=a('<div class="k-popup"><ul class="k-list"><li class="k-item"><li></ul></div>'),d;b.css({position:"absolute",left:"-200000px",visibility:"hidden"});b.appendTo(document.body);d=parseFloat(c.getComputedStyles(b.find(".k-item")[0],["line-height"])["line-height"]);b.remove();return d}function G(a,b,c){return{down:a*c,up:a*(b-1-c)}}function H(a,b){var c=(a.listScreens-1-a.threshold)*b;var d=a.threshold*b;return function(a,b,e){if(b>e){return b-a.top<c}else{return a.top===0||b-a.top>d}}}function I(a,b){return function(c){return b(a.scrollTop,c)}}function J(a){return function(b,c){a(b.items,b.index,c);return b}}function K(a,b){if(c.support.browser.msie&&c.support.browser.version<10){a.style.top=b+"px"}else{a.style.webkitTransform="translateY("+b+"px)";a.style.transform="translateY("+b+"px)"}}function L(b,d){return function(e,f){for(var g=0,h=e.length;g<h;g++){b(e[g],f[g],d);if(f[g].item){this.trigger(w,{item:a(e[g]),data:f[g].item,ns:c.ui})}}}}function M(a,b){var c;if(b>0){c=a.splice(0,b);a.push.apply(a,c)}else{c=a.splice(b,-b);a.unshift.apply(a,c)}return c}function N(c,d,e){var f=e.template;c=a(c);if(!d.item){f=e.placeholderTemplate}if(d.index===0&&this.header&&d.group){this.header.html(e.fixedGroupTemplate(d.group))}this.angular("cleanup",function(){return{elements:[c]}});c.attr("data-uid",d.item?d.item.uid:"").attr("data-offset-index",d.index).html(f(d.item||{}));c.toggleClass(r,d.current);c.toggleClass(q,d.selected);c.toggleClass("k-first",d.newGroup);c.toggleClass("k-loading-item",!d.item);if(d.index!==0&&d.newGroup){a("<div class="+p+"></div>").appendTo(c).html(e.groupTemplate(d.group))}if(d.top!==b){K(c[0],d.top)}this.angular("compile",function(){return{elements:[c],data:[{dataItem:d.item,group:d.group,newGroup:d.newGroup}]}})}function O(a,b){var c=b.length;var d=a.length;var e;var f;var g,h;var i=[];var j=[];if(d){for(g=0;g<d;g++){e=a[g];f=false;for(h=0;h<c;h++){if(e===b[h]){f=true;i.push({index:g,item:e});break}}if(!f){j.push(e)}}}return{changed:i,unchanged:j}}function P(a){return a&&a.state()!=="resolved"}var Q=f.extend({init:function(b,d){var f=this;f.bound(false);f._fetching=false;e.fn.init.call(f,b,d);if(!f.options.itemHeight){f.options.itemHeight=F()}d=f.options;f.element.addClass(k+" "+i).attr("role","listbox");f.content=f.element.wrap("<div unselectable='on' class='"+j+"'></div>").parent();f.wrapper=f.content.wrap("<div class='"+h+"'></div>").parent();f.header=f.content.before("<div class='"+l+"'></div>").prev();f.element.on("mouseenter"+z,"li:not(.k-loading-item)",function(){a(this).addClass(s)}).on("mouseleave"+z,"li",function(){a(this).removeClass(s)});f._values=B(f.options.value);f._selectedDataItems=[];f._selectedIndexes=[];f._rangesList={};f._promisesList=[];f._optionID=c.guid();f._templates();f.setDataSource(d.dataSource);f.content.on("scroll"+z,c.throttle(function(){f._renderItems();f._triggerListBound()},d.delay));f._selectable()},options:{name:"VirtualList",autoBind:true,delay:100,height:null,listScreens:4,threshold:.5,itemHeight:null,oppositeBuffer:1,type:"flat",selectable:false,value:[],dataValueField:null,template:"#:data#",placeholderTemplate:"loading...",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",mapValueTo:"index",valueMapper:null},events:[t,u,v,w,x,y],setOptions:function(a){e.fn.setOptions.call(this,a);if(this._selectProxy&&this.options.selectable===false){this.element.off(u,"."+m,this._selectProxy)}else if(!this._selectProxy&&this.options.selectable){this._selectable()}this._templates();this.refresh()},items:function(){return a(this._items)},destroy:function(){this.wrapper.off(z);this.dataSource.unbind(t,this._refreshHandler);e.fn.destroy.call(this)},setDataSource:function(b){var d=this;var e=b||{};var f;e=a.isArray(e)?{data:e}:e;e=c.data.DataSource.create(e);if(d.dataSource){d.dataSource.unbind(t,d._refreshHandler);d._clean();d.bound(false);d._deferValueSet=true;f=d.value();d.value([]);d.mute(function(){d.value(f)})}else{d._refreshHandler=a.proxy(d.refresh,d)}d.dataSource=e.bind(t,d._refreshHandler);d.setDSFilter(e.filter());if(e.view().length!==0){d.refresh()}else if(d.options.autoBind){e.fetch()}},skip:function(){return this.dataSource.currentRangeStart()},_triggerListBound:function(){var a=this;var b=a.skip();if(a.bound()&&!a._selectingValue&&a._skip!==b){a._skip=b;a.trigger(v)}},_getValues:function(b){var c=this._valueGetter;return a.map(b,function(a){return c(a)})},_highlightSelectedItems:function(){for(var a=0;a<this._selectedDataItems.length;a++){var b=this._getElementByDataItem(this._selectedDataItems[a]);if(b.length){b.addClass(q)}}},refresh:function(a){var b=this;var c=a&&a.action;var d=c==="itemchange";var e=this.isFiltered();var f;if(b._mute){return}b._deferValueSet=false;if(!b._fetching){if(e){b.focus(0)}b._createList();if(!c&&b._values.length&&!e&&!b.options.skipUpdateOnBind){b._selectingValue=true;b.bound(true);b.value(b._values,true).done(function(){b._selectingValue=false;b._triggerListBound()})}else{b.bound(true);b._highlightSelectedItems();b._triggerListBound()}}else{if(b._renderItems){b._renderItems(true)}b._triggerListBound()}if(d||c==="remove"){f=O(b._selectedDataItems,a.items);if(f.changed.length){if(d){b.trigger("selectedItemChange",{items:f.changed})}else{b.value(b._getValues(f.unchanged))}}}b._fetching=false},removeAt:function(a){this._selectedIndexes.splice(a,1);this._values.splice(a,1);return{position:a,dataItem:this._selectedDataItems.splice(a,1)[0]}},setValue:function(a){this._values=B(a)},value:function(c,d){var e=this;if(c===b){return e._values.slice()}if(c===null){c=[]}c=B(c);if(!e._valueDeferred||e._valueDeferred.state()==="resolved"){e._valueDeferred=a.Deferred()}var f=e.options.selectable==="multiple"&&e.select().length&&c.length;if(f||!c.length){e.select(-1)}e._values=c;if(e.bound()&&!e._mute&&!e._deferValueSet||d){e._prefetchByValue(c)}return e._valueDeferred},_prefetchByValue:function(a){var b=this,c=b._dataView,d=b._valueGetter,e=b.options.mapValueTo,f,g=false,h=[];for(var i=0;i<a.length;i++){for(var j=0;j<c.length;j++){f=c[j].item;if(f){g=C(f)?a[i]===f:a[i]===d(f);if(g){h.push(c[j].index)}}}}if(h.length===a.length){b._values=[];b.select(h);return}if(typeof b.options.valueMapper==="function"){b.options.valueMapper({value:this.options.selectable==="multiple"?a:a[0],success:function(a){if(e==="index"){b.mapValueToIndex(a)}else if(e==="dataItem"){b.mapValueToDataItem(a)}}})}else{b.select([-1])}},mapValueToIndex:function(a){if(a===b||a===-1||a===null){a=[]}else{a=B(a)}if(!a.length){a=[-1]}else{var c=this._deselect([]).removed;if(c.length){this._triggerChange(c,[])}}this.select(a)},mapValueToDataItem:function(c){var d,e;if(c===b||c===null){c=[]}else{c=B(c)}if(!c.length){this.select([-1])}else{d=a.map(this._selectedDataItems,function(a,b){return{index:b,dataItem:a}});e=a.map(c,function(a,b){return{index:b,dataItem:a}});this._selectedDataItems=c;this._selectedIndexes=[];for(var f=0;f<this._selectedDataItems.length;f++){var g=this._getElementByDataItem(this._selectedDataItems[f]);this._selectedIndexes.push(this._getIndecies(g)[0]);g.addClass(q)}this._triggerChange(d,e);if(this._valueDeferred){this._valueDeferred.resolve()}}},deferredRange:function(b){var c=this.dataSource;var d=this.itemCount;var e=this._rangesList;var f=a.Deferred();var g=[];var h=Math.floor(b/d)*d;var i=Math.ceil(b/d)*d;var j=i===h?[i]:[h,i];a.each(j,function(b,f){var h=f+d;var i=e[f];var j;if(!i||i.end!==h){j=a.Deferred();e[f]={end:h,deferred:j};c._multiplePrefetch(f,d,function(){j.resolve()})}else{j=i.deferred}g.push(j)});a.when.apply(a,g).then(function(){f.resolve()});return f},prefetch:function(b){var c=this,d=this.itemCount,e=!c._promisesList.length;if(!P(c._activeDeferred)){c._activeDeferred=a.Deferred();c._promisesList=[]}a.each(b,function(a,b){c._promisesList.push(c.deferredRange(c._getSkip(b,d)))});if(e){a.when.apply(a,c._promisesList).done(function(){c._promisesList=[];c._activeDeferred.resolve()})}return c._activeDeferred},_findDataItem:function(a,b){var c;if(this.options.type==="group"){for(var d=0;d<a.length;d++){c=a[d].items;if(c.length<=b){b=b-c.length}else{return c[b]}}}return a[b]},_getRange:function(a,b){return this.dataSource._findRange(a,Math.min(a+b,this.dataSource.total()))},dataItemByIndex:function(b){var d=this;var e=d.itemCount;var f=d._getSkip(b,e);var g=this._getRange(f,e);if(!d._getRange(f,e).length){return null}if(d.options.type==="group"){c.ui.progress(a(d.wrapper),true);d.mute(function(){d.dataSource.range(f,e,function(){c.ui.progress(a(d.wrapper),false)});g=d.dataSource.view()})}return d._findDataItem(g,[b-f])},selectedDataItems:function(){return this._selectedDataItems.slice()},scrollWith:function(a){this.content.scrollTop(this.content.scrollTop()+a)},scrollTo:function(a){this.content.scrollTop(a)},scrollToIndex:function(a){this.scrollTo(a*this.options.itemHeight)},focus:function(c){var d,e,f,g,h=this.options.itemHeight,i=this._optionID,j=true;if(c===b){g=this.element.find("."+r);return g.length?g:null}if(typeof c==="function"){f=this.dataSource.flatView();for(var k=0;k<f.length;k++){if(c(f[k])){c=k;break}}}if(c instanceof Array){c=A(c)}if(isNaN(c)){d=a(c);e=parseInt(a(d).attr("data-offset-index"),10)}else{e=c;d=this._getElementByIndex(e)}if(e===-1){this.element.find("."+r).removeClass(r);this._focusedIndex=b;return}if(d.length){if(d.hasClass(r)){j=false}if(this._focusedIndex!==b){g=this._getElementByIndex(this._focusedIndex);g.removeClass(r).removeAttr("id");if(j){this.trigger(y)}}this._focusedIndex=e;d.addClass(r).attr("id",i);var l=this._getElementLocation(e);if(l==="top"){this.scrollTo(e*h)}else if(l==="bottom"){this.scrollTo(e*h+h-this._screenHeight)}else if(l==="outScreen"){this.scrollTo(e*h)}if(j){this.trigger(x)}}else{this._focusedIndex=e;this.items().removeClass(r);this.scrollToIndex(e)}},focusIndex:function(){return this._focusedIndex},focusFirst:function(){this.scrollTo(0);this.focus(0)},focusLast:function(){var a=this.dataSource.total();this.scrollTo(this.heightContainer.offsetHeight);this.focus(a)},focusPrev:function(){var a=this._focusedIndex;var b;if(!isNaN(a)&&a>0){a-=1;this.focus(a);b=this.focus();if(b&&b.hasClass("k-loading-item")){a+=1;this.focus(a)}return a}else{a=this.dataSource.total()-1;this.focus(a);return a}},focusNext:function(){var a=this._focusedIndex;var b=this.dataSource.total()-1;var c;if(!isNaN(a)&&a<b){a+=1;this.focus(a);c=this.focus();if(c&&c.hasClass("k-loading-item")){a-=1;this.focus(a)}return a}else{a=0;this.focus(a);return a}},_triggerChange:function(a,b){a=a||[];b=b||[];if(a.length||b.length){this.trigger(t,{removed:a,added:b})}},select:function(c){var d=this,e,f,g=d.options.selectable!=="multiple",h=P(d._activeDeferred),i=this.isFiltered(),j,k,l,m=[];if(c===b){return d._selectedIndexes.slice()}if(!d._selectDeferred||d._selectDeferred.state()==="resolved"){d._selectDeferred=a.Deferred()}e=d._getIndecies(c);j=g&&!i&&A(e)===A(this._selectedIndexes);m=d._deselectCurrentValues(e);if(m.length||!e.length||j){d._triggerChange(m);if(d._valueDeferred){d._valueDeferred.resolve().promise()}return d._selectDeferred.resolve().promise()}if(e.length===1&&e[0]===-1){e=[]}f=e;l=d._deselect(e);m=l.removed;e=l.indices;if(g){h=false;if(e.length){e=[A(e)]}}var n=function(){var a=d._select(e);if(f.length===e.length||g){d.focus(e)}d._triggerChange(m,a);if(d._valueDeferred){d._valueDeferred.resolve()}d._selectDeferred.resolve()};k=d.prefetch(e);if(!h){if(k){k.done(n)}else{n()}}return d._selectDeferred.promise()},bound:function(a){if(a===b){return this._listCreated}this._listCreated=a},mute:function(a){this._mute=true;g(a(),this);this._mute=false},setDSFilter:function(b){this._lastDSFilter=a.extend({},b)},isFiltered:function(){if(!this._lastDSFilter){this.setDSFilter(this.dataSource.filter())}return!c.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},skipUpdate:a.noop,_getElementByIndex:function(b){return this.items().filter(function(c,d){return b===parseInt(a(d).attr("data-offset-index"),10)})},_getElementByDataItem:function(b){var c=this._dataView,d=this._valueGetter,e,f;for(var g=0;g<c.length;g++){f=c[g].item&&C(c[g].item)?c[g].item===b:c[g].item&&b&&d(c[g].item)==d(b);if(f){e=c[g];break}}return e?this._getElementByIndex(e.index):a()},_clean:function(){this.result=b;this._lastScrollTop=b;this._skip=b;a(this.heightContainer).remove();this.heightContainer=b;this.element.empty()},_height:function(){var a=!!this.dataSource.view().length,b=this.options.height,c=this.options.itemHeight,d=this.dataSource.total();if(!a){b=0}else if(b/c>d){b=d*c}return b},setScreenHeight:function(){var a=this._height();this.content.height(a);this._screenHeight=a},screenHeight:function(){return this._screenHeight},_getElementLocation:function(a){var b=this.content.scrollTop(),c=this._screenHeight,d=this.options.itemHeight,e=a*d,f=e+d,g=b+c,h;if(e===b-d||f>b&&e<b){h="top"}else if(e===g||e<g&&g<f){h="bottom"}else if(e>=b&&e<=b+(c-d)){h="inScreen"}else{h="outScreen"}return h},_templates:function(){var a=this.options;var b={template:a.template,placeholderTemplate:a.placeholderTemplate,groupTemplate:a.groupTemplate,fixedGroupTemplate:a.fixedGroupTemplate};for(var d in b){if(typeof b[d]!=="function"){b[d]=c.template(b[d]||"")}}this.templates=b},_generateItems:function(a,b){var c=[],d,e=this.options.itemHeight+"px";while(b-- >0){d=document.createElement("li");d.tabIndex=-1;d.className=m+" "+n;d.setAttribute("role","option");d.style.height=e;d.style.minHeight=e;a.appendChild(d);c.push(d)}return c},_saveInitialRanges:function(){var b=this.dataSource._ranges;var c=a.Deferred();c.resolve();this._rangesList={};for(var d=0;d<b.length;d++){this._rangesList[b[d].start]={end:b[d].end,deferred:c}}},_createList:function(){var b=this,c=b.content.get(0),d=b.options,e=b.dataSource;if(b.bound()){b._clean()}b._saveInitialRanges();b._buildValueGetter();b.setScreenHeight();b.itemCount=D(b._screenHeight,d.listScreens,d.itemHeight);if(b.itemCount>e.total()){b.itemCount=e.total()}b._items=b._generateItems(b.element[0],b.itemCount);b._setHeight(d.itemHeight*e.total());b.options.type=(e.group()||[]).length?"group":"flat";if(b.options.type==="flat"){b.header.hide()}else{b.header.show()}b.getter=b._getter(function(){b._renderItems(true)});b._onScroll=function(a,c){var d=b._listItems(b.getter);return b._fixedHeader(a,d(a,c))};b._renderItems=b._whenChanged(I(c,b._onScroll),J(b._reorderList(b._items,a.proxy(N,b))));b._renderItems();b._calculateGroupPadding(b._screenHeight)},_setHeight:function(a){var b,c=this.heightContainer;if(!c){c=this.heightContainer=E(this.content[0],o)}else{b=c.offsetHeight}if(a!==b){c.innerHTML="";while(a>0){var d=Math.min(a,25e4);E(c).style.height=d+"px";a-=d}}},_getter:function(){var a=null,b=this.dataSource,c=b.skip(),d=this.options.type,e=this.itemCount,f={};if(b.pageSize()<e){this.mute(function(){b.pageSize(e)})}return function(g,h){var i=this;if(!b.inRange(h,e)){if(a!==h){a=h;c=h;if(i._getterDeferred){i._getterDeferred.reject()}i._getterDeferred=i.deferredRange(h);i._getterDeferred.then(function(){var a=i._indexConstraint(i.content[0].scrollTop);i._getterDeferred=null;if(h<=a&&a<=h+e){i._fetching=true;b.range(h,e)}})}return null}else{if(c!==h){this.mute(function(){b.range(h,e);c=h})}var j;if(d==="group"){if(!f[h]){var k=f[h]=[];var l=b.view();for(var m=0,n=l.length;m<n;m++){var o=l[m];for(var p=0,q=o.items.length;p<q;p++){k.push({item:o.items[p],group:o.value})}}}j=f[h][g-h]}else{j=b.view()[g-h]}return j}}},_fixedHeader:function(a,b){var c=this.currentVisibleGroup,d=this.options.itemHeight,e=Math.floor((a-b.top)/d),f=b.items[e];if(f&&f.item){var g=f.group;if(g!==c){var h=g||"";this.header.html(this.templates.fixedGroupTemplate(h));this.currentVisibleGroup=g}}return b},_itemMapper:function(a,b,c){var d=this.options.type,e=this.options.itemHeight,f=this._focusedIndex,g=false,h=false,i=false,j=null,k=false,l=this._valueGetter;if(d==="group"){if(a){i=b===0||this._currentGroup&&this._currentGroup!==a.group;this._currentGroup=a.group}j=a?a.group:null;a=a?a.item:null}if(!this.isFiltered()&&c.length&&a){for(var m=0;m<c.length;m++){k=C(a)?c[m]===a:c[m]===l(a);if(k){c.splice(m,1);g=true;break}}}if(f===b){h=true}return{item:a?a:null,group:j,newGroup:i,selected:g,current:h,index:b,top:b*e}},_range:function(a){var b=this.itemCount,c=this._values.slice(),d=[],e;this._view={};this._currentGroup=null;for(var f=a,g=a+b;f<g;f++){e=this._itemMapper(this.getter(f,a),f,c);d.push(e);this._view[e.index]=e}this._dataView=d;return d},_getDataItemsCollection:function(a,b){var c=this._range(this._listIndex(a,b));return{index:c.length?c[0].index:0,top:c.length?c[0].top:0,items:c}},_listItems:function(){var b=this._screenHeight,c=this.options;var d=H(c,b);return a.proxy(function(a,b){var c=this.result,e=this._lastScrollTop;if(b||!c||!d(c,a,e)){c=this._getDataItemsCollection(a,e)}this._lastScrollTop=a;this.result=c;return c},this)},_whenChanged:function(a,b){var c;return function(d){var e=a(d);if(e!==c){c=e;b(e,d)}}},_reorderList:function(b,c){var d=this;var e=b.length;var f=-Infinity;c=a.proxy(L(c,this.templates),this);return function(a,g,h){var i=g-f;var j,k;if(h||Math.abs(i)>=e){j=b;k=a}else{j=M(b,i);k=i>0?a.slice(-i):a.slice(0,-i)}c(j,k,d.bound());f=g}},_bufferSizes:function(){var a=this.options;return G(this._screenHeight,a.listScreens,a.oppositeBuffer)},_indexConstraint:function(a){var b=this.itemCount,c=this.options.itemHeight,d=this.dataSource.total();return Math.min(Math.max(d-b,0),Math.max(0,Math.floor(a/c)))},_listIndex:function(a,b){var c=this._bufferSizes(),d;d=a-(a>b?c.down:c.up);return this._indexConstraint(d)},_selectable:function(){if(this.options.selectable){this._selectProxy=a.proxy(this,"_clickHandler");this.element.on(u+z,"."+m,this._selectProxy)}},getElementIndex:function(a){if(!(a instanceof jQuery)){return b}return parseInt(a.attr("data-offset-index"),10)},_getIndecies:function(a){var b=[],c;if(typeof a==="function"){c=this.dataSource.flatView();for(var d=0;d<c.length;d++){if(a(c[d])){b.push(d);break}}}if(typeof a==="number"){b.push(a)}var e=this.getElementIndex(a);if(!isNaN(e)){b.push(e)}if(a instanceof Array){b=a}return b},_deselect:function(c){var d=[],e,f,g=this._selectedIndexes,h=this._selectedDataItems,i=0,j=this.options.selectable,k=0,l=this._valueGetter,m,n,o=null;c=c.slice();if(j===true||!c.length){for(var p=0;p<g.length;p++){if(g[p]!==b){this._getElementByIndex(g[p]).removeClass(q)}else if(h[p]){this._getElementByDataItem(h[p]).removeClass(q)}d.push({index:g[p],position:p,dataItem:h[p]})}this._values=[];this._selectedDataItems=[];this._selectedIndexes=[]}else if(j==="multiple"){for(var r=0;r<c.length;r++){o=null;i=a.inArray(c[r],g);f=this.dataItemByIndex(c[r]);if(i===-1&&f){for(var s=0;s<h.length;s++){n=C(f)?h[s]===f:l(h[s])===l(f);if(n){m=this._getElementByIndex(c[r]);o=this._deselectSingleItem(m,s,c[r],k)}}}else{e=g[i];if(e!==b){m=this._getElementByIndex(e);o=this._deselectSingleItem(m,i,e,k)}}if(o){c.splice(r,1);d.push(o);k++;r--}}}return{indices:c,removed:d}},_deselectSingleItem:function(a,b,c,d){var e;if(!a.hasClass("k-state-selected")){return}a.removeClass(q);this._values.splice(b,1);this._selectedIndexes.splice(b,1);e=this._selectedDataItems.splice(b,1)[0];return{index:c,position:b+d,dataItem:e}},_deselectCurrentValues:function(b){var c=this.element[0].children;var d,e,f;var g=this._values;var h=[];var i=0;var j;if(this.options.selectable!=="multiple"||!this.isFiltered()){return[]}if(b[0]===-1){a(c).removeClass("k-state-selected");h=a.map(this._selectedDataItems.slice(0),function(a,b){return{dataItem:a,position:b}});this._selectedIndexes=[];this._selectedDataItems=[];this._values=[];return h}for(;i<b.length;i++){f=-1;e=b[i];if(this.dataItemByIndex(e)){d=this._valueGetter(this.dataItemByIndex(e))}for(j=0;j<g.length;j++){if(d==g[j]){f=j;break}}if(f>-1){h.push(this.removeAt(f));a(c[e]).removeClass("k-state-selected")}}return h},_getSkip:function(a,b){var c=a<b?1:Math.floor(a/b)+1;return(c-1)*b},_select:function(b){var c=this,d=this.options.selectable!=="multiple",e=this.dataSource,f,g,h=this.itemCount,i=this._valueGetter,j=[];if(d){c._selectedIndexes=[];c._selectedDataItems=[];c._values=[]}g=e.skip();a.each(b,function(a,b){var d=c._getSkip(b,h);c.mute(function(){e.range(d,h);f=c._findDataItem(e.view(),[b-d]);c._selectedIndexes.push(b);c._selectedDataItems.push(f);c._values.push(C(f)?f:i(f));j.push({index:b,dataItem:f});c._getElementByIndex(b).addClass(q);e.range(g,h)})});return j},_clickHandler:function(b){var c=a(b.currentTarget);if(!b.isDefaultPrevented()&&c.attr("data-uid")){this.trigger(u,{item:c})}},_buildValueGetter:function(){this._valueGetter=c.getter(this.options.dataValueField)},_calculateGroupPadding:function(a){var b=this.items().first(),d=this.header,e=0;if(d[0]&&d[0].style.display!=="none"){if(a!=="auto"){e=c.support.scrollbar()}e+=parseFloat(b.css("border-right-width"),10)+parseFloat(b.children(".k-group").css("right"),10);d.css("padding-right",e)}}});c.ui.VirtualList=Q;c.ui.plugin(Q)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.autocomplete",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],a)})(function(){var a={id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",
name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};(function(a,b){var c=window.kendo,d=c.support,e=c.caret,f=c._activeElement,g=d.placeholder,h=c.ui,i=h.List,j=c.keys,k=c.data.DataSource,l="aria-disabled",m="aria-readonly",n="change",o="k-state-default",p="disabled",q="readonly",r="k-state-focused",s="k-state-selected",t="k-state-disabled",u="k-state-hover",v=".kendoAutoComplete",w="mouseenter"+v+" mouseleave"+v,x=a.proxy;function y(a,b,c){return c?b.substring(0,a).split(c).length-1:0}function z(a,b,c){return b.split(c)[y(a,b,c)]}function A(a,b,c,d,e){var f=b.split(d);f.splice(y(a,b,d),1,c);if(d&&f[f.length-1]!==""){f.push("")}return f.join(e)}var B=i.extend({init:function(b,d){var e=this,f,h;e.ns=v;d=a.isArray(d)?{dataSource:d}:d;i.fn.init.call(e,b,d);b=e.element;d=e.options;d.placeholder=d.placeholder||b.attr("placeholder");if(g){b.attr("placeholder",d.placeholder)}e._wrapper();e._loader();e._clearButton();e._dataSource();e._ignoreCase();b[0].type="text";f=e.wrapper;e._popup();b.addClass("k-input").on("keydown"+v,x(e._keydown,e)).on("keypress"+v,x(e._keypress,e)).on("input"+v,x(e._search,e)).on("paste"+v,x(e._search,e)).on("focus"+v,function(){e._prev=e._accessor();e._oldText=e._prev;e._placeholder(false);f.addClass(r)}).on("focusout"+v,function(){e._change();e._placeholder();e.close();f.removeClass(r)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});e._clear.on("click"+v,x(e._clearValue,e));e._enable();e._old=e._accessor();if(b[0].id){b.attr("aria-owns",e.ul[0].id)}e._aria();e._placeholder();e._initList();h=a(e.element).parents("fieldset").is(":disabled");if(h){e.enable(false)}e.listView.bind("click",function(a){a.preventDefault()});e._resetFocusItemHandler=a.proxy(e._resetFocusItem,e);c.notify(e);e._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:false,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},virtual:false,value:null,clearButton:true,autoWidth:false},_dataSource:function(){var a=this;if(a.dataSource&&a._refreshHandler){a._unbindDataSource()}else{a._progressHandler=x(a._showBusy,a);a._errorHandler=x(a._hideBusy,a)}a.dataSource=k.create(a.options.dataSource).bind("progress",a._progressHandler).bind("error",a._errorHandler)},setDataSource:function(a){this.options.dataSource=a;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close",n,"select","filtering","dataBinding","dataBound"],setOptions:function(a){var b=this._listOptions(a);i.fn.setOptions.call(this,a);this.listView.setOptions(b);this._accessors();this._aria();this._clearButton()},_listOptions:function(b){var c=i.fn._listOptions.call(this,a.extend(b,{skipUpdateOnBind:true}));c.dataValueField=c.dataTextField;c.selectedItemChange=null;return c},_editable:function(a){var b=this,c=b.element,d=b.wrapper.off(v),e=a.readonly,f=a.disable;if(!e&&!f){d.addClass(o).removeClass(t).on(w,b._toggleHover);c.removeAttr(p).removeAttr(q).attr(l,false).attr(m,false)}else{d.addClass(f?t:o).removeClass(f?o:t);c.attr(p,f).attr(q,e).attr(l,f).attr(m,e)}},close:function(){var a=this;var b=a.listView.focus();if(b){b.removeClass(s)}a.popup.close()},destroy:function(){var a=this;a.element.off(v);a._clear.off(v);a.wrapper.off(v);i.fn.destroy.call(a)},refresh:function(){this.listView.refresh()},select:function(a){this._select(a)},search:function(b){var c=this,d=c.options,f=d.ignoreCase,g=c._separator(),h;b=b||c._accessor();clearTimeout(c._typingTimeout);if(g){b=z(e(c.element)[0],b,g)}h=b.length;if(!d.enforceMinLength&&!h||h>=d.minLength){c._open=true;c._mute(function(){this.listView.value([])});c._filterSource({value:f?b.toLowerCase():b,operator:d.filter,field:d.dataTextField,ignoreCase:f});c.one("close",a.proxy(c._unifySeparators,c))}c._toggleCloseVisibility()},suggest:function(a){var c=this,d=c._last,g=c._accessor(),h=c.element[0],k=e(h)[0],l=c._separator(),m=g.split(l),n=y(k,g,l),o=k,p;if(d==j.BACKSPACE||d==j.DELETE){c._last=b;return}a=a||"";if(typeof a!=="string"){if(a[0]){a=c.dataSource.view()[i.inArray(a[0],c.ul[0])]}a=a?c._text(a):""}if(k<=0){k=g.toLowerCase().indexOf(a.toLowerCase())+1}p=g.substring(0,k).lastIndexOf(l);p=p>-1?k-(p+l.length):k;g=m[n].substring(0,p);if(a){a=a.toString();p=a.toLowerCase().indexOf(g.toLowerCase());if(p>-1){a=a.substring(p+g.length);o=k+a.length;g+=a}if(l&&m[m.length-1]!==""){m.push("")}}m[n]=g;c._accessor(m.join(l||""));if(h===f()){e(h,k,o)}},value:function(a){if(a!==b){this.listView.value(a);this._accessor(a);this._old=this._accessor();this._oldText=this._accessor()}else{return this._accessor()}this._toggleCloseVisibility()},_click:function(a){var b=a.item;var c=this;var d=c.element;var f=c.listView.dataItemByIndex(c.listView.getElementIndex(b));a.preventDefault();c._active=true;if(c.trigger("select",{dataItem:f,item:b})){c.close();return}c._oldText=d.val();c._select(b).done(function(){c._blur();e(d,d.val().length)})},_clearText:a.noop,_resetFocusItem:function(){var a=this.options.highlightFirst?0:-1;if(this.options.virtual){this.listView.scrollTo(0)}this.listView.focus(a)},_listBound:function(){var a=this;var c=a.popup;var d=a.options;var e=a.dataSource.flatView();var g=e.length;var h=a.dataSource._group.length;var i=a.element[0]===f();var j;a._renderFooter();a._renderNoData();a._toggleNoData(!g);a._toggleHeader(!!h&&!!g);a._resizePopup();c.position();if(g){if(d.suggest&&i){a.suggest(e[0])}}if(a._open){a._open=false;j=a._allowOpening()?"open":"close";if(a._typingTimeout&&!i){j="close"}if(g){a._resetFocusItem();if(d.virtual){a.popup.unbind("activate",a._resetFocusItemHandler).one("activate",a._resetFocusItemHandler)}}c[j]();a._typingTimeout=b}if(a._touchScroller){a._touchScroller.reset()}a._hideBusy();a._makeUnselectable();a.trigger("dataBound")},_mute:function(a){this._muted=true;a.call(this);this._muted=false},_listChange:function(){var a=this._active||this.element[0]===f();if(a&&!this._muted){this._selectValue(this.listView.selectedDataItems()[0])}},_selectValue:function(a){var b=this._separator();var c="";if(a){c=this._text(a)}if(c===null){c=""}if(b){c=A(e(this.element)[0],this._accessor(),c,b,this._defaultSeparator())}this._prev=c;this._accessor(c);this._placeholder()},_unifySeparators:function(){this._accessor(this.value().split(this._separator()).join(this._defaultSeparator()));return this},_preselect:function(a,b){this._inputValue(b);this._accessor(a);this._old=this.oldText=this._accessor();this.listView.setValue(a);this._placeholder()},_change:function(){var a=this;var b=a._unifySeparators().value();var c=b!==i.unifyType(a._old,typeof b);var d=c&&!a._typing;var e=a._oldText!==b;a._old=b;a._oldText=b;if(d||e){a.element.trigger(n)}if(c){a.trigger(n)}a.typing=false;a._toggleCloseVisibility()},_accessor:function(a){var c=this,d=c.element[0];if(a!==b){d.value=a===null?"":a;c._placeholder()}else{a=d.value;if(d.className.indexOf("k-readonly")>-1){if(a===c.options.placeholder){return""}else{return a}}return a}},_keydown:function(a){var b=this;var c=a.keyCode;var d=b.listView;var e=b.popup.visible();var f=d.focus();b._last=c;if(c===j.DOWN){if(e){this._move(f?"focusNext":"focusFirst")}else if(b.value()){b._filterSource({value:b.ignoreCase?b.value().toLowerCase():b.value(),operator:b.options.filter,field:b.options.dataTextField,ignoreCase:b.ignoreCase}).done(function(){b._resetFocusItem();b.popup.open()})}a.preventDefault()}else if(c===j.UP){if(e){this._move(f?"focusPrev":"focusLast")}a.preventDefault()}else if(c===j.HOME){this._move("focusFirst")}else if(c===j.END){this._move("focusLast")}else if(c===j.ENTER||c===j.TAB){if(c===j.ENTER&&e){a.preventDefault()}if(e&&f){var g=d.dataItemByIndex(d.getElementIndex(f));if(b.trigger("select",{dataItem:g,item:f})){return}this._select(f)}this._blur()}else if(c===j.ESC){if(e){a.preventDefault()}else{b._clearValue()}b.close()}else if(b.popup.visible()&&(c===j.PAGEDOWN||c===j.PAGEUP)){a.preventDefault();var h=c===j.PAGEDOWN?1:-1;d.scrollWith(h*d.screenHeight())}else{b.popup._hovered=true;b._search()}},_keypress:function(){this._oldText=this.element.val();this._typing=true},_move:function(a){this.listView[a]();if(this.options.suggest){this.suggest(this.listView.focus())}},_hideBusy:function(){var a=this;clearTimeout(a._busy);a._loading.hide();a.element.attr("aria-busy",false);a._busy=null;a._showClear()},_showBusy:function(){var a=this;if(a._busy){return}a._busy=setTimeout(function(){a.element.attr("aria-busy",true);a._loading.show();a._hideClear()},100)},_placeholder:function(a){if(g){return}var c=this,d=c.element,f=c.options.placeholder,h;if(f){h=d.val();if(a===b){a=!h}if(!a){if(h!==f){f=h}else{f=""}}if(h===c._old&&!a){return}d.toggleClass("k-readonly",a).val(f);if(!f&&d[0]===document.activeElement){e(d[0],0,0)}}},_separator:function(){var a=this.options.separator;if(a instanceof Array){return new RegExp(a.join("|"),"gi")}return a},_defaultSeparator:function(){var a=this.options.separator;if(a instanceof Array){return a[0]}return a},_inputValue:function(){return this.element.val()},_search:function(){var a=this;clearTimeout(a._typingTimeout);a._typingTimeout=setTimeout(function(){if(a._prev!==a._accessor()){a._prev=a._accessor();a.search()}},a.options.delay)},_select:function(a){var b=this;b._active=true;return b.listView.select(a).done(function(){b._active=false})},_loader:function(){this._loading=a('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){i.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.element);this.wrapper.addClass("k-autocomplete-clearable")}},_toggleHover:function(b){a(b.currentTarget).toggleClass(u,b.type==="mouseenter")},_toggleCloseVisibility:function(){if(this.value()){this._showClear()}else{this._hideClear()}},_wrapper:function(){var a=this,b=a.element,c=b[0],d;d=b.parent();if(!d.is("span.k-widget")){d=b.wrap("<span />").parent()}d.attr("tabindex",-1);d.attr("role","presentation");d[0].style.cssText=c.style.cssText;b.css({width:"",height:c.style.height});a._focused=a.element;a.wrapper=d.addClass("k-widget k-autocomplete k-header").addClass(c.className)}});h.plugin(B)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dropdownlist",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],a)})(function(){var a={id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};(function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=d.Select,g=c.support,h=c._activeElement,i=c.data.ObservableObject,j=c.keys,k=".kendoDropDownList",l=k+"FocusEvent",m="disabled",n="readonly",o="change",p="k-state-focused",q="k-state-default",r="k-state-disabled",s="aria-disabled",t="mouseenter"+k+" mouseleave"+k,u="tabindex",v="filter",w="accept",x="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",y=a.proxy;var z=f.extend({init:function(d,e){var g=this;var h=e&&e.index;var i,j,l;g.ns=k;e=a.isArray(e)?{dataSource:e}:e;f.fn.init.call(g,d,e);e=g.options;d=g.element.on("focus"+k,y(g._focusHandler,g));g._focusInputHandler=a.proxy(g._focusInput,g);g.optionLabel=a();g._optionLabel();g._inputTemplate();g._reset();g._prev="";g._word="";g._wrapper();g._tabindex();g.wrapper.data(u,g.wrapper.attr(u));g._span();g._popup();g._mobile();g._dataSource();g._ignoreCase();g._filterHeader();g._aria();g.wrapper.attr("aria-live","polite");g._enable();g._attachFocusHandlers();g._oldIndex=g.selectedIndex=-1;if(h!==b){e.index=h}g._initialIndex=e.index;g.requireValueMapper(g.options);g._initList();g._cascade();g.one("set",function(a){if(!a.sender.listView.bound()&&g.hasOptionLabel()){g._textAccessor(g._optionLabelText())}});if(e.autoBind){g.dataSource.fetch()}else if(g.selectedIndex===-1){j=e.text||"";if(!j){i=e.optionLabel;if(i&&e.index===0){j=i}else if(g._isSelect){j=d.children(":selected").text()}}g._textAccessor(j)}l=a(g.element).parents("fieldset").is(":disabled");if(l){g.enable(false)}g.listView.bind("click",function(a){a.preventDefault()});c.notify(g)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},filter:"none",minLength:1,enforceMinLength:false,virtual:false,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:false},events:["open","close",o,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(a){f.fn.setOptions.call(this,a);this.listView.setOptions(this._listOptions(a));this._optionLabel();this._inputTemplate();this._accessors();this._filterHeader();this._enable();this._aria();if(!this.value()&&this.hasOptionLabel()){this.select(0)}},destroy:function(){var a=this;f.fn.destroy.call(a);a.wrapper.off(k);a.wrapper.off(l);a.element.off(k);a._inputWrapper.off(k);a._arrow.off();a._arrow=null;a._arrowIcon=null;a.optionLabel.off()},open:function(){var a=this;var b=a.dataSource.filter()?a.dataSource.filter().filters.length>0:false;if(a.popup.visible()){return}if(!a.listView.bound()||a._state===w){a._open=true;a._state="rebind";if(a.filterInput){a.filterInput.val("");a._prev=""}if(a.filterInput&&a.options.minLength!==1&&!b){a.refresh();a.popup.one("activate",a._focusInputHandler);a.popup.open();a._resizeFilterInput()}else{a._filterSource()}}else if(a._allowOpening()){a._focusFilter=true;a.popup.one("activate",a._focusInputHandler);a.popup._hovered=true;a.popup.open();a._resizeFilterInput();a._focusItem()}},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var a=this.filterInput;var b=this._prevent;if(!a){return}var d=this.filterInput[0]===h();var e=c.caret(this.filterInput[0])[0];this._prevent=true;a.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block");if(d){a.focus();c.caret(a[0],e)}this._prevent=b},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||f.fn._allowOpening.call(this)},toggle:function(a){this._toggle(a,true)},current:function(a){var c;if(a===b){c=this.listView.focus();if(!c&&this.selectedIndex===0&&this.hasOptionLabel()){return this.optionLabel}return c}this._focus(a)},dataItem:function(c){var d=this;var e=null;if(c===null){return c}if(c===b){e=d.listView.selectedDataItems()[0]}else{if(typeof c!=="number"){if(d.options.virtual){return d.dataSource.getByUid(a(c).data("uid"))}if(c.hasClass("k-list-optionlabel")){c=-1}else{c=a(d.items()).index(c)}}else if(d.hasOptionLabel()){c-=1}e=d.dataSource.flatView()[c]}if(!e){e=d._optionLabelDataItem()}return e},refresh:function(){this.listView.refresh()},text:function(a){var c=this;var d;var e=c.options.ignoreCase;a=a===null?"":a;if(a!==b){if(typeof a!=="string"){c._textAccessor(a);return}d=e?a.toLowerCase():a;c._select(function(a){a=c._text(a);if(e){a=(a+"").toLowerCase()}return a===d}).done(function(){c._textAccessor(c.dataItem()||a)})}else{return c._textAccessor()}},_clearFilter:function(){a(this.filterInput).val("");f.fn._clearFilter.call(this)},value:function(a){var c=this;var d=c.listView;var e=c.dataSource;if(a===b){a=c._accessor()||c.listView.value()[0];return a===b||a===null?"":a}c.requireValueMapper(c.options,a);if(a||!c.hasOptionLabel()){c._initialIndex=null}this.trigger("set",{value:a});if(c._request&&c.options.cascadeFrom&&c.listView.bound()){if(c._valueSetter){e.unbind(o,c._valueSetter)}c._valueSetter=y(function(){c.value(a)},c);e.one(o,c._valueSetter);return}if(c._isFilterEnabled()&&d.bound()&&d.isFiltered()){c._clearFilter()}else{c._fetchData()}d.value(a).done(function(){c._old=c._accessor();c._oldIndex=c.selectedIndex})},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var b=this;var d=b.options;var e=d.optionLabel;var f=d.optionLabelTemplate;if(!e){b.optionLabel.off().remove();b.optionLabel=a();return}if(!f){f="#:";if(typeof e==="string"){f+="data"}else{f+=c.expr(d.dataTextField,"data")}f+="#"}if(typeof f!=="function"){f=c.template(f)}b.optionLabelTemplate=f;if(!b.hasOptionLabel()){b.optionLabel=a('<div class="k-list-optionlabel"></div>').prependTo(b.list)}b.optionLabel.html(f(e)).off().click(y(b._click,b)).on(t,b._toggleHover);b.angular("compile",function(){return{elements:b.optionLabel,data:[{dataItem:b._optionLabelDataItem()}]}})},_optionLabelText:function(){var a=this.options.optionLabel;return typeof a==="string"?a:this._text(a)},_optionLabelDataItem:function(){var c=this;var d=c.options.optionLabel;if(c.hasOptionLabel()){return a.isPlainObject(d)?new i(d):c._assignInstance(c._optionLabelText(),"")}return b},_buildOptions:function(a){var c=this;if(!c._isSelect){return}var d=c.listView.value()[0];var f=c._optionLabelDataItem();var g=f&&c._value(f);if(d===b||d===null){d=""}if(f){if(g===b||g===null){g=""}f='<option value="'+g+'">'+c._text(f)+"</option>"}c._options(a,f,d);if(d!==e.unifyType(c._accessor(),typeof d)){c._customOption=null;c._custom(d)}},_listBound:function(){var a=this;var b=a._initialIndex;var c=a._state===v;var d=a.dataSource.flatView();var e;a._presetValue=false;a._renderFooter();a._renderNoData();a._toggleNoData(!d.length);a._resizePopup(true);a.popup.position();a._buildOptions(d);a._makeUnselectable();if(!c){if(a._open){a.toggle(a._allowOpening())}a._open=false;if(!a._fetch){if(d.length){if(!a.listView.value().length&&b>-1&&b!==null){a.select(b)}a._initialIndex=null;e=a.listView.selectedDataItems()[0];if(e&&a.text()!==a._text(e)){a._selectValue(e)}}else if(a._textAccessor()!==a._optionLabelText()){a.listView.value("");a._selectValue(null);a._oldIndex=a.selectedIndex}}}a._hideBusy();a.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue||this._old&&this._oldIndex===-1){this._oldIndex=this.selectedIndex}},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var a=this;var b=a.wrapper;b.on("focusin"+l,y(a._focusinHandler,a)).on("focusout"+l,y(a._focusoutHandler,a))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(p);this._prevent=false},_focusoutHandler:function(){var a=this;var b=window.self!==window.top;if(!a._prevent){clearTimeout(a._typingTimeout);if(g.mobileOS.ios&&b){a._change()}else{a._blur()}a._inputWrapper.removeClass(p);a._prevent=true;a._open=false;a.element.blur()}},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(a){a.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._prevent=false;this._toggle()},_editable:function(a){var b=this;var c=b.element;var d=a.disable;var e=a.readonly;var f=b.wrapper.add(b.filterInput).off(k);var g=b._inputWrapper.off(t);if(!e&&!d){c.removeAttr(m).removeAttr(n);g.addClass(q).removeClass(r).on(t,b._toggleHover);f.attr(u,f.data(u)).attr(s,false).on("keydown"+k,y(b._keydown,b)).on("mousedown"+k,y(b._wrapperMousedown,b)).on("paste"+k,y(b._filterPaste,b));b.wrapper.on("click"+k,y(b._wrapperClick,b));if(!b.filterInput){f.on("keypress"+k,y(b._keypress,b))}else{f.on("input"+k,y(b._search,b))}}else if(d){f.removeAttr(u);g.addClass(r).removeClass(q)}else{g.addClass(q).removeClass(r)}c.attr(m,d).attr(n,e);f.attr(s,d)},_keydown:function(a){var b=this;var c=a.keyCode;var d=a.altKey;var e;var f;var g=b.popup.visible();if(b.filterInput){e=b.filterInput[0]===h()}if(c===j.LEFT){c=j.UP;f=true}else if(c===j.RIGHT){c=j.DOWN;f=true}if(f&&e){return}a.keyCode=c;if(d&&c===j.UP||c===j.ESC){b._focusElement(b.wrapper)}if(b._state===v&&c===j.ESC){b._clearFilter();b._open=false;b._state=w}if(c===j.ENTER&&b._typingTimeout&&b.filterInput&&g){a.preventDefault();return}if(c===j.SPACEBAR&&!e){b.toggle(!g);a.preventDefault()}f=b._move(a);if(f){return}if(!g||!b.filterInput){var i=b._focus();if(c===j.HOME){f=true;b._firstItem()}else if(c===j.END){f=true;b._lastItem()}if(f){if(b.trigger("select",{dataItem:b._getElementDataItem(b._focus()),item:b._focus()})){b._focus(i);return}b._select(b._focus(),true).done(function(){if(!g){b._blur()}});a.preventDefault()}}if(!d&&!f&&b.filterInput){b._search()}},_matchText:function(a,c){var d=this.options.ignoreCase;if(a===b||a===null){return false}a=a+"";if(d){a=a.toLowerCase()}return a.indexOf(c)===0},_shuffleData:function(a,b){var c=this._optionLabelDataItem();if(c){a=[c].concat(a)}return a.slice(b).concat(a.slice(0,b))},_selectNext:function(){var a=this;var b=a.dataSource.flatView();var c=b.length+(a.hasOptionLabel()?1:0);var d=C(a._word,a._last);var e=a.selectedIndex;var f;var g;if(e===-1){e=0}else{e+=d?1:0;e=B(e,c)}b=b.toJSON?b.toJSON():b.slice();b=a._shuffleData(b,e);for(var h=0;h<c;h++){g=a._text(b[h]);if(d&&a._matchText(g,a._last)){break}else if(a._matchText(g,a._word)){break}}if(h!==c){f=a._focus();a._select(B(e+h,c)).done(function(){var b=function(){if(!a.popup.visible()){a._change()}};if(a.trigger("select",{dataItem:a._getElementDataItem(a._focus()),item:a._focus()})){a._select(f).done(b)}else{b()}})}},_keypress:function(a){var b=this;if(a.which===0||a.keyCode===c.keys.ENTER){return}var d=String.fromCharCode(a.charCode||a.keyCode);if(b.options.ignoreCase){d=d.toLowerCase()}if(d===" "){a.preventDefault()}b._word+=d;b._last=d;b._search()},_popupOpen:function(){var a=this.popup;a.wrapper=c.wrap(a.element);if(a.element.closest(".km-root")[0]){a.wrapper.addClass("km-popup km-widget");this.wrapper.addClass("km-widget")}},_popup:function(){f.fn._popup.call(this);this.popup.one("open",y(this._popupOpen,this))},_getElementDataItem:function(a){if(!a||!a[0]){return null}if(a[0]===this.optionLabel[0]){return this._optionLabelDataItem()}return this.listView.dataItemByIndex(this.listView.getElementIndex(a))},_click:function(b){var c=this;var d=b.item||a(b.currentTarget);b.preventDefault();if(c.trigger("select",{dataItem:c._getElementDataItem(d),item:d})){c.close();return}c._userTriggered=true;c._select(d).done(function(){c._focusElement(c.wrapper);c._blur()})},_focusElement:function(a){var b=h();var c=this.wrapper;var d=this.filterInput;var e=a===d?c:d;var f=g.mobileOS&&(g.touch||g.MSPointers||g.pointers);if(d&&d[0]===a[0]&&f){return}if(d&&(e[0]===b||this._focusFilter)){this._focusFilter=false;this._prevent=true;this._focused=a.focus()}},_searchByWord:function(a){if(!a){return}var b=this;var c=b.options.ignoreCase;if(c){a=a.toLowerCase()}b._select(function(c){return b._matchText(b._text(c),a)})},_inputValue:function(){return this.text()},_search:function(){var a=this;var b=a.dataSource;clearTimeout(a._typingTimeout);if(a._isFilterEnabled()){a._typingTimeout=setTimeout(function(){var b=a.filterInput.val();if(a._prev!==b){a._prev=b;a.search(b);a._resizeFilterInput()}a._typingTimeout=null},a.options.delay)}else{a._typingTimeout=setTimeout(function(){a._word=""},a.options.delay);if(!a.listView.bound()){b.fetch().done(function(){a._selectNext()});return}a._selectNext()}},_get:function(b){var c,d,e;var f=typeof b==="function";var g=!f?a(b):a();if(this.hasOptionLabel()){if(typeof b==="number"){if(b>-1){b-=1}}else if(g.hasClass("k-list-optionlabel")){b=-1}}if(f){c=this.dataSource.flatView();for(e=0;e<c.length;e++){if(b(c[e])){b=e;d=true;break}}if(!d){b=-1}}return b},_firstItem:function(){if(this.hasOptionLabel()){this._focus(this.optionLabel)}else{this.listView.focusFirst()}},_lastItem:function(){this._resetOptionLabel();this.listView.focusLast()},_nextItem:function(){if(this.optionLabel.hasClass("k-state-focused")){this._resetOptionLabel();this.listView.focusFirst()}else{this.listView.focusNext()}},_prevItem:function(){if(this.optionLabel.hasClass("k-state-focused")){return}this.listView.focusPrev();if(!this.listView.focus()){this._focus(this.optionLabel)}},_focusItem:function(){var a=this.options;var c=this.listView;var d=c.focus();var e=c.select();e=e[e.length-1];if(e===b&&a.highlightFirst&&!d){e=0}if(e!==b){c.focus(e)}else{if(a.optionLabel&&(!a.virtual||a.virtual.mapValueTo!=="dataItem")){this._focus(this.optionLabel);this._select(this.optionLabel);this.listView.content.scrollTop(0)}else{c.scrollToIndex(0)}}},_resetOptionLabel:function(a){this.optionLabel.removeClass("k-state-focused"+(a||"")).removeAttr("id")},_focus:function(a){var c=this.listView;var d=this.optionLabel;if(a===b){a=c.focus();if(!a&&d.hasClass("k-state-focused")){a=d}return a}this._resetOptionLabel();a=this._get(a);c.focus(a);if(a===-1){d.addClass("k-state-focused").attr("id",c._optionID);this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",c._optionID)}},_select:function(a,b){var c=this;a=c._get(a);return c.listView.select(a).done(function(){if(!b&&c._state===v){c._state=w}if(a===-1){c._selectValue(null)}})},_selectValue:function(a){var c=this;var d=c.options.optionLabel;var e=c.listView.select();var f="";var g="";e=e[e.length-1];if(e===b){e=-1}this._resetOptionLabel(" k-state-selected");if(a||a===0){g=a;f=c._dataValue(a);if(d){e+=1}}else if(d){c._focus(c.optionLabel.addClass("k-state-selected"));g=c._optionLabelText();if(typeof d==="string"){f=""}else{f=c._value(d)}e=0}c.selectedIndex=e;if(f===null){f=""}c._textAccessor(g);c._accessor(f,e);c._triggerCascade()},_mobile:function(){var a=this,b=a.popup,c=g.mobileOS,d=b.element.parents(".km-root").eq(0);if(d.length&&c){b.options.animation.open.effects=c.android||c.meego?"fadeIn":c.ios||c.wp?"slideIn:up":b.options.animation.open.effects}},_filterHeader:function(){var b;if(this.filterInput){this.filterInput.off(k).parent().remove();this.filterInput=null}if(this._isFilterEnabled()){b='<span class="k-icon k-i-zoom"></span>';this.filterInput=a('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":true,"aria-expanded":false});this.list.prepend(a('<span class="k-list-filter" />').append(this.filterInput.add(b)))}},_span:function(){var b=this,c=b.wrapper,d="span.k-input",e;e=c.find(d);if(!e[0]){c.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(b.element);e=c.find(d)}b.span=e;b._inputWrapper=a(c[0].firstChild);b._arrow=c.find(".k-select");b._arrowIcon=b._arrow.find(".k-icon")},_wrapper:function(){var a=this,b=a.element,c=b[0],d;d=b.parent();if(!d.is("span.k-widget")){d=b.wrap("<span />").parent();d[0].style.cssText=c.style.cssText;d[0].title=c.title}a._focused=a.wrapper=d.addClass("k-widget k-dropdown k-header").addClass(c.className).css("display","").attr({accesskey:b.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false});b.hide().removeAttr("accesskey")},_clearSelection:function(a){this.select(a.value()?0:-1)},_inputTemplate:function(){var b=this,d=b.options.valueTemplate;if(!d){d=a.proxy(c.template("#:this._text(data)#",{useWithBlock:false}),b)}else{d=c.template(d)}b.valueTemplate=d;if(b.hasOptionLabel()&&!b.options.optionLabelTemplate){try{b.valueTemplate(b._optionLabelDataItem())}catch(a){throw new Error(x)}}},_textAccessor:function(c){var d=null;var e=this.valueTemplate;var f=this._optionLabelText();var g=this.span;if(c===b){return g.text()}if(a.isPlainObject(c)||c instanceof i){d=c}else if(f&&f===c){d=this.options.optionLabel}if(!d){d=this._assignInstance(c,this._accessor())}if(this.hasOptionLabel()){if(d===f||this._text(d)===f){e=this.optionLabelTemplate;if(typeof this.options.optionLabel==="string"&&!this.options.optionLabelTemplate){d=f}}}var h=function(){return{elements:g.get(),data:[{dataItem:d}]}};this.angular("cleanup",h);try{g.html(e(d))}catch(a){g.html("")}this.angular("compile",h)},_preselect:function(a,b){if(!a&&!b){b=this._optionLabelText()}this._accessor(a);this._textAccessor(b);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(a);this._initialIndex=null;this._presetValue=true},_assignInstance:function(a,b){var c=this.options.dataTextField;var d={};if(c){A(d,c.split("."),a);A(d,this.options.dataValueField.split("."),b);d=new i(d)}else{d=a}return d}});function A(a,b,c){var d=0,e=b.length-1,f;for(;d<e;++d){f=b[d];if(!(f in a)){a[f]={}}a=a[f]}a[b[e]]=c}function B(a,b){if(a>=b){a-=b}return a}function C(a,b){for(var c=0;c<a.length;c++){if(a.charAt(c)!==b){return false}}return true}d.plugin(z)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.treeview.draganddrop",["kendo.data","kendo.draganddrop"],a)})(function(){var a={id:"treeview.draganddrop",name:"Hierarchical Drag & Drop",category:"framework",depends:["core","draganddrop"],advanced:true};(function(a,b){var c=window.kendo;var d=c.ui;var e=a.proxy;var f=a.extend;var g="visibility";var h="k-state-hover";var i="input,a:not(.k-in),textarea,.k-multiselect-wrap,select,button,a.k-button>.k-icon,button.k-button>.k-icon,span.k-icon.k-i-arrow-60-right,span.k-icon.k-i-arrow-45-down-right";d.HierarchicalDragAndDrop=c.Class.extend({init:function(b,g){this.element=b;this.hovered=b;this.options=f({dragstart:a.noop,drag:a.noop,drop:a.noop,dragend:a.noop},g);this._draggable=new d.Draggable(b,{ignore:i,filter:g.filter,autoScroll:g.autoScroll,cursorOffset:{left:10,top:c.support.mobileOS?-40/c.support.zoomLevel():10},hint:e(this._hint,this),dragstart:e(this.dragstart,this),dragcancel:e(this.dragcancel,this),drag:e(this.drag,this),dragend:e(this.dragend,this),$angular:g.$angular})},_hint:function(a){return"<div class='k-header k-drag-clue'>"+"<span class='k-icon k-drag-status' />"+this.options.hintText(a)+"</div>"},_removeTouchHover:function(){if(c.support.touch&&this.hovered){this.hovered.find("."+h).removeClass(h);this.hovered=false}},_hintStatus:function(b){var c=this._draggable.hint.find(".k-drag-status")[0];if(b){c.className="k-icon k-drag-status "+b}else{return a.trim(c.className.replace(/(p|k)-(icon|drag-status)/g,""))}},dragstart:function(b){this.source=b.currentTarget.closest(this.options.itemSelector);if(this.options.dragstart(this.source)){b.preventDefault()}if(this.options.reorderable){this.dropHint=a("<div class='k-i-drag-and-drop' />").css(g,"hidden").appendTo(this.element)}else{this.dropHint=a()}},drag:function(b){var d=this.options;var e=this.source;var f=this.dropTarget=a(c.eventTarget(b));var i=f.closest(d.allowedContainers);var j,k,l,m,n;var o,p,q;var r,s,t;if(!i.length){t="k-i-cancel";this._removeTouchHover()}else if(e[0]==f[0]||d.contains(e[0],f[0])){t="k-i-cancel"}else{t="k-i-insert-middle";r=d.itemFromTarget(f);j=r.item;if(j.length){this._removeTouchHover();k=c._outerHeight(j);m=r.content;if(d.reorderable){n=k/(m.length>0?4:2);l=c.getOffset(j).top;o=b.y.location<l+n;p=l+k-n<b.y.location;q=m.length&&!o&&!p}else{q=true;o=false;p=false}this.hovered=q?i:false;this.dropHint.css(g,q?"hidden":"visible");if(this._lastHover&&this._lastHover[0]!=m[0]){this._lastHover.removeClass(h)}this._lastHover=m.toggleClass(h,q);if(q){t="k-i-plus"}else{s=j.position();s.top+=o?0:k;this.dropHint.css(s)[o?"prependTo":"appendTo"](d.dropHintContainer(j));if(o&&r.first){t="k-i-insert-up"}if(p&&r.last){t="k-i-insert-down"}}}else if(f[0]!=this.dropHint[0]){if(this._lastHover){
this._lastHover.removeClass(h)}if(!a.contains(this.element[0],i[0])){t="k-i-plus"}else{t="k-i-cancel"}}}this.options.drag({originalEvent:b.originalEvent,source:e,target:f,pageY:b.y.location,pageX:b.x.location,status:t.substring(2),setStatus:function(a){t=a}});if(t.indexOf("k-i-insert")!==0){this.dropHint.css(g,"hidden")}this._hintStatus(t)},dragcancel:function(){this.dropHint.remove()},dragend:function(a){var b="over",c=this.source,d,e=this.dropHint,f=this.dropTarget,i,j;if(e.css(g)=="visible"){b=this.options.dropPositionFrom(e);d=e.closest(this.options.itemSelector)}else if(f){d=f.closest(this.options.itemSelector);if(!d.length){d=f.closest(this.options.allowedContainers)}}i={originalEvent:a.originalEvent,source:c[0],destination:d[0],valid:this._hintStatus()!="k-i-cancel",setValid:function(a){this.valid=a},dropTarget:f[0],position:b};j=this.options.drop(i);e.remove();this._removeTouchHover();if(this._lastHover){this._lastHover.removeClass(h)}if(!i.valid||j){this._draggable.dropped=i.valid;return}this._draggable.dropped=true;this.options.dragend({originalEvent:a.originalEvent,source:c,destination:d,position:b})},destroy:function(){this._lastHover=this.hovered=null;this._draggable.destroy()}})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.treeview",["kendo.data","kendo.treeview.draganddrop"],a)})(function(){var a={id:"treeview",name:"TreeView",category:"web",description:"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.",depends:["data"],features:[{id:"treeview-dragging",name:"Drag & Drop",description:"Support for drag & drop",depends:["treeview.draganddrop"]}]};(function(a,b){var c=window.kendo,d=c.ui,e=c.data,f=a.extend,g=c.template,h=a.isArray,i=d.Widget,j=e.HierarchicalDataSource,k=a.proxy,l=c.keys,m=".kendoTreeView",n=".kendoTreeViewTemp",o="select",p="check",q="navigate",r="expand",s="change",t="error",u="checked",v="indeterminate",w="collapse",x="dragstart",y="drag",z="drop",A="dragend",B="dataBound",C="click",D="undefined",E="k-state-hover",F="k-treeview",G=":visible",H=".k-item",I="string",J="aria-label",K="aria-selected",L="aria-disabled",M="k-state-disabled",N,O,P,Q,R,S={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},T=function(a){return a instanceof c.jQuery||a instanceof window.jQuery},U=function(a){return typeof HTMLElement==="object"?a instanceof HTMLElement:a&&typeof a==="object"&&a.nodeType===1&&typeof a.nodeName===I};function V(a){return function(b){var c=b.children(".k-animation-container");if(!c.length){c=b}return c.children(a)}}function W(a){return c.template(a,{useWithBlock:false})}O=V(".k-group");P=V(".k-group,.k-content");Q=function(a){return a.children("div").children(".k-icon")};function X(a){return a.find("> div .k-checkbox-wrapper [type=checkbox]")}function Y(a){return function(b,c){c=c.closest(H);var d=c.parent(),e;if(d.parent().is("li")){e=d.parent()}return this._dataSourceMove(b,d,e,function(b,d){var e=this.dataItem(c);var f=e?e.parent().indexOf(e):c.index();return this._insert(b.data(),d,f+a)})}}R=/k-sprite/;function Z(b,c){var d;while(b&&b.nodeName.toLowerCase()!="ul"){d=b;b=b.nextSibling;if(d.nodeType==3){d.nodeValue=a.trim(d.nodeValue)}if(R.test(d.className)){c.insertBefore(d,c.firstChild)}else{c.appendChild(d)}}}function $(b){var c=b.children("div"),d=b.children("ul"),e=c.children(".k-icon"),f=b.children(":checkbox"),g=c.children(".k-in");if(b.hasClass("k-treeview")){return}if(!c.length){c=a("<div />").prependTo(b)}if(!e.length&&d.length){e=a("<span class='k-icon' />").prependTo(c)}else if(!d.length||!d.children().length){e.remove();d.remove()}if(f.length){a("<span class='k-checkbox-wrapper' />").appendTo(c).append(f)}if(!g.length){g=b.children("a").eq(0).addClass("k-in k-link");if(!g.length){g=a("<span class='k-in' />")}g.appendTo(c);if(c.length){Z(c[0].nextSibling,g[0])}}}N=c.ui.DataBoundWidget.extend({init:function(a,b){var d=this,e=false,f=b&&!!b.dataSource,g;if(h(b)){b={dataSource:b}}if(b&&typeof b.loadOnDemand==D&&h(b.dataSource)){b.loadOnDemand=false}i.prototype.init.call(d,a,b);a=d.element;b=d.options;g=a.is("ul")&&a||a.hasClass(F)&&a.children("ul");e=!f&&g.length;if(e){b.dataSource.list=g}d._animation();d._accessors();d._templates();if(!a.hasClass(F)){d._wrapper();if(g){d.root=a;d._group(d.wrapper)}}else{d.wrapper=a;d.root=a.children("ul").eq(0)}d._tabindex();d.root.attr("role","tree");d._dataSource(e);d._attachEvents();d._dragging();if(!e){if(b.autoBind){d._progress(true);d.dataSource.fetch()}}else{d._syncHtmlAndDataSource()}if(b.checkboxes&&b.checkboxes.checkChildren){d.updateIndeterminate()}if(d.element[0].id){d._ariaId=c.format("{0}_tv_active",d.element[0].id)}c.notify(d)},_attachEvents:function(){var b=this,c=".k-in:not(.k-state-selected,.k-state-disabled)",d="mouseenter";b.wrapper.on(d+m,".k-in.k-state-selected",function(a){a.preventDefault()}).on(d+m,c,function(){a(this).addClass(E)}).on("mouseleave"+m,c,function(){a(this).removeClass(E)}).on(C+m,c,k(b._click,b)).on("dblclick"+m,".k-in:not(.k-state-disabled)",k(b._toggleButtonClick,b)).on(C+m,".k-i-expand,.k-i-collapse",k(b._toggleButtonClick,b)).on("keydown"+m,k(b._keydown,b)).on("keypress"+m,k(b._keypress,b)).on("focus"+m,k(b._focus,b)).on("blur"+m,k(b._blur,b)).on("mousedown"+m,".k-in,.k-checkbox-wrapper :checkbox,.k-i-expand,.k-i-collapse",k(b._mousedown,b)).on("change"+m,".k-checkbox-wrapper :checkbox",k(b._checkboxChange,b)).on("click"+m,".checkbox-span",k(b._checkboxLabelClick,b)).on("click"+m,".k-request-retry",k(b._retryRequest,b)).on("click"+m,".k-link.k-state-disabled",function(a){a.preventDefault()}).on("click"+m,function(c){if(!a(c.target).is(":kendoFocusable")){b.focus()}})},_checkboxLabelClick:function(b){var c=a(b.target.previousSibling);if(c.is("[disabled]")){return}c.prop("checked",!c.prop("checked"));c.trigger("change")},_syncHtmlAndDataSource:function(a,b){a=a||this.root;b=b||this.dataSource;var d=b.view(),e=c.attr("uid"),f=c.attr("expanded"),g=this.options.checkboxes,h=a.children("li"),i,j,k,l,m;for(i=0;i<h.length;i++){k=d[i];l=k.uid;j=h.eq(i);j.attr("role","treeitem").attr(e,l).attr(K,j.hasClass("k-state-selected"));k.expanded=j.attr(f)==="true";if(g){m=X(j);k.checked=m.prop(u);m.attr("id","_"+l);m.next(".k-checkbox-label").attr("for","_"+l)}this._syncHtmlAndDataSource(j.children("ul"),k.children)}},_animation:function(){var a=this.options,b=a.animation,c=b.collapse&&"effects"in b.collapse,d=f({},b.expand,b.collapse);if(!c){d=f(d,{reverse:true})}if(b===false){b={expand:{effects:{}},collapse:{hide:true,effects:{}}}}b.collapse=f(d,{hide:true});a.animation=b},_dragging:function(){var b=this.options.dragAndDrop;var c=this.dragging;if(b&&!c){var e=this;this.dragging=new d.HierarchicalDragAndDrop(this.element,{reorderable:true,$angular:this.options.$angular,autoScroll:this.options.autoScroll,filter:"div:not(.k-state-disabled) .k-in",allowedContainers:".k-treeview",itemSelector:".k-treeview .k-item",hintText:k(this._hintText,this),contains:function(b,c){return a.contains(b,c)},dropHintContainer:function(a){return a},itemFromTarget:function(a){var b=a.closest(".k-top,.k-mid,.k-bot");return{item:b,content:a.closest(".k-in"),first:b.hasClass("k-top"),last:b.hasClass("k-bot")}},dropPositionFrom:function(a){return a.prevAll(".k-in").length>0?"after":"before"},dragstart:function(a){return e.trigger(x,{sourceNode:a[0]})},drag:function(a){e.trigger(y,{originalEvent:a.originalEvent,sourceNode:a.source[0],dropTarget:a.target[0],pageY:a.pageY,pageX:a.pageX,statusClass:a.status,setStatusClass:a.setStatus})},drop:function(b){var c=a(b.dropTarget);var d=c.closest("a");if(d&&d.attr("href")){e._tempPreventNavigation(d)}return e.trigger(z,{originalEvent:b.originalEvent,sourceNode:b.source,destinationNode:b.destination,valid:b.valid,setValid:function(a){this.valid=a;b.setValid(a)},dropTarget:b.dropTarget,dropPosition:b.position})},dragend:function(a){var b=a.source;var c=a.destination;var d=a.position;function f(b){if(e.options.checkboxes&&e.options.checkboxes.checkChildren){e.updateIndeterminate()}e.trigger(A,{originalEvent:a.originalEvent,sourceNode:b&&b[0],destinationNode:c[0],dropPosition:d})}if(d=="over"){e.append(b,c,f)}else{if(d=="before"){b=e.insertBefore(b,c)}else if(d=="after"){b=e.insertAfter(b,c)}f(b)}}})}else if(!b&&c){c.destroy();this.dragging=null}},_tempPreventNavigation:function(a){a.on(C+m+n,function(b){b.preventDefault();a.off(C+m+n)})},_hintText:function(a){return this.templates.dragClue({item:this.dataItem(a),treeview:this.options})},_templates:function(){var a=this,b=a.options,d=k(a._fieldAccessor,a);if(b.template&&typeof b.template==I){b.template=g(b.template)}else if(!b.template){b.template=W("# var text = "+d("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #")}a._checkboxes();a.templates={wrapperCssClass:function(a,b){var c="k-item",d=b.index;if(a.firstLevel&&d===0){c+=" k-first"}if(d==a.length-1){c+=" k-last"}return c},cssClass:function(a,b){var c="",d=b.index,e=a.length-1;if(a.firstLevel&&d===0){c+="k-top "}if(d===0&&d!=e){c+="k-top"}else if(d==e){c+="k-bot"}else{c+="k-mid"}return c},textClass:function(a,b){var c="k-in";if(b){c+=" k-link"}if(a.enabled===false){c+=" k-state-disabled"}if(a.selected===true){c+=" k-state-selected"}return c},toggleButtonClass:function(a){var b="k-icon";if(a.expanded!==true){b+=" k-i-expand"}else{b+=" k-i-collapse"}return b},groupAttributes:function(a){var b="";if(!a.firstLevel){b="role='group'"}return b+(a.expanded!==true?" style='display:none'":"")},groupCssClass:function(a){var b="k-group";if(a.firstLevel){b+=" k-treeview-lines"}return b},dragClue:W("#= data.treeview.template(data) #"),group:W("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) #>"+"#= data.renderItems(data) #"+"</ul>"),itemContent:W("# var imageUrl = "+d("imageUrl")+"(data.item); #"+"# var spriteCssClass = "+d("spriteCssClass")+"(data.item); #"+"# if (imageUrl) { #"+"<img class='k-image' alt='' src='#= imageUrl #'>"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #' />"+"# } #"+"#= data.treeview.template(data) #"),itemElement:W("# var item = data.item, r = data.r; #"+"# var url = "+d("url")+"(item); #"+"<div class='#= r.cssClass(data.group, item) #'>"+"# if (item.hasChildren) { #"+"<span class='#= r.toggleButtonClass(item) #'/>"+"# } #"+"# if (data.treeview.checkboxes) { #"+"<span class='k-checkbox-wrapper' role='presentation'>"+"#= data.treeview.checkboxes.template(data) #"+"</span>"+"# } #"+"# var tag = url ? 'a' : 'span'; #"+"# var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #"+"<#=tag# class='#= r.textClass(item, !!url) #'#= textAttr #>"+"#= r.itemContent(data) #"+"</#=tag#>"+"</div>"),item:W("# var item = data.item, r = data.r; #"+"<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+c.attr("uid")+"='#= item.uid #' "+'aria-selected=\'#= item.selected ? "true" : "false" #\' '+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+"# if (item.expanded) { #"+"data-expanded='true' aria-expanded='true'"+"# } #"+">"+"#= r.itemElement(data) #"+"</li>"),loading:W("<div class='k-icon k-i-loading' /> #: data.messages.loading #"),retry:W("#: data.messages.requestFailed # "+"<button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item > div:first-child")},setDataSource:function(b){var c=this.options;c.dataSource=b;this._dataSource();if(c.checkboxes&&c.checkboxes.checkChildren){this.dataSource.one("change",a.proxy(this.updateIndeterminate,this,null))}if(this.options.autoBind){this.dataSource.fetch()}},_bindDataSource:function(){this._refreshHandler=k(this.refresh,this);this._errorHandler=k(this._error,this);this.dataSource.bind(s,this._refreshHandler);this.dataSource.bind(t,this._errorHandler)},_unbindDataSource:function(){var a=this.dataSource;if(a){a.unbind(s,this._refreshHandler);a.unbind(t,this._errorHandler)}},_dataSource:function(a){var b=this,c=b.options,d=c.dataSource;function e(a){for(var b=0;b<a.length;b++){a[b]._initChildren();a[b].children.fetch();e(a[b].children.view())}}d=h(d)?{data:d}:d;b._unbindDataSource();if(!d.fields){d.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}b.dataSource=d=j.create(d);if(a){d.fetch();e(d.view())}b._bindDataSource()},events:[x,y,z,A,B,r,w,o,s,q,p],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:false,checkboxes:false,autoBind:true,autoScroll:false,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var a=this,b=a.options,d,e,f,g=a.element;for(d in S){e=b[S[d]];f=g.attr(c.attr(d+"-field"));if(!e&&f){e=f}if(!e){e=d}if(!h(e)){e=[e]}b[S[d]]=e}},_fieldAccessor:function(b){var d=this.options[S[b]],e=d.length,f="(function(item) {";if(e===0){f+="return item['"+b+"'];"}else{f+="var levels = ["+a.map(d,function(a){return"function(d){ return "+c.expr(a)+"}"}).join(",")+"];";f+="return levels[Math.min(item.level(), "+e+"-1)](item)"}f+="})";return f},setOptions:function(a){i.fn.setOptions.call(this,a);this._animation();this._dragging();this._templates()},_trigger:function(a,b){return this.trigger(a,{node:b.closest(H)[0]})},_setChecked:function(b,c){if(!b||!a.isFunction(b.view)){return}for(var d=0,e=b.view();d<e.length;d++){if(e[d].enabled!==false){e[d].set(u,c)}if(e[d].children){this._setChecked(e[d].children,c)}}},_setIndeterminate:function(a){var b=O(a),c,d,e=true,f;if(!b.length){return}c=X(b.children());d=c.length;if(!d){return}else if(d>1){for(f=1;f<d;f++){if(c[f].checked!=c[f-1].checked||c[f].indeterminate||c[f-1].indeterminate){e=false;break}}}else{e=!c[0].indeterminate}return X(a).data(v,!e).prop(v,!e).prop(u,e&&c[0].checked)},updateIndeterminate:function(a){a=a||this.wrapper;var b=O(a).children();var c;var d;var e;if(b.length){for(c=0;c<b.length;c++){this.updateIndeterminate(b.eq(c))}d=this._setIndeterminate(a);e=this.dataItem(a);if(d&&d.prop(u)){e.checked=true}else{if(e){delete e.checked}}}},_bubbleIndeterminate:function(a,b){if(!a.length){return}if(!b){this.updateIndeterminate(a)}var c=this.parent(a),d;if(c.length){this._setIndeterminate(c);d=c.children("div").find(".k-checkbox-wrapper :checkbox");this._skip=true;if(d.prop(v)===false){this.dataItem(c).set(u,d.prop(u))}else{this.dataItem(c).set(u,false)}this._skip=false;this._bubbleIndeterminate(c,true)}},_checkboxChange:function(b){var c=a(b.target);var d=c.prop(u);var e=c.closest(H);var f=this.dataItem(e);if(f.checked!=d){f.set(u,d);this._trigger(p,e)}},_toggleButtonClick:function(b){var c=a(b.currentTarget).closest(H);if(c.is("[aria-disabled='true']")){return}this.toggle(c)},_mousedown:function(b){var c=a(b.currentTarget).closest(H);if(c.is("[aria-disabled='true']")){return}this._clickTarget=c;this.current(c)},_focusable:function(a){return a&&a.length&&a.is(":visible")&&!a.find(".k-in:first").hasClass(M)},_focus:function(){var b=this.select(),d=this._clickTarget;if(c.support.touch){return}if(d&&d.length){b=d}if(!this._focusable(b)){b=this.current()}if(!this._focusable(b)){b=this._nextVisible(a())}this.current(b)},focus:function(){var a=this.wrapper,b=a[0],c=[],d=[],e=document.documentElement,f;do{b=b.parentNode;if(b.scrollHeight>b.clientHeight){c.push(b);d.push(b.scrollTop)}}while(b!=e);a.focus();for(f=0;f<c.length;f++){c[f].scrollTop=d[f]}},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(a){return!a.children("div").children(".k-in").hasClass(M)},parent:function(b){var c=/\bk-treeview\b/,d=/\bk-item\b/,e,f;if(typeof b==I){b=this.element.find(b)}if(!U(b)){b=b[0]}f=d.test(b.className);do{b=b.parentNode;if(d.test(b.className)){if(f){e=b}else{f=true}}}while(!c.test(b.className)&&!e);return a(e)},_nextVisible:function(a){var b=this,c=b._expanded(a),d;function e(a){while(a.length&&!a.next().length){a=b.parent(a)}if(a.next().length){return a.next()}else{return a}}if(!a.length||!a.is(":visible")){d=b.root.children().eq(0)}else if(c){d=O(a).children().first();if(!d.length){d=e(a)}}else{d=e(a)}return d},_previousVisible:function(a){var b=this,c,d;if(!a.length||a.prev().length){if(a.length){d=a.prev()}else{d=b.root.children().last()}while(b._expanded(d)){c=O(d).children().last();if(!c.length){break}d=c}}else{d=b.parent(a)||a}return d},_keydown:function(d){var e=this,f=d.keyCode,g,h=e.current(),i=e._expanded(h),j=h.find(".k-checkbox-wrapper:first :checkbox"),k=c.support.isRtl(e.element);if(d.target!=d.currentTarget){return}if(!k&&f==l.RIGHT||k&&f==l.LEFT){if(i){g=e._nextVisible(h)}else if(!h.find(".k-in:first").hasClass(M)){e.expand(h)}}else if(!k&&f==l.LEFT||k&&f==l.RIGHT){if(i&&!h.find(".k-in:first").hasClass(M)){e.collapse(h)}else{g=e.parent(h);if(!e._enabled(g)){g=b}}}else if(f==l.DOWN){g=e._nextVisible(h)}else if(f==l.UP){g=e._previousVisible(h)}else if(f==l.HOME){g=e._nextVisible(a())}else if(f==l.END){g=e._previousVisible(a())}else if(f==l.ENTER&&!h.find(".k-in:first").hasClass(M)){if(!h.find(".k-in:first").hasClass("k-state-selected")){if(!e._trigger(o,h)){e.select(h)}}}else if(f==l.SPACEBAR&&j.length){if(!h.find(".k-in:first").hasClass(M)){j.prop(u,!j.prop(u)).data(v,false).prop(v,false);e._checkboxChange({target:j})}g=h}if(g){d.preventDefault();if(h[0]!=g[0]){e._trigger(q,g);e.current(g)}}},_keypress:function(a){var b=this;var c=300;var d=b._getSelectedNode();var e;if(a.keyCode===l.ENTER||a.keyCode===l.SPACEBAR){return}if(!b._match){b._match=""}b._match+=String.fromCharCode(a.keyCode);clearTimeout(b._matchTimer);b._matchTimer=setTimeout(function(){b._match=""},c);e=d&&b._matchNextByText(Array.prototype.indexOf.call(this.element.find(".k-item"),d[0]),b._match);if(!e){e=b._matchNextByText(-1,b._match)}b.select(e)},_matchNextByText:function(b,c){return a(this.element).find(".k-in").filter(function(d,e){return d>b&&a(e).is(":visible")&&!a(e).hasClass(M)&&a(e).text().toLowerCase().indexOf(c)===0}).closest(H)[0]},_click:function(b){var c=this,d=a(b.currentTarget),e=P(d.closest(H)),f=d.attr("href"),g;if(f){g=f=="#"||f.indexOf("#"+this.element.id+"-")>=0}else{g=e.length&&!e.children().length}if(g){b.preventDefault()}if(!d.hasClass(".k-state-selected")&&!c._trigger(o,d)){c.select(d)}},_wrapper:function(){var a=this,b=a.element,c,d,e="k-widget k-treeview";if(b.is("ul")){c=b.wrap("<div />").parent();d=b}else{c=b;d=c.children("ul").eq(0)}a.wrapper=c.addClass(e);a.root=d},_getSelectedNode:function(){return this.element.find(".k-state-selected").closest(H)},_group:function(a){var b=this,c=a.hasClass(F),d={firstLevel:c,expanded:c||b._expanded(a)},e=a.children("ul");e.addClass(b.templates.groupCssClass(d)).css("display",d.expanded?"":"none");b._nodes(e,d)},_nodes:function(b,c){var d=this,e=b.children("li"),g;c=f({length:e.length},c);e.each(function(b,e){e=a(e);g={index:b,expanded:d._expanded(e)};$(e);d._updateNodeClasses(e,c,g);d._group(e)})},_checkboxes:function(){var a=this.options;var b=a.checkboxes;var c;if(b){c="<input type='checkbox' tabindex='-1' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(b.name){c+=" name='"+b.name+"'"}c+=" id='_#= item.uid #' class='k-checkbox' /><span class='k-checkbox-label checkbox-span'></span>";b=f({template:c},a.checkboxes);if(typeof b.template==I){b.template=g(b.template)}a.checkboxes=b}},_updateNodeClasses:function(a,b,c){var d=a.children("div"),e=a.children("ul"),f=this.templates;if(a.hasClass("k-treeview")){return}c=c||{};c.expanded=typeof c.expanded!=D?c.expanded:this._expanded(a);c.index=typeof c.index!=D?c.index:a.index();c.enabled=typeof c.enabled!=D?c.enabled:!d.children(".k-in").hasClass("k-state-disabled");b=b||{};b.firstLevel=typeof b.firstLevel!=D?b.firstLevel:a.parent().parent().hasClass(F);b.length=typeof b.length!=D?b.length:a.parent().children().length;a.removeClass("k-first k-last").addClass(f.wrapperCssClass(b,c));d.removeClass("k-top k-mid k-bot").addClass(f.cssClass(b,c));var g=d.children(".k-in");var h=g[0]&&g[0].nodeName.toLowerCase()=="a";g.removeClass("k-in k-link k-state-default k-state-disabled").addClass(f.textClass(c,h));if(e.length||a.attr("data-hasChildren")=="true"){d.children(".k-icon").removeClass("k-i-expand k-i-collapse").addClass(f.toggleButtonClass(c));e.addClass("k-group")}this._checkboxAria(a)},_processNodes:function(b,c){var d=this;d.element.find(b).each(function(b,e){c.call(d,b,a(e).closest(H))})},dataItem:function(b){var d=a(b).closest(H).attr(c.attr("uid")),e=this.dataSource;return e&&e.getByUid(d)},_insertNode:function(b,c,d,e,f){var g=this,h=O(d),i=h.children().length+1,j,k={firstLevel:d.hasClass(F),expanded:!f,length:i},l,m,n,o="",p=function(a,b){a.appendTo(b)};for(m=0;m<b.length;m++){n=b[m];n.index=c+m;o+=g._renderItem({group:k,item:n})}l=a(o);if(!l.length){return}g.angular("compile",function(){return{elements:l.get(),data:b.map(function(a){return{dataItem:a}})}});if(!h.length){h=a(g._renderGroup({group:k})).appendTo(d)}e(l,h);if(d.hasClass("k-item")){$(d);g._updateNodeClasses(d)}g._updateNodeClasses(l.prev().first());g._updateNodeClasses(l.next().last());g._checkboxAria(l);for(m=0;m<b.length;m++){n=b[m];if(n.hasChildren){j=n.children.data();if(j.length){g._insertNode(j,n.index,l.eq(m),p,!g._expanded(l.eq(m)))}}}return l},_checkboxAria:function(b){var c;b.each(function(b,d){d=a(d);c=d.find(".k-in:first").text();a(d).find("> div .k-checkbox-wrapper [type=checkbox]").attr(J,c)})},_updateNodes:function(b,c){var e=this;var f,g,h,i,j,k;var l={treeview:e.options,item:i};var m=c!="expanded"&&c!="checked";function n(a,b){a.find(".k-checkbox-wrapper :checkbox").not("[disabled]").prop(u,b).data(v,false).prop(v,false)}if(c=="selected"){i=b[0];g=e.findByUid(i.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",i[c]).end();if(i[c]){e.current(g)}g.attr(K,!!i[c])}else{var o=a.map(b,function(a){return e.findByUid(a.uid).children("div")});if(m){e.angular("cleanup",function(){return{elements:o}})}for(f=0;f<b.length;f++){l.item=i=b[f];h=o[f];g=h.parent();if(m){h.children(".k-in").html(e.templates.itemContent(l))}if(c==u){j=i[c];n(h,j);if(e.options.checkboxes.checkChildren){n(g.children(".k-group"),j);e._setChecked(i.children,j);e._bubbleIndeterminate(g)}}else if(c=="expanded"){e._toggle(g,i,i[c])}else if(c=="enabled"){g.find(".k-checkbox-wrapper :checkbox").prop("disabled",!i[c]);k=!P(g).is(G);g.removeAttr(L);if(!i[c]){if(i.selected){i.set("selected",false)}if(i.expanded){i.set("expanded",false)}k=true;g.attr(K,false).attr(L,true)}e._updateNodeClasses(g,{},{enabled:i[c],expanded:!k})}if(h.length){this.trigger("itemChange",{item:h,data:i,ns:d})}}if(m){e.angular("compile",function(){return{elements:o,data:a.map(b,function(a){return[{dataItem:a}]})}})}}},_appendItems:function(a,b,c){var d=O(c);var e=d.children();var f=!this._expanded(c);if(this.element===c){a=this.dataSource.view().indexOf(b[0])}else if(b.length){a=b[0].parent().indexOf(b[0])}if(typeof a==D){a=e.length}this._insertNode(b,a,c,function(b,c){if(a>=e.length){b.appendTo(c)}else{b.insertBefore(e.eq(a))}},f);if(this._expanded(c)){this._updateNodeClasses(c);O(c).css("display","block")}},_refreshChildren:function(a,b,c){var e,f,g;var h=this.options;var i=h.loadOnDemand;var j=h.checkboxes&&h.checkboxes.checkChildren;O(a).empty();if(!b.length){$(a)}else{this._appendItems(c,b,a);f=O(a).children();if(i&&j){this._bubbleIndeterminate(f.last())}for(e=0;e<f.length;e++){g=f.eq(e);this.trigger("itemChange",{item:g.children("div"),data:this.dataItem(g),ns:d})}}},_refreshRoot:function(b){var c=this._renderGroup({items:b,group:{firstLevel:true,expanded:true}});if(this.root.length){this._angularItems("cleanup");var e=a(c);this.root.attr("class",e.attr("class")).html(e.html())}else{this.root=this.wrapper.html(c).children("ul")}this.root.attr("role","tree");var f=this.root.children(".k-item");for(var g=0;g<b.length;g++){this.trigger("itemChange",{item:f.eq(g),data:b[g],ns:d})}this._angularItems("compile")},refresh:function(a){var c=a.node;var d=a.action;var e=a.items;var f=this.wrapper;var g=this.options;var h=g.loadOnDemand;var i=g.checkboxes&&g.checkboxes.checkChildren;var j;if(this._skip){return}if(a.field){if(!e[0]||!e[0].level){return}return this._updateNodes(e,a.field)}if(c){f=this.findByUid(c.uid);this._progress(f,false)}if(i&&d!="remove"){var k=false;for(j=0;j<e.length;j++){if("checked"in e[j]){k=true;break}}if(!k&&c&&c.checked){for(j=0;j<e.length;j++){e[j].checked=true}}}if(d=="add"){this._appendItems(a.index,e,f)}else if(d=="remove"){this._remove(this.findByUid(e[0].uid),false)}else if(d=="itemchange"){this._updateNodes(e)}else if(d=="itemloaded"){this._refreshChildren(f,e,a.index)}else{this._refreshRoot(e)}if(d!="remove"){for(j=0;j<e.length;j++){if(!h||e[j].expanded||e[j]._loaded){e[j].load()}}}this.trigger(B,{node:c?f:b});if(this.options.checkboxes.checkChildren){this.updateIndeterminate()}},_error:function(a){var b=a.node&&this.findByUid(a.node.uid);var c=this.templates.retry({messages:this.options.messages});if(b){this._progress(b,false);this._expanded(b,false);Q(b).addClass("k-i-reload");a.node.loaded(false)}else{this._progress(false);this.element.html(c)}},_retryRequest:function(a){a.preventDefault();this.dataSource.fetch()},expand:function(a){this._processNodes(a,function(a,b){this.toggle(b,true)})},collapse:function(a){this._processNodes(a,function(a,b){this.toggle(b,false)})},enable:function(a,b){if(typeof a==="boolean"){b=a;a=this.items()}else{b=arguments.length==2?!!b:true}this._processNodes(a,function(a,c){this.dataItem(c).set("enabled",b)})},current:function(b){var c=this,d=c._current,e=c.element,f=c._ariaId;if(arguments.length>0&&b&&b.length){if(d){if(d[0].id===f){d.removeAttr("id")}d.find(".k-in:first").removeClass("k-state-focused")}d=c._current=a(b,e).closest(H);d.find(".k-in:first").addClass("k-state-focused");f=d[0].id||f;if(f){c.wrapper.removeAttr("aria-activedescendant");d.attr("id",f);c.wrapper.attr("aria-activedescendant",f)}return}if(!d){d=c._nextVisible(a())}return d},select:function(b){var c=this,d=c.element;if(!arguments.length){return d.find(".k-state-selected").closest(H)}b=a(b,d).closest(H);d.find(".k-state-selected").each(function(){var b=c.dataItem(this);if(b){b.set("selected",false);delete b.selected}else{a(this).removeClass("k-state-selected")}});if(b.length){c.dataItem(b).set("selected",true);c._clickTarget=b}c.trigger(s)},_toggle:function(a,b,c){var d=this.options;var e=P(a);var g=c?"expand":"collapse";var h;if(e.data("animating")){return}h=b&&b.loaded();if(c&&!h){if(d.loadOnDemand){this._progress(a,true)}e.remove();b.load()}else{this._updateNodeClasses(a,{},{expanded:c});if(!c){e.css("height",e.height()).css("height")}e.kendoStop(true,true).kendoAnimate(f({reset:true},d.animation[g],{complete:function(){if(c){e.css("height","")}}}))}},toggle:function(b,c){b=a(b);if(!Q(b).is(".k-i-expand, .k-i-collapse")){return}if(arguments.length==1){c=!this._expanded(b)}this._expanded(b,c)},destroy:function(){var a=this;i.fn.destroy.call(a);a.wrapper.off(m);a._unbindDataSource();if(a.dragging){a.dragging.destroy()}c.destroy(a.element);a.root=a.wrapper=a.element=null},_expanded:function(a,b){var d=c.attr("expanded");var e=this.dataItem(a);var f=b;var g=f?"expand":"collapse";if(arguments.length==1){return a.attr(d)==="true"||e&&e.expanded}if(P(a).data("animating")){return}if(!this._trigger(g,a)){if(e){e.set("expanded",f);f=e.expanded}if(f){a.attr(d,"true");a.attr("aria-expanded","true")}else{a.removeAttr(d);a.attr("aria-expanded","false")}}},_progress:function(a,b){var c=this.element;var d=this.templates.loading({messages:this.options.messages});if(arguments.length==1){b=a;if(b){c.html(d)}else{c.empty()}}else{Q(a).toggleClass("k-i-loading",b).removeClass("k-i-reload")}},text:function(a,b){var c=this.dataItem(a),d=this.options[S.text],e=c.level(),f=d.length,g=d[Math.min(e,f-1)];if(b){c.set(g,b)}else{return c[g]}},_objectOrSelf:function(b){return a(b).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(b,c,d,e){var f,g=this._objectOrSelf(d||c),h=g.dataSource;var i=a.Deferred().resolve().promise();if(d&&d[0]!=g.element[0]){f=g.dataItem(d);if(!f.loaded()){g._progress(d,true);i=f.load()}if(d!=this.root){h=f.children;if(!h||!(h instanceof j)){f._initChildren();f.loaded(true);h=f.children}}}b=this._toObservableData(b);return e.call(g,h,b,i)},_toObservableData:function(b){var d=b,e,f;if(T(b)||U(b)){e=this._objectOrSelf(b).dataSource;f=a(b).attr(c.attr("uid"));d=e.getByUid(f);if(d){d=e.remove(d)}}return d},_insert:function(a,b,d){if(!(b instanceof c.data.ObservableArray)){if(!h(b)){b=[b]}}else{b=b.toJSON()}var e=a.parent();if(e&&e._initChildren){e.hasChildren=true;e._initChildren()}a.splice.apply(a,[d,0].concat(b));return this.findByUid(a[d].uid)},insertAfter:Y(1),insertBefore:Y(0),append:function(b,c,d){var e=this.root;if(c&&b instanceof jQuery&&c[0]===b[0]){return}c=c&&c.length?c:null;if(c){e=O(c)}return this._dataSourceMove(b,e,c,function(b,e,f){var g;var h=this;function i(){if(c){h._expanded(c,true)}var a=b.data(),d=Math.max(a.length,0);return h._insert(a,e,d)}f.done(function(){g=i();d=d||a.noop;d(g)});return g||null})},_remove:function(b,c){var d=this,e,f,g;b=a(b,d.element);this.angular("cleanup",function(){return{elements:b.get()}});e=b.parent().parent();f=b.prev();g=b.next();b[c?"detach":"remove"]();if(e.hasClass("k-item")){$(e);d._updateNodeClasses(e)}d._updateNodeClasses(f);d._updateNodeClasses(g);return b},remove:function(a){var b=this.dataItem(a);if(b){this.dataSource.remove(b)}},detach:function(a){return this._remove(a,true)},findByText:function(b){return a(this.element).find(".k-in").filter(function(c,d){return a(d).text()==b}).closest(H)},findByUid:function(b){var d=this.element.find(".k-item");var e=c.attr("uid");var f;for(var g=0;g<d.length;g++){if(d[g].getAttribute(e)==b){f=d[g];break}}return a(f)},expandPath:function(b,c){var d=this;var e=b.slice(0);var f=c||a.noop;function g(){e.shift();if(e.length){h(e[0]).then(g)}else{f.call(d)}}function h(b){var c=a.Deferred();var e=d.dataSource.get(b);if(e){if(e.loaded()){e.set("expanded",true);c.resolve()}else{d._progress(d.findByUid(e.uid),true);e.load().then(function(){e.set("expanded",true);c.resolve()})}}else{c.resolve()}return c.promise()}h(e[0]).then(g)},_parentIds:function(a){var b=a&&a.parentNode();var c=[];while(b&&b.parentNode){c.unshift(b.id);b=b.parentNode()}return c},expandTo:function(a){if(!(a instanceof c.data.Node)){a=this.dataSource.get(a)}var b=this._parentIds(a);this.expandPath(b)},_renderItem:function(a){if(!a.group){a.group={}}a.treeview=this.options;a.r=this.templates;return this.templates.item(a)},_renderGroup:function(a){var b=this;a.renderItems=function(a){var c="",d=0,e=a.items,f=e?e.length:0,g=a.group;g.length=f;for(;d<f;d++){a.group=g;a.item=e[d];a.item.index=d;c+=b._renderItem(a)}return c};a.r=b.templates;return b.templates.group(a)}});d.plugin(N)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dropdowntree/treeview",["kendo.treeview"],a)})(function(){(function(a,b){var c=window.kendo,d=c.ui,e=c.keys,f="k-state-disabled",g="select",h="checked",i="dataBound",j="indeterminate",k="navigate",l,m=d.TreeView;function n(a){return function(b){var c=b.children(".k-animation-container");if(!c.length){c=b}return c.children(a)}}l=n(".k-group");var o=m.extend({init:function(a,b,c){var d=this,e=".k-in:not(.k-state-disabled)";d.dropdowntree=c;m.fn.init.call(d,a,b);if(this.dropdowntree._isMultipleSelection()){d.wrapper.on("click"+".kendoTreeView",e,function(a){d._clickItem(a)})}},_clickItem:function(b){var c=a(b.currentTarget),d=this.dataItem(c);d.set("checked",!d.checked)},defaultrefresh:function(a){var c=a.node;var d=a.action;var e=a.items;var f=this.wrapper;
var g=this.options;var h=g.loadOnDemand;var j=g.checkboxes&&g.checkboxes.checkChildren;var k;if(this._skip){return}if(a.field){if(!e[0]||!e[0].level){return}return this._updateNodes(e,a.field)}if(c){f=this.findByUid(c.uid);this._progress(f,false)}if(j&&d!="remove"){var l=false;for(k=0;k<e.length;k++){if("checked"in e[k]){l=true;break}}if(!l&&c&&c.checked){for(k=0;k<e.length;k++){e[k].checked=true}}}if(d=="add"){this._appendItems(a.index,e,f)}else if(d=="remove"){this._remove(this.findByUid(e[0].uid),false)}else if(d=="itemchange"){this._updateNodes(e)}else if(d=="itemloaded"){this._refreshChildren(f,e,a.index)}else{this._refreshRoot(e)}if(d!="remove"){for(k=0;k<e.length;k++){if(!h||e[k].expanded){e[k].load()}}}this.trigger(i,{node:c?f:b});this.dropdowntree._treeViewDataBound({node:c?f:b,sender:this});if(this.options.checkboxes.checkChildren){this.updateIndeterminate()}},_previousVisible:function(a){var b=this,c,d;if(!a.length||a.prev().length){if(a.length){d=a.prev()}else{d=b.root.children().last()}while(b._expanded(d)){c=l(d).children().last();if(!c.length){break}d=c}}else{d=b.parent(a)||a;if(!d.length){if(b.dropdowntree.checkAll&&b.dropdowntree.checkAll.is(":visible")){b.dropdowntree.checkAll.find(".k-checkbox").focus()}else if(b.dropdowntree.filterInput){b.dropdowntree.filterInput.focus()}else{b.dropdowntree.wrapper.focus()}}}return d},_keydown:function(d){var i=this,l=d.keyCode,m,n=i.current(),o=i._expanded(n),p=n.find(".k-checkbox-wrapper:first :checkbox"),q=c.support.isRtl(i.element);if(d.target!=d.currentTarget){return}if(!q&&l==e.RIGHT||q&&l==e.LEFT){if(o){m=i._nextVisible(n)}else if(!n.find(".k-in:first").hasClass(f)){i.expand(n)}}else if(!q&&l==e.LEFT||q&&l==e.RIGHT){if(o&&!n.find(".k-in:first").hasClass(f)){i.collapse(n)}else{m=i.parent(n);if(!i._enabled(m)){m=b}}}else if(l==e.DOWN){m=i._nextVisible(n)}else if(l==e.UP&&!d.altKey){m=i._previousVisible(n)}else if(l==e.HOME){m=i._nextVisible(a())}else if(l==e.END){m=i._previousVisible(a())}else if(l==e.ENTER&&!n.find(".k-in:first").hasClass(f)){if(!n.find(".k-in:first").hasClass("k-state-selected")){if(!i._trigger(g,n)){i.select(n)}}}else if(l==e.SPACEBAR&&p.length&&!n.find(".k-in:first").hasClass(f)){p.prop(h,!p.prop(h)).data(j,false).prop(j,false);i._checkboxChange({target:p});m=n}else if(d.altKey&&l===e.UP||l===e.ESC){i._closePopup()}if(m){d.preventDefault();if(n[0]!=m[0]){i._trigger(k,m);i.current(m)}}},_closePopup:function(){this.dropdowntree.close();this.dropdowntree.wrapper.focus()},refresh:function(a){this.defaultrefresh(a);if(this.dropdowntree.options.skipUpdateOnBind){return}if(a.action==="itemchange"){if(this.dropdowntree._isMultipleSelection()){if(a.field==="checked"){this.dropdowntree._checkValue(a.items[0])}}else{if(a.field!=="checked"&&a.field!=="expanded"&&a.items[0].selected){this.dropdowntree._selectValue(a.items[0])}}}else{this.dropdowntree.refresh(a)}}});c.ui._dropdowntree=o})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dropdowntree",["dropdowntree/treeview","kendo.popup"],a)})(function(){var a={id:"dropdowntree",name:"DropDownTree",category:"web",description:"The DropDownTree widget displays a hierarchy of items and allows the selection of single or multiple items.",depends:["treeview","popup"]};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=d._dropdowntree,g=c.data.ObservableArray,h=c.data.ObservableObject,i=a.extend,j=c._activeElement,k=".kendoDropDownTree",l=c.keys,m=c.support,n="k-hidden",o="width",p=m.browser,q=c._outerWidth,r=".",s="disabled",t="readonly",u="k-state-disabled",v="aria-disabled",w="k-state-hover",x="k-state-focused",y="mouseenter"+k+" mouseleave"+k,z="tabindex",A="click",B="open",C="close",D="change",E=a.proxy;var F=c.ui.Widget.extend({init:function(b,d){this.ns=k;c.ui.Widget.fn.init.call(this,b,d);this._selection=this._getSelection();this._focusInputHandler=a.proxy(this._focusInput,this);this._initial=this.element.val();this._values=[];var e=this.options.value;if(e){this._values=a.isArray(e)?e.slice(0):[e]}this._inputTemplate();this._accessors();this._setTreeViewOptions(this.options);this._dataSource();this._selection._initWrapper();this._placeholder(true);this._tabindex();this.wrapper.data(z,this.wrapper.attr(z));this.tree=a("<div/>").attr({tabIndex:-1,"aria-hidden":true});this.list=a("<div class='k-list-container'/>").append(this.tree);this._header();this._noData();this._footer();this._reset();this._popup();this.popup.one("open",E(this._popupOpen,this));this._clearButton();this._filterHeader();this._treeview();this._renderFooter();this._checkAll();this._enable();this._toggleCloseVisibility();if(!this.options.autoBind){var f=d.text||"";if(d.value){this._preselect(d.value)}else if(f){this._textAccessor(f)}else if(d.placeholder){this._placeholder(true)}}var g=a(this.element).parents("fieldset").is(":disabled");if(g){this.enable(false)}c.notify(this)},_preselect:function(a,b){this._selection._preselect(a,b)},_setTreeViewOptions:function(b){var c={autoBind:b.autoBind,checkboxes:b.checkboxes,dataImageUrlField:b.dataImageUrlField,dataSpriteCssClassField:b.dataSpriteCssClassField,dataTextField:b.dataTextField,dataUrlField:b.dataUrlField,loadOnDemand:b.loadOnDemand};this.options.treeview=a.extend({},c,this.options.treeview);if(b.template){this.options.treeview.template=b.template}},_dataSource:function(){var b=this.options.dataSource;this.dataSource=c.data.HierarchicalDataSource.create(b);if(b){a.extend(this.options.treeview,{dataSource:this.dataSource})}},_popupOpen:function(){var a=this.popup;a.wrapper=c.wrap(a.element)},_getSelection:function(){if(this._isMultipleSelection()){return new d.DropDownTree.MultipleSelection(this)}else{return new d.DropDownTree.SingleSelection(this)}},setDataSource:function(a){this.dataSource=a;this.treeview.setDataSource(a)},_isMultipleSelection:function(){return this.options&&(this.options.treeview.checkboxes||this.options.checkboxes)},options:{name:"DropDownTree",animation:{},autoBind:true,autoClose:true,autoWidth:false,clearButton:true,dataTextField:"",dataValueField:"",dataImageUrlField:"",dataSpriteCssClassField:"",dataUrlField:"",delay:500,enabled:true,enforceMinLength:false,filter:"none",height:200,ignoreCase:true,index:0,loadOnDemand:false,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete"},minLength:1,checkboxes:false,noDataTemplate:"No data found.",placeholder:"",checkAllTemplate:"Check all",tagMode:"multiple",template:null,text:null,treeview:{},valuePrimitive:false,footerTemplate:"",headerTemplate:"",value:null,valueTemplate:null},events:["open","close","dataBound",D,"filtering"],focus:function(){this.wrapper.focus()},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false});this._toggleCloseVisibility()},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)});this._toggleCloseVisibility()},toggle:function(a){this._toggle(a)},open:function(){var a=this.popup;if(a.visible()||!this._allowOpening()){return}if(this._isMultipleSelection()){a.element.addClass("k-multiple-selection")}a.element.addClass("k-popup-dropdowntree");a.one("activate",this._focusInputHandler);a._hovered=true;a.open()},close:function(){this.popup.close()},search:function(b){var c=this.options;var d;clearTimeout(this._typingTimeout);if(!c.enforceMinLength&&!b.length||b.length>=c.minLength){d=this._getFilter(b);if(this.trigger("filtering",{filter:d})||a.isArray(this.options.dataTextField)){return}this._filtering=true;this.treeview.dataSource.filter(d)}},_getFilter:function(a){return{field:this.options.dataTextField,operator:this.options.filter,value:a,ignoreCase:this.options.ignoreCase}},refresh:function(){var b=this.treeview.dataSource.flatView();this._renderFooter();this._renderNoData();if(this.filterInput&&this.checkAll){this.checkAll.toggle(!this.filterInput.val().length)}this.tree.toggle(!!b.length);a(this.noData).toggle(!b.length)},setOptions:function(a){e.fn.setOptions.call(this,a);this._setTreeViewOptions(a);this._dataSource();if(this.options.treeview){this.treeview.setOptions(this.options.treeview)}if(a.height&&this.tree){this.tree.css("max-height",a.height)}this._header();this._noData();this._footer();this._renderFooter();this._renderNoData();if(this.span&&(this._isMultipleSelection()||this.span.hasClass("k-readonly"))){this._placeholder(true)}this._inputTemplate();this._accessors();this._filterHeader();this._checkAll();this._enable();if(a&&(a.enable||a.enabled)){this.enable(true)}this._clearButton()},destroy:function(){c.ui.Widget.fn.destroy.call(this);if(this.treeview){this.treeview.destroy()}this.popup.destroy();this.wrapper.off(k);this._clear.off(k);this._inputWrapper.off(k);if(this.filterInput){this.filterInput.off(k)}if(this.tagList){this.tagList.off(k)}c.unbind(this.tagList);if(this.options.checkAll&&this.checkAll){this.checkAll.off(k)}if(this._form){this._form.off("reset",this._resetHandler)}},setValue:function(b){b=a.isArray(b)||b instanceof g?b.slice(0):[b];this._values=b},items:function(){this.treeview.dataItems()},value:function(a){if(a){if(this.filterInput&&this.dataSource._filter){this._filtering=true;this.dataSource.filter({})}else if(!this.dataSource.data().length){this.dataSource.fetch()}}return this._selection._setValue(a)},text:function(a){var c;var d=this.options.ignoreCase;a=a===null?"":a;if(a!==b&&!this._isMultipleSelection()){if(typeof a!=="string"){this._textAccessor(a);return}c=d?a:a.toLowerCase();this._selectItemByText(c);this._textAccessor(c)}else{return this._textAccessor()}},_header:function(){var b=this;var d=a(b.header);var e=b.options.headerTemplate;this._angularElement(d,"cleanup");c.destroy(d);d.remove();if(!e){b.header=null;return}var f=typeof e!=="function"?c.template(e):e;d=a(f({}));b.header=d[0]?d:null;b.list.prepend(d);this._angularElement(b.header,"compile")},_noData:function(){var b=this;var d=a(b.noData);var e=b.options.noDataTemplate;b.angular("cleanup",function(){return{elements:d}});c.destroy(d);d.remove();if(!e){b.noData=null;return}b.noData=a('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(b.list);b.noDataTemplate=typeof e!=="function"?c.template(e):e},_renderNoData:function(){var a=this;var b=a.noData;if(!b){return}this._angularElement(b,"cleanup");b.children(":first").html(a.noDataTemplate({instance:a}));this._angularElement(b,"compile")},_footer:function(){var b=this;var d=a(b.footer);var e=b.options.footerTemplate;this._angularElement(d,"cleanup");c.destroy(d);d.remove();if(!e){b.footer=null;return}b.footer=a('<div class="k-footer"></div>').appendTo(b.list);b.footerTemplate=typeof e!=="function"?c.template(e):e},_renderFooter:function(){var a=this;var b=a.footer;if(!b){return}this._angularElement(b,"cleanup");b.html(a.footerTemplate({instance:a}));this._angularElement(b,"compile")},_enable:function(){var a=this,c=a.options,d=a.element.is("[disabled]");if(c.enable!==b){c.enabled=c.enable}if(!c.enabled||d){a.enable(false)}else{a.readonly(a.element.is("[readonly]"))}},_adjustListWidth:function(){var a=this,b=a.list,c=b[0].style.width,d=a.wrapper,e,f;if(!b.data(o)&&c){return}e=window.getComputedStyle?window.getComputedStyle(d[0],null):0;f=parseFloat(e&&e.width)||q(d);if(e&&p.msie){f+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)}if(b.css("box-sizing")!=="border-box"){c=f-(q(b)-b.width())}else{c=f}b.css({fontFamily:d.css("font-family"),width:a.options.autoWidth?"auto":c,minWidth:c,whiteSpace:a.options.autoWidth?"nowrap":"normal"}).data(o,c);return true},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){setTimeout(function(){b.value(b._initial)})};b._form=e.on("reset",b._resetHandler)}},_popup:function(){var a=this;a.popup=new d.Popup(a.list,i({},a.options.popup,{anchor:a.wrapper,open:E(a._openHandler,a),close:E(a._closeHandler,a),animation:a.options.animation,isRtl:m.isRtl(a.wrapper),autosize:a.options.autoWidth}))},_angularElement:function(a,b){if(!a){return}this.angular(b,function(){return{elements:a}})},_allowOpening:function(){return this.options.noDataTemplate||this.treeview.dataSource.flatView().length},_placeholder:function(a){if(this.span){this.span.toggleClass("k-readonly",a).text(a?this.options.placeholder:"")}},_currentValue:function(a){var b=this._value(a);if(!b){b=a}return b},_checkValue:function(b){var c="";var d="";var e=-1;var f=this.value();var g=this.options.tagMode==="multiple";if(b||b===0){if(b.level){b._level=b.level()}d=this._text(b);c=this._currentValue(b);e=f.indexOf(c)}if(b.checked){var i=a.grep(this._tags,function(a){return a.uid===b._tagUid});if(i.length){return}var j=new h(b.toJSON());b._tagUid=j.uid;this._tags.push(j);if(this._tags.length===1){this.span.hide();if(!g){this._multipleTags.push(j)}}if(e===-1){f.push(c);this.setValue(f)}}else{var k=this._tags.find(function(a){return a.uid===b._tagUid});var l=this._tags.indexOf(k);if(l!==-1){this._tags.splice(l,1)}else{this._treeViewCheckAllCheck(b);return}if(this._tags.length===0){this.span.show();if(!g){this._multipleTags.splice(0,1)}}if(e!==-1){f.splice(e,1);this.setValue(f)}}this._treeViewCheckAllCheck(b);if(!this._preventChangeTrigger){this.trigger(D)}if(this.options.autoClose&&this.popup.visible()){this.close();this.wrapper.focus()}this.popup.position();this._toggleCloseVisibility()},_selectValue:function(a){var b="";var c="";if(a||a===0){if(a.level){a._level=a.level()}c=this._text(a);b=this._currentValue(a)}if(b===null){b=""}this.setValue(b);this._textAccessor(c,a);this._accessor(b);this.trigger(D);if(this.options.autoClose&&this.popup.visible()){this.close();this.wrapper.focus()}this.popup.position();this._toggleCloseVisibility()},_clearClick:function(a){a.stopPropagation();this._clearTextAndValue()},_clearTextAndValue:function(){this.setValue([]);this._clearInput();this._clearText();this._selection._clearValue();this.popup.position();this._toggleCloseVisibility()},_clearText:function(){if(this.options.placeholder){this._placeholder(true)}else{if(this.span){this.span.html("")}}},_inputTemplate:function(){var b=this.options.valueTemplate;if(!b){b=a.proxy(c.template("#:this._text(data)#",{useWithBlock:false}),this)}else{b=c.template(b)}this.valueTemplate=b},_assignInstance:function(a,b){var c=this.options.dataTextField;var d={};if(c){G(d,c.split(r),a);G(d,this.options.dataValueField.split(r),b);d=new h(d)}else{d=a}return d},_textAccessor:function(c,d){var e=this.valueTemplate;var f=this.span;if(c===b){return f.text()}f.removeClass("k-readonly");if(!d&&(a.isPlainObject(c)||c instanceof h)){d=c}if(!d){d=this._assignInstance(c,this._accessor())}var g=function(){return{elements:f.get(),data:[{dataItem:d}]}};this.angular("cleanup",g);try{f.html(e(d))}catch(a){if(f){f.html("")}}this.angular("compile",g)},_accessors:function(){var b=this.element;var d=this.options;var e=c.getter;var f=b.attr(c.attr("text-field"));var g=b.attr(c.attr("value-field"));var h=function(b){if(a.isArray(b)){var c=b.length;var d=a.map(b,function(a){return function(b){return b[a]}});return function(a){var b=a._level;if(!b&&b!==0){return}return d[Math.min(b,c-1)](a)}}else{return e(b)}};if(!d.dataTextField&&f){d.dataTextField=f}if(!d.dataValueField&&g){d.dataValueField=g}d.dataTextField=d.dataTextField||"text";d.dataValueField=d.dataValueField||"value";this._text=h(d.dataTextField);this._value=h(d.dataValueField)},_accessor:function(a,b){return this[this._isSelect?"_accessorSelect":"_accessorInput"](a,b)},_accessorInput:function(a){var c=this.element[0];if(a===b){return c.value}else{if(a===null){a=""}c.value=a}},_clearInput:function(){var a=this.element[0];a.value=""},_clearButton:function(){var b=this.options.messages&&this.options.messages.clear?this.options.messages.clear:"clear";if(!this._clear){this._clear=a('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+b+'"></span>').attr({role:"button",tabIndex:-1})}if(this.options.clearButton){this._clear.insertAfter(this.span);this.wrapper.addClass("k-dropdowntree-clearable")}else{if(!this.options.clearButton){this._clear.remove()}}},_toggleCloseVisibility:function(){var a=this.element.attr(t);var b=this.value()&&!this._isMultipleSelection()||this.value().length;var c=this.element.val()&&this.element.val()!==this.options.placeholder;if(!a&&(b||c)){this._showClear()}else{this._hideClear()}},_showClear:function(){if(this._clear){this._clear.removeClass(n)}},_hideClear:function(){if(this._clear){this._clear.addClass(n)}},_openHandler:function(a){this._adjustListWidth();if(this.trigger(B)){a.preventDefault()}else{this.wrapper.attr("aria-expanded",true);this.tree.attr("aria-hidden",false).attr("role","tree")}},_closeHandler:function(a){if(this.trigger(C)){a.preventDefault()}else{this.wrapper.attr("aria-expanded",false);this.tree.attr("aria-hidden",true)}},_treeview:function(){if(this.options.height){this.tree.css("max-height",this.options.height)}this.tree.attr("id",c.guid());this.treeview=new f(this.tree,i({},this.options.treeview),this);this.dataSource=this.treeview.dataSource},_treeViewDataBound:function(a){if(a.node&&this._prev&&this._prev.length){a.sender.expand(a.node)}if(this._filtering){if(!a.node){this._filtering=false}if(!this._isMultipleSelection()){this._deselectItem(a)}return}if(!this.treeview){this.treeview=a.sender}if(!a.node){var b=a.sender.dataSource.data();this._checkLoadedItems(b)}else{var c=a.sender.dataItem(a.node);if(c){var d=c.children.data();this._checkLoadedItems(d)}}this.trigger("dataBound",a)},_deselectItem:function(a){var b=[];if(!a.node){b=a.sender.dataSource.data()}else{var c=a.sender.dataItem(a.node);if(c){b=c.children.data()}}for(var d=0;d<b.length;d++){if(b[d].selected&&!this._valueComparer(b[d],this.value())){b[d].set("selected",false)}}},_checkLoadedItems:function(a){var b=this.value();var c=b.length;if(!a){return}for(var d=0;d<a.length;d++){this._selection._checkLoadedItem(a[d],b,c)}},_treeViewCheckAllCheck:function(a){if(this.options.checkAll&&this.checkAll){this._getAllChecked();if(a.checked){this._checkCheckAll()}else{this._uncheckCheckAll()}}},_checkCheckAll:function(){var a=this.checkAll.find(".k-checkbox");if(this._allItemsAreChecked){a.prop("checked",true).prop("indeterminate",false)}else{a.prop("indeterminate",true)}},_uncheckCheckAll:function(){var a=this.checkAll.find(".k-checkbox");if(this._allItemsAreUnchecked){a.prop("checked",false).prop("indeterminate",false)}else{a.prop("indeterminate",true)}},_filterHeader:function(){var b;if(this.filterInput){this.filterInput.off(k).parent().remove();this.filterInput=null}if(this._isFilterEnabled()){this._disableCheckChildren();b='<span class="k-icon k-i-zoom"></span>';this.filterInput=a('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":true,"aria-expanded":false});this.filterInput.on("input",E(this._filterChange,this));a('<span class="k-list-filter" />').insertBefore(this.tree).append(this.filterInput.add(b))}},_filterChange:function(){if(this.filterInput){this._search()}},_disableCheckChildren:function(){if(this._isMultipleSelection()&&this.options.treeview.checkboxes&&this.options.treeview.checkboxes.checkChildren){this.options.treeview.checkboxes.checkChildren=false}},_checkAll:function(){if(this.checkAll){this.checkAll.find(".k-checkbox-label, .k-checkbox").off(k);this.checkAll.remove();this.checkAll=null}if(this._isMultipleSelection()&&this.options.checkAll){this.checkAll=a('<div class="k-check-all"><input type="checkbox" class="k-checkbox"/><span class="k-checkbox-label">Check All</span></div>').insertBefore(this.tree);this.checkAll.find(".k-checkbox-label").html(c.template(this.options.checkAllTemplate)({instance:this}));this.checkAll.find(".k-checkbox-label").on(A+k,E(this._clickCheckAll,this));this.checkAll.find(".k-checkbox").on("change"+k,E(this._changeCheckAll,this)).on("keydown"+k,E(this._keydownCheckAll,this));this._disabledCheckedItems=[];this._disabledUnCheckedItems=[];this._getAllChecked();if(!this._allItemsAreUnchecked){this._checkCheckAll()}}},_changeCheckAll:function(){var a=this.checkAll.find(".k-checkbox");var b=a.prop("checked");if(!p.msie&&!p.edge){this._updateCheckAll(b)}},_updateCheckAll:function(a){var b=this.checkAll.find(".k-checkbox");this._toggleCheckAllItems(a);b.prop("checked",a);if(this._disabledCheckedItems.length&&this._disabledUnCheckedItems.length){b.prop("indeterminate",true)}else if(this._disabledCheckedItems.length){b.prop("indeterminate",!a)}else if(this._disabledUnCheckedItems.length){b.prop("indeterminate",a)}else{b.prop("indeterminate",false)}this._disabledCheckedItems=[];this._disabledUnCheckedItems=[]},_keydownCheckAll:function(a){var b=a.keyCode;var c=a.altKey;if(c&&b===l.UP||b===l.ESC){this.close();this.wrapper.focus();a.preventDefault();return}if(b===l.UP){if(this.filterInput){this.filterInput.focus()}else{this.wrapper.focus()}a.preventDefault()}if(b===l.DOWN){if(this.tree&&this.tree.is(":visible")){this.tree.focus()}a.preventDefault()}if(b===l.SPACEBAR&&(p.msie||p.edge)){this._clickCheckAll();a.preventDefault()}},_clickCheckAll:function(){var a=this.checkAll.find(".k-checkbox");var b=a.prop("checked");this._updateCheckAll(!b);a.focus()},_dfs:function(a,b,c){for(var d=0;d<a.length;d++){if(!this[b](a[d],c)){break}this._traverceChildren(a[d],b,c)}},_uncheckItemByUid:function(a){this._dfs(this.dataSource.data(),"_uncheckItemEqualsUid",a)},_uncheckItemEqualsUid:function(a,b){if(a.enabled!==false&&a._tagUid==b){a.set("checked",false);return false}return true},_selectItemByText:function(a){this._dfs(this.dataSource.data(),"_itemEqualsText",a)},_itemEqualsText:function(a,b){if(a.enabled!==false&&this._text(a)===b){this.treeview.select(this.treeview.findByUid(a.uid));this._selectValue(a);return false}return true},_selectItemByValue:function(a){this._dfs(this.dataSource.data(),"_itemEqualsValue",a)},_itemEqualsValue:function(a,b){if(a.enabled!==false&&this._valueComparer(a,b)){this.treeview.select(this.treeview.findByUid(a.uid));this._selectValue(a);return false}return true},_checkItemByValue:function(a){var b=this.treeview.dataItems();for(var c=0;c<a.length;c++){this._dfs(b,"_checkItemEqualsValue",a[c])}},_checkItemEqualsValue:function(a,b){if(a.enabled!==false&&this._valueComparer(a,b)){a.set("checked",true);return false}return true},_valueComparer:function(a,b){var c=this._value(a);var d;if(c){if(!b){return false}var e=this._value(b);if(e){return c==e}else{return c==b}}d=this._text(a);if(d){if(this._text(b)){return d==this._text(b)}else{return d==b}}return false},_getAllChecked:function(){this._allCheckedItems=[];this._allItemsAreChecked=true;this._allItemsAreUnchecked=true;this._dfs(this.dataSource.data(),"_getAllCheckedItems");return this._allCheckedItems},_getAllCheckedItems:function(a){if(this._allItemsAreChecked){this._allItemsAreChecked=a.checked}if(this._allItemsAreUnchecked){this._allItemsAreUnchecked=!a.checked}if(a.checked){this._allCheckedItems.push(a)}return true},_traverceChildren:function(a,b,c){var d=a._childrenOptions&&a._childrenOptions.schema?a._childrenOptions.schema.data:null;var e=a[d]||a.items||a.children;if(!e){return}this._dfs(e,b,c)},_toggleCheckAllItems:function(a){this._dfs(this.dataSource.data(),"_checkAllCheckItem",a)},_checkAllCheckItem:function(a,b){if(a.enabled===false){if(a.checked){this._disabledCheckedItems.push(a)}else{this._disabledUnCheckedItems.push(a)}}else{a.set("checked",b)}return true},_isFilterEnabled:function(){var a=this.options.filter;return a&&a!=="none"},_editable:function(b){var c=this;var d=c.element;var e=b.disable;var f=b.readonly;var g=c.wrapper.add(c.filterInput).off(k);var h=c._inputWrapper.off(y);if(c._isMultipleSelection()){c.tagList.off(A+k)}if(!f&&!e){d.removeAttr(s).removeAttr(t);h.removeClass(u).on(y,c._toggleHover);c._clear.on("click"+k,E(c._clearClick,c));g.attr(z,g.data(z)).attr(v,false).on("keydown"+k,E(c._keydown,c)).on("focusin"+k,E(c._focusinHandler,c)).on("focusout"+k,E(c._focusoutHandler,c));c.wrapper.on(A+k,E(c._wrapperClick,c));if(this._isMultipleSelection()){c.tagList.on(A+k,"li.k-button",function(b){a(b.currentTarget).addClass(x)});c.tagList.on(A+k,".k-select",function(a){c._removeTagClick(a)})}}else if(e){g.removeAttr(z);h.addClass(u)}else{h.removeClass(u);g.on("focusin"+k,E(c._focusinHandler,c)).on("focusout"+k,E(c._focusoutHandler,c))}d.attr(s,e).attr(t,f);g.attr(v,e)},_focusinHandler:function(){this._inputWrapper.addClass(x)},_focusoutHandler:function(){this._inputWrapper.removeClass(x);if(this._isMultipleSelection()){this.tagList.find(r+x).removeClass(x)}},_toggle:function(a){a=a!==b?a:!this.popup.visible();this[a?B:C]()},_wrapperClick:function(a){a.preventDefault();this.popup.unbind("activate",this._focusInputHandler);this._focused=this.wrapper;this._prevent=false;this._toggle()},_toggleHover:function(b){a(b.currentTarget).toggleClass(w,b.type==="mouseenter")},_focusInput:function(){if(this.filterInput){this.filterInput.focus()}else if(this.checkAll){this.checkAll.find(".k-checkbox").focus()}else if(this.tree.is(":visible")){this.tree.focus()}},_keydown:function(a){var b=a.keyCode;var c=a.altKey;var d;var e;var f,g;var h=this.popup.visible();if(this.filterInput){d=this.filterInput[0]===j()}if(this.wrapper){e=this.wrapper[0]===j()}if(e){if(b===l.ESC){this._clearTextAndValue();a.preventDefault();return}if(this._isMultipleSelection()){if(b===l.LEFT){this._focusPrevTag();a.preventDefault();return}if(b===l.RIGHT){this._focusNextTag();a.preventDefault();return}if(b===l.HOME){this._focusFirstTag();a.preventDefault();return}if(b===l.END){this._focusLastTag();a.preventDefault();return}if(b===l.DELETE){f=this.tagList.find(r+x).first();if(f.length){g=this._tags[f.index()];this._removeTag(g)}a.preventDefault();return}if(b===l.BACKSPACE){f=this.tagList.find(r+x).first();if(f.length){g=this._tags[f.index()];this._removeTag(g)}else{f=this._focusLastTag();if(f.length){g=this._tags[f.index()];this._removeTag(g)}}a.preventDefault();return}}}if(d){if(b===l.ESC){this._clearFilter()}if(b===l.UP&&!c){this.wrapper.focus();a.preventDefault()}if(p.msie&&p.version<10){if(b===l.BACKSPACE||b===l.DELETE){this._search()}}}if(c&&b===l.UP||b===l.ESC){this.wrapper.focus();this.close();a.preventDefault();return}if(b===l.ENTER&&this._typingTimeout&&this.filterInput&&h){a.preventDefault();return}if(b===l.SPACEBAR&&!d){this._toggle(!h);a.preventDefault()}if(c&&b===l.DOWN&&!h){this.open();a.preventDefault()}if(b===l.DOWN&&h){if(this.filterInput&&!d){this.filterInput.focus()}else if(this.checkAll&&this.checkAll.is(":visible")){this.checkAll.find("input").focus()}else if(this.tree.is(":visible")){this.tree.focus()}a.preventDefault()}},_focusPrevTag:function(){var a=this.tagList.find(r+x);if(a.length){var b=this.wrapper.attr("aria-activedescendant");a.first().removeClass(x).removeAttr("id").prev().addClass(x).attr("id",b);this.wrapper.attr("aria-activedescendant",b)}else{this._focusLastTag()}},_focusNextTag:function(){var a=this.tagList.find(r+x);if(a.length){var b=this.wrapper.attr("aria-activedescendant");a.first().removeClass(x).removeAttr("id").next().addClass(x).attr("id",b);this.wrapper.attr("aria-activedescendant",b)}else{this._focusFirstTag()}},_focusFirstTag:function(){var a=this.wrapper.attr("aria-activedescendant");this._clearDisabledTag();var b=this.tagList.children("li").first().addClass(x).attr("id",a);this.wrapper.attr("aria-activedescendant",a);return b},_focusLastTag:function(){var a=this.wrapper.attr("aria-activedescendant");this._clearDisabledTag();var b=this.tagList.children("li").last().addClass(x).attr("id",a);this.wrapper.attr("aria-activedescendant",a);return b},_clearDisabledTag:function(){this.tagList.find(r+x).removeClass(x).removeAttr("id")},_search:function(){var a=this;clearTimeout(a._typingTimeout);a._typingTimeout=setTimeout(function(){var b=a.filterInput.val();if(a._prev!==b){a._prev=b;a.search(b)}a._typingTimeout=null},a.options.delay)},_clearFilter:function(){if(this.filterInput.val().length){this.filterInput.val("");this._prev="";this._filtering=true;this.treeview.dataSource.filter({})}},_removeTagClick:function(b){b.stopPropagation();var c=this._tags[a(b.currentTarget.parentElement).index()];this._removeTag(c)},_removeTag:function(a){if(!a){return}var b=a.uid;this._uncheckItemByUid(b)}});function G(a,b,c){var d=0,e=b.length-1,f;for(;d<e;++d){f=b[d];if(!(f in a)){a[f]={}}a=a[f]}a[b[e]]=c}d.plugin(F);var H=c.Class.extend({init:function(a){this._dropdowntree=a},_initWrapper:function(){this._wrapper();this._span()},_preselect:function(a){var b=this._dropdowntree;b._selectValue(a)},_wrapper:function(){var a=this._dropdowntree,b=a.element,c=b[0],d;d=b.parent();if(!d.is("span.k-widget")){d=b.wrap("<span />").parent();d[0].style.cssText=c.style.cssText;d[0].title=c.title}a._focused=a.wrapper=d.addClass("k-widget k-dropdowntree").addClass(c.className).css("display","").attr({accesskey:b.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false});b.hide().removeAttr("accesskey")},_span:function(){var b=this._dropdowntree,c=b.wrapper,d="span.k-input",e;e=c.find(d);if(!e[0]){c.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(b.element);e=c.find(d)}b.span=e;b._inputWrapper=a(c[0].firstChild);b._arrow=c.find(".k-select");b._arrowIcon=b._arrow.find(".k-icon")},_setValue:function(a){var c=this._dropdowntree;var d;if(a===b||a===null){d=c._values.slice()[0];a=typeof d==="object"?d:c._accessor()||d;return a===b||a===null?"":a}if(a.length===0){c._clearTextAndValue();return}c._selectItemByValue(a);c._toggleCloseVisibility()},_clearValue:function(){var a=this._dropdowntree;var b=a.treeview.select();if(a.treeview.dataItem(b)){a.treeview.dataItem(b).set("selected",false);a.trigger(D)}},_checkLoadedItem:function(a,b){var c=this._dropdowntree;if(b&&c._valueComparer(a,b)||!b&&a.selected){c._selectValue(a);c.treeview.select(c.treeview.findByUid(a.uid))}}});var I=c.Class.extend({init:function(a){this._dropdowntree=a},_initWrapper:function(){var b=this._dropdowntree;this._tagTemplate();b.element.attr("multiple","multiple").hide();this._wrapper();b._tags=new g([]);b._multipleTags=new g([]);this._tagList();b.span=a('<span unselectable="on" class="k-input">&nbsp;</span>').insertAfter(b.tagList);b._inputWrapper=a(b.wrapper[0].firstChild)},_preselect:function(b,d){var e=this._dropdowntree;var f=d||e.options.value;if(!a.isArray(b)&&!(b instanceof c.data.ObservableArray)){b=[b]}if(a.isPlainObject(b[0])||b[0]instanceof c.data.ObservableObject||!e.options.dataValueField){e.dataSource.data(b);e.value(f)}},_tagTemplate:function(){var a=this._dropdowntree;var b=a.options;var d=b.valueTemplate;var e=b.tagMode==="multiple";var f=b.messages.singleTag;d=d?c.template(d):a.valueTemplate;a.valueTemplate=function(b){if(e){return'<li class="k-button '+(b.enabled===false?"k-state-disabled":"")+'" unselectable="on" role="option" '+(b.enabled===false?'aria-disabled="true"':"")+">"+'<span unselectable="on">'+d(b)+"</span>"+'<span title="'+a.options.messages.deleteTag+'" aria-label="'+a.options.messages.deleteTag+'" class="k-select">'+'<span class="k-icon k-i-close"></span>'+"</span>"+"</li>"}return'<li class="k-button" unselectable="on" role="option">'+'<span unselectable="on" data-bind="text: tags.length"></span>'+'<span unselectable="on">&nbsp;'+f+"</span>"+"</li>"}},_wrapper:function(){var b=this._dropdowntree,d=b.element,e=d.parent("span.k-dropdowntree");if(!e[0]){e=d.wrap('<div class="k-widget k-dropdowntree" unselectable="on" />').parent();e[0].style.cssText=d[0].style.cssText;e[0].title=d[0].title;a('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(d)}b.wrapper=e.addClass(d[0].className).css("display","").attr({role:"listbox","aria-activedescendant":c.guid(),"aria-haspopup":true,
"aria-expanded":false});b._innerWrapper=a(e[0].firstChild)},_tagList:function(){var b=this._dropdowntree,d=b._innerWrapper.children("ul");if(!d[0]){var e=b.options.tagMode==="multiple";var f=e?"tags":"multipleTag";d=a('<ul role="listbox" unselectable="on" data-template="tagTemplate" data-bind="source: '+f+'" class="k-reset"/>').appendTo(b._innerWrapper)}b.tagList=d;b.tagList.attr("id",c.guid()+"_tagList");b.wrapper.attr("aria-owns",b.tagList.attr("id"));var g=c.observable({multipleTag:b._multipleTags,tags:b._tags,tagTemplate:b.valueTemplate});c.bind(b.tagList,g);b.tagList.attr("data-stop",true)},_setValue:function(a){var c=this._dropdowntree;var d=c._values;if(a===b||a===null){return c._values.slice()}c.setValue(a);if(a.length){this._removeValues(d,a);c._checkItemByValue(a)}else{c._clearTextAndValue()}c._toggleCloseVisibility()},_removeValues:function(a,b){var c=this._dropdowntree;var d=this._getNewValues(a,b);for(var e=0;e<d.length;e++){for(var f=0;f<c._tags.length;f++){if(c._valueComparer(c._tags[f],d[e])){c._uncheckItemByUid(c._tags[f].uid)}}}},_getNewValues:function(a,b){var c=[];for(var d=0;d<a.length;d++){if(b.indexOf(a[d])===-1){c.push(a[d])}}return c},_clearValue:function(){var a=this._dropdowntree;var b=a._tags.slice();for(var c=0;c<b.length;c++){var d=b[c].uid;a._preventChangeTrigger=true;a._uncheckItemByUid(d)}if(b.length){a._preventChangeTrigger=false;a.trigger(D)}},_checkLoadedItem:function(a,b,c){var d=this._dropdowntree;if(!c&&a.checked){d._checkValue(a)}if(c&&(b.indexOf(d._currentValue(a))!==-1||b.indexOf(a))!==-1&&!this._findTag(d._currentValue(a))){if(a.checked){d._checkValue(a)}else{a.set("checked",true)}}},_findTag:function(a){var b=this._dropdowntree;return b._tags.find(function(c){return b._valueComparer(c,a)})}});c.ui.DropDownTree.SingleSelection=H;c.ui.DropDownTree.MultipleSelection=I})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.combobox",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],a)})(function(){var a={id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};(function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=d.Select,g=c.caret,h=c.support,i=h.placeholder,j=c._activeElement,k=c.keys,l=".kendoComboBox",m=l+"FocusEvent",n="click"+l,o="mousedown"+l,p="disabled",q="readonly",r="change",s="k-i-loading",t="k-state-default",u="k-state-focused",v="k-state-disabled",w="aria-disabled",x="filter",y="accept",z="rebind",A="mouseenter"+l+" mouseleave"+l,B=a.proxy,C=/(\r\n|\n|\r)/gm;var D=f.extend({init:function(b,d){var e=this,g,h;e.ns=l;d=a.isArray(d)?{dataSource:d}:d;f.fn.init.call(e,b,d);d=e.options;b=e.element.on("focus"+l,B(e._focusHandler,e));d.placeholder=d.placeholder||b.attr("placeholder");e._reset();e._wrapper();e._input();e._clearButton();e._tabindex(e.input);e._popup();e._dataSource();e._ignoreCase();e._enable();e._attachFocusEvents();e._oldIndex=e.selectedIndex=-1;e._aria();e._initialIndex=d.index;e.requireValueMapper(e.options);e._initList();e._cascade();if(d.autoBind){e._filterSource()}else{g=d.text;if(!g&&e._isSelect){g=b.children(":selected").text()}if(g){e._setText(g)}}if(!g){e._placeholder()}h=a(e.element).parents("fieldset").is(":disabled");if(h){e.enable(false)}c.notify(e);e._toggleCloseVisibility()},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:false,height:200,highlightFirst:true,filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{},virtual:false,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:true,syncValueAndText:true,autoWidth:false},events:["open","close",r,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(a){var b=this._listOptions(a);f.fn.setOptions.call(this,a);this.listView.setOptions(b);this._accessors();this._aria();this._clearButton()},destroy:function(){var a=this;a.input.off(l);a.input.off(m);a.element.off(l);a._inputWrapper.off(l);clearTimeout(a._pasteTimeout);a._arrow.off(n+" "+o);a._clear.off(n+" "+o);f.fn.destroy.call(a)},_change:function(){var a=this;var b=a.text();var c=b&&b!==a._oldText&&b!==a.options.placeholder;var d=a.selectedIndex;var e=d===-1;if(!a.options.syncValueAndText&&!a.value()&&e&&c){a._old="";a._oldIndex=d;a._oldText=b;if(!a._typing){a.element.trigger(r)}a.trigger(r);a._typing=false;return}f.fn._change.call(a);a._toggleCloseVisibility()},_attachFocusEvents:function(){var a=this;a.input.on("focus"+m,B(a._inputFocus,a)).on("focusout"+m,B(a._inputFocusout,a))},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(u);this._placeholder(false)},_inputFocusout:function(){var a=this;var b=a.value();a._userTriggered=true;a._inputWrapper.removeClass(u);clearTimeout(a._typingTimeout);a._typingTimeout=null;a.text(a.text());var c=a._focus();var d=this.listView.dataItemByIndex(this.listView.getElementIndex(c));if(b!==a.value()&&a.trigger("select",{dataItem:d,item:c})){a.value(b);return}a._placeholder();a._blur();a.element.blur()},_inputPaste:function(){var a=this;clearTimeout(a._pasteTimeout);a._pasteTimeout=null;a._pasteTimeout=setTimeout(function(){a.search()})},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._inputWrapper.off(l),f=b.element.add(b.input.off(l)),g=b._arrow.off(n+" "+o),h=b._clear;if(!d&&!c){e.addClass(t).removeClass(v).on(A,b._toggleHover);f.removeAttr(p).removeAttr(q).attr(w,false);g.on(n,B(b._arrowClick,b)).on(o,function(a){a.preventDefault()});h.on(n,B(b._clearValue,b)).on(o,function(a){a.preventDefault()});b.input.on("keydown"+l,B(b._keydown,b)).on("input"+l,B(b._search,b)).on("paste"+l,B(b._inputPaste,b))}else{e.addClass(c?v:t).removeClass(c?t:v);f.attr(p,c).attr(q,d).attr(w,c)}b._toggleCloseVisibility()},open:function(){var a=this;var b=a._state;var c=a.dataSource.filter()?a.dataSource.filter().filters.length>0:false;if(a.popup.visible()){return}if(!a.listView.bound()&&b!==x||b===y){a._open=true;a._state=z;if(a.options.minLength!==1&&!c||c&&a.value()&&a.selectedIndex===-1){a.refresh();a._openPopup();if(!this.options.virtual){a.listView.bound(false)}}else{a._filterSource()}}else if(a._allowOpening()){a.popup._hovered=true;a._openPopup();if(a.options.virtual){a._focusItem()}}},_scrollToFocusedItem:function(){var a=this.listView;a.scrollToIndex(a.getElementIndex(a.focus()))},_openPopup:function(){this.popup.one("activate",B(this._scrollToFocusedItem,this));this.popup.open()},_updateSelectionState:function(){var a=this;var c=a.options.text;var d=a.options.value;if(a.listView.isFiltered()){return}if(a.selectedIndex===-1){if(c===b||c===null){c=d}a._accessor(d);a.input.val(c||a.input.val());a._placeholder()}else if(a._oldIndex===-1){a._oldIndex=a.selectedIndex}},_buildOptions:function(a){var c=this;if(!c._isSelect){return}var d=c._customOption;if(c._state===z){c._state=""}c._customOption=b;c._options(a,"",c.value());if(d&&d[0].selected){c._custom(d.val())}},_updateSelection:function(){var b=this;var c=b.listView;var d=b._initialIndex;var e=d!==null&&d>-1;var f=b._state===x;if(f){a(c.focus()).removeClass("k-state-selected");return}if(b._fetch){return}if(!c.value().length){if(e){b.select(d)}else if(b._accessor()){c.value(b._accessor())}}b._initialIndex=null;var g=c.selectedDataItems()[0];if(!g){return}if(b._value(g)!==b.value()){b._custom(b._value(g))}if(b.text()&&b.text()!==b._text(g)){b._selectValue(g)}},_updateItemFocus:function(){var a=this.listView;if(!this.options.highlightFirst){a.focus(-1)}else if(!a.focus()&&!a.focusIndex()){a.focus(0)}},_listBound:function(){var a=this;var c=a.input[0]===j();var d=a.dataSource.flatView();var e=a.listView.skip();var f=d.length;var g=a.dataSource._group?a.dataSource._group.length:0;var h=e===b||e===0;a._presetValue=false;a._renderFooter();a._renderNoData();a._toggleNoData(!f);a._toggleHeader(!!g&&!!f);a._resizePopup();a.popup.position();a._buildOptions(d);a._makeUnselectable();a._updateSelection();if(d.length&&h){a._updateItemFocus();if(a.options.suggest&&c&&a.input.val()){a.suggest(d[0])}}if(a._open){a._open=false;if(a._typingTimeout&&!c){a.popup.close()}else{a.toggle(a._allowOpening())}a._typingTimeout=null}a._hideBusy();a.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]);if(this._presetValue){this._oldIndex=this.selectedIndex}},_get:function(a){var b,c,d;if(typeof a==="function"){b=this.dataSource.flatView();for(d=0;d<b.length;d++){if(a(b[d])){a=d;c=true;break}}if(!c){a=-1}}return a},_select:function(a,b){var c=this;a=c._get(a);if(a===-1){c.input[0].value="";c._accessor("")}return c.listView.select(a).done(function(){if(!b&&c._state===x){c._state=y}c._toggleCloseVisibility()})},_selectValue:function(a){var c=this.listView.select();var d="";var e="";c=c[c.length-1];if(c===b){c=-1}this.selectedIndex=c;if(this.listView.isFiltered()&&c!==-1){this._valueBeforeCascade=this._old}if(c===-1&&!a){if(this.options.syncValueAndText){if(this.options.dataTextField===this.options.dataValueField){e=this._accessor()}else{e=this.input[0].value}d=e}else{e=this.text()}this.listView.focus(-1)}else{if(a||a===0){d=this._dataValue(a);e=this._text(a)}if(d===null){d=""}}this._setDomInputValue(e);this._accessor(d!==b?d:e,c);this._placeholder();this._triggerCascade()},_setDomInputValue:function(a){var b=this;var c=g(this.input);var d;if(c&&c.length){d=c[0]}this._prev=this.input[0].value=a;if(d&&this.selectedIndex===-1){var e=h.mobileOS;if(e.wp||e.android){setTimeout(function(){b.input[0].setSelectionRange(d,d)},0)}else{this.input[0].setSelectionRange(d,d)}}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var a=this.element.is(":disabled")||this.element.is("[readonly]");if(this.text()&&!a){this._showClear()}else{this._hideClear()}},suggest:function(a){var c=this;var d=c.input[0];var f=c.text();var h=g(d)[0];var i=c._last;var l;if(i==k.BACKSPACE||i==k.DELETE){c._last=b;return}a=a||"";if(typeof a!=="string"){if(a[0]){a=c.dataSource.view()[e.inArray(a[0],c.ul[0])]}a=a?c._text(a):""}if(h<=0){h=f.toLowerCase().indexOf(a.toLowerCase())+1}if(a){a=a.toString();l=a.toLowerCase().indexOf(f.toLowerCase());if(l>-1){f+=a.substring(l+f.length)}}else{f=f.substring(0,h)}if(f.length!==h||!a){d.value=f;if(d===j()){g(d,h,f.length)}}},text:function(a){a=a===null?"":a;var c=this;var d=c.input[0];var f=c.options.ignoreCase;var g=a;var h;var i;if(a===b){return d.value}if(c.options.autoBind===false&&!c.listView.bound()){c._setText(a);return}h=c.dataItem();if(h&&c._text(h).replace&&c._text(h).replace(C,"")===a){i=c._value(h);if(i===e.unifyType(c._old,typeof i)){c._triggerCascade();return}}if(f){g=g.toLowerCase()}c._select(function(a){a=c._text(a);if(f){a=(a+"").toLowerCase()}return a===g}).done(function(){if(c.selectedIndex<0){d.value=a;if(c.options.syncValueAndText){c._accessor(a)}c._cascadeTriggered=true;c._triggerCascade()}c._prev=d.value})},toggle:function(a){this._toggle(a,true)},value:function(a){var c=this;var d=c.options;var e=c.listView;if(a===b){a=c._accessor()||c.listView.value()[0];return a===b||a===null?"":a}c.requireValueMapper(c.options,a);c.trigger("set",{value:a});if(a===d.value&&c.input.val()===d.text){return}c._accessor(a);if(c._isFilterEnabled()&&e.bound()&&e.isFiltered()){c._clearFilter()}else{c._fetchData()}e.value(a).done(function(){if(c.selectedIndex===-1){c._accessor(a);c.input.val(a);c._placeholder(true)}c._old=c._accessor();c._oldIndex=c.selectedIndex;c._prev=c.input.val();if(c._state===x){c._state=y}c._toggleCloseVisibility()})},_hideBusy:function(){var a=this;clearTimeout(a._busy);a._arrowIcon.removeClass(s);a._focused.attr("aria-busy",false);a._busy=null;a._toggleCloseVisibility()},_click:function(a){var b=this;var c=a.item;var d=b.listView.dataItemByIndex(b.listView.getElementIndex(c));a.preventDefault();if(b.trigger("select",{dataItem:d,item:c})){b.close();return}b._userTriggered=true;b._select(c).done(function(){b._blur()})},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(a){var c=this;var d=c.options;var e=c.dataSource;var f=d.ignoreCase;var g=function(d){var e=c._text(d);if(e!==b){e=e+"";if(e!==""&&a===""){return false}if(f){e=e.toLowerCase()}return e.indexOf(a)===0}};if(f){a=a.toLowerCase()}if(!c.ul[0].firstChild){e.one(r,function(){if(e.view()[0]){c.search(a)}}).fetch();return}this.listView.focus(this._get(g));var h=this.listView.focus();if(h){if(d.suggest){c.suggest(h)}this.open()}if(this.options.highlightFirst&&!a){this.listView.focusFirst()}},_input:function(){var b=this,c=b.element.removeClass("k-input")[0],d=c.accessKey,e=b.wrapper,f="input.k-input",g=c.name||"",h,j;if(g){g='name="'+g+'_input" '}h=e.find(f);if(!h[0]){e.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+g+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(b.element);h=e.find(f)}h[0].style.cssText=c.style.cssText;h[0].title=c.title;j=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10);if(j>-1){h[0].maxLength=j}h.addClass(c.className).css({width:"",height:c.style.height}).attr({role:"combobox","aria-expanded":false}).show();if(i){h.attr("placeholder",b.options.placeholder)}if(d){c.accessKey="";h[0].accessKey=d}b._focused=b.input=h;b._inputWrapper=a(e[0].firstChild);b._arrow=e.find(".k-select").attr({role:"button",tabIndex:-1});b._arrowIcon=b._arrow.find(".k-icon");if(c.id){b._arrow.attr("aria-controls",b.ul[0].id)}},_clearButton:function(){e.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.input);this.wrapper.addClass("k-combobox-clearable")}},_keydown:function(a){var b=this,c=a.keyCode;b._last=c;clearTimeout(b._typingTimeout);b._typingTimeout=null;if(c===k.HOME){b._firstItem()}else if(c===k.END){b._lastItem()}else if(c===k.ENTER||c===k.TAB){var d=b.listView.focus();var f=b.dataItem();var g=true;if(!b.popup.visible()&&(!f||b.text()!==b._text(f))){d=null}if(d){if(b.popup.visible()){a.preventDefault()}f=b.listView.dataItemByIndex(b.listView.getElementIndex(d));if(f){g=b._value(f)!==e.unifyType(b.value(),typeof b._value(f))}if(g&&b.trigger("select",{dataItem:f,item:d})){return}b._userTriggered=true;b._select(d).done(function(){b._blur();b._valueBeforeCascade=b._old=b.value()})}else{if(b._syncValueAndText()||b._isSelect){b._accessor(b.input.val())}b.listView.value(b.input.val());b._blur()}}else if(c!=k.TAB&&!b._move(a)){b._search()}else if(c===k.ESC&&!b.popup.visible()){b._clearValue()}},_placeholder:function(a){if(i){return}var c=this,d=c.input,e=c.options.placeholder,f;if(e){f=c.value();if(a===b){a=!f}d.toggleClass("k-readonly",a);if(!a){if(!f){e=""}else{return}}d.val(e);if(!e&&d[0]===j()){g(d[0],0,0)}}},_search:function(){var a=this;a._typingTimeout=setTimeout(function(){var b=a.text();if(a._prev!==b){a._prev=b;if(a.options.filter==="none"&&a.options.virtual){a.listView.select(-1)}a.search(b);a._toggleCloseVisibility()}a._typingTimeout=null},a.options.delay)},_setText:function(a){this.input.val(a);this._prev=a},_wrapper:function(){var a=this,b=a.element,c=b.parent();if(!c.is("span.k-widget")){c=b.hide().wrap("<span />").parent();c[0].style.cssText=b[0].style.cssText}a.wrapper=c.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(a,b){var c=this;var d=a.value();var e=d&&a.selectedIndex===-1;if(this.selectedIndex==-1&&this.value()){return}if(b||!d||e){c.options.value="";c.value("");c._selectedValue=null}},_preselect:function(a,b){this.input.val(b);this._accessor(a);this._old=this._accessor();this._oldIndex=this.selectedIndex;this.listView.setValue(a);this._placeholder();this._initialIndex=null;this._presetValue=true;this._toggleCloseVisibility()}});d.plugin(D)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.multiselect",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],a)})(function(){var a={id:"multiselect",name:"MultiSelect",category:"web",description:"The MultiSelect widget allows the selection from pre-defined values.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]};(function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=a.extend({A:65},c.keys),g=c._activeElement,h=c.data.ObservableArray,i=a.proxy,j="id",k="li",l="accept",m="filter",n="rebind",o="open",p="close",q="change",r="progress",s="select",t="deselect",u="aria-disabled",v="k-state-focused",w="k-state-selected",x="k-hidden",y="k-state-hover",z="k-state-disabled",A="disabled",B="readonly",C=".kendoMultiSelect",D="click"+C,E="keydown"+C,F="mouseenter"+C,G="mouseleave"+C,H=F+" "+G,I=/"/g,J=a.isArray,K=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var L=e.extend({init:function(b,d){var f=this,g,h;f.ns=C;e.fn.init.call(f,b,d);f._optionsMap={};f._customOptions={};f._wrapper();f._tagList();f._input();f._textContainer();f._loader();f._clearButton();f._tabindex(f.input);b=f.element.attr("multiple","multiple").hide();d=f.options;if(!d.placeholder){d.placeholder=b.data("placeholder")}g=b.attr(j);if(g){f._tagID=g+"_tag_active";g=g+"_taglist";f.tagList.attr(j,g);f.input.attr("aria-describedby",g)}f._initialOpen=true;f._aria(g);f._dataSource();f._ignoreCase();f._popup();f._tagTemplate();f.requireValueMapper(f.options);f._initList();f._reset();f._enable();f._placeholder();if(d.autoBind){f.dataSource.fetch()}else if(d.value){f._preselect(d.value)}h=a(f.element).parents("fieldset").is(":disabled");if(h){f.enable(false)}c.notify(f);f._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:true,autoBind:true,autoClose:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:1,enforceMinLength:false,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:false,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:true,autoWidth:false},events:[o,p,q,s,t,"filtering","dataBinding","dataBound"],setDataSource:function(a){this.options.dataSource=a;this._state="";this._dataSource();this.persistTagList=false;this.listView.setDataSource(this.dataSource);if(this.options.autoBind){this.dataSource.fetch()}},setOptions:function(a){var b=this._listOptions(a);e.fn.setOptions.call(this,a);this.listView.setOptions(b);this._accessors();this._aria(this.tagList.attr(j));this._tagTemplate();this._placeholder();this._clearButton()},currentTag:function(a){var c=this;if(a!==b){if(c._currentTag){c._currentTag.removeClass(v).removeAttr(j);c.input.removeAttr("aria-activedescendant")}if(a){a.addClass(v).attr(j,c._tagID);c.input.attr("aria-activedescendant",c._tagID)}c._currentTag=a}else{return c._currentTag}},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var a=this,b=a.ns;clearTimeout(a._busy);clearTimeout(a._typingTimeout);a.wrapper.off(b);a.tagList.off(b);a.input.off(b);a._clear.off(b);e.fn.destroy.call(a)},_activateItem:function(){if(this.popup.visible()){e.fn._activateItem.call(this)}this.currentTag(null)},_listOptions:function(b){var d=this;var f=e.fn._listOptions.call(d,a.extend(b,{selectedItemChange:i(d._selectedItemChange,d),selectable:"multiple"}));var g=this.options.itemTemplate||this.options.template;var h=f.itemTemplate||g||f.template;if(!h){h="#:"+c.expr(f.dataTextField,"data")+"#"}f.template=h;return f},_setListValue:function(){e.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(a){var c=this.dataSource.flatView();var d=this._optionsMap;var e=this._value;if(this._state===n){this._state=""}for(var f=0;f<a.added.length;f++){if(d[e(a.added[f].dataItem)]===b){this._render(c);break}}this._selectValue(a.added,a.removed)},_selectedItemChange:function(a){var b=a.items;var c;var d;for(d=0;d<b.length;d++){c=b[d];this.tagList.children().eq(c.index).children("span:first").html(this.tagTextTemplate(c.item))}},_wrapperMousedown:function(b){var d=this;var e=b.target.nodeName.toLowerCase()!=="input";var f=a(b.target);var h=f.hasClass("k-select")||f.hasClass("k-icon");if(h){h=!f.closest(".k-select").children(".k-i-arrow-60-down").length}if(e&&!(h&&c.support.mobileOS)){b.preventDefault()}if(!h){if(d.input[0]!==g()&&e){d.input.focus()}if(d.options.minLength===1){d.open()}}},_inputFocus:function(){this._placeholder(false);this.wrapper.addClass(v)},_inputFocusout:function(){var a=this;clearTimeout(a._typingTimeout);a.wrapper.removeClass(v);a._placeholder(!a.listView.selectedDataItems()[0],true);a.close();if(a._state===m){a._state=l;a.listView.skipUpdate(true)}if(a.listView.bound()&&a.listView.isFiltered()){a.persistTagList=true;a._clearFilter()}a.element.blur()},_removeTag:function(a,c){var d=this;var e=d._state;var f=a.index();var g=d.listView;var h=g.value()[f];var i=d.listView.selectedDataItems()[f];var j=d._customOptions[h];var k;if(d.trigger(t,{dataItem:i,item:a})){d._close();return}if(j===b&&(e===l||e===m)){j=d._optionsMap[h]}var n=function(){d.currentTag(null);if(c){d._change()}d._close()};if(j===b){d.persistTagList=false;g.select(g.select()[f]).done(n)}else{k=d.element[0].children[j];k.selected=false;g.removeAt(f);a.remove();n()}},_tagListClick:function(b){var c=a(b.currentTarget);if(!c.children(".k-i-arrow-60-down").length){this._removeTag(c.closest(k),true)}},_clearClick:function(){var b=this;if(b.options.tagMode==="single"){b.value([])}else{b.tagList.children().each(function(c,d){b._removeTag(a(d),false)})}b.input.val("");b._search();b.trigger(q);b.focus();b._hideClear();if(b._state===m){b._state=l}},_editable:function(b){var c=this,d=b.disable,e=b.readonly,f=c.wrapper.off(C),g=c.tagList.off(C),h=c.element.add(c.input.off(C));if(!e&&!d){f.removeClass(z).on(H,c._toggleHover).on("mousedown"+C+" touchend"+C,i(c._wrapperMousedown,c));c.input.on(E,i(c._keydown,c)).on("paste"+C,i(c._search,c)).on("input"+C,i(c._search,c)).on("focus"+C,i(c._inputFocus,c)).on("focusout"+C,i(c._inputFocusout,c));c._clear.on("click"+C,i(c._clearClick,c));h.removeAttr(A).removeAttr(B).attr(u,false);g.on(F,k,function(){a(this).addClass(y)}).on(G,k,function(){a(this).removeClass(y)}).on(D,"li.k-button .k-select",i(c._tagListClick,c))}else{if(d){f.addClass(z)}else{f.removeClass(z)}h.attr(A,d).attr(B,e).attr(u,d)}},_close:function(){var a=this;if(a.options.autoClose){a.close()}else{a.popup.position()}},_filterSource:function(a,b){if(!b){b=this._retrieveData}this._retrieveData=false;e.fn._filterSource.call(this,a,b)},close:function(){this._activeItem=null;this.input.removeAttr("aria-activedescendant");this.popup.close()},open:function(){var b=this;if(b._request){b._retrieveData=false}if(b._retrieveData||!b.listView.bound()||b._state===l){b._open=true;b._state=n;b.listView.skipUpdate(true);b.persistTagList=b._initialOpen&&!b.listView.bound()?false:true;b._filterSource();b._focusItem()}else if(b._allowOpening()){if(b._initialOpen&&!b.options.autoBind&&!b.options.virtual&&b.options.value&&!a.isPlainObject(b.options.value[0])){b.value(b._initialValues)}b.popup._hovered=true;b._initialOpen=false;b.popup.open();b._focusItem()}},toggle:function(a){a=a!==b?a:!this.popup.visible();this[a?o:p]()},refresh:function(){this.listView.refresh()},_listBound:function(){var a=this;var c=a.dataSource.flatView();var d=a.listView.skip();a._render(c);a._renderFooter();a._renderNoData();a._toggleNoData(!c.length);a._resizePopup();if(a._open){a._open=false;a.toggle(a._allowOpening())}a.popup.position();if(a.options.highlightFirst&&(d===b||d===0)){a.listView.focusFirst()}if(a._touchScroller){a._touchScroller.reset()}a._hideBusy();a._makeUnselectable();a.trigger("dataBound")},_inputValue:function(){var a=this;var b=a.input.val();if(a.options.placeholder===b){b=""}return b},value:function(a){var c=this;var d=c.listView;var e=d.value().slice();var f=c.options.maxSelectedItems;var g=d.bound()&&d.isFiltered();if(a===b){return e}c.persistTagList=false;c.requireValueMapper(c.options,a);a=c._normalizeValues(a);if(f!==null&&a.length>f){a=a.slice(0,f)}if(g){c._clearFilter()}d.value(a);c._old=d.value();if(!g){c._fetchData()}c._toggleCloseVisibility()},_preselect:function(b,d){var e=this;if(!J(b)&&!(b instanceof c.data.ObservableArray)){b=[b]}if(a.isPlainObject(b[0])||b[0]instanceof c.data.ObservableObject||!e.options.dataValueField){e.dataSource.data(b);e.value(d||e._initialValues);e._retrieveData=true}},_setOption:function(a,b){var c=this.element[0].children[this._optionsMap[a]];if(c){c.selected=b}},_fetchData:function(){var a=this;var b=!!a.dataSource.view().length;var c=a.listView.value().length===0;if(c||a._request){return}if(a._retrieveData||!a._fetch&&!b){a._fetch=true;a._retrieveData=false;a.dataSource.read().done(function(){a._fetch=false})}},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var a=this,b=a.element,d=a.options,e=d.dataSource||{};e=J(e)?{data:e}:e;e.select=b;e.fields=[{field:d.dataTextField},{field:d.dataValueField}];if(a.dataSource&&a._refreshHandler){a._unbindDataSource()}else{a._progressHandler=i(a._showBusy,a);a._errorHandler=i(a._hideBusy,a)}a.dataSource=c.data.DataSource.create(e).bind(r,a._progressHandler).bind("error",a._errorHandler)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){setTimeout(function(){b.value(b._initialValues);b._placeholder()})};b._form=e.on("reset",b._resetHandler)}},_initValue:function(){var a=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(a)},_normalizeValues:function(b){var c=this;if(b===null){b=[]}else if(b&&a.isPlainObject(b)){b=[c._value(b)]}else if(b&&a.isPlainObject(b[0])){b=a.map(b,function(a){return c._value(a)})}else if(!J(b)&&!(b instanceof h)){b=[b]}else if(J(b)){b=b.slice()}return b},_change:function(){var a=this,b=a.value();if(!M(b,a._old)){a._old=b.slice();a.trigger(q);a.element.trigger(q)}a._toggleCloseVisibility()},_click:function(a){var b=this;var c=a.item;a.preventDefault();b._select(c).done(function(){b._activeItem=c;b._change();b._close()})},_getActiveItem:function(){return this._activeItem||a(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(d){var e=this;var g=d.keyCode;var h=e._currentTag;var i=e.listView;var j=e.input.val();var k=c.support.isRtl(e.wrapper);var m=e.popup.visible();var n=0;var o;if(g===f.DOWN){d.preventDefault();if(!m){e.open();if(!i.focus()){i.focusFirst()}return}if(i.focus()){if(!e._activeItem&&d.shiftKey){e._activeItem=i.focus();n=-1}o=i.getElementIndex(e._getActiveItem()[0]);i.focusNext();if(!i.focus()){i.focusLast()}else{if(d.shiftKey){e._selectRange(o,i.getElementIndex(i.focus()[0])+n)}}}else{i.focusFirst()}}else if(g===f.UP){if(m){if(!e._activeItem&&d.shiftKey){e._activeItem=i.focus();n=1}o=i.getElementIndex(e._getActiveItem()[0]);i.focusPrev();if(!i.focus()){e.close()}else{if(d.shiftKey){e._selectRange(o,i.getElementIndex(i.focus()[0])+n)}}}d.preventDefault()}else if(g===f.LEFT&&!k||g===f.RIGHT&&k){if(!j){h=h?h.prev():a(e.tagList[0].lastChild);if(h[0]){e.currentTag(h)}}}else if(g===f.RIGHT&&!k||g===f.LEFT&&k){if(!j&&h){h=h.next();e.currentTag(h[0]?h:null)}}else if(d.ctrlKey&&!d.altKey&&g===f.A&&m){if(this._getSelectedIndices().length===i.items().length){e._activeItem=null}if(i.items().length){e._selectRange(0,i.items().length-1)}}else if(g===f.ENTER&&m){if(!i.focus()){return}d.preventDefault();if(i.focus().hasClass(w)){e._close();return}e._select(i.focus()).done(function(){e._change();e._close()})}else if(g===f.SPACEBAR&&d.ctrlKey&&m){if(e._activeItem&&i.focus()&&i.focus()[0]===e._activeItem[0]){e._activeItem=null}if(!a(i.focus()).hasClass(w)){e._activeItem=i.focus()}e._select(i.focus()).done(function(){e._change()});d.preventDefault()}else if(g===f.SPACEBAR&&d.shiftKey&&m){var p=i.getElementIndex(e._getActiveItem());var r=i.getElementIndex(i.focus());if(p!==b&&r!==b){e._selectRange(p,r)}d.preventDefault()}else if(g===f.ESC){if(m){d.preventDefault()}else{e.tagList.children().each(function(b,c){e._removeTag(a(c),false)});e.trigger(q)}e.close()}else if(g===f.HOME){if(m){if(!i.focus()){e.close()}else{if(d.ctrlKey&&d.shiftKey){e._selectRange(i.getElementIndex(i.focus()[0]),0)}i.focusFirst()}}else if(!j){h=e.tagList[0].firstChild;if(h){e.currentTag(a(h))}}}else if(g===f.END){if(m){if(!i.focus()){e.close()}else{if(d.ctrlKey&&d.shiftKey){e._selectRange(i.getElementIndex(i.focus()[0]),i.element.children().length-1)}i.focusLast()}}else if(!j){h=e.tagList[0].lastChild;if(h){e.currentTag(a(h))}}}else if((g===f.DELETE||g===f.BACKSPACE)&&!j){e._state=l;if(e.options.tagMode==="single"){i.value([]);e._change();e._close();return}if(g===f.BACKSPACE&&!h){h=a(e.tagList[0].lastChild)}if(h&&h[0]){e._removeTag(h,true)}}else if(e.popup.visible()&&(g===f.PAGEDOWN||g===f.PAGEUP)){d.preventDefault();var s=g===f.PAGEDOWN?1:-1;i.scrollWith(s*i.screenHeight())}else{clearTimeout(e._typingTimeout);setTimeout(function(){e._scale()});e._search()}},_hideBusy:function(){var a=this;clearTimeout(a._busy);a.input.attr("aria-busy",false);a._loading.addClass(x);a._request=false;a._busy=null;a._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",true);this._loading.removeClass(x);this._hideClear()},_showBusy:function(){var a=this;a._request=true;if(a._busy){return}a._busy=setTimeout(i(a._showBusyHandler,a),100)},_placeholder:function(a,d){var e=this;var f=e.input;var h=g();var i=e.options.placeholder;var j=f.val();var k=f[0]===h;var l=j.length;if(!k||e.options.autoClose||j===i){l=0;j=""}if(a===b){a=false;if(f[0]!==h){a=!e.listView.selectedDataItems()[0]}}e._prev=j;f.toggleClass("k-readonly",a).val(a?i:j);if(k&&!d){c.caret(f[0],l,l)}e._scale()},_scale:function(){var a=this,b=a.wrapper.find(".k-multiselect-wrap"),c=b.width(),d=a._span.text(a.input.val()),e;if(!b.is(":visible")){d.appendTo(document.documentElement);c=e=d.width()+25;d.appendTo(b)}else{e=d.width()+25}a.input.width(e>c?c:e)},_option:function(a,d,e){var f="<option";if(a!==b){a+="";if(a.indexOf('"')!==-1){a=a.replace(I,"&quot;")}f+=' value="'+a+'"'}if(e){f+=" selected"}f+=">";if(d!==b){f+=c.htmlEncode(d)}return f+="</option>"},_render:function(a){var b=this.listView.selectedDataItems();var c=this.listView.value();var d=a.length;var e;var f="";var g;var h;var i;if(c.length!==b.length){b=this._buildSelectedItems(c)}var j={};var k={};for(i=0;i<d;i++){g=a[i];h=this._value(g);e=this._selectedItemIndex(h,b);if(e!==-1){b.splice(e,1)}k[h]=i;f+=this._option(h,this._text(g),e!==-1)}if(b.length){for(i=0;i<b.length;i++){g=b[i];h=this._value(g);j[h]=d;k[h]=d;d+=1;f+=this._option(h,this._text(g),true)}}this._customOptions=j;this._optionsMap=k;this.element.html(f)},_buildSelectedItems:function(a){var b=this.options.dataValueField;var c=this.options.dataTextField;var d=[];var e;for(var f=0;f<a.length;f++){e={};e[b]=a[f];e[c]=a[f];d.push(e)}return d},_selectedItemIndex:function(a,b){var c=this._value;var d=0;for(;d<b.length;d++){if(a===c(b[d])){return d}}return-1},_search:function(){var a=this;a._typingTimeout=setTimeout(function(){
var b=a._inputValue();if(a._prev!==b){a._prev=b;a.search(b);a._toggleCloseVisibility()}},a.options.delay)},_toggleCloseVisibility:function(){if(this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder){this._showClear()}else{this._hideClear()}},_allowOpening:function(){return this._allowSelection()&&e.fn._allowOpening.call(this)},_allowSelection:function(){var a=this.options.maxSelectedItems;return a===null||a>this.listView.value().length},_angularTagItems:function(b){var c=this;c.angular(b,function(){return{elements:c.tagList[0].children,data:a.map(c.dataItems(),function(a){return{dataItem:a}})}})},updatePersistTagList:function(a,b){if(this.persistTagList.added&&this.persistTagList.added.length===b.length&&this.persistTagList.removed&&this.persistTagList.removed.length===a.length){this.persistTagList=false}else{this.persistTagList={added:a,removed:b}}},_selectValue:function(a,b){var c=this;var d=c.value();var e=c.dataSource.total();var f=c.tagList;var g=c._value;var h;var i;var j;if(this.persistTagList){this.updatePersistTagList(a,b);return}c._angularTagItems("cleanup");if(c.options.tagMode==="multiple"){for(j=b.length-1;j>-1;j--){h=b[j];if(f.children().length){f[0].removeChild(f[0].children[h.position]);c._setOption(g(h.dataItem),false)}}for(j=0;j<a.length;j++){i=a[j];f.append(c.tagTemplate(i.dataItem));c._setOption(g(i.dataItem),true)}}else{if(!c._maxTotal||c._maxTotal<e){c._maxTotal=e}f.html("");if(d.length){f.append(c.tagTemplate({values:d,dataItems:c.dataItems(),maxTotal:c._maxTotal,currentTotal:e}))}for(j=b.length-1;j>-1;j--){c._setOption(g(b[j].dataItem),false)}for(j=0;j<a.length;j++){c._setOption(g(a[j].dataItem),true)}}c._angularTagItems("compile");c._placeholder()},_select:function(b){var c=a.Deferred().resolve();if(!b){return c}var d=this;var e=d.listView;var f=e.dataItemByIndex(e.getElementIndex(b));var g=b.hasClass("k-state-selected");if(d._state===n){d._state=""}if(!d._allowSelection()&&!g){return c}if(d.trigger(g?t:s,{dataItem:f,item:b})){d._close();return c}d.persistTagList=false;return e.select(b).done(function(){d._placeholder();if(d._state===m){d._state=l;e.skipUpdate(true)}})},_selectRange:function(b,c){var d=this;var e=this.listView;var f=this.options.maxSelectedItems;var g=this._getSelectedIndices().slice();var h=[];var i;var j=function(b){e.select(b).done(function(){b.forEach(function(b){var c=e.dataItemByIndex(b);var f=e.element.children()[b];var g=a(f).hasClass("k-state-selected");d.trigger(g?s:t,{dataItem:c,item:a(f)})});d._change()})};if(g.length-1===c-b){return j(g)}if(b<c){for(i=b;i<=c;i++){h.push(i)}}else{for(i=b;i>=c;i--){h.push(i)}}if(f!==null&&h.length>f){h=h.slice(0,f)}for(i=0;i<h.length;i++){var k=h[i];if(this._getSelectedIndices().indexOf(k)==-1){g.push(k)}else{g.splice(g.indexOf(k),1)}}if(!g.length){return}d.persistTagList=false;return j(g)},_input:function(){var b=this;var c=b.element;var d=c[0].accessKey;var e=b._innerWrapper.children("input.k-input");if(!e[0]){e=a('<input class="k-input" style="width: 25px" />').appendTo(b._innerWrapper)}c.removeAttr("accesskey");b._focused=b.input=e.attr({accesskey:d,autocomplete:"off",role:"listbox",title:c[0].title,"aria-expanded":false})},_tagList:function(){var b=this,c=b._innerWrapper.children("ul");if(!c[0]){c=a('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(b._innerWrapper)}b.tagList=c},_tagTemplate:function(){var a=this;var b=a.options;var d=b.tagTemplate;var e=b.dataSource;var f=b.tagMode==="multiple";var g;if(a.element[0].length&&!e){b.dataTextField=b.dataTextField||"text";b.dataValueField=b.dataValueField||"value"}g=f?c.template("#:"+c.expr(b.dataTextField,"data")+"#",{useWithBlock:false}):c.template("#:values.length# item(s) selected");a.tagTextTemplate=d=d?c.template(d):g;a.tagTemplate=function(a){return'<li class="k-button" unselectable="on"><span unselectable="on">'+d(a)+'</span><span unselectable="on" aria-label="'+(f?"delete":"open")+'" class="k-select"><span class="k-icon '+(f?"k-i-close":"k-i-arrow-60-down")+'">'+"</span></span></li>"}},_loader:function(){this._loading=a('<span class="k-icon k-i-loading '+x+'"></span>').insertAfter(this.input)},_clearButton:function(){e.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.input);this.wrapper.addClass("k-multiselect-clearable")}},_textContainer:function(){var b=c.getComputedStyles(this.input[0],K);b.position="absolute";b.visibility="hidden";b.top=-3333;b.left=-3333;this._span=a("<span/>").css(b).appendTo(this.wrapper)},_wrapper:function(){var b=this,c=b.element,d=c.parent("span.k-multiselect");if(!d[0]){d=c.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent();d[0].style.cssText=c[0].style.cssText;d[0].title=c[0].title;a('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(c)}b.wrapper=d.addClass(c[0].className).css("display","");b._innerWrapper=a(d[0].firstChild)}});function M(a,b){var c;if(a===null&&b!==null||a!==null&&b===null){return false}c=a.length;if(c!==b.length){return false}while(c--){if(a[c]!==b[c]){return false}}return true}d.plugin(L)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.slider",["kendo.draganddrop"],a)})(function(){var a={id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=c.ui.Draggable,f=c._outerWidth,g=c._outerHeight,h=a.extend,i=c.format,j=c.parseFloat,k=a.proxy,l=a.isArray,m=Math,n=c.support,o=n.pointers,p=n.msPointers,q="change",r="slide",s=".slider",t="touchstart"+s+" mousedown"+s,u=o?"pointerdown"+s:p?"MSPointerDown"+s:t,v="touchend"+s+" mouseup"+s,w=o?"pointerup":p?"MSPointerUp"+s:v,x="moveSelection",y="keydown"+s,z="click"+s,A="mouseover"+s,B="focus"+s,C="blur"+s,D=".k-draghandle",E=".k-slider-track",F=".k-tick",G="k-state-selected",H="k-state-focused",I="k-state-default",J="k-state-disabled",K="disabled",L="undefined",M="tabindex",N=c.getTouches;var O=d.extend({init:function(a,b){var e=this;d.fn.init.call(e,a,b);b=e.options;e._isHorizontal=b.orientation=="horizontal";e._isRtl=e._isHorizontal&&c.support.isRtl(a);e._position=e._isHorizontal?"left":"bottom";e._sizeFn=e._isHorizontal?"width":"height";e._outerSize=e._isHorizontal?f:g;b.tooltip.format=b.tooltip.enabled?b.tooltip.format||"{0}":"{0}";if(b.smallStep<=0){throw new Error("Kendo UI Slider smallStep must be a positive number.")}e._createHtml();e.wrapper=e.element.closest(".k-slider");e._trackDiv=e.wrapper.find(E);e._setTrackDivWidth();e._maxSelection=e._trackDiv[e._sizeFn]();e._sliderItemsInit();e._reset();e._tabindex(e.wrapper.find(D));e[b.enabled?"enable":"disable"]();var h=c.support.isRtl(e.wrapper)?-1:1;e._keyMap={37:T(-1*h*b.smallStep),40:T(-b.smallStep),39:T(+1*h*b.smallStep),38:T(+b.smallStep),35:U(b.max),36:U(b.min),33:T(+b.largeStep),34:T(-b.largeStep)};c.notify(e)},events:[q,r],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_distance:function(){return X(this.options.max-this.options.min)},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh();if(this.options.enabled){this.enable(true)}},_sliderItemsInit:function(){var b=this,c=b.options;var d=b._maxSelection/((c.max-c.min)/c.smallStep);var e=b._calculateItemsWidth(m.floor(b._distance()/c.smallStep));if(c.tickPlacement!="none"&&d>=2){a(this.element).parent().find(".k-slider-items").remove();b._trackDiv.before(R(c,b._distance()));b._setItemsWidth(e);b._setItemsTitle()}b._calculateSteps(e);if(c.tickPlacement!="none"&&d>=2&&c.largeStep>=c.smallStep){b._setItemsLargeTick()}},getSize:function(){return c.dimensions(this.wrapper)},_setTrackDivWidth:function(){var a=this,b=parseFloat(a._trackDiv.css(a._isRtl?"right":a._position),10)*2;a._trackDiv[a._sizeFn](a.wrapper[a._sizeFn]()-2-b)},_setItemsWidth:function(b){var c=this,d=c.options,e=0,f=b.length-1,g=c.wrapper.find(F),h,i=0,j=2,k=g.length,l=0;for(h=0;h<k-2;h++){a(g[h+1])[c._sizeFn](b[h])}if(c._isHorizontal){a(g[e]).addClass("k-first")[c._sizeFn](b[f-1]);a(g[f]).addClass("k-last")[c._sizeFn](b[f])}else{a(g[f]).addClass("k-first")[c._sizeFn](b[f]);a(g[e]).addClass("k-last")[c._sizeFn](b[f-1])}if(c._distance()%d.smallStep!==0&&!c._isHorizontal){for(h=0;h<b.length;h++){l+=b[h]}i=c._maxSelection-l;i+=parseFloat(c._trackDiv.css(c._position),10)+j;c.wrapper.find(".k-slider-items").css("padding-top",i)}},_setItemsTitle:function(){var b=this,c=b.options,d=b.wrapper.find(F),e=c.min,f=d.length,g=b._isHorizontal&&!b._isRtl?0:f-1,h=b._isHorizontal&&!b._isRtl?f:-1,j=b._isHorizontal&&!b._isRtl?1:-1;for(;g-h!==0;g+=j){a(d[g]).attr("title",i(c.tooltip.format,X(e)));e+=c.smallStep}},_setItemsLargeTick:function(){var b=this,c=b.options,d=b.wrapper.find(F),e=0,f,g;if($(c.largeStep)%$(c.smallStep)===0||b._distance()/c.largeStep>=3){if(!b._isHorizontal&&!b._isRtl){d=a.makeArray(d).reverse()}for(e=0;e<d.length;e++){f=a(d[e]);g=b._values[e];var h=X($(g-this.options.min));if(h%$(c.smallStep)===0&&h%$(c.largeStep)===0){f.addClass("k-tick-large").html("<span class='k-label'>"+f.attr("title")+"</span>");if(e!==0&&e!==d.length-1){f.css("line-height",f[b._sizeFn]()+"px")}}}}},_calculateItemsWidth:function(a){var b=this,c=b.options,d=parseFloat(b._trackDiv.css(b._sizeFn))+1,e=b._distance(),f=d/e,g,h,i;if(e/c.smallStep-m.floor(e/c.smallStep)>0){d-=e%c.smallStep*f}g=d/a;h=[];for(i=0;i<a-1;i++){h[i]=g}h[a-1]=h[a]=g/2;return b._roundWidths(h)},_roundWidths:function(a){var b=0,c=a.length,d;for(d=0;d<c;d++){b+=a[d]-m.floor(a[d]);a[d]=m.floor(a[d])}b=m.round(b);return this._addAdditionalSize(b,a)},_addAdditionalSize:function(a,b){if(a===0){return b}var c=parseFloat(b.length-1)/parseFloat(a==1?a:a-1),d;for(d=0;d<a;d++){b[parseInt(m.round(c*d),10)]+=1}return b},_calculateSteps:function(a){var b=this,c=b.options,d=c.min,e=0,f=b._distance(),g=m.ceil(f/c.smallStep),h=1,i;g+=f/c.smallStep%1===0?1:0;a.splice(0,0,a[g-2]*2);a.splice(g-1,1,a.pop()*2);b._pixelSteps=[e];b._values=[d];if(g===0){return}while(h<g){e+=(a[h-1]+a[h])/2;b._pixelSteps[h]=e;d+=c.smallStep;b._values[h]=X(d);h++}i=f%c.smallStep===0?g-1:g;b._pixelSteps[i]=b._maxSelection;b._values[i]=c.max;if(b._isRtl){b._pixelSteps.reverse();b._values.reverse()}},_getValueFromPosition:function(a,b){var c=this,d=c.options,e=m.max(d.smallStep*(c._maxSelection/c._distance()),0),f=0,g=e/2,h;if(c._isHorizontal){f=a-b.startPoint;if(c._isRtl){f=c._maxSelection-f}}else{f=b.startPoint-a}if(c._maxSelection-(parseInt(c._maxSelection%e,10)-3)/2<f){return d.max}for(h=0;h<c._pixelSteps.length;h++){if(m.abs(c._pixelSteps[h]-f)-1<=g){return X(c._values[h])}}},_getFormattedValue:function(a,b){var d=this,e="",f=d.options.tooltip,g,h,j;if(l(a)){h=a[0];j=a[1]}else if(b&&b.type){h=b.selectionStart;j=b.selectionEnd}if(b){g=b.tooltipTemplate}if(!g&&f.template){g=c.template(f.template)}if(l(a)||b&&b.type){if(g){e=g({selectionStart:h,selectionEnd:j})}else{h=i(f.format,h);j=i(f.format,j);e=h+" - "+j}}else{if(b){b.val=a}if(g){e=g({value:a})}else{e=i(f.format,a)}}return e},_getDraggableArea:function(){var a=this,b=c.getOffset(a._trackDiv);return{startPoint:a._isHorizontal?b.left:b.top+a._maxSelection,endPoint:a._isHorizontal?b.left+a._maxSelection:b.top}},_createHtml:function(){var a=this,b=a.element,c=a.options,d=b.find("input");if(d.length==2){d.eq(0).prop("value",V(c.selectionStart));d.eq(1).prop("value",V(c.selectionEnd))}else{b.prop("value",V(c.value))}b.wrap(P(c,b,a._isHorizontal)).hide();if(c.showButtons){b.before(Q(c,"increase",a._isHorizontal,a._isRtl)).before(Q(c,"decrease",a._isHorizontal,a._isRtl))}b.before(S(c,b))},_focus:function(b){var c=this,d=b.target,e=c.value(),f=c._drag;if(!f){if(d==c.wrapper.find(D).eq(0)[0]){f=c._firstHandleDrag;c._activeHandle=0}else{f=c._lastHandleDrag;c._activeHandle=1}e=e[c._activeHandle]}a(d).addClass(H+" "+G);if(f){c._activeHandleDrag=f;f.selectionStart=c.options.selectionStart;f.selectionEnd=c.options.selectionEnd;f._updateTooltip(e)}},_focusWithMouse:function(b){b=a(b);var c=this,d=b.is(D)?b.index():0;window.setTimeout(function(){c.wrapper.find(D)[d==2?1:0].focus()},1);c._setTooltipTimeout()},_blur:function(b){var c=this,d=c._activeHandleDrag;a(b.target).removeClass(H+" "+G);if(d){d._removeTooltip();delete c._activeHandleDrag;delete c._activeHandle}},_setTooltipTimeout:function(){var a=this;a._tooltipTimeout=window.setTimeout(function(){var b=a._drag||a._activeHandleDrag;if(b){b._removeTooltip()}},300)},_clearTooltipTimeout:function(){var a=this;window.clearTimeout(this._tooltipTimeout);var b=a._drag||a._activeHandleDrag;if(b&&b.tooltipDiv){b.tooltipDiv.stop(true,false).css("opacity",1)}},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._form=e.on("reset",k(b._formResetHandler,b))}},min:function(a){if(!a){return this.options.min}this.setOptions({min:a})},max:function(a){if(!a){return this.options.max}this.setOptions({max:a})},setOptions:function(a){d.fn.setOptions.call(this,a);this._sliderItemsInit();this._refresh()},destroy:function(){if(this._form){this._form.off("reset",this._formResetHandler)}d.fn.destroy.call(this)}});function P(a,b,c){var d=c?" k-slider-horizontal":" k-slider-vertical",e=a.style?a.style:b.attr("style"),f=b.attr("class")?" "+b.attr("class"):"",g="";if(a.tickPlacement=="bottomRight"){g=" k-slider-bottomright"}else if(a.tickPlacement=="topLeft"){g=" k-slider-topleft"}e=e?" style='"+e+"'":"";return"<div class='k-widget k-slider"+d+f+"'"+e+">"+"<div class='k-slider-wrap"+(a.showButtons?" k-slider-buttons":"")+g+"'></div></div>"}function Q(a,b,c,d){var e="";if(c){if(!d&&b=="increase"||d&&b!="increase"){e="k-i-arrow-60-right"}else{e="k-i-arrow-60-left"}}else{if(b=="increase"){e="k-i-arrow-60-up"}else{e="k-i-arrow-60-down"}}return"<a class='k-button k-button-"+b+"' "+"title='"+a[b+"ButtonTitle"]+"' "+"aria-label='"+a[b+"ButtonTitle"]+"'>"+"<span class='k-icon "+e+"'></span></a>"}function R(a,b){var c="<ul class='k-reset k-slider-items'>",d=m.floor(X(b/a.smallStep))+1,e;for(e=0;e<d;e++){c+="<li class='k-tick' role='presentation'>&nbsp;</li>"}c+="</ul>";return c}function S(a,b){var c=b.is("input")?1:2,d=c==2?a.leftDragHandleTitle:a.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div>"+"<a href='#' class='k-draghandle' title='"+d+"' role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(c>1?a.selectionStart||a.min:a.value||a.min)+"'>Drag</a>"+(c>1?"<a href='#' class='k-draghandle' title='"+a.rightDragHandleTitle+"'role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(a.selectionEnd||a.max)+"'>Drag</a>":"")+"</div>"}function T(a){return function(b){return b+a}}function U(a){return function(){return a}}function V(a){return(a+"").replace(".",c.cultures.current.numberFormat["."])}function W(a){var b=a.toString();var c=0;b=b.split(".");if(b[1]){c=b[1].length}c=c>10?10:c;return c}function X(a){var b,c;a=parseFloat(a,10);b=W(a);c=m.pow(10,b||0);return m.round(a*c)/c}function Y(a,c){var d=j(a.getAttribute(c));if(d===null){d=b}return d}function Z(a){return typeof a!==L}function $(a){return a*1e4}var _=O.extend({init:function(c,d){var e=this,f;c.type="text";d=h({},{value:Y(c,"value"),min:Y(c,"min"),max:Y(c,"max"),smallStep:Y(c,"step")},d);c=a(c);if(d&&d.enabled===b){d.enabled=!c.is("[disabled]")}O.fn.init.call(e,c,d);d=e.options;if(!Z(d.value)||d.value===null){d.value=d.min;c.prop("value",V(d.min))}d.value=m.max(m.min(d.value,d.max),d.min);f=e.wrapper.find(D);this._selection=new _.Selection(f,e,d);e._drag=new _.Drag(f,"",e,d)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(b){var d=this,e=d.options,f,g;d.disable();if(b===false){return}d.wrapper.removeClass(J).addClass(I);d.wrapper.find("input").removeAttr(K);f=function(b){var c=N(b)[0];if(!c){return}var e=d._isHorizontal?c.location.pageX:c.location.pageY,f=d._getDraggableArea(),g=a(b.target);if(g.hasClass("k-draghandle")){g.addClass(H+" "+G);return}d._update(d._getValueFromPosition(e,f));d._focusWithMouse(b.target);d._drag.dragstart(b);b.preventDefault()};d.wrapper.find(F+", "+E).on(u,f).end().on(u,function(){a(document.documentElement).one("selectstart",c.preventDefault)}).on(w,function(){d._drag._end()});d.wrapper.find(D).attr(M,0).on(v,function(){d._setTooltipTimeout()}).on(z,function(a){d._focusWithMouse(a.target);a.preventDefault()}).on(B,k(d._focus,d)).on(C,k(d._blur,d));g=k(function(a){var b=d._nextValueByIndex(d._valueIndex+a*1);d._setValueInRange(b);d._drag._updateTooltip(b)},d);if(e.showButtons){var h=k(function(a,b){this._clearTooltipTimeout();if(a.which===1||n.touch&&a.which===0){g(b);this.timeout=setTimeout(k(function(){this.timer=setInterval(function(){g(b)},60)},this),200)}},d);d.wrapper.find(".k-button").on(v,k(function(a){this._clearTimer();d._focusWithMouse(a.target)},d)).on(A,function(b){a(b.currentTarget).addClass("k-state-hover")}).on("mouseout"+s,k(function(b){a(b.currentTarget).removeClass("k-state-hover");this._clearTimer()},d)).eq(0).on(t,k(function(a){h(a,1)},d)).click(false).end().eq(1).on(t,k(function(a){h(a,-1)},d)).click(c.preventDefault)}d.wrapper.find(D).off(y,false).on(y,k(this._keydown,d));e.enabled=true},disable:function(){var b=this;b.wrapper.removeClass(I).addClass(J);a(b.element).prop(K,K);b.wrapper.find(".k-button").off(t).on(t,function(b){b.preventDefault();a(this).addClass("k-state-active")}).off(v).on(v,function(b){b.preventDefault();a(this).removeClass("k-state-active")}).off("mouseleave"+s).on("mouseleave"+s,c.preventDefault).off(A).on(A,c.preventDefault);b.wrapper.find(F+", "+E).off(u).off(w);b.wrapper.find(D).attr(M,-1).off(v).off(y).off(z).off(B).off(C);b.options.enabled=false},_update:function(a){var b=this,c=b.value()!=a;b.value(a);if(c){b.trigger(q,{value:b.options.value})}},value:function(a){var b=this,c=b.options;a=X(a);if(isNaN(a)){return c.value}if(a>=c.min&&a<=c.max){if(c.value!=a){b.element.prop("value",V(a));c.value=a;b._refreshAriaAttr(a);b._refresh()}}},_refresh:function(){this.trigger(x,{value:this.options.value})},_refreshAriaAttr:function(a){var b=this,c=b._drag,d;if(c&&c._tooltipDiv){d=c._tooltipDiv.text()}else{d=b._getFormattedValue(a,null)}this.wrapper.find(D).attr("aria-valuenow",a).attr("aria-valuetext",d)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(a){var b=this;if(a.keyCode in b._keyMap){b._clearTooltipTimeout();b._setValueInRange(b._keyMap[a.keyCode](b.options.value));b._drag._updateTooltip(b.value());a.preventDefault()}},_setValueInRange:function(a){var b=this,c=b.options;a=X(a);if(isNaN(a)){b._update(c.min);return}a=m.max(m.min(a,c.max),c.min);b._update(a)},_nextValueByIndex:function(a){var b=this._values.length;if(this._isRtl){a=b-1-a}return this._values[m.max(0,m.min(a,b-1))]},_formResetHandler:function(){var a=this,b=a.options.min;setTimeout(function(){var c=a.element[0].value;a.value(c===""||isNaN(c)?b:c)})},destroy:function(){var a=this;O.fn.destroy.call(a);a.wrapper.off(s).find(".k-button").off(s).end().find(D).off(s).end().find(F+", "+E).off(s).end();a._drag.draggable.destroy();a._drag._removeTooltip(true)}});_.Selection=function(a,b,c){function d(d){var e=d-c.min,f=b._valueIndex=m.ceil(X(e/c.smallStep)),g=parseInt(b._pixelSteps[f],10),h=b._trackDiv.find(".k-slider-selection"),i=parseInt(b._outerSize(a)/2,10),j=b._isRtl?2:0;h[b._sizeFn](b._isRtl?b._maxSelection-g:g);a.css(b._position,g-i-j)}d(c.value);b.bind([r,x],function(a){d(parseFloat(a.value,10))});b.bind(q,function(a){d(parseFloat(a.sender.value(),10))})};_.Drag=function(a,b,c,d){var f=this;f.owner=c;f.options=d;f.element=a;f.type=b;f.draggable=new e(a,{distance:0,dragstart:k(f._dragstart,f),drag:k(f.drag,f),dragend:k(f.dragend,f),dragcancel:k(f.dragcancel,f)});a.click(false);a.on("dragstart",function(a){a.preventDefault()})};_.Drag.prototype={dragstart:function(a){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this._dragstart(a);this.dragend()},_dragstart:function(b){var c=this,d=c.owner,e=c.options;if(!e.enabled){b.preventDefault();return}this.owner._activeDragHandle=this;d.element.off(A);d.wrapper.find("."+H).removeClass(H+" "+G);c.element.addClass(H+" "+G);a(document.documentElement).css("cursor","pointer");c.dragableArea=d._getDraggableArea();c.step=m.max(e.smallStep*(d._maxSelection/d._distance()),0);if(c.type){c.selectionStart=e.selectionStart;c.selectionEnd=e.selectionEnd;d._setZIndex(c.type)}else{c.oldVal=c.val=e.value}c._removeTooltip(true);c._createTooltip()},_createTooltip:function(){var b=this,d=b.owner,e=b.options.tooltip,f="",g=a(window),h,i;if(!e.enabled){return}if(e.template){h=b.tooltipTemplate=c.template(e.template)}a(".k-slider-tooltip").remove();b.tooltipDiv=a("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);f=d._getFormattedValue(b.val||d.value(),b);if(!b.type){i="k-callout-"+(d._isHorizontal?"s":"e");b.tooltipInnerDiv="<div class='k-callout "+i+"'><!-- --></div>";f+=b.tooltipInnerDiv}b.tooltipDiv.html(f);b._scrollOffset={top:g.scrollTop(),left:g.scrollLeft()};b.moveTooltip()},drag:function(a){var b=this,c=b.owner,d=a.x.location,e=a.y.location,f=b.dragableArea.startPoint,g=b.dragableArea.endPoint,h;a.preventDefault();if(c._isHorizontal){if(c._isRtl){b.val=b.constrainValue(d,f,g,d<g)}else{b.val=b.constrainValue(d,f,g,d>=g)}}else{b.val=b.constrainValue(e,g,f,e<=g)}if(b.oldVal!=b.val){b.oldVal=b.val;if(b.type){if(b.type=="firstHandle"){if(b.val<b.selectionEnd){b.selectionStart=b.val}else{b.selectionStart=b.selectionEnd=b.val}}else{if(b.val>b.selectionStart){b.selectionEnd=b.val}else{b.selectionStart=b.selectionEnd=b.val}}h={values:[b.selectionStart,b.selectionEnd],value:[b.selectionStart,b.selectionEnd]}}else{h={value:b.val}}c.trigger(r,h)}b._updateTooltip(b.val)},_updateTooltip:function(a){var b=this,c=b.options,d=c.tooltip,e="";if(!d.enabled){return}if(!b.tooltipDiv){b._createTooltip()}e=b.owner._getFormattedValue(X(a),b);if(!b.type){e+=b.tooltipInnerDiv}b.tooltipDiv.html(e);b.moveTooltip()},dragcancel:function(){this.owner._refresh();a(document.documentElement).css("cursor","");return this._end()},dragend:function(){var b=this,c=b.owner;a(document.documentElement).css("cursor","");if(b.type){c._update(b.selectionStart,b.selectionEnd)}else{c._update(b.val);b.draggable.userEvents._disposeAll()}b.draggable.userEvents.cancel();return b._end()},_end:function(){var a=this,b=a.owner;b._focusWithMouse(a.element);b.element.on(A);return false},_removeTooltip:function(b){var c=this,d=c.owner;if(c.tooltipDiv&&d.options.tooltip.enabled&&d.options.enabled){if(b){c.tooltipDiv.remove();c.tooltipDiv=null}else{c.tooltipDiv.fadeOut("slow",function(){a(this).remove();c.tooltipDiv=null})}}},moveTooltip:function(){var b=this,d=b.owner,e=0,h=0,i=b.element,j=c.getOffset(i),k=8,l=a(window),m=b.tooltipDiv.find(".k-callout"),n=f(b.tooltipDiv),o=g(b.tooltipDiv),p,q,r,s;if(b.type){p=d.wrapper.find(D);j=c.getOffset(p.eq(0));q=c.getOffset(p.eq(1));if(d._isHorizontal){e=q.top;h=j.left+(q.left-j.left)/2}else{e=j.top+(q.top-j.top)/2;h=q.left}s=f(p.eq(0))+2*k}else{e=j.top;h=j.left;s=f(i)+2*k}if(d._isHorizontal){h-=parseInt((n-d._outerSize(i))/2,10);e-=o+k+(m.length?m.height():0)}else{e-=parseInt((o-d._outerSize(i))/2,10);h-=n+k+(m.length?m.width():0)}if(d._isHorizontal){r=b._flip(e,o,s,g(l)+b._scrollOffset.top);e+=r;h+=b._fit(h,n,f(l)+b._scrollOffset.left)}else{r=b._flip(h,n,s,f(l)+b._scrollOffset.left);e+=b._fit(e,o,g(l)+b._scrollOffset.top);h+=r}if(r>0&&m){m.removeClass();m.addClass("k-callout k-callout-"+(d._isHorizontal?"n":"w"))}b.tooltipDiv.css({top:e,left:h})},_fit:function(a,b,c){var d=0;if(a+b>c){d=c-(a+b)}if(a<0){d=-a}return d},_flip:function(a,b,c,d){var e=0;if(a+b>d){e+=-(c+b)}if(a+e<0){e+=c+b}return e},constrainValue:function(a,b,c,d){var e=this,f=0;if(b<a&&a<c){f=e.owner._getValueFromPosition(a,e.dragableArea)}else{if(d){f=e.options.max}else{f=e.options.min}}return f}};c.ui.plugin(_);var aa=O.extend({init:function(c,d){var e=this,f=a(c).find("input"),g=f.eq(0)[0],i=f.eq(1)[0];g.type="text";i.type="text";if(d&&d.showButtons){if(window.console){window.console.warn("showbuttons option is not supported for the range slider, ignoring")}d.showButtons=false}d=h({},{selectionStart:Y(g,"value"),min:Y(g,"min"),max:Y(g,"max"),smallStep:Y(g,"step")},{selectionEnd:Y(i,"value"),min:Y(i,"min"),max:Y(i,"max"),smallStep:Y(i,"step")},d);if(d&&d.enabled===b){d.enabled=!f.is("[disabled]")}O.fn.init.call(e,c,d);d=e.options;if(!Z(d.selectionStart)||d.selectionStart===null){d.selectionStart=d.min;f.eq(0).prop("value",V(d.min))}if(!Z(d.selectionEnd)||d.selectionEnd===null){d.selectionEnd=d.max;f.eq(1).prop("value",V(d.max))}var j=e.wrapper.find(D);this._selection=new aa.Selection(j,e,d);e._firstHandleDrag=new _.Drag(j.eq(0),"firstHandle",e,d);e._lastHandleDrag=new _.Drag(j.eq(1),"lastHandle",e,d)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(b){var d=this,e=d.options,f;d.disable();if(b===false){return}d.wrapper.removeClass(J).addClass(I);d.wrapper.find("input").removeAttr(K);f=function(b){var c=N(b)[0];if(!c){return}var f=d._isHorizontal?c.location.pageX:c.location.pageY,g=d._getDraggableArea(),h=d._getValueFromPosition(f,g),i=a(b.target),j,k,l;if(i.hasClass("k-draghandle")){d.wrapper.find("."+H).removeClass(H+" "+G);i.addClass(H+" "+G);return}if(h<e.selectionStart){j=h;k=e.selectionEnd;l=d._firstHandleDrag}else if(h>d.selectionEnd){j=e.selectionStart;k=h;l=d._lastHandleDrag}else{if(h-e.selectionStart<=e.selectionEnd-h){j=h;k=e.selectionEnd;l=d._firstHandleDrag}else{j=e.selectionStart;k=h;l=d._lastHandleDrag}}l.dragstart(b);d._setValueInRange(j,k);d._focusWithMouse(l.element)};d.wrapper.find(F+", "+E).on(u,f).end().on(u,function(){a(document.documentElement).one("selectstart",c.preventDefault)}).on(w,function(){if(d._activeDragHandle){d._activeDragHandle._end()}});d.wrapper.find(D).attr(M,0).on(v,function(){d._setTooltipTimeout()}).on(z,function(a){d._focusWithMouse(a.target);a.preventDefault()}).on(B,k(d._focus,d)).on(C,k(d._blur,d));d.wrapper.find(D).off(y,c.preventDefault).eq(0).on(y,k(function(a){this._keydown(a,"firstHandle")},d)).end().eq(1).on(y,k(function(a){this._keydown(a,"lastHandle")},d));d.options.enabled=true},disable:function(){var a=this;a.wrapper.removeClass(I).addClass(J);a.wrapper.find("input").prop(K,K);a.wrapper.find(F+", "+E).off(u).off(w);a.wrapper.find(D).attr(M,-1).off(v).off(y).off(z).off(B).off(C);a.options.enabled=false},_keydown:function(a,b){var c=this,d=c.options.selectionStart,e=c.options.selectionEnd,f,g,h;if(a.keyCode in c._keyMap){c._clearTooltipTimeout();if(b=="firstHandle"){h=c._activeHandleDrag=c._firstHandleDrag;d=c._keyMap[a.keyCode](d);if(d>e){e=d}}else{h=c._activeHandleDrag=c._lastHandleDrag;e=c._keyMap[a.keyCode](e);if(d>e){d=e}}c._setValueInRange(X(d),X(e));f=Math.max(d,c.options.selectionStart);g=Math.min(e,c.options.selectionEnd);h.selectionEnd=Math.max(g,c.options.selectionStart);h.selectionStart=Math.min(f,c.options.selectionEnd);h._updateTooltip(c.value()[c._activeHandle]);a.preventDefault()}},_update:function(a,b){var c=this,d=c.value();var e=d[0]!=a||d[1]!=b;c.value([a,b]);if(e){c.trigger(q,{values:[a,b],value:[a,b]})}},value:function(a){if(a&&a.length){return this._value(a[0],a[1])}else{return this._value()}},_value:function(a,b){var c=this,d=c.options,e=d.selectionStart,f=d.selectionEnd;if(isNaN(a)&&isNaN(b)){return[e,f]}else{a=X(a);b=X(b)}if(a>=d.min&&a<=d.max&&b>=d.min&&b<=d.max&&a<=b){if(e!=a||f!=b){c.element.find("input").eq(0).prop("value",V(a)).end().eq(1).prop("value",V(b));d.selectionStart=a;d.selectionEnd=b;c._refresh();c._refreshAriaAttr(a,b)}}},values:function(a,b){if(l(a)){return this._value(a[0],a[1])}else{return this._value(a,b)}},_refresh:function(){var a=this,b=a.options;a.trigger(x,{values:[b.selectionStart,b.selectionEnd],value:[b.selectionStart,b.selectionEnd]});if(b.selectionStart==b.max&&b.selectionEnd==b.max){a._setZIndex("firstHandle")}},_refreshAriaAttr:function(a,b){var c=this,d=c.wrapper.find(D),e=c._activeHandleDrag,f;f=c._getFormattedValue([a,b],e);d.eq(0).attr("aria-valuenow",a);d.eq(1).attr("aria-valuenow",b);d.attr("aria-valuetext",f)},_setValueInRange:function(a,b){var c=this.options;a=m.max(m.min(a,c.max),c.min);b=m.max(m.min(b,c.max),c.min);if(a==c.max&&b==c.max){this._setZIndex("firstHandle")}this._update(m.min(a,b),m.max(a,b))},_setZIndex:function(b){this.wrapper.find(D).each(function(c){a(this).css("z-index",b=="firstHandle"?1-c:c)})},_formResetHandler:function(){var a=this,b=a.options;setTimeout(function(){var c=a.element.find("input");var d=c[0].value;var e=c[1].value;a.values(d===""||isNaN(d)?b.min:d,e===""||isNaN(e)?b.max:e)})},destroy:function(){var a=this;O.fn.destroy.call(a);a.wrapper.off(s).find(F+", "+E).off(s).end().find(D).off(s);a._firstHandleDrag.draggable.destroy();a._lastHandleDrag.draggable.destroy()}});aa.Selection=function(a,b,c){function d(d){d=d||[];var f=d[0]-c.min,g=d[1]-c.min,h=m.ceil(X(f/c.smallStep)),i=m.ceil(X(g/c.smallStep)),j=b._pixelSteps[h],k=b._pixelSteps[i],l=parseInt(b._outerSize(a.eq(0))/2,10),n=b._isRtl?2:0;a.eq(0).css(b._position,j-l-n).end().eq(1).css(b._position,k-l-n);e(j,k)}function e(a,c){var d,e,f=b._trackDiv.find(".k-slider-selection");d=m.abs(a-c);f[b._sizeFn](d);if(b._isRtl){e=m.max(a,c);f.css("right",b._maxSelection-e-1)}else{e=m.min(a,c);f.css(b._position,e-1)}}d(b.value());b.bind([q,r,x],function(a){d(a.values)})};c.ui.plugin(aa)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.colorpicker",["kendo.core","kendo.color","kendo.popup","kendo.slider","kendo.userevents","kendo.button"],a)})(function(){var a={id:"colorpicker",name:"Color tools",category:"web",description:"Color selection widgets",depends:["core","color","popup","slider","userevents","button"]};(function(a,b,c){var d=window.kendo,e=d.ui,f=e.Widget,g=d.parseColor,h=d.Color,i=d.keys,j="background-color",k="k-state-selected",l="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",m="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",n="#ffffff",o={
apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:"Color Hexadecimal Code"},p=".kendoColorTools",q="click"+p,r="keydown"+p,s=d.support.browser,t=s.msie&&s.version<9;var u=f.extend({init:function(a,b){var c=this,d;f.fn.init.call(c,a,b);a=c.element;b=c.options;c._value=b.value=g(b.value);c._tabIndex=a.attr("tabIndex")||0;d=c._ariaId=b.ariaId;if(d){a.attr("aria-labelledby",d)}if(b._standalone){c._triggerSelect=c._triggerChange}},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","cancel"],color:function(a){if(a!==c){this._value=g(a);this._updateUI(this._value)}return this._value},value:function(a){a=this.color(a);if(a){if(this.options.opacity){a=a.toCssRgba()}else{a=a.toCss()}}return a||null},enable:function(b){if(arguments.length===0){b=true}a(".k-disabled-overlay",this.wrapper).remove();if(!b){this.wrapper.append("<div class='k-disabled-overlay'></div>")}this._onEnable(b)},_select:function(a,b){var c=this._value;a=this.color(a);if(!b){this.element.trigger("change");if(!a.equals(c)){this.trigger("change",{value:this.value()})}else if(!this._standalone){this.trigger("cancel")}}},_triggerSelect:function(a){v(this,"select",a)},_triggerChange:function(a){v(this,"change",a)},destroy:function(){if(this.element){this.element.off(p)}if(this.wrapper){this.wrapper.off(p).find("*").off(p)}this.wrapper=null;f.fn.destroy.call(this)},_updateUI:a.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function v(a,b,c){c=g(c);if(c&&!c.equals(a.color())){if(b=="change"){a._value=c}if(c.a!=1){c=c.toCssRgba()}else{c=c.toCss()}a.trigger(b,{value:c})}}var w=u.extend({init:function(b,c){var e=this;u.fn.init.call(e,b,c);b=e.wrapper=e.element;c=e.options;var f=c.palette;if(f=="websafe"){f=m;c.columns=18}else if(f=="basic"){f=l}if(typeof f=="string"){f=f.split(",")}if(a.isArray(f)){f=a.map(f,function(a){return g(a)})}e._selectedID=(c.ariaId||d.guid())+"_selected";b.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(a(e._template({colors:f,columns:c.columns,tileSize:c.tileSize,value:e._value,id:c.ariaId}))).on(q,".k-item",function(b){e._select(a(b.currentTarget).css(j))}).attr("tabIndex",e._tabIndex).on(r,B(e._keydown,e));var h=c.tileSize,i,k;if(h){if(/number|string/.test(typeof h)){i=k=parseFloat(h)}else if(typeof h=="object"){i=parseFloat(h.width);k=parseFloat(h.height)}else{throw new Error("Unsupported value for the 'tileSize' argument")}b.find(".k-item").css({width:i,height:k})}},focus:function(){if(this.wrapper&&!this.wrapper.is("[unselectable='on']")){this.wrapper.focus()}},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(a){if(a){this.wrapper.attr("tabIndex",this._tabIndex)}else{this.wrapper.removeAttr("tabIndex")}},_keydown:function(b){var c,d=this.wrapper,e=d.find(".k-item"),f=e.filter("."+k).get(0),h=b.keyCode;if(h==i.LEFT){c=y(e,f,-1)}else if(h==i.RIGHT){c=y(e,f,1)}else if(h==i.DOWN){c=y(e,f,this.options.columns)}else if(h==i.UP){c=y(e,f,-this.options.columns)}else if(h==i.ENTER){A(b);if(f){this._select(a(f).css(j))}}else if(h==i.ESC){this._cancel()}if(c){A(b);this._current(c);try{var l=g(c.css(j));this._triggerSelect(l)}catch(a){}}},_current:function(b){this.wrapper.find("."+k).removeClass(k).attr("aria-selected",false).removeAttr("id");a(b).addClass(k).attr("aria-selected",true).attr("id",this._selectedID);this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(b){var c=null;this.wrapper.find(".k-item").each(function(){var d=g(a(this).css(j));if(d&&d.equals(b)){c=this;return false}});this._current(c)},_template:d.template('<table class="k-palette k-reset" role="presentation"><tr role="row">'+"# for (var i = 0; i < colors.length; ++i) { #"+"# var selected = colors[i].equals(value); #"+'# if (i && i % columns == 0) { # </tr><tr role="row"> # } #'+'<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"'+'#= selected ? " aria-selected=true" : "" # '+'#=(id && i === 0) ? "id=\\""+id+"\\" " : "" # '+'class="k-item#= selected ? " '+k+'" : "" #" '+'aria-label="#= colors[i].toCss() #"></td>'+"# } #"+"</tr></table>")});var x=u.extend({init:function(b,c){var d=this;u.fn.init.call(d,b,c);c=d.options;c.messages=c.options?a.extend(d.options.messages,c.options.messages):d.options.messages;b=d.element;d.wrapper=b.addClass("k-widget k-flatcolorpicker").append(d._template(c));d._hueElements=a(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",b);d._selectedColor=a(".k-selected-color-display",b);d._colorAsText=a("input.k-color-value",b);d._sliders();d._hsvArea();d._updateUI(d._value||g("#f00"));b.find("input.k-color-value").on(r,function(b){var c=this;if(b.keyCode==i.ENTER){try{var e=g(c.value);var f=d.color();d._select(e,e.equals(f))}catch(b){a(c).addClass("k-state-error")}}else if(d.options.autoupdate){setTimeout(function(){var a=g(c.value,true);if(a){d._updateUI(a,true)}},10)}}).end().on(q,".k-controls button.apply",function(){if(d.options._clearedColor){d.trigger("change")}else{d._select(d._getHSV())}}).on(q,".k-controls button.cancel",function(){d._updateUI(d.color());d._cancel()});if(t){d._applyIEFilter()}},destroy:function(){this._hueSlider.destroy();if(this._opacitySlider){this._opacitySlider.destroy()}this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;u.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,clearButton:false,autoupdate:true,messages:o},_applyIEFilter:function(){var a=this.element.find(".k-hue-slider .k-slider-track")[0],b=a.currentStyle.backgroundImage;b=b.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"},_sliders:function(){var a=this,b=a.element,c=b.find(".k-hue-slider"),d=b.find(".k-transparency-slider");function e(b){a._updateUI(a._getHSV(b.value,null,null,null))}c.attr("aria-label","hue saturation");a._hueSlider=c.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:false,slide:e,change:e}).data("kendoSlider");function f(b){a._updateUI(a._getHSV(null,null,null,b.value/100))}d.attr("aria-label","opacity");a._opacitySlider=d.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,slide:f,change:f}).data("kendoSlider")},_hsvArea:function(){var a=this,b=a.element,c=b.find(".k-hsv-rectangle"),e=c.find(".k-draghandle").attr("tabIndex",0).on(r,B(a._keydown,a));function f(b,c){var d=this.offset,e=b-d.left,f=c-d.top,g=this.width,h=this.height;e=e<0?0:e>g?g:e;f=f<0?0:f>h?h:f;a._svChange(e/g,1-f/h)}a._hsvEvents=new d.UserEvents(c,{global:true,press:function(a){this.offset=d.getOffset(c);this.width=c.width();this.height=c.height();e.focus();f.call(this,a.x.location,a.y.location)},start:function(){c.addClass("k-dragging");e.focus()},move:function(a){a.preventDefault();f.call(this,a.x.location,a.y.location)},end:function(){c.removeClass("k-dragging")}});a._hsvRect=c;a._hsvHandle=e},_onEnable:function(a){this._hueSlider.enable(a);if(this._opacitySlider){this._opacitySlider.enable(a)}this.wrapper.find("input").attr("disabled",!a);var b=this._hsvRect.find(".k-draghandle");if(a){b.attr("tabIndex",this._tabIndex)}else{b.removeAttr("tabIndex")}},_keydown:function(a){var b=this;function c(c,d){var e=b._getHSV();e[c]+=d*(a.shiftKey?.01:.05);if(e[c]<0){e[c]=0}if(e[c]>1){e[c]=1}b._updateUI(e);A(a)}function d(c){var d=b._getHSV();d.h+=c*(a.shiftKey?1:5);if(d.h<0){d.h=0}if(d.h>359){d.h=359}b._updateUI(d);A(a)}switch(a.keyCode){case i.LEFT:if(a.ctrlKey){d(-1)}else{c("s",-1)}break;case i.RIGHT:if(a.ctrlKey){d(1)}else{c("s",1)}break;case i.UP:c(a.ctrlKey&&b._opacitySlider?"a":"v",1);break;case i.DOWN:c(a.ctrlKey&&b._opacitySlider?"a":"v",-1);break;case i.ENTER:b._select(b._getHSV());break;case i.F2:b.wrapper.find("input.k-color-value").focus().select();break;case i.ESC:b._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(a,b,c,d){var e=this._hsvRect,f=e.width(),g=e.height(),i=this._hsvHandle.position();if(a==null){a=this._hueSlider.value()}if(b==null){b=i.left/f}if(c==null){c=1-i.top/g}if(d==null){d=this._opacitySlider?this._opacitySlider.value()/100:1}return h.fromHSV(a,b,c,d)},_svChange:function(a,b){var c=this._getHSV(null,a,b,null);this._updateUI(c)},_updateUI:function(a,b){var c=this,d=c._hsvRect;if(!a){return}this._colorAsText.attr("title",c.options.messages.previewInput);this._colorAsText.removeClass("k-state-error");c._selectedColor.css(j,a.toDisplay());if(!b){c._colorAsText.val(c._opacitySlider?a.toCssRgba():a.toCss())}c._triggerSelect(a);a=a.toHSV();c._hsvHandle.css({left:a.s*d.width()+"px",top:(1-a.v)*d.height()+"px"});c._hueElements.css(j,h.fromHSV(a.h,1,1,1).toCss());c._hueSlider.value(a.h);if(c._opacitySlider){c._opacitySlider.value(100*a.a)}},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:d.template("# if (preview) { #"+'<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" '+"# if (clearButton && !_standalone) { #"+'placeholder="#: messages.noColor #" '+"# } #"+'#= !data.input ? \'style="visibility: hidden;"\' : "" #>'+"# if (clearButton && !_standalone) { #"+'<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span>'+"# } #"+"</div></div></div>"+"# } #"+"# if (clearButton && !_standalone && !preview) { #"+'<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div>'+"# } #"+'<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div>'+'<input class="k-hue-slider" />'+"# if (opacity) { #"+'<input class="k-transparency-slider" />'+"# } #"+"# if (buttons) { #"+'<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div>'+"# } #")});function y(a,b,c){a=Array.prototype.slice.call(a);var d=a.length;var e=a.indexOf(b);if(e<0){return c<0?a[d-1]:a[0]}e+=c;if(e<0){e+=d}else{e%=d}return a[e]}var z=f.extend({init:function(b,c){var d=this;f.fn.init.call(d,b,c);c=d.options;b=d.element;var e=b.attr("value")||b.val();if(e){e=g(e,true)}else{e=g(c.value,true)}d._value=c.value=e;var h=d.wrapper=a(d._template(c));b.hide().after(h);if(b.is("input")){b.appendTo(h);var i=b.closest("label");var j=b.attr("id");if(j){i=i.add('label[for="'+j+'"]')}i.click(function(a){d.open();a.preventDefault()})}d._tabIndex=b.attr("tabIndex")||0;d.enable(!b.attr("disabled"));var k=b.attr("accesskey");if(k){b.attr("accesskey",null);h.attr("accesskey",k)}d.bind("activate",function(a){if(!a.isDefaultPrevented()){d.toggle()}});d._updateUI(e)},destroy:function(){this.wrapper.off(p).find("*").off(p);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;f.fn.destroy.call(this)},enable:function(a){var b=this,c=b.wrapper,d=c.children(".k-picker-wrap"),e=d.find(".k-select");if(arguments.length===0){a=true}b.element.attr("disabled",!a);c.attr("aria-disabled",!a);e.off(p).on("mousedown"+p,A);c.addClass("k-state-disabled").removeAttr("tabIndex").add("*",c).off(p);if(a){c.removeClass("k-state-disabled").attr("tabIndex",b._tabIndex).on("mouseenter"+p,function(){d.addClass("k-state-hover")}).on("mouseleave"+p,function(){d.removeClass("k-state-hover")}).on("focus"+p,function(){d.addClass("k-state-focused")}).on("blur"+p,function(){d.removeClass("k-state-focused")}).on(r,B(b._keydown,b)).on(q,".k-select",B(b.toggle,b)).on(q,b.options.toolIcon?".k-tool-icon":".k-selected-color",function(){b.trigger("activate")})}else{b.close()}},_template:d.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header">'+'<span class="k-picker-wrap k-state-default">'+"# if (toolIcon) { #"+'<span class="k-icon k-tool-icon #= toolIcon #">'+'<span class="k-selected-color"></span>'+"</span>"+"# } else { #"+'<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span>'+"# } #"+'<span class="k-select" unselectable="on" aria-label="select">'+'<span class="k-icon k-i-arrow-60-down"></span>'+"</span>"+"</span>"+"</span>"),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:o,opacity:false,buttons:true,preview:true,clearButton:false,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){if(!this.element.prop("disabled")){this._getPopup().open()}},close:function(){var a=this._selector&&this._selector.options||{};a._closing=true;this._getPopup().close();delete a._closing},toggle:function(){if(!this.element.prop("disabled")){this._getPopup().toggle()}},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line")},color:u.fn.color,value:u.fn.value,_select:u.fn._select,_triggerSelect:u.fn._triggerSelect,_isInputTypeColor:function(){var a=this.element[0];return/^input$/i.test(a.tagName)&&/^color$/i.test(a.type)},_updateUI:function(a){var b="";if(a){if(this._isInputTypeColor()||a.a==1){b=a.toCss()}else{b=a.toCssRgba()}this.element.val(b)}if(!this._ariaTemplate){this._ariaTemplate=d.template(this.options.ARIATemplate)}this.wrapper.attr("aria-label",this._ariaTemplate(b));this._triggerSelect(a);this.wrapper.find(".k-selected-color").css(j,a?a.toDisplay():n);this._noColorIcon()[b?"hide":"show"]()},_keydown:function(a){var b=a.keyCode;if(this._getPopup().visible()){if(b==i.ESC){this._selector._cancel()}else{this._selector._keydown(a)}A(a)}else if(b==i.ENTER||b==i.DOWN){this.open();A(a)}},_getPopup:function(){var b=this,c=b._popup;if(!c){var e=b.options;var f;if(e.palette){f=w}else{f=x}e._standalone=false;delete e.select;delete e.change;delete e.cancel;var h=d.guid();var i=b._selector=new f(a('<div id="'+h+'"/>').appendTo(document.body),e);b.wrapper.attr("aria-owns",h);b._popup=c=i.wrapper.kendoPopup({anchor:b.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup");i.element.find(".k-clear-color").kendoButton({icon:"reset-color",click:function(a){i.options._clearedColor=true;b.value(null);b.element.val(null);b._updateUI(null);i._colorAsText.val("");i._hsvHandle.css({top:"0px",left:"0px"});i._selectedColor.css(j,n);b.trigger("change",{value:b.value()});a.preventDefault()}});i.bind({select:function(a){b._updateUI(g(a.value));delete i.options._clearedColor},change:function(){if(!i.options._clearedColor){b._select(i.color())}b.close()},cancel:function(){if(i.options._clearedColor&&!b.value()&&i.value()){b._select(i.color(),true)}b.close()}});c.bind({close:function(a){if(b.trigger("close")){a.preventDefault();return}b.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var c=i._selectOnHide();var d=i.value();var e=b.value();var f=i.options;if(!c){setTimeout(function(){if(b.wrapper&&!b.wrapper.is("[unselectable='on']")){b.wrapper.focus()}});if(!f._closing&&f._clearedColor&&!e&&d){b._select(d,true)}else{b._updateUI(b.color())}}else if(!(f._clearedColor&&!e)){b._select(c)}},open:function(a){if(b.trigger("open")){a.preventDefault()}else{b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}},activate:function(){i._select(b.color(),true);i.focus();b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return c}});function A(a){a.preventDefault()}function B(a,b){return function(){return a.apply(b,arguments)}}e.plugin(w);e.plugin(x);e.plugin(z)})(jQuery,parseInt);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.numerictextbox",["kendo.core","kendo.userevents"],a)})(function(){var a={id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents"]};(function(a,b){var c=window.kendo,d=c.caret,e=c.keys,f=c.ui,g=f.Widget,h=c._activeElement,i=c._extractFormat,j=c.parseFloat,k=c.support.placeholder,l=c.getCulture,m="change",n="disabled",o="readonly",p="k-input",q="spin",r=".kendoNumericTextBox",s="touchend",t="mouseleave"+r,u="mouseenter"+r+" "+t,v="k-state-default",w="k-state-focused",x="k-state-hover",y="focus",z=".",A="k-icon",B="k-state-selected",C="k-state-disabled",D="k-state-invalid",E="aria-disabled",F=/^(-)?(\d*)$/,G=null,H=a.proxy,I=a.extend;var J=g.extend({init:function(d,e){var f=this,h=e&&e.step!==b,j,k,l,m,n;g.fn.init.call(f,d,e);e=f.options;d=f.element.on("focusout"+r,H(f._focusout,f)).attr("role","spinbutton");e.placeholder=e.placeholder||d.attr("placeholder");j=f.min(d.attr("min"));k=f.max(d.attr("max"));l=f._parse(d.attr("step"));if(e.min===G&&j!==G){e.min=j}if(e.max===G&&k!==G){e.max=k}if(!h&&l!==G){e.step=l}f._initialOptions=I({},e);f._reset();f._wrapper();f._arrows();f._validation();f._input();if(!c.support.mobileOS){f._text.on(y+r,H(f._click,f))}else{f._text.on(s+r+" "+y+r,function(){if(c.support.browser.edge){f._text.one(y+r,function(){f._toggleText(false);d.focus()})}else{f._toggleText(false);d.focus()}})}d.attr("aria-valuemin",e.min!==G?e.min*e.factor:e.min).attr("aria-valuemax",e.max!==G?e.max*e.factor:e.max);e.format=i(e.format);m=e.value;f.value(m!==G?m:d.val());n=d.is("[disabled]")||a(f.element).parents("fieldset").is(":disabled");if(n){f.enable(false)}else{f.readonly(d.is("[readonly]"))}c.notify(f)},options:{name:"NumericTextBox",decimals:G,restrictDecimals:false,min:G,max:G,value:G,step:1,round:true,culture:"",format:"n",spinners:true,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:[m,q],_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b._text.add(c),g=b._inputWrapper.off(u);b._toggleText(true);b._upArrowEventHandler.unbind("press");b._downArrowEventHandler.unbind("press");c.off("keydown"+r).off("keypress"+r).off("keyup"+r).off("paste"+r);if(!e&&!d){g.addClass(v).removeClass(C).on(u,b._toggleHover);f.removeAttr(n).removeAttr(o).attr(E,false);b._upArrowEventHandler.bind("press",function(a){a.preventDefault();b._spin(1);b._upArrow.addClass(B)});b._downArrowEventHandler.bind("press",function(a){a.preventDefault();b._spin(-1);b._downArrow.addClass(B)});b.element.on("keydown"+r,H(b._keydown,b)).on("keypress"+r,H(b._keypress,b)).on("keyup"+r,H(b._keyup,b)).on("paste"+r,H(b._paste,b))}else{g.addClass(d?C:v).removeClass(d?v:C);f.attr(n,d).attr(o,e).attr(E,d)}},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false})},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)})},setOptions:function(a){var c=this;g.fn.setOptions.call(c,a);c._arrowsWrap.toggle(c.options.spinners);c._inputWrapper.toggleClass("k-expand-padding",!c.options.spinners);c._text.prop("placeholder",c.options.placeholder);c._placeholder(c.options.placeholder);c.element.attr({"aria-valuemin":c.options.min!==G?c.options.min*c.options.factor:c.options.min,"aria-valuemax":c.options.max!==G?c.options.max*c.options.factor:c.options.max});c.options.format=i(c.options.format);if(a.value!==b){c.value(a.value)}},destroy:function(){var a=this;a.element.add(a._text).add(a._upArrow).add(a._downArrow).add(a._inputWrapper).off(r);a._upArrowEventHandler.destroy();a._downArrowEventHandler.destroy();if(a._form){a._form.off("reset",a._resetHandler)}g.fn.destroy.call(a)},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},step:function(a){return this._option("step",a)},value:function(a){var c=this,d;if(a===b){return c._value}a=c._parse(a);d=c._adjust(a);if(a!==d){return}c._update(a);c._old=c._value},focus:function(){this._focusin()},_adjust:function(a){var b=this,c=b.options,d=c.min,e=c.max;if(a===G){return a}if(d!==G&&a<d){a=d}else if(e!==G&&a>e){a=e}return a},_arrows:function(){var b=this,d,e=function(){clearTimeout(b._spinning);d.removeClass(B)},f=b.options,g=f.spinners,h=b.element;d=h.siblings("."+A);if(!d[0]){d=a(K("increase",f.upArrowText)+K("decrease",f.downArrowText)).insertAfter(h);b._arrowsWrap=d.wrapAll('<span class="k-select"/>').parent()}if(!g){d.parent().toggle(g);b._inputWrapper.addClass("k-expand-padding")}b._upArrow=d.eq(0);b._upArrowEventHandler=new c.UserEvents(b._upArrow,{release:e});b._downArrow=d.eq(1);b._downArrowEventHandler=new c.UserEvents(b._downArrow,{release:e})},_validation:function(){var b=this;var c=b.element;b._validationIcon=a("<span class='"+A+" k-i-warning'></span>").hide().insertAfter(c)},_blur:function(){var a=this;a._toggleText(true);a._change(a.element.val())},_click:function(a){var b=this;clearTimeout(b._focusing);b._focusing=setTimeout(function(){var c=a.target,e=d(c)[0],f=c.value.substring(0,e),g=b._format(b.options.format),h=g[","],i,j,k,l=0;if(h){j=new RegExp("\\"+h,"g");k=new RegExp("([\\d\\"+h+"]+)(\\"+g[z]+")?(\\d+)?")}if(k){i=k.exec(f)}if(i){l=i[0].replace(j,"").length;if(f.indexOf("(")!=-1&&b._value<0){l++}}b._focusin();d(b.element[0],l)})},_change:function(a){var b=this,d=b.options.factor;if(d&&d!==1){a=c.parseFloat(a);if(a!==null){a=a/d}}b._update(a);a=b._value;if(b._old!=a){b._old=a;if(!b._typing){b.element.trigger(m)}b.trigger(m)}b._typing=false},_culture:function(a){return a||l(this.options.culture)},_focusin:function(){var a=this;a._inputWrapper.addClass(w);a._toggleText(false);a.element[0].focus()},_focusout:function(){var a=this;clearTimeout(a._focusing);a._inputWrapper.removeClass(w).removeClass(x);a._blur();a._removeInvalidState()},_format:function(a,b){var c=this._culture(b).numberFormat;a=a.toLowerCase();if(a.indexOf("c")>-1){c=c.currency}else if(a.indexOf("p")>-1){c=c.percent}return c},_input:function(){var b=this,c=b.options,d="k-formatted-value",e=b.element.addClass(p).show()[0],f=e.accessKey,g=b.wrapper,h;h=g.find(z+d);if(!h[0]){h=a('<input type="text"/>').insertBefore(e).addClass(d)}try{e.setAttribute("type","text")}catch(a){e.type="text"}b._initialTitle=e.title;h[0].title=e.title;h[0].tabIndex=e.tabIndex;h[0].style.cssText=e.style.cssText;h.prop("placeholder",c.placeholder);if(f){h.attr("accesskey",f);e.accessKey=""}b._text=h.addClass(e.className).attr({role:"spinbutton","aria-valuemin":c.min!==G?c.min*c.factor:c.min,"aria-valuemax":c.max!==G?c.max*c.factor:c.max})},_keydown:function(a){var b=this,c=a.keyCode;b._key=c;if(c==e.DOWN){b._step(-1)}else if(c==e.UP){b._step(1)}else if(c==e.ENTER){b._change(b.element.val())}else if(c!=e.TAB){b._typing=true}},_keypress:function(a){if(a.which===0||a.metaKey||a.ctrlKey||a.keyCode===e.BACKSPACE||a.keyCode===e.ENTER){return}var b=this;var c=b.options.min;var f=b.element;var g=d(f);var h=g[0];var i=g[1];var j=String.fromCharCode(a.which);var k=b._format(b.options.format);var l=b._key===e.NUMPAD_DOT;var m=f.val();var n;if(l){j=k[z]}m=m.substring(0,h)+j+m.substring(i);n=b._numericRegex(k).test(m);if(n&&l){f.val(m);d(f,h+j.length);a.preventDefault()}else if(c!==null&&c>=0&&m.charAt(0)==="-"||!n){b._addInvalidState();a.preventDefault()}b._key=0},_keyup:function(){this._removeInvalidState()},_addInvalidState:function(){var a=this;a._inputWrapper.addClass(D);a._validationIcon.show()},_removeInvalidState:function(){var a=this;a._inputWrapper.removeClass(D);a._validationIcon.hide()},_numericRegex:function(a){var b=this;var c=a[z];var d=b.options.decimals;var e="*";if(c===z){c="\\"+c}if(d===G){d=a.decimals}if(d===0&&b.options.restrictDecimals){return F}if(b.options.restrictDecimals){e="{0,"+d+"}"}if(b._separator!==c){b._separator=c;b._floatRegExp=new RegExp("^(-)?(((\\d+("+c+"\\d"+e+")?)|("+c+"\\d"+e+")))?$")}return b._floatRegExp},_paste:function(a){var b=this;var c=a.target;var d=c.value;var e=b._format(b.options.format);setTimeout(function(){var a=b._parse(c.value);if(a===G){b._update(d)}else{c.value=a.toString().replace(z,e[z]);if(b._adjust(a)!==a||!b._numericRegex(e).test(c.value)){b._update(d)}}})},_option:function(a,c){var d=this,e=d.element,f=d.options;if(c===b){return f[a]}c=d._parse(c);if(!c&&a==="step"){return}f[a]=c;e.add(d._text).attr("aria-value"+a,c);e.attr(a,c)},_spin:function(a,b){var c=this;b=b||500;clearTimeout(c._spinning);c._spinning=setTimeout(function(){c._spin(a,50)},b);c._step(a)},_step:function(a){var b=this,c=b.element,d=b._value,e=b._parse(c.val())||0,f=b.options.decimals||2;if(h()!=c[0]){b._focusin()}if(b.options.factor&&e){e=e/b.options.factor}e=+(e+b.options.step*a).toFixed(f);e=b._adjust(e);b._update(e);b._typing=false;if(d!==e){b.trigger(q)}},_toggleHover:function(b){a(b.currentTarget).toggleClass(x,b.type==="mouseenter")},_toggleText:function(a){var b=this;b._text.toggle(a);b.element.toggle(!a)},_parse:function(a,b){return j(a,this._culture(b),this.options.format)},_round:function(a,b){var d=this.options.round?c._round:L;return d(a,b)},_update:function(a){var b=this,d=b.options,e=d.factor,f=d.format,g=d.decimals,h=b._culture(),i=b._format(f,h),j;if(g===G){g=i.decimals}a=b._parse(a,h);j=a!==G;if(j){a=parseFloat(b._round(a,g),10)}b._value=a=b._adjust(a);b._placeholder(c.toString(a,f,h));if(j){if(e){a=parseFloat(b._round(a*e,g),10)}a=a.toString();if(a.indexOf("e")!==-1){a=b._round(+a,g)}a=a.replace(z,i[z])}else{a=null}b.element.val(a);b.element.add(b._text).attr("aria-valuenow",a)},_placeholder:function(a){var b=this._text;b.val(a);if(!k&&!a){b.val(this.options.placeholder)}b.attr("title",this._initialTitle||b.val())},_wrapper:function(){var b=this,c=b.element,d=c[0],e;e=c.parents(".k-numerictextbox");if(!e.is("span.k-numerictextbox")){e=c.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();e=e.wrap("<span/>").parent()}e[0].style.cssText=d.style.cssText;d.style.width="";b.wrapper=e.addClass("k-widget k-numerictextbox").addClass(d.className).css("display","");b._inputWrapper=a(e[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){setTimeout(function(){b.value(c[0].value);b.max(b._initialOptions.max);b.min(b._initialOptions.min)})};b._form=e.on("reset",b._resetHandler)}}});function K(a,b){var c="k-i-arrow-"+(a==="increase"?"60-up":"60-down");return'<span unselectable="on" class="k-link k-link-'+a+'" aria-label="'+b+'" title="'+b+'">'+'<span unselectable="on" class="'+A+" "+c+'"></span>'+"</span>"}function L(a,b){var c=parseFloat(a,10).toString().split(z);if(c[1]){c[1]=c[1].substring(0,b)}return c.join(z)}f.plugin(J)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.filtermenu",["kendo.datepicker","kendo.numerictextbox","kendo.dropdownlist","kendo.binder"],a)})(function(){var a={id:"filtermenu",name:"Filtering Menu",category:"framework",depends:["datepicker","numerictextbox","dropdownlist","binder"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui,e=a.proxy,f="kendoPopup",g="init",h="open",i="refresh",j="change",k=".kendoFilterMenu",l="Is equal to",m="Is not equal to",n={number:"numerictextbox",date:"datepicker"},o={string:"text",number:"number",date:"date"},p=c.isFunction,q=d.Widget;var r="<div>"+'<div class="k-filter-help-text">#=messages.info#</div>'+"<label>"+'<input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>'+"#=messages.isTrue#"+"</label>"+"<label>"+'<input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>'+"#=messages.isFalse#"+"</label>"+"<div>"+'<button type="submit" class="k-button k-primary">#=messages.filter#</button>'+'<button type="reset" class="k-button">#=messages.clear#</button>'+"</div>"+"</div>";var s="<div>"+'<div class="k-filter-help-text">#=messages.info#</div>'+'<select title="#=messages.operator#" data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"#if(values){#"+'<select title="#=messages.value#" data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true">'+"</select>"+"#}else{#"+'<input title="#=messages.value#" data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />'+"#}#"+"#if(extra){#"+'<select title="#=messages.logic#" class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist">'+'<option value="and">#=messages.and#</option>'+'<option value="or">#=messages.or#</option>'+"</select>"+'<select title="#=messages.additionalOperator#" data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"#if(values){#"+'<select title="#=messages.additionalValue#" data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#" data-#=ns#value-primitive="true">'+"</select>"+"#}else{#"+'<input title="#=messages.additionalValue#" data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>'+"#}#"+"#}#"+"<div>"+'<button type="submit" class="k-button k-primary">#=messages.filter#</button>'+'<button type="reset" class="k-button">#=messages.clear#</button>'+"</div>"+"</div>";var t='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu">'+'<div data-#=ns#role="header" class="k-header">'+'<button class="k-button k-i-cancel">#=messages.cancel#</button>'+"#=title#"+'<button type="submit" class="k-button k-submit">#=messages.filter#</button>'+"</div>"+'<form title="#=messages.title#" class="k-filter-menu k-mobile-list">'+'<ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span>'+"<ul>"+'<li class="k-item"><label class="k-label">#=messages.operator#'+'<select data-#=ns#bind="value: filters[0].operator">'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"</label></li>"+'<li class="k-item"><label class="k-label">#=messages.value#'+"#if(values){#"+'<select data-#=ns#bind="value:filters[0].value">'+'<option value="">#=messages.selectValue#</option>'+"#for(var val in values){#"+'<option value="#=values[val].value#">#=values[val].text#</option>'+"#}#"+"</select>"+"#}else{#"+'<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" '+'#=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />'+"#}#"+"</label></li>"+"#if(extra){#"+"</ul>"+'<ul class="k-filter-help-text"><li><span class="k-link"></span>'+'<li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li>'+'<li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li>'+"</ul>"+'<ul class="k-filter-help-text"><li><span class="k-link"></span>'+'<li class="k-item"><label class="k-label">#=messages.additionalOperator#'+'<select data-#=ns#bind="value: filters[1].operator">'+"#for(var op in operators){#"+'<option value="#=op#">#=operators[op]#</option>'+"#}#"+"</select>"+"</label></li>"+'<li class="k-item"><label class="k-label">#=messages.additionalValue#'+"#if(values){#"+'<select data-#=ns#bind="value:filters[1].value">'+'<option value="">#=messages.selectValue#</option>'+"#for(var val in values){#"+'<option value="#=values[val].value#">#=values[val].text#</option>'+"#}#"+"</select>"+"#}else{#"+'<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" '+'#=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />'+"#}#"+"</label></li>"+"#}#"+"</ul>"+'</li><li class="k-button-container">'+'<button type="reset" class="k-button">#=messages.clear#</button>'+"</li></ul>"+"</div>"+"</form>"+"</div>";
var u='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-filter-menu">'+'<div data-#=ns#role="header" class="k-header">'+'<button class="k-button k-i-cancel">#=messages.cancel#</button>'+"#=title#"+'<button type="submit" class="k-button k-submit">#=messages.filter#</button>'+"</div>"+'<form title="#=messages.title#" class="k-filter-menu k-mobile-list">'+'<ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span>'+"<ul>"+'<li class="k-item"><label class="k-label">'+'<input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>'+"#=messages.isTrue#"+"</label></li>"+'<li class="k-item"><label class="k-label">'+'<input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>'+"#=messages.isFalse#"+"</label></li>"+"</ul>"+'</li><li class="k-button-container">'+'<button type="reset" class="k-button">#=messages.clear#</button>'+"</li></ul>"+"</form>"+"</div>";function v(b,c){if(b.filters){b.filters=a.grep(b.filters,function(a){v(a,c);if(a.filters){return a.filters.length}else{return a.field!=c}})}}function w(a){var b,c,d,e,f,g;if(a&&a.length){g=[];for(b=0,c=a.length;b<c;b++){d=a[b];f=d.text!==""?d.text||d.value||d:d.text;e=d.value==null?d.text||d:d.value;g[b]={text:f,value:e}}}return g}function x(b,c){return a.grep(b,function(b){if(b.filters){b.filters=a.grep(b.filters,function(a){return a.field!=c});return b.filters.length}return b.field!=c})}var y=q.extend({init:function(b,d){var f=this,g="string",h,i,l,m;q.fn.init.call(f,b,d);h=f.operators=d.operators||{};b=f.element;d=f.options;if(!d.appendToElement){l=b.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!l[0]){l=b.prepend('<a class="k-grid-filter" href="#" title="'+d.messages.filter+'" aria-label="'+d.messages.filter+'"><span class="k-icon k-i-filter"></span></a>').find(".k-grid-filter")}l.attr("tabindex",-1).on("click"+k,e(f._click,f))}f.link=l||a();f.dataSource=E.create(d.dataSource);f.field=d.field||b.attr(c.attr("field"));f.model=f.dataSource.reader.model;f._parse=function(a){return a!=null?a+"":a};if(f.model&&f.model.fields){m=f.model.fields[f.field];if(m){g=m.type||"string";if(m.parse){f._parse=e(m.parse,m)}}}if(d.values){g="enums"}f.type=g;h=h[g]||d.operators[g];for(i in h){break}f._defaultFilter=function(){return{field:f.field,operator:i||"eq",value:""}};f._refreshHandler=e(f.refresh,f);f.dataSource.bind(j,f._refreshHandler);if(d.appendToElement){f._init()}else{f.refresh()}},_init:function(){var b=this,d=b.options.ui,f=p(d),h;b.pane=b.options.pane;if(b.pane){b._isMobile=true}if(!f){h=d||n[b.type]}if(b._isMobile){b._createMobileForm(h)}else{b._createForm(h)}b.form.on("submit"+k,e(b._submit,b)).on("reset"+k,e(b._reset,b));if(f){b.form.find(".k-textbox").removeClass("k-textbox").each(function(){d(a(this))})}b.form.find("["+c.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+c.attr("role")+"=datepicker]").removeClass("k-textbox");b.refresh();b.trigger(g,{field:b.field,container:b.form});c.cycleForm(b.form)},_createForm:function(b){var d=this,g=d.options,h=d.operators||{},i=d.type;h=h[i]||g.operators[i];d.form=a('<form title="'+d.options.messages.title+'" class="k-filter-menu"/>').html(c.template(i==="boolean"?r:s)({field:d.field,format:g.format,ns:c.ns,messages:g.messages,extra:g.extra,operators:h,type:i,role:b,values:w(g.values)}));if(!g.appendToElement){d.popup=d.form[f]({anchor:d.link,open:e(d._open,d),activate:e(d._activate,d),close:function(){if(d.options.closeCallback){d.options.closeCallback(d.element)}}}).data(f)}else{d.element.append(d.form);d.popup=d.element.closest(".k-popup").data(f)}d.form.on("keydown"+k,e(d._keydown,d))},_createMobileForm:function(b){var d=this,e=d.options,f=d.operators||{},g=d.type;f=f[g]||e.operators[g];d.form=a("<div />").html(c.template(g==="boolean"?u:t)({field:d.field,title:e.title||d.field,format:e.format,ns:c.ns,messages:e.messages,extra:e.extra,operators:f,type:g,role:b,useRole:!c.support.input.date&&g==="date"||g==="number",inputType:o[g],values:w(e.values)}));d.view=d.pane.append(d.form.html());d.form=d.view.element.find("form");d.view.element.on("click",".k-submit",function(a){d.form.submit();a.preventDefault()}).on("click",".k-i-cancel",function(a){d._closeForm();a.preventDefault()})},refresh:function(){var a=this,b=a.dataSource.filter()||{filters:[],logic:"and"};var d=[a._defaultFilter()];var e=a._defaultFilter().operator;if(a.options.extra||e!=="isnull"&&e!=="isnullorempty"&&e!=="isnotnullorempty"&&e!=="isnotnull"){d.push(a._defaultFilter())}a.filterModel=c.observable({logic:"and",filters:d});if(a.form){c.bind(a.form.children().first(),a.filterModel)}if(a._bind(b)){a.link.addClass("k-state-active")}else{a.link.removeClass("k-state-active")}},destroy:function(){var a=this;q.fn.destroy.call(a);if(a.form){c.unbind(a.form);c.destroy(a.form);a.form.unbind(k);if(a.popup){a.popup.destroy();a.popup=null}a.form=null}if(a.view){a.view.purge();a.view=null}a.link.unbind(k);if(a._refreshHandler){a.dataSource.unbind(j,a._refreshHandler);a.dataSource=null}a.element=a.link=a._refreshHandler=a.filterModel=null},_bind:function(a){var b=this,c=a.filters,d,e,f=false,g=0,h=b.filterModel,i,j;for(d=0,e=c.length;d<e;d++){j=c[d];if(j.field==b.field){h.set("logic",a.logic);i=h.filters[g];if(!i){h.filters.push({field:b.field});i=h.filters[g]}i.set("value",b._parse(j.value));i.set("operator",j.operator);g++;f=true}else if(j.filters){f=f||b._bind(j)}}return f},_stripFilters:function(b){return a.grep(b,function(a){return a.value!==""&&a.value!=null||(a.operator==="isnull"||a.operator==="isnotnull"||a.operator==="isempty"||a.operator==="isnotempty"||a.operator=="isnullorempty"||a.operator=="isnotnullorempty")})},_merge:function(a){var b=this,c=a.logic||"and",d=this._stripFilters(a.filters),e,f=b.dataSource.filter()||{filters:[],logic:"and"},g,h;v(f,b.field);for(g=0,h=d.length;g<h;g++){e=d[g];e.value=b._parse(e.value)}if(d.length){if(f.filters.length){a.filters=d;if(f.logic!=="and"){f.filters=[{logic:f.logic,filters:f.filters}];f.logic="and"}if(d.length>1){f.filters.push(a)}else{f.filters.push(d[0])}}else{f.filters=d;f.logic=c}}return f},filter:function(a){var b=this._stripFilters(a.filters);if(b.length&&this.trigger("change",{filter:{logic:a.logic,filters:b},field:this.field})){return}a=this._merge(a);if(a.filters.length){this.dataSource.filter(a)}},clear:function(){var a=this,b=a.dataSource.filter()||{filters:[]};if(this.trigger("change",{filter:null,field:a.field})){return}a._removeFilter(b)},_removeFilter:function(b){var c=this;b.filters=a.grep(b.filters,function(a){if(a.filters){a.filters=x(a.filters,c.field);return a.filters.length}return a.field!=c.field});if(!b.filters.length){b=null}c.dataSource.filter(b)},_submit:function(b){b.preventDefault();b.stopPropagation();var c=this.filterModel.toJSON();var d=a.grep(c.filters,function(a){return a.value!==""});if(this._checkForNullOrEmptyFilter(c)||d&&d.length){this.filter(c)}else{this._removeFilter(c)}this._closeForm()},_checkForNullOrEmptyFilter:function(a){if(!a||!a.filters||!a.filters.length){return false}var b=false;var c=false;var d;if(a.filters[0]){d=a.filters[0].operator;b=d=="isnull"||d=="isnotnull"||d=="isnotempty"||d=="isempty"||d=="isnullorempty"||d=="isnotnullorempty"}if(a.filters[1]){d=a.filters[1].operator;c=d=="isnull"||d=="isnotnull"||d=="isnotempty"||d=="isempty"||d=="isnullorempty"||d=="isnotnullorempty"}return!this.options.extra&&b||this.options.extra&&(b||c)},_reset:function(){this.clear();if(this.options.search&&this.container){this.container.find("label").parent().show()}this._closeForm()},_closeForm:function(){if(this._isMobile){this.pane.navigate("",this.options.animations.right)}else{this.popup.close()}},_click:function(a){a.preventDefault();a.stopPropagation();if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var b;a(".k-filter-menu").not(this.form).each(function(){b=a(this).data(f);if(b){b.close()}})},_activate:function(){this.form.find(":kendoFocusable:first").focus();this.trigger(h,{field:this.field,container:this.form})},_keydown:function(a){if(a.keyCode==c.keys.ESC){this.popup.close()}},events:[g,"change",h],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:l,neq:m,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:l,neq:m,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:l,neq:m,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:l,neq:m,isnull:"Is null",isnotnull:"Is not null"}},messages:{info:"Show items with value that:",title:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",additionalValue:"Additional value",additionalOperator:"Additional operator",logic:"Filters logic",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});var z=".kendoFilterMultiCheck";function A(b,c){if(b.filters){b.filters=a.grep(b.filters,function(a){A(a,c);if(a.filters){return a.filters.length}else{return a.field==c&&a.operator=="eq"}})}}function B(c){if(c.logic=="and"&&c.filters.length>1){return[]}if(c.filters){return a.map(c.filters,function(a){return B(a)})}else if(c.value!==b){return[c.value]}else{return[]}}function C(a,d){var e=c.getter(d,true),f=[],g=0,h={};while(g<a.length){var i=a[g++],j=e(i);if(j!==b&&!h.hasOwnProperty(j)){f.push(i);h[j]=true}}return f}function D(a,b){return function(c){var d=a(c);return C(d,b)}}var E=c.data.DataSource;var F='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu">'+'<div data-#=ns#role="header" class="k-header">'+'<button class="k-button k-i-cancel">#=messages.cancel#</button>'+"#=title#"+'<button type="submit" class="k-button k-submit">#=messages.filter#</button>'+"</div>"+'<form class="k-filter-menu k-mobile-list">'+"#if(search){#"+"<div class='k-textbox k-space-right'>"+"<input placeholder='#=messages.search#'/>"+"<span class='k-icon k-i-zoom' />"+"</div>"+"#}#"+'<ul class="k-multicheck-wrap"></ul>'+'</li><li class="k-button-container">'+"#if(messages.selectedItemsFormat){#<div class='k-filter-selected-items'></div>#}#"+'<button type="reset" class="k-button">#=messages.clear#</button>'+"</li></ul>"+"</form>"+"</div>";var G=q.extend({init:function(b,d){q.fn.init.call(this,b,d);d=this.options;this.element=a(b);var f=this.field=this.options.field||this.element.attr(c.attr("field"));var g=d.checkSource;if(this._foreignKeyValues()){this.checkSource=E.create(d.values);this.checkSource.fetch()}else if(d.forceUnique){g=a.extend(true,{},d.dataSource.options);delete g.pageSize;this.checkSource=E.create(g);this.checkSource.reader.data=D(this.checkSource.reader.data,this.field)}else{this.checkSource=E.create(g)}this.dataSource=d.dataSource;this.model=this.dataSource.reader.model;this._parse=function(a){return a+""};if(this.model&&this.model.fields){f=this.model.fields[this.field];if(f){if(f.type=="number"){this._parse=function(a){if(typeof a==="string"&&a.toLowerCase()==="null"){return null}return parseFloat(a)}}else if(f.parse){this._parse=e(f.parse,f)}this.type=f.type||"string"}}if(!d.appendToElement){this._createLink()}else{this._init()}this._refreshHandler=e(this.refresh,this);this.dataSource.bind(j,this._refreshHandler)},_createLink:function(){var a=this.element;var b=a.addClass("k-with-icon k-filterable").find(".k-grid-filter");if(!b[0]){b=a.prepend('<a class="k-grid-filter" href="#" aria-label="'+this.options.messages.filter+'"><span class="k-icon k-i-filter"/></a>').find(".k-grid-filter")}this._link=b.attr("tabindex",-1).on("click"+k,e(this._click,this))},_init:function(){var a=this;var b=this.options.forceUnique;var c=this.options;this.pane=c.pane;if(this.pane){this._isMobile=true}this._createForm();if(this._foreignKeyValues()){this.refresh()}else if(b&&!this.checkSource.options.serverPaging&&this.dataSource.data().length){this.checkSource.data(C(this.dataSource.data(),this.field));this.refresh()}else{this._attachProgress();this.checkSource.fetch(function(){a.refresh.call(a)})}if(!this.options.forceUnique){this.checkChangeHandler=function(){a.container.empty();a.refresh()};this.checkSource.bind(j,this.checkChangeHandler)}this.form.on("keydown"+z,e(this._keydown,this)).on("submit"+z,e(this._filter,this)).on("reset"+z,e(this._reset,this));this.trigger(g,{field:this.field,container:this.form})},_attachProgress:function(){var a=this;this._progressHandler=function(){d.progress(a.container,true)};this._progressHideHandler=function(){d.progress(a.container,false)};this.checkSource.bind("progress",this._progressHandler).bind("change",this._progressHideHandler)},_input:function(){var a=this;a._clearTypingTimeout();a._typingTimeout=setTimeout(function(){a.search()},100)},_clearTypingTimeout:function(){if(this._typingTimeout){clearTimeout(this._typingTimeout);this._typingTimeout=null}},search:function(){var a=this.options.ignoreCase;var b=this.searchTextBox[0].value;var c=this.container.find("label");if(a){b=b.toLowerCase()}var d=0;if(this.options.checkAll&&c.length){c[0].parentNode.style.display=b?"none":"";d++}while(d<c.length){var e=c[d];var f=e.textContent||e.innerText;if(a){f=f.toLowerCase()}e.parentNode.style.display=f.indexOf(b)>=0?"":"none";d++}},_activate:function(){this.form.find(":kendoFocusable:first").focus();this.trigger(h,{field:this.field,container:this.form})},_createForm:function(){var b=this.options;var d="";var g=this;if(!this._isMobile){if(b.search){d+="<div class='k-textbox k-space-right'>"+"<input placeholder='"+b.messages.search+"'/>"+"<span class='k-icon k-i-zoom' />"+"</div>"}d+="<ul class='k-reset k-multicheck-wrap'></ul>";if(b.messages.selectedItemsFormat){d+="<div class='k-filter-selected-items'>"+c.format(b.messages.selectedItemsFormat,0)+"</div>"}d+="<button type='submit' class='k-button k-primary'>"+b.messages.filter+"</button>";d+="<button type='reset' class='k-button'>"+b.messages.clear+"</button>";this.form=a('<form class="k-filter-menu"/>').html(d);this.container=this.form.find(".k-multicheck-wrap")}if(this._isMobile){g.form=a("<div />").html(c.template(F)({field:g.field,title:b.title||g.field,ns:c.ns,messages:b.messages,search:b.search}));g.view=g.pane.append(g.form.html());g.form=g.view.element.find("form");var h=this.view.element;this.container=h.find(".k-multicheck-wrap");h.on("click",".k-submit",function(a){g.form.submit();a.preventDefault()}).on("click",".k-i-cancel",function(a){g._closeForm();a.preventDefault()})}else{if(!b.appendToElement){g.popup=g.form.kendoPopup({anchor:g._link,open:e(g._open,g),activate:e(g._activate,g),close:function(){if(g.options.closeCallback){g.options.closeCallback(g.element)}}}).data(f)}else{this.popup=this.element.closest(".k-popup").data(f);this.element.append(this.form)}}if(b.search){this.searchTextBox=this.form.find(".k-textbox > input");this.searchTextBox.on("input",e(this._input,this))}},createCheckAllItem:function(){var b=this.options;var d=c.template(b.itemTemplate({field:"all",mobile:this._isMobile}));var f=a(d({all:b.messages.checkAll}));this.container.prepend(f);this.checkBoxAll=f.find(":checkbox").eq(0).addClass("k-check-all");this.checkAllHandler=e(this.checkAll,this);this.checkBoxAll.on(j+z,this.checkAllHandler)},updateCheckAllState:function(){if(this.options.messages.selectedItemsFormat){this.form.find(".k-filter-selected-items").text(c.format(this.options.messages.selectedItemsFormat,this.container.find(":checked:not(.k-check-all)").length))}if(this.checkBoxAll){var a=this.container.find(":checkbox:not(.k-check-all)").length==this.container.find(":checked:not(.k-check-all)").length;this.checkBoxAll.prop("checked",a)}},refresh:function(a){var b=this.options.forceUnique;var c=this.dataSource;var d=this.getFilterArray();if(this._link){this._link.toggleClass("k-state-active",d.length!==0)}if(this.form){if(a&&b&&a.sender===c&&!c.options.serverPaging&&(a.action=="itemchange"||a.action=="add"||a.action=="remove"||c.options.autoSync&&a.action==="sync")&&!this._foreignKeyValues()){this.checkSource.data(C(this.dataSource.data(),this.field));this.container.empty()}if(this.container.is(":empty")){this.createCheckBoxes()}this.checkValues(d);this.trigger(i)}},getFilterArray:function(){var b=a.extend(true,{},{filters:[],logic:"and"},this.dataSource.filter());A(b,this.field);var c=B(b);return c},createCheckBoxes:function(){var a=this.options;var b;var d={field:this.field,format:a.format,mobile:this._isMobile,type:this.type};if(!this.options.forceUnique){b=this.checkSource.view()}else if(this._foreignKeyValues()){b=this.checkSource.data();d.valueField="value";d.field="text"}else{b=this.checkSource.data()}var f=c.template(a.itemTemplate(d));var g=c.render(f,b);if(a.checkAll){this.createCheckAllItem()}this.container.on(j+z,":checkbox",e(this.updateCheckAllState,this));this.container.append(g)},checkAll:function(){var a=this.checkBoxAll.is(":checked");this.container.find(":checkbox").prop("checked",a)},checkValues:function(b){var c=this;a(a.grep(this.container.find(":checkbox").prop("checked",false),function(d){var e=false;if(a(d).is(".k-check-all")){return}var f=c._parse(a(d).val());for(var g=0;g<b.length;g++){if(c.type=="date"){if(b[g]&&f){e=b[g].getTime()==f.getTime()}else if(b[g]===null&&f===null){e=true}else{e=false}}else{e=b[g]==f}if(e){return e}}})).prop("checked",true);this.updateCheckAllState()},_filter:function(b){b.preventDefault();b.stopPropagation();var c={logic:"or"};var d=this;c.filters=a.map(this.form.find(":checkbox:checked:not(.k-check-all)"),function(b){return{value:a(b).val(),operator:"eq",field:d.field}});if(c.filters.length&&this.trigger("change",{filter:c,field:d.field})){return}c=this._merge(c);if(c.filters.length){this.dataSource.filter(c)}else{this.clear()}this._closeForm()},_stripFilters:function(b){return a.grep(b,function(a){return a.value!=null})},_foreignKeyValues:function(){var a=this.options;return a.values&&!a.checkSource},destroy:function(){var a=this;q.fn.destroy.call(a);if(a.form){c.unbind(a.form);c.destroy(a.form);a.form.unbind(z);if(a.popup){a.popup.destroy();a.popup=null}a.form=null;if(a.container){a.container.unbind(z);a.container=null}if(a.checkBoxAll){a.checkBoxAll.unbind(z)}}if(a.view){a.view.purge();a.view=null}if(a._link){a._link.unbind(k)}if(a._refreshHandler){a.dataSource.unbind(j,a._refreshHandler);a.dataSource=null}if(a.checkChangeHandler){a.checkSource.unbind(j,a.checkChangeHandler)}if(a._progressHandler){a.checkSource.unbind("progress",a._progressHandler)}if(a._progressHideHandler){a.checkSource.unbind("change",a._progressHideHandler)}this._clearTypingTimeout();this.searchTextBox=null;a.element=a.checkSource=a.container=a.checkBoxAll=a._link=a._refreshHandler=a.checkAllHandler=null},options:{name:"FilterMultiCheck",itemTemplate:function(a){var c=a.field;var d=a.format;var e=a.valueField;var f=a.mobile;var g="";if(e===b){e=c}if(a.type=="date"){g=":yyyy-MM-ddTHH:mm:sszzz"}return"<li class='k-item'>"+"<label class='k-label'>"+"<input type='checkbox' class='"+(f?"k-check":"")+"'  value='#:kendo.format('{0"+g+"}',"+e+")#'/>"+"#:kendo.format('"+(d?d:"{0}")+"', "+c+")#"+"</label>"+"</li>"},checkAll:true,search:false,ignoreCase:true,appendToElement:false,messages:{checkAll:"Select All",clear:"Clear",filter:"Filter",search:"Search",cancel:"Cancel",selectedItemsFormat:"{0} items selected"},forceUnique:true,animations:{left:"slide",right:"slide:right"}},events:[g,i,"change",h]});a.extend(G.fn,{_click:y.fn._click,_keydown:y.fn._keydown,_reset:y.fn._reset,_closeForm:y.fn._closeForm,_removeFilter:y.fn._removeFilter,clear:y.fn.clear,_merge:y.fn._merge});d.plugin(y);d.plugin(G)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.menu",["kendo.popup"],a)})(function(){var a={id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup"]};(function(a,b){var c=window.kendo,d=c.ui,e=c._activeElement,f=c.support.touch&&c.support.mobileOS,g="mousedown",h="click",i=30,j=50,k=a.extend,l=a.proxy,m=a.each,n=c.template,o=c.keys,p=d.Widget,q=/^(ul|a|div)$/i,r=".kendoMenu",s="img",t="open",u="k-menu",v="k-link k-menu-link",w=".k-link",x="k-last",y="close",z="timer",A="k-first",B="k-image",C="select",D="zIndex",E="activate",F="deactivate",G="touchstart"+r+" MSPointerDown"+r+" pointerdown"+r,H=c.support.pointers,I=c.support.msPointers,J=I||H,K=H?"pointerenter":I?"MSPointerEnter":"mouseenter",L=H?"pointerleave":I?"MSPointerLeave":"mouseleave",M="DOMMouseScroll"+r+" mousewheel"+r,N=c.support.resize+r,O="scrollWidth",P="scrollHeight",Q="offsetWidth",R="offsetHeight",S="group",T="groupparent",U=a(document.documentElement),V="kendoPopup",W="k-state-default",X="k-state-hover",Y="k-state-focused",Z="k-state-disabled",$="k-state-selected",_=".k-menu",aa=".k-menu-group",ba=".k-animation-container",ca=aa+","+ba,da=":not(.k-list) > .k-item",ea=".k-item.k-state-disabled",fa=".k-item",ga=".k-item:not(.k-state-disabled)",ha=".k-item:not(.k-state-disabled) > .k-link",ia=":not(.k-item.k-separator)",ja=fa+ia+":eq(0)",ka=fa+ia+":last",la="div:not(.k-animation-container,.k-list-container)",ma=".k-menu-scroll-button",na={2:1,touch:1},oa={content:n("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"),group:n("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>"+"#= renderItems(data) #"+"</ul>"),itemWrapper:n("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>"+"#= image(data) ##= sprite(item) ##= text(item) #"+"#= arrow(data) #"+"</#= tag(item) #>"),item:n("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#>"+"#= itemWrapper(data) #"+"# if (item.items) { #"+"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #"+"# } else if (item.content || item.contentUrl) { #"+"#= renderContent(data) #"+"# } #"+"</li>"),scrollButton:n("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>"+"<span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),image:n("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"),arrow:n("<span class='#= arrowClass(item, group) #'></span>"),sprite:n("<span class='k-sprite #= spriteCssClass #'></span>"),empty:n("")},pa={wrapperCssClass:function(a,b){var c="k-item",d=b.index;if(b.enabled===false){c+=" k-state-disabled"}else{c+=" k-state-default"}if(a.firstLevel&&d===0){c+=" k-first"}if(d==a.length-1){c+=" k-last"}if(b.cssClass){c+=" "+b.cssClass}if(b.attr&&b.attr.hasOwnProperty("class")){c+=" "+b.attr["class"]}if(b.selected){c+=" "+$}return c},itemCssAttributes:function(a){var b="";var c=a.attr||{};for(var d in c){if(c.hasOwnProperty(d)&&d!=="class"){b+=d+'="'+c[d]+'" '}}return b},imageCssAttributes:function(a){var b="";var c=a.imageAttr||{};if(!c["class"]){c["class"]=B}else{c["class"]+=" "+B}for(var d in c){if(c.hasOwnProperty(d)){b+=d+'="'+c[d]+'" '}}return b},contentCssAttributes:function(a){var b="";var c=a.contentAttr||{};var d="k-content k-group k-menu-group";if(!c["class"]){c["class"]=d}else{c["class"]+=" "+d}for(var e in c){if(c.hasOwnProperty(e)){b+=e+'="'+c[e]+'" '}}return b},textClass:function(){return v},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a,b){var c="k-icon";if(b.horizontal){c+=" k-i-arrow-60-down"}else{c+=" k-i-arrow-60-right"}return c},text:function(a){return a.encoded===false?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return a.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(a){return a.content?a.content:"&nbsp;"}};function qa(a,b){a=a.split(" ")[!b+0]||a;return a.replace("top","up").replace("bottom","down")}function ra(a,b,d){a=a.split(" ")[!b+0]||a;var e={origin:["bottom",d?"right":"left"],position:["top",d?"right":"left"]},f=/left|right/.test(a);if(f){e.origin=["top",a];e.position[1]=c.directions[a].reverse}else{e.origin[0]=a;e.position[0]=c.directions[a].reverse}e.origin=e.origin.join(" ");e.position=e.position.join(" ");return e}function sa(b,c){try{return a.contains(b,c)}catch(a){return false}}function ta(b){b=a(b);b.addClass("k-item").children(s).addClass(B);b.children("a").addClass(v).children(s).addClass(B);b.filter(":not([disabled])").addClass(W);b.filter(".k-separator").empty().append("&nbsp;");b.filter("li[disabled]").addClass(Z).removeAttr("disabled").attr("aria-disabled",true);if(!b.filter("[role]").length){b.attr("role","menuitem")}if(!b.children(w).length){b.contents().filter(function(){return!this.nodeName.match(q)&&!(this.nodeType==3&&!a.trim(this.nodeValue))}).wrapAll("<span class='"+v+"'/>")}ua(b);wa(b)}function ua(b){b=a(b);b.find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove();b.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var b=a(this),c=va(b);b.append("<span class='k-icon"+c+" k-menu-expand-arrow'/>")})}function va(a){var b,d=a.parent().parent(),e=c.support.isRtl(d);if(d.hasClass(u+"-horizontal")){b=" k-i-arrow-60-down"}else{if(e){b=" k-i-arrow-60-left"}else{b=" k-i-arrow-60-right"}}return b}function wa(b){b=a(b);b.filter(".k-first:not(:first-child)").removeClass(A);b.filter(".k-last:not(:last-child)").removeClass(x);b.filter(":first-child").addClass(A);b.filter(":last-child").addClass(x)}function xa(a){if(a&&a.length){for(var b in a){var c=a.eq(b);if(c.find("ul").length){c.attr("aria-haspopup",true)}else{c.removeAttr("aria-haspopup")}}}}function ya(a){if(!a.hasClass(u)){return a.parentsUntil("."+u,"li")}}function za(b,c){var d=Ba(c);if(d){Aa(b,d)}if(c.items){a(b).children("ul").children("li").each(function(a){za(this,c.items[a])})}}function Aa(b,c){a(b).children(".k-link").data({selectHandler:c})}function Ba(a){var b=a.select,d=c.isFunction;if(b&&d(b)){return b}return null}function Ca(a){return a?"li[data-groupparent='"+a+"']":"li[data-groupparent]"}function Da(a){return a?"ul[data-group='"+a+"']":"ul[data-group]"}function Ea(b,c){var d=b.find(Ca());var e=[];d.each(function(d,f){f=a(f);var g=f.data(T);var h=b;while(g){h=c.find(Da(g)+":visible");if(h.length){e.push(h)}f=h.find(Ca());g=f.data(T)}});return e}function Fa(b,c){var d=b.data(S);return d?c.find(Ca(d)):a([])}function Ga(b,c){var d=b.data(T);return d?c.children(ba).children(Da(d)):a([])}function Ha(b,c){var d=[];var e=function(a){while(a.parentNode&&!c.is(a.parentNode)){d.push(a.parentNode);a=a.parentNode}};var f=b[0]||b;e(f);var g=d[d.length-1];while(a(g).is(ba)){var h=a(g).children("ul");f=Fa(h,c)[0];if(!f){break}d.push(f);e(f);g=d[d.length-1]}return d}function Ia(a){var b=0;if(a.wheelDelta){b=-a.wheelDelta/120;b=b>0?Math.ceil(b):Math.floor(b)}if(a.detail){b=Math.round(a.detail/3)}return b}function Ja(a,b){var c=0;var d=a.parentNode;while(d&&!isNaN(d[b])){c+=d[b];d=d.parentNode}return c}function Ka(a){return J&&a.originalEvent&&a.originalEvent.pointerType in na}function La(a){var b=a.originalEvent;return f&&/touch/i.test(b.type||"")}function Ma(a){a.contents().filter(function(){return this.nodeName!="LI"}).remove()}var Na=p.extend({init:function(a,b){var d=this;p.fn.init.call(d,a,b);a=d.wrapper=d.element;b=d.options;d._initData(b);d._updateClasses();d._animations(b);d.nextItemZIndex=100;d._tabindex();d._initOverflow(b);d._attachMenuEventsHandlers();if(b.openOnClick){d.clicked=false}a.attr("role","menubar");if(a[0].id){d._ariaId=c.format("{0}_mn_active",a[0].id)}c.notify(d)},events:[t,y,E,F,C],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,scrollable:false,popupCollision:b},_initData:function(a){var b=this;if(a.dataSource){b.angular("cleanup",function(){return{elements:b.element.children()}});b.element.empty();b.append(a.dataSource,b.element);b.angular("compile",function(){return{elements:b.element.children()}})}},_attachMenuEventsHandlers:function(){var b=this;var c=b.element;var d=b.options;var e=b._overflowWrapper();(e||c).on(G,fa,l(b._focusHandler,b)).on(h+r,ea,false).on(h+r,fa,l(b._click,b)).on(G+" "+g+r,".k-content",l(b._preventClose,b)).on(K+r,ga,l(b._mouseenter,b)).on(L+r,ga,l(b._mouseleave,b)).on(g+r,ga,l(b._mousedown,b)).on(K+r+" "+L+r+" "+g+r+" "+h+r,ha,l(b._toggleHover,b));c.on("keydown"+r,l(b._keydown,b)).on("focus"+r,l(b._focus,b)).on("focus"+r,".k-content",l(b._focus,b)).on("blur"+r,l(b._removeHoverItem,b)).on("blur"+r,"[tabindex]",l(b._checkActiveElement,b));if(e){e.on(L+r,ca,l(b._mouseleavePopup,b)).on(K+r,ca,l(b._mouseenterPopup,b))}if(d.openOnClick){b._documentClickHandler=l(b._documentClick,b);a(document).click(b._documentClickHandler)}},_detachMenuEventsHandlers:function(){var b=this;var c=b._overflowWrapper();if(c){c.off(r)}b.element.off(r);if(b._documentClickHandler){a(document).unbind("click",b._documentClickHandler)}},_initOverflow:function(b){var d=this;var e=b.orientation=="horizontal";var f,g;if(b.scrollable){d._openedPopups={};d._scrollWrapper=d.element.wrap("<div class='k-menu-scroll-wrapper "+b.orientation+"'></div>").parent();if(e){Ma(d.element)}f=a(oa.scrollButton({direction:e?"left":"up"}));g=a(oa.scrollButton({direction:e?"right":"down"}));f.add(g).appendTo(d._scrollWrapper);d._initScrolling(d.element,f,g,e);var h=d.element.outerWidth();var i=d.element[0].style.width;i=i==="auto"?"":i;if(e){a(window).on(N,c.throttle(function(){d._setOverflowWrapperWidth(h,i);d._toggleScrollButtons(d.element,f,g,e)},100))}d._setOverflowWrapperWidth(h,i);d._toggleScrollButtons(d.element,f,g,e)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(a,b){var c=this;var d=c._scrollWrapper.css("width");c._scrollWrapper.css({width:""});var e=c._scrollWrapper.outerWidth();c._scrollWrapper.css({width:d});var f=c.element.outerWidth();var g=c.element[0].offsetWidth-c.element[0].clientWidth;if(f!=e&&e>0){var h=b?Math.min(a,e):e;c.element.width(h-g);c._scrollWrapper.width(h)}},_reinitOverflow:function(a){var b=this;var c=a.scrollable&&!b.options.scrollable||!a.scrollable&&b.options.scrollable||a.scrollable&&b.options.scrollable&&a.scrollable.distance!=b.options.scrollable.distance||a.orientation!=b.options.orientation;if(c){b._detachMenuEventsHandlers();b._destroyOverflow();b._initOverflow(a);b._attachMenuEventsHandlers()}},_destroyOverflow:function(){var c=this;var d=c._overflowWrapper();if(d){d.off(r);d.find(ma).off(r).remove();d.children(ba).each(function(b,c){var e=a(c).children(aa);e.off(M);var f=Fa(e,d);if(f.length){f.append(c)}});d.find(Ca()).removeAttr("data-groupparent");d.find(Da()).removeAttr("data-group");c.element.off(M);a(window).off(N);d.contents().unwrap();c._scrollWrapper=c._popupsWrapper=c._openedPopups=b}},_initScrolling:function(b,d,e,f){var g=this;var h=g.options.scrollable;var i=a.isNumeric(h.distance)?h.distance:j;var k=i/2;var l="-="+i;var m="+="+i;var n="-="+i*2;var o="+="+i*2;var p=false;var q=false;var s=function(a){var c=f?{scrollLeft:a}:{scrollTop:a};b.finish().animate(c,"fast","linear",function(){if(p){s(a)}});g._toggleScrollButtons(b,d,e,f);
};var t=function(a){if(!p&&!q){s(a.data.direction);p=true}};var u=function(c){var h=f?{scrollLeft:c.data.direction}:{scrollTop:c.data.direction};q=La(c)||Ka(c);b.stop().animate(h,"fast","linear",function(){if(!q){a(c.currentTarget).trigger(K)}else{g._toggleScrollButtons(b,d,e,f);p=true}});p=false;c.stopPropagation();c.preventDefault()};d.on(K+r,{direction:l},t).on(c.eventMap.down+r,{direction:n},u);e.on(K+r,{direction:m},t).on(c.eventMap.down+r,{direction:o},u);d.add(e).on(L+r,function(){b.stop();p=false;g._toggleScrollButtons(b,d,e,f)});b.on(M,function(a){if(!a.ctrlKey&&!a.shiftKey&&!a.altKey){var c=Ia(a.originalEvent);var h=Math.abs(c)*k;var i=(c>0?"+=":"-=")+h;var j=f?{scrollLeft:i}:{scrollTop:i};g._closeChildPopups(b);b.finish().animate(j,"fast","linear",function(){g._toggleScrollButtons(b,d,e,f)});a.preventDefault()}})},_toggleScrollButtons:function(a,b,c,d){var e=d?a.scrollLeft():a.scrollTop();var f=d?O:P;var g=d?Q:R;b.toggle(e!==0);c.toggle(e<a[0][f]-a[0][g]-1)},setOptions:function(a){var b=this.options.animation;this._animations(a);a.animation=k(true,b,a.animation);if("dataSource"in a){this._initData(a)}this._updateClasses();this._reinitOverflow(a);p.fn.setOptions.call(this,a)},destroy:function(){var a=this;p.fn.destroy.call(a);a._detachMenuEventsHandlers();a._destroyOverflow();c.destroy(a.element)},enable:function(a,b){this._toggleDisabled(a,b!==false);return this},disable:function(a){this._toggleDisabled(a,false);return this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);m(c.items,function(b){c.group.append(this);ua(this);za(this,a[b]||a)});ua(b);wa(c.group.find(".k-first, .k-last").add(c.items));xa(ya(c.group));return this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());m(c.items,function(c){b.before(this);ua(this);wa(this);za(this,a[c]||a)});wa(b);return this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());m(c.items,function(c){b.after(this);ua(this);wa(this);za(this,a[c]||a)});wa(b);return this},_insert:function(b,c,d){var e=this,f,g;if(!c||!c.length){d=e.element}var h=a.isPlainObject(b),i={firstLevel:d.hasClass(u),horizontal:d.hasClass(u+"-horizontal"),expanded:true,length:d.children().length};if(c&&!d.length){d=a(Na.renderGroup({group:i})).appendTo(c)}if(h||a.isArray(b)){f=a(a.map(h?[b]:b,function(b,c){if(typeof b==="string"){return a(b).get()}else{return a(Na.renderItem({group:i,item:k(b,{index:c})})).get()}}))}else{if(typeof b=="string"&&b.charAt(0)!="<"){f=e.element.find(b)}else{f=a(b)}g=f.find("> ul").addClass("k-menu-group").attr("role","menu");f=f.filter("li");f.add(g.find("> li")).each(function(){ta(this)})}return{items:f,group:d}},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,da),d=a.parent("ul:not(.k-menu)");a.remove();if(d&&!d.children(da).length){var e=ya(d);var f=d.parent(ba);if(f.length){f.remove()}else{d.remove()}xa(e)}if(c.length){c=c.eq(0);ua(c);wa(c)}return b},open:function(d){var e=this;var g=e.options;var h=g.orientation=="horizontal";var i=g.direction;var j=c.support.isRtl(e.wrapper);var m=e._overflowWrapper();d=(m||e.element).find(d);if(/^(top|bottom|default)$/.test(i)){if(j){i=h?(i+" left").replace("default","bottom"):"left"}else{i=h?(i+" right").replace("default","bottom"):"right"}}var n=">.k-popup:visible,>.k-animation-container>.k-popup:visible";var o=function(){var b=a(this).data(V);if(b){e.close(a(this).closest("li.k-item"),true)}};d.siblings().find(n).each(o);if(m){d.find(n).each(o)}if(e.options.openOnClick){e.clicked=true}d.each(function(){var d=a(this);clearTimeout(d.data(z));d.data(z,setTimeout(function(){var n=d.find(".k-menu-group:first:hidden");var o;var p;if(!n[0]&&m){p=e._getPopup(d);n=p&&p.element}if(n.is(":visible")){return}if(n[0]&&e._triggerEvent({item:d[0],type:t})===false){if(!n.find(".k-menu-group")[0]&&n.children(".k-item").length>1){var q=a(window).height(),r=function(){n.css({maxHeight:q-(c._outerHeight(n)-n.height())-c.getShadows(n).bottom,overflow:"auto"})};if(c.support.browser.msie&&c.support.browser.version<=7){setTimeout(r,0)}else{r()}}else{n.css({maxHeight:"",overflow:""})}d.data(D,d.css(D));var s=e.nextItemZIndex++;d.css(D,s);if(e.options.scrollable){d.parent().siblings(ma).css({zIndex:++s})}o=n.data(V);var v=d.parent().hasClass(u),w=v&&h,x=ra(i,v,j),z=g.animation.open.effects,A=z!==b?z:"slideIn:"+qa(i,v);if(!o){o=n.kendoPopup({activate:function(){e._triggerEvent({item:this.wrapper.parent(),type:E})},deactivate:function(a){a.sender.element.removeData("targetTransform").css({opacity:""});e._triggerEvent({item:this.wrapper.parent(),type:F})},origin:x.origin,position:x.position,collision:g.popupCollision!==b?g.popupCollision:w?"fit":"fit flip",anchor:d,appendTo:m||d,animation:{open:k(true,{effects:A},g.animation.open),close:g.animation.close},open:l(e._popupOpen,e),close:function(a){var b=a.sender.wrapper.parent();if(m){var c=a.sender.element.data(S);if(c){b=(m||e.element).find(Ca(c))}a.sender.wrapper.children(ma).hide()}if(!e._triggerEvent({item:b[0],type:y})){b.css(D,b.data(D));b.removeData(D);if(e.options.scrollable){b.parent().siblings(ma).css({zIndex:""})}if(f||J){b.removeClass(X);e._removeHoverItem()}}else{a.preventDefault()}}}).data(V)}else{o=n.data(V);o.options.origin=x.origin;o.options.position=x.position;o.options.animation.open.effects=A}n.removeAttr("aria-hidden");e._configurePopupOverflow(o,d);o._hovered=true;o.open();e._initPopupScrolling(o)}},e.options.hoverDelay))});return e},_configurePopupOverflow:function(a,b){var c=this;if(c.options.scrollable){c._wrapPopupElement(a);if(!b.attr("data-groupparent")){var d=(new Date).getTime();b.attr("data-groupparent",d);a.element.attr("data-group",d)}}},_wrapPopupElement:function(a){if(!a.element.parent().is(ba)){a.wrapper=c.wrap(a.element,a.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"})}},_initPopupScrolling:function(a,b,c){var d=this;if(d.options.scrollable&&a.element[0].scrollHeight>a.element[0].offsetHeight){d._initPopupScrollButtons(a,b,c)}},_initPopupScrollButtons:function(b,c,d){var e=this;var f=b.wrapper.children(ma);var g=e.options.animation;var h=(g&&g.open&&g.open.duration||0)+i;setTimeout(function(){if(!f.length){var g=a(oa.scrollButton({direction:c?"left":"up"}));var h=a(oa.scrollButton({direction:c?"right":"down"}));f=g.add(h).appendTo(b.wrapper);e._initScrolling(b.element,g,h,c);if(!d){f.on(K+r,function(){var c=e._overflowWrapper();a(Ea(b.element,c)).each(function(a,b){var d=c.find(Ca(b.data(S)));e.close(d)})}).on(L+r,function(){setTimeout(function(){if(a.isEmptyObject(e._openedPopups)){e._closeParentPopups(b.element)}},i)})}}e._toggleScrollButtons(b.element,f.first(),f.last(),c)},h)},_popupOpen:function(a){if(!this._keyTriggered){a.sender.element.children("."+Y).removeClass(Y)}if(this.options.scrollable){this._setPopupHeight(a.sender)}},_setPopupHeight:function(b,d){var e=b.element;var f=e.add(e.parent(ba));f.height(e.hasClass(u)&&this._initialHeight||"");var g=b._location(d);var h=a(window).height();var i=g.height;var j=d?0:Math.max(g.top,0);var k=d?0:Ja(this._overflowWrapper()[0],"scrollTop");var l=window.innerHeight-h;var m=h-c.getShadows(e).bottom+l;var n=m+k>i+j;if(!n){var o=Math.min(m,m-j+k);f.css({overflow:"hidden",height:o+"px"})}},close:function(b,c){var d=this;var e=d._overflowWrapper();var f=e||d.element;b=f.find(b);if(!b.length){b=f.find(">.k-item")}var g=function(b){var c=false;if(a.isEmptyObject(d._openedPopups)){return c}a(Ea(b,e)).each(function(a,b){c=!!d._openedPopups[b.data(S).toString()];return!c});return c};var h=function(a){var b=a.data(T);return!e||!b||!d._openedPopups[b.toString()]};b.each(function(){var f=a(this);if(!c&&d._isRootItem(f)){d.clicked=false}clearTimeout(f.data(z));f.data(z,setTimeout(function(){var a=d._getPopup(f);if(a&&(h(f)||d._forceClose)){if(!d._forceClose&&g(a.element)){return}a.close();a.element.attr("aria-hidden",true);if(e){if(d._forceClose&&b.last().is(f[0])){delete d._forceClose}}}},d.options.hoverDelay))});return d},_getPopup:function(a){var b=this;var c=a.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(V);var d=b._overflowWrapper();if(!c&&d){var e=a.data(T);if(e){var f=d.find(Da(e));c=f.data(V)}}return c},_toggleDisabled:function(b,c){this.element.find(b).each(function(){a(this).toggleClass(W,c).toggleClass(Z,!c).attr("aria-disabled",!c)})},_toggleHover:function(b){var d=a(c.eventTarget(b)||b.target).closest(da),e=b.type==K||g.indexOf(b.type)!==-1;if(!d.parents("li."+Z).length){d.toggleClass(X,e||b.type=="mousedown"||b.type=="click")}this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true}},_checkActiveElement:function(b){var d=this,e=a(b?b.currentTarget:this._hoverItem()),f=d._findRootParent(e)[0];if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||!sa(f,c._activeElement())&&b&&!sa(f,b.currentTarget)){d.close(f)}},0)}this._closurePrevented=false},_removeHoverItem:function(){var a=this._hoverItem();if(a&&a.hasClass(Y)){a.removeClass(Y);this._oldHoverItem=null}},_updateClasses:function(){var a=this.element,b=".k-menu-init div ul",d;a.removeClass("k-menu-horizontal k-menu-vertical");a.addClass("k-widget k-reset k-header k-menu-init "+u).addClass(u+"-"+this.options.orientation);a.find("li > ul").filter(function(){return!c.support.matchesSelector.call(this,b)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",a.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1");d=a.find("> li,.k-menu-group > li");a.removeClass("k-menu-init");d.each(function(){ta(this)})},_mouseenter:function(b){var c=this;var d=a(b.currentTarget);var e=c._itemHasChildren(d);var g=d.data(T)||d.parent().data(S);var h=Ka(b);if(g){c._openedPopups[g.toString()]=true}if(b.delegateTarget!=d.parents(_)[0]&&b.delegateTarget!=d.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]){return}c._keyTriggered=false;if(c.options.openOnClick.rootMenuItems&&c._isRootItem(d.closest(da))||c.options.openOnClick.subMenuItems&&!c._isRootItem(d.closest(da))){return}if((c.options.openOnClick===false||c.options.openOnClick.rootMenuItems===false&&c._isRootItem(d.closest(da))||c.options.openOnClick.subMenuItems===false&&!c._isRootItem(d.closest(da))||c.clicked)&&!f&&!(h&&c._isRootItem(d.closest(da)))){if(!sa(b.currentTarget,b.relatedTarget)&&e){c.open(d)}}if(c.options.openOnClick===true&&c.clicked||f){d.siblings().each(l(function(a,b){c.close(b,true)},c))}},_mousedown:function(b){var c=this;var d=a(b.currentTarget);if(c.options.openOnClick.subMenuItems&&!c._isRootItem(d)||f){d.siblings().each(l(function(a,b){c.close(b,true)},c))}},_mouseleave:function(b){var d=this;var e=a(b.currentTarget);var g=e.data(T);var h=e.children(ba).length||e.children(aa).length||g;var i=a(window);if(g){delete d._openedPopups[g.toString()]}if(e.parentsUntil(ba,".k-list-container,.k-calendar-container")[0]){b.stopImmediatePropagation();return}if((d.options.openOnClick===false||!d.options.openOnClick.rootMenuItems&&d._isRootItem(e)||!d.options.openOnClick.subMenuItems&&!d._isRootItem(e))&&!f&&!Ka(b)&&!sa(b.currentTarget,b.relatedTarget||b.target)&&h&&!sa(b.currentTarget,c._activeElement())){d.close(e,true);return}if(c.support.browser.msie&&!b.toElement&&!b.relatedTarget&&!Ka(b)||b.clientX<0||b.clientY<0||b.clientY>i.height()||b.clientX>i.width()){d.close(e)}},_mouseenterPopup:function(b){var c=this;var d=a(b.currentTarget);if(d.parent().is(ba)){return}d=d.children("ul");var e=d.data(S);if(e){c._openedPopups[e.toString()]=true}},_mouseleavePopup:function(b){var c=this;var d=a(b.currentTarget);if(!Ka(b)&&d.is(ba)){c._closePopups(d.children("ul"))}},_closePopups:function(b){var c=this;var d=c._overflowWrapper();var e=b.data(S);if(e){delete c._openedPopups[e.toString()];var f=d.find(Ca(e));setTimeout(function(){if(c.options.openOnClick){c._closeChildPopups(b)}else{if(a.isEmptyObject(c._openedPopups)){var d=c._innerPopup(b);c._closeParentPopups(d)}else{c.close(f,true)}}},0)}},_closeChildPopups:function(b){var c=this;var d=c._overflowWrapper();a(Ea(b,d)).each(function(){var a=d.find(Ca(this.data(S)));c.close(a,true)})},_innerPopup:function(a){var b=this._overflowWrapper();var c=Ea(a,b);return c[c.length-1]||a},_closeParentPopups:function(a){var b=this;var c=b._overflowWrapper();var d=a.data(S);var e=c.find(Ca(d));d=e.parent().data(S);b.close(e,true);while(d&&!b._openedPopups[d]){if(e.parent().is(_)){break}e=c.find(Ca(d));b.close(e,true);d=e.parent().data(S)}},_click:function(b){var d=this,e,f=d.options,g=a(c.eventTarget(b)),h=g[0],i=g[0]?g[0].nodeName.toUpperCase():"",j=i=="INPUT"||i=="SELECT"||i=="BUTTON"||i=="LABEL",k=g.closest(w),l=g.closest(da),m=l[0],n=k.attr("href"),o,p,q=g.attr("href"),r=a("<a href='#' />").attr("href"),s=!!n&&n!==r,u=s&&!!n.match(/^#/),v=!!q&&q!==r,x=d._overflowWrapper(),z;while(h&&h.parentNode!=m){h=h.parentNode}if(a(h).is(la)){return}if(l.hasClass(Z)){b.preventDefault();return}if(!b.handled&&d._triggerSelect(g,m)&&!j){b.preventDefault()}b.handled=true;o=l.children(ca);if(x){var A=l.data(T);if(A){o=x.find(Da(A))}}p=o.is(":visible");z=f.openOnClick&&p&&d._isRootItem(l);if(f.closeOnClick&&(!s||u)&&(!o.length||z)){l.removeClass(X).css("height");d._oldHoverItem=d._findRootParent(l);var B=d._parentsUntil(k,d.element,da);d._forceClose=!!x;d.close(B);d.clicked=false;if("MSPointerUp".indexOf(b.type)!=-1){b.preventDefault()}return}if(s&&b.enterKey){k[0].click()}if((!d._isRootItem(l)||f.openOnClick===false)&&!f.openOnClick.subMenuItems&&!c.support.touch&&!(Ka(b)&&d._isRootItem(l.closest(da)))){return}if(!s&&!j&&!v){b.preventDefault()}d.clicked=true;e=o.is(":visible")?y:t;if(!f.closeOnClick&&e==y){return}d[e](l)},_parentsUntil:function(b,c,d){var e=this._overflowWrapper();if(!e){return b.parentsUntil(c,d)}else{var f=Ha(b,e);var g=[];a(f).each(function(){var b=a(this);if(b.is(c)){return false}if(b.is(d)){g.push(this)}});return a(g)}},_triggerSelect:function(a,b){a=a.is(".k-link")?a:a.closest(".k-link");var c=a.data("selectHandler"),d;if(c){d=this._getEventData(a);c.call(this,d)}var e=d&&d.isDefaultPrevented();var f=this._triggerEvent({item:b,type:C});return e||f},_getEventData:function(a){var b={sender:this,target:a,_defaultPrevented:false,preventDefault:function(){this._defaultPrevented=true},isDefaultPrevented:function(){return this._defaultPrevented}};return b},_documentClick:function(a){var b=this;if(sa((b._overflowWrapper()||b.element)[0],a.target)){return}b.clicked=false},_focus:function(b){var c=this,d=b.target,f=c._hoverItem(),g=e();if(d!=c.wrapper[0]&&!a(d).is(":kendoFocusable")){b.stopPropagation();a(d).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(Y);c.wrapper.focus();return}if(g===b.currentTarget){if(f.length){c._moveHover([],f)}else if(!c._oldHoverItem){c._moveHover([],c.wrapper.children().first())}}},_keydown:function(a){var b=this,d=a.keyCode,e=b._oldHoverItem,f,g,h,i=c.support.isRtl(b.wrapper);if(a.target!=a.currentTarget&&d!=o.ESC){return}if(!e){e=b._oldHoverItem=b._hoverItem()}g=b._itemBelongsToVertival(e);h=b._itemHasChildren(e);b._keyTriggered=true;if(d==o.RIGHT){f=b[i?"_itemLeft":"_itemRight"](e,g,h)}else if(d==o.LEFT){f=b[i?"_itemRight":"_itemLeft"](e,g,h)}else if(d==o.DOWN){f=b._itemDown(e,g,h)}else if(d==o.UP){f=b._itemUp(e,g,h)}else if(d==o.HOME){b._moveHover(e,e.parent().children().first());a.preventDefault()}else if(d==o.END){b._moveHover(e,e.parent().children().last());a.preventDefault()}else if(d==o.ESC){f=b._itemEsc(e,g)}else if(d==o.ENTER||d==o.SPACEBAR){f=e.children(".k-link");if(f.length>0){b._click({target:f[0],preventDefault:function(){},enterKey:true});if(h&&!e.hasClass(Z)){b.open(e);b._moveHover(e,b._childPopupElement(e).children().first())}else{b._moveHover(e,b._findRootParent(e))}}}else if(d==o.TAB){f=b._findRootParent(e);b._moveHover(e,f);b._checkActiveElement();return}if(f&&f[0]){a.preventDefault();a.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");if(!a.length){return b}return a.parent().hasClass("k-menu-group")||b},_itemHasChildren:function(a){if(!a||!a.length||!a[0].nodeType){return false}return a.children(".k-menu-group, div.k-animation-container").length>0||!!a.data(T)&&!!this._overflowWrapper().children(Da(a.data(T)))},_moveHover:function(b,c){var d=this,e=d._ariaId;if(b.length&&c.length){b.removeClass(Y)}if(c.length){if(c[0].id){e=c[0].id}c.addClass(Y);d._oldHoverItem=c;if(e){d.element.removeAttr("aria-activedescendant");a("#"+e).removeAttr("id");c.attr("id",e);d.element.attr("aria-activedescendant",e)}d._scrollToItem(c)}},_findRootParent:function(a){if(this._isRootItem(a)){return a}else{return this._parentsUntil(a,_,"li.k-item").last()}},_isRootItem:function(a){return a.parent().hasClass(u)},_itemRight:function(a,b,c){var d=this,e,f,g;if(!b){e=a.nextAll(ja);if(!e.length){e=a.prevAll(ka)}d.close(a)}else if(c&&!a.hasClass(Z)){d.open(a);e=d._childPopupElement(a).children().first()}else if(d.options.orientation=="horizontal"){f=d._findRootParent(a);g=d._overflowWrapper();if(g){var h=Ga(f,g);d._closeChildPopups(h)}d.close(f);e=f.nextAll(ja)}if(e&&!e.length){e=d.wrapper.children(".k-item").first()}else if(!e){e=[]}d._moveHover(a,e);return e},_itemLeft:function(a,b){var c=this,d,e;if(!b){d=a.prevAll(ja);if(!d.length){d=a.nextAll(ka)}c.close(a)}else{d=a.parent().closest(".k-item");e=c._overflowWrapper();if(!d.length&&e){d=Fa(a.parent(),e)}c.close(d);if(c._isRootItem(d)&&c.options.orientation=="horizontal"){d=d.prevAll(ja)}}if(!d.length){d=c.wrapper.children(".k-item").last()}c._moveHover(a,d);return d},_itemDown:function(a,b,c){var d=this,e;if(!b){if(!c||a.hasClass(Z)){return}else{d.open(a);e=d._childPopupElement(a).children().first()}}else{e=a.nextAll(ja)}if(!e.length&&a.length){e=a.parent().children().first()}else if(!a.length){e=d.wrapper.children(".k-item").first()}d._moveHover(a,e);return e},_itemUp:function(a,b){var c=this,d;if(!b){return}else{d=a.prevAll(ja)}if(!d.length&&a.length){d=a.parent().children().last()}else if(!a.length){d=c.wrapper.children(".k-item").last()}c._moveHover(a,d);return d},_scrollToItem:function(a){var b=this;if(b.options.scrollable&&a&&a.length){var d=a.parent();var e=d.hasClass(u)?b.options.orientation=="horizontal":false;var f=e?"scrollLeft":"scrollTop";var g=e?c._outerWidth:c._outerHeight;var h=d[f]();var i=g(a);var j=a[0][e?"offsetLeft":"offsetTop"];var k=g(d);var l=d.siblings(ma);var m=l.length?g(l.first()):0;var n;if(h+k<j+i+m){n=j+i-k+m}else if(h>j-m){n=j-m}if(!isNaN(n)){var o={};o[f]=n;d.finish().animate(o,"fast","linear",function(){b._toggleScrollButtons(d,l.first(),l.last(),e)})}}},_itemEsc:function(a,b){var c=this,d;if(!b){return a}else{d=a.parent().closest(".k-item");c.close(d);c._moveHover(a,d)}return d},_childPopupElement:function(a){var b=a.find(".k-menu-group");var c=this._overflowWrapper();if(!b.length&&c){b=Ga(a,c)}return b},_triggerEvent:function(a){var b=this;return b.trigger(a.type,{type:a.type,item:a.item})},_focusHandler:function(b){var d=this,e=a(c.eventTarget(b)).closest(da);if(e.hasClass(Z)){return}setTimeout(function(){d._moveHover([],e);if(e.children(".k-content")[0]){e.parent().closest(".k-item").removeClass(Y)}},200)},_animations:function(a){if(a&&"animation"in a&&!a.animation){a.animation={open:{effects:{}},close:{hide:true,effects:{}}}}}});k(Na,{renderItem:function(a){a=k({menu:{},group:{}},a);var b=oa.empty,c=a.item;return oa.item(k(a,{image:c.imageUrl?oa.image:b,sprite:c.spriteCssClass?oa.sprite:b,itemWrapper:oa.itemWrapper,renderContent:Na.renderContent,arrow:c.items||c.content?oa.arrow:b,subGroup:Na.renderGroup},pa))},renderGroup:function(a){return oa.group(k({renderItems:function(a){var b="",c=0,d=a.items,e=d?d.length:0,f=k({length:e},a.group);for(;c<e;c++){b+=Na.renderItem(k(a,{group:f,item:k({index:c},d[c])}))}return b}},a,pa))},renderContent:function(a){return oa.content(k(a,pa))}});var Oa=Na.extend({init:function(b,d){var e=this;Na.fn.init.call(e,b,d);e._marker=c.guid().substring(0,8);e.target=a(e.options.target);e._popup();e._wire()},_initOverflow:function(a){var b=this;if(a.scrollable&&!b._overflowWrapper()){b._openedPopups={};b._popupsWrapper=(b.element.parent().is(ba)?b.element.parent():b.element).wrap("<div class='k-popups-wrapper "+a.orientation+"'></div>").parent();if(b.options.orientation=="horizontal"){Ma(b.element)}if(a.appendTo){a.appendTo.append(b._popupsWrapper)}b._initialHeight=b.element[0].style.height;b._initialWidth=b.element[0].style.width}},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,target:"body"},events:[t,y,E,F,C],setOptions:function(b){var c=this;Na.fn.setOptions.call(c,b);c.target.off(c.showOn+r+c._marker,c._showProxy);if(c.userEvents){c.userEvents.destroy()}c.target=a(c.options.target);if(b.orientation&&c.popup.wrapper[0]){c.popup.element.unwrap()}c._wire();Na.fn.setOptions.call(this,b)},destroy:function(){var a=this;a.target.off(a.options.showOn+r+a._marker);U.off(c.support.mousedown+r+a._marker,a._closeProxy);if(a.userEvents){a.userEvents.destroy()}Na.fn.destroy.call(a)},open:function(d,e){var f=this;d=a(d)[0];if(sa(f.element[0],a(d)[0])||f._itemHasChildren(a(d))){Na.fn.open.call(f,d)}else{if(f._triggerEvent({item:f.element,type:t})===false){if(f.popup.visible()&&f.options.filter){f.popup.close(true);f.popup.element.kendoStop(true)}if(e!==b){var g=f._overflowWrapper();if(g){var h=g.offset();d-=h.left;e-=h.top}f.popup.wrapper.hide();f._configurePopupScrolling(d,e);f.popup.open(d,e)}else{f.popup.options.anchor=(d?d:f.popup.anchor)||f.target;f.popup.element.kendoStop(true);f._configurePopupScrolling();f.popup.open()}U.off(f.popup.downEvent,f.popup._mousedownProxy);U.on(c.support.mousedown+r+f._marker,f._closeProxy)}}return f},_configurePopupScrolling:function(a,c){var d=this;var e=d.popup;var f=d.options.orientation=="horizontal";if(d.options.scrollable){d._wrapPopupElement(e);e.element.parent().css({position:"",height:""});e.element.css({visibility:"hidden",display:"",position:""});if(f){d._setPopupWidth(e,isNaN(a)?b:{isFixed:true,x:a,y:c})}else{d._setPopupHeight(e,isNaN(a)?b:{isFixed:true,x:a,y:c})}e.element.css({visibility:"",display:"none",position:"absolute"});d._initPopupScrollButtons(e,f,true);e.element.siblings(ma).hide()}},_setPopupWidth:function(b,d){var e=b.element;var f=e.add(e.parent(ba));f.width(this._initialWidth||"");var g=b._location(d);var h=a(window).width();var i=g.width;var j=Math.max(g.left,0);var k=d?0:Ja(this._overflowWrapper()[0],"scrollLeft");var l=c.getShadows(e);var m=h-l.left-l.right;var n=m+k>i+j;if(!n){f.css({overflow:"hidden",width:m-j+k+"px"})}},close:function(){var b=this;if(sa(b.element[0],a(arguments[0])[0])||b._itemHasChildren(arguments[0])){Na.fn.close.call(b,arguments[0])}else{if(b.popup.visible()){if(b._triggerEvent({item:b.element,type:y})===false){b.popup.close();U.off(c.support.mousedown+r+b._marker,b._closeProxy);b.unbind(C,b._closeTimeoutProxy)}}}},_showHandler:function(a){var b=a,d,e=this,f=e.options;if(a.event){b=a.event;b.pageX=a.x.location;b.pageY=a.y.location}if(sa(e.element[0],a.relatedTarget||a.target)){return}e._eventOrigin=b;b.preventDefault();b.stopImmediatePropagation();e.element.find("."+Y).removeClass(Y);if(f.filter&&c.support.matchesSelector.call(b.currentTarget,f.filter)||!f.filter){if(f.alignToAnchor){e.popup.options.anchor=b.currentTarget;e.open(b.currentTarget)}else{e.popup.options.anchor=b.currentTarget;if(e._targetChild){d=e.target.offset();e.open(b.pageX-d.left,b.pageY-d.top)}else{e.open(b.pageX,b.pageY)}}}},_closeHandler:function(b){var c=this,d=a(b.relatedTarget||b.target),e=d.closest(c.target.selector)[0]==c.target[0],f=d.closest(fa),g=c._itemHasChildren(f),h=c._overflowWrapper(),i=sa(c.element[0],d[0])||h&&sa(h[0],d[0]);c._eventOrigin=b;var j=b.which!==3;if(c.popup.visible()&&(j&&e||!e)&&(c.options.closeOnClick&&!g&&i||!i)){if(i){this.unbind(C,this._closeTimeoutProxy);c.bind(C,c._closeTimeoutProxy)}else{c.close()}}},_wire:function(){var a=this,b=a.options,d=a.target;a._showProxy=l(a._showHandler,a);a._closeProxy=l(a._closeHandler,a);a._closeTimeoutProxy=l(a.close,a);if(d[0]){if(c.support.mobileOS&&b.showOn=="contextmenu"){a.userEvents=new c.UserEvents(d,{filter:b.filter,allowSelection:false});d.on(b.showOn+r+a._marker,false);a.userEvents.bind("hold",a._showProxy)}else{if(b.filter){d.on(b.showOn+r+a._marker,b.filter,a._showProxy)}else{d.on(b.showOn+r+a._marker,a._showProxy)}}}},_triggerEvent:function(c){var d=this,e=a(d.popup.options.anchor)[0],f=d._eventOrigin;d._eventOrigin=b;return d.trigger(c.type,k({type:c.type,item:c.item||this.element[0],target:e},f?{event:f}:{}))},_popup:function(){var b=this;var c=b._overflowWrapper();b._triggerProxy=l(b._triggerEvent,b);b.popup=b.element.addClass("k-context-menu").kendoPopup({anchor:b.target||"body",copyAnchorStyles:b.options.copyAnchorStyles,collision:b.options.popupCollision||"fit",animation:b.options.animation,activate:b._triggerProxy,deactivate:b._triggerProxy,appendTo:c||b.options.appendTo,close:!c?a.noop:function(b){a(Ea(b.sender.element,c)).each(function(a,b){var c=b.data(V);if(c){c.close(true)}})}}).data(V);b._targetChild=sa(b.target[0],b.popup.element[0])}});d.plugin(Na);d.plugin(Oa)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.columnmenu",["kendo.popup","kendo.filtermenu","kendo.menu"],a)})(function(){var a={id:"columnmenu",name:"Column Menu",category:"framework",depends:["popup","filtermenu","menu"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui,e=a.proxy,f=a.extend,g=a.grep,h=a.map,i=a.inArray,j="k-state-selected",k="asc",l="desc",m="change",n="init",o="open",p="select",q="kendoPopup",r="kendoFilterMenu",s="kendoMenu",t=".kendoColumnMenu",u=d.Widget;function v(b){return a.trim(b).replace(/&nbsp;/gi,"")}function w(a,b){var c={};var d,e,f;for(d=0,e=a.length;d<e;d++){f=a[d];c[f[b]]=f}return c}function x(a){var b=[];for(var c=0;c<a.length;c++){if(!a[c].columns){b.push(a[c]);continue}b=b.concat(x(a[c].columns))}return b}function y(a,b){return"["+c.attr(a)+"='"+(b||"").replace(/'/g,'"')+"']"}function z(a,b,c){if(a>0){b.insertAfter(c.children().eq(a-1))}else{c.prepend(b)}}var A=u.extend({init:function(b,d){var f=this,g;u.fn.init.call(f,b,d);b=f.element;d=f.options;f.owner=d.owner;f.dataSource=d.dataSource;f.field=b.attr(c.attr("field"));f.title=b.attr(c.attr("title"));g=b.find(".k-header-column-menu");if(!g[0]){g=b.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#" title="'+d.messages.settings+'" aria-label="'+d.messages.settings+'"><span class="k-icon k-i-more-vertical"></span></a>').find(".k-header-column-menu")}f.link=g.attr("tabindex",-1).on("click"+t,e(f._click,f));f.wrapper=a('<div class="k-column-menu"/>');f._refreshHandler=e(f.refresh,f);f.dataSource.bind(m,f._refreshHandler)},_init:function(){var a=this;a.pane=a.options.pane;if(a.pane){a._isMobile=true}if(a._isMobile){a._createMobileMenu()}else{a._createMenu()}a.owner._muteAngularRebind(function(){a._angularItems("compile")});a._sort();a._columns();a._filter();a._lockColumns();a.trigger(n,{field:a.field,container:a.wrapper})},events:[n,o,"sort","filtering"],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:true,sortable:true,filterable:true,animations:{left:"slide"}},_createMenu:function(){var a=this,b=a.options;a.wrapper.html(c.template(B)({uid:c.guid(),ns:c.ns,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns,lockedColumns:b.lockedColumns}));a.popup=a.wrapper[q]({anchor:a.link,open:e(a._open,a),activate:e(a._activate,a),close:function(){if(a.options.closeCallback){a.options.closeCallback(a.element)}}}).data(q);a.menu=a.wrapper.children()[s]({orientation:"vertical",closeOnClick:false}).data(s)},_createMobileMenu:function(){var a=this,b=a.options;var d=c.template(C)({ns:c.ns,field:a.field,title:a.title||a.field,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns,lockedColumns:b.lockedColumns});a.view=a.pane.append(d);a.wrapper=a.view.element.find(".k-column-menu");a.menu=new D(a.wrapper.children(),{pane:a.pane});a.view.element.on("click",".k-done",function(b){a.close();b.preventDefault()});if(a.options.lockedColumns){a.view.bind("show",function(){a._updateLockedColumns()})}},_angularItems:function(b){var d=this;d.angular(b,function(){var b=d.wrapper.find(".k-columns-item input["+c.attr("field")+"]").map(function(){return a(this).closest("li")});var e=h(d._ownerColumns(),function(a){return{column:a._originalObject}});return{elements:b,data:e}})},destroy:function(){var a=this;a._angularItems("cleanup");u.fn.destroy.call(a);if(a.filterMenu){a.filterMenu.destroy()}if(a._refreshHandler){a.dataSource.unbind(m,a._refreshHandler)}if(a.options.columns&&a.owner){if(a._updateColumnsMenuHandler){a.owner.unbind("columnShow",a._updateColumnsMenuHandler);a.owner.unbind("columnHide",a._updateColumnsMenuHandler)}if(a._updateColumnsLockedStateHandler){a.owner.unbind("columnLock",a._updateColumnsLockedStateHandler);a.owner.unbind("columnUnlock",a._updateColumnsLockedStateHandler)}}if(a.menu){a.menu.element.off(t);a.menu.destroy()}a.wrapper.off(t);if(a.popup){a.popup.destroy()}if(a.view){a.view.purge()}a.link.off(t);a.owner=null;a.wrapper=null;a.element=null},close:function(){this.menu.close();if(this.popup){this.popup.close();this.popup.element.off("keydown"+t)}},_click:function(a){var b=this;a.preventDefault();a.stopPropagation();var c=this.options;if(c.filter&&this.element.is(!c.filter)){return}if(!this.popup&&!this.pane){this._init()}else{b._reorderColumnList()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_reorderColumnList:function(){var b=this;var c;var d;var e=b._ownerColumns()||[];var f=b._isMobile&&b.view?a(b.view.element).find(".k-columns-item").children("ul"):a(b.wrapper).find(".k-menu-group").first();for(c=0;c<e.length;c++){d=f.find(y("field",e[c].originalField)).closest("li");if(d[0]&&d.index()!==c){z(c,d,f)}}},_open:function(){var b=this;a(".k-column-menu").not(b.wrapper).each(function(){a(this).data(q).close()});b.popup.element.on("keydown"+t,function(a){if(a.keyCode==c.keys.ESC){b.close()}});if(b.options.lockedColumns){b._updateLockedColumns()}},_activate:function(){this.menu.element.focus();this.trigger(o,{field:this.field,container:this.wrapper})},_ownerColumns:function(){var a=x(this.owner.columns),b=g(a,function(a){var b=true,c=v(a.title||"");if(a.menu===false||!a.field&&!c.length){b=false}return b});return h(b,function(b){return{originalField:b.field,field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:i(b,a),locked:!!b.locked,_originalObject:b}})},_sort:function(){var b=this;if(b.options.sortable){b.refresh();b.menu.bind(p,function(c){var d=a(c.item),e;if(d.hasClass("k-sort-asc")){e=k}else if(d.hasClass("k-sort-desc")){e=l}if(!e){return}d.parent().find(".k-sort-"+(e==k?l:k)).removeClass(j);b._sortDataSource(d,e);b.close()})}},_sortDataSource:function(a,c){var d=this,e=d.options.sortable,f=e.compare===null?b:e.compare,g=d.dataSource,h,i,k=g.sort()||[];var l=a.hasClass(j)&&e&&e.allowUnsort!==false;c=!l?c:b;if(d.trigger("sort",{sort:{field:d.field,dir:c,compare:f}})){return}if(l){a.removeClass(j)}else{a.addClass(j)}if(e.mode==="multiple"){for(h=0,i=k.length;h<i;h++){if(k[h].field===d.field){k.splice(h,1);break}}k.push({field:d.field,dir:c,compare:f})}else{k=[{field:d.field,dir:c,compare:f}]}g.sort(k)},_columns:function(){var b=this;if(b.options.columns){b._updateColumnsMenu();b._updateColumnsMenuHandler=e(b._updateColumnsMenu,b);
b.owner.bind(["columnHide","columnShow"],b._updateColumnsMenuHandler);b._updateColumnsLockedStateHandler=e(b._updateColumnsLockedState,b);b.owner.bind(["columnUnlock","columnLock"],b._updateColumnsLockedStateHandler);b.menu.bind(p,function(d){var e=a(d.item),f,h,i=x(b.owner.columns),j;if(b._isMobile){d.preventDefault()}if(!e.parent().closest("li.k-columns-item")[0]){return}f=e.find(":checkbox");if(f.attr("disabled")){return}j=f.attr(c.attr("field"));h=g(i,function(a){return a.field==j||!a.field&&a.title==j})[0];if(h.hidden===true){b.owner.showColumn(h)}else{b.owner.hideColumn(h)}})}},_updateColumnsMenu:function(){var a,b,d,e,f;var j=c.attr("field"),k=c.attr("locked"),l=g(this._ownerColumns(),function(a){return!a.hidden}),m=g(l,function(a){return a.originalField}),n=g(m,function(a){return a.locked===true}).length,o=g(m,function(a){return a.locked!==true}).length,p=g(this.owner.columns,function(a){return a.menu===false}).length;l=h(l,function(a){return a.field});this.wrapper.find("[role='menuitemcheckbox']").attr("aria-checked",false);var q=this.wrapper.find(".k-columns-item input["+j+"]").prop("disabled",false).prop("checked",false);for(a=0,b=q.length;a<b;a++){d=q.eq(a);f=d.attr(k)==="true";e=false;if(i(d.attr(j),l)>-1){e=true;d.prop("checked",e)}d.closest("[role='menuitemcheckbox']").attr("aria-checked",e);if(e){if(n==1&&f){d.prop("disabled",true)}if(p===0&&o==1&&!f){d.prop("disabled",true)}}}},_updateColumnsLockedState:function(){var a,b,d,e;var f=c.attr("field");var g=c.attr("locked");var h=w(this._ownerColumns(),"field");var i=this.wrapper.find(".k-columns-item input[type=checkbox]");for(a=0,b=i.length;a<b;a++){d=i.eq(a);e=h[d.attr(f)];if(e){d.attr(g,e.locked)}}this._updateColumnsMenu()},_filter:function(){var b=this,c=r,d=b.options;if(d.filterable!==false){if(d.filterable.multi){c="kendoFilterMultiCheck";if(d.filterable.dataSource){d.filterable.checkSource=d.filterable.dataSource;delete d.filterable.dataSource}}b.filterMenu=b.wrapper.find(".k-filterable")[c](f(true,{},{appendToElement:true,dataSource:d.dataSource,values:d.values,field:b.field,title:b.title,change:function(a){if(b.trigger("filtering",{filter:a.filter,field:a.field})){a.preventDefault()}}},d.filterable)).data(c);if(b._isMobile){b.menu.bind(p,function(c){var d=a(c.item);if(d.hasClass("k-filter-item")){b.pane.navigate(b.filterMenu.view,b.options.animations.left)}})}}},_lockColumns:function(){var b=this;b.menu.bind(p,function(c){var d=a(c.item);if(d.hasClass("k-lock")){b.owner.lockColumn(b.field);b.close()}else if(d.hasClass("k-unlock")){b.owner.unlockColumn(b.field);b.close()}})},_updateLockedColumns:function(){var a=this.field;var b=this.owner.columns;var c=g(b,function(b){return b.field==a||b.title==a})[0];if(!c){return}var d=c.locked===true;var e=g(b,function(a){return!a.hidden&&(a.locked&&d||!a.locked&&!d)}).length;var f=this.wrapper.find(".k-lock").removeClass("k-state-disabled");var h=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");if(d||e==1){f.addClass("k-state-disabled")}if(!d||e==1){h.addClass("k-state-disabled")}this._updateColumnsLockedState()},refresh:function(){var a=this,b=a.options.dataSource.sort()||[],c,d=a.field,e,f;a.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(j);for(e=0,f=b.length;e<f;e++){c=b[e];if(d==c.field){a.wrapper.find(".k-sort-"+c.dir).addClass(j)}}a.link[a._filterExist(a.dataSource.filter())?"addClass":"removeClass"]("k-state-active")},_filterExist:function(a){var b=false;var c;if(!a){return}a=a.filters;for(var d=0,e=a.length;d<e;d++){c=a[d];if(c.field==this.field){b=true}else if(c.filters){b=b||this._filterExist(c)}}return b}});var B='<ul id="#=uid#">'+"#if(sortable){#"+'<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li>'+'<li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>'+"#if(showColumns || filterable){#"+'<li class="k-separator" role="presentation"></li>'+"#}#"+"#}#"+"#if(showColumns){#"+'<li class="k-item k-columns-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-columns"></span>${messages.columns}</span><ul>'+"#for (var idx = 0; idx < columns.length; idx++) {#"+'<li role="menuitemcheckbox" aria-checked="false"><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>'+"#}#"+"</ul></li>"+"#if(filterable || lockedColumns){#"+'<li class="k-separator" role="presentation"></li>'+"#}#"+"#}#"+"#if(filterable){#"+'<li class="k-item k-filter-item" aria-haspopup="true"><span class="k-link"><span class="k-icon k-i-filter"></span>${messages.filter}</span><ul>'+'<li><div class="k-filterable"></div></li>'+"</ul></li>"+"#if(lockedColumns){#"+'<li class="k-separator" role="presentation"></li>'+"#}#"+"#}#"+"#if(lockedColumns){#"+'<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li>'+'<li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>'+"#}#"+"</ul>";var C='<div data-#=ns#role="view" data-#=ns#init-widgets="false" data-#=ns#use-native-scrolling="true" class="k-grid-column-menu">'+'<div data-#=ns#role="header" class="k-header">'+"${messages.settings}"+'<button class="k-button k-done">#=messages.done#</button>'+"</div>"+'<div class="k-column-menu k-mobile-list"><ul><li>'+'<span class="k-link">${title}</span><ul>'+"#if(sortable){#"+'<li class="k-item k-sort-asc"><span class="k-link"><span class="k-icon k-i-sort-asc-sm"></span>${messages.sortAscending}</span></li>'+'<li class="k-item k-sort-desc"><span class="k-link"><span class="k-icon k-i-sort-desc-sm"></span>${messages.sortDescending}</span></li>'+"#}#"+"#if(lockedColumns){#"+'<li class="k-item k-lock"><span class="k-link"><span class="k-icon k-i-lock"></span>${messages.lock}</span></li>'+'<li class="k-item k-unlock"><span class="k-link"><span class="k-icon k-i-unlock"></span>${messages.unlock}</span></li>'+"#}#"+"#if(filterable){#"+'<li class="k-item k-filter-item">'+'<span class="k-link k-filterable">'+'<span class="k-icon k-i-filter"></span>'+"${messages.filter}</span>"+"</li>"+"#}#"+"</ul></li>"+"#if(showColumns){#"+'<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>'+"#for (var idx = 0; idx < columns.length; idx++) {#"+'<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>'+"#}#"+"</ul></li>"+"#}#"+"</ul></div>"+"</div>";var D=u.extend({init:function(a,b){u.fn.init.call(this,a,b);this.element.on("click"+t,"li.k-item:not(.k-separator):not(.k-state-disabled)","_click")},events:[p],_click:function(b){if(!a(b.target).is("[type=checkbox]")){b.preventDefault()}this.trigger(p,{item:b.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){u.fn.destroy.call(this);this.element.off(t)}});d.plugin(A)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.columnsorter",["kendo.core"],a)})(function(){var a={id:"columnsorter",name:"Column Sorter",category:"framework",depends:["core"],advanced:true};(function(a,b){var c=window.kendo;var d=c.ui;var e=d.Widget;var f="dir";var g="asc";var h="single";var i="field";var j="desc";var k=".kendoColumnSorter";var l=".k-link";var m="aria-sort";var n=a.proxy;var o=e.extend({init:function(a,b){var c=this,d;e.fn.init.call(c,a,b);c._refreshHandler=n(c.refresh,c);c.dataSource=c.options.dataSource.bind("change",c._refreshHandler);c.directions=c.options.initialDirection===g?[g,j]:[j,g];d=c.element.find(l);if(!d[0]){d=c.element.wrapInner('<a class="k-link" href="#"/>').find(l)}c.link=d;c.element.on("click"+k,n(c._click,c))},options:{name:"ColumnSorter",mode:h,allowUnsort:true,compare:null,filter:"",initialDirection:g,showIndexes:false},events:["change"],destroy:function(){var a=this;e.fn.destroy.call(a);a.element.off(k);a.dataSource.unbind("change",a._refreshHandler);a._refreshHandler=a.element=a.link=a.dataSource=null},refresh:function(){var d=this,e=d.dataSource.sort()||[],h,k,l,n,o=d.element,p=o.attr(c.attr(i)),q,r;o.removeAttr(c.attr(f));o.removeAttr(m);for(h=0,k=e.length;h<k;h++){l=e[h];if(p==l.field){o.attr(c.attr(f),l.dir);r=h+1}}n=o.attr(c.attr(f));if(o.is("th")){var s=o.closest("table");if(s.parent().hasClass("k-grid-header-wrap")){s=s.closest(".k-grid").find(".k-grid-content > table")}else if(!s.parent().hasClass("k-grid")){s=null}if(s){q=o.parent().children(":visible").index(o);o.toggleClass("k-sorted",n!==b);s.children("colgroup").children().eq(q).toggleClass("k-sorted",n!==b)}}o.find(".k-i-sort-asc-sm,.k-i-sort-desc-sm,.k-sort-order").remove();if(n===g){a('<span class="k-icon k-i-sort-asc-sm" />').appendTo(d.link);o.attr(m,"ascending")}else if(n===j){a('<span class="k-icon k-i-sort-desc-sm" />').appendTo(d.link);o.attr(m,"descending")}if(d.options.showIndexes&&e.length>1&&r){a('<span class="k-sort-order" />').html(r).appendTo(d.link)}},_toggleSortDirection:function(a){var c=this.directions;if(a===c[c.length-1]&&this.options.allowUnsort){return b}return c[0]===a?c[1]:c[0]},_click:function(a){var d=this,e=d.element,g=e.attr(c.attr(i)),j=e.attr(c.attr(f)),k=d.options,l=d.options.compare===null?b:d.options.compare,m=d.dataSource.sort()||[],n,o;a.preventDefault();if(k.filter&&!e.is(k.filter)){return}j=this._toggleSortDirection(j);if(this.trigger("change",{sort:{field:g,dir:j,compare:l}})){return}if(k.mode===h){m=[{field:g,dir:j,compare:l}]}else if(k.mode==="multiple"){for(n=0,o=m.length;n<o;n++){if(m[n].field===g){m.splice(n,1);break}}m.push({field:g,dir:j,compare:l})}if(this.dataSource.options.endless){this.dataSource.options.endless=null;e.closest(".k-grid").getKendoGrid()._endlessPageSize=d.dataSource.options.pageSize;this.dataSource.pageSize(d.dataSource.options.pageSize)}this.dataSource.sort(m)}});d.plugin(o)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.editable",["kendo.datepicker","kendo.numerictextbox","kendo.validator","kendo.binder"],a)})(function(){var a={id:"editable",name:"Editable",category:"framework",depends:["datepicker","numerictextbox","validator","binder"],hidden:true};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.extend,g=c.support.browser.msie&&c.support.browser.version<9,h=c.isFunction,i=a.isPlainObject,j=a.inArray,k=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,l='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-i-warning"> </span>'+'#=message#<div class="k-callout k-callout-n"></div></div>',m="change";var n="equalSet";var o=["url","email","number","date","boolean"];function p(b){b=b!=null?b:"";return b.type||a.type(b)||"string"}function q(b){b.find(":input:not(:button, .k-combobox .k-input, ["+c.attr("role")+"=listbox], ["+c.attr("role")+"=upload], ["+c.attr("skip")+"], [type=file])").each(function(){var b=c.attr("bind"),d=this.getAttribute(b)||"",e=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",f=this.name;if(d.indexOf(e)===-1&&f){d+=(d.length?",":"")+e+f;a(this).attr(b,d)}})}function r(a){var b=(a.model.fields||a.model)[a.field],d=p(b),e=b?b.validation:{},f,g=c.attr("type"),k=c.attr("bind"),l,m={name:a.field,title:a.title};for(f in e){l=e[f];if(j(f,o)>=0){m[g]=f}else if(!h(l)){m[f]=i(l)?l.value||f:l}m[c.attr(f+"-msg")]=l.message}if(j(d,o)>=0){m[g]=d}m[k]=(d==="boolean"?"checked:":"value:")+a.field;return m}function s(a){var b,c,d,e,f,g;if(a&&a.length){g=[];for(b=0,c=a.length;b<c;b++){d=a[b];f=d.text||d.value||d;e=d.value==null?d.text||d:d.value;g[b]={text:f,value:e}}}return g}var t={number:function(b,d){var e=r(d);a('<input type="text"/>').attr(e).appendTo(b).kendoNumericTextBox({format:d.format});a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},date:function(b,d){var e=r(d),f=d.format;if(f){f=c._extractFormat(f)}e[c.attr("format")]=f;a('<input type="text"/>').attr(e).appendTo(b).kendoDatePicker({format:d.format});a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},string:function(b,c){var d=r(c);a('<input type="text" class="k-input k-textbox"/>').attr(d).appendTo(b)},boolean:function(b,c){var d=r(c);a('<input type="checkbox" />').attr(d).appendTo(b)},values:function(b,d){var e=r(d);var f=c.stringify(s(d.values));a("<select "+c.attr("text-field")+'="text"'+c.attr("value-field")+'="value"'+c.attr("source")+"='"+(f?f.replace(/\'/g,"&apos;"):f)+"'"+c.attr("role")+'="dropdownlist"/>').attr(e).appendTo(b);a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)}};function u(a,b){var c=a?a.validation||{}:{},d,e;for(d in c){e=c[d];if(i(e)&&e.value){e=e.value}if(h(e)){b[d]=e}}}var v=e.extend({init:function(b,c){var d=this;if(c.target){c.$angular=c.target.options.$angular}e.fn.init.call(d,b,c);d._validateProxy=a.proxy(d._validate,d);d.refresh()},events:[m],options:{name:"Editable",editors:t,clearContainer:true,errorTemplate:l,skipFocus:false},editor:function(a,b){var d=this,e=d.options.editors,g=i(a),h=g?a.field:a,j=d.options.model||{},l=g&&a.values,m=l?"values":p(b),n=g&&a.editor,o=n?a.editor:e[m],q=d.element.find("["+c.attr("container-for")+"="+h.replace(k,"\\$1")+"]");o=o?o:e.string;if(n&&typeof a.editor==="string"){o=function(b){b.append(a.editor)}}q=q.length?q:d.element;o(q,f(true,{},g?a:{field:h},{model:j}))},_validate:function(b){var d=this,e,f=b.value,g=d._validationEventInProgress,h={},i=c.attr("bind"),j=b.field.replace(k,"\\$1"),l=new RegExp("(value|checked)\\s*:\\s*"+j+"\\s*(,|$)");h[b.field]=b.value;e=a(":input["+i+'*="'+j+'"]',d.element).filter("["+c.attr("validate")+"!='false']").filter(function(){return l.test(a(this).attr(i))});if(e.length>1){e=e.filter(function(){var b=a(this);return!b.is(":radio")||b.val()==f})}try{d._validationEventInProgress=true;if(!d.validatable.validateInput(e)||!g&&d.trigger(m,{values:h})){b.preventDefault()}}finally{d._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var a=this;a.angular("cleanup",function(){return{elements:a.element}});e.fn.destroy.call(a);a.options.model.unbind("set",a._validateProxy);a.options.model.unbind(n,a._validateProxy);c.unbind(a.element);if(a.validatable){a.validatable.destroy()}c.destroy(a.element);a.element.removeData("kendoValidator");if(a.element.is("["+c.attr("role")+"=editable]")){a.element.removeAttr(c.attr("role"))}},refresh:function(){var d=this,e,f,h=d.options.fields||[],j=d.options.clearContainer?d.element.empty():d.element,k=d.options.model||{},l={},m,o,p,r,s;if(!a.isArray(h)){h=[h]}for(e=0,f=h.length;e<f;e++){m=h[e];o=i(m);p=o?m.field:m;r=(k.fields||k)[p];u(r,l);d.editor(m,r)}if(d.options.target){d.angular("compile",function(){return{elements:j,data:j.map(function(){return{dataItem:k}})}})}if(!f){s=k.fields||k;for(p in s){u(s[p],l)}}q(j);if(d.validatable){d.validatable.destroy()}c.bind(j,d.options.model);d.options.model.unbind("set",d._validateProxy);d.options.model.bind("set",d._validateProxy);d.options.model.unbind(n,d._validateProxy);d.options.model.bind(n,d._validateProxy);d.validatable=new c.ui.Validator(j,{validateOnBlur:false,errorTemplate:d.options.errorTemplate||b,rules:l});if(!d.options.skipFocus){var t=j.find(":kendoFocusable").eq(0).focus();if(g){t.focus()}}}});d.plugin(v)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.window",["kendo.draganddrop","kendo.popup"],a)})(function(){var a={id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop","popup"],features:[{id:"window-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=c.ui.Popup.TabKeyTrap,f=c.ui.Draggable,g=a.isPlainObject,h=c._activeElement,i=c._outerWidth,j=c._outerHeight,k=a.proxy,l=a.extend,m=a.each,n=c.template,o="body",p,q=".kendoWindow",r=".k-window",s=".k-window-title",t=s+"bar",u=".k-window-content",v=".k-dialog-content",w=".k-resize-handle",x=".k-overlay",y="k-content-frame",z="k-i-loading",A="k-state-hover",B="k-state-focused",C="k-window-maximized",D=":visible",E="hidden",F="cursor",G="open",H="activate",I="deactivate",J="close",K="refresh",L="minimize",M="maximize",N="resizeStart",O="resize",P="resizeEnd",Q="dragstart",R="dragend",S="error",T="overflow",U="original-overflow-rule",V="zIndex",W=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",X=".k-i-pin",Y=".k-i-unpin",Z=X+","+Y,$=".k-window-titlebar .k-window-action",_=".k-window-titlebar .k-i-refresh",aa="WindowEventsHandled",ba=/^0[a-z]*$/i,ca=c.isLocalUrl;function da(a){return typeof a!="undefined"}function ea(a,b,c){return Math.max(Math.min(parseInt(a,10),c===Infinity?c:parseInt(c,10)),parseInt(b,10))}function fa(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}var ga=d.extend({init:function(f,h){var i=this,j,l={},m,n,o,p=false,w,x,z,A,B=h&&h.actions&&!h.actions.length,C;d.fn.init.call(i,f,h);h=i.options;o=h.position;f=i.element;w=h.content;A=a(window);if(B){h.actions=[]}i.appendTo=a(h.appendTo);if(w&&!g(w)){w=h.content={url:w}}f.find("script").filter(fa).remove();if(!f.parent().is(i.appendTo)&&(o.top===b||o.left===b)){if(f.is(D)){l=f.offset();p=true}else{m=f.css("visibility");n=f.css("display");f.css({visibility:E,display:""});l=f.offset();f.css({visibility:m,display:n})}if(o.top===b){o.top=l.top}if(o.left===b){o.left=l.left}}if(!da(h.visible)||h.visible===null){h.visible=f.is(D)}j=i.wrapper=f.closest(r);if(!f.is(".k-content")||!j[0]){f.addClass("k-window-content k-content");i._createWindow(f,h);j=i.wrapper=f.closest(r);i._dimensions()}i._position();if(w){i.refresh(w)}if(h.visible){i.toFront()}x=j.children(u);i._tabindex(x);if(h.visible&&h.modal){i._overlay(j.is(D)).css({opacity:.5})}j.on("mouseenter"+q,$,k(i._buttonEnter,i)).on("mouseleave"+q,$,k(i._buttonLeave,i)).on("click"+q,"> "+$,k(i._windowActionHandler,i)).on("keydown"+q,k(i._keydown,i)).on("focus"+q,k(i._focus,i)).on("blur"+q,k(i._blur,i));x.on("keydown"+q,k(i._keydown,i)).on("focus"+q,k(i._focus,i)).on("blur"+q,k(i._blur,i));z=x.find("."+y)[0];if(z&&!A.data(aa)){A.on("blur"+q,function(){var b=a(document.activeElement).parent(u);if(b.length){var d=c.widgetInstance(b);d._focus()}});A.on("focus"+q,function(){a(u).not(v).each(function(b,d){c.widgetInstance(a(d))._blur()})});A.data(aa,true)}this._resizable();this._draggable();if(h.pinned&&this.wrapper.is(":visible")){i.pin()}C=f.attr("id");if(C){C=C+"_wnd_title";j.children(t).children(s).attr("id",C);x.attr({role:"dialog","aria-labelledby":C})}j.add(j.children(".k-resize-handle,"+t)).on("mousedown"+q,k(i.toFront,i));i.touchScroller=c.touchScroller(f);i._resizeHandler=k(i._onDocumentResize,i);i._marker=c.guid().substring(0,8);a(window).on("resize"+q+i._marker,i._resizeHandler);if(h.visible){i.trigger(G);i.trigger(H)}c.notify(i);if(this.options.modal){this._tabKeyTrap=new e(j);this._tabKeyTrap.trap();this._tabKeyTrap.shouldTrap=function(){return x.data("isFront")}}},_buttonEnter:function(b){a(b.currentTarget).addClass(A)},_buttonLeave:function(b){a(b.currentTarget).removeClass(A)},_focus:function(){this.wrapper.addClass(B)},_blur:function(){this.wrapper.removeClass(B)},_dimensions:function(){var a=this.wrapper;var b=this.options;var c=b.width;var d=b.height;var e=b.maxHeight;var f=["minWidth","minHeight","maxWidth","maxHeight"];this.title(b.title);for(var g=0;g<f.length;g++){var h=b[f[g]]||"";if(h!=Infinity){a.css(f[g],h)}}if(e!=Infinity){this.element.css("maxHeight",e)}if(c){if(isNaN(c)&&c.toString().indexOf("px")<0){a.width(c)}else{a.width(ea(c,b.minWidth,b.maxWidth))}}else{a.width("")}if(d){if(isNaN(d)&&d.toString().indexOf("px")<0){a.height(d)}else{a.height(ea(d,b.minHeight,b.maxHeight))}}else{a.height("")}if(!b.visible){a.hide()}},_position:function(){var a=this.wrapper,b=this.options.position;if(b.top===0){b.top=b.top.toString()}if(b.left===0){b.left=b.left.toString()}a.css({top:b.top||"",left:b.left||""})},_animationOptions:function(a){var b=this.options.animation;var c={open:{effects:{}},close:{hide:true,effects:{}}};return b&&b[a]||c[a]},_resize:function(){c.resize(this.element.children())},_resizable:function(){var b=this.options.resizable;var c=this.wrapper;if(this.resizing){c.off("dblclick"+q).children(w).remove();this.resizing.destroy();this.resizing=null}if(b){c.on("dblclick"+q,t,k(function(b){if(!a(b.target).closest(".k-window-action").length){this.toggleMaximization()}},this));m("n e s w se sw ne nw".split(" "),function(a,b){c.append(p.resizeHandle(b))});this.resizing=new ha(this)}c=null},_draggable:function(){var a=this.options.draggable;if(this.dragging){this.dragging.destroy();this.dragging=null}if(a){this.dragging=new ja(this,a.dragHandle||t)}},_actions:function(){var b=this.options;var d=b.actions;var e=b.pinned;var f=this.wrapper.children(t);var g=f.find(".k-window-actions");var h=["maximize","minimize"];d=a.map(d,function(a){a=e&&a.toLowerCase()==="pin"?"unpin":a;return{name:h.indexOf(a.toLowerCase())>-1?"window-"+a:a}});g.html(c.render(p.action,d))},setOptions:function(a){var b=JSON.parse(JSON.stringify(a));l(a.position,this.options.position);l(a.position,b.position);d.fn.setOptions.call(this,a);var c=this.options.scrollable!==false;this.restore();this._dimensions();this._position();this._resizable();this._draggable();this._actions();if(typeof a.modal!=="undefined"){var e=this.options.visible!==false;this._overlay(a.modal&&e)}this.element.css(T,c?"":"hidden")},events:[G,H,I,J,L,M,K,N,O,P,Q,R,S],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,scrollable:true,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:false,isMinimized:false},_closable:function(){return a.inArray("close",a.map(this.options.actions,function(a){return a.toLowerCase()}))>-1},_keydown:function(a){var b=this,d=b.options,e=c.keys,f=a.keyCode,g=b.wrapper,h,i,j=10,k=b.options.isMaximized,l=b.options.isMinimized,m,n,o,p;if(f==e.ESC&&b._closable()){a.stopPropagation();b._close(false)}if(a.target!=a.currentTarget||b._closing){return}if(a.altKey&&f==82){b.refresh()}if(a.altKey&&f==80){if(b.options.pinned){b.unpin()}else{b.pin()}}if(a.altKey&&f==e.UP){if(l){b.restore();b.element.focus()}else if(!k){b.maximize();b.element.focus()}}else if(a.altKey&&f==e.DOWN){if(!l&&!k){b.minimize();b.wrapper.focus()}else if(k){b.restore();b.element.focus()}}if(d.draggable&&!a.ctrlKey&&!a.altKey&&!k){h=c.getOffset(g);if(f==e.UP){i=g.css("top",h.top-j)}else if(f==e.DOWN){i=g.css("top",h.top+j)}else if(f==e.LEFT){i=g.css("left",h.left-j)}else if(f==e.RIGHT){i=g.css("left",h.left+j)}}if(d.resizable&&a.ctrlKey&&!k&&!l){if(f==e.UP){i=true;n=g.height()-j}else if(f==e.DOWN){i=true;n=g.height()+j}if(f==e.LEFT){i=true;m=g.width()-j}else if(f==e.RIGHT){i=true;m=g.width()+j}if(i){o=ea(m,d.minWidth,d.maxWidth);p=ea(n,d.minHeight,d.maxHeight);if(!isNaN(o)){g.width(o);b.options.width=o+"px"}if(!isNaN(p)){g.height(p);b.options.height=p+"px"}b.resize()}}if(i){a.preventDefault()}},_overlay:function(b){var c=this.appendTo.children(x),d=this.wrapper;if(!c.length){c=a("<div class='k-overlay' />")}c.insertBefore(d[0]).toggle(b).css(V,parseInt(d.css(V),10)-1);return c},_actionForIcon:function(a){var b=/\bk-i(-\w+)+\b/.exec(a[0].className)[0];return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[b]},_windowActionHandler:function(b){if(this._closing){return}var c=a(b.target).closest(".k-window-action").find(".k-icon");var d=this._actionForIcon(c);if(d){b.preventDefault();this[d]();return false}},_modals:function(){var b=this;var c=a(r).filter(function(){var c=a(this);var d=b._object(c);var e=d&&d.options;return e&&e.modal&&e.visible&&e.appendTo===b.options.appendTo&&c.is(D)}).sort(function(b,c){return+a(b).css("zIndex")-+a(c).css("zIndex")});b=null;return c},_object:function(a){var d=a.children(u);var e=c.widgetInstance(d);if(e){return e}return b},center:function(){var b=this,c=b.options.position,d=b.wrapper,e=a(window),f=0,g=0,h,i;if(b.options.isMaximized){return b}if(b.options.pinned&&!b._isPinned){b.pin()}if(!b.options.pinned){f=e.scrollTop();g=e.scrollLeft()}i=g+Math.max(0,(e.width()-d.width())/2);h=f+Math.max(0,(e.height()-d.height()-parseInt(d.css("paddingTop"),10))/2);d.css({left:i,top:h});c.top=h;c.left=i;return b},title:function(a){var b=this,d=b.wrapper,e=b.options,f=d.children(t),g=f.children(s),h;if(!arguments.length){return g.html()}if(a===false){d.addClass("k-window-titleless");f.remove()}else{if(!f.length){d.prepend(p.titlebar(e));b._actions();f=d.children(t)}else{g.html(c.htmlEncode(a))}h=parseInt(j(f),10);d.css("padding-top",h);f.css("margin-top",-h)}b.options.title=a;return b},content:function(a,b){var d=this.wrapper.children(u),e=d.children(".km-scroll-container");d=e[0]?e:d;if(!da(a)){return d.html()}this.angular("cleanup",function(){return{elements:d.children()}});c.destroy(this.element.children());d.empty().html(a);this.angular("compile",function(){var a=[];for(var c=d.length;--c>=0;){a.push({dataItem:b})}return{elements:d.children(),data:a}});return this},open:function(){var b=this,d=b.wrapper,e=b.options,f=this._animationOptions("open"),g=d.children(u),h,i,j=a(document);if(!b.trigger(G)){if(b._closing){d.kendoStop(true,true)}b._closing=false;b.toFront();if(e.autoFocus){b.element.focus()}e.visible=true;if(e.modal){i=!!b._modals().length;h=b._overlay(i);h.kendoStop(true,true);if(f.duration&&c.effects.Fade&&!i){var l=c.fx(h).fadeIn();l.duration(f.duration||0);l.endValue(.5);l.play()}else{h.css("opacity",.5)}h.show();a(window).on("focus",function(){if(g.data("isFront")&&!a(document.activeElement).closest(g).length){b.element.focus()}})}if(!d.is(D)){g.css(T,E);d.show().kendoStop().kendoAnimate({effects:f.effects,duration:f.duration,complete:k(this._activate,this)})}}if(e.isMaximized){b._documentScrollTop=j.scrollTop();b._documentScrollLeft=j.scrollLeft();b._stopDocumentScrolling()}if(e.pinned&&!b._isPinned){b.pin()}return b},_activate:function(){var a=this.options.scrollable!==false;if(this.options.autoFocus){this.element.focus()}this.element.css(T,a?"":"hidden");c.resize(this.element.children());this.trigger(H)},_removeOverlay:function(d){var e=this._modals();var f=this.options;var g=f.modal&&!e.length;var h=f.modal?this._overlay(true):a(b);var i=this._animationOptions("close");if(g){if(!d&&i.duration&&c.effects.Fade){var j=c.fx(h).fadeOut();j.duration(i.duration||0);j.startValue(.5);j.play()}else{this._overlay(false).remove()}}else if(e.length){this._object(e.last())._overlay(true)}},_close:function(b){var c=this,d=c.wrapper,e=c.options,f=this._animationOptions("open"),g=this._animationOptions("close"),h=a(document),i;if(c._closing){return}i=c.trigger(J,{userTriggered:!b});c._closing=!i;if(d.is(D)&&!i){e.visible=false;a(r).each(function(b,c){var e=a(c).children(u);if(c!=d&&e.find("> ."+y).length>0){e.children(x).remove()}});this._removeOverlay();d.kendoStop().kendoAnimate({effects:g.effects||f.effects,reverse:g.reverse===true,duration:g.duration,complete:k(this._deactivate,this)})}if(c.options.isMaximized){c._enableDocumentScrolling();if(c._documentScrollTop&&c._documentScrollTop>0){h.scrollTop(c._documentScrollTop)}if(c._documentScrollLeft&&c._documentScrollLeft>0){h.scrollLeft(c._documentScrollLeft)}}},_deactivate:function(){var a=this;a.wrapper.hide().css("opacity","");a.trigger(I);if(a.options.modal){var b=a._object(a._modals().last());if(b){b.toFront()}}},close:function(){this._close(true);return this},_actionable:function(b){return a(b).is($+","+$+" .k-icon,:input,a")},_shouldFocus:function(b){var c=h(),d=this.element;return this.options.autoFocus&&!a(c).is(d)&&!this._actionable(b)&&(!d.find(c).length||!d.find(b).length)},toFront:function(b){var c=this,d=c.wrapper,e=d[0],f=+d.css(V),g=f,h=b&&b.target||null;a(r).each(function(b,c){var d=a(c),g=d.css(V),h=d.children(u);if(!isNaN(g)){f=Math.max(+g,f)}h.data("isFront",c==e);if(c!=e&&h.find("> ."+y).length>0){h.append(p.overlay)}});if(!d[0].style.zIndex||g<f){d.css(V,f+2)}c.element.find("> .k-overlay").remove();if(c._shouldFocus(h)){if(c.isMinimized()){c.wrapper.focus()}else if(a(h).is(x)){setTimeout(function(){c.element.focus()})}else{c.element.focus()}var i=a(window).scrollTop(),j=parseInt(d.position().top,10);if(!c.options.pinned&&j>0&&j<i){if(i>0){a(window).scrollTop(j)}else{d.css("top",i)}}}d=null;return c},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var b=this;var c=b.options;var d=c.minHeight;var e=b.restoreOptions;var f=a(document);if(!c.isMaximized&&!c.isMinimized){return b}if(d&&d!=Infinity){b.wrapper.css("min-height",d)}b.wrapper.css({position:c.pinned?"fixed":"absolute",left:e.left,top:e.top,width:e.width,height:e.height}).removeClass(C).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(W).parent().show().end().end().find(Z).parent().show();if(c.isMaximized){b.wrapper.find(".k-i-window-maximize").parent().focus()}else if(c.isMinimized){b.wrapper.find(".k-i-window-minimize").parent().focus()}b.options.width=e.width;b.options.height=e.height;b._enableDocumentScrolling();if(this._documentScrollTop&&this._documentScrollTop>0){f.scrollTop(this._documentScrollTop)}if(this._documentScrollLeft&&this._documentScrollLeft>0){f.scrollLeft(this._documentScrollLeft)}c.isMaximized=c.isMinimized=false;this.wrapper.removeAttr("tabindex");this.wrapper.removeAttr("aria-labelled-by");b.resize();return b},_sizingAction:function(a,b){var c=this,d=c.wrapper,e=d[0].style,f=c.options;if(f.isMaximized||f.isMinimized){return c}c.restoreOptions={width:e.width,height:e.height};d.children(w).hide().end().children(t).find(W).parent().hide().eq(0).before(p.action({name:"window-restore"}));b.call(c);c.wrapper.children(t).find(Z).parent().toggle(a!=="maximize");c.trigger(a);d.find(".k-i-window-restore").parent().focus();return c},maximize:function(){this._sizingAction("maximize",function(){var b=this,c=b.wrapper,d=c.position(),e=a(document);l(b.restoreOptions,{left:d.left,top:d.top});c.css({left:0,top:0,position:"fixed"}).addClass(C);this._documentScrollTop=e.scrollTop();this._documentScrollLeft=e.scrollLeft();b._stopDocumentScrolling();b.options.isMaximized=true;b._onDocumentResize()});return this},_stopDocumentScrolling:function(){var b=this;var c=a("body");b._storeOverflowRule(c);c.css(T,E);var d=a("html");b._storeOverflowRule(d);d.css(T,E)},_enableDocumentScrolling:function(){var b=this;b._restoreOverflowRule(a(document.body));b._restoreOverflowRule(a("html"))},_storeOverflowRule:function(a){if(this._isOverflowStored(a)){return}var b=a.get(0).style.overflow;if(typeof b==="string"){a.data(U,b)}},_isOverflowStored:function(a){return typeof a.data(U)==="string"},_restoreOverflowRule:function(a){var c=a.data(U);if(c!==null&&c!==b){a.css(T,c);a.removeData(U)}else{a.css(T,"")}},isMaximized:function(){return this.options.isMaximized},minimize:function(){this._sizingAction("minimize",function(){var a=this;a.wrapper.css({height:"",minHeight:""});
a.element.hide();a.options.isMinimized=true});this.wrapper.attr("tabindex",0);this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by"));return this},isMinimized:function(){return this.options.isMinimized},pin:function(){var b=this,c=a(window),d=b.wrapper,e=parseInt(d.css("top"),10),f=parseInt(d.css("left"),10);if(!b.options.isMaximized){d.css({position:"fixed",top:e-c.scrollTop(),left:f-c.scrollLeft()});d.children(t).find(X).addClass("k-i-unpin").removeClass("k-i-pin");b._isPinned=true;b.options.pinned=true}},unpin:function(){var b=this,c=a(window),d=b.wrapper,e=parseInt(d.css("top"),10),f=parseInt(d.css("left"),10);if(!b.options.isMaximized){d.css({position:"",top:e+c.scrollTop(),left:f+c.scrollLeft()});d.children(t).find(Y).addClass("k-i-pin").removeClass("k-i-unpin");b._isPinned=false;b.options.pinned=false}},_onDocumentResize:function(){var b=this,d=b.wrapper,e=a(window),f=c.support.zoomLevel(),g,h;if(!b.options.isMaximized){return}var i=parseInt(d.css("border-left-width"),10)+parseInt(d.css("border-right-width"),10);var j=parseInt(d.css("border-top-width"),10)+parseInt(d.css("border-bottom-width"),10);g=e.width()/f-i;h=e.height()/f-parseInt(d.css("padding-top"),10)-j;d.css({width:g,height:h});b.options.width=g;b.options.height=h;b.resize()},refresh:function(b){var c=this,d=c.options,e=a(c.element),f,h,i;if(!g(b)){b={url:b}}b=l({},d.content,b);h=da(d.iframe)?d.iframe:b.iframe;i=b.url;if(i){if(!da(h)){h=!ca(i)}if(!h){c._ajaxRequest(b)}else{f=e.find("."+y)[0];if(f){f.src=i||f.src}else{e.html(p.contentFrame(l({},d,{content:b})))}e.find("."+y).unbind("load"+q).on("load"+q,k(this._triggerRefresh,this))}}else{if(b.template){c.content(n(b.template)({}))}c.trigger(K)}e.toggleClass("k-window-iframecontent",!!h);return c},_triggerRefresh:function(){this.trigger(K)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout);this.wrapper.find(_).removeClass(z)},_ajaxError:function(a,b){this.trigger(S,{status:b,xhr:a})},_ajaxSuccess:function(a){return function(b){var c=b;if(a){c=n(a)(b||{})}this.content(c,b);this.element.prop("scrollTop",0);this.trigger(K)}},_showLoading:function(){this.wrapper.find(_).addClass(z)},_ajaxRequest:function(b){this._loadingIconTimeout=setTimeout(k(this._showLoading,this),100);a.ajax(l({type:"GET",dataType:"html",cache:false,error:k(this._ajaxError,this),complete:k(this._ajaxComplete,this),success:k(this._ajaxSuccess(b.template),this)},b))},_destroy:function(){if(this.resizing){this.resizing.destroy()}if(this.dragging){this.dragging.destroy()}this.wrapper.off(q).children(u).off(q).end().find(".k-resize-handle,.k-window-titlebar").off(q);a(window).off("resize"+q+this._marker);a(window).off(q);clearTimeout(this._loadingIconTimeout);d.fn.destroy.call(this);this.unbind(b);c.destroy(this.wrapper);this._removeOverlay(true)},destroy:function(){this._destroy();this.wrapper.empty().remove();this.wrapper=this.appendTo=this.element=a()},_createWindow:function(){var b=this.element,d=this.options,e,f,g=c.support.isRtl(b);if(d.scrollable===false){b.css("overflow","hidden")}f=a(p.wrapper(d));e=b.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");this.src="";return a});f.toggleClass("k-rtl",g).appendTo(this.appendTo).append(b).find("iframe:not(.k-content)").each(function(a){this.src=e[a]});f.find(".k-window-title").css(g?"left":"right",i(f.find(".k-window-actions"))+10);b.css("visibility","").show();b.find("[data-role=editor]").each(function(){var b=a(this).data("kendoEditor");if(b){b.refresh()}});f=b=null}});p={wrapper:n("<div class='k-widget k-window' />"),action:n("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'>"+"<span class='k-icon k-i-#= name.toLowerCase() #'></span>"+"</a>"),titlebar:n("<div class='k-window-titlebar k-header'>"+"<span class='k-window-title'>#: title #</span>"+"<div class='k-window-actions' />"+"</div>"),overlay:"<div class='k-overlay' />",contentFrame:n("<iframe frameborder='0' title='#= title #' class='"+y+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:n("<div class='k-resize-handle k-resize-#= data #'></div>")};function ha(a){var b=this;b.owner=a;b._preventDragging=false;b._draggable=new f(a.wrapper,{filter:">"+w,group:a.wrapper.id+"-resizing",dragstart:k(b.dragstart,b),drag:k(b.drag,b),dragend:k(b.dragend,b)});b._draggable.userEvents.bind("press",k(b.addOverlay,b));b._draggable.userEvents.bind("release",k(b.removeOverlay,b))}function ia(b){var c={top:b.offsetTop,left:b.offsetLeft},d=b.offsetParent;while(d){c.top+=d.offsetTop;c.left+=d.offsetLeft;var e=a(d).css("overflowX");var f=a(d).css("overflowY");if(f==="auto"||f==="scroll"){c.top-=d.scrollTop}if(e==="auto"||e==="scroll"){c.left-=d.scrollLeft}d=d.offsetParent}return c}ha.prototype={addOverlay:function(){this.owner.wrapper.append(p.overlay)},removeOverlay:function(){this.owner.wrapper.find(x).remove()},dragstart:function(b){var d=this;var e=d.owner;var f=e.wrapper;d._preventDragging=e.trigger(N);if(d._preventDragging){return}d.elementPadding=parseInt(f.css("padding-top"),10);d.initialPosition=c.getOffset(f,"position");d.resizeDirection=b.currentTarget.prop("className").replace("k-resize-handle k-resize-","");d.initialSize={width:f.width(),height:f.height()};d.containerOffset=c.getOffset(e.appendTo,"position");var g=f.offsetParent();if(g.is("html")){d.containerOffset.top=d.containerOffset.left=0}else{var h=g.css("margin-top");var i=g.css("margin-left");var j=!ba.test(h)||!ba.test(i);if(j){var k=ia(f[0]);var l=k.left-d.containerOffset.left-d.initialPosition.left;var m=k.top-d.containerOffset.top-d.initialPosition.top;d._relativeElMarginLeft=l>1?l:0;d._relativeElMarginTop=m>1?m:0;d.initialPosition.left+=d._relativeElMarginLeft;d.initialPosition.top+=d._relativeElMarginTop}}f.children(w).not(b.currentTarget).hide();a(o).css(F,b.currentTarget.css(F))},drag:function(b){if(this._preventDragging){return}var c=this,d=c.owner,e=d.wrapper,f=d.options,g=c.resizeDirection,h=c.containerOffset,i=c.initialPosition,j=c.initialSize,k,l,m,n,o=Math.max(b.x.location,0),p=Math.max(b.y.location,0);if(g.indexOf("e")>=0){k=o-i.left-h.left;e.width(ea(k,f.minWidth,f.maxWidth))}else if(g.indexOf("w")>=0){n=i.left+j.width+h.left;k=ea(n-o,f.minWidth,f.maxWidth);e.css({left:n-k-h.left-(c._relativeElMarginLeft||0),width:k})}var q=p;if(d.options.pinned){q-=a(window).scrollTop()}if(g.indexOf("s")>=0){l=q-i.top-c.elementPadding-h.top;e.height(ea(l,f.minHeight,f.maxHeight))}else if(g.indexOf("n")>=0){m=i.top+j.height+h.top;l=ea(m-q,f.minHeight,f.maxHeight);e.css({top:m-l-h.top-(c._relativeElMarginTop||0),height:l})}if(k){d.options.width=k+"px"}if(l){d.options.height=l+"px"}d.resize()},dragend:function(b){if(this._preventDragging){return}var c=this,d=c.owner,e=d.wrapper;e.children(w).not(b.currentTarget).show();a(o).css(F,"");if(d.touchScroller){d.touchScroller.reset()}if(b.keyCode==27){e.css(c.initialPosition).css(c.initialSize)}d.trigger(P);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};function ja(a,b){var c=this;c.owner=a;c._preventDragging=false;c._draggable=new f(a.wrapper,{filter:b,group:a.wrapper.id+"-moving",dragstart:k(c.dragstart,c),drag:k(c.drag,c),dragend:k(c.dragend,c),dragcancel:k(c.dragcancel,c)});c._draggable.userEvents.stopPropagation=false}ja.prototype={dragstart:function(b){var d=this.owner,e=d.element,f=e.find(".k-window-actions"),g=c.getOffset(d.appendTo);this._preventDragging=d.trigger(Q)||!d.options.draggable;if(this._preventDragging){return}d.initialWindowPosition=c.getOffset(d.wrapper,"position");d.initialPointerPosition={left:b.x.client,top:b.y.client};d.startPosition={left:b.x.client-d.initialWindowPosition.left,top:b.y.client-d.initialWindowPosition.top};if(f.length>0){d.minLeftPosition=i(f)+parseInt(f.css("right"),10)-i(e)}else{d.minLeftPosition=20-i(e)}d.minLeftPosition-=g.left;d.minTopPosition=-g.top;d.wrapper.append(p.overlay).children(w).hide();a(o).css(F,b.currentTarget.css(F))},drag:function(b){if(this._preventDragging){return}var d=this.owner;var e=d.options.position;e.top=Math.max(b.y.client-d.startPosition.top,d.minTopPosition);e.left=Math.max(b.x.client-d.startPosition.left,d.minLeftPosition);if(c.support.transforms){a(d.wrapper).css("transform","translate("+(b.x.client-d.initialPointerPosition.left)+"px, "+(b.y.client-d.initialPointerPosition.top)+"px)")}else{a(d.wrapper).css(e)}},_finishDrag:function(){var b=this.owner;b.wrapper.children(w).toggle(!b.options.isMinimized).end().find(x).remove();a(o).css(F,"")},dragcancel:function(a){if(this._preventDragging){return}this._finishDrag();a.currentTarget.closest(r).css(this.owner.initialWindowPosition)},dragend:function(){if(this._preventDragging){return}a(this.owner.wrapper).css(this.owner.options.position).css("transform","");this._finishDrag();this.owner.trigger(R);return false},destroy:function(){if(this._draggable){this._draggable.destroy()}this._draggable=this.owner=null}};c.ui.plugin(ga)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.view",["kendo.core","kendo.fx","kendo.mobile.scroller","kendo.view"],a)})(function(){var a={id:"mobile.view",name:"View",category:"mobile",description:"Mobile View",depends:["core","fx","mobile.scroller","view"],hidden:true};(function(a,b){var c=window.kendo,d=c.mobile,e=d.ui,f=c.attr,g=e.Widget,h=c.ViewClone,i="init",j='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',k="beforeShow",l="show",m="afterShow",n="beforeHide",o="transitionEnd",p="transitionStart",q="hide",r="destroy",s=c.attrValue,t=c.roleSelector,u=c.directiveSelector,v=c.compileMobileDirective;function w(a){var b=a.find(t("popover")),d,f,g=e.roles;for(d=0,f=b.length;d<f;d++){c.initWidget(b[d],{},g)}}function x(a){if(!c.triggeredByInput(a)){a.preventDefault()}}var y=g.extend({init:function(b,c){g.fn.init.call(this,b,c);this.params={};a.extend(this,c);this.transition=this.transition||this.defaultTransition;this._id();if(!this.options.$angular){this._layout();this._overlay();this._scroller();this._model()}else{this._overlay()}},events:[i,k,l,m,n,q,r,p,o],options:{name:"View",title:"",layout:null,getLayout:a.noop,reload:false,transition:"",defaultTransition:"",useNativeScrolling:false,stretch:false,zoom:false,model:null,modelScope:window,scroller:{},initWidgets:true},enable:function(a){if(typeof a=="undefined"){a=true}if(a){this.overlay.hide()}else{this.overlay.show()}},destroy:function(){if(this.layout){this.layout.detach(this)}this.trigger(r);g.fn.destroy.call(this);if(this.scroller){this.scroller.destroy()}if(this.options.$angular){this.element.scope().$destroy()}c.destroy(this.element)},purge:function(){this.destroy();this.element.remove()},triggerBeforeShow:function(){if(this.trigger(k,{view:this})){return false}return true},triggerBeforeHide:function(){if(this.trigger(n,{view:this})){return false}return true},showStart:function(){var a=this.element;a.css("display","");if(!this.inited){this.inited=true;this.trigger(i,{view:this})}else{this._invokeNgController()}if(this.layout){this.layout.attach(this)}this._padIfNativeScrolling();this.trigger(l,{view:this});c.resize(a)},showEnd:function(){this.trigger(m,{view:this});this._padIfNativeScrolling()},hideEnd:function(){var a=this;a.element.hide();a.trigger(q,{view:a});if(a.layout){a.layout.trigger(q,{view:a,layout:a.layout})}},beforeTransition:function(a){this.trigger(p,{type:a})},afterTransition:function(a){this.trigger(o,{type:a})},_padIfNativeScrolling:function(){if(d.appLevelNativeScrolling()){var a=c.support.mobileOS&&c.support.mobileOS.android,b=d.application.skin()||"",e=d.application.os.android||b.indexOf("android")>-1,f=b==="flat"||b.indexOf("material")>-1,g=(a||e)&&!f?"footer":"header",h=(a||e)&&!f?"header":"footer";this.content.css({paddingTop:this[g].height(),paddingBottom:this[h].height()})}},contentElement:function(){var a=this;return a.options.stretch?a.content:a.scrollerContent},clone:function(){return new h(this)},_scroller:function(){var b=this;if(d.appLevelNativeScrolling()){return}if(b.options.stretch){b.content.addClass("km-stretched-view")}else{b.content.kendoMobileScroller(a.extend(b.options.scroller,{zoom:b.options.zoom,useNative:b.options.useNativeScrolling}));b.scroller=b.content.data("kendoMobileScroller");b.scrollerContent=b.scroller.scrollElement}if(c.support.kineticScrollNeeded){a(b.element).on("touchmove",".km-header",x);if(!b.options.useNativeScrolling&&!b.options.stretch){a(b.element).on("touchmove",".km-content",x)}}},_model:function(){var a=this,b=a.element,f=a.options.model;if(typeof f==="string"){f=c.getter(f)(a.options.modelScope)}a.model=f;w(b);a.element.css("display","");if(a.options.initWidgets){if(f){c.bind(b,f,e,c.ui,c.dataviz.ui)}else{d.init(b.children())}}a.element.css("display","none")},_id:function(){var a=this.element,b=a.attr("id")||"";this.id=s(a,"url")||"#"+b;if(this.id=="#"){this.id=c.guid();a.attr("id",this.id)}},_layout:function(){var a=t("content"),b=this.element;b.addClass("km-view");this.header=b.children(t("header")).addClass("km-header");this.footer=b.children(t("footer")).addClass("km-footer");if(!b.children(a)[0]){b.wrapInner("<div "+f("role")+'="content"></div>')}this.content=b.children(t("content")).addClass("km-content");this.element.prepend(this.header).append(this.footer);this.layout=this.options.getLayout(this.layout);if(this.layout){this.layout.setup(this)}},_overlay:function(){this.overlay=a(j).appendTo(this.element)},_invokeNgController:function(){var b,c;if(this.options.$angular){b=this.element.controller();c=this.options.$angular[0];if(b){var d=a.proxy(this,"_callController",b,c);if(/^\$(digest|apply)$/.test(c.$$phase)){d()}else{c.$apply(d)}}}},_callController:function(a,b){this.element.injector().invoke(a.constructor,a,{$scope:b})}});function z(b){b.each(function(){c.initWidget(a(this),{},e.roles)})}var A=g.extend({init:function(a,b){g.fn.init.call(this,a,b);a=this.element;this.header=a.children(this._locate("header")).addClass("km-header");this.footer=a.children(this._locate("footer")).addClass("km-footer");this.elements=this.header.add(this.footer);w(a);if(!this.options.$angular){c.mobile.init(this.element.children())}this.element.detach();this.trigger(i,{layout:this})},_locate:function(a){return this.options.$angular?u(a):t(a)},options:{name:"Layout",id:null,platform:null},events:[i,l,q],setup:function(a){if(!a.header[0]){a.header=this.header}if(!a.footer[0]){a.footer=this.footer}},detach:function(a){var b=this;if(a.header===b.header&&b.header[0]){a.element.prepend(b.header.detach()[0].cloneNode(true))}if(a.footer===b.footer&&b.footer.length){a.element.append(b.footer.detach()[0].cloneNode(true))}},attach:function(a){var b=this,c=b.currentView;if(c){b.detach(c)}if(a.header===b.header){b.header.detach();a.element.children(t("header")).remove();a.element.prepend(b.header)}if(a.footer===b.footer){b.footer.detach();a.element.children(t("footer")).remove();a.element.append(b.footer)}b.trigger(l,{layout:b,view:a});b.currentView=a}});var B=c.Observable,C=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,D="loadStart",E="loadComplete",F="showStart",G="sameViewRequested",H="viewShow",I="viewTypeDetermined",J="after";var K=B.extend({init:function(b){var d=this,e,f,g,h;B.fn.init.call(d);a.extend(d,b);d.sandbox=a("<div />");g=d.container;e=d._hideViews(g);d.rootView=e.first();if(!d.rootView[0]&&b.rootNeeded){if(g[0]==c.mobile.application.element[0]){f='Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.'}else{f='Your pane element does not contain any direct child elements with data-role="view" attribute set.'}throw new Error(f)}d.layouts={};d.viewContainer=new c.ViewContainer(d.container);d.viewContainer.bind("accepted",function(a){a.view.params=d.params});d.viewContainer.bind("complete",function(a){d.trigger(H,{view:a.view})});d.viewContainer.bind(J,function(){d.trigger(J)});this.getLayoutProxy=a.proxy(this,"_getLayout");d._setupLayouts(g);h=g.children(d._locate("modalview drawer"));if(d.$angular){d.$angular[0].viewOptions={defaultTransition:d.transition,loader:d.loader,container:d.container,getLayout:d.getLayoutProxy};h.each(function(c,d){v(a(d),b.$angular[0])})}else{z(h)}this.bind(this.events,b)},events:[F,J,H,D,E,G,I],destroy:function(){c.destroy(this.container);for(var a in this.layouts){this.layouts[a].destroy()}},view:function(){return this.viewContainer.view},showView:function(a,b,d){a=a.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(a===""&&this.remoteViewURLPrefix){a="/"}if(a.replace(/^#/,"")===this.url){this.trigger(G);return false}this.trigger(F);var e=this,f=function(c){return e.viewContainer.show(c,b,a)},g=e._findViewElement(a),h=c.widgetInstance(g);e.url=a.replace(/^#/,"");e.params=d;if(h&&h.reload){h.purge();g=[]}this.trigger(I,{remote:g.length===0,url:a});if(g[0]){if(!h){h=e._createView(g)}return f(h)}else{if(this.serverNavigation){location.href=a}else{e._loadView(a,f)}return true}},append:function(a,b){var c=this.sandbox,d=(b||"").split("?")[0],e=this.container,g,h,i;if(C.test(a)){a=RegExp.$1}c[0].innerHTML=a;e.append(c.children("script, style"));g=this._hideViews(c);i=g.first();if(!i.length){g=i=c.wrapInner("<div data-role=view />").children()}if(d){i.hide().attr(f("url"),d)}this._setupLayouts(c);h=c.children(this._locate("modalview drawer"));e.append(c.children(this._locate("layout modalview drawer")).add(g));z(h);return this._createView(i)},_locate:function(a){return this.$angular?u(a):t(a)},_findViewElement:function(a){var b,c=a.split("?")[0];if(!c){return this.rootView}b=this.container.children("["+f("url")+"='"+c+"']");if(!b[0]&&c.indexOf("/")===-1){b=this.container.children(c.charAt(0)==="#"?c:"#"+c)}return b},_createView:function(a){if(this.$angular){return v(a,this.$angular[0])}else{return c.initWidget(a,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:s(a,"reload")},e.roles)}},_getLayout:function(a){if(a===""){return null}return a?this.layouts[a]:this.layouts[this.layout]},_loadView:function(b,d){if(this._xhr){this._xhr.abort()}this.trigger(D);this._xhr=a.get(c.absoluteURL(b,this.remoteViewURLPrefix),"html").always(a.proxy(this,"_xhrComplete",d,b))},_xhrComplete:function(a,b,c){var d=true;if(typeof c==="object"){if(c.status===0){if(c.responseText&&c.responseText.length>0){d=true;c=c.responseText}else{return}}}this.trigger(E);if(d){a(this.append(c,b))}},_hideViews:function(a){return a.children(this._locate("view splitview")).hide()},_setupLayouts:function(b){var f=this,g;b.children(f._locate("layout")).each(function(){if(f.$angular){g=v(a(this),f.$angular[0])}else{g=c.initWidget(a(this),{},e.roles)}var b=g.options.platform;if(!b||b===d.application.os.name){f.layouts[g.options.id]=g}else{g.destroy()}})}});c.mobile.ViewEngine=K;e.plugin(y);e.plugin(A)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.loader",["kendo.core"],a)})(function(){var a={id:"mobile.loader",name:"Loader",category:"mobile",description:"Mobile Loader",depends:["core"],hidden:true};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=d.Widget,f=a.map(c.eventMap,function(a){return a}).join(" ").split(" ");var g=e.extend({init:function(b,c){var d=this,f=a('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');e.fn.init.call(d,f,c);d.container=b;d.captureEvents=false;d._attachCapture();f.append(d.options.loading).hide().appendTo(b)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var a=this;clearTimeout(a._loading);if(a.options.loading===false){return}a.captureEvents=true;a._loading=setTimeout(function(){a.element.show()},a.options.timeout)},hide:function(){this.captureEvents=false;clearTimeout(this._loading);this.element.hide()},changeMessage:function(a){this.options.loading=a;this.element.find(">h1").html(a)},transition:function(){this.captureEvents=true;this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=false;this.container.css("pointer-events","")},_attachCapture:function(){var a=this;a.captureEvents=false;function b(b){if(a.captureEvents){b.preventDefault()}}for(var c=0;c<f.length;c++){a.container[0].addEventListener(f[c],b,true)}}});d.plugin(g)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.pane",["kendo.mobile.view","kendo.mobile.loader"],a)})(function(){var a={id:"mobile.pane",name:"Pane",category:"mobile",description:"Mobile Pane",depends:["mobile.view","mobile.loader"],hidden:true};(function(a,b){var c=window.kendo,d=c.mobile,e=c.roleSelector,f=d.ui,g=f.Widget,h=d.ViewEngine,i=f.View,j=d.ui.Loader,k="external",l="href",m="#!",n="navigate",o="viewShow",p="sameViewRequested",q=c.support.mobileOS,r=q.ios&&!q.appMode&&q.flatVersion>=700,s=/popover|actionsheet|modalview|drawer/,t="#:back",u=c.attrValue;var v=g.extend({init:function(a,b){var d=this;g.fn.init.call(d,a,b);b=d.options;a=d.element;a.addClass("km-pane");if(d.options.collapsible){a.addClass("km-collapsible-pane")}this.history=[];this.historyCallback=function(a,b,c){var e=d.transition;d.transition=null;if(r&&c){e="none"}return d.viewEngine.showView(a,e,b)};this._historyNavigate=function(a){if(a===t){if(d.history.length===1){return}d.history.pop();a=d.history[d.history.length-1]}else{d.history.push(a)}d.historyCallback(a,c.parseQueryStringParams(a))};this._historyReplace=function(a){var b=c.parseQueryStringParams(a);d.history[d.history.length-1]=a;d.historyCallback(a,b)};d.loader=new j(a,{loading:d.options.loading});d.viewEngine=new h({container:a,transition:b.transition,modelScope:b.modelScope,rootNeeded:!b.initial,serverNavigation:b.serverNavigation,remoteViewURLPrefix:b.root||"",layout:b.layout,$angular:b.$angular,loader:d.loader,showStart:function(){d.loader.transition();d.closeActiveDialogs()},after:function(){d.loader.transitionDone()},viewShow:function(a){d.trigger(o,a)},loadStart:function(){d.loader.show()},loadComplete:function(){d.loader.hide()},sameViewRequested:function(){d.trigger(p)},viewTypeDetermined:function(a){if(!a.remote||!d.options.serverNavigation){d.trigger(n,{url:a.url})}}});this._setPortraitWidth();c.onResize(function(){d._setPortraitWidth()});d._setupAppLinks()},closeActiveDialogs:function(){var b=this.element.find(e("actionsheet popover modalview")).filter(":visible");b.each(function(){c.widgetInstance(a(this),f).close()})},navigateToInitial:function(){var a=this.options.initial;if(a){this.navigate(a)}return a},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:false,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[n,o,p],append:function(a){return this.viewEngine.append(a)},destroy:function(){g.fn.destroy.call(this);this.viewEngine.destroy();this.userEvents.destroy()},navigate:function(a,b){if(a instanceof i){a=a.id}this.transition=b;this._historyNavigate(a)},replace:function(a,b){if(a instanceof i){a=a.id}this.transition=b;this._historyReplace(a)},bindToRouter:function(a){var b=this,d=this.history,e=this.viewEngine;a.bind("init",function(b){var f=b.url,g=a.pushState?f:"/";e.rootView.attr(c.attr("url"),g);var h=d.length;if(f==="/"&&h){a.navigate(d[h-1],true);b.preventDefault()}});a.bind("routeMissing",function(a){if(!b.historyCallback(a.url,a.params,a.backButtonPressed)){a.preventDefault()}});a.bind("same",function(){b.trigger(p)});b._historyNavigate=function(b){a.navigate(b)};b._historyReplace=function(b){a.replace(b)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(a){this.loader.changeMessage(a)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var a,b=this.options.portraitWidth;if(b){a=c.mobile.application.element.is(".km-vertical")?b:"auto";this.element.css("width",a)}},_setupAppLinks:function(){var b=this,d="tab",f="[data-"+c.ns+"navigate-on-press]",g=a.map(["button","backbutton","detailbutton","listview-link"],function(a){return e(a)+":not("+f+")"}).join(",");this.element.handler(this).on("down",e(d)+","+f,"_mouseup").on("click",e(d)+","+g+","+f,"_appLinkClick");this.userEvents=new c.UserEvents(this.element,{fastTap:true,filter:g,tap:function(a){a.event.currentTarget=a.touch.currentTarget;b._mouseup(a.event)}});this.element.css("-ms-touch-action","")},_appLinkClick:function(b){var c=a(b.currentTarget).attr("href");var d=c&&c[0]!=="#"&&this.options.serverNavigation;if(!d&&u(a(b.currentTarget),"rel")!=k){b.preventDefault()}},_mouseup:function(b){if(b.which>1||b.isDefaultPrevented()){return}var e=this,g=a(b.currentTarget),h=u(g,"transition"),i=u(g,"rel")||"",j=u(g,"target"),n=g.attr(l),o=r&&g[0].offsetHeight===0,p=n&&n[0]!=="#"&&this.options.serverNavigation;if(o||p||i===k||typeof n==="undefined"||n===m){return}g.attr(l,m);setTimeout(function(){g.attr(l,n)});if(i.match(s)){c.widgetInstance(a(n),f).openFor(g);if(i==="actionsheet"||i==="drawer"){b.stopPropagation()}}else{if(j==="_top"){e=d.application.pane}else if(j){e=a("#"+j).data("kendoMobilePane")}e.navigate(n,h)}b.preventDefault()}});v.wrap=function(a){if(!a.is(e("view"))){a=a.wrap("<div data-"+c.ns+'role="view" data-stretch="true"></div>').parent()}var b=a.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),d=new v(b);d.navigate("");return d};f.plugin(v)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.popover",["kendo.popup","kendo.mobile.pane"],a)})(function(){var a={id:"mobile.popover",name:"PopOver",category:"mobile",description:"The mobile PopOver widget represents a transient view which is displayed when the user taps on a navigational widget or area on the screen. ",depends:["popup","mobile.pane"]};(function(a,b){var c=window.kendo,d=c.mobile,e=d.ui,f="hide",g="open",h="close",i='<div class="km-popup-wrapper" />',j='<div class="km-popup-arrow" />',k='<div class="km-popup-overlay" />',l="km-up km-down km-left km-right",m=e.Widget,n={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},o={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},p={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},q={up:"down",down:"up",left:"right",right:"left"};var r=m.extend({init:function(b,d){var e=this,g=b.closest(".km-modalview-wrapper"),h=b.closest(".km-root").children(".km-pane").first(),l=g[0]?g:h,q,r;if(d.viewport){h=d.viewport}else if(!h[0]){h=window}if(d.container){l=d.container}else if(!l[0]){l=document.body}q={viewport:h,copyAnchorStyles:false,autosize:true,open:function(){e.overlay.show()},activate:a.proxy(e._activate,e),deactivate:function(){e.overlay.hide();if(!e._apiCall){e.trigger(f)}e._apiCall=false}};m.fn.init.call(e,b,d);b=e.element;d=e.options;b.wrap(i).addClass("km-popup").show();r=e.options.direction.match(/left|right/)?"horizontal":"vertical";e.dimensions=p[r];e.wrapper=b.parent().css({width:d.width,height:d.height}).addClass("km-popup-wrapper km-"+d.direction).hide();e.arrow=a(j).prependTo(e.wrapper).hide();e.overlay=a(k).appendTo(l).hide();q.appendTo=e.overlay;if(d.className){e.overlay.addClass(d.className)}e.popup=new c.ui.Popup(e.wrapper,a.extend(true,q,o,n[d.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[f],show:function(b){this.popup.options.anchor=a(b);this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){m.fn.destroy.call(this);this.popup.destroy();this.overlay.remove()},target:function(){return this.popup.options.anchor},_activate:function(){var b=this,c=b.options.direction,d=b.dimensions,e=d.offset,f=b.popup,g=f.options.anchor,h=a(g).offset(),i=a(f.element).offset(),j=f.flipped?q[c]:c,k=b.arrow[d.size]()*2,m=b.element[d.size]()-b.arrow[d.size](),n=a(g)[d.size](),o=h[e]-i[e]+n/2;if(o<k){o=k}if(o>m){o=m}b.wrapper.removeClass(l).addClass("km-"+j);b.arrow.css(e,o).show()}});var s=m.extend({init:function(b,d){var f=this,g;f.initialOpen=false;m.fn.init.call(f,b,d);g=a.extend({className:"km-popover-root",hide:function(){f.trigger(h)}},this.options.popup);f.popup=new r(f.element,g);f.popup.overlay.on("move",function(a){if(a.target==f.popup.overlay[0]){a.preventDefault()}});f.pane=new e.Pane(f.element,a.extend(this.options.pane,{$angular:this.options.$angular}));c.notify(f,e)},options:{name:"PopOver",popup:{},pane:{}},events:[g,h],open:function(a){this.popup.show(a);if(!this.initialOpen){if(!this.pane.navigateToInitial()){this.pane.navigate("")}this.popup.popup._position();this.initialOpen=true}else{this.pane.view()._invokeNgController()}},openFor:function(a){this.open(a);this.trigger(g,{target:this.popup.target()})},close:function(){this.popup.hide()},destroy:function(){m.fn.destroy.call(this);this.pane.destroy();this.popup.destroy();c.destroy(this.element)}});e.plugin(r);e.plugin(s)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.shim",["kendo.popup"],a)})(function(){var a={id:"mobile.shim",name:"Shim",category:"mobile",description:"Mobile Shim",depends:["popup"],hidden:true};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=c.ui.Popup,f='<div class="km-shim"/>',g="hide",h=d.Widget;var i=h.extend({init:function(b,d){var i=this,j=c.mobile.application,k=c.support.mobileOS,l=j?j.os.name:k?k.name:"ios",m=l==="ios"||l==="wp"||(j?j.os.skin:false),n=l==="blackberry",o=d.align||(m?"bottom center":n?"center right":"center center"),p=d.position||(m?"bottom center":n?"center right":"center center"),q=d.effect||(m?"slideIn:up":n?"slideIn:left":"fade:in"),r=a(f).handler(i).hide();h.fn.init.call(i,b,d);i.shim=r;b=i.element;d=i.options;if(d.className){i.shim.addClass(d.className)}if(!d.modal){i.shim.on("down","_hide")}(j?j.element:a(document.body)).append(r);i.popup=new e(i.element,{anchor:r,modal:true,appendTo:r,origin:o,position:p,animation:{open:{effects:q,duration:d.duration},close:{duration:d.duration}},close:function(a){var b=false;if(!i._apiCall){b=i.trigger(g)}if(b){a.preventDefault()}i._apiCall=false},deactivate:function(){r.hide()},open:function(){r.show()}});c.notify(i)},events:[g],options:{name:"Shim",modal:false,align:b,position:b,effect:b,duration:200},show:function(){this.popup.open()},hide:function(){this._apiCall=true;this.popup.close()},destroy:function(){h.fn.destroy.call(this);this.shim.kendoDestroy();this.popup.destroy();this.shim.remove()},_hide:function(b){if(!b||!a.contains(this.shim.children().children(".k-popup")[0],b.target)){this.popup.close()}}});d.plugin(i)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.actionsheet",["kendo.mobile.popover","kendo.mobile.shim"],a)})(function(){var a={id:"mobile.actionsheet",name:"ActionSheet",category:"mobile",description:"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.",depends:["mobile.popover","mobile.shim"]};(function(a,b){var c=window.kendo,d=c.support,e=c.mobile.ui,f=e.Shim,g=e.Popup,h=e.Widget,i="open",j="close",k="command",l="li>a",m="actionsheetContext",n='<div class="km-actionsheet-wrapper" />',o=c.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>');var p=h.extend({
init:function(b,i){var j=this,k,m,p,q=d.mobileOS;h.fn.init.call(j,b,i);i=j.options;p=i.type;b=j.element;if(p==="auto"){m=q&&q.tablet}else{m=p==="tablet"}k=m?g:f;if(i.cancelTemplate){o=c.template(i.cancelTemplate)}b.addClass("km-actionsheet").append(o({cancel:j.options.cancel})).wrap(n).on("up",l,"_click").on("click",l,c.preventDefault);j.view().bind("destroy",function(){j.destroy()});j.wrapper=b.parent().addClass(p?" km-actionsheet-"+p:"");j.shim=new k(j.wrapper,a.extend({modal:q.ios&&q.majorVersion<7,className:"km-actionsheet-root"},j.options.popup));j._closeProxy=a.proxy(j,"_close");j._shimHideProxy=a.proxy(j,"_shimHide");j.shim.bind("hide",j._shimHideProxy);if(m){c.onResize(j._closeProxy)}c.notify(j,e)},events:[i,j,k],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(b,c){var d=this;d.target=a(b);d.context=c;d.shim.show(b)},close:function(){this.context=this.target=null;this.shim.hide()},openFor:function(a){var b=this,c=a.data(m);b.open(a,c);b.trigger(i,{target:a,context:c})},destroy:function(){h.fn.destroy.call(this);c.unbindResize(this._closeProxy);this.shim.destroy()},_click:function(b){if(b.isDefaultPrevented()){return}var d=a(b.currentTarget);var e=d.data("action");if(e){var f={target:this.target,context:this.context},g=this.options.$angular;if(g){this.element.injector().get("$parse")(e)(g[0])(f)}else{c.getter(e)(window)(f)}}this.trigger(k,{target:this.target,context:this.context,currentTarget:d});b.preventDefault();this._close()},_shimHide:function(a){if(!this.trigger(j)){this.context=this.target=null}else{a.preventDefault()}},_close:function(a){if(!this.trigger(j)){this.close()}else{a.preventDefault()}}});e.plugin(p)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.progressbar",["kendo.core"],a)})(function(){var a={id:"progressbar",name:"ProgressBar",category:"web",description:"The ProgressBar offers rich functionality for displaying and tracking progress",depends:["core"]};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f="horizontal",g="vertical",h=0,i=100,j=0,k=5,l="k-progressbar",m="k-progressbar-reverse",n="k-progressbar-indeterminate",o="k-complete",p="k-state-selected",q="k-progress-status",r="k-state-selected",s="k-state-default",t="k-state-disabled",u={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},v="change",w="complete",x="boolean",y=Math,z=a.extend,A=a.proxy,B=100,C=400,D=3,E={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"};var F=e.extend({init:function(a,b){var c=this;e.fn.init.call(this,a,b);b=c.options;c._progressProperty=b.orientation===f?"width":"height";c._fields();b.value=c._validateValue(b.value);c._validateType(b.type);c._wrapper();c._progressAnimation();if(b.value!==b.min&&b.value!==false){c._updateProgress()}},setOptions:function(a){var b=this;e.fn.setOptions.call(b,a);if(a.hasOwnProperty("reverse")){b.wrapper.toggleClass("k-progressbar-reverse",a.reverse)}if(a.hasOwnProperty("enable")){b.enable(a.enable)}b._progressAnimation();b._validateValue();b._updateProgress()},events:[v,w],options:{name:"ProgressBar",orientation:f,reverse:false,min:h,max:i,value:j,enable:true,type:u.VALUE,chunkCount:k,showStatus:true,animation:{}},_fields:function(){var b=this;b._isStarted=false;b.progressWrapper=b.progressStatus=a()},_validateType:function(b){var d=false;a.each(u,function(a,c){if(c===b){d=true;return false}});if(!d){throw new Error(c.format("Invalid ProgressBar type '{0}'",b))}},_wrapper:function(){var a=this;var b=a.wrapper=a.element;var c=a.options;var d=c.orientation;var e;b.addClass("k-widget "+l);b.addClass(l+"-"+(d===f?f:g));if(c.enable===false){b.addClass(t)}if(c.reverse){b.addClass(m)}if(c.value===false){b.addClass(n)}if(c.type===u.CHUNK){a._addChunkProgressWrapper()}else{if(c.showStatus){a.progressStatus=a.wrapper.prepend(E.progressStatus).find("."+q);e=c.value!==false?c.value:c.min;if(c.type===u.VALUE){a.progressStatus.text(e)}else{a.progressStatus.text(a._calculatePercentage(e).toFixed()+"%")}}}},value:function(a){return this._value(a)},_value:function(a){var c=this;var d=c.options;var e;if(a===b){return d.value}else{if(typeof a!==x){a=c._roundValue(a);if(!isNaN(a)){e=c._validateValue(a);if(e!==d.value){c.wrapper.removeClass(n);d.value=e;c._isStarted=true;c._updateProgress()}}}else if(!a){c.wrapper.addClass(n);d.value=false}}},_roundValue:function(a){a=parseFloat(a);var b=y.pow(10,D);return y.floor(a*b)/b},_validateValue:function(a){var b=this;var c=b.options;if(a!==false){if(a<=c.min||a===true){return c.min}else if(a>=c.max){return c.max}}else if(a===false){return false}if(isNaN(b._roundValue(a))){return c.min}return a},_updateProgress:function(){var a=this;var b=a.options;var c=a._calculatePercentage();if(b.type===u.CHUNK){a._updateChunks(c);a._onProgressUpdateAlways(b.value)}else{a._updateProgressWrapper(c)}},_updateChunks:function(a){var b=this;var c=b.options;var d=c.chunkCount;var e=parseInt(B/d*100,10)/100;var h=parseInt(a*100,10)/100;var i=y.floor(h/e);var j;if(c.orientation===f&&!c.reverse||c.orientation===g&&c.reverse){j=b.wrapper.find("li.k-item:lt("+i+")")}else{j=b.wrapper.find("li.k-item:gt(-"+(i+1)+")")}b.wrapper.find("."+r).removeClass(r).addClass(s);j.removeClass(s).addClass(r)},_updateProgressWrapper:function(a){var b=this;var c=b.options;var d=b.wrapper.find("."+p);var e=b._isStarted?b._animation.duration:0;var f={};if(d.length===0){b._addRegularProgressWrapper()}f[b._progressProperty]=a+"%";b.progressWrapper.animate(f,{duration:e,start:A(b._onProgressAnimateStart,b),progress:A(b._onProgressAnimate,b),complete:A(b._onProgressAnimateComplete,b,c.value),always:A(b._onProgressUpdateAlways,b,c.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(a){var b=this;var c=b.options;var d=parseFloat(a.elem.style[b._progressProperty],10);var e;if(c.showStatus){e=1e4/parseFloat(b.progressWrapper[0].style[b._progressProperty]);b.progressWrapper.find(".k-progress-status-wrap").css(b._progressProperty,e+"%")}if(c.type!==u.CHUNK&&d<=98){b.progressWrapper.removeClass(o)}},_onProgressAnimateComplete:function(a){var b=this;var c=b.options;var d=parseFloat(b.progressWrapper[0].style[b._progressProperty]);var e;if(c.type!==u.CHUNK&&d>98){b.progressWrapper.addClass(o)}if(c.showStatus){if(c.type===u.VALUE){e=a}else if(c.type==u.PERCENT){e=b._calculatePercentage(a).toFixed()+"%"}else{e=y.floor(b._calculatePercentage(a))+"%"}b.progressStatus.text(e)}if(a===c.min){b.progressWrapper.hide()}},_onProgressUpdateAlways:function(a){var b=this;var c=b.options;if(b._isStarted){b.trigger(v,{value:a})}if(a===c.max&&b._isStarted){b.trigger(w,{value:c.max})}},enable:function(a){var b=this;var c=b.options;c.enable=typeof a==="undefined"?true:a;b.wrapper.toggleClass(t,!c.enable)},destroy:function(){var a=this;e.fn.destroy.call(a)},_addChunkProgressWrapper:function(){var a=this;var b=a.options;var c=a.wrapper;var d=B/b.chunkCount;var e="";if(b.chunkCount<=1){b.chunkCount=1}e+="<ul class='k-reset'>";for(var f=b.chunkCount-1;f>=0;f--){e+="<li class='k-item k-state-default'></li>"}e+="</ul>";c.append(e).find(".k-item").css(a._progressProperty,d+"%").first().addClass("k-first").end().last().addClass("k-last");a._normalizeChunkSize()},_normalizeChunkSize:function(){var a=this;var b=a.options;var c=a.wrapper.find(".k-item:last");var d=parseFloat(c[0].style[a._progressProperty]);var e=B-b.chunkCount*d;if(e>0){c.css(a._progressProperty,d+e+"%")}},_addRegularProgressWrapper:function(){var b=this;b.progressWrapper=a("<div class='"+p+"'></div>").appendTo(b.wrapper);if(b.options.showStatus){b.progressWrapper.append(E.progressStatus);b.progressStatus=b.wrapper.find("."+q)}},_calculateChunkSize:function(){var a=this;var b=a.options.chunkCount;var c=a.wrapper.find("ul.k-reset");return(parseInt(c.css(a._progressProperty),10)-(b-1))/b},_calculatePercentage:function(a){var c=this;var d=c.options;var e=a!==b?a:d.value;var f=d.min;var g=d.max;c._onePercent=y.abs((g-f)/100);return y.abs((e-f)/c._onePercent)},_progressAnimation:function(){var a=this;var b=a.options;var c=b.animation;if(c===false){a._animation={duration:0}}else{a._animation=z({duration:C},b.animation)}}});c.ui.plugin(F)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("pdf/pako",["kendo.core"],a)})(function(){(function(){kendo.pdf=kendo.pdf||{};kendo.pdf.supportsDeflate=function(){return window.pako&&typeof window.pako.deflate=="function"};kendo.pdf.deflate=function(a){return window.pako.deflate(a)}})();return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("pdf/core",["pdf/pako","kendo.core","kendo.color","kendo.drawing"],a)})(function(){(function(a){window.kendo.pdf=window.kendo.pdf||{};var b=a.support;var c=b.browser;var d=a.pdf;var e=a.drawing;var f=e.util;var g=a.geometry;var h=typeof Uint8Array!=="undefined"&&(!a.support.browser.msie||a.support.browser.version>9);var i=function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(b){var c=b.replace(/[^A-Za-z0-9\+\/\=]/g,""),d=0,e=c.length,f=[];while(d<e){var g=a.indexOf(c.charAt(d++));var h=a.indexOf(c.charAt(d++));var i=a.indexOf(c.charAt(d++));var j=a.indexOf(c.charAt(d++));var k=g<<2|h>>>4;var l=(h&15)<<4|i>>>2;var m=(i&3)<<6|j;f.push(k);if(i!=64){f.push(l)}if(j!=64){f.push(m)}}return f},encode:function(b){var c=0,d=b.length;var e="";while(c<d){var f=b[c++];var g=b[c++];var h=b[c++];var i=f>>>2;var j=(f&3)<<4|g>>>4;var k=(g&15)<<2|h>>>6;var l=h&63;if(c-d==2){k=l=64}else if(c-d==1){l=64}e+=a.charAt(i)+a.charAt(j)+a.charAt(k)+a.charAt(l)}return e}}}();function j(a){var b=0,c=0;if(a==null){a=h?new Uint8Array(256):[]}else{c=a.length}var d=h?function(b){if(b>=a.length){var c=new Uint8Array(Math.max(b+256,a.length*2));c.set(a,0);a=c}}:function(){};var e=h?function(){return new Uint8Array(a.buffer,0,c)}:function(){return a};var f=h?function(e){if(typeof e=="string"){return A(e)}var f=e.length;d(b+f);a.set(e,b);b+=f;if(b>c){c=b}}:function(a){if(typeof a=="string"){return A(a)}for(var b=0;b<a.length;++b){l(a[b])}};var g=h?function(b,c){if(a.buffer.slice){return new Uint8Array(a.buffer.slice(b,b+c))}else{var d=new Uint8Array(c);d.set(new Uint8Array(a.buffer,b,c));return d}}:function(b,c){return a.slice(b,b+c)};function j(){return b>=c}function k(){return b<c?a[b++]:0}function l(e){d(b);a[b++]=e&255;if(b>c){c=b}}function m(){return k()<<8|k()}function n(a){l(a>>8);l(a)}function o(){var a=m();return a>=32768?a-65536:a}function p(a){n(a<0?a+65536:a)}function q(){return m()*65536+m()}function r(a){n(a>>>16&65535);n(a&65535)}function s(){var a=q();return a>=2147483648?a-4294967296:a}function t(a){r(a<0?a+4294967296:a)}function u(){return q()/65536}function v(a){r(Math.round(a*65536))}function w(){return s()/65536}function x(a){t(Math.round(a*65536))}function y(a){return B(a,k)}function z(a){return String.fromCharCode.apply(String,y(a))}function A(a){for(var b=0;b<a.length;++b){l(a.charCodeAt(b))}}function B(a,b){for(var c=new Array(a),d=0;d<a;++d){c[d]=b()}return c}var C={eof:j,readByte:k,writeByte:l,readShort:m,writeShort:n,readLong:q,writeLong:r,readFixed:u,writeFixed:v,readShort_:o,writeShort_:p,readLong_:s,writeLong_:t,readFixed_:w,writeFixed_:x,read:y,write:f,readString:z,writeString:A,times:B,get:e,slice:g,offset:function(a){if(a!=null){b=a;return C}return b},skip:function(a){b+=a},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return c},saveExcursion:function(a){var c=b;try{return a()}finally{b=c}},writeBase64:function(a){if(window.atob){A(window.atob(a))}else{f(i.decode(a))}},base64:function(){return i.encode(e())}};return C}function k(a){var b=[],c=0,d=a.length,e,f;while(c<d){e=a.charCodeAt(c++);if(e>=55296&&e<=56319&&c<d){f=a.charCodeAt(c++);if((f&64512)==56320){b.push(((e&1023)<<10)+(f&1023)+65536)}else{b.push(e);c--}}else{b.push(e)}}return b}function l(a){return a.map(function(a){var b="";if(a>65535){a-=65536;b+=String.fromCharCode(a>>>10&1023|55296);a=56320|a&1023}b+=String.fromCharCode(a);return b}).join("")}function m(a){var b=window.atob(a);var c=new Uint8Array(b.length);for(var d=0;d<b.length;d++){c[d]=b.charCodeAt(d)}return c}function n(a){var b=new Uint8Array(a.length);for(var c=0;c<a.length;c++){b[c]=a[c]}return b}function o(a){if(window.atob){return m(a)}return n(i.decode(a))}function p(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function q(a){return Object.keys(a).sort(function(a,b){return a-b}).map(parseFloat)}function r(a){this.raw=a;this.scalerType=a.readLong();this.tableCount=a.readShort();this.searchRange=a.readShort();this.entrySelector=a.readShort();this.rangeShift=a.readShort();var b=this.tables={};for(var c=0;c<this.tableCount;++c){var d={tag:a.readString(4),checksum:a.readLong(),offset:a.readLong(),length:a.readLong()};b[d.tag]=d}}r.prototype={readTable:function(a,b){var c=this.tables[a];if(!c){throw new Error("Table "+a+" not found in directory")}return this[a]=c.table=new b(this,c)},render:function(a){var b=this;var c=Object.keys(a).length;var d=Math.pow(2,Math.floor(Math.log(c)/Math.LN2));var e=d*16;var f=Math.floor(Math.log(d)/Math.LN2);var g=c*16-e;var h=j();h.writeLong(this.scalerType);h.writeShort(c);h.writeShort(e);h.writeShort(f);h.writeShort(g);var i=c*16;var k=h.offset()+i;var l=null;var m=j();for(var n in a){if(p(a,n)){var o=a[n];h.writeString(n);h.writeLong(b.checksum(o));h.writeLong(k);h.writeLong(o.length);m.write(o);if(n=="head"){l=k}k+=o.length;while(k%4){m.writeByte(0);k++}}}h.write(m.get());var q=this.checksum(h.get());var r=2981146554-q;h.offset(l+8);h.writeLong(r);return h.get()},checksum:function(a){a=j(a);var b=0;while(!a.eof()){b+=a.readLong()}return b&4294967295}};function s(a){function b(a,b){this.definition=b;this.length=b.length;this.offset=b.offset;this.file=a;this.rawData=a.raw;this.parse(a.raw)}b.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)};for(var c in a){if(p(a,c)){b[c]=b.prototype[c]=a[c]}}return b}var t=s({parse:function(a){a.offset(this.offset);this.version=a.readLong();this.revision=a.readLong();this.checkSumAdjustment=a.readLong();this.magicNumber=a.readLong();this.flags=a.readShort();this.unitsPerEm=a.readShort();this.created=a.read(8);this.modified=a.read(8);this.xMin=a.readShort_();this.yMin=a.readShort_();this.xMax=a.readShort_();this.yMax=a.readShort_();this.macStyle=a.readShort();this.lowestRecPPEM=a.readShort();this.fontDirectionHint=a.readShort_();this.indexToLocFormat=a.readShort_();this.glyphDataFormat=a.readShort_()},render:function(a){var b=j();b.writeLong(this.version);b.writeLong(this.revision);b.writeLong(0);b.writeLong(this.magicNumber);b.writeShort(this.flags);b.writeShort(this.unitsPerEm);b.write(this.created);b.write(this.modified);b.writeShort_(this.xMin);b.writeShort_(this.yMin);b.writeShort_(this.xMax);b.writeShort_(this.yMax);b.writeShort(this.macStyle);b.writeShort(this.lowestRecPPEM);b.writeShort_(this.fontDirectionHint);b.writeShort_(a);b.writeShort_(this.glyphDataFormat);return b.get()}});var u=s({parse:function(a){a.offset(this.offset);var b=this.file.head.indexToLocFormat;if(b===0){this.offsets=a.times(this.length/2,function(){return 2*a.readShort()})}else{this.offsets=a.times(this.length/4,a.readLong)}},offsetOf:function(a){return this.offsets[a]},lengthOf:function(a){return this.offsets[a+1]-this.offsets[a]},render:function(a){var b=j();var c=a[a.length-1]>65535;for(var d=0;d<a.length;++d){if(c){b.writeLong(a[d])}else{b.writeShort(a[d]/2)}}return{format:c?1:0,table:b.get()}}});var v=s({parse:function(a){a.offset(this.offset);this.version=a.readLong();this.ascent=a.readShort_();this.descent=a.readShort_();this.lineGap=a.readShort_();this.advanceWidthMax=a.readShort();this.minLeftSideBearing=a.readShort_();this.minRightSideBearing=a.readShort_();this.xMaxExtent=a.readShort_();this.caretSlopeRise=a.readShort_();this.caretSlopeRun=a.readShort_();this.caretOffset=a.readShort_();a.skip(4*2);this.metricDataFormat=a.readShort_();this.numOfLongHorMetrics=a.readShort()},render:function(a){var b=j();b.writeLong(this.version);b.writeShort_(this.ascent);b.writeShort_(this.descent);b.writeShort_(this.lineGap);b.writeShort(this.advanceWidthMax);b.writeShort_(this.minLeftSideBearing);b.writeShort_(this.minRightSideBearing);b.writeShort_(this.xMaxExtent);b.writeShort_(this.caretSlopeRise);b.writeShort_(this.caretSlopeRun);b.writeShort_(this.caretOffset);b.write([0,0,0,0,0,0,0,0]);b.writeShort_(this.metricDataFormat);b.writeShort(a.length);return b.get()}});var w=s({parse:function(a){a.offset(this.offset);this.version=a.readLong();this.numGlyphs=a.readShort();this.maxPoints=a.readShort();this.maxContours=a.readShort();this.maxComponentPoints=a.readShort();this.maxComponentContours=a.readShort();this.maxZones=a.readShort();this.maxTwilightPoints=a.readShort();this.maxStorage=a.readShort();this.maxFunctionDefs=a.readShort();this.maxInstructionDefs=a.readShort();this.maxStackElements=a.readShort();this.maxSizeOfInstructions=a.readShort();this.maxComponentElements=a.readShort();this.maxComponentDepth=a.readShort()},render:function(a){var b=j();b.writeLong(this.version);b.writeShort(a.length);b.writeShort(this.maxPoints);b.writeShort(this.maxContours);b.writeShort(this.maxComponentPoints);b.writeShort(this.maxComponentContours);b.writeShort(this.maxZones);b.writeShort(this.maxTwilightPoints);b.writeShort(this.maxStorage);b.writeShort(this.maxFunctionDefs);b.writeShort(this.maxInstructionDefs);b.writeShort(this.maxStackElements);b.writeShort(this.maxSizeOfInstructions);b.writeShort(this.maxComponentElements);b.writeShort(this.maxComponentDepth);return b.get()}});var x=s({parse:function(a){a.offset(this.offset);var b=this.file,c=b.hhea;this.metrics=a.times(c.numOfLongHorMetrics,function(){return{advance:a.readShort(),lsb:a.readShort_()}});var d=b.maxp.numGlyphs-b.hhea.numOfLongHorMetrics;this.leftSideBearings=a.times(d,a.readShort_)},forGlyph:function(a){var b=this.metrics;var c=b.length;if(a<c){return b[a]}return{advance:b[c-1].advance,lsb:this.leftSideBearings[a-c]}},render:function(a){var b=this;var c=j();for(var d=0;d<a.length;++d){var e=b.forGlyph(a[d]);c.writeShort(e.advance);c.writeShort_(e.lsb)}return c.get()}});var y=function(){function a(a){this.raw=a}a.prototype={compound:false,render:function(){return this.raw.get()}};var b=1;var c=8;var d=32;var e=64;var f=128;function g(a){this.raw=a;var g=this.glyphIds=[];var h=this.idOffsets=[];while(true){var i=a.readShort();h.push(a.offset());g.push(a.readShort());if(!(i&d)){break}a.skip(i&b?4:2);if(i&f){a.skip(8)}else if(i&e){a.skip(4)}else if(i&c){a.skip(2)}}}g.prototype={compound:true,render:function(a){var b=this;var c=j(this.raw.get());for(var d=0;d<this.glyphIds.length;++d){var e=b.glyphIds[d];c.offset(b.idOffsets[d]);c.writeShort(a[e])}return c.get()}};return s({parse:function(){this.cache={}},glyphFor:function(b){var c=this.cache;if(p(c,b)){return c[b]}var d=this.file.loca;var e=d.lengthOf(b);if(e===0){return c[b]=null}var f=this.rawData;var h=this.offset+d.offsetOf(b);var i=j(f.slice(h,e));var k=i.readShort_();var l=i.readShort_();var m=i.readShort_();var n=i.readShort_();var o=i.readShort_();var q=c[b]=k==-1?new g(i):new a(i);q.numberOfContours=k;q.xMin=l;q.yMin=m;q.xMax=n;q.yMax=o;return q},render:function(a,b,c){var d=j(),e=[];for(var f=0;f<b.length;++f){var g=b[f];var h=a[g];e.push(d.offset());if(h){d.write(h.render(c))}}e.push(d.offset());return{table:d.get(),offsets:e}}})}();var z=function(){function a(a,b){this.text=a;this.length=a.length;this.platformID=b.platformID;this.platformSpecificID=b.platformSpecificID;this.languageID=b.languageID;this.nameID=b.nameID}return s({parse:function(b){b.offset(this.offset);b.readShort();var c=b.readShort();var d=this.offset+b.readShort();var e=b.times(c,function(){return{platformID:b.readShort(),platformSpecificID:b.readShort(),languageID:b.readShort(),nameID:b.readShort(),length:b.readShort(),offset:b.readShort()+d}});var f=this.strings={};for(var g=0;g<e.length;++g){var h=e[g];b.offset(h.offset);var i=b.readString(h.length);if(!f[h.nameID]){f[h.nameID]=[]}f[h.nameID].push(new a(i,h))}this.postscriptEntry=f[6][0];this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(b){var c=this;var d=this.strings;var e=0;for(var f in d){if(p(d,f)){e+=d[f].length}}var g=j();var h=j();g.writeShort(0);g.writeShort(e);g.writeShort(6+12*e);for(f in d){if(p(d,f)){var i=f==6?[new a(b,c.postscriptEntry)]:d[f];for(var k=0;k<i.length;++k){var l=i[k];g.writeShort(l.platformID);g.writeShort(l.platformSpecificID);g.writeShort(l.languageID);g.writeShort(l.nameID);g.writeShort(l.length);g.writeShort(h.offset());h.writeString(l.text)}}}g.write(h.get());return g.get()}})}();var A=function(){var a=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);return s({parse:function(a){var b=this;a.offset(this.offset);this.format=a.readLong();this.italicAngle=a.readFixed_();this.underlinePosition=a.readShort_();this.underlineThickness=a.readShort_();this.isFixedPitch=a.readLong();this.minMemType42=a.readLong();this.maxMemType42=a.readLong();this.minMemType1=a.readLong();this.maxMemType1=a.readLong();var c;switch(this.format){case 65536:case 196608:break;case 131072:c=a.readShort();this.glyphNameIndex=a.times(c,a.readShort);this.names=[];var d=this.offset+this.length;while(a.offset()<d){b.names.push(a.readString(a.readByte()))}break;case 151552:c=a.readShort();this.offsets=a.read(c);break;case 262144:this.map=a.times(this.file.maxp.numGlyphs,a.readShort);break}},glyphFor:function(b){switch(this.format){case 65536:return a[b]||".notdef";case 131072:var c=this.glyphNameIndex[b];if(c<a.length){return a[c]}return this.names[c-a.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[b]||65535}},render:function(b){var c=this;if(this.format==196608){return this.raw()}var d=j(this.rawData.slice(this.offset,32));d.writeLong(131072);d.offset(32);var e=[];var f=[];for(var g=0;g<b.length;++g){var h=b[g];var i=c.glyphFor(h);var k=a.indexOf(i);if(k>=0){e.push(k)}else{e.push(a.length+f.length);f.push(i)}}d.writeShort(b.length);for(g=0;g<e.length;++g){d.writeShort(e[g])}for(g=0;g<f.length;++g){d.writeByte(f[g].length);d.writeString(f[g])}return d.get()}})}();var B=function(){function a(a,b,c){var d=this;d.platformID=a.readShort();d.platformSpecificID=a.readShort();d.offset=b+a.readLong();a.saveExcursion(function(){var b;a.offset(d.offset);d.format=a.readShort();switch(d.format){case 0:d.length=a.readShort();d.language=a.readShort();for(var e=0;e<256;++e){c[e]=a.readByte()}break;case 4:d.length=a.readShort();d.language=a.readShort();var f=a.readShort()/2;a.skip(6);var g=a.times(f,a.readShort);a.skip(2);var h=a.times(f,a.readShort);var i=a.times(f,a.readShort_);var j=a.times(f,a.readShort);var k=(d.length+d.offset-a.offset())/2;var l=a.times(k,a.readShort);for(e=0;e<f;++e){var m=h[e],n=g[e];for(b=m;b<=n;++b){var o;if(j[e]===0){o=b+i[e]}else{var p=j[e]/2-(f-e)+(b-m);o=l[p]||0;if(o!==0){o+=i[e]}}c[b]=o&65535}}break;case 6:d.length=a.readShort();d.language=a.readShort();b=a.readShort();var q=a.readShort();while(q-- >0){c[b++]=a.readShort()}break;case 12:a.readShort();d.length=a.readLong();d.language=a.readLong();var r=a.readLong();while(r-- >0){b=a.readLong();var s=a.readLong();var t=a.readLong();while(b<=s){c[b++]=t++}}break;default:if(window.console){window.console.error("Unhandled CMAP format: "+d.format)}}})}function b(a,b){var c=q(a);var d=[];var e=[];var f=null;var g=null;function h(c){return b[a[c]]}for(var i=0;i<c.length;++i){var k=c[i];var l=h(k);var m=l-k;if(f==null||m!==g){if(f){e.push(f)}d.push(k);g=m}f=k}if(f){e.push(f)}e.push(65535);d.push(65535);var n=d.length;var o=n*2;var p=2*Math.pow(2,Math.floor(Math.log(n)/Math.LN2));var r=Math.log(p/2)/Math.LN2;var s=o-p;var t=[];var u=[];var v=[];for(i=0;i<n;++i){var w=d[i];var x=e[i];if(w==65535){t.push(0);u.push(0);break}var y=h(w);if(w-y>=32768){t.push(0);u.push(2*(v.length+n-i));for(var z=w;z<=x;++z){v.push(h(z))}}else{t.push(y-w);u.push(0)}}var A=j();A.writeShort(3);A.writeShort(1);A.writeLong(12);A.writeShort(4);A.writeShort(16+n*8+v.length*2);A.writeShort(0);A.writeShort(o);A.writeShort(p);A.writeShort(r);A.writeShort(s);e.forEach(A.writeShort);A.writeShort(0);d.forEach(A.writeShort);t.forEach(A.writeShort_);u.forEach(A.writeShort);v.forEach(A.writeShort);return A.get()}return s({parse:function(b){var c=this;var d=c.offset;b.offset(d);c.codeMap={};c.version=b.readShort();var e=b.readShort();c.tables=b.times(e,function(){return new a(b,d,c.codeMap)})},render:function(a,c){var d=j();d.writeShort(0);d.writeShort(1);d.write(b(a,c));return d.get()}})}();var C=s({parse:function(a){a.offset(this.offset);this.version=a.readShort();this.averageCharWidth=a.readShort_();this.weightClass=a.readShort();this.widthClass=a.readShort();this.type=a.readShort();this.ySubscriptXSize=a.readShort_();this.ySubscriptYSize=a.readShort_();this.ySubscriptXOffset=a.readShort_();this.ySubscriptYOffset=a.readShort_();this.ySuperscriptXSize=a.readShort_();this.ySuperscriptYSize=a.readShort_();this.ySuperscriptXOffset=a.readShort_();this.ySuperscriptYOffset=a.readShort_();this.yStrikeoutSize=a.readShort_();this.yStrikeoutPosition=a.readShort_();this.familyClass=a.readShort_();this.panose=a.times(10,a.readByte);this.charRange=a.times(4,a.readLong);this.vendorID=a.readString(4);this.selection=a.readShort();this.firstCharIndex=a.readShort();this.lastCharIndex=a.readShort();if(this.version>0){this.ascent=a.readShort_();this.descent=a.readShort_();this.lineGap=a.readShort_();this.winAscent=a.readShort();this.winDescent=a.readShort();this.codePageRange=a.times(2,a.readLong);if(this.version>1){this.xHeight=a.readShort();this.capHeight=a.readShort();this.defaultChar=a.readShort();this.breakChar=a.readShort();this.maxContext=a.readShort()}}},render:function(){return this.raw()}});var D=1e5;function E(){var a="",b=String(D);for(var c=0;c<b.length;++c){a+=String.fromCharCode(b.charCodeAt(c)-48+65)}++D;return a}function F(a){this.font=a;this.subset={};this.unicodes={};this.ogid2ngid={0:0};this.ngid2ogid={0:0};this.ncid2ogid={};this.next=this.firstChar=1;this.nextGid=1;this.psName=E()+"+"+this.font.psName}F.prototype={use:function(a){var b=this;if(typeof a=="string"){return k(a).reduce(function(a,c){return a+String.fromCharCode(b.use(c))},"")}var c=b.unicodes[a];if(!c){c=b.next++;b.subset[c]=a;b.unicodes[a]=c;var d=b.font.cmap.codeMap[a];if(d){b.ncid2ogid[c]=d;if(b.ogid2ngid[d]==null){var e=b.nextGid++;b.ogid2ngid[d]=e;b.ngid2ogid[e]=d}}}return c},encodeText:function(a){return this.use(a)},glyphIds:function(){return q(this.ogid2ngid)},glyphsFor:function(a,b){var c=this;if(!b){b={}}for(var d=0;d<a.length;++d){var e=a[d];if(!b[e]){var f=b[e]=c.font.glyf.glyphFor(e);if(f&&f.compound){c.glyphsFor(f.glyphIds,b)}}}return b},render:function(){var a=this;var b=this.glyphsFor(this.glyphIds());for(var c in b){if(p(b,c)){c=parseInt(c,10);if(a.ogid2ngid[c]==null){var d=a.nextGid++;a.ogid2ngid[c]=d;a.ngid2ogid[d]=c}}}var e=q(this.ngid2ogid);var f=e.map(function(a){return this.ngid2ogid[a]},this);var g=this.font;var h=g.glyf.render(b,f,this.ogid2ngid);var i=g.loca.render(h.offsets);this.lastChar=this.next-1;var j={cmap:B.render(this.ncid2ogid,this.ogid2ngid),glyf:h.table,loca:i.table,hmtx:g.hmtx.render(f),hhea:g.hhea.render(f),maxp:g.maxp.render(f),post:g.post.render(f),name:g.name.render(this.psName),head:g.head.render(i.format),"OS/2":g.os2.render()};return this.font.directory.render(j)},cidToGidMap:function(){var a=this;var b=j(),c=0;for(var d=this.firstChar;d<this.next;++d){while(c<d){b.writeShort(0);c++}var e=a.ncid2ogid[d];if(e){var f=a.ogid2ngid[e];b.writeShort(f)}else{b.writeShort(0)}c++}return b.get()}};function G(a,b){var c=this;var d=c.contents=j(a);if(d.readString(4)=="ttcf"){var e;var f=function(){d.offset(e);c.parse()};if(!b){throw new Error("Must specify a name for TTC files")}d.readLong();var g=d.readLong();for(var h=0;h<g;++h){e=d.readLong();d.saveExcursion(f);if(c.psName==b){return}}throw new Error("Font "+b+" not found in collection")}else{d.offset(0);c.parse()}}G.prototype={parse:function(){var a=this.directory=new r(this.contents);this.head=a.readTable("head",t);this.loca=a.readTable("loca",u);this.hhea=a.readTable("hhea",v);this.maxp=a.readTable("maxp",w);this.hmtx=a.readTable("hmtx",x);this.glyf=a.readTable("glyf",y);this.name=a.readTable("name",z);this.post=a.readTable("post",A);this.cmap=a.readTable("cmap",B);this.os2=a.readTable("OS/2",C);this.psName=this.name.postscriptName;this.ascent=this.os2.ascent||this.hhea.ascent;this.descent=this.os2.descent||this.hhea.descent;this.lineGap=this.os2.lineGap||this.hhea.lineGap;this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(a){return this.hmtx.forGlyph(a).advance*this.scale},makeSubset:function(){return new F(this)}};var H=a.support.browser;var I="\n";var J=0;var K={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function L(){var a=0,b=j();function c(){var a=arguments;for(var d=0;d<arguments.length;++d){var e=a[d];if(e===undefined){throw new Error("Cannot output undefined to PDF")}else if(e instanceof ha){e.beforeRender(c);e.render(c)}else if(_(e)){ba(e,c)}else if(aa(e)){ca(e,c)}else if(typeof e=="number"){if(isNaN(e)){throw new Error("Cannot output NaN to PDF")}var f=e.toFixed(7);if(f.indexOf(".")>=0){f=f.replace(/\.?0+$/,"")}if(f=="-0"){
f="0"}b.writeString(f)}else if(/string|boolean/.test(typeof e)){b.writeString(String(e))}else if(typeof e.get=="function"){b.write(e.get())}else if(typeof e=="object"){if(!e){b.writeString("null")}else{c(new oa(e))}}}}c.writeData=function(a){b.write(a)};c.withIndent=function(b){++a;b(c);--a};c.indent=function(){c(I,Y("",a*2,"  "));c.apply(null,arguments)};c.offset=function(){return b.offset()};c.toString=function(){throw new Error("FIX CALLER")};c.get=function(){return b.get()};c.stream=function(){return b};return c}function M(a,b){var c=a.beforeRender;var d=a.render;a.beforeRender=function(){};a.render=function(a){a(b," 0 R")};a.renderFull=function(e){a._offset=e.offset();e(b," 0 obj ");c.call(a,e);d.call(a,e);e(" endobj")}}function N(a){if(typeof a!="function"){var b=a;a=function(a,c){return a in b?b[a]:c}}var c=a("paperSize",K.a4);if(!c){return{}}if(typeof c=="string"){c=K[c.toLowerCase()];if(c==null){throw new Error("Unknown paper size")}}c[0]=ga(c[0]);c[1]=ga(c[1]);if(a("landscape",false)){c=[Math.max(c[0],c[1]),Math.min(c[0],c[1])]}var d=a("margin");if(d){if(typeof d=="string"||typeof d=="number"){d=ga(d,0);d={left:d,top:d,right:d,bottom:d}}else{d={left:ga(d.left,0),top:ga(d.top,0),right:ga(d.right,0),bottom:ga(d.bottom,0)}}if(a("addMargin")){c[0]+=d.left+d.right;c[1]+=d.top+d.bottom}}return{paperSize:c,margin:d}}function O(a){var b=this;var c=L();var d=0;var e=[];function f(b,c){return a&&a[b]!=null?a[b]:c}b.getOption=f;b.attach=function(a){if(e.indexOf(a)<0){M(a,++d);e.push(a)}return a};b.pages=[];b.FONTS={};b.IMAGES={};b.GRAD_COL_FUNCTIONS={};b.GRAD_OPC_FUNCTIONS={};b.GRAD_COL={};b.GRAD_OPC={};var g=b.attach(new qa);var h=b.attach(new ra);if(f("autoPrint")){var i={};i.JavaScript=new oa({Names:[new ja("JS"),b.attach(new oa({S:na("JavaScript"),JS:new ja("print(true);")}))]});g.props.Names=new oa(i)}g.setPages(h);var j=b.attach(new oa({Producer:new ja(f("producer","Kendo UI PDF Generator")),Title:new ja(f("title","")),Author:new ja(f("author","")),Subject:new ja(f("subject","")),Keywords:new ja(f("keywords","")),Creator:new ja(f("creator","Kendo UI PDF Generator")),CreationDate:f("date",new Date)}));b.addPage=function(a){var c=N(function(b,c){return a&&a[b]!=null?a[b]:c});var d=c.paperSize;var e=c.margin;var f=d[0];var g=d[1];if(e){f-=e.left+e.right;g-=e.top+e.bottom}var i=new pa(L(),null,true);var j={Contents:b.attach(i),Parent:h,MediaBox:[0,0,d[0],d[1]]};var k=new Fa(b,j);k._content=i;h.addPage(b.attach(k));k.transform(1,0,0,-1,0,d[1]);if(e){k.translate(e.left,e.top);k.rect(0,0,f,g);k.clip()}b.pages.push(k);return k};b.render=function(){var a;c("%PDF-1.4",I,"%ÃÃÃÃÃ",I,I);for(a=0;a<e.length;++a){e[a].renderFull(c);c(I,I)}var b=c.offset();c("xref",I,0," ",e.length+1,I);c("0000000000 65535 f ",I);for(a=0;a<e.length;++a){c(Z(e[a]._offset,10)," 00000 n ",I)}c(I);c("trailer",I);c(new oa({Size:e.length+1,Root:g,Info:j}),I,I);c("startxref",I,b,I);c("%%EOF",I);return c.stream().offset(0)}}var P={"Times-Roman":true,"Times-Bold":true,"Times-Italic":true,"Times-BoldItalic":true,Helvetica:true,"Helvetica-Bold":true,"Helvetica-Oblique":true,"Helvetica-BoldOblique":true,Courier:true,"Courier-Bold":true,"Courier-Oblique":true,"Courier-BoldOblique":true,Symbol:true,ZapfDingbats:true};function Q(a,b){var c;if(H.msie&&(c=/^data:.*?;base64,/i.exec(a))){b(o(a.substr(c[0].length)));return}function d(){if(window.console){if(window.console.error){window.console.error("Cannot load URL: %s",a)}else{window.console.log("Cannot load URL: %s",a)}}b(null)}var e=new XMLHttpRequest;e.open("GET",a,true);if(h){e.responseType="arraybuffer"}e.onload=function(){if(e.status==200||e.status==304){if(h){b(new Uint8Array(e.response))}else{b(new window.VBArray(e.responseBody).toArray())}}else{d()}};e.onerror=d;e.send(null)}function R(a,b){var c=P[a];if(c){b(c)}else{Q(a,function(c){if(c==null){throw new Error("Cannot load font from "+a)}else{var d=new G(c);P[a]=d;b(d)}})}}var S={};function T(){S={}}function U(a,b,c){var d=S[a],e,f;if(d){c(d)}else{d=new Image;if(!/^data:/i.test(a)){d.crossOrigin="Anonymous"}if(h&&!/^data:/i.test(a)){var g=new XMLHttpRequest;g.onload=function(){f=g.response;e=URL.createObjectURL(f);i(e)};g.onerror=l;g.open("GET",a,true);g.responseType="blob";g.send()}else{i(a)}}function i(a){d.src=a;if(d.complete&&!H.msie){m()}else{d.onload=m;d.onerror=l}}function k(){if(!b){b={width:d.width,height:d.height}}var f=document.createElement("canvas");f.width=b.width;f.height=b.height;var g=f.getContext("2d");g.drawImage(d,0,0,b.width,b.height);var h;try{h=g.getImageData(0,0,b.width,b.height)}catch(a){l();return}finally{if(e){URL.revokeObjectURL(e)}}var i=false,k=j(),m=j();var n=h.data;var o=0;while(o<n.length){k.writeByte(n[o++]);k.writeByte(n[o++]);k.writeByte(n[o++]);var p=n[o++];if(p<255){i=true}m.writeByte(p)}if(i){d=new ua(b.width,b.height,k,m)}else{var q=f.toDataURL("image/jpeg");q=q.substr(q.indexOf(";base64,")+8);var r=j();r.writeBase64(q);d=new ta(r)}c(S[a]=d)}function l(){c(S[a]="ERROR")}function m(){if(b){if(b.width>=d.width||b.height>=d.height){b=null}}if(!b&&f&&/^image\/jpe?g$/i.test(f.type)){var g=new FileReader;g.onload=function(){try{var b=new ta(j(new Uint8Array(this.result)));URL.revokeObjectURL(e);c(S[a]=b)}catch(a){k()}};g.readAsArrayBuffer(f)}else{k()}}}function V(a){return function(b,c){var d=b.length,e=d;if(d===0){return c()}function f(){if(--d===0){c()}}while(e-- >0){a(b[e],f)}}}var W=V(R);var X=function(a,b){var c=Object.keys(a),d=c.length;if(d===0){return b()}function e(){if(--d===0){b()}}c.forEach(function(b){U(b,a[b],e)})};O.prototype={loadFonts:W,loadImages:X,getFont:function(a){var b=this.FONTS[a];if(!b){b=P[a];if(!b){throw new Error("Font "+a+" has not been loaded")}if(b===true){b=this.attach(new va(a))}else{b=this.attach(new wa(this,b))}this.FONTS[a]=b}return b},getImage:function(a){var b=this.IMAGES[a];if(!b){b=S[a];if(!b){throw new Error("Image "+a+" has not been loaded")}if(b==="ERROR"){return null}b=this.IMAGES[a]=this.attach(b.asStream(this))}return b},getOpacityGS:function(a,b){var c=parseFloat(a).toFixed(3);a=parseFloat(c);c+=b?"S":"F";var d=this._opacityGSCache||(this._opacityGSCache={});var e=d[c];if(!e){var f={Type:na("ExtGState")};if(b){f.CA=a}else{f.ca=a}e=this.attach(new oa(f));e._resourceName=na("GS"+ ++J);d[c]=e}return e},dict:function(a){return new oa(a)},name:function(a){return na(a)},stream:function(a,b){return new pa(b,a)}};function Y(a,b,c){while(a.length<b){a=c+a}return a}function Z(a,b){return Y(String(a),b,"0")}function $(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var _=Array.isArray||function(a){return a instanceof Array};function aa(a){return a instanceof Date}function ba(a,b){b("[");if(a.length>0){b.withIndent(function(){for(var c=0;c<a.length;++c){if(c>0&&c%8===0){b.indent(a[c])}else{b(" ",a[c])}}})}b(" ]")}function ca(a,b){b("(D:",Z(a.getUTCFullYear(),4),Z(a.getUTCMonth()+1,2),Z(a.getUTCDate(),2),Z(a.getUTCHours(),2),Z(a.getUTCMinutes(),2),Z(a.getUTCSeconds(),2),"Z)")}function da(a){return a*(72/25.4)}function ea(a){return da(a*10)}function fa(a){return a*72}function ga(a,b){if(typeof a=="number"){return a}if(typeof a=="string"){var c;c=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(a);if(c){var d=parseFloat(c[1]);if(!isNaN(d)){if(c[2]=="pt"){return d}return{mm:da,cm:ea,in:fa}[c[2]](d)}}}if(b!=null){return b}throw new Error("Can't parse unit: "+a)}function ha(){}ha.prototype.beforeRender=function(){};function ia(a,b,c){if(!c){c=ha}a.prototype=new c;for(var d in b){if($(b,d)){a.prototype[d]=b[d]}}return a}var ja=ia(function a(b){this.value=b},{render:function(a){var b="",c=this.value;for(var d=0;d<c.length;++d){b+=String.fromCharCode(c.charCodeAt(d)&255)}a("(",b.replace(/([\(\)\\])/g,"\\$1"),")")},toString:function(){return this.value}});var ka=ia(function a(b){this.value=b},{render:function(a){var b=this;a("<");for(var c=0;c<this.value.length;++c){a(Z(b.value.charCodeAt(c).toString(16),4))}a(">")}},ja);var la=ia(function a(b){this.name=b},{render:function(a){a("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,function(a){return"#"+Z(a.charCodeAt(0).toString(16),2)})},toString:function(){return this.name}});var ma={};la.get=na;function na(a){if($(ma,a)){return ma[a]}return ma[a]=new la(a)}var oa=ia(function a(b){this.props=b},{render:function(a){var b=this.props,c=true;a("<<");a.withIndent(function(){for(var d in b){if($(b,d)&&!/^_/.test(d)){c=false;a.indent(na(d)," ",b[d])}}});if(!c){a.indent()}a(">>")}});var pa=ia(function a(b,c,d){if(typeof b=="string"){var e=j();e.write(b);b=e}this.data=b;this.props=c||{};this.compress=d},{render:function(a){var b=this.data.get(),c=this.props;if(this.compress&&d.supportsDeflate()){if(!c.Filter){c.Filter=[]}else if(!(c.Filter instanceof Array)){c.Filter=[c.Filter]}c.Filter.unshift(na("FlateDecode"));b=d.deflate(b)}c.Length=b.length;a(new oa(c)," stream",I);a.writeData(b);a(I,"endstream")}});var qa=ia(function a(){this.props={Type:na("Catalog")}},{setPages:function(a){this.props.Pages=a}},oa);var ra=ia(function a(){this.props={Type:na("Pages"),Kids:[],Count:0}},{addPage:function(a){this.props.Kids.push(a);this.props.Count++}},oa);var sa=[192,193,194,195,197,198,199,201,202,203,205,206,207];function ta(a){a.offset(0);var b,c,d,e;var f=a.readShort();if(f!=65496){throw new Error("Invalid JPEG image")}while(!a.eof()){var g=a.readByte();if(g!=255){throw new Error("Invalid JPEG image")}var h=a.readByte();var i=a.readShort();if(sa.indexOf(h)>=0){e=a.readByte();c=a.readShort();b=a.readShort();d=a.readByte();break}a.skip(i-2)}if(d==null){throw new Error("Invalid JPEG image")}var j={Type:na("XObject"),Subtype:na("Image"),Width:b,Height:c,BitsPerComponent:e,Filter:na("DCTDecode")};switch(d){case 1:j.ColorSpace=na("DeviceGray");break;case 3:j.ColorSpace=na("DeviceRGB");break;case 4:j.ColorSpace=na("DeviceCMYK");j.Decode=[1,0,1,0,1,0,1,0];break}this.asStream=function(){a.offset(0);var b=new pa(a,j);b._resourceName=na("I"+ ++J);return b}}function ua(a,b,c,d){this.asStream=function(e){var f=new pa(d,{Type:na("XObject"),Subtype:na("Image"),Width:a,Height:b,BitsPerComponent:8,ColorSpace:na("DeviceGray")},true);var g=new pa(c,{Type:na("XObject"),Subtype:na("Image"),Width:a,Height:b,BitsPerComponent:8,ColorSpace:na("DeviceRGB"),SMask:e.attach(f)},true);g._resourceName=na("I"+ ++J);return g}}var va=ia(function a(b){this.props={Type:na("Font"),Subtype:na("Type1"),BaseFont:na(b)};this._resourceName=na("F"+ ++J)},{encodeText:function(a){return new ja(String(a))}},oa);var wa=ia(function a(b,c,d){d=this.props=d||{};d.Type=na("Font");d.Subtype=na("Type0");d.Encoding=na("Identity-H");this._pdf=b;this._font=c;this._sub=c.makeSubset();this._resourceName=na("F"+ ++J);var e=c.head;this.name=c.psName;var f=this.scale=c.scale;this.bbox=[e.xMin*f,e.yMin*f,e.xMax*f,e.yMax*f];this.italicAngle=c.post.italicAngle;this.ascent=c.ascent*f;this.descent=c.descent*f;this.lineGap=c.lineGap*f;this.capHeight=c.os2.capHeight||this.ascent;this.xHeight=c.os2.xHeight||0;this.stemV=0;this.familyClass=(c.os2.familyClass||0)>>8;this.isSerif=this.familyClass>=1&&this.familyClass<=7;this.isScript=this.familyClass==10;this.flags=(c.post.isFixedPitch?1:0)|(this.isSerif?1<<1:0)|(this.isScript?1<<3:0)|(this.italicAngle!==0?1<<6:0)|1<<5},{encodeText:function(a){return new ka(this._sub.encodeText(String(a)))},getTextWidth:function(a,b){var c=this;var d=0,e=this._font.cmap.codeMap;for(var f=0;f<b.length;++f){var g=e[b.charCodeAt(f)];d+=c._font.widthOfGlyph(g||0)}return d*a/1e3},beforeRender:function(){var a=this;var b=a._sub;var c=b.render();var d=new pa(j(c),{Length1:c.length},true);var e=a._pdf.attach(new oa({Type:na("FontDescriptor"),FontName:na(a._sub.psName),FontBBox:a.bbox,Flags:a.flags,StemV:a.stemV,ItalicAngle:a.italicAngle,Ascent:a.ascent,Descent:a.descent,CapHeight:a.capHeight,XHeight:a.xHeight,FontFile2:a._pdf.attach(d)}));var f=b.ncid2ogid;var g=b.firstChar;var h=b.lastChar;var i=[];(function b(c,d){if(c<=h){var e=f[c];if(e==null){b(c+1)}else{if(!d){i.push(c,d=[])}d.push(a._font.widthOfGlyph(e));b(c+1,d)}}})(g);var k=new oa({Type:na("Font"),Subtype:na("CIDFontType2"),BaseFont:na(a._sub.psName),CIDSystemInfo:new oa({Registry:new ja("Adobe"),Ordering:new ja("Identity"),Supplement:0}),FontDescriptor:e,FirstChar:g,LastChar:h,DW:Math.round(a._font.widthOfGlyph(0)),W:i,CIDToGIDMap:a._pdf.attach(a._makeCidToGidMap())});var l=a.props;l.BaseFont=na(a._sub.psName);l.DescendantFonts=[a._pdf.attach(k)];var m=new xa(g,h,b.subset);var n=new pa(L(),null,true);n.data(m);l.ToUnicode=a._pdf.attach(n)},_makeCidToGidMap:function(){return new pa(j(this._sub.cidToGidMap()),null,true)}},oa);var xa=ia(function a(b,c,d){this.firstChar=b;this.lastChar=c;this.map=d},{render:function(a){a.indent("/CIDInit /ProcSet findresource begin");a.indent("12 dict begin");a.indent("begincmap");a.indent("/CIDSystemInfo <<");a.indent("  /Registry (Adobe)");a.indent("  /Ordering (UCS)");a.indent("  /Supplement 0");a.indent(">> def");a.indent("/CMapName /Adobe-Identity-UCS def");a.indent("/CMapType 2 def");a.indent("1 begincodespacerange");a.indent("  <0000><ffff>");a.indent("endcodespacerange");var b=this;a.indent(b.lastChar-b.firstChar+1," beginbfchar");a.withIndent(function(){for(var c=b.firstChar;c<=b.lastChar;++c){var d=b.map[c];var e=l([d]);a.indent("<",Z(c.toString(16),4),">","<");for(var f=0;f<e.length;++f){a(Z(e.charCodeAt(f).toString(16),4))}a(">")}});a.indent("endbfchar");a.indent("endcmap");a.indent("CMapName currentdict /CMap defineresource pop");a.indent("end");a.indent("end")}});function ya(a){return a.map(function(a){return _(a)?ya(a):typeof a=="number"?(Math.round(a*1e3)/1e3).toFixed(3):a}).join(" ")}function za(a,b,c,d,e,f,g){var h=ya([b,c,d,e,f,g]);var i=a.GRAD_COL_FUNCTIONS[h];if(!i){i=a.GRAD_COL_FUNCTIONS[h]=a.attach(new oa({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[b,c,d],C1:[e,f,g]}))}return i}function Aa(a,b,c){var d=ya([b,c]);var e=a.GRAD_OPC_FUNCTIONS[d];if(!e){e=a.GRAD_OPC_FUNCTIONS[d]=a.attach(new oa({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[b],C1:[c]}))}return e}function Ba(a,b){var c=false;var d=[];var e=[];var f=[];var g=[];var h,i,j,k,l;for(h=1;h<b.length;++h){i=b[h-1];j=b[h];k=i.color;l=j.color;e.push(za(a,k.r,k.g,k.b,l.r,l.g,l.b));if(k.a<1||l.a<1){c=true}f.push(j.offset);g.push(0,1)}if(c){for(h=1;h<b.length;++h){i=b[h-1];j=b[h];k=i.color;l=j.color;d.push(Aa(a,k.a,l.a))}}f.pop();return{hasAlpha:c,colors:m(e),opacities:c?m(d):null};function m(a){if(a.length==1){return a[0]}return{FunctionType:3,Functions:a,Domain:[0,1],Bounds:f,Encode:g}}}function Ca(a,b,c,d,e,f){var g,h;if(!f){var i=[b].concat(d);c.forEach(function(a){i.push(a.offset,a.color.r,a.color.g,a.color.b)});h=ya(i);g=a.GRAD_COL[h]}if(!g){g=new oa({Type:na("Shading"),ShadingType:b?3:2,ColorSpace:na("DeviceRGB"),Coords:d,Domain:[0,1],Function:e,Extend:[true,true]});a.attach(g);g._resourceName="S"+ ++J;if(h){a.GRAD_COL[h]=g}}return g}function Da(a,b,c,d,e,f){var g,h;if(!f){var i=[b].concat(d);c.forEach(function(a){i.push(a.offset,a.color.a)});h=ya(i);g=a.GRAD_OPC[h]}if(!g){g=new oa({Type:na("ExtGState"),AIS:false,CA:1,ca:1,SMask:{Type:na("Mask"),S:na("Luminosity"),G:a.attach(new pa("/a0 gs /s0 sh",{Type:na("XObject"),Subtype:na("Form"),FormType:1,BBox:f?[f.left,f.top+f.height,f.left+f.width,f.top]:[0,1,1,0],Group:{Type:na("Group"),S:na("Transparency"),CS:na("DeviceGray"),I:true},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:na("DeviceGray"),Coords:d,Domain:[0,1],ShadingType:b?3:2,Function:e,Extend:[true,true]}}}}))}});a.attach(g);g._resourceName="O"+ ++J;if(h){a.GRAD_OPC[h]=g}}return g}function Ea(a,b,c){var d=b.type=="radial";var e=Ba(a,b.stops);var f=d?[b.start.x,b.start.y,b.start.r,b.end.x,b.end.y,b.end.r]:[b.start.x,b.start.y,b.end.x,b.end.y];var g=Ca(a,d,b.stops,f,e.colors,b.userSpace&&c);var h=e.hasAlpha?Da(a,d,b.stops,f,e.opacities,b.userSpace&&c):null;return{hasAlpha:e.hasAlpha,shading:g,opacity:h}}var Fa=ia(function a(b,c){this._pdf=b;this._rcount=0;this._textMode=false;this._fontResources={};this._gsResources={};this._xResources={};this._patResources={};this._shResources={};this._opacity=1;this._matrix=[1,0,0,1,0,0];this._annotations=[];this._font=null;this._fontSize=null;this._contextStack=[];c=this.props=c||{};c.Type=na("Page");c.ProcSet=[na("PDF"),na("Text"),na("ImageB"),na("ImageC"),na("ImageI")];c.Resources=new oa({Font:new oa(this._fontResources),ExtGState:new oa(this._gsResources),XObject:new oa(this._xResources),Pattern:new oa(this._patResources),Shading:new oa(this._shResources)});c.Annots=this._annotations},{_out:function(){this._content.data.apply(null,arguments)},transform:function(a,b,c,d,e,f){if(!Na(arguments)){this._matrix=Ma(arguments,this._matrix);this._out(a," ",b," ",c," ",d," ",e," ",f," cm");this._out(I)}},translate:function(a,b){this.transform(1,0,0,1,a,b)},scale:function(a,b){this.transform(a,0,0,b,0,0)},rotate:function(a){var b=Math.cos(a),c=Math.sin(a);this.transform(b,c,-c,b,0,0)},beginText:function(){this._textMode=true;this._out("BT",I)},endText:function(){this._textMode=false;this._out("ET",I)},_requireTextMode:function(){if(!this._textMode){throw new Error("Text mode required; call page.beginText() first")}},_requireFont:function(){if(!this._font){throw new Error("No font selected; call page.setFont() first")}},setFont:function(a,b){this._requireTextMode();if(a==null){a=this._font}else if(!(a instanceof wa)){a=this._pdf.getFont(a)}if(b==null){b=this._fontSize}this._fontResources[a._resourceName]=a;this._font=a;this._fontSize=b;this._out(a._resourceName," ",b," Tf",I)},setTextLeading:function(a){this._requireTextMode();this._out(a," TL",I)},setTextRenderingMode:function(a){this._requireTextMode();this._out(a," Tr",I)},showText:function(a,b){this._requireFont();if(a.length>1&&b&&this._font instanceof wa){var c=this._font.getTextWidth(this._fontSize,a);var d=b/c*100;this._out(d," Tz ")}this._out(this._font.encodeText(a)," Tj",I)},showTextNL:function(a){this._requireFont();this._out(this._font.encodeText(a)," '",I)},addLink:function(a,b){var c=this._toPage({x:b.left,y:b.bottom});var d=this._toPage({x:b.right,y:b.top});this._annotations.push(new oa({Type:na("Annot"),Subtype:na("Link"),Rect:[c.x,c.y,d.x,d.y],Border:[0,0,0],A:new oa({Type:na("Action"),S:na("URI"),URI:new ja(a)})}))},setStrokeColor:function(a,b,c){this._out(a," ",b," ",c," RG",I)},setOpacity:function(a){this.setFillOpacity(a);this.setStrokeOpacity(a);this._opacity*=a},setStrokeOpacity:function(a){if(a<1){var b=this._pdf.getOpacityGS(this._opacity*a,true);this._gsResources[b._resourceName]=b;this._out(b._resourceName," gs",I)}},setFillColor:function(a,b,c){this._out(a," ",b," ",c," rg",I)},setFillOpacity:function(a){if(a<1){var b=this._pdf.getOpacityGS(this._opacity*a,false);this._gsResources[b._resourceName]=b;this._out(b._resourceName," gs",I)}},gradient:function(a,b){this.save();this.rect(b.left,b.top,b.width,b.height);this.clip();if(!a.userSpace){this.transform(b.width,0,0,b.height,b.left,b.top)}var c=Ea(this._pdf,a,b);var d=c.shading._resourceName,e;this._shResources[d]=c.shading;if(c.hasAlpha){e=c.opacity._resourceName;this._gsResources[e]=c.opacity;this._out("/"+e+" gs ")}this._out("/"+d+" sh",I);this.restore()},setDashPattern:function(a,b){this._out(a," ",b," d",I)},setLineWidth:function(a){this._out(a," w",I)},setLineCap:function(a){this._out(a," J",I)},setLineJoin:function(a){this._out(a," j",I)},setMitterLimit:function(a){this._out(a," M",I)},save:function(){this._contextStack.push(this._context());this._out("q",I)},restore:function(){this._out("Q",I);this._context(this._contextStack.pop())},moveTo:function(a,b){this._out(a," ",b," m",I)},lineTo:function(a,b){this._out(a," ",b," l",I)},bezier:function(a,b,c,d,e,f){this._out(a," ",b," ",c," ",d," ",e," ",f," c",I)},bezier1:function(a,b,c,d){this._out(a," ",b," ",c," ",d," y",I)},bezier2:function(a,b,c,d){this._out(a," ",b," ",c," ",d," v",I)},close:function(){this._out("h",I)},rect:function(a,b,c,d){this._out(a," ",b," ",c," ",d," re",I)},ellipse:function(a,b,c,d){function e(b){return a+b}function f(a){return b+a}var g=.5522847498307936;this.moveTo(e(0),f(d));this.bezier(e(c*g),f(d),e(c),f(d*g),e(c),f(0));this.bezier(e(c),f(-d*g),e(c*g),f(-d),e(0),f(-d));this.bezier(e(-c*g),f(-d),e(-c),f(-d*g),e(-c),f(0));this.bezier(e(-c),f(d*g),e(-c*g),f(d),e(0),f(d))},circle:function(a,b,c){this.ellipse(a,b,c,c)},stroke:function(){this._out("S",I)},nop:function(){this._out("n",I)},clip:function(){this._out("W n",I)},clipStroke:function(){this._out("W S",I)},closeStroke:function(){this._out("s",I)},fill:function(){this._out("f",I)},fillStroke:function(){this._out("B",I)},drawImage:function(a){var b=this._pdf.getImage(a);if(b){this._xResources[b._resourceName]=b;this._out(b._resourceName," Do",I)}},comment:function(a){var b=this;a.split(/\r?\n/g).forEach(function(a){b._out("% ",a,I)})},_context:function(a){if(a!=null){this._opacity=a.opacity;this._matrix=a.matrix}else{return{opacity:this._opacity,matrix:this._matrix}}},_toPage:function(a){var b=this._matrix;var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5];return{x:c*a.x+e*a.y+g,y:d*a.x+f*a.y+h}}},oa);function Ga(a){return a.replace(/^\s*(['"])(.*)\1\s*$/,"$2")}function Ha(a){var b=/^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;var c=b.exec(a);if(!c){return{fontSize:12,fontFamily:"sans-serif"}}var d=c[8]?parseInt(c[8],10):12;return{italic:c[2]&&c[2].toLowerCase()=="italic",variant:c[4],bold:c[6]&&/bold|700/i.test(c[6]),fontSize:d,lineHeight:c[12]?c[12]=="normal"?d:parseInt(c[12],10):null,fontFamily:c[14].split(/\s*,\s*/g).map(Ga)}}function Ia(a){function b(b){if(a.bold){b+="|bold"}if(a.italic){b+="|italic"}return b.toLowerCase()}var c=a.fontFamily;var d,e;if(c instanceof Array){for(var f=0;f<c.length;++f){d=b(c[f]);e=Ja[d];if(e){break}}}else{e=Ja[c.toLowerCase()]}while(typeof e=="function"){e=e()}if(!e){e="Times-Roman"}return e}var Ja={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function Ka(a,b){a=a.toLowerCase();Ja[a]=function(){return Ja[b]};Ja[a+"|bold"]=function(){return Ja[b+"|bold"]};Ja[a+"|italic"]=function(){return Ja[b+"|italic"]};Ja[a+"|bold|italic"]=function(){return Ja[b+"|bold|italic"]}}Ka("Times New Roman","serif");Ka("Courier New","monospace");Ka("Arial","sans-serif");Ka("Helvetica","sans-serif");Ka("Verdana","sans-serif");Ka("Tahoma","sans-serif");Ka("Georgia","sans-serif");Ka("Monaco","monospace");Ka("Andale Mono","monospace");function La(a,b){if(arguments.length==1){for(var c in a){if($(a,c)){La(c,a[c])}}}else{a=a.toLowerCase();Ja[a]=b;switch(a){case"dejavu sans":Ja["sans-serif"]=b;break;case"dejavu sans|bold":Ja["sans-serif|bold"]=b;break;case"dejavu sans|italic":Ja["sans-serif|italic"]=b;break;case"dejavu sans|bold|italic":Ja["sans-serif|bold|italic"]=b;break;case"dejavu serif":Ja["serif"]=b;break;case"dejavu serif|bold":Ja["serif|bold"]=b;break;case"dejavu serif|italic":Ja["serif|italic"]=b;break;case"dejavu serif|bold|italic":Ja["serif|bold|italic"]=b;break;case"dejavu mono":Ja["monospace"]=b;break;case"dejavu mono|bold":Ja["monospace|bold"]=b;break;case"dejavu mono|italic":Ja["monospace|italic"]=b;break;case"dejavu mono|bold|italic":Ja["monospace|bold|italic"]=b;break}}}function Ma(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];var i=b[0],j=b[1],k=b[2],l=b[3],m=b[4],n=b[5];return[c*i+d*k,c*j+d*l,e*i+f*k,e*j+f*l,g*i+h*k+m,g*j+h*l+n]}function Na(a){return a[0]===1&&a[1]===0&&a[2]===0&&a[3]===1&&a[4]===0&&a[5]===0}var Oa={fill:0,stroke:1,fillAndStroke:2,invisible:3,fillAndClip:4,strokeAndClip:5,fillStrokeClip:6,clip:7};var Pa=Oa;var Qa={dash:[4],dashDot:[4,2,1,2],dot:[1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2],solid:[]};var Ra={butt:0,round:1,square:2};var Sa={miter:0,round:1,bevel:2};function Ta(a,b){var c=[],d={},f=a.options;function h(a,b,c){if(!c){c=f}if(c.pdf&&c.pdf[a]!=null){return c.pdf[a]}return b}var i=h("multiPage");var j=h("imgDPI");if(j){T()}a.traverse(function(a){Xa({Image:function(a){var b=a.src();if(j){var c=a.bbox().size;var e=d[b];c={width:Math.ceil(c.width*j/72),height:Math.ceil(c.height*j/72)};if(e){c.width=Math.max(e.width,c.width);c.height=Math.max(e.height,c.height)}d[b]=c}else{d[b]=null}},Text:function(a){var b=Ha(a.options.font);var d=Ia(b);if(c.indexOf(d)<0){c.push(d)}}},a)});function k(){if(--l>0){return}var c=new O({producer:h("producer"),title:h("title"),author:h("author"),subject:h("subject"),keywords:h("keywords"),creator:h("creator"),date:h("date"),autoPrint:h("autoPrint")});function d(a){var b=a.options;var d=ob(a);var f=d.bbox;a=d.root;var i=h("paperSize",h("paperSize","auto"),b),j=false;if(i=="auto"){if(f){var k=f.getSize();i=[k.width,k.height];j=true;var l=f.getOrigin();d=new e.Group;d.transform(new g.Matrix(1,0,0,1,-l.x,-l.y));d.append(a);a=d}else{i="A4"}}var m;m=c.addPage({paperSize:i,margin:h("margin",h("margin"),b),addMargin:j,landscape:h("landscape",h("landscape",false),b)});Ya(a,m,c)}if(i){a.children.forEach(d)}else{d(a)}b(c.render(),c)}var l=2;W(c,k);X(d,k)}function Ua(a,b){Ta(a,function(a){b("data:application/pdf;base64,"+a.base64())})}function Va(a,b){Ta(a,function(a){b(new window.Blob([a.get()],{type:"application/pdf"}))})}function Wa(b,d,e,f){if(window.Blob&&!c.safari){Va(b,function(b){a.saveAs({dataURI:b,fileName:d});if(f){f(b)}})}else{Ua(b,function(b){a.saveAs({dataURI:b,fileName:d,proxyURL:e});if(f){f(b)}})}}function Xa(a,b){var c=a[b.nodeType];if(c){return c.call.apply(c,arguments)}return b}function Ya(a,b,c){if(a.options._pdfDebug){b.comment("BEGIN: "+a.options._pdfDebug)}var d=a.transform();var e=a.opacity();b.save();if(e!=null&&e<1){b.setOpacity(e)}Za(a,b,c);$a(a,b,c);if(d){var f=d.matrix();b.transform(f.a,f.b,f.c,f.d,f.e,f.f)}_a(a,b,c);Xa({Path:fb,MultiPath:gb,Circle:hb,Arc:ib,Text:jb,Image:lb,Group:kb,Rect:mb},a,b,c);b.restore();if(a.options._pdfDebug){b.comment("END: "+a.options._pdfDebug)}}function Za(a,b){var c=a.stroke&&a.stroke();if(!c){return}var d=c.color;if(d){d=nb(d);if(d==null){return}b.setStrokeColor(d.r,d.g,d.b);if(d.a!=1){b.setStrokeOpacity(d.a)}}var e=c.width;if(e!=null){if(e===0){return}b.setLineWidth(e)}var f=c.dashType;if(f){b.setDashPattern(Qa[f],0)}var g=c.lineCap;if(g){b.setLineCap(Ra[g])}var h=c.lineJoin;if(h){b.setLineJoin(Sa[h])}var i=c.opacity;if(i!=null){b.setStrokeOpacity(i)}}function $a(a,b){var c=a.fill&&a.fill();if(!c){return}if(c instanceof e.Gradient){return}var d=c.color;if(d){d=nb(d);if(d==null){return}b.setFillColor(d.r,d.g,d.b);if(d.a!=1){b.setFillOpacity(d.a)}}var f=c.opacity;if(f!=null){b.setFillOpacity(f)}}function _a(a,b,c){var d=a.clip();if(d){eb(d,b,c);b.clip()}}function ab(a){return a&&(a instanceof e.Gradient||a.color&&!/^(none|transparent)$/i.test(a.color)&&(a.width==null||a.width>0)&&(a.opacity==null||a.opacity>0))}function bb(a,b,c,d){var f=a.fill();if(f instanceof e.Gradient){if(d){b.clipStroke()}else{b.clip()}var g=f instanceof e.RadialGradient;var h,i;if(g){h={x:f.center().x,y:f.center().y,r:0};i={x:f.center().x,y:f.center().y,r:f.radius()}}else{h={x:f.start().x,y:f.start().y};i={x:f.end().x,y:f.end().y}}var j=f.stops.elements().map(function(a){var b=a.offset();if(/%$/.test(b)){b=parseFloat(b)/100}else{b=parseFloat(b)}var c=nb(a.color());c.a*=a.opacity();return{offset:b,color:c}});j.unshift(j[0]);j.push(j[j.length-1]);var k={userSpace:f.userSpace(),type:g?"radial":"linear",start:h,end:i,stops:j};var l=a.rawBBox();var m=l.topLeft(),n=l.getSize();l={left:m.x,top:m.y,width:n.width,height:n.height};b.gradient(k,l);return true}}function cb(a,b,c){if(ab(a.fill())&&ab(a.stroke())){if(!bb(a,b,c,true)){b.fillStroke()}}else if(ab(a.fill())){if(!bb(a,b,c,false)){b.fill()}}else if(ab(a.stroke())){b.stroke()}else{b.nop()}}function db(a,b){var c=a.segments;if(c.length==4&&a.options.closed){var d=[];for(var e=0;e<c.length;++e){if(c[e].controlIn()){return false}d[e]=c[e].anchor()}var f=d[0].y==d[1].y&&d[1].x==d[2].x&&d[2].y==d[3].y&&d[3].x==d[0].x||d[0].x==d[1].x&&d[1].y==d[2].y&&d[2].x==d[3].x&&d[3].y==d[0].y;if(f){b.rect(d[0].x,d[0].y,d[2].x-d[0].x,d[2].y-d[0].y);return true}}}function eb(a,b,c){var d=a.segments;if(d.length===0){return}if(!db(a,b,c)){for(var e,f=0;f<d.length;++f){var g=d[f];var h=g.anchor();if(!e){b.moveTo(h.x,h.y)}else{var i=e.controlOut();var j=g.controlIn();if(i&&j){b.bezier(i.x,i.y,j.x,j.y,h.x,h.y)}else{b.lineTo(h.x,h.y)}}e=g}if(a.options.closed){b.close()}}}function fb(a,b,c){eb(a,b,c);cb(a,b,c)}function gb(a,b,c){var d=a.paths;for(var e=0;e<d.length;++e){eb(d[e],b,c)}cb(a,b,c)}function hb(a,b,c){var d=a.geometry();b.circle(d.center.x,d.center.y,d.radius);cb(a,b,c)}function ib(a,b,c){var d=a.geometry().curvePoints();b.moveTo(d[0].x,d[0].y);for(var e=1;e<d.length;){b.bezier(d[e].x,d[e++].y,d[e].x,d[e++].y,d[e].x,d[e++].y)}cb(a,b,c)}function jb(a,b){var c=Ha(a.options.font);var d=a._position;var e;if(a.fill()&&a.stroke()){e=Pa.fillAndStroke}else if(a.fill()){e=Pa.fill}else if(a.stroke()){e=Pa.stroke}b.transform(1,0,0,-1,d.x,d.y+c.fontSize);b.beginText();b.setFont(Ia(c),c.fontSize);b.setTextRenderingMode(e);b.showText(a.content(),a._pdfRect?a._pdfRect.width():null);b.endText()}function kb(a,b,c){if(a._pdfLink){b.addLink(a._pdfLink.url,a._pdfLink)}var d=a.children;for(var e=0;e<d.length;++e){Ya(d[e],b,c)}}function lb(a,b){var c=a.src();if(!c){return}var d=a.rect();var e=d.getOrigin();var f=d.getSize();b.transform(f.width,0,0,-f.height,e.x,e.y+f.height);b.drawImage(c)}function mb(a,b,c){var d=a.geometry();b.rect(d.origin.x,d.origin.y,d.size.width,d.size.height);cb(a,b,c)}function nb(b){var c=a.parseColor(b,true);return c?c.toRGB():null}function ob(a){var b=false;var c=g.Matrix.unit();var d=null;var f;do{f=false;a=m(a)}while(a&&f);return{root:a,bbox:d};function h(a){f=true;return a}function i(a){return a.visible()&&a.opacity()>0&&(ab(a.fill())||ab(a.stroke()))}function j(a){var b=[];for(var c=0;c<a.length;++c){var d=m(a[c]);if(d!=null){b.push(d)}}return b}function k(a,d){var e=b;var f=c;if(a.transform()){c=c.multiplyCopy(a.transform().matrix())}var h=a.clip();if(h){h=h.bbox();if(h){h=h.bbox(c);b=b?g.Rect.intersect(b,h):h}}try{return d()}finally{b=e;c=f}}function l(a){if(b==null){return false}var d=a.rawBBox().bbox(c);if(b&&d){d=g.Rect.intersect(d,b)}return d}function m(b){return k(b,function(){if(!(b instanceof e.Group||b instanceof e.MultiPath)){var c=l(b);if(!c){return h(null)}d=d?g.Rect.union(d,c):c}return Xa({Path:function(a){if(a.segments.length===0||!i(a)){return h(null)}return a},MultiPath:function(a){if(!i(a)){return h(null)}var b=new e.MultiPath(a.options);b.paths=j(a.paths);if(b.paths.length===0){return h(null)}return b},Circle:function(a){if(!i(a)){return h(null)}return a},Arc:function(a){if(!i(a)){return h(null)}return a},Text:function(a){if(!/\S/.test(a.content())||!i(a)){return h(null)}return a},Image:function(a){if(!(a.visible()&&a.opacity()>0)){return h(null)}return a},Group:function(b){var c=new e.Group(b.options);c.children=j(b.children);c._pdfLink=b._pdfLink;if(b!==a&&c.children.length===0&&!b._pdfLink){return h(null)}return c},Rect:function(a){if(!i(a)){return h(null)}return a}},b)})}}function pb(a,b){var c=f.createPromise();for(var d in b){if(d=="margin"&&a.options.pdf&&a.options.pdf._ignoreMargin){continue}a.options.set("pdf."+d,b[d])}Ua(a,c.resolve);return c}a.deepExtend(a.pdf,{Document:O,BinaryStream:j,defineFont:La,parseFontDef:Ha,getFontURL:Ia,loadFonts:W,loadImages:X,getPaperOptions:N,clearImageCache:T,TEXT_RENDERING_MODE:Oa,exportPDF:pb,saveAs:Wa,toDataURL:Ua,toBlob:Va,render:Ta});a.drawing.exportPDF=a.pdf.exportPDF;a.drawing.pdf=a.pdf})(kendo);return kendo},typeof define=="function"&&define.amd?define:function(a,b,c){
(c||b)()});(function(a,b){b("pdf/mixins",["pdf/core"],a)})(function(){(function(a,b){kendo.PDFMixin={extend:function(a){a.events.push("pdfExport");a.options.pdf=this.options;a.saveAsPDF=this.saveAsPDF;a._drawPDF=this._drawPDF;a._drawPDFShadow=this._drawPDFShadow},options:{fileName:"Export.pdf",proxyURL:"",paperSize:"auto",allPages:false,landscape:false,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+kendo.version,date:null},saveAsPDF:function(){var b=new a.Deferred;var c=b.promise();var d={promise:c};if(this.trigger("pdfExport",d)){return}var e=this.options.pdf;e.multiPage=e.multiPage||e.allPages;this._drawPDF(b).then(function(a){return kendo.drawing.exportPDF(a,e)}).done(function(a){kendo.saveAs({dataURI:a,fileName:e.fileName,proxyURL:e.proxyURL,forceProxy:e.forceProxy,proxyTarget:e.proxyTarget});b.resolve()}).fail(function(a){b.reject(a)});return c},_drawPDF:function(b){var c=new a.Deferred;kendo.drawing.drawDOM(this.wrapper).done(function(a){var d={page:a,pageNumber:1,progress:1,totalPages:1};b.notify(d);c.resolve(d.page)}).fail(function(a){c.reject(a)});return c},_drawPDFShadow:function(b,c){b=b||{};var d=this.wrapper;var e=a("<div class='k-pdf-export-shadow'>");if(b.width){e.css({width:b.width,overflow:"visible"})}d.before(e);e.append(b.content||d.clone(true,true));var f=a.Deferred();setTimeout(function(){var a=kendo.drawing.drawDOM(e,c);a.always(function(){e.remove()}).then(function(){f.resolve.apply(f,arguments)}).fail(function(){f.reject.apply(f,arguments)}).progress(function(){f.progress.apply(f,arguments)})},15);return f.promise()}}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.pdf",["kendo.core","kendo.drawing","pdf/core","pdf/mixins"],a)})(function(){var a={id:"pdf",name:"PDF export",description:"PDF Generation framework",mixin:true,category:"framework",depends:["core","drawing"]}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.grid",["kendo.data","kendo.columnsorter","kendo.editable","kendo.window","kendo.filtermenu","kendo.columnmenu","kendo.groupable","kendo.pager","kendo.selectable","kendo.sortable","kendo.reorderable","kendo.resizable","kendo.mobile.actionsheet","kendo.mobile.pane","kendo.ooxml","kendo.excel","kendo.progressbar","kendo.pdf"],a)})(function(){var a={id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data","columnsorter","sortable"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-filtercell",name:"Row filter",description:"Support for grid header filtering",depends:["filtercell"]},{id:"grid-paging",name:"Paging",description:"Support for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]},{id:"grid-mobile",name:"Grid adaptive rendering",description:"Support for adaptive rendering",depends:["mobile.actionsheet","mobile.pane"]},{id:"grid-excel-export",name:"Excel export",description:"Export grid data as Excel spreadsheet",depends:["excel"]},{id:"grid-pdf-export",name:"PDF export",description:"Export grid data as PDF",depends:["pdf","drawing","progressbar"]}]};(function(a,b){var c=window.kendo,d=c.ui,e=c.data.DataSource,f=c.data.ObservableObject,g=c.support.tbodyInnerHtml,h=c._activeElement,i=d.Widget,j=c._outerWidth,k=c._outerHeight,l=c.keys,m=a.isPlainObject,n=a.extend,o=a.map,p=a.grep,q=a.isArray,r=a.inArray,s=Array.prototype.push,t=a.proxy,u=c.isFunction,v=a.isEmptyObject,w=a.contains,x=Math,y="progress",z="error",A=":not(.k-group-cell):not(.k-hierarchy-cell):visible",B="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",C="tr:not(.k-footer-template):visible",D=":not(.k-group-cell):not(.k-hierarchy-cell):visible",E="tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible",F=E+":first",G=E+":last",H=C+":first>"+D+":first",I="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",J=".kendoGrid",K="edit",L="beforeEdit",M="save",N="remove",O="detailInit",P="filterMenuInit",Q="columnMenuInit",R="filterMenuOpen",S="columnMenuOpen",T="cellClose",U="change",V="columnHide",W="columnShow",X="saveChanges",Y="dataBound",Z="detailExpand",$="detailCollapse",_="itemchange",aa="page",ba="paging",ca="scroll",da="sync",ea="k-state-focused",fa=":kendoFocusable",ga="k-state-selected",ha="k-checkbox",ia="input[data-role='checkbox']."+ha,ja="k-grid-norecords",ka="columnResize",la="columnReorder",ma="columnLock",na="columnUnlock",oa="navigate",pa="click",qa="height",ra="tabIndex",sa="function",ta="string",ua="bottom",va="container-for",wa="field",xa="input",ya="incell",za="inline",Aa="uid",Ba="Are you sure you want to delete this record?",Ca="No records available.",Da="Delete",Ea="Cancel",Fa="Collapse",Ga="Expand",Ha="aria-label",Ia=/(\}|\#)/gi,Ja=/#/gi,Ka="[\\x20\\t\\r\\n\\f]",La=new RegExp("(^|"+Ka+")"+"(k-group-cell|k-hierarchy-cell)"+"("+Ka+"|$)"),Ma=new RegExp("(^|"+Ka+")"+"(k-filter-row)"+"("+Ka+"|$)"),Na="# if (iconClass) {#"+'<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass#"></span>#=text#</a>'+"# } else { #"+'<a role="button" class="k-button k-button-icontext #=className#" #=attr# href="\\#">#=text#</a>'+"# } #",Oa="# var checkboxGuid = kendo.guid(); #"+'<input class="'+ha+'" data-role="checkbox" id="#= checkboxGuid #" aria-label="Select row" aria-checked="false" type="checkbox">'+'<label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">&\\#8203;</label>',Pa="# var checkboxGuid = kendo.guid(); #"+'<input class="'+ha+'" data-role="checkbox" aria-label="Select all rows" aria-checked="false" type="checkbox" id="#= checkboxGuid #">'+'<label for="#= checkboxGuid #" class="k-checkbox-label k-no-text">##&\\#8203;##</label>',Qa=false,Ra=c.support.browser,Sa=Ra.msie&&Ra.version==7,Ta=Ra.msie&&Ra.version==8;var Ua=Ra.msie&&Ra.version===11;var Va=i.extend({init:function(a,b){var c=this;i.fn.init.call(c,a,b);c._refreshHandler=t(c.refresh,c);c.setDataSource(b.dataSource);c.wrap()},setDataSource:function(a){var b=this;if(b.dataSource){b.dataSource.unbind(U,b._refreshHandler)}b.dataSource=a;b.dataSource.bind(U,b._refreshHandler);b.dataSource.options.useRanges=true},options:{name:"VirtualScrollable",itemHeight:a.noop,prefetch:true,maxScrollHeight:25e4},events:[ba,aa,ca],destroy:function(){var a=this;i.fn.destroy.call(a);a.dataSource.unbind(U,a._refreshHandler);a.wrapper.add(a.verticalScrollbar).off(J);if(a.drag){a.drag.destroy();a.drag=null}a.wrapper=a.element=a.verticalScrollbar=null;a._refreshHandler=null},wrap:function(){var b=this,d=c.support.scrollbar()+1,e=b.element,f;e.css({width:"auto",overflow:"hidden"}).css(Qa?"padding-left":"padding-right",d);b.content=e.children().first();f=b.wrapper=b.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+J+" mousewheel"+J,t(b._wheelScroll,b));b._wrapper();if(c.support.kineticScrollNeeded){b.drag=new c.UserEvents(b.wrapper,{global:true,allowSelection:true,start:function(a){a.sender.capture()},move:function(a){b.verticalScrollbar.scrollTop(b.verticalScrollbar.scrollTop()-a.y.delta);f.scrollLeft(f.scrollLeft()-a.x.delta);a.preventDefault()}})}b.verticalScrollbar=a('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:d}).appendTo(e).bind("scroll"+J,t(b._scroll,b))},_wrapper:function(){var a=this;if(Ua){a.wrapper.css({"overflow-y":ca});a.element.css(Qa?"padding-left":"padding-right",0)}},_wheelScroll:function(a){if(a.ctrlKey){return}var b=this.verticalScrollbar,d=b.scrollTop(),e=c.wheelDeltaY(a);if(e&&!(e>0&&d===0)&&!(e<0&&d+b[0].clientHeight==b[0].scrollHeight)){a.preventDefault();this.verticalScrollbar.scrollTop(d+-e)}},_scroll:function(a){var b=this,c=!b.options.prefetch,d=a.currentTarget.scrollTop,e=b.dataSource,f=b.itemHeight,g=e.skip()||0,h=b._rangeStart||g,i=b.element.innerHeight(),j=!!(b._scrollbarTop&&b._scrollbarTop>d),k=x.max(x.floor(d/f),0),l=j?x.ceil(i/f):x.floor(i/f),m=x.max(k+l,0);if(b._preventScroll){b._preventScroll=false;return}b._scrollTop=d-h*f;b._scrollbarTop=d;b._scrolling=c;if(!b._fetch(k,m,j)){b.wrapper[0].scrollTop=b._scrollTop}b.trigger(ca);if(c){if(b._scrollingTimeout){clearTimeout(b._scrollingTimeout)}b._scrollingTimeout=setTimeout(function(){b._scrolling=false;b._page(b._rangeStart,b.dataSource.take())},100)}},scrollToTop:function(){this._scrollTo(0)},scrollToBottom:function(){var a=this.verticalScrollbar;this._scrollTo(a[0].scrollHeight-a.height())},_scrollWrapperToTop:function(){this.wrapper.scrollTop(0)},_scrollWrapperToBottom:function(){this.wrapper.scrollTop(this.wrapper[0].scrollHeight)},_scrollWrapperOnColumnResize:function(){var a=this;var b=this.wrapper;var d=b.scrollTop();if(b[0].scrollWidth>b[0].clientWidth){if(!a._wrapperScrolled||a._isScrolledToBottom()){b.scrollTop(d+c.support.scrollbar());a._scrollTop=b.scrollTop();a._wrapperScrolled=true}}else if(a._wrapperScrolled){if(!a._isWrapperScrolledToBottom()){b.scrollTop(d-c.support.scrollbar());a._scrollTop=b.scrollTop()}a._wrapperScrolled=false}},_scrollTo:function(a){var b=this;var c=b.verticalScrollbar;if(c.scrollTop()!==a){b._preventScroll=true}b.wrapper.scrollTop(a);b._scrollTop=b.wrapper.scrollTop();c.scrollTop(a);b._scrollbarTop=c.scrollTop()},_isScrolledToTop:function(){return this.verticalScrollbar.scrollTop()===0},_isScrolledToBottom:function(){var a=this.verticalScrollbar;var b=a.scrollTop();return b>0&&b>=parseInt(a[0].scrollHeight-a.height(),10)},_isWrapperScrolledToBottom:function(){var a=this.wrapper;return a.scrollTop()>=parseInt(a[0].scrollHeight-a.height(),10)},itemIndex:function(a){var b=this._rangeStart||this.dataSource.skip()||0;return b+a},_isElementVisible:function(a){return this._isElementVisibleInWrapper(a)},_isElementVisibleInWrapper:function(b){var c=this;var d=c.wrapper;var e;var f;b=a(b);if(b[0]&&w(d[0],b[0])){e=b.offset().top-d.offset().top;f=b.outerHeight()/2;if((e>=0||x.abs(e)<=f)&&x.floor(e+f)<=d.height()){return true}}return false},position:function(a){var b=this._rangeStart||this.dataSource.skip()||0;var c=this.dataSource.pageSize();var d;if(a>b){d=a-b+1}else{d=b-a-1}return d>c?c:d},scrollIntoView:function(a){var b=this.wrapper[0];var c=b.clientHeight;var d=!this._isScrolledToBottom()?this._scrollTop||b.scrollTop:b.scrollTop;var e=a[0].offsetTop;var f=a[0].offsetHeight;if(d>e){this.verticalScrollbar[0].scrollTop-=c/2}else if(e+f>=d+c){this.verticalScrollbar[0].scrollTop+=c/2}},_fetch:function(b,c,d){var e=this,f=e.dataSource,g=e.itemHeight,h=f.take(),i=e._rangeStart||f.skip()||0,j=x.floor(b/h)*h,k=false,l=.33;var m=e.verticalScrollbar;var n=Ra.webkit?1:0;if(b<i){k=true;i=x.max(0,c-h);e._scrollTop=m.scrollTop()-i*g;e._page(i,h)}else if(c>=i+h&&!d){k=true;i=x.min(b,f.total()-h);if(m.scrollTop()>=m[0].scrollHeight-m.height()-n){e._scrollTop=e.wrapper[0].scrollHeight-e.wrapper.height()}else{e._scrollTop=g}e._page(i,h)}else if(!e._fetching&&e.options.prefetch){if(b<j+h-h*l&&b>h){f.prefetch(j-h,h,a.noop)}if(c>j+h*l){f.prefetch(j+h,h,a.noop)}}return k},fetching:function(){return this._fetching},_page:function(b,d,e){var f=this,g=!f.options.prefetch,h=f.dataSource;e=u(e)?e:a.noop;if(f.trigger(ba,{skip:b,take:d})){return}clearTimeout(f._timeout);f._fetching=true;f._rangeStart=b;if(h.inRange(b,d)){c.ui.progress(a(f.wrapper).parent(),true);h.range(b,d,function(){c.ui.progress(a(f.wrapper).parent(),false);e();f.trigger(aa)})}else{if(!g){c.ui.progress(f.wrapper.parent(),true)}f._timeout=setTimeout(function(){if(!f._scrolling){if(g){c.ui.progress(f.wrapper.parent(),true)}h.range(b,d,function(){c.ui.progress(f.wrapper.parent(),false);e();f.trigger(aa)})}},100)}},repaintScrollbar:function(a){var b=this,d="",e=b.options.maxScrollHeight,f=b.dataSource,g=!c.support.kineticScrollNeeded?c.support.scrollbar():0,h=b.wrapper[0],i,j,k;var l=b._isScrolledToBottom();k=b.itemHeight=b.options.itemHeight()||0;var m=h.scrollWidth>h.offsetWidth?g:0;i=f.total()*k+m;for(j=0;j<x.floor(i/e);j++){d+='<div style="width:1px;height:'+e+'px"></div>'}if(i%e){d+='<div style="width:1px;height:'+i%e+'px"></div>'}b.verticalScrollbar.html(d);if(l&&!b._isScrolledToBottom()){b.scrollToBottom()}if(typeof b._scrollTop!=="undefined"&&!!a){h.scrollTop=b._scrollTop;b._scrollWrapperOnColumnResize()}},refresh:function(a){var b=this,d=b.dataSource,e=b._rangeStart;var f=(a||{}).action;var g=b._isScrolledToBottom()||!f||f!==_&&f!==N&&f!==da;c.ui.progress(b.wrapper.parent(),false);clearTimeout(b._timeout);b.repaintScrollbar(g);if(b.drag){b.drag.cancel()}if(typeof e!=="undefined"&&!b._fetching){if(!f||f!==da&&f!==_){b._rangeStart=d.skip()}if(d.page()===1&&(!f||f!==da&&f!==_)){b.verticalScrollbar[0].scrollTop=0}}b._fetching=false}});function Wa(a,b){return"["+c.attr(a)+"="+b+"]"}function Xa(a){return new Array(a+1).join('<td class="k-group-cell">&nbsp;</td>')}function Ya(a){var b,c=" ";if(a){if(typeof a===ta){return a}for(b in a){if(a[b]!==""){c+=b+'="'+a[b]+'"'}}}return c}var Za={create:{text:"Add new record",className:"k-grid-add",iconClass:"k-icon k-i-plus"},cancel:{text:"Cancel changes",className:"k-grid-cancel-changes",iconClass:"k-icon k-i-cancel"},save:{text:"Save changes",className:"k-grid-save-changes",iconClass:"k-icon k-i-check"},destroy:{text:"Delete",className:"k-grid-delete",iconClass:"k-icon k-i-close"},edit:{text:"Edit",className:"k-grid-edit",iconClass:"k-icon k-i-edit"},update:{text:"Update",className:"k-primary k-grid-update",iconClass:"k-icon k-i-check"},canceledit:{text:"Cancel",className:"k-grid-cancel",iconClass:"k-icon k-i-cancel"},excel:{text:"Export to Excel",className:"k-grid-excel",iconClass:"k-icon k-i-file-excel"},pdf:{text:"Export to PDF",className:"k-grid-pdf",iconClass:"k-icon k-i-file-pdf"}};function $a(b,c){a("th, th .k-grid-filter, th .k-link",b).add(document.body).css("cursor",c)}function _a(b,c,d,e,f){var g=c;c=a();f=f||1;for(var h=0;h<f;h++){c=c.add(b.eq(g+h))}if(typeof d=="number"){c[e?"insertBefore":"insertAfter"](b.eq(d))}else{c.appendTo(d)}}function ab(b,c,d){return a(b).add(c).find(d)}function bb(a,b,c){var d,e,f,g;c=!q(c)?[c]:c;for(d=0,e=c.length;d<e;d++){f=c[d];if(m(f)&&f.click){g=f.name||f.text;b.on(pa+J,"a.k-grid-"+(g||"").replace(/\s/g,""),{commandName:g},t(f.click,a))}}}function cb(a,b,d){return o(a,function(a){a=typeof a===ta?{field:a}:a;var e;if(!hb(a)||d){a.attributes=Mb(a.attributes);a.footerAttributes=Mb(a.footerAttributes);a.headerAttributes=Mb(a.headerAttributes);e=true}if(a.columns){a.columns=cb(a.columns,b,e)}var f=c.guid();a.headerAttributes=n({id:f},a.headerAttributes);return n({encoded:b,hidden:e},a)})}function db(a,b){var c=[];eb(a,b,c);return c[c.length-1]}function eb(a,b,c){c=c||[];for(var d=0;d<b.length;d++){if(a===b[d]){return true}else if(b[d].columns){var e=c.length;c.push(b[d]);if(!eb(a,b[d].columns,c)){c.splice(e,c.length-e)}else{return true}}}return false}function fb(a,b){var c=b?Nb:Mb;a.hidden=!b;a.attributes=c(a.attributes);a.footerAttributes=c(a.footerAttributes);a.headerAttributes=c(a.headerAttributes)}function gb(){return this.style.display!=="none"}function hb(a){return ib([a]).length>0}function ib(a){return p(a,function(a){var b=!a.hidden;if(b&&a.columns){b=ib(a.columns).length>0}return b})}function jb(b){return a(b).map(function(){return this.toArray()})}function kb(a,b,c){var d=nb(Cb(b));var e=nb(Db(b));var f=a.rowSpan;if(c){if(d>e){a.rowSpan=f-(d-e)||1}else{a.rowSpan=f+(e-d)}}else{if(d>e){a.rowSpan=f+(d-e)}else{a.rowSpan=f-(e-d)||1}}}function lb(b,c,d,e,f,g,h){var i=nb(b);var j=nb([c]);if(i>j){var k=new Array(h+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>');var l=g.children(":not(.k-filter-row)");a(new Array(i-j+1).join("<tr>"+k+"</tr>")).insertAfter(l.last())}zb(g,i-j);ob(d,e,f,g)}function mb(b,d,e){e=e||0;var f;var g;var h=d;d=Hb(d);var i={};var j=b.find(">tr:not(.k-filter-row)");var k=function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")};for(var l=0,m=d.length;l<m;l++){f=pb(d[l],h);if(!i[f.row]){i[f.row]=j.eq(f.row).find(".k-header").filter(k)}g=i[f.row].eq(f.cell);g.attr(c.attr("index"),e+l)}return d.length}function nb(a){var b=1;var c=0;for(var d=0;d<a.length;d++){if(a[d].columns){var e=nb(a[d].columns);if(e>c){c=e}}}return b+c}function ob(b,c,d,e){var f=sb(b[0],c);var g=d.find(">tr:not(.k-filter-row):eq("+f.row+")>th.k-header");var h=a();var i=f.cell;var j;for(j=0;j<b.length;j++){h=h.add(g.eq(i+j))}e.find(">tr:not(.k-filter-row)").eq(f.row).append(h);var k=[];for(j=0;j<b.length;j++){if(b[j].columns){k=k.concat(b[j].columns)}}if(k.length){ob(k,c,d,e)}}function pb(a,b,c,d){var e;var f;c=c||0;d=d||{};d[c]=d[c]||0;for(f=0;f<b.length;f++){if(b[f]==a){e={cell:d[c],row:c};break}else if(b[f].columns){e=pb(a,b[f].columns,c+1,d);if(e){break}}d[c]++}return e}function qb(a,b,c,d){var e;var f=!!c.locked;var g;do{e=a[b];b+=d?1:-1;g=!!e.locked}while(e&&b>-1&&b<a.length&&e!=c&&!e.columns&&g===f);return e}function rb(a,b,c,d,e){if(b.columns){b=b.columns;return b[d?0:b.length-1]}else{var f=db(b,a);var g;if(f){g=f.columns}else{g=a}var h=r(b,g);if(h===0&&d){h++}else if(h==g.length-1&&!d){h--}else if(h>0||h===0&&!d){h+=d?-1:1}var i=r(c,g);b=qb(g,h,c,i>h);var j=r(b,e);if(b.columns&&(!j||j===g.length-1)){return null}if(b&&b!=c&&b.columns){return rb(a,b,c,d,e)}}return null}function sb(a,b,c,d){var e;var f;c=c||0;d=d||{};d[c]=d[c]||0;for(f=0;f<b.length;f++){if(b[f]==a){e={cell:d[c],row:c};break}else if(b[f].columns){e=sb(a,b[f].columns,c+1,d);if(e){break}}if(!b[f].hidden){d[c]++}}return e}function tb(a){var b=vb(Cb(a));return b.concat(vb(Db(a)))}function ub(a,b,c,d){var e=a[c];var f=a[d];var g=db(e,b);b=g?g.columns:b;return r(f,b)}function vb(a){var b=[];var c=[];for(var d=0;d<a.length;d++){b.push(a[d]);if(a[d].columns){c=c.concat(a[d].columns)}}if(c.length){b=b.concat(vb(c))}return b}function wb(a){var b=0;var c;for(var d=0;d<a.length;d++){c=a[d];if(c.columns){b+=wb(c.columns)}else if(c.hidden){b++}}return b}function xb(a){var b,c=0;for(var d=0,e=a.length;d<e;d++){b=a[d].style.width;if(b&&b.indexOf("%")==-1){c+=parseInt(b,10)}}return c}function yb(a,b){var c=a.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");var d;for(var e=0;e<c.length;e++){d=c[e].rowSpan;if(d>1){c[e].rowSpan=d-b||1}}}function zb(a,b){var c=a.find("tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)");for(var d=0;d<c.length;d++){c[d].rowSpan+=b}}function Ab(b){var c=b.find("tr:not(.k-filter-row)");var d=c.filter(function(){return!a(this).children().length}).remove().length;var e=c.find("th:not(.k-group-cell,.k-hierarchy-cell)");for(var f=0;f<e.length;f++){if(e[f].rowSpan>1){e[f].rowSpan-=d}}return c.length-d}function Bb(a,b,c,d,e){var f,g,h,i=[];for(f=0,h=a.length;f<h;f++){g=c[d]||[];g.push(b.eq(e+f));c[d]=g;if(a[f].columns){i=i.concat(a[f].columns)}}if(i.length){Bb(i,b,c,d+1,e+a.length)}}function Cb(a){return p(a,function(a){return a.locked})}function Db(a){return p(a,function(a){return!a.locked})}function Eb(a){return p(a,function(a){return!a.locked&&hb(a)})}function Fb(a){return p(a,function(a){return a.locked&&hb(a)})}function Gb(a){var b=[];for(var c=0;c<a.length;c++){if(a[c].hidden){continue}if(a[c].columns){b=b.concat(Gb(a[c].columns))}else{b.push(a[c])}}return b}function Hb(a){var b=[];for(var c=0;c<a.length;c++){if(!a[c].columns){b.push(a[c]);continue}b=b.concat(Hb(a[c].columns))}return b}function Ib(d){var e=d.find(">tr:not(.k-filter-row)");var f=function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")};var g=a();if(e.length>1){g=e.find("th").filter(f).filter(function(){return this.rowSpan>1})}g=g.add(e.last().find("th").filter(f));var h=c.attr("index");g.sort(function(c,d){c=a(c);d=a(d);var e=c.attr(h);var f=d.attr(h);if(e===b){e=a(c).index()}if(f===b){f=a(d).index()}e=parseInt(e,10);f=parseInt(f,10);return e>f?1:e<f?-1:0});return g}function Jb(b){var c=b.closest("table");var d=a().add(b);var e=b.closest("tr");var f=c.find("tr:not(.k-filter-row)");var g=f.index(e);if(g>0){var h=f.eq(g-1);var i=h.find("th:not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return!a(this).attr("rowspan")});var j=0;var k=e.find("th:not(.k-group-cell,.k-hierarchy-cell)").index(b);var l=b.prevAll(":not(.k-group-cell,.k-hierarchy-cell)").filter(function(){return this.colSpan>1});for(var m=0;m<l.length;m++){j+=l[m].colSpan||1}k+=Math.max(j-1,0);j=0;for(m=0;m<i.length;m++){var n=i.eq(m);if(n.attr("data-colspan")){j+=n[0].getAttribute("data-colspan")}else{j+=1}if(k>=m&&k<j){d=Jb(n).add(d);break}}}return d}function Kb(b){var d=b.closest("thead");var e=a().add(b);var f=b.closest("tr");var g=d.find("tr:not(.k-filter-row)");var h=g.index(f)+b[0].rowSpan;var i=c.attr("colspan");if(h<=g.length-1){var j=f.next();var k=b.prevAll(":not(.k-group-cell,.k-hierarchy-cell)");var l;k=k.filter(function(){return!this.rowSpan||this.rowSpan===1});var m=0;for(l=0;l<k.length;l++){m+=parseInt(k.eq(l).attr(i),10)||1}var n=j.find("th:not(.k-group-cell,.k-hierarchy-cell)");var o=parseInt(b.attr(i),10)||1;l=0;while(l<o){j=n.eq(l+m);e=e.add(Kb(j));var p=parseInt(j.attr(i),10);if(p>1){o-=p-1}l++}}return e}function Lb(b,c,d,e){var f,h=b;if(e){b.empty()}if(g){b[0].innerHTML=d}else{f=document.createElement("div");f.innerHTML="<table><tbody>"+d+"</tbody></table>";b=f.firstChild.firstChild;c[0].replaceChild(b,h[0]);b=a(b)}return b}function Mb(a){a=a||{};var b=a.style;if(!b){b="display:none"}else{b=b.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(b===a.style){b=b.replace(/(.*)?/i,"display:none;$1")}}return n({},a,{style:b})}function Nb(a){a=a||{};var b=a.style;if(b){a.style=b.replace(/(display\s*:\s*none\s*;?)*/gi,"")}return a}function Ob(b,d,e,f){var g=b.find(">colgroup"),h,i=o(d,function(a){h=a.width;if(h&&parseInt(h,10)!==0){return c.format('<col style="width:{0}"/>',typeof h===ta?h:h+"px")}return"<col />"});if(e||g.find(".k-hierarchy-col").length){i.splice(0,0,'<col class="k-hierarchy-col" />')}if(g.length){g.remove()}g=a(new Array(f+1).join('<col class="k-group-col">')+i.join(""));if(!g.is("colgroup")){g=a("<colgroup/>").append(g)}b.prepend(g);if(Ra.msie&&Ra.version==8){b.css("display","inline-table");window.setTimeout(function(){b.css("display","")},1)}}function Pb(a,b){var c=0;var d,e;var f=a.find("th:not(.k-group-cell)");for(d=0,e=b.length;d<e;d++){if(b[d].locked){f.eq(d).insertBefore(f.eq(c));f=a.find("th:not(.k-group-cell)");c++}}}function Qb(a){var b={},c,d,e;for(d=0,e=a.length;d<e;d++){c=a[d];b[c.value]=c.text}return b}function Rb(a,b,d,e){var f=d&&d.length&&m(d[0])&&"value"in d[0],g=f?Qb(d)[a]:a;g=g!=null?g:"";return b?c.format(b,g):e===false?g:c.htmlEncode(g)}function Sb(a,b,c){var d=0,e,f=a[d];while(f){e=c?true:f.style.display!=="none";if(e&&!La.test(f.className)&&--b<0){f.style.display=c?"":"none";break}f=a[++d]}}function Tb(b,c){var d=0,e=b.length,f,g;for(;d<e;d+=1){g=b.eq(d);if(g.is(".k-grouping-row,.k-detail-row")){f=g.children(":not(.k-group-cell):first,.k-detail-cell").last();f.attr("colspan",parseInt(f.attr("colspan"),10)-1)}else{if(g.hasClass("k-grid-edit-row")&&(f=g.children(".k-edit-container")[0])){f=a(f);f.attr("colspan",parseInt(f.attr("colspan"),10)-1);f.find("col").eq(c).remove();g=f.find("tr:first")}Sb(g[0].cells,c,false)}}}function Ub(a){var b=[];var c;for(var d=0;d<a.length;d++){c=a[d];if(!("field"in c&&"value"in c&&"items"in c)){break}b.push(c);if(c.hasSubgroups){b=b.concat(Ub(c.items))}}return b}function Vb(a){var b=[];var c;for(var d=0;d<a.length;d++){c=a[d];if(!("field"in c&&"value"in c&&"items"in c)){break}if(c.hasSubgroups){b=b.concat(Vb(c.items))}b.push(c.aggregates)}return b}function Wb(b,c){var d=0,e=b.length,f,g,h;for(;d<e;d+=1){g=b.eq(d);if(g.is(".k-grouping-row,.k-detail-row")){f=g.children(":not(.k-group-cell):first,.k-detail-cell").last();f.attr("colspan",parseInt(f.attr("colspan"),10)+1)}else{if(g.hasClass("k-grid-edit-row")&&(f=g.children(".k-edit-container")[0])){f=a(f);f.attr("colspan",parseInt(f.attr("colspan"),10)+1);Ob(f.find(">form>table"),ib(h),false,0);g=f.find("tr:first")}Sb(g[0].cells,c,true)}}}function Xb(a,b,c){c=c||1;var d,e,f;for(e=0,f=a.length;e<f;e++){d=a.eq(e).children().last();d.attr("colspan",parseInt(d.attr("colspan"),10)+c);d=b.eq(e).children().last();d.attr("colspan",parseInt(d.attr("colspan"),10)-c)}}function Yb(a){var b,c,d=0;var e=a.find(">colgroup>col");for(b=0,c=e.length;b<c;b+=1){d+=parseInt(e[b].style.width,10)}return d}var Zb=c.ui.DataBoundWidget.extend({init:function(b,d,e){var f=this;d=q(d)?{dataSource:d}:d;i.fn.init.call(f,b,d);if(e){f._events=e}Qa=c.support.isRtl(b);f._element();f._aria();f._columns(a.extend(true,[],f.options.columns));f._dataSource();f._tbody();f._pageable();f._thead();f._groupable();f._toolbar();f._setContentHeight();f._templates();f._navigatable();f._selectable();f._clipboard();f._details();f._editable();f._attachCustomCommandsEvent();f._minScreenSupport();if(f.options.autoBind){f.dataSource.fetch()}else{f._group=f._groups()>0;f._footer()}if(f.lockedContent){f.wrapper.addClass("k-grid-lockedcolumns");f._resizeHandler=function(){f.resize()};a(window).on("resize"+J,f._resizeHandler)}c.notify(f)},events:[U,"dataBinding","cancel",Y,Z,$,O,P,R,Q,S,K,L,M,N,X,T,ka,la,W,V,ma,na,oa,"page","sort","filter","group","groupExpand","groupCollapse"],setDataSource:function(a){var b=this;var c=b.options.scrollable;var d;b.options.dataSource=a;b._dataSource();b._pageable();b._thead();if(c){if(c.virtual){d=b.content.find(">.k-virtual-scrollable-wrap");d.scrollLeft(fc(d,Qa))}else{d=b.tbody;b.content.scrollLeft(fc(d,Qa))}}if(b.options.groupable){b._groupable()}if(b.virtualScrollable){b.virtualScrollable.setDataSource(b.options.dataSource)}if(b.options.navigatable){b._navigatable()}if(b.options.selectable){b._selectable()}if(b.options.autoBind){b.dataSource.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,allowCopy:false,navigatable:false,pageable:false,persistSelection:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",noRecords:false,dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3,mobile:"",messages:{editable:{cancelDelete:Ea,confirmation:Ba,confirmDelete:Da},commands:{create:Za.create.text,cancel:Za.cancel.text,save:Za.save.text,destroy:Za.destroy.text,edit:Za.edit.text,update:Za.update.text,canceledit:Za.canceledit.text,excel:Za.excel.text,pdf:Za.pdf.text},noRecords:Ca,expandCollapseColumnHeader:""}},destroy:function(){var b=this,d;b._angularItems("cleanup");b._destroyColumnAttachments();i.fn.destroy.call(b);this._navigatableTables=null;if(b._resizeHandler){a(window).off("resize"+J,b._resizeHandler)}if(b.pager&&b.pager.element){b.pager.destroy()}b.pager=null;if(b.groupable&&b.groupable.element){b.groupable.element.kendoGroupable("destroy")}b.groupable=null;if(b.options.reorderable){b.wrapper.data("kendoReorderable").destroy()}if(b.selectable&&b.selectable.element){b.selectable.destroy();b.clearArea();b._selectedIds=null;if(b.copyHandler){b.wrapper.off("keydown",b.copyHandler);b.unbind(b.copyHandler)}if(b.updateClipBoardState){b.unbind(b.updateClipBoardState);b.updateClipBoardState=null}if(b.clearAreaHandler){b.wrapper.off("keyup",b.clearAreaHandler)}}b.selectable=null;if(b.resizable){b.resizable.destroy();if(b._resizeUserEvents){if(b._resizeHandleDocumentClickHandler){a(document).off("click",b._resizeHandleDocumentClickHandler)}b._resizeUserEvents.destroy();b._resizeUserEvents=null}b.resizable=null}b._destroyVirtualScrollable();b._destroyEditable();if(b.dataSource){b.dataSource.unbind(U,b._refreshHandler).unbind(y,b._progressHandler).unbind(z,b._errorHandler);b._refreshHandler=b._progressHandler=b._errorHandler=null}d=b.element.add(b.wrapper).add(b.table).add(b.thead).add(b.wrapper.find(">.k-grid-toolbar"));if(b.content){d=d.add(b.content).add(b.content.find(">.k-virtual-scrollable-wrap"))}if(b.lockedHeader){b._removeLockedContainers()}if(b.pane){b.pane.destroy()}if(b.minScreenResizeHandler){a(window).off("resize",b.minScreenResizeHandler)}if(b._draggableInstance&&b._draggableInstance.element){b._draggableInstance.destroy()}b._draggableInstance=null;d.off(J);c.destroy(b.wrapper);b.rowTemplate=b.altRowTemplate=b.lockedRowTemplate=b.lockedAltRowTemplate=b.detailTemplate=b.footerTemplate=b.groupFooterTemplate=b.lockedGroupFooterTemplate=b.noRecordsTemplate=null;b.scrollables=b.thead=b.tbody=b.element=b.table=b.content=b.footer=b.wrapper=b.lockedTable=b.lockedContent=b.lockedHeader=b.lockedFooter=b._groupableClickHandler=b._groupRows=b._setContentWidthHandler=null},getOptions:function(){var d=this.options;d.dataSource=null;var e=n(true,{},this.options);e.columns=c.deepExtend([],this.columns);var f=this.dataSource;var g=f.options.data&&f._data;f.options.data=null;e.dataSource=a.extend(true,{},f.options);f.options.data=g;e.dataSource.data=g;e.dataSource.page=f.page();e.dataSource.filter=f.filter();e.dataSource.pageSize=f.pageSize();e.dataSource.sort=f.sort();e.dataSource.group=f.group();e.dataSource.aggregate=f.aggregate();if(e.dataSource.transport){e.dataSource.transport.dataSource=null}if(e.pageable&&e.pageable.pageSize){e.pageable.pageSize=f.pageSize()}e.$angular=b;return e},setOptions:function(a){var b=this.getOptions();c.deepExtend(b,a);if(!a.dataSource){b.dataSource=this.dataSource}var d=this.wrapper;var e=this._events;var f=this.element;this.destroy();this.options=null;if(this._isMobile){var g=d.closest(c.roleSelector("pane")).parent();g.after(d);g.remove();d.removeClass("k-grid-mobile")}if(d[0]!==f[0]){d.before(f);d.remove()}f.empty();this.init(f,b,e);this._setEvents(b)},items:function(){if(this.lockedContent){return this._items(this.tbody).add(this._items(this.lockedTable.children("tbody")))}else{return this._items(this.tbody)}},_items:function(b){return b.children().filter(function(){var b=a(this);return!b.hasClass("k-grouping-row")&&!b.hasClass("k-detail-row")&&!b.hasClass("k-group-footer")})},dataItems:function(){var a=c.ui.DataBoundWidget.fn.dataItems.call(this);if(this.lockedContent){var b=a.length,d=new Array(2*b);for(var e=b;--e>=0;){d[e]=d[e+b]=a[e]}a=d}return a},_destroyColumnAttachments:function(){var b=this;b.resizeHandle=null;if(!b.thead){return}this.angular("cleanup",function(){return{elements:b.thead.get()}});b.thead.add(b.lockedHeader).find("th").each(function(){var b=a(this),c=b.data("kendoFilterMenu"),d=b.data("kendoColumnSorter"),e=b.data("kendoColumnMenu");if(c){c.destroy()}if(d){d.destroy()}if(e){e.destroy()}})},_attachCustomCommandsEvent:function(){var a=this,b=Hb(a.columns||[]),c,d,e;for(d=0,e=b.length;d<e;d++){c=b[d].command;if(c){bb(a,a.wrapper,c)}}},_aria:function(){var a=this.element.attr("id")||"aria";if(a){this._cellId=a+"_active_cell"}},_element:function(){var b=this,c=b.element;if(!c.is("table")){if(b.options.scrollable){c=b.element.find("> .k-grid-content > table")}else{c=b.element.children("table")}if(!c.length){c=a("<table />").appendTo(b.element)}}if(Sa){c.attr("cellspacing",0)}b.table=c.attr("role",b._hasDetails()?"treegrid":"grid");b._wrapper()},_createResizeHandle:function(b,c){var d=this;var e=d.options.columnResizeHandleWidth;var f=d.options.scrollable;var g=d.resizeHandle;var h=this._groups();var i;if(g&&d.lockedContent&&g.data("th")[0]!==c[0]){
g.off(J).remove();g=null}if(!g){g=d.resizeHandle=a('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');b.append(g)}if(!Qa){i=c[0].offsetWidth;var l=Ib(c.closest("thead")).filter(":visible");for(var m=0;m<l.length;m++){if(l[m]==c[0]){break}i+=l[m].offsetWidth}if(h>0){i+=j(b.find(".k-group-cell:first"))*h}if(d._hasDetails()){i+=j(b.find(".k-hierarchy-cell:first"))}}else{i=c.position().left;if(f){var n=c.closest(".k-grid-header-wrap, .k-grid-header-locked"),o=Ra.msie?n.scrollLeft():0,p=Ra.webkit?n[0].scrollWidth-n[0].offsetWidth-n.scrollLeft():0,q=Ra.mozilla?n[0].scrollWidth-n[0].offsetWidth-(n[0].scrollWidth-n[0].offsetWidth-n.scrollLeft()):0;i-=p-q+o}}g.css({top:c.position().top,left:i-e,height:k(c),width:e*3}).data("th",c).show();g.off("dblclick"+J).on("dblclick"+J,function(){d._autoFitLeafColumn(c.data("index"))})},_positionColumnResizeHandle:function(){var b=this,c=b.lockedHeader?b.lockedHeader.find("thead:first"):a();b.thead.add(c).on("mousemove"+J,"th",function(c){var d=typeof c.buttons!=="undefined"?c.buttons:c.which||c.button;var e=a(this);if(e.hasClass("k-group-cell")||e.hasClass("k-hierarchy-cell")){return}if(typeof d!=="undefined"&&d!==0){return}b._createResizeHandle(e.closest("div"),e)})},_resizeHandleDocumentClick:function(b){if(a(b.target).closest(".k-column-active").length){return}a(document).off(b);this._hideResizeHandle()},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");if(this.lockedContent&&!this._isMobile){this.resizeHandle.off(J).remove();this.resizeHandle=null}else{this.resizeHandle.hide()}}},_positionColumnResizeHandleTouch:function(){var b=this,d=b.lockedHeader?b.lockedHeader.find("thead:first"):a();b._resizeUserEvents=new c.UserEvents(d.add(b.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(c){var d=a(c.target);c.preventDefault();d.addClass("k-column-active");b._createResizeHandle(d.closest("div"),d);if(!b._resizeHandleDocumentClickHandler){b._resizeHandleDocumentClickHandler=t(b._resizeHandleDocumentClick,b)}a(document).on("click",b._resizeHandleDocumentClickHandler)}})},_resizable:function(){var b=this,e=b.options,f,g,h,i,l,m=this._isMobile,n=!c.support.mobileOS?c.support.scrollbar():0,o,p,q;if(e.resizable){f=e.scrollable?b.wrapper.find(".k-grid-header-wrap:first"):b.wrapper;if(m){b._positionColumnResizeHandleTouch(f)}else{b._positionColumnResizeHandle(f)}if(b.resizable){b.resizable.destroy()}b.resizable=new d.Resizable(f.add(b.lockedHeader),{handle:(!!e.scrollable?"":">")+".k-resize-handle",hint:function(c){return a('<div class="k-grid-resize-indicator" />').css({height:k(c.data("th"))+b.tbody.attr("clientHeight")})},start:function(c){q=a(c.currentTarget).data("th");if(m){b._hideResizeHandle()}var d=q.closest("table"),f=a.inArray(q[0],Ib(q.closest("thead")).filter(":visible"));o=d.parent().hasClass("k-grid-header-locked");var k=o?b.lockedTable:b.table,n=b.footer||a();if(b.footer&&b.lockedContent){n=o?b.footer.children(".k-grid-footer-locked"):b.footer.children(".k-grid-footer-wrap")}$a(b.wrapper,"col-resize");if(e.scrollable){p=d.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")").add(k.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")).add(n.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")"))}else{p=k.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")}var r=a.map(b.columns,function(a){return!a.hidden&&(o&&a.locked||!o&&!a.locked)?a:null});g=c.x.location;h=j(q);i=Hb(r)[f].minResizableWidth||10;l=o?j(k.children("tbody")):j(b.tbody);if(Ra.webkit){b.wrapper.addClass("k-grid-column-resizing")}},resize:function(c){var d=Qa?-1:1,f=h+c.x.location*d-g*d;if(e.scrollable){var j;if(o&&b.lockedFooter){j=b.lockedFooter.children("table")}else if(b.footer){j=b.footer.find(">.k-grid-footer-wrap>table")}if(!j||!j[0]){j=a()}var k=q.closest("table");var m=o?b.lockedTable:b.table;var r=false;var s=b.wrapper.width()-n;var t=f;if(o&&l-h+t>s){t=h+(s-l-n*2);if(t<0){t=f}r=true}if(t>10&&t>=i){p.css("width",t);if(l){if(r){t=s-n*2}else{t=l+c.x.location*d-g*d}m.add(k).add(j).css("width",t);if(!o){b._footerWidth=t}}}b._scrollVirtualWrapperOnColumnResize()}else if(f>10&&f>=i){p.css("width",f)}},resizeend:function(){var a=j(q),d,e;$a(b.wrapper,"");if(Ra.webkit){b.wrapper.removeClass("k-grid-column-resizing")}if(h!=a){e=b.lockedHeader?b.lockedHeader.find("thead:first tr:first").add(b.thead.find("tr:first")):q.parent();var f=q.attr(c.attr("index"));if(!f){f=e.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(q)}d=Hb(b.columns)[f];d.width=a;b.trigger(ka,{column:d,oldWidth:h,newWidth:a});b._applyLockedContainersWidth();b._syncLockedContentHeight();b._syncLockedHeaderHeight()}b._hideResizeHandle();q=null}})}},_draggable:function(){var b=this;if(b.options.reorderable){if(b._draggableInstance){b._draggableInstance.destroy()}var d=b.wrapper.children(".k-grid-header");b._draggableInstance=b.wrapper.kendoDraggable({group:c.guid(),autoScroll:true,filter:b.content?".k-grid-header:first "+I:"table:first>.k-grid-header "+I,dragstart:function(){d.children(".k-grid-header-wrap").unbind("scroll"+J+"scrolling").bind("scroll"+J+"scrolling",function(a){if(b.virtualScrollable){b.content.find(">.k-virtual-scrollable-wrap").scrollLeft(this.scrollLeft)}else{b.scrollables.not(a.currentTarget).scrollLeft(this.scrollLeft)}})},dragend:function(){d.children(".k-grid-header-wrap").unbind("scroll"+J+"scrolling")},drag:function(){b._hideResizeHandle()},hint:function(b){var d=b.attr(c.attr("title"));if(d){d=c.htmlEncode(d)}return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(d||b.attr(c.attr("field"))||b.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}}).data("kendoDraggable")}},_reorderable:function(){var b=this;if(b.options.reorderable){if(b.wrapper.data("kendoReorderable")){b.wrapper.data("kendoReorderable").destroy()}b.wrapper.kendoReorderable({draggable:b._draggableInstance,dragOverContainers:function(a,c){var d=tb(b.columns);return d[a].lockable!==false&&ub(d,b.columns,a,c)>-1},inSameContainer:function(c){return a(c.source).parent()[0]===a(c.target).parent()[0]&&ub(tb(b.columns),b.columns,c.sourceIndex,c.targetIndex)>-1},change:function(a){var c=tb(b.columns);var d=c[a.oldIndex];var e=ub(c,b.columns,a.oldIndex,a.newIndex);b.trigger(la,{newIndex:e,oldIndex:r(d,c),column:d});b.reorderColumn(e,d,a.position==="before")}})}},_reorderHeader:function(a,b,c){var d=this;var e=pb(a[0],d.columns);var f=pb(b,d.columns);var g=[];for(var h=0;h<a.length;h++){if(a[h].columns){g=g.concat(a[h].columns)}}var i=ab(d.lockedHeader,d.thead,"tr:eq("+e.row+")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)");var j=Cb(a).length;var k=Cb([b]).length;if(g.length){if(j>0&&k===0){lb(a,b,g,d.columns,d.lockedHeader.find("thead"),d.thead,this._groups())}else if(j===0&&k>0){lb(a,b,g,d.columns,d.thead,d.lockedHeader.find("thead"),this._groups())}if(b.columns||e.cell-f.cell>1||f.cell-e.cell>1){b=rb(d.columns,b,a[0],c,d.columns);if(b){d._reorderHeader(g,b,c)}}}else if(j!==k){kb(i[e.cell],d.columns,j)}_a(i,e.cell,f.cell,c,a.length)},_reorderContent:function(b,c,d){var e=this;var f=a();var g=b[0];var h=ib(b);var i=r(g,Hb(e.columns));var j=r(c,Hb(e.columns));var k=r(h[0],Gb(e.columns));var l=r(c,Gb(e.columns));var m=Cb(e.columns).length;var n=!!c.locked;var o=e.footer||e.wrapper.find(".k-grid-footer");var p,q,s;p=q=l;if(c.hidden){var t=n?Cb(e.columns):Db(e.columns);if(ib(t).length>0){p=q=l=this._findClosestVisibleColumnIndex(t,j);s=ib(t.slice(j)).length>0}else{if(n){l=e.lockedTable.find("colgroup");p=e.lockedHeader.find("colgroup");q=a(e.lockedFooter).find(">table>colgroup")}else{l=e.tbody.prev();p=e.thead.prev();q=o.find(".k-grid-footer-wrap").find(">table>colgroup")}}}if(e._hasFilterRow()){_a(e.wrapper.find(".k-filter-row th:not(.k-group-cell,.k-hierarchy-cell)"),i,j,d,b.length)}if(k>=0){_a(ab(e.lockedHeader,e.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),k,p,s?s:d,h.length)}if(e.options.scrollable){if(k>=0){_a(ab(e.lockedTable,e.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),k,l,s?s:d,h.length)}}if(o&&o.length){if(k>=0){_a(ab(e.lockedFooter,o.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),k,q,s?s:d,h.length)}_a(o.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),i,j,d,b.length)}var u=e.tbody.children(":not(.k-grouping-row,.k-detail-row)");if(e.lockedTable){if(m>j){if(m<=i){Xb(e.lockedTable.find(">tbody>tr.k-grouping-row"),e.table.find(">tbody>tr.k-grouping-row"),b.length)}}else if(m>i){Xb(e.table.find(">tbody>tr.k-grouping-row"),e.lockedTable.find(">tbody>tr.k-grouping-row"),b.length)}f=e.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")}for(var v=0,w=u.length;v<w;v+=1){_a(ab(f[v],u[v],">td:not(.k-group-cell,.k-hierarchy-cell)"),i,j,d,b.length)}},_findClosestVisibleColumnIndex:function(a,b){var c=ib(a.slice(b)).length>0?a.slice(b):a.slice(0,b+1).reverse(),d=ib(c)[0];return r(d,ib(this.columns))},_autoFitLeafColumn:function(a){this.autoFitColumn(Hb(this.columns)[a])},autoFitColumn:function(b){var c=this,d=c.options,e=c.columns,f,g,h,i,k=c.lockedHeader?Ib(c.lockedHeader.find(">table>thead")).filter(gb).length:0,l,n,o,q,s="col:not(.k-group-col):not(.k-hierarchy-col)",t="td:visible:not(.k-group-cell):not(.k-hierarchy-cell)";if(typeof b=="number"){b=e[b]}else if(m(b)){b=p(vb(e),function(a){return a===b})[0]}else{b=p(vb(e),function(a){return a.field===b})[0]}if(!b||!hb(b)){return}n=b.minResizableWidth;f=r(b,Hb(e));i=b.locked;if(i){h=c.lockedHeader.children("table")}else{h=c.thead.parent()}g=h.find("[data-index='"+f+"']");var u=i?c.lockedTable:c.table,v=c.footer||a();if(c.footer&&c.lockedContent){v=i?c.footer.children(".k-grid-footer-locked"):c.footer.children(".k-grid-footer-wrap")}var w=v.find("table").first();if(c.lockedHeader&&!i){f-=k}for(var x=0;x<e.length;x++){if(e[x]===b){break}else{if(e[x].hidden){f--}}}if(d.scrollable){l=h.find(s).eq(f).add(u.children("colgroup").find(s).eq(f)).add(w.find("colgroup").find(s).eq(f));if(!i){o=u.parent();q=o.scrollLeft()}}else{l=u.children("colgroup").find(s).eq(f)}var y=h.add(u).add(w);var z=j(g);l.width("");y.css("table-layout","fixed");l.width("auto");y.addClass("k-autofitting");y.css("table-layout","");var A=Math.ceil(Math.max(j(g),j(u.find("tr:not(.k-grouping-row)").eq(0).children(t).eq(f)),j(w.find("tr").eq(0).children(t).eq(f))))+1;if(n&&n>A){A=n}l.width(A);b.width=A;if(d.scrollable){var B=h.find("col"),C,D=0;for(var E=0,F=B.length;E<F;E+=1){C=B[E].style.width;if(C&&C.indexOf("%")==-1){D+=parseInt(C,10)}else if(B.eq(E).hasClass("k-group-col")){D+=parseInt(B.eq(E).width(),10)}else{D=0;break}}if(D){y.each(function(){this.style.width=D+"px"})}}if(Ra.msie&&Ra.version==8){y.css("display","inline-table");setTimeout(function(){y.css("display","table")},1)}y.removeClass("k-autofitting");if(q){o.scrollLeft(q)}c.trigger(ka,{column:b,oldWidth:z,newWidth:A});c._applyLockedContainersWidth();c._syncLockedContentHeight();c._syncLockedHeaderHeight()},reorderColumn:function(a,c,d){var e=this,f=db(c,e.columns),g=f?f.columns:e.columns,h=r(c,g),i=g[a],j,k=!!i.locked,l=Cb(e.columns).length;if(h===a){return}if(!c.locked&&k&&Db(e.columns).length==1){return}if(c.locked&&!k&&l==1){return}e._hideResizeHandle();if(d===b){d=a<h}var m=[c];e._reorderHeader(m,i,d);if(e.lockedHeader){Ab(e.thead);Ab(e.lockedHeader)}if(i.columns){i=Hb(i.columns);i=i[d?0:i.length-1]}if(c.columns){m=Hb(c.columns)}e._reorderContent(m,i,d);j=!!c.locked;j=j!=k;c.locked=k;g.splice(d?a:a+1,0,c);g.splice(h<a?h:h+1,1);e._templates();e._updateColumnCellIndex();e._updateTablesWidth();e._applyLockedContainersWidth();e._syncLockedHeaderHeight();e._syncLockedContentHeight();e._updateFirstColumnClass();if(!j){return}if(k){e.trigger(ma,{column:c})}else{e.trigger(na,{column:c})}},_updateColumnCellIndex:function(){var a;var b=0;if(this.lockedHeader){a=this.lockedHeader.find("thead");b=mb(a,Cb(this.columns))}mb(this.thead,Db(this.columns),b)},lockColumn:function(a){var b=this.columns;if(typeof a=="number"){a=b[a]}else{a=p(b,function(b){return b.field===a})[0]}if(!a||a.locked||a.hidden){return}var c=Cb(b).length-1;this.reorderColumn(c,a,false)},unlockColumn:function(a){var b=this.columns;if(typeof a=="number"){a=b[a]}else{a=p(b,function(b){return b.field===a})[0]}if(!a||!a.locked||a.hidden){return}var c=Cb(b).length;this.reorderColumn(c,a,true)},cellIndex:function(b){var c=0;if(this.lockedTable&&!a.contains(this.lockedTable[0],b[0])){c=Hb(Cb(this.columns)).length}return a(b).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(b)+c},_modelForContainer:function(b){b=a(b);if(!b.is("tr")&&this._editMode()!=="popup"){b=b.closest("tr")}var d=b.attr(c.attr("uid"));return this.dataSource.getByUid(d)},_editable:function(){var b=this,d=b.selectable&&b.selectable.options.multiple,e=b.options.editable,f=function(){var c=h(),d=b._editContainer;if(d&&!a.contains(d[0],c)&&d[0]!==c&&!a(c).closest(".k-animation-container").length){if(b.editable.end()){b.closeCell()}else{b._scrollVirtualWrapper()}}};if(e){this.wrapper.addClass("k-editable");var g=b._editMode();if(g==="incell"){b.table.add(b.lockedTable).on("mousedown"+J,C+">"+D,function(d){var e=a(d.target);if(b._editMode()==="incell"&&e.hasClass("k-checkbox-label")&&e.prev().attr(c.attr("bind"))){d.preventDefault()}});if(e.update!==false){b.wrapper.on(pa+J,"tr:not(.k-grouping-row) > td",function(c){var e=a(this),f=b.lockedTable&&e.closest("table")[0]===b.lockedTable[0];if(e.hasClass("k-hierarchy-cell")||e.hasClass("k-detail-cell")||e.hasClass("k-group-cell")||e.hasClass("k-edit-cell")||e.has("a.k-grid-delete").length||e.has("button.k-grid-delete").length||e.closest("tbody")[0]!==b.tbody[0]&&!f||a(c.target).is(":input")){return}if(b.editable){if(b.editable.end()){if(d){a(h()).blur()}b.closeCell();b.editCell(e)}else{b._scrollVirtualWrapper()}}else{b.editCell(e)}}).on("focusin"+J,function(){if(!a.contains(this,h())){clearTimeout(b.timer);b.timer=null}}).on("focusout"+J,function(){b.timer=setTimeout(f,1)})}}else{if(e.update!==false){b.wrapper.on(pa+J,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(c){c.preventDefault();b.editRow(a(this).closest("tr"))});if(b._isVirtualInlineEditable()){b.wrapper.on("focusout"+J,"tr:not(.k-grouping-row) > td",function(){if(b.editable&&!b.editable.end()){b._scrollVirtualWrapper()}})}}}if(e.destroy!==false){b.wrapper.on(pa+J,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(c){c.preventDefault();c.stopPropagation();b.removeRow(a(this).closest("tr"))})}else{b.wrapper.on(pa+J,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(a){a.stopPropagation();if(!b._confirmation()){a.preventDefault()}})}}},editCell:function(b){b=a(b);var c=this,d=Hb(c.columns)[c.cellIndex(b)],e=c._modelForContainer(b);c.closeCell();if(e&&cc(d,e)&&!d.command){if(c.trigger(L,{model:e})){return}c._attachModelChange(e);c._editContainer=b;if(c._shouldClearEditableState){c._clearEditableState()}c.editable=b.addClass("k-edit-cell").kendoEditable({fields:{field:d.field,format:d.format,editor:d.editor,values:d.values},model:e,target:c,change:function(a){if(c.trigger(M,{values:a.values,container:b,model:e})){a.preventDefault()}},skipFocus:c._isVirtualIncellEditable()&&c._editableState?true:false}).data("kendoEditable");var f=b.parent().addClass("k-grid-edit-row");if(c.lockedContent){_b(f[0],c._relatedRow(f).addClass("k-grid-edit-row")[0])}c.trigger(K,{container:b,model:e})}},_adjustLockedHorizontalScrollBar:function(){var a=this.table,b=a.parent();var d=a[0].offsetWidth>b[0].clientWidth?c.support.scrollbar():0;this.lockedContent.height(b.height()-d)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this.touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var a=this.lockedHeader.children("table");var b=this.thead.parent();this._adjustRowsHeight(a,b);$b(a,b)}},_syncLockedFooterHeight:function(){if(this.lockedFooter&&this.footer&&this.footer.length){this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))}},_destroyEditable:function(){var a=this;var b=function(){if(a.editable){var b=a.editView?a.editView.element:a._editContainer;if(b){b.off(pa+J,"a.k-grid-cancel",a._editCancelClickHandler);b.off(pa+J,"a.k-grid-update",a._editUpdateClickHandler)}a._detachModelChange();a.editable.destroy();a.editable=null;a._editContainer=null;a._destroyEditView()}};if(a.editable){if(a._editMode()==="popup"&&!a._isMobile){a._editContainer.data("kendoWindow").bind("deactivate",b).close()}else{b()}}if(a._actionSheet){a._actionSheet.destroy();a._actionSheet=null}},_destroyEditView:function(){if(this.editView){this.editView.purge();this.editView=null;this.pane.navigate("")}},_attachModelChange:function(a){var b=this;b._modelChangeHandler=function(a){b._modelChange({field:a.field,model:this})};a.bind("change",b._modelChangeHandler)},_detachModelChange:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b);if(c){c.unbind(U,a._modelChangeHandler)}},closeCell:function(a){var b=this,c=b._editContainer,e,f,g;if(!c){return}g=b._modelForContainer(c);if(a&&b.trigger("cancel",{container:c,model:g})){return}b.trigger(T,{type:a?"cancel":"save",model:g,container:c});c.removeClass("k-edit-cell");e=Hb(b.columns)[b.cellIndex(c)];f=c.parent().removeClass("k-grid-edit-row");if(b.lockedContent){b._relatedRow(f).removeClass("k-grid-edit-row")}b._destroyEditable();b._displayCell(c,e,g);if(b._shouldClearEditableState){b._clearEditableState()}b.trigger("itemChange",{item:f,data:g,ns:d});if(b.lockedContent){_b(f.css("height","")[0],b._relatedRow(f).css("height","")[0])}},_displayCell:function(a,b,d){var e=this,f={storage:{},count:0},g=n({},c.Template,e.options.templateSettings),h=c.template(e._cellTmpl(b,f),g);if(f.count>0){h=t(h,f.storage)}a.empty().html(h(d));e.angular("compile",function(){return{elements:a,data:[{dataItem:d}]}})},removeRow:function(a){if(!this._confirmation(a)){return}this._removeRow(a)},_removeRow:function(b){var c=this,d,e,f,g,h=c._editMode();if(h!=="incell"){c.cancelRow()}b=a(b);if(c.lockedContent){b=b.add(c._relatedRow(b))}b=b.hide();d=c._modelForContainer(b);if(d&&!c.trigger(N,{row:b,model:d})){g=c.dataSource.options.schema;if(c._selectedIds&&g&&g.model){e=c.dataSource.options.schema.model.id;f=d[e];delete c._selectedIds[f]}c.dataSource.remove(d);if(h==="inline"||h==="popup"){c.dataSource.sync()}}else if(h==="incell"){c._destroyEditable()}},_editMode:function(){var a="incell",b=this.options.editable;if(b!==true){if(typeof b=="string"){a=b}else{a=b.mode||a}}return a},editRow:function(b){var d;var e=this;if(b instanceof f){d=b}else{b=a(b);d=e._modelForContainer(b)}var g=e._editMode();var h;e.cancelRow();if(d){b=e.tbody.children("["+c.attr("uid")+"="+d.uid+"]");e._attachModelChange(d);if(g==="popup"){e._createPopupEditor(d)}else if(g==="inline"){e._createInlineEditor(b,d)}else if(g==="incell"){a(b).children(A).each(function(){var b=a(this);var c=Hb(e.columns)[e.cellIndex(b)];d=e._modelForContainer(b);if(d&&(!d.editable||d.editable(c.field))&&c.field&&!c.selectable){e.editCell(b);return false}})}h=e.editView?e.editView.element:e._editContainer;if(h){if(!this._editCancelClickHandler){this._editCancelClickHandler=t(this._editCancelClick,this)}h.on(pa+J,"a.k-grid-cancel",this._editCancelClickHandler);if(!this._editUpdateClickHandler){this._editUpdateClickHandler=t(this._editUpdateClick,this)}h.on(pa+J,"a.k-grid-update",this._editUpdateClickHandler)}}},_editUpdateClick:function(a){a.preventDefault();a.stopPropagation();this.saveRow()},_editCancelClick:function(b){var c=this;var d=c.options.navigatable;var e=c.editable.options.model;var f=c.editView?c.editView.element:c._editContainer;b.preventDefault();b.stopPropagation();if(c.trigger("cancel",{container:f,model:e})){return}var g=c.items().index(a(c.current()).parent());c.cancelRow();if(d){c._setCurrent(c.items().eq(g).children().filter(D).first());bc(c.table,true)}},_createPopupEditor:function(b){var d=this;var e="<div "+c.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form'+(d._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">';var f;var g;var h=[];var i;var j;var k;var l;var o;var p;var q;var r;var s=Hb(d.columns);var u;var v=d.options.editable;var w=v.template;var x=m(v)?v.window:{};var y=n({},c.Template,d.options.templateSettings);if(d.trigger(L,{model:b})){return}x=x||{};if(w){if(typeof w===ta){w=window.unescape(w)}e+=c.template(w,y)(b);for(i=0,j=s.length;i<j;i++){f=s[i];if(f.command){r=ac(f.command,"edit");if(r){g=r}}}}else{for(i=0,j=s.length;i<j;i++){f=s[i];if(f.selectable){continue}if(!f.command){e+='<div class="k-edit-label"><label for="'+f.field+'">'+(f.title||f.field||"")+"</label></div>";if(cc(f,b)){h.push({field:f.field,format:f.format,editor:f.editor,values:f.values});e+="<div "+c.attr("container-for")+'="'+f.field+'" class="k-edit-field"></div>'}else{var z={storage:{},count:0};k=c.template(d._cellTmpl(f,z),y);if(z.count>0){k=t(k,z.storage)}e+='<div class="k-edit-field">'+k(b)+"</div>"}}else if(f.command){r=ac(f.command,"edit");if(r){g=r}}}}if(g){if(m(g)){if(m(g.text)){l=g.text.update;o=g.text.cancel}if(m(g.iconClass)){p=g.iconClass.update;q=g.iconClass.cancel}if(g.attr){u=g.attr}}}var A;if(!d._isMobile){e+='<div class="k-edit-buttons k-state-default">';e+=d._createButton({name:"update",text:l,attr:u,iconClass:p})+d._createButton({name:"canceledit",text:o,attr:u,iconClass:q});e+="</div></div></div>";A=d._editContainer=a(e).appendTo(d.wrapper).eq(0).kendoWindow(n({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(c){if(c.userTriggered){c.sender.element.focus();if(d.trigger("cancel",{container:A,model:b})){c.preventDefault();return}var e=d.items().index(a(d.current()).parent());d.cancelRow();if(d.options.navigatable){d._setCurrent(d.items().eq(e).children().filter(D).first());bc(d.table,true)}}}},x))}else{e+="</div></div>";d.editView=d.pane.append("<div data-"+c.ns+'role="view" data-'+c.ns+'use-native-scrolling="true" data-'+c.ns+'init-widgets="false" class="k-grid-edit-form">'+"<div data-"+c.ns+'role="header" class="k-header">'+d._createButton({name:"update",text:l,attr:u})+(x.title||"Edit")+d._createButton({name:"canceledit",text:o,attr:u})+"</div>"+e+"</div>");A=d._editContainer=d.editView.element.find(".k-popup-edit-form")}d.editable=d._editContainer.kendoEditable({fields:h,model:b,clearContainer:false,target:d}).data("kendoEditable");if(d._isMobile){A.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){a(this).next().children("input").click()})}d._openPopUpEditor();d.trigger(K,{container:A,model:b})},_openPopUpEditor:function(){if(!this._isMobile){this._editContainer.data("kendoWindow").center().open()}else{this.pane.navigate(this.editView,this._editAnimation)}},_createInlineEditor:function(b,d){var e=this;var f;var g;var h;var i=[];if(e.trigger(L,{model:d})){return}if(e.lockedContent){b=b.add(e._relatedRow(b))}b.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){g=a(this);f=Hb(e.columns)[e.cellIndex(g)];if(!f.command&&cc(f,d)){i.push({field:f.field,format:f.format,editor:f.editor,values:f.values});g.attr(c.attr("container-for"),f.field);g.empty()}else if(f.command){h=ac(f.command,"edit");if(h){g.empty();var b,j,k,l,n;if(m(h)){if(m(h.text)){b=h.text.update;j=h.text.cancel}if(m(h.iconClass)){k=h.iconClass.update;l=h.iconClass.cancel}if(h.attr){n=h.attr}}a(e._createButton({name:"update",text:b,attr:n,iconClass:k})+e._createButton({name:"canceledit",text:j,attr:n,iconClass:l})).appendTo(g)}}});e._editContainer=b;e._editContainer.addClass("k-grid-edit-row");if(e._shouldClearEditableState){e._clearEditableState()}e.editable=new c.ui.Editable(e._editContainer,{target:e,fields:i,model:d,skipFocus:e._isVirtualInlineEditable()&&e._editableState&&e._editableState.field?true:false,clearContainer:false});if(b.length>1){_b(b[0],b[1]);e._applyLockedContainersWidth()}e.trigger(K,{container:b,model:d})},cancelRow:function(a){var b=this,d=b._editContainer,e;if(d){e=b._modelForContainer(d);if(!e||a&&b.trigger("cancel",{container:d,model:e})){return}b._destroyEditable();b.dataSource.cancelChanges(e);b._clearEditableState();if(b._editMode()!=="popup"){b._displayRow(d)}else{b._displayRow(b.tbody.find("["+c.attr("uid")+"="+e.uid+"]"))}}},saveRow:function(){var b=this;var c=this._editContainer;var d=this._modelForContainer(c);var e=a.Deferred();var f;if(!c||!this.editable){return e.resolve().promise()}f=b.editable&&b.editable.end();if(!f||this.trigger(M,{container:c,model:d})){if(!f){b._scrollVirtualWrapper()}return e.reject().promise()}b._clearEditableState();return this.dataSource.sync()},_displayRow:function(b){var c=this,e=c._modelForContainer(b),f,g,h,i=b.hasClass("k-state-selected"),j=b.hasClass("k-alt");if(e){if(c.lockedContent){f=a((j?c.lockedAltRowTemplate:c.lockedRowTemplate)(e));c._relatedRow(b.last()).replaceWith(f)}c.angular("cleanup",function(){return{elements:b.get()}});g=a((j?c.altRowTemplate:c.rowTemplate)(e));if(!b.is(":visible")){g.hide()}b.replaceWith(g);c.trigger("itemChange",{item:g,data:e,ns:d});if(f&&f.length){c.trigger("itemChange",{item:f,data:e,ns:d})}var k=g;var l=[{dataItem:e}];if(f&&f.length){k=g.add(f);l.push({dataItem:e})}c.angular("compile",function(){return{elements:k.get(),data:l}});if(i&&(c.options.selectable||c._checkBoxSelection)){c.select(g.add(f))}if(f){_b(g[0],f[0])}h=g.next();if(h.hasClass("k-detail-row")&&h.is(":visible")){g.find(".k-hierarchy-cell .k-icon").removeClass("k-i-expand").addClass("k-i-collapse")}}},_showMessage:function(b,d){var e=this;if(!e._isMobile){return window.confirm(b.title)}var f=c.template("<ul>"+'<li class="km-actionsheet-title">#:title#</li>'+'<li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li>'+"</ul>");var g=a(f(b)).appendTo(e.view.element);var h=e._actionSheet=new c.mobile.ui.ActionSheet(g,{cancel:b.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(b){var c=a(b.currentTarget).parent();if(!c.hasClass("km-actionsheet-cancel")){e._removeRow(d)}},popup:e._actionSheetPopupOptions});h.open(d);return false},_confirmation:function(a){var b=this,c=b.options.editable,d=c===true||typeof c===ta?b.options.messages.editable.confirmation:c.confirmation;if(m(c)&&typeof c.mode===ta&&typeof d!==sa&&typeof d!==ta&&d!==false){d=b.options.messages.editable.confirmation}if(d!==false&&d!=null){if(typeof d===sa){d=d(b._modelForContainer(a))}return b._showMessage({confirmDelete:c.confirmDelete||b.options.messages.editable.confirmDelete,cancelDelete:c.cancelDelete||b.options.messages.editable.cancelDelete,title:d===true?b.options.messages.editable.confirmation:d},a)}return true},cancelChanges:function(){var a=this;a.dataSource.cancelChanges();if(a._isVirtualEditable()){a._virtualPageToTop(function(){a.virtualScrollable.scrollToTop()})}},saveChanges:function(){var a=this;var b=a.editable&&a.editable.end();if((b||!a.editable)&&!a.trigger(X)){a.dataSource.sync()}else if(!b){a._scrollVirtualWrapper()}},addRow:function(){var a=this,b,c=a.dataSource,d=a._editMode(),e=a.options.editable.createAt||"",f=c.pageSize(),g=c.view()||[];var h=e.toLowerCase()===ua;var i;var j=a._isVirtualEditable();if(a.editable&&a.editable.end()||!a.editable){if(d!="incell"){a.cancelRow()}b=c.indexOf(g[0]);if(h){b+=g.length;if(f&&!c.options.serverPaging&&f<=g.length){b-=1}}if(b<0){if(c.page()>c.totalPages()){b=(c.page()-1)*f}else{b=0}}if(a.options.navigatable&&d=="incell"){a._removeCurrent()}if(j){a._virtualAddRow()}else{i=c.insert(b,{});a._editModel(i)}}else{a._scrollVirtualWrapper()}},_editModel:function(a){var b=this;var d=b.options.editable.createAt||"";var e=b._editMode();if(a){var f=a.uid,g=b.lockedContent?b.lockedTable:b.table,h=g.find("tr["+c.attr("uid")+"="+f+"]"),i=h.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(b._firstEditableColumnIndex(h));if(e==="inline"&&h.length){b.editRow(h)}else if(e==="popup"){b.editRow(a)}else if(i.length){b.editCell(i)}if(d.toLowerCase()=="bottom"&&b.lockedContent){b.lockedContent[0].scrollTop=b.content[0].scrollTop=b.table[0].offsetHeight}}},_virtualAddRow:function(){var a=this;var b=(a.options.editable.createAt||"").toLowerCase()===ua;a._clearEditableState();if(b){a._virtualAddRowAtBottom()}else{a._virtualAddRowAtTop()}},_virtualAddRowAtTop:function(){var a=this;var b=a.dataSource;var c=a.virtualScrollable;var d;if(b.page()===1){d=b.insert(0,{});a._editModel(d);c.scrollToTop()}else{a._virtualPageToTop(function(){d=b.insert(0,{});a._editModel(d);c.scrollToTop()})}},_virtualAddRowAtBottom:function(){var a=this;var b=a.dataSource;var c=a.virtualScrollable;var d=b.total();var e;if(b.at(d-1)instanceof f){e=b.insert(d,{});a._virtualPageToBottom(function(){a._editModel(e);c.scrollToBottom()})}else{a._virtualPageToBottom(function(){e=b.insert(d,{});a._editModel(e);c.scrollToBottom()})}},_virtualPageToTop:function(a){var b=this;b._virtualPage(0,b.dataSource.take(),function(){a()})},_virtualPageToBottom:function(a){var b=this;var c=b.dataSource;var d=c.take();var e=c.total();var f=e>d?e-d:0;b._virtualPage(f,d,function(){a()})},_virtualPage:function(a,b,c){var d=this;if(d._isVirtualEditable()){d.virtualScrollable._preventScroll=true;d.virtualScrollable._page(a,b,c)}},_firstEditableColumnIndex:function(a){var b=this,c,d=Hb(b.columns),e,f,g=b._modelForContainer(a);for(e=0,f=d.length;e<f;e++){c=d[e];if(g&&(!g.editable||g.editable(c.field))&&!c.command&&c.field&&c.hidden!==true){return e}}return-1},_toolbar:function(){var b=this,d=b.wrapper,e=b.options.toolbar,f=b.options.editable,g;if(e){g=b.wrapper.find(".k-grid-toolbar");if(!g.length){if(!u(e)){e=typeof e===ta?e:b._toolbarTmpl(e).replace(Ja,"\\#");e=t(c.template(e),b)}g=a('<div class="k-header k-grid-toolbar" />').html(e({})).prependTo(d);b.angular("compile",function(){return{elements:g.get()}})}if(f&&f.create!==false){g.on(pa+J,".k-grid-add",function(a){a.preventDefault();b.addRow()}).on(pa+J,".k-grid-cancel-changes",function(a){a.preventDefault();b.cancelChanges()}).on(pa+J,".k-grid-save-changes",function(a){a.preventDefault();b.saveChanges()})}g.on(pa+J,".k-grid-excel",function(a){a.preventDefault();b.saveAsExcel()});g.on(pa+J,".k-grid-pdf",function(a){a.preventDefault();b.saveAsPDF()})}},_toolbarTmpl:function(a){var b=this,c,d,e="";if(q(a)){for(c=0,d=a.length;c<d;c++){e+=b._createButton(a[c])}}return e},_createButton:function(a){var d=a.template||Na,e=typeof a===ta?a:a.name||a.text,f=Za[e]?Za[e].className:"k-grid-"+(e||"").replace(/\s/g,""),g={className:f,text:e,attr:"",iconClass:""},h=this.options.messages.commands,i;if(!e&&!(m(a)&&a.template)){throw new Error("Custom commands should have name specified")}if(m(a)){a=n(true,{},a);if(a.className&&r(g.className,a.className.split(" "))<0){a.className+=" "+g.className}else if(a.className===b){a.className=g.className}if(e==="edit"){a=n(true,{},a);a.text=m(a.text)?a.text.edit:a.text;a.iconClass=m(a.iconClass)?a.iconClass.edit:a.iconClass}if(a.attr){if(m(a.attr)){a.attr=Ya(a.attr)}if(typeof a.attr===ta){i=a.attr.match(/class="(.+?)"/);if(i&&r(i[1],a.className.split(" "))<0){a.className+=" "+i[1]}}}g=n(true,g,Za[e],{text:h[e]},a)}else{g=n(true,g,Za[e],{text:h[e]})}return c.template(d)(g)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var b=this;if(b._groupableClickHandler){b.table.add(b.lockedTable).off(pa+J,b._groupableClickHandler)}else{b._groupableClickHandler=function(c){
var d=a(this),e=d.closest("tr");var f=b._groupRows?b._groupRows[b.wrapper.find(".k-grouping-row").index(e)]:{};if(d.hasClass("k-i-collapse")){if(!b.trigger("groupCollapse",{group:f,element:e})){b.collapseGroup(e)}}else{if(!b.trigger("groupExpand",{group:f,element:e})){b.expandGroup(e)}}c.preventDefault();c.stopPropagation()}}if(b._isLocked()){b.lockedTable.on(pa+J,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",b._groupableClickHandler)}else{b.table.on(pa+J,".k-grouping-row .k-i-expand, .k-grouping-row .k-i-collapse",b._groupableClickHandler)}b._attachGroupable()},_attachGroupable:function(){var b=this,e=b.wrapper,f=b.options.groupable,g=I+"["+c.attr("field")+"]",h=b.content?".k-grid-header:first "+g:"table:first>.k-grid-header "+g;if(f&&f.enabled!==false){if(!e.has("div.k-grouping-header")[0]){a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(e)}if(b.groupable){b.groupable.destroy()}b.groupable=new d.Groupable(e,n({},f,{draggable:b._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:b.dataSource,draggableElements:h,filter:h,allowDrag:b.options.reorderable,change:function(a){if(b.trigger("group",{groups:a.groups})){a.preventDefault()}else{b._clearEditableState();if(b.dataSource.options.endless){b.dataSource.options.endless=null;b._endlessPageSize=b.dataSource.options.pageSize;b.dataSource._skip=0;b.dataSource._page=1}}}}))}},_continuousItems:function(b,c){if(!this.lockedContent){return}var d=this;var e=d.table.add(d.lockedTable);var f=a(b,e[0]);var g=a(b,e[1]);var h=c?Cb(d.columns).length:1;var i=c?d.columns.length-h:1;var j=[];for(var k=0;k<f.length;k+=h){s.apply(j,f.slice(k,k+h));s.apply(j,g.splice(0,i))}return j},_selectable:function(){var b=this,d,e,f=[],g=b._isLocked(),h=b.options.selectable;if(h){if(b.selectable){b.selectable.destroy()}b._selectedIds={};h=c.ui.Selectable.parseOptions(h);d=h.multiple;e=h.cell;if(b._hasDetails()){f[f.length]=".k-detail-row"}if(b.options.groupable||b._hasFooters()||b._groups()){f[f.length]=".k-grouping-row,.k-group-footer"}f=f.join(",");if(f!==""){f=":not("+f+")"}var i=b.table;if(g){i=i.add(b.lockedTable)}var j=">"+(e?B:"tbody>tr"+f);b.selectable=new c.ui.Selectable(i,{filter:j,aria:true,multiple:d,change:function(){if(!e){b._persistSelectedRows()}b.trigger(U)},useAllItems:g&&d&&e,relatedTarget:function(c){if(e||!g){return}var d;var f=a();for(var h=0,i=c.length;h<i;h++){d=b._relatedRow(c[h]);if(r(d[0],c)<0){f=f.add(d)}}return f},continuousItems:function(){return b._continuousItems(j,e)}});if(b.options.navigatable){i.on("keydown"+J,function(c){var f=b.current();var h=c.target;if(c.keyCode===l.SPACEBAR&&!c.shiftKey&&a.inArray(h,i)>-1&&!f.is(".k-edit-cell,.k-header")&&f.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){c.preventDefault();c.stopPropagation();f=e?f:f.parent();if(g&&!e){f=f.add(b._relatedRow(f))}if(d){if(!c.ctrlKey){b.selectable.clear()}else{if(f.hasClass(ga)){f.removeClass(ga);b.trigger(U);return}}}else{b.selectable.clear()}if(!e){b.selectable._lastActive=f}b.selectable.value(f)}else if(!e&&(a(h).is("td")||a(h).is("table")&&r(h,this._navigatableTables))&&(c.shiftKey&&c.keyCode==l.LEFT||c.shiftKey&&c.keyCode==l.RIGHT||c.shiftKey&&c.keyCode==l.UP||c.shiftKey&&c.keyCode==l.DOWN||c.keyCode===l.SPACEBAR&&c.shiftKey)){c.preventDefault();c.stopPropagation();f=f.parent();if(g){f=f.add(b._relatedRow(f))}if(d){if(!b.selectable._lastActive){b.selectable._lastActive=f}b.selectable.selectRange(b.selectable._firstSelectee(),f)}else{b.selectable.clear();b.selectable.value(f)}}})}}},_clipboard:function(){var a=this.options;var b=a.selectable;if(b&&a.allowCopy){var c=this;if(!a.navigatable){c.table.add(c.lockedTable).attr("tabindex",0).on("mousedown"+J+" keydown"+J,".k-detail-cell",function(a){if(a.target!==a.currentTarget){a.stopImmediatePropagation()}}).on("mousedown"+J,C+">"+D,t(ec,c))}c.copyHandler=t(c.copySelection,c);c.updateClipBoardState=function(){if(c.areaClipBoard){c.areaClipBoard.val(c.getTSV()).focus().select()}};c.bind("change",c.updateClipBoardState);c.wrapper.on("keydown",c.copyHandler);c.clearAreaHandler=t(c.clearArea,c);c.wrapper.on("keyup",c.clearAreaHandler)}},copySelection:function(b){if(b instanceof jQuery.Event&&!(b.ctrlKey||b.metaKey)||a(b.target).is("input:visible,textarea:visible")||window.getSelection&&window.getSelection().toString()||document.selection&&document.selection.createRange().text){return}if(!this.areaClipBoard){this.areaClipBoard=a("<textarea />").css({position:"fixed",top:"50%",left:"50%",opacity:0,width:0,height:0}).appendTo(this.wrapper)}this.areaClipBoard.val(this.getTSV()).focus().select()},getTSV:function(){var b=this;var c=b.select();var d="\t";var e=b.options.allowCopy;var f=true;if(a.isPlainObject(e)&&e.delimeter){d=e.delimeter}var g="";if(c.length){if(c.eq(0).is("tr")){c=c.find("td:not(.k-group-cell)")}if(f){c.filter(":visible")}var h=[];var i=this.columns.length;var j=b._isLocked()&&Cb(b.columns).length;var k=true;a.each(c,function(c,d){d=a(d);var e=d.closest("tr");var g=e.index();var l=d.index();if(f){l-=d.prevAll(":hidden").length}if(j&&k){k=a.contains(b.lockedTable[0],d[0])}if(b._groups()&&k){l-=b._groups()}l=k?l:l+j;if(i>l){i=l}var m=d.text();if(!h[g]){h[g]=[]}h[g][l]=m});var l=h.length;h=a.each(h,function(a,b){if(b){h[a]=b.slice(i);if(l>a){l=a}}});a.each(h.slice(l),function(a,b){if(b){g+=b.join(d)+"\r\n"}else{g+="\r\n"}})}return g},clearArea:function(b){var c;if(this.areaClipBoard&&b&&b.target===this.areaClipBoard[0]){if(this.options.navigatable){c=a(this.current()).closest("table")}else{c=this.table}bc(c,true)}if(this.areaClipBoard){this.areaClipBoard.remove();this.areaClipBoard=null}},_minScreenSupport:function(){var b=this.hideMinScreenCols();if(b){this.minScreenResizeHandler=t(this.hideMinScreenCols,this);a(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var a=this.columns,b=window.innerWidth>0?window.innerWidth:screen.width;return this._iterateMinScreenCols(a,b)},_iterateMinScreenCols:function(a,c){var d=false;for(var e=0;e<a.length;e++){var f=a[e];var g=f.minScreenWidth;if(g!==b&&g!==null){d=true;if(g>c){this.hideColumn(f)}else{this.showColumn(f)}}if(!f.hidden&&f.columns){d=this._iterateMinScreenCols(f.columns,c)||d}}return d},_relatedRow:function(b){var c=this.lockedTable;b=a(b);if(!c){return b}var d=b.closest(this.table.add(this.lockedTable));var e=d.find(">tbody>tr").index(b);d=d[0]===this.table[0]?c:this.table;return d.find(">tbody>tr").eq(e)},_relatedCell:function(b){var c=this.lockedTable;b=a(b);if(!c){return b}var d=b.closest(this.table.add(this.lockedTable));var e=d.find(">tbody>tr>td").index(b);d=d[0]===this.table[0]?c:this.table;return d.find(">tbody>tr>td").index(e)},clearSelection:function(){var a=this;if(a.selectable){a.selectable.clear()}if(a._checkBoxSelection){a._deselectCheckRows(a.select());return}if(a.options.persistSelection){a._persistSelectedRows()}else{a._selectedIds={}}a.trigger(U)},select:function(b){var d=this,e=d.selectable,f=c.ui.Selectable.parseOptions(this.options.selectable),g=f.cell;b=d.table.add(d.lockedTable).find(b);if(b.length){if(e&&!e.options.multiple){e.clear();b=b.first()}if(d._isLocked()){b=b.add(b.map(function(){if(g){return d._relatedCell(this)}else{return d._relatedRow(this)}}))}if(e){e.value(b)}else{b.each(function(){a(this).addClass(ga).find(ia).prop("checked",true).attr("aria-label","Deselect row").attr("aria-checked",true)});if(d.select().length===d.items().length){d._toggleHeaderCheckState(true)}if(!g){d._persistSelectedRows()}d.trigger(U)}return}return e?e.value():d.items().filter("."+ga)},_toggleHeaderCheckState:function(a){var b=this;if(a){b.thead.add(b.lockedHeader).find("tr "+ia).prop("checked",true).attr("aria-checked",true).attr("aria-label","Deselect all rows")}else{b.thead.add(b.lockedHeader).find("tr "+ia).prop("checked",false).attr("aria-checked",false).attr("aria-label","Select all rows")}},_deselectCheckRows:function(b){var c=this;b=c.table.add(c.lockedTable).find(b);if(c._isLocked()){b=b.add(b.map(function(){return c._relatedRow(this)}))}b.each(function(){a(this).removeClass(ga).find(ia).attr("aria-checked",false).prop("checked",false).attr("aria-label","Select row")});c._toggleHeaderCheckState(false);if(c.options.persistSelection){c._persistSelectedRows()}else{c._selectedIds={}}c.trigger(U)},_persistSelectedRows:function(){var a=this,b,c,d=a.items(),e=a.dataSource.options,f=e.schema,g,h={};if(!f||!f.model||!f.model.id){return}g=f.model.id;a.select().each(function(){c=a.dataItem(this);h[c[g]]=true});for(var i=0;i<d.length;i++){c=a.dataItem(d[i]);b=c[g];if(h[b]){a._selectedIds[b]=true}else{delete a._selectedIds[b]}}},selectedKeyNames:function(){var a=this,b=[];for(var c in a._selectedIds){b.push(c)}b.sort();return b},_updateCurrentAttr:function(b,c){var d=a(b).data("headerId");a(b).removeClass(ea).closest("table").removeAttr("aria-activedescendant");if(d){d=d.replace(this._cellId,"");a(b).attr("id",d)}else{a(b).removeAttr("id")}c.data("headerId",c.attr("id")).attr("id",this._cellId).addClass(ea).closest("table").attr("aria-activedescendant",this._cellId);this._current=c},_scrollCurrent:function(){var b=this._current;var c=this.options.scrollable;if(!b||!c){return}var d=b.parent();var e=d.closest("table").parent();var f=e.is(".k-grid-content-locked,.k-grid-header-locked");var g=e.is(".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap");var h=a(this.content).find(">.k-virtual-scrollable-wrap").addBack().last()[0];if(g){if(c.virtual){var i=Math.max(r(d[0],this._items(d.parent())),0);this._rowVirtualIndex=this.virtualScrollable.itemIndex(i);this.virtualScrollable.scrollIntoView(d)}else{this._scrollTo(this._relatedRow(d)[0],h)}}if(this.lockedContent){this.lockedContent[0].scrollTop=h.scrollTop}if(!f){this._scrollTo(b[0],h)}},current:function(a){return this._setCurrent(a,true)},_setCurrent:function(b,c){var d=this._current;b=a(b);if(b.length){if(!d||d[0]!==b[0]){this._updateCurrentAttr(d,b);this._scrollCurrent();if(!c){this.trigger(oa,{element:b})}}}if(b&&b.length){this._lastCellIndex=b.parent().children(A).index(b)}return this._current},_removeCurrent:function(){if(this._current){this._current.removeClass(ea);this._current=null}},_scrollTo:function(b,d){var e=b.tagName.toLowerCase();var f=e==="td"||e==="th";var g=b[f?"offsetLeft":"offsetTop"];var h=b[f?"offsetWidth":"offsetHeight"];var i=d[f?"scrollLeft":"scrollTop"];var j=d[f?"clientWidth":"clientHeight"];var k=g+h;var l=0;var m=0;var n=0;if(Qa&&f){var o=a(b).closest("table")[0];if(Ra.msie){m=o.offsetLeft}else if(Ra.mozilla){n=o.offsetLeft-c.support.scrollbar()}}i=Math.abs(i+m-n);if(i>g){l=g}else if(k>i+j){if(h<=j){l=k-j}else{l=g}}else{l=i}l=Math.abs(l+m)+n;d[f?"scrollLeft":"scrollTop"]=l},_navigatable:function(){var b=this;if(!b.options.navigatable){return}var d=b.table.add(b.lockedTable);var e=b.thead.parent().add(a(">table",b.lockedHeader));var f=d;if(b.options.scrollable){f=f.add(e);e.attr(ra,-1)}this._navigatableTables=f;f.off("mousedown"+J+" focus"+J+" focusout"+J+" keydown"+J);e.on("keydown"+J,t(b._openHeaderMenu,b)).find("a.k-link").attr("tabIndex",-1);d.attr(ra,x.max(d.attr(ra)||0,0)).on("mousedown"+J+" keydown"+J,".k-detail-cell",function(a){if(a.target!==a.currentTarget){a.stopImmediatePropagation()}});f.on(c.support.touch?"touchstart"+J:"mousedown"+J,C+">"+D,t(ec,b)).on("focus"+J,t(b._tableFocus,b)).on("focusout"+J,t(b._tableBlur,b)).on("keydown"+J,t(b._tableKeyDown,b))},_openHeaderMenu:function(a){if(a.altKey&&a.keyCode==l.DOWN){this.current().find(".k-grid-filter, .k-header-column-menu").click();a.stopImmediatePropagation()}},_setTabIndex:function(a){this._navigatableTables.attr(ra,-1);a.attr(ra,0)},_tableFocus:function(b){var c=this.current();var d=a(b.currentTarget);if(c&&c.is(":visible")){c.addClass(ea)}else{this._setCurrent(d.find(H))}this._setTabIndex(d)},_tableBlur:function(){var a=this.current();if(a){a.removeClass(ea)}},_tableKeyDown:function(b){var c=this.current();var d=this.virtualScrollable&&this.virtualScrollable.fetching();var e=a(b.target);var f=!b.isDefaultPrevented()&&!e.is(":button,a,:input,a>.k-icon");if(d){b.preventDefault();return}c=c?c:a(this.lockedTable).add(this.options.scrollable?this.table:this.tbody).find(H);if(!c.length){return}var g=false;if(f&&b.keyCode==l.UP){g=this._moveUp(c,b.shiftKey)}if(f&&b.keyCode==l.DOWN){g=this._moveDown(c,b.shiftKey)}if(f&&b.keyCode==(Qa?l.LEFT:l.RIGHT)){g=this._moveRight(c,b.altKey,b.shiftKey,b.ctrlKey,b.currentTarget)}if(f&&b.keyCode==(Qa?l.RIGHT:l.LEFT)){g=this._moveLeft(c,b.altKey,b.shiftKey,b.ctrlKey,b.currentTarget)}if(f&&b.keyCode==l.PAGEDOWN){g=this._handlePageDown()}if(f&&b.keyCode==l.PAGEUP){g=this._handlePageUp()}if(f&&b.keyCode==l.HOME){g=this._handleHome(c,b.ctrlKey)}if(f&&b.keyCode==l.END){g=this._handleEnd(c,b.ctrlKey)}if(b.keyCode==l.ENTER||b.keyCode==l.F2){g=this._handleEnterKey(c,b.currentTarget,e)}if(b.keyCode==l.ESC){g=this._handleEscKey(c,b.currentTarget)}if(b.keyCode==l.TAB){g=this._handleTabKey(c,b.currentTarget,b.shiftKey)}if(g){b.preventDefault();b.stopPropagation()}},_moveLeft:function(b,c,d,e,f){var g,h;var i=b.parent();var j=i.parent();if(c){this.collapseRow(i)}else if(e&&b.is(".k-header")&&this.options.reorderable){this._moveColumn(b,true)}else{h=j.find(C).index(i);g=this._prevHorizontalCell(j,b,h);if(!g[0]){if(d){if(this.lockedTable){g=this._relatedRow(i);if(a.contains(this.lockedTable[0],i[0])){g=g.prevAll(E+":first")}g=g.children(A+":last")}else{g=this._tabNext(b,f,true)}}else{j=this._horizontalContainer(j);g=this._prevHorizontalCell(j,b,h);if(g[0]!==b[0]){bc(j.parent(),true)}}}this._setCurrent(g)}return true},_moveRight:function(b,c,d,e,f){var g,h;var i=b.parent();var j=i.parent();if(c){this.expandRow(i)}else if(e&&b.is(".k-header")&&this.options.reorderable){this._moveColumn(b,false)}else{h=j.find(C).index(i);g=this._nextHorizontalCell(j,b,h);if(!g[0]){if(d){if(this.lockedTable){g=this._relatedRow(i);if(a.contains(this.table[0],i[0])){g=g.nextAll(E+":first")}g=g.children(A+":first")}else{g=this._tabNext(b,f,false)}}else{j=this._horizontalContainer(j,true);g=this._nextHorizontalCell(j,b,h);if(g[0]!==b[0]){bc(j.parent(),true)}}}this._setCurrent(g)}return true},_moveUp:function(a,b){var c=a.parent().parent();var d;if(b){d=a.parent();d=d.prevAll(E+":first");d=a.parent().is(E)?d.children().eq(a.index()):d.children(A+":last")}else{d=this._prevVerticalCell(c,a);if(!d[0]){this._lastCellIndex=0;c=this._verticalContainer(c,true);d=this._prevVerticalCell(c,a);if(d[0]){bc(c.parent(),true)}}}var e=this._lastCellIndex||0;this._setCurrent(d);this._lastCellIndex=e;return true},_moveDown:function(a,b){var c=a.parent().parent();var d;if(b){d=a.parent();d=d.nextAll(E+":first");d=a.parent().is(E)?d.children().eq(a.index()):d.children(A+":first")}else{d=this._nextVerticalCell(c,a);if(!d[0]){this._lastCellIndex=0;c=this._verticalContainer(c);d=this._nextVerticalCell(c,a);if(d[0]){bc(c.parent(),true)}}}var e=this._lastCellIndex||0;this._setCurrent(d);this._lastCellIndex=e;return true},_moveColumn:function(b,c){var d=this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter+":visible");var e=ib(tb(this.columns));var f=d.index(a(b));var g=c?-1:1;var h=e[f];var i=ub(e,this.columns,f,f+g);if(i>=0){this.reorderColumn(i,h,c)}},_handleHome:function(a,b){var c=a.parent();var d=c.parent();var e=this.lockedTable&&this.lockedTable.children("tbody")[0]===d[0];var f=d[0]===this.tbody[0];var g;if(b){if(this.lockedTable){g=this.lockedTable.find(F+">"+D+":first")}else{g=this.table.find(F+">"+D+":first")}}else if(f||e){if(f&&this.lockedTable){c=this._relatedRow(c)}g=c.children(A+":first")}if(g&&g.length){this._setCurrent(g);return true}},_handleEnd:function(a,b){var c=a.parent();var d=c.parent();var e=this.lockedTable&&this.lockedTable.children("tbody")[0]===d[0];var f=d[0]===this.tbody[0];var g;if(b){g=this.table.find(G+">"+D+":last")}else if(f||e){if(!f&&this.lockedTable){c=this._relatedRow(c)}g=c.children(A+":last")}if(g&&g.length){this._setCurrent(g);return true}},_handlePageDown:function(){if(!this.options.pageable){return false}this.dataSource.page(this.dataSource.page()+1);return true},_handlePageUp:function(){if(!this.options.pageable){return false}this.dataSource.page(this.dataSource.page()-1);return true},_handleTabKey:function(b,c,d){var e=this.options.editable&&this._editMode()=="incell";var f;if(!e||b.is("th")){return false}f=a(h()).closest(".k-edit-cell");if(f[0]&&f[0]!==b[0]){b=f}f=this._tabNext(b,c,d);if(f.length){this._handleEditing(b,f,f.closest("table"));return true}return false},_handleEscKey:function(b,c){var d=h();var e=this._editMode()=="incell";if(!gc(b)){if(b.has(d).length){bc(c,true);return true}return false}if(e){this.closeCell(true)}else{var f=a(b).parent().index();if(d){d.blur()}this.cancelRow(true);if(f>=0){this._setCurrent(this.items().eq(f).children(D).first())}}if(Ra.msie&&Ra.version<9){document.body.focus()}bc(c,true);return true},_toggleCurrent:function(a,b){var c=a.parent();if(c.is(".k-grouping-row")){c.find(".k-icon:first").click();return true}if(!b&&c.is(".k-master-row")){c.find(".k-icon:first").click();return true}return false},_handleEnterKey:function(b,c,d){var e=this.options.editable&&this.options.editable.update!==false;var f=d.closest("[role=gridcell]");var g;if(!d.is("table")&&!a.contains(b[0],d[0])){b=f}if(b.is("th")){g=b.find(".k-link");if(g.length){g.click()}else{b.find(ia).focus()}return true}if(this._toggleCurrent(b,e)){return true}var h=b.find(":kendoFocusable:first");if(h[0]&&!b.hasClass("k-edit-cell")&&b.hasClass("k-state-focused")){h.focus();return true}if(e&&!d.is(":button,.k-button,textarea")){if(!f[0]){f=b}this._handleEditing(f,false,c);return true}return false},_nextHorizontalCell:function(a,b,c){var d=b.nextAll(A);if(!d.length){var e=a.find(C);var f=e.index(b.parent());if(f==-1){if(b.hasClass("k-header")){var g=[];Bb([Cb(this.columns)[0]],Kb(e.eq(0).children(":visible").first()),g,0,0);if(g[c]){return g[c][0]}return b}if(b.parent().hasClass("k-filter-row")){return e.last().children(A).first()}return e.eq(c).children(A).first()}}return d.first()},_prevHorizontalCell:function(a,b,c){var d=b.prevAll(A);if(!d.length){var e=a.find(C);var f=e.index(b.parent());if(f==-1){if(b.hasClass("k-header")){var g=[];var h=Cb(this.columns);Bb([h[h.length-1]],Kb(e.eq(0).children().last()),g,0,0);if(g[c]){return g[c][0]}return b}if(b.parent().hasClass("k-filter-row")){return e.last().children(A).last()}return e.eq(c).children(A).last()}}return d.first()},_currentDataIndex:function(a,c){var d=c.attr("data-index");if(!d){return b}var e=Cb(this.columns).length;if(e&&!a.closest("div").hasClass("k-grid-content-locked")[0]){return d-e}return d},_prevVerticalCell:function(b,c){var d;var e=c.parent();var f=b.children(C);var g=f.index(e);var h=this._currentDataIndex(b,c);if(h||c.hasClass("k-header")){d=Jb(c);return d.eq(d.length-2)}h=Math.max(e.children(A).index(c),this._lastCellIndex||0);if(e.hasClass("k-filter-row")){return Ib(b).filter(gb).eq(h)}if(g==-1){e=b.find("tr.k-filter-row:visible");if(!e[0]){return Ib(b).filter(gb).eq(h)}}else{e=g===0?a():f.eq(g-1)}d=e.children(A);if(d.length>h){return d.eq(h)}return d.eq(0)},_nextVerticalCell:function(a,c){var d;var e=c.parent();var f=a.children(C);var g=f.index(e);var h=this._currentDataIndex(a,c);if(g!=-1&&h===b&&c.hasClass("k-header")){return Kb(c).eq(1)}h=h?parseInt(h,10):e.children(A).index(c);h=Math.max(h,this._lastCellIndex||0);if(g==-1){e=f.eq(0)}else{e=f.eq(g+c[0].rowSpan)}var i=h;if(this._currentDataIndex(a,c)!==b){var j=e.children(":not(.k-group-cell):not(.k-hierarchy-cell)");var k=j.filter(":hidden");for(var l=0,m=k.length;l<m;l++){if(j.index(k[l])<h){i--}}}h=i;d=e.children(A);if(d.length>h){return d.eq(h)}return d.eq(0)},_verticalContainer:function(a,b){var c=a.parent();var d=this._navigatableTables.length;var e=Math.floor(d/2);var f=r(c[0],this._navigatableTables);if(b){e*=-1}f+=e;if(f>=0||f<d){c=this._navigatableTables.eq(f)}return c.find(b?"thead":"tbody")},_horizontalContainer:function(a,b){var c=this._navigatableTables.length;if(c<=2){return a}var d=a.parent();var e=r(d[0],this._navigatableTables);e+=b?1:-1;if(b&&(e==2||e==c)){return a}if(!b&&(e==1||e<0)){return a}return this._navigatableTables.eq(e).find("thead, tbody")},_tabNext:function(a,b,c){var d=true;var e=c?a.prevAll(A+":first"):a.nextAll(":visible:first");if(!e.length){e=a.parent();if(this.lockedTable){d=c&&b==this.lockedTable[0]||!c&&b==this.table[0];e=this._relatedRow(e)}if(d){e=e[c?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")}e=e.children(A+(c?":last":":first"))}return e},_handleEditing:function(b,c,d){var e=this,f=a(h()),g=e._editMode(),i=Ra.msie,j=i&&Ra.version<9,k=e._editContainer,l,m=e.options.editable&&e.options.editable.update!==false,n;d=a(d);if(g=="incell"){n=b.hasClass("k-edit-cell")}else{n=b.parent().hasClass("k-grid-edit-row")}if(e.editable){if(a.contains(k[0],f[0])){if(Ra.opera||j){f.blur().change().triggerHandler("blur")}else{f.blur();if(i){f.blur()}}}if(!e.editable){bc(d);return}if(e.editable.end()){if(g=="incell"){e.closeCell()}else{e.saveRow();n=true}}else{if(g=="incell"){e._setCurrent(k)}else{e._setCurrent(k.children().filter(A).first())}l=k.find(":kendoFocusable:first")[0];if(l){l.focus()}return}}if(c){e._setCurrent(c)}if(j){document.body.focus()}bc(d,true);if(!m){return}if(!n&&!c||c){if(g=="incell"){e.editCell(e.current())}else{e.editRow(e.current().parent())}}},_wrapper:function(){var a=this,b=a.table,c=a.options.height,d=a.element;if(!d.is("div")){d=d.wrap("<div/>").parent()}a.wrapper=d.addClass("k-grid k-widget k-display-block");if(c){a.wrapper.css(qa,c);b.css(qa,"auto")}a._initMobile()},_initMobile:function(){var b=this.options;var d=this;this._isMobile=b.mobile===true&&c.support.mobileOS||b.mobile==="phone"||b.mobile==="tablet";if(this._isMobile){var e=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+c.ns+'stretch="true" data-'+c.ns+'role="view" '+"data-"+c.ns+'init-widgets="false"></div>').parent();this.pane=c.mobile.ui.Pane.wrap(e);this.view=this.pane.view();this._actionSheetPopupOptions=a(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};if(b.height){this.pane.element.parent().css(qa,b.height)}this._editAnimation="slide";this.view.bind("show",function(){if(d._isLocked()){d._updateTablesWidth();d._applyLockedContainersWidth();d._syncLockedContentHeight();d._syncLockedHeaderHeight();d._syncLockedFooterHeight()}})}},_tbody:function(){var b=this,c=b.table,d;d=c.find(">tbody");if(!d.length){d=a("<tbody/>").appendTo(c)}b.tbody=d.attr("role","rowgroup")},_scrollable:function(){var b=this,d,e,f=b.options,g=f.scrollable,h=g!==true&&g.virtual&&!b.virtualScrollable,i=!c.support.kineticScrollNeeded||h?c.support.scrollbar():0,j;if(g){d=b.wrapper.children(".k-grid-header");if(!d[0]){d=a('<div class="k-grid-header" />').insertBefore(b.table)}d.css(Qa?"padding-left":"padding-right",g.virtual?i+1:i);e=a('<table role="grid" />');if(Sa){e.attr("cellspacing",0)}e.width(b.table[0].style.width);e.append(b.thead);d.empty().append(a('<div class="k-grid-header-wrap k-auto-scrollable" />').append(e));b.content=b.table.parent();if(b.content.is(".k-virtual-scrollable-wrap, .km-scroll-container")){b.content=b.content.parent()}if(!b.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){b.content=b.table.wrap('<div class="k-grid-content k-auto-scrollable" />').parent()}if(h){b._createVirtualScrollable()}j=d.children(".k-grid-header-wrap");b.scrollables=j.add(b.content);var k=b.wrapper.find(".k-grid-footer");if(k.length){b.scrollables=b.scrollables.add(k.children(".k-grid-footer-wrap"))}j.unbind("scroll"+J).bind("scroll"+J,function(a){if(b._scrollLeft!==this.scrollLeft){b.scrollables.not(a.currentTarget).scrollLeft(this.scrollLeft)}});if(g.virtual){b.content.find(">.k-virtual-scrollable-wrap").unbind("scroll"+J).bind("scroll"+J,function(){b.scrollables.scrollLeft(this.scrollLeft);if(b.lockedContent){b.lockedContent[0].scrollTop=this.scrollTop}})}else{var l=g.endless;var m=b.dataSource.options.pageSize;if(l){b._endlessPageSize=m}b.content.unbind("scroll"+J).bind("scroll"+J,function(a){b._scrollLeft=this.scrollLeft;b.scrollables.not(a.currentTarget).scrollLeft(b._scrollLeft);if(b.lockedContent&&a.currentTarget==b.content[0]){b.lockedContent[0].scrollTop=this.scrollTop}if(l){if(this.scrollTop+this.clientHeight-this.scrollHeight>=-10&&!b._endlessFetchInProgress&&b._endlessPageSize<b.dataSource.total()){b._skipRerenderItemsCount=b._endlessPageSize;b._endlessPageSize=b._endlessPageSize+m;b.dataSource.options.endless=true;b._endlessFetchInProgress=true;b.dataSource.pageSize(b._endlessPageSize)}}});var n=b.content.data("kendoTouchScroller");if(n){n.destroy()}n=c.touchScroller(b.content);if(n&&n.movable){b.touchScroller=n;n.movable.bind("change",function(a){b.scrollables.scrollLeft(-a.sender.x);if(b.lockedContent){b.lockedContent.scrollTop(-a.sender.y)}});b.one(Y,function(a){a.sender.wrapper.addClass("k-grid-backface")})}}}},_createVirtualScrollable:function(){var a=this;if(a.virtualScrollable){a.virtualScrollable.destroy()}a.virtualScrollable=new Va(a.content,{dataSource:a.dataSource,itemHeight:function(){return a._averageRowHeight()},page:function(){a._restoreEditableState()},scroll:function(){a._focusEditable()}});a.virtualScrollable.bind(ba,t(a._onVirtualPaging,a))},_onVirtualPaging:function(){var a=this;a._cacheEditableState();if(a._isVirtualIncellEditable()){a._shouldClearEditableState=false;a.closeCell();a._shouldClearEditableState=true}},_isVirtualEditable:function(){return this._isVirtualIncellEditable()||this._isVirtualInlineEditable()||this._isVirtualPopupEditable()},_isVirtualInlineEditable:function(){return this.virtualScrollable&&this._editMode()===za},_isVirtualIncellEditable:function(){return this.virtualScrollable&&this._editMode()===ya},_isVirtualPopupEditable:function(){return this.virtualScrollable&&this._editMode()==="popup"},_scrollVirtualWrapper:function(){var a=this;var b=a.virtualScrollable;if(a._isVirtualInlineEditable()||a._isVirtualIncellEditable()){if(b._isScrolledToBottom()){b._scrollWrapperToBottom()}else if(b._isScrolledToTop()){b._scrollWrapperToTop()}}},_scrollVirtualWrapperOnColumnResize:function(){var a=this.virtualScrollable;if(a){a._scrollWrapperOnColumnResize()}},_restoreEditableState:function(){var b=this;var c=b._editableState||{};var d=c.model;var e=b.dataSource;var f=b._isVirtualInlineEditable();var g=b._isVirtualIncellEditable();var h;var i;if((f||g)&&d&&e._getByUid(d.uid,e.view())){if(f){b._shouldClearEditableState=false;b.editRow(d);b._focusEditable()}else if(g){h=b.tbody.children(Wa(Aa,d.uid));i=a(h).children(Wa(wa,c.field));if(i[0]){b._shouldClearEditableState=false;b.editCell(i);b._focusEditable()}}}b._shouldClearEditableState=true},_focusEditable:function(){var a=this;var b=(a._editableState||{}).field;var c=a._editContainer;if(c&&!w(c[0],h())&&a._canFocusEditable()){if(a._isVirtualInlineEditable()){c.find(Wa(va,b)).find(fa).eq(0).focus()}else if(a._isVirtualIncellEditable()){c.find(fa).eq(0).focus()}}},_canFocusEditable:function(){var a=this;return(a._isVirtualIncellEditable()||a._isVirtualInlineEditable())&&a.virtualScrollable._isElementVisible(a._editContainer)},_cacheEditableState:function(){var b=this;var d=b._editContainer;var e=d?b._modelForContainer(d):null;var f=b._isVirtualInlineEditable();var g=b._isVirtualIncellEditable();var i;var j;if((f||g)&&e){b._clearEditableState();i=a(h());if(d&&i[0]&&w(d[0],i[0])){i.change();j=c.widgetInstance(i,c.ui);if(j&&u(j.value)&&i.is(xa)){j.value(i.val());j.trigger(U)}}if(f){b._editableState={model:e,field:i.closest("["+c.attr(va)+"]").attr(c.attr(va))}}else if(g){b._editableState={model:e,field:d.attr(c.attr(wa))}}}},_clearEditableState:function(){var a=this;if(a.virtualScrollable){a._editableState=null}},_destroyVirtualScrollable:function(){var a=this;a._clearEditableState();if(a.virtualScrollable&&a.virtualScrollable.element){a.virtualScrollable.destroy()}a.virtualScrollable=null},_renderNoRecordsContent:function(){var b=this;if(b.options.noRecords){var c=b.table.parent().children("."+ja);if(c.length){b.angular("cleanup",function(){return{elements:c.get()}});c.remove()}if(!b.dataSource||!b.dataSource.view().length){c=a(b.noRecordsTemplate({})).insertAfter(b.table);b.angular("compile",function(){return{elements:c.get(),data:[{}]}})}}},_setContentWidth:function(b){var c=this,d="k-grid-content-expander",e='<div class="'+d+'"></div>',f=c.resizable,g;if(c.options.scrollable&&c.wrapper.is(":visible")){g=c.table.parent().children("."+d);c._setContentWidthHandler=t(c._setContentWidth,c);if(!c.dataSource||!c.dataSource.view().length){if(!g[0]){g=a(e).appendTo(c.table.parent());if(f){f.bind("resize",c._setContentWidthHandler)}}if(c.thead){g.width(c.thead.width());if(!isNaN(parseFloat(b,10))){c.content.scrollLeft(b)}}}else if(g[0]){g.remove();if(f){f.unbind("resize",c._setContentWidthHandler)}}c._applyLockedContainersWidth();if(c.lockedHeader&&c.table[0].clientWidth===0){c.table[0].style.width="1px"}}},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var a=this.thead.parent(),b=a.parent(),d=this.wrapper[0].clientWidth,e=this._groups(),f=c.support.scrollbar(),g=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),h=a.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),i=xb(g),k=xb(h),l;if(e>0){i+=j(this.lockedHeader.find(".k-group-cell:first"))*e}if(i>=d){i=d-3*f}this.lockedHeader.add(this.lockedContent).width(i);b[0].style.width=b.parent().width()-i-2+"px";a.add(this.table).width(k);if(this.virtualScrollable&&!Ua){d-=f}this.content[0].style.width=d-i-2+"px";if(this.lockedFooter&&this.lockedFooter.length){this.lockedFooter.width(i);l=this.footer.find(".k-grid-footer-wrap");l[0].style.width=b[0].clientWidth+"px";l.children().first().width(k)}}},_setContentHeight:function(){var a=this,b=a.options,d=a.wrapper.innerHeight(),e=a.wrapper.children(".k-grid-header"),f=c.support.scrollbar();var g=(b.scrollable||{}).height;if(b.scrollable&&a.wrapper.is(":visible")){d-=k(e);if(a.pager&&a.pager.element.is(":visible")){d-=k(a.pager.element)}if(b.groupable){d-=k(a.wrapper.children(".k-grouping-header"))}if(b.toolbar){d-=k(a.wrapper.children(".k-grid-toolbar"))}if(a.footerTemplate){d-=k(a.wrapper.children(".k-grid-footer"))}var h=function(a){var b,c;if(a[0].style.height){return true}else{b=a.height()}a.height("auto");c=a.height();if(b!=c){a.height("");return true}a.height("");return false};if(h(a.wrapper)){if(d>f*2){if(a.lockedContent){f=a.table[0].offsetWidth>a.table.parent()[0].clientWidth?f:0;a.lockedContent.height(d-f)}a.content.height(d)}else{a.content.height(f*2+1)}}else if(g){a.content.css("height",g)}}},_averageRowHeight:function(){var a=this,b=a._items(a.tbody).length,c=a._rowHeight;if(b===0){return c}if(!a._rowHeight){a._rowHeight=c=k(a.table)/b;a._sum=c;a._measures=1}var d=k(a.table)/b;if(c!==d){a._measures++;a._sum+=d;a._rowHeight=a._sum/a._measures}return c},_dataSource:function(){var a=this,c=a.options,d,f=c.dataSource;f=q(f)?{data:f}:f;if(m(f)){n(f,{table:a.table,fields:a.columns});d=c.pageable;if(m(d)&&d.pageSize!==b){f.pageSize=d.pageSize}}if(a.dataSource&&a._refreshHandler){a.dataSource.unbind(U,a._refreshHandler).unbind(y,a._progressHandler).unbind(z,a._errorHandler)}else{a._refreshHandler=t(a.refresh,a);a._progressHandler=t(a._requestStart,a);a._errorHandler=t(a._error,a)}a.dataSource=e.create(f).bind(U,a._refreshHandler).bind(y,a._progressHandler).bind(z,a._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(b){var e=this,f=e.tbody,g=b.model,h=e.tbody.find("tr["+c.attr("uid")+"="+g.uid+"]"),i,j,k,l=h.hasClass("k-alt"),m,n=e._items(f).index(h),o=e.lockedContent,p,q,r,s,t;if(o){i=e._relatedRow(h)}if(h.add(i).children(".k-edit-cell").length&&!e.options.rowTemplate){h.add(i).children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){j=a(this);k=Hb(e.columns)[e.cellIndex(j)];if(k.field===b.field){
if(!j.hasClass("k-edit-cell")){e._displayCell(j,k,g)}else{j.addClass("k-dirty-cell")}}})}else if(!h.hasClass("k-grid-edit-row")){q=a().add(h);if(o){m=(l?e.lockedAltRowTemplate:e.lockedRowTemplate)(g);q=q.add(i);i.replaceWith(m)}e.angular("cleanup",function(){return{elements:q.get()}});m=(l?e.altRowTemplate:e.rowTemplate)(g);h.replaceWith(m);m=e._items(f).eq(n);var u=[{dataItem:g}];if(o){h=h.add(i);i=e._relatedRow(m)[0];_b(m[0],i);m=m.add(i);u.push({dataItem:g})}e.angular("compile",function(){return{elements:m.get(),data:u}});p=e.options.selectable;if((p||e._checkBoxSelection)&&h.hasClass("k-state-selected")){e.select(m)}s=q.children(":not(.k-group-cell,.k-hierarchy-cell)");r=m.children(":not(.k-group-cell,.k-hierarchy-cell)");for(n=0,t=e.columns.length;n<t;n++){k=e.columns[n];j=r.eq(n);if(p&&s.eq(n).hasClass("k-state-selected")){j.addClass("k-state-selected")}}e.trigger("itemChange",{item:m,data:g,ns:d})}},_pageable:function(){var b=this,d,e=b.options.pageable;if(e){d=b.wrapper.children("div.k-grid-pager");if(!d.length){d=a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(b.wrapper)}if(b.pager){b.pager.destroy()}if(typeof e==="object"&&e instanceof c.ui.Pager){b.pager=e}else{b.pager=new c.ui.Pager(d,n({},e,{dataSource:b.dataSource}))}b.pager.bind("pageChange",function(a){if(b.trigger("page",{page:a.index})){a.preventDefault()}})}},_footer:function(){var b=this,c=b.dataSource.aggregates(),d="",e=b.footerTemplate,f=b.options,g,h=b.footer||b.wrapper.find(".k-grid-footer");if(e){d=a(b._wrapFooter(e(c)));if(h.length){var i=d;b.angular("cleanup",function(){return{elements:h.get()}});h.replaceWith(i);h=b.footer=i}else{if(f.scrollable){h=b.footer=f.pageable?d.insertBefore(b.wrapper.children("div.k-grid-pager")):d.appendTo(b.wrapper)}else{h=b.footer=d.insertBefore(b.tbody)}}b.angular("compile",function(){return{elements:h.find("td:not(.k-group-cell, .k-hierarchy-cell)").get(),data:o(b.columns,function(a){return{column:a,aggregate:c[a.field]}})}})}else if(h&&!b.footer){b.footer=h}if(h.length){if(f.scrollable){g=h.attr("tabindex",-1).children(".k-grid-footer-wrap");b.scrollables=a(b.scrollables.filter(function(){return!a(this).is(".k-grid-footer-wrap")}).toArray()).add(g)}if(b._footerWidth){h.find("table").css("width",b._footerWidth)}if(g){var j=b.content.scrollLeft();if(f.scrollable!==true&&f.scrollable.virtual){j=b.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()}g.scrollLeft(j)}}if(b.lockedContent){b._appendLockedColumnFooter();b._applyLockedContainersWidth();b._syncLockedFooterHeight()}},_wrapFooter:function(b){var d=this,e="",f=!c.support.mobileOS?c.support.scrollbar():0;if(d.options.scrollable){e=a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(Sa?' cellspacing="0"':"")+"><tbody>"+b+"</tbody></table></div></div>");d._appendCols(e.find("table"));e.css(Qa?"padding-left":"padding-right",f);return e}return'<tfoot class="k-grid-footer">'+b+"</tfoot>"},_columnMenu:function(){var a=this,d,e=Hb(a.columns),f,g=a.options,h=g.columnMenu,i,j,k,l,m=p(a.columns,function(a){return a.columns!==b}).length>0,o=this._isMobile,q=function(b){a.trigger(Q,{field:b.field,container:b.container})},r=function(b){a.trigger(S,{field:b.field,container:b.container})},s=function(a){bc(a.closest("table"),true)},t=function(b){if(a.trigger("sort",{sort:b.sort})){b.preventDefault()}else{a._clearEditableState();if(a.dataSource.options.endless){a.dataSource.options.endless=null;a._endlessPageSize=a.dataSource.options.pageSize;a.dataSource.pageSize(a.dataSource.options.pageSize)}}},u=function(b){if(a.trigger("filter",{filter:b.filter,field:b.field})){b.preventDefault()}else{a._clearEditableState();if(a.dataSource.options.endless){a.dataSource.options.endless=null;a._endlessPageSize=a.dataSource.options.pageSize;a.dataSource.pageSize(a.dataSource.options.pageSize)}}},v=g.$angular;if(h){if(typeof h=="boolean"){h={}}l=Ib(a.thead);for(var w=0,x=l.length;w<x;w++){f=e[w];var y=l.eq(w);if(!f.command&&(f.field||y.attr("data-"+c.ns+"field"))){d=y.data("kendoColumnMenu");if(d){d.destroy()}j=f.sortable!==false&&h.sortable!==false&&g.sortable!==false?n({},g.sortable,{compare:(f.sortable||{}).compare}):false;k=g.filterable&&f.filterable!==false&&h.filterable!==false?n({pane:a.pane},g.filterable,f.filterable):false;if(f.filterable&&f.filterable.dataSource){k.forceUnique=false;k.checkSource=f.filterable.dataSource}if(k){k.format=f.format}i={dataSource:a.dataSource,values:f.values,columns:h.columns,sortable:j,filterable:k,messages:h.messages,owner:a,closeCallback:s,init:q,open:r,pane:a.pane,sort:t,filtering:u,filter:o?":not(.k-column-active)":"",lockedColumns:!m&&f.lockable!==false&&Cb(e).length>0};if(v){i.$angular=v}y.kendoColumnMenu(i)}}}},_headerCells:function(){return this.thead.find("th").filter(function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")})},_filterable:function(){var a=this,b=Hb(a.columns),d,e,f,g=function(b){a.trigger(P,{field:b.field,container:b.container})},h=function(a){bc(a.closest("table"),true)},i=function(b){if(a.trigger("filter",{filter:b.filter,field:b.field})){b.preventDefault()}else{a._clearEditableState();if(a.dataSource.options.endless){a.dataSource.options.endless=null;a._endlessPageSize=a.dataSource.options.pageSize;a.dataSource.pageSize(a.dataSource.options.pageSize)}}},j=function(b){a.trigger(R,{field:b.field,container:b.container})},k=a.options.filterable;if(k&&typeof k.mode==ta&&k.mode.indexOf("menu")==-1){k=false}if(k&&!a.options.columnMenu){e=Ib(a.thead);for(var l=0,m=e.length;l<m;l++){f=e.eq(l);if(b[l].filterable!==false&&!b[l].command&&(b[l].field||f.attr("data-"+c.ns+"field"))){d=f.data("kendoFilterMenu");if(d){d.destroy()}d=f.data("kendoFilterMultiCheck");if(d){d.destroy()}var o=b[l].filterable;var p=n({},k,o,{dataSource:a.dataSource,values:b[l].values,format:b[l].format,closeCallback:h,title:b[l].title||b[l].field,init:g,open:j,pane:a.pane,change:i});if(o&&o.messages){p.messages=n(true,{},k.messages,o.messages)}if(o&&o.dataSource){p.forceUnique=false;p.checkSource=o.dataSource}if(o&&o.multi){f.kendoFilterMultiCheck(p)}else{f.kendoFilterMenu(p)}}}}},_filterRow:function(){var b=this;if(!b._hasFilterRow()){return}var d;var f=b.options.$angular;var g=Hb(b.columns),h=b.options.filterable,i=b.thead.find(".k-filter-row"),j=function(a){if(b.trigger("filter",{filter:a.filter,field:a.field})){a.preventDefault()}else{b._clearEditableState();if(b.dataSource.options.endless){b.dataSource.options.endless=null;b._endlessPageSize=b.dataSource.options.pageSize;b.dataSource.pageSize(b.dataSource.options.pageSize)}}};this._updateHeader(this.dataSource.group().length);for(var k=0;k<g.length;k++){var l,m=g[k],o=b.options.filterable.operators,p=false,q=a("<th/>"),r=m.field;if(m.hidden){q.hide()}i.append(q);if(r&&m.filterable!==false){var s=m.filterable&&m.filterable.cell||{};l=b.options.dataSource;if(l instanceof e){l=b.options.dataSource.options}var t=n(true,{},h.messages);if(m.filterable){n(true,t,m.filterable.messages)}if(s.enabled===false){q.html("&nbsp;");continue}if(s.dataSource){l=s.dataSource;p=true}if(m.filterable&&m.filterable.operators){o=m.filterable.operators}d={column:m,dataSource:b.dataSource,suggestDataSource:l,customDataSource:p,field:r,messages:t,values:m.values,template:s.template,delay:s.delay,inputWidth:s.inputWidth,suggestionOperator:s.suggestionOperator,minLength:s.minLength,dataTextField:s.dataTextField,operator:s.operator,operators:o,showOperators:s.showOperators,change:j};if(f){d.$angular=f}a("<span/>").attr(c.attr("field"),r).appendTo(q).kendoFilterCell(d)}else{q.html("&nbsp;")}}},_sortable:function(){var a=this,b=Hb(a.columns),d,e,f,g=a.options.sortable,h=function(b){if(a.trigger("sort",{sort:b.sort})){b.preventDefault()}else{a._clearEditableState()}};if(g){var i=Ib(a.thead);for(var j=0,k=i.length;j<k;j++){d=b[j];if(d.sortable!==false&&!d.command&&d.field){f=i.eq(j);e=f.data("kendoColumnSorter");if(e){e.destroy()}f.attr("data-"+c.ns+"field",d.field).kendoColumnSorter(n({},g,d.sortable,{dataSource:a.dataSource,aria:true,filter:":not(.k-column-active)",change:h}))}}i=null}},_columns:function(b){var d=this,e=d.table,f,g=e.find("col"),h,i=d.element.find("thead:first th[data-index]"),j,k=d.options.dataSource;b=b.length?b:o(e.find("th"),function(b,d){b=a(b);var e=b.attr(c.attr("sortable")),f=b.attr(c.attr("filterable")),h=b.attr(c.attr("type")),i=b.attr(c.attr("groupable")),j=b.attr(c.attr("field")),k=b.attr(c.attr("title")),l=b.attr(c.attr("menu"));if(!j){j=b.text().replace(/\s|[^A-z0-9]/g,"")}return{field:j,type:h,title:k,sortable:e!=="false",filterable:f!=="false",groupable:i!=="false",menu:l,template:b.attr(c.attr("template")),width:g.eq(d).css("width")}});f=!(d.table.find("tbody tr").length>0&&(!k||!k.transport));if(d.options.scrollable){var l=b;h=Cb(b);b=Db(b);if(h.length>0&&b.length===0){throw new Error("There should be at least one non locked column")}Pb(d.element.find("tr:has(th):first"),l);b=h.concat(b)}d.columns=cb(b,f);if(i.length&&d.columns.length){j=Hb(d.columns);o(i,function(b){b=a(b);var d=b.attr("id");var e=c.parseInt(b.attr("data-index"));if(d){j[e].headerAttributes=n(j[e].headerAttributes,{id:d})}})}if(a.grep(Hb(d.columns),function(a){return a.selectable}).length){d._selectedIds={};d._checkBoxSelection=true;d.wrapper.on(pa+J,"tbody > tr "+ia,t(d._checkboxClick,d));d.wrapper.on(pa+J,"thead > tr "+ia,t(d._headerCheckboxClick,d))}},_headerCheckboxClick:function(b){var c=this,d=a(b.target),e=d.prop("checked"),f=d.closest(".k-grid.k-widget").getKendoGrid();if(c!==f){return}if(e){c.select(f.items())}else{c.clearSelection()}},_checkboxClick:function(b){var c=this,d=a(b.target).closest("tr"),e=!d.hasClass(ga);if(c!==d.closest(".k-grid.k-widget").getKendoGrid()){return}if(e){c.select(d)}else{c._deselectCheckRows(d)}},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,b,d,e){var f=this,g=n({},c.Template,f.options.templateSettings),h=g.paramName,i,j=b.length,k,l={storage:{},count:0},m,o,p=f._hasDetails(),q=[],r=f._groups(),s=f.options.navigatable;var u=c.attr("field");var v;var w="";if(!a){a="<tr";if(d){q.push("k-alt")}if(p){q.push("k-master-row")}if(q.length){a+=' class="'+q.join(" ")+'"'}if(j){a+=" "+c.attr("uid")+'="#='+c.expr("uid",g.paramName)+'#"'}a+=" role='row'>";if(r>0&&!e){a+=Xa(r)}if(p){a+='<td class="k-hierarchy-cell" aria-expanded="false"><a class="k-icon k-i-expand" href="\\#" '+Ha+'="'+Ga+'" tabindex="-1"></a></td>'}for(i=0;i<j;i++){m=b[i];k=m.template;o=typeof k;v=m.field;if(f._editMode()===ya&&v){m.attributes=m.attributes||{};if(f.virtualScrollable){m.attributes[u]=v}w=f._dirtyCellTemplate(v,h);m.attributes["class"]=m.attributes["class"]||"";if(m.attributes["class"].indexOf(w)<0){m.attributes["class"]+=w}}if(m.command){m.attributes=m.attributes||{};if(typeof m.attributes["class"]!=="undefined"){m.attributes["class"]+=" k-command-cell"}else{m.attributes["class"]="k-command-cell"}}a+="<td"+Ya(m.attributes);if(s){a+=" aria-describedby='"+m.headerAttributes.id+"'"}a+=" role='gridcell'>";a+=f._cellTmpl(m,l);a+="</td>"}a+="</tr>"}a=c.template(a,g);if(l.count>0){return t(a,l.storage)}return a},_dirtyCellTemplate:function(a,b){var d;if(a&&b){d=a.charAt(0)==="["?c.expr(a,b+".dirtyFields"):b+".dirtyFields['"+a+"']";return"#= "+b+" && "+b+".dirty && "+b+".dirtyFields && "+d+" ? ' k-dirty-cell' : '' #"}return""},_headerCellText:function(a){var b=this,d=n({},c.Template,b.options.templateSettings),e=a.headerTemplate,f=typeof e,g=a.title||a.field||"";if(f===sa){g=c.template(e,d)({})}else if(f===ta){g=e}return g},_cellTmpl:function(a,b){var d=this,e=n({},c.Template,d.options.templateSettings),f=a.template,g=e.paramName,h=a.field,i="",j,k,l=a.format,o=typeof f,p=a.values;if(a.command){if(q(a.command)){for(j=0,k=a.command.length;j<k;j++){if(a.command[j].visible){i+=c.format("#= {0}(data)? '{1}':'' #",a.command[j].visible,d._createButton(a.command[j]).replace(Ja,"\\#"))}else{i+=d._createButton(a.command[j]).replace(Ja,"\\#")}}return i}return d._createButton(a.command).replace(Ja,"\\#")}if(a.selectable){return Oa}i+=d._dirtyIndicatorTemplate(h,g);if(o===sa){b.storage["tmpl"+b.count]=f;i+="#=this.tmpl"+b.count+"("+g+")#";b.count++}else if(o===ta){i+=f}else if(p&&p.length&&m(p[0])&&"value"in p[0]&&h){i+="#var v ="+c.stringify(Qb(p)).replace(Ja,"\\#")+"#";i+="#var f = v[";if(!e.useWithBlock){i+=g+"."}i+=h+"]#";i+="${f != null ? f : ''}"}else{i+=a.encoded?"#:":"#=";if(l){i+='kendo.format("'+l.replace(Ia,"\\$1")+'",'}if(h){h=c.expr(h,g);i+=h+"==null?'':"+h}else{i+="''"}if(l){i+=")"}i+="#"}return i},_dirtyIndicatorTemplate:function(a,b){var d;if(a&&b){d=a.charAt(0)==="["?c.expr(a,b+".dirtyFields"):b+".dirtyFields['"+a+"']";return"#= "+b+" && "+b+".dirty && "+b+".dirtyFields && "+d+" ? '<span class=\"k-dirty\"></span>' : '' #"}return""},_templates:function(){var b=this,c=b.options,d=b.dataSource,e=d.group(),f=b.footer||b.wrapper.find(".k-grid-footer"),g=d.aggregate(),h=Hb(b.columns),i=Hb(Cb(b.columns)),j=c.scrollable?Hb(Db(b.columns)):h;if(c.scrollable&&i.length){if(c.rowTemplate||c.altRowTemplate){throw new Error("Having both row template and locked columns is not supported")}b.rowTemplate=b._tmpl(c.rowTemplate,j,false,true);b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,j,true,true);b.lockedRowTemplate=b._tmpl(c.rowTemplate,i);b.lockedAltRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,i,true)}else{b.rowTemplate=b._tmpl(c.rowTemplate,j);b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,j,true)}if(b._hasDetails()){b.detailTemplate=b._detailTmpl(c.detailTemplate||"")}if(b._group&&!v(g)||!v(g)&&!f.length||p(h,function(a){return a.footerTemplate}).length){b.footerTemplate=b._footerTmpl(h,g,"footerTemplate","k-footer-template")}if(e&&p(h,function(a){return a.groupFooterTemplate}).length){g=a.map(e,function(a){return a.aggregates});b.groupFooterTemplate=b._footerTmpl(j,g,"groupFooterTemplate","k-group-footer",i.length);if(c.scrollable&&i.length){b.lockedGroupFooterTemplate=b._footerTmpl(i,g,"groupFooterTemplate","k-group-footer")}}if(b.options.noRecords){b.noRecordsTemplate=b._noRecordsTmpl()}},_noRecordsTmpl:function(){var b='<div class="{0}">{1}</div>';var d='<div class="k-grid-norecords-template"{1}>{0}</div>';var e=this.options.scrollable&&!this.wrapper[0].style.height?' style="margin:0 auto;position:static;"':"";var f={storage:{},count:0};var g=a.extend({},c.Template,this.options.templateSettings);var h=g.paramName;var i;var j="";var k;var l;if(this.options.noRecords.template){i=this.options.noRecords.template}else{i=c.format(d,this.options.messages.noRecords,e)}k=typeof i;if(k==="function"){f.storage["tmpl"+f.count]=i;j+="#=this.tmpl"+f.count+"("+h+")#";f.count++}else if(k==="string"){j+=i}l=c.template(c.format(b,ja,j),g);if(f.count>0){l=a.proxy(l,f.storage)}return l},_footerTmpl:function(a,b,d,e,f){var g=this,h=n({},c.Template,g.options.templateSettings),i=h.paramName,j="",k,l,m,o,p={},q=0,r={},s=g._groups(),u=g.dataSource._emptyAggregates(b),v;j+='<tr class="'+e+'">';if(s>0&&!f){j+=Xa(s)}if(g._hasDetails()){j+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(k=0,l=a.length;k<l;k++){v=a[k];m=v[d];o=typeof m;j+="<td"+Ya(v.footerAttributes)+">";if(m){if(o!==sa){r=u[v.field]?n({},h,{paramName:i+"['"+v.field+"']"}):{};m=c.template(m,r)}p["tmpl"+q]=m;j+="#=this.tmpl"+q+"("+i+")#";q++}else{j+="&nbsp;"}j+="</td>"}j+="</tr>";j=c.template(j,h);if(q>0){return t(j,p)}return j},_detailTmpl:function(a){var b=this,d="",e=n({},c.Template,b.options.templateSettings),f=e.paramName,g={},h=0,i=b._groups(),j=ib(Hb(b.columns)).length,k=typeof a;d+='<tr class="k-detail-row">';if(i>0){d+=Xa(i)}d+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(j?' colspan="'+j+'"':"")+">";if(k===sa){g["tmpl"+h]=a;d+="#=this.tmpl"+h+"("+f+")#";h++}else{d+=a}d+="</td></tr>";d=c.template(d,e);if(h>0){return t(d,g)}return d},_hasDetails:function(){var a=this;return a.options.detailTemplate!==null||(a._events[O]||[]).length},_hasFilterRow:function(){var b=this.options.filterable;var c=b&&typeof b.mode==ta&&b.mode.indexOf("row")!=-1;var d=this.columns;var e=a.grep(d,function(a){return a.filterable===false});if(d.length&&e.length==d.length){c=false}return c},_details:function(){var b=this;if(b.options.scrollable&&b._hasDetails()&&Cb(b.columns).length){throw new Error("Having both detail template and locked columns is not supported")}b.table.on(pa+J,".k-hierarchy-cell .k-i-expand, .k-hierarchy-cell .k-i-collapse",function(c){var d=a(this),e=d.closest("td.k-hierarchy-cell"),f=d.hasClass("k-i-expand"),g=d.closest("tr.k-master-row"),h,i=b.detailTemplate,j,k=b._hasDetails(),l=f?Fa:Ga,m=f?true:false;d.toggleClass("k-i-expand",!f).toggleClass("k-i-collapse",f).attr(Ha,l);e.attr("aria-expanded",m);h=g.next();if(k&&!h.hasClass("k-detail-row")){j=b.dataItem(g);h=a(i(j)).addClass(g.hasClass("k-alt")?"k-alt":"").insertAfter(g);b.angular("compile",function(){return{elements:h.get(),data:[{dataItem:j}]}});b.trigger(O,{masterRow:g,detailRow:h,data:j,detailCell:h.find(".k-detail-cell")})}b.trigger(f?Z:$,{masterRow:g,detailRow:h});h.toggle(f);c.preventDefault();return false})},dataItem:function(b){b=a(b)[0];if(!b){return null}var c=this.tbody.children(),d=/k-grouping-row|k-detail-row|k-group-footer/,e=b.sectionRowIndex,f,g;g=e;for(f=0;f<e;f++){if(d.test(c[f].className)){g--}}return this._data[g]},expandRow:function(b){a(b).find("> td .k-i-expand").click()},collapseRow:function(b){a(b).find("> td .k-i-collapse").click()},_createHeaderCells:function(a,d){var e=this,f,g,h,i="",j,k=Hb(e.columns),l;for(f=0,j=a.length;f<j;f++){g=a[f].column||a[f];h=e._headerCellText(g);l="";var m=r(g,k);if(g.selectable){i+="<th scope='col'"+Ya(g.headerAttributes);if(d&&!a[f].colSpan){i+=" rowspan='"+d+"'"}if(m>-1){i+=c.attr("index")+"='"+m+"'"}h=g.headerTemplate?h:c.template(Pa)({});i+=">"+h+"</th>"}else if(g.command){i+="<th scope='col'"+Ya(g.headerAttributes);if(d&&!a[f].colSpan){i+=" rowspan='"+d+"'"}if(m>-1){i+=c.attr("index")+"='"+m+"'"}i+=">"+h+"</th>"}else{if(g.field){l=c.attr("field")+"='"+g.field+"' "}i+="<th scope='col' role='columnheader' "+l;i+=" aria-haspopup='true'";if(d&&!a[f].colSpan){i+=" rowspan='"+d+"'"}if(a[f].colSpan>1){i+='colspan="'+(a[f].colSpan-wb(g.columns))+'" ';i+=c.attr("colspan")+"='"+a[f].colSpan+"'"}if(g.title){i+=c.attr("title")+'="'+g.title.replace('"',"&quot;").replace(/'/g,"'")+'" '}if(g.groupable!==b){i+=c.attr("groupable")+"='"+g.groupable+"' "}if(g.aggregates&&g.aggregates.length){i+=c.attr("aggregates")+"='"+g.aggregates+"'"}if(m>-1){i+=c.attr("index")+"='"+m+"'"}i+=Ya(g.headerAttributes);i+=">"+h+"</th>"}}return i},_appendLockedColumnContent:function(){var b=this.columns,c,d=this.table.find("colgroup"),e=d.find("col:not(.k-group-col,.k-hierarchy-col)"),f,g=a(),h=0,i,j,k,l=0;for(c=0,f=b.length;c<f;c++){if(b[c].locked){if(hb(b[c])){j=1;if(b[c].columns){j=Hb(b[c].columns).length-wb(b[c].columns)}j=j||1;for(k=0;k<j;k++){g=g.add(e.eq(c+l+k-h))}l+=j-1}else{h++}}}i=a('<div class="k-grid-content-locked"><table'+(Sa?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>");d.detach();i.find("colgroup").append(g);d.insertBefore(this.table.find("tbody"));this.lockedContent=i.insertBefore(this.content);this.lockedTable=i.children("table")},_appendLockedColumnFooter:function(){var b=this;var c=b.footer;var d=c.find(".k-footer-template>td");var e=c.find(".k-grid-footer-wrap>table>colgroup>col");var f=a('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>');var g,h;var i=b._groups();var j=a(),k=a();j=j.add(d.filter(".k-group-cell"));for(g=0,h=Hb(Cb(b.columns)).length;g<h;g++){j=j.add(d.eq(g+i))}k=k.add(e.filter(".k-group-col"));for(g=0,h=ib(Hb(Fb(b.columns))).length;g<h;g++){k=k.add(e.eq(g+i))}j.appendTo(f.find("tr"));k.appendTo(f.find("colgroup"));b.lockedFooter=f.prependTo(c)},_appendLockedColumnHeader:function(b){var c=this,d=this.columns,e,f,g,h,i,j,k,l,m,n=[],o=0,p=a(),q=c._hasFilterRow(),r=0,s=a(),t,u=0,v=a();h=c.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)");l=c.thead.find("tr:first .k-header:not(.k-group-cell,.k-hierarchy-cell)");m=c.thead.find(".k-filter-row").find("th:not(.k-group-cell,.k-hierarchy-cell)");var w=0;for(e=0,g=d.length;e<g;e++){if(d[e].locked){t=l.eq(e);u=Hb(d[e].columns||[]).length;if(hb(d[e])){var x=null;if(d[e].columns){x=u-wb(d[e].columns)}x=x||1;for(var y=0;y<x;y++){p=p.add(h.eq(e+w+y-o))}w+=x-1}Bb([d[e]],Kb(t),n,0,0);u=u||1;for(var z=0;z<u;z++){s=s.add(m.eq(r+z))}r+=u}if(d[e].columns){o+=wb(d[e].columns)}if(!hb(d[e])){o++}}if(n.length){f='<div class="k-grid-header-locked" style="width:1px"><table'+(Sa?' cellspacing="0"':"")+"><colgroup/><thead>";f+=new Array(n.length+1).join("<tr></tr>");f+=(q?'<tr class="k-filter-row" />':"")+"</thead></table></div>";k=a(f);h=k.find("colgroup");h.append(c.thead.prev().find("col.k-group-col").add(p));i=k.find("thead tr:not(.k-filter-row)");for(e=0,g=n.length;e<g;e++){v=jb(n[e]);i.eq(e).append(c.thead.find("tr:eq("+e+") .k-group-cell").add(v))}var A=Ab(this.thead);if(n.length<A){yb(k,A-n.length)}j=k.find(".k-filter-row");j.append(c.thead.find(".k-filter-row .k-group-cell").add(s));this.lockedHeader=k.prependTo(b);this.thead.find(".k-group-cell").remove();return true}return false},_removeLockedContainers:function(){var a=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);c.destroy(a);a.off(J).remove();this.lockedHeader=this.lockedContent=this.lockedFooter=null;this.selectable=null},_thead:function(){var b=this,d=b.columns,e=b._hasDetails()&&d.length,f=b._hasFilterRow(),g,h="",i=b.table.find(">thead"),j=b.element.find("thead:first").length>0,k;if(!i.length){i=a("<thead/>").insertBefore(b.tbody)}if(b.lockedHeader&&b.thead){k=b.thead.find("tr:has(th):not(.k-filter-row)").html("");k.remove();k=a();b._removeLockedContainers()}else if(j){k=b.element.find("thead:first tr:has(th):not(.k-filter-row)")}else{k=b.element.find("tr:has(th):first")}if(!k.length){k=i.children().first();if(!k.length){var l=[{rowSpan:1,cells:[],index:0}];b._prepareColumns(l,d);for(g=0;g<l.length;g++){h+="<tr>";if(e){h+='<th class="k-hierarchy-cell" scope="col">'+b.options.messages.expandCollapseColumnHeader+"</th>"}h+=b._createHeaderCells(l[g].cells,l[g].rowSpan);h+="</tr>"}k=a(h)}}if(f){var m=a("<tr/>");m.addClass("k-filter-row");if(e||k.find(".k-hierarchy-cell").length){m.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>')}var n=(b.thead||i).find(".k-filter-row");if(n.length){c.destroy(n);n.remove()}i.append(m)}if(!k.children().length){h="";if(e){h+='<th class="k-hierarchy-cell" scope="col">&nbsp;</th>'}h+=b._createHeaderCells(d);k.html(h)}else if(e&&!k.find(".k-hierarchy-cell")[0]){k.prepend('<th class="k-hierarchy-cell" scope="col">&nbsp;</th>')}k.attr("role","row").find("th").addClass("k-header");if(!b.options.scrollable){i.addClass("k-grid-header")}k.find("script").remove().end().prependTo(i);if(b.thead){b._destroyColumnAttachments()}this.angular("cleanup",function(){return{elements:i.find("th").get()}});this.angular("compile",function(){return{elements:i.find("th").get(),data:o(d,function(a){return{column:a}})}});b.thead=i.attr("role","rowgroup");b._sortable();b._filterable();b._filterRow();b._scrollable();b._updateCols();b._columnMenu();var p;var q=this.options.scrollable&&Cb(this.columns).length;if(q){p=b._appendLockedColumnHeader(b.thead.closest(".k-grid-header"));b._appendLockedColumnContent();b.lockedContent.bind("DOMMouseScroll"+J+" mousewheel"+J,t(b._wheelScroll,b))}b._updateColumnCellIndex();b._updateFirstColumnClass();b._resizable();b._draggable();b._reorderable();b._updateHeader(b._groups());if(q){if(p){b._syncLockedHeaderHeight()}b._applyLockedContainersWidth()}if(b.groupable){b._attachGroupable()}},_retrieveFirstColumn:function(b,c){var d=a();if(c.length&&b[0]){var e=b[0];while(e.columns&&e.columns.length){e=e.columns[0];c=c.filter(":not(:first())")}d=d.add(c)}return d},_updateFirstColumnClass:function(){var b=this,c=b.columns||[],d=b._hasDetails()&&c.length;if(!d&&!b._groups()){var e=b.thead.find(">tr:not(.k-filter-row):not(:first)");c=Db(c);var f=b._retrieveFirstColumn(c,e);if(b._isLocked()){e=b.lockedHeader.find("thead>tr:not(.k-filter-row):not(:first)");c=Cb(b.columns);f=f.add(b._retrieveFirstColumn(c,e))}f.each(function(){var b=a(this).find("th");b.removeClass("k-first");b.eq(0).addClass("k-first")})}},_prepareColumns:function(a,b,c,d){var e=d||a[a.length-1];var f=a[e.index+1];var g=0;for(var h=0;h<b.length;h++){var i={column:b[h],colSpan:0};e.cells.push(i);if(b[h].columns&&b[h].columns.length){if(!f){f={rowSpan:0,cells:[],index:a.length};a.push(f)}i.colSpan=b[h].columns.length;this._prepareColumns(a,b[h].columns,i,f);g+=i.colSpan-1;e.rowSpan=a.length-e.index}}if(c){c.colSpan+=g}},_wheelScroll:function(a){if(a.ctrlKey){return}var b=this.content;if(this.options.scrollable.virtual){b=this.virtualScrollable.verticalScrollbar}var d=b.scrollTop(),e=c.wheelDeltaY(a);if(e){if(b[0].scrollHeight>b[0].clientHeight&&(b[0].scrollTop<b[0].scrollHeight-b[0].clientHeight&&e<0||b[0].scrollTop>0&&e>0)){a.preventDefault()}b.scrollTop(d+-e)}},_isLocked:function(){return this.lockedHeader!=null},_updateHeaderCols:function(){var a=this.thead.parent().add(this.table);if(this._isLocked()){Ob(a,Gb(Eb(this.columns)),this._hasDetails(),0)}else{Ob(a,Gb(ib(this.columns)),this._hasDetails(),0)}},_updateCols:function(a){a=a||this.thead.parent().add(this.table);this._appendCols(a,this._isLocked())},_updateLockedCols:function(a){if(this._isLocked()){a=a||this.lockedHeader.find("table").add(this.lockedTable);Ob(a,Gb(Fb(this.columns)),this._hasDetails(),this._groups())}},_appendCols:function(a,b){if(b){Ob(a,Gb(Eb(this.columns)),this._hasDetails(),0)}else{Ob(a,Gb(ib(this.columns)),this._hasDetails(),this._groups())}},_autoColumns:function(a){if(a&&a.toJSON){var b=this,d,e;a=a.toJSON();e=!(b.table.find("tbody tr").length>0&&(!b.dataSource||!b.dataSource.transport));for(d in a){b.columns.push({field:d,encoded:e,headerAttributes:{id:c.guid()}})}b._thead();b._templates()}},_rowsHtml:function(a,b){var c=this,d="",e,f=b.rowTemplate,g=b.altRowTemplate,h;for(e=0,h=a.length;e<h;e++){if(c._skipRerenderItemsCount>0){c._skipRerenderItemsCount--}else{if(e%2){d+=g(a[e])}else{d+=f(a[e])}}c._data.push(a[e])}return d},_groupRowHtml:function(a,b,d,e,f,g,h){var i=this,j="",k,l,m=a.field,o=p(Hb(i.columns),function(a){return a.field==m})[0]||{},q=o.groupHeaderTemplate,s=(o.title||m)+": "+Rb(a.value,o.format,o.values,o.encoded),t=i._groupAggregatesDefaultObject||{},u=a.items,v=n({},t,a.aggregates),w=n({},{field:a.field,value:a.value,items:u,aggregates:v},a.aggregates[a.field]),x=f.groupFooterTemplate;if(q){s=typeof q===sa?q(w):c.template(q)(w)}if(!i._skipRerenderItemsCount){j+=e(b,d,s)}else{e(b,d,s)}if(a.hasSubgroups){for(k=0,l=u.length;k<l;k++){j+=i._groupRowHtml(u[k],g?b:b-1,d+1,e,f,g,h&&k===u.length-1)}}else{j+=i._rowsHtml(u,f)}if(x){var y={};for(var z in v){y[z]=n({},v[z],{group:{field:a.field,value:a.value,items:u}})}if(h){if(!r(a.value,i._skippedGroups)){i._skippedGroups.push(a.value)}}else{if(i._skippedGroups.length&&i._skippedGroups[0]===a.value){i._skippedGroups.shift()}if(!i._skipRerenderItemsCount){j+=x(y)}}}return j},collapseGroup:function(b){var c,d=this,e=b,f=this.options.groupable,g=f.showFooter,h=g?0:1,i,j=a(),k,l,m;b=a(b);if(this._isLocked()){if(!b.closest("div").hasClass("k-grid-content-locked")){j=b.nextAll("tr");b=this.lockedTable.find(">tbody>tr:eq("+b.index()+")")}else{j=this.tbody.children("tr:eq("+b.index()+")").nextAll("tr")}}c=b.find(".k-group-cell").length;b.find(".k-i-collapse").addClass("k-i-expand").removeClass("k-i-collapse");b.find("td[aria-expanded='true']:first").attr("aria-expanded",false).find("a").attr(Ha,Ga);b=b.nextAll("tr");var n=[];for(k=0,l=b.length;k<l;k++){m=b.eq(k);i=m.find(".k-group-cell").length;if(m.hasClass("k-grouping-row")){h++}else if(m.hasClass("k-group-footer")){h--}if(i<=c||m.hasClass("k-group-footer")&&h<0){break}if(j.length){n.push(j[k])}n.push(m[0])}a(n).hide();if(this.options.scrollable.endless&&this.content){setTimeout(function(){d.content.scroll();d._groupToCollapse=e})}},expandGroup:function(b){b=a(b);var c=this,d=c.options.groupable.showFooter,e,f,g,h=a(),i,j,k=[],l=1;if(this._isLocked()){if(!b.closest("div").hasClass("k-grid-content-locked")){h=b.nextAll("tr");b=this.lockedTable.find(">tbody>tr:eq("+b.index()+")")}else{h=this.tbody.children("tr:eq("+b.index()+")").nextAll("tr")}}e=b.find(".k-group-cell").length;b.find(".k-i-expand").addClass("k-i-collapse").removeClass("k-i-expand");b.find("td[aria-expanded='false']:first").attr("aria-expanded",true).find("a").attr(Ha,Fa);b=b.nextAll("tr");for(i=0,j=b.length;i<j;i++){f=b.eq(i);g=f.find(".k-group-cell").length;if(g<=e){break}if(g==e+1&&!f.hasClass("k-detail-row")){f.show();h.eq(i).show();if(f.hasClass("k-grouping-row")&&f.find(".k-icon").hasClass("k-i-collapse")){c.expandGroup(f)}if(f.hasClass("k-master-row")&&f.find(".k-icon").hasClass("k-i-collapse")){f.next().show();h.eq(i+1).show()}}if(f.hasClass("k-grouping-row")){if(d){k.push(f.is(":visible"))}l++}if(f.hasClass("k-group-footer")){if(d){f.toggle(k.pop())}if(l==1){f.show();h.eq(i).show()}else{l--}}}if(e===0&&c.options.scrollable.endless&&this._isLocked()){c._syncLockedContentHeight()}},_updateHeader:function(b){var c=this,d=c._isLocked()?c.lockedHeader.find("thead"):c.thead,e=d.find("tr.k-filter-row").find("th.k-group-cell").length,f=d.find("tr:first").find("th.k-group-cell").length,g=d.children("tr:not(:first)").filter(function(){return!a(this).children(":visible").length});if(b>f){a(new Array(b-f+1).join('<th class="k-group-cell k-header" scope="col">'+c.options.messages.expandCollapseColumnHeader+"</th>")).prependTo(d.children("tr:not(.k-filter-row)"));if(c.element.is(":visible")){g.find("th.k-group-cell").hide()}}else if(b<f){d.find("tr").each(function(){a(this).find("th.k-group-cell").filter(":eq("+b+"),"+":gt("+b+")").remove()})}if(b>e){a(new Array(b-e+1).join('<th class="k-group-cell k-header" scope="col">&nbsp;</th>')).prependTo(d.find(".k-filter-row"))}},_firstDataItem:function(a,b){if(a&&b){if(a.hasSubgroups){a=this._firstDataItem(a.items[0],b)}else{a=a.items[0]}}return a},_updateTablesWidth:function(){var b=this,c;if(!b._isLocked()){return}c=a(">.k-grid-footer>.k-grid-footer-wrap>table",b.wrapper).add(b.thead.parent()).add(b.table);b._footerWidth=Yb(c.eq(0));c.width(b._footerWidth);c=a(">.k-grid-footer>.k-grid-footer-locked>table",b.wrapper).add(b.lockedHeader.find(">table")).add(b.lockedTable);c.width(Yb(c.eq(0)))},hideColumn:function(b){var c=this,d,e,f,g,h,i,j=0,k,l,n=c.footer||c.wrapper.find(".k-grid-footer"),o=c.columns,q=c.lockedHeader?Ib(c.lockedHeader.find(">table>thead")).filter(gb).length:0,s;if(typeof b=="number"){b=o[b]}else if(m(b)){b=p(vb(o),function(a){return a===b})[0]}else{b=p(vb(o),function(a){return a.field===b})[0]}if(!b||!hb(b)){return}if(b.columns&&b.columns.length){i=sb(b,o);fb(b,false);Sb(ab(a(">table>thead",c.lockedHeader),c.thead,">tr:eq("+i.row+")>th"),i.cell,false);for(f=0;f<b.columns.length;f++){this.hideColumn(b.columns[f])}c.trigger(V,{column:b});return}s=r(b,ib(Hb(o)));fb(b,false);c._setParentsVisibility(b,false);c._templates();c._updateCols();c._updateLockedCols();var t=c.thead;k=s;if(c.lockedHeader&&q>s){t=c.lockedHeader.find(">table>thead")}else{k-=q}d=Ib(t).filter(gb).eq(k);d[0].style.display="none";Sb(ab(a(">table>thead",c.lockedHeader),c.thead,">tr.k-filter-row>th"),s,false);if(n[0]){c._updateCols(n.find(">.k-grid-footer-wrap>table"));c._updateLockedCols(n.find(">.k-grid-footer-locked>table"));Sb(n.find(".k-footer-template>td"),s,false)}if(c.lockedTable&&q>s){Tb(c.lockedTable.find(">tbody>tr"),s)}else{Tb(c.tbody.children(),s-q)}if(c.lockedTable){c._updateTablesWidth();c._applyLockedContainersWidth();c._syncLockedContentHeight();c._syncLockedHeaderHeight();c._syncLockedFooterHeight()}else{g=c.thead.prev().find("col");for(f=0,l=g.length;f<l;f+=1){h=g[f].style.width;if(h&&h.indexOf("%")==-1){j+=parseInt(h,10)}else{j=0;break}}e=a(">.k-grid-header table:first,>.k-grid-footer table:first",c.wrapper).add(c.table);
c._footerWidth=null;if(j){e.each(function(){this.style.width=j+"px"});c._footerWidth=j}if(Ra.msie&&Ra.version==8){e.css("display","inline-table");setTimeout(function(){e.css("display","table")},1)}}c._updateFirstColumnClass();c.trigger(V,{column:b})},_setParentsVisibility:function(b,d){var e=this.columns;var f;var g=[];var h;var i;var j;var k;var l=d?function(a){return ib(a.columns).length&&a.hidden}:function(a){return!ib(a.columns).length&&!a.hidden};if(eb(b,e,g)&&g.length){for(f=g.length-1;f>=0;f--){h=g[f];i=pb(h,e);j=ab(a(">table>thead",this.lockedHeader),this.thead,">tr:eq("+i.row+")>th:not(.k-group-cell):not(.k-hierarchy-cell)").eq(i.cell);if(l(h)){fb(h,d);j[0].style.display=d?"":"none"}if(j.filter("["+c.attr("colspan")+"]").length){k=parseInt(j.attr(c.attr("colspan")),10);j[0].colSpan=k-wb(h.columns)||1}}}},showColumn:function(b){var c=this,d,e,f,g,h,i,j,k,l,n=c.columns,o=c.footer||c.wrapper.find(".k-grid-footer"),p=c.lockedHeader?Ib(c.lockedHeader.find(">table>thead")).length:0,q,s,t;if(typeof b=="number"){q=b;b=n[b]}else if(m(b)){a.each(vb(n),function(a,c){if(c===b){b=c;q=a;return false}})}else{a.each(vb(n),function(a,c){if(c.field===b){b=c;q=a;return false}})}if(!b||hb(b)){return}if(b.columns&&b.columns.length){j=pb(b,n);s=vb(c.options.columns)[q];fb(b,true);Sb(ab(a(">table>thead",c.lockedHeader),c.thead,">tr:eq("+j.row+")>th"),j.cell,true);for(d=0;d<b.columns.length;d++){if(!s.columns[d].hidden){this.showColumn(b.columns[d])}}c.trigger(W,{column:b});return}t=r(b,Hb(n));fb(b,true);c._setParentsVisibility(b,true);c._templates();c._updateCols();c._updateLockedCols();var u=c.thead;i=t;if(c.lockedHeader&&p>t){u=c.lockedHeader.find(">table>thead")}else{i-=p}f=Ib(u).eq(i);f[0].style.display="";Sb(ab(a(">table>thead",c.lockedHeader),c.thead,">tr.k-filter-row>th"),t,true);if(o[0]){c._updateCols(o.find(">.k-grid-footer-wrap>table"));c._updateLockedCols(o.find(">.k-grid-footer-locked>table"));Sb(o.find(".k-footer-template>td"),t,true)}if(c.lockedTable&&p>t){Wb(c.lockedTable.find(">tbody>tr"),t)}else{Wb(c.tbody.children(),t-p)}if(c.lockedTable){c._updateTablesWidth();c._applyLockedContainersWidth();c._syncLockedContentHeight();c._syncLockedHeaderHeight()}else{g=a(">.k-grid-header table:first,>.k-grid-footer table:first",c.wrapper).add(c.table);if(!b.width){g.width("")}else{h=0;l=c.thead.prev().find("col");for(d=0,e=l.length;d<e;d+=1){k=l[d].style.width;if(k.indexOf("%")>-1){h=0;break}h+=parseInt(k,10)}c._footerWidth=null;if(h){g.each(function(){this.style.width=h+"px"});c._footerWidth=h}}}c._updateFirstColumnClass();c.trigger(W,{column:b})},_progress:function(a){var b=this.element;var d=this.options.scrollable&&this.options.scrollable.endless;if(this._editContainer&&this._editMode()==="popup"){b=this._editContainer}else if(this.lockedContent||d){b=this.wrapper}else if(this.element.is("table")){b=this.element.parent()}else if(this.content&&this.content.length){b=this.content}if(d&&a){c.ui.progress(b,a,{height:this.content.height(),top:this.content[0].offsetTop,opacity:true})}else{c.ui.progress(b,a)}},_resize:function(a,b){this._syncLockedContentHeight();this._syncLockedHeaderHeight();if(this.content){this._setContentWidth();this._setContentHeight()}if(this.virtualScrollable&&(b||this._rowHeight)){if(b){this._rowHeight=null}this.virtualScrollable.repaintScrollbar()}},_isActiveInTable:function(){var b=h();if(!b){return false}return this.table[0]===b||a.contains(this.table[0],b)||this._isLocked()&&(this.lockedTable[0]===b||a.contains(this.lockedTable[0],b))},refresh:function(b){var d=this,e=d.dataSource.view(),f=d.options.navigatable,g,h=a(d.current()),i=false,j=(d.dataSource.group()||[]).length,k=j+Gb(ib(d.columns)).length,l,m;if(b&&b.action==="itemchange"&&(d.editable||d.options.scrollable.endless)){return}if(b&&b.action==="remove"&&d.editable&&d.editable.options.model&&r(d.editable.options.model,b.items)>-1){d.editable.options.model.unbind(U,d._modelChangeHandler)}b=b||{};if(d.trigger("dataBinding",{action:b.action||"rebind",index:b.index,items:b.items})){return}if(b.action===da&&d._isVirtualEditable()){d._destroyEditable();d._clearEditableState()}d._angularItems("cleanup");if(!d._endlessFetchInProgress){if(f&&(d._isActiveInTable()||d._editContainer&&d._editContainer.data("kendoWindow"))){i=h.is("th");g=i?h.index():Math.max(d.cellIndex(h),0)}d._destroyEditable()}if(d.options.scrollable&&d.options.scrollable.endless){clearTimeout(d._progressTimeOut);d._progressTimeOut=setTimeout(function(){if(!d._endlessFetchInProgress){d._progress(false)}},100)}else{d._progress(false)}d._hideResizeHandle();d._data=[];if(!d.columns.length){d._autoColumns(d._firstDataItem(e[0],j));k=j+d.columns.length}d._group=j>0||d._group;if(d._group){d._templates();d._updateCols();d._updateLockedCols();d._updateHeader(j);d._group=j>0;d._groupRows=Ub(e)}if(d.content){l=d.content.scrollLeft()}m=d._skipRerenderItemsCount;d._renderContent(e,k,j);if(d.options.scrollable&&d.options.scrollable.endless&&this.lockedContent){d._skipRerenderItemsCount=m}d._renderLockedContent(e,k,j);d._footer();d._renderNoRecordsContent();d._togglePagerVisibility();d._setContentHeight();d._setContentWidth(d.content&&l);if(d.lockedTable){if(d.options.scrollable.virtual){d.content.find(">.k-virtual-scrollable-wrap").trigger("scroll")}else if(d.touchScroller){d.touchScroller.movable.trigger("change")}else{d.wrapper.one("scroll",function(a){a.stopPropagation()});d.content.trigger("scroll")}}if(!d._endlessFetchInProgress){d._restoreCurrent(g,i)}if(d.touchScroller){d.touchScroller.contentResized()}if(d.selectable){d.selectable.resetTouchEvents()}d._muteAngularRebind(function(){d._angularItems("compile")});if(d._checkBoxSelection){d._toggleHeaderCheckState(false)}if(d.options.persistSelection&&(d.selectable&&!c.ui.Selectable.parseOptions(d.options.selectable).cell||d._checkBoxSelection)){d._restoreSelection()}else{d._selectedIds={}}d.trigger(Y)},_restoreCurrent:function(c,d){if(c===b||c<0){return}this._removeCurrent();if(d){this._setCurrent(this.thead.find("th:not(.k-group-cell)").eq(c))}else{var e=0;if(this._rowVirtualIndex){e=this.virtualScrollable.position(this._rowVirtualIndex)}else{c=0}var f=a();if(this.lockedTable){f=this.lockedTable.find(">tbody>tr").eq(e)}f=f.add(this.tbody.children().eq(e));var g=f.find(">td:not(.k-group-cell):not(.k-hierarchy-cell)").eq(c);this._setCurrent(g)}if(this._current){bc(this._current.closest("table")[0],true)}},_restoreSelection:function(){var a=this,b=a.items(),c;c=p(b,function(b){var c=a.dataItem(b)[a.dataSource.options.schema.model.id];if(a._selectedIds[c]){return b}});a.select(c)},_angularItems:function(a){c.ui.DataBoundWidget.fn._angularItems.call(this,a);if(a==="cleanup"){this._cleanupDetailItems()}this._angularGroupItems(a);this._angularGroupFooterItems(a)},_cleanupDetailItems:function(){var a=this;if(a._hasDetails()){a.angular("cleanup",function(){return{elements:a.tbody.children(".k-detail-row")}});a.tbody.find(".k-detail-cell").empty()}},_angularGroupItems:function(b){var c=this,d=c.tbody;if(c.lockedContent){d=c.lockedTable.find("tbody")}if(c._group){c.angular(b,function(){return{elements:d.children(".k-grouping-row"),data:a.map(Ub(c.dataSource.view()),function(a){return{dataItem:a}})}})}},_angularGroupFooterItems:function(b){var c=this,d=c.tbody;if(c.lockedContent){d=c.element}if(c._group&&c.groupFooterTemplate){c.angular(b,function(){return{elements:d.find(".k-group-footer"),data:a.map(Vb(c.dataSource.view()),function(a){return{dataItem:a}})}})}},_renderContent:function(a,b,c){var d=this,e,f,g="",h=d.lockedContent!=null,i=null,j,k,l=d.options.scrollable,m={rowTemplate:d.rowTemplate,altRowTemplate:d.altRowTemplate,groupFooterTemplate:d.groupFooterTemplate};if(l&&l.endless&&!d.dataSource.options.endless){d._skipRerenderItemsCount=0;if(d.content){d.content[0].scrollTop=0}}i=d._skipRerenderItemsCount>0;b=h?b-Gb(Fb(d.columns)).length:b;if(c>0){b=h?b-c:b;if(d.detailTemplate){b++}if(d.groupFooterTemplate){d._groupAggregatesDefaultObject=d.dataSource.aggregates()}if(d.options.scrollable.endless){k=d.dataSource.flatView().length}for(e=0,f=a.length;e<f;e++){if(!d._skippedGroups){d._skippedGroups=[]}j=k&&e===a.length-1&&k!==d.dataSource.total();g+=d._groupRowHtml(a[e],b,0,h?ic:hc,m,h,j)}}else{g+=d._rowsHtml(a,m)}if(i){d.tbody.append(g);setTimeout(function(){if(d._groupToCollapse){d.collapseGroup(d._groupToCollapse);d._groupToCollapse=null}});d._endlessFetchInProgress=null}else{d.tbody=Lb(d.tbody,d.table,g,this.options.$angular)}},_renderLockedContent:function(a,b,c){var d="",e,f,g=null,h={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var i=this.lockedTable;g=this._skipRerenderItemsCount>0;if(c>0){b=b-ib(Hb(Db(this.columns))).length;for(e=0,f=a.length;e<f;e++){d+=this._groupRowHtml(a[e],b,0,hc,h,false,this.options.scrollable.endless&&e===a.length-1)}}else{d=this._rowsHtml(a,h)}if(g){i.children("tbody").append(d)}else{Lb(i.children("tbody"),i,d,this.options.$angular)}this._syncLockedContentHeight()}},_togglePagerVisibility:function(){if(this.options.pageable.alwaysVisible===false){this.wrapper.find(".k-grid-pager").toggle(this.dataSource.total()>=this.dataSource.pageSize())}},_adjustRowsHeight:function(a,b){var c=a[0].rows,d=c.length,e,f=b[0].rows,g=a.add(b),h=g.length,i=[];for(e=0;e<d;e++){if(!f[e]){break}if(c[e].style.height){c[e].style.height=f[e].style.height=""}}for(e=0;e<d;e++){if(!f[e]){break}var j=c[e].offsetHeight;var k=f[e].offsetHeight;var l=0;if(j>k){l=j}else if(j<k){l=k}i.push(l)}for(e=0;e<h;e++){g[e].style.display="none"}for(e=0;e<d;e++){if(i[e]){c[e].style.height=f[e].style.height=i[e]+1+"px"}}for(e=0;e<h;e++){g[e].style.display=""}}});if(c.ExcelMixin){c.ExcelMixin.extend(Zb.prototype)}if(c.PDFMixin){c.PDFMixin.extend(Zb.prototype);Zb.prototype._drawPDF_autoPageBreak=function(d){var e=this;var f=new a.Deferred;var g=e.dataSource;var h=e.options.pdf.allPages;var i=e.wrapper.find('table[role="grid"] > tbody');var j=a("<div>").css({position:"absolute",left:-1e4,top:-1e4});var k=e.wrapper.clone().css({height:"auto",width:"auto"}).appendTo(j);k.find(".k-grid-content").css({height:"auto",width:"auto",overflow:"visible"});k.find('table[role="grid"], .k-grid-footer table').css({height:"auto",width:"100%",overflow:"visible"});k.find(".k-grid-pager, .k-grid-toolbar, .k-grouping-header").remove();k.find(".k-grid-header, .k-grid-footer").css({paddingRight:0});this._initPDFProgress(d);var l=k.find('table[role="grid"] > tbody').empty();var m=g.page();function n(){if(h&&m!==b){g.one("change",o);g.page(m)}else{e.refresh();o()}}function o(){j.appendTo(document.body);var b=a.extend({},e.options.pdf,{_destructive:true,progress:function(a){d.notify({page:a.page,pageNumber:a.pageNum,progress:.5+a.pageNum/a.totalPages/2,totalPages:a.totalPages})}});c.drawing.drawDOM(k,b).always(function(){j.remove()}).then(function(a){f.resolve(a)}).fail(function(a){f.reject(a)})}function p(){var a=g.page();var b=h?g.totalPages():1;l.append(i.find("tr"));if(a<b){g.page(a+1)}else{g.unbind("change",p);n()}}if(h){g.bind("change",p);g.page(1)}else{p()}return f.promise()};Zb.prototype._drawPDF=function(d){var e=this;if(e.options.pdf.paperSize&&e.options.pdf.paperSize!="auto"){return e._drawPDF_autoPageBreak(d)}var f=new a.Deferred;var g=e.dataSource;var h=e.options.pdf.allPages;this._initPDFProgress(d);var i=new c.drawing.Group;var j=g.page();function k(){if(h&&j!==b){g.unbind("change",l);g.one("change",function(){f.resolve(i)});g.page(j)}else{f.resolve(i)}}function l(){e._drawPDFShadow({width:e.wrapper.width()},{avoidLinks:e.options.pdf.avoidLinks}).done(function(a){var b=g.page();var c=h?g.totalPages():1;var e={page:a,pageNumber:b,progress:b/c,totalPages:c};d.notify(e);i.append(e.page);if(b<c){g.page(b+1)}else{k()}}).fail(function(a){f.reject(a)})}if(h){g.bind("change",l);g.page(1)}else{l()}return f.promise()};Zb.prototype._initPDFProgress=function(b){var d=a("<div class='k-loading-pdf-mask'><div class='k-loading-color'/></div>");d.prepend(this.wrapper.clone().css({position:"absolute",top:0,left:0}));this.wrapper.append(d);var e=a("<div class='k-loading-pdf-progress'>").appendTo(d).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");b.progress(function(a){e.value(a.progress)}).always(function(){c.destroy(d);d.remove()})}}function $b(a,b){a=a[0];b=b[0];if(a.rows.length!==b.rows.length){var c=a.offsetHeight;var d=b.offsetHeight;var e;var f;if(c>d){e=b.rows[b.rows.length-1];if(Ma.test(e.className)){e=b.rows[b.rows.length-2]}f=c-d}else{e=a.rows[a.rows.length-1];if(Ma.test(e.className)){e=a.rows[a.rows.length-2]}f=d-c}e.style.height=e.offsetHeight+f+"px"}}function _b(a,b){var c;var d=a.offsetHeight;var e=b.offsetHeight;if(d>e){c=d+"px"}else if(d<e){c=e+"px"}if(c){a.style.height=b.style.height=c}}function ac(a,b){var c,d,e;if(typeof a===ta&&a===b){return a}if(m(a)&&a.name===b){return a}if(q(a)){for(c=0,d=a.length;c<d;c++){e=a[c];if(typeof e===ta&&e===b||e.name===b){return e}}}return null}function bc(b,d){if(d===true){b=a(b);var e=b.parent().scrollLeft();c.focusElement(b);b.parent().scrollLeft(e)}else{a(b).one("focusin",function(a){a.preventDefault()}).focus()}}function cc(a,b){if(!a.field||a.selectable){return false}if(b.editable&&!b.editable(a.field)){return false}if(a.editable&&!a.editable(b)){return false}return true}function dc(b){return a(b).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdown")}function ec(b){var d=a(b.currentTarget),e=d.is("th"),f=this.table.add(this.lockedTable),g=this.thead.parent().add(a(">table",this.lockedHeader)),h=dc(b.target),i=a(b.target),j=d.closest("table")[0];if(h&&d.find(c.roleSelector("filtercell")).length){this._setCurrent(d);return}if(j!==f[0]&&j!==f[1]&&j!==g[0]&&j!==g[1]){return}if(i.is("a.k-i-expand, a.k-i-collapse")){return}if(this.options.navigatable){this._setCurrent(d)}if(e||!h){setTimeout(function(){if(!(Ta&&a(c._activeElement()).hasClass("k-widget"))){if(!dc(c._activeElement())||!a.contains(j,c._activeElement())){bc(j,true)}}})}if(e){b.preventDefault()}}function fc(a,b){if(!b){return 0}var d=0;if(c.support.browser.webkit){d=a.width()}return d}function gc(a){return a&&(a.hasClass("k-edit-cell")||a.parent().hasClass("k-grid-edit-row"))}function hc(a,b,c){return'<tr role="row" class="k-grouping-row">'+Xa(b)+'<td colspan="'+a+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1" '+Ha+'="'+Fa+'"></a>'+c+"</p></td></tr>"}function ic(a){return'<tr role="row" class="k-grouping-row">'+'<td colspan="'+a+'" aria-expanded="true">'+'<p class="k-reset">&nbsp;</p></td></tr>'}d.plugin(Zb);d.plugin(Va)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.listview",["kendo.data","kendo.editable","kendo.selectable"],a)})(function(){var a={id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]}]};(function(a,b){var c=window.kendo,d="change",e="cancel",f="dataBound",g="dataBinding",h=c.ui.Widget,i=c.keys,j=">*:not(.k-loading-mask)",k="progress",l="error",m="k-state-focused",n="k-state-selected",o="k-edit-item",p="edit",q="remove",r="save",s="click",t=".kendoListView",u=a.proxy,v=c._activeElement,w=c.ui.progress,x=c.data.DataSource;var y=c.ui.DataBoundWidget.extend({init:function(b,d){var e=this;d=a.isArray(d)?{dataSource:d}:d;h.fn.init.call(e,b,d);d=e.options;e.wrapper=b=e.element;if(b[0].id){e._itemId=b[0].id+"_lv_active"}e._element();e._dataSource();e._templates();e._navigatable();e._selectable();e._pageable();e._crudHandlers();if(e.options.autoBind){e.dataSource.fetch()}c.notify(e)},events:[d,e,g,f,p,q,r],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},setOptions:function(a){h.fn.setOptions.call(this,a);this._templates();if(this.selectable){this.selectable.destroy();this.selectable=null}this._selectable()},_templates:function(){var a=this.options;this.template=c.template(a.template||"");this.altTemplate=c.template(a.altTemplate||a.template);this.editTemplate=c.template(a.editTemplate||"")},_item:function(a){return this.element.children()[a]()},items:function(){return this.element.children()},dataItem:function(b){var d=c.attr("uid");var e=a(b).closest("["+d+"]").attr(d);return this.dataSource.getByUid(e)},setDataSource:function(a){this.options.dataSource=a;this._dataSource();if(this.options.autoBind){a.fetch()}},_unbindDataSource:function(){var a=this;a.dataSource.unbind(d,a._refreshHandler).unbind(k,a._progressHandler).unbind(l,a._errorHandler)},_dataSource:function(){var a=this;if(a.dataSource&&a._refreshHandler){a._unbindDataSource()}else{a._refreshHandler=u(a.refresh,a);a._progressHandler=u(a._progress,a);a._errorHandler=u(a._error,a)}a.dataSource=x.create(a.options.dataSource).bind(d,a._refreshHandler).bind(k,a._progressHandler).bind(l,a._errorHandler)},_progress:function(){w(this.element,true)},_error:function(){w(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(a){var b=this,d=b.dataSource.view(),e,h,i,j="",k,l,m=b.template,n=b.altTemplate,o=v();a=a||{};if(a.action==="itemchange"){if(!b._hasBindingTarget()&&!b.editable){e=a.items[0];i=b.items().filter("["+c.attr("uid")+"="+e.uid+"]");if(i.length>0){k=i.index();b.angular("cleanup",function(){return{elements:[i]}});i.replaceWith(m(e));i=b.items().eq(k);i.attr(c.attr("uid"),e.uid);b.angular("compile",function(){return{elements:[i],data:[{dataItem:e}]}});b.trigger("itemChange",{item:i,data:e})}}return}if(b.trigger(g,{action:a.action||"rebind",items:a.items,index:a.index})){return}b._angularItems("cleanup");b._destroyEditable();for(k=0,l=d.length;k<l;k++){if(k%2){j+=n(d[k])}else{j+=m(d[k])}}b.element.html(j);h=b.items();for(k=0,l=d.length;k<l;k++){h.eq(k).attr(c.attr("uid"),d[k].uid).attr("role","option").attr("aria-selected","false")}if(b.element[0]===o&&b.options.navigatable){b.current(h.eq(0))}b._angularItems("compile");b.trigger(f,{action:a.action||"rebind",items:a.items,index:a.index})},_pageable:function(){var b=this,d=b.options.pageable,e,f;if(a.isPlainObject(d)){f=d.pagerId;e=a.extend({},d,{dataSource:b.dataSource,pagerId:null});b.pager=new c.ui.Pager(a("#"+f),e)}},_selectable:function(){var a=this,b,e,f=a.options.selectable,g=a.options.navigatable;if(f){b=c.ui.Selectable.parseOptions(f).multiple;a.selectable=new c.ui.Selectable(a.element,{aria:true,multiple:b,filter:j,change:function(){a.trigger(d)}});if(g){a.element.on("keydown"+t,function(c){if(c.keyCode===i.SPACEBAR){e=a.current();if(c.target==c.currentTarget){c.preventDefault()}if(b){if(!c.ctrlKey){a.selectable.clear()}else{if(e&&e.hasClass(n)){e.removeClass(n);return}}}else{a.selectable.clear()}a.selectable.value(e)}})}}},current:function(a){var c=this,d=c.element,e=c._current,f=c._itemId;if(a===b){return e}if(e&&e[0]){if(e[0].id===f){e.removeAttr("id")}e.removeClass(m);d.removeAttr("aria-activedescendant")}if(a&&a[0]){f=a[0].id||f;c._scrollTo(a[0]);d.attr("aria-activedescendant",f);a.addClass(m).attr("id",f)}c._current=a},_scrollTo:function(b){var c=this,d,e=false,f="scroll";if(c.wrapper.css("overflow")=="auto"||c.wrapper.css("overflow")==f){d=c.wrapper[0]}else{d=window;e=true}var g=function(c,g){var h=e?a(b).offset()[c.toLowerCase()]:b["offset"+c],i=b["client"+g],j=a(d)[f+c](),k=a(d)[g.toLowerCase()]();if(h+i>j+k){a(d)[f+c](h+i-k)}else if(h<j){a(d)[f+c](h)}};g("Top","Height");g("Left","Width")},_navigatable:function(){var b=this,d=b.options.navigatable,e=b.element,f=function(d){b.current(a(d.currentTarget));if(!a(d.target).is(":button,a,:input,a>.k-icon,textarea")){c.focusElement(e)}};if(d){b._tabindex();e.on("focus"+t,function(){var a=b._current;if(!a||!a.is(":visible")){a=b._item("first")}b.current(a)}).on("focusout"+t,function(){if(b._current){b._current.removeClass(m)}}).on("keydown"+t,function(d){var f=d.keyCode,g=b.current(),h=a(d.target),j=!h.is(":button,textarea,a,a>.t-icon,input"),k=h.is(":text,:password"),l=c.preventDefault,m=e.find("."+o),n=v(),p;if(!j&&!k&&i.ESC!=f||k&&i.ESC!=f&&i.ENTER!=f){return}if(i.UP===f||i.LEFT===f){if(g){g=g.prev()}b.current(!g||!g[0]?b._item("last"):g);l(d)}else if(i.DOWN===f||i.RIGHT===f){if(g){g=g.next()}b.current(!g||!g[0]?b._item("first"):g);l(d)}else if(i.PAGEUP===f){b.current(null);b.dataSource.page(b.dataSource.page()-1);l(d)}else if(i.PAGEDOWN===f){b.current(null);b.dataSource.page(b.dataSource.page()+1);l(d)}else if(i.HOME===f){b.current(b._item("first"));l(d)}else if(i.END===f){b.current(b._item("last"));l(d)}else if(i.ENTER===f){if(m.length!==0&&(j||k)){p=b.items().index(m);if(n){n.blur()}b.save();var q=function(){b.element.trigger("focus");b.current(b.items().eq(p))};b.one("dataBound",q)}else if(b.options.editTemplate!==""){b.edit(g)}}else if(i.ESC===f){m=e.find("."+o);if(m.length===0){return}p=b.items().index(m);b.cancel();b.element.trigger("focus");b.current(b.items().eq(p))}});e.on("mousedown"+t+" touchstart"+t,j,u(f,b))}},clearSelection:function(){var a=this;a.selectable.clear();a.trigger(d)},select:function(b){var c=this,d=c.selectable;b=a(b);if(b.length){if(!d.options.multiple){d.clear();b=b.first()}d.value(b);return}return d.value()},_destroyEditable:function(){var a=this;if(a.editable){a.editable.destroy();delete a.editable}},_modelFromElement:function(a){var b=a.attr(c.attr("uid"));return this.dataSource.getByUid(b)},_closeEditable:function(){var a=this,b=a.editable,d,e,f,g=a.template;if(b){if(b.element.index()%2){g=a.altTemplate}a.angular("cleanup",function(){return{elements:[b.element]}});d=a._modelFromElement(b.element);a._destroyEditable();f=b.element.index();b.element.replaceWith(g(d));e=a.items().eq(f);e.attr(c.attr("uid"),d.uid);if(a._hasBindingTarget()){c.bind(e,d)}a.angular("compile",function(){return{elements:[e],data:[{dataItem:d}]}})}return true},edit:function(a){var b=this,d=b._modelFromElement(a),e,f=d.uid,g;b.cancel();a=b.items().filter("["+c.attr("uid")+"="+f+"]");g=a.index();a.replaceWith(b.editTemplate(d));e=b.items().eq(g).addClass(o).attr(c.attr("uid"),d.uid);b.editable=e.kendoEditable({model:d,clearContainer:false,errorTemplate:false,target:b}).data("kendoEditable");b.trigger(p,{model:d,item:e})},save:function(){var a=this,b=a.editable,c;if(!b){return}var d=b.element;c=a._modelFromElement(d);if(b.end()&&!a.trigger(r,{model:c,item:d})){a._closeEditable();a.dataSource.sync()}},remove:function(a){var b=this,c=b.dataSource,d=b._modelFromElement(a);if(b.editable){c.cancelChanges(b._modelFromElement(b.editable.element));b._closeEditable()}if(!b.trigger(q,{model:d,item:a})){a.hide();c.remove(d);c.sync()}},add:function(){var a=this,b,c=a.dataSource,d=c.indexOf((c.view()||[])[0]);if(d<0){d=0}a.cancel();b=c.insert(d,{});a.edit(a.element.find("[data-uid='"+b.uid+"']"))},cancel:function(){var a=this,b=a.dataSource;if(a.editable){var c=a.editable.element;var d=a._modelFromElement(c);if(!a.trigger(e,{model:d,container:c})){b.cancelChanges(d);a._closeEditable()}}},_crudHandlers:function(){var b=this,d=s+t;b.element.on(d,".k-edit-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.edit(e);d.preventDefault()});b.element.on(d,".k-delete-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.remove(e);d.preventDefault()});b.element.on(d,".k-update-button",function(a){b.save();a.preventDefault()});b.element.on(d,".k-cancel-button",function(a){b.cancel();a.preventDefault()})},destroy:function(){var a=this;h.fn.destroy.call(a);a._unbindDataSource();a._destroyEditable();a.element.off(t);if(a.pager){a.pager.destroy()}c.destroy(a.element)}});c.ui.plugin(y)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.listbox",["kendo.draganddrop","kendo.data","kendo.selectable"],a)})(function(){var a={id:"listbox",name:"ListBox",category:"web",depends:["draganddrop","data","selectable"]};(function(a,b){var c=window.kendo;var d=c.attr;var e=c.data;var f=c.keys;var g=c.template;var h=c.ui.Widget;var i=e.DataSource;var j=c.ui.Selectable;var k=c.ui.DataBoundWidget;var l=c.Class;var m=a.extend;var n=a.noop;var o=a.proxy;var p="-";var q=".";var r=" ";var s="#";var t="kendoListBox";var u=q+t;var v="k-state-disabled";var w="k-state-selected";var x=".k-item:not(.k-state-disabled)";var y=".k-list:not(.k-state-disabled) >"+x;var z="k-listbox-toolbar";var A="li > a.k-button:not(.k-state-disabled)";var B="k-state-focused";var C="k-drag-clue";var D="k-drop-hint";var E="k-reset k-list";var F=".k-reset.k-list";var G="k-reset";var H="click"+u;var I="keydown"+u;var J="blur"+u;var K=c._outerWidth;var L=c._outerHeight;var M="change";var N="dataBound";var O="add";var P="remove";var Q="reorder";var R="moveUp";var S="moveDown";var T="transferTo";var U="transferFrom";var V="transferAllTo";var W="transferAllFrom";var X="k-ghost";var Y="uid";var Z="tabindex";var $="command";var _=-1;var aa=1;var ba="dragstart";var ca="drag";var da="drop";var ea="dragend";var fa="ul.k-reset.k-list>li.k-item";var ga="right";var ha="bottom";var ia=[z+p+"left",z+p+ga,z+p+"top",z+p+ha];function ja(b){var c=a.map(b,function(b){return a(b).index()});return c}function ka(a){return typeof a==="undefined"}function la(a){return a.clone().removeClass(X).removeClass(B).addClass(c.format("{0} {1} {2}",w,G,C)).width(a.width())}function ma(){return a("<li>").addClass(D)}var na=k.extend({init:function(a,b){var c=this;h.fn.init.call(c,a,b);c._wrapper();c._list();a=c.element.attr("multiple","multiple").hide();if(a[0]&&!c.options.dataSource){c.options.dataTextField=c.options.dataTextField||"text";c.options.dataValueField=c.options.dataValueField||"value"}c._templates();c._selectable();c._dataSource();c._createToolbar();c._createDraggable();c._createNavigatable()},destroy:function(){var a=this;k.fn.destroy.call(a);if(!isNaN(a._listTabIndex)){a._getList().off();a._listTabIndex=null}a._unbindDataSource();a._destroySelectable();a._destroyToolbar();a.wrapper.off(u);if(a._target){a._target=null}if(a._draggable){a._draggable.destroy();a.placeholder=null}c.destroy(a.element)},setOptions:function(a){h.fn.setOptions.call(this,a);this._templates();this._dataSource()},events:[M,N,O,P,Q,ba,ca,da,ea],options:{name:"ListBox",autoBind:true,template:"",dataTextField:"",dataValueField:"",selectable:"single",draggable:null,dropSources:[],connectWith:"",navigatable:true,toolbar:{position:ga,tools:[]},messages:{tools:{remove:"Delete",moveUp:"Move Up",moveDown:"Move Down",transferTo:"Transfer To",transferFrom:"Transfer From",transferAllTo:"Transfer All To",transferAllFrom:"Transfer All From"}}},add:function(a){var b=this;var c=a&&a.length?a:[a];var d=c.length;var e;b._unbindDataSource();for(e=0;e<d;e++){b._addItem(c[e])}b._bindDataSource();b._syncElement()},_addItem:function(b){var c=this;var e=c.templates.itemTemplate({item:b,r:c.templates.itemContent});a(e).attr(d(Y),b.uid).appendTo(c._getList());if(typeof b===typeof""){c.dataSource._data.push(b)}else{c.dataSource.add(b)}},_addItemAt:function(b,c){var e=this;var f=e.templates.itemTemplate({item:b,r:e.templates.itemContent});e._unbindDataSource();if(typeof b===typeof""){e._insertElementAt(f,c);e.dataSource._data.push(b)}else{e._insertElementAt(a(f).attr(d(Y),b.uid),c);e.dataSource.add(b)}e._bindDataSource();e._syncElement()},_insertElementAt:function(b,c){var d=this;var e=d._getList();if(c>0){a(b).insertAfter(e.children().eq(c-1))}else{a(e).prepend(b)}},_createNavigatable:function(){var a=this;var b=a.options;if(b.navigatable){a._getList().on(H,x,o(a._click,a)).on(I,o(a._keyDown,a)).on(J,o(a._blur,a))}},_getTabIndex:function(){var a=this;var b;if(!isNaN(a._listTabIndex)){return a._listTabIndex}b=a.element.attr(Z);a._listTabIndex=!isNaN(b)?b:0;a.element.removeAttr(Z);return a._listTabIndex},_blur:function(){if(this._target){this._target.removeClass(B);this._getList().removeAttr("aria-activedescendant")}this._target=null},_click:function(b){var d=this;var e=a(b.currentTarget);var f=d._target;if(f){f.removeClass(B)}d._target=e;e.addClass(B);d._getList().attr("aria-activedescendant",e.attr("id"));if(d._getList()[0]!==c._activeElement()){d.focus()}},_getNavigatableItem:function(a){var b=this;var c;if(!b._target){c=b.items().filter(x).first()}else{c=b._target}if(a===f.UP&&b._target){c=b._target.prevAll(x).first()}if(a===f.DOWN&&b._target){c=b._target.nextAll(x).first()}return c.length?c:null},_scrollIntoView:function(a){if(!a){return}if(a[0]){a=a[0]}var b=this._getList().parent()[0];var c=a.offsetTop;var d=b.scrollTop;var e=b.clientHeight;var f=c+a.offsetHeight;if(d>c){d=c}else if(f>d+e){d=f-e}b.scrollTop=d},_keyDown:function(a){var b=this;var c=a.keyCode;var d=b._getNavigatableItem(c);var e;if(b._target){b._target.removeClass(B)}if(!(a.shiftKey&&!a.ctrlKey&&(c===f.DOWN||c===f.UP))){b._shiftSelecting=false}if(c==f.DELETE){b._executeCommand(P);if(b._target){b._target.removeClass(B);b._getList().removeAttr("aria-activedescendant");b._target=null}e=true}else if(c===f.DOWN||c===f.UP){if(!d){a.preventDefault();return}if(a.shiftKey&&!a.ctrlKey){if(!b._shiftSelecting){b.clearSelection();b._shiftSelecting=true}if(b._target&&d.hasClass("k-state-selected")){b._target.removeClass(w);b.trigger(M)}else if(b.options.selectable=="single"){b.select(d)}else{b.select(d.add(b._target))}}else if(a.shiftKey&&a.ctrlKey){b._executeCommand(c===f.DOWN?S:R);b._scrollIntoView(b._target);a.preventDefault();return}else if(!a.shiftKey&&!a.ctrlKey){if(b.options.selectable==="multiple"){b.clearSelection()}b.select(d)}b._target=d;if(b._target){b._target.addClass(B);b._scrollIntoView(b._target);b._getList().attr("aria-activedescendant",b._target.attr("id"))}else{b._getList().removeAttr("aria-activedescendant")}e=true}else if(c==f.SPACEBAR){if(a.ctrlKey&&b._target){if(b._target.hasClass(w)){b._target.removeClass(w);b.trigger(M)}else{b.select(b._target)}}else{b.clearSelection();b.select(b._target)}e=true}else if(a.ctrlKey&&c==f.RIGHT){if(a.shiftKey){b._executeCommand(V)}else{b._executeCommand(T)}b._target=b.select().length?b.select():null;e=true}else if(a.ctrlKey&&c==f.LEFT){if(a.shiftKey){b._executeCommand(W)}else{b._executeCommand(U)}e=true}if(e){a.preventDefault()}},focus:function(){c.focusElement(this._getList())},_createDraggable:function(){var b=this;var d=b.options.draggable;var e;if(d){e=d.hint;if(!b.options.selectable){throw new Error("Dragging requires selection to be enabled")}if(!e){e=la}b._draggable=new c.ui.Draggable(b.wrapper,{filter:d.filter?d.filter:fa,hint:c.isFunction(e)?e:a(e),dragstart:o(b._dragstart,b),dragcancel:o(b._clear,b),drag:o(b._drag,b),dragend:o(b._dragend,b)})}},_dragstart:function(b){var d=this;var e=d.draggedElement=b.currentTarget;var f=d.options.draggable.placeholder;var g=d.dataItem(e);var h={dataItems:g,items:a(e),draggableEvent:b};if(d.options.draggable.enabled===false){b.preventDefault();return}if(!f){f=ma}d.placeholder=c.isFunction(f)?a(f.call(d,e)):a(f);if(e.is(q+v)){b.preventDefault()}else{if(d.trigger(ba,h)){b.preventDefault()}else{d.clearSelection();d.select(e);e.addClass(X)}}},_clear:function(){this.draggedElement.removeClass(X);this.placeholder.remove()},_findElementUnderCursor:function(b){var d=c.elementUnderCursor(b);var e=b.sender;if(a.contains(e.hint[0],d)||e.hint[0]===d){e.hint.hide();d=c.elementUnderCursor(b);e.hint.show()}return d},_findTarget:function(b){var c=this;var d=c._findElementUnderCursor(b);var e=a(d);var f=c._getList();var g;var h;if(a.contains(f[0],d)){g=c.items();d=e.is("li")?d:e.closest("li")[0];h=g.filter(d)[0]||g.has(d)[0];if(h){h=a(h);return!h.hasClass(v)?{element:h,listBox:c}:null}else{
return null}}else if(f[0]==d||f.parent()[0]==d){return{element:a(f),appendToBottom:true,listBox:c}}else{return c._searchConnectedListBox(e)}},_getElementCenter:function(a){var b=a.length?c.getOffset(a):null;if(b){b.top+=L(a)/2;b.left+=K(a)/2}return b},_searchConnectedListBox:function(b){var c;var d;var e;var f=b;var g;if(b.hasClass("k-list-scroller k-selectable")){g=b}else{g=b.closest(".k-list-scroller.k-selectable")}if(g.length){c=g.parent().find("[data-role='listbox']").getKendoListBox()}else{return null}if(c&&a.inArray(this.element[0].id,c.options.dropSources)!==-1){d=c.items();b=b.is("li")?b[0]:b.closest("li")[0];e=d.filter(b)[0]||d.has(b)[0];if(e){e=a(e);return!e.hasClass(v)?{element:e,listBox:c}:null}else if(!d.length||f.hasClass("k-list-scroller k-selectable")||f.hasClass("k-reset k-list")){return{element:c._getList(),listBox:c,appendToBottom:true}}else{return null}}return null},_drag:function(b){var c=this;var d=c.draggedElement;var e=c._findTarget(b);var f={left:b.x.location,top:b.y.location};var g=c.dataItem(d);var h={dataItems:[g],items:a(d),draggableEvent:b};var i;var j;var k;if(c.trigger(ca,h)){b.preventDefault();return}if(e){i=this._getElementCenter(e.element);j={left:Math.round(f.left-i.left),top:Math.round(f.top-i.top)};if(e.appendToBottom){c._movePlaceholder(e,null,d);return}if(j.top<0){k="prev"}else if(j.top>0){k="next"}if(k){if(e.element[0]!=c.placeholder[0]){c._movePlaceholder(e,k,d)}}}else if(c.placeholder.parent().length){c.placeholder.remove()}},_movePlaceholder:function(b,d,e){var f=this;var g=f.placeholder;var h=b.listBox.options.draggable;if(g.parent().length){f.placeholder.remove();if(h&&h.placeholder){f.placeholder=c.isFunction(h.placeholder)?a(h.placeholder.call(f,e)):a(h.placeholder)}else{f.placeholder=a(ma.call(f,e))}}if(!d){b.element.append(f.placeholder)}else if(d==="prev"){b.element.before(f.placeholder)}else if(d==="next"){b.element.after(f.placeholder)}},_dragend:function(b){var c=this;var d=c.draggedElement;var e=c.items();var f=e.not(c.draggedElement).index(c.placeholder);var g=e.not(c.placeholder).index(c.draggedElement);var h=c.dataItem(d);var i={dataItems:[h],items:a(d)};var j=c.placeholder.closest(".k-widget.k-listbox").find("[data-role='listbox']").getKendoListBox();if(c.trigger(da,m({},i,{draggableEvent:b}))){b.preventDefault();this._clear();return}if(f>=0){if(f!==g&&!c.trigger(Q,m({},i,{offset:f-g}))){d.removeClass(X);c.reorder(d,f)}}else if(j){if(!c.trigger(P,i)){c.remove(a(d))}if(!j.trigger(O,i)){j._addItemAt(h,j.items().index(c.placeholder))}}c._clear();c._draggable.dropped=true;c.trigger(ea,m({},i,{draggableEvent:b}));c._updateToolbar();c._updateAllToolbars()},reorder:function(b,c){var d=this;var e=d.dataSource;var f=d.dataItem(b);var g=e.at(c);var h=d.items()[c];var i=a(b);if(f&&h&&g){d._removeElement(i);d._insertElementAt(i,c);d._updateToolbar()}},remove:function(b){var c=this;var d=c._getItems(b);var e=d.length;var f;c._unbindDataSource();for(f=0;f<e;f++){c._removeItem(a(d[f]))}c._bindDataSource();c._syncElement();c._updateToolbar();c._updateAllToolbars()},_removeItem:function(a){var b=this;var c=b.dataSource;var d=b.dataItem(a);if(!d||!c){return}if(typeof d===typeof""){var e=c._data;for(var f=0;f<e.length;f++){if(d===e[f]){e[f]=e[e.length-1];e.pop();break}}}else{c.remove(d)}b._removeElement(a)},_removeElement:function(b){c.destroy(b);a(b).off().remove()},dataItem:function(b){var c=d(Y);var e=a(b).attr(c)||a(b).closest("["+c+"]").attr(c);if(e){return this.dataSource.getByUid(e)}else{return a(b).html()}},_dataItems:function(b){var c=[];var d=a(b);var e=d.length;var f;for(f=0;f<e;f++){c.push(this.dataItem(d.eq(f)))}return c},items:function(){var a=this._getList();return a.children()},select:function(a){var b=this;var c=b.selectable;var d;if(ka(a)){return c.value()}d=b.items().filter(a).filter(y);if(!c.options.multiple){c.clear();d=d.first()}return c.value(d)},clearSelection:function(){var a=this;var b=a.selectable;if(b){b.clear()}},enable:function(b,c){var d=this;var e=ka(c)?true:!!c;var f=d._getItems(b);var g=f.length;var h;for(h=0;h<g;h++){d._enableItem(a(f[h]),e)}d._updateAllToolbars()},_enableItem:function(b,c){var d=this;var e=d.dataItem(b);if(e){if(c){a(b).removeClass(v)}else{a(b).addClass(v).removeClass(w)}}},setDataSource:function(a){var b=this;b.options.dataSource=a;b._dataSource()},_dataSource:function(){var b=this;var c=b.options;var d=c.dataSource||{};d=a.isArray(d)?{data:d}:d;d.select=b.element;d.fields=[{field:c.dataTextField},{field:c.dataValueField}];b._unbindDataSource();b.dataSource=i.create(d);b._bindDataSource();if(b.options.autoBind){b.dataSource.fetch()}},_bindDataSource:function(){var a=this;var b=a.dataSource;a._dataChangeHandler=o(a.refresh,a);if(b){b.bind(M,a._dataChangeHandler)}},_unbindDataSource:function(){var a=this;var b=a.dataSource;if(b){b.unbind(M,a._dataChangeHandler)}},_wrapper:function(){var b=this,c=b.element,d=c.parent("div.k-listbox");if(!d[0]){d=c.wrap('<div class="k-widget k-listbox" deselectable="on" />').parent();d[0].style.cssText=c[0].style.cssText;d[0].title=c[0].title;a('<div class="k-list-scroller" />').insertBefore(c)}b.wrapper=d.addClass(c[0].className).css("display","");b._innerWrapper=a(d[0].firstChild)},_list:function(){var b=this;a("<ul class='"+E+"' role='listbox'></ul>").appendTo(b._innerWrapper);if(b.options.navigatable){b._getList().attr(Z,b._getTabIndex())}},_templates:function(){var a=this;var b=this.options;var d;if(b.template&&typeof b.template=="string"){d=c.template(b.template)}else if(!b.template){d=c.template("${"+c.expr(b.dataTextField,"data")+"}",{useWithBlock:false})}else{d=b.template}a.templates={itemTemplate:c.template("# var item = data.item, r = data.r; # <li class='k-item' role='option' aria-selected='false'>#=r(item)#</li>",{useWithBlock:false}),itemContent:d,toolbar:"<div class='"+z+"'></div>"}},refresh:function(){var a=this;var b=a.dataSource.view();var c=a.templates.itemTemplate;var d="";for(var e=0;e<b.length;e++){d+=c({item:b[e],r:a.templates.itemContent})}a._getList().html(d);a._setItemIds();a._createToolbar();a._syncElement();a._updateToolbar();a._updateAllToolbars();a.trigger(N)},_syncElement:function(){var a="";var b=this.dataSource.view();for(var c=0;c<b.length;c++){a+=this._option(b[c][this.options.dataValueField]||b[c],b[c][this.options.dataTextField]||b[c],true)}this.element.html(a)},_option:function(a,d){var e="<option";if(a!==b){a+="";if(a.indexOf('"')!==-1){a=a.replace(/"/g,"&quot;")}e+=' value="'+a+'"'}e+=" selected>";if(d!==b){e+=c.htmlEncode(d)}return e+="</option>"},_setItemIds:function(){var a=this;var b=a.items();var c=a.dataSource.view();var e=c.length;var f;for(f=0;f<e;f++){b.eq(f).attr(d(Y),c[f].uid).attr("id",c[f].uid)}},_selectable:function(){var a=this;var b=a.options.selectable;var c=j.parseOptions(b);if(c.multiple){a.element.attr("aria-multiselectable","true")}a.selectable=new j(a._innerWrapper,{aria:true,multiple:c.multiple,filter:x,change:o(a._onSelect,a)})},_onSelect:function(){var a=this;a._updateToolbar();a._updateAllToolbars();a.trigger(M)},_destroySelectable:function(){var a=this;if(a.selectable&&a.selectable.element){a.selectable.destroy();a.selectable=null}},_getList:function(){return this.wrapper.find(F)},_getItems:function(a){return this.items().filter(a)},_createToolbar:function(){var b=this;var c=b.options.toolbar;var d=c.position||ga;var e=d===ha?"insertAfter":"insertBefore";var f=c.tools||[];var g=b.options.messages;b._destroyToolbar();b.wrapper.removeClass(ia.join(r));if(f.length&&f.length>0){var h=a(b.templates.toolbar)[e](b._innerWrapper);b.toolbar=new za(h,m({},c,{listBox:b,messages:g}));b.wrapper.addClass(z+p+d)}},_destroyToolbar:function(){var a=this;if(a.toolbar){a.toolbar.destroy();a.toolbar=null}},_executeCommand:function(a){var b=this;var c=oa.current.create(a,{listBox:b});if(c){c.execute();b._updateToolbar();b._updateAllToolbars()}},_updateToolbar:function(){var a=this.toolbar;if(a){a._updateToolStates()}},_updateAllToolbars:function(){var b=a("select[data-role='listbox']");var c=b.length;var d;var e;for(e=0;e<c;e++){d=a(b[e]).data(t);if(d){d._updateToolbar()}}}});c.ui.plugin(na);var oa=l.extend({init:function(){this._commands=[]},register:function(a,b){this._commands.push({commandName:a,commandType:b})},create:function(a,b){var c=this._commands;var d=c.length;var e=a?a.toLowerCase():"";var f;var g;var h;for(h=0;h<d;h++){g=c[h];if(g.commandName.toLowerCase()===e){f=g;break}}if(f){return new f.commandType(b)}}});oa.current=new oa;var pa=l.extend({init:function(a){var b=this;b.options=m({},b.options,a);b.listBox=b.options.listBox},options:{listBox:null},getItems:function(){return a(this.listBox.select())},execute:n,canExecute:n});var qa=pa.extend({execute:function(){var a=this;var b=a.listBox;var c=a.getItems();if(!b.trigger(P,{dataItems:b._dataItems(c),items:c})){b.remove(c)}},canExecute:function(){return this.listBox.select().length>0}});oa.current.register(P,qa);var ra=pa.extend({execute:function(){var a=this;if(a.canExecute()){a.moveItems()}},canExecute:n,moveItems:function(){var b=this;var c=b.listBox;var d=b.options;var e=b.getItems();var f=d.offset;var g=ja(e);var h=a.makeArray(e.sort(b.itemComparer));var i=d.moveAction;var j;if(!c.trigger(Q,{dataItems:c._dataItems(h),items:a(h),offset:f})){while(h.length>0&&g.length>0){j=h[i]();c.reorder(j,g[i]()+f)}}},options:{offset:0,moveAction:"pop"},itemComparer:function(b,c){var d=a(b).index();var e=a(c).index();if(d===e){return 0}else{return d>e?1:-1}}});var sa=ra.extend({options:{offset:_,moveAction:"shift"},canExecute:function(){var a=this.getItems();var b=ja(a);return b.length>0&&b[0]>0}});oa.current.register(R,sa);var ta=ra.extend({options:{offset:aa,moveAction:"pop"},canExecute:function(){var b=this;var c=b.getItems();var d=ja(c);return d.length>0&&a(d).last()[0]<b.listBox.items().length-1}});oa.current.register(S,ta);var ua=pa.extend({options:{filter:x},execute:function(){var a=this;var b=a.getSourceListBox();var c=a.getItems().filter(a.options.filter);var d=b?b._dataItems(c):[];var e=a.getDestinationListBox();var f=a.getUpdatedSelection(c);if(e&&c.length>0){if(!e.trigger(O,{dataItems:d,items:c})){e.add(d)}if(!b.trigger(P,{dataItems:d,items:c})){b.remove(c);a.updateSelection(f)}}},getUpdatedSelection:function(b){var c=this;var d=c.options.filter;var e=c.getSourceListBox();var f=e?e.items().filter(d).last():null;var g=a(b).filter(f).length>0;var h=g?a(b).prevAll(d)[0]:a(b).nextAll(d)[0];if(a(b).length===1&&h){return h}else{return null}},updateSelection:function(b){var c=this.getSourceListBox();if(c&&b){a(c.select(a(b)));c._scrollIntoView(b)}},getSourceListBox:n,getDestinationListBox:n});var va=ua.extend({canExecute:function(){var a=this.getSourceListBox();return a?a.select().length>0:false},getSourceListBox:function(){return this.listBox},getDestinationListBox:function(){var b=this.getSourceListBox();return b&&b.options.connectWith?a(s+b.options.connectWith).data(t):null},getItems:function(){var b=this.getSourceListBox();return b?a(b.select()):a()}});oa.current.register(T,va);var wa=ua.extend({canExecute:function(){var a=this.getSourceListBox();return a?a.select().length>0:false},getSourceListBox:function(){var b=this.getDestinationListBox();return b&&b.options.connectWith?a(s+b.options.connectWith).data(t):null},getDestinationListBox:function(){return this.listBox},getItems:function(){var b=this.getSourceListBox();return b?a(b.select()):a()}});oa.current.register(U,wa);var xa=va.extend({canExecute:function(){var a=this.getSourceListBox();return a?a.items().filter(x).length>0:false},getItems:function(){var b=this.getSourceListBox();return b?b.items():a()},getUpdatedSelection:n,updateSelection:n});oa.current.register(V,xa);var ya=wa.extend({canExecute:function(){var a=this.getSourceListBox();return a?a.items().filter(x).length>0:false},getItems:function(){var b=this.getSourceListBox();return b?b.items():a()},getUpdatedSelection:n,updateSelection:n});oa.current.register(W,ya);var za=l.extend({init:function(b,c){var d=this;d.element=a(b).addClass(z);d.options=m({},d.options,c);d.listBox=d.options.listBox;d._initTemplates();d._createTools();d._updateToolStates();d._attachEventHandlers()},destroy:function(){var a=this;a._detachEventHandlers();c.destroy(a.element);a.element.remove();a.element=null},options:{position:ga,tools:[]},_initTemplates:function(){this.templates={tool:g("<li>"+"<a href='\\\\#' class='k-button k-button-icon' data-command='#= command #' title='#= text #' aria-label='#= text #' role='button'>"+"<span class='k-icon #= iconClass #'></span>"+"</a>"+"</li>")}},_createTools:function(){var b=this;var c=b.options.tools;var d=c.length;var e=b.options.messages.tools;var f=b._createToolList();var g;var h;for(h=0;h<d;h++){g=m({},za.defaultTools[c[h]],{text:e[c[h]]});if(g){f.append(a(b.templates.tool(g)))}}b.element.append(f)},_createToolList:function(){return a("<ul class='k-reset' />")},_attachEventHandlers:function(){var a=this;a.element.on(H,A,o(a._onToolClick,a))},_detachEventHandlers:function(){this.element.off(u).find("*").off(u)},_onToolClick:function(b){b.preventDefault();this._executeToolCommand(a(b.currentTarget).data($))},_executeToolCommand:function(a){var b=this;var c=b.listBox;if(c){c._executeCommand(a)}},_updateToolStates:function(){var a=this;var b=a.options.tools;var c=b.length;var d;for(d=0;d<c;d++){a._updateToolState(b[d])}},_updateToolState:function(b){var c=this;var d=oa.current.create(b,{listBox:c.listBox});var e=c.element.find("[data-command='"+b+"']")[0];if(e&&d&&d.canExecute){if(d.canExecute()){a(e).removeClass(v).removeAttr(Z)}else{a(e).addClass(v).attr(Z,"-1")}}}});za.defaultTools={remove:{command:P,iconClass:"k-i-x"},moveUp:{command:R,iconClass:"k-i-arrow-60-up"},moveDown:{command:S,iconClass:"k-i-arrow-60-down"},transferTo:{command:T,iconClass:"k-i-arrow-60-right"},transferFrom:{command:U,iconClass:"k-i-arrow-60-left"},transferAllTo:{command:V,iconClass:"k-i-arrow-double-60-right"},transferAllFrom:{command:W,iconClass:"k-i-arrow-double-60-left"}};m(na,{ToolBar:za})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.upload",["kendo.core"],a)})(function(){var a={id:"upload",name:"Upload",category:"web",description:"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=c.antiForgeryTokens,f=c.logToConsole,g=/\.([^\.]+)$/,h=".kendoUpload",i="select",j="upload",k="success",l="error",m="complete",n="cancel",o="clear",p="pause",q="resume",r="progress",s="remove",t="validationErrors",u="invalidMaxFileSize",v="invalidMinFileSize",w="invalidFileExtension",x=1e3,y=2e3;var z={loading:"k-i-loading",warning:"k-i-warning",success:"k-i-check"};var A=d.extend({init:function(b,e){var f=this;d.fn.init.call(f,b,e);f.name=b.name;f.multiple=f.options.multiple;f.directory=f.options.directory;f.localization=f.options.localization;var g=f.element;f.wrapper=g.closest(".k-upload");if(f.wrapper.length===0){f.wrapper=f._wrapInput(g)}f._activeInput(g);f.toggle(f.options.enabled);var i=f._ns=h+"-"+c.guid();g.closest("form").on("submit"+i,a.proxy(f._onParentFormSubmit,f)).on("reset"+i,a.proxy(f._onParentFormReset,f));if(f.options.async.saveUrl){f._module=f._supportsFormData()?new D(f):new C(f);f._async=true;var j=f.options.files;if(j.length>0){f._renderInitialFiles(j)}}else{f._module=new B(f)}if(f._supportsDrop()){if(f.options.dropZone!==""){f._setupCustomDropZone()}else{f._setupDropZone()}}f.wrapper.on("click",".k-upload-action",a.proxy(f._onFileAction,f)).on("click",".k-clear-selected",a.proxy(f._onClearSelected,f)).on("click",".k-upload-selected",a.proxy(f._onUploadSelected,f));if(f.element.val()){f._onInputChange({target:f.element})}},events:[i,j,k,l,m,n,o,r,s,p,q],options:{name:"Upload",enabled:true,multiple:true,directory:false,showFileList:true,template:"",files:[],async:{autoRetryAfter:0,bufferChunkSize:1e7,maxAutoRetries:1,removeVerb:"POST",autoUpload:true,withCredentials:true,accept:"*/*; q=0.5, application/json",useArrayBuffer:false},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",pause:"Pause",resume:"Resume",clearSelectedFiles:"Clear",uploadSelectedFiles:"Upload",dropFilesHere:"Drop files here to upload",invalidFiles:"Invalid file(s). Please check file upload requirements.",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusPaused:"Paused",headerStatusUploaded:"Done",invalidMaxFileSize:"File size too large.",invalidMinFileSize:"File size too small.",invalidFileExtension:"File type not allowed."},validation:{allowedExtensions:[],maxFileSize:0,minFileSize:0},dropZone:""},setOptions:function(a){var b=this,c=b.element;d.fn.setOptions.call(b,a);b.multiple=b.options.multiple;b.directory=b.options.directory;c.attr("multiple",b._supportsMultiple()?b.multiple:false);if(b.directory){c.attr("webkitdirectory",b.directory);c.attr("directory",b.directory)}b.toggle(b.options.enabled)},enable:function(a){a=typeof a==="undefined"?true:a;this.toggle(a)},disable:function(){this.toggle(false)},toggle:function(a){a=typeof a==="undefined"?a:!a;this.wrapper.toggleClass("k-state-disabled",a);this.element.prop("disabled",a)},focus:function(){this.element.focus()},destroy:function(){var b=this;var c=a(b.options.dropZone);a(document).add(a(".k-dropzone",b.wrapper)).add(b.wrapper.closest("form")).off(b._ns);if(c.length>0){c.off(b._ns)}a(b.element).off(h);d.fn.destroy.call(b)},pause:function(b){this._module.onPause({target:a(b,this.wrapper)});var c=b.find(".k-i-pause-sm");c.removeClass("k-i-pause-sm").addClass("k-i-play-sm").attr("title",this.localization.resume);a(c).parent().attr("aria-label",this.localization.resume)},resume:function(b){this._module.onResume({target:a(b,this.wrapper)});var c=b.find(".k-i-play-sm");c.removeClass("k-i-play-sm").addClass("k-i-pause-sm").attr("title",this.localization.pause);a(c).parent().attr("aria-label",this.localization.pause)},upload:function(){var a=this;a._module.onSaveSelected()},getFiles:function(){var b=this;var c;var d=[];var e=b.wrapper.find(".k-file");for(var f=0;f<e.length;f++){c=a(e[f]).data("fileNames");if(c){for(var g=0;g<c.length;g++){d.push(c[g])}}}return d},clearAllFiles:function(){var a=this;var b=a.wrapper.find(".k-file");b.each(function(b,c){a._removeFileByDomElement(c,false)})},removeAllFiles:function(){var a=this;var b=a.wrapper.find(".k-file");b.each(function(b,c){a._removeFileByDomElement(c,true)})},removeFileByUid:function(a){this._removeFileByUid(a,true)},clearFileByUid:function(a){this._removeFileByUid(a,false)},_removeFileByUid:function(b,d){var e=this;var f;if(typeof b!=="string"){return}f=a(".k-file["+c.attr("uid")+'="'+b+'"]',e.wrapper);if(f.length>0){e._removeFileByDomElement(f,d)}},clearFile:function(a){this._removeFile(a,false)},removeFile:function(a){this._removeFile(a,true)},_removeFile:function(b,c){var d=this;var e=d.wrapper.find(".k-file");var f;if(typeof b==="function"){e.each(function(e,g){f=a(g).data("fileNames");if(b(f)){d._removeFileByDomElement(g,c)}})}},_removeFileByDomElement:function(b,c){var d=this;var e={target:a(b,d.wrapper)};var f;if(d.options.async.saveUrl){if(a(b).hasClass("k-file-progress")){d._module.onCancel(e)}else{d._module.onRemove(e,{},c)}f=a(".k-file",d.wrapper);if(f.length===0){d._hideHeaderUploadstatus()}else{d._updateHeaderUploadStatus()}}else{d._module.onRemove(e,{},c)}},_addInput:function(b){if(!b[0].nodeType){return}var c=this,d=b.clone().val("");d.insertAfter(c.element).data("kendo"+c.options.prefix+c.options.name,c);a(c.element).hide().attr("tabindex","-1").removeAttr("id").off(h);c._activeInput(d);c.element.focus()},_activeInput:function(b){var c=this,d=c.wrapper;c.element=b;if(c.directory){b.attr("webkitdirectory",c.directory);b.attr("directory",c.directory)}b.attr("multiple",c._supportsMultiple()?c.multiple:false).attr("autocomplete","off").on("click"+h,function(a){if(d.hasClass("k-state-disabled")){a.preventDefault()}}).on("focus"+h,function(){a(this).parent().addClass("k-state-focused")}).on("blur"+h,function(){a(this).parent().removeClass("k-state-focused")}).on("change"+h,a.proxy(c._onInputChange,c)).on("keydown"+h,a.proxy(c._onInputKeyDown,c))},_onInputKeyDown:function(a){var b=this;var d=b.wrapper.find(".k-upload-action:visible:first");if(a.keyCode===c.keys.TAB&&d.length>0&&!a.shiftKey){a.preventDefault();d.focus()}},_onInputChange:function(b){var c=this;var d=a(b.target);var e=K(c._inputFiles(d),c._isAsyncNonBatch());L(e,c.options.validation);var f=c.trigger(i,{files:e});if(f){c._addInput(d);d.remove()}else{c._module.onSelect({target:d},e)}},_readDirectory:function(b){var c=new a.Deferred;var d=b.createReader();var e=[];var f=function(){d.readEntries(function(a){if(!a.length){c.resolve(e)}else{e=e.concat(a);f()}},c.reject)};f();return c.promise()},_readFile:function(a){var b=this;var c=a.fullPath;a.file(function(a){a.relativePath=c.slice(1);b.droppedFolderFiles.push(a);b.droppedFolderCounter--;if(b.droppedFolderCounter===0){setTimeout(function(){if(b.droppedFolderCounter===0){if(b.droppedFolderFiles.length){b._proceedDroppedItems(b.droppedFolderFiles);b.droppedFolderFiles=[]}}},0)}},function(){f("File error.")})},_traverseFileTree:function(a,b){var c=this;if(!b){c.droppedFolderCounter--}this._readDirectory(a).then(function(a){c.droppedFolderCounter+=a.length;for(var b=0;b<a.length;b++){if(a[b].isFile){c._readFile(a[b])}else if(a[b].isDirectory){c._traverseFileTree(a[b])}}})},_onDrop:function(a){var b=a.originalEvent.dataTransfer;var c=this;var d=b.files;var e;U(a);if(c.options.directoryDrop&&b.items){e=b.items.length;c.droppedFolderCounter=0;c.droppedFolderFiles=[];for(var f=0;f<e;f++){if(b.items[f].webkitGetAsEntry){var g=b.items[f].webkitGetAsEntry();if(g.isDirectory){c._traverseFileTree(g,true)}else if(g.isFile){c.droppedFolderFiles.push(b.files[f])}}else{c._proceedDroppedItems(d)}}}else{c._proceedDroppedItems(d)}},_proceedDroppedItems:function(b){var c=this;var d=K(G(b),c._isAsyncNonBatch());if(b.length>0&&!c.wrapper.hasClass("k-state-disabled")){if(!c.multiple&&d.length>1){d.splice(1,d.length-1)}L(d,c.options.validation);var e=c.trigger(i,{files:d});if(!e){c._module.onSelect({target:a(".k-dropzone",c.wrapper)},d)}}},_filesContainValidationErrors:function(b){var c=false;a(b).each(function(a,b){if(b[t]&&b[t].length>0){c=true;return false}});return c},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||false},_renderInitialFiles:function(a){var b=this;var c=0;a=K(a,true);for(c=0;c<a.length;c++){var d=a[c];var e=b._enqueueFile(d.name,{fileNames:[d]});e.addClass("k-file-success").data("files",[a[c]]);if(b._supportsRemove()){b._fileAction(e,s)}}},_prepareTemplateData:function(a,b){var c=b.fileNames,d={},e=0,f=0;for(f=0;f<c.length;f++){e+=c[f].size}d.name=a;d.size=e;d.files=b.fileNames;return d},_prepareDefaultSingleFileEntryTemplate:function(b){var c=this;var d=b.fileNames[0];var e=P(b.fileNames);var f=d[t];var g="";if(f&&f.length>0){g+="<li class='k-file k-file-invalid'><span class='k-progress'></span>"+"<span class='k-file-invalid-extension-wrapper'>"+"<span class='k-file-invalid-icon'>!</span>"+"<span class='k-file-state'></span>"+"</span>"+"<span class='k-file-name-size-wrapper'>"+"<span class='k-file-name k-file-name-invalid' title='"+d.name+"'>"+d.name+"</span>"+"<span class='k-file-validation-message'>"+c.localization[f[0]]+"</span>"+"</span>"}else{g+="<li class='k-file'><span class='k-progress'></span>"+"<span class='k-file-extension-wrapper'>"+"<span class='k-file-extension'>"+d.extension.substring(1)+"</span>"+"<span class='k-file-state'></span>"+"</span>"+"<span class='k-file-name-size-wrapper'><span class='k-file-name' title='"+d.name+"'>"+d.name+"</span>"+"<span class='k-file-size'>"+e+"</span></span>"}g+="<strong class='k-upload-status'></strong>";return a(g)},_prepareDefaultMultipleFileEntriesTemplate:function(b){var c=this;var d=b.fileNames;var e=c._filesContainValidationErrors(d);var f=P(d);var g="";var h,i;if(e){g+="<li class='k-file k-file-invalid'><span class='k-progress'></span>"+"<span class='k-multiple-files-invalid-extension-wrapper'>"+"<span class='k-file-invalid-icon'>!</span>"}else{g+="<li class='k-file'><span class='k-progress'></span>"+"<span class='k-multiple-files-extension-wrapper'>"}g+="<span class='k-file-state'></span></span>";d.sort(function(a,b){if(a[t]){return-1}if(b[t]){return 1}return 0});g+="<span class='k-file-name-size-wrapper'>";for(h=0;h<d.length;h++){i=d[h];if(i[t]&&i[t].length>0){g+="<span class='k-file-name k-file-name-invalid' title='"+i.name+"'>"+i.name+"</span>"}else{g+="<span class='k-file-name' title='"+i.name+"'>"+i.name+"</span>"}}if(e){g+="<span class='k-file-validation-message'>"+c.localization.invalidFiles+"</span>"}else{g+="<span class='k-file-information'>Total: "+d.length+" files, "+f+"</span>"}g+="</span><strong class='k-upload-status'></strong>";return a(g)},_enqueueFile:function(b,d){var e=this;var f;var g;var h=d.fileNames[0].uid;var i=a(".k-upload-files",e.wrapper);var j=e.options;var k=j.template;var l;var m;if(i.length===0){i=a("<ul class='k-upload-files k-reset'></ul>").appendTo(e.wrapper);if(!e.options.showFileList){i.hide()}e.wrapper.removeClass("k-upload-empty")}f=a(".k-file",i);if(!k){if(d.fileNames.length===1){g=e._prepareDefaultSingleFileEntryTemplate(d)}else{g=e._prepareDefaultMultipleFileEntriesTemplate(d)}}else{l=e._prepareTemplateData(b,d);k=c.template(k);g=a("<li class='k-file'>"+k(l)+"</li>");g.find(".k-upload-action").addClass("k-button");e.angular("compile",function(){return{elements:g,data:[l]}})}g.attr(c.attr("uid"),h).appendTo(i).data(d);if(!e._async){a(".k-progress",g).width("100%")}if(!e.multiple&&f.length>0){m={files:f.data("fileNames"),headers:{}};if(!e.trigger(s,m)){e._module.onRemove({target:a(f,e.wrapper)},m)}}return g},_removeFileEntry:function(b){var c=this;var d=b.closest(".k-upload-files");var e,f,g;b.remove();e=a(".k-file",d);f=a(".k-file-success, .k-file-error",d);g=a(".k-file-invalid",d);if(f.length===e.length||g.length===e.length){this._hideUploadButton()}if(e.length===0){d.remove();c.wrapper.addClass("k-upload-empty");c._hideHeaderUploadstatus()}else{c._updateHeaderUploadStatus()}},_fileAction:function(a,b,c){var d={remove:"k-i-x",cancel:"k-i-cancel",retry:"k-i-retry",pause:"k-i-pause-sm"};var e={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-reload-sm",pause:"k-i-pause-sm"};var f;if(!d.hasOwnProperty(b)){return}if(!c){this._clearFileAction(a)}if(!this.options.template){if(!c){a.find(".k-upload-status .k-upload-action").remove()}a.find(".k-upload-status").append(this._renderAction(d[b],this.localization[b],e[b]))}else{f=a.find(".k-upload-action").first();if(!f.find(".k-icon").length){f.addClass("k-button").append("<span class='k-icon "+e[b]+" "+d[b]+"' title='"+this.localization[b]+"'"+"aria-label='"+this.localization[b]+"'></span>").show()}else if(f.next(".k-upload-action").length){f.next(".k-upload-action").addClass("k-button").append("<span class='k-icon "+e[b]+" "+d[b]+"' title='"+this.localization[b]+"'"+"aria-label='"+this.localization[b]+"'></span>").show()}}},_fileState:function(b,c){var d=this.localization,e={uploading:{text:d.statusUploading},uploaded:{text:d.statusUploaded},failed:{text:d.statusFailed}},f=e[c];if(f){a("span.k-file-state",b).text(f.text)}},_renderAction:function(b,c,d){if(b!==""){return a("<button type='button' class='k-button k-upload-action' aria-label='"+c+"'>"+"<span class='k-icon "+d+" "+b+"' title='"+c+"'></span>"+"</button>").on("focus",function(){a(this).addClass("k-state-focused")}).on("blur",function(){a(this).removeClass("k-state-focused")})}else{return a("<button type='button' class='k-button'>"+c+"</button>")}},_clearFileAction:function(b){a(".k-upload-action",b).empty().hide()},_onFileAction:function(b){var c=this;if(!c.wrapper.hasClass("k-state-disabled")){var d=a(b.target).closest(".k-upload-action");var e=d.find(".k-icon");var f=d.closest(".k-file");var g=f.data("fileNames");var h=c._filesContainValidationErrors(g);var i={files:g,headers:{}};c._retryClicked=false;if(e.hasClass("k-i-x")){if(!c.trigger(s,i)){c._module.onRemove({target:a(f,c.wrapper)},i,!h)}}else if(e.hasClass("k-i-cancel")){c.trigger(n,i);c._module.onCancel({target:a(f,c.wrapper)});c._checkAllComplete();c._updateHeaderUploadStatus()}else if(e.hasClass("k-i-pause-sm")){c.trigger(p,i);c.pause(f);c._updateHeaderUploadStatus()}else if(e.hasClass("k-i-play-sm")){c.trigger(q,i);c.resume(f)}else if(e.hasClass("k-i-retry")){a(".k-i-warning",f).remove();a(".k-progress",f).finish().show();c._module.onRetry({target:a(f,c.wrapper)});c._retryClicked=true}}return false},_onUploadSelected:function(){var a=this;var b=a.wrapper;if(!b.hasClass("k-state-disabled")){this._module.onSaveSelected()}return false},_onClearSelected:function(){var a=this;var b=a.wrapper;var c={};if(!b.hasClass("k-state-disabled")&&!a.trigger(o,c)){a.clearAllFiles()}return false},_onFileProgress:function(b,c){var d;var e;if(c>100){c=100}if(!this.options.template){d=a(".k-upload-pct",b.target);e=a(".k-i-warning",b.target);if(e.length){e.removeClass("k-i-warning").removeClass("k-icon").addClass("k-upload-pct")}else if(d.length===0){a(".k-upload-status",b.target).prepend("<span class='k-upload-pct'></span>")}if(c!==100){a(".k-upload-pct",b.target).text(c+"%")}else{a(".k-upload-pct",b.target).remove()}a(".k-progress",b.target).width(c+"%")}else{a(".k-progress",b.target).width(c+"%")}this.trigger(r,{files:X(b).data("fileNames"),percentComplete:c})},_onUploadSuccess:function(a,b,c){var d=this;var e=X(a);var f=d.trigger(k,{files:e.data("fileNames"),response:b,operation:"upload",XMLHttpRequest:c});if(f){d._setUploadErrorState(e)}else{d._fileState(e,"uploaded");e.removeClass("k-file-progress").addClass("k-file-success");d._updateHeaderUploadStatus();if(d._supportsRemove()){d._fileAction(e,s)}else{d._clearFileAction(e)}}d._hideUploadProgress(e);d._checkAllComplete()},_onUploadError:function(a,b){var c=this;var d=c._module;var e=X(a);var g=e.data("uid");c._setUploadErrorState(e);c.trigger(l,{operation:"upload",files:e.data("fileNames"),XMLHttpRequest:b});f("Server response: "+b.responseText);if(!c.options.async.chunkSize){c._hideUploadProgress(e)}else{if(d._decreasePosition){d._decreasePosition(g)}}c._checkAllComplete();if(this.options.async.autoRetryAfter){this._autoRetryAfter(e)}},_autoRetryAfter:function(a){var b=this;var c=this._module.retries;if(!c){return}if(!c[a.data("uid")]){c[a.data("uid")]=1}if(c[a.data("uid")]<=this.options.async.maxAutoRetries){c[a.data("uid")]++;setTimeout(function(){b._module.performUpload(a)},this.options.async.autoRetryAfter)}},_setUploadErrorState:function(b){var c=this;var d;c._fileState(b,"failed");b.removeClass("k-file-progress").addClass("k-file-error");c._updateUploadProgress(b);d=a(".k-upload-pct",b);if(d.length>0){if(!d.parent().find(".k-i-warning").length){d.removeClass("k-upload-pct").addClass("k-icon k-i-warning")}d.empty()}else{a(".k-upload-status",b).prepend("<span class='k-icon k-i-warning'></span>")}this._updateHeaderUploadStatus();this._fileAction(b,"retry");this._fileAction(b,s,true);if(c._retryClicked){b.find(".k-i-retry").parent().focus()}},_updateUploadProgress:function(b){var c=this;if(!c.options.async.chunkSize){a(".k-progress",b).width("100%")}else{var d=b.data("uid");if(c._module.metaData){var e=c._module.metaData[d];if(e){var f=e.totalChunks?Math.round(e.chunkIndex/e.totalChunks*100):100;c._onFileProgress({target:a(b,c.wrapper)},f)}}}},_hideUploadProgress:function(b){a(".k-progress",b).delay(x).fadeOut(y,function(){a(this).css("width","0%")})},_showUploadButton:function(){var b=this;var c=a(".k-upload-selected",b.wrapper);var d=a(".k-clear-selected",b.wrapper);if(c.length===0){c=b._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected");d=b._renderAction("",this.localization.clearSelectedFiles).addClass("k-clear-selected")}this.wrapper.append(d,c)},
_hideUploadButton:function(){a(".k-upload-selected, .k-clear-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(b){var c=this;var d=c.localization;var e=a(".k-dropzone",c.wrapper);var f=a(".k-upload-status-total",c.wrapper);if(f.length!==0){f.remove()}f='<strong class="k-upload-status k-upload-status-total"><span class="k-icon"></span></strong>';if(b){f=a(f).append(d.headerStatusUploading);f.find(".k-icon").addClass(z.loading)}else{f=a(f).append(d.headerStatusUploaded);f.find(".k-icon").addClass(z.warning)}if(e.length>0){e.append(f)}else{a(".k-upload-button",c.wrapper).after(f)}},_updateHeaderUploadStatus:function(){var b=this;var c=a(".k-upload-status-total",this.wrapper);var d=a(".k-file",b.wrapper).not(".k-file-success, .k-file-error, .k-file-invalid");var e=a(".k-file-invalid",b.wrapper);var f=a(".k-file-error",b.wrapper);var g=a(".k-file",b.wrapper).find(".k-i-play-sm");var h,i;if(g.length&&(g.length===d.length||!b.options.async.concurrent)){i=a(".k-icon",c).removeClass().addClass("k-icon").addClass("k-i-pause-sm");c.html(i).append(b.localization.headerStatusPaused)}else if(d.length===0||e.length>0||f.length>0){h=a(".k-file.k-file-error, .k-file.k-file-invalid",b.wrapper);c=a(".k-upload-status-total",b.wrapper);i=a(".k-icon",c).removeClass().addClass("k-icon").addClass(h.length!==0?z.warning:z.success);c.html(i).append(b.localization.headerStatusUploaded)}},_hideHeaderUploadstatus:function(){a(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var b=this,c=b.element;if(typeof this._module.onAbort!=="undefined"){this._module.onAbort()}if(!c.value){var d=a(c);d.attr("disabled","disabled");window.setTimeout(function(){d.removeAttr("disabled")},0)}},_onParentFormReset:function(){a(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof FormData!="undefined"},_supportsMultiple:function(){var a=this._userAgent().indexOf("Windows")>-1;return!c.support.browser.opera&&!(c.support.browser.safari&&a)},_supportsDrop:function(){var a=this._userAgent().toLowerCase();var b=/chrome/.test(a);var c=!b&&/safari/.test(a);var d=c&&/windows/.test(a);return!d&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var b=this;a(".k-upload-button",b.wrapper).wrap("<div class='k-dropzone'></div>");var c=b._ns;var d=a(".k-dropzone",b.wrapper).append(a("<em>"+b.localization.dropFilesHere+"</em>")).on("dragenter"+c,U).on("dragover"+c,function(a){a.preventDefault()}).on("drop"+c,a.proxy(b._onDrop,b));V(d,c,function(){if(!d.closest(".k-upload").hasClass("k-state-disabled")){d.addClass("k-dropzone-hovered")}},function(){d.removeClass("k-dropzone-hovered")});b._bindDocumentDragEventWrappers(d)},_setupCustomDropZone:function(){var b=this;var c=a(b.options.dropZone);a(".k-upload-button",b.wrapper).wrap("<div class='k-dropzone'></div>").after(a("<em>"+b.localization.dropFilesHere+"</em>"));var d=b._ns;c.on("dragenter"+d,U).on("dragover"+d,function(a){a.preventDefault()}).on("drop"+d,a.proxy(b._onDrop,b));V(c,d,function(d){if(!b.wrapper.hasClass("k-state-disabled")){c.removeClass("k-dropzone-hovered");a(d.target).addClass("k-dropzone-hovered")}},function(){c.removeClass("k-dropzone-hovered");c.find(".k-dropzone-hovered").removeClass("k-dropzone-hovered")});b._bindDocumentDragEventWrappers(c)},_bindDocumentDragEventWrappers:function(b){var c=this;var d=c._ns;V(a(document),d,function(){if(!c.wrapper.hasClass("k-state-disabled")){b.addClass("k-dropzone-active");b.closest(".k-upload").removeClass("k-upload-empty")}},function(){b.removeClass("k-dropzone-active");if(a("li.k-file",b.closest(".k-upload")).length===0){b.closest(".k-upload").addClass("k-upload-empty")}})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(b,c,d,f){var g=this,h=g.options.async.removeField||"fileNames",i=a.extend(c.data,e());i[h]=b;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:T,url:this.options.async.removeUrl,traditional:true,data:i,headers:c.headers,success:d,error:f,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(a){var b=this;var c=b.options;a.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button' aria-label='"+this.localization.select+"'></div></div>");if(!c.async.saveUrl){a.closest(".k-upload").addClass("k-upload-sync")}a.closest(".k-upload").addClass("k-upload-empty");a.closest(".k-button").append("<span>"+this.localization.select+"</span>");return a.closest(".k-upload")},_checkAllComplete:function(){if(a(".k-file.k-file-progress",this.wrapper).length===0){this.trigger(m)}},_inputFiles:function(a){return F(a)}});var B=function(a){this.name="syncUploadModule";this.element=a.wrapper;this.upload=a;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};B.prototype={onSelect:function(b,c){var d=this.upload;var e=a(b.target);var f=d._filesContainValidationErrors(c);d._addInput(e);var g={fileNames:c};if(f){e.remove()}else{g.relatedInput=e}var h=d._enqueueFile(E(e),g);if(f){d._hideUploadProgress(h)}d._fileAction(h,s)},onRemove:function(a){var b=X(a);var c=b.data("relatedInput");if(c){c.remove()}this.upload._removeFileEntry(b)}};var C=function(a){this.name="iframeUploadModule";this.element=a.wrapper;this.upload=a;this.iframes=[]};A._frameId=0;C.prototype={onSelect:function(b,c){var d=this.upload;var e=a(b.target);var f=d._filesContainValidationErrors(c);var g=this.prepareUpload(e,c,f);if(d.options.async.autoUpload){if(!f){this.performUpload(g)}else{d._fileAction(g,s);d._showHeaderUploadStatus(false)}}else{d._fileAction(g,s);if(!f){d._showUploadButton()}else{d._updateHeaderUploadStatus()}}if(f){d._hideUploadProgress(g)}},prepareUpload:function(b,c,d){var e=this.upload;var f=a(e.element);var g=e.options.async.saveField||b.attr("name");var h,i,j,k;e._addInput(b);b.attr("name",g);if(!d){j=this.createFrame(e.name+"_"+A._frameId++);this.registerFrame(j);k=this.createForm(e.options.async.saveUrl,j.attr("name")).append(f);i={frame:j,relatedInput:f,fileNames:c}}else{b.remove();i={fileNames:c}}h=e._enqueueFile(E(b),i);if(j){j.data({form:k,file:h})}return h},performUpload:function(b){var c={files:b.data("fileNames")};var d=b.data("frame");var f=this.upload;if(!f.trigger(j,c)){f._hideUploadButton();f._showHeaderUploadStatus(true);d.appendTo(document.body);var g=d.data("form").attr("action",f.options.async.saveUrl).appendTo(document.body);c.data=a.extend({},c.data,e());for(var h in c.data){var i=g.find("input[name='"+h+"']");if(i.length===0){i=a("<input>",{type:"hidden",name:h}).prependTo(g)}i.val(c.data[h])}f._fileAction(b,n);f._fileState(b,"uploading");a(b).removeClass("k-file-error").addClass("k-file-progress");d.one("load",a.proxy(this.onIframeLoad,this));g[0].submit()}else{f._removeFileEntry(d.data("file"));this.cleanupFrame(d);this.unregisterFrame(d)}},onSaveSelected:function(){var b=this;var c=b.upload;a(".k-file",this.element).each(function(){var d=a(this);var e=W(d);var f=c._filesContainValidationErrors(d.data("fileNames"));if(!e&&!f){b.performUpload(d)}})},onIframeLoad:function(b){var c=a(b.target),d;try{d=c.contents().text()}catch(a){d="Error trying to get server response: "+a}this.processResponse(c,d)},processResponse:function(b,c){var d=b.data("file"),e=this,f={responseText:c};S(c,function(c){a.extend(f,{statusText:"OK",status:"200"});e.upload._onFileProgress({target:a(d,e.upload.wrapper)},100);e.upload._onUploadSuccess({target:a(d,e.upload.wrapper)},c,f);e.cleanupFrame(b);e.unregisterFrame(b)},function(){a.extend(f,{statusText:"error",status:"500"});e.upload._onUploadError({target:a(d,e.upload.wrapper)},f)})},onCancel:function(b){var c=a(b.target).data("frame");this.stopFrameSubmit(c);this.cleanupFrame(c);this.unregisterFrame(c);this.upload._removeFileEntry(c.data("file"))},onRetry:function(a){var b=X(a);this.performUpload(b)},onRemove:function(a,b,c){var d=this;var e=d.upload;var f=X(a);var g=f.data("frame");if(g){d.unregisterFrame(g);e._removeFileEntry(f);d.cleanupFrame(g)}else{if(f.hasClass("k-file-success")){R(f,e,b,c)}else{e._removeFileEntry(f)}}},onAbort:function(){var b=this.element,c=this;a.each(this.iframes,function(){a("input",this.data("form")).appendTo(b);c.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(b){return a("<iframe"+" name='"+b+"'"+" id='"+b+"'"+" style='display:none;' />")},createForm:function(b,c){return a("<form enctype='multipart/form-data' method='POST'"+" action='"+b+"'"+" target='"+c+"'"+"/>")},stopFrameSubmit:function(a){if(typeof a.stop!="undefined"){a.stop()}else if(a.document){a.document.execCommand("Stop")}},registerFrame:function(a){this.iframes.push(a)},unregisterFrame:function(b){this.iframes=a.grep(this.iframes,function(a){return a.attr("name")!=b.attr("name")})},cleanupFrame:function(a){var b=a.data("form");a.data("file").data("frame",null);setTimeout(function(){b.remove();a.remove()},1)}};var D=function(a){this.name="formDataUploadModule";this.element=a.wrapper;this.upload=a;this.position={};this.metaData={};this.cancelled={};this.resume={};this.paused={};this.retries={}};D.prototype={onSelect:function(b,c){var d=this.upload;var e=this;var f=a(b.target);var g=this.prepareUpload(f,c);var h;var i;a.each(g,function(b){h=d._filesContainValidationErrors(a(this.data("fileNames")));if(d.options.async.autoUpload){if(!h){if(d.options.async.chunkSize){e.prepareChunk(this);i=this.prev();if(d.options.async.concurrent||b===0&&!i.length||b===0&&i.hasClass("k-file-success")){e.performUpload(this)}}else{e.performUpload(this)}}else{d._fileAction(this,s);d._showHeaderUploadStatus(false)}}else{d._fileAction(this,s);if(!h){d._showUploadButton();this.addClass("k-toupload")}else{d._updateHeaderUploadStatus()}}if(h){d._hideUploadProgress(this)}})},prepareUpload:function(b,c){var d=this.enqueueFiles(c);if(b.is("input")){a.each(d,function(){a(this).data("relatedInput",b)});b.data("relatedFileEntries",d);this.upload._addInput(b)}return d},enqueueFiles:function(b){var c=this.upload;var d;var e;var f=b.length;var g;var h;var i=[];if(c.options.async.batch===true){d=a.map(b,function(a){return a.name}).join(", ");if(c.directory||c.options.directoryDrop){a(b).each(function(){if(this.rawFile.webkitRelativePath||this.rawFile.relativePath){this.name=this.rawFile.webkitRelativePath||this.rawFile.relativePath}})}h=c._enqueueFile(d,{fileNames:b});h.data("files",b);i.push(h)}else{for(e=0;e<f;e++){g=b[e];d=g.name;if(c.directory||c.options.directoryDrop){if(g.rawFile.webkitRelativePath||g.rawFile.relativePath){g.name=g.rawFile.webkitRelativePath||g.rawFile.relativePath}}h=c._enqueueFile(d,{fileNames:[g]});h.data("files",[g]);i.push(h)}}return i},performUpload:function(b){var c=this.upload,d=this.createFormData(),f=this.createXHR(),g={files:b.data("fileNames"),XMLHttpRequest:f},h;if(!c.trigger(j,g)){if(b.find(".k-i-cancel").length===0){if(c.options.async.chunkSize){c._fileAction(b,p)}c._fileAction(b,n,c.options.async.chunkSize)}if(!c.wrapper.find(".k-toupload").length){c._hideUploadButton()}c._showHeaderUploadStatus(true);if(g.formData){d=g.formData}else{g.data=a.extend({},g.data,e());for(var i in g.data){d.append(i,g.data[i])}h=b.data("files");if(h){this.populateFormData(d,h)}}c._fileState(b,"uploading");a(b).removeClass("k-file-error").addClass("k-file-progress");if(c.options.async.useArrayBuffer&&window.FileReader){this._readFile(c.options.async.saveUrl,d,b,f)}else{this.postFormData(c.options.async.saveUrl,d,b,f)}}else{this.removeFileEntry(b)}},_readFile:function(b,c,d,e){var f=this;var g=f.upload;var h=d.data("files")[0];var i=new FileReader;i.onload=function(i){try{if(!f.fileArrayBuffer){f.fileArrayBuffer=i.target.result}else{f.fileArrayBuffer=f._appendBuffer(f.fileArrayBuffer,i.target.result)}}catch(b){g._onUploadError({target:a(d,g.wrapper)},e);return}if(f.position[h.uid]>h.size){f.postFormData(g.options.async.saveUrl,f.fileArrayBuffer,d,e);f.fileArrayBuffer=null}else{f._readFile(b,c,d,e)}};i.onerror=function(){g._onUploadError({target:a(d,g.wrapper)},e)};i.readAsArrayBuffer(f._getCurrentChunk(h.rawFile,h.uid))},_appendBuffer:function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer},onSaveSelected:function(){var b=this;var c=b.upload;a(".k-toupload",this.element).filter(function(){var b=a(this);var d=W(b);var e=c._filesContainValidationErrors(b.data("fileNames"));return!d&&!e}).each(function(d){var e=a(this);var f=e.prev();e.removeClass("k-toupload");if(c.options.async.chunkSize){b.prepareChunk(e);if(c.options.async.concurrent||d===0&&!f.length||(d===0&&f.hasClass("k-file-success")||f.hasClass("k-file-error"))){b.performUpload(e)}}else{b.performUpload(e)}})},onCancel:function(a){var b=X(a);if(this.upload.options.async.chunkSize){this.cancelled[b.data("uid")]=true}this.stopUploadRequest(b);this.removeFileEntry(b)},onPause:function(a){var b=X(a);var c=b.data("uid");var d=this.upload.options.async;if(d.chunkSize){this.retries[c]=d.maxAutoRetries+1;this.paused[c]=true;this.resume[c]=false}},onResume:function(a){var b=X(a);var c=b.data("uid");if(this.upload.options.async.chunkSize){delete this.paused[c];this.resume[c]=true;this.retries[b.data("uid")]=1;this._increaseChunkIndex(c);this.performUpload(b)}},onRetry:function(a){var b=X(a);var c=this.upload.options.async;if(c.chunkSize){this.retries[b.data("uid")]=c.maxAutoRetries+1;delete this.paused[b.data("uid")]}this.performUpload(b)},onRemove:function(a,b,c){var d=this;var e=d.upload;var f=X(a);var g=this.upload.options.async;if(g.chunkSize){this.retries[f.data("uid")]=g.maxAutoRetries+1}if(f.hasClass("k-file-success")){R(f,e,b,c)}else{d.removeFileEntry(f)}},createXHR:function(){return new XMLHttpRequest},postFormData:function(a,b,c,d){var e=this;c.data("request",d);d.addEventListener("load",function(a){e.onRequestSuccess.call(e,a,c)},false);d.addEventListener(l,function(a){e.onRequestError.call(e,a,c)},false);d.upload.addEventListener("progress",function(a){e.onRequestProgress.call(e,a,c)},false);d.open("POST",a,true);d.withCredentials=this.upload.options.async.withCredentials;var f=this.upload.options.async.accept;if(f){d.setRequestHeader("Accept",f)}d.send(b)},createFormData:function(){return new FormData},populateFormData:function(a,b){var c;var d;var e=b.length;var f;var g=this.upload;if(g.options.async.chunkSize){f=b[0].uid;c=this._getCurrentChunk(b[0].rawFile,f);a.append(g.options.async.saveField||g.name,c);var h=JSON.stringify(this.metaData[f]);a.append("metadata",h)}else{for(d=0;d<e;d++){a.append(g.options.async.saveField||g.name,b[d].rawFile)}}return a},onRequestSuccess:function(b,c){var d=b.target,e=this;function f(){e.upload._onUploadError({target:a(c,e.upload.wrapper)},d)}function g(b){var f=e.upload.options.async.batch;var g=e.upload.options.async.chunkSize;var h=e.upload.options.async.concurrent;var i=b.fileUid;if(e.paused[i]||e.cancelled[i]){return}delete e.retries[i];if(g&&!f&&!b.uploaded){e._increaseChunkIndex(i);e.performUpload(c)}else if(g&&!f&&!h&&c.next().length&&!c.next().hasClass("k-toupload")){e.upload._onFileProgress({target:a(c,e.upload.wrapper)},100);e._resetChunkIndex(i);e.upload._onUploadSuccess({target:a(c,e.upload.wrapper)},b,d);e.performUpload(c.next())}else{e.upload._onFileProgress({target:a(c,e.upload.wrapper)},100);e.upload._onUploadSuccess({target:a(c,e.upload.wrapper)},b,d);e.cleanupFileEntry(c)}}if(d.status>=200&&d.status<=299){S(d.responseText,g,f)}else{f()}},onRequestError:function(b,c){var d=b.target;this.upload._onUploadError({target:a(c,this.upload.wrapper)},d)},cleanupFileEntry:function(b){var c=b.data("relatedInput"),d=true;if(c){a.each(c.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=b[0]){d=d&&this.hasClass("k-file-success")}});if(d){c.remove()}}},removeFileEntry:function(a){var b=this.upload.options.async.chunkSize;var c=this.upload.options.async.concurrent;var d=this.upload.wrapper.find(".k-upload-selected").length>0;this.cleanupFileEntry(a);if(b&&!c&&!d){if(a.next().length){this.performUpload(a.next())}}this.upload._removeFileEntry(a)},onRequestProgress:function(b,c){var d=Math.round(b.loaded*100/b.total);var e=c.data("uid");var f;if(this.upload.options.async.chunkSize){f=this.metaData[e];d=f&&f.totalChunks?Math.round(f.chunkIndex/f.totalChunks*100):100}this.upload._onFileProgress({target:a(c,this.upload.wrapper)},d)},stopUploadRequest:function(a){a.data("request").abort()},prepareChunk:function(a){var b=a.data("files")[0].rawFile;var c=a.data("files")[0].uid;var d=this.upload.options.async.chunkSize;this.position[c]=0;this.metaData[c]={chunkIndex:0,contentType:b.type,fileName:b.name,totalFileSize:b.size,totalChunks:Math.ceil(b.size/d),uploadUid:c}},_decreaseChunkIndex:function(a){this.metaData[a].chunkIndex--},_increaseChunkIndex:function(a){this.metaData[a].chunkIndex++},_resetChunkIndex:function(a){this.metaData[a].chunkIndex=0},_decreasePosition:function(a){this.position[a]-=this.upload.options.async.chunkSize},_getCurrentChunk:function(a,b){var c=this.position[b];var d;var e=this.upload.options.async;var f=e.chunkSize||e.bufferChunkSize;if(!this.position[b]){this.position[b]=0}this.position[b]+=f;if(!!(d=this._getChunker(a))){return a[d](c,this.position[b])}else{return a}},_getChunker:function(a){if(a.slice){return"slice"}else if(a.mozSlice){return"mozSlice"}else if(a.webkitSlice){return"webkitSlice"}else{return null}}};function E(b){return a.map(F(b),function(a){return a.name}).join(", ")}function F(a){var b=a[0];if(b.files){return G(b.files)}else{return[{name:J(b.value),extension:I(b.value),size:null}]}}function G(b){return a.map(b,function(a){return H(a)})}function H(a){var b=a.name||a.fileName;return{name:c.htmlEncode(b),extension:I(b),size:typeof a.size=="number"?a.size:a.fileSize,rawFile:a}}function I(a){var b=a.match(g);return b?b[0]:""}function J(a){var b=a.lastIndexOf("\\");return b!=-1?a.substr(b+1):a}function K(b,d){var e=c.guid();return a.map(b,function(a){a.uid=d?c.guid():e;return a})}function L(a,b){var c=M(b.allowedExtensions);var d=b.maxFileSize;var e=b.minFileSize;for(var f=0;f<a.length;f++){N(a[f],c);O(a[f],e,d)}}function M(b){var c=a.map(b,function(a){var b=a.substring(0,1)==="."?a:"."+a;return b.toLowerCase()});return c}function N(b,c){if(c.length>0){if(c.indexOf(b.extension.toLowerCase())<0){b.validationErrors=b.validationErrors||[];if(a.inArray(w,b.validationErrors)===-1){b.validationErrors.push(w)}}}}function O(b,c,d){if(c!==0&&b.size<c){b.validationErrors=b.validationErrors||[];if(a.inArray(v,b.validationErrors)===-1){b.validationErrors.push(v)}}if(d!==0&&b.size>d){b.validationErrors=b.validationErrors||[];if(a.inArray(u,b.validationErrors)===-1){b.validationErrors.push(u)}}}function P(a){var b=0;if(typeof a[0].size=="number"){for(var c=0;c<a.length;c++){if(a[c].size){b+=a[c].size}}}else{return""}b/=1024;if(b<1024){return b.toFixed(2)+" KB"}else{return(b/1024).toFixed(2)+" MB"}}function Q(b){return!b.multiple&&a(".k-file",b.wrapper).length>1}function R(b,c,d,e){if(!c._supportsRemove()){if(Q(c)||!e){c._removeFileEntry(b)}return}var g=b.data("fileNames");var h=a.map(g,function(a){return a.name});if(e===false){c._removeFileEntry(b);return}c._submitRemove(h,d,function a(d,e,f){var h=c.trigger(k,{operation:"remove",files:g,response:d,XMLHttpRequest:f});if(!h){c._removeFileEntry(b)}},function a(d){if(Q(c)){c._removeFileEntry(b)}c.trigger(l,{operation:"remove",files:g,XMLHttpRequest:d});f("Server response: "+d.responseText)})}function S(b,c,d){var e=false,f="";try{f=a.parseJSON(T(b));e=true}catch(a){d()}if(e){c(f)}}function T(a){if(typeof a==="undefined"||a===""){a="{}"}return a}function U(a){a.stopPropagation();a.preventDefault()}function V(a,b,c,d){var e,f;a.on("dragenter"+b,function(a){c(a);f=new Date;if(!e){e=setInterval(function(){var a=new Date-f;if(a>100){d();clearInterval(e);e=null}},100)}}).on("dragover"+b,function(){f=new Date})}function W(a){return a.is(".k-file-progress, .k-file-success, .k-file-error")}function X(b){return a(b.target).closest(".k-file")}c.ui.plugin(A)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.filebrowser",["kendo.listview","kendo.dropdownlist","kendo.upload"],a)})(function(){var a={id:"filebrowser",name:"FileBrowser",category:"web",description:"",hidden:true,depends:["selectable","listview","dropdownlist","upload"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.isPlainObject,f=a.proxy,g=a.extend,h=c.support.placeholder,i=c.support.browser,j=c.isFunction,k=/(^\/|\/$)/g,l="change",m="apply",n="error",o="click",p=".kendoFileBrowser",q=".kendoBreadcrumbs",r=".kendoSearchBox",s="name",t="size",u="type",v={field:u,dir:"asc"},w=c.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),x='<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap">'+'<div class="k-toolbar-wrap">'+"# if (showUpload) { # "+'<div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button">'+'<span class="k-icon k-i-plus"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div>'+"# } #"+"# if (showCreate) { #"+'<button type="button" class="k-button k-button-icon"><span class="k-icon k-i-folder-add" /></button>'+"# } #"+"# if (showDelete) { #"+'<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-i-close" /></button>&nbsp;'+"# } #"+"</div>"+'<div class="k-tiles-arrange">'+"<label>#=messages.orderBy#: <select /></label>"+"</div>"+"</div>";g(true,c.data,{schemas:{filebrowser:{data:function(a){return a.items||a||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});g(true,c.data,{transports:{filebrowser:c.data.RemoteTransport.extend({init:function(b){c.data.RemoteTransport.fn.init.call(this,a.extend(true,{},this.options,b))},_call:function(b,d){d.data=a.extend({},d.data,{path:this.options.path()});if(j(this.options[b])){this.options[b].call(this,d)}else{c.data.RemoteTransport.fn[b].call(this,d)}},read:function(a){this._call("read",a)},create:function(a){this._call("create",a)},destroy:function(a){this._call("destroy",a)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function y(a,b,c){var d,e;a.on("dragenter"+p,function(){b();e=new Date;if(!d){d=setInterval(function(){var a=new Date-e;if(a>100){c();clearInterval(d);d=null}},100)}}).on("dragover"+p,function(){e=new Date})}var z;if(i.msie&&i.version<8){z=function(a){return a.offsetTop}}else{z=function(b){return b.offsetTop-a(b).height()}}function A(a,c){if(a===b||!a.match(/\/$/)){a=(a||"")+"/"}return a+c}function B(a){if(!a){return""}var b=" bytes";if(a>=1073741824){b=" GB";a/=1073741824}else if(a>=1048576){b=" MB";a/=1048576}else if(a>=1024){b=" KB";a/=1024}return Math.round(a*100)/100+b}function C(a,b){var c=a[b];if(e(c)){return c.from||c.field||b}return c}var D=d.extend({init:function(a,b){var c=this;b=b||{};d.fn.init.call(c,a,b);c.element.addClass("k-filebrowser");c.element.on(o+p,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-close)",f(c._deleteClick,c)).on(o+p,".k-filebrowser-toolbar button:not(.k-state-disabled):has(.k-i-folder-add)",f(c._addClick,c)).on("keydown"+p,"li.k-state-selected input",f(c._directoryKeyDown,c)).on("blur"+p,"li.k-state-selected input",f(c._directoryBlur,c));c._dataSource();c.refresh();c.path(c.options.path)},options:{name:"FileBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.*"},events:[n,l,m],destroy:function(){var a=this;d.fn.destroy.call(a);a.dataSource.unbind(n,a._errorHandler);a.element.add(a.list).add(a.toolbar).off(p);c.destroy(a.element)},value:function(){var a=this,b=a._selectedItem(),d,e=a.options.transport.fileUrl;if(b&&b.get(u)==="f"){d=A(a.path(),b.get(s)).replace(k,"");if(e){d=j(e)?e(d):c.format(e,encodeURIComponent(d))}return d}},_selectedItem:function(){var a=this.listView,b=a.select();if(b.length){return this.dataSource.getByUid(b.attr(c.attr("uid")))}},_toolbar:function(){var b=this,d=c.template(x),e=b.options.messages,g=[{text:e.orderByName,value:"name"},{text:e.orderBySize,value:"size"}];b.toolbar=a(d({messages:e,showUpload:b.options.transport.uploadUrl,showCreate:b.options.transport.create,showDelete:b.options.transport.destroy})).appendTo(b.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:e.dropFilesHere},async:{saveUrl:b.options.transport.uploadUrl,autoUpload:true},upload:f(b._fileUpload,b),error:function(a){b._error({xhr:a.XMLHttpRequest,status:"error"})}}).end();b.upload=b.toolbar.find(".k-upload input").data("kendoUpload");b.arrangeBy=b.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:g,dataTextField:"text",dataValueField:"value",change:function(){b.orderBy(this.value())}}).data("kendoDropDownList");b._attachDropzoneEvents()},_attachDropzoneEvents:function(){var b=this;if(b.options.transport.uploadUrl){y(a(document.documentElement),a.proxy(b._dropEnter,b),a.proxy(b._dropLeave,b));b._scrollHandler=f(b._positionDropzone,b)}},_dropEnter:function(){this._positionDropzone();a(document).on("scroll"+p,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();a(document).off("scroll"+p,this._scrollHandler)},_positionDropzone:function(){var a=this,b=a.element,c=b.offset();a.toolbar.find(".k-dropzone").addClass("k-filebrowser-dropzone").offset(c).css({width:b[0].clientWidth,height:b[0].clientHeight,lineHeight:b[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-filebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var a=this,b=a.listView.select(),d=c.format(a.options.messages.deleteFile,b.find("strong").text());if(b.length&&a._showMessage(d,"confirm")){a.listView.remove(b)}},_addClick:function(){this.createDirectory()},_getFieldName:function(a){return C(this.dataSource.reader.model.fields,a)},_fileUpload:function(a){var b=this,d=b.options,e=d.fileTypes,f=new RegExp(("("+e.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),g=a.files[0].name,h=s,i=t,j;if(f.test(g)){a.data={path:b.path()};j=b._createFile(g);if(!j){a.preventDefault()}else{b.upload.one("success",function(a){var d=b._insertFileToList(j);d.set(h,a.response[b._getFieldName(h)]);d.set(i,a.response[b._getFieldName(i)]);b._tiles=b.listView.items().filter("["+c.attr("type")+"=f]")})}}else{a.preventDefault();b._showMessage(c.format(d.messages.invalidFileType,g,e))}},_findFile:function(a){var b=this.dataSource.data(),c,d,e=u,f=s,g;a=a.toLowerCase();for(c=0,g=b.length;c<g;c++){if(b[c].get(e)==="f"&&b[c].get(f).toLowerCase()===a){d=b[c];break}}return d},_createFile:function(a){var b=this,d={},e=u,f=b._findFile(a);if(f){if(!b._showMessage(c.format(b.options.messages.overwriteFile,a),"confirm")){return null}else{f._override=true;return f}}d[e]="f";d[s]=a;d[t]=0;return d},_insertFileToList:function(a){var b;if(a._override){return a}var c=this.dataSource;var d=c.view();for(var e=0,f=d.length;e<f;e++){if(d[e].get(u)==="f"){b=e;break}}return c.insert(++b,a)},createDirectory:function(){var a=this,b,d,e=0,f=u,g=s,h=a.dataSource.data(),i=a._nameDirectory(),j=new a.dataSource.reader.model;for(b=0,d=h.length;b<d;b++){if(h[b].get(f)==="d"){e=b}}j.set(f,"d");j.set(g,i);a.listView.one("dataBound",function(){var b=a.listView.items().filter("["+c.attr("uid")+"="+j.uid+"]"),d=b.find("input");if(b.length){this.edit(b)}this.element.scrollTop(b.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){d.select()})}).one("save",function(b){var c=b.model.get(g);if(!c){b.model.set(g,i)}else{b.model.set(g,a._nameExists(c,j.uid)?a._nameDirectory():c)}});a.dataSource.insert(++e,j)},_directoryKeyDown:function(a){if(a.keyCode==13){a.currentTarget.blur()}},_directoryBlur:function(){this.listView.save()},_nameExists:function(a,b){var c=this.dataSource.data(),d=u,e=s,f,g;for(f=0,g=c.length;f<g;f++){if(c[f].get(d)==="d"&&c[f].get(e).toLowerCase()===a.toLowerCase()&&c[f].uid!==b){return true}}return false},_nameDirectory:function(){var b="New folder",c=this.dataSource.data(),d=[],e=u,f=s,g,h,i;for(h=0,i=c.length;h<i;h++){if(c[h].get(e)==="d"&&c[h].get(f).toLowerCase().indexOf(b.toLowerCase())>-1){d.push(c[h].get(f))}}if(a.inArray(b,d)>-1){h=2;do{g=b+" ("+h+")";h++}while(a.inArray(g,d)>-1);b=g}return b},orderBy:function(a){this.dataSource.sort([{field:u,dir:"asc"},{field:a,dir:"asc"}])},search:function(a){this.dataSource.filter({field:s,operator:"contains",value:a})},_content:function(){var b=this;b.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(b.element).on("dblclick"+p,"li",f(b._dblClick,b));b.listView=new c.ui.ListView(b.list,{dataSource:b.dataSource,template:b._itemTmpl(),editTemplate:b._editTmpl(),selectable:true,autoBind:false,dataBinding:function(a){b.toolbar.find(".k-i-close").parent().addClass("k-state-disabled");if(a.action==="remove"||a.action==="sync"){a.preventDefault();c.ui.progress(b.listView.element,false)}},dataBound:function(){if(b.dataSource.view().length){b._tiles=this.items().filter("["+c.attr("type")+"=f]")}else{this.wrapper.append(w({text:b.options.messages.emptyFolder}))}},change:f(b._listViewChange,b)})},_dblClick:function(b){var d=this,e=a(b.currentTarget);if(e.hasClass("k-edit-item")){d._directoryBlur()}if(e.filter("["+c.attr("type")+"=d]").length){var f=d.dataSource.getByUid(e.attr(c.attr("uid")));if(f){d.path(A(d.path(),f.get(s)));d.breadcrumbs.value(d.path())}}else if(e.filter("["+c.attr("type")+"=f]").length){d.trigger(m)}},_listViewChange:function(){var a=this._selectedItem();if(a){this.toolbar.find(".k-i-close").parent().removeClass("k-state-disabled");this.trigger(l,{selected:a})}},_dataSource:function(){var a=this,b=a.options,d=b.transport,h=g({},v),i={field:s,dir:"asc"},j,k={type:d.type||"filebrowser",sort:[h,i]};if(e(d)){d.path=f(a.path,a);k.transport=d}if(e(b.schema)){k.schema=b.schema}else if(d.type&&e(c.data.schemas[d.type])){j=c.data.schemas[d.type]}if(a.dataSource&&a._errorHandler){a.dataSource.unbind(n,a._errorHandler)}else{a._errorHandler=f(a._error,a)}a.dataSource=c.data.DataSource.create(k).bind(n,a._errorHandler)},_navigation:function(){var b=this,c=a('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);b.breadcrumbs=c.find("input:first").kendoBreadcrumbs({value:b.options.path,change:function(){b.path(this.value())}}).data("kendoBreadcrumbs");b.searchBox=c.parent().find("input:last").kendoSearchBox({label:b.options.messages.search,change:function(){b.search(this.value())}}).data("kendoSearchBox")},_error:function(a){var b=this,c;if(!b.trigger(n,a)){c=a.xhr.status;if(a.status=="error"){if(c=="404"){b._showMessage(b.options.messages.directoryNotFound)}else if(c!="0"){b._showMessage("Error! The requested URL returned "+c+" - "+a.xhr.statusText)}}else if(c=="timeout"){b._showMessage("Error! Server timeout.")}var d=b.dataSource;if(d.hasChanges()){d.cancelChanges()}}},_showMessage:function(a,b){return window[b||"alert"](a)},refresh:function(){var a=this;a._navigation();a._toolbar();a._content()},_editTmpl:function(){var a='<li class="k-tile k-state-selected" '+c.attr("uid")+'="#=uid#" ';a+=c.attr("type")+'="${'+u+'}">';a+="#if("+u+' == "d") { #';a+='<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>';a+="#}else{#";a+='<div class="k-thumb"><span class="k-icon k-i-loading"></span></div>';a+="#}#";a+="#if("+u+' == "d") { #';a+='<input class="k-input" '+c.attr("bind")+'="value:'+s+'"/>';
a+="#}#";a+="</li>";return f(c.template(a),{sizeFormatter:B})},_itemTmpl:function(){var a='<li class="k-tile" '+c.attr("uid")+'="#=uid#" ';a+=c.attr("type")+'="${'+u+'}">';a+="#if("+u+' == "d") { #';a+='<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>';a+="#}else{#";a+='<div class="k-thumb"><span class="k-icon k-i-file"></span></div>';a+="#}#";a+="<strong>${"+s+"}</strong>";a+="#if("+u+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+t+")}</span> #}#";a+="</li>";return f(c.template(a),{sizeFormatter:B})},path:function(a){var c=this,d=c._path||"";if(a!==b){c._path=a.replace(k,"")+"/";c.dataSource.read({path:c._path});return}if(d){d=d.replace(k,"")}return d==="/"||d===""?"":d+"/"}});var E=d.extend({init:function(a,b){var c=this;b=b||{};d.fn.init.call(c,a,b);if(h){c.element.attr("placeholder",c.options.label)}c._wrapper();c.element.on("keydown"+r,f(c._keydown,c)).on("change"+r,f(c._updateValue,c));c.wrapper.on(o+r,"a",f(c._click,c));if(!h){c.element.on("focus"+r,f(c._focus,c)).on("blur"+r,f(c._blur,c))}},options:{name:"SearchBox",label:"Search",value:""},events:[l],destroy:function(){var a=this;a.wrapper.add(a.element).add(a.label).off(r);d.fn.destroy.call(a)},_keydown:function(a){if(a.keyCode===13){this._updateValue()}},_click:function(a){a.preventDefault();this._updateValue()},_updateValue:function(){var a=this,b=a.element.val();if(b!==a.value()){a.value(b);a.trigger(l)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!h){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var b=this.element,c=b.parents(".k-search-wrap");b[0].style.width="";b.addClass("k-input");if(!c.length){c=b.wrap(a('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!h){a('<label style="display:block">'+this.options.label+"</label>").insertBefore(b)}a('<a href="#" class="k-icon k-i-zoom k-search"/>').appendTo(c)}this.wrapper=c;this.label=c.find(">label")},value:function(a){var c=this;if(a!==b){c.options.value=a;c.element.val(a);c._toggleLabel();return}return c.options.value}});var F=d.extend({init:function(a,b){var c=this;b=b||{};d.fn.init.call(c,a,b);c._wrapper();c.wrapper.on("focus"+q,"input",f(c._focus,c)).on("blur"+q,"input",f(c._blur,c)).on("keydown"+q,"input",f(c._keydown,c)).on(o+q,"a.k-i-arrow-60-up:first",f(c._rootClick,c)).on(o+q,"a:not(.k-i-arrow-60-up)",f(c._click,c));c.value(c.options.value)},options:{name:"Breadcrumbs",gap:50},events:[l],destroy:function(){var a=this;d.fn.destroy.call(a);a.wrapper.add(a.wrapper.find("input")).add(a.wrapper.find("a")).off(q)},_update:function(a){a=(a||"").charAt(0)==="/"?a:"/"+(a||"");if(a!==this.value()){this.value(a);this.trigger(l)}},_click:function(b){b.preventDefault();this._update(this._path(a(b.target).prevAll("a:not(.k-i-arrow-60-up)").addBack()))},_rootClick:function(a){a.preventDefault();this._update("")},_focus:function(){var a=this,b=a.element;a.overlay.hide();a.element.val(a.value());setTimeout(function(){b.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var a=this,b=a.element,c=b.val().replace(/\/{2,}/g,"/");a.overlay.show();b.val("");a._update(c)},_keydown:function(a){var b=this;if(a.keyCode===13){b._blur();setTimeout(function(){b.overlay.find("a:first").focus()})}},_wrapper:function(){var b=this.element,c=b.parents(".k-breadcrumbs"),d;b[0].style.width="";b.addClass("k-input");if(!c.length){c=b.wrap(a('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()}d=c.find(".k-breadcrumbs-wrap");if(!d.length){d=a('<div class="k-breadcrumbs-wrap"/>').appendTo(c)}this.wrapper=c;this.overlay=d},refresh:function(){var c="",d=this.value(),e,f,g,h;if(d===b||!d.match(/^\//)){d="/"+(d||"")}e=d.split("/");for(g=0,h=e.length;g<h;g++){f=e[g];if(f){if(!c){c+='<a href="#" class="k-icon k-i-arrow-60-up" title="Go to parent folder"></a>'}c+='<a class="k-link" href="#">'+e[g]+"</a>";c+='<span class="k-icon k-i-arrow-60-right" title="Go to child folder"></span>'}}this.overlay.empty().append(a(c));this._adjustSectionWidth()},_adjustSectionWidth:function(){var b=this,c=b.wrapper,d=c.width()-b.options.gap,e=b.overlay.find("a"),f;e.each(function(b){f=a(this);if(f.parent().width()>d){if(b==e.length-1){f.width(d)}else{f.prev().addBack().hide()}}})},value:function(a){if(a!==b){this._value=a.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(b){return"/"+a.map(b,function(b){return a(b).text()}).join("/")}});c.ui.plugin(D);c.ui.plugin(F);c.ui.plugin(E)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.imagebrowser",["kendo.filebrowser"],a)})(function(){var a={id:"imagebrowser",name:"ImageBrowser",category:"web",description:"",hidden:true,depends:["filebrowser"]};(function(a,b){var c=window.kendo,d=c.ui.FileBrowser,e=a.isPlainObject,f=a.proxy,g=a.extend,h=c.support.browser,i=c.isFunction,j=/(^\/|\/$)/g,k="error",l=".kendoImageBrowser",m="name",n="size",o="type",p={field:o,dir:"asc"},q=c.template('<li class="k-tile-empty"><strong>${text}</strong></li>');g(true,c.data,{schemas:{imagebrowser:{data:function(a){return a.items||a||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});g(true,c.data,{transports:{imagebrowser:c.data.RemoteTransport.extend({init:function(b){c.data.RemoteTransport.fn.init.call(this,a.extend(true,{},this.options,b))},_call:function(b,d){d.data=a.extend({},d.data,{path:this.options.path()});if(i(this.options[b])){this.options[b].call(this,d)}else{c.data.RemoteTransport.fn[b].call(this,d)}},read:function(a){this._call("read",a)},create:function(a){this._call("create",a)},destroy:function(a){this._call("destroy",a)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var r;if(h.msie&&h.version<8){r=function(a){return a.offsetTop}}else{r=function(b){return b.offsetTop-a(b).height()}}function s(a,c){if(a===b||!a.match(/\/$/)){a=(a||"")+"/"}return a+c}function t(a){if(!a){return""}var b=" bytes";if(a>=1073741824){b=" GB";a/=1073741824}else if(a>=1048576){b=" MB";a/=1048576}else if(a>=1024){b=" KB";a/=1024}return Math.round(a*100)/100+b}var u=d.extend({init:function(a,b){var c=this;b=b||{};d.fn.init.call(c,a,b);c.element.addClass("k-imagebrowser")},options:{name:"ImageBrowser",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},value:function(){var a=this,b=a._selectedItem(),d,e=a.options.transport.imageUrl;if(b&&b.get(o)==="f"){d=s(a.path(),b.get(m)).replace(j,"");if(e){d=i(e)?e(d):c.format(e,encodeURIComponent(d))}return d}},_fileUpload:function(a){var b=this,d=b.options,e=d.fileTypes,f=new RegExp(("("+e.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),g=a.files[0].name,h=m,i=n,j;if(f.test(g)){a.data={path:b.path()};j=b._createFile(g);if(!j){a.preventDefault()}else{j._uploading=true;b.upload.one("success",function(a){delete j._uploading;var d=b._insertFileToList(j);d.set(h,a.response[b._getFieldName(h)]);d.set(i,a.response[b._getFieldName(i)]);b._tiles=b.listView.items().filter("["+c.attr("type")+"=f]");b._scroll()})}}else{a.preventDefault();b._showMessage(c.format(d.messages.invalidFileType,g,e))}},_content:function(){var b=this;b.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(b.element).on("scroll"+l,f(b._scroll,b)).on("dblclick"+l,"li",f(b._dblClick,b));b.listView=new c.ui.ListView(b.list,{dataSource:b.dataSource,template:b._itemTmpl(),editTemplate:b._editTmpl(),selectable:true,autoBind:false,dataBinding:function(a){b.toolbar.find(".k-i-close").parent().addClass("k-state-disabled");if(a.action==="remove"||a.action==="sync"){a.preventDefault();c.ui.progress(b.listView.element,false)}},dataBound:function(){if(b.dataSource.view().length){b._tiles=this.items().filter("["+c.attr("type")+"=f]");b._scroll()}else{this.wrapper.append(q({text:b.options.messages.emptyFolder}))}},change:f(b._listViewChange,b)})},_dataSource:function(){var a=this,b=a.options,d=b.transport,h=g({},p),i={field:m,dir:"asc"},j,l={type:d.type||"imagebrowser",sort:[h,i]};if(e(d)){d.path=f(a.path,a);l.transport=d}if(e(b.schema)){l.schema=b.schema}else if(d.type&&e(c.data.schemas[d.type])){j=c.data.schemas[d.type]}if(a.dataSource&&a._errorHandler){a.dataSource.unbind(k,a._errorHandler)}else{a._errorHandler=f(a._error,a)}a.dataSource=c.data.DataSource.create(l).bind(k,a._errorHandler)},_loadImage:function(b){var d=this,e=a(b),f=d.dataSource.getByUid(e.attr(c.attr("uid"))),g=f.get(m),h=d.options.transport.thumbnailUrl,j=a("<img />",{alt:g}),k="?";if(f._uploading){return}j.hide().on("load"+l,function(){a(this).prev().remove().end().addClass("k-image").fadeIn()});e.find(".k-i-loading").after(j);if(i(h)){h=h(d.path(),encodeURIComponent(g))}else{if(h.indexOf("?")>=0){k="&"}h=h+k+"path="+encodeURIComponent(d.path()+g);if(f._override){h+="&_="+(new Date).getTime();delete f._override}}j.attr("src",h);b.loaded=true},_scroll:function(){var a=this;if(a.options.transport&&a.options.transport.thumbnailUrl){clearTimeout(a._timeout);a._timeout=setTimeout(function(){var b=c._outerHeight(a.list),d=a.list.scrollTop(),e=d+b;a._tiles.each(function(){var b=r(this),c=b+this.offsetHeight;if(b>=d&&b<e||c>=d&&c<e){a._loadImage(this)}if(b>e){return false}});a._tiles=a._tiles.filter(function(){return!this.loaded})},250)}},_itemTmpl:function(){var a=this,b='<li class="k-tile" '+c.attr("uid")+'="#=uid#" ';b+=c.attr("type")+'="${'+o+'}">';b+="#if("+o+' == "d") { #';b+='<div class="k-thumb"><span class="k-icon k-i-folder"></span></div>';b+="#}else{#";if(a.options.transport&&a.options.transport.thumbnailUrl){b+='<div class="k-thumb"><span class="k-icon k-i-loading"></span></div>'}else{b+='<div class="k-thumb"><span class="k-icon k-i-file"></span></div>'}b+="#}#";b+="<strong>${"+m+"}</strong>";b+="#if("+o+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+n+")}</span> #}#";b+="</li>";return f(c.template(b),{sizeFormatter:t})}});c.ui.plugin(u)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.tabstrip",["kendo.data"],a)})(function(){var a={id:"tabstrip",name:"TabStrip",category:"web",description:"The TabStrip widget displays a collection of tabs with associated tab content.",depends:["data"],features:[{id:"tabstrip-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]};(function(a,b){var c=window.kendo,d=c.ui,e=c.keys,f=a.map,g=a.each,h=a.trim,i=a.extend,j=c.isFunction,k=c.template,l=c._outerWidth,m=c._outerHeight,n=d.Widget,o=/^(a|div)$/i,p=".kendoTabStrip",q="img",r="href",s="prev",t="next",u="show",v="k-link",w="k-last",x="click",y="error",z=":empty",A="k-image",B="k-first",C="select",D="activate",E="k-content",F="contentUrl",G="mouseenter",H="mouseleave",I="contentLoad",J="k-state-disabled",K="k-state-default",L="k-state-active",M="k-state-focused",N="k-state-hover",O="k-tab-on-top",P=".k-item:not(."+J+")",Q=".k-item",R=".k-tabstrip-items > "+P+":not(."+L+")",S=200,T={content:k("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:k("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>"+"#= image(item) ##= sprite(item) ##= text(item) #"+"</#= tag(item) #>"),item:k("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>"+"#= itemWrapper(data) #"+"</li>"),image:k("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:k("<span class='k-sprite #= spriteCssClass #'></span>"),empty:k("")},U={wrapperCssClass:function(a,b){var c="k-item",d=b.index;if(b.enabled===false){c+=" k-state-disabled"}else{c+=" k-state-default"}if(d===0){c+=" k-first"}if(d==a.length-1){c+=" k-last"}return c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},text:function(a){return a.encoded===false?a.text:c.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},contentAttributes:function(a){return a.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?c.attr("content-url")+'="'+a.contentUrl+'"':""}};function V(b){b.children(q).addClass(A);b.children("a").addClass(v).children(q).addClass(A);b.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(K);b.filter("li[disabled]").addClass(J).attr("aria-disabled","true").removeAttr("disabled");b.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(L+" "+O);b.attr("role","tab");b.filter("."+L).attr("aria-selected",true);b.each(function(){var b=a(this);if(!b.children("."+v).length){b.contents().filter(function(){return!this.nodeName.match(o)&&!(this.nodeType==3&&!h(this.nodeValue))}).wrapAll("<span UNSELECTABLE='on' class='"+v+"'/>")}})}function W(a){var b=a.children(".k-item");b.filter(".k-first:not(:first-child)").removeClass(B);b.filter(".k-last:not(:last-child)").removeClass(w);b.filter(":first-child").addClass(B);b.filter(":last-child").addClass(w)}function X(a,b){return"<span class='k-button k-button-icon k-bare k-tabstrip-"+a+"' unselectable='on'><span class='k-icon "+b+"'></span></span>"}var Y=n.extend({init:function(b,d){var e=this,f;n.fn.init.call(e,b,d);e._animations(e.options);d=e.options;e._contentUrls=d.contentUrls||[];e._wrapper();e._isRtl=c.support.isRtl(e.wrapper);e._tabindex();e._updateClasses();e._dataSource();if(d.dataSource){e.dataSource.fetch()}e._tabPosition();e._scrollable();if(e._contentUrls.length){e.wrapper.find(".k-tabstrip-items > .k-item").each(function(b,c){var d=e._contentUrls[b];if(typeof d==="string"){a(c).find(">."+v).data(F,d)}})}else{e._contentUrls.length=e.tabGroup.find("li.k-item").length}e.wrapper.on(G+p+" "+H+p,R,e._toggleHover).on("focus"+p,a.proxy(e._active,e)).on("blur"+p,function(){e._current(null)});e._keyDownProxy=a.proxy(e._keydown,e);if(d.navigatable){e.wrapper.on("keydown"+p,e._keyDownProxy)}if(e.options.value){f=e.options.value}e.wrapper.children(".k-tabstrip-items").on(x+p,".k-state-disabled .k-link",false).on(x+p," > "+P,function(b){var d=e.wrapper[0];if(d!==document.activeElement){var f=c.support.browser.msie;if(f){try{d.setActive()}catch(a){d.focus()}}else{d.focus()}}if(e._click(a(b.currentTarget))){b.preventDefault()}});var g=e.tabGroup.children("li."+L),h=e.contentHolder(g.index());if(g[0]&&h.length>0&&h[0].childNodes.length===0){e.activateTab(g.eq(0))}e.element.attr("role","tablist");if(e.element[0].id){e._ariaId=e.element[0].id+"_ts_active"}e.value(f);c.notify(e)},_active:function(){var a=this.tabGroup.children().filter("."+L);a=a[0]?a:this._endItem("first");if(a[0]){this._current(a)}},_endItem:function(a){return this.tabGroup.children(P)[a]()},_getItem:function(a){return this.tabGroup.children(Q)[a]()},_item:function(a,b){var c;if(b===s){c="last"}else{c="first"}if(!a){return this._endItem(c)}a=a[b]();if(!a[0]){a=this.tabGroup.children(Q)[c]()}if(a.hasClass(J)){a.addClass(M)}if(a.hasClass(J)||a.hasClass(L)){this._focused=a}return a},_current:function(a){var c=this,d=c._focused,e=c._ariaId;if(a===b){return d}if(d){c.tabGroup.children("#"+e).removeAttr("id");d.removeClass(M)}if(a){if(!a.hasClass(L)){a.addClass(M)}c.element.removeAttr("aria-activedescendant");e=a[0].id||e;if(e){a.attr("id",e);c.element.attr("aria-activedescendant",e)}}c._focused=a},_keydown:function(a){var b=this,c=a.keyCode,d=b._current(),f=b._isRtl,g=/top|bottom/.test(b.options.tabPosition),h;if(a.target!=a.currentTarget){return}if(c===e.DOWN&&!g){h=t}else if(c===e.UP&&!g){h=s}else if(c===e.RIGHT&&g){h=f?s:t}else if(c===e.LEFT&&g){h=f?t:s}else if(c==e.ENTER||c==e.SPACEBAR){b._click(d);a.preventDefault()}else if(c==e.HOME){b._click(b._getItem("first"));a.preventDefault();return}else if(c==e.END){b._click(b._getItem("last"));a.preventDefault();return}if(h){b._click(b._item(d,h));a.preventDefault()}},_dataSource:function(){var b=this;if(b.dataSource&&b._refreshHandler){b.dataSource.unbind("change",b._refreshHandler)}else{b._refreshHandler=a.proxy(b.refresh,b)}b.dataSource=c.data.DataSource.create(b.options.dataSource).bind("change",b._refreshHandler)},setDataSource:function(a){var b=this;b.options.dataSource=a;b._dataSource();b.dataSource.fetch()},_animations:function(a){if(a&&"animation"in a&&!a.animation){a.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(a){var b=this,d=b.options,e=c.getter(d.dataEncodedField),f=c.getter(d.dataTextField),g=c.getter(d.dataContentField),h=c.getter(d.dataContentUrlField),i=c.getter(d.dataImageUrlField),j=c.getter(d.dataUrlField),k=c.getter(d.dataSpriteCssClass),l,m=[],n,o,p=b.dataSource.view(),q;a=a||{};o=a.action;if(o){p=a.items}for(l=0,q=p.length;l<q;l++){n={text:f(p[l])};if(d.dataEncodedField){n.encoded=e(p[l])}if(d.dataContentField){n.content=g(p[l])}if(d.dataContentUrlField){n.contentUrl=h(p[l])}if(d.dataUrlField){n.url=j(p[l])}if(d.dataImageUrlField){n.imageUrl=i(p[l])}if(d.dataSpriteCssClass){n.spriteCssClass=k(p[l])}m[l]=n}if(a.action=="add"){if(a.index<b.tabGroup.children().length){b.insertBefore(m,b.tabGroup.children().eq(a.index))}else{b.append(m)}}else if(a.action=="remove"){for(l=0;l<p.length;l++){b.remove(a.index)}}else if(a.action=="itemchange"){l=b.dataSource.view().indexOf(p[0]);if(a.field===d.dataTextField){b.tabGroup.children().eq(l).find(".k-link").text(p[0].get(a.field))}if(a.field===d.dataUrlField){b._contentUrls[l]=p[0].get(a.field)}}else{b.trigger("dataBinding");b.remove("li");b._contentUrls=[];b.append(m);b.trigger("dataBound")}},value:function(c){var d=this;if(c!==b){if(c!=d.value()){d.tabGroup.children().each(function(){if(a.trim(a(this).text())==c){d.select(this)}})}}else{return d.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(a){var b=this,c=b.options.animation;b._animations(a);if(a.contentUrls){b._contentUrls=a.contentUrls}a.animation=i(true,c,a.animation);if(a.navigatable){b.wrapper.on("keydown"+p,b._keyDownProxy)}else{b.wrapper.off("keydown"+p,b._keyDownProxy)}n.fn.setOptions.call(b,a)},events:[C,D,u,y,I,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataEncodedField:"",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",tabPosition:"top",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false,navigatable:true,contentUrls:false,scrollable:{distance:S}},destroy:function(){var a=this,b=a.scrollWrap;n.fn.destroy.call(a);if(a._refreshHandler){a.dataSource.unbind("change",a._refreshHandler)}a.wrapper.off(p);a.wrapper.children(".k-tabstrip-items").off(p);if(a._scrollableModeActive){a._scrollPrevButton.off().remove();a._scrollNextButton.off().remove()}c.destroy(a.wrapper);b.children(".k-tabstrip").unwrap()},select:function(b){var c=this;if(arguments.length===0){return c.tabGroup.children("li."+L)}if(!isNaN(b)){b=c.tabGroup.children().get(b)}b=c.tabGroup.find(b);a(b).each(function(b,d){d=a(d);if(!d.hasClass(L)&&!c.trigger(C,{item:d[0],contentElement:c.contentHolder(d.index())[0]})){c.activateTab(d)}});return c},enable:function(a,b){this._toggleDisabled(a,b!==false);return this},disable:function(a){this._toggleDisabled(a,false);return this},reload:function(b){b=this.tabGroup.find(b);var c=this;var d=c._contentUrls;b.each(function(){var b=a(this),e=b.find("."+v).data(F)||d[b.index()],f=c.contentHolder(b.index());if(e){c.ajaxRequest(b,f,null,e)}});return c},append:function(a){var b=this,c=b._create(a);g(c.tabs,function(a){var d=c.contents[a];b.tabGroup.append(this);if(b.options.tabPosition=="bottom"){b.tabGroup.before(d)}else if(b._scrollableModeActive){b._scrollPrevButton.before(d)}else{b.wrapper.append(d)}b.angular("compile",function(){return{elements:[d]}})});W(b.tabGroup);b._updateContentElements();b.resize(true);return b},_appendUrlItem:function(a){this._contentUrls.push(a)},_moveUrlItem:function(a,b){this._contentUrls.splice(b,0,this._contentUrls.splice(a,1)[0])},_removeUrlItem:function(a){this._contentUrls.splice(a,1)},insertBefore:function(b,c){if(a(b).is(a(c))){c=this.tabGroup.find(c).next()}else{c=this.tabGroup.find(c)}var d=this,e=d._create(b),f=d.element.find("[id='"+c.attr("aria-controls")+"']");g(e.tabs,function(b){var g=e.contents[b];var h=e.newTabsCreated?d._contentUrls.length-(e.tabs.length-b):a(g).index()-1;c.before(this);f.before(g);d._moveUrlItem(h,a(this).index());d.angular("compile",function(){return{elements:[g]}})});W(d.tabGroup);d._updateContentElements(e.newTabsCreated);d.resize(true);return d},insertAfter:function(b,c){if(a(b).is(a(c))){c=this.tabGroup.find(c).prev()}else{c=this.tabGroup.find(c)}var d=this,e=d._create(b),f=d.element.find("[id='"+c.attr("aria-controls")+"']");g(e.tabs,function(b){var g=e.contents[b];var h=e.newTabsCreated?d._contentUrls.length-(e.tabs.length-b):a(g).index()-1;c.after(this);f.after(g);d._moveUrlItem(h,a(this).index());d.angular("compile",function(){return{elements:[g]}})});W(d.tabGroup);d._updateContentElements(e.newTabsCreated);d.resize(true);return d},remove:function(b){var d=this;var e=typeof b;var f;if(e==="string"){b=d.tabGroup.find(b)}else if(e==="number"){b=d.tabGroup.children().eq(b)}f=b.map(function(){var b=a(this).index();var e=d.contentElement(b);c.destroy(e);d._removeUrlItem(b);return e});b.remove();f.empty();f.remove();d._updateContentElements();d.resize(true);return d},_create:function(b){var d=this,e,g,h,j=false;b=b instanceof c.data.ObservableArray?b.toJSON():b;if(a.isPlainObject(b)||a.isArray(b)){b=a.isArray(b)?b:[b];j=true;e=f(b,function(c,e){d._appendUrlItem(b[e].contentUrl||null);return a(Y.renderItem({group:d.tabGroup,item:i(c,{index:e})}))});g=f(b,function(b,c){if(typeof b.content=="string"||b.contentUrl){return a(Y.renderContent({item:i(b,{index:c})}))}})}else{if(typeof b=="string"&&b[0]!="<"){e=d.element.find(b)}else{e=a(b)}g=a();e.each(function(){if(/k-tabstrip-items/.test(this.parentNode.className)){var b=d.element.find("[id='"+this.getAttribute("aria-controls")+"']");h=b}else{h=a("<div class='"+E+"'/>")}g=g.add(h)});V(e)}return{tabs:e,contents:g,newTabsCreated:j}},_toggleDisabled:function(b,c){b=this.tabGroup.find(b);b.each(function(){a(this).toggleClass(K,c).toggleClass(J,!c).attr("aria-disabled",!c)})},_updateClasses:function(){var c=this,d,e,f;c.wrapper.addClass("k-widget k-header k-tabstrip");c.tabGroup=c.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!c.tabGroup[0]){c.tabGroup=a("<ul class='k-tabstrip-items k-reset'/>").appendTo(c.wrapper)}d=c.tabGroup.find("li").addClass("k-item");if(d.length){e=d.filter("."+L).index();f=e>=0?e:b;c.tabGroup.contents().filter(function(){return this.nodeType==3&&!h(this.nodeValue)}).remove()}if(e>=0){d.eq(e).addClass(O)}c.contentElements=c.wrapper.children("div");c.contentElements.addClass(E).eq(f).addClass(L).css({display:"block"});if(d.length){V(d);W(c.tabGroup);c._updateContentElements(true)}},_elementId:function(a,b){var d=a.attr("id");var e=this.element.attr("id");if(!d||d.indexOf(e+"-")>-1){var f=(e||c.guid())+"-";return f+(b+1)}return d},_updateContentElements:function(b){var d=this,e=d._contentUrls,f=d.tabGroup.children(".k-item"),g=d.wrapper.children("div"),h=d._elementId.bind(d);if(g.length&&f.length>g.length){g.each(function(c){var d=h(a(this),c);var e=f.filter("[aria-controls="+(this.id||0)+"]")[0];if(!e&&b){e=f[c]}if(e){e.setAttribute("aria-controls",d)}this.setAttribute("id",d)})}else{f.each(function(b){var c=g.eq(b);var f=h(c,b);this.setAttribute("aria-controls",f);if(!c.length&&e[b]){a("<div class='"+E+"'/>").appendTo(d.wrapper).attr("id",f)}else{c.attr("id",f);if(!a(this).children(".k-loading")[0]&&!e[b]){a("<span class='k-loading k-complete'/>").prependTo(this)}}c.attr("role","tabpanel");c.filter(":not(."+L+")").attr("aria-hidden",true).attr("aria-expanded",false);c.filter("."+L).attr("aria-expanded",true)})}d.contentElements=d.contentAnimators=d.wrapper.children("div");d.tabsHeight=m(d.tabGroup)+parseInt(d.wrapper.css("border-top-width"),10)+parseInt(d.wrapper.css("border-bottom-width"),10);if(c.kineticScrollNeeded&&c.mobile.ui.Scroller){c.touchScroller(d.contentElements);d.contentElements=d.contentElements.children(".km-scroll-container")}},_wrapper:function(){var a=this;if(a.element.is("ul")){a.wrapper=a.element.wrapAll("<div />").parent()}else{a.wrapper=a.element}a.scrollWrap=a.wrapper.parent(".k-tabstrip-wrapper");if(!a.scrollWrap[0]){a.scrollWrap=a.wrapper.wrapAll("<div class='k-tabstrip-wrapper' />").parent()}},_tabPosition:function(){var a=this,b=a.options.tabPosition;a.wrapper.addClass("k-floatwrap k-tabstrip-"+b);if(b=="bottom"){a.tabGroup.appendTo(a.wrapper)}a.resize(true)},_setContentElementsDimensions:function(){var a=this,b=a.options.tabPosition;if(b=="left"||b=="right"){var c=a.wrapper.children(".k-content"),d=c.filter(":visible"),e="margin-"+b,f=a.tabGroup,g=l(f);var h=Math.ceil(f.height())-parseInt(d.css("padding-top"),10)-parseInt(d.css("padding-bottom"),10)-parseInt(d.css("border-top-width"),10)-parseInt(d.css("border-bottom-width"),10);setTimeout(function(){c.css(e,g).css("min-height",h)})}},_resize:function(){this._setContentElementsDimensions();this._scrollable()},_sizeScrollWrap:function(a){if(a.is(":visible")){var b=this.options.tabPosition;var c=Math.floor(m(a,true))+(b==="left"||b==="right"?2:this.tabsHeight);this.scrollWrap.css("height",c).css("height")}},_toggleHover:function(b){a(b.currentTarget).toggleClass(N,b.type==G)},_click:function(a){var b=this,c=a.find("."+v),d=c.attr(r),e=b.options.collapsible,f=a.index(),g=b.contentHolder(f),h,i,j=a.parent().children(),k=j.filter("."+M);if(a.closest(".k-widget")[0]!=b.wrapper[0]){return}if(a.is("."+J+(!e?",."+L:""))){k.removeClass(M);b._focused=a;a.addClass(M);b._current(a);if(b._scrollableModeActive){b._scrollTabsToItem(a)}return true}i=c.data(F)||b._contentUrls[f]||d&&(d.charAt(d.length-1)=="#"||d.indexOf("#"+b.element[0].id+"-")!=-1);h=!d||i;if(b.tabGroup.children("[data-animating]").length){return h}if(b.trigger(C,{item:a[0],contentElement:g[0]})){return true}if(h===false){return}if(e&&a.is("."+L)){b.deactivateTab(a);return true}if(b.activateTab(a)){h=true}return h},_scrollable:function(){var a=this,b=a.options,d,e,f,g;if(a._scrollableAllowed()){a.wrapper.addClass("k-tabstrip-scrollable");d=a.wrapper[0].offsetWidth;e=a.tabGroup[0].scrollWidth;if(e>d&&!a._scrollableModeActive){a._nowScrollingTabs=false;a._isRtl=c.support.isRtl(a.element);var h=c.support.mobileOS?"touchstart":"mousedown";var i=c.support.mobileOS?"touchend":"mouseup";a.wrapper.append(X("prev","k-i-arrow-60-left")+X("next","k-i-arrow-60-right"));f=a._scrollPrevButton=a.wrapper.children(".k-tabstrip-prev");g=a._scrollNextButton=a.wrapper.children(".k-tabstrip-next");a.tabGroup.css({marginLeft:l(f)+9,marginRight:l(g)+12});f.on(h+p,function(){a._nowScrollingTabs=true;a._scrollTabsByDelta(b.scrollable.distance*(a._isRtl?1:-1))});g.on(h+p,function(){a._nowScrollingTabs=true;a._scrollTabsByDelta(b.scrollable.distance*(a._isRtl?-1:1))});f.add(g).on(i+p,function(){a._nowScrollingTabs=false});a._scrollableModeActive=true;a._toggleScrollButtons()}else if(a._scrollableModeActive&&e<=d){a._scrollableModeActive=false;a.wrapper.removeClass("k-tabstrip-scrollable");a._scrollPrevButton.off().remove();a._scrollNextButton.off().remove();a.tabGroup.css({marginLeft:"",marginRight:""})}else if(!a._scrollableModeActive){a.wrapper.removeClass("k-tabstrip-scrollable")}else{a._toggleScrollButtons()}}},_scrollableAllowed:function(){var a=this.options;if(a.scrollable&&!a.scrollable.distance){a.scrollable={distance:S}}return a.scrollable&&!isNaN(a.scrollable.distance)&&(a.tabPosition=="top"||a.tabPosition=="bottom")},_scrollTabsToItem:function(a){var b=this,c=b.tabGroup,d=c.scrollLeft(),e=l(a),f=b._isRtl?a.position().left:a.position().left-c.children().first().position().left,g=c[0].offsetWidth,h=Math.ceil(parseFloat(c.css("padding-left"))),i;if(b._isRtl){if(f<0){i=d+f-(g-d)-h}else if(f+e>g){i=d+f-e+h*2}}else{if(d+g<f+e){i=f+e-g+h*2}else if(d>f){i=f-h}}c.finish().animate({scrollLeft:i},"fast","linear",function(){b._toggleScrollButtons()})},_scrollTabsByDelta:function(a){var b=this;var c=b.tabGroup;var d=c.scrollLeft();c.finish().animate({scrollLeft:d+a},"fast","linear",function(){if(b._nowScrollingTabs&&!jQuery.fx.off){b._scrollTabsByDelta(a)}else{b._toggleScrollButtons()}})},_toggleScrollButtons:function(){var a=this,b=a.tabGroup,c=b.scrollLeft();a._scrollPrevButton.toggle(a._isRtl?c<b[0].scrollWidth-b[0].offsetWidth-1:c!==0);a._scrollNextButton.toggle(a._isRtl?c!==0:c<b[0].scrollWidth-b[0].offsetWidth-1)},deactivateTab:function(a){var b=this,d=b.options.animation,e=d.open,f=i({},d.close),g=f&&"effects"in f;a=b.tabGroup.find(a);f=i(g?f:i({reverse:true},e),{hide:true});if(c.size(e.effects)){a.kendoAddClass(K,{duration:e.duration});a.kendoRemoveClass(L,{duration:e.duration})}else{a.addClass(K);a.removeClass(L)}a.removeAttr("aria-selected");b.contentAnimators.filter("."+L).kendoStop(true,true).kendoAnimate(f).removeClass(L).attr("aria-hidden",true)},activateTab:function(a){if(this.tabGroup.children("[data-animating]").length){return}a=this.tabGroup.find(a);var b=this,d=b.options.animation,e=d.open,f=i({},d.close),g=f&&"effects"in f,h=a.parent().children(),j=h.filter("."+L),k=h.index(a),l=e&&"duration"in e&&"effects"in e;f=i(g?f:i({reverse:true},e),{hide:true});if(c.size(e.effects)){j.kendoRemoveClass(L,{duration:f.duration});a.kendoRemoveClass(N,{duration:f.duration})}else{j.removeClass(L);a.removeClass(N)}var n=b.contentAnimators;if(b.inRequest){b.xhr.abort();b.inRequest=false}if(n.length===0){b.tabGroup.find("."+O).removeClass(O);a.addClass(O).css("z-index");a.addClass(L);b._current(a);b.trigger("change");if(b._scrollableModeActive){b._scrollTabsToItem(a)}return false}var o=n.filter("."+L),p=b.contentHolder(k),q=p.closest(".k-content");b.tabsHeight=m(b.tabGroup)+parseInt(b.wrapper.css("border-top-width"),10)+parseInt(b.wrapper.css("border-bottom-width"),10);b._sizeScrollWrap(o);if(p.length===0){o.removeClass(L).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(f);return false}a.attr("data-animating",true);var r=(a.children("."+v).data(F)||b._contentUrls[k]||false)&&p.is(z),s=function(){j.removeAttr("aria-selected");a.attr("aria-selected",true);b._current(a);b._sizeScrollWrap(q);q.addClass(L).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(i({init:function(){b.trigger(u,{item:a[0],contentElement:p[0]});c.resize(p)}},e,{complete:function(){a.removeAttr("data-animating");b.trigger(D,{item:a[0],contentElement:p[0]});c.resize(p);b.scrollWrap.css("height","").css("height");if(l&&(c.support.browser.msie||c.support.browser.edge)){p.finish().animate({opacity:.9},"fast","linear",function(){p.finish().animate({opacity:1},"fast","linear")})}}}))},t=function(){if(!r){s();b.trigger("change")}else{a.removeAttr("data-animating");b.ajaxRequest(a,p,function(){a.attr("data-animating",true);s();b.trigger("change")})}if(b._scrollableModeActive){b._scrollTabsToItem(a)}};o.removeClass(L);b.tabGroup.find("."+O).removeClass(O);a.addClass(O).css("z-index");if(c.size(e.effects)){j.kendoAddClass(K,{duration:e.duration});a.kendoAddClass(L,{duration:e.duration})}else{j.addClass(K);a.addClass(L)}o.attr("aria-hidden",true);o.attr("aria-expanded",false);if(o.length){o.kendoStop(true,true).kendoAnimate(i({complete:t},f))}else{t()}return true},contentElement:function(d){if(isNaN(d-0)){return b}var e=this.contentElements&&this.contentElements[0]&&!c.kineticScrollNeeded?this.contentElements:this.contentAnimators;var f=a(this.tabGroup.children()[d]).attr("aria-controls");if(e){for(var g=0,h=e.length;g<h;g++){if(e.eq(g).closest(".k-content")[0].id==f){return e[g]}}}return b},contentHolder:function(b){var d=a(this.contentElement(b)),e=d.children(".km-scroll-container");return c.support.touch&&e[0]?e:d},ajaxRequest:function(b,d,e,f){b=this.tabGroup.find(b);var g=this,h=a.ajaxSettings.xhr,i=b.find("."+v),k={},l=b.width()/2,m=false,n=b.find(".k-loading").removeClass("k-complete");if(!n[0]){
n=a("<span class='k-loading'/>").prependTo(b)}var o=l*2-n.width();var p=function(){n.animate({marginLeft:(parseInt(n.css("marginLeft"),10)||0)<l?o:0},500,p)};if(c.support.browser.msie&&c.support.browser.version<10){setTimeout(p,40)}f=f||i.data(F)||g._contentUrls[b.index()]||i.attr(r);g.inRequest=true;var q={type:"GET",cache:false,url:f,dataType:"html",data:k,xhr:function(){var b=this,c=h(),d=b.progressUpload?"progressUpload":b.progress?"progress":false;if(c){a.each([c,c.upload],function(){if(this.addEventListener){this.addEventListener("progress",function(a){if(d){b[d](a)}},false)}})}b.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest);return c},progress:function(a){if(a.lengthComputable){var b=parseInt(a.loaded/a.total*100,10)+"%";n.stop(true).addClass("k-progress").css({width:b,marginLeft:0})}},error:function(a,b){if(g.trigger("error",{xhr:a,status:b})){this.complete()}},stopProgress:function(){clearInterval(m);n.stop(true).addClass("k-progress")[0].style.cssText=""},complete:function(a){g.inRequest=false;if(this.noProgress){setTimeout(this.stopProgress,500)}else{this.stopProgress()}if(a.statusText=="abort"){n.remove()}},success:function(a){n.addClass("k-complete");try{var h=this,i=10;if(h.noProgress){n.width(i+"%");m=setInterval(function(){h.progress({lengthComputable:true,loaded:Math.min(i,100),total:100});i+=10},40)}g.angular("cleanup",function(){return{elements:d.get()}});c.destroy(d);d.html(a)}catch(a){var j=window.console;if(j&&j.error){j.error(a.name+": "+a.message+" in "+f)}this.error(this.xhr,"error")}if(e){e.call(g,d)}g.angular("compile",function(){return{elements:d.get()}});g.trigger(I,{item:b[0],contentElement:d[0]})}};if(typeof f==="object"){q=a.extend(true,{},q,f);if(j(q.url)){q.url=q.url()}}g.xhr=a.ajax(q)}});i(Y,{renderItem:function(a){a=i({tabStrip:{},group:{}},a);var b=T.empty,c=a.item;return T.item(i(a,{image:c.imageUrl?T.image:b,sprite:c.spriteCssClass?T.sprite:b,itemWrapper:T.itemWrapper},U))},renderContent:function(a){return T.content(i(a,U))}});c.ui.plugin(Y)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("util/undoredostack",["kendo.core"],a)})(function(){(function(a){var b=a.Observable.extend({init:function(b){a.Observable.fn.init.call(this,b);this.clear()},events:["undo","redo"],push:function(a){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(a)-1},undo:function(){if(this.canUndo()){var a=this.stack[this.currentCommandIndex--];a.undo();this.trigger("undo",{command:a})}},redo:function(){if(this.canRedo()){var a=this.stack[++this.currentCommandIndex];a.redo();this.trigger("redo",{command:a})}},clear:function(){this.stack=[];this.currentCommandIndex=-1},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});a.deepExtend(a,{util:{UndoRedoStack:b}})})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/main",["util/undoredostack","kendo.combobox","kendo.dropdownlist","kendo.window","kendo.colorpicker"],a)})(function(){(function(a,b){var c=window.kendo,d=c.Class,e=c.ui.Widget,f=c.support.mobileOS,g=c.support.browser,h=a.extend,i=a.proxy,j=c.deepExtend,k=c.keys;var l="select";var m="select.k-select-overlay";var n=d.extend({init:function(a){this.options=a},getHtml:function(){var a=this.options;return c.template(a.template,{useWithBlock:false})(a)}});var o={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody>'+'<tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr>'+'<tr><td class="k-editable-area" /></tr>'+"</tbody></table>",buttonTemplate:'# var iconCssClass= "k-icon k-i-" + kendo.toHyphens(data.cssClass.replace("k-", ""));#'+'<a tabindex="0" role="button" class="k-tool"'+'#= data.popup ? " data-popup" : "" #'+' unselectable="on" title="#= data.title #"><span unselectable="on" class="k-tool-icon #= iconCssClass #"></span><span class="k-tool-text">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker k-icon k-i-#= data.cssClass.replace("k-", "") #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',overflowAnchorTemplate:'<a tabindex="0" role="button" class="k-tool k-overflow-anchor" data-popup'+' unselectable="on" title="#= data.title #" aria-haspopup="true" aria-expanded="false">'+'<span unselectable="on" class="k-icon k-i-more-vertical"></span><span class="k-tool-text">#= data.title #</span></a>',formatByName:function(b,c){for(var d=0;d<c.length;d++){if(a.inArray(b,c[d].tags)>=0){return c[d]}}},getToolCssClass:function(a){var b={superscript:"sup-script",subscript:"sub-script",justifyLeft:"align-left",justifyCenter:"align-center",justifyRight:"align-right",justifyFull:"align-justify",insertUnorderedList:"list-unordered",insertOrderedList:"list-ordered",import:"login",indent:"indent-increase",outdent:"indent-decrease",createLink:"link-horizontal",unlink:"unlink-horizontal",insertImage:"image",insertFile:"file-add",viewHtml:"html",foreColor:"foreground-color",backColor:"paint",createTable:"table-insert",addColumnLeft:"table-column-insert-left",addColumnRight:"table-column-insert-right",addRowAbove:"table-row-insert-above",addRowBelow:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",tableWizard:"table-properties",tableWizardInsert:"table-wizard",cleanFormatting:"clear-css"};var c=b[a];if(c){return c}return a},registerTool:function(a,b){var c=b.options;if(c&&c.template){c.template.options.cssClass="k-"+o.getToolCssClass(a)}if(!b.name){b.options.name=a;b.name=a.toLowerCase()}s.defaultTools[a]=b},registerFormat:function(a,b){s.fn.options.formats[a]=b},cacheComments:function(a,b){for(var c in b){a=a.replace(b[c],"{"+c+"}")}return a},retrieveComments:function(a,b){for(var c in b){a=a.replace("{"+c+"}",b[c])}return a}};var p={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertFile:"Insert file",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",editAreaTitle:"Editable area. Press F10 for toolbar.",uploadFile:"Upload",overflowAnchor:"More tools",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",fileWebAddress:"Web address",fileTitle:"Title",fileText:"Text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogOk:"Ok",dialogCancel:"Cancel",cleanFormatting:"Clean formatting",createTable:"Create a table",createTableHint:"Create a {0} x {1} table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column",tableWizard:"Table Wizard",tableTab:"Table",cellTab:"Cell",accessibilityTab:"Accessibility",caption:"Caption",summary:"Summary",width:"Width",height:"Height",units:"Units",cellSpacing:"Cell Spacing",cellPadding:"Cell Padding",cellMargin:"Cell Margin",alignment:"Alignment",background:"Background",cssClass:"CSS Class",id:"ID",border:"Border",borderStyle:"Border Style",collapseBorders:"Collapse borders",wrapText:"Wrap text",associateCellsWithHeaders:"Associate cells with headers",alignLeft:"Align Left",alignCenter:"Align Center",alignRight:"Align Right",alignLeftTop:"Align Left Top",alignCenterTop:"Align Center Top",alignRightTop:"Align Right Top",alignLeftMiddle:"Align Left Middle",alignCenterMiddle:"Align Center Middle",alignRightMiddle:"Align Right Middle",alignLeftBottom:"Align Left Bottom",alignCenterBottom:"Align Center Bottom",alignRightBottom:"Align Right Bottom",alignRemove:"Remove Alignment",columns:"Columns",rows:"Rows",selectAllCells:"Select All Cells",exportAs:"Export As",import:"Import"};var q=!f||f.ios&&f.flatVersion>=500||!f.ios&&typeof document.documentElement.contentEditable!="undefined";var r={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["tableWizard","createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]};var s=e.extend({init:function(d,f){var g=this,k,l=c.ui.editor,m,n,p,r;var s;var t=l.Dom;if(!q){return}e.fn.init.call(g,d,f);g.options=j({},g.options,f);g.options.tools=g.options.tools.slice();d=g.element;s=d[0];p=t.name(s);this._registerHandler(d.closest("form"),"submit",i(g.update,g,b));n=h({},g.options);n.editor=g;if(p=="textarea"){g._wrapTextarea();m=g.wrapper.find(".k-editor-toolbar");if(s.id){m.attr("aria-controls",s.id)}}else{g.element.attr("contenteditable",true).addClass("k-widget k-editor k-editor-inline");n.popup=true;m=a('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(d)}g.toolbar=new l.Toolbar(m[0],n);g.toolbar.bindTo(g);if(p=="textarea"){setTimeout(function(){var a=g.wrapper[0].style.height;var b=parseInt(a,10);var c=g.wrapper.height();if(a.indexOf("px")>0&&!isNaN(b)&&c>b){g.wrapper.height(b-(c-b))}})}g._resizable();g._initializeContentElement(g);g.keyboard=new l.Keyboard([new l.BackspaceHandler(g),new l.TypingHandler(g),new l.SystemHandler(g),new l.SelectAllHandler(g)]);g.clipboard=new l.Clipboard(this);g.undoRedoStack=new c.util.UndoRedoStack;if(f&&f.value){k=f.value}else if(g.textarea){k=s.value;if(g.options.encoded&&a.trim(s.defaultValue).length){k=s.defaultValue}r=t.getAllComments(a("<div></div>").html(k)[0]);k=o.cacheComments(k,r);k=k.replace(/[\r\n\v\f\t ]+/gi," ");k=o.retrieveComments(k,r)}else{k=s.innerHTML}g.value(k||c.ui.editor.emptyElementContent);this._registerHandler(document,{mousedown:function(){g._endTyping()},mouseup:function(a){g._mouseup(a)}});g._initializeImmutables();g.toolbar.resize();c.notify(g)},setOptions:function(a){var b=this;e.fn.setOptions.call(b,a);if(a.tools){b.toolbar.bindTo(b)}},_endTyping:function(){var a=this.keyboard;try{if(a.isTypingInProgress()){a.endTyping(true);this.saveSelection()}}catch(a){}},_selectionChange:function(){this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_resizable:function(){var d=this.options.resizable;var e=a.isPlainObject(d)?d.content===b||d.content===true:d;if(e&&this.textarea){a("<div class='k-resize-handle'><span class='k-icon k-i-arrow-45-down-right' /></div>").insertAfter(this.textarea);this.wrapper.addClass("k-resizable");this.wrapper.kendoResizable(h({},this.options.resizable,{start:function(b){var c=this.editor=a(b.currentTarget).closest(".k-editor");this.initialSize=c.height();c.find("td:last").append("<div class='k-overlay' />")},resize:function(a){var b=a.y.initialDelta;var c=this.initialSize+b;var d=this.options.min||0;var e=this.options.max||Infinity;c=Math.min(e,Math.max(d,c));this.editor.height(c)},resizeend:function(){this.editor.find(".k-overlay").remove();this.editor=null}}));if(c.support.mobileOS.ios){var f=this.wrapper.getKendoResizable();f.draggable.options.ignore=m}}},_initializeTableResizing:function(){var a=this;c.ui.editor.TableResizing.create(a);a._showTableResizeHandlesProxy=i(a._showTableResizeHandles,a);a.bind(l,a._showTableResizeHandlesProxy)},_destroyTableResizing:function(){var a=this;var b=a.tableResizing;if(b){b.destroy();a.tableResizing=null}if(a._showTableResizeHandlesProxy){a.unbind(l,a._showTableResizeHandlesProxy)}},_showTableResizeHandles:function(){var a=this;var b=a.tableResizing;if(b){b.showResizeHandles()}},_initializeColumnResizing:function(){c.ui.editor.ColumnResizing.create(this)},_destroyColumnResizing:function(){var a=this;if(a.columnResizing){a.columnResizing.destroy();a.columnResizing=null}},_initializeRowResizing:function(){c.ui.editor.RowResizing.create(this)},_destroyRowResizing:function(){var a=this;if(a.rowResizing){a.rowResizing.destroy();a.rowResizing=null}},_wrapTextarea:function(){var b=this,c=b.element,d=c[0].style.width,e=c[0].style.height,f=o.editorWrapperTemplate,g=a(f).insertBefore(c).width(d).height(e),h=g.find(".k-editable-area");c.attr("autocomplete","off").appendTo(h).addClass("k-content k-raw-content").css("display","none");b.textarea=c;b.wrapper=g},_createContentElement:function(b){var d=this;var e,h,i;var j=d.textarea;var k=d.options.domain;var l=k||document.domain;var m="";var n='javascript:""';j.hide();e=a("<iframe />",{title:d.options.messages.editAreaTitle,frameBorder:"0"})[0];a(e).css("display","").addClass("k-content").attr("tabindex",j[0].tabIndex).insertBefore(j);if(k||l!=location.hostname){m='<script>document.domain="'+l+'"</script>';n="javascript:document.write('"+m+"')";e.src=n}h=e.contentWindow||e;i=h.document||e.contentDocument;a(e).one("load",function(){d.toolbar.decorateFrom(i.body)});i.open();i.write("<!DOCTYPE html><html><head>"+"<meta charset='utf-8' />"+"<style>"+"html,body{padding:0;margin:0;height:100%;min-height:100%;}"+"body{box-sizing:border-box;font-size:12px;font-family:Verdana,Geneva,sans-serif;margin-top:-1px;padding:5px .4em 0;"+"word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(c.support.isRtl(j)?"direction:rtl;":"")+(g.msie||g.edge||g.chrome?"height:auto;":"")+(f.ios?"word-break:break-all;":"")+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"span{-ms-high-contrast-adjust:none;}"+"a{color:#00a}"+"code{font-size:1.23em}"+"telerik\\3Ascript{display: none;}"+".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table p{margin:0;padding:0;}"+".k-column-resize-handle-wrapper {position: absolute; height: 10px; width:10px; cursor: col-resize; z-index: 2;}"+".k-column-resize-handle {width: 100%; height: 100%;}"+".k-column-resize-handle > .k-column-resize-marker {width:2px; height:100%; margin:0 auto; background-color:#00b0ff; display:none; opacity:0.8;}"+".k-row-resize-handle-wrapper {position: absolute; cursor: row-resize; z-index:2; width: 10px; height: 10px;}"+".k-row-resize-handle {display: table; width: 100%; height: 100%;}"+".k-row-resize-marker-wrapper{display: table-cell; height:100%; width:100%; margin:0; padding:0; vertical-align: middle;}"+".k-row-resize-marker{margin: 0; padding:0; width:100%; height:2px; background-color: #00b0ff; opacity:0.8; display:none;}"+".k-table-resize-handle-wrapper {position: absolute; background-color: #fff; border: 1px solid #000; z-index: 100; width: 5px; height: 5px;}"+".k-table-resize-handle {width: 100%; height: 100%;}"+".k-table-resize-handle.k-resize-east{cursor:e-resize;}"+".k-table-resize-handle.k-resize-north{cursor:n-resize;}"+".k-table-resize-handle.k-resize-northeast{cursor:ne-resize;}"+".k-table-resize-handle.k-resize-northwest{cursor:nw-resize;}"+".k-table-resize-handle.k-resize-south{cursor:s-resize;}"+".k-table-resize-handle.k-resize-southeast{cursor:se-resize;}"+".k-table-resize-handle.k-resize-southwest{cursor:sw-resize;}"+".k-table-resize-handle.k-resize-west{cursor:w-resize;}"+".k-table.k-table-resizing{opacity:0.6;}"+"k\\:script{display:none;}"+"</style>"+m+a.map(b,function(a){return"<link rel='stylesheet' href='"+a+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");i.close();return h},_blur:function(){var a=this.textarea;var b=a?a.val():this._oldValue;var c=this.options.encoded?this.encodedValue():this.value();this.update();if(a){a.trigger("blur")}if(c!=b){this.trigger("change");if(a){a.trigger("change")}}},_spellCorrect:function(a){var b;var d=false;this._registerHandler(a.body,{contextmenu:function(){a.one("select",function(){b=null});a._spellCorrectTimeout=setTimeout(function(){b=new c.ui.editor.RestorePoint(a.getRange(),a.body);d=false},10)},input:function(){if(!b){return}if(c.support.browser.mozilla&&!d){d=true;return}c.ui.editor._finishUpdate(a,b)}})},_registerHandler:function(b,d,e){var f=this;var g=".kendoEditor";var h;var i;b=a(b);if(!this._handlers){this._handlers=[]}if(b.length){if(a.isPlainObject(d)){for(var j in d){if(d.hasOwnProperty(j)){this._registerHandler(b,j,d[j])}}}else{h=c.applyEventMap(d).split(" ");for(i=0;i<h.length;i++){f._handlers.push({element:b,type:h[i]+g,handler:e});b.on(h[i]+g,e)}}}},_deregisterHandlers:function(){var a=this._handlers;for(var b=0;b<a.length;b++){var c=a[b];c.element.off(c.type,c.handler)}this._handlers=[]},_initializeContentElement:function(){var b=this;var d;var e;var f;if(b.textarea){b.window=b._createContentElement(b.options.stylesheets);d=b.document=b.window.contentDocument||b.window.document;if(!d.body){var g=d.createElement("body");g.setAttribute("contenteditable","true");g.setAttribute("autocorrect","off");d.getElementsByTagName("html")[0].appendChild(g);var h=setInterval(function(){if(a(b.document).find("body").length>1){a(b.document).find("body:last").remove();window.clearInterval(h)}},10)}b.body=d.body;e=b.window;f=d;this._registerHandler(d,"mouseup",i(this._mouseup,this))}else{b.window=window;d=b.document=document;b.body=b.element[0];e=b.body;f=b.body;b.toolbar.decorateFrom(b.body)}this._registerHandler(e,"blur",i(this._blur,this));b._registerHandler(f,"down",i(b._mousedown,b));try{d.execCommand("enableInlineTableEditing",null,false)}catch(a){}if(c.support.touch){this._registerHandler(d,{keydown:function(){if(c._activeElement()!=d.body){b.window.focus()}}})}this._spellCorrect(b);this._registerHandler(b.body,{keydown:function(a){var c;if((a.keyCode===k.BACKSPACE||a.keyCode===k.DELETE)&&b.body.getAttribute("contenteditable")!=="true"){return false}if(a.keyCode===k.F10){setTimeout(i(b.toolbar.focus,b.toolbar),100);b.toolbar.preventPopupHide=true;a.preventDefault();return}else if(a.keyCode==k.LEFT||a.keyCode==k.RIGHT){c=b.getRange();var d=a.keyCode==k.LEFT;var e=c[d?"startContainer":"endContainer"];var f=c[d?"startOffset":"endOffset"];var g=d?-1:1;var h=f+g;var j=d?h:f;if(e.nodeType==3&&e.nodeValue[j]=="\ufeff"){c.setStart(e,h);c.collapse(true);b.selectRange(c)}}var l=b.toolbar.tools;var m=b.keyboard.toolFromShortcut(l,a);var n=m?l[m].options:{};if(m&&!n.keyPressCommand){a.preventDefault();if(!/^(undo|redo)$/.test(m)){b.keyboard.endTyping(true)}b.trigger("keydown",a);b.exec(m);b._runPostContentKeyCommands(a);return false}b.keyboard.clearTimeout();b.keyboard.keydown(a)},keypress:function(a){setTimeout(function(){b._runPostContentKeyCommands(a);b._showTableResizeHandles()},0)},keyup:function(c){var d=[k.BACKSPACE,k.TAB,k.PAGEUP,k.PAGEDOWN,k.END,k.HOME,k.LEFT,k.UP,k.RIGHT,k.DOWN,k.INSERT,k.DELETE];if(a.inArray(c.keyCode,d)>-1||c.keyCode==65&&c.ctrlKey&&!c.altKey&&!c.shiftKey){b._selectionChange()}b.keyboard.keyup(c)},click:function(a){var d=c.ui.editor.Dom,e;if(d.name(a.target)==="img"){e=b.createRange();e.selectNode(a.target);b.selectRange(e)}},"cut copy paste drop dragover":function(a){b.clipboard["on"+a.type](a)},focusin:function(){if(b.body.hasAttribute("contenteditable")){a(this).addClass("k-state-active");b.toolbar.show()}},focusout:function(){setTimeout(function(){var d=c._activeElement();var e=b.body;var f=b.toolbar;if(f.options.popup){var g=f.window.element.get(0);if(g&&!(a.contains(g,d)||g==d)){f.preventPopupHide=false}}if(d!=e&&!a.contains(e,d)&&!a(d).is(".k-editortoolbar-dragHandle")&&!f.focused()){a(e).removeClass("k-state-active");f.hide()}},10)}});b._initializeColumnResizing();b._initializeRowResizing();b._initializeTableResizing()},_initializeImmutables:function(){var a=this,b=c.ui.editor;if(a.options.immutables){a.immutables=new b.Immutables(a)}},_mousedown:function(b){var c=this;c._selectionStarted=true;if(a(c.body).parents(".k-window").length){b.stopPropagation()}if(g.gecko){return}var d=a(b.target);if((b.which==2||b.which==1&&b.ctrlKey)&&d.is("a[href]")){window.open(d.attr("href"),"_new")}},_mouseup:function(b){var d=this;if(c.support.mobileOS.ios&&b&&a(b.target).is(m)){return}if(d._selectionStarted){setTimeout(function(){d._selectionChange()},1)}},_runPostContentKeyCommands:function(a){var b=this.getRange();var c=this.keyboard.toolsFromShortcut(this.toolbar.tools,a);for(var d=0;d<c.length;d++){var e=c[d];var f=e.options;if(!f.keyPressCommand){continue}var g=new f.command({range:b});if(g.changesContent()){this.keyboard.endTyping(true);this.exec(e.name)}}},refresh:function(){var a=this;if(a.textarea){a._destroyResizings();var b=a.value();a.textarea.val(b);a.wrapper.find("iframe").remove();a._initializeContentElement(a);a.value(b)}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:p,formats:{},encoded:true,domain:null,resizable:false,deserialization:{custom:null},serialization:{entities:true,semantic:true,scripts:false},pasteCleanup:{all:false,css:false,custom:null,keepNewLines:false,msAllFormatting:false,msConvertLists:true,msTags:true,none:false,span:false},stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},imageBrowser:null,fileBrowser:null,fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],r.basic,r.alignment,r.lists,r.indenting,r.links,["insertImage"],r.tables)},destroy:function(){var a=this;e.fn.destroy.call(this);this._endTyping(true);this._deregisterHandlers();clearTimeout(this._spellCorrectTimeout);this._focusOutside();this.toolbar.destroy();a._destroyUploadWidget();a._destroyResizings();c.destroy(this.wrapper)},_destroyResizings:function(){var a=this;a._destroyTableResizing();c.ui.editor.TableResizing.dispose(a);a._destroyRowResizing();c.ui.editor.RowResizing.dispose(a);a._destroyColumnResizing();c.ui.editor.ColumnResizing.dispose(a)},_focusOutside:function(){if(c.support.browser.msie&&this.textarea){var b=a("<input style='position:fixed;left:1px;top:1px;width:1px;height:1px;font-size:0;border:0;opacity:0' />").appendTo(document.body).focus();b.blur().remove()}},_destroyUploadWidget:function(){var a=this;if(a._uploadWidget){a._uploadWidget.destroy();a._uploadWidget=null}},state:function(a){var b=s.defaultTools[a];var d=b&&(b.options.finder||b.finder);var e=c.ui.editor.RangeUtils;var f,g;if(d){f=this.getRange();g=e.textNodes(f);if(!g.length&&f.collapsed){g=[f.startContainer]}return d.getFormat?d.getFormat(g):d.isFormatted(g)}return false},value:function(a){var d=this.body,e=c.ui.editor,f=this.options,g=e.Serializer.domToXhtml(d,f.serialization);if(a===b){return g}if(a==g){return}e.Serializer.htmlToDom(a,d,f.deserialization);this.selectionRestorePoint=null;this.update();this.toolbar.refreshTools()},saveSelection:function(b){b=b||this.getRange();var d=b.commonAncestorContainer,e=this.body;if(d==e||a.contains(e,d)){this.selectionRestorePoint=new c.ui.editor.RestorePoint(b,e)}},_focusBody:function(){var a=this.body;var b=this.wrapper&&this.wrapper.find("iframe")[0];var d=this.document.documentElement;var e=c._activeElement();var f;if(b){if(e!=a&&e!=b){f=d.scrollTop;a.focus();d.scrollTop=f}}else{f=a.scrollTop;a.focus();a.scrollTop=f}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint){this.selectRange(this.selectionRestorePoint.toRange())}},focus:function(){this.restoreSelection()},update:function(a){a=a||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(a)}else{this._oldValue=a}},encodedValue:function(){return c.ui.editor.Dom.encode(this.value())},createRange:function(a){return c.ui.editor.RangeUtils.createRange(a||this.document)},getSelection:function(){return c.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(a){this._focusBody();var b=this.getSelection();b.removeAllRanges();b.addRange(a);this.saveSelection(a)},getRange:function(){var a=this.getSelection(),b=a&&a.rangeCount>0?a.getRangeAt(0):this.createRange(),c=this.document;if(b.startContainer==c&&b.endContainer==c&&!b.startOffset&&!b.endOffset){b.setStart(this.body,0);b.collapse(true)}return b},_containsRange:function(a){var b=c.ui.editor.Dom;var d=this.body;return a&&b.isAncestorOrSelf(d,a.startContainer)&&b.isAncestorOrSelf(d,a.endContainer)},_deleteSavedRange:function(){if("_range"in this){delete this._range}},selectedHtml:function(){return c.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(b,d){this.focus();var e=new c.ui.editor.InsertHtmlCommand(a.extend({range:this.getRange(),html:b},d));e.editor=this;e.exec()},exec:function(a,b){var c=this;var d=null;var e,f,g;if(!a){throw new Error("kendoEditor.exec(): `name` parameter cannot be empty")}if(c.body.getAttribute("contenteditable")!=="true"&&a!=="print"&&a!=="pdf"){return false}a=a.toLowerCase();if(!c.keyboard.isTypingInProgress()){c._focusBody();c.selectRange(c._range||c.getRange())}f=c.toolbar.toolById(a);if(!f){for(var j in s.defaultTools){if(j.toLowerCase()==a){f=s.defaultTools[j];break}}}if(f){e=c.getRange();if(f.command){d=f.command(h({range:e,body:c.body,immutables:!!c.immutables},b))}g=c.trigger("execute",{name:a,command:d});if(g){return}if(/^(undo|redo)$/i.test(a)){c.undoRedoStack[a]()}else if(d){c.execCommand(d);if(d.async){d.change=i(c._selectionChange,c);return}}c._selectionChange()}},execCommand:function(a){if(!a.managesUndoRedo){this.undoRedoStack.push(a)}a.editor=this;a.exec()}});s.defaultTools={undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}};c.ui.plugin(s);var t=d.extend({init:function(a){this.options=a},initialize:function(a,b){a.attr({unselectable:"on",title:b.title});a.children(".k-tool-text").html(b.title)},command:function(a){return new this.options.command(a)},update:a.noop});t.exec=function(a,b,c){a.exec(b,{value:c})};o.registerTool("separator",new t({template:new n({template:o.separatorTemplate})}));var u=g.msie&&g.version<9?"\ufeff":"";var v="\ufeff";var w=v;if(g.msie||g.edge){w=v="&nbsp;"}h(c.ui,{editor:{ToolTemplate:n,EditorUtils:o,Tool:t,_bomFill:u,emptyElementContent:v,emptyTableCellContent:w}});if(c.PDFMixin){c.PDFMixin.extend(s.prototype);s.prototype._drawPDF=function(){return c.drawing.drawDOM(this.body,this.options.pdf)};s.prototype.saveAsPDF=function(){var b=new a.Deferred;var d=b.promise();var e={promise:d};if(this.trigger("pdfExport",e)){return}var f=this.options.pdf;this._drawPDF(b).then(function(a){return c.drawing.exportPDF(a,f)}).done(function(a){c.saveAs({dataURI:a,fileName:f.fileName,proxyURL:f.proxyURL,proxyTarget:f.proxyTarget,forceProxy:f.forceProxy});b.resolve()}).fail(function(a){b.reject(a)});return d}}})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/dom",["editor/main"],a)})(function(){(function(a){var b=window.kendo,c=a.map,d=a.extend,e=b.support.browser,f="style",g="float",h="cssFloat",i="styleFloat",j="class",k="k-marker";function l(a){var b={},c,d;for(c=0,d=a.length;c<d;c++){b[a[c]]=true}return b}var m=l("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),n="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),o=n.concat(["ul","ol","li"]),p=l(o),q=l("area,base,br,col,command,embed,hr,img,input,keygen,link,menuitem,meta,param,source,track,wbr".split(",")),r="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),s=l(r),t=l("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var u=function(a){if(a.nodeType==1){a.normalize()}};if(e.msie&&e.version>=8){u=function(a){if(a.nodeType==1&&a.firstChild){var b=a.firstChild,c=b;while(true){c=c.nextSibling;if(!c){break}if(c.nodeType==3&&b.nodeType==3){c.nodeValue=b.nodeValue+c.nodeValue;F.remove(b)}b=c}}}}var v=/^\s+$/,w=/^[\n\r\t]+$/,x=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,y=/\ufeff/g,z=/^(\s+|\ufeff)$/,A,B=("color,padding-left,padding-right,padding-top,padding-bottom,"+"background-color,background-attachment,background-image,background-position,background-repeat,"+"border-top-style,border-top-width,border-top-color,"+"border-bottom-style,border-bottom-width,border-bottom-color,"+"border-left-style,border-left-width,border-left-color,"+"border-right-style,border-right-width,border-right-color,"+"font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),C=/[<>\&]/g,D=/[\u00A0-\u2666<>\&]/g,E={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",
240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var F={block:p,inline:s,findNodeIndex:function(a,b){var c=0;if(!a){return-1}while(true){a=a.previousSibling;if(!a){break}if(!(b&&a.nodeType==3)){c++}}return c},isDataNode:function(a){return a&&a.nodeValue!==null&&a.data!==null},isAncestorOf:function(b,c){try{return!F.isDataNode(b)&&(a.contains(b,F.isDataNode(c)?c.parentNode:c)||c.parentNode==b)}catch(a){return false}},isAncestorOrSelf:function(a,b){return F.isAncestorOf(a,b)||a==b},findClosestAncestor:function(a,b){if(F.isAncestorOf(a,b)){while(b&&b.parentNode!=a){b=b.parentNode}}return b},getAllComments:function(a){var b=[];var c=document.createNodeIterator(a,NodeFilter.SHOW_COMMENT,function(){return NodeFilter.FILTER_ACCEPT},false);var d=c.nextNode();while(d){b.push(d.nodeValue);d=c.nextNode()}return b},getNodeLength:function(a){return F.isDataNode(a)?a.length:a.childNodes.length},splitDataNode:function(a,b){var c=a.cloneNode(false);var d="";var e=a.nextSibling;var f;while(e&&e.nodeType==3&&e.nodeValue){d+=e.nodeValue;f=e;e=e.nextSibling;F.remove(f)}a.deleteData(b,a.length);c.deleteData(0,b);c.nodeValue+=d;F.insertAfter(c,a)},attrEquals:function(a,c){for(var d in c){var e=a[d];if(d==g){e=a[b.support.cssFloat?h:i]}if(typeof e=="object"){if(!F.attrEquals(e,c[d])){return false}}else if(e!=c[d]){return false}}return true},blockParentOrBody:function(a){return F.parentOfType(a,o)||a.ownerDocument.body},blockParents:function(b){var c=[],d,e;for(d=0,e=b.length;d<e;d++){var f=F.parentOfType(b[d],F.blockElements);if(f&&a.inArray(f,c)<0){c.push(f)}}return c},windowFromDocument:function(a){return a.defaultView||a.parentWindow},normalize:u,blockElements:o,nonListBlockElements:n,inlineElements:r,empty:m,fillAttrs:t,nodeTypes:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},toHex:function(a){var b=x.exec(a);if(!b){return a}return"#"+c(b.slice(1),function(a){a=parseInt(a,10).toString(16);return a.length>1?a:"0"+a}).join("")},encode:function(a,b){var c=!b||b.entities?D:C;return a.replace(c,function(a){var b=a.charCodeAt(0);var c=E[b];return c?"&"+c+";":a})},isBom:function(a){return a&&a.nodeType===3&&/^[\ufeff]+$/.test(a.nodeValue)},stripBom:function(a){return(a||"").replace(y,"")},stripBomNode:function(a){if(F.isBom(a)){a.parentNode.removeChild(a)}},insignificant:function(a){var b=a.attributes;return a.className=="k-marker"||F.is(a,"br")&&(a.className=="k-br"||b._moz_dirty||b._moz_editor_bogus_node)},tableCell:function(a){return F.is(a,"td")||F.is(a,"th")},significantNodes:function(b){return a.grep(b,function(a){var b=F.name(a);if(b=="br"){return false}else if(F.insignificant(a)){return false}else if(F.emptyTextNode(a)){return false}else if(a.nodeType==1&&!m[b]&&F.emptyNode(a)){return false}return true})},emptyTextNode:function(a){return a&&a.nodeType==3&&z.test(a.nodeValue)},emptyNode:function(a){return a.nodeType==1&&!F.significantNodes(a.childNodes).length},name:function(a){return a.nodeName.toLowerCase()},significantChildNodes:function(b){return a.grep(b.childNodes,function(a){return a.nodeType!=3||!F.isWhitespace(a)})},lastTextNode:function(a){var b=null;if(a.nodeType==3){return a}for(var c=a.lastChild;c;c=c.previousSibling){b=F.lastTextNode(c);if(b){return b}}return b},is:function(a,b){return a&&F.name(a)==b},isMarker:function(a){return a.className==k},isWhitespace:function(a){return v.test(a.nodeValue)},allWhitespaceContent:function(a){var b=a.firstChild;while(b&&F.isWhitespace(b)){b=b.nextSibling}return!b},isEmptyspace:function(a){return w.test(a.nodeValue)},htmlIndentSpace:function(b){if(!(F.isDataNode(b)&&F.isWhitespace(b))){return false}if(w.test(b.nodeValue)){return true}var c=function(a,b){while(a[b]){a=a[b];if(F.significantNodes([a]).length>0){return a}}};var d=b.parentNode;var e=c(b,"previousSibling");var f=c(b,"nextSibling");if(y.test(b.nodeValue)){return!!(e||f)}if(a(d).is("tr,tbody,thead,tfoot,table,ol,ul")){return true}if(F.isBlock(d)||F.is(d,"body")){var g=e&&F.isBlock(e);var h=f&&F.isBlock(f);if(!f&&g||!e&&h||g&&h){return true}}return false},isBlock:function(a){return p[F.name(a)]},isSelfClosing:function(a){return q[F.name(a)]},isEmpty:function(a){return m[F.name(a)]},isInline:function(a){return s[F.name(a)]},isBr:function(a){return F.name(a)=="br"},list:function(a){var b=a?F.name(a):"";return b=="ul"||b=="ol"||b=="dl"},scrollContainer:function(a){var b=F.windowFromDocument(a),c=(b.contentWindow||b).document||b.ownerDocument||b;if(c.compatMode=="BackCompat"){c=c.body}else{c=c.scrollingElement||c.documentElement}return c},scrollTo:function(b,c){var d=b.ownerDocument;var e=F.windowFromDocument(d);var f=e.innerHeight;var g=F.scrollContainer(d);var h,i,j,k;if(F.isDataNode(b)){if(c){k=F.create(d,"span",{innerHTML:"&#xfeff;"});F.insertBefore(k,b);h=a(k)}else{h=a(b.parentNode)}}else{h=a(b)}i=h.offset().top;j=h[0].offsetHeight;if(c||!j){j=parseInt(h.css("line-height"),10)||Math.ceil(1.2*parseInt(h.css("font-size"),10))||15}if(k){F.remove(k)}if(j+i>g.scrollTop+f){g.scrollTop=j+i-f}},persistScrollTop:function(a){A=F.scrollContainer(a).scrollTop},offset:function(a,b){var c={top:a.offsetTop,left:a.offsetLeft};var d=a.offsetParent;while(d&&(!b||F.isAncestorOf(b,d))){c.top+=d.offsetTop;c.left+=d.offsetLeft;d=d.offsetParent}return c},restoreScrollTop:function(a){if(typeof A=="number"){F.scrollContainer(a).scrollTop=A}},insertAt:function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)},insertBefore:function(a,b){if(b.parentNode){return b.parentNode.insertBefore(a,b)}else{return b}},insertAfter:function(a,b){return b.parentNode.insertBefore(a,b.nextSibling)},remove:function(a){if(a.parentNode){a.parentNode.removeChild(a)}},removeChildren:function(a){while(a.firstChild){a.removeChild(a.firstChild)}},removeTextSiblings:function(a){var b=a.parentNode;while(a.nextSibling&&a.nextSibling.nodeType==3){b.removeChild(a.nextSibling)}while(a.previousSibling&&a.previousSibling.nodeType==3){b.removeChild(a.previousSibling)}},trim:function(a){for(var b=a.childNodes.length-1;b>=0;b--){var c=a.childNodes[b];if(F.isDataNode(c)){if(!F.stripBom(c.nodeValue).length){F.remove(c)}}else if(c.className!=k){F.trim(c);if(!F.isEmpty(c)&&c.childNodes.length===0||F.isBlock(c)&&F.allWhitespaceContent(c)){F.remove(c)}}}return a},closest:function(a,b){while(a&&F.name(a)!=b){a=a.parentNode}return a},closestBy:function(a,b,c){while(a&&!b(a)){if(c&&c(a)){return null}a=a.parentNode}return a},sibling:function(a,b){do{a=a[b]}while(a&&a.nodeType!=1);return a},next:function(a){return F.sibling(a,"nextSibling")},prev:function(a){return F.sibling(a,"previousSibling")},parentOfType:function(a,b){do{a=a.parentNode}while(a&&!F.ofType(a,b));return a},ofType:function(b,c){return a.inArray(F.name(b),c)>=0},changeTag:function(a,b,c){var d=F.create(a.ownerDocument,b),e=a.attributes,g,h,i,k,l;if(!c){for(g=0,h=e.length;g<h;g++){l=e[g];if(l.specified){i=l.nodeName;k=l.nodeValue;if(i==j){d.className=k}else if(i==f){d.style.cssText=a.style.cssText}else{d.setAttribute(i,k)}}}}while(a.firstChild){d.appendChild(a.firstChild)}F.insertBefore(d,a);F.remove(a);return d},editableParent:function(a){while(a&&(a.nodeType==3||a.contentEditable!=="true")){a=a.parentNode}return a},wrap:function(a,b){F.insertBefore(b,a);b.appendChild(a);return b},unwrap:function(a){var b=a.parentNode;while(a.firstChild){b.insertBefore(a.firstChild,a)}b.removeChild(a)},wrapper:function(b){var c=F.closestBy(b,function(a){return a.parentNode&&F.significantNodes(a.parentNode.childNodes).length>1});return a(c).is("body,.k-editor")?undefined:c},create:function(a,b,c){return F.attr(a.createElement(b),c)},createEmptyNode:function(a,b,c){var d=F.attr(a.createElement(b),c);d.innerHTML="\ufeff";return d},attr:function(a,b){b=d({},b);if(b&&f in b){F.style(a,b.style);delete b.style}for(var c in b){if(b[c]===null){a.removeAttribute(c);delete b[c]}else if(c=="className"){a[c]=b[c]}}return d(a,b)},style:function(b,c){a(b).css(c||{})},unstyle:function(a,c){for(var d in c){if(d==g){d=b.support.cssFloat?h:i}a.style[d]=""}if(a.style.cssText===""){a.removeAttribute(f)}},inlineStyle:function(b,d,f){var g=a(F.create(b.ownerDocument,d,f)),h;b.appendChild(g[0]);h=c(B,function(a){if(e.msie&&a=="line-height"&&g.css(a)=="1px"){return"line-height:1.5"}else{return a+":"+g.css(a)}}).join(";");g.remove();return h},getEffectiveBackground:function(a){var b=a.css("background-color")||"";if(b.indexOf("rgba(0, 0, 0, 0")<0&&b!=="transparent"){return b}else if(a[0].tagName.toLowerCase()==="html"){return"Window"}else{return F.getEffectiveBackground(a.parent())}},innerText:function(a){var b=a.innerHTML;b=b.replace(/<!--(.|\s)*?-->/gi,"");b=b.replace(/<\/?[^>]+?\/?>/gm,"");return b},removeClass:function(b,c){var d=" "+b.className+" ",e=c.split(" "),f,g;for(f=0,g=e.length;f<g;f++){d=d.replace(" "+e[f]+" "," ")}d=a.trim(d);if(d.length){b.className=d}else{b.removeAttribute(j)}},commonAncestor:function(){var a=arguments.length,b=[],c=Infinity,d=null,e,f,g,h,i;if(!a){return null}if(a==1){return arguments[0]}for(e=0;e<a;e++){f=[];g=arguments[e];while(g){f.push(g);g=g.parentNode}b.push(f.reverse());c=Math.min(c,f.length)}if(a==1){return b[0][0]}for(e=0;e<c;e++){h=b[0][e];for(i=1;i<a;i++){if(h!=b[i][e]){return d}}d=h}return d},closestSplittableParent:function(b){var d;if(b.length==1){d=F.parentOfType(b[0],["ul","ol"])}else{d=F.commonAncestor.apply(null,b)}if(!d){d=F.parentOfType(b[0],["p","td"])||b[0].ownerDocument.body}if(F.isInline(d)){d=F.blockParentOrBody(d)}var e=c(b,F.editableParent);var f=F.commonAncestor(e)[0];if(a.contains(d,f)){d=f}return d},closestEditable:function(b,c){var d;var e=F.editableParent(b);if(F.ofType(b,c)){d=b}else{d=F.parentOfType(b,c)}if(d&&e&&a.contains(d,e)){d=e}else if(!d&&e){d=e}return d},closestEditableOfType:function(b,c){var d=F.closestEditable(b,c);if(d&&F.ofType(d,c)&&!a(d).is(".k-editor")){return d}},filter:function(a,b,c){var d=function(b){return F.name(b)==a};return F.filterBy(b,d,c)},filterBy:function(a,b,c){var d=0;var e=a.length;var f=[];var g;for(;d<e;d++){g=b(a[d]);if(g&&!c||!g&&c){f.push(a[d])}}return f},ensureTrailingBreaks:function(b){var c=a(b).find("p,td,th");var d=c.length;var e=0;if(d){for(;e<d;e++){F.ensureTrailingBreak(c[e])}}else{F.ensureTrailingBreak(b)}},removeTrailingBreak:function(b){a(b).find("br[type=_moz],.k-br").remove()},ensureTrailingBreak:function(a){F.removeTrailingBreak(a);var b=a.lastChild;var c=b&&F.name(b);var d;if(!c||c!="br"&&c!="img"||c=="br"&&b.className!="k-br"){d=a.ownerDocument.createElement("br");d.className="k-br";a.appendChild(d)}}};b.ui.editor.Dom=F})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/serializer",["editor/dom"],a)})(function(){(function(a,b){var c=window.kendo;var d=c.ui.editor;var e=d.Dom;var f=a.extend;var g="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var h=/"/g;var i=/<br[^>]*>/i;var j=/^\d+(\.\d*)?(px)?$/i;var k=/<p>(?:&nbsp;)?<\/p>/i;var l=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/g;var m=/^sizzle-\d+/i;var n=/^k-script-/i;var o=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;var p='<br class="k-br">';var q=document.createElement("div");q.innerHTML=" <hr>";var r=q.firstChild.nodeType===3;q=null;var s=a.isFunction;var t="td";var u={toEditableHtml:function(a){return(a||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<(\/?)script([^>]*)>/gi,"<$1k:script$2>").replace(/<img([^>]*)>/gi,function(a){return a.replace(o,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/^<(table|blockquote)/i,p+"<$1").replace(/^[\s]*(&nbsp;|\u00a0)/i,"$1").replace(/<\/(table|blockquote)>$/i,"</$1>"+p)},_toEditableImmutables:function(b){var c=d.Immutables.immutable,f=e.emptyTextNode,g=b.firstChild,h=b.lastChild;while(f(g)){g=g.nextSibling}while(f(h)){h=h.previousSibling}if(g&&c(g)){a(p).prependTo(b)}if(h&&c(h)){a(p).appendTo(b)}},_fillEmptyElements:function(b){a(b).find("p,td").each(function(){var b=a(this);if(/^\s*$/g.test(b.text())&&!b.find("img,input").length){var d=this;while(d.firstChild&&d.firstChild.nodeType!=3){d=d.firstChild}if(d.nodeType==1&&!e.empty[e.name(d)]){if(e.is(d,"td")){d.innerHTML=c.ui.editor.emptyTableCellContent}else{d.innerHTML=c.ui.editor.emptyElementContent}}}})},_removeSystemElements:function(b){a(".k-paste-container",b).remove()},_resetOrderedLists:function(a){var b=a.getElementsByTagName("ol"),c,d,e;for(c=0;c<b.length;c++){d=b[c];e=d.getAttribute("start");d.setAttribute("start",1);if(e){d.setAttribute("start",e)}else{d.removeAttribute(e)}}},_preventScriptExecution:function(b){a(b).find("*").each(function(){var a=this.attributes;var b,c,d,e;var f=[];for(c=0,d=a.length;c<d;c++){b=a[c];e=b.nodeName;if(b.specified&&/^on/i.test(e)){this.setAttribute("k-script-"+e,b.value);f.push(e)}}for(c=0,d=f.length;c<d;c++){this.removeAttribute(f[c])}})},htmlToDom:function(b,d,f){var g=c.support.browser;var h=g.msie;var i=h&&g.version<9;var j="originalsrc";var k="originalhref";var l=f||{};var m=l.immutables;b=u.toEditableHtml(b);if(i){b="<br/>"+b;b=b.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,k+'="$1"');b=b.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,j+'="$1"')}if(s(l.custom)){b=l.custom(b)||b}d.innerHTML=b;if(m){m.deserialize(d)}if(i){e.remove(d.firstChild);a(d).find("k\\:script,script,link,img,a").each(function(){var a=this;if(a[k]){a.setAttribute("href",a[k]);a.removeAttribute(k)}if(a[j]){a.setAttribute("src",a[j]);a.removeAttribute(j)}})}else if(h){e.normalize(d);u._resetOrderedLists(d)}u._preventScriptExecution(d);u._fillEmptyElements(d);u._removeSystemElements(d);u._toEditableImmutables(d);a("table",d).addClass("k-table");return d},domToXhtml:function(f,o){var p=[];var q=o&&o.immutables;function s(b){return a.grep(b,function(a){return a.name!="style"})}function u(a,b){p.push("<"+b);z(a);p.push(">")}var v={iframe:{start:function(a){u(a,"iframe")},end:function(){p.push("</iframe>")}},"k:script":{start:function(a){u(a,"script")},end:function(){p.push("</script>")},skipEncoding:true},span:{semantic:true,start:function(b){var c=b.style;var d=y(b);var f=s(d);if(f.length){p.push("<span");z(b,f);p.push(">")}if(c.textDecoration=="underline"){p.push("<u>")}var h=[];if(c.color){h.push('color="'+e.toHex(c.color)+'"')}if(c.fontFamily){h.push('face="'+c.fontFamily+'"')}if(c.fontSize){var i=a.inArray(c.fontSize,g);h.push('size="'+i+'"')}if(h.length){p.push("<font "+h.join(" ")+">")}},end:function(a){var b=a.style;if(b.color||b.fontFamily||b.fontSize){p.push("</font>")}if(b.textDecoration=="underline"){p.push("</u>")}if(s(y(a)).length){p.push("</span>")}}},strong:{semantic:true,start:function(a){u(a,"b")},end:function(){p.push("</b>")}},em:{semantic:true,start:function(a){u(a,"i")},end:function(){p.push("</i>")}},b:{semantic:false,start:function(a){u(a,"strong")},end:function(){p.push("</strong>")}},i:{semantic:false,start:function(a){u(a,"em")},end:function(){p.push("</em>")}},u:{semantic:false,start:function(b){p.push("<span");var c=y(b);var d=a(c).filter(function(a,b){return b.name=="style"})[0];var e={nodeName:"style",value:"text-decoration:underline;"};if(d){e.value=d.value;if(!/text-decoration/i.test(e.value)){e.value="text-decoration:underline;"+e.value}c.splice(a.inArray(d,c),1)}c.push(e);z(b,c);p.push(">")},end:function(){p.push("</span>")}},font:{semantic:false,start:function(a){p.push('<span style="');var b=a.getAttribute("color");var c=g[a.getAttribute("size")];var d=a.getAttribute("face");if(b){p.push("color:");p.push(e.toHex(b));p.push(";")}if(d){p.push("font-family:");p.push(d);p.push(";")}if(c){p.push("font-size:");p.push(c);p.push(";")}p.push('">')},end:function(){p.push("</span>")}}};v.script=v["k:script"];o=o||{};if(typeof o.semantic=="undefined"){o.semantic=true}function w(b){var c=a.trim;var d=c(b);var f;var g,i;var j=[];l.lastIndex=0;while(true){f=l.exec(d);if(!f){break}g=c(f[1].toLowerCase());i=c(f[2]);if(g=="font-size-adjust"||g=="font-stretch"){continue}if(g.indexOf("color")>=0){i=e.toHex(i)}else if(g.indexOf("font")>=0){i=i.replace(h,"'")}else if(/\burl\(/g.test(i)){i=i.replace(h,"")}j.push({property:g,value:i})}return j}function x(a){var b=w(a);var c;for(c=0;c<b.length;c++){p.push(b[c].property);p.push(":");p.push(b[c].value);p.push(";")}}function y(a){var b=[];var c=a.attributes;var d,f,g;var h,i,j;for(f=0,g=c.length;f<g;f++){d=c[f];h=d.nodeName;i=d.value;j=d.specified;if(h=="value"&&"value"in a&&a.value){j=true}else if(h=="type"&&i=="text"){j=true}else if(h=="class"&&!i){j=false}else if(m.test(h)){j=false}else if(h=="complete"){j=false}else if(h=="altHtml"){j=false}else if(h=="start"&&e.is(a,"ul")){j=false}else if(h=="start"&&e.is(a,"ol")&&i=="1"){j=false}else if(h.indexOf("_moz")>=0){j=false}else if(n.test(h)){j=!!o.scripts}else if(h=="data-role"&&i=="resizable"&&(e.is(a,"tr")||e.is(a,"td"))){j=false}if(j){b.push(d)}}return b}function z(d,f){var g,h,i,k,l;f=f||y(d);if(e.is(d,"img")){var m=d.style.width,o=d.style.height,q=a(d);if(m&&j.test(m)){q.attr("width",parseInt(m,10));e.unstyle(d,{width:b})}if(o&&j.test(o)){q.attr("height",parseInt(o,10));e.unstyle(d,{height:b})}}if(!f.length){return}for(g=0,h=f.length;g<h;g++){i=f[g];k=i.nodeName;l=i.value;if(k=="class"&&l=="k-table"){continue}k=k.replace(n,"");p.push(" ");p.push(k);p.push('="');if(k=="style"){x(l||d.style.cssText)}else if(k=="src"||k=="href"){p.push(c.htmlEncode(d.getAttribute(k,2)))}else{p.push(e.fillAttrs[k]?k:l)}p.push('"')}}function A(a,b,c){for(var d=a.firstChild;d;d=d.nextSibling){D(d,b,c)}}function B(a){return a.nodeValue.replace(/\ufeff/g,"")}function C(a){if(e.isBom(a)){do{a=a.parentNode;if(e.is(a,t)&&a.childNodes.length===1){return true}if(a.childNodes.length!==1){return false}}while(!e.isBlock(a));return true}return false}function D(b,c,f){var g=b.nodeType,h,i,j,k,l,m;if(q&&d.Immutables.immutable(b)){p.push(q.serialize(b))}else if(g==1){h=e.name(b);m=a(b);if(m.hasClass("k-table-resize-handle-wrapper")||m.hasClass("k-column-resize-handle-wrapper")||m.hasClass("k-row-resize-handle-wrapper")){return}if(!h||e.insignificant(b)){return}if(!o.scripts&&(h=="script"||h=="k:script")){return}i=v[h];if(i){if(typeof i.semantic=="undefined"||o.semantic^i.semantic){i.start(b);A(b,false,i.skipEncoding);i.end(b);return}}p.push("<");p.push(h);z(b);if(e.empty[h]){p.push(" />")}else{p.push(">");A(b,c||e.is(b,"pre"));p.push("</");p.push(h);p.push(">")}}else if(g==3){if(C(b)){p.push("&nbsp;");return}k=B(b);if(!c&&r){j=b.parentNode;l=b.previousSibling;if(!l){l=(e.isInline(j)?j:b).previousSibling}if(!l||l.innerHTML===""||e.isBlock(l)){k=k.replace(/^[\r\n\v\f\t ]+/,"")}k=k.replace(/ +/," ")}p.push(f?k:e.encode(k,o))}else if(g==4){p.push("<![CDATA[");p.push(b.data);p.push("]]>")}else if(g==8){if(b.data.indexOf("[CDATA[")<0){p.push("<!--");p.push(b.data);p.push("-->")}else{p.push("<!");p.push(b.data);p.push(">")}}}function E(a){var b=a.childNodes.length;var c=b&&a.firstChild.nodeType==3;return c&&(b==1||b==2&&e.insignificant(a.lastChild))}function F(){if(a.isFunction(o.custom)){p=o.custom(p)||p}}if(E(f)){p=e.encode(B(f.firstChild).replace(/[\r\n\v\f\t ]+/," "),o);F();return p}A(f);p=p.join("");F();if(p.replace(i,"").replace(k,"")===""){return""}return p}};f(d,{Serializer:u})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/components",["editor/serializer"],a)})(function(){(function(a,b){var c=window.kendo,d=c.ui.DropDownList,e=c.ui.editor.Dom;var f=d.extend({init:function(b,e){var f=this;d.fn.init.call(f,b,e);if(c.support.mobileOS.ios){this._initSelectOverlay();this.bind("dataBound",a.proxy(this._initSelectOverlay,this))}f.text(f.options.title);f.element.attr("title",f.options.title);f.wrapper.attr("title",f.options.title);f.bind("open",function(){if(f.options.autoSize){var a=f.list,b;a.css({whiteSpace:"nowrap",width:"auto"});b=a.width();if(b>0){b+=20}else{b=f._listWidth}a.css("width",b+c.support.scrollbar());f._listWidth=b}})},options:{name:"SelectBox",index:-1},_initSelectOverlay:function(){var b=this;var d=b.value();var e=this.dataSource.view();var f;var g="";var h=c.htmlEncode;for(var i=0;i<e.length;i++){f=e[i];g+="<option value='"+h(f.value)+"'";if(f.value==d){g+=" selected"}g+=">"+h(f.text)+"</option>"}var j=a("<select class='k-select-overlay'>"+g+"</select>");var k=a(this.element).closest(".k-widget");k.next(".k-select-overlay").remove();j.insertAfter(k);j.on("change",function(){b.value(this.value);b.trigger("change")})},value:function(a){var c=this,e=d.fn.value.call(c,a);if(a===b){return e}if(!d.fn.value.call(c)){c.text(c.options.title)}},decorate:function(b){var c=this,d=c.dataSource,f=d.data(),g,h,i,j;if(b){c.list.css("background-color",e.getEffectiveBackground(a(b)))}for(g=0;g<f.length;g++){h=f[g].tag||"span";i=f[g].className;j=e.inlineStyle(b,h,{className:i});j=j.replace(/"/g,"'");f[g].style=j+";display:inline-block"}d.trigger("change")}});c.ui.plugin(f);c.ui.editor.SelectBox=f})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/range",["editor/components"],a)})(function(){(function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=b.support.browser,g=e.Dom,h=g.findNodeIndex,i=g.isDataNode,j=g.findClosestAncestor,k=g.getNodeLength,l=g.normalize;var m={selectionFromWindow:function(a){if(!("getSelection"in a)){return new s(a.document)}return a.getSelection()},selectionFromRange:function(a){var b=C.documentFromRange(a);return m.selectionFromDocument(b)},selectionFromDocument:function(a){return m.selectionFromWindow(g.windowFromDocument(a))}};var n=c.extend({init:function(b){a.extend(this,{ownerDocument:b,startContainer:b,endContainer:b,commonAncestorContainer:b,startOffset:0,endOffset:0,collapsed:true})},setStart:function(a,b){this.startContainer=a;this.startOffset=b;q(this);p(this,true)},setEnd:function(a,b){this.endContainer=a;this.endOffset=b;q(this);p(this,false)},setStartBefore:function(a){this.setStart(a.parentNode,h(a))},setStartAfter:function(a){this.setStart(a.parentNode,h(a)+1)},setEndBefore:function(a){this.setEnd(a.parentNode,h(a))},setEndAfter:function(a){this.setEnd(a.parentNode,h(a)+1)},selectNode:function(a){this.setStartBefore(a);this.setEndAfter(a)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a[a.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(a){var b=this;if(a){b.setEnd(b.startContainer,b.startOffset)}else{b.setStart(b.endContainer,b.endOffset)}},deleteContents:function(){var a=this,b=a.cloneRange();if(a.startContainer!=a.commonAncestorContainer){a.setStartAfter(j(a.commonAncestorContainer,a.startContainer))}a.collapse(true);(function a(b){while(b.next()){if(b.hasPartialSubtree()){a(b.getSubtreeIterator())}else{b.remove()}}})(new r(b))},cloneContents:function(){var a=C.documentFromRange(this);return function b(c){var d,e=a.createDocumentFragment();while(d=c.next()){d=d.cloneNode(!c.hasPartialSubtree());if(c.hasPartialSubtree()){d.appendChild(b(c.getSubtreeIterator()))}e.appendChild(d)}return e}(new r(this))},extractContents:function(){var a=this,b=a.cloneRange();if(a.startContainer!=a.commonAncestorContainer){a.setStartAfter(j(a.commonAncestorContainer,a.startContainer))}a.collapse(true);var c=C.documentFromRange(a);return function b(d){var e,f=c.createDocumentFragment();while(e=d.next()){if(d.hasPartialSubtree()){e=e.cloneNode(false);e.appendChild(b(d.getSubtreeIterator()))}else{d.remove(a.originalRange)}f.appendChild(e)}return f}(new r(b))},insertNode:function(a){var b=this;if(i(b.startContainer)){if(b.startOffset!=b.startContainer.nodeValue.length){g.splitDataNode(b.startContainer,b.startOffset)}g.insertAfter(a,b.startContainer)}else{g.insertAt(b.startContainer,a,b.startOffset)}b.setStart(b.startContainer,b.startOffset)},cloneRange:function(){return a.extend(new n(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var a=this.startContainer.nodeName,b=this.endContainer.nodeName;return[a=="#text"?this.startContainer.nodeValue:a,"(",this.startOffset,") : ",b=="#text"?this.endContainer.nodeValue:b,"(",this.endOffset,")"].join("")}});n.fromNode=function(a){return new n(a.ownerDocument)};function o(a,b,c,d){if(a==b){return d-c}var e=b;while(e&&e.parentNode!=a){e=e.parentNode}if(e){return h(e)-c}e=a;while(e&&e.parentNode!=b){e=e.parentNode}if(e){return d-h(e)-1}var f=g.commonAncestor(a,b);var i=a;while(i&&i.parentNode!=f){i=i.parentNode}if(!i){i=f}var j=b;while(j&&j.parentNode!=f){j=j.parentNode}if(!j){j=f}if(i==j){return 0}return h(j)-h(i)}function p(a,b){function c(a){try{return o(a.startContainer,a.endContainer,a.startOffset,a.endOffset)<0}catch(a){return true}}if(c(a)){if(b){a.commonAncestorContainer=a.endContainer=a.startContainer;a.endOffset=a.startOffset}else{a.commonAncestorContainer=a.startContainer=a.endContainer;a.startOffset=a.endOffset}a.collapsed=true}}function q(a){a.collapsed=a.startContainer==a.endContainer&&a.startOffset==a.endOffset;var b=a.startContainer;while(b&&b!=a.endContainer&&!g.isAncestorOf(b,a.endContainer)){b=b.parentNode}a.commonAncestorContainer=b}var r=c.extend({init:function(b){a.extend(this,{range:b,_current:null,_next:null,_end:null});if(b.collapsed){return}var c=b.commonAncestorContainer;this._next=b.startContainer==c&&!i(b.startContainer)?b.startContainer.childNodes[b.startOffset]:j(c,b.startContainer);this._end=b.endContainer==c&&!i(b.endContainer)?b.endContainer.childNodes[b.endOffset]:j(c,b.endContainer).nextSibling},hasNext:function(){return!!this._next},next:function(){var a=this,b=a._current=a._next;a._next=a._current&&a._current.nextSibling!=a._end?a._current.nextSibling:null;if(i(a._current)){if(a.range.endContainer==a._current){b=b.cloneNode(true);b.deleteData(a.range.endOffset,b.length-a.range.endOffset)}if(a.range.startContainer==a._current){b=b.cloneNode(true);b.deleteData(0,a.range.startOffset)}}return b},traverse:function(a){var b=this,c;function d(){b._current=b._next;b._next=b._current&&b._current.nextSibling!=b._end?b._current.nextSibling:null;return b._current}while(c=d()){if(b.hasPartialSubtree()){b.getSubtreeIterator().traverse(a)}else{a(c)}}return c},remove:function(a){var b=this,c=b.range.startContainer==b._current,d=b.range.endContainer==b._current,e,f,j;if(i(b._current)&&(c||d)){e=c?b.range.startOffset:0;f=d?b.range.endOffset:b._current.length;j=f-e;if(a&&(c||d)){if(b._current==a.startContainer&&e<=a.startOffset){a.startOffset-=j}if(b._current==a.endContainer&&f<=a.endOffset){a.endOffset-=j}}b._current.deleteData(e,j)}else{var k=b._current.parentNode;if(a&&(b.range.startContainer==k||b.range.endContainer==k)){var l=h(b._current);if(k==a.startContainer&&l<=a.startOffset){a.startOffset-=1}if(k==a.endContainer&&l<a.endOffset){a.endOffset-=1}}g.remove(b._current)}},hasPartialSubtree:function(){return!i(this._current)&&(g.isAncestorOrSelf(this._current,this.range.startContainer)||g.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){return new r(this.getSubRange())},getSubRange:function(){var a=this,b=a.range.cloneRange();b.selectNodeContents(a._current);if(g.isAncestorOrSelf(a._current,a.range.startContainer)){b.setStart(a.range.startContainer,a.range.startOffset)}if(g.isAncestorOrSelf(a._current,a.range.endContainer)){b.setEnd(a.range.endContainer,a.range.endOffset)}return b}});var s=c.extend({init:function(a){this.ownerDocument=a;this.rangeCount=1},addRange:function(a){var b=this.ownerDocument.body.createTextRange();u(b,a,false);u(b,a,true);b.select()},removeAllRanges:function(){var a=this.ownerDocument.selection;if(a.type!="None"){a.empty()}},getRangeAt:function(){var a,b=new n(this.ownerDocument),c=this.ownerDocument.selection,d,e;try{a=c.createRange();d=a.item?a.item(0):a.parentElement();if(d.ownerDocument!=this.ownerDocument){return b}}catch(a){return b}if(c.type=="Control"){b.selectNode(a.item(0))}else{e=t(a);v(a,b,e,true);v(a,b,e,false);if(b.startContainer.nodeType==9){b.setStart(b.endContainer,b.startOffset)}if(b.endContainer.nodeType==9){b.setEnd(b.startContainer,b.endOffset)}if(a.compareEndPoints("StartToEnd",a)===0){b.collapse(false)}var f=b.startContainer,g=b.endContainer,j=this.ownerDocument.body;if(!b.collapsed&&b.startOffset===0&&b.endOffset==k(b.endContainer)&&!(f==g&&i(f)&&f.parentNode==j)){var l=false,m=false;while(h(f)===0&&f==f.parentNode.firstChild&&f!=j){f=f.parentNode;l=true}while(h(g)==k(g.parentNode)-1&&g==g.parentNode.lastChild&&g!=j){g=g.parentNode;m=true}if(f==j&&g==j&&l&&m){b.setStart(f,0);b.setEnd(g,k(j))}}}return b}});function t(a){var b=a.duplicate(),c=a.duplicate();b.collapse(true);c.collapse(false);return g.commonAncestor(a.parentElement(),b.parentElement(),c.parentElement())}function u(a,b,c){var d=b[c?"startContainer":"endContainer"],e=b[c?"startOffset":"endOffset"],f=0,h=i(d),j=h?d:d.childNodes[e]||null,k=h?d.parentNode:d,l=b.ownerDocument,m=l.body.createTextRange(),n;if(d.nodeType==3||d.nodeType==4){f=e}if(!k){k=l.body}if(k.nodeName.toLowerCase()=="img"){m.moveToElementText(k);m.collapse(false);a.setEndPoint(c?"StartToStart":"EndToStart",m)}else{n=k.insertBefore(g.create(l,"a"),j);m.moveToElementText(n);g.remove(n);m[c?"moveStart":"moveEnd"]("character",f);m.collapse(false);a.setEndPoint(c?"StartToStart":"EndToStart",m)}}function v(a,b,c,d){var e=g.create(b.ownerDocument,"a"),f=a.duplicate(),j=d?"StartToStart":"StartToEnd",k,l,m,n,o,p,q,r=false;e.innerHTML="\ufeff";f.collapse(d);l=f.parentElement();if(!g.isAncestorOrSelf(c,l)){l=c}do{if(r){l.insertBefore(e,e.previousSibling)}else{l.appendChild(e);r=true}f.moveToElementText(e)}while((k=f.compareEndPoints(j,a))>0&&e.previousSibling);m=e.nextSibling;if(k==-1&&i(m)){f.setEndPoint(d?"EndToStart":"EndToEnd",a);g.remove(e);p=[m,f.text.length]}else{n=!d&&e.previousSibling;o=d&&e.nextSibling;if(i(o)){
p=[o,0]}else if(i(n)){p=[n,n.length]}else{q=h(e);if(l.nextSibling&&q==l.childNodes.length-1){p=[l.nextSibling,0]}else{p=[l,q]}}g.remove(e)}b[d?"setStart":"setEnd"].apply(b,p)}var w=c.extend({init:function(a){this.enumerate=function(){var b=[];function c(a){if(g.is(a,"img")||a.nodeType==3&&(!g.isEmptyspace(a)||a.nodeValue=="\ufeff")){b.push(a)}else{a=a.firstChild;while(a){c(a);a=a.nextSibling}}}new r(a).traverse(c);return b}}});var x=r.extend({hasPartialSubtree:function(){var a=e.Immutables&&e.Immutables.immutable;return a&&!a(this._current)&&r.fn.hasPartialSubtree.call(this)},getSubtreeIterator:function(){return new x(this.getSubRange())}});var y=c.extend({init:function(a){this.enumerate=function(){var b=[];var c=e.Immutables&&e.Immutables.immutable;function d(a){if(c&&!c(a)){if(g.is(a,"img")||a.nodeType==3&&(!g.isEmptyspace(a)||a.nodeValue=="\ufeff")){b.push(a)}else{a=a.firstChild;while(a){d(a);a=a.nextSibling}}}}new x(a).traverse(d);return b}}});var z=c.extend({init:function(a,b,c){var d=this;d.range=a;d.rootNode=C.documentFromRange(a);d.body=b||d.getEditable(a);if(g.name(d.body)!="body"){d.rootNode=d.body}d.startContainer=d.nodeToPath(a.startContainer);d.endContainer=d.nodeToPath(a.endContainer);d.startOffset=d.offset(a.startContainer,a.startOffset);d.endOffset=d.offset(a.endContainer,a.endOffset);d.immutables=c&&c.immutables;if(d.immutables){d.serializedImmutables=e.Immutables.removeImmutables(d.body)}d.html=d.body.innerHTML;if(d.immutables&&!d.serializedImmutables.empty){e.Immutables.restoreImmutables(d.body,d.serializedImmutables)}},index:function(a){var b=0,c=a.nodeType;while(a=a.previousSibling){var d=a.nodeType;if(d!=3||c!=d){b++}c=d}return b},getEditable:function(a){var b=a.commonAncestorContainer;while(b&&(b.nodeType==3||b.attributes&&(!b.attributes.contentEditable||b.attributes.contentEditable.nodeValue.toLowerCase()=="false"))){b=b.parentNode}return b},restoreHtml:function(){var a=this;g.removeChildren(a.body);a.body.innerHTML=a.html;if(a.immutables&&!a.serializedImmutables.empty){e.Immutables.restoreImmutables(a.body,a.serializedImmutables)}},offset:function(a,b){if(a.nodeType==3){while((a=a.previousSibling)&&a.nodeType==3){b+=a.nodeValue.length}}return b},nodeToPath:function(a){var b=[];while(a!=this.rootNode){b.push(this.index(a));a=a.parentNode}return b},toRangePoint:function(a,b,c,d){var e=this.rootNode,f=c.length,g=d;while(f--){e=e.childNodes[c[f]]}while(e&&e.nodeType==3&&e.nodeValue.length<g){g-=e.nodeValue.length;e=e.nextSibling}if(e&&g>=0){a[b?"setStart":"setEnd"](e,g)}},toRange:function(){var a=this,b=a.range.cloneRange();a.toRangePoint(b,true,a.startContainer,a.startOffset);a.toRangePoint(b,false,a.endContainer,a.endOffset);return b}});var A=c.extend({init:function(){this.caret=null},addCaret:function(a){var b=this;var c=b.caret=g.create(C.documentFromRange(a),"span",{className:"k-marker"});a.insertNode(c);g.stripBomNode(c.previousSibling);g.stripBomNode(c.nextSibling);a.selectNode(c);return c},removeCaret:function(a){var b=this,c=b.caret.previousSibling,d=0;if(c){d=i(c)?c.nodeValue.length:h(c)}var e=b.caret.parentNode;var j=c?h(c):0;g.remove(b.caret);l(e);var k=e.childNodes[j];if(i(k)){a.setStart(k,d)}else if(k){var m=g.lastTextNode(k);if(m){a.setStart(m,m.nodeValue.length)}else{a[c?"setStartAfter":"setStartBefore"](k)}}else{if(!f.msie&&!e.innerHTML){e.innerHTML='<br _moz_dirty="" />'}a.selectNodeContents(e)}a.collapse(true)},add:function(a,b){var c=this;var d=a.collapsed&&!C.isExpandable(a);var e=C.documentFromRange(a);if(b&&a.collapsed){c.addCaret(a);a=C.expand(a)}var f=a.cloneRange();f.collapse(false);c.end=g.create(e,"span",{className:"k-marker"});f.insertNode(c.end);f=a.cloneRange();f.collapse(true);c.start=c.end.cloneNode(true);f.insertNode(c.start);c._removeDeadMarkers(c.start,c.end);if(d){var h=e.createTextNode("\ufeff");g.insertAfter(h.cloneNode(),c.start);g.insertBefore(h,c.end)}l(a.commonAncestorContainer);a.setStartBefore(c.start);a.setEndAfter(c.end);return a},_removeDeadMarkers:function(a,b){if(a.previousSibling&&a.previousSibling.nodeValue=="\ufeff"){g.remove(a.previousSibling)}if(b.nextSibling&&b.nextSibling.nodeValue=="\ufeff"){g.remove(b.nextSibling)}},_normalizedIndex:function(a){var b=h(a);var c=a;while(c.previousSibling){if(c.nodeType==3&&c.previousSibling.nodeType==3){b--}c=c.previousSibling}return b},remove:function(a){var b=this,c=b.start,d=b.end,e,f,h;l(a.commonAncestorContainer);while(!c.nextSibling&&c.parentNode){c=c.parentNode}while(!d.previousSibling&&d.parentNode){d=d.parentNode}e=c.previousSibling&&c.previousSibling.nodeType==3&&(c.nextSibling&&c.nextSibling.nodeType==3);f=d.previousSibling&&d.previousSibling.nodeType==3&&(d.nextSibling&&d.nextSibling.nodeType==3);h=e&&f;c=c.nextSibling;d=d.previousSibling;var j=c===d&&g.isBom(c);if(j&&c.length>1){c.nodeValue=c.nodeValue.charAt(0)}var k=j;var m=false;if(c==b.end){m=!!b.start.previousSibling;c=d=b.start.previousSibling||b.end.nextSibling;k=true}g.remove(b.start);g.remove(b.end);if(!c||!d){a.selectNodeContents(a.commonAncestorContainer);a.collapse(true);return}var n=k?i(c)?c.nodeValue.length:c.childNodes.length:0;var o=i(d)?d.nodeValue.length:d.childNodes.length;if(c.nodeType==3){while(c.previousSibling&&c.previousSibling.nodeType==3){c=c.previousSibling;n+=c.nodeValue.length}}if(d.nodeType==3){while(d.previousSibling&&d.previousSibling.nodeType==3){d=d.previousSibling;o+=d.nodeValue.length}}var p=c.parentNode;var q=d.parentNode;var r=this._normalizedIndex(c);var s=this._normalizedIndex(d);l(p);if(c.nodeType==3){c=p.childNodes[r]}l(q);if(d.nodeType==3){d=q.childNodes[s]}if(k){if(c.nodeType==3){a.setStart(c,n)}else{a[m?"setStartAfter":"setStartBefore"](c)}a.collapse(true)}else{if(c.nodeType==3){a.setStart(c,n)}else{a.setStartBefore(c)}if(d.nodeType==3){a.setEnd(d,o)}else{a.setEndAfter(d)}}if(b.caret){b.removeCaret(a)}}});var B=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var C={nodes:function(a){var b=C.textNodes(a);if(!b.length){a.selectNodeContents(a.commonAncestorContainer);b=C.textNodes(a);if(!b.length){b=g.significantChildNodes(a.commonAncestorContainer)}}return b},textNodes:function(a){return new w(a).enumerate()},editableTextNodes:function(a){var b=[],c=e.Immutables&&e.Immutables.immutableParent;if(c&&!c(a.commonAncestorContainer)){b=new y(a).enumerate()}return b},documentFromRange:function(a){var b=a.startContainer;return b.nodeType==9?b:b.ownerDocument},createRange:function(a){if(f.msie&&f.version<9){return new n(a)}return a.createRange()},selectRange:function(a){var b=C.image(a);if(b){a.setStartAfter(b);a.setEndAfter(b)}var c=m.selectionFromRange(a);c.removeAllRanges();c.addRange(a)},stringify:function(a){return b.format("{0}:{1} - {2}:{3}",g.name(a.startContainer),a.startOffset,g.name(a.endContainer),a.endOffset)},split:function(a,b,c){function d(d){var e=a.cloneRange();e.collapse(d);e[d?"setStartBefore":"setEndAfter"](b);var f=e.extractContents();if(c){f=g.trim(f)}g[d?"insertBefore":"insertAfter"](f,b)}d(true);d(false)},mapAll:function(b,c){var d=[];new r(b).traverse(function(b){var e=c(b);if(e&&a.inArray(e,d)<0){d.push(e)}});return d},getAll:function(a,b){var c=b;if(typeof b=="string"){b=function(a){return g.is(a,c)}}return C.mapAll(a,function(a){if(b(a)){return a}})},getMarkers:function(a){return C.getAll(a,function(a){return a.className=="k-marker"})},image:function(a){var b=C.getAll(a,"img");if(b.length==1){return b[0]}},isStartOf:function(a,b){if(a.startOffset!==0){return false}var c=a.cloneRange();while(c.startOffset===0&&c.startContainer!=b){var d=g.findNodeIndex(c.startContainer);var e=c.startContainer.parentNode;while(d>0&&e[d-1]&&g.insignificant(e[d-1])){d--}c.setStart(e,d)}return c.startOffset===0&&c.startContainer==b},isEndOf:function(a,b){var c=a.cloneRange();c.collapse(false);var d=c.startContainer;if(g.isDataNode(d)&&c.startOffset==g.getNodeLength(d)){c.setStart(d.parentNode,g.findNodeIndex(d)+1);c.collapse(true)}c.setEnd(b,g.getNodeLength(b));var e=[];function f(a){if(!g.insignificant(a)&&!(g.isDataNode(a)&&/^[\ufeff]*$/.test(a.nodeValue))){e.push(a)}}new r(c).traverse(f);return!e.length},wrapSelectedElements:function(a){var b=g.editableParent(a.startContainer);var c=g.editableParent(a.endContainer);while(a.startOffset===0&&a.startContainer!=b){a.setStart(a.startContainer.parentNode,g.findNodeIndex(a.startContainer))}function d(a,b){var c=g.getNodeLength(b);if(a==c){return true}for(var d=a;d<c;d++){if(!g.insignificant(b.childNodes[d])){return false}}return true}while(d(a.endOffset,a.endContainer)&&a.endContainer!=c){a.setEnd(a.endContainer.parentNode,g.findNodeIndex(a.endContainer)+1)}return a},expand:function(a){var b=a.cloneRange();var c=b.startContainer.childNodes[b.startOffset===0?0:b.startOffset-1];var d=b.endContainer.childNodes[b.endOffset];if(!i(c)||!i(d)){return b}var e=c.nodeValue;var f=d.nodeValue;if(!e||!f){return b}var g=e.split("").reverse().join("").search(B);var h=f.search(B);if(!g||!h){return b}h=h==-1?f.length:h;g=g==-1?0:e.length-g;b.setStart(c,g);b.setEnd(d,h);return b},isExpandable:function(a){var b=a.startContainer;var c=C.documentFromRange(a);if(b==c||b==c.body){return false}var d=a.cloneRange();var e=b.nodeValue;if(!e){return false}var f=e.substring(0,d.startOffset);var g=e.substring(d.startOffset);var h=0,i=0;if(f){h=f.split("").reverse().join("").search(B)}if(g){i=g.search(B)}return h&&i}};d(e,{SelectionUtils:m,W3CRange:n,RangeIterator:r,W3CSelection:s,RangeEnumerator:w,RestorePoint:z,Marker:A,RangeUtils:C})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/immutables",["editor/range"],a)})(function(){(function(a,b){var c=window.kendo,d=c.Class,e=c.ui.editor,f=e.Dom,g=c.template,h=e.RangeUtils,i=["ul","ol","tbody","thead","table"],j=["bold","italic","underline","strikethrough","superscript","subscript","forecolor","backcolor","fontname","fontsize","createlink","unlink","autolink","addcolumnleft","addcolumnright","addrowabove","addrowbelow","deleterow","deletecolumn","mergecells","formatting","cleanformatting"],k="k-immutable",l="["+k+"]",m="[contenteditable='false']";var n=function(b){return a(b).is("body,.k-editor")};var o=function(a){return a.getAttribute&&a.getAttribute("contenteditable")=="false"};var p=function(a){return f.closestBy(a,o,n)};var q=function(a){var b=p(a.startContainer);var c=p(a.endContainer);if(b||c){if(b){a.setStartBefore(b)}if(c){a.setEndAfter(c)}}};var r=function(a){if(p(a.commonAncestorContainer)){return true}else if(p(a.startContainer)||p(a.endContainer)){var b=h.editableTextNodes(a);if(b.length===0){return true}}return false};var s=function(a){var b="";var c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var d=a||10;d>0;--d){b+=c.charAt(Math.round(Math.random()*(c.length-1)))}return b};var t=function(b){var c={empty:true},d,e,g;a(b).find(m).each(function(b,h){d=f.name(h);e=s();g="<"+d+" "+k+"='"+e+"'></"+d+">";c[e]={node:h,style:a(h).attr("style")};c.empty=false;a(h).replaceWith(g)});return c};var u=function(b,c){var d,e;a(b).find(l).each(function(b,f){d=f.getAttribute(k);e=c[d];a(f).replaceWith(e.node);if(e.style!=a(e.node).attr("style")){a(e.node).removeAttr("style").attr("style",e.style)}})};var v=function(a){var b=c.keys;return a===b.BACKSPACE||a==b.DELETE};var w=function(a){var c=a?a.options:b;if(c&&c.finder){c.finder._initOptions({immutables:true})}};var x=d.extend({init:function(b){this.editor=b;this.serializedImmutables={};this.options=a.extend({},b&&b.options&&b.options.immutables);var c=b.toolbar.tools;w(c.justifyLeft);w(c.justifyCenter);w(c.justifyRight);w(c.justifyFull)},serialize:function(a){var b=this._toHtml(a),c;if(b.indexOf(k)===-1){c=this.randomId();b=b.replace(/>/," "+k+'="'+c+'">')}else{c=b.match(/k-immutable\s*=\s*['"](.*)['"]/)[1]}this.serializedImmutables[c]=a;return b},_toHtml:function(a){var b=this.options.serialization;var c=typeof b;var d;switch(c){case"string":return g(b)(a);case"function":return b(a);default:d=f.name(a);return"<"+d+"></"+d+">"}},deserialize:function(b){var d=this;var e=this.options.deserialization;a(l,b).each(function(){var b=this.getAttribute(k);var f=d.serializedImmutables[b];if(c.isFunction(e)){e(this,f)}a(this).replaceWith(f)});d.serializedImmutables={}},randomId:function(a){return s(a)},keydown:function(a,b){var c=v(a.keyCode);var d=c&&this._cancelDeleting(a,b)||!c&&this._cancelTyping(a,b);if(d){a.preventDefault();return true}},_cancelTyping:function(a,b){var c=this.editor;var d=c.keyboard;return b.collapsed&&!d.typingInProgress&&d.isTypingKey(a)&&r(b)},_cancelDeleting:function(a,b){var d=c.keys;var e=a.keyCode===d.BACKSPACE;var g=a.keyCode==d.DELETE;if(!e&&!g){return false}var h=false;if(b.collapsed){if(r(b)){return true}var j=this.nextImmutable(b,g);if(j&&e){var k=f.closest(b.commonAncestorContainer,"li");if(k){var l=f.closest(j,"li");if(l&&l!==k){return h}}}if(j&&!f.tableCell(j)){if(f.parentOfType(j,i)===f.parentOfType(b.commonAncestorContainer,i)){while(j&&j.parentNode.childNodes.length==1){j=j.parentNode}if(f.tableCell(j)){return h}this._removeImmutable(j,b)}h=true}}return h},nextImmutable:function(a,b){var c=a.commonAncestorContainer;if(f.isBom(c)||(b&&h.isEndOf(a,c)||!b&&h.isStartOf(a,c))){var d=this._nextNode(c,b);if(d&&f.isBlock(d)&&!p(d)){while(d&&d.children&&d.children[b?0:d.children.length-1]){d=d.children[b?0:d.children.length-1]}}return p(d)}},_removeImmutable:function(a,b){var c=this.editor;var d=new e.RestorePoint(b,c.body);f.remove(a);e._finishUpdate(c,d)},_nextNode:function(a,b){var c=b?"nextSibling":"previousSibling";var d=a,e;while(d&&!e){e=d[c];if(e&&f.isDataNode(e)&&/^\s|[\ufeff]$/.test(e.nodeValue)){d=e;e=d[c]}if(!e){d=d.parentNode}}return e}});x.immutable=o;x.immutableParent=p;x.expandImmutablesIn=q;x.immutablesContext=r;x.toolsToBeUpdated=j;x.removeImmutables=t;x.restoreImmutables=u;e.Immutables=x})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/command",["editor/immutables"],a)})(function(){(function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=d.Dom,f=d.RestorePoint,g=d.Marker,h=a.extend;function i(a,b){var c=a.selectionRestorePoint=new f(a.getRange(),a.body);var d=new k(b,c);d.editor=a;a.undoRedoStack.push(d);return c}var j=c.extend({init:function(a){this.options=a;this.restorePoint=new f(a.range,a.body,{immutables:a.immutables});this.marker=new g;this.formatter=a.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(a){return this.marker.add(this.getRange(),a)},releaseRange:function(a){this.marker.remove(a);this.editor.selectRange(a)},undo:function(){var a=this.restorePoint;a.restoreHtml();this.editor.selectRange(a.toRange())},redo:function(){this.exec()},createDialog:function(c,d){var e=this.editor;return a(c).appendTo(document.body).kendoWindow(h({},e.options.dialogOptions,d)).closest(".k-window").toggleClass("k-rtl",b.support.isRtl(e.wrapper)).end()},exec:function(){var a=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(a);this.releaseRange(a)},immutables:function(){return this.editor&&this.editor.options.immutables},expandImmutablesIn:function(a){if(this.immutables()){b.ui.editor.Immutables.expandImmutablesIn(a);this.restorePoint=new f(a,this.editor.body)}}});var k=c.extend({init:function(a,b){this.body=a.body;this.startRestorePoint=a;this.endRestorePoint=b},redo:function(){e.removeChildren(this.body);this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){e.removeChildren(this.body);this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});h(d,{_finishUpdate:i,Command:j,GenericCommand:k})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/toolbar",["editor/range"],a)})(function(){(function(a,b){var c=window.kendo;var d=c.ui;var e=d.editor;var f=d.Widget;var g=a.extend;var h=a.proxy;var i=c.keys;var j=".kendoEditor";var k=e.EditorUtils;var l=e.ToolTemplate;var m=e.Tool;var n=c._outerWidth;var o=c._outerHeight;var p="overflowAnchor";var q=".k-tool-group:visible a.k-tool:not(.k-state-disabled),"+".k-tool.k-overflow-anchor:visible,"+".k-tool-group:visible .k-widget.k-colorpicker,"+".k-tool-group:visible .k-selectbox,"+".k-tool-group:visible .k-dropdown,"+".k-tool-group:visible .k-combobox .k-input";var r={"k-i-sup-script":"superscript","k-i-sub-script":"subscript","k-i-align-left":"justifyLeft","k-i-align-center":"justifyCenter","k-i-align-right":"justifyRight","k-i-align-justify":"justifyFull","k-i-list-unordered":"insertUnorderedList","k-i-list-ordered":"insertOrderedList","k-i-login":"import","k-i-indent-increase":"indent","k-i-indent-decrease":"outdent","k-i-link-horizontal":"createLink","k-i-unlink-horizontal":"unlink","k-i-image":"insertImage","k-i-file-add":"insertFile","k-i-html":"viewHtml","k-i-foreground-color":"foreColor","k-i-paint":"backColor","k-i-table-insert":"createTable","k-i-table-column-insert-left":"addColumnLeft","k-i-table-column-insert-right":"addColumnRight","k-i-table-row-insert-above":"addRowAbove","k-i-table-row-insert-below":"addRowBelow","k-i-table-row-delete":"deleteRow","k-i-table-column-delete":"deleteColumn","k-i-table-properties":"tableWizard","k-i-table-wizard":"tableWizardInsert","k-i-clear-css":"cleanFormatting"};var s=m.extend({initialize:function(b,c){b.attr({unselectable:"on"});var d=c.editor.toolbar;b.attr("aria-controls",c.editor.element.attr("id")).on("click",a.proxy(function(){this.overflowPopup.toggle()},d))},options:{name:p},command:a.noop,update:a.noop,destroy:a.noop});k.registerTool(p,new s({key:"",ctrl:true,template:new l({template:k.overflowAnchorTemplate})}));var t=f.extend({init:function(a,b){var d=this;b=g({},b,{name:"EditorToolbar"});f.fn.init.call(d,a,b);if(b.popup){d._initPopup()}if(b.resizable&&b.resizable.toolbar){d._resizeHandler=c.onResize(function(){d.resize(true)});d.element.addClass("k-toolbar-resizable")}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","insertFile","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml","cleanFormatting","print","pdf","exportAs","import"],fonts:["fontName","fontSize"],colors:["foreColor","backColor"]},overflowFlaseTools:["formatting","fontName","fontSize","foreColor","backColor","insertHtml"],_initPopup:function(){var b=this;this.window=a(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-handler-drag' /></button>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(c){if(!a(c.target).is(".k-icon")){b.preventPopupHide=true}}).on("focusout",function(){b.options.editor.element.focusout()}).data("kendoWindow")},_toggleOverflowStyles:function(a,b){a.find("li").toggleClass("k-item k-state-default",b).find(".k-tool:not(.k-state-disabled),.k-overflow-button").toggleClass("k-overflow-button k-button",b)},_initOverflowPopup:function(b){var c=this;var d="<ul class='k-editor-overflow-popup k-overflow-container k-list-container'></ul>";c.overflowPopup=a(d).appendTo("body").kendoPopup({anchor:b,origin:"bottom right",position:"top right",copyAnchorStyles:false,open:function(a){if(this.element.is(":empty")){a.preventDefault()}c._toggleOverflowStyles(this.element,true);b.attr("aria-expanded",true)},close:function(){b.attr("aria-expanded",false)},activate:h(c.focusOverflowPopup,c)}).data("kendoPopup")},items:function(){var a=this.options.resizable&&this.options.resizable.toolbar,b,c;c=this.element.children().find("> *, select");if(a){b=this.overflowPopup;c=c.add(b.element.children().find("> *"))}return c},focused:function(){return this.element.find(".k-state-focused").length>0||this.preventPopupHide||this.overflowPopup&&this.overflowPopup.visible()},toolById:function(a){var b,c=this.tools;for(b in c){if(b.toLowerCase()==a){return c[b]}}},toolGroupFor:function(b){var c,d=this.groups;if(this.isCustomTool(b)){return"custom"}for(c in d){if(a.inArray(b,d[c])>=0){return c}}},bindTo:function(b){var c=this,d=c.window;if(c._editor){c._editor.unbind("select",h(c.resize,c))}c._editor=b;if(c.options.resizable&&c.options.resizable.toolbar){b.options.tools.push(p)}c.tools=c.expandTools(b.options.tools);c.render();c.element.find(".k-combobox .k-input").keydown(function(b){var c=a(this).closest(".k-combobox").data("kendoComboBox"),d=b.keyCode;if(d==i.RIGHT||d==i.LEFT){c.close()}else if(d==i.DOWN){if(!c.dropDown.isOpened()){b.stopImmediatePropagation();c.open()}}});c._attachEvents();c.items().each(function d(){var e=c._toolName(this),f=e!=="moreVertical"?c.tools[e]:c.tools.overflowAnchor,g=f&&f.options,h=b.options.messages,i=g&&g.tooltip||h[e],j=a(this);if(!f||!f.initialize){return}if(e=="fontSize"||e=="fontName"){var k=h[e+"Inherit"];j.find("input").val(k).end().find("span.k-input").text(k).end()}f.initialize(j,{title:c._appendShortcutSequence(i,f),editor:c._editor});j.closest(".k-widget",c.element).addClass("k-editor-widget");j.closest(".k-colorpicker",c.element).next(".k-colorpicker").addClass("k-editor-widget")});b.bind("select",h(c.resize,c));c.update();if(d){d.wrapper.css({top:"",left:"",width:""})}},show:function(){var a=this,b=a.window,d=a.options.editor,e,f,g,h=c.support.browser;if(b){e=b.wrapper;f=d.element;if(!e.is(":visible")||!a.window.options.visible){if(!e[0].style.width){e.width(this._getWindowWidth())}if(!b._moved){g=f.offset();e.css({top:Math.max(0,parseInt(g.top,10)-o(e)-parseInt(a.window.element.css("padding-bottom"),10)),left:Math.max(0,parseInt(g.left,10))})}if((h.msie||h.edge)&&a._overlaps(f)){setTimeout(function(){b.open()},0)}else{b.open()}}}},_getWindowWidth:function(){var a=this,b=a.window.wrapper,c=a.options.editor.element;return n(c)-parseInt(b.css("border-left-width"),10)-parseInt(b.css("border-right-width"),10)},_overlaps:function(a){var b=this.window.wrapper,c=b.offset(),d=c.left,e=c.top,f=a.offset(),g=f.left,h=f.top;return!(g+a.width()<d||g>d+b.width()||h+a.height()<e||h>e+b.height())},hide:function(){if(this.window){this.window.close()}},focus:function(){var a="tabIndex";var b=this.element;var c=this._editor.element.attr(a);b.attr(a,c||0).focus().find(q).first().focus();if(!c&&c!==0){b.removeAttr(a)}},focusOverflowPopup:function(){var a="tabIndex";var b=this.overflowPopup.element;var c=this._editor.element.attr(a);b.closest(".k-animation-container").addClass("k-overflow-wrapper");b.attr(a,c||0).find(q).first().focus();if(!c&&c!==0){b.removeAttr(a)}},_appendShortcutSequence:function(a,b){if(!b.key){return a}var c=a+" (";if(b.ctrl){c+="Ctrl + "}if(b.shift){c+="Shift + "}if(b.alt){c+="Alt + "}c+=b.key+")";return c},_nativeTools:["insertLineBreak","insertParagraph","redo","undo","autoLink"],tools:{},isCustomTool:function(a){return!(a in c.ui.Editor.defaultTools)},expandTools:function(b){var d,f,h=this._nativeTools,i,j=c.deepExtend({},c.ui.Editor.defaultTools),k={},l;for(f=0;f<b.length;f++){d=b[f];l=d.name;if(a.isPlainObject(d)){if(l&&j[l]){k[l]=g({},j[l]);g(k[l].options,d)}else{i=g({cssClass:"k-i-gear",type:"button",title:""},d);if(!i.name){i.name="custom"}i.cssClass="k-"+i.name;if(!i.template&&i.type=="button"){i.template=e.EditorUtils.buttonTemplate;i.title=i.title||i.tooltip}k[l]={options:i}}}else if(j[d]){k[d]=j[d]}}for(f=0;f<h.length;f++){if(!k[h[f]]){k[h[f]]=j[h[f]]}}return k},render:function(){var b=this,d=b.tools,e,f,g,i,j=b._editor.element,k=b.element.empty(),l,m,n=b._editor.options.tools,o=c.support.browser,q,r,s=0,t=b.options.resizable&&b.options.resizable.toolbar,u=this.overflowFlaseTools;function v(b){var d;if(b.getHtml){d=b.getHtml()}else{if(!a.isFunction(b)){b=c.template(b)}d=b(e)}return a.trim(d)}function w(){if(q.children().length){if(t){q.data("position",s);s++}q.appendTo(k)}}function x(b){if(b!==p){q=a("<li class='k-tool-group' role='presentation' />");q.data("overflow",a.inArray(b,u)===-1?true:false)}else{q=a("<li class='k-overflow-tools' />")}}k.empty();if(n.length){i=n[0].name||n[0]}x(i,u);for(r=0;r<n.length;r++){i=n[r].name||n[r];e=d[i]&&d[i].options;if(!e&&a.isPlainObject(i)){e=i}f=e&&e.template;if(i=="break"){w();a("<li class='k-row-break' />").appendTo(b.element);x(i,u)}if(!f){continue}m=b.toolGroupFor(i);if(l!=m||i==p){w();x(i,u);l=m}if(i==p){f.options.title=b.options.messages.overflowAnchor}f=v(f);g=a(f).appendTo(q);if(m=="custom"){w();x(i,u)}if(e.exec&&g.hasClass("k-tool")){g.click(h(e.exec,j[0]))}}w();a(b.element).children(":has(> .k-tool)").addClass("k-button-group");if(b.options.popup&&o.msie&&o.version<9){b.window.wrapper.find("*").attr("unselectable","on")}b.updateGroups();if(t){b._initOverflowPopup(b.element.find(".k-overflow-anchor"))}b.angular("compile",function(){return{elements:b.element}})},updateGroups:function(){a(this.element).children().each(function(){a(this).addClass("k-state-disabled");a(this).children().filter(function(){return!a(this).hasClass("k-state-disabled")}).removeClass("k-group-end").first().addClass("k-group-start").end().last().addClass("k-group-end").end().parent().removeClass("k-state-disabled").css("display","")})},decorateFrom:function(b){this.items().filter(".k-decorated").each(function(){var c=a(this).data("kendoSelectBox");if(c){c.decorate(b)}})},destroy:function(){f.fn.destroy.call(this);var a,b=this.tools;for(a in b){if(b[a].destroy){b[a].destroy()}}if(this.window){this.window.destroy()}if(this._resizeHandler){c.unbindResize(this._resizeHandler)}if(this.overflowPopup){this.overflowPopup.destroy()}},_attachEvents:function(){var b=this,c=b.overflowPopup?b.overflowPopup.element:a([]);b.attachToolsEvents(b.element.add(c))},attachToolsEvents:function(b){var d=this,e="[role=button].k-tool",f=e+":not(.k-state-disabled)",g=e+".k-state-disabled",h=".k-dropdown",k=".k-colorpicker",l=[e,h,k].join(",");b.off(j).on("mouseenter"+j,f,function(){a(this).addClass("k-state-hover")}).on("mouseleave"+j,f,function(){a(this).removeClass("k-state-hover")}).on("mousedown"+j,l,function(a){a.preventDefault()}).on("keydown"+j,q,function(b){var e=this;var f=d.options.resizable&&d.options.resizable.toolbar;var g=c.support.isRtl(d.element)?-1:1;var h;var j,k,l=b.keyCode;function m(a,b,c){var d=b.find(q);var f=d.index(e)+a;if(c){f=Math.max(0,Math.min(d.length-1,f))}return d[f]}if(l==i.RIGHT||l==i.LEFT){if(!a(e).is(".k-dropdown")){j=m(l==i.RIGHT?1*g:-1*g,d.element,true)}else{j=a(e)}}else if(f&&(l==i.UP||l==i.DOWN)){j=m(l==i.DOWN?1:-1,d.overflowPopup.element,true)}else if(l==i.HOME){j=d.element.find(q)[0];b.preventDefault()}else if(l==i.END){h=d.element.find(q).filter(function(){return a(this).css("visibility")!=="hidden"});j=h[h.length-1];b.preventDefault()}else if(l==i.ESC){if(d.overflowPopup&&d.overflowPopup.visible()){d.overflowPopup.close()}j=d._editor}else if(l==i.TAB&&!(b.ctrlKey||b.altKey)){if(f){k=a(e.parentElement).hasClass("k-overflow-tool-group")?d.overflowPopup.element:d.element}else{k=d.element}if(b.shiftKey){j=m(-1,k)}else{j=m(1,k);if(!j||a(j).closest(".k-overflow-tools").css("visibility")==="hidden"){j=d._editor}}}if(j){b.preventDefault();j.focus()}if((l===i.ENTER||l===i.SPACEBAR)&&a(e).is("a")&&!a(e).attr("href")){d._executeToolCommand(e,b)}}).on("click"+j,f,function(a){d._executeToolCommand(this,a)}).on("click"+j,g,function(a){a.preventDefault()})},_executeToolCommand:function(b,c){var d=this;var e=a(b);c.preventDefault();c.stopPropagation();e.removeClass("k-state-hover");if(!e.is("[data-popup]")){d._editor.exec(d._toolName(b))}},_toolName:function(b){if(!b){return}var d=b.className;if(/k-tool\b/i.test(d)){d=b.firstChild.className}var e=a.grep(d.split(" "),function(a){return!/^k-(widget|tool|tool-icon|icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(a)});if(e[0]){var f=e[0];if(r[f]){f=r[f]}if(f.indexOf("k-i-")>=0){return c.toCamelCase(f.substring(f.indexOf("k-i-")+4))}else{return f.substring(f.lastIndexOf("-")+1)}}return"custom"},refreshTools:function(){var b=this,c=b._editor,d=c.getRange(),f=e.RangeUtils.textNodes(d),g=c.options.immutables,h=b._immutablesContext(d);f=e.Dom.filterBy(f,e.Dom.htmlIndentSpace,true);if(!f.length){f=[d.startContainer]}b.items().each(function(){var c=b.tools[b._toolName(this)];if(c){var d=a(this);if(c.update){c.update(d,f)}if(g){b._updateImmutablesState(c,d,h)}}});this.update()},_immutablesContext:function(a){if(this._editor.options.immutables){if(a.collapsed){return e.Immutables.immutablesContext(a)}else{return e.RangeUtils.editableTextNodes(a).length===0}}},_updateImmutablesState:function(c,d,f){var g=c.name;var h=d;var i=c.options.trackImmutables;if(i===b){i=a.inArray(g,e.Immutables.toolsToBeUpdated)>-1}if(i){var j=f?"none":"";if(!d.is(".k-tool")){var k=d.data();for(var l in k){if(l.match(/^kendo[A-Z][a-zA-Z]*/)){var m=k[l];h=m.wrapper;break}}}h.css("display",j);var n=h.closest("li");if(n.children(":visible").length===0){n.css("display",j)}}},update:function(){this.updateGroups()},_resize:function(a){var b=a.width;var c=this.options.resizable&&this.options.resizable.toolbar;var d=this.overflowPopup;var e=this.options.editor.element;var f=this.window;this.refreshTools();if(!c){return}if(f){f.wrapper.width(this._getWindowWidth());if(!f._moved){f.wrapper.css({left:Math.max(0,parseInt(e.offset().left,10))})}}if(d.visible()){d.close(true)}this._refreshWidths();this._shrink(b);this._stretch(b);this._toggleOverflowStyles(this.element,false);this._toggleOverflowStyles(this.overflowPopup.element,true);this.element.children("li.k-overflow-tools").css("visibility",d.element.is(":empty")?"hidden":"visible")},_refreshWidths:function(){this.element.children("li").each(function(b,c){var d=a(c);d.data("outerWidth",n(d,true))})},_shrink:function(a){var b,c;if(a<this._groupsWidth()){c=this._visibleGroups().filter(":not(.k-overflow-tools)");for(var d=c.length-1;d>=0;d--){b=c.eq(d);if(a>this._groupsWidth()){break}else{this._hideGroup(b)}}}},_stretch:function(a){var b,c;if(a>this._groupsWidth()){c=this._hiddenGroups();for(var d=0;d<c.length;d++){b=c.eq(d);if(a<this._groupsWidth()||!this._showGroup(b,a)){break}}}},_hiddenGroups:function(){var b=this.overflowPopup;var c=this.element.children("li.k-tool-group").filter(":hidden");c=c.add(b.element.children("li"));c.sort(function(b,c){return a(b).data("position")>a(c).data("position")?1:-1});return c},_visibleGroups:function(){return this.element.children("li.k-tool-group, li.k-overflow-tools").filter(":visible")},_groupsWidth:function(){var b=0;this._visibleGroups().each(function(){b+=a(this).data("outerWidth")});return Math.ceil(b)},_hideGroup:function(a){if(a.data("overflow")){var b=this.overflowPopup;a.detach().prependTo(b.element).addClass("k-overflow-tool-group")}else{a.hide()}},_showGroup:function(b,c){var d,e;if(b.length&&c>this._groupsWidth()+b.data("outerWidth")){if(b.hasClass("k-overflow-tool-group")){d=b.data("position");if(d===0){b.detach().prependTo(this.element)}else{e=this.element.children().filter(function(b,c){return a(c).data("position")===d-1});b.detach().insertAfter(e)}b.removeClass("k-overflow-tool-group")}else{b.show()}return true}return false}});a.extend(e,{Toolbar:t})})(window.jQuery||window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/viewhtml",["editor/command"],a)})(function(){(function(a,b){var c=window.kendo,d=a.extend,e=c.ui.editor,f=e.EditorUtils,g=e.Command,h=e.Tool,i=e.ToolTemplate,j=e.Dom;var k=g.extend({init:function(a){var b=this;b.options=a;g.fn.init.call(b,a);b.attributes=null;b.async=true},exec:function(){var d=this,e=d.editor,g=e.options,h=e.options.messages,i=a(c.template(k.template)(h)).appendTo(document.body),l=".k-editor-textarea",m,n;
g.serialization.immutables=e.immutables;n=j.getAllComments(e.body);m=f.cacheComments(e.value(),n);m=k.indent(m);m=f.retrieveComments(m,n);g.serialization.immutables=b;function o(a){g.deserialization.immutables=e.immutables;e.value(i.find(l).val());g.deserialization.immutables=b;p(a);if(d.change){d.change()}e.trigger("change")}function p(a){a.preventDefault();i.data("kendoWindow").destroy();if(e.immutables){e.immutables.serializedImmutables={}}e.focus()}this.createDialog(i,{title:h.viewHtml,close:p,visible:false}).find(l).val(m).end().find(".k-dialog-update").click(o).end().find(".k-dialog-close").click(p).end().data("kendoWindow").center().open();i.find(l).focus()}});d(k,{template:"<div class='k-editor-dialog k-popup-edit-form k-viewhtml-dialog'>"+"<div class='k-edit-form-container'></div>"+"<textarea class='k-editor-textarea k-input'></textarea>"+"<div class='k-edit-buttons k-state-default'>"+"<button class='k-dialog-update k-button k-primary'>#: dialogUpdate #</button>"+"<button class='k-dialog-close k-button'>#: dialogCancel #</button>"+"</div>"+"</div>"+"</div>",indent:function(a){return a.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}});c.ui.editor.ViewHtmlCommand=k;e.EditorUtils.registerTool("viewHtml",new h({command:k,template:new i({template:f.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/format",["editor/command"],a)})(function(){(function(a){var b=window.kendo,c=a.extend,d=b.ui.editor,e=d.Tool,f=d.Command,g=d.EditorUtils;var h=f.extend({init:function(a){a.formatter=a.formatter();var b=a.formatter.finder;if(b&&g.formatByName("immutable",b.format)){b._initOptions({immutables:a.immutables})}f.fn.init.call(this,a)}});var i=e.extend({init:function(a){e.fn.init.call(this,a)},command:function(a){var b=this;return new h(c(a,{formatter:b.options.formatter}))},update:function(a,b){var c=this.options.finder.isFormatted(b);a.toggleClass("k-state-selected",c);a.attr("aria-pressed",c)}});a.extend(d,{FormatCommand:h,FormatTool:i})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/inlineformat",["editor/plugins/format"],a)})(function(){(function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=b.ui.Editor.fn.options.formats,f=d.EditorUtils,g=d.Tool,h=d.ToolTemplate,i=d.FormatTool,j=d.Dom,k=d.RangeUtils,l=a.extend,m=d.EditorUtils.registerTool,n=d.EditorUtils.registerFormat,o=function(a){a.preventDefault()},p="mousedown.kendoEditor",q="keydown.kendoEditor",r="k-marker";var s=c.extend({init:function(a){this.format=a},numberOfSiblings:function(a){var b=0,c=0,d=0,e=a.parentNode,f;for(f=e.firstChild;f;f=f.nextSibling){if(f!=a){if(f.className==r){d++}else if(f.nodeType==3){b++}else{c++}}}if(d>1&&e.firstChild.className==r&&e.lastChild.className==r){return 0}else{return c+b}},findSuitable:function(a,b){if(!b&&this.numberOfSiblings(a)>0){return null}var c=a.parentNode;var d=this.format[0].tags;while(!j.ofType(c,d)){if(this.numberOfSiblings(c)>0){return null}c=c.parentNode}return c},findFormat:function(a){var b=this.format,c=j.attrEquals,d,e,f,g,h;for(d=0,e=b.length;d<e;d++){f=a;g=b[d].tags;h=b[d].attr;if(f&&j.ofType(f,g)&&c(f,h)){return f}while(f){f=j.parentOfType(f,g);if(f&&c(f,h)){return f}}}return null},isFormatted:function(a){var b,c;for(b=0,c=a.length;b<c;b++){if(this.findFormat(a[b])){return true}}return false}});var t=c.extend({init:function(a,b){this.finder=new s(a);this.attributes=l({},a[0].attr,b);this.tag=a[0].tags[0]},wrap:function(a){return j.wrap(a,j.create(a.ownerDocument,this.tag,this.attributes))},activate:function(a,b){if(this.finder.isFormatted(b)){this.split(a);this.remove(b)}else{this.apply(b)}},toggle:function(a){var b=this.immutables()?k.editableTextNodes:k.textNodes;var c=b(a);if(c.length>0){this.activate(a,c)}},immutables:function(){return this.editor&&this.editor.options.immutables},apply:function(a){var b=[];var c,d,e,f;var g=this.attributes;var h=g?g.style||{}:{};for(c=0,d=a.length;c<d;c++){e=a[c];f=this.finder.findSuitable(e);if(f){if(j.is(f,"font")){if(h.color){f.removeAttribute("color")}if(h.fontName){f.removeAttribute("face")}if(h.fontSize){f.removeAttribute("size")}}j.attr(f,g)}else{while(!j.isBlock(e.parentNode)&&e.parentNode.childNodes.length==1&&e.parentNode.contentEditable!=="true"){e=e.parentNode}f=this.wrap(e)}b.push(f)}this.consolidate(b)},remove:function(a){var b,c,d;for(b=0,c=a.length;b<c;b++){d=this.finder.findFormat(a[b]);if(d){if(this.attributes&&this.attributes.style){j.unstyle(d,this.attributes.style);if(!d.style.cssText&&!d.attributes["class"]){j.unwrap(d)}}else{j.unwrap(d)}}}},split:function(a){var b=k.textNodes(a);var c=b.length;var d,e;if(c>0){for(d=0;d<c;d++){e=this.finder.findFormat(b[d]);if(e){k.split(a,e,true)}}}},consolidate:function(a){var b,c;while(a.length>1){b=a.pop();c=a[a.length-1];if(b.previousSibling&&b.previousSibling.className==r){c.appendChild(b.previousSibling)}if(b.tagName==c.tagName&&b.previousSibling==c&&b.style.cssText==c.style.cssText&&b.className===c.className){while(b.firstChild){c.appendChild(b.firstChild)}j.remove(b)}}}});var u=s.extend({init:function(a,b){this.format=a;this.greedyProperty=b;s.fn.init.call(this,a)},getInlineCssValue:function(b){var c=b.attributes;var d=a.trim;var e,f,g,h,i,k,l,m,n;var o,p,q;if(!c){return}for(e=0,f=c.length;e<f;e++){g=c[e];h=g.nodeName;i=g.nodeValue;if(g.specified&&h=="style"){k=d(i||b.style.cssText).split(";");for(m=0,n=k.length;m<n;m++){l=k[m];if(l.length){o=l.split(":");p=d(o[0].toLowerCase());q=d(o[1]);if(p!=this.greedyProperty){continue}return p.indexOf("color")>=0?j.toHex(q):q}}}}},getFormatInner:function(b){var c=a(j.isDataNode(b)?b.parentNode:b);var d=c.parentsUntil("[contentEditable]").addBack().toArray().reverse();var e,f,g;for(e=0,f=d.length;e<f;e++){g=this.greedyProperty=="className"?d[e].className:this.getInlineCssValue(d[e]);if(g){return g}}return"inherit"},getFormat:function(a){var b=this.getFormatInner(a[0]),c,d;for(c=1,d=a.length;c<d;c++){if(b!=this.getFormatInner(a[c])){return""}}return b},isFormatted:function(a){return this.getFormat(a)!==""}});var v=t.extend({init:function(a,c,d){t.fn.init.call(this,a,c);this.values=c;this.finder=new u(a,d);if(d){this.greedyProperty=b.toCamelCase(d)}},activate:function(a,b){var c=this.greedyProperty;var d="apply";this.split(a);if(c&&this.values.style[c]=="inherit"){d="remove"}this[d](b)}});var w=i.extend({init:function(a){i.fn.init.call(this,l(a,{finder:new s(a.format),formatter:function(){return new t(a.format)}}))}});var x=g.extend({update:function(a,b){var c=a.data(this.type);c.close();c.value(this.finder.getFormat(b))}});var y=x.extend({init:function(a){g.fn.init.call(this,a);this.type=b.support.browser.msie||b.support.touch?"kendoDropDownList":"kendoComboBox";this.format=[{tags:["span","font"]}];this.finder=new u(this.format,a.cssAttr)},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){e[b.domAttr]=a.value;return new v(c,{style:e},b.cssAttr)}}))},initialize:function(a,c){var d=c.editor,e=this.options,f=e.name,h,i,j=[];if(e.defaultValue){j=[{text:d.options.messages[e.defaultValue[0].text],value:e.defaultValue[0].value}]}h=j.concat(e.items?e.items:d.options[f]||[]);a.attr({title:c.title});a[this.type]({dataTextField:"text",dataValueField:"value",dataSource:h,change:function(){d._range=i;g.exec(d,f,this.value())},close:function(){setTimeout(function(){d._deleteSavedRange()},0)},highlightFirst:false});a.closest(".k-widget").removeClass("k-"+f).find("*").addBack().attr("unselectable","on");var k=a.data(this.type);k.value("inherit");k.wrapper.on(p,".k-select,.k-input",function(){var a=d.getRange();i=d._containsRange(a)?a:i}).on(q,function(a){if(a.keyCode===b.keys.ENTER){d._deleteSavedRange();a.preventDefault()}})}});var z=g.extend({init:function(a){g.fn.init.call(this,a);this.format=[{tags:["span","font"]}];this.finder=new u(this.format,a.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){e[b.domAttr]=a.value;return new v(c,{style:e},b.cssAttr)}}))},initialize:function(a,c){var d=c.editor,e=this.name,h=l({},z.fn.options,this.options),i=h.palette,j=h.columns;a=this._widget=new b.ui.ColorPicker(a,{toolIcon:"k-icon k-i-"+f.getToolCssClass(h.name),palette:i,columns:j,change:function(){var b=a.value();if(b){g.exec(d,e,b)}d.focus()},open:function(a){var b=a.sender;b.value(null);b._popup.element.on(p,o);if(!b._popup.element.is("[unselectable='on']")){b._popup.element.attr({unselectable:"on"}).find("*").attr("unselectable","on")}},close:function(a){a.sender._popup.element.off(p)},activate:function(b){b.preventDefault();a.trigger("change")}});a.wrapper.attr({title:c.title,unselectable:"on"}).find("*").attr("unselectable","on")}});l(d,{InlineFormatFinder:s,InlineFormatter:t,DelayedExecutionTool:x,GreedyInlineFormatFinder:u,GreedyInlineFormatter:v,InlineFormatTool:w,FontTool:y,ColorTool:z});n("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);m("bold",new w({key:"B",ctrl:true,format:e.bold,template:new h({template:f.buttonTemplate,title:"Bold"})}));n("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);m("italic",new w({key:"I",ctrl:true,format:e.italic,template:new h({template:f.buttonTemplate,title:"Italic"})}));n("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);m("underline",new w({key:"U",ctrl:true,format:e.underline,template:new h({template:f.buttonTemplate,title:"Underline"})}));n("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);m("strikethrough",new w({format:e.strikethrough,template:new h({template:f.buttonTemplate,title:"Strikethrough"})}));n("superscript",[{tags:["sup"]}]);m("superscript",new w({format:e.superscript,template:new h({template:f.buttonTemplate,title:"Superscript"})}));n("subscript",[{tags:["sub"]}]);m("subscript",new w({format:e.subscript,template:new h({template:f.buttonTemplate,title:"Subscript"})}));m("foreColor",new z({cssAttr:"color",domAttr:"color",name:"foreColor",template:new h({template:f.colorPickerTemplate,title:"Color"})}));m("backColor",new z({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new h({template:f.colorPickerTemplate,title:"Background Color"})}));m("fontName",new y({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Name"})}));m("fontSize",new y({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/link",["editor/plugins/inlineformat"],a)})(function(){(function(a,b){var c=window.kendo,d=c.Class,e=a.extend,f=a.proxy,g=c.ui.editor,h=g.Dom,i=g.RangeUtils,j=g.EditorUtils,k=g.Command,l=g.Tool,m=g.ToolTemplate,n=g.InlineFormatter,o=g.InlineFormatFinder,p=i.textNodes,q=i.editableTextNodes,r=g.EditorUtils.registerTool,s=c.keys;var t="http://";var u=/^\w*:\/\//;var v=/[\w\/\$\-_\*\?]/i;var w=d.extend({findSuitable:function(a){return h.parentOfType(a,["a"])}});var x=d.extend({init:function(){this.finder=new w},apply:function(a,b){var c=this.immutables?q(a):p(a);var d,e,f,g,j;if(b.innerText){e=i.documentFromRange(a);d=i.getMarkers(a);a.deleteContents();g=h.create(e,"a",b);a.insertNode(g);j=g.parentNode;if(h.name(j)=="a"){h.insertAfter(g,j)}if(h.emptyNode(j)){h.remove(j)}var k=g;for(var l=0;l<d.length;l++){h.insertAfter(d[l],k);k=d[l]}if(d.length){h.insertBefore(e.createTextNode("\ufeff"),d[1]);h.insertAfter(e.createTextNode("\ufeff"),d[1]);a.setStartBefore(d[0]);a.setEndAfter(d[d.length-1])}}else{f=new n([{tags:["a"]}],b);f.finder=this.finder;f.apply(c)}}});var y=k.extend({init:function(a){var b=this;a.formatter={toggle:function(a){var c=b.immutables()?q(a):p(a);new n([{tags:["a"]}]).remove(c)}};this.options=a;k.fn.init.call(this,a)}});var z=k.extend({init:function(a){var b;this.options=a;k.fn.init.call(this,a);this.formatter=new x;if(!a.url){this.attributes=null;this.async=true}else{this.exec=function(){this.formatter.immutables=b&&b.immutables();this.formatter.apply(a.range,{href:a.url,innerText:a.text||a.url,target:a.target})}}},_dialogTemplate:function(){return c.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+"<div class='k-edit-label'>"+"<label for='k-editor-link-url'>#: messages.linkWebAddress #</label>"+"</div>"+"<div class='k-edit-field'>"+"<input type='text' class='k-input k-textbox' id='k-editor-link-url'>"+"</div>"+"<div class='k-edit-label k-editor-link-text-row'>"+"<label for='k-editor-link-text'>#: messages.linkText #</label>"+"</div>"+"<div class='k-edit-field k-editor-link-text-row'>"+"<input type='text' class='k-input k-textbox' id='k-editor-link-text'>"+"</div>"+"<div class='k-edit-label'>"+"<label for='k-editor-link-title'>#: messages.linkToolTip #</label>"+"</div>"+"<div class='k-edit-field'>"+"<input type='text' class='k-input k-textbox' id='k-editor-link-title'>"+"</div>"+"<div class='k-edit-label'></div>"+"<div class='k-edit-field'>"+"<input type='checkbox' class='k-checkbox' id='k-editor-link-target'>"+"<label for='k-editor-link-target' class='k-checkbox-label'>#: messages.linkOpenInNewWindow #</label>"+"</div>"+"<div class='k-edit-buttons k-state-default'>"+'<button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button>'+'<button class="k-dialog-close k-button">#: messages.dialogCancel #</button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages})},exec:function(){var b=this.editor.options.messages;this._initialText="";this._range=this.lockRange(true);this.formatter.immutables=this.immutables();var c=p(this._range);var d=c.length?this.formatter.finder.findSuitable(c[0]):null;var e=c.length&&h.name(c[0])=="img";var g=this.createDialog(this._dialogTemplate(),{title:b.createLink,close:f(this._close,this),visible:false});if(d){this._range.selectNodeContents(d);c=p(this._range)}this._initialText=this.linkText(c);g.find(".k-dialog-insert").click(f(this._apply,this)).end().find(".k-dialog-close").click(f(this._close,this)).end().find(".k-edit-field input").keydown(f(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(d)).end().find("#k-editor-link-text").val(this._initialText).end().find("#k-editor-link-title").val(d?d.title:"").end().find("#k-editor-link-target").attr("checked",d?d.target=="_blank":false).end().find(".k-editor-link-text-row").toggle(!e);this._dialog=g.data("kendoWindow").center().open();a("#k-editor-link-url",g).focus().select()},_keydown:function(a){var b=c.keys;if(a.keyCode==b.ENTER){this._apply(a)}else if(a.keyCode==b.ESC){this._close(a)}},_apply:function(b){var c=this._dialog.element;var d=a("#k-editor-link-url",c).val();var e,f,g;var i=a("#k-editor-link-text",c);if(d&&d!=t){if(d.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(d)){d="mailto:"+d}this.attributes={href:d};e=a("#k-editor-link-title",c).val();if(e){this.attributes.title=e}if(i.is(":visible")){f=i.val();if(!f&&!this._initialText){this.attributes.innerText=d}else if(f&&f!==this._initialText){this.attributes.innerText=h.stripBom(f)}}g=a("#k-editor-link-target",c).is(":checked");this.attributes.target=g?"_blank":null;this.formatter.apply(this._range,this.attributes)}this._close(b);if(this.change){this.change()}},_close:function(a){a.preventDefault();this._dialog.destroy();h.windowFromDocument(i.documentFromRange(this._range)).focus();this.releaseRange(this._range)},linkUrl:function(a){if(a){return a.getAttribute("href",2)}return t},linkText:function(a){var b="";var c;for(c=0;c<a.length;c++){b+=a[c].nodeValue}return h.stripBom(b||"")},redo:function(){var a=this.lockRange(true);this.formatter.apply(a,this.attributes);this.releaseRange(a)}});var A=k.extend({init:function(a){k.fn.init.call(this,a);this.formatter=new x},exec:function(){var a=this.detectLink();if(!a){return}var b=this.getRange();var d=new c.ui.editor.Marker;var e=b.cloneRange();e.setStart(a.start.node,a.start.offset);e.setEnd(a.end.node,a.end.offset);b=this.lockRange();d.add(e);this.formatter.apply(e,{href:this._ensureWebProtocol(a.text)});d.remove(e);this.releaseRange(b)},detectLink:function(){var a=this.getRange();var b=a.startContainer;var c=a.startOffset;var d=b.previousSibling;if(!d&&(h.isBom(b)&&!b.nextSibling||!c&&h.isDataNode(b))){b=b.parentNode;c=0}var e=new H({node:b,offset:c,cancelAtNode:function(a){return a&&h.name(a)==="a"}});var f=new C(e);return f.detectLink()},changesContent:function(){return!!this.detectLink()},_ensureWebProtocol:function(a){var b=this._hasProtocolPrefix(a);return b?a:this._prefixWithWebProtocol(a)},_hasProtocolPrefix:function(a){return u.test(a)},_prefixWithWebProtocol:function(a){return t+a}});var B=l.extend({init:function(b){this.options=b;this.finder=new o([{tags:["a"]}]);l.fn.init.call(this,a.extend(b,{command:y}))},initialize:function(a,b){l.fn.initialize.call(this,a,b);a.addClass("k-state-disabled")},update:function(a,b){a.toggleClass("k-state-disabled",!this.finder.isFormatted(b)).removeClass("k-state-hover")}});var C=d.extend({init:function(a){this.traverser=a;this.start=F();this.end=F();this.text=""},detectLink:function(){var b=this.traverser.node;var c=this.traverser.offset;if(h.isDataNode(b)){var d=b.data.substring(0,c);if(/\s{2}$/.test(h.stripBom(d))){return}}else if(c===0){var e=h.closestEditableOfType(b,h.blockElements);if(e&&e.previousSibling){this.traverser.init({node:e.previousSibling})}}this.traverser.traverse(a.proxy(this._detectEnd,this));if(!this.end.blank()){this.traverser=this.traverser.clone(this.end);this.traverser.traverse(a.proxy(this._detectStart,this));if(!this._isLinkDetected()){var f=this.traverser.extendOptions(this.start);var g=new I(f);g.traverse(a.proxy(this._skipStartPuntuation,this));if(!this._isLinkDetected()){this.start=F()}}}if(this.start.blank()){return null}else{return{start:this.start,end:this.end,text:this.text}}},_isLinkDetected:function(){return u.test(this.text)||/^w{3}\./i.test(this.text)},_detectEnd:function(a,b){var c=D(a,v);if(c>-1){this.end.node=b;this.end.offset=c+1;return false}},_detectStart:function(a,b){var c=D(a,/\s/);var d=c+1;this.text=a.substring(d)+this.text;this.start.node=b;this.start.offset=d;if(c>-1){return false}},_skipStartPuntuation:function(a,b,c){var d=E(a,/\w/);var e=d;if(d===-1){e=a.length}this.text=this.text.substring(e);this.start.node=b;this.start.offset=e+(c|0);if(d>-1){return false}}});function D(a,b){var c=a.length;while(c--&&!b.test(a[c])){}return c}function E(a,b){var c=b.exec(a);return c?c.index:-1}var F=function(){return{node:null,offset:null,blank:function(){return this.node===null&&this.offset===null}}};var G=d.extend({init:function(c){this.node=c.node;this.offset=c.offset===b?h.isDataNode(this.node)&&this.node.length||0:c.offset;this.cancelAtNode=c.cancelAtNode||this.cancelAtNode||a.noop},traverse:function(a){if(!a){return}this.cancel=false;this._traverse(a,this.node,this.offset)},_traverse:function(a,c,d){if(!c||this.cancel){return}if(c.nodeType===3){var e=c.data;if(d!==b){e=this.subText(e,d)}this.cancel=a(e,c,d)===false}else{var f=this.edgeNode(c);this.cancel=this.cancel||this.cancelAtNode(f);return this._traverse(a,f)}var g=this.next(c);if(!g){var i=c.parentNode;while(!g&&h.isInline(i)){g=this.next(i);i=i.parentNode}}this.cancel=this.cancel||this.cancelAtNode(g);this._traverse(a,g)},extendOptions:function(b){return a.extend({node:this.node,offset:this.offset,cancelAtNode:this.cancelAtNode},b||{})},edgeNode:function(a){},next:function(a){},subText:function(a,b){}});var H=G.extend({subText:function(a,b){return a.substring(0,b)},next:function(a){return a.previousSibling},edgeNode:function(a){return a.lastChild},clone:function(a){var b=this.extendOptions(a);return new H(b)}});var I=G.extend({subText:function(a,b){return a.substring(b)},next:function(a){return a.nextSibling},edgeNode:function(a){return a.firstChild},clone:function(a){var b=this.extendOptions(a);return new I(b)}});e(c.ui.editor,{LinkFormatFinder:w,LinkFormatter:x,UnlinkCommand:y,LinkCommand:z,AutoLinkCommand:A,UnlinkTool:B,DomTextLinkDetection:C,LeftDomTextTraverser:H,RightDomTextTraverser:I});r("createLink",new l({key:"K",ctrl:true,command:z,template:new m({template:j.buttonTemplate,title:"Create Link"})}));r("unlink",new B({key:"K",ctrl:true,shift:true,template:new m({template:j.buttonTemplate,title:"Remove Link"})}));r("autoLink",new l({key:[s.ENTER,s.SPACEBAR],keyPressCommand:true,command:A}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/formatblock",["editor/plugins/format"],a)})(function(){(function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=b.ui.Editor.fn.options.formats,g=e.Dom,h=e.ToolTemplate,i=e.FormatTool,j=e.EditorUtils,k=j.registerTool,l=j.registerFormat,m=e.RangeUtils;var n=c.extend({init:function(a){this.format=a},contains:function(a,b){var c,d,e;for(c=0,d=b.length;c<d;c++){e=b[c];if(!e||!g.isAncestorOrSelf(a,e)){return false}}return true},findSuitable:function(b){var c=this.format,d=[],e,f,h;for(e=0,f=b.length;e<f;e++){for(var i=c.length-1;i>=0;i--){h=g.ofType(b[e],c[i].tags)?b[e]:g.closestEditableOfType(b[e],c[i].tags);if(h){break}}if(!h||h.contentEditable==="true"){return[]}if(a.inArray(h,d)<0){d.push(h)}}this._resolveListsItems(d);for(e=0,f=d.length;e<f;e++){if(this.contains(d[e],d)){return[d[e]]}}return d},_resolveListsItems:function(a){var b,c,d;for(b=0;b<a.length;b++){c=a[b];d=g.is(c,"li")?c:g.wrapper(c);d=d&&g.list(d)?d.children[0]:d;if(g.is(d,"li")){c=a[b]=d}}},findFormat:function(a){var b=this.format,c,d,f,h,i;var j=g.editableParent(a);var k=this.options&&this.options.immutables;var l=e.Immutables;for(c=0,d=b.length;c<d;c++){f=a;h=b[c].tags;i=b[c].attr;if(k&&h&&h[0]=="immutable"){var m=l.immutableParent(f);if(m&&g.attrEquals(m,i)){return f}}while(f&&g.isAncestorOf(j,f)){if(g.ofType(f,h)&&g.attrEquals(f,i)){return f}f=f.parentNode}}return null},getFormat:function(a){var b=this,c=function(a){return b.findFormat(g.isDataNode(a)?a.parentNode:a)},d=c(a[0]),e,f;if(!d){return""}for(e=1,f=a.length;e<f;e++){if(d!=c(a[e])){return""}}return d.nodeName.toLowerCase()},isFormatted:function(a){for(var b=0,c=a.length;b<c;b++){if(!this.findFormat(a[b])){return false}}return true}});var o=c.extend({init:function(a,b){this.format=a;this.values=b;this.finder=new n(a)},wrap:function(a,b,c){var d=c.length==1?g.blockParentOrBody(c[0]):g.commonAncestor.apply(null,c);if(g.isInline(d)){d=g.blockParentOrBody(d)}var e=g.significantChildNodes(d),f=g.findNodeIndex(e[0]),h=g.create(d.ownerDocument,a,b),i,j;for(i=0;i<e.length;i++){j=e[i];if(g.isBlock(j)){g.attr(j,b);if(h.childNodes.length){g.insertBefore(h,j);h=h.cloneNode(false)}f=g.findNodeIndex(j)+1;continue}h.appendChild(j)}if(h.firstChild){g.insertAt(d,h,f)}},apply:function(b){var c,e=this.values;function f(a){return d({},a&&a.attr,e)}this._handleImmutables(b,true);var h=g.filter("img",b);var i=j.formatByName("img",this.format);var k=f(i);a.each(h,function(){g.attr(this,k)});if(h.length==b.length){return}var l=g.filter("img",b,true);var m=this.finder.findSuitable(l);if(m.length){for(var n=0,o=m.length;n<o;n++){c=j.formatByName(g.name(m[n]),this.format);g.attr(m[n],f(c))}}else{c=this.format[0];this.wrap(c.tags[0],f(c),l)}},_handleImmutables:function(a,b){if(!this.immutables()){return}var c=j.formatByName("immutable",this.format);if(!c){return}var d=e.Immutables;var f=a.length-1;for(var h=f;h>=0;h--){var i=d.immutableParent(a[h]);if(!i){continue}if(i!==a[h+1]){if(b){g.attr(i,c.attr)}else{g.unstyle(i,c.attr.style)}}a.splice(h,1)}},immutables:function(){return this.editor&&this.editor.options.immutables},remove:function(a){var b,c,d,e,f;this._handleImmutables(a,false);for(b=0,c=a.length;b<c;b++){d=this.finder.findFormat(a[b]);if(d){f=g.name(d);if(f=="div"&&!d.getAttribute("class")){g.unwrap(d)}else{e=j.formatByName(f,this.format);if(e.attr.style){g.unstyle(d,e.attr.style)}if(e.attr.className){g.removeClass(d,e.attr.className)}}}}},toggle:function(a){var b=this,c=g.filterBy(m.nodes(a),g.htmlIndentSpace,true);if(b.finder.isFormatted(c)){b.remove(c)}else{b.apply(c)}}});var p=c.extend({init:function(a,b){var c=this;c.format=a;c.values=b;c.finder=new n(a)},apply:function(a){var b=this.format;var c=g.blockParents(a);var d=b[0].tags[0];var f,h,i,j,k;var l;var m;var n;var p;if(c.length){for(f=0,h=c.length;f<h;f++){n=c[f];p=this.immutables()&&e.Immutables.immutableParent(n);if(!p){m=g.name(n);if(m=="li"){i=n.parentNode;j=new e.ListFormatter(i.nodeName.toLowerCase(),d);k=this.editor.createRange();k.selectNode(c[f]);j.toggle(k)}else if(d&&(m=="td"||n.attributes.contentEditable)){new o(b,this.values).apply(n.childNodes)}else{l=g.changeTag(n,d);g.attr(l,b[0].attr)}}}}else{var q=new o(b,this.values);q.editor=this.editor;q.apply(a)}},toggle:function(a){var b=m.textNodes(a);if(!b.length){a.selectNodeContents(a.commonAncestorContainer);b=m.textNodes(a);if(!b.length){b=g.significantChildNodes(a.commonAncestorContainer)}}this.apply(b)},immutables:function(){return this.editor&&this.editor.options.immutables}});var q=i.extend({init:function(a){i.fn.init.call(this,d(a,{finder:new n(a.format),formatter:function(){return new o(a.format)}}))}});d(e,{BlockFormatFinder:n,BlockFormatter:o,GreedyBlockFormatter:p,BlockFormatTool:q});var r=["ul","ol","li"];l("justifyLeft",[{tags:g.nonListBlockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"left",display:"",marginLeft:"",marginRight:""}}},{tags:r,attr:{style:{textAlign:"left",listStylePosition:""}}}]);k("justifyLeft",new q({format:f.justifyLeft,template:new h({template:j.buttonTemplate,title:"Justify Left"})}));l("justifyCenter",[{tags:g.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:r,attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]);k("justifyCenter",new q({format:f.justifyCenter,template:new h({template:j.buttonTemplate,title:"Justify Center"})}));l("justifyRight",[{tags:g.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:["immutable"],attr:{style:{float:"right",display:"",marginLeft:"",marginRight:""}}},{tags:r,attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]);k("justifyRight",new q({format:f.justifyRight,template:new h({template:j.buttonTemplate,title:"Justify Right"})}));l("justifyFull",[{tags:g.nonListBlockElements,attr:{style:{textAlign:"justify"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:["immutable"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto",float:""}}},{tags:r,attr:{style:{textAlign:"justify",listStylePosition:""}}}]);k("justifyFull",new q({format:f.justifyFull,template:new h({template:j.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/lists",["editor/plugins/formatblock"],a)})(function(){(function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=e.Dom,g=e.RangeUtils,h=e.EditorUtils,i=e.Command,j=e.ToolTemplate,k=e.FormatTool,l=e.BlockFormatFinder,m=g.textNodes,n=e.EditorUtils.registerTool;var o=l.extend({init:function(a){this.tag=a;var b=this.tags=[a=="ul"?"ol":"ul",a];l.fn.init.call(this,[{tags:b}])},isFormatted:function(a){var b=[];var c,d;for(d=0;d<a.length;d++){c=this.findFormat(a[d]);if(c&&f.name(c)==this.tag){b.push(c)}}if(b.length<1){return false}if(b.length!=a.length){return false}for(d=0;d<b.length;d++){if(b[d].parentNode!=c.parentNode){break}if(b[d]!=c){return false}}return true},findSuitable:function(a){var b=this.findFormat(a[0]);if(b&&f.name(b)==this.tag){return b}return null}});var p=c.extend({init:function(a,b){var c=this;c.finder=new o(a);c.tag=a;c.unwrapTag=b},isList:function(a){return f.list(a)},immutables:function(){return this.editor&&!!this.editor.options.immutables},wrap:function(b,c){var d=f.create(b.ownerDocument,"li"),g,h,i=this.immutables()?e.Immutables.immutable:a.noop;for(g=0;g<c.length;g++){h=c[g];if(f.is(h,"li")){b.appendChild(h);continue}if(this.isList(h)){while(h.firstChild){b.appendChild(h.firstChild)}continue}if(f.is(h,"td")){while(h.firstChild){d.appendChild(h.firstChild)}b.appendChild(d);h.appendChild(b);b=b.cloneNode(false);d=d.cloneNode(false);continue}d.appendChild(h);if(f.isBlock(h)){b.appendChild(d);if(!i(h)){f.unwrap(h)}d=d.cloneNode(false)}}if(d.firstChild){b.appendChild(d)}},containsAny:function(a,b){for(var c=0;c<b.length;c++){if(f.isAncestorOrSelf(a,b[c])){return true}}return false},suitable:function(a,b){if(a.className=="k-marker"){var c=a.nextSibling;if(c&&f.isBlock(c)){return false}c=a.previousSibling;if(c&&f.isBlock(c)){return false}}return this.containsAny(a,b)||f.isInline(a)||a.nodeType==3},_parentLists:function(b){var c=f.closestEditable(b);return a(b).parentsUntil(c,"ul,ol")},split:function(a){var b=m(a);var c,d,e;if(b.length){c=f.parentOfType(b[0],["li"]);d=f.parentOfType(b[b.length-1],["li"]);a.setStartBefore(c);a.setEndAfter(d);for(var h=0,i=b.length;h<i;h++){var j=this.finder.findFormat(b[h]);if(j){e=this._parentLists(j);if(e.length){g.split(a,e.last()[0],true)}else{g.split(a,j,true)}}}}},merge:function(a,b){var c=b.previousSibling,d;while(c&&(c.className=="k-marker"||c.nodeType==3&&f.isWhitespace(c))){c=c.previousSibling}if(c&&f.name(c)==a){while(b.firstChild){c.appendChild(b.firstChild)}f.remove(b);b=c}d=b.nextSibling;while(d&&(d.className=="k-marker"||d.nodeType==3&&f.isWhitespace(d))){d=d.nextSibling}if(d&&f.name(d)==a){while(b.lastChild){d.insertBefore(b.lastChild,d.firstChild)}f.remove(b)}},breakable:function(a){return a!=a.ownerDocument.body&&!/table|tbody|tr|td/.test(f.name(a))&&!a.attributes.contentEditable},applyOnSection:function(b,c){var d=this.tag;var e=f.closestSplittableParent(c);var g=[];var h=this.finder.findSuitable(c);if(!h){h=new o(d=="ul"?"ol":"ul").findSuitable(c)}var i;if(/table|tbody/.test(f.name(e))){i=a.map(c,function(a){return f.parentOfType(a,["td"])})}else{i=f.significantChildNodes(e);if(a.grep(i,f.isBlock).length){i=a.grep(i,a.proxy(function(a){return this.containsAny(a,c)},this))}if(!i.length){i=c}}function j(){g.push(this)}for(var k=0;k<i.length;k++){var l=i[k];var m=(!h||!f.isAncestorOrSelf(h,l))&&this.suitable(l,c);if(!m){continue}if(h&&this.isList(l)){a.each(l.children,j);f.remove(l)}else{g.push(l)}}if(g.length==i.length&&this.breakable(e)){g=[e]}if(!h){h=f.create(e.ownerDocument,d);f.insertBefore(h,g[0])}this.wrap(h,g);while(f.isBom(h.nextSibling)){f.remove(h.nextSibling)}if(!f.is(h,d)){f.changeTag(h,d)}this.merge(d,h)},apply:function(b){var c=0,d=[],g,h,i,j,k=b.length,l=this.immutables()?e.Immutables.immutableParent:a.noop;function m(){if(g){d.push({section:g,nodes:h})}}for(c=0;c<k;c++){j=l(b[c])||b[c];i=f.closestEditable(j,["td","body"]);if(!g||i!=g){m();h=[j];g=i}else{h.push(j)}}m();for(c=0;c<d.length;c++){this.applyOnSection(d[c].section,d[c].nodes)}},unwrap:function(a){var b=a.ownerDocument.createDocumentFragment(),c=this.unwrapTag,d,e,g,h;for(e=a.firstChild;e;e=e.nextSibling){g=f.create(a.ownerDocument,c||"p");while(e.firstChild){h=e.firstChild;if(f.isBlock(h)){if(g.firstChild){b.appendChild(g);g=f.create(a.ownerDocument,c||"p");
}b.appendChild(h)}else{g.appendChild(h)}}if(g.firstChild){b.appendChild(g)}}d=this._parentLists(a);if(d[0]){f.insertAfter(b,d.last()[0]);d.last().remove()}else{f.insertAfter(b,a)}f.remove(a)},remove:function(a){var b;for(var c=0,d=a.length;c<d;c++){b=this.finder.findFormat(a[c]);if(b){this.unwrap(b)}}},toggle:function(a){var b=this,c=m(a),d=a.commonAncestorContainer;if(!c.length){a.selectNodeContents(d);c=m(a);if(!c.length){var e=d.ownerDocument.createTextNode("");a.startContainer.appendChild(e);c=[e];a.selectNode(e.parentNode)}}c=f.filterBy(c,f.htmlIndentSpace,true);if(b.finder.isFormatted(c)){b.split(a);b.remove(c)}else{b.apply(c)}}});var q=i.extend({init:function(a){a.formatter=new p(a.tag);i.fn.init.call(this,a)}});var r=k.extend({init:function(a){this.options=a;k.fn.init.call(this,d(a,{finder:new o(a.tag)}))},command:function(a){return new q(d(a,{tag:this.options.tag}))}});d(e,{ListFormatFinder:o,ListFormatter:p,ListCommand:q,ListTool:r});n("insertUnorderedList",new r({tag:"ul",template:new j({template:h.buttonTemplate,title:"Insert unordered list"})}));n("insertOrderedList",new r({tag:"ol",template:new j({template:h.buttonTemplate,title:"Insert ordered list"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/formatting",["editor/plugins/inlineformat"],a)})(function(){(function(a){var b=window.kendo,c=b.ui.editor,d=c.Tool,e=c.ToolTemplate,f=c.DelayedExecutionTool,g=c.Command,h=c.Dom,i=c.EditorUtils,j=c.RangeUtils,k=i.registerTool;var l=f.extend({init:function(a){var c=this;d.fn.init.call(c,b.deepExtend({},c.options,a));c.type="kendoSelectBox";c.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:110},toFormattingItem:function(a){var b=a.value;if(!b){return a}if(a.tag||a.className){return a}var c=b.indexOf(".");if(c===0){a.className=b.substring(1)}else if(c==-1){a.tag=b}else{a.tag=b.substring(0,c);a.className=b.substring(c+1)}return a},command:function(b){var d=this;var e=b.value;e=this.toFormattingItem(e);return new c.FormatCommand({range:b.range,formatter:function(){var b,f=(e.tag||e.context||"span").split(","),g=[{tags:f,attr:{className:e.className||""}}];if(a.inArray(f[0],h.inlineElements)>=0){b=new c.GreedyInlineFormatter(g)}else{b=new c.GreedyBlockFormatter(g)}b.editor=d.editor;return b}})},initialize:function(a,c){var e=c.editor;var f=this.options;var g=f.name;var h=this;h.editor=e;a.width(f.width);a.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:f.items||e.options[g],title:e.options.messages[g],autoSize:true,change:function(){var a=this.dataItem();if(a){d.exec(e,g,a.toJSON())}},dataBound:function(){var a,b=this.dataSource.data();for(a=0;a<b.length;a++){b[a]=h.toFormattingItem(b[a])}},highlightFirst:false,template:b.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')});a.addClass("k-decorated").closest(".k-widget").removeClass("k-"+g).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(b,c){for(var d=0;d<b.length;d++){var e=b[d];var f=e.tag||e.context||"";var g=e.className?"."+e.className:"";var h=f+g;var i=a(c[0]).closest(h)[0];if(!i){continue}if(c.length==1){return e.value}for(var j=1;j<c.length;j++){if(!a(c[j]).closest(h)[0]){break}else if(j==c.length-1){return e.value}}}return""},update:function(b,c){var d=a(b).data(this.type);if(!d){return}var e=d.dataSource,g=e.data(),i,j,k=h.commonAncestor.apply(null,c);if(k!=h.closestEditable(k)&&this._ancestor==k){return}else{this._ancestor=k}for(i=0;i<g.length;i++){j=g[i].context;g[i].visible=!j||!!a(k).closest(j).length}e.filter([{field:"visible",operator:"eq",value:true}]);f.fn.update.call(this,b,c);d.value(this.getFormattingValue(e.view(),c));d.wrapper.toggleClass("k-state-disabled",!e.view().length)},destroy:function(){this._ancestor=null}});var m=g.extend({exec:function(){var a=this.lockRange(true);this.tagsToClean=this.options.remove||"strong,em,span,sup,sub,del,b,i,u,font".split(",");j.wrapSelectedElements(a);var b=j.mapAll(a,function(a){return a});for(var c=b.length-1;c>=0;c--){var d=b[c];if(!this.immutableParent(d)){this.clean(d)}}this.releaseRange(a)},clean:function(b){if(!b||h.isMarker(b)){return}var d=h.name(b);if(d=="ul"||d=="ol"){var e=new c.ListFormatter(d);var f=b.previousSibling;var g=b.nextSibling;e.unwrap(b);for(;f&&f!=g;f=f.nextSibling){this.clean(f)}}else if(d=="blockquote"){h.changeTag(b,"p")}else if(b.nodeType==1&&!h.insignificant(b)){for(var i=b.childNodes.length-1;i>=0;i--){this.clean(b.childNodes[i])}b.removeAttribute("style");b.removeAttribute("class")}else{n(b)}if(a.inArray(d,this.tagsToClean)>-1){h.unwrap(b)}},immutableParent:function(a){return this.immutables()&&c.Immutables.immutableParent(a)}});function n(a){var d=h.closestEditableOfType(a,["li"]);if(d){var e=new c.ListFormatter(h.name(d.parentNode));var f=b.ui.editor.W3CRange.fromNode(a);f.selectNode(d);e.toggle(f)}}a.extend(c,{FormattingTool:l,CleanFormatCommand:m});k("formatting",new l({template:new e({template:i.dropDownListTemplate,title:"Format"})}));k("cleanFormatting",new d({command:m,template:new e({template:i.buttonTemplate,title:"Clean formatting"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/image",["kendo.imagebrowser","editor/command"],a)})(function(){(function(a,b){var c=window.kendo,d=a.extend,e=c.ui.editor,f=e.EditorUtils,g=e.Dom,h=f.registerTool,i=e.ToolTemplate,j=e.RangeUtils,k=e.Command,l=c.keys,m="#k-editor-image-url",n="#k-editor-image-title",o="#k-editor-image-width",p="#k-editor-image-height";var q=k.extend({init:function(a){var b=this;k.fn.init.call(b,a);b.async=true;b.attributes={}},insertImage:function(a,b){var c=this.attributes;var d=j.documentFromRange(b);if(c.src&&c.src!="http://"){var e=function(){setTimeout(function(){if(!c.width){a.removeAttribute("width")}if(!c.height){a.removeAttribute("height")}a.removeAttribute("complete")})};if(!a){a=g.create(d,"img",c);a.onload=a.onerror=e;b.deleteContents();b.insertNode(a);if(!a.nextSibling){g.insertAfter(d.createTextNode("\ufeff"),a)}e();b.setStartAfter(a);b.setEndAfter(a);j.selectRange(b);return true}else{a.onload=a.onerror=e;g.attr(a,c);e()}}return false},_dialogTemplate:function(a){return c.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser k-imagebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-image-url">#: messages.imageWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<input type="text" class="k-input k-textbox" id="k-editor-image-url">'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-title">#: messages.imageAltText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<input type="text" class="k-input k-textbox" id="k-editor-image-title">'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-width">#: messages.imageWidth #</label>'+"</div>"+"<div class='k-edit-field'>"+'<input type="text" class="k-input k-textbox" id="k-editor-image-width">'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-image-height">#: messages.imageHeight #</label>'+"</div>"+"<div class='k-edit-field'>"+'<input type="text" class="k-input k-textbox" id="k-editor-image-height">'+"</div>"+"</div>"+'<div class="k-edit-buttons k-state-default">'+'<button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button>'+'<button class="k-dialog-close k-button">#: messages.dialogCancel #</button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:a})},redo:function(){var a=this,b=a.lockRange();if(!a.insertImage(j.image(b),b)){a.releaseRange(b)}},exec:function(){var a=this,e=a.lockRange(),f=false,h=j.image(e),i=h&&h.getAttribute("width")||"",k=h&&h.getAttribute("height")||"",q,r=c.support.browser.msie,s=a.editor.options,t=s.messages,u=s.imageBrowser,v=!!(c.ui.ImageBrowser&&u&&u.transport&&u.transport.read!==b),w={title:t.insertImage,visible:false,resizable:v};this.expandImmutablesIn(e);function x(b){var c=q.element,d=parseInt(c.find(o).val(),10),g=parseInt(c.find(p).val(),10);a.attributes={src:c.find(m).val().replace(/ /g,"%20"),alt:c.find(n).val()};a.attributes.width=null;a.attributes.height=null;if(!isNaN(d)&&d>0){a.attributes.width=d}if(!isNaN(g)&&g>0){a.attributes.height=g}f=a.insertImage(h,e);y(b);if(a.change){a.change()}}function y(b){b.preventDefault();q.destroy();g.windowFromDocument(j.documentFromRange(e)).focus();if(!f){a.releaseRange(e)}}function z(a){if(a.keyCode==l.ENTER){x(a)}else if(a.keyCode==l.ESC){y(a)}}w.close=y;if(v){w.width=750}q=this.createDialog(a._dialogTemplate(v),w).toggleClass("k-filebrowser-dialog",v).find(".k-dialog-insert").click(x).end().find(".k-dialog-close").click(y).end().find(".k-edit-field input").keydown(z).end().find(m).val(h?h.getAttribute("src",2):"http://").end().find(n).val(h?h.alt:"").end().find(o).val(i).end().find(p).val(k).end().data("kendoWindow");var A=q.element;if(v){this._imageBrowser=new c.ui.ImageBrowser(A.find(".k-imagebrowser"),d({},u));this._imageBrowser.bind("change",function(a){if(a.selected.get("type")==="f"){A.find(m).val(this.value())}});this._imageBrowser.bind("apply",x)}if(r){var B=A.closest(".k-window").height();A.css("max-height",B)}q.center().open();A.find(m).focus().select()}});c.ui.editor.ImageCommand=q;h("insertImage",new e.Tool({command:q,template:new i({template:f.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/import",["editor/main"],a)})(function(){(function(a,b){var c=window.kendo,d=a.extend,e=a.proxy,f=c.ui.editor,g=f.EditorUtils,h=f.Command,i=f.Tool,j=g.registerTool,k=f.ToolTemplate,l='<div contenteditable="false" class="k-loading-mask" style="width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;"><div class="k-loading-image"></div><div class="k-loading-color"></div></div>';var m=h.extend({exec:function(){(this.editor._uploadWidget||this._initializeUploadWidget()).element.click()},_initializeUploadWidget:function(){var b=this;var c=b.editor;var d=c.options["import"];var f=a('<input id="editorImport" name="files" type="file" />').kendoUpload({success:e(b._onUploadSuccess,b),progress:e(b._onUploadProgress,b),select:e(b._onUploadSelect,b),error:e(b._onUploadError,b),complete:e(b._onUploadComplete,b),showFileList:false,multiple:false,async:{saveUrl:d.proxyUrl,autoUpload:true,saveField:"file"},validation:{allowedExtensions:d.allowedExtensions,maxFileSize:d.maxFileSize}}).getKendoUpload();c._uploadWidget=f;return f},_onUploadComplete:function(a){this._trigger("complete",a);a.sender.clearAllFiles();this._removeLoadingOverlay()},_onUploadSuccess:function(a){this.editor.value(a.response.html.replace(/<\/?body>/gi,""));this._trigger("success",a)},_onUploadProgress:function(a){this._trigger("progress",a)},_onUploadSelect:function(a){this._trigger("select",a);if(!a.files[0].validationErrors){this._initLoadingOverlay()}},_onUploadError:function(a){this._trigger("error",a)},_trigger:function(a,b){var c=this.editor;var d=c.options["import"];if(typeof d[a]==="function"){d[a].call(c,b)}},_initLoadingOverlay:function(){var b=this.editor.body;if(f.Dom.is(b,"body")){this._iframeWrapper=this._container=this.editor.wrapper.find("iframe").parent().css({position:"relative"}).append(l)}else{this._container=a(b).append(l)}c.ui.progress(this._container,true)},_removeLoadingOverlay:function(){c.ui.progress(this._container,false);a(this._iframeWrapper).css({position:""});delete this._container;delete this._iframeWrapper}});d(f,{ImportCommand:m});j("import",new i({command:m,template:new k({template:g.buttonTemplate,title:"Import"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/insert",["editor/command"],a)})(function(){(function(a){var b=window.kendo,c=b.ui.editor,d=c.Command,e=c.GenericCommand,f=c.EditorUtils,g=f.registerTool,h=c.Tool,i=c.ToolTemplate,j=c.RestorePoint,k=a.extend;var l=d.extend({init:function(a){d.fn.init.call(this,a);this.managesUndoRedo=true},exec:function(){var a=this.editor;var b=this.options;var c=b.range;var d=a.body;var f=new j(c,d);var g=b.html||b.value||"";a.selectRange(c);a.clipboard.paste(g,b);if(b.postProcess){b.postProcess(a,a.getRange())}var h=new e(f,new j(a.getRange(),d));h.editor=a;a.undoRedoStack.push(h);a.focus()}});var m=h.extend({initialize:function(a,b){var d=b.editor,e=this.options,f=e.items?e.items:d.options.insertHtml;this._selectBox=new c.SelectBox(a,{dataSource:f,dataTextField:"text",dataValueField:"value",change:function(){h.exec(d,"insertHtml",this.value())},title:d.options.messages.insertHtml,highlightFirst:false})},command:function(a){return new l(a)},update:function(a){var b=a.data("kendoSelectBox")||a.find("select").data("kendoSelectBox");b.close();b.value(b.options.title)}});k(c,{InsertHtmlCommand:l,InsertHtmlTool:m});g("insertHtml",new m({template:new i({template:f.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/export",["editor/main"],a)})(function(){(function(a,b){var c=window.kendo,d=a.extend,e=a.proxy,f=c.ui.editor,g=f.EditorUtils,h=f.Command,i=f.Tool,j=g.registerTool,k=f.ToolTemplate,l=[{text:"Docx",value:"docx"},{text:"Rtf",value:"rtf"},{text:"Pdf",value:"pdf"},{text:"Html",value:"html"},{text:"Plain Text",value:"txt"}];var m=h.extend({init:function(a){var b=this;b.options=a;h.fn.init.call(b,a);b.attributes=null;b.exportType=a.exportType},exec:function(){var a=this;var b=this.lockRange(true);a.postToProxy();a.releaseRange(b)},postToProxy:function(){this.generateForm().appendTo("body").submit().remove()},generateForm:function(){var b=this;var c=b.editor.options.exportAs;var d=a("<form>").attr({action:c&&c.proxyURL||"",method:"POST"});d.append([b.valueInput(),b.exportTypeInput(),b.fileNameInput()]);return d},valueInput:function(){var b=this.editor;return a("<input>").attr({value:b.encodedValue(),name:"value",type:"hidden"})},exportTypeInput:function(){var b=this;return a("<input>").attr({value:b.exportType,name:"exportType",type:"hidden"})},fileNameInput:function(){var b=this.editor;var c=b.options.exportAs;var d=c&&c.fileName||b.element.attr("id")||"editor";return a("<input>").attr({value:d,name:"fileName",type:"hidden"})}});var n=i.extend({init:function(a){var b=this;i.fn.init.call(b,c.deepExtend({},b.options,a));b.type="kendoSelectBox"},options:{items:l,width:115},command:function(a){var b=a.value;return new f.ExportAsCommand({range:a.range,exportType:b.exportType})},initialize:function(a,b){var d=this;var f=b.editor;var g=d.options;var h=g.name;var i=e(d.changeHandler,d);var j=g.items||f.options[h];j.unshift({text:f.options.messages[h],value:""});d.editor=f;a.width(g.width);a.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:j,autoSize:true,change:i,open:function(a){var b=a.sender;b.items()[0].style.display="none";b.unbind("open")},highlightFirst:false,template:c.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')});a.addClass("k-decorated").closest(".k-widget").removeClass("k-"+h).find("*").addBack().attr("unselectable","on")},changeHandler:function(a){var b=a.sender;var c=b.dataItem();var d=c&&c.value;this._exec(d);b.value("")},_exec:function(a){if(a){i.exec(this.editor,this.options.name,{exportType:a})}},destroy:function(){this._ancestor=null}});d(f,{ExportAsTool:n,ExportAsCommand:m});j("exportAs",new n({template:new k({template:g.dropDownListTemplate,title:"Export As"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/indent",["editor/plugins/formatblock"],a)})(function(){(function(a,b){var c=window.kendo,d=c.Class,e=a.extend,f=c.ui.editor,g=f.Dom,h=f.EditorUtils,i=h.registerTool,j=f.Command,k=f.Tool,l=f.ToolTemplate,m=f.RangeUtils,n=g.blockElements,o=f.BlockFormatFinder,p=f.BlockFormatter;function q(c,d){var e=a(c).css("direction")=="rtl",f=e?"Right":"Left",h=g.name(c)!="td"?"margin"+f:"padding"+f;if(d===b){return c.style[h]||0}else{if(d>0){c.style[h]=d+"px"}else{c.style[h]="";if(!c.style.cssText){c.removeAttribute("style")}}}}var r=d.extend({init:function(){this.finder=new o([{tags:g.blockElements}])},apply:function(b){b=g.filterBy(b,g.htmlIndentSpace,true);var c=this.finder.findSuitable(b),d=[],e,f,h,i,j;c=this.mapImmutables(c);if(c.length){for(e=0,f=c.length;e<f;e++){if(g.is(c[e],"li")){if(!a(c[e]).index()){d.push(c[e].parentNode)}else if(a.inArray(c[e].parentNode,d)<0){d.push(c[e])}}else{d.push(c[e])}}while(d.length){h=d.shift();if(g.is(h,"li")){i=h.parentNode;j=a(h).prev("li");var k=j.find("ul,ol").last();var l=a(h).children("ul,ol")[0];if(l&&j[0]){if(k[0]){k.append(h);k.append(a(l).children());g.remove(l)}else{j.append(l);l.insertBefore(h,l.firstChild)}}else{l=j.children("ul,ol")[0];if(!l){l=g.create(h.ownerDocument,g.name(i));j.append(l)}while(h&&h.parentNode==i){l.appendChild(h);h=d.shift()}}}else{var m=parseInt(q(h),10)+30;q(h,m);for(var n=0;n<d.length;n++){if(a.contains(h,d[n])){d.splice(n,1)}}}}}else{var o=new p([{tags:["p"]}],{style:{marginLeft:30}});o.apply(b)}},mapImmutables:function(b){if(!this.immutables){return b}else{var c=[];return a.map(b,function(b){var d=f.Immutables.immutableParent(b);if(d){if(a.inArray(d,c)===-1){c.push(d)}else{return null}}return d||b})}},remove:function(b){b=g.filterBy(b,g.htmlIndentSpace,true);var c=this.finder.findSuitable(b),d,e,f,h,i,j,k,l;c=this.mapImmutables(c);for(e=0,f=c.length;e<f;e++){k=a(c[e]);if(k.is("li")){h=k.parent();i=h.parent();if(i.is("li,ul,ol")&&!q(h[0])){if(d&&a.contains(d,i[0])){continue}j=k.nextAll("li");if(j.length){a(h[0].cloneNode(false)).appendTo(k).append(j)}if(i.is("li")){k.insertAfter(i)}else{k.appendTo(i)}if(!h.children("li").length){h.remove()}continue}else{if(d==h[0]){continue}d=h[0]}}else{d=c[e]}l=parseInt(q(d),10)-30;q(d,l)}}});var s=j.extend({init:function(b){var c=this;b.formatter={toggle:a.proxy(function(a){var b=new r;b.immutables=this.editor&&this.editor.options.immutables;b.apply(m.nodes(a))},c)};j.fn.init.call(this,b)}});var t=j.extend({init:function(b){var c=this;b.formatter={toggle:a.proxy(function(a){var b=new r;b.immutables=this.editor&&this.editor.options.immutables;b.remove(m.nodes(a))},c)};j.fn.init.call(this,b)}});var u=k.extend({init:function(a){k.fn.init.call(this,a);this.finder=new o([{tags:n}])},initialize:function(b,c){k.fn.initialize.call(this,b,c);a.extend(this.options,{immutables:c.editor&&c.editor.options.immutables});b.addClass("k-state-disabled")},update:function(b,c){var d=this.finder.findSuitable(c),e,h,i,j,k,l;for(i=0,j=d.length;i<j;i++){k=d[i];if(this.options.immutables){l=f.Immutables.immutableParent(k);if(l){k=l}}e=q(k);if(!e){h=a(k).parents("ul,ol").length;e=g.is(k,"li")&&(h>1||q(k.parentNode))||g.ofType(k,["ul","ol"])&&h>0}if(e){b.removeClass("k-state-disabled");return}}b.addClass("k-state-disabled").removeClass("k-state-hover")}});e(f,{IndentFormatter:r,IndentCommand:s,OutdentCommand:t,OutdentTool:u});i("indent",new k({command:s,template:new l({template:h.buttonTemplate,title:"Indent"})}));i("outdent",new u({command:t,template:new l({template:h.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/linebreak",["editor/plugins/formatblock"],a)})(function(){(function(a){var b=window.kendo,c=a.extend,d=b.ui.editor,e=d.Dom,f=d.Command,g=d.Tool,h=d.BlockFormatter,i=e.normalize,j=d.RangeUtils,k=d.EditorUtils.registerTool;var l=f.extend({init:function(a){this.options=a;f.fn.init.call(this,a)},_insertMarker:function(a,b){var c=e.create(a,"a"),d;c.className="k-marker";b.insertNode(c);if(!c.parentNode){d=b.commonAncestorContainer;d.innerHTML="";d.appendChild(c)}i(c.parentNode);return c},_moveFocus:function(a,b){if(e.isEmpty(b)){a.setStartBefore(b)}else{a.selectNodeContents(b);var c=j.textNodes(a)[0];if(!c){while(b.childNodes.length&&!e.is(b.firstChild,"br")){b=b.firstChild}c=b}if(e.isEmpty(c)){a.setStartBefore(c)}else{if(e.emptyNode(c)){c.innerHTML="\ufeff"}var d=c.firstChild||c;if(e.isDataNode(d)){a.setStart(d,0)}else{a.setStartBefore(d)}}}},shouldTrim:function(a){var b="p,h1,h2,h3,h4,h5,h6".split(","),c=e.parentOfType(a.startContainer,b),d=e.parentOfType(a.endContainer,b);return c&&!d||!c&&d},_blankAfter:function(a){while(a&&(e.isMarker(a)||e.stripBom(a.nodeValue)==="")){a=a.nextSibling}return!a},exec:function(){var b=this.getRange(),c=j.documentFromRange(b),f,g,k,l=d.emptyElementContent,m,n,o,p,q,r,s;this.expandImmutablesIn(b);s=this.shouldTrim(b);b.deleteContents();n=this._insertMarker(c,b);e.stripBomNode(n.previousSibling);e.stripBomNode(n.nextSibling);o=e.closestEditableOfType(n,["li"]);p=e.closestEditableOfType(n,"h1,h2,h3,h4,h5,h6".split(","));q=e.is(n.parentNode,"table")&&n.parentNode;if(o){if(e.emptyNode(o)){m=e.create(c,"p");if(e.next(o)){r=b.cloneRange();r.selectNode(o);j.split(r,o.parentNode)}var t=a("br",o);if(t.length==1){t.remove()}var u=o.parentNode;var v=o.parentNode.children.length;var w=v>1&&o.childNodes.length==1&&o.children[0];e.insertAfter(m,u);e.remove(v==1?o.parentNode:o);if(w&&w!==n){m.appendChild(w);m.appendChild(n)}else{m.innerHTML=l}k=m}}else if(p&&this._blankAfter(n)){m=this._insertParagraphAfter(p);e.remove(n);k=m}else if(q){m=this._insertParagraphAfter(q);e.remove(n);k=m}if(!k){if(!(o||p)){new h([{tags:["p"]}]).apply([n])}b.selectNode(n);f=e.parentOfType(n,[o?"li":p?e.name(p):"p"]);j.split(b,f,s);g=f.previousSibling;if(e.is(g,"li")&&g.firstChild&&!e.is(g.firstChild,"br")){g=g.firstChild}k=f.nextSibling;this.clean(g,{links:true});this.clean(k,{links:true});if(e.is(k,"li")&&k.firstChild&&!e.is(k.firstChild,"br")){k=k.firstChild}e.remove(f);i(g)}i(k);this._moveFocus(b,k);b.collapse(true);e.scrollTo(k,true);j.selectRange(b)},_insertParagraphAfter:function(a){var b=this.getRange();var c=j.documentFromRange(b);var f=d.emptyElementContent;var g=e.create(c,"p");e.insertAfter(g,a);g.innerHTML=f;return g},clean:function(b,c){var f=b;if(b.firstChild&&e.is(b.firstChild,"br")){e.remove(b.firstChild)}if(e.isDataNode(b)&&!b.nodeValue){b=b.parentNode}if(b){var g=false;while(b.firstChild&&b.firstChild.nodeType==1){g=g||e.significantNodes(b.childNodes).length>1;b=b.firstChild}if(!e.isEmpty(b)&&/^\s*$/.test(b.innerHTML)&&!g){a(f).find(".k-br").remove();b.innerHTML=d.emptyElementContent}if(c&&c.links){while(b!=f){if(e.is(b,"a")&&e.emptyNode(b)){e.unwrap(b);break}b=b.parentNode}}}}});var m=f.extend({init:function(a){this.options=a;f.fn.init.call(this,a)},exec:function(){var a=this.getRange();this.expandImmutablesIn(a);var c=e.create(j.documentFromRange(a),"br");var d=a.startContainer;var f;var g=b.support.browser;var h=g.msie&&g.version<11;var k=e.is(d,"table")&&d;a.deleteContents();if(k){e.insertAfter(c,k)}else{a.insertNode(c)}i(c.parentNode);if(!h&&(!c.nextSibling||e.isWhitespace(c.nextSibling))){f=c.cloneNode(true);f.className="k-br";e.insertAfter(f,c)}a.setStartAfter(c);a.collapse(true);e.scrollTo(c.nextSibling||c,true);j.selectRange(a)}});c(d,{ParagraphCommand:l,NewLineCommand:m});k("insertLineBreak",new g({key:13,shift:true,command:m}));k("insertParagraph",new g({key:13,command:l}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/file",["kendo.filebrowser","editor/plugins/link"],a)})(function(){(function(a,b){var c=window.kendo,d=a.extend,e=c.ui.editor,f=e.EditorUtils,g=e.Dom,h=f.registerTool,i=e.ToolTemplate,j=e.RangeUtils,k=e.Command,l=e.LinkFormatter,m=j.textNodes,n=c.keys,o="#k-editor-file-url",p="#k-editor-file-text",q="#k-editor-file-title";var r=k.extend({init:function(a){var b=this;k.fn.init.call(b,a);b.formatter=new l;b.async=true;b.attributes={}},insertFile:function(a,b){var c=this.attributes;var d=j.documentFromRange(b);if(c.href&&c.href!="http://"){if(!a){a=g.create(d,"a",{href:c.href});a.innerHTML=c.innerHTML;a.title=c.title;b.deleteContents();b.insertNode(a);if(!a.nextSibling){g.insertAfter(d.createTextNode("\ufeff"),a)}b.setStartAfter(a);b.setEndAfter(a);j.selectRange(b);return true}else{g.attr(a,c)}}return false},_dialogTemplate:function(a){return c.template('<div class="k-editor-dialog k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div class="k-edit-form-content">'+"# if (showBrowser) { #"+'<div class="k-filebrowser"></div>'+"# } #"+"<div class='k-edit-label'>"+'<label for="k-editor-file-url">#: messages.fileWebAddress #</label>'+"</div>"+"<div class='k-edit-field'>"+'<input type="text" class="k-input k-textbox" id="k-editor-file-url">'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-text">#: messages.fileText #</label>'+"</div>"+"<div class='k-edit-field'>"+'<input type="text" class="k-input k-textbox" id="k-editor-file-text">'+"</div>"+"<div class='k-edit-label'>"+'<label for="k-editor-file-title">#: messages.fileTitle #</label>'+"</div>"+"<div class='k-edit-field'>"+'<input type="text" class="k-input k-textbox" id="k-editor-file-title">'+"</div>"+"</div>"+'<div class="k-edit-buttons k-state-default">'+'<button class="k-dialog-insert k-button k-primary">#: messages.dialogInsert #</button>'+'<button class="k-dialog-close k-button">#: messages.dialogCancel #</button>'+"</div>"+"</div>"+"</div>")({messages:this.editor.options.messages,showBrowser:a})},redo:function(){var a=this,b=a.lockRange();this.formatter.apply(b,this.attributes);a.releaseRange(b)},exec:function(){var a=this,e=a.lockRange(),f=m(e),h=false,i=f.length?this.formatter.finder.findSuitable(f[0]):null,k,l=c.support.browser.msie,r=a.editor.options,s=r.messages,t=r.fileBrowser,u=!!(c.ui.FileBrowser&&t&&t.transport&&t.transport.read!==b),v={title:s.insertFile,visible:false,resizable:u};this.expandImmutablesIn(e);function w(b){var c=k.element,d=c.find(o).val().replace(/ /g,"%20"),f=c.find(p).val(),g=c.find(q).val();a.attributes={href:d,innerHTML:f!==""?f:d,title:g};h=a.insertFile(i,e);x(b);if(a.change){a.change()}}function x(b){b.preventDefault();k.destroy();g.windowFromDocument(j.documentFromRange(e)).focus();if(!h){a.releaseRange(e)}}function y(a){if(a.keyCode==n.ENTER){w(a)}else if(a.keyCode==n.ESC){x(a)}}v.close=x;if(u){v.width=750}k=this.createDialog(a._dialogTemplate(u),v).toggleClass("k-filebrowser-dialog",u).find(".k-dialog-insert").click(w).end().find(".k-dialog-close").click(x).end().find(".k-edit-field input").keydown(y).end().find(o).val(i?i.getAttribute("href",2):"http://").end().find(p).val(i?i.innerText:"").end().find(q).val(i?i.title:"").end().data("kendoWindow");var z=k.element;if(u){a._fileBrowser=new c.ui.FileBrowser(z.find(".k-filebrowser"),d({},t));a._fileBrowser.bind("change",function(a){if(a.selected.get("type")==="f"){z.find(o).val(this.value())}});a._fileBrowser.bind("apply",w)}if(l){var A=z.closest(".k-window").height();z.css("max-height",A)}k.center().open();z.find(o).focus().select()}});c.ui.editor.FileCommand=r;h("insertFile",new e.Tool({command:r,template:new i({template:f.buttonTemplate,title:"Insert File"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/tables",["editor/plugins/formatblock"],a)})(function(){(function(a,b){var c=window.kendo,d=a.extend,e=a.proxy,f=c.ui.editor,g=f.Dom,h=f.EditorUtils,i=f.RangeUtils,j=f.Command,k="kendoEditor",l="k-state-active",m="k-state-selected",n=f.Tool,o=f.ToolTemplate,p=f.InsertHtmlCommand,q=f.BlockFormatFinder,r=f.EditorUtils.registerTool,s=c.getTouches;var t=c.template;var u="<td style='width:#=width#%;'>#=content#</td>";var v=new q([{tags:["table"]}]);var w=p.extend({init:function(b){var c=a.extend({postProcess:this.postProcess,skipCleaners:true},b||{});p.fn.init.call(this,c)},_tableHtml:function(a,b){a=a||1;b=b||1;var c=t(u)({width:100/b,content:f.emptyTableCellContent});var d=100/a;return"<table class='k-table' data-last>"+new Array(a+1).join("<tr style='height:"+d+"%;'>"+new Array(b+1).join(c)+"</tr>")+"</table>"},postProcess:function(b,c){var d=a("table[data-last]",b.document).removeAttr("data-last");c.setStart(d.find("td")[0],0);c.collapse(true);b.selectRange(c)},exec:function(){var a=this.options;a.html=this._tableHtml(a.rows,a.columns);p.fn.exec.call(this)}});var x=n.extend({initialize:function(b,c){n.fn.initialize.call(this,b,c);var d=a(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:b,copyAnchorStyles:false,open:e(this._open,this),activate:e(this._activate,this),close:e(this._close,this)}).data("kendoPopup");b.click(e(this._toggle,this)).keydown(e(this._keydown,this));var g=this._editor=c.editor;this._popup=d;var i=new f.TableWizardTool({template:new o({template:h.buttonTemplate,title:g.options.messages.tableWizard}),command:f.TableWizardCommand,insertNewTable:true});r("tableWizardInsert",i);var j=a("<div class='k-editor-toolbar'>"+i.options.template.getHtml()+"</div>");j.appendTo(d.element);if(g.toolbar){g.toolbar.attachToolsEvents(j)}},popup:function(){return this._popup},_activate:a.noop,_open:function(){this._popup.options.anchor.addClass(l)},_close:function(){this._popup.options.anchor.removeClass(l)},_keydown:function(a){var b=c.keys;var d=a.keyCode;if(d==b.DOWN&&a.altKey){this._popup.open()}else if(d==b.ESC){this._popup.close()}},_toggle:function(b){var c=a(b.target).closest(".k-tool");if(!c.hasClass("k-state-disabled")){this.popup().toggle()}},update:function(a){var b=this.popup();if(b.wrapper&&b.wrapper.css("display")=="block"){b.close()}a.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}});var y=x.extend({init:function(b){this.cols=8;this.rows=6;x.fn.init.call(this,a.extend(b,{command:w,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'></div>"+"</div>"}))},_activate:function(){var b=this,d=b._popup.element,e=d.find(".k-ct-cell"),f=e.eq(0),g=e.eq(e.length-1),h=c.getOffset(f),i=c.getOffset(g),j=b.cols,l=b.rows,m,n;d.find("*").addBack().attr("unselectable","on");i.left+=g[0].offsetWidth;i.top+=g[0].offsetHeight;m=(i.left-h.left)/j;n=(i.top-h.top)/l;function o(b){var c=a(window);return{row:Math.floor((b.clientY+c.scrollTop()-h.top)/n)+1,col:Math.floor((b.clientX+c.scrollLeft()-h.left)/m)+1}}d.autoApplyNS(k).on("mousemove",function(a){b._setTableSize(o(a))}).on("mouseleave",function(){b._setTableSize()}).on("down",function(a){a.preventDefault();var c=s(a)[0];b._exec(o(c.location))})},_valid:function(a){return a&&a.row>0&&a.col>0&&a.row<=this.rows&&a.col<=this.cols},_exec:function(a){if(this._valid(a)){this._editor.exec("createTable",{rows:a.row,columns:a.col});this._popup.close()}},_setTableSize:function(b){var d=this._popup.element;var e=d.find(".k-status");var f=d.find(".k-ct-cell");var g=this.cols;var h=this._editor.options.messages;if(this._valid(b)){e.text(c.format(h.createTableHint,b.row,b.col));f.each(function(c){a(this).toggleClass(m,c%g<b.col&&c/g<b.row)})}else{e.text(h.createTable);f.removeClass(m)}},_keydown:function(a){x.fn._keydown.call(this,a);if(!this._popup.visible()){return}var b=c.keys;var d=a.keyCode;var e=this._popup.element.find(".k-ct-cell");var f=Math.max(e.filter(".k-state-selected").last().index(),0);var g=Math.floor(f/this.cols);var h=f%this.cols;var i=false;if(d==b.DOWN&&!a.altKey){i=true;g++}else if(d==b.UP){i=true;g--}else if(d==b.RIGHT){i=true;h++}else if(d==b.LEFT){i=true;h--}var j={row:Math.max(1,Math.min(this.rows,g+1)),col:Math.max(1,Math.min(this.cols,h+1))};if(d==b.ENTER){
this._exec(j)}else{this._setTableSize(j)}if(i){a.preventDefault();a.stopImmediatePropagation()}},_open:function(){var a=this._editor.options.messages;x.fn._open.call(this);this.popup().element.find(".k-status").text(a.createTable).end().find(".k-ct-cell").removeClass(m)},_close:function(){x.fn._close.call(this);this.popup().element.off("."+k)}});var z=j.extend({exec:function(){var a=this.lockRange(true),b=a.endContainer,c,d,e;while(g.name(b)!="td"){b=b.parentNode}if(this.immutables()&&f.Immutables.immutableParent(b)){return}d=b.parentNode;c=d.children.length;e=d.cloneNode(true);for(var h=0;h<d.cells.length;h++){e.cells[h].innerHTML=f.emptyTableCellContent}if(this.options.position=="before"){g.insertBefore(e,d)}else{g.insertAfter(e,d)}this.releaseRange(a)}});var A=j.extend({exec:function(){var a=this.lockRange(true),b=g.closest(a.endContainer,"td"),c=g.closest(b,"table"),d,e,h=c.rows,i,j,k=this.options.position;if(this.immutables()&&f.Immutables.immutableParent(b)){return}d=g.findNodeIndex(b,true);for(e=0;e<h.length;e++){i=h[e].cells[d];j=i.cloneNode();j.innerHTML=f.emptyTableCellContent;if(k=="before"){g.insertBefore(j,i)}else{g.insertAfter(j,i)}}this.releaseRange(a)}});var B=j.extend({exec:function(){var b=this.lockRange();var c=i.mapAll(b,function(b){return a(b).closest("tr")[0]});var d=c[0];if(this.immutables()&&f.Immutables.immutableParent(d)){return}var e=g.closest(d,"table");var h;if(e.rows.length<=c.length){h=g.next(e);if(!h||g.insignificant(h)){h=g.prev(e)}g.remove(e)}else{for(var j=0;j<c.length;j++){d=c[j];g.removeTextSiblings(d);h=g.next(d)||g.prev(d);h=h.cells[0];g.remove(d)}}if(h){b.setStart(h,0);b.collapse(true);this.editor.selectRange(b)}}});var C=j.extend({exec:function(){var a=this.lockRange(),b=g.closest(a.endContainer,"td"),c=g.closest(b,"table"),d=c.rows,e=g.findNodeIndex(b,true),h=d[0].cells.length,i,j;if(this.immutables()&&f.Immutables.immutableParent(b)){return}if(h==1){i=g.next(c);if(!i||g.insignificant(i)){i=g.prev(c)}g.remove(c)}else{g.removeTextSiblings(b);i=g.next(b)||g.prev(b);for(j=0;j<d.length;j++){g.remove(d[j].cells[e])}}if(i){a.setStart(i,0);a.collapse(true);this.editor.selectRange(a)}}});var D=n.extend({command:function(a){a=d(a,this.options);if(a.action=="delete"){if(a.type=="row"){return new B(a)}else{return new C(a)}}else{if(a.type=="row"){return new z(a)}else{return new A(a)}}},initialize:function(a,b){n.fn.initialize.call(this,a,b);a.addClass("k-state-disabled")},update:function(a,b){var c=!v.isFormatted(b);a.toggleClass("k-state-disabled",c)}});d(c.ui.editor,{PopupTool:x,TableCommand:w,InsertTableTool:y,TableModificationTool:D,InsertRowCommand:z,InsertColumnCommand:A,DeleteRowCommand:B,DeleteColumnCommand:C});r("createTable",new y({template:new o({template:h.buttonTemplate,popup:true,title:"Create table"})}));r("addColumnLeft",new D({type:"column",position:"before",template:new o({template:h.buttonTemplate,title:"Add column on the left"})}));r("addColumnRight",new D({type:"column",template:new o({template:h.buttonTemplate,title:"Add column on the right"})}));r("addRowAbove",new D({type:"row",position:"before",template:new o({template:h.buttonTemplate,title:"Add row above"})}));r("addRowBelow",new D({type:"row",template:new o({template:h.buttonTemplate,title:"Add row below"})}));r("deleteRow",new D({type:"row",action:"delete",template:new o({template:h.buttonTemplate,title:"Delete row"})}));r("deleteColumn",new D({type:"column",action:"delete",template:new o({template:h.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/clipboard",["editor/command"],a)})(function(){(function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=d.RangeUtils,f=d.Dom,g=d.RestorePoint,h=d.Marker,i=b.support.browser,j=a.extend;var k=c.extend({init:function(a){this.editor=a;var b=a.options.pasteCleanup;this.cleaners=[new m(b),new n(b),new o(b),new p(b),new r(b),new s(b),new w(b),new x(b)]},htmlToFragment:function(a){var b=this.editor,c=b.document,d=f.create(c,"div"),e=c.createDocumentFragment();d.innerHTML=a;while(d.firstChild){e.appendChild(d.firstChild)}return e},isBlock:function(a){return/<(div|p|ul|ol|table|h[1-6])/i.test(a)},_startModification:function(){var a;var b;var c=this.editor;if(this._inProgress){return}this._inProgress=true;a=c.getRange();b=new g(a,c.body);f.persistScrollTop(c.document);return{range:a,restorePoint:b}},_endModification:function(a){d._finishUpdate(this.editor,a.restorePoint);this.editor._selectionChange();this._inProgress=false},_contentModification:function(a,b){var c=this;var d=c.editor;var e=c._startModification();if(!e){return}a.call(c,d,e.range);setTimeout(function(){b.call(c,d,e.range);c._endModification(e)})},_removeBomNodes:function(a){var b=e.textNodes(a);for(var c=0;c<b.length;c++){b[c].nodeValue=f.stripBom(b[c].nodeValue)||b[c].nodeValue}},_onBeforeCopy:function(a){var b=new h;b.add(a);this._removeBomNodes(a);b.remove(a);this.editor.selectRange(a)},oncopy:function(){this._onBeforeCopy(this.editor.getRange())},oncut:function(){this._onBeforeCopy(this.editor.getRange());this._contentModification(a.noop,a.noop)},_fileToDataURL:function(b){var c=a.Deferred();var d=new FileReader;if(!(b instanceof window.File)&&b.getAsFile){b=b.getAsFile()}d.onload=a.proxy(c.resolve,c);d.readAsDataURL(b);return c.promise()},_triggerPaste:function(a,b){var c={html:a||""};c.html=c.html.replace(/\ufeff/g,"");this.editor.trigger("paste",c);this.paste(c.html,b||{})},_handleImagePaste:function(a){if(!("FileReader"in window)||i.msie&&i.version>10){return}var b=a.clipboardData||a.originalEvent.clipboardData||window.clipboardData||{};var c=b.items||b.files;return this._insertImages(c)},_insertImages:function(b){if(!b){return}var c=a.grep(b,function(a){return/^image\//i.test(a.type)});var d=a.grep(b,function(a){return/^text\/html/i.test(a.type)});if(d.length||!c.length){return}var e=this._startModification();if(!e){return}a.when.apply(a,a.map(c,this._fileToDataURL)).done(a.proxy(function(){var b=Array.prototype.slice.call(arguments);var c=a.map(b,function(a){return'<img src="'+a.target.result+'" />'}).join("");this._triggerPaste(c);this._endModification(e)},this));return true},onpaste:function(c){if(this.editor.body.contentEditable==="false"){return}if(this._handleImagePaste(c)){c.preventDefault();return}this.expandImmutablesIn();this._contentModification(function d(e,g){var h=f.create(e.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});var i=b.support.browser;var j=e.body;this._decoreateClipboardNode(h,j);j.appendChild(h);if(i.webkit){this._moveToCaretPosition(h,g)}if(i.msie&&i.version<11){c.preventDefault();var k=e.createRange();k.selectNodeContents(h);e.selectRange(k);var l=e.document.body.createTextRange();l.moveToElementText(h);a(j).unbind("paste");l.execCommand("Paste");a(j).bind("paste",a.proxy(this.onpaste,this))}else{var m=e.createRange();m.selectNodeContents(h);e.selectRange(m)}g.deleteContents()},function b(c,d){var e="",g;c.selectRange(d);g=a(c.body).children(".k-paste-container");g.each(function(){var a=this.lastChild;if(a&&f.is(a,"br")){f.remove(a)}e+=this.innerHTML});g.remove();this._triggerPaste(e,{clean:true})})},ondragover:function(a){if(i.msie||i.edge){a.stopPropagation();a.preventDefault()}},ondrop:function(a){if(!("FileReader"in window)){return}var b=(a.originalEvent||a).dataTransfer||{};var c=b.items||b.files;if(this._insertImages(c)){a.preventDefault()}},_decoreateClipboardNode:function(b,c){if(!i.msie&&!i.webkit){return}b=a(b);b.css({borderWidth:"0px",width:"0px",height:"0px",overflow:"hidden",margin:"0",padding:"0"});if(i.msie){var d=a(c.ownerDocument.documentElement);b.css({fontVariant:"normal",fontWeight:"normal",lineSpacing:"normal",lineHeight:"normal",textDecoration:"none"});var e=d.css("color");if(e){b.css("color",e)}var f=d.css("fontFamily");if(f){b.css("fontFamily",f)}var g=d.css("fontSize");if(g){b.css("fontSize",g)}}},_moveToCaretPosition:function(b,c){var d=this;var e=d.editor.body;var g=f.offset(b,e);var h=d._caretOffset(c,e);var i=h.left-g.left;var j=h.top-g.top;var k="translate("+i+"px,"+j+"px)";a(b).css({"-webkit-transform":k,transform:k})},_caretOffset:function(a,b){var c=this.editor;var d=f.create(c.document,"span",{innerHTML:"\ufeff"});var e=a.startContainer;var g;if(a.collapsed){var h=f.isDataNode(e);if(h&&(f.isBom(e)||a.startOffset===0)){f.insertBefore(d,e)}else if(h&&a.startOffset===e.length){f.insertAfter(d,e)}else{a.insertNode(d);g=true}}else{e=e===b?e.childNodes[a.startOffset]:e;f.insertBefore(d,e)}var i=f.offset(d,b);var j=d.previousSibling;var k=d.nextSibling;f.remove(d);if(g&&f.isDataNode(j)&&f.isDataNode(k)&&!f.isBom(j)&&!f.isBom(k)){var l=j.length;k.data=j.data+k.data;a.setStart(k,l);f.remove(j);a.collapse(true);c.selectRange(a)}return i},expandImmutablesIn:function(a){var c=this.editor;if(c&&c.options.immutables){var d=c.body;a=a||c.getRange();b.ui.editor.Immutables.expandImmutablesIn(a);if(a.startContainer===d&&a.startOffset===0){var e=d.ownerDocument;var f=e.createTextNode("\ufeff");d.insertBefore(f,d.childNodes[0]);a.setStartBefore(f)}c.selectRange(a)}},splittableParent:function(a,b){var c,d;if(a){return f.closestEditableOfType(b,["p","ul","ol"])||b.parentNode}c=b.parentNode;d=b.ownerDocument.body;if(f.isInline(c)){while(c.parentNode!=d&&!f.isBlock(c.parentNode)){c=c.parentNode}}return c},paste:function(b,c){var d=this.editor,g,i,k;this.expandImmutablesIn();c=j({clean:false,split:true},c);if(!c.skipCleaners){for(g=0,i=this.cleaners.length;g<i;g++){if(this.cleaners[g].applicable(b)){b=this.cleaners[g].clean(b)}}}if(c.clean){b=b.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3");b=b.replace(/<(a|span)[^>]*><\/\1>/gi,"")}b=b.replace(/<(a|span|font)([^>]*)> <\/\1>/gi,"<$1$2>&nbsp;</$1>");b=b.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var l=this.isBlock(b);d.focus();var m=d.getRange();m.deleteContents();if(m.startContainer==d.document){m.selectNodeContents(d.body)}var n=new h;var o=n.addCaret(m);var p=this.splittableParent(l,o);var q=false;var r=p!=d.body&&!f.is(p,"td");if(c.split&&r&&(l||f.isInline(p))){m.selectNode(o);e.split(m,p,true);q=true}var s=this.htmlToFragment(b);if(s.firstChild&&s.firstChild.className==="k-paste-container"){var t=[];for(g=0,i=s.childNodes.length;g<i;g++){t.push(s.childNodes[g].innerHTML)}s=this.htmlToFragment(t.join("<br />"))}k=s.childNodes;a(k).filter("table").addClass("k-table").end().find("table").addClass("k-table");a(k).each(function(a,b){if(f.isBlock(b)&&!f.isSelfClosing(b)&&b.innerHTML===""){b.appendChild(d.document.createTextNode("\ufeff"))}});m.insertNode(s);p=this.splittableParent(l,o);if(q){while(o.parentNode!=p){f.unwrap(o.parentNode)}f.unwrap(o.parentNode)}f.normalize(m.commonAncestorContainer);o.style.display="inline";f.restoreScrollTop(d.document);f.scrollTo(o);n.removeCaret(m);var u=m.commonAncestorContainer.parentNode;if(m.collapsed&&f.name(u)=="tbody"){m.setStartAfter(a(u).closest("table")[0]);m.collapse(true)}var v=a(m.commonAncestorContainer.parentNode).closest("table");if(v.get(0)){var w=v.parent().contents();var x=w.length-1;var y=w.get(x);while(y.nodeValue!==null&&(y.nodeValue===" "||y.nodeValue==="")){x-=1;y=w.get(x)}if(y===v.get(0)){f.insertAfter(f.createEmptyNode(d.document,"p"),v[0])}}d.selectRange(m)}});var l=c.extend({init:function(a){this.options=a||{};this.replacements=[]},clean:function(a,b){var c=this,d=b||c.replacements,e,f;for(e=0,f=d.length;e<f;e+=2){a=a.replace(d[e],d[e+1])}return a}});var m=l.extend({init:function(a){l.fn.init.call(this,a);this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(a){return!this.options.none&&/<script[^>]*>/i.test(a)}});var n=l.extend({init:function(a){l.fn.init.call(this,a);var b=" ";this.replacements=[/<span\s+class="Apple-tab-span"[^>]*>\s*<\/span>/gi,b,/\t/gi,b,/&nbsp;&nbsp; &nbsp;/gi,b]},applicable:function(a){return/&nbsp;&nbsp; &nbsp;|class="?Apple-tab-span/i.test(a)}});var o=l.extend({init:function(a){l.fn.init.call(this,a);this.junkReplacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,""];this.replacements=this.junkReplacements.concat([/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)font(\s[^>]*)?>/gi,this.convertFontMatch,/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(a,b){return b?a:" "}])},convertFontMatch:function(a,b,c){var d=/face=['"]([^'"]+)['"]/i;var e=d.exec(c);var f=c&&e&&e[1];if(b){return"</span>"}else if(f){return'<span style="font-family:'+f+'">'}else{return"<span>"}},applicable:function(a){return/class="?Mso/i.test(a)||/style="[^"]*mso-/i.test(a)||/urn:schemas-microsoft-com:office/.test(a)},stripEmptyAnchors:function(a){return a.replace(/<a([^>]*)>\s*<\/a>/gi,function(a,b){if(!b||b.indexOf("href")<0){return""}return a})},listType:function(a,b){var c=a.innerHTML;var d=f.innerText(a);var e;var g=c.match(/^(?:<span [^>]*texhtml[^>]*>)?<span [^>]*(?:Symbol|Wingdings)[^>]*>([^<]+)/i);var h=g&&g[1];var i=/^[a-z\d]/i.test(h);var j=function(a){return a.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"")};if(g){e=true}c=c.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"Â ");if(!e&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(c)||e&&/^.\u00a0+/.test(c)||h&&!i&&b){return{tag:"ul",style:this._guessUnorderedListStyle(j(d))}}if(/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(c)){return{tag:"ol",style:this._guessOrderedListStyle(j(d))}}},_convertToLi:function(a){var b,c=f.name(a);if(a.childNodes.length==1){b=a.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,"")}else{f.remove(a.firstChild);if(a.firstChild.nodeType==3){if(/^[ivxlcdm]+\.$/i.test(a.firstChild.nodeValue)){f.remove(a.firstChild)}}if(/^(&nbsp;|\s)+$/i.test(a.firstChild.innerHTML)){f.remove(a.firstChild)}if(c!="p"){b="<"+c+">"+a.innerHTML+"</"+c+">"}else{b=a.innerHTML}}f.remove(a);return f.create(document,"li",{innerHTML:b})},_guessUnorderedListStyle:function(a){if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(a)){return null}else if(/^o/.test(a)){return"circle"}else{return"square"}},_guessOrderedListStyle:function(a){var b=null;if(!/^\d/.test(a)){b=(/^[a-z]/.test(a)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(a)?"roman":"alpha")}return b},extractListLevels:function(a){var c=/style=['"]?[^'"]*?mso-list:\s?[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi;a=a.replace(c,function(a,c,d){return b.format('data-list="{0}" data-level="{1}" {2}',c,d,a)});return a},_createList:function(a,b){return f.create(document,a,{style:{listStyleType:b}})},lists:function(b){var c=a(b).find(f.blockElements.join(",")),d=-1,e,g={},h,i,j,k,l,m,n,o,p,q,r,s,t=["p","h1","h2","h3","h4","h5","h6"];for(n=0;n<c.length;n++){o=c[n];s=a(o).data();var u=s.list;e=f.name(o);if(e=="td"){continue}var v=this.listType(o,s);p=v&&v.tag;if(!p||t.indexOf(e)<0){if(!o.innerHTML){f.remove(o)}else if(h&&!l){a(h).append(o)}continue}q=s.level||parseFloat(o.style.marginLeft||0);var w=p+u;if(!g[q]){g[q]={}}if(!i||i<0){i=q;j=u;k=a(b).find("[data-list='"+j+"']:last")[0];m=this._createList(p,v.style);f.insertBefore(m,o);d=q;g[q][w]=m}l=k===o;r=g[q][w];if(q>d||!r){r=this._createList(p,v.style);g[q][w]=r;h.appendChild(r)}h=this._convertToLi(o);r.appendChild(h);if(l){i=d=-1}else{d=q}}},removeAttributes:function(a){var b=a.attributes,c=b.length;while(c--){if(f.name(b[c])!="colspan"){a.removeAttributeNode(b[c])}}},createColGroup:function(c){var d=c.cells;var e=a(c).closest("table");var f=e.children("colgroup");if(d.length<2){return}else if(f.length){d=f.children();f[0].parentNode.removeChild(f[0])}f=a(a.map(d,function(a){var c=a.width;if(c&&parseInt(c,10)!==0){return b.format('<col style="width:{0}px;"/>',c)}return"<col />"}).join(""));if(!f.is("colgroup")){f=a("<colgroup/>").append(f)}f.prependTo(e)},convertHeaders:function(b){var c=b.cells,d,e=a.map(c,function(b){var c=a(b).children("p").children("strong")[0];if(c&&f.name(c)=="strong"){return c}});if(e.length==c.length){for(d=0;d<e.length;d++){f.unwrap(e[d])}a(b).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(b);for(d=0;d<c.length;d++){f.changeTag(c[d],"th")}}},removeParagraphs:function(b){var c,d,e,g,h;for(c=0;c<b.length;c++){this.removeAttributes(b[c]);g=a(b[c]);h=g.children("p");for(d=0,e=h.length;d<e;d++){if(d<e-1){f.insertAfter(f.create(document,"br"),h[d])}f.unwrap(h[d])}}},removeDefaultColors:function(a){for(var b=0;b<a.length;b++){if(/^\s*color:\s*[^;]*;?$/i.test(a[b].style.cssText)){f.unwrap(a[b])}}},tables:function(b){var c=a(b).find("table"),d=this,e,f,g,h,i;for(h=0;h<c.length;h++){e=c[h].rows;g=f=e[0];for(i=1;i<e.length;i++){if(e[i].cells.length>g.cells.length){g=e[i]}}d.createColGroup(g);d.convertHeaders(f);d.removeAttributes(c[h]);d.removeParagraphs(c.eq(h).find("td,th"));d.removeDefaultColors(c.eq(h).find("span"))}},headers:function(b){var c=a(b).find("p.MsoTitle");for(var d=0;d<c.length;d++){f.changeTag(c[d],"h1")}},removeFormatting:function(b){a(b).find("*").each(function(){a(this).css({fontSize:"",fontFamily:""});if(!this.getAttribute("style")&&!this.style.cssText){this.removeAttribute("style")}})},clean:function(a){var b=this,c;var d=this.options;if(d.none){a=l.fn.clean.call(b,a,this.junkReplacements);a=b.stripEmptyAnchors(a)}else{a=this.extractListLevels(a);a=l.fn.clean.call(b,a);a=b.stripEmptyAnchors(a);c=f.create(document,"div",{innerHTML:a});b.headers(c);if(d.msConvertLists){b.lists(c)}b.tables(c);if(d.msAllFormatting){b.removeFormatting(c)}a=c.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}return a}});var p=l.extend({init:function(a){l.fn.init.call(this,a);this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(a){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(a)}});var q=l.extend({clean:function(a){var b=f.create(document,"div",{innerHTML:a});b=this.cleanDom(b);return b.innerHTML},cleanDom:function(a){return a}});var r=q.extend({cleanDom:function(b){var c=this.collectTags();a(b).find(c).each(function(){f.unwrap(this)});return b},collectTags:function(){if(this.options.span){return"span"}},applicable:function(){return this.options.span}});var s=q.extend({cleanDom:function(b){var c=this.collectAttr();var d=a(b).find("["+c.join("],[")+"]");d.removeAttr(c.join(" "));return b},collectAttr:function(){if(this.options.css){return["class","style"]}return[]},applicable:function(){return this.options.css}});var t=function(){this.text="";this.add=function(a){this.text+=a}};var u=c.extend({init:function(a){this.separators=a||{text:" ",line:"<br/>"};this.lines=[];this.inlineBlockText=[];this.resetLine()},appendText:function(a){if(a.nodeType===3){a=a.nodeValue}this.textContainer.add(a)},appendInlineBlockText:function(a){this.inlineBlockText.push(a)},flashInlineBlockText:function(){if(this.inlineBlockText.length){this.appendText(this.inlineBlockText.join(" "));this.inlineBlockText=[]}},endLine:function(){this.flashInlineBlockText();this.resetLine()},html:function(){var a=this.separators;var b="";var c=this.lines;this.flashInlineBlockText();for(var d=0,e=c.length,f=e-1;d<e;d++){var g=c[d];for(var h=0,i=g.length,j=i-1;h<i;h++){var k=g[h].text;b+=k;if(h!==j){b+=a.text}}if(d!==f){b+=a.line}}return b},resetLine:function(){this.textContainer=new t;this.line=[];this.line.push(this.textContainer);this.lines.push(this.line)}});var v=c.extend({init:function(a){this.callback=a},enumerate:function(a){if(!a){return}var b=this.callback(a);var c=a.firstChild;if(!b&&c){this.enumerate(c)}this.enumerate(a.nextSibling)}});var w=l.extend({init:function(b){l.fn.init.call(this,b);this.hasText=false;this.enumerator=new v(a.proxy(this.buildText,this))},clean:function(a){var b=f.create(document,"div",{innerHTML:a});return this.cleanDom(b)},cleanDom:function(a){this.separators=this.getDefaultSeparators();this.htmlLines=new u(this.separators);this.enumerator.enumerate(a.firstChild);this.hasText=false;return this.htmlLines.html()},buildText:function(a){if(f.isDataNode(a)){if(f.isEmptyspace(a)){return}this.htmlLines.appendText(a.nodeValue.replace("\n",this.separators.line));this.hasText=true}else if(f.isBlock(a)&&this.hasText){var b=this.actions[f.name(a)]||this.actions.block;return b(this,a)}else if(f.isBr(a)){this.htmlLines.appendText(this.separators.line)}},applicable:function(){var a=this.options;return a.all||a.keepNewLines},getDefaultSeparators:function(){if(this.options.all){return{text:" ",line:" "}}else{return{text:" ",line:"<br/>"}}},actions:{ul:a.noop,ol:a.noop,table:a.noop,thead:a.noop,tbody:a.noop,td:function(a,b){var c=new w({all:true});var d=c.cleanDom(b);a.htmlLines.appendInlineBlockText(d);return true},block:function(a){a.htmlLines.endLine()}}});var x=l.extend({clean:function(a){return this.options.custom(a)},applicable:function(){return typeof this.options.custom==="function"}});j(d,{Clipboard:k,Cleaner:l,ScriptCleaner:m,TabCleaner:n,MSWordFormatCleaner:o,WebkitFormatCleaner:p,HtmlTagsCleaner:r,HtmlAttrCleaner:s,HtmlContentCleaner:w,HtmlTextLines:u,CustomCleaner:x})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/keyboard",["editor/command"],a)})(function(){(function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=d.RangeUtils,f=d.Dom,g=d.RestorePoint,h=d.Marker,i=b.support.browser,j='<br class="k-br">',k=a.extend;var l=f.nodeTypes;var m="previousSibling";function n(a,b){return b.startContainer===a&&b.endContainer===a&&b.startOffset===0&&b.endOffset==a.childNodes.length}function o(a,b,c){var d=a?a[b]:null;while(d&&!c(d)){d=d[b]}return d}var p="td,th,caption";var q="table,tbody,thead,tfoot,tr";var r=q+","+p;var s=function(b){return!b.collapsed&&a(b.commonAncestorContainer).is(q)};var t=c.extend({remove:function(b){var c=this;var d=new h;d.add(b,false);var g=e.getAll(b,function(b){return a(b).is(r)});var i=e.documentFromRange(b);var j=d.start;var k=d.end;var l=p.split(",");var m=f.parentOfType(j,l);var n=f.parentOfType(k,l);c._removeContent(j,m,true);c._removeContent(k,n,false);a(g).each(function(b,c){c=a(c);(c.is(p)?c:c.find(p)).each(function(a,b){b.innerHTML="&#65279;"})});if(m&&!j.previousSibling){f.insertBefore(i.createTextNode("\ufeff"),j)}if(n&&!k.nextSibling){f.insertAfter(i.createTextNode("\ufeff"),k)}if(m){b.setStartBefore(j)}else if(g[0]){m=a(g[0]);m=m.is(p)?m:m.find(p).first();if(m.length){b.setStart(m.get(0),0)}}b.collapse(true);f.remove(j);f.remove(k)},_removeContent:function(b,c,d){if(c){var e=d?"nextSibling":"previousSibling",g,h=function(b){while(b&&!b[e]){b=b.parentNode}return b&&a.contains(c,b)?b[e]:null};b=h(b);while(b){g=h(b);f.remove(b);b=g}}}});var u=c.extend({init:function(a){this.editor=a},keydown:function(b){var c=this,e=c.editor,f=e.keyboard,h=f.isTypingKey(b),j=k(a.Event(),b);c.editor.trigger("keydown",j);if(j.isDefaultPrevented()){b.preventDefault();return true}if(!j.isDefaultPrevented()&&h&&!f.isTypingInProgress()){var l=e.getRange();var m=e.body;c.startRestorePoint=new g(l,m);if(s(l)){var o=new t(e);o.remove(l);e.selectRange(l)}if(i.webkit&&!l.collapsed&&n(m,l)){m.innerHTML=""}if(e.immutables&&d.Immutables.immutablesContext(l)){var p=new d.BackspaceHandler(e);p.deleteSelection(l)}f.startTyping(function(){c.endRestorePoint=d._finishUpdate(e,c.startRestorePoint)});return true}return false},keyup:function(a){var b=this.editor.keyboard;this.editor.trigger("keyup",a);if(b.isTypingInProgress()){b.endTyping();return true}return false}});var v=c.extend({init:function(a){this.editor=a},_addCaret:function(a){var b=f.create(this.editor.document,"a");f.insertAt(a,b,0);f.stripBomNode(b.previousSibling);f.stripBomNode(b.nextSibling);return b},_restoreCaret:function(a){var b=this.editor.createRange();if(!a.nextSibling&&f.isDataNode(a.previousSibling)){b.setStart(a.previousSibling,a.previousSibling.length)}else{b.setStartAfter(a)}b.collapse(true);this.editor.selectRange(b);f.remove(a)},_handleDelete:function(a){var b=a.endContainer;var c=f.closestEditableOfType(b,f.blockElements);if(c&&d.RangeUtils.isEndOf(a,c)){var e=f.next(c);if(!e||f.name(e)!="p"){return false}var g=this._addCaret(e);this._merge(c,e);this._restoreCaret(g);return true}return false},_cleanBomBefore:function(a){var b=a.startOffset;var c=a.startContainer;var d=c.nodeValue;var e=0;while(b-e>=0&&d[b-e-1]=="\ufeff"){e++}if(e>0){c.deleteData(b-e,e);a.setStart(c,Math.max(0,b-e));a.collapse(true);this.editor.selectRange(a)}},_handleBackspace:function(b){var c=b.startContainer;var e=f.closestEditableOfType(c,["li"]);var g=f.closestEditableOfType(c,"p,h1,h2,h3,h4,h5,h6".split(","));var h=this.editor;var i;if(f.isDataNode(c)){if(b.collapsed&&/^\s[\ufeff]+$/.test(c.nodeValue)){b.setStart(c,0);b.setEnd(c,c.length);h.selectRange(b);return false}this._cleanBomBefore(b)}i=o(g,m,function(a){return!f.htmlIndentSpace(a)});if(b.collapsed&&b.startOffset!==b.endOffset&&b.startOffset<0){b.startOffset=0;b.endOffset=0;h.selectRange(b)}var j=e&&d.RangeUtils.isStartOf(b,e);var k=e&&a(e).index();var l=j&&k>0;if(l){g=e;i=f.prev(e)}if(g&&i&&f.is(i,"table")&&d.RangeUtils.isStartOf(b,g)){if(g.innerText===""){g.innerHTML="\ufeff"}return true}if(g&&i&&d.RangeUtils.isStartOf(b,g)||l){var n=this._addCaret(g);this._merge(i,g);this._restoreCaret(n);return true}if(j&&k===0){var p=e.firstChild;if(!p){e.innerHTML=d.emptyElementContent;p=e.firstChild}var q=new d.ListFormatter(f.name(e.parentNode),"p");b.selectNodeContents(e);q.toggle(b);if(f.insignificant(p)){b.setStartBefore(p)}else{b.setStart(p,0)}h.selectRange(b);return true}var r=c.childNodes[b.startOffset-1];var s=b;var t=r&&f.closestEditableOfType(r,["a"]);var u=o(r||c,m,function(a){return!f.isDataNode(a)||!f.isBom(a)&&a.length>0});if(t||(b.startOffset===0||r)&&f.is(u,"a")){t=t||u;s=h.createRange();s.setStart(t,t.childNodes.length);s.collapse(true)}t=t||f.closestEditableOfType(r||s.startContainer,["a"]);var v=t&&d.RangeUtils.isEndOf(s,t);if(v){var w=new d.UnlinkCommand({range:s,body:h.body,immutables:!!h.immutables});h.execCommand(w);h._selectionChange()}return false},_handleSelection:function(b){var c=b.commonAncestorContainer;var e=f.closest(c,"table");var g=d.emptyElementContent;var i=this.editor;if(s(b)){var j=new t(i);j.remove(b);i.selectRange(b);return true}var k=new h;k.add(b,false);if(b.commonAncestorContainer===i.body){this._surroundFullyContent(k,b)}if(i.immutables){this._handleImmutables(k)}this._surroundFullySelectedAnchor(k,b);b.setStartAfter(k.start);b.setEndBefore(k.end);var l=b.startContainer;var m=b.endContainer;b.deleteContents();if(e&&a(e).text()===""){b.selectNode(e);b.deleteContents()}c=b.commonAncestorContainer;if(f.name(c)==="p"&&c.innerHTML===""){c.innerHTML=g;b.setStart(c,0)}this._join(l,m);f.insertAfter(i.document.createTextNode("\ufeff"),k.start);k.remove(b);l=b.startContainer;if(f.name(l)=="tr"){l=l.childNodes[Math.max(0,b.startOffset-1)];b.setStart(l,f.getNodeLength(l))}b.collapse(true);i.selectRange(b);return true},_handleImmutables:function(a){var b=d.Immutables.immutableParent;var c=b(a.start);var e=b(a.start);if(c){f.insertBefore(a.start,c)}if(e){f.insertAfter(a.end,e)}if(c){f.remove(c)}if(e&&e.parentNode){f.remove(e)}},_surroundFullyContent:function(a,b){var c=b.commonAncestorContainer.children,d=c[0],e=c[c.length-1];this._moveMarker(a,b,d,e)},_surroundFullySelectedAnchor:function(b,c){var d=b.start,e=a(d).closest("a").get(0),f=b.end,g=a(f).closest("a").get(0);this._moveMarker(b,c,e,g)},_moveMarker:function(a,b,c,d){var g=a.start,h=a.end;if(c&&e.isStartOf(b,c)){f.insertBefore(g,c)}if(d&&e.isEndOf(b,d)){f.insertAfter(h,d)}},_root:function(a){while(a&&f.name(a)!="body"&&a.parentNode&&f.name(a.parentNode)!="body"){a=a.parentNode}return a},_join:function(a,b){a=this._root(a);b=this._root(b);if(a!=b&&f.is(b,"p")){this._merge(a,b)}},_merge:function(a,b){f.removeTrailingBreak(a);while(a&&b.firstChild){if(a.nodeType==1){a=f.list(a)?a.children[a.children.length-1]:a;if(a){a.appendChild(b.firstChild)}}else if(a.nodeType===l.TEXT_NODE){this._mergeWithTextNode(a,b.firstChild)}else{a.parentNode.appendChild(b.firstChild)}}f.remove(b)},_mergeWithTextNode:function(a,b){if(a&&a.nodeType===l.TEXT_NODE){if(a.nextSibling&&this._isCaret(a.nextSibling)){f.insertAfter(b,a.nextSibling)}else{f.insertAfter(b,a)}}},_isCaret:function(b){return a(b).is("a")},keydown:function(a){var c,e;var f=this.editor;var h=f.getRange();var i=a.keyCode;var j=b.keys;var k=i===j.BACKSPACE;var l=i==j.DELETE;if(f.immutables&&f.immutables.keydown(a,h)){return}if((k||l)&&!h.collapsed){c="_handleSelection"}else if(k){c="_handleBackspace"}else if(l){c="_handleDelete"}if(!c){return}e=new g(h,f.body);if(this[c](h)){a.preventDefault();d._finishUpdate(f,e)}},deleteSelection:function(a){this._handleSelection(a)},keyup:a.noop});var w=c.extend({init:function(a){this.editor=a;this.systemCommandIsInProgress=false},createUndoCommand:function(){this.startRestorePoint=this.endRestorePoint=d._finishUpdate(this.editor,this.startRestorePoint)},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(a){var b=this,c=b.editor,d=c.keyboard;if(d.isModifierKey(a)){if(d.isTypingInProgress()){d.endTyping(true)}b.startRestorePoint=new g(c.getRange(),c.body);return true}if(d.isSystem(a)){b.systemCommandIsInProgress=true;if(b.changed()){b.systemCommandIsInProgress=false;b.createUndoCommand()}return true}return false},keyup:function(){var a=this;if(a.systemCommandIsInProgress&&a.changed()){a.systemCommandIsInProgress=false;a.createUndoCommand();return true}return false}});var x=c.extend({init:function(a){this.editor=a},keydown:function(a){if(!i.webkit||a.isDefaultPrevented()||!(a.ctrlKey&&a.keyCode==65&&!a.altKey&&!a.shiftKey)){return}if(this.editor.options.immutables){this._toSelectableImmutables()}this._selectEditorBody()},_selectEditorBody:function(){var a=this.editor;var b=a.getRange();b.selectNodeContents(a.body);a.selectRange(b)},_toSelectableImmutables:function(){var b=this.editor,c=b.body,e=d.Immutables.immutable,g=f.emptyTextNode,h=c.firstChild,i=c.lastChild;while(g(h)){h=h.nextSibling}while(g(i)){i=i.previousSibling}if(h&&e(h)){a(j).prependTo(c)}if(i&&e(i)){a(j).appendTo(c)}},keyup:a.noop});var y=c.extend({init:function(a){this.handlers=a;this.typingInProgress=false},isCharacter:function(a){return a>=48&&a<=90||a>=96&&a<=111||a>=186&&a<=192||a>=219&&a<=222||a==229},toolFromShortcut:function(b,c){var d=String.fromCharCode(c.keyCode),e,f,g=this._getShortcutModifier(c,navigator.platform);for(e in b){f=a.extend({ctrl:false,alt:false,shift:false},b[e].options);if((f.key==d||f.key==c.keyCode)&&f.ctrl==g&&f.alt==c.altKey&&f.shift==c.shiftKey){return e}}},_getShortcutModifier:function(a,b){var c=b.toUpperCase().indexOf("MAC")>=0;return c?a.metaKey:a.ctrlKey},toolsFromShortcut:function(b,c){var d=String.fromCharCode(c.keyCode),e,f,g,h=[];var i=function(a){return a==d||a==c.keyCode||a==c.charCode};for(e in b){f=a.extend({ctrl:false,alt:false,shift:false},b[e].options);g=a.isArray(f.key)?a.grep(f.key,i).length>0:i(f.key);if(g&&f.ctrl==c.ctrlKey&&f.alt==c.altKey&&f.shift==c.shiftKey){h.push(b[e])}}return h},isTypingKey:function(a){var b=a.keyCode;return this.isCharacter(b)&&!a.ctrlKey&&!a.altKey||b==32||b==13||b==8||b==46&&!a.shiftKey&&!a.ctrlKey&&!a.altKey},isModifierKey:function(a){var b=a.keyCode;return b==17&&!a.shiftKey&&!a.altKey||b==16&&!a.ctrlKey&&!a.altKey||b==18&&!a.ctrlKey&&!a.shiftKey},isSystem:function(a){return a.keyCode==46&&a.ctrlKey&&!a.altKey&&!a.shiftKey},
startTyping:function(a){this.onEndTyping=a;this.typingInProgress=true},stopTyping:function(){if(this.typingInProgress&&this.onEndTyping){this.onEndTyping()}this.typingInProgress=false},endTyping:function(b){var c=this;c.clearTimeout();if(b){c.stopTyping()}else{c.timeout=window.setTimeout(a.proxy(c.stopTyping,c),1e3)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(a,b){var c,d=this.handlers;for(c=0;c<d.length;c++){if(d[c][b](a)){break}}},keydown:function(a){this.notify(a,"keydown")},keyup:function(a){this.notify(a,"keyup")}});k(d,{TypingHandler:u,SystemHandler:w,BackspaceHandler:v,SelectAllHandler:x,Keyboard:y})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/exportpdf",["editor/command"],a)})(function(){(function(a){var b=window.kendo,c=b.ui.editor,d=c.Command,e=c.EditorUtils,f=e.registerTool,g=c.Tool,h=c.ToolTemplate,i=a.extend;var j=d.extend({init:function(a){this.async=true;d.fn.init.call(this,a)},exec:function(){var a=this;var b=a.lockRange(true);var c=a.editor;c._destroyResizings();c.saveAsPDF().then(function(){a.releaseRange(b);c._initializeColumnResizing();c._initializeRowResizing();c._initializeTableResizing()})}});i(c,{ExportPdfCommand:j});f("pdf",new g({command:j,template:new h({template:e.buttonTemplate,title:"Export PDF"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/plugins/print",["editor/command"],a)})(function(){(function(a){var b=window.kendo,c=b.ui.editor,d=c.Command,e=c.EditorUtils,f=e.registerTool,g=c.Tool,h=c.ToolTemplate,i=a.extend;var j=d.extend({init:function(a){d.fn.init.call(this,a);this.managesUndoRedo=true},exec:function(){var a=this.editor;if(b.support.browser.msie){a.document.execCommand("print",false,null)}else if(a.window.print){a.window.print()}}});i(c,{PrintCommand:j});f("print",new g({command:j,template:new h({template:e.buttonTemplate,title:"Print"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/resizing/resizing-utils",["editor/main"],a)})(function(){(function(a,b){var c=window;var d=c.Math;var e=d.min;var f=d.max;var g=c.parseFloat;var h=a.jQuery;var i=h.extend;var j=a.ui.editor;var k="%";var l="px";var m=/(\d+)(\.?)(\d*)%/;var n=/(\d+)(\.?)(\d*)px/;var o="string";function p(a){var b=a.value;var c=a.min;var d=a.max;return f(e(g(b),g(d)),g(c))}function q(b){if(b&&!h(b).is("body")&&b.scrollHeight>b.clientHeight){return a.support.scrollbar()}return 0}function r(a,b){if(s(a)){return g(a)}else{return g(a)/b*100}}function s(a){return typeof a===o&&m.test(a)}function t(a){return typeof a===o&&n.test(a)}function u(a){return g(a)+k}function v(a){return g(a)+l}var w={constrain:p,getScrollBarWidth:q,calculatePercentageRatio:r,inPercentages:s,inPixels:t,toPercentages:u,toPixels:v};i(j,{ResizingUtils:w})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/resizing/table-element-resizing",["editor/main","kendo.resizable","editor/resizing/resizing-utils"],a)})(function(){(function(a,b){var c=a.jQuery;var d=c.extend;var e=c.noop;var f=c.proxy;var g=a.ui.editor;var h=a.Class;var i="keydown";var j="mousedown";var k="mouseenter";var l="mouseleave";var m="mousemove";var n="mouseup";var o=",";var p=".";var q=":last-child";var r="table";var s=h.extend({init:function(a,b){var e=this;e.options=d({},e.options,b);e.options.tags=c.isArray(e.options.tags)?e.options.tags:[e.options.tags];if(c(a).is(r)){e.element=a;e._attachEventHandlers()}},destroy:function(){var a=this;var b=a.options.eventNamespace;if(a.element){c(a.element).off(b);a.element=null}c(a.options.rootElement).off(i+b);a._destroyResizeHandle()},options:{tags:[],min:0,rootElement:null,eventNamespace:"",rtl:false,handle:{dataAttribute:"",height:0,width:0,classNames:{},template:""}},_attachEventHandlers:function(){var a=this;var b=a.options;c(a.element).on(m+b.eventNamespace,b.tags.join(o),f(a.detectElementBorderHovering,a))},resizingInProgress:function(){var a=this;var b=a._resizable;if(b){return!!b.resizing}return false},resize:e,detectElementBorderHovering:function(a){var b=this;var d=b.options;var e=d.handle;var f=c(a.currentTarget);var g=b.resizeHandle;var h=e.dataAttribute;if(!b.resizingInProgress()){if(!f.is(q)&&b.elementBorderHovered(f,a)){if(g){if(g.data(h)&&g.data(h)!==f[0]){b.showResizeHandle(f,a)}}else{b.showResizeHandle(f,a)}}else{if(g){b._destroyResizeHandle()}}}},elementBorderHovered:e,showResizeHandle:function(a,b){var c=this;if(b.buttons!==0){return}c._initResizeHandle();c.setResizeHandlePosition(a);c.setResizeHandleDimensions();c.setResizeHandleDataAttributes(a[0]);c._attachResizeHandleEventHandlers();c._initResizable(a);c._hideResizeMarker();c.resizeHandle.show()},_initResizeHandle:function(){var a=this;var b=a.options;a._destroyResizeHandle();a.resizeHandle=c(b.handle.template).appendTo(b.rootElement)},setResizeHandlePosition:e,setResizeHandleDimensions:e,setResizeHandleDataAttributes:function(a){var b=this;b.resizeHandle.data(b.options.handle.dataAttribute,a)},_attachResizeHandleEventHandlers:function(){var a=this;var b=a.options;var c=b.eventNamespace;var d=b.handle.classNames.marker;var e=a.resizeHandle;a.resizeHandle.on(j+c,function(){e.find(p+d).show()}).on(n+c,function(){e.find(p+d).hide()})},_hideResizeMarker:function(){var a=this;a.resizeHandle.find(p+a.options.handle.classNames.marker).hide()},_destroyResizeHandle:function(){var a=this;if(a.resizeHandle){a._destroyResizable();a.resizeHandle.off(a.options.eventNamespace).remove();a.resizeHandle=null}},_initResizable:function(b){var c=this;if(!c.resizeHandle){return}c._destroyResizable();c._resizable=new a.ui.Resizable(b,{draggableElement:c.resizeHandle[0],start:f(c.onResizeStart,c),resize:f(c.onResize,c),resizeend:f(c.onResizeEnd,c)})},_destroyResizable:function(){var a=this;if(a._resizable){a._resizable.destroy();a._resizable=null}},onResizeStart:function(){this._disableKeyboard()},onResize:function(a){this.setResizeHandleDragPosition(a)},setResizeHandleDragPosition:e,onResizeEnd:function(a){var b=this;b.resize(a);b._destroyResizeHandle();b._enableKeyboard()},_enableKeyboard:function(){var a=this.options;c(a.rootElement).off(i+a.eventNamespace)},_disableKeyboard:function(){var a=this.options;c(a.rootElement).on(i+a.eventNamespace,function(a){a.preventDefault()})},_forceResizing:function(a){var b=this._resizable;if(b&&b.userEvents){b.userEvents._end(a)}}});var t=h.extend({create:function(a,b){var d=this;var e=b.name;var f=b.eventNamespace;c(a.body).on(k+f,r,function(c){var f=c.currentTarget;var g=a[e];c.stopPropagation();if(g){if(g.element!==f&&!g.resizingInProgress()){d._destroyResizing(a,b);d._initResizing(a,f,b)}}else{d._initResizing(a,f,b)}}).on(l+f,r,function(f){var g;var h=a[e];f.stopPropagation();if(h&&!h.resizingInProgress()&&!h.resizeHandle){g=c(h.element).parents(r)[0];if(g){d._destroyResizing(a,b);d._initResizing(a,g,b)}}}).on(l+f,function(){var c=a[e];if(c&&!c.resizingInProgress()){d._destroyResizing(a,b)}}).on(n+f,function(f){var g=a[e];var h;if(g&&g.resizingInProgress()){h=c(f.target).parents(r)[0];if(h){g._forceResizing(f);d._destroyResizing(a,b);d._initResizing(a,h,b)}}})},dispose:function(a,b){c(a.body).off(b.eventNamespace)},_initResizing:function(b,c,d){var e=d.name;var f=d.type;b[e]=new f(c,{rtl:a.support.isRtl(b.element),rootElement:b.body})},_destroyResizing:function(a,b){var c=b.name;if(a[c]){a[c].destroy();a[c]=null}}});t.current=new t;s.create=function(a,b){t.current.create(a,b)};s.dispose=function(a,b){t.current.dispose(a,b)};d(g,{TableElementResizing:s})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/resizing/column-resizing",["editor/main","editor/resizing/resizing-utils","editor/resizing/table-element-resizing"],a)})(function(){(function(a,b){var c=window;var d=c.Math;var e=d.abs;var f=a.jQuery;var g=f.extend;var h=a.ui.editor;var i=h.TableElementResizing;var j=h.ResizingUtils;var k=j.constrain;var l=j.calculatePercentageRatio;var m=j.getScrollBarWidth;var n=j.inPercentages;var o=j.toPercentages;var p=j.toPixels;var q=a._outerWidth;var r=".kendoEditorColumnResizing";var s="k-column-resize-handle";var t="k-column-resize-marker";var u="body";var v="tbody";var w="td";var x="th";var y="tr";var z=",";var A="width";var B=i.extend({options:{tags:[w,x],min:20,rootElement:null,eventNamespace:r,rtl:false,handle:{dataAttribute:"column",width:10,height:0,classNames:{handle:s,marker:t},template:'<div class="k-column-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+s+'">'+'<div class="'+t+'"></div>'+"</div>"+"</div>"}},elementBorderHovered:function(a,b){var c=this;var d=c.options;var e=d.handle.width;var g=a.offset().left+(d.rtl?0:q(a));var h=b.clientX+f(a[0].ownerDocument).scrollLeft();if(h>g-e&&h<g+e){return true}else{return false}},setResizeHandlePosition:function(a){var b=this;var c=f(b.element).children(v);var d=b.options;var e=d.rtl;var g=d.handle.width;var h=f(d.rootElement);var i=h.is(u)?0:h.scrollTop();var j=h.is(u)?0:h.scrollLeft();var k=e?0:q(a);var l=e?m(h[0]):0;var n=a.offset().left-(h.offset().left+parseFloat(h.css("borderLeftWidth")))-parseFloat(a.css("marginLeft"));var o=c.offset().top-(h.offset().top+parseFloat(h.css("borderTopWidth")))-parseFloat(c.css("marginTop"));b.resizeHandle.css({top:o+i,left:n+k+(j-l)-g/2,position:"absolute"})},setResizeHandleDimensions:function(){var a=this;var b=f(a.element).children(v);a.resizeHandle.css({width:a.options.handle.width,height:b.height()})},setResizeHandleDragPosition:function(a){var b=this;var c=f(f(a.currentTarget).data(b.options.handle.dataAttribute));var d=b.options;var e=f(d.rootElement);var g=d.handle?d.handle.width:0;var h=d.min;var i=d.rtl;var j=q(c);var l=c.offset().left-(e.offset().left+parseFloat(e.css("borderLeftWidth")))-parseFloat(c.css("marginLeft"));var n=q(c.next());var o=f(b.resizeHandle);var p=e.is(u)?0:e.scrollLeft();var r=i?m(e[0]):0;var s=o.offset().left-(e.offset().left+parseFloat(e.css("borderLeftWidth")))-parseFloat(o.css("marginLeft"));var t=k({value:s+(p-r)+a.x.delta,min:l+(p-r)-(i?n:0)+h,max:l+j+(p-r)+(i?0:n)-g-h});o.css({left:t})},resize:function(a){var b=this;var c=f(f(a.currentTarget).data(b.options.handle.dataAttribute));var d=b.options;var e=d.rtl?-1:1;var g=d.min;var h=e*a.x.initialDelta;var i;var j;var l;b._setTableComputedWidth();b._setColumnsComputedWidth();l=q(c);j=q(c.next());i=k({value:l+h,min:g,max:l+j-g});b._resizeColumn(c[0],i);b._resizeTopAndBottomColumns(c[0],i);b._resizeAdjacentColumns(c.index(),j,l,l-i)},_setTableComputedWidth:function(){var a=this.element;if(a.style[A]===""){a.style[A]=p(q(f(a)))}},_setColumnsComputedWidth:function(){var a=this;var b=f(a.element).children(v);var c=q(b);var d=b.children(y).children(w);var e=d.length;var g=d.map(function(){return q(f(this))});var h;for(h=0;h<e;h++){if(n(d[h].style[A])){d[h].style[A]=o(l(g[h],c))}else{d[h].style[A]=p(g[h])}}},_resizeTopAndBottomColumns:function(a,b){var c=this;var d=f(a).index();var e=f(c.element).children(v).children(y).children(c.options.tags.join(z)).filter(function(){var b=this;return f(b).index()===d&&b!==a});var g=e.length;var h;for(h=0;h<g;h++){c._resizeColumn(e[h],b)}},_resizeColumn:function(a,b){if(n(a.style[A])){a.style[A]=o(l(b,q(f(this.element).children(v))))}else{a.style[A]=p(b)}},_resizeAdjacentColumns:function(a,b,c,d){var e=this;var g=f(e.element).children(v).children(y).children(e.options.tags.join(z)).filter(function(){return f(this).index()===a+1});var h=g.length;var i;for(i=0;i<h;i++){e._resizeAdjacentColumn(g[i],b,c,d)}},_resizeAdjacentColumn:function(a,b,c,d){var f=this;var g=f.options.min;var h;h=k({value:b+d,min:g,max:e(c+b-g)});f._resizeColumn(a,h)}});B.create=function(a){i.create(a,{name:"columnResizing",type:B,eventNamespace:r})};B.dispose=function(a){i.dispose(a,{eventNamespace:r})};g(h,{ColumnResizing:B})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/resizing/row-resizing",["editor/main","editor/resizing/resizing-utils","editor/resizing/table-element-resizing"],a)})(function(){(function(a,b){var c=window.Math;var d=c.abs;var e=a.jQuery;var f=e.extend;var g=a.ui.editor;var h=g.TableElementResizing;var i=g.ResizingUtils;var j=i.getScrollBarWidth;var k=i.constrain;var l=i.calculatePercentageRatio;var m=i.inPercentages;var n=i.toPercentages;var o=i.toPixels;var p=a._outerHeight;var q=".kendoEditorRowResizing";var r="k-row-resize-handle";var s="k-row-resize-marker-wrapper";var t="k-row-resize-marker";var u="body";var v="tr";var w="tbody";var x="height";var y=h.extend({options:{tags:[v],min:20,rootElement:null,eventNamespace:q,rtl:false,handle:{dataAttribute:"row",width:0,height:10,classNames:{handle:r,marker:t},template:'<div class="k-row-resize-handle-wrapper" unselectable="on" contenteditable="false">'+'<div class="'+r+'">'+'<div class="'+s+'">'+'<div class="'+t+'"></div>'+"</div>"+"</div>"+"</div>"}},elementBorderHovered:function(a,b){var c=this;var d=c.options.handle[x];var f=a.offset().top+p(a);var g=b.clientY+e(a[0].ownerDocument).scrollTop();if(g>f-d&&g<f+d){return true}else{return false}},setResizeHandlePosition:function(a){var b=this;var c=b.options;var d=c.handle[x];var f=e(c.rootElement);var g=f.is(u)?0:f.scrollTop();var h=f.is(u)?0:f.scrollLeft();var i=c.rtl?j(f[0]):0;var k=a.offset().left-(f.offset().left+parseFloat(f.css("borderLeftWidth")))-parseFloat(a.css("marginLeft"));var l=a.offset().top-(f.offset().top+parseFloat(f.css("borderTopWidth")))-parseFloat(a.css("marginTop"));b.resizeHandle.css({top:l+p(a)+g-d/2,left:k+(h-i),position:"absolute"})},setResizeHandleDimensions:function(){var a=this;a.resizeHandle.css({width:e(a.element).children(w).width(),height:a.options.handle[x]})},setResizeHandleDragPosition:function(a){var b=this;var c=b.options;var d=c.min;var f=e(b.element).children(w);var g=e(b.resizeHandle);var h=e(a.currentTarget).data(c.handle.dataAttribute);var i=e(h);var j=e(c.rootElement);var l=j.is(u)?0:j.scrollTop();var m=f.offset().top-(j.offset().top+parseFloat(j.css("borderTopWidth")))-parseFloat(f.css("marginTop"));var n=i.offset().top-(j.offset().top+parseFloat(j.css("borderTopWidth")))-parseFloat(i.css("marginTop"));var o=g.offset().top-(j.offset().top+parseFloat(j.css("borderTopWidth")))-parseFloat(g.css("marginTop"));var q=k({value:o+l+a.y.delta,min:n+l+d,max:m+p(f)+l-c.handle[x]-d});g.css({top:q})},resize:function(a){var b=this;var c=b.options;var f=e(a.currentTarget).data(c.handle.dataAttribute);var g=p(e(f));var h=e(b.element);var i=p(h);var j=h.children(w);var l=j.height();var n=f.style[x];var q=k({value:g+a.y.initialDelta,min:c.min,max:d(l-c.min)});b._setRowsHeightInPixels();f.style[x]=o(q);b._setTableHeight(i+(q-g));if(m(n)){b._setRowsHeightInPercentages()}},_setRowsHeightInPixels:function(){var a=this;var b=e(a.element).children(w).children(v);var c=b.length;var d=b.map(function(){return p(e(this))});var f;for(f=0;f<c;f++){b[f].style[x]=o(d[f])}},_setRowsHeightInPercentages:function(){var a=this;var b=e(a.element).children(w);var c=b.height();var d=b.children(v);var f=d.length;var g=d.map(function(){return p(e(this))});var h;for(h=0;h<f;h++){d[h].style[x]=n(l(g[h],c))}},_setTableHeight:function(a){var b=this.element;if(m(b.style[x])){b.style[x]=n(l(a,e(b).parent().height()))}else{b.style[x]=o(a)}}});y.create=function(a){h.create(a,{name:"rowResizing",type:y,eventNamespace:q})};y.dispose=function(a){h.dispose(a,{eventNamespace:q})};f(g,{RowResizing:y})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/resizing/table-resize-handle",["editor/main","kendo.draganddrop","editor/resizing/resizing-utils"],a)})(function(){(function(a,b){var c=a.jQuery;var d=c.extend;var e=c.noop;var f=c.proxy;var g=a.ui.editor;var h=a.Class;var i=a.ui.Draggable;var j=a.Observable;var k=g.ResizingUtils.getScrollBarWidth;var l=a._outerWidth;var m=a._outerHeight;var n=".kendoEditorTableResizeHandle";var o="k-table-resize-handle";var p="dragStart";var q="drag";var r="dragEnd";var s="halfInside";var t="mouseover";var u="mouseout";var v="body";var w="table";var x="east";var y="north";var z="northeast";var A="northwest";var B="south";var C="southeast";var D="southwest";var E="west";var F=".";var G=j.extend({init:function(a){var b=this;j.fn.init.call(b);b.options=d({},b.options,a);b.element=c(b.options.template).appendTo(b.options.appendTo)[0];b._attachEventHandlers();b._addStyles();b._initDraggable();b._initPositioningStrategy();b._initDraggingStrategy();c(b.element).data(w,b.options.resizableElement)},destroy:function(){var a=this;c(a.element).off(n).remove();a.element=null;a._destroyDraggable();a.unbind()},options:{appendTo:null,direction:C,resizableElement:null,rtl:false,template:"<div class='k-table-resize-handle-wrapper' unselectable='on' contenteditable='false'>"+"<div class='"+o+"'></div>"+"</div>"},events:[p,q,r,t,u],show:function(){this._setPosition()},_setPosition:function(){var a=this;var b=a._positioningStrategy.getPosition();c(a.element).css({top:b.top,left:b.left,position:"absolute"})},_attachEventHandlers:function(){var a=this;c(a.element).on(t+n,f(a._onMouseOver,a)).on(u+n,f(a._onMouseOut,a))},_onMouseOver:function(){this.trigger(t)},_onMouseOut:function(){this.trigger(u)},_addStyles:function(){var a=this;c(a.element).children(F+o).addClass("k-resize-"+a.options.direction)},_initPositioningStrategy:function(){var a=this;var b=a.options;a._positioningStrategy=J.create({name:b.direction,handle:a.element,resizableElement:b.resizableElement,rootElement:b.rootElement,rtl:b.rtl})},_initDraggable:function(){var a=this;var b=a.element;if(a._draggable||!b){return}a._draggable=new i(b,{dragstart:f(a._onDragStart,a),drag:f(a._onDrag,a),dragend:f(a._onDragEnd,a)})},_onDragStart:function(){this.trigger(p)},_onDrag:function(a){var b=this;b.trigger(q,b._draggingStrategy.adjustDragDelta({deltaX:a.x.delta,deltaY:a.y.delta,initialDeltaX:a.x.initialDelta,initialDeltaY:a.y.initialDelta}))},_onDragEnd:function(){this.trigger(r)},_destroyDraggable:function(){var a=this;if(a._draggable){a._draggable.destroy();a._draggable=null}},_initDraggingStrategy:function(){var a=this;a._draggingStrategy=T.create({name:a.options.direction})}});var H=h.extend({init:function(){this._items=[]},register:function(a,b){this._items.push({name:a,type:b})},create:function(a){var b=this._items;var c=b.length;var d=a.name?a.name.toLowerCase():"";var e;var f;var g;for(g=0;g<c;g++){f=b[g];if(f.name.toLowerCase()===d){e=f;break}}if(e){return new e.type(a)}}});var I=H.extend({});I.current=new I;var J=h.extend({init:function(a){var b=this;b.options=d({},b.options,a)},options:{handle:null,offset:s,resizableElement:null,rootElement:null,rtl:false},getPosition:function(){var a=this;var b=a.calculatePosition();var c=a.applyHandleOffset(b);var d=a.applyScrollOffset(c);return d},calculatePosition:e,applyHandleOffset:function(a){var b=this.options;var d=c(b.handle);if(b.offset===s){return{top:a.top-m(d)/2,left:a.left-l(d)/2}}return a},applyScrollOffset:function(a){var b=this.options;var d=c(b.rootElement);var e=b.rtl?k(d[0]):0;if(!d.is(v)){return{top:a.top+(d.scrollTop()||0),left:a.left+(d.scrollLeft()||0)-e}}return a}});J.create=function(a){return I.current.create(a)};var K=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top+m(a)/2,left:b.left+l(a)}}});I.current.register(x,K);var L=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top,left:b.left+l(a)/2}}});I.current.register(y,L);var M=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top,left:b.left+l(a)}}});I.current.register(z,M);var N=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top,left:b.left}}});I.current.register(A,N);var O=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top+m(a),left:b.left+l(a)/2}}});I.current.register(B,O);var P=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top+m(a),left:b.left+l(a)}}});I.current.register(C,P);var Q=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top+m(a),left:b.left}}});I.current.register(D,Q);var R=J.extend({calculatePosition:function(){var a=c(this.options.resizableElement);var b=a.position();return{top:b.top+m(a)/2,left:b.left}}});I.current.register(E,R);var S=H.extend({});S.current=new S;var T=h.extend({init:function(a){var b=this;b.options=d({},b.options,a)},options:{deltaX:{adjustment:null,modifier:null},deltaY:{adjustment:null,modifier:null}},adjustDragDelta:function(a){var b=this.options;var c=b.deltaX.adjustment*b.deltaX.modifier;var d=b.deltaY.adjustment*b.deltaY.modifier;return{deltaX:a.deltaX*c,deltaY:a.deltaY*d,initialDeltaX:a.initialDeltaX*c,initialDeltaY:a.initialDeltaY*d}}});T.create=function(a){return S.current.create(a)};var U=T.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:0,modifier:0}}});var V=U.extend({options:{deltaX:{modifier:1}}});S.current.register(x,V);var W=U.extend({options:{deltaX:{modifier:-1}}});S.current.register(E,W);var X=T.extend({options:{deltaX:{adjustment:0,modifier:0},deltaY:{adjustment:1,modifier:1}}});var Y=X.extend({options:{deltaY:{modifier:-1}}});S.current.register(y,Y);var Z=X.extend({options:{deltaY:{modifier:1}}});S.current.register(B,Z);var $=T.extend({options:{deltaX:{adjustment:1,modifier:1},deltaY:{adjustment:1,modifier:1}}});var _=$.extend({options:{deltaX:{modifier:1},deltaY:{modifier:-1}}});S.current.register(z,_);var aa=$.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:-1}}});S.current.register(A,aa);var ba=$.extend({options:{deltaX:{modifier:1},deltaY:{modifier:1}}});S.current.register(C,ba);var ca=$.extend({options:{deltaX:{modifier:-1},deltaY:{modifier:1}}});S.current.register(D,ca);d(g,{TableResizeHandle:G})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/resizing/table-resizing",["editor/main","editor/resizing/table-resize-handle","editor/resizing/resizing-utils"],a)})(function(){(function(a,b){var c=window;var d=c.Math;var e=d.min;var f=d.max;var g=a.jQuery;var h=g.contains;var i=g.extend;var j=g.proxy;var k=a.support.browser;var l=a.ui.editor;var m=a.Class;var n=l.TableResizeHandle;var o=l.ResizingUtils;var p=o.calculatePercentageRatio;var q=o.constrain;var r=o.inPercentages;var s=o.inPixels;var t=o.toPercentages;var u=o.toPixels;var v=a._outerWidth;var w=a._outerHeight;var x=".kendoEditorTableResizing";var y="k-table-resize-handle-wrapper";var z="k-table";var A="k-table-resizing";var B="dragStart";var C="drag";var D="dragEnd";var E="keydown";var F="mousedown";var G="mouseover";var H="mouseout";var I="td";var J="tr";var K="tbody";var L="table";var M="width";var N="height";var O="east";var P="north";var Q="northeast";var R="northwest";var S="south";var T="southeast";var U="southwest";var V="west";var W=".";function X(a){return typeof a==="undefined"}var Y=m.extend({init:function(a,b){var c=this;c.options=i({},c.options,b);c.handles=[];if(g(a).is(L)){c.element=a}},destroy:function(){var a=this;g(a.element).off(x);a.element=null;g(a.options.rootElement).off(E+x);a._destroyResizeHandles()},options:{appendHandlesTo:null,rtl:false,rootElement:null,minWidth:10,minHeight:10,handles:[{direction:R},{direction:P},{direction:Q},{direction:O},{direction:T},{direction:S},{direction:U},{direction:V}]},resize:function(a){var b=this;var c=i({},{deltaX:0,deltaY:0,initialDeltaX:0,initialDeltaY:0},a);b._resizeWidth(c.deltaX,c.initialDeltaX);b._resizeHeight(c.deltaY,c.initialDeltaY);b.showResizeHandles()},_resizeWidth:function(a,b){var c=this;var d=g(c.element);var h=d[0].style[M];var i=v(d);var j=d.parent().width();var k=c._getMaxDimensionValue(M);var l;var m;var n;var o;if(a===0){return}if(X(c._initialElementWidth)){c._initialElementWidth=i}o=q({value:c._initialElementWidth+b,min:c.options.minWidth,max:k});if(r(h)){if(i+a>j){m=f(o,j);n=e(o,j)}else{m=e(o,j);n=f(o,j)}l=t(p(m,n))}else{l=u(o)}c._setColumnsWidth();d[0].style[M]=l},_resizeHeight:function(a,b){var c=this;var d=g(c.element);var h=d[0].style[N];var i=w(d);var j=d.parent();var k=j.height();var l=c._getMaxDimensionValue(N);var m;var n;var o;var s;var v=c.options.minHeight;var x=c._hasRowsInPixels();if(a===0){return}if(X(c._initialElementHeight)){c._initialElementHeight=i}s=q({value:c._initialElementHeight+b,min:v,max:l});if(x&&a<0){c._setRowsHeightInPercentages()}if(r(h)){if(i+a>k){n=f(s,k);o=e(s,k)}else{n=e(s,k);o=f(s,k)}m=t(p(n,o))}else{m=u(s)}d[0].style[N]=m;if(x&&a<0){c._setRowsHeightInPixels()}},_getMaxDimensionValue:function(a){var b=this;var c=g(b.element);var d=a.toLowerCase();var e=b.options.rtl?-1:1;var f=g(b.element).parent();var h=f[0];var i=f[d]();var j=e*(a===M?f.scrollLeft():f.scrollTop());if(h===c.closest(I)[0]){if(h.style[d]===""&&!r(b.element.style[d])){return Infinity}else{return i+j}}else{return i+j}},_setColumnsWidth:function(){var a=this;var b=g(a.element);var c=b.parent()[0];var d=b.closest(I);var e=d.closest(J).children();var f=e.length;var h;function i(a){var b=a.style.width;if(b!==""){return r(b)?true:false}else{return g(a).hasClass(z)?true:false}}if(i(b[0])&&c===d[0]&&c.style[M]===""){for(h=0;h<f;h++){e[h].style[M]=u(g(e[h]).width())}}},_hasRowsInPixels:function(){var a=this;var b=g(a.element).children(K).children(J);for(var c=0;c<b.length;c++){if(b[c].style.height===""||s(b[c].style.height)){return true}}return false},_setRowsHeightInPercentages:function(){var a=this;var b=g(a.element).children(K);var c=b.height();var d=b.children(J);var e=d.length;var f=d.map(function(){return w(g(this))});var h;for(h=0;h<e;h++){d[h].style[N]=t(p(f[h],c))}},_setRowsHeightInPixels:function(){var a=this;var b=g(a.element).children(K).children(J);var c=b.length;var d=b.map(function(){return w(g(this))});var e;for(e=0;e<c;e++){b[e].style[N]=u(d[e])}},showResizeHandles:function(){var a=this;a._initResizeHandles();a._showResizeHandles()},_initResizeHandles:function(){var a=this;var b=a.handles;var c=a.options;var d=a.options.handles;var e=d.length;var f;if(b&&b.length>0){return}for(f=0;f<e;f++){a.handles.push(new n(i({appendTo:c.appendHandlesTo,resizableElement:a.element,rootElement:c.rootElement,rtl:c.rtl},d[f])))}a._bindToResizeHandlesEvents()},_destroyResizeHandles:function(){var a=this;var b=a.handles?a.handles.length:0;for(var c=0;c<b;c++){a.handles[c].destroy()}},_showResizeHandles:function(){var a=this;var b=a.handles||[];var c=b.length;var d;for(d=0;d<c;d++){a.handles[d].show()}},_bindToResizeHandlesEvents:function(){var a=this;var b=a.handles||[];var c=b.length;var d;var e;for(d=0;d<c;d++){e=b[d];e.bind(B,j(a._onResizeHandleDragStart,a));e.bind(C,j(a._onResizeHandleDrag,a));e.bind(D,j(a._onResizeHandleDragEnd,a));e.bind(G,j(a._onResizeHandleMouseOver,a));e.bind(H,j(a._onResizeHandleMouseOut,a))}},_onResizeHandleDragStart:function(){var a=this;var b=g(a.element);b.addClass(A);a._initialElementHeight=w(b);a._initialElementWidth=v(b);a._disableKeyboard()},_onResizeHandleDrag:function(a){this.resize(a)},_onResizeHandleDragEnd:function(){var a=this;g(a.element).removeClass(A);a._enableKeyboard()},_enableKeyboard:function(){g(this.options.rootElement).off(E+x)},_disableKeyboard:function(){g(this.options.rootElement).on(E+x,function(a){a.preventDefault()})}});var Z=m.extend({create:function(a){var b=this;g(a.body).on(F+x,L,function(c){var d=c.target;var e=c.currentTarget;var f=a.tableResizing;var g=f?f.element:null;if(f){if(g&&e!==g){if(h(e,g)&&g!==d&&h(g,d)){return}else{if(g!==d){a._destroyTableResizing();b._initResizing(a,e)}}}}else{b._initResizing(a,e)}a._showTableResizeHandles()}).on(F+x,function(b){var c=a.tableResizing;var d=c?c.element:null;var e=b.target;var f=g(e).hasClass(y)||g(e).parents(W+y).length>0;if(c&&d!==e&&!h(d,e)&&!f){a._destroyTableResizing()}})},dispose:function(a){g(a.body).off(x)},_initResizing:function(b,c){if(!k.msie&&!k.mozilla){b.tableResizing=new Y(c,{appendHandlesTo:b.body,rtl:a.support.isRtl(b.element),rootElement:b.body})}}});Z.current=new Z;Y.create=function(a){Z.current.create(a)};Y.dispose=function(a){Z.current.dispose(a)};i(l,{TableResizing:Y})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/table-wizard/table-wizard-command",["editor/plugins/tables"],a)})(function(){(function(a,b){var c=window.kendo,d=c.ui.editor,e=d.EditorUtils,f=d.RangeUtils,g=d.Dom,h=e.registerTool,i=d.ToolTemplate,j=d.Command;var k=new d.BlockFormatFinder([{tags:["table"]}]);var l=new d.BlockFormatFinder([{tags:["td","th"]}]);var m=/([a-z]+|%)$/i;var n=j.extend({exec:function(){var e=this;var f=e.editor;var g=e.range=e.lockRange();var h=e._sourceTable=!e.options.insertNewTable?e._selectedTable(g):b;var i=e._selectedTableCells=h?e._selectedCells(g):b;var j={visible:false,messages:f.options.messages,closeCallback:a.proxy(e.onDialogClose,e),table:e.parseTable(h,i),dialogOptions:f.options.dialogOptions,isRtl:c.support.isRtl(f.wrapper)};var k=new d.TableWizardDialog(j);k.open()},onDialogClose:function(a){var b=this;b.releaseRange(b.range);if(a){if(b.options.insertNewTable){b.insertTable(b.createNewTable(a))}else{b.updateTable(a,b._sourceTable,b._selectedTableCells)}}},releaseRange:function(a){var b=this;var c=b.editor.document;g.windowFromDocument(c).focus();j.fn.releaseRange.call(b,a)},insertTable:function(a){var b=this.range;b.insertNode(a);b.collapse(true);this.editor.selectRange(b);this._ensureFocusableAfterTable(a)},_ensureFocusableAfterTable:function(b){var c=a(b).parent().contents();var d=c.length-1;var e=c.get(d);while(e.nodeValue!==null&&(e.nodeValue===" "||e.nodeValue==="")){d-=1;e=c.get(d)}if(e===b){g.insertAfter(g.createEmptyNode(this.editor.document,"p"),b)}},updateTable:function(b,c,d){var e=this;var f=a(c.rows).toArray();var h=b.tableProperties;var i=h.rows;var j=h.columns;var k=function(a){return a[a.length-1]};while(d.length>1){d.pop()}var l=d.length?k(d).parentNode:k(f);var m,n;e._deleteTableRows(f,f.length-i);if(f.length<i){var o=a(l).index();var p=l.cells.length;var q=i-f.length;n=l.parentNode;while(q){m=n.insertRow(o+1);e._insertCells(p-m.cells.length,m);q--}}if(f[0].cells.length>j){a(f).each(function(a,b){while(b.cells.length>j){b.deleteCell(-1)}})}if(f[0].cells.length<j){var r=a(k(d)||k(l.cells)).index();a(f).each(function(a,b){e._insertCells(j-b.cells.length,b,r+1)})}e._updateTableProperties(c,h);var s=b.cellProperties;if(d[0]){g.attr(d[0],{id:s.id||null})}(s.selectAllCells?a(f).children():a(d)).each(function(a,b){e._updateCellProperties(b,s)});e._updateCaption(c,h);h.cellsWithHeaders=h.cellsWithHeaders||false;if(e.cellsWithHeadersAssociated(c)!=h.cellsWithHeaders){e.associateCellsWithHeader(c,h.cellsWithHeaders)}},_isHeadingRow:function(a){return g.is(a.parentNode,"thead")||g.is(a.cells[0],"th")},associateCellsWithHeader:function(b,c){var d=(new Date).getTime();var e=[];var f=b.rows[0].cells.length;var g,h,i;var j=function(){for(var a=0;a<f;a++){e[a]="table"+ ++d}};var k=function(b,d){a(d)[c?"attr":"removeAttr"]("id",e[b])};var l=function(b,d){a(d)[c?"attr":"removeAttr"]("headers",e[b])};var m=this._isHeadingRow;a(b.rows).each(function(c,d){if(m(d)){g=c;h=b.rows[++g];i=h&&!m(h);if(i){j();a(d.cells).each(k)}while(i){a(h.cells).each(l);h=b.rows[++g];i=h&&!m(h)}}})},cellsWithHeadersAssociated:function(b){var c=a(b.rows).children();var d=this._isHeadingRow;var e=[];c.each(function(a,b){if(b.id&&d(b.parentNode)){e.push(b.id)}});var f=c.filter(function(b,c){var f=c.getAttribute("headers");return f&&!d(c.parentNode)&&a.inArray(f,e)>-1});return!!f.length;
},_insertCells:function(a,b,c){c=isNaN(c)?-1:c;for(var d=0,e;d<a;d++){e=b.insertCell(c);e.innerHTML="&nbsp;"}},_deleteTableRows:function(a,b){for(var c=0,d,e;c<b;c++){d=a.pop();e=d.parentNode;e.removeChild(d);if(!e.rows.length){g.remove(e)}}},createNewTable:function(a){var b=this;var c=b.editor.document;var d=a.tableProperties;var e=a.cellProperties;var f=e.selectAllCells;var h=g.create(c,"table");b._updateTableProperties(h,d);b._updateCaption(h,d);var i=h.createTBody();for(var j=0,k;j<d.rows;j++){k=i.insertRow();for(var l=0,m;l<d.columns;l++){m=k.insertCell();m.innerHTML="&nbsp;";if(j===0&&l===0&&e.id){m.id=e.id}b._updateCellProperties(m,f||j===0&&l===0?e:{})}}if(d.cellsWithHeaders){b.associateCellsWithHeader(h,d.cellsWithHeaders)}return h},_updateTableProperties:function(b,c){var d=this._getStylesData(c);g.attr(b,{cellSpacing:c.cellSpacing||null,cellPadding:c.cellPadding||null,className:c.className||null,id:c.id||null,summary:c.summary||null,style:d||null});a(b).addClass("k-table")},_updateCellProperties:function(a,b){var c=this._getStylesData(b);c.padding=b.cellPadding||null;c.margin=b.cellMargin||null;g.attr(a,{style:c||null,className:b.className||null})},_updateCaption:function(a,b){if(a.caption&&!b.captionContent){a.deleteCaption()}else if(b.captionContent){var c=a.createCaption();c.innerHTML=b.captionContent;var d=this._getAlignmentData(b.captionAlignment);g.attr(c,{style:{textAlign:d.textAlign,verticalAlign:d.verticalAlign}})}},_getStylesData:function(a){var b=this._getAlignmentData(a.alignment);var c="wrapText"in a?a.wrapText?"":"nowrap":null;return{width:a.width?a.width+a.widthUnit:null,height:a.height?a.height+a.heightUnit:null,textAlign:b.textAlign,verticalAlign:b.verticalAlign,backgroundColor:a.bgColor||null,borderWidth:a.borderWidth,borderStyle:a.borderStyle,borderColor:a.borderColor,borderCollapse:a.collapseBorders?"collapse":null,whiteSpace:c}},_getAlignmentData:function(a){var b="";var c=b;if(a){if(a.indexOf(" ")!=-1){var d=a.split(" ");b=d[0];c=d[1]}else{b=a}}return{textAlign:b,verticalAlign:c}},parseTable:function(c,d){if(!c){return{tableProperties:{},selectedCells:[]}}var e=this;var f=c.style;var g=c.rows;var h=c.caption;var i=a(h?h.cloneNode(true):b);i.find(".k-marker").remove();var j=c.className;j=j.replace(/^k-table\s|\sk-table$/,"");j=j.replace(/\sk-table\s/," ");j=j.replace(/^k-table$/,"");var k=e._getAlignment(c,true);var l=h?e._getAlignment(h):b;var m=e.cellsWithHeadersAssociated(c);var n={tableProperties:{width:f.width||c.width?parseFloat(f.width||c.width):null,height:f.height||c.height?parseFloat(f.height||c.height):null,columns:g[0]?g[0].children.length:0,rows:g.length,widthUnit:e._getUnit(f.width),heightUnit:e._getUnit(f.height),cellSpacing:c.cellSpacing,cellPadding:c.cellPadding,alignment:k.textAlign,bgColor:f.backgroundColor||c.bgColor,className:j,id:c.id,borderWidth:f.borderWidth||c.border,borderColor:f.borderColor,borderStyle:f.borderStyle||"",collapseBorders:!!f.borderCollapse,summary:c.summary,captionContent:h?i.html():"",captionAlignment:h&&l.textAlign?l.textAlign+" "+l.verticalAlign:"",cellsWithHeaders:m},selectedCells:[]};n.rows=e.parseTableRows(g,d,n);return n},parseTableRows:function(b,c,d){var e=this;var f=[],g,h,i,j,k;for(var l=0;l<b.length;l++){g=b[l];h={cells:[]};i=g.cells;f.push(h);for(var m=0;m<i.length;m++){j=i[m];k=e.parseCell(j);if(a.inArray(j,c)!=-1){d.selectedCells.push(k)}h.cells.push(k)}}return f},parseCell:function(a){var b=this;var c=a.style;var d=b._getAlignment(a);d=d.textAlign?d.textAlign+" "+d.verticalAlign:"";var e={width:c.width||a.width?parseFloat(c.width||a.width):null,height:c.height||a.height?parseFloat(c.height||a.height):null,widthUnit:b._getUnit(c.width),heightUnit:b._getUnit(c.height),cellMargin:c.margin,cellPadding:c.padding,alignment:d,bgColor:c.backgroundColor||a.bgColor,className:a.className,id:a.id,borderWidth:c.borderWidth||a.border,borderColor:c.borderColor,borderStyle:c.borderStyle,wrapText:c.whiteSpace!="nowrap"};return e},_getAlignment:function(a,b){var c=a.style;var d=c.textAlign||a.align||"";if(b){return{textAlign:d}}var e=c.verticalAlign||a.vAlign||"";if(d&&e){return{textAlign:d,verticalAlign:e}}if(!d&&e){return{textAlign:"left",verticalAlign:e}}if(d&&!e){return{textAlign:d,verticalAlign:"top"}}return{textAlign:"",verticalAlign:""}},_getUnit:function(a){var b=(a||"").match(m);return b?b[0]:"px"},_selectedTable:function(a){var b=g.filterBy(f.nodes(a),g.htmlIndentSpace,true);return k.findSuitable(b)[0]},_selectedCells:function(a){var b=g.filterBy(f.nodes(a),g.htmlIndentSpace,true);return l.findSuitable(b)}});var o=d.Tool.extend({command:function(a){a.insertNewTable=this.options.insertNewTable;return new n(a)}});var p=o.extend({update:function(a,b){var c=!k.isFormatted(b);a.toggleClass("k-state-disabled",c)}});c.ui.editor.TableWizardTool=o;c.ui.editor.TableWizardCommand=n;h("tableWizard",new p({command:n,insertNewTable:false,template:new i({template:e.buttonTemplate,title:"Table Wizard"})}))})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("editor/table-wizard/table-wizard-dialog",["editor/table-wizard/table-wizard-command"],a)})(function(){(function(a,b){var c=window.kendo,d={format:"0",min:0},e=["px","em"],f=["solid","dotted","dashed","double","groove","ridge","inset","outset","initial","inherit","none","hidden"];var g={dataSource:[{className:"k-icon k-i-table-align-middle-left",value:"left"},{className:"k-icon k-i-table-align-middle-center",value:"center"},{className:"k-icon k-i-table-align-middle-right",value:"right"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"};var h={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-middle-left",value:"left middle"},{className:"k-icon k-i-table-align-middle-center",value:"center middle"},{className:"k-icon k-i-table-align-middle-right",value:"right middle"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"};var i={dataSource:[{className:"k-icon k-i-table-align-top-left",value:"left top"},{className:"k-icon k-i-table-align-top-center",value:"center top"},{className:"k-icon k-i-table-align-top-right",value:"right top"},{className:"k-icon k-i-table-align-bottom-left",value:"left bottom"},{className:"k-icon k-i-table-align-bottom-center",value:"center bottom"},{className:"k-icon k-i-table-align-bottom-right",value:"right bottom"},{className:"k-icon k-i-align-remove",value:""}],dataTextField:"className",dataValueField:"value",template:"<span class='#: className #' title='#: tooltip #'></span>",valueTemplate:"<span class='k-align-group #: className #' title='#: tooltip #'></span>"};var j='<div class="k-editor-dialog k-editor-table-wizard-dialog k-action-window k-popup-edit-form">'+'<div class="k-edit-form-container">'+'<div id="k-table-wizard-tabs" class="k-root-tabs">'+"<ul>"+'<li class="k-state-active">#= messages.tableTab #</li>'+"<li>#= messages.cellTab #</li>"+"<li>#= messages.accessibilityTab #</li>"+"</ul>"+'<div id="k-table-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-width" />'+'<input id="k-editor-table-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-height" />'+'<input id="k-editor-table-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-columns">#= messages.columns #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-columns" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-rows">#= messages.rows #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-rows" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-spacing">#= messages.cellSpacing #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-spacing" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-css-class" class="k-input k-textbox" type="text" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-id" class="k-input k-textbox" type="text" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-border-width" />'+'<input id="k-editor-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-collapse-borders" type="checkbox" class="k-checkbox" />'+'<label for="k-editor-collapse-borders" class="k-checkbox-label">#= messages.collapseBorders #</label>'+"</div>"+"</div>"+'<div id="k-cell-properties">'+'<div class="k-edit-field">'+'<input id="k-editor-selectAllCells" type="checkbox" class="k-checkbox" />'+'<label for="k-editor-selectAllCells" class="k-checkbox-label">#= messages.selectAllCells #</label>'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-width">#= messages.width #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-width" />'+'<input id="k-editor-cell-width-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-height">#= messages.height #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-height" />'+'<input id="k-editor-cell-height-type" aria-label="#= messages.units #" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cell-margin">#= messages.cellMargin #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cell-margin" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-table-cells-padding">#= messages.cellPadding #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-table-cells-padding" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-bg">#= messages.background #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-bg" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-css-class">#= messages.cssClass #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-css-class" class="k-input k-textbox" type="text" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-id">#= messages.id #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-id" class="k-input k-textbox" type="text" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-width">#= messages.border #</label>'+"</div>"+'<div class="k-edit-field">'+'<input type="numeric" id="k-editor-cell-border-width" />'+'<input id="k-editor-cell-border-color" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-cell-border-style">#= messages.borderStyle #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-cell-border-style" />'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-wrap-text" type="checkbox" class="k-checkbox" />'+'<label for="k-editor-wrap-text" class="k-checkbox-label">#= messages.wrapText #</label>'+"</div>"+"</div>"+'<div id="k-accessibility-properties">'+'<div class="k-edit-label">'+'<label for="k-editor-table-caption">#= messages.caption #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-table-caption" class="k-input k-textbox" type="text" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-alignment">#= messages.alignment #</label>'+"</div>"+'<div class="k-edit-field">'+'<input id="k-editor-accessibility-alignment" class="k-align" />'+"</div>"+'<div class="k-edit-label">'+'<label for="k-editor-accessibility-summary">#= messages.summary #</label>'+"</div>"+'<div class="k-edit-field">'+'<textarea id="k-editor-accessibility-summary" class="k-input k-textbox"></textarea>'+"</div>"+'<div class="k-edit-label">&nbsp;</div>'+'<div class="k-edit-field">'+'<input id="k-editor-cells-headers" type="checkbox" class="k-checkbox" />'+'<label for="k-editor-cells-headers" class="k-checkbox-label">#= messages.associateCellsWithHeaders #</label>'+"</div>"+"</div>"+"</div>"+'<div class="k-edit-buttons k-state-default">'+'<button class="k-button k-primary k-dialog-ok">#= messages.dialogOk #</button>'+'<button class="k-button k-dialog-close">#= messages.dialogCancel #</button>'+"</div>"+"</div>"+"</div>";var k=c.Class.extend({init:function(a){this.options=a},open:function(){var b=this,d=b.options,e=d.dialogOptions,f=d.table,g,h=d.messages,i=c.support.browser.msie;function j(a){a.preventDefault();b.destroy();g.destroy()}function k(a){b.collectDialogValues(f);j(a);if(b.change){b.change()}d.closeCallback(f)}function l(a){j(a);d.closeCallback()}e.close=l;e.title=h.tableWizard;e.visible=d.visible;g=a(b._dialogTemplate(h)).appendTo(document.body).kendoWindow(e).closest(".k-window").toggleClass("k-rtl",d.isRtl).end().find(".k-dialog-ok").click(k).end().find(".k-dialog-close").click(l).end().data("kendoWindow");var m=g.element;b._initTabStripComponent(m);b._initTableViewComponents(m,f);b._initCellViewComponents(m,f);b._initAccessibilityViewComponents(m,f);g.center();g.open();if(i){var n=m.closest(".k-window").height();m.css("max-height",n)}},_initTabStripComponent:function(a){var b=this.components={};b.tabStrip=a.find("#k-table-wizard-tabs").kendoTabStrip({animation:false}).data("kendoTabStrip")},collectDialogValues:function(){var a=this;var b=a.options.table;a._collectTableViewValues(b);a._collectCellViewValues(b);a._collectAccessibilityViewValues(b)},_collectTableViewValues:function(a){var b=this.components.tableView;var c=a.tableProperties;c.width=b.width.value();c.widthUnit=b.widthUnit.value();c.height=b.height.value();c.columns=b.columns.value();c.rows=b.rows.value();c.heightUnit=b.heightUnit.value();c.cellSpacing=b.cellSpacing.value();c.cellPadding=b.cellPadding.value();c.alignment=b.alignment.value();c.bgColor=b.bgColor.value();c.className=b.className.value;c.id=b.id.value;c.borderWidth=b.borderWidth.value();c.borderColor=b.borderColor.value();c.borderStyle=b.borderStyle.value();c.collapseBorders=b.collapseBorders.checked},_collectCellViewValues:function(a){var b=a.cellProperties={};var c=this.components.cellView;b.selectAllCells=c.selectAllCells.checked;b.width=c.width.value();b.widthUnit=c.widthUnit.value();b.height=c.height.value();b.heightUnit=c.heightUnit.value();b.cellMargin=c.cellMargin.value();b.cellPadding=c.cellPadding.value();b.alignment=c.alignment.value();b.bgColor=c.bgColor.value();b.className=c.className.value;b.id=c.id.value;b.borderWidth=c.borderWidth.value();b.borderColor=c.borderColor.value();b.borderStyle=c.borderStyle.value();b.wrapText=c.wrapText.checked;if(!b.width){b.selectAllCells=true;b.width=100/a.tableProperties.columns;b.widthUnit="%"}},_collectAccessibilityViewValues:function(a){var b=a.tableProperties;var c=this.components.accessibilityView;b.captionContent=c.captionContent.value;b.captionAlignment=c.captionAlignment.value();b.summary=c.summary.value;b.cellsWithHeaders=c.cellsWithHeaders.checked},_addUnit:function(b,c){if(c&&a.inArray(c,b)==-1){b.push(c)}},_initTableViewComponents:function(a,b){var c=this.components;var d=c.tableView={};var g=b.tableProperties=b.tableProperties||{};g.borderStyle=g.borderStyle||"";this._addUnit(e,g.widthUnit);this._addUnit(e,g.heightUnit);this._initNumericTextbox(a.find("#k-editor-table-width"),"width",g,d);this._initNumericTextbox(a.find("#k-editor-table-height"),"height",g,d);this._initNumericTextbox(a.find("#k-editor-table-columns"),"columns",g,d,{min:1,value:4});this._initNumericTextbox(a.find("#k-editor-table-rows"),"rows",g,d,{min:1,value:4});this._initDropDownList(a.find("#k-editor-table-width-type"),"widthUnit",g,d,e);this._initDropDownList(a.find("#k-editor-table-height-type"),"heightUnit",g,d,e);this._initNumericTextbox(a.find("#k-editor-table-cell-spacing"),"cellSpacing",g,d);this._initNumericTextbox(a.find("#k-editor-table-cell-padding"),"cellPadding",g,d);this._initTableAlignmentDropDown(a.find("#k-editor-table-alignment"),g);this._initColorPicker(a.find("#k-editor-table-bg"),"bgColor",g,d);this._initInput(a.find("#k-editor-css-class"),"className",g,d);this._initInput(a.find("#k-editor-id"),"id",g,d);this._initNumericTextbox(a.find("#k-editor-border-width"),"borderWidth",g,d);this._initColorPicker(a.find("#k-editor-border-color"),"borderColor",g,d);this._initDropDownList(a.find("#k-editor-border-style"),"borderStyle",g,d,f);this._initCheckbox(a.find("#k-editor-collapse-borders"),"collapseBorders",g,d)},_initCellViewComponents:function(a,b){var c=this.components;var d=c.cellView={};b.selectedCells=b.selectedCells=b.selectedCells||[];var g=b.selectedCells[0]||{borderStyle:"",wrapText:true};this._addUnit(e,g.widthUnit);this._addUnit(e,g.heightUnit);this._initCheckbox(a.find("#k-editor-selectAllCells"),"selectAllCells",b.tableProperties,d);this._initNumericTextbox(a.find("#k-editor-cell-width"),"width",g,d);this._initNumericTextbox(a.find("#k-editor-cell-height"),"height",g,d);this._initDropDownList(a.find("#k-editor-cell-width-type"),"widthUnit",g,d,e);this._initDropDownList(a.find("#k-editor-cell-height-type"),"heightUnit",g,d,e);this._initNumericTextbox(a.find("#k-editor-table-cell-margin"),"cellMargin",g,d);this._initNumericTextbox(a.find("#k-editor-table-cells-padding"),"cellPadding",g,d);this._initCellAlignmentDropDown(a.find("#k-editor-cell-alignment"),g);this._initColorPicker(a.find("#k-editor-cell-bg"),"bgColor",g,d);this._initInput(a.find("#k-editor-cell-css-class"),"className",g,d);this._initInput(a.find("#k-editor-cell-id"),"id",g,d);this._initNumericTextbox(a.find("#k-editor-cell-border-width"),"borderWidth",g,d);this._initColorPicker(a.find("#k-editor-cell-border-color"),"borderColor",g,d);this._initDropDownList(a.find("#k-editor-cell-border-style"),"borderStyle",g,d,f);this._initCheckbox(a.find("#k-editor-wrap-text"),"wrapText",g,d)},_initAccessibilityViewComponents:function(a,b){var c=this.components;var d=c.accessibilityView={};var e=b.tableProperties;this._initInput(a.find("#k-editor-table-caption"),"captionContent",e,d);this._initAccessibilityAlignmentDropDown(a.find("#k-editor-accessibility-alignment"),e);this._initInput(a.find("#k-editor-accessibility-summary"),"summary",e,d);this._initCheckbox(a.find("#k-editor-cells-headers"),"cellsWithHeaders",e,d)},_initNumericTextbox:function(b,c,e,f,g){var h=f[c]=b.kendoNumericTextBox(g?a.extend({},d,g):d).data("kendoNumericTextBox");if(c in e){h.value(parseInt(e[c],10))}},_initDropDownList:function(a,b,c,d,e){var f=d[b]=a.kendoDropDownList({dataSource:e}).data("kendoDropDownList");this._setComponentValue(f,c,b)},_initTableAlignmentDropDown:function(a,b){var c=this.options.messages;var d=this.components.tableView;var e=g.dataSource;e[0].tooltip=c.alignLeft;e[1].tooltip=c.alignCenter;e[2].tooltip=c.alignRight;e[3].tooltip=c.alignRemove;this._initAlignmentDropDown(a,g,"alignment",b,d)},_initCellAlignmentDropDown:function(a,b){var c=this.options.messages;var d=this.components.cellView;var e=h.dataSource;e[0].tooltip=c.alignLeftTop;e[1].tooltip=c.alignCenterTop;e[2].tooltip=c.alignRightTop;e[3].tooltip=c.alignLeftMiddle;e[4].tooltip=c.alignCenterMiddle;e[5].tooltip=c.alignRightMiddle;e[6].tooltip=c.alignLeftBottom;e[7].tooltip=c.alignCenterBottom;e[8].tooltip=c.alignRightBottom;e[9].tooltip=c.alignRemove;this._initAlignmentDropDown(a,h,"alignment",b,d)},_initAccessibilityAlignmentDropDown:function(a,b){var c=this.options.messages;var d=this.components.accessibilityView;var e=i.dataSource;e[0].tooltip=c.alignLeftTop;e[1].tooltip=c.alignCenterTop;e[2].tooltip=c.alignRightTop;e[3].tooltip=c.alignLeftBottom;e[4].tooltip=c.alignCenterBottom;e[5].tooltip=c.alignRightBottom;e[6].tooltip=c.alignRemove;this._initAlignmentDropDown(a,i,"captionAlignment",b,d)},_initAlignmentDropDown:function(a,b,c,d,e){var f=e[c]=a.kendoDropDownList(b).data("kendoDropDownList");f.list.addClass("k-align").css("width","110px");this._setComponentValue(f,d,c)},_setComponentValue:function(a,b,c){if(c in b){a.value(b[c])}},_initColorPicker:function(a,b,c,d){var e=d[b]=a.kendoColorPicker({buttons:false,clearButton:true}).data("kendoColorPicker");if(c[b]){e.value(c[b])}},_initInput:function(a,b,c,d){var e=d[b]=a.get(0);if(b in c){e.value=c[b]}},_initCheckbox:function(a,b,c,d){var e=d[b]=a.get(0);if(b in c){e.checked=c[b]}},destroy:function(){this._destroyComponents(this.components.tableView);this._destroyComponents(this.components.cellView);this._destroyComponents(this.components.accessibilityView);this._destroyComponents(this.components);delete this.components},_destroyComponents:function(a){for(var b in a){if(a[b].destroy){a[b].destroy()}delete a[b]}},_dialogTemplate:function(a){return c.template(j)({messages:a})}});c.ui.editor.TableWizardDialog=k})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.editor",["kendo.combobox","kendo.dropdownlist","kendo.resizable","kendo.window","kendo.colorpicker","kendo.imagebrowser","kendo.tabstrip","kendo.numerictextbox","util/undoredostack","editor/main","editor/dom","editor/serializer","editor/range","editor/command","editor/components","editor/toolbar","editor/immutables","editor/plugins/viewhtml","editor/plugins/link","editor/plugins/lists","editor/plugins/formatting","editor/plugins/image","editor/plugins/import","editor/plugins/insert","editor/plugins/export","editor/plugins/indent","editor/plugins/linebreak","editor/plugins/format","editor/plugins/inlineformat","editor/plugins/formatblock","editor/plugins/file","editor/plugins/tables","editor/plugins/clipboard","editor/plugins/keyboard","editor/plugins/exportpdf","editor/plugins/print","editor/resizing/column-resizing","editor/resizing/row-resizing","editor/resizing/table-resizing","editor/resizing/table-resize-handle","editor/table-wizard/table-wizard-command","editor/table-wizard/table-wizard-dialog"],a)})(function(){var a={id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]},{id:"editor-resizable",name:"Resize handle",description:"Support for resizing the content area via a resize handle",depends:["resizable"]},{id:"editor-tablewizard",name:"Table wizard dialog",description:"Support for table properties configuration",depends:["tabstrip","button","numerictextbox"]},{id:"editor-pdf-export",name:"PDF export",description:"Export Editor content as PDF",depends:["pdf","drawing"]}]};return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.maskedtextbox",["kendo.core"],a)})(function(){var a={id:"maskedtextbox",name:"MaskedTextBox",category:"web",description:"The MaskedTextBox widget allows to specify a mask type on an input field.",depends:["core"]};(function(a,b){var c=window;var d=c.Math.min;var e=c.kendo;var f=e.caret;var g=e.keys;var h=e.ui;var i=h.Widget;var j=".kendoMaskedTextBox";var k=a.proxy;var l=window.setTimeout;var m="k-state-disabled";var n="k-state-invalid";var o="disabled";var p="readonly";var q="change";var r="mouseup";var s="drop";var t="keydown";var u="paste";var v="input";function w(a){return a+j}var x=w(e.support.propertyChangeEvent?"propertychange":v);function y(a,b){var c=0;while(c<b.length){if(a[c]!==b[c]){break}c++}return c}var z=i.extend({init:function(b,c){var d=this;var g;i.fn.init.call(d,b,c);d._rules=a.extend({},d.rules,d.options.rules);b=d.element;g=b[0];d._wrapper();d._tokenize();d._form();d.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+j,function(){var a=g.value;if(!a){g.value=d._old=d._emptyMask}else{d._togglePrompt(true)}d._oldValue=a;d._timeoutId=l(function(){f(b,0,a?d._maskLength:0)})}).on("focusout"+j,function(){var a=b.val();clearTimeout(d._timeoutId);g.value=d._old="";if(a!==d._emptyMask){g.value=d._old=a}d._change();d._togglePrompt()});var h=b.is("[disabled]")||a(d.element).parents("fieldset").is(":disabled");if(h){d.enable(false)}else{d.readonly(b.is("[readonly]"))}d.value(d.options.value||b.val());d._validationIcon=a("<span class='k-icon k-i-warning'></span>").insertAfter(b);e.notify(d)},options:{name:"MaskedTextBox",clearPromptChar:false,unmaskOnPost:false,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[q],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(b){var c=this;i.fn.setOptions.call(c,b);c._rules=a.extend({},c.rules,c.options.rules);c._tokenize();this._unbindInput();this._bindInput();c.value(c.element.val())},destroy:function(){var a=this;a.element.off(j);if(a._formElement){a._formElement.off("reset",a._resetHandler);a._formElement.off("submit",a._submitHandler)}i.fn.destroy.call(a)},raw:function(){var a=this._unmask(this.element.val(),0);return a.replace(new RegExp(this.options.promptChar,"g"),"")},value:function(a){var c=this.element;var d=this._emptyMask;if(a===b){return this.element.val()}if(a===null){a=""}if(!d){this._oldValue=a;c.val(a);return}a=this._unmask(a+"");c.val(a?d:"");this._mask(0,this._maskLength,a);this._unmaskedValue=null;a=c.val();this._oldValue=a;if(e._activeElement()!==c){if(a===d){c.val("")}else{this._togglePrompt()}}},_togglePrompt:function(a){var b=this.element[0];var c=b.value;if(this.options.clearPromptChar){if(!a){c=c.replace(new RegExp(this.options.promptChar,"g")," ")}else{c=this._oldValue}b.value=this._old=c}},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false})},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)})},_bindInput:function(){var a=this;if(a._maskLength){if(a.options.$angular){a.element.off(v)}a.element.on(w(t),k(a._keydown,a)).on(w(s),k(a._drop,a)).on(w(q),k(a._trackChange,a)).on(x,k(a._inputHandler,a));if(e.support.browser.msie){var b=e.support.browser.version;if(b>8&&b<11){var c=[w(r),w(s),w(t),w(u)].join(" ");a.element.on(c,k(a._legacyIEInputHandler,a))}}}},_unbindInput:function(){var a=[x,w(t),w(r),w(s),w(u)].join(" ");this.element.off(a)},_editable:function(a){var b=this;var c=b.element;var d=b.wrapper;var e=a.disable;var f=a.readonly;b._unbindInput();if(!f&&!e){c.removeAttr(o).removeAttr(p);d.removeClass(m);b._bindInput()}else{c.attr(o,e).attr(p,f);d.toggleClass(m,e)}},_change:function(){var a=this;var b=a.value();if(b!==a._oldValue){a._oldValue=b;a.trigger(q);a.element.trigger(q)}else if(b===""&&a.__changing){a.element.trigger(q)}},inputChange:function(a){var b=this;var c=b._old;var g=b.element[0];var h=g.value;var i=f(g);var j=i[1];var k=h.length-c.length;var l=e.support.mobileOS;if(b.__dropping&&k<0){return}if(k===-1&&l.android&&l.browser==="chrome"){a=true}var m=d(j,y(h,c));var n=h.substring(m,j);g.value=h.substring(0,m)+b._emptyMask.substring(m);var o=b._mask(m,j,n);var p=b._trimStartPromptChars(h.substring(j),d(k,o-m));var q=b._unmask(p,c.length-p.length);b._mask(o,o,q);if(a){o=b._findCaretPosBackwards(m)}f(g,o);b.__dropping=false},_trimStartPromptChars:function(a,b){var c=this.options.promptChar;while(b-- >0&&a.indexOf(c)===0){a=a.substring(1)}return a},_findCaretPosBackwards:function(a){var b=this._find(a,true);if(b<a){b+=1}return b},_inputHandler:function(){if(e._activeElement()!==this.element[0]){return}this.inputChange(this.__backward)},_legacyIEInputHandler:function(a){var b=this;var c=b.element[0];var d=c.value;var e=a.type;b.__pasting=e==="paste";l(function(){if(e==="mouseup"&&b.__pasting){return}if(c.value&&c.value!==d){b.inputChange(b.__backward)}})},_trackChange:function(){var a=this;a.__changing=true;l(function(){a.__changing=false})},_form:function(){var b=this;var c=b.element;var d=c.attr("form");var e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){l(function(){b.value(c[0].value)})};b._submitHandler=function(){b.element[0].value=b._old=b.raw()};if(b.options.unmaskOnPost){e.on("submit",b._submitHandler)}b._formElement=e.on("reset",b._resetHandler)}},_keydown:function(a){var b=a.keyCode;this.__backward=b===g.BACKSPACE;if(b===g.ENTER){this._change()}},_drop:function(){this.__dropping=true},_find:function(a,b){var c=this.element.val()||this._emptyMask;var d=1;if(b===true){d=-1}while(a>-1||a<=this._maskLength){if(c.charAt(a)!==this.tokens[a]){return a}a+=d}return-1},_mask:function(a,c,d,g){var h=this.element[0];var i=h.value||this._emptyMask;var j=this.options.promptChar;var k;var l=0;var m;var n;var o;a=this._find(a,g);if(a>c){c=a}m=this._unmask(i.substring(c),c);d=this._unmask(d,a);k=d.length;if(d){m=m.replace(new RegExp("^_{0,"+k+"}"),"")}d+=m;i=i.split("");n=d.charAt(l);while(a<this._maskLength){i[a]=n||j;n=d.charAt(++l);if(o===b&&l>k){o=a}a=this._find(a+1)}h.value=this._old=i.join("");if(e._activeElement()===h){if(o===b){o=this._maskLength}f(h,o)}return o},_unmask:function(b,c){if(!b){return""}if(this._unmaskedValue===b){return this._unmaskedValue}b=(b+"").split("");var d;var e;var f=0;var g=c||0;var h=this.options.promptChar;var i=b.length;var j=this.tokens.length;var k="";while(g<j){d=b[f];e=this.tokens[g];if(d===e||d===h){k+=d===h?h:"";f+=1;g+=1}else if(typeof e!=="string"){if(e&&e.test&&e.test(d)||a.isFunction(e)&&e(d)){k+=d;g+=1}else{if(i===1){this._blinkInvalidState()}}f+=1}else{g+=1}if(f>=i){break}}this._unmaskedValue=k;return k},_wrapper:function(){var a=this;var b=a.element;var c=b[0];var d=b.wrap("<span class='k-widget k-maskedtextbox'></span>").parent();d[0].style.cssText=c.style.cssText;c.style.width="100%";a.wrapper=d.addClass(c.className)},_blinkInvalidState:function(){var a=this;a.wrapper.addClass(n);clearTimeout(a._invalidStateTimeout);a._invalidStateTimeout=l(k(a._removeInvalidState,a),100)},_removeInvalidState:function(){var a=this;a.wrapper.removeClass(n);
a._invalidStateTimeout=null},_tokenize:function(){var a=[];var b=0;var c=this.options.mask||"";var d=c.split("");var f=d.length;var g=0;var h;var i;var j="";var k=this.options.promptChar;var l=e.getCulture(this.options.culture).numberFormat;var m=this._rules;for(;g<f;g++){h=d[g];i=m[h];if(i){a[b]=i;j+=k;b+=1}else{if(h==="."||h===","){h=l[h]}else if(h==="$"){h=l.currency.symbol}else if(h==="\\"){g+=1;h=d[g]}h=h.split("");for(var n=0,o=h.length;n<o;n++){a[b]=h[n];j+=h[n];b+=1}}}this.tokens=a;this._emptyMask=j;this._maskLength=j.length}});h.plugin(z)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.toolbar",["kendo.core","kendo.userevents","kendo.popup"],a)})(function(){var a={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.Class,e=c.ui.Widget,f=a.proxy,g=c.isFunction,h=c.keys,i=c._outerWidth,j="k-toolbar",k="k-button",l="k-overflow-button",m="k-toggle-button",n="k-button-group",o="k-split-button",p="k-separator",q="k-popup",r="k-toolbar-resizable",s="k-state-active",t="k-state-disabled",u="k-state-hidden",v="k-group-start",w="k-group-end",x="k-primary",y="k-icon",z="k-i-",A="k-button-icon",B="k-button-icontext",C="k-list-container k-split-container",D="k-split-button-arrow",E="k-overflow-anchor",F="k-overflow-container",G="k-toolbar-first-visible",H="k-toolbar-last-visible",I="click",J="toggle",K="open",L="close",M="overflowOpen",N="overflowClose",O="never",P="auto",Q="always",R="k-overflow-hidden",S="_optionlist",T=c.attr("uid");c.toolbar={};var U={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};c.toolbar.registerComponent=function(a,b,c){U[a]={toolbar:b,overflow:c}};var V=c.Class.extend({addOverflowAttr:function(){this.element.attr(c.attr("overflow"),this.options.overflow||P)},addUidAttr:function(){this.element.attr(T,this.options.uid)},addIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id)}},addOverflowIdAttr:function(){if(this.options.id){this.element.attr("id",this.options.id+"_overflow")}},attributes:function(){if(this.options.attributes){this.element.attr(this.options.attributes)}},show:function(){this.element.removeClass(u).show();this.options.hidden=false},hide:function(){this.element.addClass(u).hide();if(this.overflow&&this.overflowHidden){this.overflowHidden()}this.options.hidden=true},remove:function(){this.element.remove()},enable:function(a){if(a===b){a=true}this.element.toggleClass(t,!a);this.options.enable=a},twin:function(){var b=this.element.attr(T);if(this.overflow&&this.options.splitContainerId){return a("#"+this.options.splitContainerId).find("["+T+"='"+b+"']").data(this.options.type)}else if(this.overflow){return this.toolbar.element.find("["+T+"='"+b+"']").data(this.options.type)}else if(this.toolbar.options.resizable){return this.toolbar.popup.element.find("["+T+"='"+b+"']").data(this.options.type)}}});c.toolbar.Item=V;var W=V.extend({init:function(d,e){var f=d.useButtonTag?a('<button tabindex="0"></button>'):a('<a href tabindex="0"></a>');this.element=f;this.options=d;this.toolbar=e;this.attributes();if(d.primary){f.addClass(x)}if(d.togglable){f.addClass(m);this.toggle(d.selected)}if(d.url!==b&&!d.useButtonTag){f.attr("href",d.url);if(d.mobile){f.attr(c.attr("role"),"button")}}if(d.group){f.attr(c.attr("group"),d.group);this.group=this.toolbar.addToGroup(this,d.group)}if(!d.togglable&&d.click&&g(d.click)){this.clickHandler=d.click}if(d.togglable&&d.toggle&&g(d.toggle)){this.toggleHandler=d.toggle}},toggle:function(a,b){a=!!a;if(this.group&&a){this.group.select(this)}else if(!this.group){this.select(a)}if(b&&this.twin()){this.twin().toggle(a)}},getParentGroup:function(){if(this.options.isChild){return this.element.closest("."+n).data("buttonGroup")}},_addGraphics:function(){var b=this.element,c=this.options.icon,d=this.options.spriteCssClass,e=this.options.imageUrl,f,g,h;if(d||e||c){f=true;b.contents().filter(function(){return!a(this).hasClass("k-sprite")&&!a(this).hasClass(y)&&!a(this).hasClass("k-image")}).each(function(b,c){if(c.nodeType==1||c.nodeType==3&&a.trim(c.nodeValue).length>0){f=false}});if(f){b.addClass(A)}else{b.addClass(B)}}if(c){g=b.children("span."+y).first();if(!g[0]){g=a('<span class="'+y+'"></span>').prependTo(b)}g.addClass(z+c)}else if(d){g=b.children("span.k-sprite").first();if(!g[0]){g=a('<span class="k-sprite '+y+'"></span>').prependTo(b)}g.addClass(d)}else if(e){h=b.children("img.k-image").first();if(!h[0]){h=a('<img alt="icon" class="k-image" />').prependTo(b)}h.attr("src",e)}}});c.toolbar.Button=W;var X=W.extend({init:function(a,b){W.fn.init.call(this,a,b);var c=this.element;c.addClass(k);this.addIdAttr();if(a.align){c.addClass("k-align-"+a.align)}if(a.showText!="overflow"&&a.text){if(a.mobile){c.html('<span class="km-text">'+a.text+"</span>")}else{c.html(a.text)}}a.hasIcon=a.showIcon!="overflow"&&(a.icon||a.spriteCssClass||a.imageUrl);if(a.hasIcon){this._addGraphics()}this.addUidAttr();this.addOverflowAttr();this.enable(a.enable);if(a.hidden){this.hide()}this.element.data({type:"button",button:this})},select:function(a){if(a===b){a=false}this.element.toggleClass(s,a);this.options.selected=a}});c.toolbar.ToolBarButton=X;var Y=W.extend({init:function(b,c){this.overflow=true;W.fn.init.call(this,a.extend({},b),c);var d=this.element;if(b.showText!="toolbar"&&b.text){if(b.mobile){d.html('<span class="km-text">'+b.text+"</span>")}else{d.html('<span class="k-text">'+b.text+"</span>")}}b.hasIcon=b.showIcon!="toolbar"&&(b.icon||b.spriteCssClass||b.imageUrl);if(b.hasIcon){this._addGraphics()}if(!b.isChild){this._wrap()}this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(b.enable);d.addClass(l+" "+k);if(b.hidden){this.hide()}if(b.togglable){this.toggle(b.selected)}this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(R)},select:function(a){if(a===b){a=false}if(this.options.isChild){this.element.toggleClass(s,a)}else{this.element.find(".k-button").toggleClass(s,a)}this.options.selected=a}});c.toolbar.OverflowButton=Y;c.toolbar.registerComponent("button",X,Y);var Z=V.extend({createButtons:function(b){var d=this.options;var e=d.buttons||[];var f;for(var g=0;g<e.length;g++){if(!e[g].uid){e[g].uid=c.guid()}f=new b(a.extend({mobile:d.mobile,isChild:true,type:"button"},e[g]),this.toolbar);f.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+u+"'):first").addClass(v);this.element.children().filter(":not('."+u+"'):last").addClass(w)}});c.toolbar.ButtonGroup=Z;var $=Z.extend({init:function(b,c){var d=this.element=a("<div></div>");this.options=b;this.toolbar=c;this.addIdAttr();if(b.align){d.addClass("k-align-"+b.align)}this.createButtons(X);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();d.addClass(n);this.element.data({type:"buttonGroup",buttonGroup:this})}});c.toolbar.ToolBarButtonGroup=$;var _=Z.extend({init:function(b,c){var d=this.element=a("<li></li>");this.options=b;this.toolbar=c;this.overflow=true;this.addOverflowIdAttr();this.createButtons(Y);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();d.addClass((b.mobile?"":n)+" k-overflow-group");this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(R)}});c.toolbar.OverflowButtonGroup=_;c.toolbar.registerComponent("buttonGroup",$,_);var aa=V.extend({init:function(b,c){var d=this.element=a('<div class="'+o+'" tabindex="0"></div>');this.options=b;this.toolbar=c;this.mainButton=new X(a.extend({},b,{hidden:false}),c);this.arrowButton=a('<a class="'+k+" "+D+'"><span class="'+(b.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>');this.popupElement=a('<ul class="'+C+'"></ul>');this.mainButton.element.removeAttr("href tabindex").appendTo(d);this.arrowButton.appendTo(d);this.popupElement.appendTo(d);if(b.align){d.addClass("k-align-"+b.align)}if(!b.id){b.id=b.uid}d.attr("id",b.id+"_wrapper");this.addOverflowAttr();this.addUidAttr();this.createMenuButtons();this.createPopup();this._navigatable();this.mainButton.main=true;this.enable(b.enable);if(b.hidden){this.hide()}d.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var b=this;b.popupElement.on("keydown","."+k,function(c){var d=a(c.target).parent();c.preventDefault();if(c.keyCode===h.ESC||c.keyCode===h.TAB||c.altKey&&c.keyCode===h.UP){b.toggle();b.focus()}else if(c.keyCode===h.DOWN){ja(d,"next").focus()}else if(c.keyCode===h.UP){ja(d,"prev").focus()}else if(c.keyCode===h.SPACEBAR||c.keyCode===h.ENTER){b.toolbar.userEvents.trigger("tap",{target:a(c.target)})}else if(c.keyCode===h.HOME){d.parent().find(":kendoFocusable").first().focus()}else if(c.keyCode===h.END){d.parent().find(":kendoFocusable").last().focus()}})},createMenuButtons:function(){var b=this.options;var c=b.menuButtons;var d;for(var e=0;e<c.length;e++){d=new X(a.extend({mobile:b.mobile,type:"button",click:b.click},c[e]),this.toolbar);d.element.wrap("<li></li>").parent().appendTo(this.popupElement)}},createPopup:function(){var b=this;var c=this.options;var d=this.element;this.popupElement.attr("id",c.id+S).attr(T,c.rootUid);if(c.mobile){this.popupElement=ha(this.popupElement)}this.popup=this.popupElement.kendoPopup({appendTo:c.mobile?a(c.mobile).children(".km-pane"):null,anchor:d,isRtl:this.toolbar._isRtl,copyAnchorStyles:false,animation:c.animation,open:function(a){var c=b.toolbar.trigger(K,{target:d});if(c){a.preventDefault();return}b.adjustPopupWidth(a.sender)},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(a){var c=b.toolbar.trigger(L,{target:d});if(c){a.preventDefault()}d.focus()}}).data("kendoPopup");this.popup.element.on(I,"a.k-button",ia)},adjustPopupWidth:function(a){var b=a.options.anchor,d=i(b),e;c.wrap(a.element).addClass("k-split-wrapper");if(a.element.css("box-sizing")!=="border-box"){e=d-(i(a.element)-a.element.width())}else{e=d}a.element.css({fontFamily:b.css("font-family"),"min-width":e})},remove:function(){this.popup.element.off(I,"a.k-button");this.popup.destroy();this.element.remove()},toggle:function(){if(this.options.enable||this.popup.visible()){this.popup.toggle()}},enable:function(a){if(a===b){a=true}this.mainButton.enable(a);this.element.toggleClass(t,!a);this.options.enable=a},focus:function(){this.element.focus()},hide:function(){if(this.popup){this.popup.close()}this.element.addClass(u).hide();this.options.hidden=true},show:function(){this.element.removeClass(u).hide();this.options.hidden=false}});c.toolbar.ToolBarSplitButton=aa;var ba=V.extend({init:function(b,c){var d=this.element=a('<li class="'+o+'"></li>'),e=b.menuButtons,f,g;this.options=b;this.toolbar=c;this.overflow=true;g=(b.id||b.uid)+S;this.mainButton=new Y(a.extend({},b));this.mainButton.element.appendTo(d);for(var h=0;h<e.length;h++){f=new Y(a.extend({mobile:b.mobile,type:"button",splitContainerId:g},e[h]),this.toolbar);f.element.appendTo(d)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;d.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(R)}});c.toolbar.OverflowSplitButton=ba;c.toolbar.registerComponent("splitButton",aa,ba);var ca=V.extend({init:function(b,c){var d=this.element=a("<div>&nbsp;</div>");this.element=d;this.options=b;this.toolbar=c;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();d.addClass(p);d.data({type:"separator",separator:this})}});var da=V.extend({init:function(b,c){var d=this.element=a("<li>&nbsp;</li>");this.element=d;this.options=b;this.toolbar=c;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();d.addClass(p);d.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(R)}});c.toolbar.registerComponent("separator",ca,da);var ea=V.extend({init:function(b,c,d){var e=g(b)?b(c):b;if(!(e instanceof jQuery)){e=a("<div></div>").html(e)}else{e=e.wrap("<div></div>").parent()}this.element=e;this.options=c;this.options.type="template";this.toolbar=d;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();e.data({type:"template",template:this})}});c.toolbar.TemplateItem=ea;var fa=V.extend({init:function(b,c,d){var e=g(b)?a(b(c)):a(b);if(!(e instanceof jQuery)){e=a("<li></li>").html(e)}else{e=e.wrap("<li></li>").parent()}this.element=e;this.options=c;this.options.type="template";this.toolbar=d;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();e.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(R)}});c.toolbar.OverflowTemplateItem=fa;function ga(a){if(!a.target.is(".k-toggle-button")){a.target.toggleClass(s,a.type=="press")}}function ha(b){b=a(b);return b.hasClass("km-actionsheet")?b.closest(".km-popup-wrapper"):b.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function ia(b){if(a(b.target).closest("a.k-button").length){b.preventDefault()}}function ja(b,c){var d=c==="next"?a.fn.next:a.fn.prev;var e=c==="next"?a.fn.first:a.fn.last;var f=d.call(b);if(f.is(":kendoFocusable")||!f.length){return f}if(f.find(":kendoFocusable").length){return e.call(f.find(":kendoFocusable"))}return ja(f,c)}var ka=d.extend({init:function(a){this.name=a;this.buttons=[]},add:function(a){this.buttons[this.buttons.length]=a},remove:function(b){var c=a.inArray(b,this.buttons);this.buttons.splice(c,1)},select:function(a){var b;for(var c=0;c<this.buttons.length;c++){b=this.buttons[c];b.select(false)}a.select(true);if(a.twin()){a.twin().select(true)}}});var la=e.extend({init:function(b,d){var g=this;e.fn.init.call(g,b,d);d=g.options;b=g.wrapper=g.element;b.addClass(j+" k-widget");this.uid=c.guid();this._isRtl=c.support.isRtl(b);this._groups={};b.attr(T,this.uid);g.isMobile=typeof d.mobile==="boolean"?d.mobile:g.element.closest(".km-root")[0];g.animation=g.isMobile?{open:{effects:"fade"}}:{};if(g.isMobile){b.addClass("km-widget");y="km-icon";z="km-";k="km-button";n="km-buttongroup km-widget";s="km-state-active";t="km-state-disabled"}if(d.resizable){g._renderOverflow();b.addClass(r);g.overflowUserEvents=new c.UserEvents(g.element,{threshold:5,allowSelection:true,filter:"."+E,tap:f(g._toggleOverflow,g)});g._resizeHandler=c.onResize(function(){g.resize()})}else{g.popup={element:a([])}}if(d.items&&d.items.length){for(var h=0;h<d.items.length;h++){g.add(d.items[h])}if(d.resizable){g._shrink(g.element.innerWidth())}}g.userEvents=new c.UserEvents(document,{threshold:5,allowSelection:true,filter:"["+T+"="+this.uid+"] a."+k+", "+"["+T+"="+this.uid+"] ."+l,tap:f(g._buttonClick,g),press:ga,release:ga});g.element.on(I,"a.k-button",ia);g._navigatable();if(d.resizable){g.popup.element.on(I,+"a.k-button",ia)}if(d.resizable){this._toggleOverflowAnchor()}c.notify(g)},events:[I,J,K,L,M,N],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(a,b){var c;if(!this._groups[b]){c=this._groups[b]=new ka}else{c=this._groups[b]}c.add(a);return c},destroy:function(){var b=this;b.element.find("."+o).each(function(b,c){a(c).data("kendoPopup").destroy()});b.element.off(I,"a.k-button");b.userEvents.destroy();if(b.options.resizable){c.unbindResize(b._resizeHandler);b.overflowUserEvents.destroy();b.popup.element.off(I,"a.k-button");b.popup.destroy()}e.fn.destroy.call(b)},add:function(b){var d=U[b.type],e=b.template,f,g=this,h=g.isMobile?"":"k-item k-state-default",i=b.overflowTemplate,j;a.extend(b,{uid:c.guid(),animation:g.animation,mobile:g.isMobile,rootUid:g.uid});if(b.menuButtons){for(var k=0;k<b.menuButtons.length;k++){a.extend(b.menuButtons[k],{uid:c.guid()})}}if(e&&!i){b.overflow=O}else if(!b.overflow){b.overflow=P}if(b.overflow!==O&&g.options.resizable){if(i){j=new fa(i,b,g)}else if(d){j=new d.overflow(b,g);j.element.addClass(h)}if(j){if(b.overflow===P){j.overflowHidden()}j.element.appendTo(g.popup.container);g.angular("compile",function(){return{elements:j.element.get()}})}}if(b.overflow!==Q){if(e){f=new ea(e,b,g)}else if(d){f=new d.toolbar(b,g)}if(f){f.element.appendTo(g.element);g.angular("compile",function(){return{elements:f.element.get()}})}}},_getItem:function(b){var c,d,e,f=this.options.resizable,g;c=this.element.find(b);if(!c.length){c=a(".k-split-container[data-uid="+this.uid+"]").find(b)}g=c.length?c.data("type"):"";d=c.data(g);if(d){if(d.main){c=c.parent("."+o);g="splitButton";d=c.data(g)}if(f){e=d.twin()}}else if(f){c=this.popup.element.find(b);g=c.length?c.data("type"):"";e=c.data(g);if(e&&e.main){c=c.parent("."+o);g="splitButton";e=c.data(g)}}return{type:g,toolbar:d,overflow:e}},remove:function(a){var b=this._getItem(a);if(b.toolbar){b.toolbar.remove()}if(b.overflow){b.overflow.remove()}this.resize(true)},hide:function(a){var b=this._getItem(a);if(b.toolbar){if(b.toolbar.options.type==="button"&&b.toolbar.options.isChild){b.toolbar.hide();b.toolbar.getParentGroup().refresh()}else if(!b.toolbar.options.hidden){b.toolbar.hide()}}if(b.overflow){if(b.overflow.options.type==="button"&&b.overflow.options.isChild){b.overflow.hide();b.overflow.getParentGroup().refresh()}else if(!b.overflow.options.hidden){b.overflow.hide()}}this.resize(true)},show:function(a){var b=this._getItem(a);if(b.toolbar){if(b.toolbar.options.type==="button"&&b.toolbar.options.isChild){b.toolbar.show();b.toolbar.getParentGroup().refresh()}else if(b.toolbar.options.hidden){b.toolbar.show()}}if(b.overflow){if(b.overflow.options.type==="button"&&b.overflow.options.isChild){b.toolbar.show();b.overflow.getParentGroup().refresh()}else if(b.overflow.options.hidden){b.overflow.show()}}this.resize(true)},enable:function(a,b){var c=this._getItem(a);if(typeof b=="undefined"){b=true}if(c.toolbar){c.toolbar.enable(b)}if(c.overflow){c.overflow.enable(b)}},getSelectedFromGroup:function(a){return this.element.find("."+m+"[data-group='"+a+"']").filter("."+s)},toggle:function(c,d){var e=a(c),f=e.data("button");if(f.options.togglable){if(d===b){d=true}f.toggle(d,true)}},_renderOverflow:function(){var b=this,d=U.overflowContainer,e=b._isRtl,f=e?"left":"right";b.overflowAnchor=a(U.overflowAnchor).addClass(k);b.element.append(b.overflowAnchor);if(b.isMobile){b.overflowAnchor.append('<span class="km-icon km-more"></span>');d=ha(d)}else{b.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>')}b.popup=new c.ui.Popup(d,{origin:"bottom "+f,position:"top "+f,anchor:b.overflowAnchor,isRtl:e,animation:b.animation,appendTo:b.isMobile?a(b.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(d){var f=c.wrap(b.popup.element).addClass("k-overflow-wrapper");if(!b.isMobile){f.css("margin-left",(e?-1:1)*((i(f)-f.width())/2+1))}else{b.popup.container.css("max-height",parseFloat(a(".km-content:visible").innerHeight())-15+"px")}if(b.trigger(M)){d.preventDefault()}},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(a){if(b.trigger(N)){a.preventDefault()}this.element.focus()}});b.popup.element.on("keydown","."+k,function(c){var d=a(c.target),e=d.parent(),f=e.is("."+n)||e.is("."+o),g;c.preventDefault();if(c.keyCode===h.ESC||c.keyCode===h.TAB||c.altKey&&c.keyCode===h.UP){b._toggleOverflow();b.overflowAnchor.focus()}else if(c.keyCode===h.DOWN){g=!f||f&&d.is(":last-child")?e:d;ja(g,"next").focus()}else if(c.keyCode===h.UP){g=!f||f&&d.is(":first-child")?e:d;ja(g,"prev").focus()}else if(c.keyCode===h.SPACEBAR||c.keyCode===h.ENTER){b.userEvents.trigger("tap",{target:a(c.target)});b.overflowAnchor.focus()}else if(c.keyCode===h.HOME){e.parent().find(":kendoFocusable").first().focus()}else if(c.keyCode===h.END){e.parent().find(":kendoFocusable").last().focus()}});if(b.isMobile){b.popup.container=b.popup.element.find("."+F)}else{b.popup.container=b.popup.element}b.popup.container.attr(T,this.uid)},_toggleOverflowAnchor:function(){var a=false;if(this.options.mobile){a=this.popup.element.find("."+F).children(":not(."+R+", ."+q+")").length>0}else{a=this.popup.element.children(":not(."+R+", ."+q+")").length>0}if(a){this.overflowAnchor.css({visibility:"visible",width:""})}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"})}},_buttonClick:function(b){var c=this,d,e,f,h,i=b.target.closest("."+D).length,j,m,n;b.preventDefault();if(i){c._toggle(b);return}e=a(b.target).closest("."+k,c.element);if(e.hasClass(E)){return}f=e.data("button");if(!f&&c.popup){e=a(b.target).closest("."+l,c.popup.container);f=e.parent("li").data("button")}if(!f||!f.options.enable){return}if(f.options.togglable){j=g(f.toggleHandler)?f.toggleHandler:null;f.toggle(!f.options.selected,true);m={target:e,group:f.options.group,checked:f.options.selected,id:f.options.id};if(j){j.call(c,m)}c.trigger(J,m)}else{j=g(f.clickHandler)?f.clickHandler:null;m={sender:c,target:e,id:f.options.id};if(j){j.call(c,m)}c.trigger(I,m)}if(f.options.url){if(f.options.attributes&&f.options.attributes.target){n=f.options.attributes.target}window.open(f.options.url,n||"_self")}if(e.hasClass(l)){c.popup.close()}h=e.closest(".k-split-container");if(h[0]){d=h.data("kendoPopup");(d?d:h.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_navigatable:function(){var b=this;b.element.attr("tabindex",0).on("focusin",function(b){var c=a(b.target);var d=a(this).find(":kendoFocusable:first");if(!c.is("."+j)||d.length===0){return}if(d.is("."+E)){d=ja(d,"next")}d[0].focus()}).on("keydown",f(b._keydown,b))},_keydown:function(b){var c=a(b.target),d=b.keyCode,e=this.element.children(":not(.k-separator):visible"),f=this._isRtl?-1:1;if(d===h.TAB){var g=c.parentsUntil(this.element).last(),i=false,j=false;if(!g.length){g=c}if(g.is("."+E)){if(b.shiftKey){b.preventDefault()}if(e.last().is(":kendoFocusable")){e.last().focus()}else{e.last().find(":kendoFocusable").last().focus()}}if(!b.shiftKey&&e.index(g)===e.length-1){if(g.is("."+n)){i=c.is(":last-child")}else{i=true}}var k=e.index(g)===e.not(".k-overflow-anchor").first().index();if(b.shiftKey&&k){if(g.is("."+n)){j=c.is(":first-child")}else{j=true}}if(i&&this.overflowAnchor&&this.overflowAnchor.css("visibility")!=="hidden"){b.preventDefault();this.overflowAnchor.focus()}if(j){b.preventDefault();var l=this._getPrevFocusable(this.wrapper);if(l){l.focus()}}this._preventNextFocus=false}if(b.altKey&&d===h.DOWN){var m=a(document.activeElement).data("splitButton");var p=a(document.activeElement).is("."+E);if(m){m.toggle()}else if(p){this._toggleOverflow()}return}if((d===h.SPACEBAR||d===h.ENTER)&&!c.is("input, checkbox")){if(d===h.SPACEBAR){b.preventDefault()}if(c.is("."+o)){c=c.children().first();this.userEvents.trigger("tap",{target:c})}else if(d===h.SPACEBAR){this.userEvents.trigger("tap",{target:c})}return}if(d===h.HOME){if(c.is(".k-dropdown")||c.is("input")){return}if(this.overflowAnchor){e.eq(1).focus()}else{e.first().focus()}b.preventDefault()}else if(d===h.END){if(c.is(".k-dropdown")||c.is("input")){return}if(this.overflowAnchor&&a(this.overflowAnchor).css("visibility")!="hidden"){this.overflowAnchor.focus()}else{e.last().focus()}b.preventDefault()}else if(d===h.RIGHT&&!this._preventNextFocus&&!c.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(b.target,1*f)){this._getNextElement(b.target,1*f).focus();b.preventDefault()}else if(d===h.LEFT&&!this._preventNextFocus&&!c.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(b.target,-1*f)){this._getNextElement(b.target,-1*f).focus();b.preventDefault()}},_getNextElement:function(b,c){var d=this.element.children(":not(.k-separator):visible");var e=d.index(b)===-1?d.index(b.parentElement):d.index(b);var f=this.overflowAnchor?1:0;var g=c;var h=c===1?d.length-1:f;var i=c===1?f:d.length-1;var j=d[e+c];this._preventNextFocus=false;if(a(b).closest("."+n).length&&!a(b).is(c===1?":last-child":":first-child")){return a(b).closest("."+n).children()[a(b).closest("."+n).children().index(b)+c]}if(this.overflowAnchor&&b===this.overflowAnchor[0]&&c===-1){j=d[d.length-1]}if(e===h){j=!this.overflowAnchor||this.overflowAnchor&&a(this.overflowAnchor).css("visibility")==="hidden"?d[i]:this.overflowAnchor}while(!a(j).is(":kendoFocusable")){if(c===-1&&a(j).closest("."+n).length){j=a(j).children(":not(label, div)").last()}else{j=a(j).children(":not(label, div)").first()}if(!j.length){g=g+c;j=d[e+g];if(!j){return this.overflowAnchor}}this._preventNextFocus=a(j).closest("."+n).length?false:true}return j},_getPrevFocusable:function(b){if(b.is("html")){return b}var c,d,e=b.prevAll();e.each(function(){d=a(this);if(d.is(":kendoFocusable")){c=d;return false}else if(d.find(":kendoFocusable").length>0){c=d.find(":kendoFocusable").last();return false}});if(c){return c}else{return this._getPrevFocusable(b.parent())}},_toggle:function(b){var c=a(b.target).closest("."+o).data("splitButton");b.preventDefault();if(!c.options.enable){return}c.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(a){var b=a.width;if(!this.options.resizable){return}this.popup.close();this._shrink(b);this._stretch(b);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var b=0;this.element.children(":visible:not('."+u+"')").each(function(){b+=i(a(this),true)});return Math.ceil(b)},_shrink:function(a){var b,c;if(a<this._childrenWidth()){c=this.element.children(":visible:not([data-overflow='never'], ."+E+")");for(var d=c.length-1;d>=0;d--){b=c.eq(d);if(a>this._childrenWidth()){break}else{this._hideItem(b)}}}},_stretch:function(a){var b,c;if(a>this._childrenWidth()){c=this.element.children(":hidden:not('."+u+"')");for(var d=0;d<c.length;d++){b=c.eq(d);if(a<this._childrenWidth()||!this._showItem(b,a)){break}}}},_hideItem:function(a){a.hide();if(this.popup){this.popup.container.find(">li[data-uid='"+a.data("uid")+"']").removeClass(R)}},_showItem:function(a,b){if(a.length&&b>this._childrenWidth()+i(a,true)){a.show();if(this.popup){this.popup.container.find(">li[data-uid='"+a.data("uid")+"']").addClass(R)}return true}return false},_markVisibles:function(){var a=this.popup.container.children(),b=this.element.children(":not(.k-overflow-anchor)"),c=a.filter(":not(.k-overflow-hidden)"),d=b.filter(":visible");a.add(b).removeClass(G+" "+H);c.first().add(d.first()).addClass(G);c.last().add(d.last()).addClass(H)}});c.ui.plugin(la)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mediaplayer",["kendo.slider","kendo.toolbar","kendo.dropdownlist","kendo.tooltip"],a)})(function(){var a={id:"mediaplayer",name:"MediaPlayer",category:"web",description:"",depends:["slider","toolbar","dropdownlist","tooltip"]};(function(a,b){var c=window.kendo,d="end",e="pause",f="play",g="ready",h="timeChange",i="volumeChange",j="k-i-full-screen",k="k-i-full-screen-exit",l="k-i-volume-off",m="k-i-volume-down",n="k-i-volume-up",o="k-mediaplayer-quality",p="k-i-play",q="k-i-pause",r="k-mediaplayer-titlebar",s="k-title",t="k-mediaplayer-toolbar-wrap",u="k-mediaplayer-toolbar",v="k-mediaplayer-seekbar",w="k-mediaplayer-volume",x="k-mediaplayer-media",y="k-mediaplayer-overlay",z="k-mediaplayer-yt",A=".",B=c.ui,C=".kendoMediaPlayer",D=new Date(1970,0,1),E=D.getTimezoneOffset()*60,F=c.ui.Widget,G=a.isArray,H={shortTime:"mm:ss",longTime:"HH:mm:ss"},I=c.template,J=a.proxy,K=c.keys,L={htmlPlayer:"<video class='"+x+"'> </video>",titleBar:I("<div class='"+r+"' role='heading'><span class='"+s+"'>Video Title</span></div>"),toolBar:"<div class='"+t+"'><div class='"+u+"'></div></div>",youtubePlayer:"<div class='"+z+"'> </div>",toolBarTime:"<span class='k-mediaplayer-currenttime'>00:00:00</span> / <span class='k-mediaplayer-duration'>00:00:00</span>",slider:"<input class='"+v+"' value='0' title='seekbar' />",volumeSlider:"<input class='"+w+"' title='volume'/>",qualityDropDown:"<input class='"+o+"' title='video quality' />",toolTip:"#= kendo.toString(new Date(value), 'HH:mm:ss') #"};var M=F.extend({init:function(b,d){this.wrapper=a(b);F.fn.init.call(this,b,d);this.wrapper.addClass("k-mediaplayer k-widget");d=this.options;this._currentIndex=0;this._createTitlebar();this._createToolbar();this._createDropDown();this._createSlider();this._createVolumeSlider();this._timers={};this._aria();this._navigatable();if(d.fullScreen){this.fullScreen(true)}if(d.media){this.media(this.options.media)}c.notify(this)},events:[d,e,f,g,h,i],options:{name:"MediaPlayer",autoPlay:false,autoRepeat:false,volume:100,fullScreen:false,mute:false,navigatable:false,forwardSeek:true,media:null,messages:{pause:"Pause",play:"Play",mute:"Mute",unmute:"Unmute",quality:"Quality",fullscreen:"Full Screen"}},_msToTime:function(a){var b=new Date(D.getTime());b.setSeconds(a);return b},_timeToSec:function(a){var b=new Date(a).getTime();return b/1e3},_createTitlebar:function(){this._titleBar=this.wrapper.find(A+r);if(this._titleBar.length===0){this.wrapper.append(L.titleBar);this._titleBar=this.wrapper.find(A+r)}},_createSlider:function(){var a=this.wrapper.find(A+v);if(!this._slider){this._sliderDragChangeHandler=J(this._sliderDragChange,this);this._sliderDraggingHandler=J(this._sliderDragging,this);a=this.wrapper.find(A+v);this._slider=new B.Slider(a[0],{smallStep:1e3,tickPlacement:"none",showButtons:false,change:this._sliderDragChangeHandler,slide:this._sliderDraggingHandler,tooltip:{template:L.toolTip},dragHandleTitle:""})}},_createVolumeSlider:function(){var a=this.wrapper.find(A+w);if(!this._volumeSlider){this._volumeDraggingHandler=J(this._volumeDragging,this);this._volumeChangeHandler=J(this._volumeChange,this);a.width(87);this._volumeSlider=new B.Slider(a[0],{smallStep:1,min:0,max:100,value:this.options.volume,slide:this._volumeDraggingHandler,change:this._volumeChangeHandler,tickPlacement:"none",showButtons:false,tooltip:{enabled:false},dragHandleTitle:""})}},_resetTime:function(){if(this._youTubeVideo){this._ytmedia.seekTo(0,true)}else{this._media.currentTime=0}this._mediaTimeUpdate();a.grep(this._toolBar.options.items,function(a){return!!a.template}).template=L.toolBarTime},_currentUrl:function(){var a=this.media();return G(a.source)?a.source[this._currentIndex].url:a.source},_isYouTubeUrl:function(){return!!this._currentUrl().match("youtube.com/|youtu.be/")},_setPlayerUrl:function(){var a=this._youTubeVideo;this.stop();this._youTubeVideo=this._isYouTubeUrl();if(a!==this._youTubeVideo){this.wrapper.find(A+z).toggle();this.wrapper.find(A+x).toggle()}var b=this._media||this._ytmedia;this._initializePlayer();if(b){this.mute(this.mute());this.volume(this.volume())}if(!this._youTubeVideo){this._videoOverlay.show();this.wrapper.find(A+x+" > source").remove();this.wrapper.find(A+x).attr("src",this._currentUrl());if(this.options.autoPlay){this.play()}}else if(this._ytmedia){if(this._videoOverlay){this._videoOverlay.hide()}if(this.options.autoPlay){this._ytmedia.loadVideoById(this._getMediaId());this._playStateToggle(true)}else{this._ytmedia.cueVideoById(this._getMediaId());this._playStateToggle(true)}}},_createToolbar:function(){var b=this.wrapper.find(A+u);if(b.length===0){this._toolbarClickHandler=J(this._toolbarClick,this);this.wrapper.append(L.toolBar);b=this.wrapper.find(A+u);b.width(this.wrapper.find(A+x).width());this._toolBar=new B.ToolBar(b,{click:this._toolbarClickHandler,resizable:false,items:[{type:"button",attributes:{class:"k-play-button"},icon:"play"},{template:L.toolBarTime,attributes:{class:"k-mediaplayer-currenttime-wrap"}},{type:"separator",attributes:{class:"k-toolbar-spacer"}},{type:"button",attributes:{class:"k-volume-button"},icon:"volume-up"},{template:L.volumeSlider,attributes:{class:"k-mediaplayer-volume-wrap"}},{template:L.qualityDropDown,attributes:{class:"k-mediaplayer-quality-wrap"}},{type:"button",attributes:{
class:"k-fullscreen-button"},icon:"full-screen"}]});this._toolBar.wrapper.off("keydown");b.before(L.slider);this._volumeButton=b.find(".k-volume-button");this._fullscreenButton=b.find(".k-fullscreen-button");this._volumeButton.attr("title",this.options.mute?this.options.messages.unmute:this.options.messages.mute);this._volumeButton.attr("aria-label",this.options.mute?this.options.messages.unmute:this.options.messages.mute);this._fullscreenButton.attr("title",this.options.messages.fullscreen);this._fullscreenButton.attr("aria-label",this.options.messages.fullscreen);b.width("auto");this._currentTimeElement=b.find(".k-mediaplayer-currenttime");this._durationElement=b.find(".k-mediaplayer-duration");this._playButton=b.find(".k-play-button");this._playButtonSpan=this._playButton.find(".k-i-play");if(this.options.autoPlay){this._playStateToggle(true)}a([this._volumeButton[0],b.find(".k-mediaplayer-volume-wrap")[0],b.find(".k-mediaplayer-quality-wrap")[0],this._fullscreenButton[0]]).wrapAll("<div class='k-align-right' />");b.find(".k-button").addClass("k-bare")}},_createDropDown:function(){var a=this.wrapper.find(A+o);var b=this.media();if(typeof a.data("kendoDropDownList")==="undefined"){this._dropDownSelectHandler=J(this._dropDownSelect,this);this._dropDown=new B.DropDownList(a,{dataTextField:"quality",dataValueField:"url",popup:{position:"bottom",origin:"top",appendTo:this.wrapper},animation:{open:{effects:"slideIn:up",duration:1}},select:this._dropDownSelectHandler});if(b&&G(b.source)){this._dropDown.setDataSource(b.source);this._dropDown.select(0)}this._dropDown.wrapper.addClass("k-button k-bare");this._dropDown.wrapper.attr("title",this.options.messages.quality).hide();this._dropDown.wrapper.find("span.k-i-arrow-60-down").removeClass("k-i-arrow-60-down").addClass("k-icon k-i-hd");this._dropDown.list.addClass("k-quality-list")}},_dropDownSelect:function(a){if(this._currentIndex!==a.item.index()){this._currentIndex=a.item.index();this._setPlayerUrl()}},_toolbarClick:function(b){var c=a(b.target).children().first();var d=c.hasClass(p);if(!this.media()){return}if(c.hasClass(p)||c.hasClass(q)){if(d){this.play()}else{this.pause()}}if(c.hasClass(j)||c.hasClass(k)){if(this._isInFullScreen){c.removeClass(k).addClass(j);this.fullScreen(false)}else{c.removeClass(j).addClass(k);this.fullScreen(true)}}if(c.hasClass(l)||c.hasClass(m)||c.hasClass(n)){var e=this.mute();this.mute(!e)}},_sliderDragging:function(){if(!this.media()){return}this._isDragging=true},_sliderDragChange:function(a){var b=this;var c=a.sender;var d=E*1e3;if(!this.media()){return}b._sliderChangeFired=true;b._isDragging=false;if(!this.options.forwardSeek&&c.value()>this._seekBarLastPosition){setTimeout(function(){c.value(b._seekBarLastPosition)},1)}else if(this._youTubeVideo){b._ytmedia.seekTo(b._timeToSec(a.value-d))}else{b._media.currentTime=b._timeToSec(a.value-d)}b.trigger(h);b._preventPlay=true},_changeVolumeButtonImage:function(a){var b=this._volumeButton;var c=b.find("span");var d=c.attr("class");d=d.substring(0,d.lastIndexOf(" "));if(a===0){c.attr("class",d+" "+l);b.attr("title",this.options.messages.unmute);b.attr("aria-label",this.options.messages.unmute)}else if(a>0&&a<51){c.attr("class",d+" "+m);b.attr("title",this.options.messages.mute);b.attr("aria-label",this.options.messages.mute)}else{c.attr("class",d+" "+n);b.attr("title",this.options.messages.mute);b.attr("aria-label",this.options.messages.mute)}},_volumeDragging:function(a){if(!this.media()){return}this.volume(a.value);this._changeVolumeButtonImage(a.value);this.trigger(i)},_volumeChange:function(a){if(!this.media()){return}this.volume(a.value);this._changeVolumeButtonImage(a.value);this.trigger(i)},_mediaTimeUpdate:function(){var a=this._youTubeVideo?this._ytmedia.getCurrentTime():this._media.currentTime;a=a?a:0;var b=this._msToTime(a);this._currentTimeElement.text(c.toString(b,this._timeFormat));if(!this._isDragging){this._seekBarLastPosition=(a+E)*1e3;this._slider.value(this._seekBarLastPosition)}return this.isPlaying()},_playStateToggle:function(a){if(typeof a==="undefined"){a=this._playButtonSpan.is(A+p)}if(a){this._playButtonSpan.removeClass(p).addClass(q);this._playButton.attr("title",this.options.messages.pause);this._playButton.attr("aria-label",this.options.messages.pause)}else{this._playButtonSpan.removeClass(q).addClass(p);this._playButton.attr("title",this.options.messages.play);this._playButton.attr("aria-label",this.options.messages.play)}},_mediaEnded:function(){this._playStateToggle(false);this._currentTimeElement.text(c.toString(this._msToTime(0),this._timeFormat));this._slider.value((0+E)*1e3);this.trigger(d)},_mediaPlay:function(){this.trigger(f)},_mediaReady:function(){this.trigger(g)},_mediaDurationChange:function(){var a=this._msToTime(this._youTubeVideo?this._ytmedia.getDuration():this._media.duration);this._timeFormat=a.getHours()===0?H.shortTime:H.longTime;this._durationElement.text(c.toString(a,this._timeFormat));this._slider.setOptions({min:D.getTime(),max:a.getTime()});if(!this._isFirstRun){this._resetTime();this._isFirstRun=true}},_createYoutubePlayer:function(){this._mediaTimeUpdateHandler=J(this._mediaTimeUpdate,this);this._mediaDurationChangeHandler=J(this._mediaDurationChange,this);this.wrapper.prepend(L.youtubePlayer);this._ytPlayer=this.wrapper.find(A+z)[0];a(this._ytPlayer).css({width:this.wrapper.width(),height:this.wrapper.height()});if(!window.YT||!window.YT.Player){if(!window.onYouTubeIframeAPIReadyRegister){window.onYouTubeIframeAPIReadyRegister=[];a.getScript("https://www.youtube.com/iframe_api");window.onYouTubeIframeAPIReady=function(){if(window.onYouTubeIframeAPIReadyRegister){for(var a=0;a<window.onYouTubeIframeAPIReadyRegister.length;a++){window.onYouTubeIframeAPIReadyRegister[a]._youtubeApiReady()}}window.onYouTubeIframeAPIReadyRegister.length=0;window.onYouTubeIframeAPIReadyRegister=b}}window.onYouTubeIframeAPIReadyRegister[window.onYouTubeIframeAPIReadyRegister.length]=this}else{this._configurePlayer()}},_poll:function(a,b,c,d){var e=this;if(e._timers[a]!==null){clearTimeout(e._timers[a])}e._timers[a]=setTimeout(function(d){return function f(){if(b.call(d)){e._timers[a]=setTimeout(f,c)}}}(d),c);return e._timers[a]},_youtubeApiReady:function(){this._configurePlayer()},_configurePlayer:function(){var a={autoplay:+this.options.autoPlay,wmode:"transparent",controls:0,rel:0,showinfo:0};this._onYouTubePlayerReady=J(this._onYouTubePlayerReady,this);window.onYouTubePlayerReady=this._onYouTubePlayerReady;this._onPlayerStateChangeHandler=J(this._onPlayerStateChange,this);window.onPlayerStateChange=this._onPlayerStateChange;var b=new window.YT.Player(this.wrapper.find(A+z)[0],{height:this.wrapper.height(),width:this.wrapper.width(),videoId:this._getMediaId(),playerVars:a,events:{onReady:this._onYouTubePlayerReady,onStateChange:this._onPlayerStateChangeHandler}})},_onYouTubePlayerReady:function(a){this._ytmedia=a.target;this._ytmedia.getIframe().style.width="100%";this._ytmedia.getIframe().style.height="100%";this._youTubeVideo=true;this._mediaDurationChangeHandler();if(this.options.autoPlay){this._playStateToggle(true);this._ytmedia.loadVideoById(this._getMediaId())}else{this._ytmedia.cueVideoById(this._getMediaId())}if(this.options.mute){this.mute(true)}this.trigger(g)},_updateTitle:function(){this.titlebar().text(this.media().title||this.media().source)},_onPlayerStateChange:function(a){if(a.data===0){this._slider.value(0);this._paused=false;this._playStateToggle(true);this.trigger(d);if(this.options.autoRepeat){this.play()}}else if(a.data===1){this._mediaDurationChange();this._ytmedia.setVolume(this.volume());if(this._sliderChangeFired){this._sliderChangeFired=false}else{this._uiDisplay(false)}this.trigger(f);this._playStateToggle(true);this._poll("progress",this._mediaTimeUpdate,500,this);this._paused=false}else if(a.data===2){if(!this._paused){this._uiDisplay(true);this._playStateToggle(false);this.trigger(e);this._paused=true}}},_getMediaId:function(){var a=this._currentUrl();var b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;var c=a.match(b);if(c&&c[7].length===11){a=c[7]}return a},_mouseClick:function(){if(this.isPaused()){this.play()}else{this.pause()}},_initializePlayer:function(){if(!this._mouseMoveHandler){this._mouseMoveHandler=J(this._mouseMove,this);this._mouseInHandler=J(this._mouseIn,this);this._mouseOutHandler=J(this._mouseOut,this);a(this.wrapper).on("mouseenter"+C,this._mouseInHandler).on("mouseleave"+C,this._mouseOutHandler).on("mousemove"+C,this._mouseMoveHandler)}if(!this._ytmedia&&this._youTubeVideo){this._createYoutubePlayer()}else if(!this._media&&!this._youTubeVideo){this._createHtmlPlayer()}},_createHtmlPlayer:function(){if(!this._videoOverlay){this._mouseClickHanlder=J(this._mouseClick,this);this.wrapper.append("<div class='"+y+"'></div>");this._videoOverlay=this.wrapper.find(".k-mediaplayer-overlay").on("click"+C,this._mouseClickHanlder)}this._mediaTimeUpdateHandler=J(this._mediaTimeUpdate,this);this._mediaDurationChangeHandler=J(this._mediaDurationChange,this);this._mediaEndedHandler=J(this._mediaEnded,this);this._mediaCanPlayHandler=J(this._mediaReady,this);this._mediaPlayHandler=J(this._mediaPlay,this);this._videoOverlay.after(L.htmlPlayer);this._media=this.wrapper.find(A+x)[0];a(this._media).css({width:"100%",height:"100%"});if(this.options.mute){this.mute(true)}this._media.ontimeupdate=this._mediaTimeUpdateHandler;this._media.ondurationchange=this._mediaDurationChangeHandler;this._media.oncanplay=this._mediaCanPlayHandler;this._media.onplay=this._mediaPlayHandler;this._media.onended=this._mediaEndedHandler;this._media.loop=this.options.autoRepeat},_mouseIn:function(){this._uiDisplay(true)},_mouseOut:function(){this._poll("mouseIdle",this._mouseIdle,3e3,this)},_mouseIdle:function(){this._uiDisplay(false);return false},_mouseMove:function(){if(!(this._titleBar.is(":animated")||this._toolBar.element.is(":animated")||this._slider.wrapper.is(":animated"))){this._uiDisplay(true)}this._poll("mouseIdle",this._mouseIdle,3e3,this)},_uiDisplay:function(a){var b="slow";var c=this._titleBar.add(this._toolBar.element.parent());if(a){c.fadeIn(b)}else{c.fadeOut(b);if(this.options.navigatable){this.wrapper.focus()}}},setOptions:function(a){F.fn.setOptions.call(this,a)},destroy:function(){F.fn.destroy.call(this);if(!this.isPaused()){this.pause()}this.element.off(C);this.element.find(A+y).off(C);this._timers=null;this._mouseMoveHandler=null;this._mouseOutHandler=null;this._mouseInHandler=null;this._mouseClickHanlder=null;this._keyDownHandler=null;this._fullscreenHandler=null;this._toolbarClickHandler=null;this._sliderDragChangeHandler=null;this._sliderDraggingHandler=null;this._volumeDraggingHandler=null;this._volumeChangeHandler=null;this._youtubeApiReadyHandler=null;this._onYouTubePlayerReady=null;this._onPlayerStateChangeHandler=null;this._dropDownSelectHandler=null;if(this._youTubeVideo){this._ytmedia.destroy()}else{this._media.ontimeupdate=this._mediaTimeUpdateHandler=null;this._media.ondurationchange=this._mediaDurationChangeHandler=null;this._media.oncanplay=this._mediaCanPlayHandler=null;this._media.onplay=this._mediaPlayHandler=null;this._media.onended=this._mediaEndedHandler=null;this._media.src="";this._media.remove()}this._mouseMoveTimer=null;clearTimeout(this._mouseMoveTimer);c.destroy(this.element)},seek:function(a){if(typeof a==="undefined"){return 1e3*this._youTubeVideo?this._ytmedia.getCurrentTime():this._media?this._media.currentTime:0}var b=a/1e3;if(this._youTubeVideo){if(b+3>=this._ytmedia.getDuration()|0){this._ytmedia.seekTo(this._ytmedia.getDuration()-3|0,true)}else{this._ytmedia.seekTo(b,true)}}else{this._media.currentTime=b}return this},play:function(){if(this._youTubeVideo){this._ytmedia.playVideo()}else{if(c.support.mobileOS){this._uiDisplay(false)}this._media.play()}this._paused=false;this._playStateToggle(true);return this},stop:function(){if(this._youTubeVideo&&this._ytmedia){this._ytmedia.stopVideo()}else if(this._media&&!this._youTubeVideo){if(c.support.mobileOS){this._uiDisplay(true)}this._media.pause();this._media.currentTime=0}this._paused=true;this._playStateToggle(false);return this},pause:function(){if(this._youTubeVideo){this._ytmedia.pauseVideo()}else{if(c.support.mobileOS){this._uiDisplay(true)}this._media.pause()}this._paused=true;this._playStateToggle(false);this.trigger(e);return this},toolbar:function(){return this._toolBar},dropdown:function(){return this._dropDown},titlebar:function(){return this._titleBar},fullScreen:function(a){if(typeof a==="undefined"){return this._isInFullScreen||false}var b=this.element.get(0);if(a){this.element.addClass("k-mediaplayer-fullscreen");if(b.requestFullscreen){b.requestFullscreen()}else if(b.webkitRequestFullscreen){b.webkitRequestFullscreen()}else if(b.mozRequestFullScreen){b.mozRequestFullScreen()}else if(b.msRequestFullscreen){b.msRequestFullscreen()}this._isInFullScreen=true}else{if(document.cancelFullscreen){document.cancelFullscreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.msCancelFullscreen){document.msCancelFullscreen()}else if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}this.element.removeClass("k-mediaplayer-fullscreen");this._isInFullScreen=false}this._slider.resize()},volume:function(a){if(typeof a==="undefined"){return typeof this._volume!=="undefined"?this._volume:this._volume=this.options.volume}this._volume=a;this.mute(a<=0);if(this._youTubeVideo){this._ytmedia.setVolume(this._volume)}else{this._media.volume=this._volume/100}this._volumeSlider.value(a)},mute:function(a){var b=this._youTubeVideo?this._ytmedia&&this._ytmedia.isMuted():this._media&&this._media.muted;if(typeof a==="undefined"||a===b){return b}if(this._youTubeVideo){if(a){this._ytmedia.mute()}else{this._ytmedia.unMute()}}else{this._media.muted=a}if(a){this._volumeSlider.value(0)}else{this._volumeSlider.value(this._media&&this._media.volume*100||this._ytmedia&&this._ytmedia.getVolume())}this.trigger(i);this._changeVolumeButtonImage(this._volumeSlider.value())},isEnded:function(){if(this._youTubeVideo){return this._ytmedia.getPlayerState()===0}else{return this._media.ended}},media:function(a){var b=this.dropdown();if(typeof a==="undefined"){return typeof this._mediaData!=="undefined"?this._mediaData:this._mediaData=this.options.media}if(G(a.source)){b.setDataSource(a.source);b.wrapper.show()}else{b.wrapper.hide()}this._mediaData=a;this._updateTitle();this._setPlayerUrl()},isPaused:function(){return this._paused},isPlaying:function(){return!this.isEnded()&&!this._paused},_aria:function(){this.wrapper.attr("role","region")},_navigatable:function(){this._fullscreenHandler=J(this._fullscreen,this);a(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange"+C,this._fullscreenHandler);if(this.options.navigatable){this.wrapper.attr("tabIndex",0);this._keyDownHandler=J(this._keyDown,this);this.wrapper.on("keydown"+C,this._keyDownHandler)}},_fullscreen:function(){var a=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;this._uiDisplay(true);this._slider.resize();if(!a){this.wrapper.find('span[class*="k-i-fullscreen"]').removeClass(k).addClass(j);this.fullScreen(false)}},_keyDown:function(a){a.preventDefault();var b=this.wrapper.find('span[class*="k-i-fullscreen"]');if(a.keyCode===K.SPACEBAR){if(this.isPlaying()){this.pause()}else{this.play()}}else if(a.keyCode===K.ENTER&&!this._isInFullScreen){b.removeClass(j).addClass(k);this.fullScreen(true)}else if(a.keyCode===77){var c=this.mute();this.mute(!c)}else if(a.keyCode===K.ESC&&this._isInFullScreen){b.removeClass(k).addClass(j);this.fullScreen(false)}},_error:function(){},_progress:function(){}});B.plugin(M)})(window.kendo.jQuery);return window.kendo},typeof define==="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.pivotgrid",["kendo.dom","kendo.data"],a)})(function(){var a={id:"pivotgrid",name:"PivotGrid",category:"web",description:"The PivotGrid widget is a data summarization tool.",depends:["dom","data","data.xml","sortable"],features:[{id:"pivotgrid-configurator",name:"Configurator",description:"The PivotConfigurator widget allows the user to select data slices displayed in PivotGrid",depends:["pivot.configurator"]},{id:"pivotgrid-filtering",name:"Filtering",description:"Support for filtering",depends:["pivot.fieldmenu"]},{id:"pivotgrid-excel-export",name:"Excel export",description:"Export pivot grid data as Excel spreadsheet",depends:["ooxml"]},{id:"pivotgrid-pdf-export",name:"PDF export",description:"Export pivot grid data as PDF",depends:["pdf","drawing"]},{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]};(function(a,b){var c=window.kendo,d=c.ui,e=c.Class,f=d.Widget,g=c.data.DataSource,h=c._outerWidth,i=c._outerHeight,j={}.toString,k=function(a){return a},l=a.map,m=a.extend,n=c.isFunction,o="change",p="error",q="Measures",r="progress",s="stateReset",t="auto",u="<div/>",v=".kendoPivotGrid",w="__row_total__",x="dataBinding",y="dataBound",z="expandMember",A="collapseMember",B="k-i-collapse",C="k-i-expand",D="<span>#: data.member.caption || data.member.name #</span>",E='<span class="k-icon k-i-kpi-status-#=data.dataItem.value > 0 ? "open" : data.dataItem.value < 0 ? "deny" : "hold"#" title="#:data.dataItem.value#"></span>',F='<span class="k-icon k-i-kpi-trend-#=data.dataItem.value > 0 ? "increase" : data.dataItem.value < 0 ? "decrease" : "equal"#" title="#:data.dataItem.value#"></span>',G='#= data.dataItem ? kendo.htmlEncode(data.dataItem.fmtValue || data.dataItem.value) || "&nbsp;" : "&nbsp;" #',H='<table class="k-pivot-layout">'+"<tr>"+"<td>"+'<div class="k-pivot-rowheaders"></div>'+"</td>"+"<td>"+'<div class="k-pivot-table k-state-default"></div>'+"</td>"+"</tr>"+"</table>";var I="rows";var J="columns";function K(a){var c=typeof a==="string"?[{name:a}]:a;var d=j.call(c)==="[object Array]"?c:c!==b?[c]:[];return l(d,function(a){if(typeof a==="string"){return{name:a}}return{name:a.name,type:a.type}})}function L(a){var c=typeof a==="string"?[{name:[a],expand:false}]:a;var d=j.call(c)==="[object Array]"?c:c!==b?[c]:[];return l(d,function(a){if(typeof a==="string"){return{name:[a],expand:false}}return{name:j.call(a.name)==="[object Array]"?a.name.slice():[a.name],expand:a.expand}})}function M(a){if(a.indexOf(" ")!==-1){a='["'+a+'"]'}return a}function N(a,b,d,e){var f,g;var h;var i;if(!d){d=b}if(!e){e=0}i=d.members[e];if(!i||i.measure){return}h=i.children;g=h.length;if(d===b){a[c.stringify([i.name])]=!!g}else if(g){a[c.stringify(Ta(d,e))]=true}if(g){for(f=0;f<g;f++){N(a,b,h[f],e)}}N(a,b,d,e+1)}function O(b){var c={};if(b.length){N(c,b[0])}var d=[];for(var e in c){d.push({name:a.parseJSON(e),expand:c[e]})}return d}function P(a,b){var c=b.tuples||[];var d=c[0];if(d&&a.length<d.members.length){var e=d.members;for(var f=0;f<e.length;f++){if(e[f].measure){continue}var g=false;for(var h=0;h<a.length;h++){if(wa(a[h]).indexOf(e[f].hierarchy)===0){g=true;break}}if(!g){a.push({name:[e[f].name],expand:false})}}}}function Q(a){var b=[];var c=a.members;for(var d=0;d<c.length;d++){if(c[d].measure){continue}b.push({name:[c[d].name],expand:c[d].children.length>0})}return b}function R(a,b,c){a=a||{};P(b,a);if(c.length>1){b.push({name:q,measure:true,children:L(c)})}var d={members:b};if(a.tuples){var e=ha(a.tuples,d);if(e.tuple){b=Q(e.tuple)}}return b}function S(a){var b=c.getter(a.field,true);return function(c,d){return a.aggregate(b(c.dataItem),d,c)}}function T(a){return typeof a==="number"&&!isNaN(a)}function U(a){return a&&a.getTime}var V={sum:function(a,b){var c=b.accumulator;if(!T(c)){c=a}else if(T(a)){c+=a}return c},count:function(a,b){return(b.accumulator||0)+1},average:{aggregate:function(a,c){var d=c.accumulator;if(c.count===b){c.count=0}if(!T(d)){d=a}else if(T(a)){d+=a}if(T(a)){c.count++}return d},result:function(a){var b=a.accumulator;if(T(b)){b=b/a.count}return b}},max:function(a,b){var c=b.accumulator;if(!T(c)&&!U(c)){c=a}if(c<a&&(T(a)||U(a))){c=a}return c},min:function(a,b){var c=b.accumulator;if(!T(c)&&!U(c)){c=a}if(c>a&&(T(a)||U(a))){c=a}return c}};var W=e.extend({init:function(a){this.options=m({},this.options,a);this.dimensions=this._normalizeDescriptors("field",this.options.dimensions);this.measures=this._normalizeDescriptors("name",this.options.measures)},_normalizeDescriptors:function(a,b){b=b||{};var c={};var d;if(j.call(b)==="[object Array]"){for(var e=0,f=b.length;e<f;e++){d=b[e];if(typeof d==="string"){c[d]={}}else if(d[a]){c[d[a]]=d}}b=c}return b},_rootTuples:function(a,c){var d=c.length||1;var e=this.dimensions||[];var f,g,h;var i=0;var j;var k=a.length;var l=[];var m=[];if(k||c.length){for(i=0;i<d;i++){f={members:[]};for(j=0;j<k;j++){g=a[j];h=g.split("&");f.members[f.members.length]={children:[],caption:(e[g]||{}).caption||"All",name:g,levelName:g,levelNum:"0",hasChildren:true,parentName:h.length>1?h[0]:b,hierarchy:g}}if(d>1){f.members[f.members.length]={children:[],caption:c[i].caption,name:c[i].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:false,parentName:b,hierarchy:"MEASURES"}}l[l.length]=f}m.push(w)}return{keys:m,tuples:l}},_expandedTuples:function(a,c,d){var e=d.length||1;var f=this.dimensions||[];var g;var h;var i;var j;var k;var l;var m=[];var n=[];var o;var p;var q;var r;var s;for(i in a){j=a[i];o=this._findExpandedMember(c,j.uniquePath);k=m[o.index]||[];l=n[o.index]||[];p=o.member.names;for(g=0;g<e;g++){h={members:[]};for(s=0;s<p.length;s++){if(s===o.member.expandedIdx){h.members[h.members.length]={children:[],caption:j.value,name:j.name,hasChildren:false,levelNum:1,levelName:j.parentName+j.name,parentName:j.parentName,hierarchy:j.parentName+j.name};if(g===0){l.push(Ta(h,s).join(""))}}else{r=p[s];q=r.split("&");h.members[h.members.length]={children:[],caption:(f[r]||{}).caption||"All",name:r,levelName:r,levelNum:"0",hasChildren:true,parentName:q.length>1?q[0]:b,hierarchy:r}}}if(e>1){h.members[h.members.length]={children:[],caption:d[g].caption,name:d[g].descriptor.name,levelName:"MEASURES",levelNum:"0",hasChildren:true,parentName:b,hierarchy:"MEASURES"}}k[k.length]=h}m[o.index]=k;n[o.index]=l}return{keys:n,tuples:m}},_findExpandedMember:function(a,b){for(var c=0;c<a.length;c++){if(a[c].uniquePath===b){return{member:a[c],index:c}}}},_asTuples:function(a,b,c){c=c||[];var d=this._rootTuples(b.root,c);var e=this._expandedTuples(a,b.expanded,c);return{keys:[].concat.apply(d.keys,e.keys),tuples:[].concat.apply(d.tuples,e.tuples)}},_measuresInfo:function(a,b){var c=0;var d=a&&a.length;var e=[];var f={};var g={};var h=this.measures||{};var i;var j;for(;c<d;c++){j=a[c].descriptor.name;i=h[j]||{};e.push(j);if(i.result){f[j]=i.result}if(i.format){g[j]=i.format}}return{names:e,formats:g,resultFuncs:f,rowAxis:b}},_toDataArray:function(a,b,c,d){var e=[];var f;var g,h,i,j,k;var l,m,n;var o=1;var p=[];var q;var r=c.length||1;var s=d.length||1;if(b.rowAxis){p=b.names;o=p.length}else{q=b.names}for(h=0;h<r;h++){l=a[c[h]||w];for(k=0;k<o;k++){if(b.rowAxis){q=[p[k]]}for(i=0;i<s;i++){n=d[i]||w;m=l.items[n];if(n===w){f=l.aggregates}else{f=m?m.aggregates:{}}for(j=0;j<q.length;j++){g=q[j];this._addData(e,f[g],b.formats[g],b.resultFuncs[g])}}}}return e},_addData:function(a,b,d,e){var f="";var g;if(b){b=e?e(b):b.accumulator;f=d?c.format(d,b):b}g=a.length;a[g]={ordinal:g,value:b||"",fmtValue:f}},_matchDescriptors:function(a,c,d){var e;var f;var g;var h=c.names;var i=c.expandedIdx;var j;while(i>0){e=h[--i].split("&");if(e.length>1){f=e[0];g=e[1];j=d[f](a);j=j!==b&&j!==null?j.toString():j;if(j!=g){return false}}}return true},_calculateAggregate:function(a,b,c){var d={};var e;var f;for(var g=0;g<a.length;g++){f=a[g].descriptor.name;e=c.aggregates[f]||{};e.accumulator=a[g].aggregator(b,e);d[f]=e}return d},_processColumns:function(a,c,d,e,f,g,h,i){var j;var k;var l;var m;var n,o,p,q;var r=f.dataItem;var s=0;for(;s<c.length;s++){k=c[s];if(!this._matchDescriptors(r,k,d)){continue}q=k.names.slice(0,k.expandedIdx).join("");o=k.names[k.expandedIdx];j=d[o](r);j=j!==b&&j!==null?j.toString():j;p=o;o=o+"&"+j;n=q+o;l=e[n]||{index:h.columnIndex,parentName:p,name:o,uniquePath:q+p,value:j};m=g.items[n]||{aggregates:{}};g.items[n]={index:l.index,aggregates:this._calculateAggregate(a,f,m)};if(i){if(!e[n]){h.columnIndex++}e[n]=l}}},_measureAggregators:function(a){var b=a.measures||[];var c=this.measures||{};var d=[];var e,f,g,h;var i,j;if(b.length){for(g=0,h=b.length;g<h;g++){e=b[g];f=c[e.name];i=null;if(f){j=f.aggregate;if(typeof j==="string"){i=V[j.toLowerCase()];if(!i){throw new Error("There is no such aggregate function")}f.aggregate=i.aggregate||i;f.result=i.result}d.push({descriptor:e,caption:f.caption,result:f.result,aggregator:S(f)})}}}else{d.push({descriptor:{name:"default"},caption:"default",aggregator:function(){return 1}})}return d},_buildGetters:function(a){var b={};var d;var e;for(var f=0;f<a.length;f++){e=a[f];d=e.split("&");if(d.length>1){b[d[0]]=c.getter(d[0],true)}else{b[e]=c.getter(M(e),true)}}return b},_parseDescriptors:function(a){var b=za(a);var c=xa(b.root);var d=b.expanded;var e=[];for(var f=0;f<d.length;f++){e.push(ya(d[f].name,c))}return{root:c,expanded:e}},_filter:function(a,b){if(!b){return a}var d;var e=0;var f=b.filters;for(;e<f.length;e++){d=f[e];if(d.operator==="in"){f[e]=this._normalizeFilter(d)}}return new c.data.Query(a).filter(b).data},_normalizeFilter:function(a){var b=a.value.split(",");var c=[];if(!b.length){return b}for(var d=0;d<b.length;d++){c.push({field:a.field,operator:"eq",value:b[d]})}return{logic:"or",filters:c}},process:function(a,c){a=a||[];c=c||{};a=this._filter(a,c.filter);var d=c.measures||[];var e=c.measuresAxis==="rows";var f=c.columns||[];var g=c.rows||[];if(!f.length&&g.length&&(!d.length||d.length&&e)){f=g;g=[];e=false}if(!f.length&&!g.length){e=false}if(!f.length&&d.length){f=L(c.measures)}f=this._parseDescriptors(f);g=this._parseDescriptors(g);var h={};var i={};var j={};var k;var l={columnIndex:0};var m=this._measureAggregators(c);var n=this._buildGetters(f.root);var o=this._buildGetters(g.root);var p=false;var q=f.expanded;var r=g.expanded;var s;var t;var u=r.length!==0;var v,x,y,z;var A,B,C,D;var E,F;var G=a.length;var H=0;if(f.root.length||g.root.length){p=true;for(H=0;H<G;H++){s=a[H];t={dataItem:s,index:H};z=h[w]||{items:{},aggregates:{}};this._processColumns(m,q,n,i,t,z,l,!u);z.aggregates=this._calculateAggregate(m,t,z);h[w]=z;for(v=0;v<r.length;v++){x=r[v];if(!this._matchDescriptors(s,x,o)){this._processColumns(m,q,n,i,t,{items:{},aggregates:{}},l,true);continue}B=x.names.slice(0,x.expandedIdx).join("");y=x.names[x.expandedIdx];C=y;k=o[y](s);k=k!==b?k.toString():k;y=y+"&"+k;A=B+y;j[A]={uniquePath:B+C,parentName:C,name:y,value:k};D=h[A]||{items:{},aggregates:{}};this._processColumns(m,q,n,i,t,D,l,true);D.aggregates=this._calculateAggregate(m,t,D);h[A]=D}}}if(p&&G){if(m.length>1&&(!c.columns||!c.columns.length)){f={root:[],expanded:[]}}E=this._asTuples(i,f,e?[]:m);F=this._asTuples(j,g,e?m:[]);i=E.tuples;j=F.tuples;h=this._toDataArray(h,this._measuresInfo(m,e),F.keys,E.keys)}else{h=i=j=[]}return{axes:{columns:{tuples:i},rows:{tuples:j}},data:h}}});var X=e.extend({init:function(a,b){this.transport=b;this.options=b.options||{};if(!this.transport.discover){if(n(a.discover)){this.discover=a.discover}}},read:function(a){return this.transport.read(a)},update:function(a){return this.transport.update(a)},create:function(a){return this.transport.create(a)},destroy:function(a){return this.transport.destroy(a)},discover:function(a){if(this.transport.discover){return this.transport.discover(a)}a.success({})},catalog:function(c){var d=this.options||{};if(c===b){return(d.connection||{}).catalog}var e=d.connection||{};e.catalog=c;this.options.connection=e;a.extend(this.transport.options,{connection:e})},cube:function(a){var c=this.options||{};if(a===b){return(c.connection||{}).cube}var d=c.connection||{};d.cube=a;this.options.connection=d;m(true,this.transport.options,{connection:d})}});var Y=g.extend({init:function(b){var c=((b||{}).schema||{}).cube;var d="columns";var e;var f={axes:k,cubes:k,catalogs:k,measures:k,dimensions:k,hierarchies:k,levels:k,members:k};if(c){f=a.extend(f,this._cubeSchema(c));this.cubeBuilder=new W(c)}g.fn.init.call(this,m(true,{},{schema:f},b));this.transport=new X(this.options.transport||{},this.transport);this._columns=L(this.options.columns);this._rows=L(this.options.rows);e=this.options.measures||[];if(j.call(e)==="[object Object]"){d=e.axis||"columns";e=e.values||[]}this._measures=K(e);this._measuresAxis=d;this._skipNormalize=0;this._axes={}},_cubeSchema:function(b){return{dimensions:function(){var a=[];var c=b.dimensions;for(var d in c){a.push({name:d,caption:c[d].caption||d,uniqueName:d,defaultHierarchy:d,type:1})}if(b.measures){a.push({name:q,caption:q,uniqueName:q,type:2})}return a},hierarchies:function(){return[]},measures:function(){var a=[];var c=b.measures;for(var d in c){a.push({name:d,caption:d,uniqueName:d,aggregator:d})}return a},members:a.proxy(function(a,d){var e=d.levelUniqueName||d.memberUniqueName;var f=this.options.schema.data;var g=n(f)?f:c.getter(f,true);var h=this.options.data&&g(this.options.data)||this._rawData||[];var i=[];var j;var k;var l=0;var m={};if(e){e=e.split(".")[0]}if(!d.treeOp){i.push({caption:b.dimensions[e].caption||e,childrenCardinality:"1",dimensionUniqueName:e,hierarchyUniqueName:e,levelUniqueName:e,name:e,uniqueName:e});return i}j=c.getter(M(e),true);for(;l<h.length;l++){k=j(h[l]);if((k||k===0)&&!m[k]){m[k]=true;i.push({caption:k,childrenCardinality:"0",dimensionUniqueName:e,hierarchyUniqueName:e,levelUniqueName:e,name:k,uniqueName:k})}}return i},this)}},options:{serverSorting:true,serverPaging:true,serverFiltering:true,serverGrouping:true,serverAggregates:true},catalog:function(a){if(a===b){return this.transport.catalog()}this.transport.catalog(a);this._mergeState({});this._axes={};this.data([])},cube:function(a){if(a===b){return this.transport.cube()}this.transport.cube(a);this._axes={};this._mergeState({});this.data([])},axes:function(){return this._axes},columns:function(a){if(a===b){return this._columns}this._skipNormalize+=1;this._clearAxesData=true;this._columns=L(a);this.query({columns:a,rows:this.rowsAxisDescriptors(),measures:this.measures(),sort:this.sort(),filter:this.filter()})},rows:function(a){if(a===b){return this._rows}this._skipNormalize+=1;this._clearAxesData=true;this._rows=L(a);this.query({columns:this.columnsAxisDescriptors(),rows:a,measures:this.measures(),sort:this.sort(),filter:this.filter()})},measures:function(a){if(a===b){return this._measures}this._skipNormalize+=1;this._clearAxesData=true;this.query({columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),measures:K(a),sort:this.sort(),filter:this.filter()})},measuresAxis:function(){return this._measuresAxis||"columns"},_expandPath:function(a,b){var c=b==="columns"?"columns":"rows";var d=b==="columns"?"rows":"columns";var e=L(a);var f=wa(e[e.length-1]);this._lastExpanded=c;e=R(this.axes()[c],e,this.measures());for(var g=0;g<e.length;g++){var h=wa(e[g]);if(h===f){if(e[g].expand){return}e[g].expand=true}else{e[g].expand=false}}var i={};i[c]=e;i[d]=this._descriptorsForAxis(d);this._query(i)},_descriptorsForAxis:function(a){var b=this.axes();var c=this[a]()||[];if(b&&b[a]&&b[a].tuples&&b[a].tuples[0]){c=O(b[a].tuples||[])}return c},columnsAxisDescriptors:function(){return this._descriptorsForAxis("columns")},rowsAxisDescriptors:function(){return this._descriptorsForAxis("rows")},_process:function(a,b){this._view=a;b=b||{};b.items=b.items||this._view;this.trigger(o,b)},_query:function(a){var b=this;if(!a){this._skipNormalize+=1;this._clearAxesData=true}return b.query(m({},{page:b.page(),pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate(),columns:this.columnsAxisDescriptors(),rows:this.rowsAxisDescriptors(),
measures:this.measures()},a))},query:function(b){var c=this._mergeState(b);if(this._data.length&&this.cubeBuilder){this._params(c);this._updateLocalData(this._pristineData);return a.Deferred().resolve().promise()}return this.read(c)},_mergeState:function(a){a=g.fn._mergeState.call(this,a);if(a!==b){this._measures=K(a.measures);if(a.columns){a.columns=L(a.columns)}else if(!a.columns){this._columns=[]}if(a.rows){a.rows=L(a.rows)}else if(!a.rows){this._rows=[]}}return a},filter:function(a){if(a===b){return this._filter}this._skipNormalize+=1;this._clearAxesData=true;this._query({filter:a,page:1})},expandColumn:function(a){this._expandPath(a,"columns")},expandRow:function(a){this._expandPath(a,"rows")},success:function(a){var b;if(this.cubeBuilder){b=(this.reader.data(a)||[]).slice(0)}g.fn.success.call(this,a);if(b){this._pristineData=b}},_processResult:function(a,b){if(this.cubeBuilder){var c=this.cubeBuilder.process(a,this._requestData);a=c.data;b=c.axes}var d,e;var f,g,h,i;var j=this.columns();var k=this.rows();var l=b.columns&&b.columns.tuples;if(!j.length&&k.length&&l&&(this._rowMeasures().length||!this.measures().length)){b={columns:{},rows:b.columns}}if(!j.length&&!k.length&&this.measuresAxis()==="rows"&&l){b={columns:{},rows:b.columns}}this._axes={columns:da(this._axes.columns),rows:da(this._axes.rows)};b={columns:da(b.columns),rows:da(b.rows)};d=this._normalizeTuples(b.columns.tuples,this._axes.columns.tuples,j,this._columnMeasures());e=this._normalizeTuples(b.rows.tuples,this._axes.rows.tuples,k,this._rowMeasures());if(this._skipNormalize>0){this._skipNormalize-=1}if(!this.cubeBuilder){a=this._normalizeData({columnsLength:b.columns.tuples.length,rowsLength:b.rows.tuples.length,columnIndexes:d,rowIndexes:e,data:a})}if(this._lastExpanded=="rows"){f=b.columns.tuples;h=this._columnMeasures();g=$(b.columns,this._axes.columns,h);if(g){i="columns";b.columns=g;_(f,g.tuples,b.rows.tuples.length,h,a);if(!this.cubeBuilder){a=this._normalizeData({columnsLength:ca(b.columns.tuples,h),rowsLength:b.rows.tuples.length,data:a})}}}else if(this._lastExpanded=="columns"){f=b.rows.tuples;h=this._rowMeasures();g=$(b.rows,this._axes.rows,h);if(g){i="rows";b.rows=g;aa(f,g.tuples,b.columns.tuples.length,h,a);if(!this.cubeBuilder){a=this._normalizeData({columnsLength:ca(b.rows.tuples,h),rowsLength:b.columns.tuples.length,data:a})}}}this._lastExpanded=null;var m=this._mergeAxes(b,a,i);this._axes=m.axes;return m.data},_readData:function(a){var b=this.reader.axes(a);var c=this.reader.data(a);if(this.cubeBuilder){this._rawData=c}return this._processResult(c,b)},_createTuple:function(a,b,c){var d=a.members;var e=d.length;var f={members:[]};var g,h;var i,j;var k;var l;var m;var n;var o=0;if(b){e-=1}for(;o<e;o++){n=d[o];h=Number(n.levelNum);i=n.name;j=n.parentName;m=n.caption||i;k=n.hasChildren;l=n.hierarchy;g=n.levelName;if(c){m="All";if(h===0){j=n.name}else{h-=1}k=true;i=l=g=j}f.members.push({name:i,children:[],caption:m,levelName:g,levelNum:h.toString(),hasChildren:k,hierarchy:l,parentName:!c?j:""})}if(b){f.members.push({name:b.name,children:[]})}return f},_hasRoot:function(a,b,c){if(b.length){return ha(b,a).tuple}var d=a.members;var e;var f;var g=true;var h;for(var i=0,j=d.length;i<j;i++){e=d[i];h=Number(e.levelNum)||0;f=c[i];if(!(h===0||f&&e.name===wa(f))){g=false;break}}return g},_mergeAxes:function(a,b,c){var d=this._columnMeasures();var e=this._rowMeasures();var f=this.axes();var g,h;var i=ca(f.rows.tuples,e);var j=a.rows.tuples.length;var k=ca(f.columns.tuples,d);var l=a.columns.tuples.length;if(c=="columns"){l=k;h=a.columns.tuples}else{h=ma(a.columns.tuples,d);b=oa(h,b)}var m=fa(f.columns.tuples,h,d);if(c=="rows"){j=ca(a.rows.tuples,e);h=a.rows.tuples}else{h=ma(a.rows.tuples,e);b=na(h,b)}var n=fa(f.rows.tuples,h,e);f.columns.tuples=m.tuples;f.rows.tuples=n.tuples;if(k!==ca(f.columns.tuples,d)){g=m.index+ea(m.parsedRoot,m.memberIndex,d);var o=k+l;b=this._mergeColumnData(b,g,j,l,o)}else if(i!==ca(f.rows.tuples,e)){g=n.index+ea(n.parsedRoot,n.memberIndex,e);b=this._mergeRowData(b,g,j,l)}if(f.columns.tuples.length===0&&f.rows.tuples.length===0){b=[]}return{axes:f,data:b}},_mergeColumnData:function(a,b,c,d,e){var f=this.data().toJSON();var g,h,i=0,j;var k=Math.max(this._columnMeasures().length,1);c=Math.max(c,1);if(f.length>0){i=k;e-=k}for(g=0;g<c;g++){h=b+g*e;j=a.splice(0,d);j.splice(0,i);[].splice.apply(f,[h,0].concat(j))}return f},_mergeRowData:function(a,b,c,d){var e=this.data().toJSON();var f,g,h;var i=Math.max(this._rowMeasures().length,1);d=Math.max(d,1);if(e.length>0){c-=i;a.splice(0,d*i)}for(f=0;f<c;f++){h=a.splice(0,d);g=b*d+f*d;[].splice.apply(e,[g,0].concat(h))}return e},_columnMeasures:function(){var a=this.measures();var b=[];if(this.measuresAxis()==="columns"){if(this.columns().length===0){b=a}else if(a.length>1){b=a}}return b},_rowMeasures:function(){var a=this.measures();var b=[];if(this.measuresAxis()==="rows"){if(this.rows().length===0){b=a}else if(a.length>1){b=a}}return b},_updateLocalData:function(a,b){if(this.cubeBuilder){if(b){this._requestData=b}a=this._processResult(a)}this._data=this._observe(a);this._ranges=[];this._addRange(this._data);this._total=this._data.length;this._pristineTotal=this._total;this._process(this._data)},data:function(a){var c=this;if(a!==b){this._pristineData=a.slice(0);this._updateLocalData(a,{columns:this.columns(),rows:this.rows(),measures:this.measures()})}else{return c._data}},_normalizeTuples:function(a,b,c,d){var e=d.length||1;var f=0;var g=[];var h={};var i=0;var j,k,l;if(!a.length){return}if(this._skipNormalize<=0&&!this._hasRoot(a[0],b,c)){this._skipNormalize=0;for(;f<e;f++){g.push(this._createTuple(a[0],d[f],true));h[f]=f}a.splice.apply(a,[0,a.length].concat(g).concat(a));f=e}if(d.length){l=j=a[f];k=j.members.length-1;while(j){if(i>=e){i=0}if(j.members[k].name!==d[i].name){a.splice(f,0,this._createTuple(j,d[i]));h[f]=f}f+=1;i+=1;j=a[f];if(e>i&&(!j||Ua(l,k-1)!==Ua(j,k-1))){for(;i<e;i++){a.splice(f,0,this._createTuple(l,d[i]));h[f]=f;f+=1}j=a[f]}l=j}}return h},_addMissingDataItems:function(a,c){while(c.rowIndexes[parseInt(a.length/c.columnsLength,10)]!==b){for(var d=0;d<c.columnsLength;d++){a=Z(a)}}while(c.columnIndexes[a.length%c.columnsLength]!==b){a=Z(a)}return a},_normalizeOrdinals:function(a,b,c){var d=c.lastOrdinal;if(!b){return Z(a)}if(b.ordinal-d>1){d+=1;while(d<b.ordinal&&a.length<c.length){a=this._addMissingDataItems(Z(a),c);d+=1}}b.ordinal=a.length;a[a.length]=b;return a},_normalizeData:function(a){var b=a.data;var c=0;var d;var e=[];var f;var g;a.lastOrdinal=0;a.columnIndexes=a.columnIndexes||{};a.rowIndexes=a.rowIndexes||{};a.columnsLength=a.columnsLength||1;a.rowsLength=a.rowsLength||1;a.length=a.columnsLength*a.rowsLength;g=a.length;if(b.length===g){return b}while(e.length<g){d=b[c++];if(d){f=d.ordinal}e=this._normalizeOrdinals(this._addMissingDataItems(e,a),d,a);a.lastOrdinal=f}return e},discover:function(b,c){var d=this,e=d.transport;return a.Deferred(function(a){e.discover(m({success:function(b){b=d.reader.parse(b);if(d._handleCustomErrors(b)){return}if(c){b=c(b)}a.resolve(b)},error:function(b,c,e){a.reject(b);d.error(b,c,e)}},b))}).promise().done(function(){d.trigger("schemaChange")})},schemaMeasures:function(){var a=this;return a.discover({data:{command:"schemaMeasures",restrictions:{catalogName:a.transport.catalog(),cubeName:a.transport.cube()}}},function(b){return a.reader.measures(b)})},schemaKPIs:function(){var a=this;return a.discover({data:{command:"schemaKPIs",restrictions:{catalogName:a.transport.catalog(),cubeName:a.transport.cube()}}},function(b){return a.reader.kpis(b)})},schemaDimensions:function(){var a=this;return a.discover({data:{command:"schemaDimensions",restrictions:{catalogName:a.transport.catalog(),cubeName:a.transport.cube()}}},function(b){return a.reader.dimensions(b)})},schemaHierarchies:function(a){var b=this;return b.discover({data:{command:"schemaHierarchies",restrictions:{catalogName:b.transport.catalog(),cubeName:b.transport.cube(),dimensionUniqueName:a}}},function(a){return b.reader.hierarchies(a)})},schemaLevels:function(a){var b=this;return b.discover({data:{command:"schemaLevels",restrictions:{catalogName:b.transport.catalog(),cubeName:b.transport.cube(),hierarchyUniqueName:a}}},function(a){return b.reader.levels(a)})},schemaCubes:function(){var a=this;return a.discover({data:{command:"schemaCubes",restrictions:{catalogName:a.transport.catalog()}}},function(b){return a.reader.cubes(b)})},schemaCatalogs:function(){var a=this;return a.discover({data:{command:"schemaCatalogs"}},function(b){return a.reader.catalogs(b)})},schemaMembers:function(a){var b=this;var c=function(a){return function(c){return b.reader.members(c,a)}}(a);return b.discover({data:{command:"schemaMembers",restrictions:m({catalogName:b.transport.catalog(),cubeName:b.transport.cube()},a)}},c)},_params:function(a){if(this._clearAxesData){this._axes={};this._data=this._observe([]);this._clearAxesData=false;this.trigger(s)}var b=g.fn._params.call(this,a);b=m({measures:this.measures(),measuresAxis:this.measuresAxis(),columns:this.columns(),rows:this.rows()},b);if(this.cubeBuilder){this._requestData=b}return b}});function Z(a){a[a.length]={value:"",fmtValue:"",ordinal:a.length};return a}function $(a,b,c){if(a.tuples.length<ca(b.tuples,c)){return b}return}function _(a,b,c,d,e){var f,g,h;var i=a.length;var j=ca(b,d);var k=d.length||1;for(g=0;g<c;g++){for(f=0;f<i;f++){h=ba(a[f],b)*k;h+=f%k;e[g*i+f].ordinal=g*j+h}}}function aa(a,b,c,d,e){var f,g,h;var i=a.length;var j=d.length||1;for(g=0;g<i;g++){h=ba(a[g],b);h*=j;h+=g%j;for(f=0;f<c;f++){e[g*c+f].ordinal=h*c+f}}}function ba(a,b){return ha(b,a).index}function ca(a,b){if(!a.length){return 0}var c=a.slice();var d=c.shift();var e=1;while(d){if(d.members){[].push.apply(c,d.members)}else if(d.children){if(!d.measure){e+=d.children.length}[].push.apply(c,d.children)}d=c.shift()}if(b.length){e=e*b.length}return e}function da(a){if(!a){a={tuples:[]}}if(!a.tuples){a.tuples=[]}return a}function ea(a,b,c){if(!a){return 0}var d=Math.max(c.length,1);var e=a.members.slice(0,b);var f=e.shift();var g=d;while(f){if(f.name===q){g+=d-1}else if(f.children){[].push.apply(e,f.children)}else{g++;[].push.apply(e,f.members)}f=e.shift()}return g}function fa(a,b,c){if(!b[0]){return{parsedRoot:null,tuples:a,memberIndex:0,index:0}}var d=ha(a,b[0]);if(!d.tuple){return{parsedRoot:null,tuples:b,memberIndex:0,index:0}}var e=d.tuple.members;var f=b[0].members;var g=-1;if(e.length!==f.length){return{parsedRoot:null,tuples:b,memberIndex:0,index:0}}for(var h=0,i=e.length;h<i;h++){if(!e[h].measure&&f[h].children[0]){if(g==-1&&f[h].children.length){g=h}e[h].children=f[h].children}}c=Math.max(c.length,1);return{parsedRoot:d.tuple,index:d.index*c,memberIndex:g,tuples:a}}function ga(a,b){var c=true;var d,e;a=a.members;b=b.members;for(d=0,e=a.length;d<e;d++){if(a[d].measure||b[d].measure){continue}c=c&&wa(a[d])===wa(b[d])}return c}function ha(a,b){var c,d,e,f,g=0;var h,i,j;for(c=0,d=a.length;c<d;c++){e=a[c];if(ga(e,b)){return{tuple:e,index:g}}g++;for(h=0,i=e.members.length;h<i;h++){j=e.members[h];if(j.measure){continue}f=ha(j.children,b);g+=f.index;if(f.tuple){return{tuple:f.tuple,index:g}}}}return{index:g}}function ia(a,b){var c,d,e,f="";for(d=0,e=a.length;d<e;d++){c=a[d];f+=c.name;if(!b[f]){b[f]=c}}}function ja(a,b){var c=a.members;var d,e,f,g="";var h="";var i;for(d=0,e=c.length;d<e;d++){f=c[d];if(i){if(b[g+f.name]){g+=f.name;i=b[g];continue}else if(b[g+f.parentName]){return b[g+f.parentName]}else if(b[h+f.parentName]){return b[h+f.parentName]}else{return b[h]}}g+=f.name;i=b[f.parentName];if(!i){i=b[g];if(!i){return null}}if(i){h+=i.name}}return i}function ka(a,b){if(b.length===0){return-1}var c=b[0];var d=a.members;for(var e=0,f=d.length;e<f;e++){if(d[e].name==c.name){return e}}}function la(c,d){if(d<0){return}var e={name:q,measure:true,children:[a.extend({members:[],dataIndex:c.dataIndex},c.members[d])]};c.members.splice(d,1,e);c.dataIndex=b}function ma(a,b){if(a.length<1){return[]}var c=[];var d={};var e=ka(a[0],b);for(var f=0;f<a.length;f++){var g=a[f];g.dataIndex=f;la(g,e);var h=ja(g,d);if(h){if(e<0||!h.measure){h.children.push(g)}else{h.children.push(g.members[e].children[0])}}else{c.push(g)}ia(g.members,d)}return c}function na(a,b){if(!a||!a.length){return b}var c=[];var d=pa(a);var e=d.length;var f=Math.max(b.length/e,1);var g,h,i,j;var k;for(g=0;g<e;g++){i=f*g;j=f*d[g];for(h=0;h<f;h++){k=parseInt(j+h,10);c[parseInt(i+h,10)]=b[k]||{value:"",fmtValue:"",ordinal:k}}}return c}function oa(a,b){if(!a||!a.length){return b}var c=[];var d=pa(a);var e=d.length;var f=Math.max(b.length/e,1);var g,h,i,j;for(h=0;h<f;h++){i=e*h;for(g=0;g<e;g++){j=d[g]+i;c[i+g]=b[j]||{value:"",fmtValue:"",ordinal:j}}}return c}function pa(a){a=a.slice();var c=[];var d=a.shift();var e,f,g,h,i;while(d){if(d.dataIndex!==b){c.push(d.dataIndex)}g=0;for(e=0,f=d.members.length;e<f;e++){i=d.members[e];h=i.children;if(i.measure){[].splice.apply(a,[0,0].concat(h))}else{[].splice.apply(a,[g,0].concat(h))}g+=h.length}d=a.shift()}return c}Y.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},d=b.data;b.data=d;if(!(b instanceof Y)&&b instanceof c.data.DataSource){throw new Error("Incorrect DataSource type. Only PivotDataSource instances are supported")}return b instanceof Y?b:new Y(b)};function qa(a){var b=a.split(".");if(b.length>2){return b[0]+"."+b[1]}return a}function ra(a,b){var c=a.length-1;var d=a[c];var e;e=sa(b,d);if(e&&e.dir){d="ORDER("+d+".Children,"+e.field+".CurrentMember.MEMBER_CAPTION,"+e.dir+")"}else{d+=".Children"}a[c]=d;return a}function sa(a,b){for(var c=0,d=a.length;c<d;c++){if(b.indexOf(a[c].field)===0){return a[c]}}return null}function ta(a){var b="CROSSJOIN({";var c;if(a.length>2){c=a.pop();b+=ta(a)}else{b+=a.shift();c=a.pop()}b+="},{";b+=c;b+="})";return b}function ua(a,b){var c=a.slice(0);if(b.length>1){c.push("{"+va(b).join(",")+"}")}return ta(c)}function va(a){var c=0;var d=a.length;var e=[];var f;for(;c<d;c++){f=a[c];e.push(f.name!==b?f.name:f)}return e}function wa(a){a=a.name||a;if(j.call(a)==="[object Array]"){a=a[a.length-1]}return a}function xa(a){var b=a.length;var c=[];var d=0;for(;d<b;d++){c.push(a[d].name[0])}return c}function ya(a,b){var c;var d;var e;var f=0;var g=a.length;var h=b.length;b=b.slice(0);for(;f<g;f++){c=a[f];for(e=0;e<h;e++){d=qa(b[e]);if(c.indexOf(d)!==-1){b[e]=c;break}}}return{names:b,expandedIdx:e,uniquePath:b.slice(0,e+1).join("")}}function za(a){var b=[];var c=[];var d=[];var e;var f,g;var h=0;var i=a.length;var k;var l;var m;for(;h<i;h++){e=a[h];k=e.name;m=false;if(j.call(k)!=="[object Array]"){e.name=k=[k]}if(k.length>1){c.push(e)}else{l=qa(k[0]);for(f=0,g=d.length;f<g;f++){if(d[f].name[0].indexOf(l)===0){m=true;break}}if(!m){d.push(e)}if(e.expand){b.push(e)}}}b=b.concat(c);return{root:d,expanded:b}}function Aa(a,b,c){var d="";a=a||[];var e=za(a);var f=e.root;var g=xa(f);var h=[];e=e.expanded;var i=e.length;var j=0;var k;var l=[];if(g.length>1||b.length>1){h.push(ua(g,b));for(;j<i;j++){k=ra(e[j].name,c);l=ya(k,g).names;h.push(ua(l,b))}d+=h.join(",")}else{for(;j<i;j++){k=ra(e[j].name,c);l.push(k[0])}d+=g.concat(l).join(",")}return d}var Ba={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}")',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"'};function Ca(a){var b="";var d=a.value;var e=a.field;var f=a.operator;if(f=="in"){b+="{";b+=d;b+="}"}else{b+=f=="neq"||f=="doesnotcontain"?"-":"";b+="Filter(";b+=e+".MEMBERS";b+=c.format(Ba[f],e,d);b+=")"}return b}function Da(a,b){var c="",d;var e=a.filters;var f=e.length;var g;for(g=f-1;g>=0;g--){d="SELECT (";d+=Ca(e[g]);d+=") ON 0";if(g==f-1){d+=" FROM ["+b+"]";c=d}else{c=d+" FROM ( "+c+" )"}}return c}function Ea(a,b,c){var d="";if(b){d+="<"+a+">";var e;for(var f in b){e=b[f];if(c){f=f.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")}d+="<"+f+">"+e+"</"+f+">"}d+="</"+a+">"}else{d+="<"+a+"/>"}return d}var Fa={schemaCubes:"MDSCHEMA_CUBES",schemaCatalogs:"DBSCHEMA_CATALOGS",schemaMeasures:"MDSCHEMA_MEASURES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaLevels:"MDSCHEMA_LEVELS",schemaMembers:"MDSCHEMA_MEMBERS",schemaKPIs:"MDSCHEMA_KPIS"};var Ga={read:function(a){var b='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>';b+="SELECT NON EMPTY {";var c=a.columns||[];var d=a.rows||[];var e=a.measures||[];var f=a.measuresAxis==="rows";var g=a.sort||[];if(!c.length&&d.length&&(!e.length||e.length&&f)){c=d;d=[];f=false}if(!c.length&&!d.length){f=false}if(c.length){b+=Aa(c,!f?e:[],g)}else if(e.length&&!f){b+=va(e).join(",")}b+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS";if(d.length||f&&e.length>1){b+=", NON EMPTY {";if(d.length){b+=Aa(d,f?e:[],g)}else{b+=va(e).join(",")}b+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"}if(a.filter){b+=" FROM ";b+="(";b+=Da(a.filter,a.connection.cube);b+=")"}else{b+=" FROM ["+a.connection.cube+"]"}if(e.length==1&&c.length){b+=" WHERE ("+va(e).join(",")+")"}b+="</Statement></Command><Properties><PropertyList><Catalog>"+a.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>";return b.replace(/\&/g,"&amp;")},discover:function(b){b=b||{};var c='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';c+="<RequestType>"+(Fa[b.command]||b.command)+"</RequestType>";c+="<Restrictions>"+Ea("RestrictionList",b.restrictions,true)+"</Restrictions>";if(b.connection&&b.connection.catalog){b.properties=a.extend({},{Catalog:b.connection.catalog},b.properties)}c+="<Properties>"+Ea("PropertyList",b.properties)+"</Properties>";c+="</Discover></Body></Envelope>";return c}};var Ha=c.data.RemoteTransport.extend({init:function(a){var b=a;a=this.options=m(true,{},this.options,a);c.data.RemoteTransport.call(this,a);if(n(b.discover)){this.discover=b.discover}else if(typeof b.discover==="string"){this.options.discover={url:b.discover}}else if(!b.discover){this.options.discover=this.options.read}},setup:function(b,d){b.data=b.data||{};a.extend(true,b.data,{connection:this.options.connection});return c.data.RemoteTransport.fn.setup.call(this,b,d)},options:{read:{dataType:"text",contentType:"text/xml",type:"POST"},discover:{dataType:"text",contentType:"text/xml",type:"POST"},parameterMap:function(a,b){return Ga[b](a,b)}},discover:function(b){return a.ajax(this.setup(b,"discover"))}});function Ia(a){if(a==null){return[]}var b=j.call(a);if(b!=="[object Array]"){return[a]}return a}function Ja(a){var b={tuples:[]};var d=Ia(c.getter("Tuples.Tuple",true)(a));var e=c.getter("Caption['#text']");var f=c.getter("UName['#text']");var g=c.getter("LName['#text']");var h=c.getter("LNum['#text']");var i=c.getter("CHILDREN_CARDINALITY['#text']",true);var j=c.getter("['@Hierarchy']");var k=c.getter("PARENT_UNIQUE_NAME['#text']",true);for(var l=0;l<d.length;l++){var m=[];var n=Ia(d[l].Member);for(var o=0;o<n.length;o++){m.push({children:[],caption:e(n[o]),name:f(n[o]),levelName:g(n[o]),levelNum:h(n[o]),hasChildren:parseInt(i(n[o]),10)>0,parentName:k(n[o]),hierarchy:j(n[o])})}b.tuples.push({members:m})}return b}var Ka={cubes:{name:c.getter("CUBE_NAME['#text']",true),caption:c.getter("CUBE_CAPTION['#text']",true),description:c.getter("DESCRIPTION['#text']",true),type:c.getter("CUBE_TYPE['#text']",true)},catalogs:{name:c.getter("CATALOG_NAME['#text']",true),description:c.getter("DESCRIPTION['#text']",true)},measures:{name:c.getter("MEASURE_NAME['#text']",true),caption:c.getter("MEASURE_CAPTION['#text']",true),uniqueName:c.getter("MEASURE_UNIQUE_NAME['#text']",true),description:c.getter("DESCRIPTION['#text']",true),aggregator:c.getter("MEASURE_AGGREGATOR['#text']",true),groupName:c.getter("MEASUREGROUP_NAME['#text']",true),displayFolder:c.getter("MEASURE_DISPLAY_FOLDER['#text']",true),defaultFormat:c.getter("DEFAULT_FORMAT_STRING['#text']",true)},kpis:{name:c.getter("KPI_NAME['#text']",true),caption:c.getter("KPI_CAPTION['#text']",true),value:c.getter("KPI_VALUE['#text']",true),goal:c.getter("KPI_GOAL['#text']",true),status:c.getter("KPI_STATUS['#text']",true),trend:c.getter("KPI_TREND['#text']",true),statusGraphic:c.getter("KPI_STATUS_GRAPHIC['#text']",true),trendGraphic:c.getter("KPI_TREND_GRAPHIC['#text']",true),description:c.getter("KPI_DESCRIPTION['#text']",true),groupName:c.getter("MEASUREGROUP_NAME['#text']",true)},dimensions:{name:c.getter("DIMENSION_NAME['#text']",true),caption:c.getter("DIMENSION_CAPTION['#text']",true),description:c.getter("DESCRIPTION['#text']",true),uniqueName:c.getter("DIMENSION_UNIQUE_NAME['#text']",true),defaultHierarchy:c.getter("DEFAULT_HIERARCHY['#text']",true),type:c.getter("DIMENSION_TYPE['#text']",true)},hierarchies:{name:c.getter("HIERARCHY_NAME['#text']",true),caption:c.getter("HIERARCHY_CAPTION['#text']",true),description:c.getter("DESCRIPTION['#text']",true),uniqueName:c.getter("HIERARCHY_UNIQUE_NAME['#text']",true),dimensionUniqueName:c.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:c.getter("HIERARCHY_DISPLAY_FOLDER['#text']",true),origin:c.getter("HIERARCHY_ORIGIN['#text']",true),defaultMember:c.getter("DEFAULT_MEMBER['#text']",true)},levels:{name:c.getter("LEVEL_NAME['#text']",true),caption:c.getter("LEVEL_CAPTION['#text']",true),description:c.getter("DESCRIPTION['#text']",true),uniqueName:c.getter("LEVEL_UNIQUE_NAME['#text']",true),dimensionUniqueName:c.getter("DIMENSION_UNIQUE_NAME['#text']",true),displayFolder:c.getter("LEVEL_DISPLAY_FOLDER['#text']",true),orderingProperty:c.getter("LEVEL_ORDERING_PROPERTY['#text']",true),origin:c.getter("LEVEL_ORIGIN['#text']",true),hierarchyUniqueName:c.getter("HIERARCHY_UNIQUE_NAME['#text']",true)},members:{name:c.getter("MEMBER_NAME['#text']",true),caption:c.getter("MEMBER_CAPTION['#text']",true),uniqueName:c.getter("MEMBER_UNIQUE_NAME['#text']",true),dimensionUniqueName:c.getter("DIMENSION_UNIQUE_NAME['#text']",true),hierarchyUniqueName:c.getter("HIERARCHY_UNIQUE_NAME['#text']",true),levelUniqueName:c.getter("LEVEL_UNIQUE_NAME['#text']",true),childrenCardinality:c.getter("CHILDREN_CARDINALITY['#text']",true)}};var La=["axes","catalogs","cubes","dimensions","hierarchies","levels","measures"];var Ma=c.data.XmlDataReader.extend({init:function(a){c.data.XmlDataReader.call(this,a);this._extend(a)},_extend:function(a){var b=0;var c=La.length;var d;var e;for(;b<c;b++){d=La[b];e=a[d];if(e&&e!==k){this[d]=e}}},parse:function(a){var b=c.data.XmlDataReader.fn.parse(a.replace(/<(\/?)(\w|-)+:/g,"<$1"));return c.getter("['Envelope']['Body']",true)(b)},errors:function(a){var b=c.getter("['Fault']",true)(a);if(b){return[{faultstring:c.getter("faultstring['#text']",true)(b),faultcode:c.getter("faultcode['#text']",true)(b)}]}return null},axes:function(a){a=c.getter('ExecuteResponse["return"].root',true)(a);var b=Ia(c.getter("Axes.Axis",true)(a));var d;var e={columns:{},rows:{}};for(var f=0;f<b.length;f++){d=b[f];if(d["@name"].toLowerCase()!=="sliceraxis"){if(!e.columns.tuples){e.columns=Ja(d)}else{e.rows=Ja(d)}}}return e},data:function(a){a=c.getter('ExecuteResponse["return"].root',true)(a);var b=Ia(c.getter("CellData.Cell",true)(a));var d=[];var e=c.getter("['@CellOrdinal']");var f=c.getter("Value['#text']");var g=c.getter("FmtValue['#text']");for(var h=0;h<b.length;h++){d.push({value:f(b[h]),fmtValue:g(b[h]),ordinal:parseInt(e(b[h]),10)})}return d},_mapSchema:function(a,b){a=c.getter('DiscoverResponse["return"].root',true)(a);var d=Ia(c.getter("row",true)(a));var e=[];for(var f=0;f<d.length;f++){var g={};for(var h in b){g[h]=b[h](d[f])}e.push(g)}return e},measures:function(a){return this._mapSchema(a,Ka.measures)},kpis:function(a){return this._mapSchema(a,Ka.kpis)},hierarchies:function(a){return this._mapSchema(a,Ka.hierarchies)},levels:function(a){return this._mapSchema(a,Ka.levels)},dimensions:function(a){return this._mapSchema(a,Ka.dimensions)},cubes:function(a){return this._mapSchema(a,Ka.cubes)},catalogs:function(a){return this._mapSchema(a,Ka.catalogs)},members:function(a){return this._mapSchema(a,Ka.members)}});m(true,c.data,{PivotDataSource:Y,XmlaTransport:Ha,XmlaDataReader:Ma,PivotCubeBuilder:W,transports:{xmla:Ha},readers:{xmla:Ma}});var Na=function(a,b){if(!a){return null}for(var c=0,d=a.length;c<d;c++){if(a[c].field===b){return a[c]}}return null};var Oa=function(a,b){var c=[];for(var d=0,e=a.length;d<e;d++){if(a[d].field!==b){c.push(a[d])}}return c};c.ui.PivotSettingTarget=f.extend({init:function(b,e){var g=this;f.fn.init.call(g,b,e);g.element.addClass("k-pivot-setting");g.dataSource=c.data.PivotDataSource.create(e.dataSource);g._refreshHandler=a.proxy(g.refresh,g);g.dataSource.first(o,g._refreshHandler);if(!e.template){g.options.template="<div data-"+c.ns+'name="${data.name || data}">${data.name || data}'+(g.options.enabled?'<a class="k-button k-button-icon k-bare"><span class="k-icon k-i-close k-setting-delete"></span></a>':"")+"</div>"}g.template=c.template(g.options.template);g.emptyTemplate=c.template(g.options.emptyTemplate);g._sortable();g.element.on("click"+v,".k-button,.k-item",function(b){var d=a(b.target);var e=d.closest("["+c.attr("name")+"]").attr(c.attr("name"));if(!e){return}if(d.hasClass("k-i-close")){g.remove(e)}else if(g.options.sortable&&d[0]===b.currentTarget){g.sort({field:e,dir:d.find(".k-i-sort-asc-sm")[0]?"desc":"asc"})}});if(e.filterable||e.sortable){g.fieldMenu=new d.PivotFieldMenu(g.element,{messages:g.options.messages.fieldMenu,filter:".k-setting-fieldmenu",filterable:e.filterable,sortable:e.sortable,dataSource:g.dataSource})}g.refresh()},options:{name:"PivotSettingTarget",template:null,filterable:false,sortable:false,emptyTemplate:"<div class='k-empty'>${data}</div>",setting:"columns",enabled:true,messages:{empty:"Drop Fields Here"}},setDataSource:function(a){this.dataSource.unbind(o,this._refreshHandler);this.dataSource=this.options.dataSource=a;if(this.fieldMenu){this.fieldMenu.setDataSource(a)}a.first(o,this._refreshHandler);this.refresh()},_sortable:function(){var a=this;if(a.options.enabled){this.sortable=this.element.kendoSortable({connectWith:this.options.connectWith,hint:a.options.hint,cursor:"move",start:function(a){a.item.focus().blur()},change:function(b){var d=b.item.attr(c.attr("name"));if(b.action=="receive"){a.add(d)}else if(b.action=="remove"){a.remove(d)}else if(b.action=="sort"){a.move(d,b.newIndex)}}}).data("kendoSortable")}},_indexOf:function(a,b){var c,d,e=-1;for(c=0,d=b.length;c<d;c++){if(wa(b[c])===a){e=c;break}}return e},_isKPI:function(a){return a.type==="kpi"||a.measure},validate:function(a){var b=a.type==2||"aggregator"in a||this._isKPI(a);if(b){return this.options.setting==="measures"}if(this.options.setting==="measures"){return b}var c=this.dataSource[this.options.setting]();var d=a.defaultHierarchy||a.uniqueName;if(this._indexOf(d,c)>-1){return false}c=this.dataSource[this.options.setting==="columns"?"rows":"columns"]();if(this._indexOf(d,c)>-1){return false}return true},add:function(b){var c=this.dataSource[this.options.setting]();var d,e;b=a.isArray(b)?b.slice(0):[b];for(d=0,e=b.length;d<e;d++){if(this._indexOf(b[d],c)!==-1){b.splice(d,1);d-=1;e-=1}}if(b.length){c=c.concat(b);this.dataSource[this.options.setting](c)}},move:function(a,b){var c=this.dataSource[this.options.setting]();var d=this._indexOf(a,c);if(d>-1){a=c.splice(d,1)[0];c.splice(b,0,a);this.dataSource[this.options.setting](c)}},remove:function(a){var b=this.dataSource[this.options.setting]();var c=this._indexOf(a,b);var d=this.dataSource.sort();var e=this.dataSource.filter();if(c>-1){if(e){e.filters=Oa(e.filters,a);this.dataSource._filter.filters=e.filters;if(!e.filters.length){this.dataSource._filter=null}}if(d){d=Oa(d,a);this.dataSource._sort=d}b.splice(c,1);this.dataSource[this.options.setting](b)}},sort:function(a){var b=this.options.sortable;var c=b===true||b.allowUnsort;var d=c&&a.dir==="asc";var e=this.dataSource.sort()||[];var f=Oa(e,a.field);if(d&&e.length!==f.length){a=null}if(a){f.push(a)}this.dataSource.sort(f)},refresh:function(){var a="";var c=this.dataSource[this.options.setting]();var d=c.length;var e=0;var f;if(d){for(;e<d;e++){f=c[e];f=f.name===b?{name:f}:f;a+=this.template(m({sortIcon:this._sortIcon(f.name)},f))}}else{a=this.emptyTemplate(this.options.messages.empty)}this.element.html(a)},destroy:function(){f.fn.destroy.call(this);this.dataSource.unbind(o,this._refreshHandler);this.element.off(v);if(this.sortable){this.sortable.destroy()}if(this.fieldMenu){this.fieldMenu.destroy()}this.element=null;this._refreshHandler=null},_sortIcon:function(a){var b=this.dataSource.sort();var c=Na(b,wa(a));var d="";if(c){d="k-i-sort-"+c.dir}return d}});var Pa=f.extend({init:function(d,e){var g=this;var h;var i;f.fn.init.call(g,d,e);g._dataSource();g._bindConfigurator();g._wrapper();g._createLayout();g._columnBuilder=h=new Va;g._rowBuilder=i=new Wa;g._contentBuilder=new Xa;g._templates();g.columnsHeader.add(g.rowsHeader).on("click","span.k-icon",function(){var d=a(this);var e=h;var f="expandColumn";var j;var k=d.attr(c.attr("path"));var l={axis:"columns",path:a.parseJSON(k)};if(d.parent().is("td")){e=i;f="expandRow";l.axis="rows"}var m=d.hasClass(B);var n=e.metadata[k];var o=n.expanded===b;j=m?A:z;l.childrenLoaded=n.maxChildren>n.children;if(g.trigger(j,l)){return}e.metadata[k].expanded=!m;d.toggleClass(B,!m).toggleClass(C,m);if(!m&&o){g.dataSource[f](l.path)}else{g.refresh()}});g._scrollable();if(g.options.autoBind){g.dataSource.fetch()}c.notify(g)},events:[x,y,z,A],options:{name:"PivotGrid",autoBind:true,reorderable:true,filterable:false,sortable:false,height:null,columnWidth:100,configurator:"",columnHeaderTemplate:null,rowHeaderTemplate:null,dataCellTemplate:null,kpiStatusTemplate:null,kpiTrendTemplate:null,messages:{measureFields:"Drop Data Fields Here",columnFields:"Drop Column Fields Here",rowFields:"Drop Rows Fields Here"}},_templates:function(){var a=this.options.columnHeaderTemplate;var b=this.options.rowHeaderTemplate;var d=this.options.dataCellTemplate;var e=this.options.kpiStatusTemplate;var f=this.options.kpiTrendTemplate;this._columnBuilder.template=c.template(a||D,{useWithBlock:!!a});this._contentBuilder.dataTemplate=c.template(d||G,{useWithBlock:!!d});this._contentBuilder.kpiStatusTemplate=c.template(e||E,{useWithBlock:!!e});this._contentBuilder.kpiTrendTemplate=c.template(f||F,{useWithBlock:!!f});this._rowBuilder.template=c.template(b||D,{useWithBlock:!!b})},_bindConfigurator:function(){var b=this.options.configurator;if(b){a(b).kendoPivotConfigurator("setDataSource",this.dataSource)}},cellInfoByElement:function(b){b=a(b);return this.cellInfo(b.index(),b.parent("tr").index())},cellInfo:function(a,b){var c=this._contentBuilder;var d=c.columnIndexes[a||0];var e=c.rowIndexes[b||0];var f;if(!d||!e){return null}f=e.index*c.rowLength+d.index;return{columnTuple:d.tuple,rowTuple:e.tuple,measure:d.measure||e.measure,dataItem:this.dataSource.view()[f]}},setDataSource:function(a){this.options.dataSource=a;this._dataSource();if(this.measuresTarget){this.measuresTarget.setDataSource(a)}if(this.rowsTarget){this.rowsTarget.setDataSource(a)}if(this.columnsTarget){this.columnsTarget.setDataSource(a)}this._bindConfigurator();if(this.options.autoBind){a.fetch()}},setOptions:function(a){f.fn.setOptions.call(this,a);this._templates()},destroy:function(){f.fn.destroy.call(this);clearTimeout(this._headerReflowTimeout)},_dataSource:function(){var b=this;var d=b.options.dataSource;d=a.isArray(d)?{data:d}:d;if(b.dataSource&&this._refreshHandler){b.dataSource.unbind(o,b._refreshHandler).unbind(s,b._stateResetHandler).unbind(r,b._progressHandler).unbind(p,b._errorHandler)}else{b._refreshHandler=a.proxy(b.refresh,b);b._progressHandler=a.proxy(b._requestStart,b);
b._stateResetHandler=a.proxy(b._stateReset,b);b._errorHandler=a.proxy(b._error,b)}b.dataSource=c.data.PivotDataSource.create(d).bind(o,b._refreshHandler).bind(r,b._progressHandler).bind(s,b._stateResetHandler).bind(p,b._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_stateReset:function(){this._columnBuilder.reset();this._rowBuilder.reset()},_wrapper:function(){var a=this.options.height;this.wrapper=this.element.addClass("k-widget k-pivot");if(a){this.wrapper.css("height",a)}},_measureFields:function(){this.measureFields=a(u).addClass("k-pivot-toolbar k-header k-settings-measures");this.measuresTarget=this._createSettingTarget(this.measureFields,{setting:"measures",messages:{empty:this.options.messages.measureFields}})},_createSettingTarget:function(b,d){var e='<span tabindex="0" class="k-button" data-'+c.ns+'name="${data.name}">${data.name}';var f=d.sortable;var g="";if(f){g+="#if (data.sortIcon) {#";g+='<span class="k-icon ${data.sortIcon}-sm"></span>';g+="#}#"}if(d.filterable||f){g+='<span class="k-icon k-i-more-vertical k-setting-fieldmenu"></span>'}if(this.options.reorderable){g+='<span class="k-icon k-i-close k-setting-delete"></span>'}if(g){e+='<span class="k-field-actions">'+g+"</span>"}e+="</span>";return new c.ui.PivotSettingTarget(b,a.extend({template:e,emptyTemplate:'<span class="k-empty">${data}</span>',enabled:this.options.reorderable,dataSource:this.dataSource},d))},_initSettingTargets:function(){this.columnsTarget=this._createSettingTarget(this.columnFields,{connectWith:this.rowFields,setting:"columns",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.columnFields,fieldMenu:this.options.messages.fieldMenu}});this.rowsTarget=this._createSettingTarget(this.rowFields,{connectWith:this.columnFields,setting:"rows",filterable:this.options.filterable,sortable:this.options.sortable,messages:{empty:this.options.messages.rowFields,fieldMenu:this.options.messages.fieldMenu}})},_createLayout:function(){var b=this;var d=a(H);var e=d.find(".k-pivot-rowheaders");var f=d.find(".k-pivot-table");var g=a(u).addClass("k-grid k-widget");b._measureFields();b.columnFields=a(u).addClass("k-pivot-toolbar k-header k-settings-columns");b.rowFields=a(u).addClass("k-pivot-toolbar k-header k-settings-rows");b.columnsHeader=a('<div class="k-grid-header-wrap" />').wrap('<div class="k-grid-header" />');b.columnsHeader.parent().css("padding-right",c.support.scrollbar());b.rowsHeader=a('<div class="k-grid k-widget k-alt"/>');b.content=a('<div class="k-grid-content" />');e.append(b.measureFields);e.append(b.rowFields);e.append(b.rowsHeader);g.append(b.columnsHeader.parent());g.append(b.content);f.append(b.columnFields);f.append(g);b.wrapper.append(d);b.columnsHeaderTree=new c.dom.Tree(b.columnsHeader[0]);b.rowsHeaderTree=new c.dom.Tree(b.rowsHeader[0]);b.contentTree=new c.dom.Tree(b.content[0]);b._initSettingTargets()},_progress:function(a){c.ui.progress(this.wrapper,a)},_resize:function(){if(this.content[0].firstChild){this._setSectionsWidth();this._setSectionsHeight();this._setContentWidth();this._setContentHeight();this._columnHeaderReflow()}},_columnHeaderReflow:function(){var a=this.columnsHeader.children("table");if(!c.support.browser.mozilla){return}clearTimeout(this._headerReflowTimeout);a.css("table-layout","auto");this._headerReflowTimeout=setTimeout(function(){a.css("table-layout","")})},_setSectionsWidth:function(){var a=this.rowsHeader;var b=a.parent(".k-pivot-rowheaders").width(t);var c;c=Math.max(h(this.measureFields),h(this.rowFields));c=Math.max(a.children("table").width(),c);b.width(c)},_setSectionsHeight:function(){var a=this.measureFields.height(t).height();var b=this.columnFields.height(t).height();var c=this.rowFields.height(t).innerHeight();var d=this.columnsHeader.height(t).innerHeight();var e=c-this.rowFields.height();var f=b>a?b:a;var g=d>c?d:c;this.measureFields.height(f);this.columnFields.height(f);this.rowFields.height(g-e);this.columnsHeader.height(g)},_setContentWidth:function(){var a=this.content.find("table");var b=this.columnsHeader.children("table");var c=a.children("colgroup").children().length;var d=c*this.options.columnWidth;var e=Math.ceil(d/this.content.width()*100);if(e<100){e=100}a.add(b).css("width",e+"%");this._resetColspan(b)},_setContentHeight:function(){var a=this;var b=a.content;var d=a.rowsHeader;var e=a.wrapper.innerHeight();var f=c.support.scrollbar();var g=b[0].offsetHeight===b[0].clientHeight;var h=a.options.height;if(a.wrapper.is(":visible")){if(!e||!h){if(g){f=0}b.height("auto");d.height(b.height()-f);return}e-=i(a.columnFields);e-=i(a.columnsHeader);if(e<=f*2){e=f*2+1;if(!g){e+=f}}b.height(e);if(g){f=0}d.height(e-f)}},_resetColspan:function(a){var c=this;var d=a.children("tbody").children(":first").children(":first");if(c._colspan===b){c._colspan=d.attr("colspan")}d.attr("colspan",1);clearTimeout(c._layoutTimeout);c._layoutTimeout=setTimeout(function(){d.attr("colspan",c._colspan);c._colspan=b})},_axisMeasures:function(a){var b=[];var c=this.dataSource;var d=c.measures();var e=d.length>1||d[0]&&d[0].type;if(c.measuresAxis()===a){if(c[a]().length===0||e){b=d}}return b},items:function(){return[]},refresh:function(){var a=this;var b=a.dataSource;var d=b.axes();var e=(d.columns||{}).tuples||[];var f=(d.rows||{}).tuples||[];var g=a._columnBuilder;var h=a._rowBuilder;var i={};var j={};if(a.trigger(x,{action:"rebind"})){return}g.measures=a._axisMeasures(J);h.measures=a._axisMeasures(I);a.columnsHeaderTree.render(g.build(e));a.rowsHeaderTree.render(h.build(f));i={indexes:g._indexes,measures:g.measures,metadata:g.metadata};j={indexes:h._indexes,measures:h.measures,metadata:h.metadata};a.contentTree.render(a._contentBuilder.build(b.view(),i,j));a._resize();if(a.touchScroller){a.touchScroller.contentResized()}else{var k=c.touchScroller(a.content);if(k&&k.movable){a.touchScroller=k;k.movable.bind("change",function(b){a.columnsHeader.scrollLeft(-b.sender.x);a.rowsHeader.scrollTop(-b.sender.y)})}}a._progress(false);a.trigger(y)},_scrollable:function(){var b=this;var c=b.columnsHeader;var d=b.rowsHeader;b.content.scroll(function(){c.scrollLeft(this.scrollLeft);d.scrollTop(this.scrollTop)});d.bind("DOMMouseScroll"+v+" mousewheel"+v,a.proxy(b._wheelScroll,b))},_wheelScroll:function(b){if(b.ctrlKey){return}var d=c.wheelDeltaY(b);var e=this.content.scrollTop();if(d){b.preventDefault();a(b.currentTarget).one("wheel"+v,false);this.rowsHeader.scrollTop(e+-d);this.content.scrollTop(e+-d)}}});var Qa=c.dom.element;var Ra=c.dom.html;var Sa=function(a,b){return{maxChildren:0,children:0,maxMembers:0,members:0,measures:1,levelNum:a,parentMember:b!==0}};var Ta=function(a,b){var c=[];var d=0;for(;d<=b;d++){c.push(a.members[d].name)}return c};var Ua=function(a,b){var c="";var d=0;for(;d<=b;d++){c+=a.members[d].name}return c};var Va=e.extend({init:function(){this.measures=1;this.metadata={}},build:function(a){var b=this._tbody(a);var c=this._colGroup();return[Qa("table",null,[c,b])]},reset:function(){this.metadata={}},_colGroup:function(){var a=this._rowLength();var b=[];var c=0;for(;c<a;c++){b.push(Qa("col",null))}return Qa("colgroup",null,b)},_tbody:function(a){var b=a[0];this.map={};this.rows=[];this.rootTuple=b;this._indexes=[];if(b){this._buildRows(b,0);this._normalize()}else{this.rows.push(Qa("tr",null,[Qa("th",null,[Ra("&nbsp;")])]))}return Qa("tbody",null,this.rows)},_normalize:function(){var a=this.rows;var b=a.length;var c=0;var d;var e;var f;var g;var h;for(;c<b;c++){d=a[c];if(d.rowSpan===1){continue}g=d.children;f=0;e=g.length;for(;f<e;f++){h=g[f];if(h.tupleAll){h.attr.rowSpan=d.rowSpan}}}},_rowIndex:function(a){var b=this.rows;var c=b.length;var d=0;for(;d<c;d++){if(b[d]===a){break}}return d},_rowLength:function(){var a=this.rows[0]?this.rows[0].children:[];var b=a.length;var c=0;var d=0;if(b){for(;d<b;d++){c+=a[d].attr.colSpan||1}}if(!c){c=this.measures}return c},_row:function(a,b,c){var d=this.rootTuple.members[b].name;var e=a.members[b].levelNum;var f=d+e;var g=this.map;var h;var i;var j=g[f];if(!j){j=Qa("tr",null,[]);j.parentMember=c;j.collapsed=0;j.colSpan=0;j.rowSpan=1;g[f]=j;h=g[d+(Number(e)-1)];if(h){i=h.children;if(i[1]&&i[1].attr.className.indexOf("k-alt")===-1){j.notFirst=true}else{j.notFirst=h.notFirst}}this.rows.splice(this._rowIndex(h)+1,0,j)}else{j.notFirst=false;if(!j.parentMember||j.parentMember!==c){j.parentMember=c;j.collapsed=0;j.colSpan=0}}return j},_measures:function(a,b,c){var d=this.map;var e=d.measureRow;var f;if(!e){e=Qa("tr",null,[]);d.measureRow=e;this.rows.push(e)}for(var g=0,h=a.length;g<h;g++){f=a[g];e.children.push(this._cell(c||"",[this._content(f,b)],f))}return h},_content:function(a,b){return Ra(this.template({member:a,tuple:b}))},_cell:function(a,b,c){var d=Qa("th",{className:"k-header"+a},b);d.value=c.caption||c.name;return d},_buildRows:function(a,b,d){var e=a.members;var f=e[b];var g=e[b+1];var h,i,j,k;var l,m,n;var o=[];var p;var q=0;var r;var s;var t=0;var u=0;if(f.measure){this._measures(f.children,a);return}p=c.stringify(Ta(a,b));h=this._row(a,b,d);j=f.children;k=j.length;r=this.metadata[p];if(!r){this.metadata[p]=r=Sa(Number(f.levelNum),b);r.rootLevelNum=Number(this.rootTuple.members[b].levelNum)}this._indexes.push({path:p,tuple:a});if(f.hasChildren){if(r.expanded===false){t=r.maxChildren;h.collapsed+=t;r.children=0;k=0}n={className:"k-icon "+(k?B:C)};n[c.attr("path")]=p;o.push(Qa("span",n))}o.push(this._content(f,a));l=this._cell(h.notFirst?" k-first":"",o,f);h.children.push(l);h.colSpan+=1;if(k){m=this._cell(" k-alt",[this._content(f,a)],f);h.children.push(m);for(;q<k;q++){i=this._buildRows(j[q],b,f)}s=i.colSpan;t=i.collapsed;l.attr.colSpan=s;r.children=s;r.members=1;h.colSpan+=s;h.collapsed+=t;h.rowSpan=i.rowSpan+1;if(g){if(g.measure){s=this._measures(g.children,a," k-alt")}else{i=this._buildRows(a,b+1);s=i.colSpan;h.collapsed+=i.collapsed;u=i.collapsed}m.attr.colSpan=s;s-=1;r.members+=s;h.colSpan+=s}}else if(g){if(g.measure){s=this._measures(g.children,a)}else{i=this._buildRows(a,b+1);s=i.colSpan;h.collapsed+=i.collapsed;u=i.collapsed}r.members=s;if(s>1){l.attr.colSpan=s;h.colSpan+=s-1}}if(r.maxMembers<r.members+u){r.maxMembers=r.members+u}j=r.children+t;if(r.maxChildren<j){r.maxChildren=j}(m||l).tupleAll=true;return h}});var Wa=e.extend({init:function(){this.metadata={}},build:function(a){var b=this._tbody(a);var c=this._colGroup();return[Qa("table",null,[c,b])]},reset:function(){this.metadata={}},_rowLength:function(){var a=this.rows[0].children;var b=0;var c=0;var d=a[c];while(d){b+=d.attr.colSpan||1;d=a[++c]}return b},_colGroup:function(){var a=this._rowLength();var b=[];var c=0;for(;c<a;c++){b.push(Qa("col",null))}return Qa("colgroup",null,b)},_tbody:function(a){var b=a[0];this.rootTuple=b;this.rows=[];this.map={};this._indexes=[];if(b){this._buildRows(b,0);this._normalize()}else{this.rows.push(Qa("tr",null,[Qa("td",null,[Ra("&nbsp;")])]))}return Qa("tbody",null,this.rows)},_normalize:function(){var a=this.rows;var b=a.length;var c=0;var d=this.rootTuple.members;var e=d[0].name;var f=d.length;var g=0;var h;var i;var j;var k=this.map;var l;for(;c<b;c++){h=a[c];for(g=0;g<f;g++){j=this[d[g].name];i=h.colSpan["dim"+g];if(i&&i.colSpan<j){i.attr.colSpan=j-i.colSpan+1}}}h=k[e];l=k[e+"all"];if(h){h.children[0].attr.className="k-first"}if(l){l.children[0].attr.className+=" k-first"}},_row:function(a){var b=Qa("tr",null,a);b.rowSpan=1;b.colSpan={};this.rows.push(b);return b},_content:function(a,b){return Ra(this.template({member:a,tuple:b}))},_cell:function(a,b,c){var d=Qa("td",{className:a},b);d.value=c.caption||c.name;return d},_buildRows:function(a,b){var d=this.map;var e;var f=a.members;var g=f[b];var h=f[b+1];var i=g.children;var j=i.length;var k=Number(g.levelNum);var l=this.rootTuple.members[b].name;var m=Ta(a,b-1).join("");var n=Number(this.rootTuple.members[b].levelNum);var o=m+(n===k?"":g.parentName||"");var p=d[o+"all"]||d[o];var q=k+1;var r,s;var t,u;var v;var w;var x=[];var y;var z;if(!p||p.hasChild){p=this._row()}else{p.hasChild=true}if(g.measure){w=p.allCell?"k-grid-footer":"";p.children.push(this._cell(w,[this._content(i[0],a)],i[0]));p.rowSpan=j;for(z=1;z<j;z++){this._row([this._cell(w,[this._content(i[z],a)],i[z])])}return p}d[m+g.name]=p;e=c.stringify(Ta(a,b));v=this.metadata[e];if(!v){this.metadata[e]=v=Sa(k,b);v.rootLevelNum=n}this._indexes.push({path:e,tuple:a});if(g.hasChildren){if(v.expanded===false){j=0;v.children=0}y={className:"k-icon "+(j?B:C)};y[c.attr("path")]=e;x.push(Qa("span",y))}x.push(this._content(g,a));w=p.allCell&&!j?"k-grid-footer":"";r=this._cell(w,x,g);r.colSpan=q;p.children.push(r);p.colSpan["dim"+b]=r;if(!this[l]||this[l]<q){this[l]=q}if(j){p.allCell=false;p.hasChild=false;for(z=0;z<j;z++){t=this._buildRows(i[z],b);if(p!==t){p.rowSpan+=t.rowSpan}}if(p.rowSpan>1){r.attr.rowSpan=p.rowSpan}v.children=p.rowSpan;s=this._cell("k-grid-footer",[this._content(g,a)],g);s.colSpan=q;u=this._row([s]);u.colSpan["dim"+b]=s;u.allCell=true;d[m+g.name+"all"]=u;if(h){t=this._buildRows(a,b+1);s.attr.rowSpan=t.rowSpan}p.rowSpan+=u.rowSpan;v.members=u.rowSpan}else if(h){p.hasChild=false;this._buildRows(a,b+1);(s||r).attr.rowSpan=p.rowSpan;v.members=p.rowSpan}if(v.maxChildren<v.children){v.maxChildren=v.children}if(v.maxMembers<v.members){v.maxMembers=v.members}return p}});var Xa=e.extend({init:function(){this.columnAxis={};this.rowAxis={}},build:function(a,c,d){var e=c.indexes[0];var f=c.metadata[e?e.path:b];this.columnAxis=c;this.rowAxis=d;this.data=a;this.rowLength=f?f.maxChildren+f.maxMembers:c.measures.length||1;if(!this.rowLength){this.rowLength=1}var g=this._tbody();var h=this._colGroup();return[Qa("table",null,[h,g])]},_colGroup:function(){var a=this.columnAxis.measures.length||1;var b=[];var c=0;if(this.rows[0]){a=this.rows[0].children.length}for(;c<a;c++){b.push(Qa("col",null))}return Qa("colgroup",null,b)},_tbody:function(){this.rows=[];if(this.data[0]){this.columnIndexes=this._indexes(this.columnAxis,this.rowLength);this.rowIndexes=this._indexes(this.rowAxis,Math.ceil(this.data.length/this.rowLength));this._buildRows()}else{this.rows.push(Qa("tr",null,[Qa("td",null,[Ra("&nbsp;")])]))}return Qa("tbody",null,this.rows)},_indexes:function(a,c){var d=[];var e;var f=a.indexes;var g=a.metadata;var h=a.measures;var i=h.length||1;var j;var k=0;var l=0;var m=0;var n=f.length;var o;var p;var q;var r;if(!n){for(o=0;o<i;o++){d[o]={index:o,measure:h[o],tuple:null}}return d}for(;m<n;m++){e=f[m];j=g[e.path];q=j.children+j.members;r=0;if(q){q-=i}if(j.expanded===false&&j.children!==j.maxChildren){r=j.maxChildren}if(j.parentMember&&j.levelNum===j.rootLevelNum){q=-1}if(q>-1){for(o=0;o<i;o++){p=q+o;if(!j.children){p+=l}d[q+l+o]={children:q,index:k,measure:h[o],tuple:e.tuple};k+=1}while(d[l]!==b){l+=1}}if(l===c){break}k+=r}return d},_buildRows:function(){var a=this.rowIndexes;var b=a.length;var c=0;for(;c<b;c++){var d=a[c];if(d){this.rows.push(this._buildRow(d))}}},_buildRow:function(a){var c=a.index*this.rowLength;var d=this.columnIndexes;var e=d.length;var f;var g=[];var h=0;var i;var j,k;var l,m,n;for(;h<e;h++){f=d[h];if(f===b){continue}l={};if(f.children){l.className="k-alt"}k="";m=this.data[c+f.index];n=f.measure||a.measure;i={columnTuple:f.tuple,rowTuple:a.tuple,measure:n,dataItem:m};if(m.value!==""&&n&&n.type){if(n.type==="status"){k=this.kpiStatusTemplate(i)}else if(n.type==="trend"){k=this.kpiTrendTemplate(i)}}if(!k){k=this.dataTemplate(i)}j=Qa("td",l,[Ra(k)]);j.value=m.value;g.push(j)}l={};if(a.children){l.className="k-grid-footer"}return Qa("tr",l,g)}});d.plugin(Pa);c.PivotExcelExporter=c.Class.extend({init:function(a){this.options=a;this.widget=a.widget;this.dataSource=this.widget.dataSource},_columns:function(){var a=this.widget.columnsHeaderTree.children[0];var b=this.widget.rowsHeaderTree.children[0];var c=a.children[0].children.length;var d=b.children[0].children.length;var e=this.widget.options.columnWidth;var f=[];var g;if(d&&this.dataSource.data()[0]){for(g=0;g<d;g++){f.push({autoWidth:true})}}for(g=0;g<c;g++){f.push({autoWidth:false,width:e})}return f},_cells:function(a,b,c){var d=[];var e=0;var f=a.length;var g;var h,i;var j,k;for(;e<f;e++){h=[];i=a[e].children;g=i.length;for(j=0;j<g;j++){k=i[j];h.push({background:"#7a7a7a",color:"#fff",value:k.value,colSpan:k.attr.colSpan||1,rowSpan:k.attr.rowSpan||1})}if(c){c(h,e)}d.push({cells:h,type:b})}return d},_rows:function(){var a=this.widget.columnsHeaderTree.children[0];var b=this.widget.rowsHeaderTree.children[0];var c=a.children[0].children.length;var d=b.children[0].children.length;var e=a.children[1].children;var f=b.children[1].children;var g=this.widget.contentTree.children[0].children[1].children;var h=this._cells(e,"header");if(d){h[0].cells.splice(0,0,{background:"#7a7a7a",color:"#fff",value:"",colSpan:d,rowSpan:e.length})}var i=function(a,b){var d=0;var e,f;var h=g[b].children;for(;d<c;d++){e=h[d];f=Number(e.value);if(isNaN(f)){f=e.value}a.push({background:"#dfdfdf",color:"#333",value:f,colSpan:1,rowSpan:1})}};var j=this._cells(f,"data",i);return h.concat(j)},_freezePane:function(){var a=this.widget.columnsHeaderTree.children[0];var b=this.widget.rowsHeaderTree.children[0];var c=b.children[0].children.length;var d=a.children[1].children;return{colSplit:c,rowSplit:d.length}},workbook:function(){var b;if(this.dataSource.view()[0]){b=a.Deferred();b.resolve()}else{b=this.dataSource.fetch()}return b.then(a.proxy(function(){return{sheets:[{columns:this._columns(),rows:this._rows(),freezePane:this._freezePane(),filter:null}]}},this))}});var Ya={extend:function(b){b.events.push("excelExport");b.options.excel=a.extend(b.options.excel,this.options);b.saveAsExcel=this.saveAsExcel},options:{proxyURL:"",filterable:false,fileName:"Export.xlsx"},saveAsExcel:function(){var b=this.options.excel||{};var d=new c.PivotExcelExporter({widget:this});d.workbook().then(a.proxy(function(a){if(!this.trigger("excelExport",{workbook:a})){var d=new c.ooxml.Workbook(a);d.toDataURLAsync().then(function(d){c.saveAs({dataURI:d,fileName:a.fileName||b.fileName,proxyURL:b.proxyURL,forceProxy:b.forceProxy})})}},this))}};c.PivotExcelMixin=Ya;if(c.ooxml&&c.ooxml.Workbook){Ya.extend(Pa.prototype)}if(c.PDFMixin){c.PDFMixin.extend(Pa.prototype);Pa.fn._drawPDF=function(){return this._drawPDFShadow({width:this.wrapper.width()},{avoidLinks:this.options.pdf.avoidLinks})}}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.pivot.fieldmenu",["kendo.pivotgrid","kendo.menu","kendo.window","kendo.treeview","kendo.dropdownlist"],a)})(function(){var a={id:"pivot.fieldmenu",name:"PivotFieldMenu",category:"web",description:"The PivotFieldMenu widget allows the user to filter on fields displayed in PivotGrid",depends:["menu","window","treeview","dropdownlist"],advanced:true};(function(a,b){var c=window.kendo;var d=c.ui;var e="kendoContextMenu";var f=a.proxy;var g=".kendoPivotFieldMenu";var h=d.Widget;var i="k-filter-item";var j="aria-label";var k=h.extend({init:function(a,b){h.fn.init.call(this,a,b);this._dataSource();this._layout();c.notify(this)},events:[],options:{name:"PivotFieldMenu",filter:null,filterable:true,sortable:true,messages:{info:"Show items with value that:",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filterFields:"Fields Filter",filter:"Filter",include:"Include Fields...",title:"Fields to include",clear:"Clear",ok:"OK",cancel:"Cancel",operators:{contains:"Contains",doesnotcontain:"Does not contain",startswith:"Starts with",endswith:"Ends with",eq:"Is equal to",neq:"Is not equal to"}}},_layout:function(){var b=this.options;this.wrapper=a(c.template(q)({ns:c.ns,filterable:b.filterable,sortable:b.sortable,messages:b.messages}));this.menu=this.wrapper[e]({filter:b.filter,target:this.element,orientation:"vertical",showOn:"click",closeOnClick:false,open:f(this._menuOpen,this),select:f(this._select,this),copyAnchorStyles:false}).data(e);this._createWindow();if(b.filterable){this._initFilterForm()}},_initFilterForm:function(){var a=this.menu.element.find("."+i);var b=f(this._filter,this);this._filterOperator=new c.ui.DropDownList(a.find("select"));this._filterValue=a.find(".k-textbox");this._updateFilterAriaLabel();a.on("submit"+g,b).on("click"+g,".k-button-filter",b).on("click"+g,".k-button-clear",f(this._reset,this))},_setFilterForm:function(a){var b=this._filterOperator;var c="";var d="";if(a){c=a.operator;d=a.value}b.value(c);if(!b.value()){b.select(0)}this._filterValue.val(d)},_clearFilters:function(a){var b=this.dataSource.filter()||{};var c;var d=0;var e;b.filters=b.filters||[];c=m(b,a);for(e=c.length;d<e;d++){b.filters.splice(b.filters.indexOf(c[d]),1)}return b},_convert:function(b){var c=this.dataSource.options.schema;var d=((c.model||{}).fields||{})[this.currentMember];if(d){if(d.type==="number"){b=parseFloat(b)}else if(d.type==="boolean"){b=Boolean(a.parseJSON(b))}}return b},_filter:function(a){var b=this;var c=b._convert(b._filterValue.val());a.preventDefault();if(c===""){b.menu.close();return}var d={field:b.currentMember,operator:b._filterOperator.value(),value:c};var e=b._clearFilters(b.currentMember);e.filters.push(d);b.dataSource.filter(e);b.menu.close()},_updateFilterAriaLabel:function(){var a=this.menu.element.find("."+i);var b=this._filterOperator.value();var c=this.options.messages.operators[b];a.find("select").attr(j,c)},_reset:function(a){var b=this;var c=b._clearFilters(b.currentMember);a.preventDefault();if(!c.filters[0]){c={}}b.dataSource.filter(c);b._setFilterForm(null);b.menu.close()},_sort:function(a){var b=this.currentMember;var c=this.dataSource.sort()||[];c=l(c,b);c.push({field:b,dir:a});this.dataSource.sort(c);this.menu.close()},setDataSource:function(a){this.options.dataSource=a;this._dataSource()},_dataSource:function(){this.dataSource=c.data.PivotDataSource.create(this.options.dataSource)},_createWindow:function(){var b=this.options.messages;this.includeWindow=a(c.template(r)({messages:b})).on("click"+g,".k-button-ok",f(this._applyIncludes,this)).on("click"+g,".k-button-cancel",f(this._closeWindow,this));this.includeWindow=new d.Window(this.includeWindow,{title:b.title,visible:false,resizable:false,open:f(this._windowOpen,this)})},_applyIncludes:function(a){var b=[];var c;var d=this.treeView.dataSource.view();var e=d[0].checked;var f=this.dataSource.filter();var g=m(f,this.currentMember,"in")[0];o(d,b);if(g){if(e){f.filters.splice(f.filters.indexOf(g),1);if(!f.filters.length){f={}}}else{g.value=b.join(",")}c=f}if(b.length){if(!c&&!e){c={field:this.currentMember,operator:"in",value:b.join(",")};if(f){f.filters.push(c);c=f}}}if(c){this.dataSource.filter(c)}this._closeWindow(a)},_closeWindow:function(a){a.preventDefault();this.includeWindow.close()},_treeViewDataSource:function(){var a=this;return c.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(a){return parseInt(a.childrenCardinality,10)>0}}},transport:{read:function(b){var c={};var d=a.treeView.dataSource.get(b.data.uniqueName);var e=b.data.uniqueName;if(!e){c.levelUniqueName=a.currentMember+".[(ALL)]"}else{c.memberUniqueName=d.uniqueName.replace(/\&/g,"&amp;");c.treeOp=1}a.dataSource.schemaMembers(c).done(function(c){n(a.dataSource.filter(),a.currentMember,c);b.success(c)}).fail(b.error)}}})},_createTreeView:function(a){var b=this;b.treeView=new d.TreeView(a,{autoBind:false,dataSource:b._treeViewDataSource(),dataTextField:"caption",template:"#: data.item.caption || data.item.name #",checkboxes:{checkChildren:true},dataBound:function(){d.progress(b.includeWindow.element,false)}})},_menuOpen:function(b){if(!b.event){return}var d=c.attr("name");this.currentMember=a(b.event.target).closest("["+d+"]").attr(d);if(this.options.filterable){this._setFilterForm(m(this.dataSource.filter(),this.currentMember)[0])}},_select:function(b){var c=a(b.item);a(".k-pivot-filter-window").not(this.includeWindow.element).kendoWindow("close");if(c.hasClass("k-include-item")){this.includeWindow.center().open()}else if(c.hasClass("k-sort-asc")){this._sort("asc")}else if(c.hasClass("k-sort-desc")){this._sort("desc")}else if(c.hasClass(i)){this._updateFilterAriaLabel()}},_windowOpen:function(){if(!this.treeView){this._createTreeView(this.includeWindow.element.find(".k-treeview"))}d.progress(this.includeWindow.element,true);this.treeView.dataSource.read()},destroy:function(){h.fn.destroy.call(this);if(this.menu){this.menu.destroy();this.menu=null}if(this.treeView){this.treeView.destroy();this.treeView=null}if(this.includeWindow){this.includeWindow.destroy();this.includeWindow=null}this.wrapper=null;this.element=null}});function l(a,b){var c=[];for(var d=0,e=a.length;d<e;d++){if(a[d].field!==b){c.push(a[d])}}return c}function m(a,b,c){if(!a){return[]}a=a.filters;var d=0;var e=[];var f=a.length;var g;for(;d<f;d++){g=a[d].operator;if((!c&&g!=="in"||g===c)&&a[d].field===b){e.push(a[d])}}return e}function n(b,c,d){var e,f=0,g=d.length;b=m(b,c,"in")[0];if(!b){for(;f<g;f++){d[f].checked=true}}else{e=b.value.split(",");for(;f<g;f++){d[f].checked=a.inArray(d[f].uniqueName,e)>=0}}}function o(a,b){var c,d=a.length;for(c=0;c<d;c++){if(a[c].checked&&a[c].level()!==0){b.push(a[c].uniqueName)}if(a[c].hasChildren){o(a[c].children.view(),b)}}}var p='<div class="k-filterable k-content" tabindex="-1" data-role="fieldmenu">'+'<form class="k-filter-menu">'+"<div>"+'<div class="k-filter-help-text">#=messages.info#</div>'+"<select>"+"#for(var op in messages.operators){#"+'<option value="#=op#">#=messages.operators[op]#</option>'+"#}#"+"</select>"+'<input class="k-textbox" type="text" '+j+'="#=messages.filter#" />'+"<div>"+'<a class="k-button k-primary k-button-filter" href="\\#">#=messages.filter#</a>'+'<a class="k-button k-button-clear" href="\\#">#=messages.clear#</a>'+"</div>"+"</div>"+"</form>"+"</div>";var q='<ul class="k-pivot-fieldmenu">'+"# if (sortable) {#"+'<li class="k-item k-sort-asc">'+'<span class="k-link">'+'<span class="k-icon k-i-sort-asc-sm"></span>'+"${messages.sortAscending}"+"</span>"+"</li>"+'<li class="k-item k-sort-desc">'+'<span class="k-link">'+'<span class="k-icon k-i-sort-desc-sm"></span>'+"${messages.sortDescending}"+"</span>"+"</li>"+"# if (filterable) {#"+'<li class="k-separator"></li>'+"# } #"+"# } #"+"# if (filterable) {#"+'<li class="k-item k-include-item">'+'<span class="k-link">'+'<span class="k-icon k-i-filter"></span>'+"${messages.include}"+"</span>"+"</li>"+'<li class="k-separator"></li>'+'<li class="k-item '+i+'">'+'<span class="k-link">'+'<span class="k-icon k-i-filter"></span>'+"${messages.filterFields}"+"</span>"+"<ul>"+"<li>"+p+"</li>"+"</ul>"+"</li>"+"# } #"+"</ul>";var r='<div class="k-popup-edit-form k-pivot-filter-window"><div class="k-edit-form-container">'+'<div class="k-treeview"></div>'+'<div class="k-edit-buttons k-state-default">'+'<a class="k-button k-primary k-button-ok" href="\\#">'+"${messages.ok}"+"</a>"+'<a class="k-button k-button-cancel" href="\\#">'+"${messages.cancel}"+"</a>"+"</div></div>";d.plugin(k)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.filtercell",["kendo.autocomplete","kendo.datepicker","kendo.numerictextbox","kendo.combobox","kendo.dropdownlist"],a)})(function(){var a={id:"filtercell",name:"Row filter",category:"framework",depends:["autocomplete"],advanced:true};(function(a,b){var c=window.kendo,d=c.ui,e=c.data.DataSource,f=d.Widget,g="change",h="boolean",i="enums",j="string",k="Is equal to",l="Is not equal to",m=a.proxy,n=["isnull","isnotnull","isempty","isnotempty","isnullorempty","isnotnullorempty"];function o(b){var c=typeof b==="string"?b:b.operator;return a.inArray(c,n)>-1}function p(b,c){var d=[];if(a.isPlainObject(b)){if(b.hasOwnProperty("filters")){d=b.filters}else if(b.field==c){return b}}if(a.isArray(b)){d=b}for(var e=0;e<d.length;e++){var f=p(d[e],c);if(f){return f}}}function q(b,c){if(b.filters){b.filters=a.grep(b.filters,function(a){q(a,c);if(a.filters){return a.filters.length}else{return a.field!=c}})}}function r(a,b){var d=c.getter(b,true);return function(b){var c=a(b),e=[],f=0,g={};while(f<c.length){var h=c[f++],i=d(h);if(!g.hasOwnProperty(i)){e.push(h);g[i]=true}}return e}}var s=f.extend({init:function(d,e){d=a(d).addClass("k-filtercell");var k=this.wrapper=a("<span/>").appendTo(d);var l=this,n,p,q=e,r,s,t=l.operators=e.operators||{},u=l.input=a("<input/>").attr(c.attr("bind"),"value: value").appendTo(k);var v=e?e.suggestDataSource:null;if(v){e=a.extend({},e,{suggestDataSource:{}})}f.fn.init.call(l,d[0],e);if(v){l.options.suggestDataSource=v}e=l.options;n=l.dataSource=e.dataSource;l.model=n.reader.model;s=e.type=j;var w=c.getter("reader.model.fields",true)(n)||{};var x=w[e.field];if(x&&x.type){s=e.type=x.type}if(e.values){e.type=s=i}t=t[s]||e.operators[s];if(!q.operator){for(r in t){e.operator=r;break}}l._parse=function(a){return a!=null?a+"":a};if(l.model&&l.model.fields){var y=l.model.fields[e.field];if(y){if(y.parse){l._parse=m(y.parse,y)}}}l.defaultOperator=e.operator;l.viewModel=p=c.observable({operator:e.operator,value:null,operatorVisible:function(){var a=this.get("value");return a!==null&&a!==b&&a!="undefined"||o(this.get("operator"))&&!l._clearInProgress}});p.bind(g,m(l.updateDsFilter,l));if(s==j){l.initSuggestDataSource(e)}if(e.inputWidth!==null){u.addClass("k-sized-input");u.width(e.inputWidth)}u.attr("aria-label",l._getColumnTitle());l._setInputType(e,s);if(s!=h&&e.showOperators!==false){l._createOperatorDropDown(t)}else{a('<div unselectable="on" />').css("display","none").text("eq").appendTo(k);k.addClass("k-operator-hidden")}l._createClearIcon();c.bind(this.wrapper,p);if(s==j){if(!e.template){l.setAutoCompleteSource()}}if(s==i){l.setComboBoxSource(l.options.values)}l._refreshUI();l._refreshHandler=m(l._refreshUI,l);l.dataSource.bind(g,l._refreshHandler)},_setInputType:function(b,d){var e=this,f=e.input;if(typeof b.template=="function"){b.template.call(e.viewModel,{element:e.input,dataSource:e.suggestDataSource});e._angularItems("compile")}else if(d==j){f.attr(c.attr("role"),"autocomplete").attr(c.attr("text-field"),b.dataTextField||b.field).attr(c.attr("filter"),b.suggestionOperator).attr(c.attr("delay"),b.delay).attr(c.attr("min-length"),b.minLength).attr(c.attr("value-primitive"),true)}else if(d=="date"){f.attr(c.attr("role"),"datepicker")}else if(d==h){f.remove();var g=a("<input type='radio'/>");var k=e.wrapper;var l=c.guid();var m=a("<label/>").text(b.messages.isTrue).append(g);g.attr(c.attr("bind"),"checked:value").attr("name",l).val("true");var n=m.clone().text(b.messages.isFalse);g.clone().val("false").appendTo(n);k.append([m,n])}else if(d=="number"){f.attr(c.attr("role"),"numerictextbox").attr("title",e._getColumnTitle())}else if(d==i){f.attr(c.attr("role"),"combobox").attr(c.attr("text-field"),"text").attr(c.attr("suggest"),true).attr(c.attr("filter"),"contains").attr(c.attr("value-field"),"value").attr(c.attr("value-primitive"),true)}},_getColumnTitle:function(){var a=this.options.column;return a?a.title||a.field:""},_createOperatorDropDown:function(b){var d=[],e=this.viewModel;for(var f in b){d.push({text:b[f],value:f})}var g=a('<input class="k-dropdown-operator" '+c.attr("bind")+'="value: operator"/>').appendTo(this.wrapper);this.operatorDropDown=g.kendoDropDownList({dataSource:d,dataTextField:"text",dataValueField:"value",open:function(){this.popup.element.width(150)},valuePrimitive:true}).data("kendoDropDownList");e.bind("change",function(){var a=b[e.operator];g.attr("aria-label",a)});this.operatorDropDown.wrapper.find(".k-i-arrow-60-down").removeClass("k-i-arrow-60-down").addClass("k-i-filter")},initSuggestDataSource:function(a){var c=a.suggestDataSource;if(!(c instanceof e)){if(!a.customDataSource&&c){c.group=b}c=this.suggestDataSource=e.create(c)}if(!a.customDataSource){c._pageSize=b;c.reader.data=r(c.reader.data,this.options.field)}this.suggestDataSource=c},setAutoCompleteSource:function(){var a=this.input.data("kendoAutoComplete");if(a){a.setDataSource(this.suggestDataSource);
}},setComboBoxSource:function(a){var b=e.create({data:a});var c=this.input.data("kendoComboBox");if(c){c.setDataSource(b)}},_refreshUI:function(){var b=this,c=p(b.dataSource.filter(),this.options.field)||{},d=b.viewModel;b.manuallyUpdatingVM=true;c=a.extend(true,{},c);if(b.options.type==h){if(d.value!==c.value){b.wrapper.find(":radio").prop("checked",false)}}if(c.operator){d.set("operator",c.operator)}d.set("value",c.value);b.manuallyUpdatingVM=false},updateDsFilter:function(c){var d=this,e=d.viewModel;if(d.manuallyUpdatingVM||c.field=="operator"&&e.value===b&&!o(e)||c.field=="operator"&&d._clearInProgress){return}var f=a.extend({},d.viewModel.toJSON(),{field:d.options.field});var h={logic:"and",filters:[]};var i=false;if(f.value!==b&&f.value!==null||o(f)&&!this._clearInProgress){h.filters.push(f);i=d.trigger(g,{filter:h,field:d.options.field})}if(d._clearInProgress||f.value===null){i=d.trigger(g,{filter:null,field:d.options.field})}if(i){return}var j=d._merge(h);if(j.filters.length){d.dataSource.filter(j)}else{d.dataSource.filter({})}},_merge:function(b){var c=this,d=b.logic||"and",e=b.filters,f,g=c.dataSource.filter()||{filters:[],logic:"and"},h,i;q(g,c.options.field);for(h=0,i=e.length;h<i;h++){f=e[h];f.value=c._parse(f.value)}e=a.grep(e,function(a){return a.value!==""&&a.value!==null||o(a)});if(e.length){if(g.filters.length){b.filters=e;if(g.logic!=="and"){g.filters=[{logic:g.logic,filters:g.filters}];g.logic="and"}if(e.length>1){g.filters.push(b)}else{g.filters.push(e[0])}}else{g.filters=e;g.logic=d}}return g},_createClearIcon:function(){var b=this;a("<button type='button' class='k-button k-button-icon' title = "+b.options.messages.clear+"/>").attr("aria-label",b.options.messages.clear).attr(c.attr("bind"),"visible:operatorVisible").html("<span class='k-icon k-i-filter-clear'/>").click(m(b.clearFilter,b)).appendTo(b.wrapper)},clearFilter:function(){this._clearInProgress=true;if(o(this.viewModel.operator)){this.viewModel.set("operator",this.defaultOperator)}this.viewModel.set("value",null);this._clearInProgress=false},_angularItems:function(a){var b=this.wrapper.closest("th").get();var c=this.options.column;this.angular(a,function(){return{elements:b,data:[{column:c}]}})},destroy:function(){var a=this;a.filterModel=null;a.operatorDropDown=null;a._angularItems("cleanup");if(a._refreshHandler){a.dataSource.bind(g,a._refreshHandler);a._refreshHandler=null}c.unbind(a.element);f.fn.destroy.call(a);c.destroy(a.element)},events:[g],options:{name:"FilterCell",delay:200,minLength:1,inputWidth:null,values:b,customDataSource:false,field:"",dataTextField:"",type:"string",suggestDataSource:null,suggestionOperator:"startswith",operator:"eq",showOperators:true,template:null,messages:{isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",operator:"Operator"},operators:{string:{eq:k,neq:l,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with",isnull:"Is null",isnotnull:"Is not null",isempty:"Is empty",isnotempty:"Is not empty",isnullorempty:"Has no value",isnotnullorempty:"Has value"},number:{eq:k,neq:l,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than",isnull:"Is null",isnotnull:"Is not null"},date:{eq:k,neq:l,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before",isnull:"Is null",isnotnull:"Is not null"},enums:{eq:k,neq:l,isnull:"Is null",isnotnull:"Is not null"}}}});d.plugin(s)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.panelbar",["kendo.data"],a)})(function(){var a={id:"panelbar",name:"PanelBar",category:"web",description:"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.",depends:["core","data","data.odata"]};(function(a,b){var c=window.kendo,d=c.ui,e=c.keys,f=a.extend,g=a.proxy,h=a.each,i=a.isArray,j=c.template,k=d.Widget,l=c.data.HierarchicalDataSource,m=/^(ul|a|div)$/i,n=".kendoPanelBar",o="img",p="href",q="k-last",r="k-link",s="."+r,t="error",u=".k-item",v=".k-group",w=v+":visible",x="k-image",y="k-first",z="change",A="expand",B="select",C="k-content",D="activate",E="collapse",F="dataBound",G="mouseenter",H="mouseleave",I="contentLoad",J="undefined",K="k-state-active",L="> .k-panel",M="> .k-content",N="string",O="k-state-focused",P="k-state-disabled",Q="k-state-selected",R="."+Q,S="k-state-highlight",T=u+":not(.k-state-disabled)",U="> "+T+" > "+s+", .k-panel > "+T+" > "+s,V=u+".k-state-disabled > .k-link",W="> li > "+R+", .k-panel > li > "+R,X="k-state-default",Y="aria-disabled",Z="aria-expanded",$="aria-hidden",_="aria-selected",aa=":visible",ba=":empty",ca="single",da={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},ea,fa={aria:function(a){var b="";if(a.items||a.content||a.contentUrl||a.expanded){b+=Z+"='"+(a.expanded?"true":"false")+"' "}if(a.enabled===false){b+=Y+"='true'"}return b},wrapperCssClass:function(a,b){var c="k-item",d=b.index;if(b.enabled===false){c+=" "+P}else if(b.expanded===true){c+=" "+K}else{c+=" k-state-default"}if(d===0){c+=" k-first"}if(d==a.length-1){c+=" k-last"}if(b.cssClass){c+=" "+b.cssClass}return c},textClass:function(a,b){var c=r;if(b.firstLevel){c+=" k-header"}if(a.selected){c+=" "+Q}return c},textAttributes:function(a){return a?" href='"+a+"'":""},arrowClass:function(a){var b="k-icon";b+=a.expanded?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down";return b},text:function(a){return a.encoded===false?a.text:c.htmlEncode(a.text)},groupAttributes:function(a){return a.expanded!==true?" style='display:none'":""},ariaHidden:function(a){return a.expanded!==true},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(a){return a.item.expanded!==true?" style='display:none'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?'href="'+a.contentUrl+'"':""}};function ga(b){b=a(b);b.filter(".k-first:not(:first-child)").removeClass(y);b.filter(".k-last:not(:last-child)").removeClass(q);b.filter(":first-child").addClass(y);b.filter(":last-child").addClass(q)}function ha(b){var c=b,d=b.children("ul"),e=c.children(".k-link").children(".k-icon");if(b.hasClass("k-panelbar")){return}if(!e.length&&d.length){e=a("<span class='k-icon' />").appendTo(c)}else if(!d.length||!d.children().length){e.remove();d.remove()}}ea=function(a){return a.children("span").children(".k-icon")};var ia=c.ui.DataBoundWidget.extend({init:function(b,d){var e=this,f,h;if(i(d)){d={dataSource:d}}h=d&&!!d.dataSource;k.fn.init.call(e,b,d);b=e.wrapper=e.element.addClass("k-widget k-reset k-header k-panelbar");d=e.options;if(b[0].id){e._itemId=b[0].id+"_pb_active"}e._tabindex();e._accessors();e._dataSource();e._templates();e._initData(h);e._updateClasses();e._animations(d);b.on("click"+n,U,function(b){if(e._click(a(b.currentTarget))){b.preventDefault()}}).on(G+n+" "+H+n,U,e._toggleHover).on("click"+n,V,false).on("click"+n,".k-request-retry",g(e._retryRequest,e)).on("keydown"+n,a.proxy(e._keydown,e)).on("focus"+n,function(){var a=e.select();e._current(a[0]?a:e._first())}).on("blur"+n,function(){e._current(null)}).attr("role","menu");f=b.find("li."+K+" > ."+C);if(f[0]){e.expand(f.parent(),false)}if(!d.dataSource){e._angularCompile()}c.notify(e)},events:[A,E,B,D,z,t,F,I],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:true,loadOnDemand:true,expandMode:"multiple",template:"",dataTextField:null},_angularCompile:function(){var a=this;a.angular("compile",function(){return{elements:a.element.children("li"),data:[{dataItem:a.options.$angular}]}})},_angularCompileElements:function(b,c){var d=this;d.angular("compile",function(){return{elements:b,data:a.map(c,function(a){return[{dataItem:a}]})}})},_angularCleanup:function(){var a=this;a.angular("cleanup",function(){return{elements:a.element.children("li")}})},destroy:function(){k.fn.destroy.call(this);this.element.off(n);this._angularCleanup();c.destroy(this.element)},_initData:function(a){var b=this;if(a){b.element.empty();if(b.options.autoBind){b._progress(true);b.dataSource.fetch()}}},_templates:function(){var a=this,b=a.options,d=g(a._fieldAccessor,a);if(b.template&&typeof b.template==N){b.template=j(b.template)}else if(!b.template){b.template=j("# var text = "+d("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #")}a.templates={content:j("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:j("<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>"+"#= renderItems(data) #"+"</ul>"),itemWrapper:j("# var url = "+d("url")+"(item); #"+"# var imageUrl = "+d("imageUrl")+"(item); #"+"# var spriteCssClass = "+d("spriteCssClass")+"(item); #"+"# var contentUrl = contentUrl(item); #"+"# var tag = url||contentUrl ? 'a' : 'span'; #"+"<#= tag # class='#= textClass(item, group) #' #= contentUrl ##= textAttributes(url) #>"+"# if (imageUrl) { #"+"<img class='k-image' alt='' src='#= imageUrl #' />"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #'></span>"+"# } #"+"#= data.panelBar.options.template(data) #"+"#= arrow(data) #"+"</#= tag #>"),item:j("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+c.attr("uid")+"='#= item.uid #'>"+"#= itemWrapper(data) #"+"# if (item.items && item.items.length > 0) { #"+"#= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) #"+"# } else if (item.content || item.contentUrl) { #"+"#= renderContent(data) #"+"# } #"+"</li>"),loading:j("<div class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</div>"),retry:j("#: data.messages.requestFailed # "+"<button class='k-button k-request-retry'>#: data.messages.retry #</button>"),arrow:j("<span class='#= arrowClass(item) #'></span>"),empty:j("")}},setOptions:function(a){var b=this.options.animation;this._animations(a);a.animation=f(true,b,a.animation);if("dataSource"in a){this.setDataSource(a.dataSource)}k.fn.setOptions.call(this,a)},expand:function(b,c){var d=this,e={};b=this.element.find(b);if(d._animating&&b.find("ul").is(":visible")){d.one("complete",function(){setTimeout(function(){d.expand(b)})});return}d._animating=true;c=c!==false;b.each(function(f,g){g=a(g);var h=b.children(".k-group,.k-content");if(!h.length){h=d._addGroupElement(b)}var i=h.add(g.find(M));if(!g.hasClass(P)&&i.length>0){if(d.options.expandMode==ca&&d._collapseAllExpanded(g)){return d}b.find("."+S).removeClass(S);g.addClass(S);if(!c){e=d.options.animation;d.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!d._triggerEvent(A,g)){d._toggleItem(g,false,false)}if(!c){d.options.animation=e}}});return d},collapse:function(b,c){var d=this,e={};d._animating=true;c=c!==false;b=d.element.find(b);b.each(function(b,f){f=a(f);var g=f.find(L).add(f.find(M));if(!f.hasClass(P)&&g.is(aa)){f.removeClass(S);if(!c){e=d.options.animation;d.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!d._triggerEvent(E,f)){d._toggleItem(f,true)}if(!c){d.options.animation=e}}});return d},updateArrow:function(b){var c=this;b=a(b);b.children(s).children(".k-panelbar-collapse, .k-panelbar-expand").remove();b.filter(function(){var b=c.dataItem(this);if(!b){return a(this).find(".k-panel").length>0||a(this).find(".k-content").length>0}return b.hasChildren||b.content||b.contentUrl}).children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent();b.append("<span class='k-icon "+(c.hasClass(K)?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down")+"'/>")})},_accessors:function(){var a=this,b=a.options,d,e,f,g=a.element;for(d in da){e=b[da[d]];f=g.attr(c.attr(d+"-field"));if(!e&&f){e=f}if(!e){e=d}if(!i(e)){e=[e]}b[da[d]]=e}},_progress:function(a,b){var c=this.element;var d=this.templates.loading({messages:this.options.messages});if(arguments.length==1){b=a;if(b){c.html(d)}else{c.empty()}}else{ea(a).toggleClass("k-i-loading",b).removeClass("k-i-refresh")}},_refreshRoot:function(b){var c=this;var d=c.element;var e={firstLevel:true,expanded:true,length:d.children().length};this.element.empty();var g=a.map(b,function(b,d){if(typeof b==="string"){return a(b)}else{b.items=[];return a(c.renderItem({group:e,item:f(b,{index:d})}))}});this.element.append(g);this._angularCompileElements(g,b)},_refreshChildren:function(a,b){var c,e,f;b.children(".k-group").empty();var g=a.children.data();if(!g.length){ha(b);e=b.children(".k-group").children("li");this._angularCompileElements(e,g)}else{this.append(a.children,b);if(this.options.loadOnDemand){this._toggleGroup(b.children(".k-group"),false)}e=b.children(".k-group").children("li");for(c=0;c<e.length;c++){f=e.eq(c);this.trigger("itemChange",{item:f,data:this.dataItem(f),ns:d})}}},findByUid:function(b){var d=this.element.find(".k-item");var e=c.attr("uid");var f;for(var g=0;g<d.length;g++){if(d[g].getAttribute(e)==b){f=d[g];break}}return a(f)},refresh:function(a){var c=this.options;var d=a.node;var e=a.action;var f=a.items;var g=this.wrapper;var h=c.loadOnDemand;if(a.field){if(!f[0]||!f[0].level){return}return this._updateItems(f,a.field)}if(d){g=this.findByUid(d.uid);this._progress(g,false)}if(e=="add"){this._appendItems(a.index,f,g)}else if(e=="remove"){this.remove(this.findByUid(f[0].uid))}else if(e=="itemchange"){this._updateItems(f)}else if(e=="itemloaded"){this._refreshChildren(d,g)}else{this._refreshRoot(f)}if(e!="remove"){for(var i=0;i<f.length;i++){if(!h||f[i].expanded){var j=f[i];if(this._hasChildItems(j)){j.load()}}}}this.trigger(F,{node:d?g:b})},_error:function(a){var b=a.node&&this.findByUid(a.node.uid);var c=this.templates.retry({messages:this.options.messages});if(b){this._progress(b,false);this._expanded(b,false);ea(b).addClass("k-i-refresh");a.node.loaded(false)}else{this._progress(false);this.element.html(c)}},_retryRequest:function(a){a.preventDefault();this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(a){var b=this.options;b.dataSource=a;this._dataSource();if(this.options.autoBind){this._progress(true);this.dataSource.fetch()}},_bindDataSource:function(){this._refreshHandler=g(this.refresh,this);this._errorHandler=g(this._error,this);this.dataSource.bind(z,this._refreshHandler);this.dataSource.bind(t,this._errorHandler)},_unbindDataSource:function(){var a=this.dataSource;if(a){a.unbind(z,this._refreshHandler);a.unbind(t,this._errorHandler)}},_fieldAccessor:function(b){var d=this.options[da[b]]||[],e=d.length,f="(function(item) {";if(e===0){f+="return item['"+b+"'];"}else{f+="var levels = ["+a.map(d,function(a){return"function(d){ return "+c.expr(a)+"}"}).join(",")+"];";f+="if(item.level){return levels[Math.min(item.level(), "+e+"-1)](item);}else";f+="{return levels["+e+"-1](item)}"}f+="})";return f},_dataSource:function(){var a=this,b=a.options,c=b.dataSource;if(!c){return}c=i(c)?{data:c}:c;a._unbindDataSource();if(!c.fields){c.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}a.dataSource=l.create(c);a._bindDataSource()},_appendItems:function(b,c,d){var e=this,g,h;if(d.hasClass("k-panelbar")){g=d.children("li");h=d}else{h=d.children(".k-group");if(!h.length){h=e._addGroupElement(d)}g=h.children("li")}var i={firstLevel:d.hasClass("k-panelbar"),expanded:true,length:g.length};var j=a.map(c,function(b,c){if(typeof b==="string"){return a(b)}else{return a(e.renderItem({group:i,item:f(b,{index:c})}))}});if(typeof b==J){b=g.length}for(var k=0;k<j.length;k++){if(g.length===0||b===0){h.append(j[k])}else{j[k].insertAfter(g[b-1])}}e._angularCompileElements(j,c);if(e.dataItem(d)){e.dataItem(d).hasChildren=true;e.updateArrow(d)}},_updateItems:function(b,c){var e=this;var g,h,i,j;var k={panelBar:e.options,item:j,group:{}};var l=c!="expanded";if(c=="selected"){if(b[0][c]){var m=e.findByUid(b[0].uid);if(!m.hasClass(P)){e.select(m,true)}}else{e.clearSelection()}}else{var n=a.map(b,function(a){return e.findByUid(a.uid)});if(l){e.angular("cleanup",function(){return{elements:n}})}for(g=0;g<b.length;g++){k.item=j=b[g];k.panelBar=e;i=n[g];h=i.parent();if(l){k.group={firstLevel:h.hasClass("k-panelbar"),expanded:i.parent().hasClass(K),length:i.children().length};i.children(".k-link").remove();i.prepend(e.templates.itemWrapper(f(k,{arrow:j.hasChildren||j.content||j.contentUrl?e.templates.arrow:e.templates.empty},fa)))}if(c=="expanded"){e._toggleItem(i,!j[c],j[c]?"true":true)}else if(c=="enabled"){e.enable(i,j[c]);if(!j[c]){if(j.selected){j.set("selected",false)}}}if(i.length){this.trigger("itemChange",{item:i,data:j,ns:d})}}if(l){e.angular("compile",function(){return{elements:n,data:a.map(b,function(a){return[{dataItem:a}]})}})}}},_toggleDisabled:function(a,b){a=this.element.find(a);a.toggleClass(X,b).toggleClass(P,!b).attr(Y,!b)},dataItem:function(b){var d=a(b).closest(u).attr(c.attr("uid")),e=this.dataSource;return e&&e.getByUid(d)},select:function(c,d){var e=this;if(c===b){return e.element.find(W).parent()}c=e.element.find(c);if(!c.length){this._updateSelected(c)}else{c.each(function(){var b=a(this),c=b.children(s);if(b.hasClass(P)){return e}e._updateSelected(c,d)})}return e},clearSelection:function(){this.select(a())},enable:function(a,b){this._toggleDisabled(a,b!==false);return this},disable:function(a){this._toggleDisabled(a,false);return this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find(L):null);h(c.items,function(){c.group.append(this);ga(this)});this.updateArrow(b);ga(c.group.find(".k-first, .k-last"));c.group.height("auto");return this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());h(c.items,function(){b.before(this);ga(this)});ga(b);c.group.height("auto");return this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());h(c.items,function(){b.after(this);ga(this)});ga(b);c.group.height("auto");return this},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,u),d=a.parent("ul");a.remove();if(d&&!d.hasClass("k-panelbar")&&!d.children(u).length){d.remove()}if(c.length){c=c.eq(0);b.updateArrow(c);ga(c)}return b},reload:function(b){var c=this;b=c.element.find(b);b.each(function(){var b=a(this);c._ajaxRequest(b,b.children("."+C),!b.is(aa))})},_first:function(){return this.element.children(T).first()},_last:function(){var a=this.element.children(T).last(),b=a.children(w);if(b[0]){return b.children(T).last()}return a},_current:function(c){var d=this,e=d._focused,f=d._itemId;if(c===b){return e}d.element.removeAttr("aria-activedescendant");if(e&&e.length){if(e[0].id===f){e.removeAttr("id")}e.children(s).removeClass(O)}if(a(c).length){f=c[0].id||f;c.attr("id",f).children(s).addClass(O);d.element.attr("aria-activedescendant",f)}d._focused=c},_keydown:function(a){var b=this,c=a.keyCode,d=b._current();if(a.target!=a.currentTarget){return}if(c==e.DOWN||c==e.RIGHT){b._current(b._nextItem(d));a.preventDefault()}else if(c==e.UP||c==e.LEFT){b._current(b._prevItem(d));a.preventDefault()}else if(c==e.ENTER||c==e.SPACEBAR){b._click(d.children(s));a.preventDefault()}else if(c==e.HOME){b._current(b._first());a.preventDefault()}else if(c==e.END){b._current(b._last());a.preventDefault()}},_nextItem:function(a){if(!a){return this._first()}var b=a.children(w),c=a.nextAll(":visible").first();if(b[0]){c=b.children("."+y)}if(!c[0]){c=a.parent(w).parent(u).next()}if(!c[0]){c=this._first()}if(c.hasClass(P)){c=this._nextItem(c)}return c},_prevItem:function(a){if(!a){return this._last()}var b=a.prevAll(":visible").first(),c;if(!b[0]){b=a.parent(w).parent(u);if(!b[0]){b=this._last()}}else{c=b;while(c[0]){c=c.children(w).children("."+q);if(c[0]){b=c}}}if(b.hasClass(P)){b=this._prevItem(b)}return b},_insert:function(b,c,d){var e=this,g,h=a.isPlainObject(b),i=c&&c[0],j;if(!i){d=e.element}j={firstLevel:d.hasClass("k-panelbar"),expanded:a(c).hasClass(K),length:d.children().length};if(i&&!d.length){d=a(e.renderGroup({group:j,options:e.options})).appendTo(c)}if(h||a.isArray(b)||b instanceof l){if(b instanceof l){b=b.data()}g=a.map(h?[b]:b,function(b,c){if(typeof b==="string"){return a(b)}else{return a(e.renderItem({group:j,item:f(b,{index:c})}))}});if(i){var k=e.dataItem(c);if(k){k.hasChildren=true;c.attr(Z,k.expanded).not("."+K).children("ul").attr($,!k.expanded)}else{c.attr(Z,false)}}}else{if(typeof b=="string"&&b.charAt(0)!="<"){g=e.element.find(b)}else{g=a(b)}e._updateItemsClasses(g)}if(!b.length){b=[b]}e._angularCompileElements(g,b);return{items:g,group:d}},_toggleHover:function(b){var c=a(b.currentTarget);if(!c.parents("li."+P).length){c.toggleClass("k-state-hover",b.type==G)}},_updateClasses:function(){var b=this,c,d,e,f,g;c=b.element.find("li > ul").not(function(){return a(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");f=c.parent();g=b.dataItem(f);e=g&&g.expanded||false;c.parent().attr(Z,e).not("."+K).children("ul").attr($,!e).hide();d=b.element.add(c).children();b._updateItemsClasses(d);b.updateArrow(d);ga(d)},_updateItemsClasses:function(a){var b=a.length,c=0;for(;c<b;c++){this._updateItemClasses(a[c],c)}},_updateItemClasses:function(b,d){var e=this._selected,f=this.options.contentUrls,g=f&&f[d],h=this.element[0],i,j;b=a(b).addClass("k-item").attr("role","menuitem");if(c.support.browser.msie){b.css("list-style-position","inside").css("list-style-position","")}b.children(o).addClass(x);j=b.children("a").addClass(r);if(j[0]){j.attr("href",g);j.children(o).addClass(x)}b.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");b.filter("li[disabled]").addClass("k-state-disabled").attr(Y,true).removeAttr("disabled");b.children("div").addClass(C).attr("role","region").attr($,true).hide().parent().attr(Z,false);j=b.children(R);if(j[0]){if(e){e.removeAttr(_).children(R).removeClass(Q)}j.addClass(Q);this._selected=b.attr(_,true)}if(!b.children(s)[0]){i="<span class='"+r+"'/>";if(f&&f[d]&&b[0].parentNode==h){i='<a class="k-link k-header" href="'+f[d]+'"/>'}b.contents().filter(function(){return!this.nodeName.match(m)&&!(this.nodeType==3&&!a.trim(this.nodeValue))}).wrapAll(i)}if(b.parent(".k-panelbar")[0]){b.children(s).addClass("k-header")}},_click:function(a){var b=this,c=b.element,d,e,f,g;if(a.parents("li."+P).length){return}if(a.closest(".k-widget")[0]!=c[0]){return}var h=a.closest(s),i=h.closest(u);b._updateSelected(h);var j=i.children(".k-group,.k-content");var k=this.dataItem(i);if(!j.length&&(b.options.loadOnDemand&&k&&k.hasChildren||this._hasChildItems(i)||i.content||i.contentUrl)){j=b._addGroupElement(i)}e=i.find(L).add(i.find(M));f=h.attr(p);g=f&&(f.charAt(f.length-1)=="#"||f.indexOf("#"+b.element[0].id+"-")!=-1);d=!!(g||e.length);if(e.data("animating")){return d}if(b._triggerEvent(B,i)){d=true}if(d===false){return}if(b.options.expandMode==ca){if(b._collapseAllExpanded(i)){return d}}if(e.length){var l=e.is(aa);if(!b._triggerEvent(!l?A:E,i)){d=b._toggleItem(i,l)}}return d},_hasChildItems:function(a){return a.items&&a.items.length>0||a.hasChildren},_toggleItem:function(a,c,d){var e=this,f=a.find(L),g=a.find(s),h=g.attr(p),i,j,k=e.dataItem(a),l=!c;var m=k&&k.loaded();if(k&&!d&&k.expanded!==l){k.set("expanded",l);i=k.hasChildren||!!k.content||!!k.contentUrl;return i}if(k&&(!d||d==="true")&&!m&&!k.content&&!k.contentUrl){if(e.options.loadOnDemand){this._progress(a,true)}a.children(".k-group,.k-content").remove();i=k.hasChildren;k.load()}else{if(f.length){this._toggleGroup(f,c);i=true}else{j=a.children("."+C);if(j.length){i=true;if(!j.is(ba)||h===b){e._toggleGroup(j,c)}else{e._ajaxRequest(a,j,c)}}}}return i},_toggleGroup:function(a,b){var c=this,d=c.options.animation,e=d.expand,g=d.collapse&&"effects"in d.collapse,h=f({},d.expand,d.collapse);if(!g){h=f(h,{reverse:true})}if(a.is(aa)!=b){c._animating=false;return}a.attr($,!!b);a.parent().attr(Z,!b).toggleClass(K,!b).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-60-up",!b).toggleClass("k-panelbar-collapse",!b).toggleClass("k-i-arrow-60-down",b).toggleClass("k-panelbar-expand",b);if(b){e=f(h,{hide:true});e.complete=function(){c._animationCallback()}}else{e=f({complete:function(a){c._triggerEvent(D,a.closest(u));c._animationCallback()}},e)}a.kendoStop(true,true).kendoAnimate(e)},_animationCallback:function(){var a=this;a.trigger("complete");a._animating=false},_addGroupElement:function(b){var c=a('<ul role="group" aria-hidden="true" class="k-group k-panel" style="display:none"></ul>');b.append(c);return c},_collapseAllExpanded:function(b){var c=this,d,e=false;var f=b.find(L).add(b.find(M));if(f.is(aa)){e=true}if(!(f.is(aa)||f.length===0)){d=b.siblings();d.find(L).add(d.find(M)).filter(function(){return a(this).is(aa)}).each(function(b,d){d=a(d);e=c._triggerEvent(E,d.closest(u));if(!e){c._toggleGroup(d,true)}});c.one("complete",function(){setTimeout(function(){d.each(function(a,b){var d=c.dataItem(b);if(d){d.set("expanded",false)}})})})}return e},_ajaxRequest:function(b,c,d){var e=this,f=b.find(".k-panelbar-collapse, .k-panelbar-expand"),g=b.find(s),h=setTimeout(function(){f.addClass("k-i-loading")},100),i={},j=g.attr(p);a.ajax({type:"GET",cache:false,url:j,dataType:"html",data:i,error:function(a,b){f.removeClass("k-i-loading");if(e.trigger(t,{xhr:a,status:b})){this.complete()}},complete:function(){clearTimeout(h);f.removeClass("k-i-loading")},success:function(a){function f(){return{elements:c.get()}}try{e.angular("cleanup",f);c.html(a);e.angular("compile",f)}catch(a){var g=window.console;if(g&&g.error){g.error(a.name+": "+a.message+" in "+j)}this.error(this.xhr,"error")}e._toggleGroup(c,d);e.trigger(I,{item:b[0],contentElement:c[0]})}})},_triggerEvent:function(a,b){var c=this;return c.trigger(a,{item:b[0]})},_updateSelected:function(a,b){var c=this,d=c.element,e=a.parent(u),f=c._selected,g=c.dataItem(e);if(f){f.removeAttr(_)}c._selected=e.attr(_,true);d.find(W).removeClass(Q);d.find("> ."+S+", .k-panel > ."+S).removeClass(S);a.addClass(Q);a.parentsUntil(d,u).filter(":has(.k-header)").addClass(S);c._current(e[0]?e:null);if(g){g.set("selected",true)}if(!b){c.trigger(z)}},_animations:function(a){if(a&&"animation"in a&&!a.animation){a.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}},renderItem:function(a){var b=this;a=f({panelBar:b,group:{}},a);var c=b.templates.empty,d=a.item;return b.templates.item(f(a,{itemWrapper:b.templates.itemWrapper,renderContent:b.renderContent,arrow:b._hasChildItems(d)||d.content||d.contentUrl?b.templates.arrow:c,subGroup:!a.loadOnDemand||d.expanded?b.renderGroup:c},fa))},renderGroup:function(a){var b=this;var c=b.templates||a.panelBar.templates;return c.group(f({renderItems:function(a){var b="",c=0,d=a.items,e=d?d.length:0,g=f({length:e},a.group);for(;c<e;c++){b+=a.panelBar.renderItem(f(a,{group:g,item:f({index:c},d[c])}))}return b}},a,fa))},renderContent:function(a){return a.panelBar.templates.content(f(a,fa))}});c.ui.plugin(ia)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.responsivepanel",["kendo.core"],a)})(function(){var a={id:"responsive-panel",name:"Responsive Panel",category:"web",description:"The Responsive Panel widget allows a panel of content to be hidden on mobile devices, available through a toggle button.",depends:["core"]};(function(a,b){var c=a.proxy;var d=".kendoResponsivePanel";var e="open";var f="close";var g="click"+d+" touchstart"+d;var h=kendo.ui.Widget;var i=h.extend({init:function(b,e){h.fn.init.call(this,b,e);this._guid="_"+kendo.guid();this._toggleHandler=c(this._toggleButtonClick,this);this._closeHandler=c(this._close,this);a(document.documentElement).on(g,this.options.toggleButton,this._toggleHandler);this._registerBreakpoint();this.element.addClass("k-rpanel k-rpanel-"+this.options.orientation+" "+this._guid);this._resizeHandler=c(this.resize,this,true);a(window).on("resize"+d,this._resizeHandler)},_mediaQuery:"@media (max-width: #= breakpoint-1 #px) {"+".#= guid #.k-rpanel-animate.k-rpanel-left,"+".#= guid #.k-rpanel-animate.k-rpanel-right {"+"-webkit-transition: -webkit-transform .2s ease-out;"+"-ms-transition: -ms-transform .2s ease-out;"+"transition: transform .2s ease-out;"+"} "+".#= guid #.k-rpanel-top {"+"overflow: hidden;"+"}"+".#= guid #.k-rpanel-animate.k-rpanel-top {"+"-webkit-transition: max-height .2s linear;"+"-ms-transition: max-height .2s linear;"+"transition: max-height .2s linear;"+"}"+"} "+"@media (min-width: #= breakpoint #px) {"+"#= toggleButton # { display: none; } "+".#= guid #.k-rpanel-left { float: left; } "+".#= guid #.k-rpanel-right { float: right; } "+".#= guid #.k-rpanel-left, .#= guid #.k-rpanel-right {"+"position: relative;"+"-webkit-transform: translateX(0);"+"-ms-transform: translateX(0);"+"transform: translateX(0);"+"-webkit-transform: translateX(0) translateZ(0);"+"-ms-transform: translateX(0) translateZ(0);"+"transform: translateX(0) translateZ(0);"+"} "+".k-ie9 .#= guid #.k-rpanel-left { left: 0; } "+".#= guid #.k-rpanel-top { max-height: none; }"+"}",_registerBreakpoint:function(){var a=this.options;this._registerStyle(kendo.template(this._mediaQuery)({breakpoint:a.breakpoint,toggleButton:a.toggleButton,guid:this._guid}))},_registerStyle:function(b){var c=a("head,body")[0];var d=document.createElement("style");c.appendChild(d);if(d.styleSheet){d.styleSheet.cssText=b}else{d.appendChild(document.createTextNode(b))}},options:{name:"ResponsivePanel",orientation:"left",toggleButton:".k-rpanel-toggle",breakpoint:640,autoClose:true},events:[e,f],_resize:function(){this.element.removeClass("k-rpanel-animate k-rpanel-expanded");a(document.documentElement).off(g,this._closeHandler)},_toggleButtonClick:function(a){a.preventDefault();if(this.element.hasClass("k-rpanel-expanded")){this.close()}else{this.open()}},open:function(){if(!this.trigger(e)){this.element.addClass("k-rpanel-animate k-rpanel-expanded");if(this.options.autoClose){a(document.documentElement).on(g,this._closeHandler)}}},close:function(){if(!this.trigger(f)){this.element.addClass("k-rpanel-animate").removeClass("k-rpanel-expanded");a(document.documentElement).off(g,this._closeHandler)}},_close:function(b){var c=b.isDefaultPrevented();var d=a(b.target).closest(this.options.toggleButton+",.k-rpanel");if(!d.length&&!c){this.close()}},destroy:function(){h.fn.destroy.call(this);a(window).off("resize"+d,this._resizeHandler);a(document.documentElement).off(g,this._closeHandler)}});kendo.ui.plugin(i)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.timepicker",["kendo.popup","kendo.dateinput"],a)})(function(){var a={id:"timepicker",name:"TimePicker",category:"web",description:"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",depends:["popup"]};(function(a,b){var c=window.kendo,d=c.keys,e=c.parseDate,f=c._activeElement,g=c._extractFormat,h=c.support,i=h.browser,j=c.ui,k=j.Widget,l="open",m="close",n="change",o=".kendoTimePicker",p="click"+o,q="k-state-default",r="disabled",s="readonly",t="li",u="<span/>",v="k-state-focused",w="k-state-hover",x="mouseenter"+o+" mouseleave"+o,y="mousedown"+o,z=6e4,A=864e5,B="k-state-selected",C="k-state-disabled",D="aria-selected",E="aria-expanded",F="aria-hidden",G="aria-disabled",H="aria-activedescendant",I="id",J=a.isArray,K=a.extend,L=a.proxy,M=Date,N=new M;N=new M(N.getFullYear(),N.getMonth(),N.getDate(),0,0,0);var O=function(b){var d=this,e=b.id;d.options=b;d._dates=[];d.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({
overflow:h.kineticScrollNeeded?"":"auto"}).on(p,t,L(d._click,d)).on("mouseenter"+o,t,function(){a(this).addClass(w)}).on("mouseleave"+o,t,function(){a(this).removeClass(w)});d.list=a("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(d.ul).on(y,W);if(e){d._timeViewID=e+"_timeview";d._optionID=e+"_option_selected";d.ul.attr(I,d._timeViewID)}d._popup();d._heightHandler=L(d._height,d);d.template=c.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};O.prototype={current:function(c){var d=this,e=d.options.active;if(c!==b){if(d._current){d._current.removeClass(B).removeAttr(D).removeAttr(I)}if(c){c=a(c).addClass(B).attr(I,d._optionID).attr(D,true);d.scroll(c[0])}d._current=c;if(e){e(c)}}else{return d._current}},close:function(){this.popup.close()},destroy:function(){var a=this;a.ul.off(o);a.list.off(o);a.popup.destroy()},open:function(){var a=this;var b;if(!a.ul[0].firstChild){a.bind()}b=a.popup._hovered;a.popup._hovered=true;a.popup.open();setTimeout(function(){a.popup._hovered=b},1);if(a._current){a.scroll(a._current[0])}},dataBind:function(a){var b=this,d=b.options,e=d.format,f=c.toString,g=b.template,h=a.length,i=0,j,k="";for(;i<h;i++){j=a[i];if(T(j,d.min,d.max)){k+=g(f(j,e,d.culture))}}b._html(k)},refresh:function(){var a=this,b=a.options,d=b.format,e=Q(),f=e<0,g=b.min,h=b.max,i=R(g),j=R(h),k=R(S(b.interval)),l=b.interval*z,m=c.toString,n=a.template,o=new M(+g),p=new M(o),q,r,s=0,t,u="";if(f){t=(A+e*z)/l}else{t=A/l}if(i!=j||k===j){if(i>j){j+=A}t=(j-i)/l+1}r=parseInt(t,10);for(;s<t;s++){if(s){P(o,l,f)}if(j&&r==s){q=R(o);if(p<o){q+=A}if(q>j){o=new M(+h)}}a._dates.push(R(o));u+=n(m(o,d,b.culture))}a._html(u)},bind:function(){var a=this,b=a.options.dates;if(b&&b[0]){a.dataBind(b)}else{a.refresh()}},_html:function(a){var b=this;b.ul[0].innerHTML=a;b.popup.unbind(l,b._heightHandler);b.popup.one(l,b._heightHandler);b.current(null);b.select(b._value)},scroll:function(a){if(!a){return}var b=this.list[0],c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d;if(e>c){e=c}else if(g>e+f){e=g-f}b.scrollTop=e},select:function(b){var d=this,e=d.options,f=d._current,g;if(b instanceof Date){b=c.toString(b,e.format,e.culture)}if(typeof b==="string"){if(!f||f.text()!==b){b=a.grep(d.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b});b=b[0]?b:null}else{b=f}}g=d._distinctSelection(b);d.current(g)},_distinctSelection:function(b){var c=this,d,e;if(b&&b.length>1){d=R(c._value);e=a.inArray(d,c._dates);b=c.ul.children()[e]}return b},setOptions:function(a){var b=this.options;a.min=e(a.min);a.max=e(a.max);this.options=K(b,a,{active:b.active,change:b.change,close:b.close,open:b.open});this.bind()},toggle:function(){var a=this;if(a.popup.visible()){a.close()}else{a.open()}},value:function(a){var b=this;b._value=a;if(b.ul[0].firstChild){b.select(a)}},_click:function(b){var c=this,d=a(b.currentTarget),e=d.text(),f=c.options.dates;if(f&&f.length>0){e=f[d.index()]}if(!b.isDefaultPrevented()){c.select(d);c.options.change(e,true);c.close()}},_height:function(){var a=this;var b=a.list;var c=b.parent(".k-animation-container");var d=a.options.height;if(a.ul[0].children.length){b.add(c).show().height(a.ul[0].scrollHeight>d?d:"auto").hide()}},_parse:function(a){var b=this,c=b.options,d=R(c.min)!=R(N)?c.min:null,f=R(c.max)!=R(N)?c.max:null,g=b._value||d||f||N;if(a instanceof M){return a}a=e(a,c.parseFormats,c.culture);if(a){a=new M(g.getFullYear(),g.getMonth(),g.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}return a},_adjustListWidth:function(){var a=this.list,b=a[0].style.width,d=this.options.anchor,e,f,g=c._outerWidth;if(!a.data("width")&&b){return}e=window.getComputedStyle?window.getComputedStyle(d[0],null):0;f=e?parseFloat(e.width):g(d);if(e&&(i.mozilla||i.msie)){f+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)}b=f-(g(a)-a.width());a.css({fontFamily:d.css("font-family"),width:b}).data("width",b)},_popup:function(){var a=this,b=a.list,c=a.options,d=c.anchor;a.popup=new j.Popup(b,K(c.popup,{anchor:d,open:c.open,close:c.close,animation:c.animation,isRtl:h.isRtl(c.anchor)}))},move:function(a){var b=this,c=a.keyCode,e=b.ul[0],f=b._current,g=c===d.DOWN;if(c===d.UP||g){if(a.altKey){b.toggle(g);return}else if(g){f=f?f[0].nextSibling:e.firstChild}else{f=f?f[0].previousSibling:e.lastChild}if(f){b.select(f)}b.options.change(b._current.text());a.preventDefault()}else if(c===d.ENTER||c===d.TAB||c===d.ESC){a.preventDefault();if(f){b.options.change(f.text(),true)}b.close()}}};function P(a,b,c){var d=a.getTimezoneOffset(),e;a.setTime(a.getTime()+b);if(!c){e=a.getTimezoneOffset()-d;a.setTime(a.getTime()+e*z)}}function Q(){var a=new M,b=new M(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c=new M(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0);return-1*(b.getTimezoneOffset()-c.getTimezoneOffset())}function R(a){return a.getHours()*60*z+a.getMinutes()*z+a.getSeconds()*1e3+a.getMilliseconds()}function S(a){var b=new Date(2100,0,1);b.setMinutes(-a);return b}function T(a,b,c){var d=R(b),e=R(c),f;if(!a||d==e){return true}f=R(a);if(d>f){f+=A}if(e<d){e+=A}return f>=d&&f<=e}O.getMilliseconds=R;c.TimeView=O;var U=k.extend({init:function(b,d){var f=this,g,h,i;k.fn.init.call(f,b,d);b=f.element;d=f.options;d.min=e(b.attr("min"))||e(d.min);d.max=e(b.attr("max"))||e(d.max);V(d);f._initialOptions=K({},d);f._wrapper();f.timeView=h=new O(K({},d,{id:b.attr(I),anchor:f.wrapper,format:d.format,change:function(a,c){if(c){f._change(a)}else{b.val(a)}},open:function(a){f.timeView._adjustListWidth();if(f.trigger(l)){a.preventDefault()}else{b.attr(E,true);g.attr(F,false)}},close:function(a){if(f.trigger(m)){a.preventDefault()}else{b.attr(E,false);g.attr(F,true)}},active:function(a){b.removeAttr(H);if(a){b.attr(H,h._optionID)}}}));g=h.ul;f._icon();f._reset();try{b[0].setAttribute("type","text")}catch(a){b[0].type="text"}b.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":h._timeViewID});i=b.is("[disabled]")||a(f.element).parents("fieldset").is(":disabled");if(i){f.enable(false)}else{f.readonly(b.is("[readonly]"))}if(d.dateInput){var n=d.min;var o=d.max;var p=new M;if(R(n)==R(o)){n=new M(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0);o=new M(p.getFullYear(),p.getMonth(),p.getDate(),24,0,0)}f._dateInput=new j.DateInput(b,{culture:d.culture,format:d.format,min:n,max:o,value:d.value})}f._old=f._update(d.value||f.element.val());f._oldText=b.val();c.notify(f)},options:{name:"TimePicker",min:N,max:N,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{},dateInput:false},events:[l,m,n],setOptions:function(a){var b=this;var d=b._value;k.fn.setOptions.call(b,a);a=b.options;V(a);b.timeView.setOptions(a);if(d){b.element.val(c.toString(d,a.format,a.culture))}},dataBind:function(a){if(J(a)){this.timeView.dataBind(a)}},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._arrow.off(o),f=b.element.off(o),g=b._inputWrapper.off(o);if(!d&&!c){g.addClass(q).removeClass(C).on(x,b._toggleHover);f.removeAttr(r).removeAttr(s).attr(G,false).on("keydown"+o,L(b._keydown,b)).on("focusout"+o,L(b._blur,b)).on("focus"+o,function(){b._inputWrapper.addClass(v)});e.on(p,L(b._click,b)).on(y,W)}else{g.addClass(c?C:q).removeClass(c?q:C);f.attr(r,c).attr(s,d).attr(G,c)}},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false})},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)})},destroy:function(){var a=this;k.fn.destroy.call(a);a.timeView.destroy();a.element.off(o);a._arrow.off(o);a._inputWrapper.off(o);if(a._form){a._form.off("reset",a._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){var c=this;if(a===b){return c._value}c._old=c._update(a);if(c._old===null){c.element.val("")}c._oldText=c.element.val()},_blur:function(){var a=this,b=a.element.val();a.close();if(b!==a._oldText){a._change(b)}a._inputWrapper.removeClass(v)},_click:function(){var a=this,b=a.element;a.timeView.toggle();if(!h.touch&&b[0]!==f()){b.focus()}},_change:function(a){var b=this;a=b._update(a);if(+b._old!=+a){b._old=a;b._oldText=b.element.val();if(!b._typing){b.element.trigger(n)}b.trigger(n)}b._typing=false},_icon:function(){var b=this,c=b.element,d;d=c.next("span.k-select");if(!d[0]){d=a('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(c)}b._arrow=d.attr({role:"button","aria-controls":b.timeView._timeViewID})},_keydown:function(a){var b=this,c=a.keyCode,e=b.timeView,f=b.element.val();if(e.popup.visible()||a.altKey){e.move(a);if(b._dateInput&&a.stopImmediatePropagation){a.stopImmediatePropagation()}}else if(c===d.ENTER&&f!==b._oldText){b._change(f)}else{b._typing=true}},_option:function(a,c){var d=this,e=d.options;if(c===b){return e[a]}c=d.timeView._parse(c);if(!c){return}c=new M(+c);e[a]=c;d.timeView.options[a]=c;d.timeView.bind()},_toggleHover:function(b){a(b.currentTarget).toggleClass(w,b.type==="mouseenter")},_update:function(a){var b=this,d=b.options,e=b.timeView,f=e._parse(a);if(!T(f,d.min,d.max)){f=null}b._value=f;if(b._dateInput&&f){b._dateInput.value(f||a)}else{b.element.val(c.toString(f||a,d.format,d.culture))}e.value(f);return f},_wrapper:function(){var b=this,c=b.element,d;d=c.parents(".k-timepicker");if(!d[0]){d=c.wrap(u).parent().addClass("k-picker-wrap k-state-default");d=d.wrap(u).parent()}d[0].style.cssText=c[0].style.cssText;b.wrapper=d.addClass("k-widget k-timepicker k-header").addClass(c[0].className);c.css({width:"100%",height:c[0].style.height});b._inputWrapper=a(d[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){b.value(c[0].defaultValue);b.max(b._initialOptions.max);b.min(b._initialOptions.min)};b._form=e.on("reset",b._resetHandler)}}});function V(a){var b=a.parseFormats;a.format=g(a.format||c.getCulture(a.culture).calendars.standard.patterns.t);b=J(b)?b:[b];b.splice(0,0,a.format);a.parseFormats=b}function W(a){a.preventDefault()}j.plugin(U)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.datetimepicker",["kendo.datepicker","kendo.timepicker"],a)})(function(){var a={id:"datetimepicker",name:"DateTimePicker",category:"web",description:"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.",depends:["datepicker","timepicker"]};(function(a,b){var c=window.kendo,d=c.TimeView,e=c.parseDate,f=c.support,g=c._activeElement,h=c._extractFormat,i=c.calendar,j=i.isInRange,k=i.restrictValue,l=i.isEqualDatePart,m=d.getMilliseconds,n=c.ui,o=n.Widget,p="open",q="close",r="change",s=".kendoDateTimePicker",t="click"+s,u=f.mouseAndTouchPresent?c.applyEventMap("up",s.slice(1)):t,v="disabled",w="readonly",x="k-state-default",y="k-state-focused",z="k-state-hover",A="k-state-disabled",B="mouseenter"+s+" mouseleave"+s,C="mousedown"+s,D="month",E="<span/>",F="aria-activedescendant",G="aria-expanded",H="aria-hidden",I="aria-owns",J="aria-disabled",K=Date,L=new K(1800,0,1),M=new K(2099,11,31),N={view:"date"},O={view:"time"},P=a.extend;var Q=o.extend({init:function(b,d){var f=this,g;o.fn.init.call(f,b,d);b=f.element;d=f.options;d.disableDates=c.calendar.disabled(d.disableDates);d.min=e(b.attr("min"))||e(d.min);d.max=e(b.attr("max"))||e(d.max);T(d);f._initialOptions=P({},d);f._wrapper();f._views();f._icons();f._reset();f._template();try{b[0].setAttribute("type","text")}catch(a){b[0].type="text"}b.addClass("k-input").attr({role:"combobox","aria-expanded":false});f._midnight=f._calculateMidnight(d.min,d.max);g=b.is("[disabled]")||a(f.element).parents("fieldset").is(":disabled");if(g){f.enable(false)}else{f.readonly(b.is("[readonly]"))}f._createDateInput(d);f._old=f._update(d.value||f.element.val());f._oldText=b.val();c.notify(f)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],disableDates:null,min:new K(L),max:new K(M),interval:30,height:200,footer:"",start:D,depth:D,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#',dateButtonText:"Open the date view",timeButtonText:"Open the time view",dateInput:false,weekNumber:false},events:[p,q,r],setOptions:function(a){var b=this,d=b._value,f,g,h;o.fn.setOptions.call(b,a);a=b.options;a.min=f=e(a.min);a.max=g=e(a.max);T(a);b._midnight=b._calculateMidnight(a.min,a.max);h=a.value||b._value||b.dateView._current;if(f&&!l(f,h)){f=new K(L)}if(g&&!l(g,h)){g=new K(M)}b.dateView.setOptions(a);b.timeView.setOptions(P({},a,{format:a.timeFormat,min:f,max:g}));b._createDateInput(a);if(!b._dateInput){b.element.val(c.toString(d,a.format,a.culture))}if(d){b._updateARIA(d)}},_editable:function(b){var c=this,d=c.element.off(s),e=c._dateIcon.off(s),f=c._timeIcon.off(s),g=c._inputWrapper.off(s),h=b.readonly,i=b.disable;if(!h&&!i){g.addClass(x).removeClass(A).on(B,c._toggleHover);d.removeAttr(v).removeAttr(w).attr(J,false).on("keydown"+s,a.proxy(c._keydown,c)).on("focus"+s,function(){c._inputWrapper.addClass(y)}).on("focusout"+s,function(){c._inputWrapper.removeClass(y);if(d.val()!==c._oldText){c._change(d.val())}c.close("date");c.close("time")});e.on(C,S).on(u,function(a){c.toggle("date");c._focusElement(a.type)});f.on(C,S).on(u,function(a){c.toggle("time");c._focusElement(a.type)})}else{g.addClass(i?A:x).removeClass(i?x:A);d.attr(v,i).attr(w,h).attr(J,i)}},_focusElement:function(a){var b=this.element;if((!f.touch||f.mouseAndTouchPresent&&!(a||"").match(/touch/i))&&b[0]!==g()){b.focus()}},readonly:function(a){this._editable({readonly:a===b?true:a,disable:false})},enable:function(a){this._editable({readonly:false,disable:!(a=a===b?true:a)})},destroy:function(){var a=this;o.fn.destroy.call(a);a.dateView.destroy();a.timeView.destroy();a.element.off(s);a._dateIcon.off(s);a._timeIcon.off(s);a._inputWrapper.off(s);if(a._form){a._form.off("reset",a._resetHandler)}},close:function(a){if(a!=="time"){a="date"}this[a+"View"].close()},open:function(a){if(a!=="time"){a="date"}this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var b="timeView";if(a!=="time"){a="date"}else{b="dateView"}this[a+"View"].toggle();this[b].close()},value:function(a){var c=this;if(a===b){return c._value}c._old=c._update(a);if(c._old===null){c.element.val("")}c._oldText=c.element.val()},_change:function(a){var b=this,c=b.element.val(),d;a=b._update(a);d=+b._old!=+a;var e=d&&!b._typing;var f=c!==b.element.val();if(e||f){b.element.trigger(r)}if(d){b._old=a;b._oldText=b.element.val();b.trigger(r)}b._typing=false},_option:function(a,c){var d=this;var f=d.options;var g=d.timeView;var h=g.options;var i=d._value||d._old;var j;var k;if(c===b){return f[a]}c=e(c,f.parseFormats,f.culture);if(!c){return}if(f.min.getTime()===f.max.getTime()){h.dates=[]}f[a]=new K(c.getTime());d.dateView[a](c);d._midnight=d._calculateMidnight(f.min,f.max);if(i){j=l(f.min,i);k=l(f.max,i)}if(j||k){h[a]=c;if(j&&!k){h.max=R(f.interval)}if(k){if(d._midnight){g.dataBind([M]);return}else if(!j){h.min=L}}}else{h.max=M;h.min=L}g.bind()},_toggleHover:function(b){a(b.currentTarget).toggleClass(z,b.type==="mouseenter")},_update:function(b){var d=this,f=d.options,g=f.min,h=f.max,i=f.dates,m=d.timeView,n=d._value,o=e(b,f.parseFormats,f.culture),p=o===null&&n===null||o instanceof Date&&n instanceof Date,q,s,t,u,v;if(f.disableDates&&f.disableDates(o)){o=null;if(!d._old&&!d.element.val()){b=null}}if(+o===+n&&p){v=c.toString(o,f.format,f.culture);if(v!==b){d.element.val(o===null?b:v);if(b instanceof String){d.element.trigger(r)}}return o}if(o!==null&&l(o,g)){o=k(o,g,h)}else if(!j(o,g,h)){o=null}d._value=o;m.value(o);d.dateView.value(o);if(o){t=d._old;s=m.options;if(i[0]){i=a.grep(i,function(a){return l(o,a)});if(i[0]){m.dataBind(i);u=true}}if(!u){if(l(o,g)){s.min=g;s.max=R(f.interval);q=true}if(l(o,h)){if(d._midnight){m.dataBind([M]);u=true}else{s.max=h;if(!q){s.min=L}q=true}}}if(!u&&(!t&&q||t&&!l(t,o))){if(!q){s.max=M;s.min=L}m.bind()}}if(d._dateInput&&o){d._dateInput.value(o||b)}else{d.element.val(c.toString(o||b,f.format,f.culture))}d._updateARIA(o);return o},_keydown:function(a){var b=this,d=b.dateView,e=b.timeView,f=b.element.val(),g=d.popup.visible();var h=b._dateInput&&a.stopImmediatePropagation;if(a.altKey&&a.keyCode===c.keys.DOWN){b.toggle(g?"time":"date")}else if(g){d.move(a);b._updateARIA(d._current)}else if(e.popup.visible()){e.move(a)}else if(a.keyCode===c.keys.ENTER&&f!==b._oldText){b._change(f)}else{b._typing=true;h=false}if(h){a.stopImmediatePropagation()}},_views:function(){var a=this,b=a.element,f=a.options,g=b.attr("id"),h,i,k,l,m,n;a.dateView=h=new c.DateView(P({},f,{id:g,anchor:a.wrapper,change:function(){var b=h.calendar.value(),d=+b,e=+f.min,g=+f.max,i,k;if(d===e||d===g){i=d===e?e:g;i=new K(a._value||i);i.setFullYear(b.getFullYear(),b.getMonth(),b.getDate());if(j(i,e,g)){b=i}}if(a._value){k=c.date.setHours(new Date(b),a._value);if(j(k,e,g)){b=k}}a._change(b);a.close("date")},close:function(c){if(a.trigger(q,N)){c.preventDefault()}else{b.attr(G,false);k.attr(H,true);if(!i.popup.visible()){b.removeAttr(I)}}},open:function(c){if(a.trigger(p,N)){c.preventDefault()}else{if(b.val()!==a._oldText){n=e(b.val(),f.parseFormats,f.culture);a.dateView[n?"current":"value"](n)}k.attr(H,false);b.attr(G,true).attr(I,h._dateViewID);a._updateARIA(n)}}}));k=h.div;m=f.min.getTime();a.timeView=i=new d({id:g,value:f.value,anchor:a.wrapper,animation:f.animation,format:f.timeFormat,culture:f.culture,height:f.height,interval:f.interval,min:new K(L),max:new K(M),dates:m===f.max.getTime()?[new Date(m)]:[],parseFormats:f.parseFormats,change:function(d,e){d=i._parse(d);if(d<f.min){d=new K(+f.min);i.options.min=d}else if(d>f.max){d=new K(+f.max);i.options.max=d}if(e){a._timeSelected=true;a._change(d)}else{b.val(c.toString(d,f.format,f.culture));h.value(d);a._updateARIA(d)}},close:function(c){if(a.trigger(q,O)){c.preventDefault()}else{l.attr(H,true);b.attr(G,false);if(!h.popup.visible()){b.removeAttr(I)}}},open:function(c){i._adjustListWidth();if(a.trigger(p,O)){c.preventDefault()}else{if(b.val()!==a._oldText){n=e(b.val(),f.parseFormats,f.culture);a.timeView.value(n)}l.attr(H,false);b.attr(G,true).attr(I,i._timeViewID);i.options.active(i.current())}},active:function(a){b.removeAttr(F);if(a){b.attr(F,i._optionID)}}});l=i.ul},_icons:function(){var b=this;var c=b.element;var d=b.options;var e;e=c.next("span.k-select");if(!e[0]){e=a('<span unselectable="on" class="k-select">'+'<span class="k-link k-link-date" aria-label="'+d.dateButtonText+'"><span unselectable="on" class="k-icon k-i-calendar"></span></span>'+'<span class="k-link k-link-time" aria-label="'+d.timeButtonText+'"><span unselectable="on" class="k-icon k-i-clock"></span></span>'+"</span>").insertAfter(c)}e=e.children();e=e.children();b._dateIcon=e.eq(0).attr("aria-controls",b.dateView._dateViewID);b._timeIcon=e.eq(1).attr("aria-controls",b.timeView._timeViewID)},_wrapper:function(){var b=this,c=b.element,d;d=c.parents(".k-datetimepicker");if(!d[0]){d=c.wrap(E).parent().addClass("k-picker-wrap k-state-default");d=d.wrap(E).parent()}d[0].style.cssText=c[0].style.cssText;c.css({width:"100%",height:c[0].style.height});b.wrapper=d.addClass("k-widget k-datetimepicker k-header").addClass(c[0].className);b._inputWrapper=a(d[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");if(e[0]){b._resetHandler=function(){b.value(c[0].defaultValue);b.max(b._initialOptions.max);b.min(b._initialOptions.min)};b._form=e.on("reset",b._resetHandler)}},_template:function(){this._ariaTemplate=c.template(this.options.ARIATemplate)},_createDateInput:function(a){if(this._dateInput){this._dateInput.destroy();this._dateInput=null}if(a.dateInput){this._dateInput=new n.DateInput(this.element,{culture:a.culture,format:a.format,min:a.min,max:a.max})}},_calculateMidnight:function(a,b){return m(a)+m(b)===0},_updateARIA:function(a){var b;var c=this;var d=c.dateView.calendar;c.element.removeAttr(F);if(d){b=d._cell;b.attr("aria-label",c._ariaTemplate({current:a||d.current()}));c.element.attr(F,b.attr("id"))}}});function R(a){var b=new Date(2100,0,1);b.setMinutes(-a);return b}function S(a){a.preventDefault()}function T(b){var d=c.getCulture(b.culture).calendars.standard.patterns,e=!b.parseFormats.length,f;b.format=h(b.format||d.g);b.timeFormat=f=h(b.timeFormat||d.t);c.DateView.normalize(b);if(e){b.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss")}if(a.inArray(f,b.parseFormats)===-1){b.parseFormats.push(f)}}n.plugin(Q)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.splitter",["kendo.resizable"],a)})(function(){var a={id:"splitter",name:"Splitter",category:"web",description:"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.",depends:["resizable"]};(function(a,b){var c=window.kendo,d=c.ui,e=c.keys,f=a.extend,g=a.proxy,h=d.Widget,i=/^\d+(\.\d+)?px$/i,j=/^\d+(\.\d+)?%$/i,k=".kendoSplitter",l="expand",m="collapse",n="contentLoad",o="error",p="resize",q="layoutChange",r="horizontal",s="vertical",t="mouseenter",u="click",v="pane",w="mouseleave",x="k-state-focused",y="k-"+v,z="."+y;function A(a){return j.test(a)}function B(a){return i.test(a)||/^\d+$/.test(a)}function C(a){return!A(a)&&!B(a)}function D(a,b){var c=parseInt(a,10);if(A(a)){c=Math.floor(c*b/100)}return c}function E(a,b){return function(c,d){var e=this.element.find(c).data(v);if(arguments.length==1){return e[a]}e[a]=d;if(b){var f=this.element.data("kendo"+this.options.name);f.resize(true)}}}var F=h.extend({init:function(a,b){var d=this,f;h.fn.init.call(d,a,b);d.wrapper=d.element;if(d.options.orientation){f=d.options.orientation.toLowerCase()!=s}d.orientation=f?r:s;d._dimension=f?"width":"height";d._keys={decrease:f?e.LEFT:e.UP,increase:f?e.RIGHT:e.DOWN};d._resizeStep=10;d._marker=c.guid().substring(0,8);d._initPanes();d.resizing=new I(d);d.element.triggerHandler("init"+k)},events:[l,m,n,o,p,q],_addOverlays:function(){this._panes().append("<div class='k-splitter-overlay k-overlay' />")},_removeOverlays:function(){this._panes().children(".k-splitter-overlay").remove()},_attachEvents:function(){var b=this,c=b.options.orientation;b.element.children(".k-splitbar-draggable-"+c).on("keydown"+k,g(b._keydown,b)).on("mousedown"+k,function(a){a.currentTarget.focus()}).on("focus"+k,function(b){a(b.currentTarget).addClass(x)}).on("blur"+k,function(c){a(c.currentTarget).removeClass(x);if(b.resizing){b.resizing.end()}}).on(t+k,function(){a(this).addClass("k-splitbar-"+b.orientation+"-hover")}).on(w+k,function(){a(this).removeClass("k-splitbar-"+b.orientation+"-hover")}).on("mousedown"+k,g(b._addOverlays,b)).end().children(".k-splitbar").on("dblclick"+k,g(b._togglePane,b)).children(".k-collapse-next, .k-collapse-prev").on(u+k,b._arrowClick(m)).end().children(".k-expand-next, .k-expand-prev").on(u+k,b._arrowClick(l)).end().end();a(window).on("resize"+k+b._marker,g(b.resize,b,false));a(document).on("mouseup"+k+b._marker,g(b._removeOverlays,b))},_detachEvents:function(){var b=this;b.element.children(".k-splitbar-draggable-"+b.orientation).off(k).end().children(".k-splitbar").off("dblclick"+k).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(k);a(window).off(k+b._marker);a(document).off(k+b._marker)},options:{name:"Splitter",orientation:r,panes:[]},destroy:function(){h.fn.destroy.call(this);this._detachEvents();if(this.resizing){this.resizing.destroy()}c.destroy(this.element);this.wrapper=this.element=null},_keydown:function(b){var c=this,d=b.keyCode,f=c.resizing,g=a(b.currentTarget),h=c._keys,i=d===h.increase,j=d===h.decrease,k;if(i||j){if(b.ctrlKey){k=g[j?"next":"prev"]();if(f&&f.isResizing()){f.end()}if(!k[c._dimension]()){c._triggerAction(l,k)}else{c._triggerAction(m,g[j?"prev":"next"]())}}else if(f){f.move((j?-1:1)*c._resizeStep,g)}b.preventDefault()}else if(d===e.HOME){f.move(-f._maxPosition,g);b.preventDefault()}else if(d===e.END){f.move(f._maxPosition,g);b.preventDefault()}else if(d===e.ENTER&&f){f.end();b.preventDefault()}},_initPanes:function(){var a=this.options.panes||[];var b=this;this.element.addClass("k-widget").addClass("k-splitter").children().each(function(c,d){if(d.nodeName.toLowerCase()!="script"){b._initPane(d,a[c])}});this.resize()},_initPane:function(b,c){b=a(b).attr("role","group").addClass(y);b.data(v,c?c:{}).toggleClass("k-scrollable",c?c.scrollable!==false:true);this.ajaxRequest(b)},ajaxRequest:function(a,b,d){var e=this,f;a=e.element.find(a);f=a.data(v);b=b||f.contentUrl;if(b){a.append("<span class='k-icon k-i-loading k-pane-loading' />");if(c.isLocalUrl(b)){jQuery.ajax({url:b,data:d||{},type:"GET",dataType:"html",success:function(b){e.angular("cleanup",function(){return{elements:a.get()}});a.html(b);e.angular("compile",function(){return{elements:a.get()}});e.trigger(n,{pane:a[0]})},error:function(b,c){e.trigger(o,{pane:a[0],status:c,xhr:b})}})}else{a.removeClass("k-scrollable").html("<iframe src='"+b+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>")}}},_triggerAction:function(a,b){if(!this.trigger(a,{pane:b[0]})){this[a](b[0])}},_togglePane:function(b){var c=this,d=a(b.target),e;if(d.closest(".k-splitter")[0]!=c.element[0]){return}e=d.children(".k-icon:not(.k-resize-handle)");if(e.length!==1){return}if(e.is(".k-collapse-prev")){c._triggerAction(m,d.prev())}else if(e.is(".k-collapse-next")){c._triggerAction(m,d.next())}else if(e.is(".k-expand-prev")){c._triggerAction(l,d.prev())}else if(e.is(".k-expand-next")){c._triggerAction(l,d.next())}},_arrowClick:function(b){var c=this;return function(d){var e=a(d.target),f;if(e.closest(".k-splitter")[0]!=c.element[0]){return}if(e.is(".k-"+b+"-prev")){f=e.parent().prev()}else{f=e.parent().next()}c._triggerAction(b,f)}},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='k-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==false&&c.resizable!==false,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("k-splitbar k-state-default k-splitbar-"+e).attr("role","separator").attr("aria-expanded",!(h||j)).removeClass("k-splitbar-"+e+"-hover").toggleClass("k-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("k-splitbar-static-"+e,!f&&!g&&!i).html(d("k-collapse-prev k-i-arrow-60-up",g&&!h&&!j&&e==s)+d("k-collapse-prev k-i-arrow-60-left",g&&!h&&!j&&e==r)+d("k-expand-prev k-i-arrow-60-down",g&&h&&!j&&e==s)+d("k-expand-prev k-i-arrow-60-right",g&&h&&!j&&e==r)+d("k-resize-handle k-i-hbar",f&&e==s)+d("k-resize-handle k-i-vbar",f&&e==r)+d("k-collapse-next k-i-arrow-60-down",i&&!j&&!h&&e==s)+d("k-collapse-next k-i-arrow-60-right",i&&!j&&!h&&e==r)+d("k-expand-next k-i-arrow-60-up",i&&j&&!h&&e==s)+d("k-expand-next k-i-arrow-60-left",i&&j&&!h&&e==r));if(!f&&!g&&!i){a.removeAttr("tabindex")}},_updateSplitBars:function(){var b=this;this.element.children(".k-splitbar").each(function(){var c=a(this),d=c.prevAll(z).first().data(v),e=c.nextAll(z).first().data(v);if(!e){return}b._updateSplitBar(c,d,e)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){if(!this.element){return a()}return this.element.children(z)},_resize:function(){var b=this,d=b.element,e=d.children(z),f=b.orientation==r,g=d.children(".k-splitbar"),h=g.length,i=f?"width":"height",j=d[i]();b.wrapper.addClass("k-splitter-resizing");if(h===0){h=e.length-1;e.slice(0,h).after("<div tabindex='0' class='k-splitbar' data-marker='"+b._marker+"' />");b._updateSplitBars();g=d.children(".k-splitbar")}else{b._updateSplitBars()}g.each(function(){j-=this[f?"offsetWidth":"offsetHeight"]});var k=0,l=0,m=a();e.css({position:"absolute",top:0})[i](function(){var b=a(this),c=b.data(v)||{},d;b.removeClass("k-state-collapsed");if(c.collapsed){d=c.collapsedSize?D(c.collapsedSize,j):0;b.css("overflow","hidden").addClass("k-state-collapsed")}else if(C(c.size)){m=m.add(this);return}else{d=D(c.size,j)}l++;k+=d;return d});j-=k;var n=m.length,o=Math.floor(j/n);m.slice(0,n-1).css(i,o).end().eq(n-1).css(i,j-(n-1)*o);var p=0,s=f?"height":"width",t=f?"left":"top",u=f?"offsetWidth":"offsetHeight";if(n===0){var w=e.filter(function(){return!(a(this).data(v)||{}).collapsed}).last();w[i](j+w[0][u])}d.children().css(s,d[s]()).each(function(a,b){if(b.tagName.toLowerCase()!="script"){b.style[t]=Math.floor(p)+"px";p+=b[u]}});b._detachEvents();b._attachEvents();b.wrapper.removeClass("k-splitter-resizing");c.resize(e);b.trigger(q)},toggle:function(a,c){var d=this,e;a=d.element.find(a);e=a.data(v);if(!c&&!e.collapsible){return}if(arguments.length==1){c=e.collapsed===b?false:e.collapsed}e.collapsed=!c;if(e.collapsed){a.css("overflow","hidden")}else{a.css("overflow","")}d.resize(true)},collapse:function(a){this.toggle(a,false)},expand:function(a){this.toggle(a,true)},_addPane:function(a,b,c){var d=this;if(c.length){d.options.panes.splice(b,0,a);d._initPane(c,a);d._removeSplitBars();d.resize(true)}return c},append:function(b){b=b||{};var c=this,d=a("<div />").appendTo(c.element);return c._addPane(b,c.options.panes.length,d)},insertBefore:function(b,c){c=a(c);b=b||{};var d=this,e=d.wrapper.children(".k-pane").index(c),f=a("<div />").insertBefore(a(c));return d._addPane(b,e,f)},insertAfter:function(b,c){c=a(c);b=b||{};var d=this,e=d.wrapper.children(".k-pane").index(c),f=a("<div />").insertAfter(a(c));return d._addPane(b,e+1,f)},remove:function(b){var d=this;b=d.wrapper.find(b);if(b.length){c.destroy(b);b.each(function(b,c){d.options.panes.splice(d.wrapper.children(".k-pane").index(c),1);a(c).remove()});d._removeSplitBars();if(d.options.panes.length){d.resize(true)}}return d},size:E("size",true),min:E("min"),max:E("max")});d.plugin(F);var G={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var H={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function I(a){var b=this,d=a.orientation;b.owner=a;b._element=a.element;b.orientation=d;f(b,d===r?H:G);b._resizable=new c.ui.Resizable(a.element,{orientation:d,handle:".k-splitbar-draggable-"+d+"[data-marker="+a._marker+"]",hint:g(b._createHint,b),start:g(b._start,b),max:g(b._max,b),min:g(b._min,b),invalidClass:"k-restricted-size-"+d,resizeend:g(b._stop,b)})}I.prototype={press:function(a){this._resizable.press(a)},move:function(a,b){if(!this.pressed){this.press(b);this.pressed=true}if(!this._resizable.target){this._resizable.press(b)}this._resizable.move(a)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy();this._resizable=this._element=this.owner=null},isResizing:function(){return this._resizable.resizing},_createHint:function(b){var c=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+c.orientation+" k-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,d=a(b.currentTarget),e=d.prev(),f=d.next(),g=e.data(v),h=f.data(v),i=parseInt(e[0].style[c.positioningProperty],10),j=parseInt(f[0].style[c.positioningProperty],10)+f[0][c.sizingDomProperty]-d[0][c.sizingDomProperty],k=parseInt(c._element.css(c.sizingProperty),10),l=function(a){var b=parseInt(a,10);return(B(a)?b:k*b/100)||0},m=l(g.min),n=l(g.max)||j-i,o=l(h.min),p=l(h.max)||j-i;c.previousPane=e;c.nextPane=f;c._maxPosition=Math.min(j-o,i+n);c._minPosition=Math.max(i+m,j-p)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(b){var d=this,e=a(b.currentTarget),f=d.owner;f._panes().children(".k-splitter-overlay").remove();if(b.keyCode!==c.keys.ESC){
var g=b.position,h=e.prev(),i=e.next(),j=h.data(v),k=i.data(v),l=g-parseInt(h[0].style[d.positioningProperty],10),m=parseInt(i[0].style[d.positioningProperty],10)+i[0][d.sizingDomProperty]-g-e[0][d.sizingDomProperty],n=d._element.children(z).filter(function(){return C(a(this).data(v).size)}).length;if(!C(j.size)||n>1){if(C(j.size)){n--}j.size=l+"px"}if(!C(k.size)||n>1){k.size=m+"px"}f.resize(true)}return false}}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dialog",["kendo.core","kendo.popup"],a)})(function(){var a={id:"dialog",name:"Dialog",category:"web",description:"The dialog widget is a modal popup that brings information to the user.",depends:["core","popup"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=c.ui.Popup.TabKeyTrap,f=a.proxy,g=c.template,h=c.keys,i=a.isFunction,j="kendoWindow",k=".k-dialog",l=".k-window",m=".k-dialog-close",n="k-content k-window-content k-dialog-content",o=".k-content",p="k-scroll",q="k-dialog-titleless",r=".k-dialog-title",s=r+"bar",t=".k-dialog-buttongroup",u=".k-button",v="k-alert",w="k-confirm",x="k-prompt",y=".k-textbox",z=".k-overlay",A=":visible",B="zIndex",C="body",D="initOpen",E="open",F="close",G="show",H="hide",I="width",J=100,K={okText:"OK",cancel:"Cancel",promptInput:"Input"},L=Math.ceil,M,N=":not(link,meta,script,style)";function O(a){return typeof a!="undefined"}function P(a,b,c){return Math.max(Math.min(parseInt(a,10),c===Infinity?c:parseInt(c,10)),parseInt(b,10))}function Q(a){return a.keyCode==h.ENTER||a.keyCode==h.SPACEBAR}var R=d.extend({init:function(a,b){var e=this;d.fn.init.call(e,a,b);e._init(e.element,e.options);c.notify(e)},_init:function(c,d){var g=this,h;g._centerCallback=f(g._center,g);g.appendTo=a(C);if(!O(d.visible)||d.visible===null){d.visible=c.is(A)}if(g.wrapperTemplate===b){g.wrapperTemplate=M.wrapper}g._createDialog();h=g.wrapper=c.closest(k);if(d._defaultFocus===b){g._defaultFocus=c[0]}g._tabindex(c);g._dimensions();this._tabKeyTrap=new e(h);if(!g.options.visible){g.wrapper.hide()}else{g._triggerOpen()}},setOptions:function(e){var f=this;e=a.extend(f.options,e);d.fn.setOptions.call(f,e);if(e.title!==b){f.title(e.title)}if(e.content){c.destroy(f.element.children());f.element.html(e.content)}if(e.actions){f.wrapper.children(t).remove();f._createActionbar(f.wrapper)}f.wrapper.show();f._closable(f.wrapper);f._dimensions();if(!e.visible){f.wrapper.hide()}else{f._triggerOpen()}},_dimensions:function(){var a=this,b=a.wrapper,c=a.options,d=c.width,e=c.height,f=["minWidth","minHeight","maxWidth","maxHeight"];for(var g=0;g<f.length;g++){var h=c[f[g]];if(h&&h!=Infinity){b.css(f[g],h)}}this._setElementMaxHeight();if(d){if(d.toString().indexOf("%")>0){b.width(d)}else{b.outerWidth(P(d,c.minWidth,c.maxWidth))}}if(e){if(e.toString().indexOf("%")>0){b.height(e)}else{b.outerHeight(P(e,c.minHeight,c.maxHeight))}this._setElementHeight()}},_setElementMaxHeight:function(){var a=this,b=a.element,c=a.options.maxHeight,d,e;if(c!=Infinity){d=a._paddingBox(b);e=parseFloat(c,10)-a._uiHeight()-d.vertical;if(e>0){b.css({maxHeight:L(e)+"px"})}}},_paddingBox:function(a){var b=parseFloat(a.css("padding-top"),10),c=parseFloat(a.css("padding-left"),10),d=parseFloat(a.css("padding-bottom"),10),e=parseFloat(a.css("padding-right"),10);return{vertical:b+d,horizontal:c+e}},_setElementHeight:function(){var a=this,b=a.element,c=a.options.height,d=a._paddingBox(b),e=parseFloat(c,10)-a._uiHeight()-d.vertical;if(e<0){e=0}b.css({height:L(e)+"px"});this._applyScrollClassName(b)},_applyScrollClassName:function(a){var b=a.get(0).scrollHeight>a.outerHeight();if(b){a.addClass(p)}else{a.removeClass(p)}},_uiHeight:function(){var a=this,b=a.wrapper,c=b.children(t),d=c[0]&&c[0].offsetHeight||0,e=b.children(s),f=e[0]&&e[0].offsetHeight||0;return d+f},_overlay:function(b){var c=this.appendTo.children(z),d=this.wrapper;if(!c.length){c=a(M.overlay)}c.insertBefore(d[0]).toggle(b).css(B,parseInt(d.css(B),10)-1);if(b){this._waiAriaOverlay()}else{this._removeWaiAriaOverlay()}return c},_waiAriaOverlay:function(){var b=this.wrapper;this._overlayedNodes=b.prevAll(N).add(b.nextAll(N)).each(function(){var b=a(this);b.data("ariaHidden",b.attr("aria-hidden"));b.attr("aria-hidden","true")})},_removeWaiAriaOverlay:function(){return this._overlayedNodes&&this._overlayedNodes.each(function(){var b=a(this);var c=b.data("ariaHidden");if(c){b.attr("aria-hidden",c)}else{b.removeAttr("aria-hidden")}})},_closeClick:function(a){a.preventDefault();this.close()},_closeKeyHandler:function(a){if(Q(a)||a.keyCode==h.ESC){this.close()}},_keydown:function(a){var b=this,c=b.options,d=a.keyCode;if(d==h.ESC&&!b._closing&&c.closable){b.close()}},_createDialog:function(){var b=this,d=b.element,e=b.options,f=c.support.isRtl(d),g=a(M.titlebar(e)),h=(d.id||c.guid())+"_title",i=a(b.wrapperTemplate(e));i.toggleClass("k-rtl",f);d.addClass(n);b.appendTo.append(i);if(e.title!==false){i.append(g);g.attr("id",h);i.attr("aria-labelledby",h)}else{i.addClass(q)}b._closable(i);i.append(d);if(e.content){c.destroy(d.children());d.html(e.content)}if(e.actions.length){b._createActionbar(i)}},_closable:function(a){var b=this;var c=b.options;var d=a.children(s);var e=d.find(".k-window-actions");var g=e.length?e.find(".k-dialog-close"):a.find(".k-dialog-close");g.remove();if(c.closable!==false){if(c.title!==false&&e.length){e.append(M.close(c))}else{a.prepend(M.close(c))}a.autoApplyNS(j);b.element.autoApplyNS(j);a.find(m).on("click",f(b._closeClick,b)).on("keydown",f(b._closeKeyHandler,b));b.element.on("keydown",f(b._keydown,b))}},_createActionbar:function(b){var c=this.options.buttonLayout==="stretched";var d=c?"stretched":"normal";var e=a(M.actionbar({buttonLayout:d}));this._addButtons(e);if(c){this._normalizeButtonSize(e)}b.append(e)},_addButtons:function(b){var c=this,d=c.options,e=f(c._actionClick,c),g=f(c._actionKeyHandler,c),h=c.options.actions,i=h.length,k=Math.round(J/i),l,m;for(var n=0;n<i;n++){l=h[n];m=c._mergeTextWithOptions(l);var o=a(M.action(l)).autoApplyNS(j).html(m).appendTo(b).data("action",l.action).on("click",e).on("keydown",g);if(d.buttonLayout==="stretched"){if(n==i-1){k=J-n*k}o.css(I,k+"%")}}},_mergeTextWithOptions:function(a){var b=a.text;return b?g(b)(this.options):""},_normalizeButtonSize:function(a){var b=this,c=b.options,d=a.children(u+":last"),e=parseFloat(d[0]?d[0].style[I]:0),f=J-c.actions.length*e;if(f>0){d.css(I,e+f+"%")}},_tabindex:function(a){var b=this;var c=b.wrapper;var e=c.find(m);var f=c.find(t+" "+u);d.fn._tabindex.call(this,a);var g=a.attr("tabindex");e.attr("tabIndex",g);f.attr("tabIndex",g)},_actionClick:function(a){if(this.wrapper.is(A)){this._runActionBtn(a.currentTarget)}},_actionKeyHandler:function(a){if(Q(a)){this._runActionBtn(a.currentTarget)}else if(a.keyCode==h.ESC){this.close()}},_runActionBtn:function(b){var c=this;if(c._closing){return}var d=a(b).data("action"),e=i(d)&&d({sender:c})===false;if(!e){c.close()}},_triggerOpen:function(){var a=this;var b=a.options;var c=a.wrapper;a.toFront();a._triggerInitOpen();a.trigger(E);if(b.modal){a._overlay(c.is(A)).css({opacity:.5});a._focusDialog()}},open:function(){var a=this,b=a.wrapper,d=this._animationOptions(E),e=a.options,g,h;this._triggerInitOpen();if(!a.trigger(E)){if(a._closing){b.kendoStop(true,true)}a._closing=false;a.toFront();e.visible=true;if(e.modal){h=!!a._modals().length;g=a._overlay(h);g.kendoStop(true,true);if(d.duration&&c.effects.Fade&&!h){var i=c.fx(g).fadeIn();i.duration(d.duration||0);i.endValue(.5);i.play()}else{g.css("opacity",.5)}g.show()}b.show().kendoStop().kendoAnimate({effects:d.effects,duration:d.duration,complete:f(a._openAnimationEnd,a)});b.show()}return a},_animationOptions:function(a){var b=this.options.animation;var c={open:{effects:{}},close:{hide:true,effects:{}}};return b&&b[a]||c[a]},_openAnimationEnd:function(){if(this.options.modal){this._focusDialog()}this.trigger(G)},_triggerInitOpen:function(){if(!O(this._initOpenTriggered)){this._initOpenTriggered=true;this.trigger(D)}},toFront:function(){var b=this,c=b.wrapper,d=+c.css(B),e=d;b.center();a(l).each(function(b,c){var e=a(c),f=e.css(B);if(!isNaN(f)){d=Math.max(+f,d)}});if(!c[0].style.zIndex||e<d){c.css(B,d+2)}b.element.find("> .k-overlay").remove();c=null;return b},close:function(){this._close(true);this._stopCenterOnResize();return this},_close:function(a){var b=this,c=b.wrapper,d=b.options,e=this._animationOptions("open"),g=this._animationOptions("close");if(c.is(A)&&!b.trigger(F,{userTriggered:!a})){if(b._closing){return}b._closing=true;d.visible=false;this._removeOverlay();c.kendoStop().kendoAnimate({effects:g.effects||e.effects,reverse:g.reverse===true,duration:g.duration,complete:f(this._closeAnimationEnd,this)})}return b},center:function(){this._center();this._centerOnResize()},_center:function(){var b=this,c=b.wrapper,d=a(window),e=0,f=0,g=f+Math.max(0,(d.width()-c.width())/2),h=e+Math.max(0,(d.height()-c.height()-parseInt(c.css("paddingTop"),10))/2);c.css({left:g,top:h});return b},_centerOnResize:function(){if(this._trackResize){return}c.onResize(this._centerCallback);this._trackResize=true},_stopCenterOnResize:function(){c.unbindResize(this._centerCallback);this._trackResize=false},_removeOverlay:function(){var a=this._modals();var b=this.options;var c=b.modal&&!a.length;if(c){this._overlay(false).remove()}else if(a.length){this._object(a.last())._overlay(true)}},_closeAnimationEnd:function(){var a=this;a._closing=false;a.wrapper.hide().css("opacity","");a.trigger(H);if(a.options.modal){var b=a._object(a._modals().last());if(b){b.toFront()}}},_modals:function(){var b=this;var c=a(l).filter(function(){var c=a(this);var d=b._object(c);var e=d&&d.options;return e&&e.modal&&b.options.appendTo==e.appendTo&&e.visible&&c.is(A)}).sort(function(b,c){return+a(b).css("zIndex")-+a(c).css("zIndex")});b=null;return c},_object:function(a){var d=a.children(o);var e=c.widgetInstance(d);if(e){return e}return b},destroy:function(){var b=this;b._destroy();d.fn.destroy.call(b);b.wrapper.remove();b.wrapper=b.element=a()},_destroy:function(){var a=this;var b="."+j;a.wrapper.off(b);a.element.off(b);a.wrapper.find(m+","+t+" > "+u).off(b);a._stopCenterOnResize()},title:function(b){var d=this,e=d.wrapper,f=d.options,g=e.children(s),h=g.children(r),i=c.htmlEncode(b);if(!arguments.length){return h.html()}if(b===false){g.remove();e.addClass(q)}else{if(!g.length){g=a(M.titlebar(f)).prependTo(e);h=g.children(r);e.removeClass(q)}h.html(i)}d.options.title=i;return d},content:function(a,b){var d=this,e=d.wrapper.children(o);if(!O(a)){return e.html()}this.angular("cleanup",function(){return{elements:e.children()}});c.destroy(e.children());e.html(a);this.angular("compile",function(){var a=[];for(var c=e.length;--c>=0;){a.push({dataItem:b})}return{elements:e.children(),data:a}});d.options.content=a;return d},_focusDialog:function(){if(this._defaultFocus){this._focus(this._defaultFocus)}this._tabKeyTrap.trap()},_focus:function(a){if(a){a.focus()}},events:[D,E,F,G,H],options:{title:"",buttonLayout:"stretched",actions:[],modal:true,width:null,height:null,minWidth:0,minHeight:0,maxWidth:Infinity,maxHeight:Infinity,content:null,visible:null,appendTo:C,closable:true}});var S=R.extend({options:{name:"Dialog",messages:{close:"Close"}}});c.ui.plugin(S);var T=R.extend({_init:function(a,b){var c=this;c.wrapperTemplate=M.alertWrapper;b._defaultFocus=null;c._ensureContentId(a);R.fn._init.call(c,a,b);c.bind(H,f(c.destroy,c));c._ariaDescribedBy();c._initFocus()},_ensureContentId:function(b){var d=a(b);if(!d.attr("id")){d.attr("id",c.guid()+"_k-popup")}},_ariaDescribedBy:function(){this.wrapper.attr("aria-describedby",this.element.attr("id"))},_initFocus:function(){var a=this.options;this._defaultFocus=this._chooseEntryFocus();if(this._defaultFocus&&a.visible&&a.modal){this._focusDialog()}},_chooseEntryFocus:function(){return this.wrapper.find(t+" > "+u)[0]},options:{title:window.location.host,closable:false,messages:K}});var U=T.extend({_init:function(a,b){var c=this;T.fn._init.call(c,a,b);c.wrapper.addClass(v)},options:{name:"Alert",modal:true,actions:[{text:"#: messages.okText #"}]}});c.ui.plugin(U);var V=function(b){return a(M.alert).kendoAlert({content:b}).data("kendoAlert").open()};var W=T.extend({_init:function(b,c){var d=this;T.fn._init.call(d,b,c);d.wrapper.addClass(w);d.result=a.Deferred()},options:{name:"Confirm",modal:true,actions:[{text:"#: messages.okText #",primary:true,action:function(a){a.sender.result.resolve()}},{text:"#: messages.cancel #",action:function(a){a.sender.result.reject()}}]}});c.ui.plugin(W);var X=function(b){var c=a(M.confirm).kendoConfirm({content:b}).data("kendoConfirm").open();return c.result};var Y=T.extend({_init:function(b,c){var d=this;T.fn._init.call(d,b,c);d.wrapper.addClass(x);d._createPrompt();d.result=a.Deferred()},_createPrompt:function(){var b=this.options.value,c=a(M.promptInputContainer(this.options)).insertAfter(this.element);if(b){c.children(y).val(b)}this._defaultFocus=this._chooseEntryFocus();this._focusDialog()},_chooseEntryFocus:function(){return this.wrapper.find(y)[0]},options:{name:"Prompt",modal:true,value:"",actions:[{text:"#: messages.okText #",primary:true,action:function(a){var b=a.sender,c=b.wrapper.find(y).val();b.result.resolve(c)}},{text:"#: messages.cancel #",action:function(a){var b=a.sender,c=b.wrapper.find(y).val();a.sender.result.reject(c)}}]}});c.ui.plugin(Y);var Z=function(b,c){var d=a(M.prompt).kendoPrompt({content:b,value:c}).data("kendoPrompt").open();return d.result};M={wrapper:g("<div class='k-widget k-window k-dialog' role='dialog' />"),action:g("<button type='button' class='k-button# if (data.primary) { # k-primary# } role='button' #'></button>"),titlebar:g("<div class='k-window-titlebar k-dialog-titlebar k-header'>"+"<span class='k-window-title k-dialog-title'>#: title #</span>"+"<div class='k-window-actions k-dialog-actions' />"+"</div>"),close:g("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action k-dialog-action k-dialog-close' title='#: messages.close #' aria-label='#: messages.close #' tabindex='-1'><span class='k-icon k-i-close'></span></a>"),actionbar:g("<div class='k-button-group k-dialog-buttongroup k-dialog-button-layout-#: buttonLayout #' role='toolbar' />"),overlay:"<div class='k-overlay' />",alertWrapper:g("<div class='k-widget k-window k-dialog' role='alertdialog' />"),alert:"<div />",confirm:"<div />",prompt:"<div />",promptInputContainer:g("<div class='k-prompt-container'><input type='text' class='k-textbox' title='#: messages.promptInput #' aria-label='#: messages.promptInput #' /></div>")};c.alert=V;c.confirm=X;c.prompt=Z})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.scheduler.view",["kendo.core"],a)})(function(){var a={id:"scheduler.view",name:"Scheduler View",category:"web",description:"The Scheduler Common View",depends:["core"],hidden:true};kendo.ui.scheduler={};(function(a){var b=window.kendo,c=b.ui,d=b.date.getDate,e=c.Widget,f=b._outerHeight,g=b.keys,h=".kendoSchedulerView",i=Math;function j(a,b){var c=[];function d(a,e){e=e[b];if(e){var f=c[a]=c[a]||[];for(var g=0;g<e.length;g++){f.push(e[g]);d(a+1,e[g])}}}d(0,a);return c}function k(){if(b.support.cssBorderSpacing){return""}return'cellspacing="0"'}function l(b,c){if(!b.length){return""}return"<table "+k()+' class="'+a.trim("k-scheduler-table "+(c||""))+'">'+"<tr>"+b.join("</tr><tr>")+"</tr>"+"</table>"}function m(a,b){if(!a.length){return""}return"<div style='position:relative'>"+l(a,b)+"</div>"}function n(b,c,d){var e=[];if(d>0){for(var f=0;f<b;f++){e.push("<th>&#8203;</th>")}}if(c){e.push('<th class="k-scheduler-times-all-day">'+c.text+"</th>")}if(d<1){return a()}return a('<div class="k-scheduler-times">'+l(e)+"</div>")}function o(b,c,d){var e=[];var f;for(var g=0;g<b.length;g++){var h=b[g];var i=[];var j=c/h.length;for(f=0;f<h.length;f++){var k=h[f];i.push('<th colspan="'+(k.colspan||j)+'" class="'+(k.className||"")+'">'+k.text+"</th>")}e.push(i.join(""))}var n=[];if(d){var o=b[b.length-1];var p=[];var q=d.cellContent;for(f=0;f<o.length;f++){p.push('<td class="'+(o[f].className||"")+'">'+(q?q(f):"&nbsp;")+"</td>")}n.push(p.join(""))}return a('<div class="k-scheduler-header k-state-default">'+'<div class="k-scheduler-header-wrap">'+l(e)+m(n,"k-scheduler-header-all-day")+"</div>"+"</div>")}function p(b,c){var d=new Array(c).join().split(",");var e=[];var f;for(var g=0;g<b.length;g++){var h=b[g];var i=c/h.length;var j;for(f=0;f<h.length;f++){j=h[f].className||"";if(h[f].allDay){j="k-scheduler-times-all-day"}d[i*f]+='<th class="'+j+'" rowspan="'+i+'">'+h[f].text+"</th>"}}for(f=0;f<c;f++){e.push(d[f])}if(c<1){return a()}return a('<div class="k-scheduler-times">'+l(e)+"</div>")}function q(){return a('<div class="k-scheduler-content">'+"<table "+k()+' class="k-scheduler-table"/>'+"</div>")}var r='<div class="k-marquee k-scheduler-marquee">'+'<div class="k-marquee-color"></div>'+'<div class="k-marquee-text">'+'<div class="k-label-top"></div>'+'<div class="k-label-bottom"></div>'+"</div>"+"</div>";var s=b.Class.extend({init:function(a,b){this._index=a;this._timeSlotCollections=[];this._daySlotCollections=[];this._isRtl=b},addTimeSlotCollection:function(a,b){return this._addCollection(a,b,this._timeSlotCollections)},addDaySlotCollection:function(a,b){return this._addCollection(a,b,this._daySlotCollections)},_addCollection:function(a,b,c){var d=new w(a,b,this._index,c.length);c.push(d);return d},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(a,b,c){return this._slotByPosition(a,b,this._daySlotCollections,c)},timeSlotByPosition:function(a,b,c){return this._slotByPosition(a,b,this._timeSlotCollections,c)},_slotByPosition:function(a,b,c,d){for(var e=0;e<c.length;e++){var f=c[e];for(var g=0;g<f.count();g++){var h=f.at(g);var i=h.offsetWidth;var j=h.offsetHeight;var k;var l=h.offsetLeft+i;var m=h.offsetTop+j;if(!d){k=f.at(g+1)}if(k){if(k.offsetLeft!=h.offsetLeft){if(this._isRtl){l=h.offsetLeft+(h.offsetLeft-k.offsetLeft)}else{l=k.offsetLeft}}else{m=k.offsetTop}}if(a>=h.offsetLeft&&a<l&&b>=h.offsetTop&&b<m){return h}}}},refresh:function(){var a;for(a=0;a<this._daySlotCollections.length;a++){this._daySlotCollections[a].refresh()}for(a=0;a<this._timeSlotCollections.length;a++){this._timeSlotCollections[a].refresh()}},timeSlotRanges:function(a,b){var c=this._timeSlotCollections;var d=this._startSlot(a,c);if(!d.inRange&&a>=d.slot.end){d=null}var e=d;if(a<b){e=this._endSlot(b,c)}if(e&&!e.inRange&&b<=e.slot.start){e=null}if(d===null&&e===null){return[]}if(d===null){if(e.slot.end<=a){return[]}d={inRange:true,slot:c[e.slot.collectionIndex].first()}}if(e===null){if(d.slot.start>=b){return[]}e={inRange:true,slot:c[d.slot.collectionIndex].last()}}return this._continuousRange(u,c,d,e)},daySlotRanges:function(a,c,d){var e=this._daySlotCollections;var f=this._startSlot(a,e,d);if(!f.inRange&&a>=f.slot.end){f=null}var g=f;if(a<c){g=this._endSlot(c,e,d)}if(g&&!g.inRange&&c<=g.slot.start){g=null}if(f===null&&g===null){return[]}if(f===null){if(g.slot.end<=a){return[]}do{a+=b.date.MS_PER_DAY;f=this._startSlot(a,e,d)}while(!f.inRange&&a>=f.slot.end)}if(g===null){if(f.slot.start>=c){return[]}do{c-=b.date.MS_PER_DAY;g=this._endSlot(c,e,d)}while(!g.inRange&&c<=g.slot.start)}return this._continuousRange(v,e,f,g)},_continuousRange:function(a,b,c,d){var e=c.slot;var f=d.slot;var g=e.collectionIndex;var h=f.collectionIndex;var i=[];for(var j=g;j<=h;j++){var k=b[j];var l=k.first();var m=k.last();var n=false;var o=false;if(j==g){o=!c.inRange}if(j==h){n=!d.inRange}if(l.start<e.start){l=e}if(m.start>f.start){m=f}if(g<h){if(j==g){n=true}else if(j==h){o=true}else{n=o=true}}i.push(new a({start:l,end:m,collection:k,head:n,tail:o}))}return i},slotRanges:function(a,c){var d=a._startTime||b.date.toUtcTime(a.start);var e=a._endTime||b.date.toUtcTime(a.end);if(c===undefined){c=a.isMultiDay()}if(c){return this.daySlotRanges(d,e,a.isAllDay)}return this.timeSlotRanges(d,e)},ranges:function(a,c,d,e){if(typeof a!="number"){a=b.date.toUtcTime(a)}if(typeof c!="number"){c=b.date.toUtcTime(c)}if(d){return this.daySlotRanges(a,c,e)}return this.timeSlotRanges(a,c)},_startCollection:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.startInRange(a)){return d}}return null},_endCollection:function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(e.endInRange(a,c)){return e}}return null},_getCollections:function(a){return a?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(a,b){var c=b?-1:1;var d=this._getCollections(a.isDaySlot);var e=d[a.collectionIndex+c];return e?e[b?"last":"first"]():undefined},firstSlot:function(){var a=this._getCollections(this.daySlotCollectionCount());return a[0].first()},lastSlot:function(){var a=this._getCollections(this.daySlotCollectionCount());return a[a.length-1].last()},upSlot:function(a,b,c){var d=this;var e=function(a,c,e){var f=e===0;if(!b&&!a&&f&&d.daySlotCollectionCount()){return d._daySlotCollections[0].at(c)}};if(!this.timeSlotCollectionCount()){b=true}return this._verticalSlot(a,-1,e,c)},downSlot:function(a,b,c){var d=this;var e=function(a,c,e){if(!b&&a&&d.timeSlotCollectionCount()){return d._timeSlotCollections[e].at(0)}};if(!this.timeSlotCollectionCount()){b=true}return this._verticalSlot(a,1,e,c)},leftSlot:function(a,b){return this._horizontalSlot(a,-1,b)},rightSlot:function(a,b){return this._horizontalSlot(a,1,b)},_horizontalSlot:function(a,b,c){var d=a.index;var e=a.isDaySlot;var f=a.collectionIndex;var g=this._getCollections(e);e=c?false:e;if(e){d+=b}else{f+=b}var h=g[f];return h?h.at(d):undefined},_verticalSlot:function(a,b,c,d){var e=a.index;var f=a.isDaySlot;var g=a.collectionIndex;var h=this._getCollections(f);a=c(f,g,e);if(a){return a}f=d?false:f;if(f){g+=b}else{e+=b}var i=h[g];return i?i.at(e):undefined},_collection:function(a,b){var c=b?this._daySlotCollections:this._timeSlotCollections;return c[a]},_startSlot:function(a,b,c){var d=this._startCollection(a,b);var e=true;if(!d){d=b[0];e=false}var f=d.slotByStartDate(a,c);if(!f){f=d.first();e=false}return{slot:f,inRange:e}},_endSlot:function(a,b,c){var d=this._endCollection(a,b,c);var e=true;if(!d){d=b[b.length-1];e=false}var f=d.slotByEndDate(a,c);if(!f){f=d.last();e=false}return{slot:f,inRange:e}},getSlotCollection:function(a,b){return this[b?"getDaySlotCollection":"getTimeSlotCollection"](a)},getTimeSlotCollection:function(a){return this._timeSlotCollections[a]},getDaySlotCollection:function(a){return this._daySlotCollections[a]}});var t=b.Class.extend({init:function(b){a.extend(this,b)},innerHeight:function(){var a=this.collection;var b=this.start.index;var c=this.end.index;var d=0;for(var e=b;e<=c;e++){d+=a.at(e).offsetHeight}return d},events:function(){return this.collection.events()},addEvent:function(a){this.events().push(a)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.end}return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.start}return this.end}});var u=t.extend({innerHeight:function(){var a=this.collection;var b=this.start.index;var c=this.end.index;var d=0;for(var e=b;e<=c;e++){d+=a.at(e).offsetHeight}return d},outerRect:function(a,b,c){return this._rect("offset",a,b,c)},_rect:function(a,c,d,e){var f;var g;var h;var i;var j=this.start;var k=this.end;var l=b.support.isRtl(j.element);if(typeof c!="number"){c=b.date.toUtcTime(c)}if(typeof d!="number"){d=b.date.toUtcTime(d)}if(e){f=j.offsetTop;g=k.offsetTop+k[a+"Height"];if(l){h=k.offsetLeft;i=j.offsetLeft+j[a+"Width"]}else{h=j.offsetLeft;i=k.offsetLeft+k[a+"Width"]}}else{var m=c-j.start;if(m<0){m=0}var n=j.end-j.start;f=j.offsetTop+j[a+"Height"]*m/n;var o=k.end-d;if(o<0){o=0}var p=k.end-k.start;g=k.offsetTop+k[a+"Height"]-k[a+"Height"]*o/p;if(l){h=Math.round(k.offsetLeft+k[a+"Width"]*o/p);i=Math.round(j.offsetLeft+j[a+"Width"]-j[a+"Width"]*m/n)}else{h=Math.round(j.offsetLeft+j[a+"Width"]*m/n);i=Math.round(k.offsetLeft+k[a+"Width"]-k[a+"Width"]*o/p)}}return{top:f,bottom:g,left:h===0?h:h+1,right:i}},innerRect:function(a,b,c){return this._rect("client",a,b,c)}});var v=t.extend({innerWidth:function(){var a=this.collection;var b=this.start.index;var c=this.end.index;var d=0;var e=b!==c?"offsetWidth":"clientWidth";for(var f=b;f<=c;f++){d+=a.at(f)[e]}return d}});var w=b.Class.extend({init:function(a,c,d,e){this._slots=[];this._events=[];this._start=b.date.toUtcTime(a);this._end=b.date.toUtcTime(c);this._groupIndex=d;this._collectionIndex=e},refresh:function(){for(var a=0;a<this._slots.length;a++){this._slots[a].refresh()}},startInRange:function(a){return this._start<=a&&a<this._end},endInRange:function(a,b){var c=b?a<this._end:a<=this._end;return this._start<=a&&c},slotByStartDate:function(a){var c=a;if(typeof c!="number"){c=b.date.toUtcTime(a)}for(var d=0;d<this._slots.length;d++){var e=this._slots[d];if(e.startInRange(c)){return e}}return null},slotByEndDate:function(a,c){var d=a;if(typeof d!="number"){d=b.date.toUtcTime(a)}if(c){return this.slotByStartDate(a,false)}for(var e=0;e<this._slots.length;e++){var f=this._slots[e];if(f.endInRange(d)){return f}}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(a,b,c,d){var e=new y(a,b,c,this._groupIndex,this._collectionIndex,this._slots.length,d);this._slots.push(e)},addDaySlot:function(a,b,c,d){var e=new z(a,b,c,this._groupIndex,this._collectionIndex,this._slots.length,d);this._slots.push(e)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(a){return this._slots[a]}});var x=b.Class.extend({init:function(a,b,c,d,e,f){this.element=a;this.clientWidth=a.clientWidth;this.clientHeight=a.clientHeight;this.offsetWidth=a.offsetWidth;this.offsetHeight=a.offsetHeight;this.offsetTop=a.offsetTop;this.offsetLeft=a.offsetLeft;this.start=b;this.end=c;this.element=a;this.groupIndex=d;this.collectionIndex=e;this.index=f;this.isDaySlot=false},refresh:function(){var a=this.element;this.clientWidth=a.clientWidth;this.clientHeight=a.clientHeight;this.offsetWidth=a.offsetWidth;this.offsetHeight=a.offsetHeight;this.offsetTop=a.offsetTop;this.offsetLeft=a.offsetLeft},startDate:function(){return b.timezone.toLocalDate(this.start)},endDate:function(){return b.timezone.toLocalDate(this.end)},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}});var y=x.extend({init:function(a,b,c,d,e,f,g){x.fn.init.apply(this,arguments);this.isHorizontal=g?true:false},offsetX:function(a,b){if(a){return this.offsetLeft+b}else{return this.offsetLeft+b}},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end},startOffset:function(c,d,e){if(e){return this.start}var f=a(this.element).offset();var g=this.end-this.start;var h;var i;if(this.isHorizontal){var j=b.support.isRtl(this.element);h=c-f.left;i=Math.floor(g*(h/this.offsetWidth));if(j){return this.start+g-i}}else{h=d-f.top;i=Math.floor(g*(h/this.offsetHeight))}return this.start+i},endOffset:function(c,d,e){if(e){return this.end}var f=a(this.element).offset();var g=this.end-this.start;var h;var i;if(this.isHorizontal){var j=b.support.isRtl(this.element);h=c-f.left;i=Math.floor(g*(h/this.offsetWidth));if(j){return this.start+g-i}}else{h=d-f.top;i=Math.floor(g*(h/this.offsetHeight))}return this.start+i}});var z=x.extend({init:function(a,b,c,d,e,f,g){x.fn.init.apply(this,arguments);this.eventCount=g;this.isDaySlot=true;if(this.element.children.length){var h=this.element.children[0];this.firstChildHeight=h.offsetHeight;this.firstChildTop=h.offsetTop}else{this.firstChildHeight=3;this.firstChildTop=0}},startDate:function(){var a=new Date(this.start);return b.timezone.apply(a,"Etc/UTC")},endDate:function(){var a=new Date(this.end);return b.timezone.apply(a,"Etc/UTC")},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end}});var A;function B(){A=A?A:b.support.scrollbar();return A}b.ui.SchedulerView=e.extend({init:function(c,d){e.fn.init.call(this,c,d);this._normalizeOptions();this._scrollbar=B();this._isRtl=b.support.isRtl(c);this._resizeHint=a();this._moveHint=a();this._cellId=b.guid();this._resourcesForGroups();this._selectedSlots=[]},visibleEndDate:function(){return this.endDate()},_normalizeOptions:function(){var a=this.options;if(a.startTime){a.startTime.setMilliseconds(0)}if(a.endTime){a.endTime.setMilliseconds(0)}if(a.workDayStart){a.workDayStart.setMilliseconds(0)}if(a.workDayEnd){a.workDayEnd.setMilliseconds(0)}},_isMobile:function(){var a=this.options;return a.mobile===true&&b.support.mobileOS||a.mobile==="phone"||a.mobile==="tablet"},_isMobilePhoneView:function(){var a=this.options;return a.mobile===true&&b.support.mobileOS&&!b.support.mobileOS.tablet||a.mobile==="phone"},_addResourceView:function(){var a=new s(this.groups.length,this._isRtl);this.groups.push(a);return a},dateForTitle:function(){return b.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},shortDateForTitle:function(){return b.format(this.options.selectedShortDateFormat,this.startDate(),this.endDate())},_changeGroup:function(a,b){var c=b?"prevGroupSlot":"nextGroupSlot";var d=this[c](a.start,a.groupIndex,a.isAllDay);if(d){a.groupIndex+=b?-1:1}if(this._isGroupedByDate()&&!d){a.groupIndex=b?this.groups.length-1:0}return d},_changeDate:function(a,b,c){var d=this.groups[a.groupIndex];var e,f;if(c){e=d._getCollections(false);f=d.daySlotCollectionCount()?b.index-1:b.collectionIndex-1;if(f>=0){return e[f]._slots[e[f]._slots.length-1]}}else{e=d._getCollections(d.daySlotCollectionCount());f=d.daySlotCollectionCount()?0:b.collectionIndex+1;var g=d.daySlotCollectionCount()?b.collectionIndex+1:0;if(e[f]&&e[f]._slots[g]){return e[f]._slots[g]}}},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_isInRange:function(a,b){if(!a||!b||!this.options.min||!this.options.max){return false}return d(a)<=d(this.options.min)||d(b)>=d(this.options.max)},_horizontalSlots:function(a,b,c,d){var e=d?"leftSlot":"rightSlot";var f={startSlot:b[0].start,endSlot:b[b.length-1].end};var g=this.groups[a.groupIndex];var h=this._isVerticallyGrouped();if(!c){var i=this._normalizeHorizontalSelection(a,b,d);if(i){f.startSlot=f.endSlot=i}}if(this._isGroupedByDate()&&!c){var j=this._changeGroup(a,d);if(!j){f=this._getNextHorizontalRange(g,e,f)}else{f.startSlot=f.endSlot=j}}else{f.startSlot=g[e](f.startSlot);f.endSlot=g[e](f.endSlot);if(!c&&!h&&(!f.startSlot||!f.endSlot)){f.startSlot=f.endSlot=this._changeGroup(a,d)}}var k;if((!f.startSlot||!f.endSlot)&&!this._isGroupedByDate()){k=this._continuousSlot(a,b,d);k=this._changeGroupContinuously(a,k,c,d);if(k){f.startSlot=f.endSlot=k}}return f},_getNextHorizontalRange:function(a,b,c){if(!this._isVerticallyGrouped()){c.startSlot=a[b](c.startSlot);c.endSlot=a[b](c.endSlot)}return c},_verticalSlots:function(a,b,c,d){var e=this.groups[a.groupIndex];var f;var g={startSlot:b[0].start,endSlot:b[b.length-1].end};if(!c){f=this._normalizeVerticalSelection(a,b,d);if(f){g.startSlot=g.endSlot=f}}var h=d?"upSlot":"downSlot";g=this._getNextVerticalRange(e,h,g,c);if(!c&&this._isVerticallyGrouped()&&(!g.startSlot||!g.endSlot)){if(this._isGroupedByDate()){g.startSlot=g.endSlot=this._changeDate(a,f,d)}else{g.startSlot=g.endSlot=this._changeGroup(a,d)}}return g},_getNextVerticalRange:function(a,b,c,d){c.startSlot=a[b](c.startSlot,d);c.endSlot=a[b](c.endSlot,d);return c},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(a,b,c){var d;if(c){d=b[0].start}else{d=b[b.length-1].end}return d},_continuousSlot:function(){return null},constrainSelection:function(a){var b=this.groups[0];var c;if(!this.inRange(a)){c=b.firstSlot();
a.isAllDay=c.isDaySlot;a.start=c.startDate();a.end=c.endDate()}else{if(!b.daySlotCollectionCount()){a.isAllDay=false}else if(!b.timeSlotCollectionCount()){a.isAllDay=true}}if(!this.groups[a.groupIndex]){a.groupIndex=0}},move:function(a,b,c){var d=false;var e=this.groups[a.groupIndex];var f=this._isGroupedByDate()&&this._isVerticallyGrouped();if(!e.timeSlotCollectionCount()){a.isAllDay=true}var h=e.ranges(a.start,a.end,a.isAllDay,false);var i,j,k,l;if(b===g.DOWN||b===g.UP){d=true;k=b===g.UP;this._updateDirection(a,h,c,k,true);l=this._verticalSlots(a,h,c,k);if(!l.startSlot&&!c&&this._changeViewPeriod(a,k,!f)){return d}}else if(b===g.LEFT||b===g.RIGHT){d=true;k=b===g.LEFT;this._updateDirection(a,h,c,k,false);l=this._horizontalSlots(a,h,c,k);if(!l.startSlot&&!c&&this._changeViewPeriod(a,k,f)){return d}}if(d){i=l.startSlot;j=l.endSlot;if(c){var m=a.backward;if(m&&i){a.start=i.startDate()}else if(!m&&j){a.end=j.endDate()}}else if(i&&j){a.isAllDay=i.isDaySlot;a.start=i.startDate();a.end=j.endDate()}a.events=[]}return d},moveToEventInGroup:function(b,c,d,e){var f=b._continuousEvents||[];var g,h;var i=e?-1:1;var j=f.length;var k=e?j-1:0;if(d.length){var l=d[d.length-1];for(var m=0;m<f.length;m++){if(f[m].uid===l){k=m+i}}}while(k<j&&k>-1){h=f[k];if(!e&&h.start.startDate()>=c.startDate()||e&&h.start.startDate()<=c.startDate()){if(h&&a.inArray(h.uid,d)===-1){g=!!h;break}}k+=i}return h},moveToEvent:function(a,b){var c=a.groupIndex;var d=this.groups[c];var e=d.ranges(a.start,a.end,a.isAllDay,false)[0].start;var f=this.groups.length;var g=b?-1:1;var h=a.events;var i;if(this._isGroupedByDate()){var j=this._getAllEvents();var k=this._getUniqueEvents(j);var l=this._getSortedEvents(k);if(h.length===0){var m=this._getNextEventIndexBySlot(e,l,c);if(b){m--}i=l[m]}else{var n=this._getStartIdx(h,l);while(n<l.length&&n>-1){if(h.length>0){e=this._getSelectedSlot(e,l,i,n,g,b)}if(!e){break}if(!b&&l[n].start.startDate()>=e.startDate()||b&&l[n].start.startDate()<=e.startDate()){if(h[0]!=l[n].uid){i=l[n];break}}n+=g}}}else{while(c<f&&c>-1){i=this.moveToEventInGroup(d,e,h,b);c+=g;d=this.groups[c];if(!d||i){break}h=[];if(b){e=d.lastSlot()}else{e=d.firstSlot(true)}}}if(i){a.events=[i.uid];a.start=i.start.startDate();a.end=i.end.endDate();a.isAllDay=i.start.isDaySlot;a.groupIndex=i.start.groupIndex}return!!i},current:function(a){if(a!==undefined){this._current=a;if(this.content.has(a)){this._scrollTo(a,this.content[0])}}else{return this._current}},select:function(a){this.clearSelection();if(!this._selectEvents(a)){this._selectSlots(a)}},_getNextEventIndexBySlot:function(a,c,d){var e=0;var f=b.date.getDate(a.startDate());for(var g=0;g<c.length;g++){var h=b.date.getDate(c[g].start.startDate());if(f>h){e++;continue}if(f.getTime()===h.getTime()&&d>c[g].start.groupIndex){e++;continue}if(f.getTime()===h.getTime()&&d>=c[g].start.groupIndex&&a.startDate()>c[g].start.startDate()){e++;continue}break}return e},_getSelectedSlot:function(a,b,c,d,e,f){if(b[d+e]&&b[d].start.groupIndex!==b[d+e].start.groupIndex){var g=b[d+e].start.groupIndex;var h=this.groups[g];if(!h||c){a=null}if(f){a=h.lastSlot()}else{a=h.firstSlot(true)}}return a},_getStartIdx:function(b,c){var d=0;a.each(c,function(){if(this.uid===b[0]){return false}d++});return d},_getAllEvents:function(){var a=[];var b=this.groups;for(var c=0;c<b.length;c++){if(b[c]._continuousEvents){a=a.concat(b[c]._continuousEvents)}}return a},_getUniqueEvents:function(a){var b=[];for(var c=0;c<a.length;c++){var d=false;for(var e=0;e<b.length;e++){if(a[c].uid===b[e].uid){d=true;break}}if(!d){b.push(a[c])}}return b},_getSortedEvents:function(c){return c.sort(function(c,d){var e=c.start.startDate();var f=d.start.startDate();var g=b.date.getDate(e)-b.date.getDate(f);if(g===0){g=c.start.groupIndex-d.start.groupIndex}if(g===0){g=e.getTime()-f.getTime()}if(g===0){if(c.start.isDaySlot&&!d.start.isDaySlot){g=-1}if(!c.start.isDaySlot&&d.start.isDaySlot){g=1}}if(g===0){g=a(c.element).index()-a(d.element).index()}return g})},_selectSlots:function(a){var b=a.isAllDay;var c=this.groups[a.groupIndex];if(!c.timeSlotCollectionCount()){b=true}this._selectedSlots=[];var d=c.ranges(a.start,a.end,b,false);var e;var f;for(var g=0;g<d.length;g++){var h=d[g];var i=h.collection;for(var j=h.start.index;j<=h.end.index;j++){f=i.at(j);e=f.element;e.setAttribute("aria-selected",true);N(e);this._selectedSlots.push({start:f.startDate(),end:f.endDate(),element:e})}}if(a.backward){e=d[0].start.element}this.current(e)},_selectEvents:function(b){var c=false;var d=b.events;var e=this._getAllEvents();var f,g,h=e.length;var i=[];if(!d[0]||!e[0]){return c}var j=a();b.events=[];for(f=0;f<h;f++){if(a.inArray(e[f].uid,d)>-1){g=e[f];j=j.add(g.element);if(b.events.indexOf(g.uid)===-1){b.events.push(g.uid)}else{if(i.indexOf(g.uid)===-1){i.push(g.uid)}}}}if(j[0]){j.addClass("k-state-selected").attr("aria-selected",true);if(i.indexOf(j.last().attr("data-uid"))===-1){this.current(j.last()[0])}this._selectedSlots=[];c=true}return c},inRange:function(a){var c=this.startDate();var d=b.date.addDays(this.endDate(),1);var e=a.start;var f=a.end;return c<=e&&e<d&&c<f&&f<=d},_resourceValue:function(a,c){if(a.valuePrimitive){c=b.getter(a.dataValueField)(c)}return c},_resourceBySlot:function(a){var c=this.groupedResources;var d={};if(c.length){var e=a.groupIndex;for(var f=c.length-1;f>=0;f--){var g=c[f];var h=this._resourceValue(g,g.dataSource.view()[e%g.dataSource.total()]);if(g.multiple){h=[h]}var i=b.setter(g.field);i(d,h);e=Math.floor(e/g.dataSource.total())}}return d},_createResizeHint:function(b,c,d,e){return a(r).css({left:b,top:c,width:d,height:e})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=a()},_removeMoveHint:function(b){if(b){this._moveHint.filter("[data-uid='"+b+"']").remove();this._moveHint=this._moveHint.filter("[data-uid!='"+b+"']")}else{this._moveHint.remove();this._moveHint=a()}},_scrollTo:function(a,b){var c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d,h=0;if(e>c){h=c}else if(g>e+f){if(d<=f){h=g-f}else{h=c}}else{h=e}b.scrollTop=h},_shouldInverseResourceColor:function(a){var b=new H(a.color).isDark();var c=this.element.css("color");var d=new H(c).isDark();return b==d},_eventTmpl:function(c,d){var e=this.options,f=a.extend({},b.Template,e.templateSettings),g=f.paramName,h="",i=typeof c,j={storage:{},count:0};if(i==="function"){j.storage["tmpl"+j.count]=c;h+="#=this.tmpl"+j.count+"("+g+")#";j.count++}else if(i==="string"){h+=c}var k=b.template(b.format(d,h),f);if(j.count>0){k=a.proxy(k,j.storage)}return k},eventResources:function(a){var c=[],d=this.options;if(!d.resources){return c}for(var e=0;e<d.resources.length;e++){var f=d.resources[e];var g=f.field;var h=b.getter(g)(a);if(h==null){continue}if(!f.multiple){h=[h]}var i=f.dataSource.view();for(var j=0;j<h.length;j++){var k=null;var l=h[j];if(!f.valuePrimitive){l=b.getter(f.dataValueField)(l)}for(var m=0;m<i.length;m++){if(i[m].get(f.dataValueField)==l){k=i[m];break}}if(k!==null){var n=b.getter(f.dataColorField)(k);c.push({field:f.field,title:f.title,name:f.name,text:b.getter(f.dataTextField)(k),value:l,color:n})}}}return c},createLayout:function(b){var c=-1;if(!b.rows){b.rows=[]}for(var d=0;d<b.rows.length;d++){if(b.rows[d].allDay){c=d;break}}var e=b.rows[c];if(c>=0){b.rows.splice(c,1)}var f=this.columnLevels=j(b,"columns");var g=this.rowLevels=j(b,"rows");this.table=a("<table "+k()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"><tbody></tbody></table>');var h=g[g.length-1].length;this.table.find("tbody:first").append(this._topSection(f,e,h));this.table.find("tbody:first").append(this._bottomSection(f,g,h));this.element.append(this.table);this._scroller()},refreshLayout:function(){var c=this,d=c.element.find(">.k-scheduler-toolbar"),e=c.element.innerHeight(),g=this._scrollbar,h=0,i=this._isRtl?"left":"right";for(var j=0;j<d.length;j++){e-=f(d.eq(j))}if(c.datesHeader){h=f(c.datesHeader)}if(c.timesHeader&&f(c.timesHeader)>h){h=f(c.timesHeader)}if(c.datesHeader&&c.timesHeader){var k=c.datesHeader.find("table:first tr");c.timesHeader.find("tr").height(function(b){a(this).height(k.eq(b).height())})}if(h){e-=h}if(c.footer){e-=f(c.footer)}var l=function(a){var b,c;if(a[0].style.height){return true}else{b=a.height()}a.height("auto");c=a.height();if(b!=c){a.height("");return true}a.height("");return false};var m=c.content[0],n=!b.support.kineticScrollNeeded?g:0;if(l(c.element)){if(e>g*2){c.content.height(e)}else{c.content.height(g*2+1)}c.times.height(m.clientHeight);var o=c.times.find("table");if(o.length){o.height(c.content.find("table")[0].clientHeight)}}if(m.offsetWidth-m.clientWidth>0){c.table.addClass("k-scrollbar-v");c.datesHeader.css("padding-"+i,n-parseInt(c.datesHeader.children().css("border-"+i+"-width"),10))}else{c.datesHeader.css("padding-"+i,"")}if(m.offsetHeight-m.clientHeight>0||m.clientHeight>c.content.children(".k-scheduler-table").height()){c.table.addClass("k-scrollbar-h")}else{c.table.removeClass("k-scrollbar-h")}},_topSection:function(b,c,d){this.timesHeader=n(b.length,c,d);var e=b[b.length-1].length;this.datesHeader=o(b,e,c);return a("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(b,c,d){this.times=p(c,d);this.content=q(b[b.length-1],c[c.length-1]);return a("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var c=this;this.content.bind("scroll"+h,function(){c.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);c.times.scrollTop(this.scrollTop)});var d=b.touchScroller(this.content,{avoidScrolling:function(b){return a(b.event.target).closest(".k-event.k-event-active").length>0}});if(d&&d.movable){this._touchScroller=d;this.content=d.scrollElement;d.movable.bind("change",function(a){c.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-a.sender.x);c.times.scrollTop(-a.sender.y)})}},_resourcesForGroups:function(){var a=[];var b=this.options.group;var c=this.options.resources;b=b&&b.resources?b.resources:[];if(c&&b.length){for(var d=0,e=c.length;d<e;d++){for(var f=0,g=b.length;f<g;f++){if(c[d].name===b[f]){a.push(c[d])}}}}this.groupedResources=a},_createDateLayout:function(a,b,c){return J("rows",a,b,c)},_createColumnsLayout:function(a,b,c,d,e){return K("columns",a,b,c,d,e)},_groupOrientation:function(){var a=this.options.group;return a&&a.resources?a.orientation:"horizontal"},_isGroupedByDate:function(){return this.options.group&&this.options.group.date},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(a,b,c,d){return K("rows",a,b,c,d)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},destroy:function(){var a=this;e.fn.destroy.call(this);if(a.table){b.destroy(a.table);a.table.remove()}a.groups=null;a.table=null;a.content=null;a.times=null;a.datesHeader=null;a.timesHeader=null;a.footer=null;a._resizeHint=null;a._moveHint=null},calendarInfo:function(){return b.getCulture().calendars.standard},prevGroupSlot:function(a,b,c){var d;var e=this.groups[b];var f=e.ranges(a,a,c,false)[0].start;if(b<=0){return}if(this._isGroupedByDate()){return f}if(this._isVerticallyGrouped()){if(!e.timeSlotCollectionCount()){d=e._collection(e.daySlotCollectionCount()-1,true);return d.at(f.index)}else{d=e._collection(c?f.index:f.collectionIndex,false);return d.last()}}else{if(!e.timeSlotCollectionCount()){d=e._collection(f.collectionIndex,true);return d.last()}else{d=e._collection(c?0:e.timeSlotCollectionCount()-1,c);return c?d.last():d.at(f.index)}}},nextGroupSlot:function(a,b,c){var d;var e=this.groups[b];var f=e.ranges(a,a,c,false)[0].start;var g;if(b>=this.groups.length-1){return}if(this._isGroupedByDate()){return f}if(this._isVerticallyGrouped()){if(!e.timeSlotCollectionCount()){d=e._collection(0,true);return d.at(f.index)}else{g=e.daySlotCollectionCount();d=e._collection(g?0:f.collectionIndex,g);return c?d.first():d.at(f.collectionIndex)}}else{if(!e.timeSlotCollectionCount()){d=e._collection(f.collectionIndex,true);return d.first()}else{d=e._collection(0,c);return c?d.first():d.at(f.index)}}},_eventOptionsForMove:function(){return{}},_updateEventForResize:function(){return},_updateEventForSelection:function(a){return a}});function C(a,b,c){var d,e,f,g,h;for(d=a.length-1;d>=0;d--){e=D(a[d]);f=e.start;h=e.end;g=f<=b&&h>=b;if(g||f>=b&&h<=c||b<=f&&c>=f){if(f<b){b=f}if(h>c){c=h}}}return E(a,b,c)}function D(a){return{start:a.start,end:a.end}}function E(a,b,c){var d=[];for(var e=0;e<a.length;e++){var f=D(a[e]);if(f.start<b&&f.end>b||f.start>=b&&f.end<=c){d.push(a[e])}}return d}function F(a){return I(a)}function G(a){return I(a)}var H=function(a){var b=this,c=H.formats,d,e,f,g,h;if(arguments.length===1){a=b.resolveColor(a);for(g=0;g<c.length;g++){d=c[g].re;e=c[g].process;f=d.exec(a);if(f){h=e(f);b.r=h[0];b.g=h[1];b.b=h[2]}}}else{b.r=arguments[0];b.g=arguments[1];b.b=arguments[2]}b.r=b.normalizeByte(b.r);b.g=b.normalizeByte(b.g);b.b=b.normalizeByte(b.b)};H.prototype={resolveColor:function(a){a=a||"#000";if(a.charAt(0)=="#"){a=a.substr(1,6)}a=a.replace(/ /g,"");a=a.toLowerCase();a=H.namedColors[a]||a;return a},normalizeByte:function(a){return a<0||isNaN(a)?0:a>255?255:a},percBrightness:function(){var a=this;return i.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b)},isDark:function(){var a=this;var b=a.percBrightness();return b<180}};H.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];H.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function I(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];var e=D(d);var f=null;for(var g=0,h=b.length;g<h;g++){var i=e.start>b[g].end;if(e.start<b[g].start||i){f=b[g];if(f.end<e.end){f.end=e.end}break}}if(!f){f={start:e.start,end:e.end,events:[]};b.push(f)}f.events.push(d)}return b}function J(b,c,d,e){var f=[];a.each(c,function(a,c){var g=c.className?"k-slot-cell "+c.className:"k-slot-cell";var h={text:c.text,className:g};if(e&&!c.minorTicks){h[b]=J(b,c.columns,d,e)}else{h[b]=d}f.push(h)});return f}function K(c,d,e,f,g,h){var i=d[0];var j=[];if(i){if(g&&e){a.each(g,function(a,b){if(h&&!b.minorTicks){b[c]=K(c,d,b.columns,f,b.columns,h)}else{b[c]=K(c,d,null,f)}});j=g}else{var k=i.dataSource.view();for(var l=0;l<k.length;l++){var m={text:f({text:b.htmlEncode(b.getter(i.dataTextField)(k[l])),color:b.getter(i.dataColorField)(k[l]),field:i.field,title:i.title,name:i.name,value:b.getter(i.dataValueField)(k[l])}),className:"k-slot-cell"};m[c]=K(c,d.slice(1),e,f);j.push(m)}}return j}return e}function L(c){return function(d){if(a.isArray(d)||d instanceof b.data.ObservableArray){for(var e=0;e<d.length;e++){if(d[e]==c){return true}}return false}return d==c}}var M=/\s*k-state-selected/;function N(a){a.className=a.className.replace(M,"")+" k-state-selected"}a.extend(c.SchedulerView,{createColumns:F,createRows:G,rangeIndex:D,collidingEvents:C,groupEqFilter:L})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.scheduler.dayview",["kendo.scheduler.view"],a)})(function(){var a={id:"scheduler.dayview",name:"Scheduler Day View",category:"web",description:"The Scheduler Day View",depends:["scheduler.view"],hidden:true};(function(a,b){var c=window.kendo,d=c.ui,e=c.support.browser,f=c.date.setTime,g=d.SchedulerView,h=c._outerWidth,i=c._outerHeight,j=a.extend,k=a.proxy,l=c.date.getDate,m=c.date.MS_PER_MINUTE,n=c.date.MS_PER_DAY,o="k-current-time",p="k-current-time-arrow",q=.8666,r=c.date.getMilliseconds,s=".kendoMultiDayView";var t=c.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#">'+'<div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div>'+'<div class="k-event-template">${title}</div>'+"</div>"),u=c.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#">'+'<div class="k-event-template">${title}</div>'+"</div>"),v=c.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),w='<div role="gridcell" aria-selected="false" '+'data-#=ns#uid="#=uid#"'+"#if (resources[0]) { #"+'style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"'+'class="k-event#=inverseColor ? " k-event-inverse" : ""#" '+"#} else {#"+'class="k-event"'+"#}#"+">"+'<span class="k-event-actions">'+"# if(data.tail || data.middle) {#"+'<span class="k-icon k-i-arrow-60-left"></span>'+"#}#"+"# if(data.isException()) {#"+'<span class="k-icon k-i-non-recurrence"></span>'+"# } else if(data.isRecurring()) {#"+'<span class="k-icon k-i-reload"></span>'+"# } #"+"</span>"+"{0}"+'<span class="k-event-actions">'+"#if (showDelete) {#"+'<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>'+"#}#"+"# if(data.head || data.middle) {#"+'<span class="k-icon k-i-arrow-60-right"></span>'+"#}#"+"</span>"+"#if(resizable && !singleDay && !data.tail && !data.middle){#"+'<span class="k-resize-handle k-resize-w"></span>'+"#}#"+"#if(resizable && !singleDay && !data.head && !data.middle){#"+'<span class="k-resize-handle k-resize-e"></span>'+"#}#"+"</div>",x='<div role="gridcell" aria-selected="false" '+'data-#=ns#uid="#=uid#" '+"#if (resources[0]) { #"+'style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"'+'class="k-event#=inverseColor ? " k-event-inverse" : ""#"'+"#} else {#"+'class="k-event"'+"#}#"+">"+'<span class="k-event-actions">'+"# if(data.isException()) {#"+'<span class="k-icon k-i-non-recurrence"></span>'+"# } else if(data.isRecurring()) {#"+'<span class="k-icon k-i-reload"></span>'+"# } #"+"</span>"+"{0}"+'<span class="k-event-actions">'+"#if (showDelete) {#"+'<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>'+"#}#"+"</span>"+'<span class="k-event-top-actions">'+"# if(data.tail || data.middle) {#"+'<span class="k-icon k-i-arrow-60-up"></span>'+"# } #"+"</span>"+'<span class="k-event-bottom-actions">'+"# if(data.head || data.middle) {#"+'<span class="k-icon k-i-arrow-60-down"></span>'+"# } #"+"</span>"+"# if(resizable && !data.tail && !data.middle) {#"+'<span class="k-resize-handle k-resize-n"></span>'+"# } #"+"# if(resizable && !data.head && !data.middle) {#"+'<span class="k-resize-handle k-resize-s"></span>'+"# } #"+"</div>";function y(a){var b=new Date(1980,1,1,0,0,0);f(b,r(a));return b}function z(a,b,c){return a>=b&&a<=c}function A(a,b,c,d){d=d?a<=c:a<c;return a>b&&d}function B(a,b,d,e){var f=a._continuousEvents;var g=f[f.length-1];var h=l(b.start.startDate()).getTime();if(e&&g&&l(g.start.startDate()).getTime()==h){var i=f.length-1;for(;i>-1;i--){if(f[i].isAllDay||l(f[i].start.startDate()).getTime()<h){break}}f.splice(i+1,0,{element:d,isAllDay:true,uid:d.attr(c.attr("uid")),start:b.start,end:b.end})}else{f.push({element:d,isAllDay:e,uid:d.attr(c.attr("uid")),start:b.start,end:b.end})}}function C(a){var b=[];var c=a.workWeekStart%7;var d=Math.abs(a.workWeekEnd%7);b.push(c);while(d!=c){if(c>6){c-=7}else{c++}b.push(c)}return b}var D=g.extend({init:function(a,b){var c=this;g.fn.init.call(c,a,b);c.title=c.options.title||c.options.name;c._workDays=C(c.options);c._templates();c._editable();c.calculateDateRange();c._groups();c._currentTime(true)},_currentTimeMarkerUpdater:function(){this._updateCurrentTimeMarker(new Date)},_updateCurrentTimeMarker:function(b){var d=this.options;if(d.currentTimeMarker.useLocalTimezone===false){var f=d.dataSource.options.schema.timezone;if(d.dataSource&&f){var g=c.timezone.offset(b,f);b=c.timezone.convert(b,b.getTimezoneOffset(),g)}}this.times.find("."+o).remove();this.content.find("."+o).remove();var j=!d.group||d.group.orientation=="horizontal"?1:this.groups.length;var k=this.times.find("tr:first th:first");var l=this.times.find("tr:first th:last");for(var m=0;m<j;m++){var n=this.groups[m];if(!n){return}var r=c.date.toUtcTime(b);var s=n.timeSlotRanges(r,r+1);if(s.length===0){return}var t=s[0].collection;var u=t.slotByStartDate(b);if(u){var v="<div class='"+o+"'></div>";var w=a(v).prependTo(this.times);var x=Math.round(s[0].innerRect(b,new Date(b.getTime()+1),false).top);var y={};var z=this.content[0].scrollWidth;if(e.msie||e.edge){z-=1}if(this._isRtl){y.right=k.position().left+i(k)-i(l);w.addClass(p+"-left")}else{y.left=l.position().left;w.addClass(p+"-right")}y.top=x-h(w)*q/2;w.css(y);a(v).prependTo(this.content).css({top:x,height:"1px",right:0,width:z,left:0})}}},_currentTime:function(a){var c=this;var d=c.options.currentTimeMarker;if(d!==false&&d.updateInterval!==b){c._currentTimeMarkerUpdater();if(a){c._currentTimeUpdateTimer=setInterval(k(this._currentTimeMarkerUpdater,c),d.updateInterval)}}},_updateResizeHint:function(a,b,d,e){var f=a.isMultiDay();var h=this.groups[b];var i=h.ranges(d,e,f,a.isAllDay);var j,k,l,m;this._removeResizeHint();for(var n=0;n<i.length;n++){var o=i[n];var p=o.startSlot();if(this._isGroupedByDate()&&f){for(var q=p.index;q<=o.end.index;q++){var r=o.collection._slots[q];j=r.offsetWidth;k=r.clientHeight;l=r.offsetTop;m=g.fn._createResizeHint.call(this,r.offsetLeft,l,j,k);this._resizeHint=this._resizeHint.add(m)}}else{j=p.offsetWidth;k=p.clientHeight;l=p.offsetTop;if(f){j=o.innerWidth()}else{var s=o.outerRect(d,e,this.options.snap);l=s.top;k=s.bottom-s.top}m=g.fn._createResizeHint.call(this,p.offsetLeft,l,j,k);this._resizeHint=this._resizeHint.add(m)}}var t="t";var u=this.content;if(f){t="M/dd";u=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!u.length){u=this.content}}this._resizeHint.appendTo(u);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(c.toString(c.timezone.toLocalDate(d),t));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(c.toString(c.timezone.toLocalDate(e),t))},_updateMoveHint:function(b,d,e){var f=b.isMultiDay();var g=this.groups[d];var h=c.date.toUtcTime(b.start)+e;var i=h+b.duration();var j=g.ranges(h,i,f,b.isAllDay);h=c.timezone.toLocalDate(h);i=c.timezone.toLocalDate(i);this._removeMoveHint(b.uid);if(!f&&(r(i)===0||r(i)<r(this.startTime()))){if(j.length>1){j.pop()}}var k=a();for(var l=0;l<j.length;l++){var m=j[l];var n=m.start;var o;var p={left:n.offsetLeft+2,top:n.offsetTop};if(this._isGroupedByDate()&&f){for(var q=n.index;q<=m.end.index;q++){var s=m.collection._slots[q];p.left=this._isRtl?s.clientWidth*.1+s.offsetLeft+2:s.offsetLeft+2;p.height=s.offsetHeight;p.width=s.clientWidth*.9-4;o=this._createEventElement(b.clone({start:h,end:i}),!f);this._appendMoveHint(o,p);k=k.add(o)}}else{if(this._isRtl){p.left=n.clientWidth*.1+n.offsetLeft+2}if(f){p.width=m.innerWidth()-4}else{var t=m.outerRect(h,i,this.options.snap);p.top=t.top;p.height=t.bottom-t.top;p.width=n.clientWidth*.9-4}o=this._createEventElement(b.clone({start:h,end:i}),!f);this._appendMoveHint(o,p);k=k.add(o)}}var u=this.content;if(f){u=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!u.length){u=this.content}}k.appendTo(u)},_appendMoveHint:function(a,b){a.addClass("k-event-drag-hint");a.css(b);this._moveHint=this._moveHint.add(a)},_slotByPosition:function(a,b){var c,d;if(this._isVerticallyGrouped()){d=this.content.offset();b+=this.content[0].scrollTop;a+=this.content[0].scrollLeft}else{d=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()}if(d){a-=d.left;b-=d.top}a=Math.ceil(a);b=Math.ceil(b);var e;var f;for(f=0;f<this.groups.length;f++){e=this.groups[f];c=e.daySlotByPosition(a,b,this._isGroupedByDate());if(c){return c}}if(d){a+=d.left;b+=d.top}d=this.content.offset();a-=d.left;b-=d.top;if(!this._isVerticallyGrouped()){b+=this.content[0].scrollTop;a+=this.content[0].scrollLeft}a=Math.ceil(a);b=Math.ceil(b);for(f=0;f<this.groups.length;f++){e=this.groups[f];c=e.timeSlotByPosition(a,b);if(c){return c}}return null},_groupCount:function(){var a=this.groupedResources;var b=this._isGroupedByDate();if(a.length){if(this._groupOrientation()==="vertical"){if(b){return this._columnCountForLevel(a.length-1)}else{return this._rowCountForLevel(a.length-1)}}else{if(b){return this._columnCountForLevel(a.length)/this._columnCountForLevel(0)}else{return this._columnCountForLevel(a.length)/this._columnOffsetForResource(a.length)}}}return 1},_columnCountInResourceView:function(){var a=this.groupedResources;var b=this._isGroupedByDate();if(!a.length||this._isVerticallyGrouped()){if(b){return this._rowCountForLevel(0)}else{return this._columnCountForLevel(0)}}if(b){return this._columnCountForLevel(0)}else{return this._columnOffsetForResource(a.length)}},_timeSlotGroups:function(a,b){var c=this._timeSlotInterval();var d=a;var e=this._isGroupedByDate();var f=this.content.find("tr:not(.k-scheduler-header-all-day)");var g,h,i,j;f.attr("role","row");var k=f.length;if(this._isVerticallyGrouped()){if(e){d=b}k=Math.floor(k/d)}for(var l=0;l<d;l++){var m=0;var n=0;if(this._isVerticallyGrouped()){m=l}else{n=l}i=m*k;while(i<(m+1)*k){var o=f[i].children;if(i%k===0){h=r(new Date(+this.startTime()))}var p=0;if(e){if(this._isVerticallyGrouped()){for(j=0;j<a;j++){g=this.groups[j];this._addTimeSlotGroup(g,o,j,h,c,l)}}else{g=this.groups[l];for(j=n;j<a*b;j=j+a){this._addTimeSlotGroup(g,o,j,h,c,p);p++}}}else{g=this.groups[l];for(j=n*b;j<(n+1)*b;j++){this._addTimeSlotGroup(g,o,j,h,c,p);p++}}h+=c;i++}}},_addTimeSlotGroup:function(a,b,c,d,e,f){var g=b[c];var h=a.getTimeSlotCollection(f);var i=this._dates[f];if(!i){return}var j=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate());var k=j+d;var l=k+e;g.setAttribute("role","gridcell");g.setAttribute("aria-selected",false);h.addTimeSlot(g,k,l)},_addDaySlotGroup:function(a,b,d,e,f){var g=b[d];var h=this._dates[f];if(!h){return}var i=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate());g.setAttribute("role","gridcell");g.setAttribute("aria-selected",false);a.addDaySlot(g,i,i+c.date.MS_PER_DAY)},_daySlotGroups:function(a,b){var c,d;var e=a;var f=this._isGroupedByDate();if(this._isVerticallyGrouped()){if(f){e=b}c=this.element.find(".k-scheduler-header-all-day")}else{c=this.element.find(".k-scheduler-header-all-day tr")}c.attr("role","row");for(var g=0;g<e;g++){var h=0;var i,j;if(this._isVerticallyGrouped()){h=g}var k=c[h].children;var l=0;if(!this._isVerticallyGrouped()){l=g}var m=0;if(f){if(this._isVerticallyGrouped()){for(d=0;d<a;d++){i=this.groups[d];j=i.getDaySlotCollection(0);this._addDaySlotGroup(j,k,d,b,g)}}else{i=this.groups[g];j=i.getDaySlotCollection(0);for(d=l;d<a*b;d=d+a){this._addDaySlotGroup(j,k,d,b,m);m++}}}else{i=this.groups[g];j=i.getDaySlotCollection(0);for(d=l*b;d<(l+1)*b;d++){this._addDaySlotGroup(j,k,d,b,m);m++}}}},_groups:function(){var a=this._groupCount();var b=this._columnCountInResourceView();this.groups=[];for(var d=0;d<a;d++){var e=this._addResourceView(d);for(var f=0;f<b;f++){if(this._dates[f]){e.addTimeSlotCollection(this._dates[f],c.date.addDays(this._dates[f],1))}}if(this.options.allDaySlot){e.addDaySlotCollection(this._dates[0],c.date.addDays(this._dates[this._dates.length-1],1))}}this._timeSlotGroups(a,b);if(this.options.allDaySlot){this._daySlotGroups(a,b)}},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",allDaySlot:true,showWorkHours:false,title:"",startTime:c.date.today(),endTime:c.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&\\#8203;",groupHeaderTemplate:"#=text#",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:t,allDayEventTemplate:u,dateHeaderTemplate:v,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:true}},events:["remove","add","edit"],_templates:function(){var a=this.options,b=j({},c.Template,a.templateSettings);this.eventTemplate=this._eventTmpl(a.eventTemplate,x);this.allDayEventTemplate=this._eventTmpl(a.allDayEventTemplate,w);this.majorTimeHeaderTemplate=c.template(a.majorTimeHeaderTemplate,b);this.minorTimeHeaderTemplate=c.template(a.minorTimeHeaderTemplate,b);this.dateHeaderTemplate=c.template(a.dateHeaderTemplate,b);this.slotTemplate=c.template(a.slotTemplate,b);this.allDaySlotTemplate=c.template(a.allDaySlotTemplate,b);this.groupHeaderTemplate=c.template(a.groupHeaderTemplate,b)},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var b=this;b.element.on("click"+s,".k-event a:has(.k-i-close)",function(d){b.trigger("remove",{uid:a(this).closest(".k-event").attr(c.attr("uid"))});d.preventDefault()});if(b.options.editable.create!==false){b.element.on("dblclick"+s,".k-scheduler-content td",function(c){if(!a(this).parent().hasClass("k-scheduler-header-all-day")){var d=b._slotByPosition(c.pageX,c.pageY);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:j({start:d.startDate(),end:d.endDate()},e)})}c.preventDefault()}}).on("dblclick"+s,".k-scheduler-header-all-day td",function(a){var d=b._slotByPosition(a.pageX,a.pageY);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:j({},{isAllDay:true,start:c.date.getDate(d.startDate()),end:c.date.getDate(d.startDate())},e)})}a.preventDefault()})}if(b.options.editable.update!==false){b.element.on("dblclick"+s,".k-event",function(d){b.trigger("edit",{uid:a(this).closest(".k-event").attr(c.attr("uid"))});d.preventDefault()})}},_touchEditable:function(){var d=this;var e=0;if(c.support.mobileOS.android){e=5}if(d.options.editable.create!==false){d._addUserEvents=new c.UserEvents(d.element,{threshold:e,filter:".k-scheduler-content td",useClickAsTap:!c.support.browser.edge,tap:function(c){if(d._scrolling){return}if(!a(c.target).parent().hasClass("k-scheduler-header-all-day")){var e=c.x.location!==b?c.x.location:c.x;var f=c.y.location!==b?c.y.location:c.y;var g=d._slotByPosition(e,f);if(g){var h=d._resourceBySlot(g);d.trigger("add",{eventInfo:j({start:g.startDate(),end:g.endDate()},h)})}c.preventDefault()}}});d._allDayUserEvents=new c.UserEvents(d.element,{threshold:e,useClickAsTap:!c.support.browser.edge,filter:".k-scheduler-header-all-day td",tap:function(a){if(d._scrolling){return}var e=a.x.location!==b?a.x.location:a.x;var f=a.y.location!==b?a.y.location:a.y;var g=d._slotByPosition(e,f);if(g){var h=d._resourceBySlot(g);d.trigger("add",{
eventInfo:j({},{isAllDay:true,start:c.date.getDate(g.startDate()),end:c.date.getDate(g.startDate())},h)})}a.preventDefault()}})}if(d.options.editable.update!==false){d._editUserEvents=new c.UserEvents(d.element,{threshold:e,useClickAsTap:!c.support.browser.edge,filter:".k-event",tap:function(b){if(d._scrolling){return}var e=a(b.target).closest(".k-event");if(!e.hasClass("k-event-active")){d.trigger("edit",{uid:e.attr(c.attr("uid"))})}b.preventDefault()}})}},_layout:function(a){var b=[];var d=[];var e=this.options;var f=this;var g=f._isGroupedByDate();for(var h=0;h<a.length;h++){var i={};i.text=f.dateHeaderTemplate({date:a[h]});if(c.date.isToday(a[h])){i.className="k-today"}b.push(i)}var j=this.groupedResources;if(e.allDaySlot){d.push({text:e.messages.allDay,allDay:true,cellContent:function(b){var c=b;b=j.length&&f._groupOrientation()!=="vertical"?b%a.length:b;return f.allDaySlotTemplate({date:a[b],resources:function(){return f._resourceBySlot({groupIndex:c})}})}})}this._forTimeRange(this.startTime(),this.endTime(),function(a,b,c,e){var g=b?f.majorTimeHeaderTemplate:f.minorTimeHeaderTemplate;var h={text:g({date:a}),className:e?"k-slot-cell":""};d.push(h)});if(j.length){if(this._groupOrientation()==="vertical"){if(g){d=this._createDateLayout(b,d);b=this._createColumnsLayout(j,null,this.groupHeaderTemplate)}else{d=this._createRowsLayout(j,d,this.groupHeaderTemplate)}}else{if(g){b=this._createColumnsLayout(j,b,this.groupHeaderTemplate,b)}else{b=this._createColumnsLayout(j,b,this.groupHeaderTemplate)}}}return{columns:b,rows:d}},_footer:function(){var b=this.options;if(b.footer!==false){var c='<div class="k-header k-scheduler-footer">';var d=b.footer.command;if(d&&d==="workDay"){c+='<ul class="k-reset k-header">';c+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';c+=(b.showWorkHours?b.messages.showFullDay:b.messages.showWorkDay)+"</a></li>";c+="</ul>"}else{c+="&nbsp;"}c+="</div>";this.footer=a(c).appendTo(this.element);var e=this;this.footer.on("click"+s,".k-scheduler-fullday",function(a){a.preventDefault();e.trigger("navigate",{view:e.name||b.name,date:b.date,isWorkDay:!b.showWorkHours})})}},_forTimeRange:function(a,b,c,d){a=y(a);b=y(b);var e=this,g=r(a),h=r(b),i=e.options.minorTickCount,j=e.options.majorTick*m,k=j/i||1,l=new Date(+a),o=l.getDate(),p,q=0,s,t="";s=n/k;if(g!=h){if(g>h){h+=n}s=(h-g)/k}s=Math.round(s);for(;q<s;q++){var u=q%(j/k),v=u===0,w=u<i-1,x=u===i-1;t+=c(l,v,w,x);f(l,k,false)}if(h){p=r(l);if(o<l.getDate()){p+=n}if(p>h){l=new Date(+b)}}if(d){t+=d(l)}return t},_content:function(a){var b=this;var c=b.options;var d=b.startTime();var e=this.endTime();var f=1;var g=1;var h=a.length;var i="";var j=this.groupedResources;var k=this.allDaySlotTemplate;var l=false;var m;var n=b._isGroupedByDate();var o=0;if(j.length){l=b._groupOrientation()==="vertical";if(l){g=this._rowCountForLevel(this.rowLevels.length-2);if(n){f=this._columnCountForLevel(this.columnLevels.length-1)}if(c.allDaySlot){m=function(c){var d='<tr class="k-scheduler-header-all-day">';var e=n?0:c;var g=function(){return b._resourceBySlot({groupIndex:e})};if(n){for(;e<f;e++){d+="<td>"+k({date:a[o],resources:g})+"</td>"}}else{for(var h=0;h<a.length;h++){d+="<td>"+k({date:a[h],resources:g})+"</td>"}}return d+"</tr>"}}}else{if(n){f=this._columnCountForLevel(this.columnLevels.length-1)/this._columnCountForLevel(0)}else{f=this._columnCountForLevel(this.columnLevels.length-2)}}}i+="<tbody>";var p=function(c,d,e){var g="";var i=0;var j,k;g="<tr"+(e?' class="k-middle-row"':"")+">";if(n){for(j=0,k=h;j<k;j++){for(i=0;i<f;i++){var m=j;if(l){m=o}g=b._addCellsToContent(g,a,c,m,i,q)}if(l){break}}}else{for(;i<f;i++){for(j=0,k=h;j<k;j++){g=b._addCellsToContent(g,a,c,j,i,q)}}}g+="</tr>";return g};for(var q=0;q<g;q++){i+=m?m(q):"";i+=this._forTimeRange(d,e,p);if(l){o++}}i+="</tbody>";this.content.find("table").append(i)},_addCellsToContent:function(a,b,d,e,f,g){var h=this;var i="";var j;var k=this.slotTemplate;var l=this._groupOrientation()==="vertical";var m=function(a){return function(){return h._resourceBySlot({groupIndex:a})}};if(c.date.isToday(b[e])){i+="k-today"}if(c.date.getMilliseconds(d)<c.date.getMilliseconds(this.options.workDayStart)||c.date.getMilliseconds(d)>=c.date.getMilliseconds(this.options.workDayEnd)||!this._isWorkDay(b[e])){i+=" k-nonwork-hour"}a+="<td"+(i!==""?' class="'+i+'"':"")+">";j=c.date.getDate(b[e]);c.date.setTime(j,c.date.getMilliseconds(d));a+=k({date:j,resources:m(l&&!h._isGroupedByDate()?g:f)});a+="</td>";return a},_isWorkDay:function(a){var b=a.getDay();var c=this._workDays;for(var d=0;d<c.length;d++){if(c[d]===b){return true}}return false},_render:function(b){var c=this;b=b||[];this._dates=b;this._startDate=b[0];this._endDate=b[b.length-1||0];this.createLayout(this._layout(b));this._content(b);this._footer();this.refreshLayout();var d=this.element.find(".k-scheduler-header-all-day td");if(d.length){this._allDayHeaderHeight=d.first()[0].clientHeight}c.element.on("click"+s,".k-nav-day",function(b){var d=a(b.currentTarget).closest("th");var e=d.offset();var f=0;var g=i(d);if(c._isGroupedByDate()){if(c._isVerticallyGrouped()){f=h(c.times);g=0}else{g=i(c.datesHeader)}}var j=c._slotByPosition(e.left+f,e.top+g);c.trigger("navigate",{view:"day",date:j.startDate()})})},startTime:function(){var a=this.options;return a.showWorkHours?a.workDayStart:a.startTime},endTime:function(){var a=this.options;return a.showWorkHours?a.workDayEnd:a.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(a){var b=r(this.endTime())||n;if(a){b=0}return new Date(this._endDate.getTime()+b)},nextDate:function(){return c.date.nextDay(this.endDate())},previousDate:function(){return c.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var a=this;if(a._currentTimeUpdateTimer){clearInterval(a._currentTimeUpdateTimer)}if(a.datesHeader){a.datesHeader.off(s)}if(a.element){a.element.off(s)}if(a.footer){a.footer.remove()}g.fn.destroy.call(this);if(this._isMobile()&&a.options.editable){if(a.options.editable.create!==false){a._addUserEvents.destroy();a._allDayUserEvents.destroy()}if(a.options.editable.update!==false){a._editUserEvents.destroy()}}},inRange:function(a){var b=g.fn.inRange.call(this,a);if(a.isAllDay){return b}var d=r(this.startTime());var e=r(this.endTime())||c.date.MS_PER_DAY;var f=r(a.start);var h=r(a.end)||c.date.MS_PER_DAY;return b&&d<=f&&h<=e},selectionByElement:function(a){var b=a.offset();return this._slotByPosition(b.left,b.top)},_timeSlotInterval:function(){var a=this.options;return a.majorTick/a.minorTickCount*m},_timeSlotIndex:function(a){var b=this.options;var c=r(a);var d=r(this.startTime());var e=b.majorTick/b.minorTickCount*m;return(c-d)/e},_slotIndex:function(a,b){if(b){return this._dateSlotIndex(a)}return this._timeSlotIndex(a)},_dateSlotIndex:function(a,b){var d;var e;var f=this._dates||[];var g;var h;var i=1;for(d=0,e=f.length;d<e;d++){g=c.date.getDate(f[d]);h=new Date(c.date.getDate(f[d]).getTime()+n-(b?0:1));if(z(a,g,h)){return d*i}}return-1},_positionAllDayEvent:function(b,c){var d=c.innerWidth();var e=c.start.index;var f=c.end.index;var h=g.collidingEvents(c.events(),e,f);var i=this._headerColumnCount||0;var j=2;var k=e!==f?5:4;var l=this._allDayHeaderHeight;var m=c.startSlot();b.css({left:m.offsetLeft+j,width:d-k});c.addEvent({slotIndex:e,start:e,end:f,element:b});h.push({slotIndex:e,start:e,end:f,element:b});var n=g.createRows(h);if(n.length&&n.length>i){this._headerColumnCount=n.length}var o=c.start.offsetTop;for(var p=0,q=n.length;p<q;p++){var r=n[p].events;for(var s=0,t=r.length;s<t;s++){a(r[s].element).css({top:o+p*l})}}},_arrangeColumns:function(a,b,c,d){var e=d.start;a={element:a,slotIndex:e.index,start:b,end:b+c};var f,h=e.clientWidth,i=h*.1,j,k=d.events(),l=g.collidingEvents(k,a.start,a.end);d.addEvent(a);l.push(a);f=g.createColumns(l);var m=(h-i)/f.length;for(var n=0,o=f.length;n<o;n++){j=f[n].events;for(var p=0,q=j.length;p<q;p++){j[p].element[0].style.width=m-4+"px";j[p].element[0].style.left=(this._isRtl?i:0)+e.offsetLeft+n*m+2+"px"}}},_positionEvent:function(a,b,c){var d=a._startTime||a.start;var e=a._endTime||a.end;var f=c.innerRect(d,e,false);var g=f.bottom-f.top-2;if(g<0){g=0}b.css({top:f.top,height:g});this._arrangeColumns(b,f.top,b[0].clientHeight,c)},_createEventElement:function(b,d,e,f){var g=d?this.eventTemplate:this.allDayEventTemplate;var h=this.options;var i=h.editable;var k=this._isMobile();var m=i&&i.destroy!==false&&!k;var o=i&&i.resize!==false;var p=l(this.startDate());var q=l(this.endDate());var s=r(this.startTime());var t=r(this.endTime());var u=b._time("start");var v=b._time("end");var w;if(s>=t){t=r(new Date(this.endTime().getTime()+n-1))}if(!d&&!b.isAllDay){q=new Date(q.getTime()+n)}var x=b.start;var y=b.end;if(b.isAllDay){y=l(b.end)}if(!z(l(x),p,q)&&!z(y,p,q)||d&&u<s&&v>t){w=true}else if(l(x)<p||d&&u<s){f=true}else if(y>q&&!d||d&&v>t){e=true}var A=this.eventResources(b);if(b._startTime&&u!==c.date.getMilliseconds(b.start)){x=new Date(u);x=c.timezone.apply(x,"Etc/UTC")}if(b._endTime&&v!==c.date.getMilliseconds(b.end)){y=new Date(v);y=c.timezone.apply(y,"Etc/UTC")}var B=j({},{ns:c.ns,resizable:o,showDelete:m,middle:w,head:e,tail:f,singleDay:this._dates.length==1,resources:A,inverseColor:A&&A[0]?this._shouldInverseResourceColor(A[0]):false,messages:h.messages},b,{start:x,end:y});var C=a(g(B));this.angular("compile",function(){return{elements:C,data:[{dataItem:B}]}});return C},_isInTimeSlot:function(a){var b=this.startTime(),d=this.endTime(),e=a._startTime||a.start,g=a._endTime||a.end;if(r(d)===r(c.date.getDate(d))){d=c.date.getDate(d);f(d,n-1)}if(a._date("end")>a._date("start")){g=+a._date("end")+(n-1)}g=a._endTime?g-a._date("end"):r(new Date(g));e=a._startTime?e-a._date("start"):r(new Date(e));d=r(d);b=r(b);if(b===e&&e===g){return true}var h=e!==d;return A(e,b,d,h)||A(g,b,d,h)||A(b,e,g)||A(d,e,g)},_isInDateSlot:function(a){var b=this.groups[0];var d=b.firstSlot().start;var e=b.lastSlot().end-1;var f=c.date.toUtcTime(a.start);var g=c.date.toUtcTime(a.end);return(z(f,d,e)||z(g,d,e)||z(d,f,g)||z(e,f,g))&&(!z(g,d,d)||z(g,f,f)||a.isAllDay)},_updateAllDayHeaderHeight:function(a){if(this._height!==a){this._height=a;var b=this.element.find(".k-scheduler-header-all-day td");if(b.length){b.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(a);for(var c=0;c<this.groups.length;c++){this.groups[c].refresh()}}}},_renderEvents:function(a,b){var c=this.datesHeader.find(".k-scheduler-header-wrap > div");var d=this._isGroupedByDate();var e;var f;var g;for(f=0,g=a.length;f<g;f++){e=a[f];if(this._isInDateSlot(e)){var h=e.isAllDay||e.duration()>=n;var i=h&&!this._isVerticallyGrouped()?c:this.content;var j,k,l,m,o,p;if(!h){if(this._isInTimeSlot(e)){p=this.groups[b];if(!p._continuousEvents){p._continuousEvents=[]}k=p.slotRanges(e);var q=k.length;for(var r=0;r<q;r++){l=k[r];m=e.start;o=e.end;if(q>1){if(r===0){o=l.end.endDate()}else if(r==q-1){m=l.start.startDate()}else{m=l.start.startDate();o=l.end.endDate()}}var s=e.clone({start:m,end:o,_startTime:e._startTime,_endTime:e.endTime});if(this._isInTimeSlot(s)){var t=l.head;j=this._createEventElement(e,!h,t,l.tail);j.appendTo(i);this._positionEvent(s,j,l);B(p,l,j,false)}}}}else if(this.options.allDaySlot){p=this.groups[b];if(!p._continuousEvents){p._continuousEvents=[]}k=p.slotRanges(e);if(k.length){l=k[0];var u=l.start.index;var v=l.end.index;if(d&&u!==v){m=l.start.start;o=l.end.end;var w=new Date(m);var x=new Date(m);for(var y=l.start.index;y<=l.end.index;y++){j=this._createEventElement(e,!h,y!==v,y!==u);var z=p.daySlotRanges(w,x,true)[0];x.setDate(x.getDate()+1);w.setDate(w.getDate()+1);this._positionAllDayEvent(j,z);B(p,z,j,true);j.appendTo(i)}}else{j=this._createEventElement(e,!h);this._positionAllDayEvent(j,k[0]);B(p,k[0],j,true);j.appendTo(i)}}}}}},render:function(b){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();b=new c.data.Query(b).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var d=[];this._eventsByResource(b,this.groupedResources,d);var e=a.map(this._dates,function(b){return Math.max.apply(null,a.map(d,function(c){return a.grep(c,function(a){return a.isMultiDay()&&z(b,l(a.start),l(a.end))}).length}))});var f=Math.max.apply(null,e);this._updateAllDayHeaderHeight((f+1)*this._allDayHeaderHeight);for(var g=0;g<d.length;g++){this._renderEvents(d[g],g)}this.refreshLayout();this._currentTime(false);this.trigger("activate")},_eventsByResource:function(a,b,d){var e=b[0];if(e){var f=e.dataSource.view();for(var h=0;h<f.length;h++){var i=this._resourceValue(e,f[h]);var j=new c.data.Query(a).filter({field:e.field,operator:g.groupEqFilter(i)}).toArray();if(b.length>1){this._eventsByResource(j,b.slice(1),d)}else{d.push(j)}}}else{d.push(a)}},_columnOffsetForResource:function(a){return this._columnCountForLevel(a)/this._columnCountForLevel(a-1)},_columnCountForLevel:function(a){var b=this.columnLevels[a];return b?b.length:0},_rowCountForLevel:function(a){var b=this.rowLevels[a];return b?b.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},_updateDirection:function(a,b,c,d,e){var f=a.isAllDay;var g=b[0].start;var h=b[b.length-1].end;if(c){if(e){if(!f&&g.index===h.index&&g.collectionIndex===h.collectionIndex){a.backward=d}}else{if(f&&g.index===h.index||!f&&g.collectionIndex===h.collectionIndex){a.backward=d}}}},_changeViewPeriod:function(a,b,c){if(!c){var d=b?this.previousDate():this.nextDate();var e=a.start;var g=a.end;var h=this._isGroupedByDate()&&this._isVerticallyGrouped();var i=this.groups[a.groupIndex];var j=b?i._timeSlotCollections:i._getCollections(i.daySlotCollectionCount());var k=j[j.length-1]._slots;var l=!b&&!i.daySlotCollectionCount()?0:k.length-1;var m;var o,p;o=new Date(d);p=new Date(d);if(this._isInRange(o,p)){return false}a.start=o;a.end=p;if(h){var q=new Date(k[l].startDate());var s=new Date(k[l].endDate());m=r(s)?r(s):n;f(a.start,r(q));f(a.end,m);if(i.daySlotCollectionCount()){a.isAllDay=!a.isAllDay}}else{m=a.isAllDay||!r(g)?n:r(g);f(a.start,r(e));f(a.end,m)}if(!this._isVerticallyGrouped()){a.groupIndex=b?this.groups.length-1:0}a.events=[];return true}}});j(true,d,{MultiDayView:D,DayView:D.extend({options:{name:"DayView",title:"Day"},name:"day"}),WeekView:D.extend({options:{name:"WeekView",title:"Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"week",calculateDateRange:function(){var a=this.options.date,b=c.date.dayOfWeek(a,this.calendarInfo().firstDay,-1),d,e,f=[];for(d=0,e=7;d<e;d++){f.push(b);b=c.date.nextDay(b)}this._render(f)}}),WorkWeekView:D.extend({options:{name:"WorkWeekView",title:"Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}"},name:"workWeek",nextDate:function(){var a=c.date.dayOfWeek(c.date.nextDay(this.startDate()),this.calendarInfo().firstDay,1);return c.date.addDays(a,this._workDays[0])},previousDate:function(){var a=c.date.dayOfWeek(this.startDate(),this.calendarInfo().firstDay,-1);var b=this._workDays;return c.date.addDays(a,b[b.length-1]-7)},calculateDateRange:function(){var a=this.options.date,b=c.date.dayOfWeek,d=b(a,this.calendarInfo().firstDay,-1),e=b(d,this.options.workWeekStart,1),f=b(e,this.options.workWeekEnd,1),g=[];while(e<=f){g.push(e);e=c.date.nextDay(e)}this._render(g)}})})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.scheduler.agendaview",["kendo.scheduler.view"],a)})(function(){var a={id:"scheduler.agendaview",name:"Scheduler Agenda View",category:"web",description:"The Scheduler Agenda View",depends:["scheduler.view"],hidden:true};(function(a){var b=window.kendo,c=b.ui,d=".kendoAgendaView";var e='<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#">'+"# if (resources[0]) {#"+'<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span>'+"# } #"+"# if (data.isException()) { #"+'<span class="k-icon k-i-non-recurrence"></span>'+"# } else if (data.isRecurring()) {#"+'<span class="k-icon k-i-reload"></span>'+"# } #"+"{0}"+"#if (showDelete) {#"+'<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>'+"#}#"+"</div>";var f=b.Class.extend({init:function(a){this._view=a},_getColumns:function(a,b){return a.concat(b)},_getGroupsInDay:function(){return[]},_getSumOfItemsForDate:function(){return 0},_renderTaskGroupsCells:function(a,b,c,d){var e=this._view;if(c===0&&d===0&&b.length){e._renderTaskGroupsCells(a,b)}},_renderDateCell:function(a,c,d,e,f,g){var h=this._view;a.push(b.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',d.length,h._dateTemplate({date:e}),f==g.length-1&&!c.length?" k-last":"",!c.length?" k-first":""))},_renderDates:function(){return undefined},_getParents:function(a){return a.splice(0)},_getGroupsByDate:function(){return undefined},_renderTaskGroups:function(a,b,c){var d=this._view;a.append(d._renderTaskGroups(b,c))}});var g=b.Class.extend({init:function(a){this._view=a},_getColumns:function(a,b){var c=this._view;if(c._isMobilePhoneView()){return a.concat(b)}else{var d=b.slice(0,1);var e=b.slice(1);return d.concat(a).concat(e)}},_compareDateGroups:function(a,b,c){if(a[c].text==b[c].text){if(c===0){return true}else{return this._compareDateGroups(a,b,c-1)}}return false},_getGroupsInDay:function(a,b){var c=[];var d=null;for(var e=0;e<a.length;e++){for(var f=0;f<a[e].items.length;f++){var g=0;if(c.length===0){for(g;g<b[e].length;g++){c.push([1])}}else{for(g;g<b[e].length;g++){if(this._compareDateGroups(b[e],d,g)){c[g][c[g].length-1]++}else{var h=c[g][c[g].length-1]-1;for(var i=0;i<h;i++){c[g].push(0)}c[g].push(1)}}}d=b[e]}}return c},_getSumOfItemsForDate:function(a){var b=0;for(var c=0;c<a.length;c++){b+=a[c].items.length}return b},_renderTaskGroupsCells:function(a,c,d,e,f,g,h,i){var j=this._view;var k=j._isMobilePhoneView();if(!k){if(d===0&&e===0){a.push(b.format('<td class="k-scheduler-datecolumn k-first" rowspan="{0}">{1}</td>',g,j._dateTemplate({date:h})))}for(var l=0;l<c[d].length;l++){if(f[l][i]){a.push(b.format('<td class="k-scheduler-groupcolumn" rowspan="{0}">{1}</td>',f[l][i],j._groupTemplate({value:c[d][l].text}),c[d][l].className))}}}else{if(d===0&&e===0&&c.length){j._renderTaskGroupsCells(a,c)}}},_renderDateCell:function(){return undefined},_renderDates:function(a){var b=this._view;var c=b._groupsByDate.sort(function(a,b){return a.array[0].value.getTime()-b.array[0].value.getTime()});for(var d=0;d<c.length;d++){a.append(b._renderTaskGroups(c[d].array,c[d].groups))}},_getParents:function(a){return a.slice(0)},_getGroupsByDate:function(a,b,c){var d=this._view;if(a[b].items){for(var e=0;e<a[b].items.length;e++){var f=a[b].items[e].value;var g=false;for(var h=0;h<d._groupsByDate.length;h++){if(d._groupsByDate[h].array[0].value.getTime()===f.getTime()){g=true;d._groupsByDate[h].array.push(a[b].items[e]);d._groupsByDate[h].groups.push(c)}}if(!g){d._groupsByDate.push({array:[a[b].items[e]],groups:[c]})}}}},_renderTaskGroups:function(){return undefined}});b.ui.scheduler.AgendaGroupedView=f;b.ui.scheduler.AgendaGroupedByDateView=g;c.AgendaView=c.SchedulerView.extend({init:function(f,g){c.SchedulerView.fn.init.call(this,f,g);this._groupedView=this._getGroupedView();g=this.options;if(g.editable){g.editable=a.extend({delete:true},g.editable,{create:false,update:false},{messages:g.messages})}this.title=g.title;this._eventTemplate=this._eventTmpl(g.eventTemplate,e);this._dateTemplate=b.template(g.eventDateTemplate);this._groupTemplate=b.template(g.eventGroupTemplate);this._timeTemplate=b.template(g.eventTimeTemplate);this.element.on("mouseenter"+d,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+d,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+d,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-i-close)","_remove");this._renderLayout(g.date)},name:"agenda",_getGroupedView:function(){if(this._isGroupedByDate()){return new b.ui.scheduler.AgendaGroupedByDateView(this)}else{return new b.ui.scheduler.AgendaGroupedView(this)}},_mouseenter:function(b){a(b.currentTarget).addClass("k-state-hover")},_mouseleave:function(b){a(b.currentTarget).removeClass("k-state-hover")},_remove:function(c){c.preventDefault();this.trigger("remove",{uid:a(c.currentTarget).closest(".k-task").attr(b.attr("uid"))})},nextDate:function(){return b.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return b.date.previousDay(this.startDate())},_renderLayout:function(a){this._startDate=a;this._endDate=b.date.addDays(a,7);this.createLayout(this._layout());this.table.addClass("k-scheduler-agenda")},_layout:function(){var a=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(!this._isMobilePhoneView()){a.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"})}var b=this.groupedResources;if(b.length){var c=[];for(var d=0;d<b.length;d++){c.push({text:"",className:"k-scheduler-groupcolumn"})}a=this._groupedView._getColumns(c,a)}return{columns:a}},_tasks:function(a){var c=[];for(var d=0;d<a.length;d++){var e=a[d];var f=e.start;var g=e.isAllDay?b.date.getDate(e.end):e.end;var h=Math.ceil((g-b.date.getDate(f))/b.date.MS_PER_DAY);if(e.isAllDay){h+=1}var i=e.clone();i.startDate=b.date.getDate(f);if(i.startDate>=this.startDate()){c.push(i)}if(h>1){i.end=b.date.nextDay(f);i.head=true;for(var j=1;j<h;j++){f=i.end;i=e.clone();i.start=i.startDate=b.date.getDate(f);i.end=b.date.nextDay(f);if(j==h-1){i.end=new Date(i.start.getFullYear(),i.start.getMonth(),i.start.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds());i.tail=true}else{i.isAllDay=true;i.middle=true}if(b.date.getDate(i.end)<=this.endDate()&&i.start>=this.startDate()||b.date.getDate(i.start).getTime()==this.endDate().getTime()){c.push(i)}}}}return new b.data.Query(c).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(a,c){var d=[];var e=this.options.editable;var f=e&&e.destroy!==false&&!this._isMobile();var g=this._isMobilePhoneView();var h=this._groupedView._getSumOfItemsForDate(a);var i=this._groupedView._getGroupsInDay(a,c);var j=0;for(var k=0;k<a.length;k++){var l=a[k].value;var m=a[k].items;var n=b.date.isToday(l);for(var o=0;o<m.length;o++){var p=m[o];var q=[];var r=!g?q:[];this._groupedView._renderTaskGroupsCells(r,c,k,o,i,h,l,j);j++;if(o===0){if(g){r.push(b.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:l})));d.push('<tr role="row" aria-selected="false"'+(n?' class="k-today">':">")+r.join("")+"</tr>")}else{this._groupedView._renderDateCell(q,c,m,l,k,a)}}if(p.head){p.format="{0:t}"}else if(p.tail){p.format="{1:t}"}else{p.format="{0:t}-{1:t}"}p.resources=this.eventResources(p);q.push(b.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',p.tail||p.middle?'<span class="k-icon k-i-arrow-60-left"></span>':"",this._timeTemplate(p.clone({start:p._startTime||p.start,end:p.endTime||p.end})),p.head||p.middle?'<span class="k-icon k-i-arrow-60-right"></span>':"",this._eventTemplate(p.clone({showDelete:f,messages:this.options.messages}))));d.push('<tr role="row" aria-selected="false"'+(n?' class="k-today">':">")+q.join("")+"</tr>")}}return d.join("")},_renderTaskGroupsCells:function(a,c){for(var d=0;d<c.length;d++){a.push(b.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',c[d].rowSpan,this._groupTemplate({value:c[d].text}),c[d].className))}},render:function(a){var b=this.content.find("table").empty();var c=[];if(a.length>0){var d=this.groupedResources;if(d.length){c=this._createGroupConfiguration(a,d,null);this._groupsByDate=[];this._renderGroups(c,b,[]);this._groupedView._renderDates(b)}else{c=this._tasks(a);b.append(this._renderTaskGroups(c,[]))}}var e=this._eventsList=j(c);this._angularItems(b,e);this.refreshLayout();this.trigger("activate")},_angularItems:function(a,c){this.angular("compile",function(){var d=[],e=c.map(function(c){d.push({dataItem:c});return a.find(".k-task["+b.attr("uid")+"="+c.uid+"]")});return{elements:e,data:d}})},_renderGroups:function(a,b,c){for(var d=0,e=a.length;d<e;d++){var f=this._groupedView._getParents(c);f.push(a[d]);this._groupedView._getGroupsByDate(a,d,f);if(a[d].groups){this._renderGroups(a[d].groups,b,f)}else{this._groupedView._renderTaskGroups(b,a[d].items,f)}}},_createGroupConfiguration:function(a,d,e){var f=d[0];var g=[];var j=f.dataSource.view();var k=this._isMobilePhoneView();for(var l=0;l<j.length;l++){var m=i(f,j[l]);var n=new b.data.Query(a).filter({field:f.field,operator:c.SchedulerView.groupEqFilter(m)}).toArray();if(n.length){var o=this._tasks(n);var p=e?"":" k-first";if(l===j.length-1&&(!e||e.className.indexOf("k-last")>-1)){p+=" k-last"}var q={text:b.getter(f.dataTextField)(j[l]),value:m,rowSpan:0,className:p};if(d.length>1){q.groups=this._createGroupConfiguration(n,d.slice(1),q);if(e){e.rowSpan+=q.rowSpan}}else{q.items=o;var r=h(q.items);if(k){r+=q.items.length}q.rowSpan=r;if(e){e.rowSpan+=r}}g.push(q)}}return g},selectionByElement:function(b){var c,d;b=a(b);if(b.hasClass("k-scheduler-datecolumn")||!this._eventsList.length){return}if(b.is(".k-task")){b=b.closest("td")}if(this._isMobile()){var e=b.parent();c=e.parent().children().filter(function(){return a(this).children(":not(.k-scheduler-datecolumn)").length}).index(e)}else{c=b.parent().index()}d=this._eventsList[c];return{index:c,start:d.start,end:d.end,isAllDay:d.isAllDay,uid:d.uid}},select:function(a){this.clearSelection();var b=this.table.find(".k-task").eq(a.index).closest("tr").addClass("k-state-selected").attr("aria-selected",true)[0];this.current(b)},move:function(a,c){var d=false;var e=a.index;if(c==b.keys.UP){e--;d=true}else if(c==b.keys.DOWN){e++;d=true}if(d){var f=this._eventsList[e];if(f){a.start=f.start;a.end=f.end;a.isAllDay=f.isAllDay;a.events=[f.uid];a.index=e}}return d},moveToEvent:function(){return false},constrainSelection:function(a){var b=this._eventsList[0];if(b){a.start=b.start;a.end=b.end;a.isAllDay=b.isAllDay;a.events=[b.uid];a.index=0}},isInRange:function(){return true},destroy:function(){if(this.element){this.element.off(d)}c.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",selectedShortDateFormat:"{0:d} - {1:d}",eventTemplate:"#:title#",eventTimeTemplate:"#if(data.isAllDay) {#"+"#=this.options.messages.allDay#"+"#} else { #"+"#=kendo.format(format, start, end)#"+"# } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">'+'#=kendo.toString(date, "dd")#'+"</strong>"+'<em class="k-scheduler-agendaweek">'+'#=kendo.toString(date,"dddd")#'+"</em>"+'<span class="k-scheduler-agendadate">'+'#=kendo.toString(date, "y")#'+"</span>",eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">'+"#=value#"+"</strong>",messages:{event:"Event",date:"Date",time:"Time",allDay:"all day"}}});function h(a){var b=0;for(var c=0,d=a.length;c<d;c++){b+=a[c].items.length}return b}function i(a,c){if(a.valuePrimitive){c=b.getter(a.dataValueField)(c)}return c}function j(a){var b=0,c=a.length,d,e=[];for(;b<c;b++){d=a[b];if(d.groups){d=k(d.groups);e=e.concat(d)}else{e=e.concat(k(d.items))}}return e}function k(a){var b=[].concat(a),c=b.shift(),d=[],e=[].push;while(c){if(c.groups){e.apply(b,c.groups)}else if(c.items){e.apply(b,c.items)}else{e.call(d,c)}c=b.shift()}return d}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.scheduler.monthview",["kendo.scheduler.view"],a)})(function(){var a={id:"scheduler.monthview",name:"Scheduler Month View",category:"web",description:"The Scheduler Month View",depends:["scheduler.view"],hidden:true};(function(a){var b=window.kendo,c=b.ui,d=c.SchedulerView,e=".kendoMonthView",f=a.extend,g=b.date.getDate,h=b.date.MS_PER_DAY,i=6,j=7,k=b.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),l='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"'+"#if (resources[0]) { #"+'style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"'+'class="k-event#=inverseColor ? " k-event-inverse" : ""#"'+"#} else {#"+'class="k-event"'+"#}#"+">"+'<span class="k-event-actions">'+"# if(data.tail || data.middle) {#"+'<span class="k-icon k-i-arrow-60-left"></span>'+"#}#"+"# if(data.isException()) {#"+'<span class="k-icon k-i-non-recurrence"></span>'+"# } else if(data.isRecurring()) {#"+'<span class="k-icon k-i-reload"></span>'+"#}#"+"</span>"+"{0}"+'<span class="k-event-actions">'+"#if (showDelete) {#"+'<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>'+"#}#"+"# if(data.head || data.middle) {#"+'<span class="k-icon k-i-arrow-60-right"></span>'+"#}#"+"</span>"+"# if(resizable && !data.tail && !data.middle) {#"+'<span class="k-resize-handle k-resize-w"></span>'+"#}#"+"# if(resizable && !data.head && !data.middle) {#"+'<span class="k-resize-handle k-resize-e"></span>'+"#}#"+"</div>",m=b.template('<div title="#=title.replace(/"/g,"&\\#34;")#">'+'<div class="k-event-template">#:title#</div>'+"</div>");var n=b.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');var o=b.Class.extend({init:function(a){this._view=a},_verticalRowCountForLevel:function(a){var b=this._view;return b._rowCountForLevel(a)},_horizontalGroupCountForLevel:function(a){var b=this._view;return b._columnCountForLevel(a)},_getCalendarRowsLength:function(a,b){return b/a},_createRows:function(a,b,c,d){var e=this._view;var f=j;var g=e._isVerticallyGrouped();var h="";for(var i=0;i<c;i++){h+=e._createRow(a,b,f,g?d:i)}return h},_adjustStartDate:function(a){return b.date.addDays(a,j)},_getContent:function(a,b,c){return a({date:b,resources:c})},_getTimeSlotByPosition:function(a,b,c){var d=this._view.groups[c];return d.daySlotByPosition(a,b)},_nextSlotStartDate:function(a){return b.date.nextDay(a)},_createRowsLayout:function(a,b,c){var d=this._view;return d._createRowsLayout(a,b,c)},_createVerticalColumnsLayout:function(a,b,c,d){return d},_createColumnsLayout:function(a,b,c){var d=this._view;return d._createColumnsLayout(a,b,c)},_verticalGroupCount:function(a){var b=this._view;return b._rowCountForLevel(a)},_horizontalGroupCount:function(a){var b=this._view;return b._columnCountForLevel(a)/b._columnOffsetForResource(a)},_positionEvent:function(a,b,c,d,e,f,g){var h=this._view;var i=h._isMobilePhoneView();if(d>1){if(g===0){f=c.end.endDate()}else if(g==d-1){e=c.start.startDate()}else{e=c.start.startDate();f=c.end.endDate()}}var j=a.clone({start:e,end:f,head:c.head,tail:c.tail});if(i){h._positionMobileEvent(c,h._createEventElement(j),b)}else{h._positionEvent(c,h._createEventElement(j),b)}},_addDaySlotCollections:function(a,c,d){var e=this._view;var f=j;var g=i;for(var h=0;h<a;h++){var k=0;var l=0;if(e._isVerticallyGrouped()){l=h}for(var m=l*g;m<(l+1)*g;m++){var n=e.groups[h];var o=n.addDaySlotCollection(b.date.addDays(d,k),b.date.addDays(d,k+f));var p=c[m];var q=p.children;var r=0;p.setAttribute("role","row");if(!e._isVerticallyGrouped()){r=h}for(var s=r*f;s<(r+1)*f;s++){var t=q[s];e.addDaySlot(o,t,d,k);k++}}}},_changePeriodGroupIndex:function(a){var b=this._view;return a?b.groups.length-1:0},_createResizeHint:function(a){var b=this._view;var c=a.startSlot().offsetLeft;var e=a.start.offsetTop;var f=a.innerWidth();var g=a.start.clientHeight-2;var h=d.fn._createResizeHint.call(b,c,e,f,g);
b._appendResizeHint(h)},_createMoveHint:function(a,b){var c=this._view;var d=a.startSlot();var e=a.endSlot();var f=c._createEventElement(b.clone({head:a.head,tail:a.tail}));f.css({left:d.offsetLeft+2,top:d.offsetTop+d.firstChildHeight,height:c.options.eventHeight,width:a.innerWidth()-(d.index!==e.index?5:4)});f.addClass("k-event-drag-hint");c._appendMoveHint(f)}});var p=b.Class.extend({init:function(a){this._view=a},_verticalRowCountForLevel:function(){return 1},_horizontalGroupCountForLevel:function(a){var b=this._view;return b._columnCountForLevel(a+1)/j},_createRows:function(a,c,d){var e=this._view;var f=j;var g=e._isVerticallyGrouped();var h="";var k=0;if(g){var l=new Date(a);var m=e._groupCount();for(k;k<i;k++){h+=e._createRow(l,c,m,k);l=b.date.addDays(l,f)}a=b.date.nextDay(a)}else{for(k;k<f;k++){h+=e._createRow(a,c,d,k);a=b.date.nextDay(a)}a=b.date.addDays(a,f)}return h},_adjustStartDate:function(a,c){var d=this._view;var e=d._isVerticallyGrouped();if(e){if(c){return b.date.addDays(a,j*(i-1)+1)}else{return b.date.nextDay(a)}}return b.date.addDays(a,j)},_getContent:function(a,b,c,d){if(d===0){return a({date:b,resources:c})}return""},_getTimeSlotByPosition:function(a,b,c){var d=this._view.groups[c];return d.daySlotByPosition(a,b,true)},_nextSlotStartDate:function(a){return a},_getCalendarRowsLength:function(){var a=this._view;var b=a._isVerticallyGrouped();return b?j:i},_createRowsLayout:function(a,b,c,d){var e=this._view;return e._createDateLayout(d,null,false)},_createVerticalColumnsLayout:function(a,c,d){var e=this._view;var f=a[0];var g=[];var h=f.dataSource.view();for(var j=0;j<h.length*i;j++){var k={text:d({text:b.htmlEncode(b.getter(f.dataTextField)(h[j%h.length])),color:b.getter(f.dataColorField)(h[j%h.length]),field:f.field,title:f.title,name:f.name,value:b.getter(f.dataValueField)(h[j%h.length])}),className:"k-slot-cell"};k.columns=e._createColumnsLayout(a.slice(1),null,d);g.push(k)}return g},_createColumnsLayout:function(a,b,c,d){var e=this._view;return e._createColumnsLayout(a,b,c,d,true)},_verticalGroupCount:function(a){var b=this._view;return b._columnCountForLevel(a)/i},_horizontalGroupCount:function(a){var b=this._view;return b._columnCountForLevel(a)/j},_positionEvent:function(a,b,c,d,e,f){var g=this._view;var h=c.start.index;var i=c.end.index;var j=g._isMobilePhoneView();for(var k=c.start.index;k<=c.end.index;k++){var l=c.collection._slots[k];var m=b.daySlotRanges(l.start,l.start,true)[0];var n=a.clone({start:k===h?e:l.startDate(),end:k===i?f:l.endDate(),head:k!==i||c.head,tail:k!==h||c.tail});if(j){g._positionMobileEvent(m,g._createEventElement(n),b)}else{g._positionEvent(m,g._createEventElement(n),b)}}},_addDaySlotCollections:function(a,c,d){var e=this._view;var f=j;var g=i;var h=e._isVerticallyGrouped();for(var k=0;k<f;k++){for(var l=0;l<g;l++){var m=0;var n=h?k:l;var o=c[n];var p=o.children;var q=0;o.setAttribute("role","row");if(!e._isVerticallyGrouped()){q=k}for(var r=q*a;r<(q+1)*a;r++){var s=l*f+k;var t=h?r+l*a:r;var u=p[t];var v=h?r:m;var w=e.groups[v];var x;if(k===0){x=w.addDaySlotCollection(b.date.addDays(d,s),b.date.addDays(d,s+f))}else{x=w._daySlotCollections[l]}e.addDaySlot(x,u,d,s);m++}}}},_changePeriodGroupIndex:function(a,b,c){var d=this._view;if(b&&d._isVerticallyGrouped()){return a?d.groups.length-1:0}return c},_createResizeHint:function(a){var b=this._view;var c,e,f,g,h;if(b._isVerticallyGrouped()){c=a.startSlot().offsetLeft;e=a.start.offsetTop;f=a.startSlot().offsetWidth;g=a.endSlot().offsetTop+a.startSlot().offsetHeight-a.startSlot().offsetTop-2;h=d.fn._createResizeHint.call(b,c,e,f,g);b._appendResizeHint(h)}else{for(var i=a.startSlot().index;i<=a.endSlot().index;i++){var j=a.collection._slots[i];c=j.offsetLeft;e=j.offsetTop;f=j.offsetWidth;g=j.offsetHeight-2;h=d.fn._createResizeHint.call(b,c,e,f,g);b._appendResizeHint(h)}}},_createMoveHint:function(a,b){var c=this._view;var d=a.startSlot();var e=a.endSlot();for(var f=d.index;f<=e.index;f++){var g=a.collection._slots[f];var h=c._createEventElement(b.clone({head:a.head,tail:a.tail}));h.css({left:g.offsetLeft,top:g.offsetTop+g.firstChildHeight,height:c.options.eventHeight,width:g.offsetWidth-2});h.addClass("k-event-drag-hint");c._appendMoveHint(h)}}});b.ui.scheduler.MonthGroupedView=o;b.ui.scheduler.MonthGroupedByDateView=p;c.MonthView=d.extend({init:function(a,b){var c=this;d.fn.init.call(c,a,b);c._groupedView=c._getGroupedView();c.title=c.options.title;c._templates();c._editable();c._renderLayout(c.options.date);c._groups()},name:"month",_getGroupedView:function(){if(this._isGroupedByDate()){return new b.ui.scheduler.MonthGroupedByDateView(this)}else{return new b.ui.scheduler.MonthGroupedView(this)}},_updateDirection:function(a,b,c,d,e){if(c){var f=b[0].start;var g=b[b.length-1].end;var h=f.index===g.index;var i=f.collectionIndex===g.collectionIndex;var j;if(e){j=h&&i||i}else{j=h&&i}if(j){a.backward=d}}},_changeDate:function(a,b,c){var d=this.groups[a.groupIndex];var e,f;if(c){e=d._getCollections(d.daySlotCollectionCount());f=b.collectionIndex-1;if(f>=0){return e[f]._slots[e[f]._slots.length-1]}}else{e=d._getCollections(d.daySlotCollectionCount());f=b.collectionIndex+1;var g=0;if(e[f]&&e[f]._slots[g]){return e[f]._slots[g]}}},_getNextHorizontalRange:function(a,b,c){var d=this._isVerticallyGrouped();c.startSlot=a[b](c.startSlot,d);c.endSlot=a[b](c.endSlot,d);return c},_getNextVerticalRange:function(a,b,c,d){var e=this._isVerticallyGrouped()&&this._isGroupedByDate();c.startSlot=a[b](c.startSlot,d,e);c.endSlot=a[b](c.endSlot,d,e);return c},_changeViewPeriod:function(a,c,d){var e=d?7:1;var f,g;if(c){e*=-1}f=b.date.addDays(a.start,e);g=b.date.addDays(a.end,e);if(this._isInRange(f,g)){return false}a.start=f;a.end=g;if(!d||d&&this._isVerticallyGrouped()){a.groupIndex=this._groupedView._changePeriodGroupIndex(c,d,a.groupIndex)}a.events=[];return true},_continuousSlot:function(a,b,c){var d=a.backward?0:b.length-1;var e=this.groups[a.groupIndex];return e.continuousSlot(b[d].start,c)},_changeGroupContinuously:function(a,b,c,d){if(!c){var e=a.groupIndex;var f=this.groups.length-1;var g=this._isVerticallyGrouped();var h=this.groups[e];if(!b&&g){b=h[d?"lastSlot":"firstSlot"]();e+=d?-1:1}else if(b&&!g){e=d?f:0}if(e<0||e>f){e=d?f:0;b=null}a.groupIndex=e}return b},_normalizeHorizontalSelection:function(a,b,c){var d;if(c){d=b[0].start}else{d=b[b.length-1].end}return d},_normalizeVerticalSelection:function(a,b){var c;if(a.backward){c=b[0].start}else{c=b[b.length-1].end}return c},_templates:function(){var a=this.options,c=f({},b.Template,a.templateSettings);this.eventTemplate=this._eventTmpl(a.eventTemplate,l);this.dayTemplate=b.template(a.dayTemplate,c);this.groupHeaderTemplate=b.template(a.groupHeaderTemplate,c)},dateForTitle:function(){return b.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},shortDateForTitle:function(){return b.format(this.options.selectedShortDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return b.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return b.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(c){var d=this;this._firstDayOfMonth=b.date.firstDayOfMonth(c);this._lastDayOfMonth=b.date.lastDayOfMonth(c);this._startDate=r(c,this.calendarInfo());this.createLayout(this._layout());this._content();this.refreshLayout();this.content.on("click"+e,".k-nav-day,.k-more-events",function(b){var c=a(b.currentTarget).offset();var e=d._slotByPosition(c.left,c.top);b.preventDefault();d.trigger("navigate",{view:"day",date:e.startDate()})})},_editable:function(){if(this.options.editable&&!this._isMobilePhoneView()){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var c=this;c.element.on("click"+e,".k-scheduler-monthview .k-event a:has(.k-i-close)",function(d){c.trigger("remove",{uid:a(this).closest(".k-event").attr(b.attr("uid"))});d.preventDefault()});if(c.options.editable.create!==false){c.element.on("dblclick"+e,".k-scheduler-monthview .k-scheduler-content td",function(b){var d=a(b.currentTarget).offset();var e=c._slotByPosition(d.left,d.top);if(e){var g=c._resourceBySlot(e);c.trigger("add",{eventInfo:f({isAllDay:true,start:e.startDate(),end:e.startDate()},g)})}b.preventDefault()})}if(c.options.editable.update!==false){c.element.on("dblclick"+e,".k-scheduler-monthview .k-event",function(d){c.trigger("edit",{uid:a(this).closest(".k-event").attr(b.attr("uid"))});d.preventDefault()})}},_touchEditable:function(){var c=this;var d=0;if(b.support.mobileOS.android){d=5}if(c.options.editable.create!==false){c._addUserEvents=new b.UserEvents(c.element,{threshold:d,useClickAsTap:!b.support.browser.edge,filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(b){if(c._scrolling){return}var d=a(b.target).offset();var e=c._slotByPosition(d.left,d.top);if(e){var g=c._resourceBySlot(e);c.trigger("add",{eventInfo:f({isAllDay:true,start:e.startDate(),end:e.startDate()},g)})}b.preventDefault()}})}if(c.options.editable.update!==false){c._editUserEvents=new b.UserEvents(c.element,{threshold:d,filter:".k-scheduler-monthview .k-event",useClickAsTap:!b.support.browser.edge,tap:function(d){if(c._scrolling){return}if(a(d.event.target).closest("a:has(.k-i-close)").length===0){c.trigger("edit",{uid:a(d.target).closest(".k-event").attr(b.attr("uid"))});d.preventDefault()}}})}},selectionByElement:function(b){var c=a(b).offset();return this._slotByPosition(c.left,c.top)},_columnCountForLevel:function(a){var b=this.columnLevels[a];return b?b.length:0},_rowCountForLevel:function(a){var b=this.rowLevels[a];return b?b.length:0},_content:function(){var a="<tbody>";var b=1;var c=this._groupedView;var d=this.groupedResources;if(d.length){if(this._isVerticallyGrouped()){b=c._verticalRowCountForLevel(d.length-1)}}for(var e=0;e<b;e++){a+=this._createCalendar(e)}a+="</tbody>";this.content.find("table").html(a)},_createCalendar:function(a){var c=this.startDate();var d=j*i;var e=j;var f=[c];var g="";var h=1;var k=this._isVerticallyGrouped();var l=this._groupedView;var m=this.groupedResources;if(m.length){if(!k){h=l._horizontalGroupCountForLevel(m.length-1)}}this._slotIndices={};var n=l._getCalendarRowsLength(e,d);for(var o=0;o<n;o++){g+="<tr>";f.push(c);var p=o*e;g+=l._createRows(c,p,h,a);c=l._adjustStartDate(c,o===n-1);g+="</tr>"}this._weekStartDates=f;this._endDate=b.date.previousDay(c);return g},_createRow:function(a,c,d,e){var f=this;var h=f._firstDayOfMonth;var i=f._lastDayOfMonth;var j=f.dayTemplate;var k="";var l="";var m=this._groupedView;var n=function(){return f._resourceBySlot({groupIndex:e})};for(var o=0;o<d;o++){k="";if(b.date.isToday(a)){k+="k-today"}if(!b.date.isInDateRange(a,h,i)){k+=" k-other-month"}l+="<td ";if(k!==""){l+='class="'+k+'"'}l+=">";l+=m._getContent(j,a,n,o);l+="</td>";f._slotIndices[g(a).getTime()]=c+o;a=m._nextSlotStartDate(a)}return l},_layout:function(){var b=this.calendarInfo();var c=this._isMobile()?b.days.namesShort:b.days.names;var d=q(c,b.firstDay);var e=a.map(d,function(a){return{text:a}});var f=this.groupedResources;var g;var h=this._groupedView;if(f.length){if(this._isVerticallyGrouped()){var i=[];for(var j=0;j<6;j++){i.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"})}g=h._createRowsLayout(f,i,this.groupHeaderTemplate,e);e=h._createVerticalColumnsLayout(f,i,this.groupHeaderTemplate,e)}else{e=h._createColumnsLayout(f,e,this.groupHeaderTemplate,e)}}return{columns:e,rows:g}},_createEventElement:function(c){var d=this.options;var e=d.editable;var f=this._isMobile();c.showDelete=e&&e.destroy!==false&&!f;c.resizable=e&&e.resize!==false&&!f;c.ns=b.ns;c.resources=this.eventResources(c);c.inverseColor=c.resources&&c.resources[0]?this._shouldInverseResourceColor(c.resources[0]):false;c.messages=d.messages||{destroy:"Delete"};var g=a(this.eventTemplate(c));this.angular("compile",function(){return{elements:g,data:[{dataItem:c}]}});return g},_isInDateSlot:function(a){var c=this.groups[0];var d=c.firstSlot().start;var e=c.lastSlot().end-1;var f=b.date.toUtcTime(a.start);var g=b.date.toUtcTime(a.end);return(s(f,d,e)||s(g,d,e)||s(d,f,g)||s(e,f,g))&&(!s(g,d,d)||s(g,f,f)||a.isAllDay)},_slotIndex:function(a){return this._slotIndices[g(a).getTime()]},_positionMobileEvent:function(c,e,f){var g=c.start;if(c.start.offsetLeft>c.end.offsetLeft){g=c.end}var h=c.start.index;var i=h;var j=3;var k=d.collidingEvents(c.events(),h,i);k.push({element:e,start:h,end:i});var l=d.createRows(k);var m=c.collection.at(h);var n=m.container;if(!n){n=a(b.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',g.offsetTop+g.firstChildTop+g.firstChildHeight+"px",g.offsetLeft+"px",g.offsetWidth+"px"));m.container=n;this.content[0].appendChild(n[0])}if(l.length<=j){c.addEvent({element:e,start:h,end:i,groupIndex:g.groupIndex});f._continuousEvents.push({element:e,uid:e.attr(b.attr("uid")),start:c.start,end:c.end});n[0].appendChild(e[0])}},_positionEvent:function(c,e,f){var g=this.options.eventHeight;var h=c.start;if(c.start.offsetLeft>c.end.offsetLeft){h=c.end}var i=c.start.index;var j=c.end.index;var k=h.eventCount;var l=d.collidingEvents(c.events(),i,j);var m=i!==j?5:4;l.push({element:e,start:i,end:j});var o=d.createRows(l);for(var p=0,q=Math.min(o.length,k);p<q;p++){var r=o[p].events;var s=h.offsetTop+h.firstChildTop+h.firstChildHeight+p*g+3*p+"px";for(var t=0,u=r.length;t<u;t++){r[t].element[0].style.top=s}}if(o.length>k){for(var v=i;v<=j;v++){var w=c.collection;var x=w.at(v);if(x.more){continue}x.more=a(n({ns:b.ns,start:v,end:v,width:x.clientWidth-2,left:x.offsetLeft+2,top:x.offsetTop+x.firstChildTop+x.firstChildHeight+k*g+3*k}));this.content[0].appendChild(x.more[0])}}else{c.addEvent({element:e,start:i,end:j,groupIndex:h.groupIndex});e[0].style.width=c.innerWidth()-m+"px";e[0].style.left=h.offsetLeft+2+"px";e[0].style.height=g+"px";f._continuousEvents.push({element:e,uid:e.attr(b.attr("uid")),start:c.start,end:c.end});e.appendTo(this.content)}},_slotByPosition:function(a,b){var c=this.content.offset();a-=c.left;b-=c.top;b+=this.content[0].scrollTop;a+=this.content[0].scrollLeft;a=Math.ceil(a);b=Math.ceil(b);for(var d=0;d<this.groups.length;d++){var e=this._groupedView._getTimeSlotByPosition(a,b,d);if(e){return e}}return null},_appendResizeHint:function(a){a.appendTo(this.content);this._resizeHint=this._resizeHint.add(a)},_updateResizeHint:function(a,c,d,e){this._removeResizeHint();var f=this.groups[c];var g=f.ranges(d,e,true,a.isAllDay);for(var h=0;h<g.length;h++){this._groupedView._createResizeHint(g[h])}this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(b.toString(b.timezone.toLocalDate(d),"M/dd"));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(b.toString(b.timezone.toLocalDate(e),"M/dd"))},_updateMoveHint:function(a,c,d){var e=b.date.toUtcTime(a.start)+d;var f=e+a.duration();var g=this.groups[c];var h=g.ranges(e,f,true,a.isAllDay);this._removeMoveHint(a.uid);for(var i=0;i<h.length;i++){this._groupedView._createMoveHint(h[i],a)}},_appendMoveHint:function(a){a.appendTo(this.content);this._moveHint=this._moveHint.add(a)},_groups:function(){var a=this._groupCount();var b=this.content[0].getElementsByTagName("tr");var c=this.startDate();this.groups=[];for(var d=0;d<a;d++){this._addResourceView(d)}this._groupedView._addDaySlotCollections(a,b,c)},addDaySlot:function(a,c,d,e){var f=c.clientHeight;var g=c.children.length?c.children[0].offsetHeight+3:0;var h=b.date.addDays(d,e);var i=b.date.MS_PER_DAY;if(d.getHours()!==h.getHours()){i+=(d.getHours()-h.getHours())*b.date.MS_PER_HOUR}h=b.date.toUtcTime(h);i+=h;var j=Math.floor((f-g-this.options.moreButtonHeight)/(this.options.eventHeight+3));c.setAttribute("role","gridcell");c.setAttribute("aria-selected",false);a.addDaySlot(c,h,i,j)},render:function(a){this.content.children(".k-event,.k-more-events,.k-events-container").remove();this._groups();a=new b.data.Query(a).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var c=this.groupedResources;if(c.length){this._renderGroups(a,c,0,1)}else{this._renderEvents(a,0)}this.refreshLayout();this.trigger("activate")},_renderEvents:function(a,c){var d;var e;var f;var g;var h;var i;for(e=0,f=a.length;e<f;e++){d=a[e];if(this._isInDateSlot(d)){var j=this.groups[c];var k=this._groupedView._view;var l=k._isMobilePhoneView();if(!j._continuousEvents){j._continuousEvents=[]}var m=j.slotRanges(d,true);var n=m.length;if(l){g=m[0];h=g.start.start;i=g.end.end;var o=new Date(Math.max(d.start.getTime(),b.timezone.toLocalDate(g.start.start)));var p=new Date(Math.min(d.end.getTime(),b.timezone.toLocalDate(m[m.length-1].end.end))).getTime();var q=new Date(h);var r=new Date(h);while(o.getTime()<p){var s=j.daySlotRanges(q,r,true)[0];r.setDate(r.getDate()+1);q.setDate(q.getDate()+1);this._groupedView._positionEvent(d,j,s,1,h,i,0);o=b.date.addDays(o,1)}}else{for(var t=0;t<n;t++){g=m[t];h=d.start;i=d.end;this._groupedView._positionEvent(d,j,g,n,h,i,t)}}}}},_renderGroups:function(a,c,e,f){var g=c[0];if(g){var h=g.dataSource.view();for(var i=0;i<h.length;i++){var j=this._resourceValue(g,h[i]);var k=new b.data.Query(a).filter({field:g.field,operator:d.groupEqFilter(j)}).toArray();if(c.length>1){e=this._renderGroups(k,c.slice(1),e++,f+1)}else{this._renderEvents(k,e++)}}}return e},_groupCount:function(){var a=this.groupedResources;var b=this._groupedView;if(a.length){if(this._isVerticallyGrouped()){return b._verticalGroupCount(a.length-1)}else{return b._horizontalGroupCount(a.length)}}return 1},_columnOffsetForResource:function(a){return this._columnCountForLevel(a)/this._columnCountForLevel(a-1)},destroy:function(){if(this.table){this.table.removeClass("k-scheduler-monthview")}if(this.content){this.content.off(e)}if(this.element){this.element.off(e)}d.fn.destroy.call(this);if(this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable){if(this.options.editable.create!==false){this._addUserEvents.destroy()}if(this.options.editable.update!==false){this._editUserEvents.destroy()}}},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:true,selectedDateFormat:"{0:y}",selectedShortDateFormat:"{0:y}",groupHeaderTemplate:"#=text#",dayTemplate:k,eventTemplate:m}});function q(a,b){return a.slice(b).concat(a.slice(0,b))}function r(a,c){var d=c.firstDay,e=new Date(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());while(e.getDay()!=d){b.date.setTime(e,-1*h)}return e}function s(a,b,c){var d=b,e=c,f;f=a;return f>=d&&f<=e}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.scheduler.recurrence",["kendo.dropdownlist","kendo.datepicker","kendo.numerictextbox"],a)})(function(){var a={id:"scheduler.recurrence",name:"Recurrence",category:"web",depends:["dropdownlist","datepicker","numerictextbox"],hidden:true};(function(a,b){var c=window.kendo,d=c.timezone,e=c.Class,f=c.ui,g=f.Widget,h=f.DropDownList,i=c.date,j=i.setTime,k=i.setDayOfWeek,l=i.adjustDST,m=i.firstDayOfMonth,n=i.getMilliseconds,o=[0,31,60,91,121,152,182,213,244,274,305,335,366],p=[0,31,59,90,120,151,181,212,243,273,304,334,365],q=[31,28,31,30,31,30,31,31,30,31,30,31],r={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},s={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},t=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],u=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],v=u.length,w="yyyyMMddTHHmmssZ",x={months:function(a,b,c){var d=c.months,e=P(d,a.getMonth()+1),f=false;if(e!==null){if(e.length){a.setMonth(e[0]-1,1)}else{a.setFullYear(a.getFullYear()+1,d[0]-1,1)}f=true}return f},monthDays:function(a,b,c){var d,e,f,g=false,h=a.getHours(),i=function(a){if(a<0){a=d+a+1}return a};while(a<=b){e=a.getMonth();d=T(a);f=P(c.monthDays,a.getDate(),i);if(f===null){return g}g=true;if(f.length){a.setMonth(e,f.sort(V)[0]);l(a,h);if(e===a.getMonth()){break}}else{a.setMonth(e+1,1)}}return g},yearDays:function(a,b,c){var d,e,f=false,g=a.getHours(),h=function(a){if(a<0){a=d+a}return a};while(a<b){d=U(a)?366:365;e=P(c.yearDays,H(a),h);if(e===null){return f}f=true;d=a.getFullYear();if(e.length){a.setFullYear(d,0,e.sort(V)[0]);l(a,g);break}else{a.setFullYear(d+1,0,1)}}return f},weeks:function(a,b,c){var d=c.weekStart,e,f,g,h=false,i=a.getHours(),j=function(a){if(a<0){a=53+a}return a};while(a<b){f=P(c.weeks,I(a,d),j);if(f===null){return h}h=true;e=a.getFullYear();if(f.length){g=f.sort(V)[0]*7-1;a.setFullYear(e,0,g);k(a,d,-1);l(a,i);break}else{a.setFullYear(e+1,0,1)}}return h},weekDays:function(a,b,c){var d=c.weekDays;var e=c.weekStart;var f=O(d,a,e);var g=a.getHours();var h,i;if(f===null){return false}h=f[0];if(!h){h=d[0];k(a,e)}i=h.day;if(h.offset){while(a<=b&&!N(a,h,e)){if(J(a,e)===M(a,e)){a.setMonth(a.getMonth()+1,1);l(a,g)}else{a.setDate(a.getDate()+7);l(a,g);k(a,e,-1)}}}if(a.getDay()!==i){k(a,i)}return true},hours:function(a,b,c){var d=c.hours,e=c._startTime,f=e.getHours(),g=P(d,f),h=false;if(g!==null){h=true;a.setHours(f);l(a,f);if(g.length){g=g[0];a.setHours(g)}else{g=a.getHours();a.setDate(a.getDate()+1);l(a,g);g=d[0];a.setHours(g);l(a,g)}if(c.minutes){a.setMinutes(0)}e.setHours(g,a.getMinutes())}return h},minutes:function(a,b,c){var d=c.minutes,e=a.getMinutes(),f=P(d,e),g=c._startTime.getHours(),h=false;if(f!==null){h=true;if(f.length){f=f[0]}else{g+=1;f=d[0]}if(c.seconds){a.setSeconds(0)}a.setHours(g,f);g=g%24;l(a,g);c._startTime.setHours(g,f,a.getSeconds())}return h},seconds:function(a,b,c){var d=c.seconds,e=c._startTime.getHours(),f=P(d,a.getSeconds()),g=a.getMinutes(),h=false;if(f!==null){h=true;if(f.length){a.setSeconds(f[0])}else{g+=1;a.setMinutes(g,d[0]);if(g>59){g=g%60;e=(e+1)%24}}c._startTime.setHours(e,g,a.getSeconds())}return h}},y=e.extend({next:function(a,b){var c=b._startTime,d=c.getDate(),e,f;if(b.seconds){f=a.getSeconds()+1;a.setSeconds(f);c.setSeconds(f);c.setDate(d)}else if(b.minutes){e=a.getMinutes()+1;a.setMinutes(e);c.setMinutes(e);c.setDate(d)}else{return false}return true},normalize:function(a){var b=a.rule;if(a.idx===4&&b.hours){b._startTime.setHours(0);this._hour(a.date,b)}},limit:function(a,c,d){var e=d.interval,f,g,h,i,j;while(a<=c){h=g=b;j=a.getDate();for(i=0;i<v;i++){f=u[i];if(d[f]){h=x[f](a,c,d);if(g!==b&&h){break}else{g=h}}if(h){this.normalize({date:a,rule:d,day:j,idx:i})}}if((e===1||!this.interval(d,a))&&i===v){break}}},interval:function(a,b){var c=new Date(a._startPeriod);var d=new Date(b);var e=b.getHours();var f=a.weekStart;var g=a.interval;var h=a.freq;var j=false;var k=0;var m=0;var n=1;var o;var p;if(h==="hourly"){o=d.getTimezoneOffset()-c.getTimezoneOffset();p=a._startTime.getHours();d=d.getTime();if(e!==p){d+=(p-e)*i.MS_PER_HOUR}d-=c;if(o){d-=o*i.MS_PER_MINUTE}o=Math.floor(d/i.MS_PER_HOUR);k=G(o,g);if(k!==0){this._hour(b,a,k);j=true}}else if(h==="daily"){i.setTime(d,-c,true);o=Math.round(d/i.MS_PER_DAY);k=G(o,g);if(k!==0){this._date(b,a,k);j=true}}else if(h==="weekly"){k=this._getNumberOfWeeksBetweenDates(c,b);var q=K(b.getDay(),f);var r=K(c.getDay(),f);if(q<r){k+=1}k=G(k,g);if(k!==0){i.setDayOfWeek(b,a.weekStart,-1);b.setDate(b.getDate()+k*7);l(b,e);j=true}}else if(h==="monthly"){o=b.getFullYear()-c.getFullYear();o=b.getMonth()-c.getMonth()+o*12;k=G(o,g);if(k!==0){n=a._hasRuleValue?1:b.getDate();b.setFullYear(b.getFullYear(),b.getMonth()+k,n);l(b,e);j=true}}else if(h==="yearly"){o=b.getFullYear()-c.getFullYear();k=G(o,g);if(!a.months){m=b.getMonth()}if(!a.yearDays&&!a.monthDays&&!a.weekDays){n=b.getDate()}if(k!==0){b.setFullYear(b.getFullYear()+k,m,n);l(b,e);j=true}}return j},_getNumberOfWeeksBetweenDates:function(a,b){var c=(b-a)/6048e5;var d=Math.floor(c);if(c-d>.99){d=Math.round(c)}return d},_hour:function(a,b,c){var d=b._startTime,e=d.getHours();if(c){e+=c}a.setHours(e);e=e%24;d.setHours(e);l(a,e)},_date:function(a,b,c){var d=a.getHours();a.setDate(a.getDate()+c);if(!l(a,d)){this._hour(a,b)}}}),z=y.extend({next:function(a,b){if(!y.fn.next(a,b)){this._hour(a,b,1)}},normalize:function(a){var b=a.rule;if(a.idx===4){b._startTime.setHours(0);this._hour(a.date,b)}}}),A=y.extend({next:function(a,b){if(!y.fn.next(a,b)){this[b.hours?"_hour":"_date"](a,b,1)}}}),B=A.extend({setup:function(a,b){if(!a.weekDays){a.weekDays=[{day:b.getDay(),offset:0}]}}}),C=y.extend({next:function(a,b){var c,d;if(!y.fn.next(a,b)){if(b.hours){this._hour(a,b,1)}else if(b.monthDays||b.weekDays||b.yearDays||b.weeks){this._date(a,b,1)}else{c=a.getDate();d=a.getHours();a.setMonth(a.getMonth()+1);l(a,d);while(a.getDate()!==c){a.setDate(c);l(a,d)}this._hour(a,b)}}},normalize:function(a){var b=a.rule,c=a.date,d=c.getHours();if(a.idx===0&&!b.monthDays&&!b.weekDays){c.setDate(a.day);l(c,d)}else{y.fn.normalize(a)}},setup:function(a,b,c){if(!a.monthDays&&!a.weekDays){c.setDate(b.getDate())}}}),D=C.extend({next:function(a,b){var c,d=a.getHours();if(!y.fn.next(a,b)){if(b.hours){this._hour(a,b,1)}else if(b.monthDays||b.weekDays||b.yearDays||b.weeks){this._date(a,b,1)}else if(b.months){c=a.getDate();a.setMonth(a.getMonth()+1);l(a,d);while(a.getDate()!==c){a.setDate(c);l(a,d)}this._hour(a,b)}else{a.setFullYear(a.getFullYear()+1);l(a,d);this._hour(a,b)}}},setup:function(){}}),E={hourly:new z,daily:new A,weekly:new B,monthly:new C,yearly:new D},F="click";function G(a,b){var c;if(a!==0&&a<b){c=b-a}else{c=a%b;if(c){c=b-c}}return c}function H(a){var b=a.getMonth();var c=U(a)?o[b]:p[b];return c+a.getDate()}function I(a,c){var d,e;a=new Date(a.getFullYear(),a.getMonth(),a.getDate());l(a,0);d=a.getFullYear();if(c!==b){k(a,c,-1);a.setDate(a.getDate()+4)}else{a.setDate(a.getDate()+(4-(a.getDay()||7)))}l(a,0);e=Math.floor((a.getTime()-new Date(d,0,1,-6))/864e5);return 1+Math.floor(e/7)}function J(a,b){var c=m(a).getDay();var d=7-(c+7-(b||7))||7;if(d<0){d+=7}return Math.ceil((a.getDate()-d)/7)+1}function K(a,b){return a+(a<b?7:0)}function L(a,b,c){var d=b.offset;if(!d){return J(a,c)}var e=new Date(a.getFullYear(),a.getMonth()+1,0);var f=J(e,c);var g=K(b.day,c);var h=g<K(new Date(a.getFullYear(),a.getMonth(),1).getDay(),c);var i=g>K(e.getDay(),c);if(d<0){d=f+(d+1-(i?1:0))}else if(h){d+=1}f-=i?1:0;if(d<(h?1:0)||d>f){return null}return d}function M(a,b){return J(new Date(a.getFullYear(),a.getMonth()+1,0),b)}function N(a,b,c){return J(a,c)===L(a,b,c)}function O(a,b,c){var d=K(b.getDay(),c);var e=a.length;var f;var g,h;var i;var j=[];var k=0;for(;k<e;k++){g=a[k];i=J(b,c);f=L(b,g,c);if(f===null){continue}if(i<f){j.push(g)}else if(i===f){h=K(g.day,c);if(d<h){j.push(g)}else if(d===h){return null}}}return j}function P(a,b,c){var d=0,e=a.length,f=[],g;for(;d<e;d++){g=a[d];if(c){g=c(g)}if(b===g){return null}else if(b<g){f.push(g)}}return f}function Q(a,b){var c=0,d=a.length,e;for(;c<d;c++){e=parseInt(a[c],10);if(isNaN(e)||e<b.start||e>b.end||e===0&&b.start<0){return null}a[c]=e}return a.sort(V)}function R(a){var c=0,d=a.length,e,f,g;for(;c<d;c++){e=a[c];f=e.length;g=e.substring(f-2).toUpperCase();g=s[g];if(g===b){return null}a[c]={offset:parseInt(e.substring(0,f-2),10)||0,day:g}}return a}function S(a){var b=0,c=a.length,d,e,f=[];for(;b<c;b++){d=a[b];if(typeof d==="string"){e=d}else{e=""+r[d.day];if(d.offset){e=d.offset+e}}f.push(e)}return f.toString()}function T(a){var b=a.getMonth();if(b===1){if(new Date(a.getFullYear(),1,29).getMonth()===1){return 29}return 28}return q[b]}function U(a){a=a.getFullYear();return a%4===0&&a%100!==0||a%400===0}function V(a,b){return a-b}function W(a,b){var c=0,d,e,f=[];if(a){a=a.split(a.indexOf(";")!==-1?";":",");d=a.length;for(;c<d;c++){e=ea(a[c],b);if(e){f.push(e)}}}return f}function X(b,c,d){var e=a.isArray(b)?b:W(b,d),f=c.getTime()-c.getMilliseconds(),g=0,h=e.length;for(;g<h;g++){if(e[g].getTime()===f){return true}}return false}function Y(a,b){var d=0;var e;var f;var g=[].concat(a);for(e=g.length;d<e;d++){f=g[d];f=c.timezone.convert(f,b||f.getTimezoneOffset(),"Etc/UTC");g[d]=c.toString(f,w)}return g.join(",")}function Z(a,b){var c=new Date(a);switch(b.freq){case"yearly":c.setFullYear(c.getFullYear(),0,1);break;case"monthly":c.setFullYear(c.getFullYear(),c.getMonth(),1);break;case"weekly":k(c,b.weekStart,-1);break;default:break}if(b.hours){c.setHours(0)}if(b.minutes){c.setMinutes(0)}if(b.seconds){c.setSeconds(0)}return c}function $(a,b){var c=new Date(a);switch(b.freq){case"yearly":c.setFullYear(c.getFullYear(),11,31);break;case"monthly":c.setFullYear(c.getFullYear(),c.getMonth()+1,0);break;case"weekly":k(c,b.weekStart,-1);c.setDate(c.getDate()+6);break;default:break}if(b.hours){c.setHours(23)}if(b.minutes){c.setMinutes(59)}if(b.seconds){c.setSeconds(59)}return c}function _(a,b,c){var d=a.length;var e=[];var f;var g;for(var h=0,i=c.length;h<i;h++){f=c[h];if(f<0){f=d+f}else{f-=1}g=a[f];if(g&&g.start>=b){e.push(g)}}return e}function aa(a,b,c){var d=[];var e;for(var f=0;f<a.length;f++){e=a[f];if(!X(b,e.start,c)){d.push(e)}}return d}function ba(a,c,d,e){var f=ga(a.recurrenceRule,e),g,h,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,F,G=[],H,I,J,K;if(!f){return[a]}C=f.positions;D=C?0:1;s=f.start;t=f.end;if(s||t){a=a.clone({start:s?new Date(s.value[0]):b,end:t?new Date(t.value[0]):b})}z=a.start;y=z.getTime();x=n(z);w=W(a.recurrenceException,e);if(!w[0]&&f.exdates){w=f.exdates.value;a.set("recurrenceException",Y(w,e))}q=c=new Date(c);d=new Date(d);v=f.freq;B=E[v];A=f.count;if(f.until&&f.until<d){d=new Date(f.until)}u=v==="yearly"||v==="monthly"||v==="weekly";if(c<y||A||f.interval>1||u){c=new Date(y)}else{l=c.getHours();m=c.getMinutes();o=c.getSeconds();if(!f.hours){l=z.getHours()}if(!f.minutes){m=z.getMinutes()}if(!f.seconds){o=z.getSeconds()}c.setHours(l,m,o,z.getMilliseconds())}f._startPeriod=new Date(c);if(C){c=Z(c,f);d=$(d,f);var L=n(d)-n(c);if(L<0){l=c.getHours();d.setHours(l,c.getMinutes(),c.getSeconds(),c.getMilliseconds());i.adjustDST(d,l)}f._startPeriod=new Date(c);f._endPeriod=$(c,f)}p=a.duration();f._startTime=g=i.toInvariantTime(c);if(B.setup){B.setup(f,z,c)}B.limit(c,d,f);while(c<=d){k=new Date(c);j(k,p);r=c>=q||k>q;if(r&&!X(w,c,e)||C){g=i.toUtcTime(i.getDate(c))+n(f._startTime);h=g+p;if(y!==c.getTime()||x!==n(f._startTime)){if(!a.isAllDay){var M=a.startTimezone||a.endTimezone;var N=a.endTimezone||a.startTimezone;if(e&&M||!e&&!M){var O=da(c,e)-da(a.start,e);var P=da(k,e)-da(a.end,e);var Q=da(c,M)-da(a.start,M);var R=da(k,N)-da(a.end,N);if(O!==Q){var S=(O-Q)*6e4;H=new Date(c.getTime()-S);J=g-S}if(P!==R){var T=(P-R)*6e4;I=new Date(k.getTime()-T);K=h-T}}}G.push(a.toOccurrence({start:H||new Date(c),end:I||k,_startTime:J||g,_endTime:K||h}));H=I=J=K=null}else{a._startTime=g;a._endTime=h;G.push(a)}}if(C){B.next(c,f);B.limit(c,d,f);if(c>f._endPeriod){F=_(G.slice(D),z,C);F=aa(F,w,e);G=G.slice(0,D).concat(F);f._endPeriod=$(c,f);D=G.length}if(A&&A===D){break}}else{if(A&&A===D){break}D+=1;var U=ca(c);B.next(c,f);if(U&&f.freq!=="hourly"&&i.toInvariantTime(a.start).getTime()!==i.toInvariantTime(c).getTime()){f._startTime=g=new Date(c.getTime()-36e5)}B.limit(c,d,f)}}return G}function ca(a){var b=a.getTimezoneOffset();var c=new Date(a.getTime()-36e5);var d=c.getTimezoneOffset();return b<d}function da(a,b){return b?c.timezone.offset(a,b):a.getTimezoneOffset()}function ea(a,b){a=c.parseDate(a,t);if(a&&b){a=d.apply(a,b)}return a}function fa(a,b){var c=a.split(";");var d;var e;var f;var g;var h,i;for(var j=0,k=c.length;j<k;j++){d=c[j].split(":");e=d[0];f=d[1];if(e.indexOf("TZID")!==-1){g=e.substring(e.indexOf("TZID")).split("=")[1]}if(f){f=f.split(",");for(h=0,i=f.length;h<i;h++){f[h]=ea(f[h],g||b)}}}if(f){return{value:f,tzid:g}}}function ga(d,e){var f={};var g,h;var i=0,j;var k=false;var l,m,n;var o,p,q;var r=function(a,b){var c=a.day,d=b.day;if(c<p){c+=7}if(d<p){d+=7}return c-d};if(!d){return null}n=d.split("\n");if(!n[1]&&(d.indexOf("DTSTART")!==-1||d.indexOf("DTEND")!==-1||d.indexOf("EXDATE")!==-1)){
n=d.split(" ")}for(i=0,j=n.length;i<j;i++){m=a.trim(n[i]);if(m.indexOf("DTSTART")!==-1){f.start=fa(m,e)}else if(m.indexOf("DTEND")!==-1){f.end=fa(m,e)}else if(m.indexOf("EXDATE")!==-1){f.exdates=fa(m,e)}else if(m.indexOf("RRULE")!==-1){l=m.substring(6)}else if(a.trim(m)){l=m}}l=l.split(";");for(i=0,j=l.length;i<j;i++){o=l[i];g=o.split("=");h=a.trim(g[1]).split(",");switch(a.trim(g[0]).toUpperCase()){case"FREQ":f.freq=h[0].toLowerCase();break;case"UNTIL":f.until=ea(h[0],e);break;case"COUNT":f.count=parseInt(h[0],10);break;case"INTERVAL":f.interval=parseInt(h[0],10);break;case"BYSECOND":f.seconds=Q(h,{start:0,end:60});k=true;break;case"BYMINUTE":f.minutes=Q(h,{start:0,end:59});k=true;break;case"BYHOUR":f.hours=Q(h,{start:0,end:23});k=true;break;case"BYMONTHDAY":f.monthDays=Q(h,{start:-31,end:31});k=true;break;case"BYYEARDAY":f.yearDays=Q(h,{start:-366,end:366});k=true;break;case"BYMONTH":f.months=Q(h,{start:1,end:12});k=true;break;case"BYDAY":f.weekDays=q=R(h);k=true;break;case"BYWEEKNO":f.weeks=Q(h,{start:-53,end:53});k=true;break;case"BYSETPOS":f.positions=Q(h,{start:-366,end:366});break;case"WKST":f.weekStart=p=s[h[0]];break}}if(f.freq===b||f.count!==b&&f.until){return null}if(!f.interval){f.interval=1}if(p===b){f.weekStart=p=c.culture().calendar.firstDay}if(q){f.weekDays=q.sort(r)}if(f.positions&&!k){f.positions=null}f._hasRuleValue=k;return f}function ha(a,b){var e=a.value;var f=a.tzid||"";var g=e.length;var h=0;var i;for(;h<g;h++){i=e[h];i=d.convert(i,f||b||i.getTimezoneOffset(),"Etc/UTC");e[h]=c.toString(i,"yyyyMMddTHHmmssZ")}if(f){f=";TZID="+f}return f+":"+e.join(",")+" "}function ia(a,e){var f=a.weekStart;var g="FREQ="+a.freq.toUpperCase();var h=a.exdates||"";var i=a.start||"";var j=a.end||"";var k=a.until;if(a.interval>1){g+=";INTERVAL="+a.interval}if(a.count){g+=";COUNT="+a.count}if(k){k=d.convert(k,e||k.getTimezoneOffset(),"Etc/UTC");g+=";UNTIL="+c.toString(k,"yyyyMMddTHHmmssZ")}if(a.months){g+=";BYMONTH="+a.months}if(a.weeks){g+=";BYWEEKNO="+a.weeks}if(a.yearDays){g+=";BYYEARDAY="+a.yearDays}if(a.monthDays){g+=";BYMONTHDAY="+a.monthDays}if(a.weekDays){g+=";BYDAY="+S(a.weekDays)}if(a.hours){g+=";BYHOUR="+a.hours}if(a.minutes){g+=";BYMINUTE="+a.minutes}if(a.seconds){g+=";BYSECOND="+a.seconds}if(a.positions){g+=";BYSETPOS="+a.positions}if(f!==b){g+=";WKST="+r[f]}if(i){i="DTSTART"+ha(i,e)}if(j){j="DTEND"+ha(j,e)}if(h){h="EXDATE"+ha(h,e)}if(i||j||h){g=i+j+h+"RRULE:"+g}return g}c.recurrence={rule:{parse:ga,serialize:ia},expand:ba,dayInYear:H,weekInYear:I,weekInMonth:J,numberOfWeeks:M,isException:X,toExceptionString:Y};var ja=function(a){var b=c.culture().calendar.days.namesShort,d=b.length,e="",f=0,g=[];for(;f<d;f++){g.push(f)}b=b.slice(a).concat(b.slice(0,a));g=g.slice(a).concat(g.slice(0,a));for(f=0;f<d;f++){e+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+g[f]+'" /> '+b[f]+"</label>"}return e};var ka=c.template('# if (frequency !== "never") { #'+'<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div>'+'<div class="k-edit-field"><input class="k-recur-interval" title="#:messages.interval#"/>#:messages.interval#</div>'+"# } #"+'# if (frequency === "weekly") { #'+'<div class="k-edit-label"><label>#:messages.repeatOn#</label></div>'+'<div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div>'+'# } else if (frequency === "monthly") { #'+'<div class="k-edit-label"><label>#:messages.repeatOn#</label></div>'+'<div class="k-edit-field">'+'<ul class="k-reset">'+"<li>"+'<label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" title="#:messages.day#" />#:messages.day#</label>'+'<input class="k-recur-monthday" title="#:messages.day#" />'+"</li>"+"<li>"+'<input class="k-recur-month-radio" type="radio" name="month" value="weekday" title="#:messages.repeatOn#" />'+'<input class="k-recur-weekday-offset" title="#:messages.repeatOn#" /><input class="k-recur-weekday" title="#:messages.day#" />'+"</li>"+"</ul>"+"</div>"+'# } else if (frequency === "yearly") { #'+'<div class="k-edit-label"><label>#:messages.repeatOn#</label></div>'+'<div class="k-edit-field">'+'<ul class="k-reset">'+"<li>"+'<input class="k-recur-year-radio" type="radio" name="year" value="monthday" title="#:messages.repeatOn#" />'+'<input class="k-recur-month" title="#:messages.repeatOn#" /><input class="k-recur-monthday" title="#:messages.day#" />'+"</li>"+"<li>"+'<input class="k-recur-year-radio" type="radio" name="year" value="weekday" title="#:messages.repeatOn#" />'+'<input class="k-recur-weekday-offset" title="#:messages.repeatOn#" /><input class="k-recur-weekday" title="#:messages.day#"  />#:messages.of#<input class="k-recur-month" title="#:messages.of#"/>'+"</li>"+"</ul>"+"</div>"+"# } #"+'# if (frequency !== "never") { #'+'<div class="k-edit-label"><label>#:end.label#</label></div>'+'<div class="k-edit-field">'+'<ul class="k-reset">'+"<li>"+'<label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label>'+"</li>"+"<li>"+'<label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label>'+'<input class="k-recur-count" title="#:end.occurrence#" />#:end.occurrence#'+"</li>"+"<li>"+'<label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label>'+'<input class="k-recur-until" title="#:end.on#" />'+"</li>"+"</ul>"+"</div>"+"# } #");var la=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}];var ma=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}];var na=[{day:0,offset:0},{day:6,offset:0}];var oa=g.extend({init:function(a,b){var d;var e=this;var f=b&&b.frequencies;g.fn.init.call(e,a,b);e.wrapper=e.element;b=e.options;b.start=d=b.start||i.today();if(f){b.frequencies=f}if(typeof d==="string"){b.start=c.parseDate(d,"yyyyMMddTHHmmss")}if(b.firstWeekDay===null){b.firstWeekDay=c.culture().calendar.firstDay}e._namespace="."+b.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{recurrenceEditorTitle:"Recurrence editor",frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",mobileLabel:"Ends",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var a=this;var b=a._value;a._container.find(".k-recur-interval").kendoNumericTextBox({spinners:a.options.spinners,value:b.interval||1,decimals:0,format:"#",min:1,change:function(){b.interval=this.value();a._trigger()}})},_weekDayRule:function(a){var b=this;var c=(b._weekDay.element||b._weekDay).val();var d=Number((b._weekDayOffset.element||b._weekDayOffset).val());var e=null;var f=null;if(!a){if(c==="day"){e=la;f=d}else if(c==="weekday"){e=ma;f=d}else if(c==="weekend"){e=na;f=d}else{e=[{offset:d,day:Number(c)}]}}b._value.weekDays=e;b._value.positions=f},_weekDayView:function(){var a=this;var b=a._value.weekDays;var c=a._value.positions;var d=a._weekDayOffset;var e;var f;var g;var h;if(b){g=b.length;if(c){if(g===7){f="day";e=c}else if(g===5){f="weekday";e=c}else if(g===2){f="weekend";e=c}}if(!f){b=b[0];f=b.day;e=b.offset||""}h=d.value?"value":"val";d[h](e);a._weekDay[h](f)}},_initWeekDay:function(){var b=this,d;var e=b.options.messages.weekdays;var f=b.options.messages.offsetPositions;var g=b._container.find(".k-recur-weekday");var i=function(){b._weekDayRule();b._trigger()};if(g[0]){b._weekDayOffset=new h(b._container.find(".k-recur-weekday-offset"),{change:i,dataTextField:"text",dataValueField:"value",dataSource:[{text:f.first,value:"1"},{text:f.second,value:"2"},{text:f.third,value:"3"},{text:f.fourth,value:"4"},{text:f.last,value:"-1"}]});d=[{text:e.day,value:"day"},{text:e.weekday,value:"weekday"},{text:e.weekend,value:"weekend"}];b._weekDay=new h(g,{value:b.options.start.getDay(),change:i,dataTextField:"text",dataValueField:"value",dataSource:d.concat(a.map(c.culture().calendar.days.names,function(a,b){return{text:a,value:b}}))});b._weekDayView()}},_initWeekDays:function(){var b=this;var c=b._value;var d=b._container.find(".k-recur-weekday-checkbox");if(d[0]){d.on(F+b._namespace,function(){c.weekDays=a.map(d.filter(":checked"),function(a){return{day:Number(a.value),offset:0}});if(!b.options.mobile){b._trigger()}});if(c.weekDays){var e,f;var g=0,h=d.length;var i=c.weekDays.length;for(;g<h;g++){f=d[g];for(e=0;e<i;e++){if(f.value==c.weekDays[e].day){f.checked=true}}}}}},_initMonthDay:function(){var a=this;var b=a._value;var d=a._container.find(".k-recur-monthday");if(d[0]){a._monthDay=new c.ui.NumericTextBox(d,{spinners:a.options.spinners,min:1,max:31,decimals:0,format:"#",value:b.monthDays?b.monthDays[0]:a.options.start.getDate(),change:function(){var c=this.value();b.monthDays=c?[c]:c;a._trigger()}})}},_initCount:function(){var a=this,b=a._container.find(".k-recur-count"),c=a._value;a._count=b.kendoNumericTextBox({spinners:a.options.spinners,value:c.count||1,decimals:0,format:"#",min:1,change:function(){c.count=this.value();a._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var a=this,b=a._container.find(".k-recur-until"),c=a.options.start,d=a._value,e=d.until;a._until=b.kendoDatePicker({min:e&&e<c?e:c,value:e||new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59),change:function(){var b=this.value();d.until=new Date(b.getFullYear(),b.getMonth(),b.getDate(),23,59,59);a._trigger()}}).data("kendoDatePicker")},_trigger:function(){if(!this.options.mobile){this.trigger("change")}}});var pa=oa.extend({init:function(a,b){var c=this;oa.fn.init.call(c,a,b);c._initFrequency();c._initContainer();c.value(c.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var a=this;a._frequency.destroy();a._container.find("input[type=radio],input[type=checkbox]").off(F+a._namespace);c.destroy(a._container);oa.fn.destroy.call(a)},value:function(a){var c=this;var d=c.options.timezone;var e;if(a===b){if(!c._value.freq){return""}return ia(c._value,d)}c._value=ga(a,d)||{};e=c._value.freq;if(e){c._frequency.value(e)}else{c._frequency.select(0)}c._initView(c._frequency.value())},_initContainer:function(){var b=this.element,c=a('<div class="k-recur-view" />'),d=b.parent(".k-edit-field");if(d[0]){c.insertAfter(d)}else{b.append(c)}this._container=c},_initFrequency:function(){var b=this,c=b.options,d=c.frequencies,e=c.messages.frequencies,f=a("<input />").attr({title:c.messages.recurrenceEditorTitle}),g;d=a.map(d,function(a){return{text:e[a],value:a}});g=d[0];if(g&&g.value==="never"){g.value=""}b.element.append(f);b._frequency=new h(f,{dataTextField:"text",dataValueField:"value",dataSource:d,change:function(){b._value={};b._initView(b._frequency.value());b.trigger("change")}})},_initView:function(a){var b=this;var d=b._value;var e=b.options;var f={frequency:a||"never",weekDayCheckBoxes:ja,firstWeekDay:e.firstWeekDay,messages:e.messages[a],end:e.messages.end};c.destroy(b._container);b._container.html(ka(f));if(!a){b._value={};return}d.freq=a;if(a==="weekly"&&!d.weekDays){d.weekDays=[{day:e.start.getDay(),offset:0}]}b._initInterval();b._initWeekDays();b._initMonthDay();b._initWeekDay();b._initMonth();b._initCount();b._initUntil();b._period();b._end()},_initMonth:function(){var b=this;var d=b._value;var e=d.months||[b.options.start.getMonth()+1];var f=b._container.find(".k-recur-month");var g;if(f[0]){g={change:function(){d.months=[Number(this.value())];b.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:a.map(c.culture().calendar.months.names,function(a,b){return{text:a,value:b+1}})};b._month1=new h(f[0],g);b._month2=new h(f[1],g);if(e){e=e[0];b._month1.value(e);b._month2.value(e)}}},_end:function(){var a=this;var b=a._value;var c=a._container;var d=a._namespace;var e=function(b){a._toggleEnd(b.currentTarget.value);a.trigger("change")};var f;a._buttonNever=c.find(".k-recur-end-never").on(F+d,e);a._buttonCount=c.find(".k-recur-end-count").on(F+d,e);a._buttonUntil=c.find(".k-recur-end-until").on(F+d,e);if(b.count){f="count"}else if(b.until){f="until"}a._toggleEnd(f)},_period:function(){var a=this;var b=a._value;var c=b.freq==="monthly";var d=c?a._toggleMonthDay:a._toggleYear;var e=".k-recur-"+(c?"month":"year")+"-radio";var f=a._container.find(e);if(!c&&b.freq!=="yearly"){return}f.on(F+a._namespace,function(b){d.call(a,b.currentTarget.value);a.trigger("change")});a._buttonMonthDay=f.eq(0);a._buttonWeekDay=f.eq(1);d.call(a,b.weekDays?"weekday":"monthday")},_toggleEnd:function(a){var b=this;var c,d;var e,f;if(a==="count"){b._buttonCount.prop("checked",true);e=true;f=false;c=b._count.value();d=null}else if(a==="until"){b._buttonUntil.prop("checked",true);e=false;f=true;c=null;d=b._until.value()}else{b._buttonNever.prop("checked",true);e=f=false;c=d=null}if(b._count){b._count.enable(e)}if(b._until){b._until.enable(f)}b._value.count=c;b._value.until=d},_toggleMonthDay:function(a){var b=this;var c=false;var d=true;var e=false;var f;if(a==="monthday"){b._buttonMonthDay.prop("checked",true);f=[b._monthDay.value()];c=true;d=false;e=true}else{b._buttonWeekDay.prop("checked",true);f=null}b._weekDay.enable(d);b._weekDayOffset.enable(d);b._monthDay.enable(c);b._value.monthDays=f;b._weekDayRule(e)},_toggleYear:function(a){var b=this;var c=false;var d=true;var e;if(a==="monthday"){c=true;d=false;e=b._month1.value()}else{e=b._month2.value()}b._month1.enable(c);b._month2.enable(d);b._value.months=[e];b._toggleMonthDay(a)}});f.plugin(pa);var qa=c.template('<div class="k-edit-label"><label>#:headerTitle#</label></div>'+'<div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div>'+'<div class="k-recur-view"></div>');var ra=c.template('# if (frequency !== "never") { #'+'<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div>'+'<div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div>'+"# } #"+'# if (frequency === "weekly") { #'+'<div class="k-edit-label"><label>#:messages.repeatOn#</label></div>'+'<div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div>'+'# } else if (frequency === "monthly") { #'+'<div class="k-edit-label"><label>#:messages.repeatBy#</label></div>'+'<div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div>'+'<div class="k-monthday-view" style="display:none">'+'<div class="k-edit-label"><label>#:messages.day#</label></div>'+'<div class="k-edit-field"><input class="k-recur-monthday" title="#:messages.day#" pattern="\\\\d*"/></div>'+"</div>"+'<div class="k-weekday-view" style="display:none">'+'<div class="k-edit-label"><label>#:messages.every#</label></div>'+'<div class="k-edit-field"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div>'+'<div class="k-edit-label"><label>#:messages.day#</label></div>'+'<div class="k-edit-field"><select class="k-recur-weekday" title="#:messages.day#"></select></div>'+"</div>"+'# } else if (frequency === "yearly") { #'+'<div class="k-edit-label"><label>#:messages.repeatBy#</label></div>'+'<div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div>'+'<div class="k-monthday-view" style="display:none">'+'<div class="k-edit-label"><label>#:messages.day#</label></div>'+'<div class="k-edit-field"><input class="k-recur-monthday" title="#:messages.day#" pattern="\\\\d*"/></div>'+"</div>"+'<div class="k-weekday-view" style="display:none">'+'<div class="k-edit-label"><label>#:messages.every#</label></div>'+'<div class="k-edit-field"><select class="k-recur-weekday-offset" title="#:messages.every#"></select></div>'+'<div class="k-edit-label"><label>#:messages.day#</label></div>'+'<div class="k-edit-field"><select class="k-recur-weekday" title="#:messages.day#"></select></div>'+"</div>"+'<div class="k-edit-label"><label>#:messages.month#</label></div>'+'<div class="k-edit-field"><select class="k-recur-month" title="#:messages.month#"></select></div>'+"# } #");var sa=c.template('# if (endPattern === "count") { #'+'<div class="k-edit-label"><label>#:messages.after#</label></div>'+'<div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div>'+'# } else if (endPattern === "until") { #'+'<div class="k-edit-label"><label>#:messages.on#</label></div>'+'<div class="k-edit-field"><input type="date" class="k-recur-until" /></div>'+"# } #");var ta=c.template('<ul class="k-reset k-header k-scheduler-navigation">'+"#for (var i = 0, length = dataSource.length; i < length; i++) {#"+'<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #">'+'<a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a>'+"</li>"+"#}#"+"</ul>");var ua=oa.extend({init:function(a,b){var d=this;oa.fn.init.call(d,a,b);b=d.options;d._optionTemplate=c.template('<option value="#:value#">#:text#</option>');d.value(b.value);d._pane=b.pane;d._initRepeatButton();d._initRepeatEnd();d._defaultValue=d._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(a){var c=this;var d=c.options.timezone;if(a===b){if(!c._value.freq){return""}return ia(c._value,d)}c._value=ga(a,d)||{}},destroy:function(){this._destroyView();c.destroy(this._endFields);this._repeatButton.off(F+this._namespace);oa.fn.destroy.call(this)},_initRepeatButton:function(){var b=this;var c=b.options.messages.frequencies[this._value.freq||"never"];b._repeatButton=a('<a href="#" class="k-button k-scheduler-recur">'+c+"</a>").on(F+b._namespace,function(a){a.preventDefault();b._createView("repeat");b._pane.navigate("recurrence",b.options.animations.left)});b.element.append(b._repeatButton)},_initRepeatEnd:function(){var b=this;var c=a('<div class="k-edit-label"><label>'+b.options.messages.end.mobileLabel+"</label></div>").insertAfter(b.element.parent(".k-edit-field"));var d=a('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(F+b._namespace,function(a){a.preventDefault();if(!b._value.freq){return}b._createView("end");b._pane.navigate("recurrence",b.options.animations.left)}).insertAfter(c);b._endFields=c.add(d).toggleClass("k-state-disabled",!b._value.freq);b._endButton=d.find(".k-scheduler-recur-end").text(b._endText())},_endText:function(){var a=this._value;var b=this.options.messages.end;var d=b.never;if(a.count){d=c.format("{0} {1}",b.after,a.count)}else if(a.until){d=c.format("{0} {1:d}",b.on,a.until)}return d},_initFrequency:function(){var b=this;var d=b.options.messages.frequencies;var e=ta({dataSource:a.map(this.options.frequencies,function(a){return{text:d[a],value:a!=="never"?a:""}}),value:b._value.freq||"",ns:c.ns});b._view.element.find(".k-recur-pattern").append(e).on(F+b._namespace,".k-scheduler-navigation li",function(d){var e=a(this);d.preventDefault();e.addClass("k-state-selected").siblings().removeClass("k-state-selected");b._value={freq:e.children("a").attr(c.attr("value"))};b._initRepeatView()})},_initEndNavigation:function(){var b=this;var d=b.options.messages.end.patterns;var e=b._value;var f="";if(e.count){f="count"}else if(e.until){f="until"}var g=ta({dataSource:[{text:d.never,value:""},{text:d.after,value:"count"},{text:d.on,value:"until"}],value:f,ns:c.ns});b._view.element.find(".k-recur-pattern").append(g).on(F+b._namespace,".k-scheduler-navigation li",function(d){var f=a(this);var g=null;var h=null;d.preventDefault();f.addClass("k-state-selected").siblings().removeClass("k-state-selected");b._initEndView(f.children("a").attr(c.attr("value")));if(b._count){g=b._count.value();h=null}else if(b._until){g=null;h=b._until.val?c.parseDate(b._until.val(),"yyyy-MM-dd"):b._until.value()}e.count=g;e.until=h})},_createView:function(b){var c=this;var d=c.options;var e=d.messages;var f=e[b==="repeat"?"repeatTitle":"endTitle"];var g='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence">'+'<div data-role="header" class="k-header">'+'<a href="#" class="k-button k-scheduler-cancel">'+e.cancel+"</a>"+e.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+e.update+"</a>"+"</div>";var h=c._pane.view().id;c._view=c._pane.append(g+qa({headerTitle:f}));c._view.element.on(F+c._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(b){b.preventDefault();b.stopPropagation();if(a(this).hasClass("k-scheduler-update")){c.trigger("change");c._defaultValue=a.extend({},c._value)}else{c._value=c._defaultValue}var d=c._value.freq;c._endButton.text(c._endText());c._endFields.toggleClass("k-state-disabled",!d);c._repeatButton.text(e.frequencies[d||"never"]);c._pane.one("viewShow",function(){c._destroyView()});c._pane.navigate(h,c.options.animations.right)});c._container=c._view.element.find(".k-recur-view");if(b==="repeat"){c._initFrequency();c._initRepeatView()}else{c._initEndNavigation();c._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove()}this._view=null},_initRepeatView:function(){var a=this;var b=a._value.freq||"never";var d={frequency:b,weekDayCheckBoxes:ja,firstWeekDay:a.options.firstWeekDay,messages:a.options.messages[b]};var e=ra(d);var f=a._container;var g=a._value;c.destroy(f);f.html(e);if(!e){a._value={};return}if(b==="weekly"&&!g.weekDays){g.weekDays=[{day:a.options.start.getDay(),offset:0}]}a._initInterval();a._initMonthDay();a._initWeekDays();a._initWeekDay();a._initMonth();a._period()},_initEndView:function(a){var d=this;var e=d._value;if(a===b){if(e.count){a="count"}else if(e.until){a="until"}}var f={endPattern:a,messages:d.options.messages.end};c.destroy(d._container);d._container.html(sa(f));d._initCount();d._initUntil()},_initWeekDay:function(){var b=this,d;var e=b.options.messages.weekdays;var f=b.options.messages.offsetPositions;var g=b._container.find(".k-recur-weekday");var h=function(){b._weekDayRule();b.trigger("change")};if(g[0]){b._weekDayOffset=b._container.find(".k-recur-weekday-offset").html(b._options([{text:f.first,value:"1"},{text:f.second,value:"2"},{text:f.third,value:"3"},{text:f.fourth,value:"4"},{text:f.last,value:"-1"}])).change(h);d=[{text:e.day,value:"day"},{text:e.weekday,value:"weekday"},{text:e.weekend,value:"weekend"}];d=d.concat(a.map(c.culture().calendar.days.names,function(a,b){return{text:a,value:b}}));b._weekDay=g.html(b._options(d)).change(h).val(b.options.start.getDay());b._weekDayView()}},_initMonth:function(){var b=this;var d=b._value;var e=b.options.start;var f=d.months||[e.getMonth()+1];var g=b._container.find(".k-recur-month");var h=c.culture().calendar.months.names;if(g[0]){var i=a.map(h,function(a,b){return{text:a,value:b+1}});g.html(b._options(i)).change(function(){d.months=[Number(this.value)]});b._monthSelect=g;if(f){g.val(f[0])}}},_period:function(){var b=this;var d=b._value;var e=b._container;var f=b.options.messages[d.freq];var g=e.find(".k-repeat-rule");var h=e.find(".k-weekday-view");var i=e.find(".k-monthday-view");if(g[0]){var j=d.weekDays?"weekday":"monthday";var k=ta({value:j,dataSource:[{text:f.dayOfMonth,value:"monthday"},{text:f.dayOfWeek,value:"weekday"}],ns:c.ns});var l=function(a){var c=b._weekDay.val();var e=b._weekDayOffset.val();var f=b._monthDay.value();var g=b._monthSelect?b._monthSelect.val():null;if(a==="monthday"){d.weekDays=null;d.monthDays=f?[f]:f;d.months=g?[Number(g)]:g;h.hide();i.show()}else{d.monthDays=null;d.months=g?[Number(g)]:g;d.weekDays=[{offset:Number(e),day:Number(c)}];h.show();i.hide()}};g.append(k).on(F+b._namespace,".k-scheduler-navigation li",function(b){var d=a(this).addClass("k-state-selected");b.preventDefault();d.siblings().removeClass("k-state-selected");var e=d.children("a").attr(c.attr("value"));l(e)});l(j)}},_initUntil:function(){var a=this;var b=a._container.find(".k-recur-until");var d=a.options.start;var e=a._value;var f=e.until;var g=f&&f<d?f:d;if(c.support.input.date){a._until=b.attr("min",c.toString(g,"yyyy-MM-dd")).val(c.toString(f||d,"yyyy-MM-dd")).on("change",function(){e.until=c.parseDate(this.value,"yyyy-MM-dd")})}else{a._until=b.kendoDatePicker({min:g,value:f||d,change:function(){e.until=this.value()}}).data("kendoDatePicker")}},_options:function(a,b){var c=0;var d="";var e=a.length;var f=this._optionTemplate;if(b){d+=f({value:"",text:b})}for(;c<e;c++){d+=f(a[c])}return d}});f.plugin(ua)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.scheduler.timelineview",["kendo.scheduler.view"],a)})(function(){var a={id:"scheduler.timelineview",name:"Scheduler Timeline View",category:"web",description:"The Scheduler Timeline View",depends:["scheduler.view"],hidden:true};(function(a,b){var c=window.kendo,d=c.ui,e=c.date.setTime,f=d.SchedulerView,g=c._outerWidth,h=c._outerHeight,i=a.extend,j=a.proxy,k=c.date.getDate,l=c.date.getMilliseconds,m=c.date.MS_PER_DAY,n=c.date.MS_PER_MINUTE,o="k-current-time",p="k-current-time-arrow",q="k-scheduler-header-wrap",r=.8666,s=".kendoTimelineView";var t=c.template("<div>"+'<div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div>'+'<div class="k-event-template">${title}</div></div>'),u=c.template("<span class='k-link k-nav-day'>#=kendo.format('{0:m}', date)#</span>"),v='<div role="gridcell" aria-selected="false" '+'data-#=ns#uid="#=uid#"'+"#if (resources[0]) { #"+'style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"'+'class="k-event#=inverseColor ? " k-event-inverse" : ""#" '+"#} else {#"+'class="k-event"'+"#}#"+">"+'<span class="k-event-actions">'+"# if(data.tail) {#"+'<span class="k-icon k-i-arrow-60-left"></span>'+"#}#"+"# if(data.isException()) {#"+'<span class="k-icon k-i-non-recurrence"></span>'+"# } else if(data.isRecurring()) {#"+'<span class="k-icon k-i-reload"></span>'+"# } #"+"</span>"+"{0}"+'<span class="k-event-actions">'+"#if (showDelete) {#"+'<a href="\\#" class="k-link k-event-delete" title="${data.messages.destroy}" aria-label="${data.messages.destroy}"><span class="k-icon k-i-close"></span></a>'+"#}#"+"# if(data.head) {#"+'<span class="k-icon k-i-arrow-60-right"></span>'+"#}#"+"</span>"+"#if(resizable && !data.tail){#"+'<span class="k-resize-handle k-resize-w"></span>'+"#}#"+"#if(resizable && !data.head){#"+'<span class="k-resize-handle k-resize-e"></span>'+"#}#"+"</div>";function w(a){var b=new Date(1980,1,1,0,0,0);e(b,l(a));return b}function x(a){var b=[];var c=a.workWeekStart%7;var d=Math.abs(a.workWeekEnd%7);b.push(c);while(d!=c){if(c>6){c-=7}else{c++}b.push(c)}return b}function y(a){var b=0;if(a.columns){for(var c=0;c<a.columns.length;c++){b+=y(a.columns[c])}a.colspan=b;return b}else{a.colspan=1;return 1}}function z(a,b,c){var d,e,f,g;for(d=a.length-1;d>=0;d--){e=a[d].rectLeft;g=a[d].rectRight;f=e<=b&&g>=b;if(f||e>=b&&g<=c||b<=e&&c>=e){if(e<b){b=e}if(g>c){c=g}}}return A(a,b,c)}function A(a,b,c){var d=[];for(var e=0;e<a.length;e++){var f={rectLeft:a[e].rectLeft,rectRight:a[e].rectRight};if(f.rectLeft<b&&f.rectRight>b||f.rectLeft>=b&&f.rectRight<=c){d.push(a[e])}}return d}var B=c.Class.extend({init:function(a){this._view=a},_getTimeSlotByPosition:function(a,b,c){var d=this._view.groups[c];return d.timeSlotByPosition(a,b)},_hideHeaders:function(){var a=this._view;a.timesHeader.find("table tr:last").hide();a.datesHeader.find("table tr:last").hide()},_setColspan:function(a){y(a)},_createRowsLayout:function(a,b,c){var d=this._view;return d._createRowsLayout(a,b,c)},_createVerticalColumnsLayout:function(a,b,c,d){return d},_createColumnsLayout:function(a,b,c){var d=this._view;return d._createColumnsLayout(a,b,c)},_getRowCount:function(){var a=this._view;return a._groupCount()},_getGroupsCount:function(){return 1},_addContent:function(a,b,d,e,f,g,h,i){var j=this._view;var k="";var l=j.options;var m=function(b){var d="";var e="";var f;var g=function(a){return function(){return j._resourceBySlot({groupIndex:a})}};if(c.date.isToday(a[p])){e+="k-today"}if(c.date.getMilliseconds(b)<c.date.getMilliseconds(l.workDayStart)||c.date.getMilliseconds(b)>=c.date.getMilliseconds(l.workDayEnd)||!j._isWorkDay(a[p])){e+=" k-nonwork-hour"}d+="<td"+(e!==""?' class="'+e+'"':"")+">";f=c.date.getDate(a[p]);c.date.setTime(f,c.date.getMilliseconds(b));d+=h({date:f,resources:g(i?n:o)});d+="</td>";return d};for(var n=0;n<e;n++){k+="<tr>";for(var o=0;o<d;o++){for(var p=0,q=b;p<q;p++){k+=j._forTimeRange(f,g,m)}}k+="</tr>"}return k},_addTimeSlotsCollections:function(a,b,c,d,e){var f=this._view;var g=c.length;if(e){g=Math.floor(g/a)}for(var h=0;h<a;h++){var i=0;var j=f.groups[h];var k;if(e){i=h}var m=i*g;var n=0;if(!e){n=h}var o=c[m].children;var p=o.length/(!e?a:1);var q=p/b;for(var r=0;r<b;r++){var s=r*q+p*n;k=l(new Date(+f.startTime()));for(var t=0;t<q;t++){f._addTimeSlotToCollection(j,o,t,s,r,k,d);k+=d}}}},_getVerticalGroupCount:function(a){return a},_getVerticalRowCount:function(a,b,c){var d=this._view;return d._isVerticallyGrouped()?a[b].maxRowCount:c},_renderEvent:function(a,b,c,d,e,f){var g=this._view;var h;h=g._createEventElement(c.occurrence,b,e.head||c.head,e.tail||c.tail);h.appendTo(f).css({top:0,height:g.options.eventHeight});var i={start:c.occurrence._startTime||c.occurrence.start,end:c.occurrence._endTime||c.occurrence.end,element:h,uid:b.uid,slotRange:e,rowIndex:0,offsetTop:0};a.events[b.uid]=i;g.addContinuousEvent(d,e,h,b.isAllDay);g._arrangeRows(i,e,a)},_verticalCountForLevel:function(a){var b=this._view;return b._rowCountForLevel(a)},_horizontalCountForLevel:function(a){var b=this._view;return b._columnCountForLevel(a)},_updateCurrentVerticalTimeMarker:function(b,c){var d=this._view;var e="<div class='"+o+"'></div>";var f=d.datesHeader.find("."+q);var h=Math.round(b[0].innerRect(c,new Date(c.getTime()+1),false).left);var i=a(e).prependTo(f).addClass(p+"-down");i.css({left:d._adjustLeftPosition(h-g(i)*r/2),top:f.find("tr:last").prev().position().top});a(e).prependTo(d.content).css({left:d._adjustLeftPosition(h),width:"1px",height:d.content[0].scrollHeight-1,top:0})},_changeGroup:function(){return b},_prevGroupSlot:function(a,b,c){var d=this._view;if(d._isVerticallyGrouped()){return a}else{var e=b._collection(0,c);return e.last()}},_nextGroupSlot:function(a,b,c){var d=this._view;if(d._isVerticallyGrouped()){return a}else{var e=b._collection(0,c);return e.first()}},_verticalSlots:function(a,b){var c=this._view;return c._changeGroup(a,b)},_verticalMethod:function(a){return a?"leftSlot":"rightSlot"},_normalizeVerticalSelection:function(){return b},_horizontalSlots:function(a,b,c,d,e,f,g){var h=this._view;var i={};i.startSlot=b[c](d);i.endSlot=b[c](e);if(!f&&h._isHorizontallyGrouped()&&(!i.startSlot||!i.endSlot)){i.startSlot=i.endSlot=h._changeGroup(a,g)}return i},_changeVerticalViewPeriod:function(){return false},_changeHorizontalViewPeriod:function(a,b,c,d){var e=this._view;if((!a.startSlot||!a.endSlot)&&!b&&e._changeViewPeriod(c,d,false)){
return true}return false},_updateDirection:function(a,b,c,d){var e=this._view;e._updateDirection(a,b,c,d,true)},_createMoveHint:function(a,b){var c=this._view;var d=a.start;var e=c._createEventElement(b.occurrence,b.occurrence,false,false);e.addClass("k-event-drag-hint");var f=a.innerRect(b.occurrence.start,b.occurrence.end,c.options.snap);var g=f.right-f.left-2;if(g<0){g=0}var h=c._adjustLeftPosition(f.left);var i={left:h,top:d.offsetTop,height:d.offsetHeight-2,width:g};e.css(i);c._appendMoveHint(e)},_adjustLeftPosition:function(a){var b=this._view;if(b._isRtl){a-=b.content[0].scrollWidth-b.content[0].offsetWidth}return a}});var C=c.Class.extend({init:function(a){this._view=a},_getTimeSlotByPosition:function(a,b,c){var d=this._view.groups[c];return d.timeSlotByPosition(a,b,true)},_hideHeaders:function(){var a=this._view;if(!a._isVerticallyGrouped()){a.timesHeader.find("table tr").eq(2).hide();a.datesHeader.find("table tr").eq(2).hide()}else{a.times.find(".k-last").hide()}},_setColspan:function(){},_createRowsLayout:function(a,b,c,d){var e=this._view;return e._createDateLayout(d,null,true)},_createVerticalColumnsLayout:function(a,b,c){var d=this._view;return d._createColumnsLayout(a,null,c)},_createColumnsLayout:function(a,b,c,d){var e=this._view;return e._createColumnsLayout(a,b,c,d,true)},_getRowCount:function(a){var b=this._view;return b._rowCountForLevel(a)},_getGroupsCount:function(){var a=this._view;return a._groupCount()},_addContent:function(a,b,d,f,g,h,i,j){var k=this._view;var l="";var m=k.options;var o=function(b,d,e,f,g,h){var j="";var l="";var n;var o=k._isVerticallyGrouped()?t:v;var p=function(a){return function(){return k._resourceBySlot({groupIndex:a})}};if(c.date.isToday(a[v])){l+="k-today"}if(c.date.getMilliseconds(b)<c.date.getMilliseconds(m.workDayStart)||c.date.getMilliseconds(b)>=c.date.getMilliseconds(m.workDayEnd)||!k._isWorkDay(a[o])){l+=" k-nonwork-hour"}j+="<td"+(l!==""?' class="'+l+'"':"")+">";n=c.date.getDate(a[v]);c.date.setTime(n,c.date.getMilliseconds(b));j+=i({date:n,resources:p(h)});j+="</td>";return j};var p=new Date(g),q=k.options.minorTickCount,r=k.options.majorTick*n,s=r/q||1,t;for(var u=0;u<f;u++){l+="<tr>";if(u%(f/k._dates.length)===0){t=u/(f/k._dates.length);p=new Date(k._dates[t]);c.date.setTime(p,c.date.getMilliseconds(g))}for(var v=0,w=b;v<w;v++){l+=k._forTimeRange(p,h,o,j,d);if(j){e(p,s,false);break}}l+="</tr>"}return l},_addTimeSlotsCollections:function(a,b,c,d,e){var f=this._view;var g=c.length;if(e){g=g/b}for(var h=0;h<b;h++){var i=0;var j;if(e){i=h}var k=i*g;var m=0;var n=c[k].children;var o=e?g:n.length/(b*a);var p=n.length/b;var q;j=l(new Date(+f.startTime()));for(var r=0;r<o;r++){if(!e){q=h*p+a*r;m++}else{q=0;n=c[r+o*h].children}for(var s=0;s<a;s++){var t=f.groups[s];f._addTimeSlotToCollection(t,n,s,q,h,j,d)}j+=d}}},_getVerticalGroupCount:function(){var a=this._view;return a.content.find("tr").length},_getVerticalRowCount:function(a,b,c){return c},_renderEvent:function(a,b,c,d,e,f,g,h){var i=this._view;var j;var k=[];for(var l=e.start.index;l<=e.end.index;l++){j=i._createEventElement(c.occurrence,b,l!==h,l!==g);j.appendTo(f).css({top:0,height:i.options.eventHeight});var m=d._timeSlotCollections[0]._slots[l];var n=d.timeSlotRanges(m.start,m.end,false)[0];var o={start:l===g?c.occurrence._startTime||c.occurrence.start:m.start,end:l===h?c.occurrence._endTime||c.occurrence.end:m.end,element:j,uid:b.uid,slotRange:n,rowIndex:0,offsetTop:0};a.events[b.uid]=o;k.push(o);i.addContinuousEvent(d,n,j,b.isAllDay);i._arrangeRows(o,n,a)}a.events[b.uid]=k},_verticalCountForLevel:function(a){var b=this._view;return b._columnCountForLevel(a)},_horizontalCountForLevel:function(a,b){var c=this._view;return c._columnCountForLevel(b)/c._columnCountForLevel(2)},_updateCurrentVerticalTimeMarker:function(b,c){var d=this._view;var e=d.times.find("tr:first th:first");var f=d.times.find("tr:first th:last");var i="<div class='"+o+"'></div>";var j=a(i).prependTo(d.times);var k=Math.round(b[0].innerRect(c,new Date(c.getTime()+1),false).top);var l={};if(this._isRtl){l.right=e.position().left+h(e)-h(f);j.addClass(p+"-left")}else{l.left=f.position().left;j.addClass(p+"-right")}l.top=k-g(j)*r/2;j.css(l);a(i).prependTo(d.content).css({top:k,height:"1px",right:"1px",width:d.content[0].scrollWidth,left:0})},_changeGroup:function(a,b,c){var d=this._view;if(!c){a.groupIndex=b?d.groups.length-1:0}},_prevGroupSlot:function(a){return a},_nextGroupSlot:function(a){return a},_changeDate:function(a,b,c){var d=this._view;var e=d.groups[a.groupIndex];var f,g;if(b){f=e._getCollections(false);g=c.index-1;if(g>=0){return f[0]._slots[g]}}else{f=e._getCollections(false);g=c.index+1;if(f[0]&&f[0]._slots[g]){return f[0]._slots[g]}}},_verticalSlots:function(a,b,c){return this._changeDate(a,b,c)},_verticalMethod:function(a,b){if(b){return a?"upSlot":"downSlot"}else{return a?"leftSlot":"rightSlot"}},_normalizeVerticalSelection:function(a,c,d,e){var f=this._view;if(!e){return f._normalizeVerticalSelection(a,c,d)}return b},_horizontalSlots:function(a,b,c,d,e,f,g){var h=this._view;var i=h._changeGroup(a,g);var j={};if(!i){if(!h._isVerticallyGrouped()){j.startSlot=b[c](d);j.endSlot=b[c](e)}}else{j.startSlot=j.endSlot=i}return j},_changeVerticalViewPeriod:function(a,b,c,d){var e=this._view;if((!a.startSlot||!a.endSlot)&&!b&&e._changeViewPeriod(c,d,e._isVerticallyGrouped())){return true}return false},_changeHorizontalViewPeriod:function(a,b,c,d){var e=this._view;if(e._isVerticallyGrouped()){return false}if((!a.startSlot||!a.endSlot)&&!b&&e._changeViewPeriod(c,d,false)){return true}return false},_updateDirection:function(a,b,c,d){var e=this._view;e._updateDirection(a,b,c,d,!e._isVerticallyGrouped())},_createMoveHint:function(a,b){var c=this._view;var d=a.start;var e=a.end;for(var f=d.index;f<=e.index;f++){var g=a.collection._slots[f];var h=c._createEventElement(b.occurrence,b.occurrence,false,false);h.addClass("k-event-drag-hint");var i={left:g.offsetLeft+2,top:g.offsetTop,height:c.options.eventHeight,width:g.offsetWidth};h.css(i);c._appendMoveHint(h)}},_adjustLeftPosition:function(a){var b=this._view;if(b._isRtl&&!b._isVerticallyGrouped()){a-=b.content[0].scrollWidth-b.content[0].offsetWidth}return a}});c.ui.scheduler.TimelineGroupedView=B;c.ui.scheduler.TimelineGroupedByDateView=C;var D=f.extend({init:function(a,b){var c=this;f.fn.init.call(c,a,b);c._groupedView=c._getGroupedView();c.title=c.options.title||c.options.name;c._workDays=x(c.options);c._templates();c._editable();c.calculateDateRange();c._groups();c._currentTime(true)},name:"timeline",_getGroupedView:function(){if(this._isGroupedByDate()){return new c.ui.scheduler.TimelineGroupedByDateView(this)}else{return new c.ui.scheduler.TimelineGroupedView(this)}},_getNextEventIndexBySlot:function(a,b,d){if(this._isVerticallyGrouped()){return c.ui.SchedulerView.fn._getNextEventIndexBySlot.call(this,a,b,d)}var e=0;for(var f=0;f<b.length;f++){if(a.startDate()>b[f].start.startDate()){e++;continue}if(a.startDate().getTime()===b[f].start.startDate().getTime()&&d>b[f].start.groupIndex){e++;continue}break}return e},_getSelectedSlot:function(a,b,d,e,f,g){if(this._isVerticallyGrouped()){return c.ui.SchedulerView.fn._getSelectedSlot.call(this,a,b,d,e,f,g)}return a},_getSortedEvents:function(b){if(this._isVerticallyGrouped()){return c.ui.SchedulerView.fn._getSortedEvents.call(this,b)}return b.sort(function(b,c){var d=b.start.startDate().getTime()-c.start.startDate().getTime();if(d===0){if(b.start.isDaySlot&&!c.start.isDaySlot){d=-1}if(!b.start.isDaySlot&&c.start.isDaySlot){d=1}}if(d===0){d=b.start.groupIndex-c.start.groupIndex}if(d===0){d=a(b.element).index()-a(c.element).index()}return d})},_currentTimeMarkerUpdater:function(){this._updateCurrentTimeMarker(new Date)},_updateCurrentTimeMarker:function(b){var d=this.options;this.datesHeader.find("."+o).remove();this.times.find("."+o).remove();this.content.find("."+o).remove();if(!this._isInDateSlot({start:b,end:b})){return}if(d.currentTimeMarker.useLocalTimezone===false){var e=d.dataSource.options.schema.timezone;if(d.dataSource&&e){var f=c.timezone.offset(b,e);b=c.timezone.convert(b,b.getTimezoneOffset(),f)}}var h=!d.group||d.group.orientation=="vertical"?1:this.groups.length;for(var i=0;i<h;i++){var j=this.groups[i];if(!j){return}var k=c.date.toUtcTime(b);var l=j.timeSlotRanges(k,k+1);if(l.length===0){return}var m=l[0].collection;var n=m.slotByStartDate(b);if(n){if(this._isVerticallyGrouped()){this._groupedView._updateCurrentVerticalTimeMarker(l,b)}else{var s="<div class='"+o+"'></div>";var t=this.datesHeader.find("."+q);var u=Math.round(l[0].innerRect(b,new Date(b.getTime()+1),false).left);var v=a(s).prependTo(t).addClass(p+"-down");v.css({left:this._adjustLeftPosition(u-g(v)*r/2),top:t.find("tr:last").prev().position().top});a(s).prependTo(this.content).css({left:this._adjustLeftPosition(u),width:"1px",height:this.content[0].scrollHeight-1,top:0})}}}},_adjustLeftPosition:function(a){return this._groupedView._adjustLeftPosition(a)},_currentTime:function(a){var c=this;var d=c.options.currentTimeMarker;if(d!==false&&d.updateInterval!==b){c._currentTimeMarkerUpdater();if(a){c._currentTimeUpdateTimer=setInterval(j(this._currentTimeMarkerUpdater,c),d.updateInterval)}}},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var b=this;b.element.on("click"+s,".k-event a:has(.k-i-close)",function(d){b.trigger("remove",{uid:a(this).closest(".k-event").attr(c.attr("uid"))});d.preventDefault()});if(b.options.editable.create!==false){b.element.on("dblclick"+s,".k-scheduler-content td",function(a){var c=b._slotByPosition(a.pageX,a.pageY);if(c){var d=b._resourceBySlot(c);b.trigger("add",{eventInfo:i({start:c.startDate(),end:c.endDate()},d)})}a.preventDefault()})}if(b.options.editable.update!==false){b.element.on("dblclick"+s,".k-event",function(d){b.trigger("edit",{uid:a(this).closest(".k-event").attr(c.attr("uid"))});d.preventDefault()})}},_touchEditable:function(){var d=this;var e=0;if(c.support.mobileOS.android){e=5}if(d.options.editable.create!==false){d._addUserEvents=new c.UserEvents(d.element,{threshold:e,useClickAsTap:!c.support.browser.edge,filter:".k-scheduler-content td",tap:function(a){if(d._scrolling){return}var c=a.x.location!==b?a.x.location:a.x;var e=a.y.location!==b?a.y.location:a.y;var f=d._slotByPosition(c,e);if(f){var g=d._resourceBySlot(f);d.trigger("add",{eventInfo:i({start:f.startDate(),end:f.endDate()},g)})}a.preventDefault()}})}if(d.options.editable.update!==false){d._editUserEvents=new c.UserEvents(d.element,{threshold:e,useClickAsTap:!c.support.browser.edge,filter:".k-event",tap:function(b){if(d._scrolling){return}var e=a(b.target).closest(".k-event");if(!e.hasClass("k-event-active")){d.trigger("edit",{uid:e.attr(c.attr("uid"))})}b.preventDefault()}})}},_slotByPosition:function(a,b){var d;var e=this.content;var f=e.offset();var g;a-=f.left;b-=f.top;if(this._isRtl){var h=c.support.browser;if(h.mozilla){a+=e[0].scrollWidth-e[0].offsetWidth;a+=e[0].scrollLeft}else if(h.msie){a-=e.scrollLeft();a+=e[0].scrollWidth-e[0].offsetWidth}else if(h.webkit){a+=e[0].scrollLeft}}else{a+=e[0].scrollLeft}b+=e[0].scrollTop;a=Math.ceil(a);b=Math.ceil(b);for(g=0;g<this.groups.length;g++){d=this._groupedView._getTimeSlotByPosition(a,b,g);if(d){return d}}return null},options:{name:"TimelineView",title:"Timeline",selectedDateFormat:"{0:D}",selectedShortDateFormat:"{0:d}",date:c.date.today(),startTime:c.date.today(),endTime:c.date.today(),showWorkHours:false,minorTickCount:2,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,majorTick:60,eventHeight:25,eventMinWidth:0,columnWidth:100,groupHeaderTemplate:"#=text#",majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",slotTemplate:"&nbsp;",eventTemplate:t,dateHeaderTemplate:u,footer:{command:"workDay"},currentTimeMarker:{updateInterval:1e4,useLocalTimezone:true},messages:{defaultRowText:"All events",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var a=this.options,b=i({},c.Template,a.templateSettings);this.eventTemplate=this._eventTmpl(a.eventTemplate,v);this.majorTimeHeaderTemplate=c.template(a.majorTimeHeaderTemplate,b);this.dateHeaderTemplate=c.template(a.dateHeaderTemplate,b);this.slotTemplate=c.template(a.slotTemplate,b);this.groupHeaderTemplate=c.template(a.groupHeaderTemplate,b)},_render:function(b){var c=this;b=b||[];c._dates=b;c._startDate=b[0];c._endDate=b[b.length-1||0];c._calculateSlotRanges();c.createLayout(c._layout(b));c._content(b);c._footer();c._setContentWidth();c.refreshLayout();c.datesHeader.on("click"+s,".k-nav-day",function(b){var d=a(b.currentTarget).closest("th");var e=c._slotByPosition(d.offset().left,c.content.offset().top);c.trigger("navigate",{view:"timeline",date:e.startDate()})});c._groupedView._hideHeaders()},_setContentWidth:function(){var a=this.content;var b=a.width();var c=this.content.find("table");var d=c.find("tr:first").children().length;var e=100;var f=d*this.options.columnWidth;if(b<f){e=Math.ceil(f/b*100)}c.add(this.datesHeader.find("table")).css("width",e+"%")},_calculateSlotRanges:function(){var a=this._dates;var b=this.startTime();var d=this.endTime();d=l(d);b=l(b);if(d===b){d+=m-1}else if(d<b){d+=m}var f=[];for(var g=0;g<a.length;g++){var h=k(a[g]);e(h,b);var i=k(a[g]);e(i,d);f.push({start:c.date.toUtcTime(h),end:c.date.toUtcTime(i)})}this._slotRanges=f},_forTimeRange:function(a,b,c,d,f){a=w(a);b=w(b);var g=this,h=l(a),i=l(b),j=g.options.minorTickCount,k=g.options.majorTick*n,o=k/j||1,p=new Date(+a),q=0,r,s="";r=m/o;if(h!=i){if(h>i){i+=m}r=(i-h)/o}r=d?1:Math.round(r);if(f){r=r*f}for(;q<r;q++){var t=q%(k/o);var u=t===0;var v=t<j-1;var x=t===j-1;var y=j;if(r%j!==0){var z=r-(q+1)<j;if(u&&z){y=r%j}}s+=c(p,u,v,x,y,q%f);if(!d){if(f){if(q%f===f-1){e(p,o,false)}}else{e(p,o,false)}}}return s},_layout:function(a){var b=[];var c=[];var d=this;var e=[{text:d.options.messages.defaultRowText}];var f=d._groupedView;var g=[];for(var h=0;h<d.options.minorTickCount;h++){g.push({text:"&#8203;",className:"k-last",minorTicks:true})}this._forTimeRange(d.startTime(),d.endTime(),function(a,c,e,h,i){var j=d.majorTimeHeaderTemplate;if(c){var k={text:j({date:a}),className:h?"k-slot-cell":"",columns:g.slice(0,i)};f._setColspan(k);b.push(k)}});for(var i=0;i<a.length;i++){c.push({text:d.dateHeaderTemplate({date:a[i]}),className:"k-slot-cell",columns:b.slice(0)})}var j=this.groupedResources;if(j.length){if(this._groupOrientation()==="vertical"){e=f._createRowsLayout(j,null,this.groupHeaderTemplate,c);c=f._createVerticalColumnsLayout(j,null,this.groupHeaderTemplate,c)}else{c=f._createColumnsLayout(j,c,this.groupHeaderTemplate,c)}}return{columns:c,rows:e}},_footer:function(){var b=this.options;if(b.footer!==false){var c='<div class="k-header k-scheduler-footer">';var d=b.footer.command;if(d&&d==="workDay"){c+='<ul class="k-reset k-header">';c+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';c+=(b.showWorkHours?b.messages.showFullDay:b.messages.showWorkDay)+"</a></li>";c+="</ul>"}else{c+="&nbsp;"}c+="</div>";this.footer=a(c).appendTo(this.element);var e=this;this.footer.on("click"+s,".k-scheduler-fullday",function(a){a.preventDefault();e.trigger("navigate",{view:e.name||b.name,date:e.startDate(),isWorkDay:!b.showWorkHours})})}},_columnCountForLevel:function(a){var b=this.columnLevels[a];return b?b.length:0},_rowCountForLevel:function(a){var b=this.rowLevels[a];return b?b.length:0},_isWorkDay:function(a){var b=a.getDay();var c=this._workDays;for(var d=0;d<c.length;d++){if(c[d]===b){return true}}return false},_content:function(a){var b=this;var c=b.startTime();var d=this.endTime();var e=1;var f=1;var g=a.length;var h="";var i=this.groupedResources;var j=this.slotTemplate;var k=false;if(i.length){k=b._groupOrientation()==="vertical";if(k){f=b._groupedView._getRowCount(this.rowLevels.length-1);e=b._groupedView._getGroupsCount()}else{e=b._groupCount()}}h+="<tbody>";h+=b._groupedView._addContent(a,g,e,f,c,d,j,k);h+="</tbody>";this.content.find("table").append(h)},_groups:function(){var a=this._groupCount();var b=this._dates;var d=b.length;this.groups=[];for(var f=0;f<a;f++){var g=this._addResourceView(f);var h=b[0];var i=b[b.length-1||0];var j=l(this.startTime());var m=l(this.endTime());if(j!==0&&m<=j){h=k(h);e(h,j);i=k(i);e(i,m)}g.addTimeSlotCollection(h,c.date.addDays(i,1))}this._timeSlotGroups(a,d)},_isHorizontallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="horizontal"},_timeSlotGroups:function(a,b){var c=this._timeSlotInterval();var d=this._isVerticallyGrouped();var e=this.content.find("tr");e.attr("role","row");this._groupedView._addTimeSlotsCollections(a,b,e,c,d)},_addTimeSlotToCollection:function(a,b,c,d,e,f,g){var h=b[c+d];var i=a.getTimeSlotCollection(0);var j=this._dates[e];var k=Date.UTC(j.getFullYear(),j.getMonth(),j.getDate());var l=k+f;var m=l+g;h.setAttribute("role","gridcell");h.setAttribute("aria-selected",false);i.addTimeSlot(h,l,m,true)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},visibleEndDate:function(){var a=l(this.startTime());var b=l(this.endTime());var d=this.endDate();if(a!==0&&b<=a){d=c.date.addDays(d,1)}return d},startTime:function(){var a=this.options;return a.showWorkHours?a.workDayStart:a.startTime},endTime:function(){var a=this.options;return a.showWorkHours?a.workDayEnd:a.endTime},_timeSlotInterval:function(){var a=this.options;return a.majorTick/a.minorTickCount*n},nextDate:function(){return c.date.nextDay(this.endDate())},previousDate:function(){return c.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},render:function(a){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();a=new c.data.Query(a).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var b=[];this._eventsByResource(a,this.groupedResources,b);var d=[];var e=0;for(var f=0;f<b.length;f++){var g={groupIndex:f,maxRowCount:0,events:{}};d.push(g);this._renderEvents(b[f],f,g);if(e<g.maxRowCount){e=g.maxRowCount}}this._setRowsHeight(d,b.length,e);this._positionEvents(d,b.length);this._currentTime(false);this.trigger("activate")},_positionEvents:function(b,c){for(var d=0;d<c;d++){var e=b[d].events;for(var f in e){var g=e[f];if(a.isArray(g)){for(var h=0;h<g.length;h++){this._positionEvent(g[h])}}else{this._positionEvent(g)}}}},_setRowsHeight:function(b,c,d){var e=this.options.eventHeight+2;var f=this._getBottomRowOffset();var g=this._groupedView;var h=g._getVerticalGroupCount(c);c=this._isVerticallyGrouped()?h:1;for(var i=0;i<c;i++){var j=g._getVerticalRowCount(b,i,d);j=j?j:1;var k=(e+2)*j+f;var l=a(this.times.find("tr")[i]);var m=a(this.content.find("tr")[i]);l.height(k);m.height(k)}this._setContentWidth();this.refreshLayout();this._refreshSlots()},_getBottomRowOffset:function(){var a=this.options.eventHeight*.5;var b=this._isMobile();var c;var d;if(b){c=30;d=60}else{c=15;d=30}if(a>d){a=d}else if(a<c){a=c}return a},_positionEvent:function(a){var b=this.options.eventHeight+2;var c=a.slotRange.innerRect(a.start,a.end,false);var d=this._adjustLeftPosition(c.left);var e=c.right-c.left-2;if(e<0){e=0}if(e<this.options.eventMinWidth){var f=a.slotRange.collection;var g=f._slots[f._slots.length-1];var h=g.offsetLeft+g.offsetWidth;e=this.options.eventMinWidth;if(h<d+e){e=h-c.left-2}}a.element.css({top:a.slotRange.start.offsetTop+a.rowIndex*(b+2)+"px",left:d,width:e})},_refreshSlots:function(){for(var a=0;a<this.groups.length;a++){this.groups[a].refresh()}},_eventsByResource:function(a,b,d){var e=b[0];if(e){var g=e.dataSource.view();for(var h=0;h<g.length;h++){var i=this._resourceValue(e,g[h]);var j=new c.data.Query(a).filter({field:e.field,operator:f.groupEqFilter(i)}).toArray();if(b.length>1){this._eventsByResource(j,b.slice(1),d)}else{d.push(j)}}}else{d.push(a)}},_isInDateSlot:function(a){var b=a.start;var d=a.end;var e=k(this._startDate);var f=c.date.addDays(k(this.visibleEndDate()),1);if(b<f&&e<=d){return true}return false},_isInTimeSlot:function(a){var b=a._startTime||c.date.toUtcTime(a.start);var d=a._endTime||c.date.toUtcTime(a.end);var e=this._slotRanges;if(b===d){d=d+1}for(var f=0;f<e.length;f++){if(b<e[f].end&&e[f].start<d){return true}}return false},_adjustEvent:function(a){var b=a.start;var d=a.end;var f=a._time("start");var g=a._time("end");var h=l(this.startTime());var i=l(this.endTime());var j=null;var n=null;var o;var p=false;var q=false;if(a.isAllDay){b=k(b);f=0;d=k(d);g=m;n=c.date.addDays(d,1)}if(i===0){i=m}if(i<=h){if(f<h&&f>=i){j=k(b);e(j,h);q=true}if(g>i&&g<=h){n=k(d);e(n,i);p=true}}else{if(h>f){j=k(b);e(j,h);q=true}else if(i<=f){j=k(b);j=c.date.addDays(j,1);e(j,h);q=true}if(i<g){n=k(d);e(n,i);p=true}else if(h>g){n=k(d);n=c.date.addDays(n,-1);e(n,i);p=true}}o=a.clone({start:j?j:b,end:n?n:d,_startTime:j?c.date.toUtcTime(j):a._startTime,_endTime:n?c.date.toUtcTime(n):a._endTime,isAllDay:false});return{occurrence:o,head:p,tail:q}},_renderEvents:function(a,b,c){var d;var e;var f;for(e=0,f=a.length;e<f;e++){d=a[e];if(this._isInDateSlot(d)){var g=d.isAllDay||d.duration()>=m;var h=this.content;if(g||this._isInTimeSlot(d)){var i=this._adjustEvent(d);var j=this.groups[b];if(!j._continuousEvents){j._continuousEvents=[]}if(this._isInTimeSlot(i.occurrence)){var k=j.slotRanges(i.occurrence,false);var l=k[0];var n=l.start.index;var o=l.end.index;this._groupedView._renderEvent(c,d,i,j,l,h,n,o)}}}}},addContinuousEvent:function(a,b,d,e){var f=a._continuousEvents;f.push({element:d,isAllDay:e,uid:d.attr(c.attr("uid")),start:b.start,end:b.end})},_createEventElement:function(b,d,e,f){var g=this.eventTemplate;var h=this.options.editable;var j=this._isMobile();var k=h&&h.destroy!==false&&!j;var l=h&&h.resize!==false;var m=d._time("start");var n=d._time("end");var o=d.start;var p=d.end;var q=this.eventResources(d);if(d._startTime&&m!==c.date.getMilliseconds(d.start)){o=new Date(m);o=c.timezone.apply(o,"Etc/UTC")}if(d._endTime&&n!==c.date.getMilliseconds(d.end)){p=new Date(n);p=c.timezone.apply(p,"Etc/UTC")}var r=i({},{ns:c.ns,resizable:l,showDelete:k,head:e,tail:f,singleDay:this._dates.length==1,resources:q,inverseColor:q&&q[0]?this._shouldInverseResourceColor(q[0]):false,messages:this.options.messages},d,{start:o,end:p});var s=a(g(r));this.angular("compile",function(){return{elements:s,data:[{dataItem:r}]}});return s},_arrangeRows:function(a,b,c){var d=b.start.index;var e=b.end.index;var g=a.slotRange.innerRect(a.start,a.end,false);var h=g.right+this.options.eventMinWidth;var i=z(b.events(),g.left,h);b.addEvent({slotIndex:d,start:d,end:e,rectLeft:g.left,rectRight:h,element:a.element,uid:a.uid});i.push({start:d,end:e,uid:a.uid});var j=f.createRows(i);if(c.maxRowCount<j.length){c.maxRowCount=j.length}for(var k=0,l=j.length;k<l;k++){var m=j[k].events;for(var n=0,o=m.length;n<o;n++){c.events[m[n].uid].rowIndex=k}}},_groupCount:function(){var a=this.groupedResources;var b=this._groupedView;if(a.length){if(this._groupOrientation()==="vertical"){return b._verticalCountForLevel(a.length-1)}else{return b._horizontalCountForLevel(a.length-1,this.columnLevels.length-1)}}return 1},_updateEventForSelection:function(a){var b=this._adjustEvent(a.clone());return b.occurrence},_eventOptionsForMove:function(a){if(a.isAllDay){return{isAllDay:false}}return{}},_updateEventForResize:function(a){if(a.isAllDay){a.set("isAllDay",false)}},_updateMoveHint:function(a,b,c){var d=this.groups[b];var e=a.clone({start:a.start,end:a.end});var f=e.duration();e.start=new Date(e.start.getTime()+c);e.end=new Date(+e.start+f);this._removeMoveHint(a.uid);if(this._isInDateSlot(e)){if(e.isAllDay||e.duration()>=m||this._isInTimeSlot(e)){var g=this._adjustEvent(e);var h=d.slotRanges(g.occurrence,false);for(var i=0;i<h.length;i++){this._groupedView._createMoveHint(h[i],g)}}}},_appendMoveHint:function(a){a.appendTo(this.content);this._moveHint=this._moveHint.add(a)},_updateResizeHint:function(a,b,d,e){var g=this.groups[b];var h=g.ranges(d,e,false,false);this._removeResizeHint();for(var i=0;i<h.length;i++){var j=h[i];var k=j.startSlot();var l=j.innerRect(d,e,false);l.top=k.offsetTop;var m=l.right-l.left;if(m<0){for(var n=0;n<j.events().length;n++){if(j.events()[n].uid===a.uid){m=j.events()[n].rectRight-l.left;break}}}var o=j.endSlot().offsetTop+k.offsetHeight-l.top;var p=this._adjustLeftPosition(l.left);var q=f.fn._createResizeHint.call(this,p,l.top,m,o);this._resizeHint=this._resizeHint.add(q)}var r="t";var s=this.content;this._resizeHint.appendTo(s);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(c.toString(c.timezone.toLocalDate(d),r));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(c.toString(c.timezone.toLocalDate(e),r))},selectionByElement:function(a){var b=a.offset();return this._slotByPosition(b.left,b.top)},_updateDirection:function(a,b,c,d,e){var f=b[0].start;var g=b[b.length-1].end;if(c&&!e){if(f.index===g.index&&f.collectionIndex===g.collectionIndex){a.backward=d}}},_changeGroup:function(a,b){var c=b?"prevGroupSlot":"nextGroupSlot";var d=this[c](a.start,a.groupIndex,false);if(d){a.groupIndex+=b?-1:1}this._groupedView._changeGroup(a,b,d);return d},prevGroupSlot:function(a,b,c){var d=this.groups[b];var e=d.ranges(a,a,c,false)[0].start;if(b<=0){return}return this._groupedView._prevGroupSlot(e,d,c)},nextGroupSlot:function(a,b,c){var d=this.groups[b];var e=d.ranges(a,a,c,false)[0].start;if(b>=this.groups.length-1){return}return this._groupedView._nextGroupSlot(e,d,c)},_verticalSlots:function(a,b,c,d){var e=this._groupedView;var f=e._verticalMethod(d,c);var g=b[0].start;var h=b[b.length-1].end;var i=this.groups[a.groupIndex];var j=e._normalizeVerticalSelection(a,b,d,c);if(j){g=h=j}g=i[f](g);h=i[f](h);if(!c&&this._isVerticallyGrouped()&&(!g||!h)){g=h=e._verticalSlots(a,d,j)}return{startSlot:g,endSlot:h}},_horizontalSlots:function(a,b,c,d){var e=d?"upSlot":"downSlot";var f=b[0].start;var g=b[b.length-1].end;var h=this.groups[a.groupIndex];var i={};if(!c){i=this._groupedView._horizontalSlots(a,h,e,f,g,c,d)}else{i.startSlot=h[e](f);i.endSlot=h[e](g);if(!c&&this._isHorizontallyGrouped()&&(!f||!g)){i.startSlot=i.endSlot=this._changeGroup(a,d)}}return i},_changeViewPeriod:function(a,b){var c=b?this.previousDate():this.nextDate();var d=a.start;var f=a.end;var g,h;g=new Date(c);h=new Date(c);if(this._isInRange(g,h)){return false}a.start=g;a.end=h;if(this._isHorizontallyGrouped()){a.groupIndex=b?this.groups.length-1:0}var i=f-d;if(b){f=l(this.endTime());f=f===0?m:f;e(a.start,f-i);e(a.end,f)}else{d=l(this.startTime());e(a.start,d);e(a.end,d+i)}a.events=[];return true},move:function(a,b,d){var e=false;var f=this.groups[a.groupIndex];var g=c.keys;var h=this._groupedView;var i=f.ranges(a.start,a.end,false,false);var j,k,l,m;if(b===g.DOWN||b===g.UP){e=true;l=b===g.UP;h._updateDirection(a,i,d,l);m=this._verticalSlots(a,i,d,l);if(h._changeVerticalViewPeriod(m,d,a,l)){return e}}else if(b===g.LEFT||b===g.RIGHT){e=true;l=b===g.LEFT;this._updateDirection(a,i,d,l,false);m=this._horizontalSlots(a,i,d,l);if(h._changeHorizontalViewPeriod(m,d,a,l)){return e}}if(e){j=m.startSlot;k=m.endSlot;if(d){var n=a.backward;if(n&&j){a.start=j.startDate()}else if(!n&&k){a.end=k.endDate()}}else if(j&&k){a.start=j.startDate();a.end=k.endDate()}a.events=[]}return e},destroy:function(){var a=this;if(a.element){a.element.off(s)}if(a.footer){a.footer.remove()}if(a._currentTimeUpdateTimer){clearInterval(a._currentTimeUpdateTimer)}f.fn.destroy.call(this);if(this._isMobile()&&a.options.editable){if(a.options.editable.create!==false){a._addUserEvents.destroy()}if(a.options.editable.update!==false){a._editUserEvents.destroy()}}}});i(true,d,{TimelineView:D,TimelineWeekView:D.extend({options:{name:"TimelineWeekView",title:"Timeline Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWeek",calculateDateRange:function(){var a=this.options.date,b=c.date.dayOfWeek(a,this.calendarInfo().firstDay,-1),d,e,f=[];for(d=0,e=7;d<e;d++){f.push(b);b=c.date.nextDay(b)}this._render(f)}}),TimelineWorkWeekView:D.extend({options:{name:"TimelineWorkWeekView",title:"Timeline Work Week",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",majorTick:120},name:"timelineWorkWeek",nextDate:function(){var a=c.date.dayOfWeek(c.date.nextDay(this.endDate()),this.calendarInfo().firstDay,1);return c.date.addDays(a,this._workDays[0])},previousDate:function(){var a=c.date.dayOfWeek(this.startDate(),this.calendarInfo().firstDay,-1);var b=this._workDays;return c.date.addDays(a,b[b.length-1]-7)},calculateDateRange:function(){var a=this.options.date,b=c.date.dayOfWeek(a,this.options.workWeekStart,-1),d=c.date.dayOfWeek(b,this.options.workWeekEnd,1),e=[];while(b<=d){e.push(b);b=c.date.nextDay(b)}this._render(e)}}),TimelineMonthView:D.extend({options:{name:"TimelineMonthView",title:"Timeline Month",selectedDateFormat:"{0:D} - {1:D}",selectedShortDateFormat:"{0:d} - {1:d}",workDayStart:new Date(1980,1,1,0,0,0),workDayEnd:new Date(1980,1,1,23,59,59),footer:false,majorTick:1440,minorTickCount:1},name:"timelineMonth",calculateDateRange:function(){var a=this.options.date,b=c.date.firstDayOfMonth(a),d=c.date.lastDayOfMonth(a),e,f,g=[];for(e=0,f=d.getDate();e<f;e++){g.push(b);b=c.date.nextDay(b)}this._render(g)}})})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.scheduler",["kendo.dropdownlist","kendo.editable","kendo.multiselect","kendo.window","kendo.datetimepicker","kendo.scheduler.recurrence","kendo.scheduler.view","kendo.scheduler.dayview","kendo.scheduler.agendaview","kendo.scheduler.monthview","kendo.scheduler.timelineview","kendo.mobile.actionsheet","kendo.mobile.pane","kendo.pdf"],a)})(function(){var a={id:"scheduler",name:"Scheduler",category:"web",description:"The Scheduler is an event calendar.",depends:["dropdownlist","editable","multiselect","window","datepicker","datetimepicker","scheduler.recurrence","scheduler.view"],features:[{id:"scheduler-dayview",name:"Scheduler Day View",description:"Scheduler Day View",depends:["scheduler.dayview"]},{id:"scheduler-agendaview",name:"Scheduler Agenda View",description:"Scheduler Agenda View",depends:["scheduler.agendaview"]},{id:"scheduler-monthview",name:"Scheduler Month View",description:"Scheduler Month View",depends:["scheduler.monthview"]},{id:"scheduler-timelineview",name:"Scheduler Timeline View",description:"Scheduler Timeline View",depends:["scheduler.timelineview"]},{id:"scheduler-mobile",name:"Scheduler adaptive rendering",description:"Support for adaptive rendering",depends:["mobile.actionsheet","mobile.pane"]},{id:"scheduler-pdf-export",name:"PDF export",description:"Export the scheduler events as PDF",depends:["pdf","drawing"]},{id:"scheduler-timezones",name:"Timezones",description:"Allow selecting timezones different than Etc/UTC",depends:["timezones"]}]};(function(a,b){var c=window.kendo,d=c.date,e=c.support.input,f=d.MS_PER_DAY,g=d.getDate,h=c.date.getMilliseconds,i=c.recurrence,j=a.extend({F10:121},c.keys),k=c.ui,l=k.Widget,m=k.DataBoundWidget,n="string",o=k.Popup,p=k.Calendar,q=c.data.DataSource,r=a.isPlainObject,s=a.extend,t=a.proxy,u=Object.prototype.toString,v=a.isArray,w=".kendoScheduler",x="click",y="mousedown",z=c.support.pointers?"pointerdown":"touchstart",A=c.support.pointers?"pointermove":"touchmove",B=c.support.pointers?"pointerup":"touchend",C=c.support.mousemove,D="change",E="cancel",F="remove",G="save",H="add",I="edit",J="k-state-focused",K="k-state-expanded",L=".k-scheduler-views",M=/(?:value:start|value:end)(?:,|$)/,N=g(new Date),O=",",P=/\;/g,Q="recurrenceException",R="Are you sure you want to delete this event?",S="Do you want to delete only this event occurrence or the whole series?",T="Do you want to edit only this event occurrence or the whole series?",U="Are you sure you want to delete this event occurrence?",V="Are you sure you want to delete the whole series?",W='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',X=c.template('<li class="k-current-view" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'),Y=c.template('<div class="k-floatwrap k-header k-scheduler-toolbar">'+"# if (pdf) { #"+'<ul class="k-reset k-scheduler-tools">'+'<li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-file-pdf"></span>${messages.pdf}</a></li>'+"</ul>"+"# } #"+'<ul class="k-reset k-scheduler-navigation">'+'<li class="k-state-default k-header k-nav-today"><a role="button" href="\\#" class="k-link" title="${messages.today}">${messages.today}</a></li>'+'<li class="k-state-default k-header k-nav-prev"><a role="button" href="\\#" class="k-link" title="${messages.previous}" aria-label="${messages.previous}"><span class="k-icon k-i-arrow-60-left" style="pointer-events: none"></span></a></li>'+'<li class="k-state-default k-header k-nav-next"><a role="button" href="\\#" class="k-link" title="${messages.next}" aria-label="${messages.next}"><span class="k-icon k-i-arrow-60-right" style="pointer-events: none"></span></a></li>'+'<li class="k-state-default k-nav-current">'+'<a role="button" href="\\#" class="k-link">'+'<span class="k-icon k-i-calendar"></span>'+'<span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span>'+'<span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span>'+"</a>"+"</li>"+"</ul>"+"#if(viewsCount === 1){#"+'<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh">'+'<span class="k-icon k-i-reload"></span>'+"</a>"+"#}else{#"+'<ul class="k-reset k-header k-scheduler-views">'+"#for(var view in views){#"+'<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'+"#}#"+"</ul>"+"#}#"+"</div>"),Z=c.template('<div class="k-floatwrap k-header k-scheduler-toolbar">'+"# if (pdf) { #"+'<ul class="k-reset k-scheduler-tools">'+'<li><a role="button" href="\\#" class="k-button k-pdf"><span class="k-icon k-i-file-pdf"></span>${messages.pdf}</a></li>'+"</ul>"+"# } #"+'<ul class="k-reset k-header k-scheduler-navigation">'+'<li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li>'+"</ul>"+"#if(viewsCount === 1){#"+'<a role="button" data-#=ns#name="#=view#" href="\\#" class="k-link k-scheduler-refresh">'+'<span class="k-icon k-i-reload"></span>'+"</a>"+"#}else{#"+'<ul class="k-reset k-header k-scheduler-views">'+"#for(var view in views){#"+'<li class="k-state-default k-view-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>'+"#}#"+"</ul>"+"#}#"+"</div>"+'<div class="k-floatwrap k-header k-scheduler-toolbar">'+'<ul class="k-reset k-header k-scheduler-navigation">'+'<li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-60-left"></span></a></li>'+'<li class="k-state-default k-nav-current">'+'<span class="k-sm-date-format" data-#=ns#bind="text: formattedShortDate"></span>'+'<span class="k-lg-date-format" data-#=ns#bind="text: formattedDate"></span>'+"</li>"+'<li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-60-right"></span></a></li>'+"</ul>"+"</div>"),$=function(b,d){
var f={name:d.field,title:d.title};var g=!e.date?c.attr("role")+'="datepicker" ':"";var h=c.attr("role")+'="datetimepicker" ';var i=d.model.isAllDay;var j=c.attr("validate")+"='"+!i+"'";var k=c.attr("validate")+"='"+i+"'";ha(f,d);ia(f,d);a('<input type="datetime-local" required '+c.attr("type")+'="date" '+h+c.attr("bind")+'="value:'+d.field+',invisible:isAllDay" '+j+"/>").attr(f).appendTo(b);a('<input type="date" required '+c.attr("type")+'="date" '+g+c.attr("bind")+'="value:'+d.field+',visible:isAllDay" '+k+"/>").attr(f).appendTo(b);a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},_=function(b,d){var e={name:d.field,title:d.title},f=d.model.isAllDay,g=c.attr("validate")+"='"+!f+"' ",h=c.attr("validate")+"='"+f+"' ";ha(e,d);ia(e,d);a('<input type="text" required '+c.attr("type")+'="date"'+" "+c.attr("role")+'="datetimepicker" '+c.attr("bind")+'="value:'+d.field+',invisible:isAllDay" '+g+"/>").attr(e).appendTo(b);a('<input type="text" required '+c.attr("type")+'="date"'+" "+c.attr("role")+'="datepicker" '+c.attr("bind")+'="value:'+d.field+',visible:isAllDay" '+h+"/>").attr(e).appendTo(b);a("<span "+c.attr("bind")+'="text: '+d.field+'Timezone"></span>').appendTo(b);if(d.field==="end"){a("<span "+c.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(b)}a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},aa=function(b,d){a("<div "+c.attr("bind")+'="value:'+d.field+'" />').attr({name:d.field}).appendTo(b).kendoRecurrenceEditor({start:d.model.start,timezone:d.timezone,messages:d.messages})},ba=function(b,d){a("<div "+c.attr("bind")+'="value:'+d.field+'" />').attr({name:d.field}).appendTo(b).kendoMobileRecurrenceEditor({start:d.model.start,timezone:d.timezone,messages:d.messages,pane:d.pane,value:d.model[d.field]})},ca=function(b,c){var d=ga(c.model,c.messages.noTimezone);a('<a href="#" class="k-button k-timezone-button" data-bind="invisible:isAllDay">'+d+"</a>").click(c.click).appendTo(b)},da=function(b,c){a('<a href="#" class="k-button" data-bind="invisible:isAllDay">'+c.messages.timezoneEditorButton+"</a>").click(c.click).appendTo(b)},ea=function(b,d){a("<div "+c.attr("bind")+'="value:'+d.field+'" />').attr({name:d.field}).toggle(d.visible).appendTo(b).kendoMobileTimezoneEditor({optionLabel:d.noTimezone})},fa=function(d,e){var f=e.visible||e.visible===b;a("<div "+c.attr("bind")+'="value:'+e.field+'" />').attr({name:e.field}).toggle(f).appendTo(d).kendoTimezoneEditor({optionLabel:e.noTimezone,title:e.title})};function ga(a,b){b=b||"";if(a.startTimezone){b=a.startTimezone;if(a.endTimezone){b+=" | "+a.endTimezone}}return b}function ha(a,b){var d=b.timezone;if(d){a[c.attr("timezone")]=d}}function ia(a,b){var d=b.model.fields[b.field].validation;if(d){var e=d.dateCompare;if(e&&r(e)&&e.message){a[c.attr("dateCompare-msg")]=e.message}}}function ja(a,b){return function(c){c=a(c);la(c,"apply",b);return c||[]}}function ka(a,b){return function(d){if(d){if(u.call(d)!=="[object Array]"&&!(d instanceof c.data.ObservableArray)){d=[d]}}la(d,"remove",b,true);d=a(d);return d||[]}}function la(a,b,d,e){var f,g,h;a=a||[];for(g=0,h=a.length;g<h;g++){f=a[g];if(e){if(f.startTimezone||f.endTimezone){if(d){f.start=c.timezone.convert(f.start,f.startTimezone||f.endTimezone,d);f.end=c.timezone.convert(f.end,f.endTimezone||f.startTimezone,d);f.start=c.timezone[b](f.start,d);f.end=c.timezone[b](f.end,d)}else{f.start=c.timezone[b](f.start,f.startTimezone||f.endTimezone);f.end=c.timezone[b](f.end,f.endTimezone||f.startTimezone)}}else if(d){f.start=c.timezone[b](f.start,d);f.end=c.timezone[b](f.end,d)}}else{if(f.startTimezone||f.endTimezone){f.start=c.timezone[b](f.start,f.startTimezone||f.endTimezone);f.end=c.timezone[b](f.end,f.endTimezone||f.startTimezone);if(d){f.start=c.timezone.convert(f.start,f.startTimezone||f.endTimezone,d);f.end=c.timezone.convert(f.end,f.endTimezone||f.startTimezone,d)}}else if(d){f.start=c.timezone[b](f.start,d);f.end=c.timezone[b](f.end,d)}}if(e){delete f.uid}}return a}function ma(a,b){var c=a.length,d=0,e;for(;d<c;d++){e=a[d];if(e.uid===b){return e}}}var na=c.Class.extend({init:function(b,c){var d=b.timezone;this.reader=c;if(c.model){this.model=c.model}this.timezone=d;this.data=ja(a.proxy(this.data,this),d);this.serialize=ka(a.proxy(this.serialize,this),d)},errors:function(a){return this.reader.errors(a)},parse:function(a){return this.reader.parse(a)},data:function(a){return this.reader.data(a)},total:function(a){return this.reader.total(a)},groups:function(a){return this.reader.groups(a)},aggregates:function(a){return this.reader.aggregates(a)},serialize:function(a){return this.reader.serialize(a)}});function oa(a,b,d){if(d){a=c.timezone.convert(a,b,d)}else{a=c.timezone.remove(a,b)}return a}function pa(a){if(a.filter("[name=end]").length){var b=a.closest(".k-scheduler-edit-form");var d=b.find("[name=start]:visible");var e=b.find("[name=end]:visible");if(e[0]&&d[0]){var f,g;var h=c.widgetInstance(d,c.ui);var i=c.widgetInstance(e,c.ui);var j=b.data("kendoEditable");var k=j?j.options.model:null;if(h&&i){f=h.value();g=i.value()}else{f=c.parseDate(d.val());g=c.parseDate(e.val())}if(f&&g){if(k){var l=d.attr(c.attr("timezone"));var m=k.startTimezone;var n=k.endTimezone;m=m||n;n=n||m;if(m){f=oa(f,m,l);g=oa(g,n,l)}}return f<=g}}}return true}var qa=c.data.Model.define({init:function(a){var b=this;c.data.Model.fn.init.call(b,a);b._defaultId=b.defaults[b.idField]},_time:function(a){var b=this[a];var d="_"+a+"Time";if(this[d]){return this[d]-c.date.toUtcTime(c.date.getDate(b))}return h(b)},_date:function(a){var b="_"+a+"Time";if(this[b]){return this[b]-this._time(a)}return c.date.getDate(this[a])},clone:function(b,c){var d=this.uid,e=new this.constructor(a.extend({},this.toJSON(),b));if(!c){e.uid=d}return e},duration:function(){var a=this.end;var b=this.start;var d=(a.getTimezoneOffset()-b.getTimezoneOffset())*c.date.MS_PER_MINUTE;return a-b-d},expand:function(a,b,c){return i?i.expand(this,a,b,c):[this]},update:function(a){for(var b in a){this.set(b,a[b])}if(this._startTime){this.set("_startTime",c.date.toUtcTime(this.start))}if(this._endTime){this.set("_endTime",c.date.toUtcTime(this.end))}},isMultiDay:function(){return this.isAllDay||this.duration()>=c.date.MS_PER_DAY},isException:function(){return!this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!!(this.recurrenceRule||this.recurrenceId)},isRecurrenceHead:function(){return!!(this.id&&this.recurrenceRule)},toOccurrence:function(b){b=a.extend(b,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId});b[this.idField]=this.defaults[this.idField];return this.clone(b,true)},toJSON:function(){var a=c.data.Model.fn.toJSON.call(this);a.uid=this.uid;delete a._startTime;delete a._endTime;return a},shouldSerialize:function(a){return c.data.Model.fn.shouldSerialize.call(this,a)&&a!=="_defaultId"},set:function(a,b){var d=this.isAllDay||false;c.data.Model.fn.set.call(this,a,b);if(a=="isAllDay"&&b!=d){var e=c.date.getDate(this.start);var g=new Date(this.end);var h=c.date.getMilliseconds(g);if(h===0&&b){h=f}this.set("start",e);if(b===true){c.date.setTime(g,-h);if(g<e){g=e}}else{c.date.setTime(g,f-h)}this.set("end",g)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:true}},startTimezone:{type:"string"},end:{type:"date",validation:{required:true,dateCompare:{value:pa}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:false},description:{type:"string"}}});var ra=q.extend({init:function(a){q.fn.init.call(this,s(true,{},{schema:{modelBase:qa,model:qa}},a));this.reader=new na(this.options.schema,this.reader)},expand:function(a,b){var d=this.view(),e={},g;if(a&&b){g=b.getTimezoneOffset();b=new Date(b.getTime()+f-1);if(b.getTimezoneOffset()!==g){b=c.timezone.apply(b,g)}e={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:a},{field:"end",operator:"gte",value:a},{field:"start",operator:"lte",value:b}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(a.getTime()+f-1)},{field:"end",operator:"gte",value:a}]}]};d=new c.data.Query(sa(d,a,b,this.reader.timezone)).filter(e).toArray()}return d},cancelChanges:function(a){if(a&&a.isOccurrence()){this._removeExceptionDate(a)}q.fn.cancelChanges.call(this,a)},insert:function(a,b){if(!b){return}if(!(b instanceof qa)){var c=b;b=this._createNewModel();b.accept(c)}if(!this._pushCreated&&b.isRecurrenceHead()||b.recurrenceId){b=b.recurrenceId?b:b.toOccurrence();this._addExceptionDate(b)}return q.fn.insert.call(this,a,b)},pushCreate:function(a){this._pushCreated=true;q.fn.pushCreate.call(this,a);this._pushCreated=false},remove:function(a){if(a.isRecurrenceHead()){this._removeExceptions(a)}else if(a.isRecurring()){this._addExceptionDate(a)}return q.fn.remove.call(this,a)},_removeExceptions:function(a){var b=this.data().slice(0),c=b.shift(),d=a.id;while(c){if(c.recurrenceId===d){q.fn.remove.call(this,c)}c=b.shift()}a.set(Q,"")},_removeExceptionDate:function(a){if(a.recurrenceId){var b=this.get(a.recurrenceId);if(b){var c=a.defaults.start;var d=new RegExp("(\\"+O+"?)"+i.toExceptionString(c,this.reader.timezone));var e=(b.recurrenceException||"").replace(P,O).replace(/\,$/,"");if(d.test(e)){b.set(Q,e.replace(d,""))}else{c=a.start;d=new RegExp("(\\"+O+"?)"+i.toExceptionString(c,this.reader.timezone));b.set(Q,e.replace(d,""))}}}},_addExceptionDate:function(a){var b=a.start;var c=this.reader.timezone;var d=this.get(a.recurrenceId);var e=(d.recurrenceException||"").replace(P,O).replace(/\,$/,"");if(!i.isException(e,b,c)){var f=i.toExceptionString(b,c);a.defaults.start=b;d.set(Q,e+(e&&f?O:"")+f)}}});function sa(a,b,c,d){var e=a.length,f=[],g=0;for(;g<e;g++){f=f.concat(a[g].expand(b,c,d))}return f}ra.create=function(a){if(v(a)||a instanceof c.data.ObservableArray){a={data:a}}var b=a||{},d=b.data;b.data=d;if(!(b instanceof ra)&&b instanceof c.data.DataSource){throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")}return b instanceof ra?b:new ra(b)};s(true,c.data,{SchedulerDataSource:ra,SchedulerDataReader:na,SchedulerEvent:qa});var ta={update:{text:"Save",className:"k-primary k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-i-close",className:"k-primary k-scheduler-delete",iconClass:"k-icon"}};function ua(a){delete a.name;delete a.prefix;delete a.remove;delete a.edit;delete a.add;delete a.navigate;return a}function va(b,d){var e=(b.fields||b)[d];var f=["url","email","number","date","boolean"];var g=e?e.validation:{};var h=c.attr("type");var i=a.inArray;var j;var k;var l={};for(j in g){k=g[j];if(i(j,f)>=0){l[h]=j}else if(!c.isFunction(k)){l[j]=r(k)?k.value||j:k}l[c.attr(j+"-msg")]=k.message}return l}function wa(b,d){var e=va(d,b.field);return function(f){a(c.format('<select data-{0}bind="value:{1}" title="'+d.title+'">',c.ns,b.field)).appendTo(f).attr(e).kendoDropDownList({dataTextField:b.dataTextField,dataValueField:b.dataValueField,dataSource:b.dataSource,valuePrimitive:b.valuePrimitive,optionLabel:"None",template:c.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField)})}}function xa(b){var c=va(b.model,b.field);return function(b,d){a('<textarea name="description" class="k-textbox" title="'+d.title+'"/>').attr(c).appendTo(b)}}function ya(b,d){var e=va(d,b.field);return function(d){a(c.format('<select data-{0}bind="value:{1}">',c.ns,b.field)).appendTo(d).attr(e).kendoMultiSelect({dataTextField:b.dataTextField,dataValueField:b.dataValueField,dataSource:b.dataSource,valuePrimitive:b.valuePrimitive,itemTemplate:c.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField),tagTemplate:c.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField)})}}function za(b,d){var e=va(d,b.field);return function(d){var f="";var g=b.dataSource.view();for(var h=0,i=g.length;h<i;h++){f+=c.format('<option value="{0}">{1}</option>',c.getter(b.dataValueField)(g[h]),c.getter(b.dataTextField)(g[h]))}a(c.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',c.ns,b.field,f,b.valuePrimitive)).appendTo(d).attr(e)}}function Aa(a,b){var d=a.end.getTime()-a.start.getTime();var e=new Date(a.start.getTime());c.date.setTime(e,b);var f=new Date(e.getTime());c.date.setTime(f,d,true);return{start:e,end:f}}var Ba={mobile:{dateRange:$,timezonePopUp:ca,timezone:ea,recurrence:ba,description:xa,multipleResources:za,resources:wa},desktop:{dateRange:_,timezonePopUp:da,timezone:fa,recurrence:aa,description:xa,multipleResources:ya,resources:wa}};var Ca=c.Observable.extend({init:function(a,b){c.Observable.fn.init.call(this);this.element=a;this.options=s(true,{},this.options,b);this.createButton=this.options.createButton;this.toggleDateValidationHandler=t(this._toggleDateValidation,this)},_toggleDateValidation:function(b){if(b.field=="isAllDay"){var d=this.container,e=this.editable.options.model.isAllDay,f=c.attr("bind"),g,h,i;d.find("["+f+"*=end],["+f+"*=start]").each(function(){g=a(this);if(M.test(g.attr(f))){h=g.is("["+c.attr("role")+"=datetimepicker],[type*=datetime]");i=e!==h;g.attr(c.attr("validate"),i)}})}},fields:function(a,b){var d=this;var e=d.options.messages;var f=d.options.timezone;var g=function(a){a.preventDefault();d._initTimezoneEditor(b,this)};var h=[{field:"title",title:e.editor.title},{field:"start",title:e.editor.start,editor:a.dateRange,timezone:f},{field:"end",title:e.editor.end,editor:a.dateRange,timezone:f},{field:"isAllDay",title:e.editor.allDayEvent}];if(c.timezone.windows_zones){h.push({field:"timezone",title:e.editor.timezone,editor:a.timezonePopUp,click:g,messages:e.editor,model:b});h.push({field:"startTimezone",title:e.editor.startTimezone,editor:a.timezone,noTimezone:e.editor.noTimezone});h.push({field:"endTimezone",title:e.editor.endTimezone,editor:a.timezone,noTimezone:e.editor.noTimezone})}if(!b.recurrenceId){h.push({field:"recurrenceRule",title:e.editor.repeat,editor:a.recurrence,timezone:f,messages:e.recurrenceEditor,pane:this.pane})}if("description"in b){h.push({field:"description",title:e.editor.description,editor:a.description({model:b,field:"description"})})}for(var i=0;i<this.options.resources.length;i++){var j=this.options.resources[i];h.push({field:j.field,title:j.title,editor:j.multiple?a.multipleResources(j,b):a.resources(j,b)})}return h},end:function(){return this.editable.end()},_buildEditTemplate:function(a,b,d){var e=this.options.messages;var f=s({},c.Template,this.options.templateSettings);var g=f.paramName;var h=this.options.editable.template;var i="";if(h){if(typeof h===n){h=window.unescape(h)}i+=c.template(h,f)(a)}else{for(var j=0,k=b.length;j<k;j++){var l=b[j];if(l.field==="startTimezone"){i+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';i+='<div class="k-edit-form-container">';i+='<div class="k-edit-label"></div>';i+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+e.editor.separateTimezones+"</label></div>"}i+='<div class="k-edit-label"><label for="'+l.field+'">'+(l.title||l.field||"")+"</label></div>";if(!a.editable||a.editable(l.field)){d.push(l);i+="<div "+c.attr("container-for")+'="'+l.field+'" class="k-edit-field"></div>'}else{var m="#:";if(l.field){l=c.expr(l.field,g);m+=l+"==null?'':"+l}else{m+="''"}m+="#";m=c.template(m,f);i+='<div class="k-edit-field">'+m(a)+"</div>"}if(l.field==="endTimezone"){i+=this._createEndTimezoneButton()}}}return i},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(a){a.set("startTimezone",this._startTimezone);a.set("endTimezone",this._endTimezone);delete this._startTimezone;delete this._endTimezone}});var Da=Ca.extend({init:function(){Ca.fn.init.apply(this,arguments);this.pane=c.mobile.ui.Pane.wrap(this.element);this.pane.element.parent().css("height",this.options.height);this.view=this.pane.view();this._actionSheetButtonTemplate=c.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>');this._actionSheetPopupOptions=a(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close();this.unbind();this.pane.destroy()},_initTimezoneEditor:function(b){var c=this;var d=c.pane;var e=c.options.messages;var f=c.timezoneView;var g=c.container.find(".k-scheduler-timezones");var h=g.find(".k-timezone-toggle");var i=g.find(".k-edit-label:last").add(g.find(".k-edit-field:last"));var j=function(a){if(a.field==="startTimezone"){var c=b.startTimezone;h.prop("disabled",!c);if(!c){i.hide();b.set("endTimezone","");h.prop("checked",false)}}};c._startTimezone=b.startTimezone||"";c._endTimezone=b.endTimezone||"";if(!f){var k='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list">'+'<div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+e.cancel+"</a>"+e.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+e.save+"</a></div></div>";this.timezoneView=f=d.append(k);f.contentElement().append(g.show());f.element.on(x+w,".k-scheduler-cancel, .k-scheduler-update",function(f){f.preventDefault();f.stopPropagation();if(a(this).hasClass("k-scheduler-cancel")){c._revertTimezones(b)}b.unbind("change",j);var g=d.element.find("#edit").data("kendoMobileView");var h=ga(b,e.editor.noTimezone);g.contentElement().find(".k-timezone-button").text(h);d.navigate(g,c.options.animations.right)});h.click(function(){i.toggle(h.prop("checked"));b.set("endTimezone","")});b.bind("change",j)}h.prop("checked",b.endTimezone).prop("disabled",!b.startTimezone);if(b.endTimezone){i.show()}else{i.hide()}d.navigate(f,c.options.animations.left)},_createActionSheetButton:function(a){a.template=this._actionSheetButtonTemplate;return this.createButton(a)},showDialog:function(b){var d="";var e='<ul><li class="km-actionsheet-title">'+b.title+"</li>";var f=this.element.find(".k-event["+c.attr("uid")+"='"+b.model.uid+"']");if(this.container){f=this.container.find(".k-scheduler-delete");if(f[0]){d="phone"}}for(var g=0;g<b.buttons.length;g++){e+=this._createActionSheetButton(b.buttons[g])}e+="</ul>";var h=a(e).appendTo(this.pane.view().element).kendoMobileActionSheet({type:d,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(c){var d=h.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(a(c.currentTarget));if(d>-1){h.close();b.buttons[d].click()}},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");h.open(f)},editEvent:function(b){var d=this.pane;var e="";var f=this.options.messages;var g=f.save;var h=f.destroy;var i=f.cancel;var j=f.editor.editorTitle;e+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+c.attr("uid")+'="'+b.uid+'">'+'<div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+i+"</a>"+j+'<a href="#" class="k-button k-scheduler-update">'+g+"</a></div>";var k=this.fields(Ba.mobile,b);var l=this;var m=[];e+=this._buildEditTemplate(b,k,m);if(!b.isNew()&&this.options.editable&&this.options.editable.destroy!==false){e+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+h+"</a></div>"}e+="</div>";var n=d.append(e);var o=this.container=n.element;this.editable=o.kendoEditable({fields:m,model:b,clearContainer:false,target:l.options.target,validateOnBlur:true}).data("kendoEditable");o.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){a(this).next().children("input").click()});if(!this.trigger("edit",{container:o,model:b})){o.on(x+w,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(c){c.preventDefault();c.stopPropagation();var e=a(this);if(!e.hasClass("k-scheduler-edit")){var f="cancel";if(e.hasClass("k-scheduler-update")){f="save"}else if(e.hasClass("k-scheduler-delete")){f="remove"}l.trigger(f,{container:o,model:b})}else{d.navigate("#edit",l.options.animations.right)}});d.navigate(n,l.options.animations.left);b.bind("change",l.toggleDateValidationHandler)}else{this.trigger("cancel",{container:o,model:b})}return this.editable},_views:function(){return this.pane.element.find(c.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);var a=this._views();var b;for(var c=0,d=a.length;c<d;c++){b=a.eq(c).data("kendoMobileView");if(b){b.purge()}}a.remove();this.container=null;if(this.editable){this.editable.options.model.unbind("change",this.toggleDateValidationHandler);this.editable.destroy();this.editable=null}this.timezoneView=null}}});var Ea=Ca.extend({destroy:function(){this.close();this.unbind()},editEvent:function(b){var d=this;var e=d.options.editable;var f="<div "+c.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">';var g=d.options.messages;var h=g.save;var i=g.cancel;var j=g.destroy;var k=this.fields(Ba.desktop,b);var l=[];f+=this._buildEditTemplate(b,k,l);var m;var n=r(e)?e.window:{};f+='<div class="k-edit-buttons k-state-default">';f+=this.createButton({name:"update",text:h,attr:m})+this.createButton({name:"canceledit",text:i,attr:m});if(!b.isNew()&&e.destroy!==false){f+=this.createButton({name:"delete",text:j,attr:m})}f+="</div></div></div>";var o=this.container=a(f).appendTo(d.element).eq(0).kendoWindow(s({modal:true,resizable:false,draggable:true,title:g.editor.editorTitle,visible:false,close:function(a){if(a.userTriggered){if(d.trigger(E,{container:o,model:b})){a.preventDefault()}}}},n));d.editable=o.kendoEditable({fields:l,model:b,clearContainer:false,validateOnBlur:true,target:d.options.target}).data("kendoEditable");if(!d.trigger(I,{container:o,model:b})){o.data("kendoWindow").center().open();o.on(x+w,"a.k-scheduler-cancel",function(a){a.preventDefault();a.stopPropagation();d.trigger(E,{container:o,model:b})});o.on(x+w,"a.k-scheduler-update",function(a){a.preventDefault();a.stopPropagation();d.trigger("save",{container:o,model:b})});o.on(x+w,"a.k-scheduler-delete",function(a){a.preventDefault();a.stopPropagation();d.trigger(F,{container:o,model:b})});c.cycleForm(o);b.bind("change",d.toggleDateValidationHandler)}else{d.trigger(E,{container:o,model:b})}return d.editable},close:function(){var a=this;var b=function(){if(a.editable){a.editable.options.model.unbind("change",a.toggleDateValidationHandler);a.editable.destroy();a.editable=null;a.container=null}if(a.popup){a.popup.destroy();a.popup=null}};if(a.editable){if(a._timezonePopup&&a._timezonePopup.data("kendoWindow")){a._timezonePopup.data("kendoWindow").destroy();a._timezonePopup=null}if(a.container.is(":visible")){a.container.data("kendoWindow").bind("deactivate",b).close()}else{b()}}else{b()}},_createEndTimezoneButton:function(){var a=this.options.messages;var b="";b+='<div class="k-edit-buttons k-state-default">';b+=this.createButton({name:"savetimezone",text:a.save})+this.createButton({name:"canceltimezone",text:a.cancel});b+="</div></div></div>";return b},showDialog:function(b){var d=c.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",b.text);d+='<div class="k-edit-buttons k-state-default">';for(var e=0;e<b.buttons.length;e++){d+=this.createButton(b.buttons[e])}d+="</div></div></div>";var f=this.element;if(this.popup){this.popup.destroy()}var g=this.popup=a(d).appendTo(f).eq(0).on(x,".k-button",function(c){c.preventDefault();g.close();var d=a(c.currentTarget).index();b.buttons[d].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:b.title,visible:false,close:function(){this.destroy();f.focus()}}).getKendoWindow();g.center().open()},_initTimezoneEditor:function(a,b){var c=this;var d=c.container.find(".k-scheduler-timezones");var e=d.find(".k-timezone-toggle");var f=d.find(".k-edit-label:last").add(d.find(".k-edit-field:last"));var g=d.find(".k-scheduler-savetimezone");var h=d.find(".k-scheduler-canceltimezone");var i=c._timezonePopup;var j=function(b){if(b.field==="startTimezone"){var c=a.startTimezone;e.prop("disabled",!c);if(!c){f.hide();a.set("endTimezone","");e.prop("checked",false)}}};var k;c._startTimezone=a.startTimezone;c._endTimezone=a.endTimezone;if(!i){c._timezonePopup=i=d.kendoWindow({modal:true,resizable:false,draggable:true,title:c.options.messages.editor.timezoneEditorTitle,visible:false,close:function(d){a.unbind("change",j);if(d.userTriggered){c._revertTimezones(a)}if(b){b.focus()}}});e.click(function(){f.toggle(e.prop("checked"));a.set("endTimezone","")});g.click(function(a){a.preventDefault();k.close()});h.click(function(b){b.preventDefault();c._revertTimezones(a);k.close()});a.bind("change",j)}e.prop("checked",a.endTimezone).prop("disabled",!a.startTimezone);if(a.endTimezone){f.show()}else{f.hide()}k=i.data("kendoWindow");k.center().open()}});var Fa=m.extend({init:function(b,d){var e=this;l.fn.init.call(e,b,d);if(!e.options.views||!e.options.views.length){e.options.views=["day","week"]}e.resources=[];e._initModel();e._wrapper();e._views();e._toolbar();e._dataSource();e._resources();e._resizeHandler=function(){e.resize()};e.wrapper.on(y+w+" selectstart"+w,function(b){if(!a(b.target).is(":kendoFocusable")){b.preventDefault()}});if(e.options.editable&&e.options.editable.resize!==false){e._resizable()}e._movable();e._bindResize();if(e.options.messages&&e.options.messages.recurrence){i.options=e.options.messages.recurrence}e._selectable();e._touchHandlers();e._ariaId=c.guid();e._createEditor()},_bindResize:function(){a(window).on("resize"+w,this._resizeHandler)},_unbindResize:function(){a(window).off("resize"+w,this._resizeHandler)},dataItems:function(){var c=this;var d=c.items();var e=c._data;var f=a.map(d,function(b){return a(b).attr("data-uid")});var g;var h;var i={};var j=f.length;for(g=0;g<j;g++){i[f[g]]=null}var k=e.length;for(g=0;g<k;g++){var l=e[g];if(i[l.uid]!==b){i[l.uid]=l}}var m=[];for(h in i){m.push(i[h])}return m},_isMobile:function(){var a=this.options;return a.mobile===true&&c.support.mobileOS||a.mobile==="phone"||a.mobile==="tablet"},_isTouch:function(a){return/touch/.test(a.type)||a.originalEvent&&/touch/.test(a.originalEvent.pointerType)},_isMobilePhoneView:function(){var a=this.options;return a.mobile===true&&c.support.mobileOS&&!c.support.mobileOS.tablet||a.mobile==="phone"},_groupsByResource:function(a,b,d,e,f){if(!d){d=[]}var g=a[0];if(g){var h;var i=g.dataSource.view();var j=0;for(var k=0;k<i.length;k++){var l=c.getter(g.dataValueField)(i[k]);var m=b+j+k;h=this._groupsByResource(a.slice(1),m,d,l,g.field);h[g.field]=l;j=h.groupIndex;if(f&&e){h[f]=e}if(a.length===1){h.groupIndex=b+k;d.push(h)}}return h}else{return{}}},data:function(){return this._data},select:function(d){var e=this;var f=e.view();var h=e._selection;var i=f.groups;var j;if(d===b){var k;var l=f._selectedSlots;if(!h){return[]}if(h&&h.events){k=e._selectedEvents()}return{start:h.start,end:h.end,events:k,slots:l,resources:f._resourceBySlot(h)}}if(!d){e._selection=null;e._old=null;f.clearSelection();return}if(a.isArray(d)){d={events:d.splice(0)}}if(d.resources){var m;var n=[];var o=[];if(f.groupedResources){e._groupsByResource(f.groupedResources,0,o)}for(m in d.resources){n.push({field:m,operator:"eq",value:d.resources[m]})}j=new c.data.Query(o).filter(n).toArray()}if(d.events&&d.events.length){e._selectEvents(d.events,j);e._select();return}if(i&&(d.start&&d.end)){var p=g(f._startDate);var q=c.date.addDays(g(f._endDate),1);var r;var s;if(d.start<q&&p<=d.end){if(j&&j.length){r=i[j[0].groupIndex]}else{r=i[0]}s=r.ranges(d.start,d.end,d.isAllDay,false);if(s.length){e._selection={start:c.timezone.toLocalDate(s[0].start.start),end:c.timezone.toLocalDate(s[s.length-1].end.end),groupIndex:s[0].start.groupIndex,index:s[0].start.index,isAllDay:s[0].start.isDaySlot,events:[]};e._select()}}}},_selectEvents:function(a,b){var d=this;var e;var f=d.view();var g=f.groups;var h=a.length;var i=b&&b.length;for(e=0;e<h;e++){if(g&&i){var j=g[b[0].groupIndex];var k=[];var l=j.timeSlotCollectionCount();var m=j.daySlotCollectionCount();for(var n=0;n<l;n++){k=k.concat(j.getTimeSlotCollection(n).events())}for(var o=0;o<m;o++){k=k.concat(j.getDaySlotCollection(o).events())}k=new c.data.Query(k).filter({field:"element[0].getAttribute('data-uid')",operator:"eq",value:a[e]}).toArray();if(k[0]){d._createSelection(k[0].element)}}else{var p=f.element.find(c.format(".k-event[data-uid={0}], .k-task[data-uid={0}]",a[e]));if(p.length){d._createSelection(p[0])}}}},_touchHandlers:function(){var b=this;var d;var e;var f;var g;var h;var i=b.wrapper;var j=a.proxy(b._touchMove,b);i.on(z+w,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(a){var c=b.wrapper.find(".k-scheduler-content");if(!b._isTouch(a)){return}c.stop(true,false);b._touchPosX=d=b._tapPosition(a,"X");b._touchPosY=e=b._tapPosition(a,"Y");b._userTouched=true;b.view()._scrolling=false;h=Date.now();i.on(A+w,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",j)});i.on(B+w,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(a){if(!b._isTouch(a)){return}var k=Date.now()-h;var l=b.wrapper.find(".k-scheduler-content");var m=-b._amplitude*(3e3/k);f=b._tapPosition(a,"X");g=b._tapPosition(a,"Y");if(b._dragging){return}if(b.options.selectable&&Math.abs(f-d)<=10||Math.abs(g-e)<=10){b._mouseDownSelection(a)}if(!c.support.kineticScrollNeeded&&k<200&&Math.abs(f-d)>10){l.animate({scrollTop:l[0].scrollTop+m})}i.off(A+w,".k-scheduler-header-all-day td, .k-scheduler-content td",j)})},_selectable:function(){var b=this;var c=b.wrapper;if(!b.options.selectable){return}b._tabindex();c.on(y+w,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(a){if(b._isTouch(a)){return}b._mouseDownSelection(a)});var d=a.proxy(b._mouseMove,b);c.on(y+w,".k-scheduler-header-all-day td, .k-scheduler-content td",function(a){var e=a.which;var f=a.button;var g=e&&e===3||f&&f==2;if(b._isTouch(a)){return}if(!g){c.on(C+w,".k-scheduler-header-all-day td, .k-scheduler-content td",d)}});c.on("mouseup"+w+" mousecancel"+w,function(){c.off(C+w,".k-scheduler-header-all-day td, .k-scheduler-content td",d)});c.on("focus"+w,function(){if(!b._selection&&!b._userTouched){b._selectFirstSlot()}b._select()});c.on("focusout"+w,function(c){b._ctrlKey=b._shiftKey=false;b.toolbar.find("ul > li").removeClass(J);if(!a(c.relatedTarget).closest(L).length){b.toolbar.find(L).removeClass(K)}});c.on("keydown"+w,t(b._keydown,b));c.on("keyup"+w,function(a){b._ctrlKey=a.ctrlKey;b._shiftKey=a.shiftKey})},_mouseDownSelection:function(a){var b=a.which;var d=a.button;var e=c.support.browser;var f=b&&b===3||d&&d==2;if(!f){if(a.ctrlKey){this._ctrlKey=a.ctrlKey}if(a.shiftKey){this._shiftKey=a.shiftKey}this._createSelection(a.currentTarget)}this.wrapper.focus();if(e.msie&&e.version<9){setTimeout(function(){this.wrapper.focus()})}this.toolbar.find("ul > li").removeClass(J)},_selectFirstSlot:function(){this._createSelection(this.wrapper.find(".k-scheduler-content").find("td:first"))},_select:function(){var b=this;var d=b.view();var e=b.wrapper;var f=d.current();var g=b._selection;var h=b._old?b._old.selection:null;var i=b._old?b._old.eventsLength:null;if(!g){return}if(f){f.removeAttribute("id");f.removeAttribute("aria-label");e.removeAttr("aria-activedescendant");
}d.select(g);f=d.current();if(f&&(h!==f||g.events&&i!==g.events.length)){var j=a(f).data("uid");if(b._old&&j&&j===a(b._old.selection).data("uid")&&(g.events&&b._old.eventsLength===g.events.length)){return}var k;var l=g;var m=b._selectedEvents();var n=d._selectedSlots;if(m[0]){l=m[0]||g;k=c.format(b.options.messages.ariaEventLabel,l.title,l.start,l.start)}else{k=c.format(b.options.messages.ariaSlotLabel,l.start,l.end)}f.setAttribute("id",b._ariaId);f.setAttribute("aria-label",k);e.attr("aria-activedescendant",b._ariaId);b._old={selection:f,eventsLength:m.length};b.trigger("change",{start:g.start,end:g.end,events:m,slots:n,resources:d._resourceBySlot(g)})}},_selectedEvents:function(){var a=this._selection.events;var b=a.length;var c=0;var d;var e=[];for(;c<b;c++){d=this.occurrenceByUid(a[c]);if(d){e.push(d)}}return e},_tapPosition:function(a,b){return/touch/.test(a.type)?(a.originalEvent||a).changedTouches[0]["page"+b]:a["page"+b]},_touchMove:function(a){var b=this;var d=b.wrapper.find(".k-scheduler-content");var e=d[0].scrollHeight>d[0].clientHeight;var f=d[0].scrollWidth>d[0].clientWidth;var g=b._tapPosition(a,"Y");var h=b._tapPosition(a,"X");var i=d[0].scrollTop-Math.round(g-b._touchPosY);var j=d[0].scrollLeft-Math.round(h-b._touchPosX);var k=e&&Math.abs(g-b._touchPosY)>10;var l=f&&Math.abs(g-b._touchPosY)>10;if(b._dragging||c.support.kineticScrollNeeded){return}if(k||l){b._amplitude=Math.round(g-b._touchPosY);b._touchPosY=g;b._touchPosX=h;d.animate({scrollTop:i,scrollLeft:j},0);b.view()._scrolling=true}},_mouseMove:function(b){var c=this;clearTimeout(c._moveTimer);if(c._isTouch(b)){return}c._moveTimer=setTimeout(function(){var d=c.view();var e=c._selection;if(e){var f=d.selectionByElement(a(b.currentTarget));if(f&&e.groupIndex===f.groupIndex){var g=f.startDate();var h=f.endDate();if(g>=e.end){e.backward=false}else if(h<=e.start){e.backward=true}if(e.backward){e.start=g}else{e.end=h}c._select()}}},5)},_viewByIndex:function(a){var b,c=this.views;for(b in c){if(!a){return b}a--}},_keydown:function(b){var d=this,e=b.keyCode,f=d.view(),g=f.options.editable,h=d._selection,i=a.extend(h),k=e===16||e===18||e===17||e===91||e===92,l=".k-scheduler-tools > li,"+".k-scheduler-navigation > li,"+".k-scheduler-views > li.k-state-selected:visible, "+".k-scheduler-views > li.k-current-view:visible",m=d.toolbar.find(l),n=d.toolbar.find(L),o=a(b.target).closest(L).length||d.toolbar.find(".k-scheduler-views .k-state-focused").length,p=n.children().index(d.toolbar.find("."+J)),q,r=c.support.isRtl(d.element),t=r?-1:1;if(p==-1){p=n.children().index(d.toolbar.find(".k-state-selected"))}d._ctrlKey=b.ctrlKey;d._shiftKey=b.shiftKey;if(e===j.F10){d.toolbar.find("ul > li:first").focus().addClass(J);b.preventDefault();return}else if(e===j.TAB){if(d.toolbar.find("."+J).length){var u=m.index(d.toolbar.find("."+J));if(u===-1&&d._focusedView){u=m.index(d.toolbar.find(".k-scheduler-views > .k-state-selected"))}var v=b.shiftKey?m[u-1]:m[u+1];d.toolbar.find("."+J).removeClass(J);if(v){a(v).addClass(J).focus();d._focusedView=null;b.preventDefault();return}else{d.element.focus();b.preventDefault();return}}}else if(e===j.ENTER||e===j.SPACEBAR){if(o&&d._focusedView&&!d._focusedView.hasClass("k-state-selected")){var w=d._focusedView.data().name;if(!d.trigger("navigate",{view:w,action:"changeView",date:d.date()})){d.view(w);n.removeClass(K);if(d.toolbar.find(".k-current-view:visible").length){a(document.activeElement).blur();d.toolbar.find(".k-current-view:visible").addClass(J).find(".k-link").focus()}}b.preventDefault();return}if(d.toolbar.find("."+J+":visible").length){d.toolbar.find("."+J+":visible").click();b.preventDefault();return}}else if(b.altKey&&e===j.DOWN){if(d.toolbar.find("."+J+":visible").length){d.toolbar.find("."+J+":visible").click();b.preventDefault();return}}else if(e===j.RIGHT&&o){a(d.toolbar.find("."+J)).removeClass(J);if(r){d._focusedView=p-1===0?a(n.children(":not(.k-current-view):last")):a(n.children()[p+1*t])}else{d._focusedView=p+1===n.children().length?a(n.children(":not(.k-current-view):first")):a(n.children()[p+1*t])}d._focusedView.focus().addClass(J);b.preventDefault();return}else if(e===j.LEFT&&o){a(d.toolbar.find("."+J)).removeClass(J);if(r){d._focusedView=p+1===n.children().length?a(n.children(":not(.k-current-view):first")):a(n.children()[p-1*t])}else{d._focusedView=p-1===0?a(n.children(":not(.k-current-view):last")):a(n.children()[p-1*t])}d._focusedView.focus().addClass(J);b.preventDefault();return}else if(e===j.DOWN&&d.toolbar.find(L).hasClass(K)){d.toolbar.find("."+J).removeClass(J);if(d._focusedView){q=n.find(d._focusedView).index()}else{q=n.children(".k-scheduler-views > .k-state-selected").index()}d._focusedView=q+1===n.children().length?a(n.children(":not(.k-current-view):first")):a(n.children()[q+1*t]);d._focusedView.focus().addClass(J);b.preventDefault();return}else if(e===j.UP&&d.toolbar.find(L).hasClass(K)){d.toolbar.find("."+J).removeClass(J);if(d._focusedView){q=n.find(d._focusedView).index()}else{q=n.children(".k-scheduler-views > .k-state-selected").index()}d._focusedView=q-1===0?a(n.children(":not(.k-current-view):last")):a(n.children()[q-1*t]);d._focusedView.focus().addClass(J);b.preventDefault();return}else if(b.altKey&&e===j.DOWN&&d.toolbar.find(".k-nav-current").hasClass(J)){d._showCalendar();b.preventDefault();return}else if(e===j.ESC&&d.popup&&d.popup.visible()){d.popup.close();b.preventDefault();return}else if(e===j.ESC&&d.toolbar.find(L).hasClass(K)){d.toolbar.find(L).removeClass(K);d.toolbar.find(L).children().removeClass(J);d._focusedView=null;d.toolbar.find(".k-current-view").focus().addClass(J);b.preventDefault();return}if(k){return}if(!h){d._selectFirstSlot();d._select();d.element.focus();return}if(e===j.TAB){if(f.moveToEvent(h,b.shiftKey)){d._select();d.element.focus();b.preventDefault()}}else if(e===j.ENTER||e===j.SPACEBAR){if(h.events.length&&g){if(g.update!==false){d.editEvent(h.events[0])}}else if(g&&g.create!==false){if(h.isAllDay){h=a.extend({},h,{end:c.date.addDays(h.end,-1)})}b.preventDefault();d.addEvent(s({},h,f._resourceBySlot(h)))}}else if(e===j.DELETE&&g!==false&&g.destroy!==false){d.removeEvent(h.events[0])}else if(e>=49&&e<=57){var x=d._viewByIndex(e-49);if(x&&!d.trigger("navigate",{view:x,action:"changeView",date:d.date()})){d.view(x)}}else if(f.move(h,e,b.shiftKey)){if(f.inRange(h)){d._select()}else{var y=d.date().getTime()>h.start.getTime()?"previous":"next";if(!d.trigger("navigate",{view:d._selectedViewName,action:y,date:h.start})){d.date(h.start)}else{h.start=i.start;h.end=i.end}}d.toolbar.find("ul > li").removeClass(J);b.preventDefault()}d._adjustSelectedDate()},_createSelection:function(b){var d=this._selection;var e;var f;b=a(b);if(b.is(".k-event")){e=b.attr(c.attr("uid"));if(d&&d.events.indexOf(e)!==-1&&!this._ctrlKey){return}}if(!d||!this._ctrlKey&&!this._shiftKey){d=this._selection={events:[],groupIndex:0}}f=this.view().selectionByElement(b);if(f){d.groupIndex=f.groupIndex||0}if(e){f=ma(this._data,e)}if(f&&f.uid){e=[f.uid]}this._updateSelection(f,e);this._adjustSelectedDate()},_updateSelection:function(a,d,e){var f=this._selection;if(a&&f){var g=this.view();if(a.uid){a=g._updateEventForSelection(a)}if(this._shiftKey&&f.start&&f.end){var h=a.end<f.end;f.end=a.endDate?a.endDate():a.end;if(h&&g._timeSlotInterval){c.date.setTime(f.end,-g._timeSlotInterval())}}else{f.start=a.startDate?a.startDate():a.start;f.end=a.endDate?a.endDate():a.end}if("isDaySlot"in a){f.isAllDay=a.isDaySlot}else{f.isAllDay=a.isAllDay}if(e!==null&&e!==b){f.groupIndex=e}f.index=a.index;if(this._ctrlKey){var i=d&&d.length?f.events.indexOf(d[0]):-1;if(i>-1){f.events.splice(i,1)}else{f.events=f.events.concat(d||[])}}else{f.events=d||[]}}},options:{name:"Scheduler",date:N,editable:true,autoBind:true,snap:true,mobile:false,timezone:"",allDaySlot:true,min:new Date(1900,0,1),max:new Date(2099,11,31),toolbar:null,footer:{},messages:{today:"Today",pdf:"Export to PDF",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",next:"Next",previous:"Previous",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month",timeline:"Timeline",timelineWeek:"Timeline Week",timelineWorkWeek:"Timeline Work Week",timelineMonth:"Timeline Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editable:{confirmation:R},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:"Timezone",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],orientation:"horizontal"},views:[],selectable:false},events:[F,I,E,G,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var b=this,d;l.fn.destroy.call(b);if(b.dataSource){b.dataSource.unbind(D,b._refreshHandler);b.dataSource.unbind("progress",b._progressHandler);b.dataSource.unbind("error",b._errorHandler)}if(b.calendar){b.calendar.destroy();b.popup.destroy()}if(b.view()){b.view().destroy()}if(b._editor){b._editor.destroy()}if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}d=b.element.add(b.wrapper).add(b.toolbar).add(b.popup);d.off(w);clearTimeout(b._moveTimer);b._model=null;b.toolbar=null;b.element=null;a(window).off("resize"+w,b._resizeHandler);c.destroy(b.wrapper)},setDataSource:function(a){this.options.dataSource=a;this._dataSource();if(this.options.autoBind&&a.fetch){a.fetch()}else{this.view(this._selectedView)}},items:function(){var a=this.wrapper.find(".k-scheduler-content");var b=this.view();if(b&&b.options.name==="agenda"){return a.find(".k-task")}else{return a.find(".k-event").add(this.wrapper.find(".k-scheduler-header-wrap").find(".k-scheduler-header-all-day").siblings())}},_movable:function(){var b;var d;var e;var f;var g;var h;var i;var j=this;var k;var l;var m;var n=0;var o=[];var p=[];var q=j._isMobile();var r=j.options.editable&&j.options.editable.move!==false;var s=j.options.editable&&j.options.editable.resize!==false;if(r||s&&q){j._dragging=false;if(q&&c.support.mobileOS.android){n=5}j._moveDraggable=new c.ui.Draggable(j.element,{distance:n,filter:".k-event",ignore:".k-resize-handle",holdToDrag:q,autoScroll:true});if(r){j._moveDraggable.bind("dragstart",function(a){var g=j.view();var n=a.currentTarget;var p=j._isTouch(a);j._dragging=true;if(!g.options.editable||g.options.editable.move===false){j._dragging=false;a.preventDefault();return}if(p&&!n.hasClass("k-event-active")){j._dragging=false;j.element.find(".k-event-active").removeClass("k-event-active");a.preventDefault();return}h=j.occurrenceByUid(n.attr(c.attr("uid")));i=h.clone();m=h.clone();i.update(g._eventOptionsForMove(i));o=[];if(j._selection){var q=j._selection.events;for(var r=0;r<q.length;r++){var s=j.occurrenceByUid(q[r]).clone();s.update(g._eventOptionsForMove(s));o.push(s)}}else{o.push(i)}b=g._slotByPosition(a.x.startLocation,a.y.startLocation);e=g._resourceBySlot(b);l=f=b.startOffset(a.x.startLocation,a.y.startLocation,j.options.snap);d=b;k=b;if(!b||j.trigger("moveStart",{event:h})){a.preventDefault()}}).bind("drag",function(e){var m=j.view();var n=m._slotByPosition(e.x.location,e.y.location);var q;var r;var s;if(!n){return}g=n.startOffset(e.x.location,e.y.location,j.options.snap);if(n.isDaySlot!==b.isDaySlot){if(n.isDaySlot!==k.isDaySlot){var t=a(b.element).index();var u=a(n.element).parent().children().eq(t);b=m._slotByPosition(u.offset().left,u.offset().top);f=b.startOffset(e.x.location,e.y.location,true);p=o.map(function(a){return a.clone()});for(s=0;s<o.length;s++){if(o[s].isAllDay!=n.isDaySlot){o[s].isAllDay=n.isDaySlot;o[s].end=c.date.getDate(o[s].start);o[s].start=c.date.getDate(o[s].start);if(!n.isDaySlot){c.date.setTime(o[s].start,c.date.getMilliseconds(m.startTime()));c.date.setTime(o[s].end,c.date.getMilliseconds(m.startTime())+m._timeSlotInterval())}}}}else{b=a.extend(true,{},k);f=l;o=p}}q=g-f;for(s=0;s<o.length;s++){m._updateMoveHint(o[s],n.groupIndex,q)}r=Aa(i,q);if(!j.trigger("move",{event:h,slot:{element:n.element,start:n.startDate(),end:n.endDate(),isDaySlot:n.isDaySlot},resources:m._resourceBySlot(n),start:r.start,end:r.end})){d=n}else{for(s=0;s<o.length;s++){m._updateMoveHint(o[s],n.groupIndex,q)}}}).bind("dragend",function(b){j.view()._removeMoveHint();var l=g-f;var m=Aa(i,l);var n=m.start;var q=m.end;j._dragging=false;var r=j.view()._resourceBySlot(d);var s=j.trigger("moveEnd",{event:h,slot:{element:d.element,start:d.startDate(),end:d.endDate()},start:n,end:q,resources:r});if(!s&&(h.start.getTime()!==n.getTime()||h.end.getTime()!==q.getTime()||k.isDaySlot!==d.isDaySlot||c.stringify(r)!==c.stringify(e))){j._isMultiDrag=o.length>1;for(var t=0;t<o.length;t++){var u=o[t];m=Aa(u,l);var v=j.view()._eventOptionsForMove(u);var w=a.extend({isAllDay:u.isAllDay,start:m.start,end:m.end},v,r);j._updateEvent(null,u,w)}if(j._isMultiDrag){j.dataSource.sync();j._isMultiDrag=false}}b.currentTarget.removeClass("k-event-active");this.cancelHold();o=[];p=[]}).bind("dragcancel",function(){j.view()._removeMoveHint();this.cancelHold();o=[];p=[]})}j._moveDraggable.bind("hold",function(a){if(j._isTouch(a)){j.element.find(".k-event-active").removeClass("k-event-active");j._createSelection(a.currentTarget);a.currentTarget.addClass("k-event-active")}})}},_resizable:function(){var b;var d;var e;var f;var g;var h=this;var i=0;function j(a){var b={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var c in b){if(a.hasClass(c)){return b[c]}}}if(h._isMobile()&&c.support.mobileOS.android){i=5}h._resizeDraggable=new c.ui.Draggable(h.element,{distance:i,filter:".k-resize-handle",autoScroll:true,dragstart:function(i){var j=a(i.currentTarget);var k=j.closest(".k-event");var l=k.attr(c.attr("uid"));var m=h.view();h._dragging=true;e=h.occurrenceByUid(l);f=e.clone();m._updateEventForResize(f);g=m._slotByPosition(i.x.startLocation,i.y.startLocation);if(h.trigger("resizeStart",{event:e})){i.preventDefault()}b=c.date.toUtcTime(f.start);d=c.date.toUtcTime(f.end)},drag:function(i){if(!g){return}var k=a(i.currentTarget);var l=j(k);var m=h.view();var n=m._slotByPosition(i.x.location,i.y.location);if(!n||g.groupIndex!=n.groupIndex){return}g=n;var o=b;var p=d;if(l=="south"){if(!g.isDaySlot&&g.end-c.date.toUtcTime(f.start)>=m._timeSlotInterval()){if(f.isAllDay){d=g.startOffset(i.x.location,i.y.location,h.options.snap)}else{d=g.endOffset(i.x.location,i.y.location,h.options.snap)}}}else if(l=="north"){if(!g.isDaySlot&&c.date.toUtcTime(f.end)-g.start>=m._timeSlotInterval()){b=g.startOffset(i.x.location,i.y.location,h.options.snap)}}else if(l=="east"){if(g.isDaySlot&&c.date.toUtcTime(c.date.getDate(g.endDate()))>=c.date.toUtcTime(c.date.getDate(f.start))){if(f.isAllDay){d=g.startOffset(i.x.location,i.y.location,h.options.snap)}else{d=g.endOffset(i.x.location,i.y.location,h.options.snap)}}else if(!g.isDaySlot&&g.end-c.date.toUtcTime(f.start)>=m._timeSlotInterval()){d=g.endOffset(i.x.location,i.y.location,h.options.snap)}}else if(l=="west"){if(g.isDaySlot&&c.date.toUtcTime(c.date.getDate(f.end))>=c.date.toUtcTime(c.date.getDate(g.startDate()))){b=g.startOffset(i.x.location,i.y.location,h.options.snap)}else if(!g.isDaySlot&&c.date.toUtcTime(f.end)-g.start>=m._timeSlotInterval()){b=g.startOffset(i.x.location,i.y.location,h.options.snap)}}if(!h.trigger("resize",{event:e,slot:{element:g.element,start:g.startDate(),end:g.endDate()},start:c.timezone.toLocalDate(b),end:c.timezone.toLocalDate(d),resources:m._resourceBySlot(g)})){m._updateResizeHint(f,g.groupIndex,b,d)}else{b=o;d=p}},dragend:function(i){var k=a(i.currentTarget);var l=new Date(f.start.getTime());var m=new Date(f.end.getTime());var n=j(k);h._dragging=false;h.view()._removeResizeHint();if(n=="south"){m=c.timezone.toLocalDate(d)}else if(n=="north"){l=c.timezone.toLocalDate(b)}else if(n=="east"){if(g.isDaySlot){m=c.date.getDate(c.timezone.toLocalDate(d))}else{m=c.timezone.toLocalDate(d)}}else if(n=="west"){if(g.isDaySlot){l=new Date(c.timezone.toLocalDate(b));l.setHours(0);l.setMinutes(0)}else{l=c.timezone.toLocalDate(b)}}var o=h.trigger("resizeEnd",{event:e,slot:{element:g.element,start:g.startDate(),end:g.endDate()},start:l,end:m,resources:h.view()._resourceBySlot(g)});if(!o&&m.getTime()>=l.getTime()){if(f.start.getTime()!=l.getTime()||f.end.getTime()!=m.getTime()){h.view()._updateEventForResize(e);h._updateEvent(n,e,{start:l,end:m})}}g=null;e=null},dragcancel:function(){h._dragging=false;h.view()._removeResizeHint();g=null;e=null}})},_updateEvent:function(a,b,d){var e=this;var f=function(a,b){try{e._preventRefresh=true;a.update(d);e._convertDates(a)}finally{e._preventRefresh=false}if(!e.trigger(G,{event:a})){if(b){b()}if(!e._isMultiDrag){e.dataSource.sync()}}};var g=function(a){if(a.recurrenceRule){return e.dataSource.getByUid(a.uid)}else{return e.dataSource.get(a.recurrenceId)}};var i=function(){var i=g(b);if(a=="south"||a=="north"){if(d.start){var j=c.date.getDate(i.start);c.date.setTime(j,h(d.start));d.start=j}if(d.end){var k=c.date.getDate(i.end);c.date.setTime(k,h(d.end));d.end=k}}e.dataSource._removeExceptions(i);f(i)};var j=function(){var a=g(b);var c;var d=function(){e._convertDates(a);if(e._selection){e._selection.events.push(c)}};var h=a.toOccurrence({start:b.start,end:b.end});c=h.uid;f(e.dataSource.add(h),d)};if(b.recurrenceRule||b.isOccurrence()){var k=e.options.messages.recurrenceMessages;e._showRecurringDialog(b,j,i,{title:k.editWindowTitle,text:k.editRecurring?k.editRecurring:T,occurrenceText:k.editWindowOccurrence,seriesText:k.editWindowSeries})}else{f(e.dataSource.getByUid(b.uid))}},_modelForContainer:function(b){b=a(b).closest("["+c.attr("uid")+"]");return this.dataSource.getByUid(b.attr(c.attr("uid")))},showDialog:function(a){this._editor.showDialog(a)},focus:function(){this.wrapper.focus()},_confirmation:function(a,b){var d=this.options.editable;if(d===true||d.confirmation!==false){var e=this.options.messages;var f=e.deleteWindowTitle;var g=typeof d.confirmation===n?d.confirmation:e.editable.confirmation;if(this._isEditorOpened()&&b.isRecurring()){var h=this.options.messages.recurrenceMessages;f=h.deleteWindowTitle;if(b.isException()){g=h.deleteRecurringConfirmation?h.deleteRecurringConfirmation:U}else{g=h.deleteSeriesConfirmation?h.deleteSeriesConfirmation:V}}var i=[{name:"destroy",text:e.destroy,click:function(){a()}}];if(!(this._isMobile()&&c.mobile.ui.Pane)){i.push({name:"canceledit",text:e.cancel,click:function(){a(true)}})}this._unbindResize();this.showDialog({model:b,text:g,title:f,buttons:i});this._bindResize()}else{a()}},addEvent:function(a){var b=this._editor.editable;var c=this.dataSource;var d;a=a||{};var e=this.trigger("add",{event:a});if(!e&&(b&&b.end()||!b)){this.cancelEvent();if(a&&a.toJSON){a=a.toJSON()}d=c.add(a);if(d){this.cancelEvent();this._editEvent(d)}}},saveEvent:function(){var a=this._editor;if(!a){return}var b=a.editable;var c=a.container;var d=this._modelForContainer(c);if(c&&b&&b.end()&&!this.trigger(G,{container:c,event:d})){if(d.isRecurrenceHead()){this.dataSource._removeExceptions(d)}if(!d.dirty&&!d.isOccurrence()){this._convertDates(d,"remove")}this.dataSource.sync()}},cancelEvent:function(){var a=this._editor;var b=a.container;var c;if(b){c=this._modelForContainer(b);if(c&&c.isOccurrence()){this._convertDates(c,"remove");this._convertDates(this.dataSource.get(c.recurrenceId),"remove")}this.dataSource.cancelChanges(c);a.close()}},editEvent:function(a){var b=typeof a=="string"?this.occurrenceByUid(a):a;if(!b){return}this.cancelEvent();if(b.isRecurring()){this._editRecurringDialog(b)}else{this._editEvent(b)}},_editEvent:function(a){this._unbindResize();this._createPopupEditor(a);this._bindResize()},_editRecurringDialog:function(a){var b=this;var c=function(){if(a.isException()){b._editEvent(a)}else{b.addEvent(a)}};var d=function(){if(a.recurrenceId){a=b.dataSource.get(a.recurrenceId)}b._editEvent(a)};var e=b.options.messages.recurrenceMessages;b._showRecurringDialog(a,c,d,{title:e.editWindowTitle,text:e.editRecurring?e.editRecurring:T,occurrenceText:e.editWindowOccurrence,seriesText:e.editWindowSeries})},_showRecurringDialog:function(a,b,c,d){var e=this.options.editable;var f=r(e)?e.editRecurringMode:"dialog";if(f==="occurrence"||this._isMultiDrag){b()}else if(f==="series"){c()}else{this._unbindResize();this.showDialog({model:a,title:d.title,text:d.text,buttons:[{text:d.occurrenceText,click:b},{text:d.seriesText,click:c}]});this._bindResize()}},_createButton:function(a){var b=a.template||W,d=typeof a===n?a:a.name||a.text,e={className:"k-scheduler-"+(d||"").replace(/\s/g,""),text:d,attr:""};if(!d&&!(r(a)&&a.template)){throw new Error("Custom commands should have name specified")}if(r(a)){if(a.className){a.className+=" "+e.className}if(d==="edit"&&r(a.text)){a=s(true,{},a);a.text=a.text.edit}e=s(true,e,ta[d],a)}else{e=s(true,e,ta[d])}return c.template(b)(e)},_convertDates:function(a,b){var d=this.dataSource.reader.timezone;var e=a.startTimezone;var f=a.endTimezone;var g=a.start;var h=a.start;b=b||"apply";e=e||f;f=f||e;if(e){if(d){if(b==="apply"){g=c.timezone.convert(a.start,d,e);h=c.timezone.convert(a.end,d,f)}else{g=c.timezone.convert(a.start,e,d);h=c.timezone.convert(a.end,f,d)}}else{g=c.timezone[b](a.start,e);h=c.timezone[b](a.end,f)}a._set("start",g);a._set("end",h)}},_createEditor:function(){var a=this;var b;if(this._isMobile()&&c.mobile.ui.Pane){b=a._editor=new Da(this.wrapper,s({},this.options,{target:this,timezone:a.dataSource.reader.timezone,resources:a.resources,createButton:t(this._createButton,this)}))}else{b=a._editor=new Ea(this.wrapper,s({},this.options,{target:this,createButton:t(this._createButton,this),timezone:a.dataSource.reader.timezone,resources:a.resources}))}b.bind("cancel",function(b){if(a.trigger("cancel",{container:b.container,event:b.model})){b.preventDefault();return}a.cancelEvent();a.focus()});b.bind("edit",function(b){if(a.trigger(I,{container:b.container,event:b.model})){b.preventDefault()}});b.bind("save",function(){a.saveEvent()});b.bind("remove",function(b){a.removeEvent(b.model)})},_createPopupEditor:function(a){var b=this._editor;if(!a.isNew()||a.isOccurrence()){if(a.isOccurrence()){this._convertDates(a.recurrenceId?this.dataSource.get(a.recurrenceId):a)}this._convertDates(a)}this.editable=b.editEvent(a)},removeEvent:function(a){var b=this,c=typeof a=="string"?b.occurrenceByUid(a):a;if(!c){return}if(c.isRecurring()){b._deleteRecurringDialog(c)}else{b._confirmation(function(a){if(!a){b._removeEvent(c)}},c)}},occurrenceByUid:function(a){var b=this.dataSource.getByUid(a);if(!b){b=ma(this._data,a)}return b},occurrencesInRange:function(a,b){return new c.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:a},{field:"end",operator:"gte",value:a},{field:"start",operator:"lt",value:b}]},{logic:"and",filters:[{field:"start",operator:"lte",value:a},{field:"end",operator:"gt",value:a}]}]}).toArray()},_removeEvent:function(a){if(!this.trigger(F,{event:a})){if(this.dataSource.remove(a)){this.dataSource.sync()}}},_deleteRecurringDialog:function(a){var b=this;var c=a;var d=b.options.editable;var e;var f;var g;var h;var i=r(d)?d.editRecurringMode:"dialog";e=function(){var a=c.recurrenceId?c:c.toOccurrence();var d=b.dataSource.get(a.recurrenceId);b._convertDates(d);b._removeEvent(a)};f=function(){if(c.recurrenceId){c=b.dataSource.get(c.recurrenceId)}b._removeEvent(c)};if(i!="dialog"||b._isEditorOpened()){g=function(){b._confirmation(function(a){if(!a){e()}},c)};h=function(){b._confirmation(function(a){if(!a){f()}},c)}}var j=h||f;var k=g||e;if(b._isEditorOpened()){if(a.isException()){k()}else{j()}}else{var l=b.options.messages.recurrenceMessages;b._showRecurringDialog(a,k,j,{title:l.deleteWindowTitle,text:l.deleteRecurring?l.deleteRecurring:S,occurrenceText:l.deleteWindowOccurrence,seriesText:l.deleteWindowSeries})}},_isEditorOpened:function(){return!!this._editor.container},_unbindView:function(a){var b=this;b.angular("cleanup",function(){return{elements:b.items()}});a.destroy()},_bindView:function(a){var b=this;if(b.options.editable){if(b._viewRemoveHandler){a.unbind(F,b._viewRemoveHandler)}b._viewRemoveHandler=function(a){b.removeEvent(a.uid)};a.bind(F,b._viewRemoveHandler);if(b._viewAddHandler){a.unbind(H,b._viewAddHandler)}b._viewAddHandler=function(a){b.addEvent(a.eventInfo)};a.bind(H,this._viewAddHandler);if(b._viewEditHandler){a.unbind(I,b._viewEditHandler)}b._viewEditHandler=function(a){b.editEvent(a.uid)};a.bind(I,this._viewEditHandler)}if(b._viewNavigateHandler){a.unbind("navigate",b._viewNavigateHandler)}b._viewNavigateHandler=function(a){if(a.view){var c="isWorkDay"in a;var d=c?"changeWorkDay":"changeView";if(!b.trigger("navigate",{view:a.view,isWorkDay:a.isWorkDay,action:d,date:a.date})){if(c){b._workDayMode=a.isWorkDay}b._selectView(a.view);b.date(a.date)}}};a.bind("navigate",b._viewNavigateHandler);if(b._viewActivateHandler){a.unbind("activate",b._viewActivateHandler)}b._viewActivateHandler=function(){var a=this;if(b._selection){a.constrainSelection(b._selection);b._select();b._adjustSelectedDate()}};a.bind("activate",b._viewActivateHandler)},_selectView:function(a){var b=this;if(a&&b.views[a]){if(b._selectedView){b._unbindView(b._selectedView)}b._selectedView=b._renderView(a);b._selectedViewName=a;if(b._viewsCount>1){var d=X({views:b.views,view:a,ns:c.ns});var e=b.toolbar.find(".k-scheduler-views li:first-child");if(e.is(".k-current-view")){e.replaceWith(d)}else{b.toolbar.find(".k-scheduler-views").prepend(d)}var f=b.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected");f.end().find(".k-view-"+a.replace(/\./g,"\\.").toLowerCase()).addClass("k-state-selected")}}},view:function(a){var b=this;if(a){b._selectView(a);b.rebind();return}return b._selectedView},viewName:function(){return this.view().name},_renderView:function(a){var b=this._initializeView(a);this._bindView(b);if(c.support.mouseAndTouchPresent||c.support.pointers){b.content.css("-ms-touch-action","pinch-zoom");b.content.css("touch-action","pinch-zoom")}this._model.set("formattedDate",b.dateForTitle());this._model.set("formattedShortDate",b.shortDateForTitle());return b},resize:function(a){var b=this.getSize();var c=this._size;var d=this.view();if(!d||!d.groups){return}if(a||!c||b.width!==c.width||b.height!==c.height){this.refresh({action:"resize"});this._size=b}},_adjustSelectedDate:function(){var a=this._model.selectedDate,b=this._selection,d=b.start;if(d&&!c.date.isInDateRange(a,g(d),g(b.end))){a.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())}},_initializeView:function(a){var b=this.views[a];if(b){var d=r(b),e=b.type;if(typeof e===n){e=c.getter(b.type)(window)}if(e){b=new e(this.wrapper,ua(s(true,{},this.options,d?b:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}else{throw new Error("There is no such view")}}return b},_views:function(){var a=this.options.views;var b;var c;var d;var e;var f;var g;var h;var i;this.views={};this._viewsCount=0;for(h=0,i=a.length;h<i;h++){var j=false;b=a[h];e=r(b);if(e){g=f=b.type?b.type:b;if(typeof g!==n){f=b.name||b.title;j=true}}else{g=f=b}c=Ga[f];if(c&&!j){b.type=c.type;c.title=this.options.messages.views[f];if(c.type==="day"){c.messages={allDay:this.options.messages.allDay}}else if(c.type==="agenda"){c.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time}}}b=s({title:f},c,e?b:{});if(f){this.views[f]=b;this._viewsCount++;if(!d||b.selected){d=f}}}if(d){this._selectedViewName=d}},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var a=this,b=a.options,d=b.dataSource;d=v(d)?{data:d}:d;if(b.timezone&&!(d instanceof ra)){d=s(true,d,{schema:{timezone:b.timezone}})}else if(d instanceof ra){b.timezone=d.options.schema?d.options.schema.timezone:""}if(a.dataSource&&a._refreshHandler){a.dataSource.unbind(D,a._refreshHandler).unbind("progress",a._progressHandler).unbind("error",a._errorHandler)}else{a._refreshHandler=t(a.refresh,a);a._progressHandler=t(a._requestStart,a);a._errorHandler=t(a._error,a)}a.dataSource=c.data.SchedulerDataSource.create(d).bind(D,a._refreshHandler).bind("progress",a._progressHandler).bind("error",a._errorHandler);a.options.dataSource=a.dataSource},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_progress:function(a){var b=this.element.find(".k-scheduler-content");c.ui.progress(b,a)},_resources:function(){var b=this;var d=b.options.resources;for(var e=0;e<d.length;e++){var f=d[e];var g=f.field;var h=f.dataSource;if(!g||!h){throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')}b.resources.push({field:g,name:f.name||g,title:f.title||g,dataTextField:f.dataTextField||"text",dataValueField:f.dataValueField||"value",dataColorField:f.dataColorField||"color",valuePrimitive:f.valuePrimitive!=null?f.valuePrimitive:true,multiple:f.multiple||false,dataSource:c.data.DataSource.create(h)})}var i=a.map(b.resources,function(a){return a.dataSource.fetch()});if(!b.options.autoBind){b._selectView(b._selectedViewName)}else{a.when.apply(null,i).then(function(){b.view(b._selectedViewName)})}},_initModel:function(){var a=this;a._model=c.observable({selectedDate:new Date(this.options.date),formattedDate:"",formattedShortDate:""});a._model.bind("change",function(b){if(b.field==="selectedDate"){a.view(a._selectedViewName)}})},_wrapper:function(){var a=this;var b=a.options;var c=b.height;var d=b.width;a.wrapper=a.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",true);if(a._isMobile()){a.wrapper.addClass("k-scheduler-mobile")}if(a._isMobilePhoneView()){a.wrapper.addClass("k-scheduler-phone")}if(c){a.wrapper.height(c)}if(d){a.wrapper.width(d)}},date:function(a){if(a!=null&&g(a)>=g(this.options.min)&&g(a)<=g(this.options.max)){this._model.set("selectedDate",a)}return g(this._model.get("selectedDate"))},_toolbar:function(){var b=this;var d=b.options;var e=[];if(d.toolbar){e=a.isArray(d.toolbar)?d.toolbar:[d.toolbar]}var f=this._isMobilePhoneView()?Z:Y;var g=a(f({messages:d.messages,pdf:a.grep(e,function(a){return a=="pdf"||a.name=="pdf"}).length>0,ns:c.ns,view:b._selectedViewName,views:b.views,viewsCount:b._viewsCount}));b.wrapper.append(g);b.toolbar=g;c.bind(b.toolbar,b._model);g.on(x+w,".k-pdf",function(a){a.preventDefault();b.saveAsPDF()});g.on(x+w,".k-scheduler-navigation li",function(d){var e=a(this);var f=new Date(b.date());var g="";var h=new Date;var i=b.options.timezone;d.preventDefault();if(e.hasClass("k-nav-today")){g="today";if(i){var j=c.timezone.offset(h,i);f=c.timezone.convert(h,h.getTimezoneOffset(),j)}else{f=h}}else if(e.hasClass("k-nav-next")){g="next";f=b.view().nextDate()}else if(e.hasClass("k-nav-prev")){g="previous";f=b.view().previousDate()}else if(e.hasClass("k-nav-current")&&!b._isMobilePhoneView()){b._showCalendar();return}if(!b.trigger("navigate",{view:b._selectedViewName,action:g,date:f})){b.date(f)}});g.on(x+w,".k-scheduler-views li:not(.k-current-view), .k-scheduler-refresh",function(d){d.preventDefault();var e=a(this).attr(c.attr("name"));if(!b.trigger("navigate",{view:e,action:"changeView",date:b.date()})){b.view(e);b.element.find("."+K).removeClass(K)}});g.on(x+w,".k-scheduler-views li.k-current-view",function(c){c.preventDefault();b.element.find(".k-scheduler-views").toggleClass(K);a(document).on(y+w,function(c){if(a(c.target).closest(".k-scheduler-views").length===0){b.element.find("."+K).removeClass(K);a(document).off(x+w);
}})});g.find("li").hover(function(){a(this).addClass("k-state-hover")},function(){a(this).removeClass("k-state-hover")})},_showCalendar:function(){var b=this,c=b.toolbar.find(".k-nav-current"),d=a('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');if(!b.popup){b.popup=new o(d,{anchor:c,open:function(){if(!b.calendar){b.calendar=new p(this.element.find(".k-scheduler-calendar"),{change:function(){var a=this.value();if(!b.trigger("navigate",{view:b._selectedViewName,action:"changeDate",date:a})){b.date(a);b.popup.close()}b._selectedView.element.focus();b.toolbar.find(".k-nav-current").focus().addClass(J)},min:b.options.min,max:b.options.max})}b.calendar.element.on("keydown"+w,function(a){if(a.keyCode===j.ESC||a.keyCode===j.TAB){b.popup.close();b._selectedView.element.focus();b.toolbar.find(".k-nav-current").focus().addClass(J)}});b.calendar.value(b.date())},copyAnchorStyles:false})}b.popup.open();b.calendar.element.find("table").focus()},refresh:function(a){var b=this;var c=this.view();this._progress(false);this.angular("cleanup",function(){return{elements:b.items()}});a=a||{};if(!c){return}if(a&&a.action==="itemchange"&&(this._editor.editable||this._preventRefresh)){return}if(this.trigger("dataBinding",{action:a.action||"rebind",index:a.index,items:a.items})){return}if(!(a&&a.action==="resize")&&this._editor){this._editor.close()}this._data=this.dataSource.expand(c.startDate(),c.visibleEndDate());c.refreshLayout();c.render(this._data);this.trigger("dataBound")},slotByPosition:function(a,b){var c=this.view();if(!c._slotByPosition){return null}var d=c._slotByPosition(a,b);if(!d){return null}return{startDate:d.startDate(),endDate:d.endDate(),groupIndex:d.groupIndex,element:d.element,isDaySlot:d.isDaySlot}},slotByElement:function(b){var c=a(b).offset();return this.slotByPosition(c.left,c.top)},resourcesBySlot:function(a){return this.view()._resourceBySlot(a)}});var Ga={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"},timeline:{type:"kendo.ui.TimelineView"},timelineWeek:{type:"kendo.ui.TimelineWeekView"},timelineWorkWeek:{type:"kendo.ui.TimelineWorkWeekView"},timelineMonth:{type:"kendo.ui.TimelineMonthView"}};k.plugin(Fa);if(c.PDFMixin){c.PDFMixin.extend(Fa.prototype);var Ha="k-scheduler-pdf-export";Fa.fn._drawPDF=function(b){var c=this.wrapper;var d=c[0].style.cssText;c.css({width:c.width(),height:c.height()});c.addClass(Ha);var e=this;var f=new a.Deferred;var g=c.find(".k-scheduler-content").find("table").css("table-layout","auto");setTimeout(function(){g.css("table-layout","fixed");e.resize(true);e._drawPDFShadow({},{avoidLinks:e.options.pdf.avoidLinks}).done(function(a){var c={page:a,pageNumber:1,progress:1,totalPages:1};b.notify(c);f.resolve(c.page)}).fail(function(a){f.reject(a)}).always(function(){c[0].style.cssText=d;c.removeClass(Ha);e.resize(true);e.resize(true)})});return f}}var Ia=l.extend({init:function(a,b){var d=this,e=c.timezone.windows_zones;if(!e||!c.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}l.fn.init.call(d,a,b);d.wrapper=d.element;d._zonesQuery=new c.data.Query(e);d._zoneTitleId=c.guid();d._zoneTitlePicker();d._zonePicker();d._zoneTitle.bind("cascade",function(){if(!this.value()){d._zone.wrapper.hide()}});d._zone.bind("cascade",function(){d._value=this.value();d.trigger("change")});d.value(d.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var b=this,d=a('<input id="'+b._zoneTitleId+'" aria-label="'+b.options.title+'"/>').appendTo(b.wrapper);b._zoneTitle=new c.ui.DropDownList(d,{dataSource:c.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:b.options.optionLabel})},_zonePicker:function(){var b=this,d=a('<input aria-label="'+b.options.title+'"/>').appendTo(this.wrapper);b._zone=new c.ui.DropDownList(d,{dataValueField:"zone",dataTextField:"territory",dataSource:b._zonesQuery.data,cascadeFrom:b._zoneTitleId,dataBound:function(){b._value=this.value();this.wrapper.toggle(this.dataSource.view().length>1)}});b._zone.wrapper.hide()},destroy:function(){l.fn.destroy.call(this);c.destroy(this.wrapper)},value:function(a){var c=this,d;if(a===b){return c._value}d=c._zonesQuery.filter({field:"zone",operator:"eq",value:a}).data[0];if(d){c._zoneTitle.value(d.other_zone);c._zone.value(d.zone)}else{c._zoneTitle.select(0)}}});k.plugin(Ia);var Ja=c.template('<option value="#=other_zone#">#=name#</option>');var Ka=c.template('<option value="#=zone#">#=territory#</option>');var La=l.extend({init:function(a,b){var d=this,e=c.timezone.windows_zones;if(!e||!c.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}l.fn.init.call(d,a,b);d.wrapper=d.element;d._zonesQuery=new c.data.Query(e);d._zoneTitlePicker();d._zonePicker();d.value(d.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(a){var b=a?this._filter(a):[];this._zone.html(this._options(b,Ka))},_filter:function(a){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:a}).data},_options:function(a,b,c){var d=0;var e="";var f=a.length;if(c){e+=b({other_zone:"",name:c})}for(;d<f;d++){e+=b(a[d])}return e},_zoneTitlePicker:function(){var b=this;var d=b._options(c.timezone.zones_titles,Ja,b.options.optionLabel);b._zoneTitle=a("<select>"+d+"</select>").appendTo(b.wrapper).change(function(){var a=this.value;var c=b._zone;b._bindZones(a);if(a&&c[0].children.length>1){c.show()}else{c.hide()}b._value=c[0].value;b.trigger("change")})},_zonePicker:function(){var b=this;b._zone=a('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){b._value=this.value;b.trigger("change")});b._bindZones(b._zoneTitle.val());b._value=b._zone[0].value},destroy:function(){l.fn.destroy.call(this);c.destroy(this.wrapper)},value:function(a){var c=this;var d=c._zone;var e="";var f="";var g;if(a===b){return c._value}g=c._zonesQuery.filter({field:"zone",operator:"eq",value:a}).data[0];if(g){f=g.zone;e=g.other_zone}c._zoneTitle.val(e);c._bindZones(e);d.val(f);f=d[0].value;if(f&&d[0].children.length>1){d.show()}else{d.hide()}c._value=f}});k.plugin(La)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.touch",["kendo.core","kendo.userevents"],a)})(function(){var a={id:"touch",name:"Touch",category:"mobile",description:"The kendo Touch widget provides a cross-platform compatible API for handling user-initiated touch events, multi-touch gestures and event sequences (drag, swipe, etc.). ",depends:["core","userevents"]};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=Math.abs,g=20;var h=d.extend({init:function(a,b){var f=this;d.fn.init.call(f,a,b);b=f.options;a=f.element;f.wrapper=a;function g(a){return function(b){f._triggerTouch(a,b)}}function h(a){return function(b){f.trigger(a,{touches:b.touches,distance:b.distance,center:b.center,event:b.event})}}f.events=new c.UserEvents(a,{filter:b.filter,surface:b.surface,minHold:b.minHold,multiTouch:b.multiTouch,allowSelection:true,fastTap:b.fastTap,press:g("touchstart"),hold:g("hold"),tap:e(f,"_tap"),gesturestart:h("gesturestart"),gesturechange:h("gesturechange"),gestureend:h("gestureend")});if(b.enableSwipe){f.events.bind("start",e(f,"_swipestart"));f.events.bind("move",e(f,"_swipemove"))}else{f.events.bind("start",e(f,"_dragstart"));f.events.bind("move",g("drag"));f.events.bind("end",g("dragend"))}c.notify(f)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:false,fastTap:false,filter:null,multiTouch:false,enableSwipe:false,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},cancel:function(){this.events.cancel()},destroy:function(){d.fn.destroy.call(this);this.events.destroy()},_triggerTouch:function(a,b){if(this.trigger(a,{touch:b.touch,event:b.event})){b.preventDefault()}},_tap:function(a){var b=this,d=b.lastTap,e=a.touch;if(d&&e.endTime-d.endTime<b.options.doubleTapTimeout&&c.touchDelta(e,d).distance<g){b._triggerTouch("doubletap",a);b.lastTap=null}else{b._triggerTouch("tap",a);b.lastTap=e}},_dragstart:function(a){this._triggerTouch("dragstart",a)},_swipestart:function(a){if(f(a.x.velocity)*2>=f(a.y.velocity)){a.sender.capture()}},_swipemove:function(a){var b=this,c=b.options,d=a.touch,e=a.event.timeStamp-d.startTime,g=d.x.initialDelta>0?"right":"left";if(f(d.x.initialDelta)>=c.minXDelta&&f(d.y.initialDelta)<c.maxYDelta&&e<c.maxDuration){b.trigger("swipe",{direction:g,touch:a.touch});d.cancel()}}});c.ui.plugin(h)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.gantt.list",["kendo.dom","kendo.touch","kendo.draganddrop","kendo.columnsorter","kendo.datetimepicker","kendo.editable"],a)})(function(){var a={id:"gantt.list",name:"Gantt List",category:"web",description:"The Gantt List",depends:["dom","touch","draganddrop","columnsorter","datetimepicker","editable"],hidden:true};(function(a){var b=window.kendo;var c=b.dom;var d=c.element;var e=c.text;var f=b.support.browser;var g=b.support.mobileOS;var h=b.ui;var i=h.Widget;var j=a.extend;var k=b._outerWidth;var l=b._outerHeight;var m=a.map;var n=a.isFunction;var o=f.msie&&f.version<9;var p=b.keys;var q={title:"Title",start:"Start Time",end:"End Time",percentComplete:"% Done",parentId:"Predecessor ID",id:"ID",orderId:"Order ID"};var r="string";var s=".kendoGanttList";var t="click";var u=".";var v="<table style='visibility: hidden;'>"+"<tbody>"+"<tr style='height:{0}'>"+"<td>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>";var w={wrapper:"k-treelist k-grid k-widget",header:"k-header",alt:"k-alt",rtl:"k-rtl",editCell:"k-edit-cell",group:"k-treelist-group",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",selected:"k-state-selected",icon:"k-icon",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",link:"k-link",resizeHandle:"k-resize-handle",resizeHandleInner:"k-resize-handle-inner",dropPositions:"k-i-insert-up k-i-insert-down k-i-plus k-i-insert-middle",dropTop:"k-i-insert-up",dropBottom:"k-i-insert-down",dropAdd:"k-i-plus",dropMiddle:"k-i-insert-middle",dropDenied:"k-i-cancel",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};function x(a){var b=[];var c=a.className;for(var e=0,f=a.level;e<f;e++){b.push(d("span",{className:c}))}return b}function y(){var c=b._activeElement();if(c&&c.nodeName.toLowerCase()!=="body"){a(c).blur()}}var z=h.GanttList=i.extend({init:function(b,c){i.fn.init.call(this,b,c);if(this.options.columns.length===0){this.options.columns.push("title")}this.dataSource=this.options.dataSource;this._columns();this._layout();this._domTrees();this._header();this._sortable();this._editable();this._selectable();this._draggable();this._resizable();this._attachEvents();this._adjustHeight();this.bind("render",function(){var b;var c;if(this.options.resizable){b=this.header.find("col");c=this.content.find("col");this.header.find("th").not(":last").each(function(d){var e=k(a(this));b.eq(d).width(e);c.eq(d).width(e)});b.last().css("width","auto");c.last().css("width","auto")}},true)},_adjustHeight:function(){if(this.content){this.content.height(this.element.height()-l(this.header.parent()))}},destroy:function(){i.fn.destroy.call(this);if(this._reorderDraggable){this._reorderDraggable.destroy()}if(this._tableDropArea){this._tableDropArea.destroy()}if(this._contentDropArea){this._contentDropArea.destroy()}if(this._columnResizable){this._columnResizable.destroy()}if(this.touch){this.touch.destroy()}if(this.timer){clearTimeout(this.timer)}this.content.off(s);this.header.find("thead").off(s);this.header.find(u+z.link).off(s);this.header=null;this.content=null;this.levels=null;b.destroy(this.element)},options:{name:"GanttList",selectable:true,editable:true,resizable:false},_attachEvents:function(){var b=this;var c=z.styles;b.content.on(t+s,"td > span."+c.icon+":not(."+c.iconHidden+")",function(c){var d=a(this);var e=b._modelFromElement(d);e.set("expanded",!e.get("expanded"));c.stopPropagation()})},_domTrees:function(){this.headerTree=new c.Tree(this.header[0]);this.contentTree=new c.Tree(this.content[0])},_columns:function(){var a=this.options.columns;var b=function(){this.field="";this.title="";this.editable=false;this.sortable=false};this.columns=m(a,function(a){a=typeof a===r?{field:a,title:q[a]}:a;return j(new b,a)})},_layout:function(){var c=this;var d=this.options;var e=this.element;var f=z.styles;var g=function(){var e=typeof d.rowHeight===r?d.rowHeight:d.rowHeight+"px";var f=a(b.format(v,e));var g;c.content.append(f);g=l(f.find("tr"));f.remove();return g};e.addClass(f.wrapper).append("<div class='"+f.gridHeader+"'><div class='"+f.gridHeaderWrap+"'></div></div>").append("<div class='"+f.gridContentWrap+"'></div>");this.header=e.find(u+f.gridHeaderWrap);this.content=e.find(u+f.gridContent);if(d.rowHeight){this._rowHeight=g()}},_header:function(){var a=this.headerTree;var b;var c;var e;b=d("colgroup",null,this._cols());c=d("thead",{role:"rowgroup"},[d("tr",{role:"row"},this._ths())]);e=d("table",{style:{minWidth:this.options.listWidth+"px"},role:"grid"},[b,c]);a.render([e])},_render:function(a){var b;var c;var e;var f={style:{minWidth:this.options.listWidth+"px"},tabIndex:0,role:"treegrid"};if(this._rowHeight){f.style.height=a.length*this._rowHeight+"px"}this.levels=[{field:null,value:0}];b=d("colgroup",null,this._cols());c=d("tbody",{role:"rowgroup"},this._trs(a));e=d("table",f,[b,c]);this.contentTree.render([e]);this.trigger("render")},_ths:function(){var a=this.columns;var b;var c;var f=[];for(var g=0,h=a.length;g<h;g++){b=a[g];c={"data-field":b.field,"data-title":b.title,className:z.styles.header,role:"columnheader"};f.push(d("th",c,[e(b.title)]))}if(this.options.resizable){f.push(d("th",{className:z.styles.header,role:"columnheader"}))}return f},_cols:function(){var a=this.columns;var b;var c;var e;var f=[];for(var g=0,h=a.length;g<h;g++){b=a[g];e=b.width;if(e&&parseInt(e,10)!==0){c={style:{width:typeof e===r?e:e+"px"}}}else{c=null}f.push(d("col",c,[]))}if(this.options.resizable){f.push(d("col",{style:{width:"1px"}}))}return f},_trs:function(a){var b;var c=[];var d;var e=[];var f;var g=z.styles;for(var h=0,i=a.length;h<i;h++){b=a[h];f=this._levels({idx:b.parentId,id:b.id,summary:b.summary});d={"data-uid":b.uid,"data-level":f,role:"row"};if(b.summary){d["aria-expanded"]=b.expanded}if(h%2!==0){e.push(g.alt)}if(b.summary){e.push(g.group)}if(e.length){d.className=e.join(" ")}c.push(this._tds({task:b,attr:d,level:f}));e=[]}return c},_tds:function(a){var b=[];var c=this.columns;var e;for(var f=0,g=c.length;f<g;f++){e=c[f];b.push(this._td({task:a.task,column:e,level:a.level}))}if(this.options.resizable){b.push(d("td",{role:"gridcell"}))}return d("tr",a.attr,b)},_td:function(a){var c=[];var f=this.options.resourcesField;var g=z.styles;var h=a.task;var i=a.column;var j=h.get(i.field);var k;var l;if(i.field==f){j=j||[];k=[];for(var m=0;m<j.length;m++){k.push(b.format("{0} [{1}]",j[m].get("name"),j[m].get("formatedValue")))}k=k.join(", ")}else{k=i.format?b.format(i.format,j):j}if(i.field==="title"){c=x({level:a.level,className:g.iconPlaceHolder});c.push(d("span",{className:g.icon+" "+(h.summary?h.expanded?g.iconCollapse:g.iconExpand:g.iconHidden)}));l=b.format("{0}, {1:P0}",k,h.percentComplete)}c.push(d("span",{"aria-label":l},[e(k)]));return d("td",{role:"gridcell"},c)},_levels:function(a){var b=this.levels;var c;var d=a.summary;var e=a.idx;var f=a.id;for(var g=0,h=b.length;g<h;g++){c=b[g];if(c.field==e){if(d){b.push({field:f,value:c.value+1})}return c.value}}},_sortable:function(){var a=this;var c=this.options.resourcesField;var d=this.columns;var e;var f;var g=this.header.find("th["+b.attr("field")+"]");var h;var i=function(b){if(a.dataSource.total()===0||a.editable&&a.editable.trigger("validate")){b.preventDefault()}};for(var j=0,k=g.length;j<k;j++){e=d[j];if(e.sortable&&e.field!==c){h=g.eq(j);f=h.data("kendoColumnSorter");if(f){f.destroy()}h.attr("data-"+b.ns+"field",e.field).kendoColumnSorter({dataSource:this.dataSource,change:i})}}g=null},_selectable:function(){var b=this;var c=this.options.selectable;if(c){this.content.on(t+s,"tr",function(c){var d=a(this);if(b.editable){b.editable.trigger("validate")}if(!c.ctrlKey){b.select(d)}else{b.clearSelection()}})}},select:function(a){var b=this.content.find(a);var c=z.styles.selected;if(b.length){b.siblings(u+c).removeClass(c).attr("aria-selected",false).end().addClass(c).attr("aria-selected",true);this.trigger("change");return}return this.content.find(u+c)},clearSelection:function(){var a=this.select();if(a.length){a.removeClass(z.styles.selected);this.trigger("change")}},_setDataSource:function(a){this.dataSource=a;this._sortable()},_editable:function(){var b=this;var c=this.options.editable;var d=z.styles;var e="span."+d.icon+":not("+d.iconHidden+")";var f=function(){var a=b.editable;if(a){if(a.end()){b._closeCell()}else{a.trigger("validate")}}};var h=function(b){var c=a(b.currentTarget);if(!c.hasClass(d.editCell)){y()}};if(!c||c.update===false){return}this._startEditHandler=function(c){var d=c.currentTarget?a(c.currentTarget):c;var e=b._columnFromElement(d);if(b.editable){return}if(e&&e.editable){b._editCell({cell:d,column:e})}};b.content.on("focusin"+s,function(){clearTimeout(b.timer);b.timer=null}).on("focusout"+s,function(){b.timer=setTimeout(f,1)}).on("keydown"+s,function(a){if(a.keyCode===p.ENTER){a.preventDefault()}}).on("keyup"+s,function(a){var c=a.keyCode;var d;var e;switch(c){case p.ENTER:y();f();break;case p.ESC:if(b.editable){d=b._editableContainer;e=b._modelFromElement(d);if(!b.trigger("cancel",{model:e,cell:d})){b._closeCell(true)}}break}});if(!g){b.content.on("mousedown"+s,"td",function(a){h(a)}).on("dblclick"+s,"td",function(c){if(!a(c.target).is(e)){b._startEditHandler(c)}})}else{b.touch=b.content.kendoTouch({filter:"td",touchstart:function(a){h(a.touch)},doubletap:function(c){if(!a(c.touch.initialTouch).is(e)){b._startEditHandler(c.touch)}}}).data("kendoTouch")}},_editCell:function(c){var d=this.options.resourcesField;var e=z.styles;var f=c.cell;var g=c.column;var h=this._modelFromElement(f);var i=this.dataSource._createNewModel(h.toJSON());var j=i.fields[g.field]||i[g.field];var k=j.validation;var l=b.attr("type");var m=b.attr("bind");var p=b.attr("format");var q={name:g.field,required:j.validation?j.validation.required===true:false};var r;if(g.field===d){g.editor(f,i);return}this._editableContent=f.children().detach();this._editableContainer=f;f.data("modelCopy",i);if((j.type==="date"||a.type(j)==="date")&&(!g.format||/H|m|s|F|g|u/.test(g.format))){q[m]="value:"+g.field;q[l]="date";if(g.format){q[p]=b._extractFormat(g.format)}r=function(b,c){a('<input type="text"/>').attr(q).appendTo(b).kendoDateTimePicker({format:c.format})}}this.editable=f.addClass(e.editCell).kendoEditable({fields:{field:g.field,format:g.format,editor:g.editor||r},model:i,clearContainer:false}).data("kendoEditable");if(k&&k.dateCompare&&n(k.dateCompare)&&k.message){a("<span "+b.attr("for")+'="'+g.field+'" class="k-invalid-msg"/>').hide().appendTo(f);f.find("[name="+g.field+"]").attr(b.attr("dateCompare-msg"),k.message)}this.editable.bind("validate",function(a){var b=this.element.find(":kendoFocusable:first").focus();if(o){b.focus()}a.preventDefault()});if(this.trigger("edit",{model:h,cell:f})){this._closeCell(true)}},_closeCell:function(a){var b=z.styles;var c=this._editableContainer;var d=this._modelFromElement(c);var e=this._columnFromElement(c);var f=e.field;var g=c.data("modelCopy");var h={};h[f]=g.get(f);c.empty().removeData("modelCopy").removeClass(b.editCell).append(this._editableContent);this.editable.unbind();this.editable.destroy();this.editable=null;this._editableContainer=null;this._editableContent=null;if(!a){if(f==="start"){h.end=new Date(h.start.getTime()+d.duration())}this.trigger("update",{task:d,updateInfo:h})}},_draggable:function(){var c=this;var d=null;var e=true;var f;var h=z.styles;var i=b.support.isRtl(this.element);var k="tr["+b.attr("level")+" = 0]:last";var l={};var m=this.options.editable;var n=function(){d=null;f=null;e=true;l={}};var o=function(a){var b=a;while(b){if(d.get("id")===b.get("id")){e=false;break}b=c.dataSource.taskParent(b)}};var p=function(){var c=a(f).height();var d=b.getOffset(f).top;j(f,{beforeLimit:d+c*.25,afterLimit:d+c*.75})};var q=function(a){if(!f){return}var c=a.location;var d=h.dropAdd;var e="add";var g=parseInt(f.attr(b.attr("level")),10);var i;if(c<=f.beforeLimit){i=f.prev();d=h.dropTop;e="insert-before"}else if(c>=f.afterLimit){i=f.next();d=h.dropBottom;e="insert-after"}if(i&&parseInt(i.attr(b.attr("level")),10)===g){d=h.dropMiddle}l.className=d;l.command=e};var r=function(){return c._reorderDraggable.hint.children(u+h.dragStatus).removeClass(h.dropPositions)};if(!m||m.reorder===false||m.update===false){return}this._reorderDraggable=this.content.kendoDraggable({distance:10,holdToDrag:g,group:"listGroup",filter:"tr[data-uid]",ignore:u+h.input,hint:function(b){return a('<div class="'+h.header+" "+h.dragClue+'"/>').css({width:300,paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).append('<span class="'+h.icon+" "+h.dragStatus+'" /><span class="'+h.dragClueText+'"/>')},cursorOffset:{top:-20,left:0},container:this.content,dragstart:function(a){var b=c.editable;if(b&&b.reorder!==false&&b.trigger("validate")){a.preventDefault();return}d=c._modelFromElement(a.currentTarget);this.hint.children(u+h.dragClueText).text(d.get("title"));if(i){this.hint.addClass(h.rtl)}},drag:function(a){if(e){q(a.y);r().addClass(l.className)}},dragend:function(){n()},dragcancel:function(){n()}}).data("kendoDraggable");this._tableDropArea=this.content.kendoDropTargetArea({distance:0,group:"listGroup",filter:"tr[data-uid]",dragenter:function(a){f=a.dropTarget;o(c._modelFromElement(f));p();r().toggleClass(h.dropDenied,!e)},dragleave:function(){e=true;r()},drop:function(){var a=c._modelFromElement(f);var b=a.orderId;var g={parentId:a.parentId};if(e){switch(l.command){case"add":g.parentId=a.id;break;case"insert-before":if(a.parentId===d.parentId&&a.orderId>d.orderId){g.orderId=b-1}else{g.orderId=b}break;case"insert-after":if(a.parentId===d.parentId&&a.orderId>d.orderId){g.orderId=b}else{g.orderId=b+1}break}c.trigger("update",{task:d,updateInfo:g})}}}).data("kendoDropTargetArea");this._contentDropArea=this.element.kendoDropTargetArea({distance:0,group:"listGroup",filter:u+h.gridContent,drop:function(){var a=c._modelFromElement(c.content.find(k));var b=a.orderId;var e={parentId:null,orderId:d.parentId!==null?b+1:b};c.trigger("update",{task:d,updateInfo:e})}}).data("kendoDropTargetArea")},_resizable:function(){var b=this;var c=z.styles;var d=function(d){var e=a(d.currentTarget);var f=b.resizeHandle;var g=e.position();var h=g.left;var i=k(e);var j=e.closest("div");var m=d.clientX+a(window).scrollLeft();var n=b.options.columnResizeHandleWidth;h+=j.scrollLeft();if(!f){f=b.resizeHandle=a('<div class="'+c.resizeHandle+'"><div class="'+c.resizeHandleInner+'" /></div>')}var o=e.offset().left+i;var p=m>o-n&&m<o+n;if(!p){f.hide();return}j.append(f);f.show().css({top:g.top,left:h+i-n-1,height:l(e),width:n*3}).data("th",e)};if(!this.options.resizable){return}if(this._columnResizable){this._columnResizable.destroy()}this.header.find("thead").on("mousemove"+s,"th",d);this._columnResizable=this.header.kendoResizable({handle:u+c.resizeHandle,start:function(c){var d=a(c.currentTarget).data("th");var e="col:eq("+d.index()+")";var f=b.header.find("table");var g=b.content.find("table");b.element.addClass("k-grid-column-resizing");this.col=g.children("colgroup").find(e).add(f.find(e));this.th=d;this.startLocation=c.x.location;this.columnWidth=k(d);this.table=f.add(g);this.totalWidth=this.table.width()-k(f.find("th:last"))},resize:function(a){var b=11;var c=a.x.location-this.startLocation;if(this.columnWidth+c<b){c=b-this.columnWidth}this.table.css({minWidth:this.totalWidth+c});this.col.width(this.columnWidth+c)},resizeend:function(){b.element.removeClass("k-grid-column-resizing");var a=Math.floor(this.columnWidth);var c=Math.floor(k(this.th));var d=b.columns[this.th.index()];b.trigger("columnResize",{column:d,oldWidth:a,newWidth:c});this.table=this.col=this.th=null}}).data("kendoResizable")},_modelFromElement:function(a){var c=a.closest("tr");var d=this.dataSource.getByUid(c.attr(b.attr("uid")));return d},_columnFromElement:function(a){var b=a.closest("td");var c=b.parent();var d=c.children().index(b);return this.columns[d]}});j(true,h.GanttList,{styles:w})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.gantt.timeline",["kendo.dom","kendo.touch","kendo.draganddrop"],a)})(function(){var a={id:"gantt.timeline",name:"Gantt Timeline",category:"web",description:"The Gantt Timeline",depends:["dom","touch","draganddrop"],hidden:true};(function(a){var b=kendo.ui.Widget;var c=kendo.dom.element;var d=kendo.dom.text;var e=kendo.dom.html;var f=a.isPlainObject;var g=kendo._outerWidth;var h=kendo._outerHeight;var i=a.extend;var j=a.proxy;var k=kendo.support.browser;var l=false;var m=kendo.keys;var n=kendo.data.Query;var o="string";var p=".kendoGanttTimeline";var q="click";var r="dblclick";var s="mousemove";var t="mouseenter";var u="mouseleave";var v="keydown";var w=".";var x=kendo.template("#=kendo.toString(start, 't')#");var y=kendo.template("#=kendo.toString(start, 'ddd M/dd')#");var z=kendo.template("#=kendo.toString(start, 'ddd M/dd')# - #=kendo.toString(kendo.date.addDays(end, -1), 'ddd M/dd')#");var A=kendo.template("#=kendo.toString(start, 'MMM')#");var B=kendo.template("#=kendo.toString(start, 'yyyy')#");var C=kendo.template('<div class="#=styles.marquee#">'+'<div class="#=styles.marqueeColor#"></div>'+"</div>");var D=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#">'+'<div class="#=styles.tooltipContent#">'+"<div>#=messages.start#: #=kendo.toString(start, format)#</div>"+"<div>#=messages.end#: #=kendo.toString(end, format)#</div>"+"</div>"+"</div>");var E=kendo.template('<div style="z-index: 100002;" class="#=styles.tooltipWrapper#" >'+'<div class="#=styles.tooltipContent#">#=text#%</div>'+'<div class="#=styles.tooltipCallout#" style="left:13px;"></div>'+"</div>");var F=kendo.template('<div class="#=kendo.htmlEncode(styles.taskDetails)#">'+"<strong>#=kendo.htmlEncode(task.title)#</strong>"+'<div class="#=styles.taskDetailsPercent#">#=kendo.toString(task.percentComplete, "p0")#</div>'+'<ul class="#=styles.reset#">'+'<li>#=messages.start#: #=kendo.toString(task.start, "h:mm tt ddd, MMM d")#</li>'+'<li>#=messages.end#: #=kendo.toString(task.end, "h:mm tt ddd, MMM d")#</li>'+"</ul>"+"</div>");var G="<table style='visibility: hidden;'>"+"<tbody>"+"<tr style='height:{0}'>"+"<td>&nbsp;</td>"+"</tr>"+"</tbody>"+"</table>";var H={day:{type:"kendo.ui.GanttDayView"},week:{type:"kendo.ui.GanttWeekView"},month:{type:"kendo.ui.GanttMonthView"},year:{type:"kendo.ui.GanttYearView"}};function I(a){delete a.name;delete a.prefix;delete a.views;return a}function J(a){var b=[];var c=a.workWeekStart;b.push(c);while(a.workWeekEnd!=c){if(c>6){c-=7}else{c++}b.push(c)}return b}function K(){var b=kendo._activeElement();if(b&&b.nodeName.toLowerCase()!=="body"){a(b).blur()}}var L={alt:"k-alt",reset:"k-reset",nonWorking:"k-nonwork-hour",header:"k-header",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasksWrapper:"k-gantt-tables",rowsTable:"k-gantt-rows",columnsTable:"k-gantt-columns",tasksTable:"k-gantt-tasks",dependenciesWrapper:"k-gantt-dependencies",resource:"k-resource",resourceAlt:"k-resource k-alt",task:"k-task",taskSingle:"k-task-single",taskMilestone:"k-task-milestone",taskSummary:"k-task-summary",taskWrap:"k-task-wrap",taskMilestoneWrap:"k-milestone-wrap",resourcesWrap:"k-resources-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",taskDragHandle:"k-task-draghandle",taskContent:"k-task-content",taskTemplate:"k-task-template",taskActions:"k-task-actions",taskDelete:"k-task-delete",taskComplete:"k-task-complete",taskDetails:"k-task-details",taskDetailsPercent:"k-task-pct",link:"k-link",icon:"k-icon",iconDelete:"k-i-close",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskResizeHandleEast:"k-resize-e",taskSummaryProgress:"k-task-summary-progress",taskSummaryComplete:"k-task-summary-complete",line:"k-line",lineHorizontal:"k-line-h",lineVertical:"k-line-v",arrowWest:"k-arrow-w",arrowEast:"k-arrow-e",dragHint:"k-drag-hint",dependencyHint:"k-dependency-hint",tooltipWrapper:"k-widget k-tooltip k-popup k-group k-reset",tooltipContent:"k-tooltip-content",tooltipCallout:"k-callout k-callout-s",callout:"k-callout",marquee:"k-marquee k-gantt-marquee",marqueeColor:"k-marquee-color"};var M=kendo.ui.GanttView=b.extend({init:function(a,c){b.fn.init.call(this,a,c);this.title=this.options.title||this.options.name;this.header=this.element.find(w+M.styles.gridHeader);this.content=this.element.find(w+M.styles.gridContent);this.contentWidth=this.content.width();this._workDays=J(this.options);this._headerTree=c.headerTree;this._taskTree=c.taskTree;this._taskTemplate=c.taskTemplate?kendo.template(c.taskTemplate,i({},kendo.Template,c.templateSettings)):null;this._dependencyTree=c.dependencyTree;this._taskCoordinates={};this._currentTime()},destroy:function(){b.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);this.headerRow=null;this.header=null;this.content=null;this._dragHint=null;this._resizeHint=null;this._resizeTooltip=null;this._taskTooltip=null;this._percentCompleteResizeTooltip=null;this._headerTree=null;this._taskTree=null;this._dependencyTree=null},options:{showWorkHours:false,showWorkDays:false,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,slotSize:100,currentTimeMarker:{updateInterval:1e4}},renderLayout:function(){this._slots=this._createSlots();this._tableWidth=this._calculateTableWidth();this.createLayout(this._layout());this._slotDimensions();this._adjustHeight();this.content.find(w+M.styles.dependenciesWrapper).width(this._tableWidth)},_adjustHeight:function(){if(this.content){this.content.height(this.element.height()-h(this.header))}},createLayout:function(a){var b=this._headers(a);var d=this._colgroup();var e=this._headerTree;var f=c("thead",null,b);var g=c("table",{style:{width:this._tableWidth+"px"}},[d,f]);e.render([g]);this.headerRow=this.header.find("table:first tr").last()},_slotDimensions:function(){var a=this.headerRow[0].children;var b=this._timeSlots();var c;var d;for(var e=0,f=a.length;e<f;e++){d=a[e];c=b[e];c.offsetLeft=d.offsetLeft;c.offsetWidth=d.offsetWidth}},render:function(a){var b=a.length;var c=M.styles;var d;var e=this._rowsTable(b);var f=this._columnsTable(b);var g=this._tasksTable(a);var h=this.options.currentTimeMarker;var i=this.options.calculatedSize;var j;this._taskTree.render([e,f,g]);d=this.content.find(w+c.rowsTable);if(i){j=i.row*a.length;this.content.find(w+c.tasksTable).height(j);d.height(j)}this._contentHeight=d.height();this._rowHeight=i?i.row:this._contentHeight/d.find("tr").length;this.content.find(w+c.columnsTable).height(this._contentHeight);if(h!==false&&h.updateInterval!==undefined){this._renderCurrentTime()}},_rowsTable:function(a){var b=[];var e;var f=M.styles;var g=[null,{className:f.alt}];for(var h=0;h<a;h++){e=c("tr",g[h%2],[c("td",null,[d("Â ")])]);b.push(e)}return this._createTable(1,b,{className:f.rowsTable
})},_columnsTable:function(){var a=[];var b;var e=M.styles;var f=this._timeSlots();var g=f.length;var h;var i;var j=0;var k;for(var l=0;l<g;l++){h=f[l];k={};i=h.span;j+=i;if(i!==1){k.colspan=i}if(h.isNonWorking){k.className=e.nonWorking}a.push(c("td",k,[d("Â ")]))}b=c("tr",null,a);return this._createTable(j,[b],{className:e.columnsTable})},_tasksTable:function(a){var b=[];var d;var e;var f;var g;var h=M.styles;var i=this._taskCoordinates={};var j=this._calculateMilestoneWidth();var k=Math.round(j.width);var m=this.options.resourcesField;var n=[h.resource,h.resourceAlt];var o=this.options.calculatedSize;var p;var q=this._calculateResourcesMargin();var r=this._calculateTaskBorderWidth();var s;var t=function(a){var b;var c;b=f.left;c=b+f.width;if(g.isMilestone()){b-=k/2;c=b+k}i[g.id]={start:b,end:c,rowIndex:a}};for(var u=0,v=a.length;u<v;u++){g=a[u];f=this._taskPosition(g);f.borderWidth=r;d=c("tr",null);e=c("td");if(g.start<=this.end&&g.end>=this.start){e.children.push(this._renderTask(a[u],f));if(g[m]&&g[m].length){if(l){p=this._tableWidth-f.left}else{p=Math.max(f.width||j.clientWidth,0)+f.left}s={width:this._tableWidth-(p+q)+"px"};s[l?"right":"left"]=p+"px";if(o){s.height=o.cell+"px"}e.children.push(c("div",{className:h.resourcesWrap,style:s},this._renderResources(g[m],n[u%2])))}t(u)}d.children.push(e);b.push(d)}return this._createTable(1,b,{className:M.styles.tasksTable})},_createTable:function(a,b,d){var e=[];var f;var g;for(var h=0;h<a;h++){e.push(c("col"))}f=c("colgroup",null,e);g=c("tbody",null,b);if(!d.style){d.style={}}d.style.width=this._tableWidth+"px";return c("table",d,[f,g])},_calculateTableWidth:function(){var a=this._timeSlots();var b=0;var c=0;var d;var e;for(var f=0,g=a.length;f<g;f++){d=a[f].span;c+=d;if(d>b){b=d}}e=Math.round(c*this.options.slotSize/b);return e},_calculateMilestoneWidth:function(){var b;var c=M.styles.task+" "+M.styles.taskMilestone;var d=a("<div class='"+c+"' style='visibility: hidden; position: absolute'>");var e;this.content.append(d);e=d[0].getBoundingClientRect();b={width:e.right-e.left,clientWidth:d[0].clientWidth};d.remove();return b},_calculateResourcesMargin:function(){var b;var c=a("<div class='"+M.styles.resourcesWrap+"' style='visibility: hidden; position: absolute'>");this.content.append(c);b=parseInt(c.css(l?"margin-right":"margin-left"),10);c.remove();return b},_calculateTaskBorderWidth:function(){var b;var c=M.styles.task+" "+M.styles.taskSingle;var d=a("<div class='"+c+"' style='visibility: hidden; position: absolute'>");var e;this.content.append(d);e=kendo.getComputedStyles(d[0],["border-left-width"]);b=parseFloat(e["border-left-width"],10);d.remove();return b},_renderTask:function(a,b){var d;var e;var f=this.options.editable;var g;var h=b.left;var i=M.styles;var j=i.taskWrap;var k=this.options.calculatedSize;var m={};var n={className:j,style:{left:h+"px"}};if(k){n.style.height=k.cell+"px"}if(a.summary){e=this._renderSummary(a,b)}else if(a.isMilestone()){e=this._renderMilestone(a,b);n.className+=" "+i.taskMilestoneWrap}else{e=this._renderSingleTask(a,b)}d=c("div",n,[e]);if(f&&f.dependencyCreate!==false){d.children.push(c("div",{className:i.taskDot+" "+i.taskDotStart}));d.children.push(c("div",{className:i.taskDot+" "+i.taskDotEnd}))}if(!a.summary&&!a.isMilestone()&&f&&f.dragPercentComplete!==false&&f.update!==false&&this._taskTemplate===null){g=Math.round(b.width*a.percentComplete);m[l?"right":"left"]=g+"px";d.children.push(c("div",{className:i.taskDragHandle,style:m}))}return d},_renderSingleTask:function(a,b){var f=M.styles;var g=Math.round(b.width*a.percentComplete);var h=[];var i;var j=this.options.editable;if(this._taskTemplate!==null){i=e(this._taskTemplate(a))}else{i=d(a.title);h.push(c("div",{className:f.taskComplete,style:{width:g+"px"}}))}var k=c("div",{className:f.taskContent},[c("div",{className:f.taskTemplate},[i])]);h.push(k);if(j){if(j.destroy!==false){k.children.push(c("span",{className:f.taskActions},[c("a",{className:f.link+" "+f.taskDelete,href:"#","aria-label":"Delete"},[c("span",{className:f.icon+" "+f.iconDelete})])]))}if(j.resize!==false&&j.update!==false){k.children.push(c("span",{className:f.taskResizeHandle+" "+f.taskResizeHandleWest}));k.children.push(c("span",{className:f.taskResizeHandle+" "+f.taskResizeHandleEast}))}}var l=c("div",{className:f.task+" "+f.taskSingle,"data-uid":a.uid,style:{width:Math.max(b.width-b.borderWidth*2,0)+"px"}},h);return l},_renderMilestone:function(a){var b=M.styles;var d=c("div",{className:b.task+" "+b.taskMilestone,"data-uid":a.uid});return d},_renderSummary:function(a,b){var d=M.styles;var e=Math.round(b.width*a.percentComplete);var f=c("div",{className:d.task+" "+d.taskSummary,"data-uid":a.uid,style:{width:b.width+"px"}},[c("div",{className:d.taskSummaryProgress,style:{width:e+"px"}},[c("div",{className:d.taskSummaryComplete,style:{width:b.width+"px"}})])]);return f},_renderResources:function(a,b){var e=[];var f;for(var g=0,h=a.length;g<h;g++){f=a[g];e.push(c("span",{className:b,style:{color:f.get("color")}},[d(f.get("name"))]))}if(l){e.reverse()}return e},_taskPosition:function(a){var b=Math.round;var c=b(this._offset(l?a.end:a.start));var d=b(this._offset(l?a.start:a.end));return{left:c,width:d-c}},_offset:function(a){var b=this._timeSlots();var c;var d;var e;var f=0;var g;if(!b.length){return 0}g=this._slotIndex("start",a);c=b[g];if(c.end<a){f=c.offsetWidth}else if(c.start<=a){d=a-c.start;e=c.end-c.start;f=d/e*c.offsetWidth}if(l){f=c.offsetWidth+1-f}return c.offsetLeft+f},_slotIndex:function(a,b,c){var d=this._timeSlots();var e=0;var f=d.length-1;var g;if(c){d=[].slice.call(d).reverse()}do{g=Math.ceil((f+e)/2);if(d[g][a]<b){e=g}else{if(g===f){g--}f=g}}while(e!==f);if(c){e=d.length-1-e}return e},_timeByPosition:function(b,c,d){var e=this._slotByPosition(b);if(c){return d?e.end:e.start}var f=b-a(w+M.styles.tasksTable).offset().left;var g=e.end-e.start;var h=f-e.offsetLeft;if(l){h=e.offsetWidth-h}return new Date(e.start.getTime()+g*(h/e.offsetWidth))},_slotByPosition:function(b){var c=b-a(w+M.styles.tasksTable).offset().left;var d=this._slotIndex("offsetLeft",c,l);return this._timeSlots()[d]},_renderDependencies:function(a){var b=[];var c=this._dependencyTree;for(var d=0,e=a.length;d<e;d++){b.push.apply(b,this._renderDependency(a[d]))}c.render(b)},_renderDependency:function(a){var b=this._taskCoordinates[a.predecessorId];var c=this._taskCoordinates[a.successorId];var d;var e;if(!b||!c){return[]}e="_render"+["FF","FS","SF","SS"][l?3-a.type:a.type];d=this[e](b,c);for(var f=0,g=d.length;f<g;f++){d[f].attr["data-uid"]=a.uid}return d},_renderFF:function(a,b){var c=this._dependencyFF(a,b,false);c[c.length-1].children[0]=this._arrow(true);return c},_renderSS:function(a,b){var c=this._dependencyFF(b,a,true);c[0].children[0]=this._arrow(false);return c.reverse()},_renderFS:function(a,b){var c=this._dependencyFS(a,b,false);c[c.length-1].children[0]=this._arrow(false);return c},_renderSF:function(a,b){var c=this._dependencyFS(b,a,true);c[0].children[0]=this._arrow(true);return c.reverse()},_dependencyFF:function(a,b,c){var d=this;var e=[];var f=0;var g=0;var h=0;var i=0;var j=c?"start":"end";var k;var l=2;var m=1;var n=this._rowHeight;var o=10;var p=a.rowIndex*n+Math.floor(n/2)-1;var q=b.rowIndex*n+Math.floor(n/2)-1;var r=M.styles;var s=function(){e.push(d._line(r.line+" "+r.lineHorizontal,{left:f+"px",top:g+"px",width:h+"px"}))};var t=function(){e.push(d._line(r.line+" "+r.lineVertical,{left:f+"px",top:g+"px",height:i+"px"}))};f=a[j];g=p;h=o;k=b[j]-a[j];if(k>0!==c){h=Math.abs(k)+o}if(c){f-=h;h-=m;s()}else{s();f+=h-l}if(q<g){i=g-q;i+=l;g=q;t()}else{i=q-g;i+=l;t();g+=i-l}h=Math.abs(f-b[j]);if(!c){h-=m;f-=h}s();return e},_dependencyFS:function(a,b,c){var d=this;var e=[];var f=0;var g=0;var h=0;var i=0;var j=this._rowHeight;var k=Math.floor(j/2);var l=10;var m=2*l;var n=b.start-a.end;var o=2;var p=1;var q=a.rowIndex*j+Math.floor(j/2)-1;var r=b.rowIndex*j+Math.floor(j/2)-1;var s=M.styles;var t=function(){e.push(d._line(s.line+" "+s.lineHorizontal,{left:f+"px",top:g+"px",width:h+"px"}))};var u=function(){e.push(d._line(s.line+" "+s.lineVertical,{left:f+"px",top:g+"px",height:i+"px"}))};f=a.end;g=q;h=l;if(c){f+=p;if(n>m){h=n-(l-o)}h-=p}t();f+=h-o;if(n<=m){i=c?Math.abs(r-q)-k:k;if(r<q){g-=i;i+=o;u()}else{u();g+=i}h=a.end-b.start+m;if(h<l){h=l}f-=h-o;t()}if(r<q){i=g-r;g=r;i+=o;u()}else{i=r-g;u();g+=i}h=b.start-f;if(!c){h-=p}t();return e},_line:function(a,b){return c("div",{className:a,style:b})},_arrow:function(a){return c("span",{className:a?M.styles.arrowWest:M.styles.arrowEast})},_colgroup:function(){var a=this._timeSlots();var b=a.length;var d=[];for(var e=0;e<b;e++){for(var f=0,g=a[e].span;f<g;f++){d.push(c("col"))}}return c("colgroup",null,d)},_createDragHint:function(a){this._dragHint=a.clone().addClass(M.styles.dragHint).css("cursor","move");a.parent().append(this._dragHint)},_updateDragHint:function(a){var b=this._offset(a);this._dragHint.css({left:b})},_removeDragHint:function(){this._dragHint.remove();this._dragHint=null},_createResizeHint:function(b){var c=M.styles;var d=this._taskCoordinates[b.id].rowIndex*this._rowHeight;var e;var f;var i=this.options;var j=i.messages;this._resizeHint=a(C({styles:c})).css({top:0,height:this._contentHeight});this.content.append(this._resizeHint);this._resizeTooltip=a(D({styles:c,start:b.start,end:b.end,messages:j.views,format:i.resizeTooltipFormat})).css({top:0,left:0});this.content.append(this._resizeTooltip);this._resizeTooltipWidth=g(this._resizeTooltip);e=h(this._resizeTooltip);f=d-e;if(f<0){f=d+this._rowHeight}this._resizeTooltipTop=f},_updateResizeHint:function(b,c,d){var e=this._offset(l?c:b);var f=this._offset(l?b:c);var g=f-e;var h=d!==l?e:f;var i=this._tableWidth-kendo.support.scrollbar();var j=this._resizeTooltipWidth;var k=this.options;var m=k.messages;var n=a(w+M.styles.tasksTable).offset().left-a(w+M.styles.tasksWrapper).offset().left;if(l){e+=n}this._resizeHint.css({left:e,width:g});if(this._resizeTooltip){this._resizeTooltip.remove()}h-=Math.round(j/2);if(h<0){h=0}else if(h+j>i){h=i-j}if(l){h+=n}this._resizeTooltip=a(D({styles:M.styles,start:b,end:c,messages:m.views,format:k.resizeTooltipFormat})).css({top:this._resizeTooltipTop,left:h,"min-width":j}).appendTo(this.content)},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=null;this._resizeTooltip.remove();this._resizeTooltip=null},_updatePercentCompleteTooltip:function(b,c,d){this._removePercentCompleteTooltip();var e=this._percentCompleteResizeTooltip=a(E({styles:M.styles,text:d})).appendTo(this.element);var f=Math.round(g(e)/2);var i=e.find(w+M.styles.callout);var j=Math.round(g(i)/2);e.css({top:b-(h(e)+j),left:c-f});i.css("left",f-j)},_removePercentCompleteTooltip:function(){if(this._percentCompleteResizeTooltip){this._percentCompleteResizeTooltip.remove()}this._percentCompleteResizeTooltip=null},_updateDependencyDragHint:function(a,b,c){this._removeDependencyDragHint();if(c){this._creteVmlDependencyDragHint(a,b)}else{this._creteDependencyDragHint(a,b)}},_creteDependencyDragHint:function(b,c){var d=M.styles;var e=c.x-b.x;var f=c.y-b.y;var g=Math.sqrt(e*e+f*f);var h=Math.atan(f/e);if(e<0){h+=Math.PI}a("<div class='"+d.line+" "+d.lineHorizontal+" "+d.dependencyHint+"'></div>").css({top:b.y,left:b.x,width:g,"transform-origin":"0% 0","-ms-transform-origin":"0% 0","-webkit-transform-origin":"0% 0",transform:"rotate("+h+"rad)","-ms-transform":"rotate("+h+"rad)","-webkit-transform":"rotate("+h+"rad)"}).appendTo(this.content)},_creteVmlDependencyDragHint:function(b,c){var d=a("<kvml:line class='"+M.styles.dependencyHint+"' style='position:absolute; top: 0px; left: 0px;' strokecolor='black' strokeweight='2px' from='"+b.x+"px,"+b.y+"px' to='"+c.x+"px,"+c.y+"px'"+"></kvml:line>").appendTo(this.content);d[0].outerHTML=d[0].outerHTML},_removeDependencyDragHint:function(){this.content.find(w+M.styles.dependencyHint).remove()},_createTaskTooltip:function(b,c,d){var e=M.styles;var f=this.options;var i=this.content;var j=i.offset();var k=i.width();var m=kendo.scrollLeft(i);var n=a(c).parents("tr").first();var o=n.offset();var p=f.tooltip&&f.tooltip.template?kendo.template(f.tooltip.template):F;var q=l?d-(j.left+m+kendo.support.scrollbar()):d-(j.left-m);var r=o.top+h(n)-j.top+i.scrollTop();var s=this._taskTooltip=a('<div style="z-index: 100002;" class="'+e.tooltipWrapper+'" >'+'<div class="'+e.taskContent+'"></div></div>');var t;s.css({left:q,top:r}).appendTo(i).find(w+e.taskContent).append(p({styles:e,task:b,messages:f.messages.views}));if(h(s)<o.top-j.top){s.css("top",o.top-j.top-h(s)+i.scrollTop())}t=g(s);if(t+q-m>k){q-=t;if(q<m){q=m+k-(t+17)}s.css("left",q)}},_removeTaskTooltip:function(){if(this._taskTooltip){this._taskTooltip.remove()}this._taskTooltip=null},_scrollTo:function(a){var b=a.offset().left;var c=a.width();var d=b+c;var e=a.closest("tr");var f=e.offset().top;var g=e.height();var h=f+g;var i=this.content;var j=i.offset();var k=j.top;var l=i.height();var m=k+l;var n=j.left;var o=i.width();var p=n+o;var q=kendo.support.scrollbar();if(f<k){i.scrollTop(i.scrollTop()+(f-k))}else if(h>m){i.scrollTop(i.scrollTop()+(h+q-m))}if(b<n&&c>o&&d<p||d>p&&c<o){i.scrollLeft(i.scrollLeft()+(d+q-p))}else if(d>p&&c>o&&b>n||b<n&&c<o){i.scrollLeft(i.scrollLeft()+(b-n))}},_scrollToDate:function(a){var b=this.start;var c=this.end;var d;if(a>=b&&a<c){d=this._offset(a);if(kendo.support.isRtl(this.element)){d=this._tableWidth-d}kendo.scrollLeft(this.content,d)}},_timeSlots:function(){if(!this._slots||!this._slots.length){return[]}return this._slots[this._slots.length-1]},_headers:function(a){var b=[];var d;var f;var g;var h;var i=M.styles;for(var j=0,k=a.length;j<k;j++){d=a[j];f=[];for(var l=0,m=d.length;l<m;l++){g=d[l];h=e(g.text);f.push(c("th",{colspan:g.span,className:i.header+(g.isNonWorking?" "+i.nonWorking:"")},[h]))}b.push(c("tr",null,f))}return b},_hours:function(a,b){var c;var d=[];var e=this.options;var f=e.workDayStart.getHours();var g=e.workDayEnd.getHours();var h;var i;var j=e.hourSpan;a=new Date(a);b=new Date(b);if(e.showWorkHours){a.setHours(f)}while(a<b){c=new Date(a);i=c.getHours();h=i>=f&&i<g;c.setHours(c.getHours()+j);if(i==c.getHours()){c.setHours(c.getHours()+2*j)}if(!e.showWorkHours||h){d.push({start:a,end:c,isNonWorking:!h,span:1})}a=c}return d},_days:function(a,b){var c;var d=[];var e;a=new Date(a);b=new Date(b);while(a<b){c=b<kendo.date.nextDay(a)?b:kendo.date.nextDay(a);e=this._isWorkDay(a);if(!this.options.showWorkDays||e){d.push({start:a,end:c,isNonWorking:!e,span:1})}a=c}return d},_weeks:function(a,b){var c;var d=[];var e=this.calendarInfo().firstDay;var f;var g;a=new Date(a);b=new Date(b);while(a<b){c=kendo.date.dayOfWeek(kendo.date.addDays(a,1),e,1);if(c>b){c=b}f=this._days(a,c);g=f.length;if(g>0){d.push({start:f[0].start,end:f[g-1].end,span:g})}a=c}return d},_months:function(a,b){var c;var d;var e=[];var f;var g;a=new Date(a);b=new Date(b);while(a<b){c=new Date(a);d=kendo.date.firstDayOfMonth(new Date(c.setMonth(c.getMonth()+1)));c=b<d?b:d;f=this._days(a,c);g=f.length;if(g>0){e.push({start:f[0].start,end:f[g-1].end,span:g})}a=c}return e},_years:function(a,b){var c;var d;var e;var f=[];a=new Date(a);b=new Date(b);while(a<b){c=new Date(a);c=kendo.date.firstDayOfMonth(new Date(c.setMonth(12)));if(c>=b){c=b}e=c.getMonth()||12;d=e-a.getMonth();f.push({start:a,end:c,span:d});a=c}return f},_slotHeaders:function(a,b){var c=[];var d;for(var e=0,f=a.length;e<f;e++){d=a[e];c.push({text:b(d),isNonWorking:!!d.isNonWorking,span:d.span})}return c},_isWorkDay:function(a){var b=a.getDay();var c=this._workDays;for(var d=0,e=c.length;d<e;d++){if(c[d]===b){return true}}return false},calendarInfo:function(){return kendo.getCulture().calendars.standard},_renderCurrentTime:function(){var b=this._getCurrentTime();var c=this._offset(b);var d=a("<div class='k-current-time'></div>");var e=M.styles;var f=a(w+e.tasksWrapper);var g=a(w+e.tasksTable);var h;if(!this.content||!this._timeSlots().length){return}this.content.find(".k-current-time").remove();h=this._timeSlots()[this._slotIndex("start",b)];if(b<h.start||b>h.end){return}if(f.length&&g.length){c+=g.offset().left-f.offset().left}d.css({left:c+"px",top:"0px",width:"1px",height:this._contentHeight+"px"}).appendTo(this.content)},_getCurrentTime:function(){return new Date},_currentTime:function(){var a=this.options.currentTimeMarker;if(a!==false&&a.updateInterval!==undefined){this._renderCurrentTime();this._currentTimeUpdateTimer=setInterval(j(this._renderCurrentTime,this),a.updateInterval)}}});i(true,M,{styles:L});kendo.ui.GanttDayView=M.extend({name:"day",options:{timeHeaderTemplate:x,dayHeaderTemplate:y,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(a){var b=this.options.range;this.start=kendo.date.getDate(a.start);this.end=kendo.date.getDate(a.end);if(kendo.date.getMilliseconds(a.end)>0||this.end.getTime()===this.start.getTime()){this.end=kendo.date.addDays(this.end,1)}if(b&&b.start){this.start=kendo.date.getDate(b.start);this.start.setHours(b.start.getHours())}if(b&&b.end){this.end=kendo.date.getDate(b.end);this.end.setHours(b.end.getHours())}},_createSlots:function(){var a;var b;var c;var d;var e=[];a=this._days(this.start,this.end);c=[];for(var f=0,g=a.length;f<g;f++){b=a[f];d=this._hours(b.start,b.end);b.span=d.length;c.push.apply(c,d)}e.push(a);e.push(c);return e},_layout:function(){var a=[];var b=this.options;a.push(this._slotHeaders(this._slots[0],kendo.template(b.dayHeaderTemplate)));a.push(this._slotHeaders(this._slots[1],kendo.template(b.timeHeaderTemplate)));return a}});kendo.ui.GanttWeekView=M.extend({name:"week",options:{dayHeaderTemplate:y,weekHeaderTemplate:z,resizeTooltipFormat:"h:mm tt ddd, MMM d"},range:function(a){var b=this.options.range;var c=this.calendarInfo();var d=c.firstDay;var e=a.end;var f;if(d===e.getDay()){e.setDate(e.getDate()+7)}this.start=kendo.date.getDate(kendo.date.dayOfWeek(a.start,d,-1));this.end=kendo.date.getDate(kendo.date.dayOfWeek(e,d,1));if(b&&b.start){this.start=kendo.date.getDate(b.start)}if(b&&b.end){f=new Date(b.end);if(kendo.date.getDate(f)<b.end){this.end=kendo.date.getDate(new Date(f.setDate(f.getDate()+1)))}else{this.end=kendo.date.getDate(f)}}},_createSlots:function(){var a=[];a.push(this._weeks(this.start,this.end));a.push(this._days(this.start,this.end));return a},_layout:function(){var a=[];var b=this.options;a.push(this._slotHeaders(this._slots[0],kendo.template(b.weekHeaderTemplate)));a.push(this._slotHeaders(this._slots[1],kendo.template(b.dayHeaderTemplate)));return a}});kendo.ui.GanttMonthView=M.extend({name:"month",options:{weekHeaderTemplate:z,monthHeaderTemplate:A,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(a){var b=this.options.range;var c;this.start=kendo.date.firstDayOfMonth(a.start);this.end=kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(a.end)),1);if(b&&b.start){this.start=kendo.date.getDate(b.start)}if(b&&b.end){c=new Date(b.end);if(kendo.date.getDate(c)<b.end){this.end=kendo.date.getDate(new Date(c.setDate(c.getDate()+1)))}else{this.end=kendo.date.getDate(c)}}},_createSlots:function(){var a=[];a.push(this._months(this.start,this.end));a.push(this._weeks(this.start,this.end));return a},_layout:function(){var a=[];var b=this.options;a.push(this._slotHeaders(this._slots[0],kendo.template(b.monthHeaderTemplate)));a.push(this._slotHeaders(this._slots[1],kendo.template(b.weekHeaderTemplate)));return a}});kendo.ui.GanttYearView=M.extend({name:"year",options:{yearHeaderTemplate:B,monthHeaderTemplate:A,resizeTooltipFormat:"dddd, MMM d, yyyy"},range:function(a){var b=this.options.range;var c;this.start=kendo.date.firstDayOfMonth(new Date(a.start.setMonth(0)));this.end=kendo.date.firstDayOfMonth(new Date(a.end.setMonth(12)));if(b&&b.start){this.start=kendo.date.firstDayOfMonth(b.start)}if(b&&b.end){c=kendo.date.firstDayOfMonth(b.end);this.end=kendo.date.getDate(new Date(c.setMonth(c.getMonth()+1)))}},_createSlots:function(){var b=[];var c=this._months(this.start,this.end);a(c).each(function(a,b){b.span=1});b.push(this._years(this.start,this.end));b.push(c);return b},_layout:function(){var a=[];var b=this.options;a.push(this._slotHeaders(this._slots[0],kendo.template(b.yearHeaderTemplate)));a.push(this._slotHeaders(this._slots[1],kendo.template(b.monthHeaderTemplate)));return a}});var N={wrapper:"k-timeline k-grid k-widget",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",tasksWrapper:"k-gantt-tables",dependenciesWrapper:"k-gantt-dependencies",task:"k-task",line:"k-line",taskResizeHandle:"k-resize-handle",taskResizeHandleWest:"k-resize-w",taskDragHandle:"k-task-draghandle",taskComplete:"k-task-complete",taskDelete:"k-task-delete",taskWrapActive:"k-task-wrap-active",taskWrap:"k-task-wrap",taskDot:"k-task-dot",taskDotStart:"k-task-start",taskDotEnd:"k-task-end",hovered:"k-state-hover",selected:"k-state-selected",origin:"k-origin"};var O=kendo.ui.GanttTimeline=b.extend({init:function(a,c){b.fn.init.call(this,a,c);if(!this.options.views||!this.options.views.length){this.options.views=["day","week","month"]}l=kendo.support.isRtl(a);this._wrapper();this._domTrees();this._views();this._selectable();this._draggable();this._resizable();this._percentResizeDraggable();this._createDependencyDraggable();this._attachEvents();this._tooltip()},options:{name:"GanttTimeline",messages:{views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"}},snap:true,selectable:true,editable:true},destroy:function(){b.fn.destroy.call(this);clearTimeout(this._tooltipTimeout);if(this._currentTimeUpdateTimer){clearInterval(this._currentTimeUpdateTimer)}this._unbindView(this._selectedView);if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}if(this._percentDraggable){this._percentDraggable.destroy()}if(this._dependencyDraggable){this._dependencyDraggable.destroy()}if(this.touch){this.touch.destroy()}this._headerTree=null;this._taskTree=null;this._dependencyTree=null;this.wrapper.off(p);kendo.destroy(this.wrapper)},_wrapper:function(){var b=O.styles;var c=this;var d=this.options;var e=function(){var e=typeof d.rowHeight===o?d.rowHeight:d.rowHeight+"px";var f=a(kendo.format(G,e));var g;var i;var j=c.wrapper.find(w+b.tasksWrapper);j.append(f);g=h(f.find("tr"));i=f.find("td").height();f.remove();return{row:g,cell:i}};this.wrapper=this.element.addClass(b.wrapper).append("<div class='"+b.gridHeader+"'><div class='"+b.gridHeaderWrap+"'></div></div>").append("<div class='"+b.gridContentWrap+"'><div class='"+b.tasksWrapper+"'></div><div class='"+b.dependenciesWrapper+"'></div></div>");if(d.rowHeight){this._calculatedSize=e()}},_domTrees:function(){var a=O.styles;var b=kendo.dom.Tree;var c=this.wrapper;this._headerTree=new b(c.find(w+a.gridHeaderWrap)[0]);this._taskTree=new b(c.find(w+a.tasksWrapper)[0]);this._dependencyTree=new b(c.find(w+a.dependenciesWrapper)[0])},_views:function(){var a=this.options.views;var b;var c;var d;var e;var g;this.views={};for(var h=0,j=a.length;h<j;h++){b=a[h];c=f(b);if(c&&b.selectable===false){continue}d=c?typeof b.type!=="string"?b.title:b.type:b;e=H[d];if(e){if(c){b.type=e.type}e.title=this.options.messages.views[d]}b=i({title:d},e,c?b:{});if(d){this.views[d]=b;if(!g||b.selected){g=d}}}if(g){this._selectedViewName=g}},view:function(a){if(a){this._selectView(a);this.trigger("navigate",{view:a,action:"changeView"})}return this._selectedView},_selectView:function(a){if(a&&this.views[a]){if(this._selectedView){this._unbindView(this._selectedView)}this._selectedView=this._initializeView(a);this._selectedViewName=a}},_viewByIndex:function(a){var b;var c=this.views;for(b in c){if(!a){return b}a--}},_initializeView:function(a){var b=this.views[a];if(b){var c=b.type;if(typeof c==="string"){c=kendo.getter(b.type)(window)}if(c){var d={};i(d,this.options.range,b.range);var e=b.date||this.options.date;b=new c(this.wrapper,I(i(true,{headerTree:this._headerTree,taskTree:this._taskTree,dependencyTree:this._dependencyTree,calculatedSize:this._calculatedSize},b,this.options,{date:e,range:d})))}else{throw new Error("There is no such view")}}return b},_unbindView:function(a){if(a){a.destroy()}},_range:function(a){var b={field:"start",dir:"asc"};var c={field:"end",dir:"desc"};if(!a||!a.length){return{start:new Date,end:new Date}}var d=new n(a).sort(b).toArray()[0].start||new Date;var e=new n(a).sort(c).toArray()[0].end||new Date;return{start:new Date(d),end:new Date(e)}},_render:function(a){var b=this.view();var c=this._range(a);var d=b.options.date;this._tasks=a;b.range(c);b.renderLayout();b.render(a);if(d){b._scrollToDate(d)}},_renderDependencies:function(a){this.view()._renderDependencies(a)},_taskByUid:function(a){var b=this._tasks;var c=b.length;var d;for(var e=0;e<c;e++){d=b[e];if(d.uid===a){return d}}},_draggable:function(){var a=this;var b;var c;var d;var e;var f=this.options.snap;var g=O.styles;var h=this.options.editable;var i=function(){a.view()._removeDragHint();if(b){b.css("opacity",1)}b=null;c=null;a.dragInProgress=false};if(!h||h.move===false||h.update===false){return}this._moveDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:w+g.task,holdToDrag:kendo.support.mobileOS,ignore:w+g.taskResizeHandle});this._moveDraggable.bind("dragstart",function(g){var h=a.view();b=g.currentTarget.parent();c=a._taskByUid(g.currentTarget.attr("data-uid"));if(a.trigger("moveStart",{task:c})){g.preventDefault();return}d=c.start;e=h._timeByPosition(g.x.location,f)-d;h._createDragHint(b);b.css("opacity",.5);clearTimeout(a._tooltipTimeout);a.dragInProgress=true}).bind("drag",kendo.throttle(function(b){if(!a.dragInProgress){return}var g=a.view();var h=new Date(g._timeByPosition(b.x.location,f)-e);var i=h;if(!a.trigger("move",{task:c,start:h})){d=h;if(l){i=new Date(d.getTime()+c.duration())}g._updateDragHint(i)}},15)).bind("dragend",function(){a.trigger("moveEnd",{task:c,start:d});i()}).bind("dragcancel",function(){i()}).userEvents.bind("select",function(){K()})},_resizable:function(){var a=this;var b;var c;var d;var e;var f;var g=this.options.snap;var h=O.styles;var i=this.options.editable;var j=function(){a.view()._removeResizeHint();b=null;c=null;a.dragInProgress=false};if(!i||i.resize===false||i.update===false){return}this._resizeDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:w+h.taskResizeHandle,holdToDrag:false});this._resizeDraggable.bind("dragstart",function(g){f=g.currentTarget.hasClass(h.taskResizeHandleWest);if(l){f=!f}b=g.currentTarget.closest(w+h.task);c=a._taskByUid(b.attr("data-uid"));if(a.trigger("resizeStart",{task:c})){g.preventDefault();return}d=c.start;e=c.end;a.view()._createResizeHint(c);clearTimeout(a._tooltipTimeout);a.dragInProgress=true}).bind("drag",kendo.throttle(function(b){if(!a.dragInProgress){return}var h=a.view();var i=h._timeByPosition(b.x.location,g,!f);if(f){if(i<e){d=i}else{d=e}}else{if(i>d){e=i}else{e=d}}if(!a.trigger("resize",{task:c,start:d,end:e})){h._updateResizeHint(d,e,f)}},15)).bind("dragend",function(){a.trigger("resizeEnd",{task:c,resizeStart:f,start:d,end:e});j()}).bind("dragcancel",function(){j()}).userEvents.bind("select",function(){K()})},_percentResizeDraggable:function(){var a=this;var b;var c;var d;var e;var f;var h;var i;var j;var k;var m=O.styles;var n;var o=this.options.editable;var p=function(){a.view()._removePercentCompleteTooltip();c=null;b=null;a.dragInProgress=false};var q=function(a){c.find(w+m.taskComplete).width(a).end().siblings(w+m.taskDragHandle).css(l?"right":"left",a)};if(!o||o.dragPercentComplete===false||o.update===false){return}this._percentDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:w+m.taskDragHandle,holdToDrag:false});this._percentDraggable.bind("dragstart",function(j){if(a.trigger("percentResizeStart")){j.preventDefault();return}c=j.currentTarget.siblings(w+m.task);b=a._taskByUid(c.attr("data-uid"));i=b.percentComplete;d=c.offset();e=this.element.offset();f=c.find(w+m.taskComplete).width();h=g(c);clearTimeout(a._tooltipTimeout);a.dragInProgress=true}).bind("drag",kendo.throttle(function(b){if(!a.dragInProgress){return}n=l?-b.x.initialDelta:b.x.initialDelta;var c=Math.max(0,Math.min(h,f+n));i=Math.round(c/h*100);q(c);j=d.top-e.top;k=d.left+c-e.left;if(l){k+=h-2*c}a.view()._updatePercentCompleteTooltip(j,k,i)},15)).bind("dragend",function(){a.trigger("percentResizeEnd",{task:b,percentComplete:i/100});p()}).bind("dragcancel",function(){q(f);p()}).userEvents.bind("select",function(){K()})},_createDependencyDraggable:function(){var b=this;var c;var d=a();var e=a();var f;var i;var j=k.msie&&k.version<9;var l=O.styles;var m=this.options.editable;var n=function(){c.css("display","").removeClass(l.hovered);c.parent().removeClass(l.origin);c=null;o(false);e=a();d=a();b.view()._removeDependencyDragHint();b.dragInProgress=false};var o=function(a){if(!e.hasClass(l.origin)){e.find(w+l.taskDot).css("display",a?"block":"");d.toggleClass(l.hovered,a)}};if(!m||m.dependencyCreate===false){return}if(j&&document.namespaces){document.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML")}this._dependencyDraggable=new kendo.ui.Draggable(this.wrapper,{distance:0,filter:w+l.taskDot,holdToDrag:false});this._dependencyDraggable.bind("dragstart",function(a){if(b.trigger("dependencyDragStart")){a.preventDefault();return}c=a.currentTarget.css("display","block").addClass(l.hovered);c.parent().addClass(l.origin);var d=c.offset();var e=b.wrapper.find(w+l.tasksWrapper).offset();f=Math.round(d.left-e.left+h(c)/2);i=Math.round(d.top-e.top+g(c)/2);clearTimeout(b._tooltipTimeout);b.dragInProgress=true}).bind("drag",kendo.throttle(function(c){if(!b.dragInProgress){return}b.view()._removeDependencyDragHint();var g=a(kendo.elementUnderCursor(c));var h=b.wrapper.find(w+l.tasksWrapper).offset();var k=c.x.location-h.left;var m=c.y.location-h.top;b.view()._updateDependencyDragHint({x:f,y:i},{x:k,y:m},j);o(false);d=g.hasClass(l.taskDot)?g:a();e=g.closest(w+l.taskWrap);o(true)},15)).bind("dragend",function(){if(d.length){var a=c.hasClass(l.taskDotStart);var e=d.hasClass(l.taskDotStart);var f=a?e?3:2:e?1:0;var g=b._taskByUid(c.siblings(w+l.task).attr("data-uid"));var h=b._taskByUid(d.siblings(w+l.task).attr("data-uid"));if(g!==h){b.trigger("dependencyDragEnd",{type:f,predecessor:g,successor:h})}}n()}).bind("dragcancel",function(){n()}).userEvents.bind("select",function(){K()})},_selectable:function(){var b=this;var c=O.styles;if(this.options.selectable){this.wrapper.on(q+p,w+c.task,function(c){c.stopPropagation();if(!c.ctrlKey){b.trigger("select",{uid:a(this).attr("data-uid")})}else{b.trigger("clear")}}).on(q+p,w+c.taskWrap,function(b){b.stopPropagation();a(this).css("z-index","0");var d=a(document.elementFromPoint(b.clientX,b.clientY));if(d.hasClass(c.line)){d.click()}a(this).css("z-index","")}).on(q+p,w+c.tasksWrapper,function(){if(b.selectDependency().length>0){b.clearSelection()}else{b.trigger("clear")}}).on(q+p,w+c.line,function(a){a.stopPropagation();b.selectDependency(this)})}},select:function(a){var b=this.wrapper.find(a);var c=O.styles;if(b.length){this.clearSelection();b.addClass(c.selected);if(kendo.support.mobileOS){b.parent().addClass(c.taskWrapActive)}return}return this.wrapper.find(w+c.task+w+c.selected)},selectDependency:function(b){var c=this.wrapper.find(b);var d;var e=O.styles;if(c.length){this.clearSelection();this.trigger("clear");d=a(c).attr("data-uid");this.wrapper.find(w+e.line+"[data-uid='"+d+"']").addClass(e.selected);return}return this.wrapper.find(w+e.line+w+e.selected)},clearSelection:function(){var a=O.styles;this.wrapper.find(w+a.selected).removeClass(a.selected);if(kendo.support.mobileOS){this.wrapper.find(w+a.taskWrapActive).removeClass(a.taskWrapActive)}},_attachEvents:function(){var b=this;var c=O.styles;var d=this.options.editable;if(d){this._tabindex();this.wrapper.on(q+p,w+c.taskDelete,function(d){b.trigger("removeTask",{uid:a(this).closest(w+c.task).attr("data-uid")});d.stopPropagation();d.preventDefault()}).on(v+p,function(a){var c;var d=b.options.editable;if(a.keyCode===m.DELETE&&d&&d.dependencyDestroy!==false){
c=b.selectDependency();if(c.length){b.trigger("removeDependency",{uid:c.attr("data-uid")});b.clearSelection()}}});if(!kendo.support.mobileOS){this.wrapper.on(r+p,w+c.task,function(c){if(b.options.editable.update!==false){b.trigger("editTask",{uid:a(this).attr("data-uid")});c.stopPropagation();c.preventDefault()}})}else{this.touch=this.wrapper.kendoTouch({filter:w+c.task,doubletap:function(c){if(b.options.editable.update!==false){b.trigger("editTask",{uid:a(c.touch.currentTarget).attr("data-uid")})}}}).data("kendoTouch")}}},_tooltip:function(){var b=this;var c=this.options.tooltip;var d=O.styles;var e;var f=function(a){e=a.clientX};if(c&&c.visible===false){return}if(!kendo.support.mobileOS){this.wrapper.on(t+p,w+d.task,function(){var c=this;var d=b._taskByUid(a(this).attr("data-uid"));if(b.dragInProgress){return}b._tooltipTimeout=setTimeout(function(){b.view()._createTaskTooltip(d,c,e)},800);a(this).on(s,f)}).on(u+p,w+d.task,function(){clearTimeout(b._tooltipTimeout);b.view()._removeTaskTooltip();a(this).off(s,f)})}else{this.wrapper.on(q+p,w+d.taskDelete,function(a){a.stopPropagation();b.view()._removeTaskTooltip()}).on(u+p,w+d.task,function(c){var e=a(c.relatedTarget).parents(w+d.taskWrap,w+d.task);if(e.length===0){b.view()._removeTaskTooltip()}});if(this.touch){this.touch.bind("tap",function(c){var d=c.touch.target;var e=b._taskByUid(a(d).attr("data-uid"));var f=c.touch.x.client;if(b.view()._taskTooltip){b.view()._removeTaskTooltip()}b.view()._createTaskTooltip(e,d,f)}).bind("doubletap",function(){b.view()._removeTaskTooltip()})}}}});i(true,O,{styles:N})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.gantt",["kendo.data","kendo.popup","kendo.window","kendo.resizable","kendo.gantt.list","kendo.gantt.timeline","kendo.grid","kendo.pdf"],a)})(function(){var a={id:"gantt",name:"Gantt",category:"web",description:"The Gantt component.",depends:["data","popup","resizable","window","gantt.list","gantt.timeline","grid"]};(function(a,b){var c=window.kendo;var d=a.extend({F10:121},c.keys);var e="matchMedia"in window;var f=c.support.browser;var g=c.support.mobileOS;var h=c.Observable;var i=c.ui.Widget;var j=c.data.DataSource;var k=c.data.ObservableObject;var l=c.data.ObservableArray;var m=c.data.Query;var n=a.isArray;var o=a.inArray;var p=c.isFunction;var q=a.proxy;var r=a.extend;var s=a.isPlainObject;var t=a.map;var u=c._outerWidth;var v=c._outerHeight;var w=3;var x=".kendoGantt";var y="p0";var z="tabIndex";var A="click";var B="width";var C="string";var D={down:{origin:"bottom left",position:"top left"},up:{origin:"top left",position:"bottom left"}};var E="aria-activedescendant";var F="aria-label";var G="gantt_active_cell";var H="action-option-focused";var I=".";var J="Are you sure you want to delete this task?";var K="Are you sure you want to delete this dependency?";var L=c.template('<button class="#=styles.buttonToggle#" type="button" '+F+'="Toggle"><span class="#=styles.iconToggle#"></span></button>');var M='<button class="#=styles.button# #=className#" type="button" '+"#if (action) {#"+'data-action="#=action#"'+"#}#"+'><span class="#=iconClass#"></span><span>#=text#</span></button>';var N='<a class="#=className#" #=attr# href="\\#">#=text#</a>';var O=c.template('<li class="#=styles.currentView# #=styles.viewButtonDefault#"><a href="\\#" class="#=styles.link#">&nbps;</a></li>');var P=c.template('<ul class="#=styles.viewsWrapper#">'+"#for(var view in views){#"+'<li class="#=styles.viewButtonDefault# #=styles.viewButton#-#= view.toLowerCase() #" data-#=ns#name="#=view#"><a href="\\#" class="#=styles.link#">#=views[view].title#</a></li>'+"#}#"+"</ul>");var Q=c.template('<div class="#=styles.popupWrapper#">'+'<ul class="#=styles.popupList#" role="listbox">'+"#for(var i = 0, l = actions.length; i < l; i++){#"+'<li class="#=styles.item#" data-action="#=actions[i].data#" role="option">#=actions[i].text#</span>'+"#}#"+"</ul>"+"</div>");var R=function(b,d){var e={name:d.field,title:d.title};var f=d.model.fields[d.field].validation;if(f&&s(f)&&f.message){e[c.attr("dateCompare-msg")]=f.message}a('<input type="text" required '+c.attr("type")+'="date" '+c.attr("role")+'="datetimepicker" '+c.attr("bind")+'="value:'+d.field+'" '+c.attr("validate")+"='true' />").attr(e).appendTo(b);a("<span "+c.attr("for")+'="'+d.field+'" class="k-invalid-msg"/>').hide().appendTo(b)};var S=function(b,c){a('<a href="#" class="'+c.styles.button+'">'+c.messages.assignButton+"</a>").click(c.click).appendTo(b)};var T={wrapper:"k-widget k-gantt",rowHeight:"k-gantt-rowheight",listWrapper:"k-gantt-layout k-gantt-treelist",list:"k-gantt-treelist",timelineWrapper:"k-gantt-layout k-gantt-timeline",timeline:"k-gantt-timeline",splitBarWrapper:"k-splitbar k-state-default k-splitbar-horizontal k-splitbar-draggable-horizontal k-gantt-layout",splitBar:"k-splitbar",splitBarHover:"k-splitbar-horizontal-hover",popupWrapper:"k-list-container",popupList:"k-list k-reset",resizeHandle:"k-resize-handle",icon:"k-icon",item:"k-item",line:"k-line",buttonDelete:"k-gantt-delete",buttonCancel:"k-gantt-cancel",buttonSave:"k-gantt-update",buttonToggle:"k-gantt-toggle",primary:"k-primary",hovered:"k-state-hover",selected:"k-state-selected",focused:"k-state-focused",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",tasks:"k-gantt-tasks",popup:{form:"k-popup-edit-form",editForm:"k-gantt-edit-form",formContainer:"k-edit-form-container",resourcesFormContainer:"k-resources-form-container",message:"k-popup-message",buttonsContainer:"k-edit-buttons k-state-default",button:"k-button",editField:"k-edit-field",editLabel:"k-edit-label",resourcesField:"k-gantt-resources"},toolbar:{headerWrapper:"k-floatwrap k-header k-gantt-toolbar",footerWrapper:"k-floatwrap k-header k-gantt-toolbar",toolbar:"k-gantt-toolbar",expanded:"k-state-expanded",views:"k-gantt-views",viewsWrapper:"k-reset k-header k-gantt-views",actions:"k-gantt-actions",button:"k-button k-button-icontext",buttonToggle:"k-button k-button-icon k-gantt-toggle",iconPlus:"k-icon k-i-plus",iconPdf:"k-icon k-i-file-pdf",iconToggle:"k-icon k-i-layout-1-by-4",viewButtonDefault:"k-state-default",viewButton:"k-view",currentView:"k-current-view",link:"k-link",pdfButton:"k-gantt-pdf",appendButton:"k-gantt-create"}};function U(a){return"["+c.attr("uid")+(a?"='"+a+"']":"]")}function V(a){delete a.name;delete a.prefix;delete a.remove;delete a.edit;delete a.add;delete a.navigate;return a}function W(a){if(a.filter("[name=end], [name=start]").length){var b=a.attr("name");var d=c.widgetInstance(a,c.ui);var e={};var f=a;var g;var h;while(f!==window&&!g){f=f.parent();g=f.data("kendoEditable")}h=g?g.options.model:null;if(!h){return true}e.start=h.start;e.end=h.end;e[b]=d?d.value():c.parseDate(a.value());return e.start<=e.end}return true}function X(b,d){var e=b.parents("["+c.attr("role")+'="gantt"]');var f=[];var g=Y(e);b.attr(z,0);if(d){g.each(function(b,c){f[b]=a(c).scrollTop()})}try{b[0].setActive()}catch(a){b[0].focus()}if(d){g.each(function(b,c){a(c).scrollTop(f[b])})}}function Y(b){return a(b).parentsUntil("body").filter(function(a,b){var d=c.getComputedStyles(b,["overflow"]);return d.overflow!="visible"}).add(window)}var Z;var $=h.extend({init:function(a,b){h.fn.init.call(this);this.element=a;this.options=r(true,{},this.options,b);this._popup()},options:{direction:"down",navigatable:false},_current:function(a){var b=ia.styles;var c=this.list.find(I+b.focused);var d=c[a]();if(d.length){c.removeClass(b.focused).removeAttr("id");d.addClass(b.focused).attr("id",H);this.list.find("ul").removeAttr(E).attr(E,H)}},_popup:function(){var b=this;var e=ia.styles;var f="li"+I+e.item;var g=I+e.toolbar.appendButton;var h=this.options.messages.actions;var i=this.options.navigatable;this.list=a(Q({styles:e,actions:[{data:"add",text:h.addChild},{data:"insert-before",text:h.insertBefore},{data:"insert-after",text:h.insertAfter}]}));this.element.append(this.list);this.popup=new c.ui.Popup(this.list,r({anchor:this.element.find(g),open:function(){b._adjustListWidth()},animation:this.options.animation},D[this.options.direction]));this.element.on(A+x,g,function(d){var f=a(this);var g=f.attr(c.attr("action"));d.preventDefault();if(g){b.trigger("command",{type:g})}else{b.popup.open();if(i){b.list.find("li:first").addClass(e.focused).attr("id",H).end().find("ul").attr({TABINDEX:0,"aria-activedescendant":H}).focus()}}});this.list.find(f).hover(function(){a(this).addClass(e.hovered)},function(){a(this).removeClass(e.hovered)}).end().on(A+x,f,function(){b.trigger("command",{type:a(this).attr(c.attr("action"))});b.popup.close()});if(i){this.popup.bind("close",function(){b.list.find(f).removeClass(e.focused).end().find("ul").attr(z,0);b.element.parents("["+c.attr("role")+'="gantt"]').find(I+e.gridContent+" > table:first").focus()});this.list.find("ul").on("keydown"+x,function(a){var c=a.keyCode;switch(c){case d.UP:a.preventDefault();b._current("prev");break;case d.DOWN:a.preventDefault();b._current("next");break;case d.ENTER:b.list.find(I+e.focused).click();break;case d.ESC:a.preventDefault();b.popup.close();break}})}},_adjustListWidth:function(){var a=this.list;var b=ia.styles;var c=a[0].style.width;var d=this.element.find(I+b.toolbar.appendButton);var e=u(a);var g;var h;if(!a.data(B)&&c){return}g=window.getComputedStyle?window.getComputedStyle(d[0],null):0;h=g?parseFloat(g.width):u(d);if(g&&(f.mozilla||f.msie)){h+=parseFloat(g.paddingLeft)+parseFloat(g.paddingRight)+parseFloat(g.borderLeftWidth)+parseFloat(g.borderRightWidth)}if(a.css("box-sizing")!=="border-box"){c=h-(u(a)-a.width())}else{c=h}if(e>c){c=e}a.css({fontFamily:d.css("font-family"),width:c}).data(B,c)},destroy:function(){clearTimeout(this._focusTimeout);this.popup.destroy();this.element.off(x);this.list.off(x);this.unbind()}});var _=function(a,b){return function(c){c=n(c)?{data:c}:c;var d=c||{};var e=d.data;d.data=e;if(!(d instanceof a)&&d instanceof j){throw new Error("Incorrect DataSource type. Only "+b+" instances are supported")}return d instanceof a?d:new a(d)}};var aa=c.data.Model.define({id:"id",fields:{id:{type:"number"},predecessorId:{type:"number"},successorId:{type:"number"},type:{type:"number"}}});var ba=j.extend({init:function(a){j.fn.init.call(this,r(true,{},{schema:{modelBase:aa,model:aa}},a))},successors:function(a){return this._dependencies("predecessorId",a)},predecessors:function(a){return this._dependencies("successorId",a)},dependencies:function(a){var b=this.predecessors(a);var c=this.successors(a);b.push.apply(b,c);return b},_dependencies:function(a,b){var c=this.view();var d={field:a,operator:"eq",value:b};c=new m(c).filter(d).toArray();return c}});ba.create=_(ba,"GanttDependencyDataSource");var ca=c.data.Model.define({duration:function(){var a=this.end;var b=this.start;return a-b},isMilestone:function(){return this.duration()===0},_offset:function(a){var b=["start","end"];var c;for(var d=0;d<b.length;d++){c=new Date(this.get(b[d]).getTime()+a);this.set(b[d],c)}},id:"id",fields:{id:{type:"number"},parentId:{type:"number",defaultValue:null,validation:{required:true}},orderId:{type:"number",validation:{required:true}},title:{type:"string",defaultValue:"New task"},start:{type:"date",validation:{required:true}},end:{type:"date",validation:{required:true,dateCompare:W,message:"End date should be after or equal to the start date"}},percentComplete:{type:"number",validation:{required:true,min:0,max:1,step:.01}},summary:{type:"boolean"},expanded:{type:"boolean",defaultValue:true}}});var da=j.extend({init:function(a){j.fn.init.call(this,r(true,{},{schema:{modelBase:ca,model:ca}},a))},remove:function(a){var b=a.get("parentId");var c=this.taskAllChildren(a);this._removeItems(c);a=j.fn.remove.call(this,a);this._childRemoved(b,a.get("orderId"));return a},add:function(a){if(!a){return}a=this._toGanttTask(a);return this.insert(this.taskSiblings(a).length,a)},insert:function(a,b){if(!b){return}b=this._toGanttTask(b);b.set("orderId",a);b=j.fn.insert.call(this,a,b);this._reorderSiblings(b,this.taskSiblings(b).length-1);this._resolveSummaryFields(this.taskParent(b));return b},taskChildren:function(a){var c=this.view();var d={field:"parentId",operator:"eq",value:null};var e=this._sort&&this._sort.length?this._sort:{field:"orderId",dir:"asc"};var f;if(!!a){f=a.get("id");if(f===b||f===null||f===""){return[]}d.value=f}c=new m(c).filter(d).sort(e).toArray();return c},taskAllChildren:function(a){var b=[];var c=this;var d=function(a){var e=c.taskChildren(a);b.push.apply(b,e);t(e,d)};if(!!a){d(a)}else{b=this.view()}return b},taskSiblings:function(a){if(!a){return null}var b=this.taskParent(a);return this.taskChildren(b)},taskParent:function(a){if(!a||a.get("parentId")===null){return null}return this.get(a.parentId)},taskLevel:function(a){var b=0;var c=this.taskParent(a);while(c!==null){b+=1;c=this.taskParent(c)}return b},taskTree:function(a){var b=[];var c;var d=this.taskChildren(a);for(var e=0,f=d.length;e<f;e++){c=d[e];b.push(c);if(c.get("expanded")){var g=this.taskTree(c);b.push.apply(b,g)}}return b},update:function(a,c){var d=this;var e;var f=function(a,b){var c=d.taskAllChildren(a);for(var e=0,f=c.length;e<f;e++){c[e]._offset(b)}};var g=function(a){var b=a.field;var c=a.sender;switch(b){case"start":d._resolveSummaryStart(d.taskParent(c));f(c,c.get(b).getTime()-e.getTime());break;case"end":d._resolveSummaryEnd(d.taskParent(c));break;case"percentComplete":d._resolveSummaryPercentComplete(d.taskParent(c));break;case"orderId":d._reorderSiblings(c,e);break}};if(c.parentId!==b){e=a.get("parentId");if(e!==c.parentId){a.set("parentId",c.parentId);d._childRemoved(e,a.get("orderId"));a.set("orderId",d.taskSiblings(a).length-1);d._resolveSummaryFields(d.taskParent(a))}delete c.parentId}a.bind("change",g);for(var h in c){e=a.get(h);a.set(h,c[h])}a.unbind("change",g)},_resolveSummaryFields:function(a){if(!a){return}this._updateSummary(a);if(!this.taskChildren(a).length){return}this._resolveSummaryStart(a);this._resolveSummaryEnd(a);this._resolveSummaryPercentComplete(a)},_resolveSummaryStart:function(a){var b=this;var c=function(a){var c=b.taskChildren(a);var d=c[0].start.getTime();var e;for(var f=1,g=c.length;f<g;f++){e=c[f].start.getTime();if(e<d){d=e}}return new Date(d)};this._updateSummaryRecursive(a,"start",c)},_resolveSummaryEnd:function(a){var b=this;var c=function(a){var c=b.taskChildren(a);var d=c[0].end.getTime();var e;for(var f=1,g=c.length;f<g;f++){e=c[f].end.getTime();if(e>d){d=e}}return new Date(d)};this._updateSummaryRecursive(a,"end",c)},_resolveSummaryPercentComplete:function(a){var b=this;var c=function(a){var c=b.taskChildren(a);var d=new m(c).aggregate([{field:"percentComplete",aggregate:"average"}]);return d.percentComplete.average};this._updateSummaryRecursive(a,"percentComplete",c)},_updateSummaryRecursive:function(a,b,c){if(!a){return}var d=c(a);a.set(b,d);var e=this.taskParent(a);if(e){this._updateSummaryRecursive(e,b,c)}},_childRemoved:function(a,b){var c=a===null?null:this.get(a);var d=this.taskChildren(c);for(var e=b,f=d.length;e<f;e++){d[e].set("orderId",e)}this._resolveSummaryFields(c)},_reorderSiblings:function(a,b){var c=a.get("orderId");var d=c>b;var e=d?b:c;var f=d?c:b;var g=d?e:e+1;var h=this.taskSiblings(a);f=Math.min(f,h.length-1);for(var i=e;i<=f;i++){if(h[i]===a){continue}h[i].set("orderId",g);g+=1}},_updateSummary:function(a){if(a!==null){var b=this.taskChildren(a).length;a.set("summary",b>0)}},_toGanttTask:function(a){if(!(a instanceof ca)){var b=a;a=this._createNewModel();a.accept(b)}return a}});da.create=_(da,"GanttDataSource");r(true,c.data,{GanttDataSource:da,GanttTask:ca,GanttDependencyDataSource:ba,GanttDependency:aa});var ea={desktop:{dateRange:R,resources:S}};var fa=c.Observable.extend({init:function(a,b){c.Observable.fn.init.call(this);this.element=a;this.options=r(true,{},this.options,b);this.createButton=this.options.createButton},fields:function(b,c){var d=this;var e=this.options;var f=e.messages.editor;var g=e.resources;var h;var i=function(a){a.preventDefault();g.editor(d.container.find(I+ia.styles.popup.resourcesField),c)};if(e.editable.template){h=a.map(c.fields,function(a,b){return{field:b}})}else{h=[{field:"title",title:f.title},{field:"start",title:f.start,editor:b.dateRange},{field:"end",title:f.end,editor:b.dateRange},{field:"percentComplete",title:f.percentComplete,format:y}];if(c.get(g.field)){h.push({field:g.field,title:f.resources,messages:f,editor:b.resources,click:i,styles:ia.styles.popup})}}return h},_buildEditTemplate:function(a,b,d){var e=this.options.resources;var f=this.options.editable.template;var g=r({},c.Template,this.options.templateSettings);var h=g.paramName;var i=ia.styles.popup;var j="";if(f){if(typeof f===C){f=window.unescape(f)}j+=c.template(f,g)(a)}else{for(var k=0,l=b.length;k<l;k++){var m=b[k];j+='<div class="'+i.editLabel+'"><label for="'+m.field+'">'+(m.title||m.field||"")+"</label></div>";if(m.field===e.field){j+='<div class="'+i.resourcesField+'" style="display:none"></div>'}if(!a.editable||a.editable(m.field)){d.push(m);j+="<div "+c.attr("container-for")+'="'+m.field+'" class="'+i.editField+'"></div>'}else{var n="#:";if(m.field){m=c.expr(m.field,h);n+=m+"==null?'':"+m}else{n+="''"}n+="#";n=c.template(n,g);j+='<div class="'+i.editField+'">'+n(a)+"</div>"}}}return j}});var ga=fa.extend({destroy:function(){this.close();this.unbind()},editTask:function(a){this.editable=this._createPopupEditor(a)},close:function(){var a=this;var b=function(){if(a.editable){a.editable.destroy();a.editable=null;a.container=null}if(a.popup){a.popup.destroy();a.popup=null}};if(this.editable&&this.container.is(":visible")){a.trigger("close",{window:a.container});this.container.data("kendoWindow").bind("deactivate",b).close()}else{b()}},showDialog:function(b){var d=b.buttons;var e=ia.styles.popup;var f=c.format('<div class="{0}"><div class="{1}"><p class="{2}">{3}</p><div class="{4}">',e.form,e.formContainer,e.message,b.text,e.buttonsContainer);for(var g=0,h=d.length;g<h;g++){f+=this.createButton(d[g])}f+="</div></div></div>";var i=this.element;if(this.popup){this.popup.destroy()}var j=this.popup=a(f).appendTo(i).eq(0).on("click",I+e.button,function(b){b.preventDefault();j.close();var c=a(b.currentTarget).index();d[c].click()}).kendoWindow({modal:true,autoFocus:false,resizable:false,draggable:false,title:b.title,visible:false,deactivate:function(){this.destroy();i.focus()}}).getKendoWindow();j.center().open();j.element.find(".k-primary").focus()},_createPopupEditor:function(b){var d=this;var e={};var f=this.options.messages;var g=ia.styles;var h=g.popup;var i=c.format('<div {0}="{1}" class="{2} {3}"><div class="{4}">',c.attr("uid"),b.uid,h.form,h.editForm,h.formContainer);var j=this.fields(ea.desktop,b);var k=[];i+=this._buildEditTemplate(b,j,k);i+='<div class="'+h.buttonsContainer+'">';i+=this.createButton({name:"update",text:f.save,className:ia.styles.primary});i+=this.createButton({name:"cancel",text:f.cancel});if(d.options.editable.destroy!==false){i+=this.createButton({name:"delete",text:f.destroy})}i+="</div></div></div>";var l=this.container=a(i).appendTo(this.element).eq(0).kendoWindow(r({modal:true,resizable:false,draggable:true,title:f.editor.editorTitle,visible:false,close:function(a){if(a.userTriggered){if(d.trigger("cancel",{container:l,model:b})){a.preventDefault()}}}},e));var m=l.kendoEditable({fields:k,model:b,clearContainer:false,validateOnBlur:true,target:d.options.target}).data("kendoEditable");c.cycleForm(l);if(!this.trigger("edit",{container:l,model:b})){l.data("kendoWindow").center().open();l.on(A+x,I+g.buttonCancel,function(a){a.preventDefault();a.stopPropagation();d.trigger("cancel",{container:l,model:b})});l.on(A+x,I+g.buttonSave,function(a){a.preventDefault();a.stopPropagation();var c=d.fields(ea.desktop,b);var e={};var f;for(var g=0,h=c.length;g<h;g++){f=c[g].field;e[f]=b.get(f)}d.trigger("save",{container:l,model:b,updateInfo:e})});l.on(A+x,I+g.buttonDelete,function(a){a.preventDefault();a.stopPropagation();d.trigger("remove",{container:l,model:b})})}else{d.trigger("cancel",{container:l,model:b})}return m}});var ha=i.extend({init:function(a,b){i.fn.init.call(this,a,b);this.wrapper=this.element;this.model=this.options.model;this.resourcesField=this.options.resourcesField;this.createButton=this.options.createButton;this._initContainer();this._attachHandlers()},events:["save"],open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",q(this.destroy,this)).close()},destroy:function(){this._dettachHandlers();this.grid.destroy();this.grid=null;this.window.destroy();this.window=null;i.fn.destroy.call(this);c.destroy(this.wrapper);this.element=this.wrapper=null},_attachHandlers:function(){var b=ia.styles;var d=this.grid;var e=this._cancelProxy=q(this._cancel,this);this.container.on(A+x,I+b.buttonCancel,this._cancelProxy);this._saveProxy=q(this._save,this);this.container.on(A+x,I+b.buttonSave,this._saveProxy);this.window.bind("close",function(a){if(a.userTriggered){e(a)}});d.wrapper.on(A+x,"input[type='checkbox']",function(){var b=a(this);var e=a(b).closest("tr");var f=d.dataSource.getByUid(e.attr(c.attr("uid")));var g=a(b).is(":checked")?1:"";f.set("value",g)})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.container.off(x);this.grid.wrapper.off()},_cancel:function(a){a.preventDefault();this.close()},_save:function(a){a.preventDefault();this._updateModel();if(!this.wrapper.is(I+ia.styles.popup.resourcesField)){this.trigger("save",{container:this.wrapper,model:this.model})}this.close()},_initContainer:function(){var b=this;var d=ia.styles.popup;var e=c.format('<div class="{0} {1}"><div class="{2} {3}"/></div>"',d.form,d.editForm,d.formContainer,d.resourcesFormContainer);e=a(e);this.container=e.find(I+d.resourcesFormContainer);this.window=e.kendoWindow({modal:true,resizable:false,draggable:true,visible:false,title:this.options.messages.resourcesEditorTitle,open:function(){b.grid.resize(true)}}).data("kendoWindow");this._resourceGrid();this._createButtons()},_resourceGrid:function(){var b=this;var d=this.options.messages;var e=a('<div id="resources-grid"/>').appendTo(this.container);this.grid=new c.ui.Grid(e,{columns:[{field:"name",title:d.resourcesHeader,template:"<label><input type='checkbox' value='#=name#'"+"# if (value > 0 && value !== null) {#"+"checked='checked'"+"# } #"+"/>#=name#</labe>"},{field:"value",title:d.unitsHeader,template:function(a){var b=a.format;var d=a.value!==null?a.value:"";return b?c.toString(d,b):d}}],height:280,sortable:true,editable:true,filterable:true,dataSource:{data:b.options.data,schema:{model:{id:"id",fields:{id:{from:"id"},name:{from:"name",type:"string",editable:false},value:{from:"value",type:"number",defaultValue:""},format:{from:"format",type:"string"}}}}},save:function(a){var b=!!a.values.value;a.container.parent().find("input[type='checkbox']").prop("checked",b)}})},_createButtons:function(){var a=this.options.buttons;var b='<div class="'+ia.styles.popup.buttonsContainer+'">';for(var c=0,d=a.length;c<d;c++){b+=this.createButton(a[c])}b+="</div>";this.container.append(b)},_updateModel:function(){var a=[];var b;var c=this.grid.dataSource.data();for(var d=0,e=c.length;d<e;d++){b=c[d].get("value");if(b!==null&&b>0){a.push(c[d])}}this.model[this.resourcesField]=a}});var ia=i.extend({init:function(a,b,d){if(n(b)){b={dataSource:b}}Z={append:{text:"Add Task",action:"add",className:ia.styles.toolbar.appendButton,iconClass:ia.styles.toolbar.iconPlus},pdf:{text:"Export to PDF",className:ia.styles.toolbar.pdfButton,iconClass:ia.styles.toolbar.iconPdf}};i.fn.init.call(this,a,b);if(d){this._events=d}this._wrapper();this._resources();if(!this.options.views||!this.options.views.length){this.options.views=["day","week","month"]}this._timeline();this._toolbar();this._footer();this._adjustDimensions();this._preventRefresh=true;this.view(this.timeline._selectedViewName);this._preventRefresh=false;this._dataSource();this._assignments();this._dropDowns();this._list();this._dependencies();this._resizable();this._scrollable();this._dataBind();this._attachEvents();this._createEditor();c.notify(this)},events:["dataBinding","dataBound","add","edit","remove","cancel","save","change","navigate","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","columnResize"],options:{name:"Gantt",autoBind:true,navigatable:false,selectable:true,editable:true,resizable:false,columnResizeHandleWidth:w,columns:[],views:[],dataSource:{},dependencies:{},resources:{},assignments:{},taskTemplate:null,messages:{save:"Save",cancel:"Cancel",destroy:"Delete",deleteTaskConfirmation:J,deleteDependencyConfirmation:K,deleteTaskWindowTitle:"Delete task",deleteDependencyWindowTitle:"Delete dependency",views:{day:"Day",week:"Week",month:"Month",year:"Year",start:"Start",end:"End"},actions:{append:"Add Task",addChild:"Add Child",insertBefore:"Add Above",insertAfter:"Add Below",pdf:"Export to PDF"},editor:{editorTitle:"Task",resourcesEditorTitle:"Resources",title:"Title",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",assignButton:"Assign",resourcesHeader:"Resources",unitsHeader:"Units"}},showWorkHours:true,showWorkDays:true,toolbar:null,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,hourSpan:1,snap:true,height:600,listWidth:"30%",rowHeight:null},select:function(a){var b=this.list;if(!a){return b.select()}b.select(a);this.list.element.find("table[role=treegrid]").focus();return},clearSelection:function(){this.list.clearSelection()},destroy:function(){i.fn.destroy.call(this);if(this.dataSource){this.dataSource.unbind("change",this._refreshHandler);this.dataSource.unbind("progress",this._progressHandler);this.dataSource.unbind("error",this._errorHandler)}if(this.dependencies){this.dependencies.unbind("change",this._dependencyRefreshHandler);this.dependencies.unbind("error",this._dependencyErrorHandler)}if(this.timeline){this.timeline.unbind();this.timeline.destroy()}if(this.list){this.list.unbind();this.list.destroy()}if(this.footerDropDown){this.footerDropDown.destroy()}if(this.headerDropDown){this.headerDropDown.destroy()}if(this._editor){this._editor.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}this.toolbar.off(x);if(e){this._mediaQuery.removeListener(this._mediaQueryHandler);this._mediaQuery=null}a(window).off("resize"+x,this._resizeHandler);a(this.wrapper).off(x);this.toolbar=null;this.footer=null},setOptions:function(b){var d=c.deepExtend({},this.options,b);var e=this._events;if(!b.views){var f=this.view().name;d.views=a.map(this.options.views,function(a){var b=s(a);var c=b?typeof a.type!=="string"?a.title:a.type:a;if(f===c){if(b){a.selected=true}else{a={type:c,selected:true}}}else if(b){a.selected=false}return a})}if(!b.dataSource){d.dataSource=this.dataSource}if(!b.dependencies){d.dependencies=this.dependencies}if(!b.resources){d.resources=this.resources}if(!b.assignments){d.assignments=this.assignments}this.destroy();this.element.empty();this.options=null;this.init(this.element,d,e);i.fn._setEvents.call(this,d)},_attachEvents:function(){this._resizeHandler=q(this.resize,this,false);a(window).on("resize"+x,this._resizeHandler)},_wrapper:function(){var a=ia.styles;var b=[a.icon,a.resizeHandle].join(" ");var c=this.options;var d=c.height;var e=c.width;this.wrapper=this.element.addClass(a.wrapper).append("<div class='"+a.listWrapper+"'><div></div></div>").append("<div class='"+a.splitBarWrapper+"'><div class='"+b+"'></div></div>").append("<div class='"+a.timelineWrapper+"'><div></div></div>");this.wrapper.find(I+a.list).width(c.listWidth);if(d){this.wrapper.height(d)}if(e){this.wrapper.width(e)}if(c.rowHeight){this.wrapper.addClass(a.rowHeight)}},_toolbar:function(){var b=this;var f=ia.styles;var g=I+f.toolbar.views+" > li";var h=I+f.toolbar.pdfButton;var i=I+f.buttonToggle;var j=I+f.gridContent;var k=a(I+f.list);var l=a(I+f.timeline);var m=f.hovered;var n=this.options.toolbar;var o=a("<div class='"+f.toolbar.actions+"'>");var r;var s;var t;var u=function(a){if(a.matches){k.css({display:"none","max-width":0})}else{k.css({display:"inline-block",width:"30%","max-width":"none"});l.css("display","inline-block");b.refresh();l.find(j).scrollTop(b.scrollTop)}b._resize()};if(!p(n)){n=typeof n===C?n:this._actions(n);n=q(c.template(n),this)}t=a(L({styles:f.toolbar}));s=a(P({ns:c.ns,views:this.timeline.views,styles:f.toolbar}));o.append(n({}));r=a("<div class='"+f.toolbar.headerWrapper+"'>").append(t).append(s).append(o);if(s.find("li").length>1){s.prepend(O({styles:f.toolbar}))}this.wrapper.prepend(r);this.toolbar=r;if(e){this._mediaQueryHandler=q(u,this);this._mediaQuery=window.matchMedia("(max-width: 480px)");this._mediaQuery.addListener(this._mediaQueryHandler)}r.on(A+x,g,function(d){d.preventDefault();var e=b.list;var g=a(this).attr(c.attr("name"));var h=s.find(I+f.toolbar.currentView);if(h.is(":visible")){h.parent().toggleClass(f.toolbar.expanded)}if(e.editable&&e.editable.trigger("validate")){return}if(!b.trigger("navigate",{view:g})){b.view(g)}b.toolbar.find(I+f.focused).removeClass(f.focused)}).on("keydown"+x,g,function(c){var e=a(I+f.toolbar.views).children(":not(.k-current-view)");var g=e.index(b._focusedView&&b._focusedView[0]||e.closest(I+f.selected)[0]);if(c.keyCode===d.RIGHT){a(b.toolbar.find(I+f.focused)).removeClass(f.focused);b._focusedView=g+1===e.length?a(e[0]):a(e[g+1]);b._focusedView.focus().addClass(f.focused);c.preventDefault()}else if(c.keyCode===d.LEFT){a(b.toolbar.find(I+f.focused)).removeClass(f.focused);b._focusedView=g===0?a(e[e.length-1]):a(e[g-1]);b._focusedView.focus().addClass(f.focused);c.preventDefault()}else if(c.keyCode===d.DOWN&&b.toolbar.find(I+f.toolbar.currentView).parent().hasClass(f.toolbar.expanded)){a(b.toolbar.find(I+f.focused)).removeClass(f.focused);b._focusedView=g+1===e.length?a(e[0]):a(e[g+1]);b._focusedView.focus().addClass(f.focused);c.preventDefault()}else if(c.keyCode===d.UP&&b.toolbar.find(I+f.toolbar.currentView).parent().hasClass(f.toolbar.expanded)){a(b.toolbar.find(I+f.focused)).removeClass(f.focused);b._focusedView=g===0?a(e[e.length-1]):a(e[g-1]);b._focusedView.focus().addClass(f.focused);c.preventDefault()}else if((c.keyCode===d.ENTER||c.keyCode===d.SPACEBAR)&&b._focusedView){b.view(b._focusedView.text().toLowerCase());c.preventDefault()}else if((c.keyCode===d.SPACEBAR||c.keyCode===d.ENTER||c.keyCode===d.DOWN&&c.altKey)&&b.toolbar.find(I+f.toolbar.currentView+" > a").hasClass(f.focused)){b.toolbar.find(I+f.toolbar.currentView).parent().toggleClass(f.toolbar.expanded);c.preventDefault()}else if(c.keyCode===d.ESC&&b.toolbar.find(I+f.toolbar.currentView).parent().hasClass(f.toolbar.expanded)){b.toolbar.find(I+f.toolbar.currentView).parent().toggleClass(f.toolbar.expanded).blur();b._focusedView=null;b.toolbar.find(I+f.toolbar.currentView+" > a").addClass(f.focused).focus();c.preventDefault()}else if(c.keyCode>=49&&c.keyCode<=57){b.view(b.timeline._viewByIndex(c.keyCode-49))}}).on(A+x,h,function(a){a.preventDefault();b.saveAsPDF()}).on(A+x,i,function(a){a.preventDefault();if(k.is(":visible")){k.css({display:"none",width:"0"});l.css({display:"inline-block",width:"100%"});b.refresh();l.find(j).scrollTop(b.scrollTop)}else{l.css({display:"none",width:0});k.css({display:"inline-block",width:"100%","max-width":"none"}).find(j).scrollTop(b.scrollTop)}b._resize()});this.wrapper.on("focusout"+x,function(c){if(!a(c.relatedTarget).closest(I+f.toolbar.toolbar).length){b.toolbar.find(I+f.focused).removeClass(f.focused)}if(!a(c.relatedTarget).closest(I+f.toolbar.views).length){b.toolbar.find(I+f.toolbar.views).removeClass(f.toolbar.expanded)}}).find(I+f.toolbar.toolbar+" li").hover(function(){a(this).addClass(m)},function(){a(this).removeClass(m)})},_actions:function(){var a=this.options;var b=a.editable;var c=a.toolbar;var d="";if(!n(c)){if(b&&b.create!==false){c=["append"]}else{return d}}for(var e=0,f=c.length;e<f;e++){d+=this._createButton(c[e])}return d},_footer:function(){var b=this.options.editable;
if(!b||b.create===false){return}var d=ia.styles.toolbar;var e=this.options.messages.actions;var f=a(c.template(M)(r(true,{styles:d},Z.append,{text:e.append})));var g=a("<div class='"+d.actions+"'>").append(f);var h=a("<div class='"+d.footerWrapper+"'>").append(g);this.wrapper.append(h);this.footer=h},_createButton:function(a){var b=a.template||M;var d=this.options.messages.actions;var e=typeof a===C?a:a.name||a.text;var f=Z[e]?Z[e].className:"k-gantt-"+(e||"").replace(/\s/g,"");var g={iconClass:"",action:"",text:e,className:f,styles:ia.styles.toolbar};if(!e&&!(s(a)&&a.template)){throw new Error("Custom commands should have name specified")}g=r(true,g,Z[e],{text:d[e]});if(s(a)){if(a.className&&o(g.className,a.className.split(" "))<0){a.className+=" "+g.className}g=r(true,g,a)}return c.template(b)(g)},_adjustDimensions:function(){var a=this.element;var b=ia.styles;var c=I+b.list;var d=I+b.timeline;var e=I+b.splitBar;var f=v(this.toolbar);var g=this.footer?v(this.footer):0;var h=a.height();var i=a.width();var j=u(a.find(e));var k=u(a.find(c));a.children([c,d,e].join(",")).height(h-(f+g)).end().children(d).width(i-(j+k));if(i<k+j){a.find(c).width(i-j)}},_scrollTo:function(a){var b=this.timeline.view();var d=this.list;var e=c.attr("uid");var f=typeof a==="string"?a:a.closest("tr"+U()).attr(e);var g;var h;var i=function(){if(h.length!==0){g()}};if(b.content.is(":visible")){h=b.content.find(U(f));g=function(){b._scrollTo(h)}}else{h=d.content.find(U(f));g=function(){h.get(0).scrollIntoView()}}i()},_dropDowns:function(){var a=this;var b=I+ia.styles.toolbar.actions;var c=this.options.messages.actions;var d=this.timeline;var e=this.options.editable;var f=function(b){var c=b.type;var e;var f=a.dataSource;var g=f._createNewModel();var h=a.dataItem(a.select());var i=f.taskParent(h);var j=d.view()._timeSlots()[0];var k=c==="add"?h:i;var l=a.list.editable;if(l&&l.trigger("validate")){return}g.set("title","New task");if(k){g.set("parentId",k.get("id"));g.set("start",k.get("start"));g.set("end",k.get("end"))}else{g.set("start",j.start);g.set("end",j.end)}if(c!=="add"){e=h.get("orderId");e=c==="insert-before"?e:e+1}a._createTask(g,e)};if(!e||e.create===false){return}this.footerDropDown=new $(this.footer.children(b).eq(0),{messages:{actions:c},direction:"up",animation:{open:{effects:"slideIn:up"}},navigatable:a.options.navigatable});this.headerDropDown=new $(this.toolbar.children(b).eq(0),{messages:{actions:c},navigatable:a.options.navigatable});this.footerDropDown.bind("command",f);this.headerDropDown.bind("command",f)},_list:function(){var a=this;var b=a.options.navigatable;var d=ia.styles;var e=this.wrapper.find(I+d.list);var f=e.find("> div");var g=this.wrapper.find(I+d.toolbar.actions+" > button");var h={columns:this.options.columns||[],dataSource:this.dataSource,selectable:this.options.selectable,editable:this.options.editable,resizable:this.options.resizable,columnResizeHandleWidth:this.options.columnResizeHandleWidth,listWidth:u(e),resourcesField:this.resources.field,rowHeight:this.options.rowHeight};var i=h.columns;var j;var k=function(){if(b){a._current(a._cachedCurrent);X(a.list.content.find("table"),true)}delete a._cachedCurrent};for(var l=0;l<i.length;l++){j=i[l];if(j.field===this.resources.field&&typeof j.editor!=="function"){j.editor=q(this._createResourceEditor,this)}}this.list=new c.ui.GanttList(f,h);this.list.bind("render",function(){a._navigatable()},true).bind("edit",function(b){a._cachedCurrent=b.cell;if(a.trigger("edit",{task:b.model,container:b.cell})){b.preventDefault()}}).bind("cancel",function(b){if(a.trigger("cancel",{task:b.model,container:b.cell})){b.preventDefault()}k()}).bind("update",function(b){a._updateTask(b.task,b.updateInfo);k()}).bind("change",function(){a.trigger("change");var b=a.list.select();if(b.length){g.removeAttr("data-action","add");a.timeline.select("[data-uid='"+b.attr("data-uid")+"']")}else{g.attr("data-action","add");a.timeline.clearSelection()}}).bind("columnResize",function(b){a.trigger("columnResize",{column:b.column,oldWidth:b.oldWidth,newWidth:b.newWidth})})},_timeline:function(){var a=this;var b=ia.styles;var d=V(r(true,{resourcesField:this.resources.field},this.options));var e=this.wrapper.find(I+b.timeline+" > div");var f=I+b.toolbar.currentView+" > "+I+b.toolbar.link;this.timeline=new c.ui.GanttTimeline(e,d);this.timeline.bind("navigate",function(c){var d=c.view.replace(/\./g,"\\.").toLowerCase();var e=a.toolbar.find(I+b.toolbar.views+" > li").removeClass(b.selected).end().find(I+b.toolbar.viewButton+"-"+d).addClass(b.selected).find(I+b.toolbar.link).text();a.toolbar.find(f).text(e);a.refresh()}).bind("moveStart",function(b){var c=a.list.editable;if(c&&c.trigger("validate")){b.preventDefault();return}if(a.trigger("moveStart",{task:b.task})){b.preventDefault()}}).bind("move",function(b){var c=b.task;var d=b.start;var e=new Date(d.getTime()+c.duration());if(a.trigger("move",{task:c,start:d,end:e})){b.preventDefault()}}).bind("moveEnd",function(b){var c=b.task;var d=b.start;var e=new Date(d.getTime()+c.duration());if(!a.trigger("moveEnd",{task:c,start:d,end:e})){a._updateTask(a.dataSource.getByUid(c.uid),{start:d,end:e})}}).bind("resizeStart",function(b){var c=a.list.editable;if(c&&c.trigger("validate")){b.preventDefault();return}if(a.trigger("resizeStart",{task:b.task})){b.preventDefault()}}).bind("resize",function(b){if(a.trigger("resize",{task:b.task,start:b.start,end:b.end})){b.preventDefault()}}).bind("resizeEnd",function(b){var c=b.task;var d={};if(b.resizeStart){d.start=b.start}else{d.end=b.end}if(!a.trigger("resizeEnd",{task:c,start:b.start,end:b.end})){a._updateTask(a.dataSource.getByUid(c.uid),d)}}).bind("percentResizeStart",function(b){var c=a.list.editable;if(c&&c.trigger("validate")){b.preventDefault()}}).bind("percentResizeEnd",function(b){a._updateTask(a.dataSource.getByUid(b.task.uid),{percentComplete:b.percentComplete})}).bind("dependencyDragStart",function(b){var c=a.list.editable;if(c&&c.trigger("validate")){b.preventDefault()}}).bind("dependencyDragEnd",function(b){var c=a.dependencies._createNewModel({type:b.type,predecessorId:b.predecessor.id,successorId:b.successor.id});a._createDependency(c)}).bind("select",function(b){var c=a.list.editable;if(c){c.trigger("validate")}a.select("[data-uid='"+b.uid+"']")}).bind("editTask",function(b){var c=a.list.editable;if(c&&c.trigger("validate")){return}a.editTask(b.uid)}).bind("clear",function(){a.clearSelection()}).bind("removeTask",function(b){var c=a.list.editable;if(c&&c.trigger("validate")){return}a.removeTask(a.dataSource.getByUid(b.uid))}).bind("removeDependency",function(b){var c=a.list.editable;if(c&&c.trigger("validate")){return}a.removeDependency(a.dependencies.getByUid(b.uid))})},_dataSource:function(){var a=this.options;var b=a.dataSource;b=n(b)?{data:b}:b;if(this.dataSource&&this._refreshHandler){this.dataSource.unbind("change",this._refreshHandler).unbind("progress",this._progressHandler).unbind("error",this._errorHandler)}else{this._refreshHandler=q(this.refresh,this);this._progressHandler=q(this._requestStart,this);this._errorHandler=q(this._error,this)}this.dataSource=c.data.GanttDataSource.create(b).bind("change",this._refreshHandler).bind("progress",this._progressHandler).bind("error",this._errorHandler)},_dependencies:function(){var a=this.options.dependencies||{};var b=n(a)?{data:a}:a;if(this.dependencies&&this._dependencyRefreshHandler){this.dependencies.unbind("change",this._dependencyRefreshHandler).unbind("error",this._dependencyErrorHandler)}else{this._dependencyRefreshHandler=q(this.refreshDependencies,this);this._dependencyErrorHandler=q(this._error,this)}this.dependencies=c.data.GanttDependencyDataSource.create(b).bind("change",this._dependencyRefreshHandler).bind("error",this._dependencyErrorHandler)},_resources:function(){var a=this.options.resources;var b=a.dataSource||{};this.resources={field:"resources",dataTextField:"name",dataColorField:"color",dataFormatField:"format"};r(this.resources,a);this.resources.dataSource=c.data.DataSource.create(b)},_assignments:function(){var a=this.options.assignments;var b=a.dataSource||{};if(this.assignments){this.assignments.dataSource.unbind("change",this._assignmentsRefreshHandler)}else{this._assignmentsRefreshHandler=q(this.refresh,this)}this.assignments={dataTaskIdField:"taskId",dataResourceIdField:"resourceId",dataValueField:"value"};r(this.assignments,a);this.assignments.dataSource=c.data.DataSource.create(b);this.assignments.dataSource.bind("change",this._assignmentsRefreshHandler)},_createEditor:function(){var a=this;var b=this._editor=new ga(this.wrapper,r({},this.options,{target:this,resources:{field:this.resources.field,editor:q(this._createResourceEditor,this)},createButton:q(this._createPopupButton,this)}));b.bind("cancel",function(b){var c=a.dataSource.getByUid(b.model.uid);if(a.trigger("cancel",{container:b.container,task:c})){b.preventDefault();return}a.cancelTask()}).bind("edit",function(b){var c=a.dataSource.getByUid(b.model.uid);if(a.trigger("edit",{container:b.container,task:c})){b.preventDefault()}}).bind("save",function(b){var c=a.dataSource.getByUid(b.model.uid);a.saveTask(c,b.updateInfo)}).bind("remove",function(b){a.removeTask(b.model.uid)}).bind("close",a._onDialogClose)},_onDialogClose:function(){},_createResourceEditor:function(a,b){var c=this;var d=b instanceof k?b:b.model;var e=d.get("id");var f=this.options.messages;var g=c.resources.field;var h=this._resourceEditor=new ha(a,{resourcesField:g,data:this._wrapResourceData(e),model:d,messages:r({},f.editor),buttons:[{name:"update",text:f.save,className:ia.styles.primary},{name:"cancel",text:f.cancel}],createButton:q(this._createPopupButton,this),save:function(a){c._updateAssignments(a.model.get("id"),a.model.get(g))}});h.open()},_createPopupButton:function(a){var b=a.name||a.text;var d={className:ia.styles.popup.button+" k-gantt-"+(b||"").replace(/\s/g,""),text:b,attr:""};if(!b&&!(s(a)&&a.template)){throw new Error("Custom commands should have name specified")}if(s(a)){if(a.className){a.className+=" "+d.className}d=r(true,d,a)}return c.template(N)(d)},view:function(a){return this.timeline.view(a)},range:function(a){var b=this.dataSource;var c=this.view();var d=this.timeline;if(a){c.options.range={start:a.start,end:a.end};d._render(b.taskTree());d._renderDependencies(this.dependencies.view())}return{start:c.start,end:c.end}},date:function(a){var b=this.view();if(a){b.options.date=a;b._scrollToDate(a)}return b.options.date},dataItem:function(a){if(!a){return null}var b=this.list;var c=b.content.find(a);return b._modelFromElement(c)},setDataSource:function(a){this.options.dataSource=a;this._dataSource();this.list._setDataSource(this.dataSource);if(this.options.autoBind){a.fetch()}},setDependenciesDataSource:function(a){this.options.dependencies=a;this._dependencies();if(this.options.autoBind){a.fetch()}},items:function(){return this.wrapper.children(".k-task")},_updateAssignments:function(a,b){var c=this.assignments.dataSource;var d=this.assignments.dataTaskIdField;var e=this.assignments.dataResourceIdField;var f=false;var g=new m(c.view()).filter({field:d,operator:"eq",value:a}).toArray();var h;var i;var j;while(g.length){h=g[0];for(var k=0,l=b.length;k<l;k++){i=b[k];if(h.get(e)===i.get("id")){j=b[k].get("value");this._updateAssignment(h,j);b.splice(k,1);f=true;break}}if(!f){this._removeAssignment(h)}f=false;g.shift()}for(var n=0,o=b.length;n<o;n++){i=b[n];this._createAssignment(i,a)}c.sync()},cancelTask:function(){var a=this._editor;var b=a.container;if(b){a.close()}},editTask:function(a){var b=typeof a==="string"?this.dataSource.getByUid(a):a;if(!b){return}var c=this.dataSource._createNewModel(b.toJSON());c.uid=b.uid;this.cancelTask();this._editTask(c)},_editTask:function(a){this._editor.editTask(a)},saveTask:function(a,b){var c=this._editor;var d=c.container;var e=c.editable;if(d&&e&&e.end()){this._updateTask(a,b)}},_updateTask:function(a,b){var c=this.resources.field;if(!this.trigger("save",{task:a,values:b})){this._preventRefresh=true;this.dataSource.update(a,b);if(b[c]){this._updateAssignments(a.get("id"),b[c])}this._syncDataSource()}},_updateAssignment:function(a,b){var c=this.assignments.dataValueField;a.set(c,b)},removeTask:function(a){var b=this;var c=typeof a==="string"?this.dataSource.getByUid(a):a;if(!c){return}this._taskConfirm(function(a){if(!a){b._removeTask(c)}},c)},_createTask:function(a,c){if(!this.trigger("add",{task:a,dependency:null})){var d=this.dataSource;this._preventRefresh=true;if(c===b){d.add(a)}else{d.insert(c,a)}this._scrollToUid=a.uid;this._syncDataSource()}},_createDependency:function(a){if(!this.trigger("add",{task:null,dependency:a})){this._preventDependencyRefresh=true;this.dependencies.add(a);this._preventDependencyRefresh=false;this.dependencies.sync()}},_createAssignment:function(a,b){var c=this.assignments;var d=c.dataSource;var e=c.dataTaskIdField;var f=c.dataResourceIdField;var g=c.dataValueField;var h=d._createNewModel();h[e]=b;h[f]=a.get("id");h[g]=a.get("value");d.add(h)},removeDependency:function(a){var b=this;var c=typeof a==="string"?this.dependencies.getByUid(a):a;if(!c){return}this._dependencyConfirm(function(a){if(!a){b._removeDependency(c)}},c)},_removeTaskDependencies:function(a,b){this._preventDependencyRefresh=true;for(var c=0,d=b.length;c<d;c++){this.dependencies.remove(b[c])}this._preventDependencyRefresh=false;this.dependencies.sync()},_removeTaskAssignments:function(a){var b=this.assignments.dataSource;var c=b.view();var d={field:this.assignments.dataTaskIdField,operator:"eq",value:a.get("id")};c=new m(c).filter(d).toArray();this._preventRefresh=true;for(var e=0,f=c.length;e<f;e++){b.remove(c[e])}this._preventRefresh=false;b.sync()},_removeTask:function(a){var b=this.dependencies.dependencies(a.id);if(!this.trigger("remove",{task:a,dependencies:b})){this._removeTaskDependencies(a,b);this._removeTaskAssignments(a);this._preventRefresh=true;if(this.dataSource.remove(a)){this._syncDataSource()}this._preventRefresh=false}},_removeDependency:function(a){if(!this.trigger("remove",{task:null,dependencies:[a]})){if(this.dependencies.remove(a)){this.dependencies.sync()}}},_removeAssignment:function(a){this.assignments.dataSource.remove(a)},_taskConfirm:function(a,b){var c=this.options.messages;this._confirm(a,{model:b,text:c.deleteTaskConfirmation,title:c.deleteTaskWindowTitle})},_dependencyConfirm:function(a,b){var c=this.options.messages;this._confirm(a,{model:b,text:c.deleteDependencyConfirmation,title:c.deleteDependencyWindowTitle})},_confirm:function(a,b){var c=this.options.editable;var d;var e;if(c===true||c.confirmation!==false){d=this.options.messages;e=[{name:"delete",text:d.destroy,className:ia.styles.primary,click:function(){a()}},{name:"cancel",text:d.cancel,click:function(){a(true)}}];this.showDialog(r(true,{},b,{buttons:e}))}else{a()}},showDialog:function(a){this._editor.showDialog(a)},refresh:function(){if(this._preventRefresh||this.list.editable){return}this._progress(false);var a=this.dataSource;var b=a.taskTree();var d=this._scrollToUid;var e;var f;var g=-1;if(this.current){f=this.current.closest("tr").attr(c.attr("uid"));g=this.current.index()}if(this.trigger("dataBinding")){return}if(this.resources.dataSource.data().length!==0){this._assignResources(b)}if(this._editor){this._editor.close()}this.clearSelection();this.list._render(b);this.timeline._render(b);this.timeline._renderDependencies(this.dependencies.view());if(d){this._scrollTo(d);this.select(U(d))}if((d||f)&&g>=0){e=this.list.content.find("tr"+U(d||f)+" > td:eq("+g+")");this._current(e)}this._scrollToUid=null;this.trigger("dataBound")},refreshDependencies:function(){if(this._preventDependencyRefresh){return}if(this.trigger("dataBinding")){return}this.timeline._renderDependencies(this.dependencies.view());this.trigger("dataBound")},_assignResources:function(a){var b=this.resources;var d=this.assignments;var e=function(){var a=d.dataSource.view();var b={field:d.dataTaskIdField};a=new m(a).group(b).toArray();return a};var f=e();var g=function(a,d){var e=a.get("id");c.setter(b.field)(a,new l([]));for(var g=0,h=f.length;g<h;g++){if(f[g].value===e){d(a,f[g].items)}}};var h=function(a,e){for(var f=0,g=e.length;f<g;f++){var h=e[f];var i=b.dataSource.get(h.get(d.dataResourceIdField));var j=h.get(d.dataValueField);var l=h.get(d.dataResourceIdField);var m=i.get(b.dataFormatField)||y;var n=c.toString(j,m);a[b.field].push(new k({id:l,name:i.get(b.dataTextField),color:i.get(b.dataColorField),value:j,formatedValue:n}))}};for(var i=0,j=a.length;i<j;i++){g(a[i],h)}},_wrapResourceData:function(a){var b=this;var c=[];var d;var e=this.resources.dataSource.view();var f=this.assignments.dataSource.view();var g=new m(f).filter({field:b.assignments.dataTaskIdField,operator:"eq",value:a}).toArray();var h=function(a){var c=null;new m(g).filter({field:b.assignments.dataResourceIdField,operator:"eq",value:a}).select(function(a){c+=a.get(b.assignments.dataValueField)});return c};for(var i=0,j=e.length;i<j;i++){d=e[i];c.push({id:d.get("id"),name:d.get(b.resources.dataTextField),format:d.get(b.resources.dataFormatField)||y,value:h(d.id)})}return c},_syncDataSource:function(){this._preventRefresh=false;this._requestStart();this.dataSource.sync()},_requestStart:function(){this._progress(true)},_error:function(){this._progress(false)},_progress:function(a){c.ui.progress(this.element,a)},_resizable:function(){var b=this;var d=this.wrapper;var e=ia.styles;var f=I+e.gridContent;var g=d.find(I+e.list);var h=d.find(I+e.timeline);var i;var j;var k;this._resizeDraggable=d.find(I+e.splitBar).height(g.height()).hover(function(){a(this).addClass(e.splitBarHover)},function(){a(this).removeClass(e.splitBarHover)}).end().kendoResizable({orientation:"horizontal",handle:I+e.splitBar,start:function(){i=g.width();j=h.width();k=h.find(f).scrollLeft()},resize:function(a){var e=a.x.initialDelta;if(c.support.isRtl(d)){e*=-1}if(i+e<0||j-e<0){return}g.width(i+e);h.width(j-e);h.find(f).scrollLeft(k+e);b.timeline.view()._renderCurrentTime()}}).data("kendoResizable")},_scrollable:function(){var b=this;var d=ia.styles;var e=I+d.gridContent;var f=I+d.gridHeaderWrap;var h=this.timeline.element.find(f);var i=this.timeline.element.find(e);var j=this.list.element.find(f);var k=this.list.element.find(e);if(g){k.css("overflow-y","auto")}i.on("scroll",function(){b.scrollTop=this.scrollTop;h.scrollLeft(this.scrollLeft);k.scrollTop(this.scrollTop)});k.on("scroll",function(){j.scrollLeft(this.scrollLeft)}).on("DOMMouseScroll"+x+" mousewheel"+x,function(b){var d=i.scrollTop();var e=c.wheelDeltaY(b);if(e){b.preventDefault();a(b.currentTarget).one("wheel"+x,false);i.scrollTop(d+-e)}})},_navigatable:function(){var b=this;var e=this.options.navigatable;var f=this.options.editable;var g=this.list.header.find("table");var h=this.list.content.find("table");var i=ia.styles;var j=c.support.isRtl(this.wrapper);var k=this.timeline.element.find(I+i.gridContent);var l=g.add(h);var m=U();var n;var o={collapse:false,expand:true};var p=function(a){var c=b.timeline.view()._timeSlots()[0].offsetWidth;k.scrollLeft(k.scrollLeft()+(a?-c:c))};var q=function(a){var c=b.timeline.view()._rowHeight;k.scrollTop(k.scrollTop()+(a?-c:c))};var r=function(a){var c=b.current.parent("tr"+U());var d=b.current.index();var e=c[a]();if(b.select().length!==0){b.clearSelection()}if(e.length!==0){b._current(e.children("td:eq("+d+")"));b._scrollTo(b.current)}else{if(b.current.is("td")&&a=="prev"){X(g)}else if(b.current.is("th")&&a=="next"){X(h)}}};var s=function(a){var c=b.current[a]();if(c.length!==0){b._current(c);n=b.current.index()}};var t=function(a){var c=b.dataItem(b.current);if(c.summary&&c.expanded!==a){c.set("expanded",a)}};var u=function(){var a=b.options.editable;if(!a||a.destroy===false||b.list.editable){return}var d=b.select();var e=c.attr("uid");if(d.length){b.removeTask(d.attr(e))}};a(this.wrapper).on("mousedown"+x,"tr"+m+", div"+m+":not("+I+i.line+")",function(d){var g=a(d.currentTarget);var h=a(d.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap");var i;if(d.ctrlKey){return}if(e){if(g.is("tr")){i=a(d.target).closest("td")}else{i=b.list.content.find("tr"+U(g.attr(c.attr("uid")))+" > td:first")}b._current(i)}if((e||f)&&!h){b._focusTimeout=setTimeout(function(){X(b.list.content.find("table"),true)},2)}}).on("keydown"+x,function(b){var c=b.keyCode;var e=this;var f=a(e._getToolbarItems());var g=f.index(e.toolbar.find(I+i.focused)[0]);if(g===-1&&a(b.target).closest(I+i.toolbar.views).length){g=f.index(e.toolbar.find(".k-gantt-views > .k-state-selected:visible > a, .k-current-view:visible > a")[0])}var h=b.shiftKey?f[g-1]:f[g+1];if(c===d.F10){e.toolbar.find(".k-button:visible:first").addClass(i.focused).focus();b.preventDefault()}else if(c==d.TAB&&a(b.target).closest(I+i.toolbar.toolbar).length){e.toolbar.find(I+i.focused).removeClass(i.focused).blur();if(h){a(h).addClass(i.focused).focus();b.preventDefault();return}if(this.list.element.is(":visible")){this.list.element.find("table[role=treegrid]").focus()}else{this.element.find(I+i.tasks)[0].focus()}b.preventDefault()}}.bind(this));if(e!==true){h.on("keydown"+x,function(a){if(a.keyCode==d.DELETE){u()}});return}l.on("focus"+x,function(){var c=this===h.get(0)?"td":"th";var d=b.select();var e=b.current||a(d.length?d:this).find(c+":eq("+(n||0)+")");b._current(e);a(b.toolbar.find(I+i.focused)).removeClass(i.focused);a(b.toolbar.find(I+i.toolbar.currentView)).parent().removeClass(i.toolbar.expanded)}).on("blur"+x,function(){b._current();if(this==g){a(this).attr(z,-1)}}).on("keydown"+x,function(c){var e=c.keyCode;var f;if(!b.current){return}f=b.current.is("td");switch(e){case d.RIGHT:c.preventDefault();if(c.altKey){p()}else if(c.ctrlKey){t(j?o.collapse:o.expand)}else{s(j?"prev":"next")}break;case d.LEFT:c.preventDefault();if(c.altKey){p(true)}else if(c.ctrlKey){t(j?o.expand:o.collapse)}else{s(j?"next":"prev")}break;case d.UP:c.preventDefault();if(c.altKey){q(true)}else{r("prev")}break;case d.DOWN:c.preventDefault();if(c.altKey){q()}else{r("next")}break;case d.SPACEBAR:c.preventDefault();if(f){b.select(b.current.closest("tr"))}break;case d.ENTER:c.preventDefault();if(f){if(b.options.editable&&b.options.editable.update!==false){b._cachedCurrent=b.current;b.list._startEditHandler(b.current);a(this).one("keyup",function(a){a.stopPropagation()})}}else{b.current.children("a.k-link").click()}break;case d.ESC:break;case d.DELETE:if(f){u()}break;default:if(e>=49&&e<=57&&c.target.tagName.toLowerCase()!=="input"){b.view(b.timeline._viewByIndex(e-49))}break}})},_getToolbarItems:function(){return this.toolbar.find(".k-gantt-toggle:visible").toArray().concat(this.toolbar.find(".k-gantt-actions > .k-button:visible").toArray(),this.toolbar.find(".k-gantt-views > .k-state-selected:visible > a, .k-current-view:visible > a").toArray())},_current:function(b){var d=ia.styles;var e;if(this.current&&this.current.length){this.current.removeClass(d.focused).removeAttr("id")}if(b&&b.length){this.current=b.addClass(d.focused).attr("id",G);e=a(c._activeElement());if(e.is("table")&&this.wrapper.find(e).length>0){e.removeAttr(E).attr(E,G)}}else{this.current=null}},_dataBind:function(){var b=this;if(b.options.autoBind){this._preventRefresh=true;this._preventDependencyRefresh=true;var c=a.map([this.dataSource,this.dependencies,this.resources.dataSource,this.assignments.dataSource],function(a){return a.fetch()});a.when.apply(null,c).done(function(){b._preventRefresh=false;b._preventDependencyRefresh=false;b.refresh()})}},_resize:function(){this._adjustDimensions();this.timeline.view()._adjustHeight();this.timeline.view()._renderCurrentTime();this.list._adjustHeight()}});if(c.PDFMixin){c.PDFMixin.extend(ia.fn);ia.fn._drawPDF=function(){var a=ia.styles;var b="."+a.list;var c=this.wrapper.find(b).width();var d=this.wrapper.clone();d.find(b).css("width",c);return this._drawPDFShadow({content:d},{avoidLinks:this.options.pdf.avoidLinks})}}c.ui.plugin(ia);r(true,ia,{styles:T})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.treelist",["kendo.dom","kendo.data","kendo.columnsorter","kendo.editable","kendo.window","kendo.filtermenu","kendo.selectable","kendo.resizable","kendo.treeview.draganddrop"],a)})(function(){var a={id:"treelist",name:"TreeList",category:"web",description:"The TreeList widget displays self-referencing data and offers rich support for interacting with data, sorting, filtering, and selection.",depends:["dom","data"],features:[{id:"treelist-sorting",name:"Sorting",description:"Support for column sorting",depends:["columnsorter"]},{id:"treelist-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"treelist-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"treelist-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"treelist-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]},{id:"treelist-dragging",name:"Drag & Drop",description:"Support for drag & drop of rows",depends:["treeview.draganddrop"]},{id:"treelist-excel-export",name:"Excel export",description:"Export data as Excel spreadsheet",depends:["excel"]},{id:"treelist-pdf-export",name:"PDF export",description:"Export data as PDF",depends:["pdf","drawing"]}]};(function(a,b){var c=kendo.data;var d=a.extend;var e=kendo.dom;var f=e.element;var g=e.text;var h=e.html;var i=kendo._outerWidth;var j=kendo.keys;var k=kendo._outerHeight;var l=kendo.ui;var m=l.DataBoundWidget;var n=c.DataSource;var o=c.ObservableArray;var p=c.Query;var q=c.Model;var r=kendo.support.browser;var s=a.proxy;var t=a.map;var u=a.grep;var v=a.inArray;var w=a.isPlainObject;var x=Array.prototype.push;var y="string";var z="change";var A="error";var B="progress";var C=".";var D=".kendoTreeList";var E="click";var F="mousedown";var G="edit";var H="save";var I="expand";var J="collapse";var K="remove";var L="dataBinding";var M="dataBound";var N="cancel";var O="tabIndex";var P="filterMenuInit";var Q="columnHide";var R="columnShow";var S="th.k-header";var T="columnReorder";var U="columnResize";var V="columnMenuInit";var W="columnLock";var X="columnUnlock";var Y="parentId";var Z="dragstart";var $="drag";var _="drop";var aa="dragend";var ba="tr:visible";var ca="td:visible";var da="th:visible";var ea=ba+" > td:first:visible";var fa="tr:not(.k-footer-template):visible:last";var ga="th:visible";var ha=false;var ia="height";var ja={wrapper:"k-treelist k-grid k-widget k-display-block",header:"k-header",button:"k-button",alt:"k-alt",editCell:"k-edit-cell",group:"k-treelist-group",gridToolbar:"k-grid-toolbar",gridHeader:"k-grid-header",gridHeaderWrap:"k-grid-header-wrap",gridContent:"k-grid-content",gridContentWrap:"k-grid-content",gridFilter:"k-grid-filter",footerTemplate:"k-footer-template",focused:"k-state-focused",loading:"k-i-loading",refresh:"k-i-reload",retry:"k-request-retry",selected:"k-state-selected",status:"k-status",link:"k-link",withIcon:"k-with-icon",filterable:"k-filterable",icon:"k-icon",iconFilter:"k-i-filter",iconCollapse:"k-i-collapse",iconExpand:"k-i-expand",iconHidden:"k-i-none",iconPlaceHolder:"k-icon k-i-none",input:"k-input",dropPositions:"k-i-insert-up k-i-insert-down k-i-plus k-i-insert-middle",dropTop:"k-i-insert-up",dropBottom:"k-i-insert-down",dropAdd:"k-i-plus",dropMiddle:"k-i-insert-middle",dropDenied:"k-i-cancel",dragStatus:"k-drag-status",dragClue:"k-drag-clue",dragClueText:"k-clue-text"};var ka={create:{imageClass:"k-i-plus",className:"k-grid-add",methodName:"addRow"},createchild:{imageClass:"k-i-plus",className:"k-grid-add",methodName:"addRow"},destroy:{imageClass:"k-i-close",className:"k-grid-delete",methodName:"removeRow"},edit:{imageClass:"k-i-edit",className:"k-grid-edit",methodName:"editRow"},update:{imageClass:"k-i-check",className:"k-primary k-grid-update",methodName:"saveRow"},canceledit:{imageClass:"k-i-cancel",className:"k-grid-cancel",methodName:"_cancelEdit"},excel:{imageClass:"k-i-file-excel",className:"k-grid-excel",methodName:"saveAsExcel"},pdf:{imageClass:"k-i-file-pdf",className:"k-grid-pdf",methodName:"saveAsPDF"}};var la=q.define({id:"id",parentId:Y,fields:{id:{type:"number"},parentId:{type:"number",nullable:true}},init:function(a){q.fn.init.call(this,a);this._loaded=false;if(!this.parentIdField){this.parentIdField=Y}this.parentId=this.get(this.parentIdField)},accept:function(a){q.fn.accept.call(this,a);this.parentId=this.get(this.parentIdField)},set:function(a,b,c){if(a==Y&&this.parentIdField!=Y){this[this.parentIdField]=b}q.fn.set.call(this,a,b,c);if(a==this.parentIdField){this.parentId=this.get(this.parentIdField)}},loaded:function(a){if(a!==b){this._loaded=a}else{return this._loaded}},shouldSerialize:function(a){return q.fn.shouldSerialize.call(this,a)&&a!=="_loaded"&&a!="_error"&&a!="_edit"&&!(this.parentIdField!=="parentId"&&a==="parentId")}});la.parentIdField=Y;la.define=function(a,c){if(c===b){c=a;a=la}var d=c.parentId||Y;c.parentIdField=d;var e=q.define(a,c);if(d){e.parentIdField=d}return e};function ma(a){return function(b){return b[a]}}function na(a){return function(b){return!a(b)}}var oa=n.extend({init:function(a){n.fn.init.call(this,d(true,{},{schema:{modelBase:la,model:la}},a))},_createNewModel:function(a){var b={};var c=a instanceof q;if(c){b=a}b=n.fn._createNewModel.call(this,b);if(!c){if(a.parentId){a[b.parentIdField]=a.parentId}b.accept(a)}return b},_shouldWrap:function(){return true},_push:function(a,b){var c=n.fn._readData.call(this,a);if(!c){c=a}this[b](c)},_readData:function(a){var b=this.data();a=n.fn._readData.call(this,a);this._replaceData(b.toJSON().concat(a),b);if(a instanceof o){return a}return b},_replaceData:function(a,b){var c=a.length;for(var d=0;d<c;d++){b[d]=a[d]}b.length=c},_readAggregates:function(a){var b=d(this._aggregateResult,this.reader.aggregates(a));if(""in b){b[this._defaultParentId()]=b[""];delete b[""]}return b},remove:function(a){this._removeChildData(a);n.fn.remove.call(this,a)},_removeChildData:function(a){var b=this._subtree(this._childrenMap(this.data()),a.id);this._removeItems(b)},_filterCallback:function(a){var b,c;var d={};var e=[];var f=a.toArray();for(b=0;b<f.length;b++){c=f[b];while(c){if(!d[c.id]){d[c.id]=true;e.push(c)}if(!d[c.parentId]){d[c.parentId]=true;c=this.parentNode(c);if(c){e.push(c)}}else{break}}}return new p(e)},_subtree:function(a,b){var c=a[b]||[];var d=this._defaultParentId();for(var e=0,f=c.length;e<f;e++){if(c[e].id!==d){c=c.concat(this._subtree(a,c[e].id))}}return c},_childrenMap:function(a){var b={};var c,d,e,f;a=this._observeView(a);for(c=0;c<a.length;c++){d=a[c];e=d.id;f=d.parentId;b[e]=b[e]||[];b[f]=b[f]||[];b[f].push(d)}return b},_calculateAggregates:function(a,b){b=b||{};var c={};var d,e,f;var g=b.filter;if(g){a=p.process(a,{filter:g,filterCallback:s(this._filterCallback,this)}).data}var h=this._childrenMap(a);c[this._defaultParentId()]=new p(this._subtree(h,this._defaultParentId())).aggregate(b.aggregate);for(f=0;f<a.length;f++){d=a[f];e=this._subtree(h,d.id);c[d.id]=new p(e).aggregate(b.aggregate)}return c},_queryProcess:function(a,b){b=b||{};b.filterCallback=s(this._filterCallback,this);var c=this._defaultParentId();var d=p.process(a,b);var e=this._childrenMap(d.data);var f,g,h,i;a=e[c]||[];for(g=0;g<a.length;g++){h=a[g];if(h.id===c){continue}i=e[h.id];f=!!(i&&i.length);if(!h.loaded()){h.loaded(f||!h.hasChildren)}if(h.loaded()||h.hasChildren!==true){h.hasChildren=f}if(f){a=a.slice(0,g+1).concat(i,a.slice(g+1))}}d.data=a;return d},_queueRequest:function(a,b){b.call(this)},_modelLoaded:function(a){var b=this.get(a);b.loaded(true);b.hasChildren=this.childNodes(b).length>0},_modelError:function(a,b){this.get(a)._error=b},success:function(a,b){if(!b||typeof b.id=="undefined"){this._data=this._observe([])}return n.fn.success.call(this,a,b)},load:function(b){var c="_query";var d=this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates;
var e=a.Deferred().resolve().promise();if(b.loaded()){if(d){return e}}else if(b.hasChildren){c="read";this._removeChildData(b)}return this[c]({id:b.id}).done(s(this._modelLoaded,this,b.id)).fail(s(this._modelError,this,b.id))},contains:function(a,b){var c=a.id;while(b){if(b.parentId===c){return true}b=this.parentNode(b)}return false},_byParentId:function(a,b){var c=[];var d=this.view();var e;if(a===b){return[]}for(var f=0;f<d.length;f++){e=d.at(f);if(e.parentId==a){c.push(e)}}return c},_defaultParentId:function(){return this.reader.model.fn.defaults[this.reader.model.parentIdField]},childNodes:function(a){return this._byParentId(a.id,this._defaultParentId())},rootNodes:function(){return this._byParentId(this._defaultParentId())},parentNode:function(a){return this.get(a.parentId)},level:function(a){var b=-1;if(!(a instanceof la)){a=this.get(a)}do{a=this.parentNode(a);b++}while(a);return b},filter:function(a){var c=n.fn.filter;if(a===b){return c.call(this,a)}c.call(this,a)}});oa.create=function(b){if(a.isArray(b)){b={data:b}}else if(b instanceof o){b={data:b.toJSON()}}return b instanceof oa?b:new oa(b)};function pa(){return this.style.display!=="none"}function qa(c){var d=c.find(">tr:not(.k-filter-row)");var e=function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")};var f=a();if(d.length>1){f=d.find("th").filter(e).filter(function(){return this.rowSpan>1})}f=f.add(d.last().find("th").filter(e));var g=kendo.attr("index");f.sort(function(c,d){c=a(c);d=a(d);var e=c.attr(g);var f=d.attr(g);if(e===b){e=a(c).index()}if(f===b){f=a(d).index()}e=parseInt(e,10);f=parseInt(f,10);return e>f?1:e<f?-1:0});return f}function ra(a){var b=[];var c=a.className;for(var d=0,e=a.level;d<e;d++){b.push(f("span",{className:c}))}return b}function sa(a){var b,c=0;for(var d=0,e=a.length;d<e;d++){b=a[d].style.width;if(b&&b.indexOf("%")==-1){c+=parseInt(b,10)}}return c}function ta(a,b){a=a[0];b=b[0];if(a.rows.length!==b.rows.length){var c=a.offsetHeight;var d=b.offsetHeight;var e;var f;if(c>d){e=b.rows[b.rows.length-1];f=c-d}else{e=a.rows[a.rows.length-1];f=d-c}e.style.height=e.offsetHeight+f+"px"}}var ua=kendo.Observable.extend({init:function(a,b){kendo.Observable.fn.init.call(this);b=this.options=d(true,{},this.options,b);this.element=a;this.bind(this.events,b);this.model=this.options.model;this.fields=this._fields(this.options.columns);this._initContainer();this.createEditable()},events:[],_initContainer:function(){this.wrapper=this.element},createEditable:function(){var a=this.options;this.editable=new l.Editable(this.wrapper,{fields:this.fields,target:a.target,clearContainer:a.clearContainer,model:this.model})},_isEditable:function(a){return a.field&&this.model.editable(a.field)},_fields:function(a){var b=[];var c,d,e;for(c=0,d=a.length;c<d;c++){e=a[c];if(this._isEditable(e)){b.push({field:e.field,format:e.format,editor:e.editor})}}return b},end:function(){return this.editable.end()},close:function(){this.destroy()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty().end().removeAttr(kendo.attr("role"));this.model=this.wrapper=this.element=this.columns=this.editable=null}});var va=ua.extend({init:function(a,b){ua.fn.init.call(this,a,b);this._attachHandlers();kendo.cycleForm(this.wrapper);this.open()},events:[N,H],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var b=this.options;var c=[];this.wrapper=a('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid).append('<div class="k-edit-form-container"/>');if(b.template){this._appendTemplate(c);this.fields=[]}else{this._appendFields(c)}this._appendButtons(c);new e.Tree(this.wrapper.children()[0]).render(c);this.wrapper.appendTo(b.appendTo);this.window=new l.Window(this.wrapper,b.window)},_appendTemplate:function(a){var b=this.options.template;if(typeof b===y){b=window.unescape(b)}b=kendo.template(b)(this.model);a.push(h(b))},_appendFields:function(a){var b,c,d;var e=this.options.columns;for(b=0,c=e.length;b<c;b++){d=e[b];if(d.command){continue}a.push(h('<div class="k-edit-label"><label for="'+d.field+'">'+(d.title||d.field||"")+"</label></div>"));if(this._isEditable(d)){a.push(h("<div "+kendo.attr("container-for")+'="'+d.field+'" class="k-edit-field"></div>'))}else{a.push(f("div",{class:"k-edit-field"},[this.options.fieldRenderer(d,this.model)]))}}},_appendButtons:function(a){a.push(f("div",{class:"k-edit-buttons k-state-default"},this.options.commandRenderer()))},_attachHandlers:function(){var a=this._cancelProxy=s(this._cancel,this);this.wrapper.on(E+D,".k-grid-cancel",this._cancelProxy);this._saveProxy=s(this._save,this);this.wrapper.on(E+D,".k-grid-update",this._saveProxy);this.window.bind("close",function(b){if(b.userTriggered){a(b)}})},_dettachHandlers:function(){this._cancelProxy=null;this._saveProxy=null;this.wrapper.off(D)},_cancel:function(a){this.trigger(N,a)},_save:function(){this.trigger(H)},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",s(this.destroy,this)).close()},destroy:function(){this.window.destroy();this.window=null;this._dettachHandlers();ua.fn.destroy.call(this)}});var wa=m.extend({init:function(b,c){m.fn.init.call(this,b,c);ha=kendo.support.isRtl(b);this._dataSource(this.options.dataSource);this._aria();this._columns();this._layout();this._navigatable();this._selectable();this._sortable();this._resizable();this._filterable();this._attachEvents();this._toolbar();this._scrollable();this._reorderable();this._columnMenu();this._minScreenSupport();this._draggable();if(this.options.autoBind){this.dataSource.fetch()}if(this._hasLockedColumns){var d=this;this.wrapper.addClass("k-grid-lockedcolumns");this._resizeHandler=function(){d.resize()};a(window).on("resize"+D,this._resizeHandler)}kendo.notify(this)},_draggable:function(){var b=this.options.editable;if(!b||!b.move){return}this._dragging=new kendo.ui.HierarchicalDragAndDrop(this.wrapper,{$angular:this.$angular,autoScroll:true,filter:"tbody>tr",itemSelector:"tr",allowedContainers:this.wrapper,hintText:function(b){var c=function(){return a(this).text()};var d="<span class='k-header k-drag-separator' />";return b.children("td").map(c).toArray().join(d)},contains:s(function(a,b){var c=this.dataItem(b);var d=this.dataItem(a);return d==c||this.dataSource.contains(d,c)},this),itemFromTarget:function(a){var b=a.closest("tr");return{item:b,content:b}},dragstart:s(function(a){this.wrapper.addClass("k-treelist-dragging");var b=this.dataItem(a);return this.trigger(Z,{source:b})},this),drag:s(function(a){a.source=this.dataItem(a.source);this.trigger($,a)},this),drop:s(function(a){a.source=this.dataItem(a.source);a.destination=this.dataItem(a.destination);this.wrapper.removeClass("k-treelist-dragging");return this.trigger(_,a)},this),dragend:s(function(a){var b=this.dataItem(a.destination);var c=this.dataItem(a.source);c.set("parentId",b?b.id:null);a.source=c;a.destination=b;this.trigger(aa,a)},this),reorderable:false,dropHintContainer:function(a){return a.children("td:eq(1)")},dropPositionFrom:function(a){return a.prevAll(".k-i-none").length>0?"after":"before"}})},itemFor:function(a){if(typeof a=="number"){a=this.dataSource.get(a)}return this.tbody.find("["+kendo.attr("uid")+"="+a.uid+"]")},_scrollable:function(){if(this.options.scrollable){var b=this.thead.closest(".k-grid-header-wrap");var c=a(this.lockedContent).bind("DOMMouseScroll"+D+" mousewheel"+D,s(this._wheelScroll,this));this.content.bind("scroll"+D,function(){b.scrollLeft(this.scrollLeft);c.scrollTop(this.scrollTop)});var d=kendo.touchScroller(this.content);if(d&&d.movable){this._touchScroller=d;d.movable.bind("change",function(a){b.scrollLeft(-a.sender.x);if(c){c.scrollTop(-a.sender.y)}})}}},_wheelScroll:function(b){if(b.ctrlKey){return}var c=kendo.wheelDeltaY(b);var d=a(b.currentTarget);if(c){if(d[0].scrollHeight>d[0].clientHeight&&(d[0].scrollTop<d[0].scrollHeight-d[0].clientHeight&&c<0||d[0].scrollTop>0&&c>0)){b.preventDefault()}d.one("wheel"+D,false);this.content.scrollTop(this.content.scrollTop()+-c)}},_progress:function(){var a=this.options.messages;if(!this.tbody.find("tr").length){this._showStatus(kendo.template("<span class='#= className #' /> #: messages.loading #")({className:ja.icon+" "+ja.loading,messages:a}))}},_error:function(a){if(!this.dataSource.rootNodes().length){this._render({error:a})}},refresh:function(b){b=b||{};if(b.action=="itemchange"&&this.editor){return}if(this.trigger(L)){return}var c=a(this.current());var d=false;var e;this._cancelEditor();this._render();this._adjustHeight();if(this.options.navigatable){if(this._isActiveInTable()||this.editor){d=c.is("th");e=Math.max(this.cellIndex(c),0)}this._restoreCurrent(e,d)}this.trigger(M)},_angularFooters:function(a){var b,c,d;var e=this.dataSource.aggregates();var f=this._footerItems();for(b=0;b<f.length;b++){c=f.eq(b);d=e[c.attr("data-parentId")];this._angularFooter(a,c.find("td").get(),d)}},_angularFooter:function(a,b,c){var d=this.columns;this.angular(a,function(){return{elements:b,data:t(d,function(a){return{column:a,aggregate:c&&c[a.field]}})}})},items:function(){if(this._hasLockedColumns){return this._items(this.tbody).add(this._items(this.lockedTable))}else{return this._items(this.tbody)}},_items:function(b){return b.find("tr").filter(function(){return!a(this).hasClass(ja.footerTemplate)})},_footerItems:function(){var b=this.tbody;if(this._hasLockedColumns){b=b.add(this.lockedTable)}return b.find("tr").filter(function(){return a(this).hasClass(ja.footerTemplate)})},dataItems:function(){var a=kendo.ui.DataBoundWidget.fn.dataItems.call(this);if(this._hasLockedColumns){var b=a.length,c=new Array(2*b);for(var d=b;--d>=0;){c[d]=c[d+b]=a[d]}a=c}return a},_showStatus:function(b){var c=this.element.find(".k-status");var d=a(this.content).add(this.lockedContent);if(!c.length){c=a("<div class='k-status' />").appendTo(this.element)}this._contentTree.render([]);if(this._hasLockedColumns){this._lockedContentTree.render([])}d.hide();c.html(b)},_hideStatus:function(){this.element.find(".k-status").remove();a(this.content).add(this.lockedContent).show()},_adjustHeight:function(){var a=this.element;var b=a.find(C+ja.gridContentWrap);var c=a.find(C+ja.gridHeader);var d=a.find(C+ja.gridToolbar);var e;var f=kendo.support.scrollbar();a.css(ia,this.options.height);var g=function(a){var b,c;if(a[0].style.height){return true}else{b=a.height()}a.height("auto");c=a.height();a.height("");return b!=c};if(g(a)){e=a.height()-k(c)-k(d);b.height(e);if(this._hasLockedColumns){f=this.table[0].offsetWidth>this.table.parent()[0].clientWidth?f:0;this.lockedContent.height(e-f)}}},_resize:function(){this._applyLockedContainersWidth();this._adjustHeight()},_minScreenSupport:function(){var b=this.hideMinScreenCols();if(b){this.minScreenResizeHandler=s(this.hideMinScreenCols,this);a(window).on("resize",this.minScreenResizeHandler)}},hideMinScreenCols:function(){var a=this.columns,c=false,d=window.innerWidth>0?window.innerWidth:screen.width;for(var e=0;e<a.length;e++){var f=a[e];var g=f.minScreenWidth;if(g!==b&&g!==null){c=true;if(g>d){this.hideColumn(f)}else{this.showColumn(f)}}}return c},destroy:function(){m.fn.destroy.call(this);var b=this.dataSource;b.unbind(z,this._refreshHandler);b.unbind(A,this._errorHandler);b.unbind(B,this._progressHandler);this._navigatableTables=null;this._current=null;if(this._resizeHandler){a(window).off("resize"+D,this._resizeHandler)}if(this._dragging){this._dragging.destroy();this._dragging=null}if(this.resizable){this.resizable.destroy();this.resizable=null}if(this.reorderable){this.reorderable.destroy();this.reorderable=null}if(this._draggableInstance&&this._draggableInstance.element){this._draggableInstance.destroy();this._draggableInstance=null}if(this.minScreenResizeHandler){a(window).off("resize",this.minScreenResizeHandler)}this._destroyEditor();this.element.off(D);if(this._touchScroller){this._touchScroller.destroy()}this._autoExpandable=null;this._refreshHandler=this._errorHandler=this._progressHandler=this._dataSourceFetchProxy=null;this.thead=this.content=this.tbody=this.table=this.element=this.lockedHeader=this.lockedContent=null;this._statusTree=this._headerTree=this._contentTree=this._lockedHeaderColsTree=this._lockedContentColsTree=this._lockedHeaderTree=this._lockedContentTree=null},options:{name:"TreeList",columns:[],autoBind:true,scrollable:true,selectable:false,sortable:false,toolbar:null,height:null,columnMenu:false,messages:{noRows:"No records to display",loading:"Loading...",requestFailed:"Request failed.",retry:"Retry",commands:{edit:"Edit",update:"Update",canceledit:"Cancel",create:"Add new record",createchild:"Add child record",destroy:"Delete",excel:"Export to Excel",pdf:"Export to PDF"}},excel:{hierarchy:true},resizable:false,filterable:false,editable:false,reorderable:false},events:[z,G,H,K,I,J,L,M,N,Z,$,_,aa,P,Q,R,T,U,V,W,X],_toggle:function(c,d){var e=a.Deferred().resolve().promise();var f=c.loaded();if(c._error){c.expanded=false;c._error=b}if(!f&&c.expanded){return e}if(typeof d=="undefined"){d=!c.expanded}c.expanded=d;if(!f){e=this.dataSource.load(c).always(s(function(){this._render();this._syncLockedContentHeight()},this))}this._render();this._syncLockedContentHeight();return e},expand:function(a){return this._toggle(this.dataItem(a),true)},collapse:function(a){return this._toggle(this.dataItem(a),false)},_toggleChildren:function(b){var c=a(b.currentTarget);var d=this.dataItem(c);var e=!d.expanded?I:J;if(!this.trigger(e,{model:d})){this._toggle(d)}b.preventDefault()},_navigatable:function(){var b=this;if(!b.options.navigatable){return}var c=b.table.add(b.lockedTable);var d=b.thead.parent().add(a(">table",b.lockedHeader));if(b.options.scrollable){c=c.add(d);d.attr(O,-1)}this._navigatableTables=c;c.on(kendo.support.touch?"touchstart"+D:"mousedown"+D,ba+">:visible",s(b._tableClick,b)).on("focus"+D,s(b._tableFocus,b)).on("focusout"+D,s(b._tableBlur,b)).on("keydown"+D,s(b._tableKeyDown,b))},cellIndex:function(b){var c=0;if(this.lockedTable&&!a.contains(this.lockedTable[0],b[0])){c=this.lockedColumns(this.columns).length}return a(b).parent().children("td:visible").index(b)+c},_isActiveInTable:function(){var b=kendo._activeElement();if(!b){return false}return this.table[0]===b||a.contains(this.table[0],b)||this.lockedTable&&(this.lockedTable[0]===b||a.contains(this.lockedTable[0],b))},_restoreCurrent:function(c,d){var e;var f;var g;if(c===b||c<0){return}if(this._current){this._current.removeClass("k-state-focused")}if(d){this.current(this.thead.find("th").eq(c))}else{e=0;c=0;f=a();if(this.lockedTable){f=this.lockedTable.find(">tbody>tr:visible").eq(e)}f=f.add(this.tbody.children().eq(e));g=f.find(">td:visible").eq(c);this.current(g)}if(this._current){ya(this._current.closest("table")[0],true)}},current:function(b){var c=this._current;b=a(b);if(b.length&&(!c||c[0]!==b[0])){this._updateCurrentAttr(c,b);this._scrollCurrent()}return this._current},_scrollCurrent:function(){var b=this._current;var c=this.options.scrollable;if(!b||!c){return}var d=b.parent();var e=d.closest("table").parent();var f=e.is(".k-grid-content-locked,.k-grid-header-locked");var g=e.is(".k-grid-content-locked,.k-grid-content");var h=a(this.content)[0];if(g){this._scrollTo(this._relatedRow(d)[0],h)}if(this.lockedContent){this.lockedContent[0].scrollTop=h.scrollTop}if(!f){this._scrollTo(b[0],h)}},_scrollTo:function(b,c){var d=b.tagName.toLowerCase();var e=d==="td"||d==="th";var f=b[e?"offsetLeft":"offsetTop"];var g=b[e?"offsetWidth":"offsetHeight"];var h=c[e?"scrollLeft":"scrollTop"];var i=c[e?"clientWidth":"clientHeight"];var j=f+g;var k=0;var l=0;var m=0;if(ha&&e){var n=a(b).closest("table")[0];if(r.msie){l=n.offsetLeft}else if(r.mozilla){m=n.offsetLeft-kendo.support.scrollbar()}}h=Math.abs(h+l-m);if(h>f){k=f}else if(j>h+i){if(g<=i){k=j-i}else{k=f}}else{k=h}k=Math.abs(k+l)+m;c[e?"scrollLeft":"scrollTop"]=k},_aria:function(){var a=this.element.attr("id")||"aria";if(a){this._elementId=a+"_active_element"}},_verticalContainer:function(a,b){var c=this._navigatableTables.length;var d=Math.floor(c/2);var e=v(a[0],this._navigatableTables);if(b){d*=-1}e+=d;if(e>=0||e<c){a=this._navigatableTables.eq(e)}return a.find(b?"thead":"tbody")},_updateCurrentAttr:function(b,c){var d=a(b).data("headerId");a(b).removeClass(ja.focused).closest("table").removeAttr("aria-activedescendant");if(d){d=d.replace(this._elementId,"");a(b).attr("id",d)}else{a(b).removeAttr("id")}c.data("headerId",c.attr("id")).attr("id",this._elementId).addClass(ja.focused).closest("table").attr("aria-activedescendant",this._elementId);this._current=c},_tableKeyDown:function(b){var c=false;var d=this.current();var e=a(b.target);var f=!b.isDefaultPrevented()&&!e.is(":button,a,:input,a>.k-icon");d=d?d:a(this.lockedTable).add(this.table).find(ea);if(f&&b.keyCode==j.UP){c=this._moveUp(d)}if(f&&b.keyCode==j.DOWN){c=this._moveDown(d)}if(f&&b.keyCode==(ha?j.LEFT:j.RIGHT)){if(b.altKey){c=this._handleExpand(d)}else{c=this._moveRight(d)}}if(f&&b.keyCode==(ha?j.RIGHT:j.LEFT)){if(b.altKey){c=this._handleCollapse(d)}else{c=this._moveLeft(d)}}if(b.keyCode==j.ENTER||b.keyCode==j.F2){c=this._handleEnterKey(d,b.currentTarget,e)}if(b.keyCode==j.ESC){c=this._handleEscKey(d,b.currentTarget)}if(f&&b.keyCode==j.HOME){c=this._handleHome(d,b.ctrlKey)}if(f&&b.keyCode==j.END){c=this._handleEnd(d,b.ctrlKey)}if(c){b.preventDefault();b.stopPropagation()}},_handleExpand:function(a){var b=this;var c=a.parent();var d=b.dataItem(c);if(a.hasClass("k-header")){return false}if(d&&d.hasChildren&&!d.expanded&&!b.trigger(I,{model:d})){this.expand(c);return true}return false},_handleCollapse:function(a){var b=this;var c=a.parent();var d=b.dataItem(c);if(a.hasClass("k-header")){return false}if(d&&d.hasChildren&&d.expanded&&!b.trigger(J,{model:d})){b.collapse(c);return true}return false},_handleHome:function(a,b){var c=a.parent();var d=c.parent();var e=this.lockedTable&&this.lockedTable.children("tbody")[0]===d[0];var f=d[0]===this.tbody[0];var g;if(b){if(this.lockedTable){g=this.lockedTable.find(ea)}else{g=this.table.find(ea)}}else if(f||e){if(f&&this.lockedTable){c=this._relatedRow(c)}g=c.children(ca+":first")}if(g&&g.length){this.current(g);return true}},_handleEnd:function(a,b){var c=a.parent();var d=c.parent();var e=this.lockedTable&&this.lockedTable.children("tbody")[0]===d[0];var f=d[0]===this.tbody[0];var g;if(b){g=this.table.find(fa+">"+ca+":last")}else if(f||e){if(!f&&this.lockedTable){c=this._relatedRow(c)}g=c.children(ca+":last")}if(g&&g.length){this.current(g);return true}},_handleEscKey:function(b,c){var d=kendo._activeElement();var e;if(!b||!b.parent().hasClass("k-grid-edit-row")){if(b.has(d).length){ya(c,true);return true}return false}e=a(b).parent().index();if(d){d.blur()}this.cancelRow();if(e>=0){this.current(this.items().eq(e).children(ca).first())}if(r.msie&&r.version<9){document.body.focus()}ya(c,true);return true},_handleEnterKey:function(b,c,d){var e=this.options.editable;var f=d.closest("[role=gridcell]");var g;if(!d.is("table")&&!a.contains(b[0],d[0])){b=f}if(b.is("th")){b.find(".k-link").click();return true}g=b.find(":kendoFocusable:first");if(g[0]&&b.hasClass("k-state-focused")){g.focus();return true}if(e&&!d.is(":button,.k-button,textarea")){if(!f[0]){f=b}this._handleEditing(f,false,c);return true}return false},_handleEditing:function(b,c,d){var e=this,f=a(kendo._activeElement()),g=r.msie,h,i,j;d=a(d);j=b.parent().hasClass("k-grid-edit-row");if(e.editor){h=e.editor.wrapper;if(h&&a.contains(h[0],f[0])){if(r.opera){f.blur().change().triggerHandler("blur")}else{f.blur();if(g){f.blur()}}}if(!e.editor){ya(d);return}if(e.editor.end()){e.saveRow();j=true}else{e.current(h.children().filter(ca).first());i=h.find(":kendoFocusable:first")[0];if(i){i.focus()}return}}if(c){e.current(c)}ya(d,true);if(!e.options.editable){return}if(!j&&!c||c){var k=e.current().index();e.editRow(e.current().parent());e.current(e.editor.wrapper.children().eq(k));e.current().removeClass("k-state-focused")}},_moveRight:function(a){var b=a.nextAll(ca).first();var c=a.parent();if(a.hasClass("k-header")){b=a.next(da);if(!b[0]&&this.lockedTable&&a.closest("table")[0]===this.lockedHeader.find("table")[0]){b=this.thead.find(da+":first")}}if(!b[0]&&this.lockedTable&&a.closest("table")[0]===this.lockedTable[0]){b=this._relatedRow(c).children(ca).first()}if(b[0]&&b[0]!==a[0]){ya(b.closest("table"),true)}this.current(b);return true},_moveLeft:function(a){var b=a.prevAll(ca).first();var c=a.parent();if(a.hasClass("k-header")){b=a.prev(da);if(!b[0]&&this.lockedTable&&a.closest("table")[0]===this.thead.parent()[0]){b=this.lockedHeader.find(">table>thead>tr>"+da+":last")}}if(!b[0]&&this.lockedTable&&a.closest("table")[0]===this.table[0]){b=this._relatedRow(c).children(ca).last()}if(b[0]&&b[0]!==a[0]){ya(b.closest("table"),true)}this.current(b);return true},_moveUp:function(a){var b=a.parent();var c=b.prevAll(ba+":first");var d;if(c[0]){d=c.children().eq(a.index())}else{var e=this._verticalContainer(a.closest("table"),true);d=e.find(ga).eq(a.siblings(":visible").addBack().index(a));if(d[0]){ya(d.closest("table"),true)}}this.current(d);return true},_moveDown:function(a){var b=a.parent();var c=b.nextAll(ba+":first");var d;if(c[0]){d=c.children().eq(a.index())}else{var e=this._verticalContainer(a.closest("table"));d=e.find(ca).eq(a.siblings(":visible").addBack().index(a));if(d[0]){ya(d.closest("table"),true)}}this.current(d);return true},_tableClick:function(b){var c=a(b.currentTarget),d=c.is("th"),e=this.table.add(this.lockedTable),f=this.thead.parent().add(a(">table",this.lockedHeader)),g=xa(b.target),h=c.closest("table")[0];if(kendo.support.touch){return}if(h!==e[0]&&h!==e[1]&&h!==f[0]&&h!==f[1]){return}if(this.options.navigatable){this.current(c)}if(d||!g){setTimeout(function(){if(!xa(kendo._activeElement())||!a.contains(h,kendo._activeElement())){ya(h,true)}})}if(d){b.preventDefault()}},_setTabIndex:function(a){this._navigatableTables.attr(O,-1);a.attr(O,0)},_tableFocus:function(b){var c=this.current();var d=a(b.currentTarget);if(c&&c.is(":visible")){c.addClass(ja.focused)}else{this.current(d.find(ea))}this._setTabIndex(d)},_tableBlur:function(){var a=this.current();if(a){a.removeClass(ja.focused)}},_attachEvents:function(){var a=C+ja.iconCollapse+", ."+ja.iconExpand+", ."+ja.refresh;var b=C+ja.retry;this.element.on(F+D,a,s(this._toggleChildren,this)).on(E+D,b,this._dataSourceFetchProxy).on(E+D,".k-button[data-command]",s(this._commandClick,this))},_commandByName:function(b){var c=this.columns;var d=a.isArray(this.options.toolbar)?this.options.toolbar:[];var e,f,g,h;b=b.toLowerCase();if(ka[b]){return ka[b]}for(e=0;e<c.length;e++){g=c[e].command;if(g){for(f=0;f<g.length;f++){h=g[f].name;if(!h){continue}if(h.toLowerCase()==b){return g[f]}}}}for(e=0;e<d.length;e++){h=d[e].name;if(!h){continue}if(h.toLowerCase()==b){return d[e]}}},_commandClick:function(c){var d=a(c.currentTarget);var e=d.attr("data-command");var f=this._commandByName(e);var g=d.parentsUntil(this.wrapper,"tr");g=g.length?g:b;if(f){if(f.methodName){this[f.methodName](g)}else if(f.click){f.click.call(this,c)}c.preventDefault()}},_ensureExpandableColumn:function(){if(this._autoExpandable){delete this._autoExpandable.expandable}var a=u(this.columns,na(ma("hidden")));var b=u(a,ma("expandable"));if(this.columns.length&&!b.length){this._autoExpandable=a[0];a[0].expandable=true}},_columns:function(){var a=this.options.columns||[];this.columns=t(a,function(a){a=typeof a==="string"?{field:a}:a;return d({encoded:true},a)});var b=this._lockedColumns();if(b.length>0){this._hasLockedColumns=true;this.columns=b.concat(this._nonLockedColumns())}this._ensureExpandableColumn();this._columnTemplates();this._columnAttributes()},_columnTemplates:function(){var a,b,c;var d=this.columns;for(a=0,b=d.length;a<b;a++){c=d[a];if(c.template){c.template=kendo.template(c.template)}if(c.headerTemplate){c.headerTemplate=kendo.template(c.headerTemplate)}if(c.footerTemplate){c.footerTemplate=kendo.template(c.footerTemplate)}}},_columnAttributes:function(){var b,c;var d=this.columns;function e(b){var c,d,e;if(b&&b.style){c=b.style.split(";");b.style={};for(d=0;d<c.length;d++){e=c[d].split(":");var f=a.trim(e[0]);if(f){b.style[a.camelCase(f)]=a.trim(e[1])}}}}for(b=0,c=d.length;b<c;b++){e(d[b].attributes);e(d[b].headerAttributes)}},_layout:function(){var a=this.columns;var b=this.element;var c="";this.wrapper=b.addClass(ja.wrapper);c="<div class='#= gridHeader #'>";if(this._hasLockedColumns){c+="<div class='k-grid-header-locked'>"+"<table role='grid'>"+"<colgroup></colgroup>"+"<thead role='rowgroup' />"+"</table>"+"</div>"}c+="<div class='#= gridHeaderWrap #'>"+"<table role='grid'>"+"<colgroup></colgroup>"+"<thead role='rowgroup' />"+"</table>"+"</div>"+"</div>";if(this._hasLockedColumns){c+="<div class='k-grid-content-locked'>"+"<table role='treegrid' tabindex='0'>"+"<colgroup></colgroup>"+"<tbody />"+"</table>"+"</div>"}c+="<div class='#= gridContentWrap # k-auto-scrollable'>"+"<table role='treegrid' tabindex='0'>"+"<colgroup></colgroup>"+"<tbody />"+"</table>"+"</div>";if(!this.options.scrollable){c="<table role='treegrid' tabindex='0'>"+"<colgroup></colgroup>"+"<thead class='#= gridHeader #' role='rowgroup' />"+"<tbody />"+"</table>"}if(this.options.toolbar){c="<div class='#= header # #= gridToolbar #' />"+c}b.append(kendo.template(c)(ja)+"<div class='k-status' />");this.toolbar=b.find(C+ja.gridToolbar);var d=b.find(C+ja.gridHeader).find("thead").addBack().filter("thead");this.thead=d.last();if(this.options.scrollable){var e=kendo.support.isRtl(b);b.find("div."+ja.gridHeader).css(e?"padding-left":"padding-right",kendo.support.scrollbar())}var f=b.find(C+ja.gridContentWrap);if(!f.length){f=b}else{this.content=f}this.table=f.find(">table");this.tbody=this.table.find(">tbody");if(this._hasLockedColumns){this.lockedHeader=d.first().closest(".k-grid-header-locked");this.lockedContent=b.find(".k-grid-content-locked");this.lockedTable=this.lockedContent.children()}this._initVirtualTrees();this._renderCols();this._renderHeader();this.angular("compile",function(){return{elements:d.find("th.k-header").get(),data:t(a,function(a){return{column:a}})}})},_initVirtualTrees:function(){this._headerColsTree=new e.Tree(this.thead.prev()[0]);this._contentColsTree=new e.Tree(this.tbody.prev()[0]);this._headerTree=new e.Tree(this.thead[0]);this._contentTree=new e.Tree(this.tbody[0]);this._statusTree=new e.Tree(this.element.children(".k-status")[0]);if(this.lockedHeader){this._lockedHeaderColsTree=new e.Tree(this.lockedHeader.find("colgroup")[0]);this._lockedContentColsTree=new e.Tree(this.lockedTable.find(">colgroup")[0]);this._lockedHeaderTree=new e.Tree(this.lockedHeader.find("thead")[0]);this._lockedContentTree=new e.Tree(this.lockedTable.find(">tbody")[0])}},_toolbar:function(){var b=this.options.toolbar;var c=this.toolbar;if(!b){return}if(a.isArray(b)){var d=this._buildCommands(b);new e.Tree(c[0]).render(d)}else{c.append(kendo.template(b)({}))}this.angular("compile",function(){return{elements:c.get()}})},_lockedColumns:function(){return u(this.columns,ma("locked"))},_nonLockedColumns:function(){return u(this.columns,na(ma("locked")))},_templateColumns:function(){return u(this.columns,ma("template"))},_flushCache:function(){if(this.options.$angular&&this._templateColumns().length){this._contentTree.render([]);if(this._hasLockedColumns){this._lockedContentTree.render([])}}},_render:function(b){b=b||{};var c=this.options.messages;var d=this.dataSource.rootNodes();var e=kendo.attr("uid");var f=this.select().removeClass("k-state-selected").map(function(b,c){return a(c).attr(e)});this._absoluteIndex=0;this._angularItems("cleanup");this._angularFooters("cleanup");this._flushCache();if(b.error){this._showStatus(kendo.template("#: messages.requestFailed # "+"<button class='#= buttonClass #'>#: messages.retry #</button>")({buttonClass:[ja.button,ja.retry].join(" "),messages:c}))}else if(!d.length){this._showStatus(kendo.htmlEncode(c.noRows))}else{this._hideStatus();this._contentTree.render(this._trs({columns:this._nonLockedColumns(),aggregates:b.aggregates,selected:f,data:d,visible:true,level:0}));if(this._hasLockedColumns){this._absoluteIndex=0;this._lockedContentTree.render(this._trs({columns:this._lockedColumns(),aggregates:b.aggregates,selected:f,data:d,visible:true,level:0}))}}if(this._touchScroller){this._touchScroller.contentResized()}this._muteAngularRebind(function(){this._angularItems("compile");this._angularFooters("compile")});this.items().filter(function(){return a.inArray(a(this).attr(e),f)>=0}).addClass("k-state-selected");this._adjustRowsHeight()},_adjustRowsHeight:function(){if(!this._hasLockedColumns){return}var a=this.table;var b=this.lockedTable;var c=a[0].rows;var d=c.length;var e;var f=b[0].rows;var g=a.add(b);var h=g.length;var i=[];var j=this.lockedHeader.find("tr");var k=this.thead.find("tr");j.add(k).height("auto").height(Math.max(j.height(),k.height()));for(e=0;e<d;e++){if(!f[e]){break}if(c[e].style.height){c[e].style.height=f[e].style.height=""}}for(e=0;e<d;e++){if(!f[e]){break}var l=c[e].offsetHeight;var m=f[e].offsetHeight;var n=0;if(l>m){n=l}else if(l<m){n=m}i.push(n)}for(e=0;e<h;e++){g[e].style.display="none"}for(e=0;e<d;e++){if(i[e]){c[e].style.height=f[e].style.height=i[e]+1+"px"}}for(e=0;e<h;e++){g[e].style.display=""}},_ths:function(a){var b=[];var c,e,i,j,k,l;for(var m=0,n=a.length;m<n;m++){c=a[m];i=[];j=[ja.header];if(c.headerTemplate){e=c.headerTemplate({})}else{e=c.title||c.field||""}if(c.headerTemplate){l=h(e)}else{l=g(e)}if(c.sortable){i.push(f("a",{href:"#",className:ja.link},[l]))}else{i.push(l)}k={"data-field":c.field,"data-title":c.title,style:c.hidden===true?{display:"none"}:{},className:j.join(" "),role:"columnheader"};k=d(true,{},k,c.headerAttributes);b.push(f("th",k,i))}return b},_cols:function(a){var b=[];var c,d;for(var e=0;e<a.length;e++){if(a[e].hidden===true){continue}c=a[e].width;d={};if(c&&parseInt(c,10)!==0){d.style={width:typeof c==="string"?c:c+"px"}}b.push(f("col",d))}return b},_renderCols:function(){var a=this._nonLockedColumns();this._headerColsTree.render(this._cols(a));if(this.options.scrollable){this._contentColsTree.render(this._cols(a))}if(this._hasLockedColumns){a=this._lockedColumns();this._lockedHeaderColsTree.render(this._cols(a));this._lockedContentColsTree.render(this._cols(a))}},_renderHeader:function(){var a=this._nonLockedColumns();this._headerTree.render([f("tr",{role:"row"},this._ths(a))]);if(this._hasLockedColumns){a=this._lockedColumns();this._lockedHeaderTree.render([f("tr",{role:"row"},this._ths(a))]);this._applyLockedContainersWidth()}},_applyLockedContainersWidth:function(){if(!this._hasLockedColumns){return}var a=sa(this.lockedHeader.find(">table>colgroup>col"));var b=this.thead.parent();var c=sa(b.find(">colgroup>col"));var d=this.wrapper[0].clientWidth;var e=kendo.support.scrollbar();if(a>=d){a=d-3*e}this.lockedHeader.add(this.lockedContent).width(a);b.add(this.table).width(c);var f=d-a-2;this.content.width(f);b.parent().width(f-e)},_trs:function(b){var c,d,e,f,g,h,i;var j=[];var k=b.level;var l=b.data;var m=this.dataSource;var n=m.aggregates()||{};var o=b.columns;for(h=0,i=l.length;h<i;h++){e=[];c=l[h];g=c.loaded()&&m.childNodes(c);f=g&&g.length;d={role:"row"};d[kendo.attr("uid")]=c.uid;if(f){d["aria-expanded"]=!!c.expanded}if(b.visible){if(this._absoluteIndex%2!==0){e.push(ja.alt)}this._absoluteIndex++}else{d.style={display:"none"}}if(a.inArray(c.uid,b.selected)>=0){e.push(ja.selected)}if(f){e.push(ja.group)}if(c._edit){e.push("k-grid-edit-row")}d.className=e.join(" ");j.push(this._tds({model:c,attr:d,level:k},o,s(this._td,this)));if(f){j=j.concat(this._trs({columns:o,aggregates:n,selected:b.selected,visible:b.visible&&!!c.expanded,data:g,level:k+1}))}}if(this._hasFooterTemplate()){d={className:ja.footerTemplate,"data-parentId":c.parentId};if(!b.visible){d.style={display:"none"}}j.push(this._tds({model:n[c.parentId],attr:d,level:k},o,this._footerTd))}return j},_footerTd:function(b){
var c=[];var e=b.column;var g=b.column.footerTemplate||a.noop;var i=b.model[e.field]||{};var j={role:"gridcell",style:e.hidden===true?{display:"none"}:{}};if(e.expandable){c=c.concat(ra({level:b.level+1,className:ja.iconPlaceHolder}))}if(e.attributes){d(j,e.attributes)}c.push(h(g(i)||""));return f("td",j,c)},_hasFooterTemplate:function(){return!!u(this.columns,function(a){return a.footerTemplate}).length},_tds:function(a,b,c){var d=[];var e;for(var g=0,h=b.length;g<h;g++){e=b[g];d.push(c({model:a.model,column:e,level:a.level}))}return f("tr",a.attr,d)},_td:function(a){var b=[];var c=a.model;var e=a.column;var g;var h={role:"gridcell",style:e.hidden===true?{display:"none"}:{}};if(e.attributes){d(true,h,e.attributes)}if(c._edit&&e.field&&c.editable(e.field)){h[kendo.attr("container-for")]=e.field}else{if(e.expandable){b=ra({level:a.level,className:ja.iconPlaceHolder});g=[ja.icon];if(c.hasChildren){g.push(c.expanded?ja.iconCollapse:ja.iconExpand)}else{g.push(ja.iconHidden)}if(c._error){g.push(ja.refresh)}else if(!c.loaded()&&c.expanded){g.push(ja.loading)}b.push(f("span",{className:g.join(" ")}));h.style["white-space"]="nowrap"}if(e.command){if(h.className&&h.className.indexOf("k-command-cell")!==-1){h.className+=" k-command-cell"}else if(!h.className){h.className="k-command-cell"}if(c._edit){b=this._buildCommands(["update","canceledit"])}else{b=this._buildCommands(e.command)}}else{b.push(this._cellContent(e,c))}}return f("td",h,b)},_cellContent:function(a,b){var c;if(a.template){c=a.template(b)}else if(a.field){c=b.get(a.field);if(c!==null&&a.format){c=kendo.format(a.format,c)}}if(c===null||typeof c=="undefined"){c=""}if(a.template||!a.encoded){return h(c)}else{return g(c)}},_buildCommands:function(a){var b,c=[];for(b=0;b<a.length;b++){c.push(this._button(a[b]))}return c},_button:function(a){var b=(a.name||a).toLowerCase();var c=this.options.messages.commands[b];var e=[];a=d({},ka[b],{text:c},a);if(a.imageClass){e.push(f("span",{className:["k-icon",a.imageClass].join(" ")}))}return f("button",{type:"button","data-command":b,className:["k-button","k-button-icontext",a.className].join(" ")},e.concat([g(a.text||a.name)]))},_positionResizeHandle:function(b){var c=a(b.currentTarget);var d=this.resizeHandle;var e=c.position();var f=e.left;var g=i(c);var h=c.closest("div");var j=b.clientX+a(window).scrollLeft();var l=this.options.columnResizeHandleWidth||3;f+=h.scrollLeft();if(!d){d=this.resizeHandle=a('<div class="k-resize-handle"><div class="k-resize-handle-inner" /></div>')}var m=c.offset().left+g;var n=j>m-l&&j<m+l;if(!n){d.hide();return}h.append(d);d.show().css({top:e.top,left:f+g-l-1,height:k(c),width:l*3}).data("th",c);var o=this;d.off("dblclick"+D).on("dblclick"+D,function(){var b=c.index();if(a.contains(o.thead[0],c[0])){b+=u(o.columns,function(a){return a.locked&&!a.hidden}).length}o.autoFitColumn(b)})},autoFitColumn:function(b){var c=this,d=c.options,e=c.columns,f,g=kendo.support.browser,h,j,k,l=c.lockedHeader?qa(c.lockedHeader.find(">table>thead")).filter(pa).length:0,m;if(typeof b=="number"){b=e[b]}else if(w(b)){b=u(e,function(a){return a===b})[0]}else{b=u(e,function(a){return a.field===b})[0]}if(!b||b.hidden){return}f=v(b,e);k=b.locked;if(k){j=c.lockedHeader.children("table")}else{j=c.thead.parent()}h=j.find("[data-index='"+f+"']");var n=k?c.lockedTable:c.table,o=c.footer||a();if(c.footer&&c.lockedContent){o=k?c.footer.children(".k-grid-footer-locked"):c.footer.children(".k-grid-footer-wrap")}var p=o.find("table").first();if(c.lockedHeader&&l>=f&&!k){f-=l}for(var q=0;q<e.length;q++){if(e[q]===b){break}else{if(e[q].hidden){f--}}}if(d.scrollable){m=j.find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")").add(n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")).add(p.find("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")"))}else{m=n.children("colgroup").find("col:not(.k-group-col):not(.k-hierarchy-col):eq("+f+")")}var r=j.add(n).add(p);var s=i(h);m.width("");r.css("table-layout","fixed");m.width("auto");r.addClass("k-autofitting");r.css("table-layout","");var t=Math.ceil(Math.max(i(h),i(n.find("tr").eq(0).children("td:visible").eq(f)),i(p.find("tr").eq(0).children("td:visible").eq(f))));m.width(t);b.width=t;if(d.scrollable){var x=j.find("col"),y,z=0;for(var A=0,B=x.length;A<B;A+=1){y=x[A].style.width;if(y&&y.indexOf("%")==-1){z+=parseInt(y,10)}else{z=0;break}}if(z){r.each(function(){this.style.width=z+"px"})}}if(g.msie&&g.version==8){r.css("display","inline-table");setTimeout(function(){r.css("display","table")},1)}r.removeClass("k-autofitting");c.trigger(U,{column:b,oldWidth:s,newWidth:t});c._applyLockedContainersWidth();c._syncLockedContentHeight();c._syncLockedHeaderHeight()},_adjustLockedHorizontalScrollBar:function(){var a=this.table,b=a.parent();var c=a[0].offsetWidth>b[0].clientWidth?kendo.support.scrollbar():0;this.lockedContent.height(b.height()-c)},_syncLockedContentHeight:function(){if(this.lockedTable){if(!this._touchScroller){this._adjustLockedHorizontalScrollBar()}this._adjustRowsHeight(this.table,this.lockedTable)}},_syncLockedHeaderHeight:function(){if(this.lockedHeader){var a=this.lockedHeader.children("table");var b=this.thead.parent();this._adjustRowsHeight(a,b);ta(a,b)}},_resizable:function(){if(!this.options.resizable){return}if(this.resizable){this.resizable.destroy()}var b=this;a(this.lockedHeader).find("thead").add(this.thead).on("mousemove"+D,"th",a.proxy(this._positionResizeHandle,this));this.resizable=new kendo.ui.Resizable(this.wrapper,{handle:".k-resize-handle",start:function(c){var d=a(c.currentTarget).data("th");var e="col:eq("+a.inArray(d[0],d.parent().children().filter(":visible"))+")";var f,g;b.wrapper.addClass("k-grid-column-resizing");if(b.lockedHeader&&a.contains(b.lockedHeader[0],d[0])){f=b.lockedHeader;g=b.lockedTable}else{f=b.thead.parent();g=b.table}this.col=g.children("colgroup").find(e).add(f.find(e));this.th=d;this.startLocation=c.x.location;this.columnWidth=i(d);this.table=this.col.closest("table");this.totalWidth=this.table.width()},resize:function(a){var b=11;var c=a.x.location-this.startLocation;if(this.columnWidth+c<b){c=b-this.columnWidth}this.table.width(this.totalWidth+c);this.col.width(this.columnWidth+c)},resizeend:function(){b.wrapper.removeClass("k-grid-column-resizing");var a=this.th.attr("data-field");var c=u(b.columns,function(b){return b.field==a});var d=Math.floor(i(this.th));c[0].width=d;b._resize();b._adjustRowsHeight();b.trigger(U,{column:c,oldWidth:this.columnWidth,newWidth:d});this.table=this.col=this.th=null}})},_sortable:function(){var b=this.columns;var c;var e;var f=a(this.lockedHeader).add(this.thead).find("th");var g,h,i;var j=kendo.attr("field");var k=this.options.sortable;if(!k){return}for(h=0,i=f.length;h<i;h++){c=b[h];if(c.sortable!==false&&!c.command&&c.field){g=f.eq(h);e=g.data("kendoColumnSorter");if(e){e.destroy()}g.attr(j,c.field).kendoColumnSorter(d({},k,c.sortable,{dataSource:this.dataSource}))}}},_filterable:function(){var b=a(this.lockedHeader).add(this.thead).find("th");var c=this.options.filterable;var e,f,g,h,i;if(!c||this.options.columnMenu){return}var j=s(function(a){this.trigger(P,{field:a.field,container:a.container})},this);for(e=0,f=b.length;e<f;e++){g=this.columns[e];h=b.eq(e);i=h.data("kendoFilterMenu");if(i){i.destroy()}if(g.command||g.filterable===false){continue}h.kendoFilterMenu(d(true,{},c,g.filterable,{dataSource:this.dataSource,init:j}))}},_change:function(){this.trigger(z)},_isLocked:function(){return this.lockedHeader!==null},_selectable:function(){var c=this;var d=this.options.selectable;var e;var f=this.table;var g;var h=c._isLocked();var i;var k;if(d){d=kendo.ui.Selectable.parseOptions(d);if(this._hasLockedColumns){f=f.add(this.lockedTable);g=d.multiple&&d.cell}e=">tbody>tr:not(.k-footer-template)";if(d.cell){e=e+">td"}this.selectable=new kendo.ui.Selectable(f,{filter:e,aria:true,multiple:d.multiple,change:s(this._change,this),useAllItems:g,continuousItems:s(this._continuousItems,this,e,d.cell),relatedTarget:!d.cell&&this._hasLockedColumns?s(this._selectableTarget,this):b});if(c.options.navigatable){i=d.multiple;k=d.cell;f.on("keydown"+D,function(b){var d=c.current();var e=b.target;if(b.keyCode===j.SPACEBAR&&!b.shiftKey&&a.inArray(e,f)>-1&&!d.is(".k-header")){b.preventDefault();b.stopPropagation();d=k?d:d.parent();if(h&&!k){d=d.add(c._relatedRow(d))}if(i){if(!b.ctrlKey){c.selectable.clear()}else{if(d.hasClass(ja.selected)){d.removeClass(ja.selected);c.trigger(z);return}}}else{c.selectable.clear()}if(!k){c.selectable._lastActive=d}c.selectable.value(d)}else if(!k&&(b.shiftKey&&b.keyCode==j.LEFT||b.shiftKey&&b.keyCode==j.RIGHT||b.shiftKey&&b.keyCode==j.UP||b.shiftKey&&b.keyCode==j.DOWN||b.keyCode===j.SPACEBAR&&b.shiftKey)){b.preventDefault();b.stopPropagation();d=d.parent();if(h){d=d.add(c._relatedRow(d))}if(i){if(!c.selectable._lastActive){c.selectable._lastActive=d}c.selectable.selectRange(c.selectable._firstSelectee(),d)}else{c.selectable.clear();c.selectable.value(d)}}})}}},_continuousItems:function(b,c){if(!this.lockedContent){return}var d=a(b,this.lockedTable);var e=a(b,this.table);var f=c?this._lockedColumns().length:1;var g=c?this.columns.length-f:1;var h=[];for(var i=0;i<d.length;i+=f){x.apply(h,d.slice(i,i+f));x.apply(h,e.splice(0,g))}return h},_selectableTarget:function(b){var c;var d=a();for(var e=0,f=b.length;e<f;e++){c=this._relatedRow(b[e]);if(v(c[0],b)<0){d=d.add(c)}}return d},_relatedRow:function(b){var c=this.lockedTable;b=a(b);if(!c){return b}var d=b.closest(this.table.add(this.lockedTable));var e=d.find(">tbody>tr").index(b);d=d[0]===this.table[0]?c:this.table;return d.find(">tbody>tr").eq(e)},select:function(b){var c=this.selectable;if(!c){return a()}if(typeof b!=="undefined"){if(!c.options.multiple){c.clear();b=b.first()}if(this._hasLockedColumns){b=b.add(a.map(b,s(this._relatedRow,this)))}}return c.value(b)},clearSelection:function(){var a=this.select();if(a.length){this.selectable.clear();this.trigger(z)}},_dataSource:function(a){var b=this.dataSource;if(b){b.unbind(z,this._refreshHandler);b.unbind(A,this._errorHandler);b.unbind(B,this._progressHandler)}this._refreshHandler=s(this.refresh,this);this._errorHandler=s(this._error,this);this._progressHandler=s(this._progress,this);b=this.dataSource=oa.create(a);b.bind(z,this._refreshHandler);b.bind(A,this._errorHandler);b.bind(B,this._progressHandler);this._dataSourceFetchProxy=s(function(){this.dataSource.fetch()},this)},setDataSource:function(a){this._dataSource(a);this._sortable();this._filterable();this._contentTree.render([]);if(this.options.autoBind){this.dataSource.fetch()}},dataItem:function(b){if(b instanceof la){return b}var c=a(b).closest("tr");var d=this.dataSource.getByUid(c.attr(kendo.attr("uid")));return d},editRow:function(a){var b;if(typeof a===y){a=this.tbody.find(a)}b=this.dataItem(a);if(!b){return}if(this._editMode()!="popup"){b._edit=true}this._cancelEditor();this._render();this._createEditor(b);this.trigger(G,{container:this.editor.wrapper,model:b})},_cancelEdit:function(b){if(!this.editor){return}var c;b=d(b,{container:this.editor.wrapper,model:this.editor.model});if(this.trigger(N,b)){return}if(this.options.navigatable){c=this.items().index(a(this.current()).parent())}this.cancelRow();if(this.options.navigatable){this.current(this.items().eq(c).children().filter(ca).first());ya(this.table,true)}},cancelRow:function(){this._cancelEditor();this._render()},saveRow:function(){var a=this.editor;var b;if(!a){return}b={model:a.model,container:a.wrapper};if(a.end()&&!this.trigger(H,b)){this.dataSource.sync()}},addRow:function(a){var b=this.editor;var c=0;var d={};if(b&&!b.end()){return}if(a){if(!(a instanceof la)){a=this.dataItem(a)}d[a.parentIdField]=a.id;c=this.dataSource.indexOf(a)+1;this.expand(a).then(s(this._insertAt,this,d,c));return}this._insertAt(d,c)},_insertAt:function(a,b){a=this.dataSource.insert(b,a);var c=this.itemFor(a);this.editRow(c)},removeRow:function(a){var b=this.dataItem(a);var c={model:b,row:a};if(b&&!this.trigger(K,c)){this.dataSource.remove(b);this.dataSource.sync()}},_cancelEditor:function(){var a;var b=this.editor;if(b){a=b.model;this._destroyEditor();this.dataSource.cancelChanges(a);a._edit=false}},_destroyEditor:function(){if(!this.editor){return}this.editor.close();this.editor=null},_createEditor:function(a){var b=this.itemFor(a);b=b.add(this._relatedRow(b));var c=this._editMode();var e={columns:this.columns,model:a,target:this,clearContainer:false,template:this.options.editable.template};if(c=="inline"){this.editor=new ua(b,e)}else{d(e,{window:this.options.editable.window,commandRenderer:s(function(){return this._buildCommands(["update","canceledit"])},this),fieldRenderer:this._cellContent,save:s(this.saveRow,this),cancel:s(this._cancelEdit,this),appendTo:this.wrapper});this.editor=new va(b,e)}},_editMode:function(){var a="inline",b=this.options.editable;if(b!==true){if(typeof b=="string"){a=b}else{a=b.mode||a}}return a.toLowerCase()},hideColumn:function(a){this._toggleColumnVisibility(a,true)},showColumn:function(a){this._toggleColumnVisibility(a,false)},_toggleColumnVisibility:function(a,b){a=this._findColumn(a);if(!a||a.hidden===b){return}a.hidden=b;this._ensureExpandableColumn();this._renderCols();this._renderHeader();this._render();this._adjustTablesWidth();this.trigger(b?Q:R,{column:a});if(!b&&!a.width){this.table.add(this.thead.closest("table")).width("")}},_findColumn:function(a){if(typeof a=="number"){a=this.columns[a]}else if(w(a)){a=u(this.columns,function(b){return b===a})[0]}else{a=u(this.columns,function(b){return b.field===a})[0]}return a},_adjustTablesWidth:function(){var a,b;var c=this.thead.prev().children();var d,e=0;for(a=0,b=c.length;a<b;a++){d=c[a].style.width;if(d&&d.indexOf("%")==-1){e+=parseInt(d,10)}else{e=0;break}}if(e){this.table.add(this.thead.closest("table")).width(e)}},_reorderable:function(){if(!this.options.reorderable){return}var b=this.options.scrollable===true;var c=(b?".k-grid-header:first ":"table:first>.k-grid-header ")+S;var d=this;this._draggableInstance=new l.Draggable(this.wrapper,{group:kendo.guid(),filter:c,hint:function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(kendo.attr("title"))||b.attr(kendo.attr("field"))||b.text()).prepend('<span class="k-icon k-drag-status k-i-cancel" />')}});this.reorderable=new l.Reorderable(this.wrapper,{draggable:this._draggableInstance,dragOverContainers:s(this._allowDragOverContainers,this),inSameContainer:function(b){return a(b.source).parent()[0]===a(b.target).parent()[0]},change:function(a){var b=a.newIndex;var c=a.oldIndex;var e=a.position==="before";var f=d.columns[c];d.trigger(T,{newIndex:b,oldIndex:c,column:f});d.reorderColumn(b,f,e)}})},_allowDragOverContainers:function(a){return this.columns[a].lockable!==false},reorderColumn:function(c,d,e){var f;var g=this.columns;var h=v(d,g);var i=g[c];var j=!!i.locked;var k=this._nonLockedColumns().length;if(h===c){return}if(j&&!d.locked&&k==1){return}if(!j&&d.locked&&g.length-k==1){return}if(e===b){e=c<h}f=!!d.locked;f=f!=j;d.locked=j;g.splice(e?c:c+1,0,d);g.splice(h<c?h:h+1,1);this._renderCols();var l=a(this.lockedHeader).add(this.thead).find("th");l.eq(h)[e?"insertBefore":"insertAfter"](l.eq(c));var m=this._headerTree.children[0].children;if(this._hasLockedColumns){m=this._lockedHeaderTree.children[0].children.concat(m)}m.splice(e?c:c+1,0,m[h]);m.splice(h<c?h:h+1,1);if(this._hasLockedColumns){this._lockedHeaderTree.children[0].children=m.splice(0,this._lockedColumns().length);this._headerTree.children[0].children=m}this._applyLockedContainersWidth();this.refresh();if(!f){return}if(j){this.trigger(W,{column:d})}else{this.trigger(X,{column:d})}},lockColumn:function(a){var b=this.columns;if(typeof a=="number"){a=b[a]}else{a=u(b,function(b){return b.field===a})[0]}if(!a||a.hidden){return}var c=this._lockedColumns().length-1;this.reorderColumn(c,a,false)},unlockColumn:function(a){var b=this.columns;if(typeof a=="number"){a=b[a]}else{a=u(b,function(b){return b.field===a})[0]}if(!a||a.hidden){return}var c=this._lockedColumns().length;this.reorderColumn(c,a,true)},_columnMenu:function(){var b=a(this.lockedHeader).add(this.thead).find("th");var c=this.columns;var e=this.options;var f=e.columnMenu;var g,h,i,j,k;var l=s(this._columnMenuInit,this);var m=this._lockedColumns().length;if(!f){return}if(typeof f=="boolean"){f={}}for(var n=0;n<b.length;n++){g=c[n];if(!g.field){continue}h=b.eq(n).data("kendoColumnMenu");if(h){h.destroy()}j=false;if(g.sortable!==false&&f.sortable!==false&&e.sortable!==false){j=d({},e.sortable,{compare:(g.sortable||{}).compare})}k=false;if(e.filterable&&g.filterable!==false&&f.filterable!==false){k=d({pane:this.pane},g.filterable,e.filterable)}i={dataSource:this.dataSource,values:g.values,columns:f.columns,sortable:j,filterable:k,messages:f.messages,owner:this,closeCallback:a.noop,init:l,pane:this.pane,lockedColumns:g.lockable!==false&&m>0};if(e.$angular){i.$angular=e.$angular}b.eq(n).kendoColumnMenu(i)}},_columnMenuInit:function(a){this.trigger(V,{field:a.field,container:a.container})}});function xa(b){return a(b).is(":button,a,:input,a>.k-icon,textarea,span.k-select,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap,.k-tool-icon")}function ya(b,c){var d=r.msie||r.edge;if(c===true){b=a(b);var e,f;e=b.parent().scrollTop();f=b.parent().scrollLeft();if(d){try{b[0].setActive()}catch(a){b[0].focus()}}else{b[0].focus()}b.parent().scrollTop(e).scrollLeft(f)}else{a(b).one("focusin",function(a){a.preventDefault()}).focus()}}if(kendo.ExcelMixin){kendo.ExcelMixin.extend(wa.prototype)}if(kendo.PDFMixin){kendo.PDFMixin.extend(wa.prototype);wa.fn._drawPDF=function(b){var c=new a.Deferred;this._drawPDFShadow({width:this.wrapper.width()},{avoidLinks:this.options.pdf.avoidLinks}).done(function(a){var d={page:a,pageNumber:1,progress:1,totalPages:1};b.notify(d);c.resolve(d.page)}).fail(function(a){c.reject(a)});return c}}d(true,kendo.data,{TreeListDataSource:oa,TreeListModel:la});d(true,kendo.ui,{TreeList:wa});l.plugin(wa)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("util/main",["kendo.core"],a)})(function(){(function(){var a=window.kendo,b=a.deepExtend;function c(a){return a*a}var d=Date.now;if(!d){d=function(){return(new Date).getTime()}}function e(a){if(typeof a!=="string"){a+="px"}return a}function f(b){var c=[];if(b){var d=a.toHyphens(b).split("-");for(var e=0;e<d.length;e++){c.push("k-pos-"+d[e])}}return c.join(" ")}function g(a){var b={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};var c=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];var d="";while(a>0){if(a<c[0]){c.shift()}else{d+=b[c[0]];a-=c[0]}}return d}function h(a){a=a.toLowerCase();var b={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3};var c=0,d=0;for(var e=0;e<a.length;++e){var f=b[a.charAt(e)];if(!f){return null}c+=f;if(f>d){c-=2*d}d=f}return c}function i(a){var b=Object.create(null);return function(){var c="";for(var d=arguments.length;--d>=0;){c+=":"+arguments[d]}return c in b?b[c]:b[c]=a.apply(this,arguments)}}function j(a){return l.test(a)}function k(a,b){try{return a.call(b,function(a){throw new c(a)})}catch(a){if(a instanceof c){return a.value}throw a}function c(a){this.value=a}}b(a,{util:{now:d,renderPos:f,renderSize:e,sqr:c,romanToArabic:h,arabicToRoman:g,memoize:i,isUnicodeLetter:j,withExit:k}});var l=new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]")})();return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("util/parse-xml",["kendo.core","util/main"],a)})(function(){"use strict";var a=String.fromCharCode;var b={amp:38,lt:60,gt:62,quot:34,apos:39,nbsp:160};function c(a){var b=[];for(var c=0;c<a.length;++c){b.push(a.charCodeAt(c))}return b}function d(a,b){if(b>65535){b-=65536;a.push(b>>>10&1023|55296,56320|b&1023)}else{a.push(b)}}var e=c("<![CDATA[");var f=c("]]>");var g=c("-->");var h=c("!--");var i=c("/>");var j=c("</");var k=c("?>");var l=c("?");var m=c("<");var n=c(">");var o=c(";");var p=c("=");var q=c("&");var r=c('"');var s=c("'");var t=c("#");var u=c("x");var v=c("X");var w={};function x(c,x){var y=0;var z=[];var A={is:function(a){var b=z.length,c=a.length;while(--b>=0&&--c>=0){if(z[b].$tag!=a[c]&&a[c]!="*"){return false}}return c<0?z[z.length-1]:null},exit:function(){throw w},stack:z};function B(a){var b=c[y++];if(!(b&240^240)){d(a,(b&3)<<18|(c[y++]&63)<<12|(c[y++]&63)<<6|c[y++]&63)}else if(!(b&224^224)){d(a,(b&15)<<12|(c[y++]&63)<<6|c[y++]&63)}else if(!(b&192^192)){d(a,(b&31)<<6|c[y++]&63)}else{a.push(b)}}function C(a){throw new Error(a+", at "+y)}function D(a){var b=[];while(y<c.length&&a(c[y])){b.push(c[y++])}return b}function E(b){return a.apply(0,D(b))}function F(){D(I)}function G(a){var b=y;for(var d=0;d<a.length;++d){if(c[y++]!=a[d]){y=b;return false}}return a}function H(a){if(!G(a)){C("Expecting "+a.join(", "))}}function I(a){return a==9||a==10||a==13||a==32}function J(a){return a>=48&&a<=57}function K(a){return a>=48&&a<=57||(a|=32)>=97&&a<=102}function L(a){return a==58||a==95||(a|=32)>=97&&a<=122}function M(a){return a==45||J(a)||L(a)}function N(){var b=[];while(y<c.length){if(G(g)){return V("comment",a.apply(0,b))}B(b)}}function O(){var a,b;if(G(l)){T()}else if(G(h)){N()}else{a=Q();b=U(a);z.push(b);if(G(i)){V("enter",a,b,true)}else{H(n);V("enter",a,b);P(a);if(a!=Q()){C("Bad closing tag")}V("leave",a,b);F();H(n)}z.pop()}}function P(b){var d=[];while(y<c.length){if(G(j)){return d.length&&V("text",a.apply(0,d))}else if(G(e)){while(y<c.length&&!G(f)){B(d)}}else if(G(m)){if(d.length){V("text",a.apply(0,d))}O();d=[]}else if(G(q)){S(d)}else{B(d)}}C("Unclosed tag "+b)}function Q(){if(!L(c[y])){C("Expecting XML name")}return E(M)}function R(){var b=G(r)||G(s);if(!b){C("Expecting string")}var d=[];while(y<c.length){if(G(b)){return a.apply(0,d)}else if(G(q)){S(d)}else{B(d)}}C("Unfinished string")}function S(a){var c;if(G(t)){if(G(u)||G(v)){c=parseInt(E(K),16)}else{c=parseInt(E(J),10)}if(isNaN(c)){C("Bad numeric entity")}}else{var e=Q();c=b[e];if(c===undefined){C("Unknown entity "+e)}}d(a,c);H(o)}function T(){V("decl",Q(),U());H(k)}function U(a){var b={$tag:a};while(y<c.length){F();var d=c[y];if(d==63||d==62||d==47){break}b[Q()]=(H(p),R())}return b}function V(a,b,c,d){var e=x&&x[a];if(e){e.call(A,b,c,d)}}var W=[];B(W);if(W[0]!=65279){y=0}while(y<c.length){F();H(m);O();F()}}kendo.util.parseXML=function a(){try{return x.apply(this,arguments)}catch(a){if(a!==w){throw a}}}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/commands",["kendo.core","kendo.binder","kendo.window","kendo.list","kendo.tabstrip"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.spreadsheet.Command=a.Class.extend({init:function(a){this.options=a;this._workbook=a.workbook;this._property=a&&a.property;this._state={}},range:function(a){if(a!==undefined){this._setRange(a)}return this._range},_setRange:function(a){this._range=a},redo:function(){this.range().select();this.exec()},undo:function(){this.setState(this._state)},getState:function(){this._state=this.range().getState(this._property)},setState:function(a){this.range().setState(a)},_forEachCell:function(a){var b=this.range();var c=b._ref;c.forEach(function(c){b.sheet().forEach(c.toRangeRef(),a.bind(this))}.bind(this))}});var d=c.extend({init:function(a){c.fn.init.call(this,a);this._target=a.target;this._value=a.value},exec:function(){this.getState();this.setState(this._value)}});a.spreadsheet.ColumnWidthCommand=d.extend({getState:function(){this._state=this.range().sheet().columnWidth(this._target)},setState:function(a){this.range().sheet().columnWidth(this._target,a)}});a.spreadsheet.RowHeightCommand=d.extend({getState:function(){this._state=this.range().sheet().rowHeight(this._target)},setState:function(a){this.range().sheet().rowHeight(this._target,a)}});a.spreadsheet.HyperlinkCommand=c.extend({init:function(a){c.fn.init.call(this,a);this._link=a.link},exec:function(){var a=this.range();this._prevLink=a.link();this._prevUnderline=a.underline();a.link(this._link);a.underline(true);if(a.value()==null){this._hasSetValue=true;a.value(this._link)}},undo:function(){var a=this.range();a.link(this._prevLink);a.underline(this._prevUnderline);if(this._hasSetValue){a.value(null)}}});a.spreadsheet.GridLinesChangeCommand=d.extend({getState:function(){this._state=this._range.sheet().showGridLines()},setState:function(a){this._range.sheet().showGridLines(a)}});var e=a.spreadsheet.PropertyChangeCommand=c.extend({_setRange:function(a){c.prototype._setRange.call(this,a.skipHiddenCells())},init:function(a){c.fn.init.call(this,a);this._value=a.value},exec:function(){var a=this.range();if(a.enable()){this.getState();if(this.options.property==="format"){this._workbook.trigger("changeFormat",{range:a})}a[this._property](this._value)}}});a.spreadsheet.ClearContentCommand=c.extend({exec:function(){if(!this.range().enable()){return{reason:"error",type:"cannotModifyDisabled"}}if(!this.range().canEditArrayFormula()){return{reason:"error",type:"intersectsArray"}}this.getState();this.range().skipHiddenCells().clearContent()}});a.spreadsheet.EditCommand=e.extend({init:function(a){a.property=a.property||"input";e.fn.init.call(this,a)},rejectState:function(a){this.undo();return{title:a.title,body:a.message,reason:"error",type:"validationError"}},editRange:function(){var a=this.range();return this.options.arrayFormula?a:a.sheet().activeCellSelection()},getState:function(){this._state=this.range().getState()},exec:function(){var b=this.options.arrayFormula;var c=this.editRange();if(!c.enable()){return{reason:"error",type:"rangeDisabled"}}if(!c.canEditArrayFormula()){return{reason:"error",type:"intersectsArray"}}var d=this._value;this.getState();if(this._property=="value"){c.value(d);return}try{c.link(null);if(d===""){c.value(null)}else{c.input(d,{arrayFormula:b});if(/\n/.test(c.value())){c.wrap(true)}}c._adjustRowHeight();var e=c._getValidationState();if(e){return this.rejectState(e)}}catch(b){if(b instanceof a.spreadsheet.calc.ParseError){return{title:"Error in formula",body:b+"",reason:"error"}}else{throw b}}}});a.spreadsheet.TextWrapCommand=e.extend({init:function(a){a.property="wrap";e.fn.init.call(this,a);this._value=a.value},getState:function(){var a={};this.range().forEachRow(function(b){var c=b.topLeft().row;a[c]=b.sheet().rowHeight(c)});this._state=this.range().getState(this._property);this._rowHeight=a},undo:function(){var a=this.range().sheet();var b=this._rowHeight;this.range().setState(this._state);for(var c in b){a.rowHeight(c,b[c])}}});a.spreadsheet.AdjustDecimalsCommand=c.extend({init:function(a){
this._decimals=a.value;a.property="format";c.fn.init.call(this,a)},exec:function(){var b=this.range().sheet();var c=this._decimals;var d=a.spreadsheet.formatting;this.getState();b.batch(function(){this.range().forEachCell(function(a,e,f){var g=f.format;if(g||c>0){g=d.adjustDecimals(g||"#",c);b.range(a,e).format(g)}})}.bind(this))}});a.spreadsheet.BorderChangeCommand=c.extend({init:function(a){a.property="border";c.fn.init.call(this,a);this._type=a.border;this._style=a.style},_batch:function(a){return this.range().sheet().batch(a,{})},exec:function(){var a=this;a.getState();a._batch(function(){a[a._type](a._style)})},noBorders:function(){this.range().insideBorders(null);this.outsideBorders(null)},allBorders:function(a){this.range().insideBorders(a);this.outsideBorders(a)},leftBorder:function(a){this.range().leftColumn().borderLeft(a)},rightBorder:function(a){this.range().rightColumn().borderRight(a)},topBorder:function(a){this.range().topRow().borderTop(a)},bottomBorder:function(a){this.range().bottomRow().borderBottom(a)},outsideBorders:function(a){var b=this.range();b.leftColumn().borderLeft(a);b.topRow().borderTop(a);b.rightColumn().borderRight(a);b.bottomRow().borderBottom(a)},insideBorders:function(a){this.range().insideBorders(a);this.outsideBorders(null)},insideHorizontalBorders:function(a){this.range().insideHorizontalBorders(a)},insideVerticalBorders:function(a){this.range().insideVerticalBorders(a)}});a.spreadsheet.MergeCellCommand=c.extend({init:function(a){c.fn.init.call(this,a);this._type=a.value},exec:function(){this.getState();this[this._type]()},activate:function(a){this.range().sheet().activeCell(a)},getState:function(){this._state=this.range().getState()},undo:function(){if(this._type!=="unmerge"){this.range().unmerge();this.activate(this.range().topLeft())}this.range().setState(this._state)},cells:function(){var a=this.range();var b=a._ref;a.merge();this.activate(b)},horizontally:function(){var a=this.range().topRow()._ref;this.range().forEachRow(function(a){a.merge()});this.activate(a)},vertically:function(){var a=this.range().leftColumn()._ref;this.range().forEachColumn(function(a){a.merge()});this.activate(a)},unmerge:function(){var a=this.range();var b=a._ref.topLeft;a.unmerge();this.activate(b)}});a.spreadsheet.FreezePanesCommand=c.extend({init:function(a){c.fn.init.call(this,a);this._type=a.value},exec:function(){this.getState();this._topLeft=this.range().topLeft();this[this._type]()},getState:function(){this._state=this.range().sheet().getState()},undo:function(){this.range().sheet().setState(this._state)},panes:function(){var a=this._topLeft;var b=this.range().sheet();b.frozenColumns(a.col).frozenRows(a.row)},rows:function(){var a=this._topLeft;var b=this.range().sheet();b.frozenRows(a.row)},columns:function(){var a=this._topLeft;var b=this.range().sheet();b.frozenColumns(a.col)},unfreeze:function(){var a=this.range().sheet();a.frozenRows(0).frozenColumns(0)}});a.spreadsheet.PasteCommand=c.extend({init:function(a){c.fn.init.call(this,a);this._clipboard=a.workbook.clipboard();this._event=a.event},getState:function(){this._range=this._workbook.activeSheet().range(this._clipboard.pasteRef());this._state=this._range.getState()},exec:function(){this.getState();this._clipboard.parse();var a=this._clipboard.canPaste();if(!a.canPaste){if(a.menuInvoked){return{reason:"error",type:"useKeyboard"}}if(a.pasteOnMerged){return{reason:"error",type:"modifyMerged"}}if(a.overflow){return{reason:"error",type:"overflow"}}if(a.pasteOnDisabled){this._event.preventDefault();return{reason:"error",type:"cannotModifyDisabled"}}return{reason:"error"}}var b=this._workbook.activeSheet().selection();var c=this._workbook.trigger("paste",{range:b});if(c){this._event.preventDefault()}else{this._clipboard.paste();b._adjustRowHeight()}}});a.spreadsheet.AdjustRowHeightCommand=c.extend({exec:function(){var a=this.options;var b=this._workbook.activeSheet();var c=a.range||b.range(a.rowIndex);c._adjustRowHeight()}});a.spreadsheet.ToolbarPasteCommand=c.extend({exec:function(){if(a.support.clipboard.paste){this._workbook._view.clipboard.focus().select();document.execCommand("paste")}else{return{reason:"error",type:"useKeyboard"}}}});a.spreadsheet.CutCommand=c.extend({_eventType:"cut",init:function(a){c.fn.init.call(this,a);this._clipboard=a.workbook.clipboard();this._event=a.event},exec:function(){var a=this._clipboard.canCopy();if(!a.canCopy){if(a.menuInvoked){return{reason:"error",type:"useKeyboard"}}else if(a.multiSelection){return{reason:"error",type:"unsupportedSelection"}}return}var b=this._workbook.activeSheet().selection();if(this._eventType=="cut"){if(!b.enable()){this._event.preventDefault();return{reason:"error",type:"cannotModifyDisabled"}}this.getState()}var c=this._workbook.trigger(this._eventType,{range:b});if(c){this._event.preventDefault()}else if(this._eventType=="cut"){this._clipboard.cut()}else{this._clipboard.copy()}}});a.spreadsheet.CopyCommand=a.spreadsheet.CutCommand.extend({_eventType:"copy",undo:b.noop});function f(a){var c=document.createElement("textarea");b(c).addClass("k-spreadsheet-clipboard").val(a).appendTo(document.body).focus().select();document.execCommand("copy");b(c).remove()}a.spreadsheet.ToolbarCopyCommand=c.extend({init:function(a){c.fn.init.call(this,a);this._clipboard=a.workbook.clipboard()},undo:b.noop,exec:function(){if(a.support.clipboard.copy){var b=this._workbook._view.clipboard;f(b.html());b.trigger("copy")}else{return{reason:"error",type:"useKeyboard"}}}});a.spreadsheet.AutoFillCommand=c.extend({init:function(a){c.fn.init.call(this,a)},origin:function(a){this._origin=a},exec:function(){var b=this.range();if(!b.enable()){return{reason:"error",type:"rangeDisabled"}}if(b.intersectingArrayFormula()){return{reason:"error",type:"intersectsArray"}}this.getState();try{b.fillFrom(this._origin)}catch(b){if(b instanceof a.spreadsheet.Range.FillError){return{reason:"error",type:b.code}}throw b}}});a.spreadsheet.ToolbarCutCommand=c.extend({init:function(a){c.fn.init.call(this,a);this._clipboard=a.workbook.clipboard()},exec:function(){if(a.support.clipboard.copy){var b=this._workbook._view.clipboard;f(b.html());b.trigger("cut")}else{return{reason:"error",type:"useKeyboard"}}}});a.spreadsheet.FilterCommand=c.extend({undo:function(){this.range().filter(this._state)},exec:function(){var a=this.range();this._state=a.hasFilter();a.filter(!this._state)}});a.spreadsheet.SortCommand=c.extend({undo:function(){var a=this.range().sheet();a.setState(this._state)},exec:function(){var a=this.range();var b=a.sheet();var c=b.activeCell();var d=this.options.sheet?c.topLeft.col:this.options.column||0;var e=this.options.value==="asc"?true:false;this._state=b.getState();if(this.options.sheet){a=this.expandRange()}var f=a.cantSort();if(f){return{reason:"error",type:f.code}}a.sort({column:d,ascending:e})},expandRange:function(){var b=this.range().sheet();return new a.spreadsheet.Range(b._sheetRef,b)}});var g=a.spreadsheet.ApplyFilterCommand=c.extend({column:function(){return this.options.column||0},undo:function(){var a=this.range().sheet();a.clearFilter(this.column());if(this._state.length){this.range().filter(this._state)}},getState:function(){var a=this.range().sheet();var b=a.filter();if(b){this._state=b.columns.filter(function(a){return a.index==this.column()}.bind(this))}},exec:function(){var b=this.range();var c=this.column();var d=b.sheet().filter();var e;var f;var g=false;if(this.options.valueFilter){f={column:c,filter:new a.spreadsheet.ValueFilter(this.options.valueFilter)}}else if(this.options.customFilter){f={column:c,filter:new a.spreadsheet.CustomFilter(this.options.customFilter)}}this.getState();if(d&&d.ref.eq(b._ref)&&d.columns.length){d.columns.forEach(function(a){if(a.index===c){g=true}});e=d.columns.map(function(a){return a.index===c?f:{column:a.index,filter:a.filter}});if(!g){e.push(f)}}else{e=f}b.filter(e)}});a.spreadsheet.ClearFilterCommand=g.extend({exec:function(){var a=this.range();var b=this.column();this.getState();a.clearFilter(b)}});a.spreadsheet.HideLineCommand=c.extend({init:function(a){c.fn.init.call(this,a);this.axis=a.axis},undo:function(){var a=this.range().sheet();a.setAxisState(this._state)},exec:function(){var a=this.range().sheet();this._state=a.getAxisState();if(this.axis=="row"){a.axisManager().hideSelectedRows()}else{a.axisManager().hideSelectedColumns()}}});a.spreadsheet.UnHideLineCommand=a.spreadsheet.HideLineCommand.extend({exec:function(){var a=this.range().sheet();this._state=a.getAxisState();if(this.axis=="row"){a.axisManager().unhideSelectedRows()}else{a.axisManager().unhideSelectedColumns()}}});var h=c.extend({exec:function(){this._expandedRange=this._expand(this.range());this._state=this._expandedRange.getState();this._indexes=this._exec(this._expandedRange.sheet())},undo:function(){var a=this;var b=a._expandedRange;var c=b.sheet();c.batch(function(){a._indexes.forEach(function(b){a._undoOne(c,b);c._restoreModifiedFormulas(b.formulas)});b.setState(a._state)},{layout:true,recalc:true,ref:b._ref})}});a.spreadsheet.DeleteRowCommand=h.extend({_expand:function(a){return a.resize({left:-Infinity,right:+Infinity})},_exec:function(a){return a.axisManager().deleteSelectedRows()},_undoOne:function(a,b){a.insertRow(b.index);a.rowHeight(b.index,b.height)}});a.spreadsheet.DeleteColumnCommand=h.extend({_expand:function(a){return a.resize({top:-Infinity,bottom:+Infinity})},_exec:function(a){return a.axisManager().deleteSelectedColumns()},_undoOne:function(a,b){a.insertColumn(b.index);a.columnWidth(b.index,b.width)}});var i=c.extend({init:function(a){c.fn.init.call(this,a);this._value=a.value},undo:function(){var a=this;var b=a.range().sheet();b.batch(function(){for(var c=a._pos.count;--c>=0;){a._undoOne(b,a._pos.base)}},{layout:true,recalc:true})}});a.spreadsheet.AddColumnCommand=i.extend({exec:function(){var a=this.range().sheet();var b=a.axisManager().preventAddColumn();if(b){return b}if(this._value==="left"){this._pos=a.axisManager().addColumnLeft()}else{this._pos=a.axisManager().addColumnRight()}},_undoOne:function(a,b){a.deleteColumn(b)}});a.spreadsheet.AddRowCommand=i.extend({exec:function(){var a=this.range().sheet();var b=a.axisManager().preventAddRow();if(b){return b}if(this._value==="above"){this._pos=a.axisManager().addRowAbove()}else{this._pos=a.axisManager().addRowBelow()}},_undoOne:function(a,b){a.deleteRow(b)}});a.spreadsheet.EditValidationCommand=c.extend({init:function(a){c.fn.init.call(this,a);this._value=a.value},exec:function(){this.range().validation(this._value)}});a.spreadsheet.OpenCommand=c.extend({cannotUndo:true,exec:function(){var a=this.options.file;if(a.name.match(/.xlsx$/i)===null){return{reason:"error",type:"openUnsupported"}}var b=this.options.workbook;b.fromFile(this.options.file).then(function(){var a=b.excelImportErrors;if(a&&a.length){b._view.openDialog("importError",{errors:a})}})}});a.spreadsheet.SaveAsCommand=c.extend({exec:function(){var a=this.options.name+this.options.extension;if(this.options.extension===".xlsx"){this.options.workbook.saveAsExcel({fileName:a})}else if(this.options.extension===".pdf"){this.options.workbook.saveAsPDF(b.extend(this.options.pdf,{workbook:this.options.workbook,fileName:a}))}}});var j=c.extend({init:function(a){c.fn.init.call(this,a);this._name=a.name;this._value=a.value},getState:function(){this._state=this._workbook.nameDefinition(this._name)},setState:function(){this._workbook.nameDefinition(this._name,this._state);this._workbook.trigger("change",{recalc:true})}});a.spreadsheet.DefineNameCommand=j.extend({exec:function(){this.getState();try{this._workbook.defineName(this._name,this._value);this._workbook.trigger("change",{recalc:true})}catch(a){return{title:"Error",body:a+"",reason:"error"}}}});a.spreadsheet.DeleteNameCommand=j.extend({exec:function(){this.getState();this._workbook.undefineName(this._name);this._workbook.trigger("change",{recalc:true})}})})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/formulabar",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c={wrapper:"k-spreadsheet-formula-bar"};var d=a.ui.Widget.extend({init:function(c,e){a.ui.Widget.call(this,c,e);c=this.element.addClass(d.classNames.wrapper);this.formulaInput=new a.spreadsheet.FormulaInput(b("<div/>").appendTo(c))},destroy:function(){if(this.formulaInput){this.formulaInput.destroy()}this.formulaInput=null}});a.spreadsheet.FormulaBar=d;b.extend(true,d,{classNames:c})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/formulainput",["kendo.core"],a)})(function(){(function(a,b){if(a.support.browser.msie&&a.support.browser.version<9){return}var c=a.jQuery;var d=a.ui.Widget;var e=".kendoFormulaInput";var f=a.keys;var g={wrapper:"k-spreadsheet-formula-input",listWrapper:"k-spreadsheet-formula-list"};var h=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var i={27:"esc",37:"left",39:"right",35:"end",36:"home",32:"spacebar"};var j=/(^_|[^a-z0-9]$)/i;var k=d.extend({init:function(a,b){d.call(this,a,b);a=this.element;a.addClass(k.classNames.wrapper).attr("contenteditable",true).attr("spellcheck",false).css("white-space","pre");if(this.options.autoScale){a.on("input",this.scale.bind(this))}this._highlightedRefs=[];this._staticTokens=[];this._formulaSource();this._formulaList();this._popup();this._tooltip();a.on("keydown",this._keydown.bind(this)).on("keyup",this._keyup.bind(this)).on("blur",this._blur.bind(this)).on("input click",this._input.bind(this)).on("focus",this._focus.bind(this)).on("paste",this._paste.bind(this))},options:{name:"FormulaInput",autoScale:false,filterOperator:"startswith",scalePadding:30,minLength:1},events:["keyup","focus"],enable:function(a){if(a===undefined){return this.element.attr("contenteditable")==="true"}if(a){this.element.attr("contenteditable",a)}else{this.element.removeAttr("contenteditable")}this.element.toggleClass("k-state-disabled",!a)},getPos:function(){var a=this.element[0];var c=b.getSelection();var d=g(c.focusNode,c.focusOffset);var e=g(c.anchorNode,c.anchorOffset);if(d!=null&&e!=null){if(d>e){var f=d;d=e;e=f}return{begin:d,end:e,collapsed:d==e}}function g(b,c){try{(function a(d){if(d===b){throw c}else if(d.nodeType==1){for(var e=d.firstChild;e;e=e.nextSibling){a(e)}}else if(d.nodeType==3){c+=d.nodeValue.length}})(a)}catch(a){return a}}},setPos:function(a,c){var d=this.element[0];a=i(d,a);if(c!=null){c=i(d,c)}else{c=a}if(a&&c){var e=document.createRange();e.setStart(a.node,a.pos);e.setEnd(c.node,c.pos);var f=b.getSelection();var g=f.getRangeAt(0);if(h(e,g)){f.removeAllRanges();f.addRange(e)}}function h(a,b){return a.startOffset!=b.startOffset||a.endOffset!=b.endOffset||a.startContainer!=b.endContainer||a.endContainer!=b.endContainer}function i(a,b){try{(function a(c){if(c.nodeType==3){var d=c.nodeValue.length;if(d>=b){throw c}b-=d}else if(c.nodeType==1){for(var e=c.firstChild;e;e=e.nextSibling){a(e)}}})(a)}catch(a){return{node:a,pos:b}}}},end:function(){this.setPos(this.length())},home:function(){this.setPos(0)},select:function(){this.setPos(0,this.length())},length:function(){return this.value().length},_formulaSource:function(){var b=[];var c;for(var d in a.spreadsheet.calc.runtime.FUNCS){if(!j.test(d)){c=d.toUpperCase();b.push({value:c,text:c})}}this.formulaSource=new a.data.DataSource({data:b})},_formulaList:function(){this.list=new a.ui.StaticList(c("<ul />").addClass(k.classNames.listWrapper).insertAfter(this.element),{autoBind:false,selectable:true,change:this._formulaListChange.bind(this),dataSource:this.formulaSource,dataValueField:"value",template:"#:data.value#"});this.list.element.on("mousedown",function(a){a.preventDefault()})},_formulaListChange:function(){var a=this._tokenContext();if(!a||this._mute){return}var b=a.token;var c=this.list.value()[0];var d={replace:true,token:b,end:b.end};if(!a.nextToken||a.nextToken.value!="("){c+="("}this._replaceAt(d,c);this.popup.close()},_popup:function(){this.popup=new a.ui.Popup(this.list.element,{anchor:this.element})},_blur:function(){this.popup.close();clearTimeout(this._focusId);this.trigger("blur")},_isFormula:function(){return/^=/.test(this.value())},_keydown:function(a){var b=a.keyCode;if(i[b]){this.popup.close();this._navigated=true}else if(this._move(b)){this._navigated=true;a.preventDefault()}this._keyDownTimeout=setTimeout(this._syntaxHighlight.bind(this))},_keyup:function(){var a=this.popup;var b;if(this._isFormula()&&!this._navigated){b=((this._tokenContext()||{}).token||{}).value;this.filter(b);if(!b||!this.formulaSource.view().length){a.close()}else{a[a.visible()?"position":"open"]();this.list.focusFirst()}}this._navigated=false;this._syntaxHighlight();this.trigger("keyup")},_input:function(){this._syntaxHighlight()},_focus:function(){setTimeout(this._sync.bind(this));this._focusTimeout=setTimeout(this._syntaxHighlight.bind(this));this.trigger("focus")},_paste:function(c){c.preventDefault();var d=this.getPos();var e;if(a.support.browser.msie){e=b.clipboardData.getData("Text")}else{e=c.originalEvent.clipboardData.getData("text/plain")}var f=this.value();f=f.substr(0,d.begin)+e+f.substr(d.end);this.value(f);this.setPos(d.begin+e.length);this.scale()},_move:function(a){var b=this.list;var c=this.popup;if(c.visible()){if(a===f.DOWN){b.focusNext();if(!b.focus()){b.focusFirst()}return true}if(a===f.UP){b.focusPrev();if(!b.focus()){b.focusLast()}return true}if(a===f.ENTER){b.select(b.focus());c.close();return true}if(a===f.TAB){b.select(b.focus());c.close();return true}if(a===f.PAGEUP){b.focusFirst();return true}if(a===f.PAGEDOWN){b.focusLast();return true}}return a===f.ENTER||a===f.TAB},_tokenContext:function(){var b=this.getPos();var c=this.value();if(!c||!b||!b.collapsed){return null}var d=a.spreadsheet.calc.tokenize(c,this.row(),this.col());var e;for(var f=0;f<d.length;++f){e=d[f];if(o(e,b)&&/^(?:str|sym|func)$/.test(e.type)){return{token:e,nextToken:d[f+1]}}}return null},_sync:function(){if(this._editorToSync&&this.isActive()){this._editorToSync.value(this.value())}},_textContainer:function(){var b=a.getComputedStyles(this.element[0],h);b.position="absolute";b.visibility="hidden";b.whiteSpace="pre";b.top=-3333;b.left=-3333;this._span=c("<span style='white-space: pre'/>").css(b).insertAfter(this.element)},_tooltip:function(){this._cellTooltip=c('<div class="k-widget k-tooltip" style="position:absolute; display:none">A1</div>').insertAfter(this.element)},tooltip:function(a){this._cellTooltip.text(a)},toggleTooltip:function(a){this._cellTooltip.toggle(a)},isActive:function(){return this.element[0]===a._activeElement()},filter:function(a){if(!a||a.length<this.options.minLength){return}this._mute=true;this.list.select(-1);this._mute=false;this.formulaSource.filter({field:this.list.options.dataValueField,operator:this.options.filterOperator,value:a})},hide:function(){this.enable(false);this.element.hide();this._cellTooltip.hide()},show:function(){this.enable(true);this.element.show()},row:function(){if(this.activeCell){return this.activeCell.row}},col:function(){if(this.activeCell){return this.activeCell.col}},position:function(a){if(!a){return}this.show();this.element.css({top:a.top+1+"px",left:a.left+1+"px"});this._cellTooltip.css({top:a.top-this._cellTooltip.height()-10+"px",left:a.left})},resize:function(a){if(!a){return}this.element.css({width:a.width-1,height:a.height-1})},canInsertRef:function(a){var b=this._canInsertRef(a);var c=b&&b.token;var d;if(c){for(d=0;d<this._staticTokens.length;d++){if(q(c,this._staticTokens[d])){return null}}}return b},_canInsertRef:function(b){if(this.popup.visible()){return null}var c=b;var d=this.getPos();var e,f;if(d&&this._isFormula()){if(d.begin===0){return null}e=a.spreadsheet.calc.tokenize(this.value(),this.row(),this.col());for(var g=0;g<e.length;++g){f=e[g];if(o(f,d)){return i(f)}if(h(f)){return j(e[g-1],f)}}return j(f,null)}return null;function h(a){return a.begin>d.begin}function i(a){if(a){if(/^(?:num|str|bool|sym|ref)$/.test(a.type)){return{replace:true,token:a,end:a.end}}if(/^(?:op|punc|startexp)$/.test(a.type)){if(a.end==d.end){return j(a,e[g+1])}return j(e[g-1],a)}}}function j(a,b){if(a==null){return null}if(b==null){if(/^(?:op|startexp)$/.test(a.type)||l(a.value)){return{token:a,end:d.end}}return null}if(c){if(a.type=="op"&&/^(?:punc|op)$/.test(b.type)){return{token:a,end:d.end}}}else{if(a.type=="startexp"){return{token:a,end:d.end}}if(/^(?:op|punc)$/.test(a.type)&&/^[,;({]$/.test(a.value)){return{token:a,end:d.end}}if(/^(?:ref|sym)/.test(a.type)){return{token:a,replace:true,end:a.end}}if(/^(?:ref|sym)/.test(b.type)){return{token:b,replace:true,end:b.end}}}return false}},refAtPoint:function(a){var b=this._canInsertRef();if(b){var c=a.selection()._ref.simplify().clone().relative(0,0,3);if(a!==this.activeSheet){c=c.setSheet(a.name(),true)}this._replaceAt(b,c.print(0,0))}},_replaceAt:function(a,b){var c=this.value();var d=a.token;var e=c.substr(a.end);c=c.substr(0,a.replace?d.begin:a.end)+b;var f=c.length;c+=e;this._value(c);this.setPos(f);this.scale();this._syntaxHighlight()},syncWith:function(b){var c=this;var d="input"+e;var f=c._sync.bind(c),g;if(a.support.browser.msie){d="keydown"+e;g=function(){setTimeout(f)}}c._editorToSync=b;c.element.off(d).on(d,g||f)},scale:function(){var a=this.element;var b,c;if(!this._span){this._textContainer()}this._span.html(a.html());b=this._span.width()+this.options.scalePadding;c=this._span.height();if(b>a.width()){a.width(b)}if(c>a.height()){a.height(c)}this._sync()},_value:function(a){this.element.text(a)},value:function(a){if(a===undefined){var b=this.element[0].innerText;return b.replace(/\n$/,"")}this._value(a);this._syntaxHighlight()},highlightedRefs:function(){return this._highlightedRefs.slice()},_syntaxHighlight:function(){var b=this.getPos();var c=this.value();var d=a.spreadsheet.Pane.classNames.series;var e=[];var f=0;var g=[];var h=[];var i;if(b&&!b.collapsed){return}if(!/^=/.test(c)){if(this._staticTokens.length||this._highlightedRefs.length){this._staticTokens=[];this._highlightedRefs=[];this.element.text(c)}if(this.popup){this.popup.close()}return}else{h=a.spreadsheet.calc.tokenize(c,this.row(),this.col());h.forEach(function(a){a.active=false;a.cls=["k-syntax-"+a.type];if(a.type=="ref"){a.colorClass=d[f++%d.length];a.cls.push(a.colorClass);e.push(a)}if(b&&a.type=="punc"){if(l(a.value)){g.unshift(a)}else if(m(a.value)){var c=g.shift();if(c){if(n(a.value,c.value)){if(o(a,b)||o(c,b)){a.cls.push("k-syntax-paren-match");c.cls.push("k-syntax-paren-match")}}else{a.cls.push("k-syntax-error");c.cls.push("k-syntax-error")}}else{a.cls.push("k-syntax-error")}}}if(b&&o(a,b)){a.cls.push("k-syntax-at-point");a.active=true;i=a}if(a.type=="func"&&!p(a.value)&&(!b||!o(a,b))){a.cls.push("k-syntax-error")}});h.reverse().forEach(function(b){var d=b.begin,e=b.end;var f=a.htmlEncode(c.substring(d,e));c=c.substr(0,d)+"<span class='"+b.cls.join(" ")+"'>"+f+"</span>"+c.substr(e)});this.element.html(c)}if(b){this.setPos(b.begin,b.end)}if(i&&/^(?:startexp|op|punc)$/.test(i.type)){this._setStaticTokens(h)}this._highlightedRefs=e},_setStaticTokens:function(a){var b,c;this._staticTokens=[];for(b=0;b<a.length;b++){c=a[b];if(/^(?:num|str|bool|sym|ref)$/.test(c.type)){this._staticTokens.push(c)}}},destroy:function(){this._editorToSync=null;this.element.off(e);clearTimeout(this._focusTimeout);clearTimeout(this._keyDownTimeout);this._cellTooltip=null;this._span=null;this.popup.destroy();this.popup=null;d.fn.destroy.call(this)},insertNewline:function(){var a=this.value();var b=this.getPos();var c=b.end==a.length;a=a.substr(0,b.begin)+(c?"\n\n":"\n"+a.substr(b.end));this.value(a);this.setPos(b.begin+1)}});function l(a){return a=="("||a=="["||a=="{"}function m(a){return a==")"||a=="]"||a=="}"}function n(a,b){return b=="("?a==")":b=="["?a=="]":b=="{"?a=="}":false}function o(a,b){return a.begin<=b.begin&&a.end>=b.end}function p(b){return a.spreadsheet.calc.runtime.FUNCS[b.toLowerCase()]}function q(a,b){if(!a||!b){return false}if(a.type=="ref"&&b.type=="ref"){return a.ref.eq(b.ref)}else{return a.value===b.value}}a.spreadsheet.FormulaInput=k;c.extend(true,k,{classNames:g})})(kendo,window)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/eventlistener",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c={8:"backspace",9:"tab",13:"enter",27:"esc",37:"left",38:"up",39:"right",40:"down",35:"end",36:"home",32:"spacebar",33:"pageup",34:"pagedown",46:"delete",113:":edit"};var d=navigator.platform.toUpperCase().indexOf("MAC")>=0;var e=function(a){if(a>47&&a<58||a>64&&a<91||a>95&&a<112||a>185&&a<193||a>218&&a<223){return true}return false};var f=function(a){var b=a.keyCode;var d=c[b];if(!d&&e(b)){d=":alphanum"}if(!d&&a.key&&a.key.length==1){d=":alphanum"}return d};var g=a.Class.extend({init:function(a,c,d){this._handlers={};this.target=a;this._observer=c||window;this.keyDownProxy=this.keyDown.bind(this);this.mouseProxy=this.mouse.bind(this);this.threshold=5;this._pressLocation=null;a.on("keydown",this.keyDownProxy);a.on("contextmenu mousedown cut copy paste scroll wheel click dblclick focus",this.mouseProxy);b(document.documentElement).on("mousemove mouseup",this.mouseProxy);if(d){for(var e in d){this.on(e,d[e])}}},keyDown:function(a){this.handleEvent(a,f(a.originalEvent))},mouse:function(a){var b;if(a.which){b=a.which==3}else if(a.button){b=a.button==2}var c=a.type;if(c==="mousedown"){if(b){c="rightmousedown"}else{this._pressLocation={x:a.pageX,y:a.pageY}}}if(c==="mouseup"){if(!b){this._pressLocation=null}}if(c==="mousemove"&&this._pressLocation){var d=this._pressLocation.x-a.pageX;var e=this._pressLocation.y-a.pageY;var f=Math.sqrt(d*d+e*e);if(f>this.threshold){c="mousedrag"}}this.handleEvent(a,c)},handleEvent:function(a,b){var c="";a.mod=d?a.metaKey:a.ctrlKey&&!a.altKey;if(a.altKey){c+="alt+"}if(a.shiftKey){c+="shift+"}if(a.ctrlKey){c+="ctrl+"}c+=b;var e=this._handlers["*+"+b];if(e){e.call(this._observer,a,c)}var f=this._handlers[c];if(f){f.call(this._observer,a,c)}},on:function(a,b){var c=this._handlers;if(typeof b==="string"){b=this._observer[b]}if(typeof a==="string"){a=a.split(",")}a.forEach(function(a){c[a]=b})},destroy:function(){this.target.off("keydown",this.keyDownProxy);this.target.off("keydown",this.mouseProxy);b(document.documentElement).off("mousemove mouseup",this.mouseProxy)}});a.spreadsheet.EventListener=g})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/rangelist",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.Class.extend({init:function a(b,c,d,e){this.level=b;this.value=c;this.left=d;this.right=e}});var c=new function a(){this.left=this;this.right=this;this.level=0};function d(a){if(a.left.level===a.level){var b=a;a=a.left;b.left=a.right;a.right=b}return a}function e(a){if(a.right.right.level===a.level){var b=a;a=a.right;b.right=a.left;a.left=b;a.level+=1}return a}function f(a,g){if(a===c){return new b(1,g,c,c)}else if(a.value.start>g.start){a.left=f(a.left,g)}else{a.right=f(a.right,g)}return e(d(a))}function g(a,b){if(a===c){return a}var f=a.value.start-b.start;if(f===0){if(a.left!==c&&a.right!==c){var h=a.left;while(h.right!==c){h=h.right}a.value=h.value;a.left=g(a.left,a.value)}else if(a.left===c){a=a.right}else{a=a.left}}else if(f>0){a.left=g(a.left,b)}else{a.right=g(a.right,b)}if(a.left.level<a.level-1||a.right.level<a.level-1){a.level-=1;if(a.right.level>a.level){a.right.level=a.level}a=d(a);a.right=d(a.right);a.right.right=d(a.right.right);a=e(a);a.right=e(a.right)}return a}var h=a.Class.extend({init:function a(b,c,d){this.start=b;this.end=c;this.value=d},intersects:function(a){return a.start<=this.end&&a.end>=this.start},clone:function(){return new h(this.start,this.end,this.value)}});var i=a.Class.extend({init:function(){this.root=c},insert:function(a){this.root=f(this.root,a)},remove:function(a){this.root=g(this.root,a)},findrange:function(a){var b=this.root;while(b!=c){if(a<b.value.start){b=b.left}else if(a>b.value.end){b=b.right}else{return b.value}}return null},values:function(){var a=[];j(this.root,a);return a},intersecting:function(a,b){var c=[];k(this.root,new h(a,b),c);return c},map:function(a){var b=new i;l(b,this.root,a);return b},clone:function(){return this.map(function(a){return a.clone()})},first:function(){var a=this.root;while(a.left!=c){a=a.left}return a},last:function(){var a=this.root;while(a.right!=c){a=a.right}return a}});function j(a,b){if(a===c){return}j(a.left,b);b.push(a.value);j(a.right,b)}function k(a,b,d){if(a===c){return}var e=a.value;if(b.start<e.start){k(a.left,b,d)}if(e.intersects(b)){d.push(e)}if(b.end>e.end){k(a.right,b,d)}}function l(a,b,d){if(b===c){return}l(a,b.left,d);a.insert(d(b.value));l(a,b.right,d)}var m=a.Class.extend({init:function(a,b,c){if(b===undefined){this.tree=a}else{this.tree=new i;this.tree.insert(new h(a,b,c))}},values:function(){return this.tree.values()},map:function(a){return new m(this.tree.map(a))},intersecting:function(a,b){return this.tree.intersecting(a,b)},first:function(){return this.tree.first().value},last:function(){return this.tree.last().value},insert:function(a,b,c){return this.tree.insert(new h(a,b,c))},value:function(a,b,c){if(c===undefined){if(b===undefined){b=a}return this.intersecting(a,b)[0].value}var d=this.tree.intersecting(a-1,b+1);if(d.length){var e=d[0],f=d[d.length-1];if(e.end<a){if(e.value===c){a=e.start}else{d.shift()}}if(f.start>b){if(f.value===c){b=f.end}else{d.pop()}}for(var g=0,h=d.length;g<h;g++){var i=d[g];var j=i.value;var k=i.start;var l=i.end;this.tree.remove(i);if(k<a){if(j!==c){this.insert(k,a-1,j)}else{a=k}}if(l>b){if(j!==c){this.insert(b+1,l,j)}else{b=l}}}}this.insert(a,b,c)},expandedValues:function(a,b){var c=this.intersecting(a,b);var d=[];var e=0;for(var f=a;f<=b;f++){if(c[e].end<f){e++}d.push({index:f-a,value:c[e].value})}return d},sortedIndices:function(a,b,c,d){var e=this.expandedValues(a,b);var f=function(a,b){if(a.value===b.value){return a.index-b.index}return c(a.value,b.value)};if(d){f=function(a,b){var e=d[a.index];var f=d[b.index];if(e.value===f.value){return c(a.value,b.value)}return a.index-b.index}}e.sort(f);return e},sort:function(a,b,c){if(this.intersecting(a,b).length===1){return}var d=this.expandedValues(a,b);for(var e=0,f=c.length;e<f;e++){this.value(e+a,e+a,d[c[e].index].value)}},copy:function(a,b,c){var d=this.intersecting(a,b);var e=c;var f;for(var g=0,h=d.length;g<h;g++){var i=d[g].start;if(i<a){i=a}var j=d[g].end;if(j>b){j=b}f=e+(j-i);this.value(e,f,d[g].value);e=++f}},iterator:function(a,b){return new n(a,b,this.intersecting(a,b))},getState:function(){return this.tree.clone()},setState:function(a){this.tree=a.clone()}});var n=a.Class.extend({init:function(a,b,c){this.start=a;this.end=b;this.index=0;this.ranges=c},unique:function(){return this.ranges.map(function(a){return a.value})},at:function(a){while(this.ranges[this.index]&&this.ranges[this.index].end<a){this.index++}return this.ranges[this.index]&&this.ranges[this.index].value},forEach:function(a){for(var b=this.start;b<=this.end;b++){a(this.at(b),b)}this.index=0}});var o=m.extend({init:function(a,b,c){this.tree=new i;this.range=new h(a,b,c)},intersecting:function(a,b){var c=this.tree.intersecting(a,b);var d=[];var e;if(!c.length){return[this.range]}for(var f=0,g=c.length;f<g;f++){e=c[f];if(e.start>a){d.push(new h(a,e.start-1,this.range.value))}d.push(e);a=e.end+1}if(e.end<b){d.push(new h(e.end+1,b,this.range.value))}return d},insert:function(a,b,c){if(c!==this.range.value){this.tree.insert(new h(a,b,c))}},lastRangeStart:function(){var a=this.tree.root;if(a===c){return this.range.start}while(a.right!==c){a=a.right}return a.value.end+1}});a.spreadsheet.RangeTree=i;a.spreadsheet.RangeList=m;a.spreadsheet.SparseRangeList=o;
a.spreadsheet.ValueRange=h})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/propertybag",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.Class.extend({init:function(a){this.list=a},get:function(a){return this.parse(this.list.value(a,a))},set:function(a,b,c){if(c===undefined){c=b;b=a}this.list.value(a,b,c)},parse:function(a){return a},copy:function(a,b,c){this.list.copy(a,b,c)},iterator:function(a,b){return this.list.iterator(a,b)}});var c=b.extend({set:function(a,b,c){this.list.value(a,b,JSON.stringify(c))},parse:function(a){return JSON.parse(a)}});var d=b.extend({init:function(a,c){b.prototype.init.call(this,a);this.formats=c},set:function(b,c,d){if(d instanceof Date){d=a.spreadsheet.dateToNumber(d);if(!this.formats.value(b,c)){this.formats.value(b,c,e(a.culture().calendar.patterns.d))}}this.list.value(b,c,d)}});function e(a){return a.replace(/M/g,"m").replace(/'/g,'"').replace(/tt/,"am/pm")}a.spreadsheet.PropertyBag=a.Class.extend({specs:[{property:b,name:"format",value:null,sortable:true,serializable:true},{property:d,name:"value",value:null,sortable:true,serializable:true,depends:"format"},{property:b,name:"formula",value:null,sortable:true,serializable:true},{property:b,name:"background",value:null,sortable:true,serializable:true},{property:c,name:"vBorders",value:null,sortable:false,serializable:false},{property:c,name:"hBorders",value:null,sortable:false,serializable:false},{property:b,name:"color",value:null,sortable:true,serializable:true},{property:b,name:"fontFamily",value:null,sortable:true,serializable:true},{property:b,name:"underline",value:null,sortable:true,serializable:true},{property:b,name:"fontSize",value:null,sortable:true,serializable:true},{property:b,name:"italic",value:null,sortable:true,serializable:true},{property:b,name:"bold",value:null,sortable:true,serializable:true},{property:b,name:"textAlign",value:null,sortable:true,serializable:true},{property:b,name:"verticalAlign",value:null,sortable:true,serializable:true},{property:b,name:"wrap",value:null,sortable:true,serializable:true},{property:b,name:"validation",value:null,sortable:false,serializable:true},{property:b,name:"enable",value:null,sortable:false,serializable:true},{property:b,name:"link",value:null,sortable:true,serializable:true},{property:b,name:"editor",value:null,sortable:true,serializable:true}],init:function(b,c,d){d=d||{};var e=b*c-1;this.rowCount=b;this.columnCount=c;this.cellCount=e;this.properties={};this.lists={};this.specs.forEach(function(b){var c=b.name;var f=d[c];if(f===undefined){f=b.value}this.lists[c]=new a.spreadsheet.SparseRangeList(0,e,f);var g=this.properties[c]=new b.property(this.lists[c],this.lists[b.depends]);g.spec=b},this);this.lists.formula.tree.clone=g;this.lists.validation.tree.clone=g},getState:function(){var a={};this.specs.forEach(function(b){a[b.name]=this.lists[b.name].getState()},this);return a},setState:function(a){this.specs.forEach(function(b){this.lists[b.name].setState(a[b.name])},this)},get:function(a,b){if(b===undefined){return this.lists[a]}switch(a){case"borderRight":b+=this.rowCount;case"borderLeft":a="vBorders";break;case"borderBottom":b++;case"borderTop":a="hBorders";break}return b>this.cellCount?null:this.properties[a].get(b)},set:function(a,b,c,d){switch(a){case"borderRight":b+=this.rowCount;c+=this.rowCount;case"borderLeft":a="vBorders";break;case"borderBottom":b++;c++;case"borderTop":a="hBorders";break}if(b<=c&&c<=this.cellCount){this.properties[a].set(b,c,d)}},fromJSON:function(a,b){for(var c=0;c<this.specs.length;c++){var d=this.specs[c];if(d.serializable){if(b[d.name]!==undefined){this.set(d.name,a,a,b[d.name],false)}}}["borderLeft","borderRight","borderTop","borderBottom"].forEach(function(c){if(b[c]!==undefined){this.set(c,a,a,b[c])}},this)},copy:function(a,b,c){this.specs.forEach(function(d){this.properties[d.name].copy(a,b,c)},this)},iterator:function(a,b,c){var d=this.properties[a];var e=d.iterator(b,c),f=e.at;var g=this.cellCount;e.at=function(a){return a>g?null:d.parse(f.call(e,a))};e.name=a;e.value=d.spec.value;return e},sortable:function(){return this.specs.filter(function(a){return a.sortable}).map(function(a){return this.lists[a.name]},this)},iterators:function(a,b){return this.specs.reduce(function(c,d){if(d.serializable){c.push(this.iterator(d.name,a,b))}return c}.bind(this),[])},forEach:function(a,b,c){var d=this.iterators(a,b);var e=this.iterator("hBorders",a,b+1);var f=this.iterator("vBorders",a,b);var g=this.iterator("vBorders",a+this.rowCount,b+this.rowCount);var h,i;function j(a,b,c){var d=b.at(c);if(d!==b.value){h[a]=d}}for(i=a;i<=b;i++){h={};for(var k=0;k<d.length;k++){var l=d[k];var m=l.at(i);if(m!==l.value){h[l.name]=m}}j("borderLeft",f,i);j("borderRight",g,i+this.rowCount);j("borderTop",e,i);if((i+1)%this.rowCount){j("borderBottom",e,i+1)}c(h)}},forEachProperty:function(a){for(var b in this.properties){a(this.properties[b])}}});function f(a){a=a.clone();a.value=a.value.deepClone();return a}function g(){var a=this.map(f);a.clone=g;return a}a.spreadsheet.ALL_PROPERTIES=a.spreadsheet.PropertyBag.prototype.specs.reduce(function(a,b){if(b.serializable){a.push(b.name)}return a},["borderTop","borderRight","borderBottom","borderLeft"])})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/references",["kendo.core"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.spreadsheet;var b=kendo.Class;function c(a){var b=Math.floor(a/26)-1;return(b>=0?c(b):"")+String.fromCharCode(65+a%26)}function d(a){if(/^[a-z0-9_]*$/i.test(a)){return a}return"'"+a.replace(/\x27/g,"\\'")+"'"}function e(a,b,e,f){var g="";++b;if(!isFinite(b)){b=""}else if(f!=null&&!(f&2)){b="$"+b}if(!isFinite(e)){e=""}else{g=c(e);if(f!=null&&!(f&1)){g="$"+g}}if(a){return d(a)+"!"+g+b}else{return g+b}}var f=b.extend({type:"ref",sheet:"",clone:function(){return this},hasSheet:function(){return this._hasSheet},simplify:function(){return this},setSheet:function(a,b){this.sheet=a;if(b!=null){this._hasSheet=b}return this},absolute:function(){return this},relative:function(){return this},adjust:function(){return this},toString:function(){return this.relative(0,0,3,3).print(0,0)},forEach:function(a,b){a.call(b,this)},map:function(a,b){return a.call(b,this)},intersects:function(a){return this.intersect(a)!==g},isCell:function(){return false},toRow:function(){return this},toColumn:function(){return this},first:function(){return this},lastRange:function(){return this},size:function(){return 1},rangeAt:function(){return this},nextRangeIndex:function(){return 0},previousRangeIndex:function(){return 0},eq:function(a){var b=this;var c=a;if(b===g||c===g){return b===c}if(c instanceof i||c instanceof j&&!(b instanceof i)){b=a;c=this}if(b instanceof i){c=c.simplify();return c instanceof i&&b.row==c.row&&b.col==c.col&&b.sheet==c.sheet}else if(b instanceof j){if(c instanceof j){return c.topLeft.eq(b.topLeft)&&c.bottomRight.eq(b.bottomRight)}if(c instanceof k){return c.single()&&b.eq(c.refs[0])}}else if(b instanceof k&&c instanceof k){var d=b.refs;var e=c.refs;if(d.length!=e.length){return false}for(var f=0,h=d.length;f<h;f++){if(!d[f].eq(e[f])){return false}}return true}return b===c},concat:function(a){return new k([this,a])},replaceAt:function(a,b){return b},forEachColumnIndex:function(a){this.forEachAxisIndex("col",a)},forEachRowIndex:function(a){this.forEachAxisIndex("row",a)},forEachAxisIndex:function(a,b){var c=[];var d=a==="row"?"forEachRow":"forEachColumn";this[d](function(b){var d=b.first()[a];if(c.indexOf(d)===-1){c.push(d)}});c.sort(function(a,b){return a>b?1:a<b?-1:0}).forEach(b)},valid:function(){return false},renameSheet:function(a,b){if(this.sheet&&this.sheet.toLowerCase()==a.toLowerCase()){this.sheet=b;return true}}});f.display=e;var g=new(f.extend({init:function a(){},print:function(){return"#NULL!"},eq:function(a){return a===this},forEach:function(){}}));var h=f.extend({ref:"name",init:function a(b){this.name=b},clone:function(){return new h(this.name).setSheet(this.sheet,this.hasSheet())},print:function(){var a=d(this.name);if(this.hasSheet()){a=d(this.sheet)+"!"+a}return a}});var i=f.extend({ref:"cell",init:function a(b,c,d){this.row=b;this.col=c;this.rel=d||0},clone:function(){return new i(this.row,this.col,this.rel).setSheet(this.sheet,this.hasSheet())},intersect:function(a){if(a instanceof i){if(this.eq(a)){return this}else{return g}}return a.intersect(this)},print:function(a,b,c){var f=this.col,g=this.row,h=this.rel,i;if(a==null&&h){var j=this.hasSheet()?d(this.sheet)+"!":"";if(isFinite(f)){f=h&1?"C["+f+"]":"C"+(f+1)}else{f=""}if(isFinite(g)){g=h&2?"R["+g+"]":"R"+(g+1)}else{g=""}return j+g+f}else{i=this.absolute(a,b);if(c){g=i.row%1048576;f=i.col%16384;if(g<0){g+=1048576}if(f<0){f+=16384}return e(this._hasSheet&&this.sheet,g,f,h)}return i.valid()?e(this._hasSheet&&this.sheet,i.row,i.col,h):"#REF!"}},absolute:function(a,b){var c=this.clone();if(c.rel&3===0){return c}if(c.rel&1){c.col=(c.col+b)%16384}if(c.rel&2){c.row=(c.row+a)%1048576}c.rel=0;return c},toRangeRef:function(){return new j(this,this)},relative:function(a,b,c){if(c==null){c=this.rel}var d=c&2?this.row-a:this.row;var e=c&1?this.col-b:this.col;return new i(d,e,c).setSheet(this.sheet,this.hasSheet())},height:function(){return 1},width:function(){return 1},toString:function(){return e(null,this.row,this.col,3)},isCell:function(){return true},leftColumn:function(){return this},rightColumn:function(){return this},topRow:function(){return this},bottomRow:function(){return this},forEachRow:function(a){a(this.toRangeRef())},forEachColumn:function(a){a(this.toRangeRef())},adjust:function(a,b,c,d,e,f,h){var i=this.absolute(a,b);if(e){if(i.row>=f){if(h<0&&i.row<f-h){return g}i.row+=h}}else{if(i.col>=f){if(h<0&&i.col<f-h){return g}i.col+=h}}if(c!=null&&d!=null){i=i.relative(c,d,this.rel)}return i},valid:function(){if(this.rel){throw new Error("valid() called on relative reference")}var a=this.col,b=this.row;return!(isFinite(a)&&a<0||isFinite(b)&&b<0)}});var j=f.extend({ref:"range",init:function a(b,c){if(b._hasSheet&&c._hasSheet&&b.sheet.toLowerCase()!=c.sheet.toLowerCase()){this.endSheet=c.sheet}this.topLeft=new i(b.row,b.col,b.rel);this.bottomRight=new i(c.row,c.col,c.rel);this.normalize()},clone:function(){return new j(this.topLeft.clone(),this.bottomRight.clone()).setSheet(this.sheet,this.hasSheet())},_containsRange:function(a){return this._containsCell(a.topLeft)&&this._containsCell(a.bottomRight)},_containsCell:function(a){return a.sheet==this.sheet&&a.row>=this.topLeft.row&&a.col>=this.topLeft.col&&a.row<=this.bottomRight.row&&a.col<=this.bottomRight.col},contains:function(a){if(a instanceof Array){var b=this;return a.some(function(a){return b.contains(a)})}if(a instanceof i){return this._containsCell(a)}if(a instanceof j){return this._containsRange(a)}return false},_intersectRange:function(a){if(this.sheet!=a.sheet){return g}var b=this.topLeft.col;var c=this.topLeft.row;var d=this.bottomRight.col;var e=this.bottomRight.row;var f=a.topLeft.col;var h=a.topLeft.row;var k=a.bottomRight.col;var l=a.bottomRight.row;if(b<=k&&f<=d&&c<=l&&h<=e){return new j(new i(Math.max(c,h),Math.max(b,f)),new i(Math.min(e,l),Math.min(d,k))).setSheet(this.sheet,this.hasSheet())}else{return g}},intersect:function(a){if(a instanceof i){return this._containsCell(a)?a:g}if(a instanceof j){return this._intersectRange(a).simplify()}if(a instanceof k){return a.intersect(this)}return g},simplify:function(){if(this.isCell()){return new i(this.topLeft.row,this.topLeft.col,this.topLeft.rel).setSheet(this.sheet,this.hasSheet())}return this},normalize:function(){var a=this.topLeft,b=this.bottomRight;var c=a.row,d=a.col,e=b.row,f=b.col;var g=a.rel&2,h=a.rel&1;var j=b.rel&2,k=b.rel&1;var l,m=false;if(c>e){m=true;l=c;c=e;e=l;l=g;g=j;j=l}if(d>f){m=true;l=d;d=f;f=l;l=h;h=k;k=l}if(m){this.topLeft=new i(c,d,h|g);this.bottomRight=new i(e,f,k|j)}return this},print:function(a,b,c){if(c||this.absolute(a,b).valid()){var e=this.topLeft.print(a,b,c)+":"+this.bottomRight.print(a,b,c);if(this.hasSheet()){e=d(this.sheet)+(this.endSheet?":"+d(this.endSheet):"")+"!"+e}return e}return"#REF!"},absolute:function(a,b){return new j(this.topLeft.absolute(a,b),this.bottomRight.absolute(a,b)).setSheet(this.sheet,this.hasSheet())},relative:function(a,b,c,d){if(d==null){d=c}return new j(this.topLeft.relative(a,b,c),this.bottomRight.relative(a,b,d)).setSheet(this.sheet,this.hasSheet())},height:function(){if(this.topLeft.rel!=this.bottomRight.rel){throw new Error("Mixed relative/absolute references")}return this.bottomRight.row-this.topLeft.row+1},width:function(){if(this.topLeft.rel!=this.bottomRight.rel){throw new Error("Mixed relative/absolute references")}return this.bottomRight.col-this.topLeft.col+1},collapse:function(){return this.topLeft.toRangeRef()},leftColumn:function(){return new j(this.topLeft,new i(this.bottomRight.row,this.topLeft.col))},rightColumn:function(){return new j(new i(this.topLeft.row,this.bottomRight.col),this.bottomRight)},topRow:function(){return new j(this.topLeft,new i(this.topLeft.row,this.bottomRight.col))},bottomRow:function(){return new j(new i(this.bottomRight.row,this.topLeft.col),this.bottomRight)},toRangeRef:function(){return this},toRow:function(a){a+=Math.max(0,this.topLeft.row);return new j(new i(a,this.topLeft.col),new i(a,this.bottomRight.col)).setSheet(this.sheet,this.hasSheet())},toColumn:function(a){a+=Math.max(0,this.topLeft.col);return new j(new i(this.topLeft.row,a),new i(this.bottomRight.row,a)).setSheet(this.sheet,this.hasSheet())},toCell:function(a,b){a+=Math.max(0,this.topLeft.row);b+=Math.max(0,this.topLeft.col);return new i(a,b,0).setSheet(this.sheet,this.hasSheet())},forEachRow:function(a){var b=this.topLeft.row;var c=this.bottomRight.row;var d=this.topLeft.col;var e=this.bottomRight.col;for(var f=b;f<=c;f++){a(new j(new i(f,d),new i(f,e)))}},forEachColumn:function(a){var b=this.topLeft.row;var c=this.bottomRight.row;var d=this.topLeft.col;var e=this.bottomRight.col;for(var f=d;f<=e;f++){a(new j(new i(b,f),new i(c,f)))}},intersecting:function(a){return a.filter(function(a){return a.toRangeRef().intersects(this)},this)},union:function(a,b){var c=this.intersecting(a);var d=this.topLeft.row;var e=this.topLeft.col;var f=this.bottomRight.row;var g=this.bottomRight.col;var h=false;c.forEach(function(a){a=a.toRangeRef();if(a.topLeft.row<d){h=true;d=a.topLeft.row}if(a.topLeft.col<e){h=true;e=a.topLeft.col}if(a.bottomRight.row>f){h=true;f=a.bottomRight.row}if(a.bottomRight.col>g){h=true;g=a.bottomRight.col}if(b){b(a)}});var k=new j(new i(d,e),new i(f,g));if(h){return k.union(a,b)}else{return k}},resize:function(a){var b=Math.max.bind(Math,0);function c(a){return a||0}var d=this.topLeft.row+c(a.top);var e=this.topLeft.col+c(a.left);var f=this.bottomRight.row+c(a.bottom);var h=this.bottomRight.col+c(a.right);if(e<0&&h<0||d<0&&f<0){return g}else if(d<=f&&e<=h){return new j(new i(b(d),b(e)),new i(b(f),b(h)))}else{return g}},move:function(a,b){return new j(new i(this.topLeft.row+a,this.topLeft.col+b),new i(this.bottomRight.row+a,this.bottomRight.col+b))},first:function(){return this.topLeft.clone().setSheet(this.sheet,this.hasSheet())},isCell:function(){return!this.endSheet&&this.topLeft.eq(this.bottomRight)},toString:function(){return this.topLeft+":"+this.bottomRight},adjust:function(a,b,c,d,e,f,h){var i=this.topLeft.adjust(a,b,c,d,e,f,h);var k=this.bottomRight.adjust(a,b,c,d,e,f,h);if(i===g&&k===g){return g}if(i===g){i=this.topLeft.absolute(a,b);if(e){i.row=f}else{i.col=f}if(c!=null&&d!=null){i=i.relative(c,d,this.topLeft.rel)}}else if(k===g){k=this.bottomRight.absolute(a,b);if(e){k.row=f-1}else{k.col=f-1}if(c!=null&&d!=null){k=k.relative(c,d,this.bottomRight.rel)}}return new j(i,k).setSheet(this.sheet,this.hasSheet()).simplify()},valid:function(){return this.topLeft.valid()&&this.bottomRight.valid()}});var k=f.extend({init:function a(b){this.refs=b;this.length=b.length},clone:function(){return new k(this.refs.slice())},intersect:function(a){var b=[];for(var c=0;c<this.length;++c){var d=a.intersect(this.refs[c]);if(d!==g){b.push(d)}}if(b.length>0){return new k(b).simplify()}return g},simplify:function(){var a=new k(this.refs.reduce(function(a,b){b=b.simplify();if(b!==g){a.push(b)}return a},[]));if(a.empty()){return g}if(a.single()){return a.refs[0]}return a},absolute:function(a,b){return new k(this.refs.map(function(c){return c.absolute(a,b)}))},forEach:function(a,b){this.refs.forEach(function(c){if(c instanceof k){c.forEach(a,b)}else{a.call(b,c)}},b)},toRangeRef:function(){return this.refs[0].toRangeRef()},contains:function(a){return this.refs.some(function(b){return b.contains(a)})},map:function(a,b){var c=[];this.forEach(function(d){c.push(a.call(b,d))});return new k(c)},first:function(){return this.refs[0].first()},lastRange:function(){return this.refs[this.length-1]},size:function(){return this.length},single:function(){return this.length==1},empty:function(){return this.length===0},isCell:function(){return this.single()&&this.refs[0].isCell()},rangeAt:function(a){return this.refs[a]},nextRangeIndex:function(a){if(a===this.length-1){return 0}else{return a+1}},previousRangeIndex:function(a){if(a===0){return this.length-1}else{return a-1}},concat:function(a){return new k(this.refs.concat([a]))},print:function(a,b,c){return this.refs.map(function(d){return d.print(a,b,c)}).join(",")},replaceAt:function(a,b){var c=this.refs.slice();c.splice(a,1,b);return new k(c)},leftColumn:function(){return this.map(function(a){return a.leftColumn()})},rightColumn:function(){return this.map(function(a){return a.rightColumn()})},topRow:function(){return this.map(function(a){return a.topRow()})},bottomRow:function(){return this.map(function(a){return a.bottomRow()})},forEachRow:function(a){this.forEach(function(b){b.forEachRow(a)})},forEachColumn:function(a){this.forEach(function(b){b.forEachColumn(a)})},adjust:function(a,b,c,d,e,f,g){return this.map(function(h){return h.adjust(a,b,c,d,e,f,g)}).simplify()},toString:function(){return this.refs.map(function(a){return a.toString()}).join(", ")},valid:function(){for(var a=this.refs.length;--a>=0;){if(this.refs[a].valid()){return false}}return true},renameSheet:function(a,b){this.refs.forEach(function(c){c.renameSheet(a,b)})}});a.NULLREF=g;a.SHEETREF=new j(new i(0,0),new i(Infinity,Infinity));a.FIRSTREF=new i(0,0);a.Ref=f;a.NameRef=h;a.CellRef=i;a.RangeRef=j;a.UnionRef=k;a.SHEETREF.print=function(){return"#SHEET"}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/autofillcalculator",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.spreadsheet.RangeRef;var c=a.spreadsheet.CellRef;var d=a.Class.extend({init:function(a){this._grid=a},rectIsVertical:function(a,b,c,d){var e=this._grid.rectangle(a.toRangeRef());var f=this._grid.rectangle(b.toRangeRef());return Math.abs(f[d]-e[d])>Math.abs(e[c]-f[c])},autoFillDest:function(a,d){var e=a.topLeft;var f=a.bottomRight;var g;var h=d.row>=e.row;var i=d.col>=e.col;if(h){g=i?4:3}else{g=i?2:1}var j,k,l,m;if(g===4){j=e;k=f;m=d.row>k.row||d.col>k.col;if(m){d=new c(Math.max(d.row,k.row),Math.max(d.col,k.col))}if(this.rectIsVertical(k,d,"right","bottom")){l=new c(d.row,k.col)}else{l=new c(k.row,d.col)}}else if(g===3){var n=new c(e.col,f.row);if(d.row>f.row&&this.rectIsVertical(n,d,"left","bottom")){j=e;l=new c(d.row,f.col)}else{j=f;l=new c(e.row,d.col)}}else if(g===2){var o=new c(e.row,f.col);if(d.col>f.col&&!this.rectIsVertical(o,d,"right","top")){j=e;l=new c(f.row,d.col)}else{j=f;l=new c(d.row,e.col)}}else{j=f;if(this.rectIsVertical(e,d,"left","top")){l=new c(d.row,e.col)}else{l=new c(e.row,d.col)}}return this._grid.normalize(new b(j,l))}});a.spreadsheet.AutoFillCalculator=d})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/navigator",["kendo.core","spreadsheet/autofillcalculator"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.spreadsheet.RangeRef;var c=a.spreadsheet.CellRef;var d=a.Class.extend({init:function(a,b,c,d){this.rangeGetter=c;this.prevLeft=function(c){var e=d(this.range(c));var f=this.range(b.prevVisible(e.topLeft[a]));return d(f).topLeft[a]};this.nextRight=function(c){var e=d(this.range(c));var f=this.range(b.nextVisible(e.bottomRight[a]));return d(f).bottomRight[a]};this.nextLeft=function(c){var e=d(this.range(c));return b.nextVisible(e.bottomRight[a])};this.prevRight=function(c){var e=d(this.range(c));return b.prevVisible(e.topLeft[a])}},boundary:function(a,b){this.top=a;this.bottom=b},range:function(a){return this.rangeGetter(a,this.top,this.bottom)}});var e=a.Class.extend({init:function(b){this._sheet=b;this.columns=this._sheet._grid._columns;this.autoFillCalculator=new a.spreadsheet.AutoFillCalculator(b._grid);this.colEdge=new d("col",this._sheet._grid._columns,this.columnRange.bind(this),this.union.bind(this));this.rowEdge=new d("row",this._sheet._grid._rows,this.rowRange.bind(this),this.union.bind(this))},height:function(a){this._viewPortHeight=a},union:function(a){return this._sheet.unionWithMerged(a)},columnRange:function(a,b,c){return this._sheet._ref(b,a,c-b,1)},rowRange:function(a,b,c){return this._sheet._ref(a,b,1,c-b)},selectionIncludesMergedCells:function(){return this._sheet.select().contains(this._sheet._mergedCells)},setSelectionValue:function(a){var b=this._sheet.selection();setTimeout(function(){b.value(a())})},selectAll:function(){this._sheet.select(this._sheet._sheetRef)},select:function(a,b,c){a=this.refForMode(a,b);if(c){a=this._sheet.select().concat(a)}this._sheet.select(a)},refForMode:function(a,b){var c=this._sheet._grid;switch(b){case"range":a=c.normalize(a);break;case"row":a=c.rowRef(a.row);break;case"column":a=c.colRef(a.col);break;case"sheet":a=this._sheet._sheetRef;break}return a},startSelection:function(a,c,d,e){if(c=="autofill"){this._sheet.startAutoFill()}else if(e&&c=="range"){var f=new b(this._sheet.activeCell().first(),a);this._sheet.select(f,false,false);this._sheet.startSelection()}else{this._sheet.startSelection();this.select(a,c,d)}},completeSelection:function(){this._sheet.completeSelection()},selectForContextMenu:function(a,b){var c=this._sheet;if(!c.select().contains(this.refForMode(a,b))){this.select(a,b)}},modifySelection:function(a){var c=this.determineDirection(a);var d=this._sheet;var e=this._viewPortHeight;var f=d._grid._rows;var g=d._grid._columns;var h=d.currentOriginalSelectionRange();var i=d.select().toRangeRef();var j=d.activeCell();var k=h.topLeft.clone();var l=h.bottomRight.clone();var m;this.colEdge.boundary(i.topLeft.row,i.bottomRight.row);this.rowEdge.boundary(i.topLeft.col,i.bottomRight.col);switch(c){case"expand-left":k.col=this.colEdge.prevLeft(k.col);m=k;break;case"shrink-right":k.col=this.colEdge.nextLeft(k.col);m=k;break;case"expand-right":l.col=this.colEdge.nextRight(l.col);m=l;break;case"shrink-left":l.col=this.colEdge.prevRight(l.col);m=l;break;case"expand-up":k.row=this.rowEdge.prevLeft(k.row);m=k;break;case"shrink-down":k.row=this.rowEdge.nextLeft(k.row);m=k;break;case"expand-down":l.row=this.rowEdge.nextRight(l.row);m=l;break;case"shrink-up":l.row=this.rowEdge.prevRight(l.row);m=l;break;case"expand-page-up":k.row=f.prevPage(k.row,e);break;case"shrink-page-up":l.row=f.prevPage(l.row,e);break;case"expand-page-down":l.row=f.nextPage(l.row,e);break;case"shrink-page-down":k.row=f.nextPage(k.row,e);break;case"first-col":k.col=g.firstVisible();l.col=j.bottomRight.col;m=k;break;case"last-col":l.col=g.lastVisible();k.col=j.topLeft.col;m=l;break;case"first-row":k.row=f.firstVisible();l.row=j.bottomRight.row;m=k;break;case"last-row":l.row=f.lastVisible();k.row=j.topLeft.row;m=l;break;case"last":l.row=f.lastVisible();l.col=g.lastVisible();k=j.topLeft;m=l;break;case"first":k.row=f.firstVisible();k.col=g.firstVisible();l=j.bottomRight;m=k;break}var n=new b(k,l);if(!this.union(n).intersects(j)){this.modifySelection(c.replace("shrink","expand"));return}if(m){d.focus(m)}this.updateCurrentSelectionRange(n)},moveActiveCell:function(a){var b=this._sheet;var d=b.activeCell();var e=d.topLeft;var f=d.bottomRight;var g=b.originalActiveCell();var h=b._grid._rows;var i=b._grid._columns;var j=g.row;var k=g.col;switch(a){case"left":k=i.prevVisible(e.col);break;case"up":j=h.prevVisible(e.row);break;case"right":k=i.nextVisible(f.col);break;case"down":j=h.nextVisible(f.row);break;case"first-col":k=i.firstVisible();break;case"last-col":k=i.lastVisible();break;case"first-row":j=h.firstVisible();break;case"last-row":j=h.lastVisible();break;case"last":j=h.lastVisible();k=i.lastVisible();break;case"first":j=h.firstVisible();k=i.firstVisible();break;case"next-page":j=h.nextPage(f.row,this._viewPortHeight);break;case"prev-page":j=h.prevPage(f.row,this._viewPortHeight);break}b.select(new c(j,k))},navigateInSelection:function(a){var b=this._sheet;var d=b.activeCell();var e=d.topLeft;var f=b.originalActiveCell();var g=b._grid._rows;var h=b._grid._columns;var i=f.row;var j=f.col;var k=b.currentNavigationRange();var l=k.topLeft;var m=k.bottomRight;var n=false;var o=e.col;var p=e.row;while(!n){var q=new c(i,j);switch(a){case"next":if(m.eq(q)){k=b.nextNavigationRange();i=k.topLeft.row;j=k.topLeft.col}else{j=h.nextVisible(o,true);if(j>m.col){j=l.col;i=g.nextVisible(i,true)}}break;case"previous":if(l.eq(q)){k=b.previousNavigationRange();i=k.bottomRight.row;j=k.bottomRight.col}else{j=h.prevVisible(o,true);if(j<l.col){j=m.col;i=g.prevVisible(i,true)}}break;case"lower":if(m.eq(q)){k=b.nextNavigationRange();i=k.topLeft.row;j=k.topLeft.col}else{i=g.nextVisible(p,true);if(i>m.row){i=l.row;j=h.nextVisible(j,true)}}break;case"upper":if(l.eq(q)){k=b.previousNavigationRange();i=k.bottomRight.row;j=k.bottomRight.col}else{i=g.prevVisible(p,true);if(i<l.row){i=m.row;j=h.prevVisible(j,true)}}break;default:throw new Error("Unknown entry navigation: "+a)}n=!this.shouldSkip(i,j);o=j;p=i}if(b.singleCellSelection()){b.select(new c(i,j))}else{b.activeCell(new c(i,j))}},extendSelection:function(a,c){var d=this._sheet;var e=d._grid;if(c==="autofill"){this.resizeAutoFill(a);return}if(c==="range"){a=e.normalize(a)}else if(c==="row"){a=e.rowRef(a.row).bottomRight}else if(c==="column"){a=e.colRef(a.col).bottomRight}var f=d.originalActiveCell().toRangeRef();this.updateCurrentSelectionRange(new b(f.topLeft,a))},shouldSkip:function(a,b){var d=new c(a,b);var e=false;this._sheet.forEachMergedCell(function(a){if(a.intersects(d)&&!a.collapse().eq(d)){e=true}});return e},resizeAutoFill:function(a){var b=this._sheet;var c=b.select();var d=b._autoFillOrigin;var e=this.autoFillCalculator.autoFillDest(c,a);var f=this.punch(c,e);var g,h,i;if(!f){var j=b.range(e)._previewFillFrom(b.range(d));if(j){h=j.direction;var k=j.props;if(h===0||h==1){i=k[k.length-1];g=i[i.length-1].value}else if(h===2){i=k[0];g=i[i.length-1].value}else if(h===3){i=k[k.length-1];g=i[0].value}}}b.updateAutoFill(e,f,g,h)},determineDirection:function(a){var b=this._sheet.currentSelectionRange();var c=this._sheet.activeCell();var d=c.topLeft.col==b.topLeft.col;var e=c.bottomRight.col==b.bottomRight.col;var f=c.topLeft.row==b.topLeft.row;var g=c.bottomRight.row==b.bottomRight.row;switch(a){case"left":a=e?"expand-left":"shrink-left";break;case"right":a=d?"expand-right":"shrink-right";break;case"up":a=g?"expand-up":"shrink-up";break;case"down":a=f?"expand-down":"shrink-down";break;case"prev-page":a=g?"expand-page-up":"shrink-page-up";break;case"next-page":a=f?"expand-page-down":"shrink-page-down";break}return a},updateCurrentSelectionRange:function(a){var b=this._sheet;b.select(b.originalSelect().replaceAt(b.selectionRangeIndex(),a),false)},punch:function(a,d){var e;if(d.topLeft.eq(a.topLeft)){if(d.bottomRight.row<a.bottomRight.row){var f=this.rowEdge.nextRight(d.bottomRight.row);e=new b(new c(f,a.topLeft.col),a.bottomRight)}else if(d.bottomRight.col<a.bottomRight.col){var g=this.colEdge.nextRight(d.bottomRight.col);e=new b(new c(a.topLeft.row,g),a.bottomRight)}}return e}});a.spreadsheet.SheetNavigator=e})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/axismanager",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.Class.extend({init:function(a){this._sheet=a},forEachSelectedColumn:function(a){var b=this._sheet;b.batch(function(){b.select().forEachColumnIndex(function(c,d){a(b,c,d)})},{layout:true,recalc:true})},forEachSelectedRow:function(a){var b=this._sheet;b.batch(function(){b.select().forEachRowIndex(function(c,d){a(b,c,d)})},{layout:true,recalc:true})},includesHiddenColumns:function(a){return this._sheet._grid._columns.includesHidden(a.topLeft.col,a.bottomRight.col)},includesHiddenRows:function(a){return this._sheet._grid._rows.includesHidden(a.topLeft.row,a.bottomRight.row)},selectionIncludesHiddenColumns:function(){return this.includesHiddenColumns(this._sheet.select())},selectionIncludesHiddenRows:function(){return this.includesHiddenRows(this._sheet.select())},deleteSelectedColumns:function(){var a=[],b=0;this.forEachSelectedColumn(function(c,d){d-=b;if(c.isHiddenColumn(d)){return}b++;var e=[];a.unshift({index:d,formulas:e,width:c.columnWidth(d)});c._saveModifiedFormulas(e,function(){c.deleteColumn(d)})});return a},deleteSelectedRows:function(){var a=[],b=0;this.forEachSelectedRow(function(c,d){d-=b;if(c.isHiddenRow(d)){return}b++;var e=[];a.unshift({index:d,formulas:e,height:c.rowHeight(d)});c._saveModifiedFormulas(e,function(){c.deleteRow(d)})});return a},hideSelectedColumns:function(){this.forEachSelectedColumn(function(a,b){a.hideColumn(b)});var b=this._sheet;var c=b.select().toRangeRef();var d=c.topLeft.col;var e=c.bottomRight.col;var f=null;while(true){var g=e<b._columns._count;var h=d>=0;if(!h&&!g){break}if(g&&!b.isHiddenColumn(e)){f=e;break}if(h&&!b.isHiddenColumn(d)){f=d;break}d--;e++}if(f!==null){c=new a.spreadsheet.RangeRef(new a.spreadsheet.CellRef(0,f),new a.spreadsheet.CellRef(b._rows._count-1,f));b.range(c).select()}},hideSelectedRows:function(){this.forEachSelectedRow(function(a,b){a.hideRow(b)});var b=this._sheet;var c=b.select().toRangeRef();var d=c.topLeft.row;var e=c.bottomRight.row;var f=null;while(true){var g=e<b._rows._count;var h=d>=0;if(!h&&!g){break}if(g&&!b.isHiddenRow(e)){f=e;break}if(h&&!b.isHiddenRow(d)){f=d;break}d--;e++}if(f!==null){c=new a.spreadsheet.RangeRef(new a.spreadsheet.CellRef(f,0),new a.spreadsheet.CellRef(f,b._columns._count-1));b.range(c).select()}},unhideSelectedColumns:function(){this.forEachSelectedColumn(function(a,b){a.unhideColumn(b)})},unhideSelectedRows:function(){this.forEachSelectedRow(function(a,b){a.unhideRow(b)})},preventAddRow:function(){var a=this._sheet.select().toRangeRef();var b=a.height();return this._sheet.preventInsertRow(0,b)},preventAddColumn:function(){var a=this._sheet.select().toRangeRef();var b=a.width();return this._sheet.preventInsertColumn(0,b)},addColumnLeft:function(){var a=this._sheet;var b,c=0;a.batch(function(){a.select().forEachColumnIndex(function(d){if(!b){b=d}a.insertColumn(b);++c})},{recalc:true,layout:true});return{base:b,count:c}},addColumnRight:function(){var a=this._sheet;var b,c=0;a.batch(function(){a.select().forEachColumnIndex(function(a){b=a+1;++c});for(var d=0;d<c;++d){a.insertColumn(b)}},{recalc:true,layout:true});return{base:b,count:c}},addRowAbove:function(){var a=this._sheet;var b,c=0;a.batch(function(){a.select().forEachRowIndex(function(d){if(!b){b=d}a.insertRow(b);++c})},{recalc:true,layout:true});return{base:b,count:c}},addRowBelow:function(){var a=this._sheet;var b,c=0;a.batch(function(){a.select().forEachRowIndex(function(a){b=a+1;++c});for(var d=0;d<c;++d){a.insertRow(b)}},{recalc:true,layout:true});return{base:b,count:c}}});a.spreadsheet.AxisManager=b})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){
(c||b)()});(function(a,b){b("spreadsheet/clipboard",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.spreadsheet.CellRef;var d=a.Class.extend({init:function(b){this._content={};this._externalContent={};this._internalContent={};this.workbook=b;this.origin=a.spreadsheet.NULLREF;this.iframe=document.createElement("iframe");this.iframe.className="k-spreadsheet-clipboard-paste";this.menuInvoked=false;this._uid=a.guid();document.body.appendChild(this.iframe)},destroy:function(){document.body.removeChild(this.iframe)},canCopy:function(){var b={canCopy:true};var c=this.workbook.activeSheet().select();if(c===a.spreadsheet.NULLREF){b.canCopy=false}if(c instanceof a.spreadsheet.UnionRef){b.canCopy=false;b.multiSelection=true}if(this.menuInvoked){b.canCopy=false;b.menuInvoked=true}return b},canPaste:function(){var a=this.workbook.activeSheet();var b=this.pasteRef();var c=a.range(b);var d={canPaste:true,pasteOnMerged:false,pasteOnDisabled:false};if(!c.enable()){d.canPaste=false;d.pasteOnDisabled=true}if(!b.eq(a.unionWithMerged(b))){d.canPaste=false;d.pasteOnMerged=true}if(this.menuInvoked){d.canPaste=false;d.menuInvoked=true}if(b.bottomRight.row>=a._rows._count||b.bottomRight.col>=a._columns._count){d.canPaste=false;d.overflow=true}return d},intersectsMerged:function(){var a=this.workbook.activeSheet();this.parse();this.origin=this._content.origRef;var b=this.pasteRef();return!b.eq(a.unionWithMerged(b))},copy:function(){var a=this.workbook.activeSheet();this.origin=a.select();this._internalContent=a.selection().getState();delete this._externalContent.html;delete this._externalContent.plain},cut:function(){var a=this.workbook.activeSheet();this.copy();a.range(a.select()).clear()},pasteRef:function(){var b=this.workbook.activeSheet();if(this.origin===a.spreadsheet.NULLREF){return b.select()}var c=b.activeCell().first();var d=this.origin.first();var e=d.row-c.row;var f=d.col-c.col;return this.origin.relative(e,f,3)},paste:function(){var a=this.workbook.activeSheet();var b=this.pasteRef();a.range(b).setState(this._content,this);a.triggerChange({recalc:true,ref:b})},external:function(a){if(a&&(a.html||a.plain)){this._externalContent=a}else{return this._externalContent}},isExternal:function(){return!this._isInternal()},parse:function(){var a=e();if(this._isInternal()){a=this._internalContent}else{var b=this._externalContent;if(b.html){var c=this.iframe.contentWindow.document;c.open();c.write(b.html);c.close();var d=c.querySelector("table");if(d){a=j(d)}else{a=k(b.plain)}}else{a=k(b.plain)}this.origin=a.origRef}this._content=a},_isInternal:function(){if(this._externalContent.html===undefined){return true}var a=b("<div/>").html(this._externalContent.html).find("table.kendo-clipboard-"+this._uid).length?true:false;var c=b("<div/>").html(this._externalContent.plain).find("table.kendo-clipboard-"+this._uid).length?true:false;return a||c}});a.spreadsheet.Clipboard=d;function e(){var a=new c(0,0,0);return{ref:a,mergedCells:[],data:[],foreign:true,origRef:a.toRangeRef()}}function f(a,b,c,d){var e=a.data||(a.data=[]);if(!e[b]){e[b]=[]}e[b][c]=d;var f=a.origRef.bottomRight;f.row=Math.max(f.row,b);f.col=Math.max(f.col,c)}function g(a){return a.replace(/^-(?:ms|moz|webkit)-/,"")}function h(a){var b={};["borderBottom","borderRight","borderLeft","borderTop"].forEach(function(c){b[c]=a[c+"Style"]=="none"?null:{size:1,color:a[c+"Color"]}});return b}function i(a,b,c,d,e){var f=window.getComputedStyle(c);var i=c.innerText;var j=h(f);var k={value:i===""?null:i,borderTop:j.borderTop||d.get(a,b)||null,borderBottom:j.borderBottom||d.get(a+1,b)||null,borderLeft:j.borderLeft||e.get(a,b)||null,borderRight:j.borderRight||e.get(a,b+1)||null,fontSize:parseInt(f["font-size"],10)};d.set(a,b,k.borderTop);d.set(a+1,b,k.borderBottom);e.set(a,b,k.borderLeft);e.set(a,b+1,k.borderRight);if(f["background-color"]!=="rgb(0, 0, 0)"&&f["background-color"]!=="rgba(0, 0, 0, 0)"){k.background=f["background-color"]}if(f.color!=="rgb(0, 0, 0)"&&f.color!=="rgba(0, 0, 0, 0)"){k.color=f.color}if(f["text-decoration"]=="underline"){k.underline=true}if(f["font-style"]=="italic"){k.italic=true}if(f["font-weight"]=="bold"){k.bold=true}if(g(f["text-align"])!=="right"){k.textAlign=g(f["text-align"])}if(f["vertical-align"]!=="middle"){k.verticalAlign=f["vertical-align"]}if(f["word-wrap"]!=="normal"){k.wrap=true}return k}function j(b){var d=e();var g=[],h=0,j=0;for(var k=0;k<b.rows.length;++k){g.push([])}var l=new a.spreadsheet.calc.runtime.Matrix;var m=new a.spreadsheet.calc.runtime.Matrix;for(var n=0;n<b.rows.length;++n,++h){var o=b.rows[n];j=0;for(var p=0;p<o.cells.length;++p){var q=o.cells[p];var r=q.rowSpan;var s=q.colSpan;while(g[h][j]){j++}var t=q.getAttribute("style");var u=/mso-ignore:colspan/.test(t);f(d,h,j,i(h,j,q,l,m));if(r>1||s>1&&!u){d.mergedCells.push(new a.spreadsheet.RangeRef(new c(h,j),new c(h+r-1,j+s-1)).toString())}for(var v=h+r;--v>=h;){for(var w=j+s;--w>=j;){if(v<g.length){g[v][w]=true;if(!(v==h&&w==j)){f(d,v,w,{})}}}}}}return d}function k(a){var b=e();if(a.indexOf("\t")===-1&&a.indexOf("\n")==-1){f(b,0,0,{value:a})}else{var c=a.split("\n");for(var d=0;d<c.length;d++){var g=c[d].split("\t");for(var h=0;h<g.length;h++){f(b,d,h,{value:g[h]})}}}return b}})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/range",["kendo.core","util/text-metrics","util/main"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.spreadsheet.UnionRef;var d=a.spreadsheet.CellRef;var e=a.spreadsheet.RangeRef;var f=["color","fontFamily","underline","italic","bold","textAlign","verticalAlign","background","format","link","editor","borderTop","borderRight","borderBottom","borderLeft"];var g=a.Class.extend({init:function(a,b){this._sheet=b;this._ref=a},clone:function(){return new g(this._ref.clone(),this._sheet)},skipHiddenCells:function(){var a=[];var b=this,f=b._sheet;var g=f.isHiddenRow.bind(f);var i=f.isHiddenColumn.bind(f);b._ref.forEach(function(c){c=b._normalize(c.toRangeRef());var f=c.topLeft,j=c.bottomRight;var k=h(f.row,j.row,g);var l=h(f.col,j.col,i);for(var m=0;m<k.length;++m){for(var n=0;n<l.length;++n){a.push(new e(new d(k[m].begin,l[n].begin),new d(k[m].end,l[n].end)))}}});return f.range(a.length>1?new c(a):a[0])},_normalize:function(a){return this._sheet._grid.normalize(a)},_set:function(a,b,c){var d=this;var e=d._sheet;d._ref.forEach(function(c){e._set(c.toRangeRef(),a,b)});if(!c){e.triggerChange({recalc:a=="formula"||a=="value"||a=="validation",value:b,range:d,ref:d._ref})}return d},_get:function(a){return this._sheet._get(this._ref.toRangeRef(),a)},_property:function(a,b){if(b===undefined){return this._get(a)}else{return this._set(a,b)}},value:function(a){if(a!==undefined){this._set("formula",null,true)}return this._property("value",a)},resize:function(a){var b=this._resizedRef(a);return new g(b,this._sheet)},_resizedRef:function(a){return this._ref.map(function(b){return b.toRangeRef().resize(a)})},input:function(c,d){d=b.extend({arrayFormula:false},d);var e=this._get("format"),f;if(c!==undefined){var g=this._ref.toRangeRef().topLeft;f=a.spreadsheet.calc.parse(this._sheet.name(),g.row,g.col,c,e);this._sheet.batch(function(){var b=null;if(f.type=="exp"){b=a.spreadsheet.calc.compile(f)}else if(e!="@"){var g=e&&a.spreadsheet.formatting.type(f.value,e);if(f.type=="date"&&g!="date"){this.format(f.format||i(a.culture().calendar.patterns.d))}else if(f.type=="percent"&&g!="percent"){this.format(f.value*100==(f.value*100|0)?"0%":"0.00%")}else if(f.format){if(!e||f.currency||g=="number"&&f.type=="number"&&f.format.length>e.length){this.format(f.format)}}}else if(f.type!="string"){f.value=c}this.formula(b,d.arrayFormula);if(!b){this.value(f.value)}}.bind(this),{recalc:true,value:c,ref:this._ref,editorChange:this._sheet.isInEditMode()});return this}else{c=this._get("value");var h=this._get("formula");var k=e&&!h&&a.spreadsheet.formatting.type(c,e);if(h){c="="+h}else a:{if(e&&k=="date"){var l=a.spreadsheet.formatting.text(c,e);f=a.spreadsheet.calc.parse(null,null,null,l,e);var m=a.spreadsheet.formatting.text(f.value,e);if(l==m){c=l;break a}}if(k==="date"){c=a.toString(a.spreadsheet.numberToDate(c),a.culture().calendar.patterns.d)}else if(k==="percent"){c=a.spreadsheet.calc.runtime.limitPrecision(c*100)+"%"}else if(typeof c=="string"&&(/^[=']/.test(c)||/^(?:true|false)$/i.test(c)||j(c))){c="'"+c}}return c}},enable:function(b){if(b===undefined){return!a.util.withExit(function(a){this._sheet.forEach(this._ref,function(b,c,d){if(d.enable===false){a(true)}})},this)}return this._property("enable",b)},formula:function(a,b){var c=this;if(a===undefined){var d=c._get("formula");return d?""+d:null}if(b){var e=this._ref.toRangeRef();a=c._sheet.range(e.topLeft)._set("formula",a)._get("formula");if(a){a.setArrayFormulaRange(e)}}else{c._set("formula",a)}return c},intersectingArrayFormula:function(){var b=this._ref.clone().simplify().setSheet(this._sheet.name());return a.util.withExit(function(c){this._sheet._forFormulas(function(d){var e=d.arrayFormulaRange;if(e&&(e=b.intersect(e))!==a.spreadsheet.NULLREF){c({formula:d,intersection:e})}})},this)},canEditArrayFormula:function(){var a=this.intersectingArrayFormula();if(a){return a.formula.arrayFormulaRange.eq(a.intersection)}return true},validation:function(a){if(a===undefined){var b=this._get("validation");return b?b.toJSON():null}return this._property("validation",a)},_getValidationState:function(){var a=this._ref.toRangeRef();var b=a.topLeft.row;var c=a.topLeft.col;var d=a.bottomRight.row;var e=a.bottomRight.col;var f,g;for(f=c;f<=e;f++){for(g=b;g<=d;g++){var h=this._sheet._validation(g,f);if(h&&h.type==="reject"&&h.value===false){return h}}}return false},merge:function(){this._ref=this._sheet._merge(this._ref);return this},unmerge:function(){var a=this._sheet._mergedCells;this._ref.forEach(function(b){b.toRangeRef().intersecting(a).forEach(function(b){a.splice(a.indexOf(b),1)})});this._sheet.triggerChange({});return this},select:function(){this._sheet.select(this._ref);return this},values:function(b){if(this._ref instanceof c){throw new Error("Unsupported for multiple ranges.")}if(this._ref===a.spreadsheet.NULLREF){if(b!==undefined){throw new Error("Unsupported for NULLREF.")}else{return[]}}var d=this._ref.toRangeRef();var e=d.topLeft.row;var f=d.topLeft.col;var g=d.bottomRight.row;var h=d.bottomRight.col;var i,j;if(b===undefined){b=new Array(d.height());for(var k=0;k<b.length;k++){b[k]=new Array(d.width())}for(i=f;i<=h;i++){for(j=e;j<=g;j++){b[j-e][i-f]=this._sheet._value(j,i)}}return b}else{this._sheet._set(d,"formula",null);for(i=f;i<=h;i++){for(j=e;j<=g;j++){var l=b[j-e];if(l){var m=l[i-f];if(m!==undefined){this._sheet._value(j,i,m)}}}}this._sheet.triggerChange({recalc:true,ref:d});return this}},_properties:function(b){if(this._ref instanceof c){throw new Error("Unsupported for multiple ranges.")}if(this._ref===a.spreadsheet.NULLREF){if(b!==undefined){throw new Error("Unsupported for NULLREF.")}else{return[]}}var d=this._ref.toRangeRef();var e=d.topLeft.row;var f=d.topLeft.col;var g=d.bottomRight.row;var h=d.bottomRight.col;var i,j;var k=this._sheet;if(b===undefined){b=new Array(d.height());k.forEach(d,function(a,c,d){a-=e;c-=f;var g=b[a]||(b[a]=[]);g[c]=d});return b}else{var l;d=d.clone();var m=function(a){var b=l[a];d.topLeft.row=d.bottomRight.row=j;d.topLeft.col=d.bottomRight.col=i;if(a=="value"){k._set(d,"formula",null)}k._set(d,a,b)};for(i=f;i<=h;i++){if(k.isHiddenColumn(i)){continue}for(j=e;j<=g;j++){var n=b[j-e];if(n&&!k.isHiddenRow(j)){l=n[i-f];if(l){Object.keys(l).forEach(m)}}}}k.triggerChange({recalc:true,ref:this._ref});return this}},clear:function(a){a=a||{};var b=a.clearAll||!Object.keys(a).length;var c=this._sheet;var d={recalc:b||a.contentsOnly,ref:this._ref};c.batch(function(){if(d.recalc){this.formula(null)}if(b){this.validation(null)}if(b||a.formatOnly){f.forEach(function(b){if(!(a.keepBorders&&/^border/i.test(b))){this[b](null)}}.bind(this));this.unmerge()}}.bind(this),d);return this},clearContent:function(){return this.clear({contentsOnly:true})},clearFormat:function(){return this.clear({formatOnly:true})},isSortable:function(){return!this.cantSort()},cantSort:function(){if(this._ref instanceof c){return{code:"cantSortMultipleSelection",message:"Unsupported for multiple ranges."}}if(this._ref===a.spreadsheet.NULLREF){return{code:"cantSortNullRef",message:"Unsupported for NULLREF."}}var b=this._sheet._getMergedCells(this._ref.toRangeRef());var e=b.primary;var f=b.secondary;var g=null,h=null;var i={};try{this._sheet.forEach(this,function(a,c){var j=new d(a,c).print();var k=e[j];if(k){if(g===null){g=k.width();h=k.height()}else if(!(g==k.width()&&h==k.height())){throw i}}else if(!f[j]&&b.hasMerged){throw i}})}catch(a){if(a!==i){throw a}return{code:"cantSortMixedCells",message:"Unsupported for range containing cells of different shapes."}}return false},sort:function(a){var b=this.cantSort();if(b){throw new Error(b.message)}if(a===undefined){a={column:0}}a=a instanceof Array?a:[a];this._sheet._sortBy(this._ref.toRangeRef(),a.map(function(a,b){if(typeof a==="number"){a={column:a}}return{index:a.column===undefined?b:a.column,ascending:a.ascending===undefined?true:a.ascending}}));return this},isFilterable:function(){return!(this._ref instanceof c)},filter:function(a){if(this._ref instanceof c){throw new Error("Unsupported for multiple ranges.")}if(a===false){this.clearFilters()}else{a=a===true?[]:a instanceof Array?a:[a];this._sheet._filterBy(this._ref.toRangeRef(),a.map(function(a,b){return{index:a.column===undefined?b:a.column,filter:a.filter}}))}return this},clearFilter:function(a){this._sheet.clearFilter(a)},clearFilters:function(){var a=this._sheet.filter();var b=[];if(a){for(var c=0;c<a.columns.length;c++){b.push(c)}this._sheet.batch(function(){this.clearFilter(b);this._filter=null},{layout:true,filter:true})}},hasFilter:function(){var a=this._sheet.filter();return!!a},leftColumn:function(){return new g(this._ref.leftColumn(),this._sheet)},rightColumn:function(){return new g(this._ref.rightColumn(),this._sheet)},topRow:function(){return new g(this._ref.topRow(),this._sheet)},bottomRow:function(){return new g(this._ref.bottomRow(),this._sheet)},column:function(a){return new g(this._ref.toColumn(a),this._sheet)},row:function(a){return new g(this._ref.toRow(a),this._sheet)},forEachRow:function(a){this._ref.forEachRow(function(b){a(new g(b,this._sheet))}.bind(this))},forEachColumn:function(a){this._ref.forEachColumn(function(b){a(new g(b,this._sheet))}.bind(this))},sheet:function(){return this._sheet},topLeft:function(){return this._ref.toRangeRef().topLeft},intersectingMerged:function(){var a=this._sheet;var b=[];a._mergedCells.forEach(function(a){if(a.intersects(this._ref)){b.push(a.toString())}}.bind(this));return b},getState:function(b){var c=this._ref.first();var d={ref:c,data:[],origRef:this._ref};var e;if(!b){e=a.spreadsheet.ALL_PROPERTIES;d.mergedCells=this.intersectingMerged()}else if(b==="input"){e=["value","formula"]}else if(b==="border"){e=["borderLeft","borderTop","borderRight","borderBottom"]}else{e=[b]}var f=d.data;this.forEachCell(function(b,d,g){var h={};var i=b-c.row;var j=d-c.col;if(!f[i]){f[i]=[]}f[i][j]=h;e.forEach(function(b){var c=typeof g[b]=="undefined"?null:g[b];if(c instanceof a.spreadsheet.calc.runtime.Formula||c instanceof a.spreadsheet.validation.Validation){c=c.deepClone()}h[b]=c})});return d},setState:function(a,b){var c=this._sheet;var d=this._ref.first();var e=a.ref.row-d.row;var f=a.ref.col-d.col;var g=b&&!b.isExternal();var h=b&&!g;c.batch(function(){if(a.mergedCells){this.unmerge()}var i=d.row;var j=this.hasFilter();a.data.forEach(function(e,f){if(j&&g&&c.isHiddenRow(a.ref.row+f)){return}var k=d.col;e.forEach(function(e,l){if(j&&g&&c.isHiddenColumn(a.ref.col+l)){return}var m=b?c.range(i,k):c.range(d.row+f,d.col+l);if(m.enable()){for(var n in e){if(n!="value"){if(!(b&&n=="enable")){m._set(n,e[n])}}}if(!e.formula){if(h){try{if(e.value==null){m._set("value",null)}else{m.input(e.value)}}catch(a){m._set("value",e.value)}}else{m._set("value",e.value)}}}k++});i++});if(a.mergedCells){a.mergedCells.forEach(function(a){a=c._ref(a).relative(e,f,3);c.range(a).merge()},this)}}.bind(this),{recalc:true,ref:this._ref})},_adjustRowHeight:function(){var b=this._sheet;var c=this.getState();var d=[];for(var e=0;e<c.mergedCells.length;e++){d.push(b.range(c.mergedCells[e]))}this.forEachRow(function(c){if(c.topLeft().row>=c.sheet()._rows._count){return}var e=c.sheet().rowHeight(c.topLeft().row);c.forEachCell(function(c,f,g){var h=b.range(c,f);var i=0;for(var j=0;j<d.length;j++){if(h._ref.intersects(d[j]._ref)){i+=g.width;break}}var k=Math.max(b.columnWidth(f),i);e=Math.max(e,a.spreadsheet.util.getTextHeight(g.value,k,g.fontSize,g.wrap))});b.rowHeight(c.topLeft().row,Math.max(b.rowHeight(c.topLeft().row),e))})},forEachCell:function(a){this._ref.forEach(function(b){this._sheet.forEach(b.toRangeRef(),a.bind(this))}.bind(this))},hasValue:function(){var b=this._sheet._defaultCellStyle;return a.util.withExit(function(a){this.forEachCell(function(c,d,e){for(var f in e){var g=e[f];if(g!==undefined&&g!==null&&g!==b[f]){a(true)}}})},this)},wrap:function(b){if(b===undefined){return!!this._property("wrap")}this.forEachRow(function(b){var c=b.sheet().rowHeight(b.topLeft().row);b.forEachCell(function(b,d,e){var f=this._sheet.columnWidth(d);if(e.value!==null&&e.value!==undefined){c=Math.max(c,a.spreadsheet.util.getTextHeight(e.value,f,e.fontSize,true))}});b.sheet().rowHeight(b.topLeft().row,c)}.bind(this));this._property("wrap",b);return this},fontSize:function(b){if(b===undefined){return this._property("fontSize")}this.forEachRow(function(c){var d=c.sheet().rowHeight(c.topLeft().row);c.forEachCell(function(c,e,f){var g=this._sheet.columnWidth(e);if(f.value!==null&&f.value!==undefined){d=Math.max(d,a.spreadsheet.util.getTextHeight(f.value,g,b,f.wrap))}});c.sheet().rowHeight(c.topLeft().row,d)}.bind(this));this._property("fontSize",b);return this},draw:function(a,b){this._sheet.draw(this,a,b)},insideBorders:function(a){return this.insideVerticalBorders(a).insideHorizontalBorders(a)},insideVerticalBorders:function(a){this._ref.forEach(function(b){if(b instanceof e&&b.width()>1){b=b.clone();b.topLeft.col++;this._sheet.range(b)._set("vBorders",a)}},this);return this},insideHorizontalBorders:function(a){this._ref.forEach(function(b){if(b instanceof e&&b.height()>1){b=b.clone();b.topLeft.row++;this._sheet.range(b)._set("hBorders",a)}},this);return this}});function h(a,b,c){while(a<=b&&c(a)){a++}if(a>b){return[]}for(var d=a+1;d<=b;++d){if(c(d)){return[{begin:a,end:d-1}].concat(h(d+1,b,c))}}return[{begin:a,end:b}]}b.each(f,function(a,b){g.prototype[b]=function(a){return this._property(b,a)}});function i(a){return a.replace(/M/g,"m").replace(/'/g,'"').replace(/tt/,"am/pm")}function j(b){return!/^=/.test(b)&&/number|percent/.test(a.spreadsheet.calc.parse(null,0,0,b).type)}var k=b('<div style="position: absolute !important; top: -4000px !important; height: auto !important;'+"padding: 1px !important; margin: 0 !important; border: 1px solid black !important;"+"line-height: normal !important; visibility: hidden !important;"+'white-space: pre-wrap; word-break: break-all;" />')[0];function l(b,c,d,e){var f={baselineMarkerSize:0,width:e===true?c+"px":"auto","font-size":(d||12)+"px","word-break":e===true?"break-all":"normal","white-space":e===true?"pre-wrap":"pre"};return a.util.measureText(b,f,{box:k,normalizeText:false}).height}a.spreadsheet.util={getTextHeight:l};a.spreadsheet.Range=g})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/runtime",["spreadsheet/references"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a={};var b=kendo.spreadsheet;b.calc=a;var c=a.runtime={};var d=kendo.Class;var e=b.Ref;var f=b.CellRef;var g=b.RangeRef;var h=b.UnionRef;var i=b.NULLREF;function j(a){if(a instanceof j){return a}this.code=a}j.prototype.toString=function(){return"#"+this.code+(this.code=="NAME"?"?":"!")};var k=d.extend({init:function a(b,c,d,e){this.callback=b;this.formula=c;this.ss=d;this.parent=e},resolve:function(a){var b=this;if(a instanceof e){b.resolveCells([a],function(){b._resolve(a)})}else{b._resolve(a)}},error:function(a){return new j(a)},_resolve:function(a){if(a===undefined){a=null}else if(Array.isArray(a)){a=this.asMatrix(a)}else{a=s(a)}var b=this.formula;if(b.arrayFormulaRange){a=this.asMatrix(a)||this.asMatrix([[a]])}else if(a instanceof g){a=this._arrayArg(a)}b.value=a;if(this.ss.onFormula(b)&&this.callback){this.callback.call(b,a)}},resolveCells:function(a,b){var c=this,d=[];(function a(b){for(var d=0;d<b.length;++d){var f=b[d];if(f instanceof e){i(c.getRefCells(f))}if(Array.isArray(f)){a(f)}}})(a);if(!d.length){return b.call(c)}for(var f=d.length,g=0;g<d.length;++g){h(d[g])}function h(a){a.exec(c.ss,function(){if(!--f){b.call(c)}},c)}function i(a){for(var b=0;b<a.length;++b){var c=a[b];if(c.formula){d.push(c.formula)}}return true}},cellValues:function(a,b){var c=[];for(var d=0;d<a.length;++d){var f=a[d];if(f instanceof e){f=this.getRefData(f,b);c=c.concat(f)}else if(Array.isArray(f)){c=c.concat(this.cellValues(f,b))}else if(f instanceof l){c=c.concat(this.cellValues(f.data,b))}else{c.push(f)}}return c},fetchName:function(a,c){var d=this.formula;var f=this.ss.nameValue(a,d.sheet,d.row,d.col);if(f instanceof n){f=f.clone(d.sheet,d.row,d.col,true);var g=new b.ValidationFormulaContext(this.ss.workbook);f.exec(g,c,this)}else{if(f instanceof e){f=f.absolute(d.row,d.col);if(!f.sheet){f.sheet=d.sheet}}c(f==null?new j("NAME"):f)}},force:function(a){if(a instanceof e){return this.getRefData(a)}return a},func:function(a,b,c){a=a.toLowerCase();var d=p[a];if(d){return d.call(this,b,c)}b(new j("NAME"))},bool:function(a){if(a instanceof e){a=this.getRefData(a)}if(typeof a=="string"){return a.toLowerCase()=="true"}if(typeof a=="number"){return a!==0}if(typeof a=="boolean"){return a}return a!=null},_arrayArg:function(a){var b=this.formula;if(!b.arrayFormulaRange&&a instanceof g){if(a.height()==1&&b.col>=a.topLeft.col&&b.col<=a.bottomRight.col){return this.getRefData(new f(a.topLeft.row,b.col).setSheet(a.sheet))}if(a.width()==1&&b.row>=a.topLeft.row&&b.row<=a.bottomRight.row){return this.getRefData(new f(b.row,a.topLeft.col).setSheet(a.sheet))}return new j("VALUE")}else{return this.asMatrix(a)}},asMatrix:function(a){if(a instanceof l){return a}var b=this;if(a instanceof g){var c=a.topLeft;var d=c.row,f=c.col;var h=b.getRefCells(a);var i=new l(b);if(isFinite(a.width())){i.width=a.width()}if(isFinite(a.height())){i.height=a.height()}if(!isFinite(d)){d=0}if(!isFinite(f)){f=0}h.forEach(function(a){i.set(a.row-d,a.col-f,a.value)});return i}if(Array.isArray(a)&&a.length>0){var i=new l(b),j=0;a.forEach(function(a){var c=0;var d=1;a.forEach(function(a){var f=a instanceof g;if(a instanceof e&&!f){a=b.getRefData(a)}if(f||Array.isArray(a)){a=b.asMatrix(a)}if(a instanceof l){a.each(function(a,b,d){i.set(j+b,c+d,a)});d=Math.max(d,a.height);c+=a.width}else{i.set(j,c++,a)}});j+=d});return i}},getRefCells:function(a,b,c){var d=this.formula;return this.ss.getRefCells(a,b,d.sheet,d.row,d.col,c)},getRefData:function(a,b){var c=this.formula;return this.ss.getData(a,c.sheet,c.row,c.col,b)},workbook:function(){return this.ss.workbook}});var l=d.extend({init:function a(b){this.context=b;this.height=0;this.width=0;this.data=[]},clone:function(){var a=new l(this.context);a.height=this.height;a.width=this.width;a.data=this.data.map(function(a){return a.slice()});return a},get:function(a,b){var c=this.data[a];var d=c?c[b]:null;return d instanceof e?this.context.getRefData(d):d},getNA:function(a,b){if(a<this.height&&b<this.width){return this.get(a,b)}return new j("N/A")},set:function(a,b,c){var d=this.data[a];if(d==null){d=this.data[a]=[]}d[b]=c;if(a>=this.height){this.height=a+1}if(b>=this.width){this.width=b+1}},each:function(a,b){for(var c=0;c<this.height;++c){for(var d=0;d<this.width;++d){var e=this.get(c,d);if(b||e!=null){e=a.call(this.context,e,c,d);if(e!==undefined){return e}}}}},map:function(a,b){var c=new l(this.context);this.each(function(b,d,e){c.set(d,e,a.call(this,b,d,e))},b);return c},eachRow:function(a){for(var b=0;b<this.height;++b){var c=a.call(this.context,b);if(c!==undefined){return c}}},eachCol:function(a){for(var b=0;b<this.width;++b){var c=a.call(this.context,b);if(c!==undefined){return c}}},mapRow:function(a){var b=new l(this.context);this.eachRow(function(c){b.set(c,0,a.call(this.context,c))});return b},mapCol:function(a){var b=new l(this.context);this.eachCol(function(c){b.set(0,c,a.call(this.context,c))});return b},toString:function(){return JSON.stringify(this.data)},transpose:function(){var a=new l(this.context);this.each(function(b,c,d){a.set(d,c,b)});return a},unit:function(a){this.width=this.height=a;var b=this.data=new Array(a);for(var c=a;--c>=0;){var d=b[c]=new Array(a);for(var e=a;--e>=0;){d[e]=c==e?1:0}}return this},multiply:function(a){var b=this,c=new l(b.context);for(var d=0;d<b.height;++d){for(var e=0;e<a.width;++e){var f=0;for(var g=0;g<b.width;++g){var h=b.get(d,g);var i=a.get(g,e);if(typeof h!="number"||typeof i!="number"){throw new j("VALUE")}f+=h*i}c.set(d,e,f)}}return c},adds:function(a,b){var c=this,d=new l(c.context);var e=b?-1:1;for(var f=0;f<c.height;++f){for(var g=0;g<c.width;++g){var h=c.get(f,g),i=a.get(f,g);d.set(f,g,h+e*i)}}return d},determinant:function(){var a=this.clone().data;var b=a.length;var c=1,d,e,f,g;for(d=0;d<b;d++){for(e=d;e<b&&!a[e][d];e++){}if(e==b){return 0}if(e!=d){c=-c;for(g=d;g<b;g++){var h=a[d][g];a[d][g]=a[e][g];a[e][g]=h}}for(f=d+1;f<b;f++){for(g=d+1;g<b;g++){a[f][g]-=a[d][g]*a[f][d]/a[d][d]}}c*=a[d][d]}return c},inverse:function(){var a=this.width;var b=this.augment(new l(this.context).unit(a));var c=b.data;var d;for(var e=0;e<a;++e){var f=m(e,a,function(a){return c[a][e]});if(!c[f][e]){return null}if(e!=f){d=c[e];c[e]=c[f];c[f]=d}for(var g=e+1;g<a;++g){for(var h=e+1;h<2*a;++h){c[g][h]-=c[e][h]*c[g][e]/c[e][e]}c[g][e]=0}}for(var g=0;g<a;++g){for(var i=c[g][g],h=0;h<2*a;++h){c[g][h]/=i}}for(var e=a;--e>=0;){for(var g=e;--g>=0;){if(c[g][e]){for(var h=2*a;--h>=a;){c[g][h]-=c[e][h]*c[g][e]}}}}return b.slice(0,a,a,a)},augment:function(a){var b=this.clone(),c=b.width;a.each(function(a,d,e){b.set(d,e+c,a)});return b},slice:function(a,b,c,d){var e=new l(this.context);for(var f=0;f<c;++f){for(var g=0;g<d;++g){e.set(f,g,this.get(a+f,b+g))}}return e}});function m(a,b,c){var d=c(a),e=a;while(++a<b){var f=c(a);if(f>d){d=f;e=a}}return e}var n=d.extend({init:function a(b,c,d,e,f,g,h){this.refs=b;this.handler=c;this.print=d;this.absrefs=null;this.sheet=e;this.row=f;this.col=g;this.onReady=[];this.pending=false;this.arrayFormulaRange=h},setArrayFormulaRange:function(a){this.arrayFormulaRange=a.clone().setSheet(this.sheet)},clone:function(a,b,c,d){var e=a.toLowerCase();var f=this.refs;var g=this.arrayFormulaRange;if(d||e!=this.sheet.toLowerCase()){f=f.map(function(b){if(!b.hasSheet()&&(!b.sheet||b.sheet.toLowerCase()!=e)){b=b.clone().setSheet(a)}return b});if(g){g=g.clone().setSheet(a)}}return new n(f,this.handler,this.print,a,b,c,g)},deepClone:function(){var a=this.refs.map(function(a){return a.clone()});return new n(a,this.handler,this.print,this.sheet,this.row,this.col,this.arrayFormulaRange)},resolve:function(a){this.pending=false;this.onReady.forEach(function(b){b(a)})},exec:function(a,b,c){if("value"in this){if(b){b(this.value)}}else{if(b){this.onReady.push(b)}var d=new k(this.resolve,this,a,c);var e=0;while(c){if(c.formula===this){this.pending=false;d.resolve(new j("CIRCULAR"));return}c=c.parent;++e}if(this.pending){return}this.pending=true;var f=function(){if(!this.absrefs){this.absrefs=this.refs.map(function(a){return a.absolute(this.row,this.col)},this)}this.handler.call(d)}.bind(this);if(e<20){f()}else{setTimeout(f,0)}}},reset:function(){this.onReady=[];this.pending=false;delete this.value},renameSheet:function(a,b){a=a.toLowerCase();this.absrefs=null;if(this.sheet.toLowerCase()==a){this.sheet=b}this.refs.forEach(function(c){c.renameSheet(a,b)})},adjust:function(a,b,c,d){a=a.toLowerCase();var e=this.row;var f=this.col;var g=this.sheet.toLowerCase();var h=false;if(g==a){if(b=="row"&&e>=c){this.row+=d;h=true}if(b=="col"&&f>=c){this.col+=d;h=true}}var j=this.row;var k=this.col;this.absrefs=null;var l=this.refs;var m=h;this.refs=l.map(function(a){var b=q(a);if(!m&&!o(b,a)){m=true}return b});var p=this.arrayFormulaRange;if(p){this.arrayFormulaRange=q(p);if(!m&&!o(p,this.arrayFormulaRange)){m=true}}if(m){return new n(l,this.handler,this.print,this.sheet,e,f,p)}function q(g){if(g===i){return g}if(g.sheet.toLowerCase()!=a){if(h){if(b=="row"&&e>=c){g=g.relative(d,0)}if(b=="col"&&f>=c){g=g.relative(0,d)}}return g}return g.adjust(e,f,j,k,b=="row",c,d)}},toString:function(){return this.print(this.row,this.col)}});function o(a,b){if(a.constructor!==b.constructor){return false}if(a instanceof f){return a.sheet==b.sheet&&a.row==b.row&&a.col==b.col&&a.rel==b.rel}if(a instanceof g){return o(a.topLeft,b.topLeft)&&o(a.bottomRight,b.bottomRight)&&a.endSheet==b.endSheet}if(a instanceof h){var c=a.refs.length;if(c!=b.refs.length){return false}while(--c>=0){if(!o(a.refs[c],b.refs[c])){return false}}}return true}var p=Object.create(null);p["if"]=function(a,b){var c=this;var d=b[0],e=b[1],f=b[2];this.resolveCells([d],function(){var b=c.asMatrix(d);if(b){e(function(d){f(function(e){var f=c.asMatrix(d);var g=c.asMatrix(e);a(b.map(function(a,b,h){if(a instanceof j){return a}else if(c.bool(a)){return f?f.get(b,h):d}else{return g?g.get(b,h):e}}))})})}else{d=this.force(d);if(d instanceof j){a(d)}else if(c.bool(d)){e(a)}else{f(a)}}})};p["Ï"]=function(a){a((1+Math.sqrt(5))/2)};function q(a,b){var c="function arrayArgs(args) { var xargs = [], width = 0, height = 0, arrays = [], i = 0; ";var d="function resolve(args, callback) { var toResolve = [], i = 0; ";var e,f,g="'use strict'; function check(args) { var stack = [], tmp, xargs = [], i = 0, m, err = 'VALUE'; ",h=false;var i=false,k=false;g+=b.map(m).join("");g+="if (i < args.length) return new CalcError('N/A'); ";g+="return xargs; } ";c+="return { args: xargs, width: width, height: height, arrays: arrays }; } ";var l;if(h){d+="this.resolveCells(toResolve, callback); } ";l=new Function("CalcError","round",g+d+c+" return { resolve: resolve, check: check, arrayArgs: arrayArgs };")}else{l=new Function("CalcError","round",g+" return { check: check };")}l=l(j,r);if(!k){delete l.arrayArgs}return l;function m(a){e=a[0];var b="{ ";if(Array.isArray(e)){c+="while (i < args.length) { ";d+="while (i < args.length) { ";b+="xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ";b+="while (i < args.length) { ";b+=a.map(m).join("");b+="} ";b+="xargs = stack.pop(); ";d+="} ";c+="} "}else if(e=="+"){c+="while (i < args.length) { ";d+="while (i < args.length) { ";b+="if (i >= args.length) return new CalcError('N/A'); ";b+="xargs.push(tmp = []); stack.push(xargs); xargs = tmp; ";b+="do { ";b+=a.slice(1).map(m).join("");b+="} while (i < args.length); ";b+="xargs = stack.pop(); ";d+="} ";c+="} "}else if(e=="?"){b+="if (!("+q(a[1])+")) return new CalcError(err); "}else{var f=a[1];if(Array.isArray(f)&&/^#?collect/.test(f[0])){var g=/!$/.test(f[0]);var h=f[2];n();b+="try {"+"var $"+e+" = this.cellValues(args.slice(i";if(h){b+=", i + "+h}b+=")"+(g?",true":"")+").reduce(function(ret, $"+e+"){ ";if(f[0].charAt(0)!="#"){b+="if ($"+e+" instanceof CalcError) throw $"+e+"; "}b+="if ("+q(f[1])+") ret.push($"+e+"); ";b+="return ret; ";b+="}.bind(this), []); ";if(h){b+="i += "+h+"; "}else{b+="i = args.length; "}b+="xargs.push($"+e+")"+"} catch(ex) { if (ex instanceof CalcError) return ex; throw ex; } ";d+="toResolve.push(args.slice(i)); "}else if(f=="rest"){b+="xargs.push(args.slice(i)); i = args.length; "}else{if(i=/^\*/.test(e)){k=true;e=e.substr(1)}b+="var $"+e+" = args[i++]; ";
var j=false;if(/!$/.test(f)){f=f.substr(0,f.length-1);j=true}else{b+="if ($"+e+" instanceof CalcError) return $"+e+"; "}b+=p(f,j)+"xargs.push($"+e+"); "}}b+="} ";return b}function n(){if(f){return"$"+e+""}h=true;f=true;d+="toResolve.push(args[i++]); ";return"($"+e+" = this.force($"+e+"))"}function o(a){return"("+(a?"(typeof "+n()+" == 'number' ? ($"+e+" = round($"+e+"), true) : false) || ":"(typeof "+n()+" == 'number') || ")+"(typeof $"+e+" == 'boolean' ? ($"+e+" = +$"+e+", true) : false) || "+"(typeof $"+e+" == 'string' && !/^(?:=|true|false)/i.test($"+e+") ? ("+"tmp = kendo.spreadsheet.calc.parse(0, 0, 0, $"+e+"), "+"/^date|number|percent$/.test(tmp.type) ? ($"+e+" = +tmp.value, true) : false"+") : false)"+")"}function p(a,b){f=false;var g="if (!("+q(a)+")) { ";if(f&&!b){g+=" if ($"+e+" instanceof CalcError) return $"+e+"; "}g+="return new CalcError(err); } ";if(!f){d+="i++; "}if(i){c+="var $"+e+" = this._arrayArg(args[i]); "+"if ($"+e+") { "+"xargs.push($"+e+"); "+"width = Math.max(width, $"+e+".width); "+"height = Math.max(height, $"+e+".height); "+"arrays.push(true) } else { "+"xargs.push(args[i]); "+"arrays.push(false); } i++; "}else{c+="xargs.push(args[i++]); arrays.push(false); "}return g}function q(a){if(Array.isArray(a)){if(a[0]=="or"){return"("+a.slice(1).map(q).join(") || (")+")"}if(a[0]=="and"){return"("+a.slice(1).map(q).join(") && (")+")"}if(a[0]=="values"){return"("+a.slice(1).map(function(a){return n()+" === "+a}).join(") || (")+")"}if(a[0]=="null"){return"("+q("null")+" ? (($"+e+" = "+a[1]+"), true) : false)"}if(a[0]=="between"||a[0]=="[between]"){return"("+n()+" >= "+a[1]+" && "+"$"+e+" <= "+a[2]+" ? true : ((err = 'NUM'), false))"}if(a[0]=="(between)"){return"("+n()+" > "+a[1]+" && "+"$"+e+" < "+a[2]+" ? true : ((err = 'NUM'), false))"}if(a[0]=="(between]"){return"("+n()+" > "+a[1]+" && "+"$"+e+" <= "+a[2]+" ? true : ((err = 'NUM'), false))"}if(a[0]=="[between)"){return"("+n()+" >= "+a[1]+" && "+"$"+e+" < "+a[2]+" ? true : ((err = 'NUM'), false))"}if(a[0]=="assert"){var b=a[2]||"N/A";return"(("+a[1]+") ? true : (err = "+JSON.stringify(b)+", false))"}if(a[0]=="not"){return"!("+q(a[1])+")"}throw new Error("Unknown array type condition: "+a[0])}if(a=="number"||a=="datetime"){return o(true)}if(a=="number!"){return"(typeof "+n()+" == 'number' ? ($"+e+" = round($"+e+"), true) : false)"}if(a=="integer"||a=="date"){return"("+o()+" && (($"+e+" |= 0), true))"}if(a=="divisor"){return"("+o(true)+" && ($"+e+" == 0 ? ((err = 'DIV/0'), false) : true))"}if(a=="number+"){return"("+o(true)+" && ($"+e+" >= 0 ? true : ((err = 'NUM'), false)))"}if(a=="integer+"){return"("+o()+" && (($"+e+" |= 0) >= 0 ? true : ((err = 'NUM'), false)))"}if(a=="number++"){return"("+o(true)+" && ($"+e+" > 0 ? true : ((err = 'NUM'), false)))"}if(a=="integer++"){return"("+o()+" && (($"+e+" |= 0) > 0 ? true : ((err = 'NUM'), false)))"}if(a=="string"){return"((typeof "+n()+" == 'string' || typeof $"+e+" == 'boolean' || typeof $"+e+" == 'number') ? ($"+e+" += '', true) : ($"+e+" === undefined ? (($"+e+" = ''), true) : false))"}if(a=="boolean"){return"(typeof "+n()+" == 'boolean')"}if(a=="logical"){return"(typeof "+n()+" == 'boolean' || (typeof $"+e+" == 'number' ? ($"+e+" = !!$"+e+", true) : false))"}if(a=="matrix"){n();return"((m = this.asMatrix($"+e+")) ? ($"+e+" = m) : false)"}if(a=="#matrix"){return"((m = this.asMatrix($"+e+")) ? ($"+e+" = m) : false)"}if(a=="ref"){return"($"+e+" instanceof kendo.spreadsheet.Ref)"}if(a=="area"){return"($"+e+" instanceof kendo.spreadsheet.CellRef || $"+e+" instanceof kendo.spreadsheet.RangeRef)"}if(a=="cell"){return"($"+e+" instanceof kendo.spreadsheet.CellRef)"}if(a=="null"){return"("+n()+" == null)"}if(a=="anyvalue"){return"("+n()+" != null && i <= args.length)"}if(a=="forced"){return"("+n()+", i <= args.length)"}if(a=="anything"){return"(i <= args.length)"}if(a=="blank"){return"("+n()+" == null || $"+e+" === '')"}throw new Error("Can't check for type: "+a)}}function r(a){return+a.toPrecision(14)}function s(a){if(typeof a=="number"){return r(a)}else{return a}}function t(a,b,c){if(c instanceof j){return c}try{return b.apply(a,c)}catch(a){if(a instanceof j){return a}else{throw a}}}function u(a,b,c,d){return function(e,f){function g(){if(d){var b=d.call(this,f);f=b.args;if(b.width>0&&b.height>0){var g=new l(this);for(var h=0;h<b.height;++h){for(var i=0;i<b.width;++i){var j=[];for(var k=0;k<f.length;++k){if(b.arrays[k]){j[k]=f[k].getNA(h,i)}else{j[k]=f[k]}}j=c.call(this,j);g.set(h,i,t(this,a,j))}}return e(g)}}var j=c.call(this,f);e(t(this,a,j))}if(b){b.call(this,f,g)}else{g.call(this)}}}function v(a,b,c,d){return function(e,f){function g(){if(d){var b=d.call(this,f);f=b.args;if(b.width>0&&b.height>0){var g=new l(this);var h=b.width*b.height;var i=function(a,b){return function(c){g.set(a,b,c);--h;if(h===0){return e(g)}}};for(var k=0;k<b.height&&h>0;++k){for(var m=0;m<b.width&&h>0;++m){var n=[];for(var o=0;o<f.length;++o){if(b.arrays[o]){n[o]=f[o].getNA(k,m)}else{n[o]=f[o]}}n=c.call(this,n);if(n instanceof j){g.set(k,m,n);--h;if(h===0){return e(g)}}else{n.unshift(i(k,m));a.apply(this,n)}}}return}}var b=c.call(this,f);if(b instanceof j){e(b)}else{b.unshift(e);a.apply(this,b)}}if(b){b.call(this,f,g)}else{g.call(this)}}}function w(a,b){a=a.toLowerCase();p[a]=b;return{args:function(c,d){var e=q(a,c);if(d){if(e.arrayArgs){console.log(e.arrayArgs.toString())}if(e.resolve){console.log(e.resolve.toString())}if(e.check){console.log(e.check.toString())}}var f=p[a]=u(b,e.resolve,e.check,e.arrayArgs);f.kendoSpreadsheetArgs=c;return this},argsAsync:function(c,d){var e=q(a,c);if(d){if(e.arrayArgs){console.log(e.arrayArgs.toString())}if(e.resolve){console.log(e.resolve.toString())}if(e.check){console.log(e.check.toString())}}var f=p[a]=v(b,e.resolve,e.check,e.arrayArgs);f.kendoSpreadsheetArgs=c;return this}}}function x(a,b,c){b++;return(1461*(a+4800+((b-14)/12|0))/4|0)+(367*(b-2-12*((b-14)/12|0))/12|0)-(3*((a+4900+((b-14)/12|0))/100|0)/4|0)+c-32075}function y(a){var b,c,d,e,f,g,h;b=a+68569;c=4*b/146097|0;b=b-((146097*c+3)/4|0);e=4e3*(b+1)/1461001|0;b=b-(1461*e/4|0)+31;d=80*b/2447|0;g=b-(2447*d/80|0);b=d/11|0;f=d+2-12*b;h=100*(c-49)+e+b;f--;return{year:h,month:f,date:g,day:(a+1)%7,ord:B[C(h)][f]+g}}var z=x(1900,0,-1);var A=[31,28,31,30,31,30,31,31,30,31,30,31];var B=[[0,31,59,90,120,151,181,212,243,273,304,334],[0,31,60,91,121,152,182,213,244,274,305,335]];function C(a){if(a%4){return 0}if(a%100){return 1}if(a%400){return 0}return 1}function D(a){return C(a)?366:365}function E(a,b){return C(a)&&b==1?29:A[b]}function F(a){return y((a|0)+z)}function G(a,b,c){return x(a,b,c)-z}var H=60*1e3;var I=60*H;var J=24*I;function K(a){var b=a-(a|0);if(b<0){b++}var c=Math.round(J*b);var d=Math.floor(c/I);c-=d*I;var e=Math.floor(c/H);c-=e*H;var f=Math.floor(c/1e3);c-=f*1e3;return{hours:d,minutes:e,seconds:f,milliseconds:c}}function L(a){var b=F(a),c=K(a);return new Date(b.year,b.month,b.date,c.hours,c.minutes,c.seconds,c.milliseconds)}function M(a,b,c,d){return(a+(b+(c+d/1e3)/60)/60)/24}function N(a){var b=M(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());a=G(a.getFullYear(),a.getMonth(),a.getDate());if(a<0){return a-1+b}else{return a+b}}function O(a,b){if(b){return kendo.parseExactDate(a,b)||kendo.parseExactDate(a,b.replace(/h/g,"H"))||kendo.parseExactDate(a)}return kendo.parseExactDate(a)||kendo.parseExactDate(a,["MMMM dd yyyy","MMMM dd yy","MMM dd yyyy","MMM dd yy","dd MMMM yyyy","dd MMMM yy","dd MMM yyyy","dd MMM yy","MMMM dd, yyyy","MMMM dd, yy","MMM dd, yyyy","MMM dd, yy","MMMM dd","MMM dd","MMMM yyyy","MMM yyyy","dd MMMM","dd MMM"])}c.CalcError=j;c.Formula=n;c.Matrix=l;c.packDate=G;c.unpackDate=F;c.packTime=M;c.unpackTime=K;c.serialToDate=L;c.dateToSerial=N;c.daysInMonth=E;c.isLeapYear=C;c.daysInYear=D;c.parseDate=O;c.limitPrecision=r;b.dateToNumber=N;b.numberToDate=L;b.defineFunction=w;b.CalcError=j;c.defineFunction=w;c.defineAlias=function(a,b){var c=p[b];if(!c){throw new Error("Function "+b+" is not yet defined")}if(!c.kendoSpreadsheetAliases){c.kendoSpreadsheetAliases=[b]}c.kendoSpreadsheetAliases.push(a);p[a]=c};c.FUNCS=p;var P=["or","number",["null",0]];var Q=[["*a",P],["*b",P]];var R=[["*a",["or","anyvalue",["null",0]]],["*b",["or","anyvalue",["null",0]]]];w("binary+",function(a,b){return a+b}).args(Q);w("binary-",function(a,b){return a-b}).args(Q);w("binary*",function(a,b){return a*b}).args(Q);w("binary/",function(a,b){return a/b}).args([["*a",P],["*b","divisor"]]);w("binary^",function(a,b){return Math.pow(a,b)}).args(Q);w("binary&",function(a,b){if(a==null){a=""}if(b==null){b=""}return""+a+b}).args([["*a",["or","number","string","boolean","null"]],["*b",["or","number","string","boolean","null"]]]);w("binary=",function(a,b){a=typeof a==="string"?a.toLowerCase():a;b=typeof b==="string"?b.toLowerCase():b;return a===b}).args(R);w("binary<>",function(a,b){return a!==b}).args(R);w("binary<",S(function(a,b){return a<b})).args(R);w("binary<=",S(function(a,b){return a<=b})).args(R);w("binary>",S(function(a,b){return a>b})).args(R);w("binary>=",S(function(a,b){return a>=b})).args(R);w("unary+",function(a){return a}).args([["*a",P]]);w("unary-",function(a){return-a}).args([["*a",P]]);w("unary%",function(a){return a/100}).args([["*a",P]]);w("binary:",function(a,b){return new g(a,b).setSheet(a.sheet||this.formula.sheet,a.hasSheet())}).args([["a","cell"],["b","cell"]]);w("binary,",function(a,b){return new h([a,b])}).args([["a","ref"],["b","ref"]]);w("binary ",function(a,b){return a.intersect(b)}).args([["a","ref"],["b","ref"]]);w("not",function(a){return!this.bool(a)}).args([["*a",["or","anyvalue",["null",0]]]]);w("isblank",function(a){if(a instanceof f){a=this.getRefData(a);return a==null}return false}).args([["*value","anything!"]]);w("iserror",function(a){return a instanceof j}).args([["*value","forced!"]]);w("iserr",function(a){return a instanceof j&&a.code!="N/A"}).args([["*value","forced!"]]);w("isna",function(a){return a instanceof j&&a.code=="N/A"}).args([["*value","forced!"]]);w("islogical",function(a){return typeof a=="boolean"}).args([["*value","forced!"]]);w("isnontext",function(a){return typeof a!="string"}).args([["*value","forced!"]]);w("istext",function(a){return typeof a=="string"}).args([["*value","forced!"]]);w("isnumber",function(a){return typeof a=="number"}).args([["*value","forced!"]]);w("isref",function(a){return a instanceof f||a instanceof g}).args([["*value","anything!"]]);p[",getname"]=function(a,b){this.fetchName(b[0],a)};function S(a){return function(b,c){if(typeof b=="string"&&typeof c!="string"){c=c==null?"":c+""}if(typeof b!="string"&&typeof c=="string"){b=b==null?"":b+""}if(typeof b=="number"&&c==null){c=0}if(typeof c=="number"&&b==null){b=0}if(typeof b=="string"&&typeof c=="string"){b=b.toLowerCase();c=c.toLowerCase()}if(typeof c==typeof b){return a(b,c)}else{return new j("VALUE")}}}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/validation",["spreadsheet/runtime"],a)})(function(){"use strict";var a=kendo.jQuery;if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var b=kendo.spreadsheet;var c={};b.validation=c;var d=b.calc;var e=kendo.Class;var f="_matrix({0})";var g='DATEVALUE("{0}")';d.runtime.defineFunction("_matrix",function(a){if(typeof a=="string"){a=this.asMatrix([a.split(/\s*,\s*/)])}return a}).args([["m",["or","matrix","string"]]]);function h(b,e,h,i){var j;var k;var l;var m;if(typeof i==="string"){i=JSON.parse(i)}if(i.from){if(i.dataType==="list"&&!i.fromIsListValue){i.from=kendo.format(f,i.from);i.fromIsListValue=true}if(i.dataType==="date"){l=d.runtime.parseDate(i.from);if(l){i.from=kendo.format(g,i.from);i.fromIsDateValue=true}}i.from=d.compile(d.parseFormula(b,e,h,i.from))}if(i.to){if(i.dataType==="date"){m=d.runtime.parseDate(i.to);if(m){i.to=kendo.format(g,i.to);i.toIsDateValue=true}}i.to=d.compile(d.parseFormula(b,e,h,i.to))}if(i.dataType=="custom"){k=c.validationComparers.custom}else if(i.dataType=="list"){k=c.validationComparers.list}else{k=c.validationComparers[i.comparerType]}if(!k){throw kendo.format("'{0}' comparer is not implemented.",i.comparerType)}j=function(a){var b=this.to&&this.to_value?this.to_value:undefined;if(a===null||a===""){if(this.allowNulls){this.value=true}else{this.value=false}}else if(this.dataType=="custom"){this.value=k(a,this.from_value,b)}else if(this.dataType=="list"){var c=this._getListData();this.value=k(a,c,b)}else{this.value=k(a,this.from_value,b)}return this.value};return new kendo.spreadsheet.validation.Validation(a.extend(i,{handler:j,sheet:b,row:e,col:h}))}var i=e.extend({init:function a(b){this.handler=b.handler;this.from=b.from;this.to=b.to;this.dataType=b.dataType;this.comparerType=b.comparerType;this.type=b.type?b.type:"warning";this.allowNulls=b.allowNulls?true:false;this.fromIsDateValue=b.fromIsDateValue?true:false;this.toIsDateValue=b.toIsDateValue?true:false;this.showButton=b.showButton;this.fromIsListValue=b.fromIsListValue?true:false;this.sheet=b.sheet;this.row=b.row;this.col=b.col;if(b.tooltipMessageTemplate){this.tooltipMessageTemplate=b.tooltipMessageTemplate}if(b.tooltipTitleTemplate){this.tooltipTitleTemplate=b.tooltipTitleTemplate}if(b.messageTemplate){this.messageTemplate=b.messageTemplate}if(b.titleTemplate){this.titleTemplate=b.titleTemplate}},_formatMessages:function(a){var b=this.from?this.from_value:"";var c=this.to?this.to_value:"";var d=this.from?this.from.toString():"";var e=this.to?this.to.toString():"";var f=this.dataType;var g=this.type;var h=this.comparerType;return kendo.format(a,b,c,d,e,f,g,h)},_setMessages:function(){this.title="";this.message="";if(this.tooltipTitleTemplate){this.tooltipTitle=this._formatMessages(this.tooltipTitleTemplate)}if(this.tooltipMessageTemplate){this.tooltipMessage=this._formatMessages(this.tooltipMessageTemplate)}if(this.titleTemplate){this.title=this._formatMessages(this.titleTemplate)}if(this.messageTemplate){this.message=this._formatMessages(this.messageTemplate)}},_getListData:function(){if(!this.from_value||!this.from_value.data){return[]}var a=this.from_value.data;var b;var c;var d=[];for(b=0;b<a.length;b++){var e=a[b];if(e){for(c=0;c<e.length;c++){d.push(e[c])}}}return d},clone:function(b,c,d){var e=this._getOptions();if(e.from){e.from=e.from.clone(b,c,d)}if(e.to){e.to=e.to.clone(b,c,d)}return new i(a.extend(e,{handler:this.handler},{sheet:b,row:c,col:d}))},deepClone:function(){var a=new i(this);a.from=a.from.deepClone();if(a.to){a.to=a.to.deepClone()}return a},exec:function(a,b,c,d){var e=this;function f(b){if(b instanceof kendo.spreadsheet.Ref){b=a.getData(b);if(Array.isArray(b)){b=b[0]}}return b}var g=function(a){e.from_value=f(a);e.value=e.handler.call(e,b,c);e._setMessages();if(d){d(e.value)}};if(e.to){e.to.exec(a,function(b){e.to_value=f(b);e.from.exec(a,g)})}else{e.from.exec(a,g)}},reset:function(){if(this.from){this.from.reset()}if(this.to){this.to.reset()}delete this.value},adjust:function(a,b,c,d){var e,f,g;var h=this.row;var j=this.col;if(this.from){e=this.from.adjust(a,b,c,d)}if(this.to){f=this.to.adjust(a,b,c,d)}if(this.sheet.toLowerCase()==a.toLowerCase()){switch(b){case"row":if(h>=c){g=true;this.row+=d}break;case"col":if(j>=c){g=true;this.col+=d}break}}if(g||e||f){var k=new i(this);k.from=e;k.to=f;k.row=h;k.col=j;return k}},toJSON:function(){var a=this._getOptions();if(a.from){a.from=a.from.toString();if(a.dataType==="list"){a.from=a.from.replace(/^_matrix\((.*)\)$/i,"$1");delete a.fromIsListValue}if(a.dataType==="date"){if(this.fromIsDateValue){a.from=a.from.replace(/^DATEVALUE\("(.*)"\)$/i,"$1");delete a.fromIsDateValue}}}if(a.to){a.to=a.to.toString();if(a.dataType==="date"){if(this.toIsDateValue){a.to=a.to.replace(/^DATEVALUE\("(.*)"\)$/i,"$1");delete a.toIsDateValue}}}return a},_getOptions:function(){return{from:this.from,to:this.to,dataType:this.dataType,type:this.type,comparerType:this.comparerType,row:this.row,col:this.col,sheet:this.sheet,allowNulls:this.allowNulls,fromIsListValue:this.fromIsListValue,fromIsDateValue:this.fromIsDateValue,toIsDateValue:this.toIsDateValue,tooltipMessageTemplate:this.tooltipMessageTemplate,tooltipTitleTemplate:this.tooltipTitleTemplate,messageTemplate:this.messageTemplate,titleTemplate:this.titleTemplate,showButton:this.showButton}}});c.compile=h;c.validationComparers={greaterThan:function(a,b){return a>b},lessThan:function(a,b){return a<b},between:function(a,b,c){return a>=b&&a<=c},equalTo:function(a,b){return a==b},notEqualTo:function(a,b){return a!=b},greaterThanOrEqualTo:function(a,b){return a>=b},lessThanOrEqualTo:function(a,b){return a<=b},notBetween:function(a,b,c){return a<b||a>c},custom:function(a,b){return b},list:function(a,b){return b.indexOf(a)>-1}};c.Validation=i},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/sheet",["kendo.core","kendo.color","spreadsheet/runtime","spreadsheet/validation","spreadsheet/references"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.spreadsheet.RangeRef;var c=a.spreadsheet.UnionRef;var d=a.spreadsheet.CellRef;var e=a.spreadsheet.Range;var f;var g=a.Class.extend({init:function(b){this._sheet=b;this.selection=a.spreadsheet.FIRSTREF.toRangeRef();this.originalSelection=a.spreadsheet.FIRSTREF.toRangeRef();this._activeCell=a.spreadsheet.FIRSTREF.toRangeRef();this.originalActiveCell=a.spreadsheet.FIRSTREF},currentSelectionRange:function(){return this.selection.rangeAt(this.selectionRangeIndex).toRangeRef()},currentOriginalNavigationRange:function(){return this.originalSelection.rangeAt(this.selectionRangeIndex).toRangeRef()},currentNavigationRange:function(){if(this.singleCellSelection()){return this._sheet._sheetRef}else{return this.selection.rangeAt(this.selectionRangeIndex).toRangeRef()}},nextNavigationRange:function(){if(!this.singleCellSelection()){this.selectionRangeIndex=this.selection.nextRangeIndex(this.selectionRangeIndex)}return this.currentNavigationRange()},previousNavigationRange:function(){if(!this.singleCellSelection()){this.selectionRangeIndex=this.selection.previousRangeIndex(this.selectionRangeIndex)}return this.currentNavigationRange()},activeCell:function(a){if(a){this.originalActiveCell=a.first();this._activeCell=this._sheet.unionWithMerged(a.toRangeRef());this._sheet.focus(a);this._sheet.triggerChange({activeCell:true,selection:true})}return this._activeCell},select:function(a,b,c){if(a){if(a.eq(this.originalSelection)){return}this._sheet.triggerSelect(new e(a,this._sheet));this.originalSelection=a;this.selection=b;if(c!==false){if(a.isCell()){this._sheet.forEachMergedCell(a,function(b){a=b.topLeft});this.activeCell(a)}else{this.activeCell(this.selection.lastRange().first())}this.selectionRangeIndex=this.selection.size()-1}else{this._sheet.triggerChange({selection:true})}}return this.selection},singleCellSelection:function(){return this._activeCell.eq(this.selection)}});var h=a.Observable.extend({init:function(){a.Observable.prototype.init.call(this);this._reinit.apply(this,arguments)},events:["commandRequest","afterInsertRow","afterDeleteRow","insertRow","insertColumn","deleteRow","deleteColumn","hideRow","hideColumn","unhideRow","unhideColumn","select"],_reinit:function(b,c,d,e,f,h,i){i=i||{};this._defaultCellStyle={background:i.background,color:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,italic:i.italic,bold:i.bold,underline:i.underline,wrap:i.wrap,verticalAlign:i.verticalAlign,textAlign:i.textAlign};this._rows=new a.spreadsheet.Axis(b,d);this._columns=new a.spreadsheet.Axis(c,e);this._mergedCells=[];this._frozenRows=0;this._frozenColumns=0;this._suspendChanges=false;this._filter=null;this._showGridLines=true;this._gridLinesColor=null;this._grid=new a.spreadsheet.Grid(this._rows,this._columns,b,c,f,h);this._sheetRef=this._grid.normalize(a.spreadsheet.SHEETREF);this._properties=new a.spreadsheet.PropertyBag(b,c,this._defaultCellStyle);this._sorter=new a.spreadsheet.Sorter(this._grid,this._properties.sortable());this._viewSelection=new g(this);this._editSelection=new g(this);this._formulaSelections=[]},_selectionState:function(){return this._inEdit?this._editSelection:this._viewSelection},navigator:function(){if(!this._navigator){this._navigator=new a.spreadsheet.SheetNavigator(this)}return this._navigator},axisManager:function(){if(!this._axisManager){this._axisManager=new a.spreadsheet.AxisManager(this)}return this._axisManager},_name:function(a){if(!a){return this._sheetName}this._sheetName=a;return this},name:function(){return this._name()},_property:function(a,b,c){if(b===undefined){return a()}else{a(b);return this.triggerChange(c)}},_field:function(a,b,c){if(b===undefined){return this[a]}else{this[a]=b;return this.triggerChange(c)}},suspendChanges:function(a){if(a===undefined){return this._suspendChanges}this._suspendChanges=a;return this},triggerChange:function(a){if(!this._suspendChanges){this.trigger("change",a)}return this},triggerSelect:function(a){this.trigger("select",{range:a})},setDataSource:function(b,c){if(this.dataSourceBinder){this.dataSourceBinder.destroy()}this.dataSourceBinder=new a.spreadsheet.SheetDataSourceBinder({dataSource:b,sheet:this,columns:c});this.dataSource=this.dataSourceBinder.dataSource},hideColumn:function(a){if(this.trigger("hideColumn",{index:a})){return}return this._property(this._columns.hide.bind(this._columns),a,{layout:true})},unhideColumn:function(a){if(this.trigger("unhideColumn",{index:a})){return}return this._property(this._columns.unhide.bind(this._columns),a,{layout:true})},isHiddenColumn:function(a){return this._grid._columns.hidden(a)},_copyRange:function(a,b){var c=this._grid;var d=c.rowCount;var e=c.normalize(a.topLeft);var f=c.normalize(a.bottomRight);var g=e.col*d+e.row;var h=f.col*d+f.row;var i=b.col*d+b.row;this._properties.copy(g,h,i)},_saveModifiedFormulas:function(a,b){var c=f;f=a;var d=b();f=c;return d},_restoreModifiedFormulas:function(b){var c=this._workbook;b.forEach(function(b){var d=c.sheetByName(b.sheet),e;if(b instanceof a.spreadsheet.calc.runtime.Formula){e=d._grid.cellRefIndex(b);d._properties.set("formula",e,e,b)}if(b instanceof a.spreadsheet.validation.Validation){e=d._grid.cellRefIndex(b);d._properties.set("validation",e,e,b)}})},_adjustReferences:function(c,d,e,g){this._mergedCells=g.reduce(function(a,f){f=f.adjust(null,null,null,null,c=="row",d,e);if(f instanceof b){a.push(f)}return a},[]);if(this._workbook){var h=this._name();this._workbook._sheets.forEach(function(a){a._forFormulas(function(a){var b=a.adjust(h,c,d,e);if(b&&f){f.push(b)}});a._forValidations(function(a){var b=a.adjust(h,c,d,e);if(b&&f){f.push(b)}})});this._workbook.adjustNames(h,c=="row",d,e)}var i=this.select();i=i.adjust(null,null,null,null,c=="row",d,e);if(i!==a.spreadsheet.NULLREF){this.select(i)}var j=c=="col"?this._columns:this._rows;j.adjust(d,e)},_forFormulas:function(a){var b=this._properties;var c=b.get("formula").values();var d=c.length;c.forEach(function(b,c){a.call(this,b.value,c,d)},this)},_forValidations:function(a){var b=this._properties;b.get("validation").values().forEach(function(b){a.call(this,b.value)},this)},preventInsertRow:function(a,b){if(this.selectedHeaders().allRows){return{reason:"error",type:"insertRowWhenColumnIsSelected"}}b=b||1;var c=this._grid;var d=this.range(c.rowCount-b,0,b,c.columnCount);if(d.hasValue()){return{reason:"error",type:"shiftingNonblankCells"}}return false},preventInsertColumn:function(a,b){if(this.selectedHeaders().allCols){return{reason:"error",type:"insertColumnWhenRowIsSelected"}}b=b||1;var c=this._grid;var d=this.range(0,c.columnCount-b,c.rowCount,b);if(d.hasValue()){return{reason:"error",type:"shiftingNonblankCells"}}return false},insertRow:function(a){var c=this.preventInsertRow(a);if(c){throw new Error("Shifting nonblank cells off the worksheet is not supported!")}if(this.trigger("insertRow",{index:a})){return}this.batch(function(){var c=this._grid;var f=c.columnCount;var g=c.rowCount;var h=this.frozenRows();if(a<h){this.frozenRows(h+1)}var i=this._mergedCells.slice();for(var j=0;j<f;j++){var k=new b(new d(a,j),new d(a,j));var l=c.normalize(k.topLeft);var m=c.normalize(k.bottomRight);var n=new b(new d(l.row,l.col),new d(g-2,m.col));this._copyRange(n,new d(l.row+1,l.col));new e(k,this).clear({clearAll:true,keepBorders:true})}this._adjustReferences("row",a,1,i)},{recalc:true,layout:true,insertRow:{index:a},ref:new b(new d(a,0),new d(Infinity,Infinity))});this.trigger("afterInsertRow",{index:a});return this},isEnabledRow:function(a){var c=new b(new d(a,0),new d(a,this._grid.columnCount));return new e(c,this).enable()},deleteRow:function(a){if(!this.isEnabledRow(a)){return this}if(this.trigger("deleteRow",{index:a})){return}this.batch(function(){var c=this._grid;var f=c.columnCount;var g=this.frozenRows();if(a<g){this.frozenRows(g-1)}var h=this._mergedCells.slice();for(var i=0;i<f;i++){var j=new b(new d(a,i),new d(a,i));new e(j,this).clear({clearAll:true,keepBorders:true});var k=c.normalize(j.topLeft);var l=c.normalize(j.bottomRight);var m=new b(new d(k.row+1,k.col),new d(Infinity,l.col));this._copyRange(m,k);var n=c.normalize(m.bottomRight);new e(new b(n,n),this).clear()}this._adjustReferences("row",a,-1,h)},{recalc:true,layout:true,deleteRow:{index:a},ref:new b(new d(a,0),new d(Infinity,Infinity))});this.trigger("afterDeleteRow",{index:a});return this},insertColumn:function(a){if(this.trigger("insertColumn",{index:a})){return}this.batch(function(){var c=this._grid;var f=c.columnCount;var g=this.frozenColumns();if(a<g){this.frozenColumns(g+1)}var h=this._mergedCells.slice();for(var i=f;i>=a;i--){var j=new b(new d(0,i),new d(Infinity,i));new e(j,this).clear({clearAll:true,keepBorders:true});if(i==a){break}var k=c.normalize(j.topLeft);var l=c.normalize(j.bottomRight);var m=new b(new d(k.row,k.col-1),new d(l.row,l.col-1));this._copyRange(m,k)}this._adjustReferences("col",a,1,h)},{recalc:true,layout:true,insertColumn:{index:a},ref:new b(new d(0,a),new d(Infinity,Infinity))});return this},isEnabledColumn:function(a){var c=new b(new d(0,a),new d(Infinity,a));return new e(c,this).enable()},deleteColumn:function(a){if(!this.isEnabledColumn(a)){return this}if(this.trigger("deleteColumn",{index:a})){return}this.batch(function(){var c=this._grid;var f=c.columnCount;var g=this.frozenColumns();if(a<g){this.frozenColumns(g-1)}var h=this._mergedCells.slice();for(var i=a;i<f;i++){var j=new b(new d(0,i),new d(Infinity,i));new e(j,this).clear({clearAll:true,keepBorders:true});if(i==f-1){break}var k=c.normalize(j.topLeft);var l=c.normalize(j.bottomRight);var m=new b(new d(k.row,k.col+1),new d(l.row,l.col+1));this._copyRange(m,k)}this._adjustReferences("col",a,-1,h)},{recalc:true,layout:true,deleteColumn:{index:a},ref:new b(new d(0,a),new d(Infinity,Infinity))});return this},hideRow:function(a){if(this.trigger("hideRow",{index:a})){return}return this._property(this._rows.hide.bind(this._rows),a,{layout:true})},unhideRow:function(a){if(this.trigger("unhideRow",{index:a})){return}return this._property(this._rows.unhide.bind(this._rows),a,{layout:true})},isHiddenRow:function(a){return this._grid._rows.hidden(a)},columnWidth:function(a,b){return this._property(this._columns.value.bind(this._columns,a,a),b,{layout:true})},rowHeight:function(a,b){return this._property(this._rows.value.bind(this._rows,a,a),b,{layout:true})},frozenRows:function(a){return this._field("_frozenRows",a,{layout:true})},frozenColumns:function(a){return this._field("_frozenColumns",a,{layout:true})},showGridLines:function(a){return this._field("_showGridLines",a,{layout:true})},gridLinesColor:function(a){return this._field("_gridLinesColor",a,{layout:true})},_ref:function(c,e,f,g){var h=null;if(c instanceof a.spreadsheet.Ref){return c}if(c instanceof a.spreadsheet.Range){return c._ref.toRangeRef()}if(typeof c==="string"){h=a.spreadsheet.calc.parseReference(c)}else{if(!f){f=1}if(!g){g=1}h=new b(new d(c,e),new d(c+f-1,e+g-1))}return h},range:function(a,b,c,d){return new e(this._ref(a,b,c,d),this)},_getMergedCells:function(a){var b=this._grid;var c={};var d={};var e=false;this.forEachMergedCell(a,function(f){var g=f.topLeft;b.forEach(f,function(b){if(g.eq(b)){c[b.print()]=f;e=true}else if(a.contains(b)){d[b.print()]=g;e=true}})});return{primary:c,secondary:d,hasMerged:e}},forEachMergedCell:function(a,b){var c=false;if(typeof b==="undefined"){b=a;c=true}this._mergedCells.forEach(function(d){if(c||d.intersects(a)){b(d)}})},forEachFilterHeader:function(a,b){var c=false;if(typeof b==="undefined"){b=a;c=true}if(this._filter){var d=[];this._filter.ref.forEachColumn(function(b){if(c||b.intersects(a)){d.push(b.topLeft)}});this._mergedCells.forEach(function(a){d=d.map(function(b){if(a.intersects(b)){return a}return b})});d.reduce(function a(b,c){if(b.indexOf(c)<0){b.push(c)}return b},[]).forEach(b)}},forEach:function(a,d){function e(a){if(!(a instanceof b)){a=a.toRangeRef()}var c=f._grid.normalize(a.topLeft);var e=f._grid.normalize(a.bottomRight);function g(a){d(i++,h,a)}for(var h=c.col;h<=e.col;h++){var i=c.row;var j=f._grid.index(i,h);var k=f._grid.index(e.row,h);f._properties.forEach(j,k,g)}}var f=this;if(!(a instanceof b)){a=f._ref(a)}if(a instanceof c){a.forEach(e)}else{e(a)}},startResizing:function(a){this._initialPosition=a;this._resizeInProgress=true},startAutoFill:function(){this._autoFillInProgress=true;var a=this.select();this._autoFillOrigin=a;this._autoFillDest=a;this.triggerChange({selection:true})},updateAutoFill:function(a,b,c,d){this._autoFillDest=a;this._autoFillPunch=b;this._autoFillHint=c;this._autoFillDirection=d;this.triggerChange({selection:true})},autoFillRef:function(){return this._autoFillDest},autoFillPunch:function(){return this._autoFillPunch},autoFillInProgress:function(){return this._autoFillInProgress},resizingInProgress:function(){return this._resizeInProgress},completeResizing:function(){if(this._resizeInProgress){this._resizeInProgress=false;var a=this.resizeHintPosition();if(this._initialPosition&&a){var b=this.resizeHandlePosition();if(b.col!==-Infinity){this.trigger("commandRequest",{command:"ColumnWidthCommand",options:{target:b.col,value:this.columnWidth(b.col)-(this._initialPosition.x-a.x)}})}else{this.trigger("commandRequest",{command:"RowHeightCommand",options:{target:b.row,value:this.rowHeight(b.row)-(this._initialPosition.y-a.y)}})}}else{this.trigger("change",{resize:true})}}},resizeHandlePosition:function(){return this._resizeHandlePosition},resizeHintPosition:function(a){if(a!==undefined){this._resizeHintPosition=a;this.trigger("change",{resize:true})}return this._resizeHintPosition},removeResizeHandle:function(){if(this._resizeHandlePosition){this._resizeHintPosition=undefined;this._resizeHandlePosition=undefined;this._initialPosition=undefined;this.trigger("change",{resize:true})}},positionResizeHandle:function(a){this._resizeHandlePosition=a;this.trigger("change",{resize:true})},startSelection:function(){this._selectionInProgress=true},completeSelection:function(){if(this._selectionInProgress){this._selectionInProgress=false;this._resizeHintPosition=undefined;this.trigger("change",{selection:true})}if(this._autoFillInProgress){this._autoFillInProgress=false;var a=this._autoFillDest;var b=this._autoFillOrigin;if(this._autoFillPunch){this.trigger("commandRequest",{command:"ClearContentCommand",options:{operatingRange:this.range(this._autoFillPunch)}})}else{if(!a.eq(b)){this.trigger("commandRequest",{command:"AutoFillCommand",options:{operatingRange:this.range(a),origin:this.range(b)}})}else{this.triggerChange({selection:true})}}this._autoFillDest=null;this._autoFillPunch=null;this._autoFillOrigin=null;this.select(a)}},selectionInProgress:function(){return this._selectionInProgress},select:function(a,b){var c=this._selectionState();var d;if(a){a=this._ref(a);a=this._grid.normalize(a);d=this._grid.isAxis(a)?a:this.unionWithMerged(a)}return c.select(a,d,b)},originalSelect:function(){return this._selectionState().originalSelection},currentSelectionRange:function(){return this._selectionState().currentSelectionRange()},currentOriginalSelectionRange:function(){
return this._selectionState().currentOriginalNavigationRange()},currentNavigationRange:function(){return this._selectionState().currentNavigationRange()},nextNavigationRange:function(){return this._selectionState().nextNavigationRange()},previousNavigationRange:function(){return this._selectionState().previousNavigationRange()},selectionRangeIndex:function(){return this._selectionState().selectionRangeIndex},activeCell:function(a){return this._selectionState().activeCell(a)},originalActiveCell:function(){return this._selectionState().originalActiveCell},singleCellSelection:function(){return this._selectionState().singleCellSelection()},unionWithMerged:function(a){var b=this._mergedCells;return a.map(function(a){return a.toRangeRef().union(b)})},trim:function(a){var b=[];var c=this._grid;this._properties.forEachProperty(function(d){b.push(c.trim(a,d.list))});return this.unionWithMerged(a.topLeft.toRangeRef().union(b))},focus:function(a){if(a){this._focus=a.toRangeRef()}else{var b=this._focus;this._focus=null;return b}},activeCellSelection:function(){return new e(this._grid.normalize(this.activeCell()),this)},selection:function(){return new e(this._grid.normalize(this._selectionState().selection),this)},selectedHeaders:function(){var a=this.select();var b={};var c={};var d=false;var e=false;var f=this._grid.rowCount-1;var g=this._grid.columnCount-1;a.forEach(function(a){var h;var i="partial";var j="partial";a=a.toRangeRef();var k=a.bottomRight;var l=a.topLeft;var m=l.col<=0&&k.col>=g;var n=l.row<=0&&k.row>=f;if(n){e=true;j="full"}if(m){d=true;i="full"}if(!n){for(h=l.row;h<=k.row;h++){if(b[h]!=="full"){b[h]=i}}}if(!m){for(h=l.col;h<=k.col;h++){if(c[h]!=="full"){c[h]=j}}}});return{rows:b,cols:c,allRows:e,allCols:d,all:e&&d}},isInEditMode:function(a){if(a===undefined){return this._inEdit}this._inEdit=a;if(a){this._editSelection.selection=this._viewSelection.selection.clone();this._editSelection.originalSelection=this._viewSelection.originalSelection.clone();this._editSelection._activeCell=this._viewSelection._activeCell.clone();this._editSelection.originalActiveCell=this._viewSelection.originalActiveCell.clone()}},_setFormulaSelections:function(a){this._formulaSelections=(a||[]).slice();this.triggerChange({selection:true})},_viewActiveCell:function(){return this._viewSelection._activeCell.toRangeRef()},toJSON:function(){var b={};var c=this._rows.toJSON("height",b);var d=this._columns.toJSON("width",{});var e=this._viewSelection;var f=[];var g=this._defaultCellStyle||{};function h(a){Object.keys(g).forEach(function(b){if(a[b]===g[b]){delete a[b]}})}this.forEach(a.spreadsheet.SHEETREF,function(d,e,g){h(g);if(Object.keys(g).length===0){return}if(g.link){f.push({ref:a.spreadsheet.Ref.display(null,d,e),target:g.link})}var i=b[d];if(i===undefined){i=c.length;c.push({index:d});b[d]=i}d=c[i];g.index=e;if(d.cells===undefined){d.cells=[]}if(g.formula){if(g.formula.arrayFormulaRange){g.formula={src:g.formula.toString(),ref:g.formula.arrayFormulaRange.toString()}}else{g.formula=g.formula.toString()}}if(g.validation){g.validation=g.validation.toJSON()}if(g.color){g.color=a.parseColor(g.color).toCss()}if(g.background){g.background=a.parseColor(g.background).toCss()}if(g.borderTop&&g.borderTop.color){g.borderTop.color=a.parseColor(g.borderTop.color).toCss()}if(g.borderBottom&&g.borderBottom.color){g.borderBottom.color=a.parseColor(g.borderBottom.color).toCss()}if(g.borderRight&&g.borderRight.color){g.borderRight.color=a.parseColor(g.borderRight.color).toCss()}if(g.borderLeft&&g.borderLeft.color){g.borderLeft.color=a.parseColor(g.borderLeft.color).toCss()}d.cells.push(g)});var i={name:this._name(),rows:c,columns:d,selection:e.selection.toString(),activeCell:e.activeCell().toString(),frozenRows:this.frozenRows(),frozenColumns:this.frozenColumns(),showGridLines:this.showGridLines(),gridLinesColor:this.gridLinesColor(),mergedCells:this._mergedCells.map(function(a){return a.toString()}),hyperlinks:f,defaultCellStyle:g};if(this._sort){i.sort={ref:this._sort.ref.toString(),columns:this._sort.columns.map(function(a){return{index:a.index,ascending:a.ascending}})}}if(this._filter){i.filter={ref:this._filter.ref.toString(),columns:this._filter.columns.map(function(a){var b=a.filter.toJSON();b.index=a.index;return b})}}return i},fromJSON:function(b){this.batch(function(){if(b.name!==undefined){this._name(b.name)}if(b.frozenColumns!==undefined){this.frozenColumns(b.frozenColumns)}if(b.frozenRows!==undefined){this.frozenRows(b.frozenRows)}if(b.columns!==undefined){this._columns.fromJSON("width",b.columns)}if(b.rows!==undefined){this._rows.fromJSON("height",b.rows);for(var c=0;c<b.rows.length;c++){var d=b.rows[c];var e=d.index;if(e===undefined){e=c}if(d.cells){for(var f=0;f<d.cells.length;f++){var g=d.cells[f];var h=g.index;if(h===undefined){h=f}if(g.formula){var i=typeof g.formula!="string";var j=i?g.formula.src:g.formula;var k=this._compileFormula(e,h,j);if(i){k.setArrayFormulaRange(a.spreadsheet.calc.parseReference(g.formula.ref))}g.formula=k}if(g.validation){g.validation=this._compileValidation(e,h,g.validation)}this._properties.fromJSON(this._grid.index(e,h),g)}}}}if(b.selection){this._viewSelection.selection=this._viewSelection.originalSelection=this._ref(b.selection)}if(b.activeCell){var l=this._ref(b.activeCell);this._viewSelection._activeCell=l.toRangeRef();this._viewSelection.originalActiveCell=l}if(b.mergedCells){b.mergedCells.forEach(function(a){this.range(a).merge()},this)}if(b.sort){this._sort={ref:this._ref(b.sort.ref),columns:b.sort.columns.slice(0)}}if(b.filter){var m=b.filter.ref;var n=b.filter.columns===undefined?[]:b.filter.columns;if(!m){a.logToConsole("Dropping filter for sheet '"+b.name+"' due to missing ref")}else{this._filter={ref:this._ref(m),columns:n.map(function(b){return{index:b.index,filter:a.spreadsheet.Filter.create(b)}})};this._refreshFilter()}}if(b.showGridLines!==undefined){this._showGridLines=b.showGridLines}this._gridLinesColor=b.gridLinesColor});this._rows._refresh();this._columns._refresh()},formula:function(a){return this._properties.get("formula",this._grid.cellRefIndex(a))},validation:function(a){return this._properties.get("validation",this._grid.cellRefIndex(a))},resetFormulas:function(){this._forFormulas(function(a){a.reset()})},resetValidations:function(){this._forValidations(function(a){a.reset()})},recalc:function(a,b){var c=this._properties.get("formula").values();var d=c.length,e=0,f=0;if(!d&&b){return b()}function g(){e--;if(f==d&&!e){b()}}while(f<d){e++;c[f++].value.exec(a,b?g:null)}},revalidate:function(a){var c=this;this._forValidations(function(e){var f=new d(e.row,e.col);var g=new b(f,f);e.exec(a,c._get(g,"value"),c._get(g,"format"))})},_value:function(a,b,c){var d=this._grid.index(a,b);if(c!==undefined){this._properties.set("value",d,d,c)}else{return this._properties.get("value",d)}},_validation:function(a,b){var c=this._grid.index(a,b);return this._properties.get("validation",c)},_compileValidation:function(b,c,d){if(d instanceof a.spreadsheet.validation.Validation){return d.clone(this._name(),b,c)}if(d.from!=null){d.from=(d.from+"").replace(/^=/,"")}if(d.to!=null){d.to=(d.to+"").replace(/^=/,"")}return a.spreadsheet.validation.compile(this._name(),b,c,d)},_compileFormula:function(b,c,d){d=d.replace(/^=/,"");d=a.spreadsheet.calc.parseFormula(this._name(),b,c,d);return a.spreadsheet.calc.compile(d)},_copyValuesInRange:function(a,b,c,d){var e,f,g;for(e=a.col;e<=b.col;e++){f=this._grid.index(a.row,e);g=this._grid.index(b.row,e);for(var h=f,i=a.row;h<=g;++h,++i){c=c.clone(this._name(),i,e);this._properties.set(d,h,h,c)}}return c},_set:function(b,c,d){var e=this._grid.normalize(b.topLeft);var f=this._grid.normalize(b.bottomRight);var g,h,i;if(typeof d=="number"){d=a.spreadsheet.calc.runtime.limitPrecision(d)}if(d&&c=="formula"){if(typeof d=="string"){d=this._compileFormula(e.row,e.col,d)}d=this._copyValuesInRange(e,f,d,"formula")}else if(d&&c=="validation"){d=this._compileValidation(e.row,e.col,d);d=this._copyValuesInRange(e,f,d,"validation")}else{for(g=e.col;g<=f.col;g++){h=this._grid.index(e.row,g);i=this._grid.index(f.row,g);this._properties.set(c,h,i,d);if(c=="formula"){this._properties.set("value",h,i,null)}}}},_get:function(a,b){var c=this._grid.normalize(a.topLeft);var d=this._grid.index(c.row,c.col);return this._properties.get(b,d)},batch:function(a,b){var c=this.suspendChanges();this.suspendChanges(true);a.call(this);return this.suspendChanges(c).triggerChange(b||{recalc:true})},_sortBy:function(a,b){var c=null;b.forEach(function(b){c=this._sorter.sortBy(a,b.index,this._properties.get("value"),b.ascending,c)},this);this._sort={ref:a,columns:b};this._refreshFilter();this.forEach(a,function(a,b,c){var d=c.formula;if(d){var e=a-d.row;if(e!==0){var f=e>0?d.row:d.row+e;d.adjust(this.name(),"row",f,e)}}}.bind(this));this.triggerChange({recalc:true})},_refreshFilter:function(){if(this._filter){this._filterBy(this._filter.ref,this._filter.columns)}},_filterBy:function(b,c){this.batch(function(){for(var d=b.topLeft.row;d<=b.bottomRight.row;d++){if(this._rows.hidden(d)){this._rows.unhide(d)}}c.forEach(function(c){var d=b.resize({top:1}).toColumn(c.index);var e=[];if(d===a.spreadsheet.NULLREF){return}this.forEach(d,function(a,b,c){c.row=a;e.push(c)});c.filter.prepare(e);for(var f=0;f<e.length;f++){var g=e[f];var h=c.filter.value(g);if(c.filter.matches(h)===false){this.hideRow(g.row)}}},this);this._filter={ref:b,columns:c}},{recalc:true,layout:true,filter:true})},filterColumn:function(a){var b=this.filter().ref;return a.toRangeRef().topLeft.col-b.topLeft.col},filter:function(){return this._filter},clearFilter:function(a){this._clearFilter(a instanceof Array?a:[a])},_clearFilter:function(a){if(this._filter){this.batch(function(){this._filter.columns=this._filter.columns.filter(function(b){return a.indexOf(b.index)<0});this._refreshFilter()},{recalc:true,layout:true,filter:true})}},getAxisState:function(){return{rows:this._rows.getState(),columns:this._columns.getState()}},setAxisState:function(a){this._rows.setState(a.rows);this._columns.setState(a.columns);this.triggerChange({layout:true})},getState:function(){return{rows:this._rows.getState(),columns:this._columns.getState(),mergedCells:this._mergedCells.map(function(a){return a.clone()}),properties:this._properties.getState()}},setState:function(b){this._rows.setState(b.rows);this._columns.setState(b.columns);this._mergedCells=b.mergedCells;this._properties.setState(b.properties);this.triggerChange(a.spreadsheet.ALL_REASONS)},_merge:function(b){var c=this._mergedCells;var d=this;var f;this.batch(function(){f=b.map(function(b){if(b instanceof a.spreadsheet.CellRef){return b}var f=b.toRangeRef().union(c,function(a){c.splice(c.indexOf(a),1)});var g=new e(f,d);var h=g._get("formula");var i=g.value();var j=g.format();var k=g.background();g.value(null);g.format(null);g.background(null);var l=new e(f.collapse(),d);if(h){l._set("formula",h)}else{l.value(i)}l.format(j);l.background(k);c.push(f);return f});var g=d._viewSelection;g.selection=d.unionWithMerged(g.originalSelection);g._activeCell=d.unionWithMerged(g.originalActiveCell)},{activeCell:true,selection:true});return f}});a.spreadsheet.Sheet=h})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/sheetsbar",["kendo.core","kendo.sortable"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a._outerWidth;var d=".";var e=" ";var f={sheetsBarWrapper:"k-widget k-header",sheetsBarSheetsWrapper:"k-tabstrip k-floatwrap k-tabstrip-bottom",sheetsBarActive:"k-spreadsheet-sheets-bar-active",sheetsBarInactive:"k-spreadsheet-sheets-bar-inactive",sheetsBarAdd:"k-spreadsheet-sheets-bar-add",sheetsBarRemove:"k-spreadsheet-sheets-remove",sheetsBarItems:"k-spreadsheet-sheets-items",sheetsBarEditor:"k-spreadsheet-sheets-editor",sheetsBarScrollable:"k-tabstrip-scrollable",sheetsBarNext:"k-tabstrip-next",sheetsBarPrev:"k-tabstrip-prev",sheetsBarKItem:"k-item k-state-default",sheetsBarKActive:"k-state-active k-state-tab-on-top",sheetsBarKTextbox:"k-textbox",sheetsBarKLink:"k-link",sheetsBarKIcon:"k-icon",sheetsBarKFontIcon:"k-icon",sheetsBarKButton:"k-button k-button-icon",sheetsBarKButtonBare:"k-bare",sheetsBarKArrowW:"k-i-arrow-60-left",sheetsBarKArrowE:"k-i-arrow-60-right",sheetsBarKReset:"k-reset k-tabstrip-items",sheetsBarKIconX:"k-i-close",sheetsBarKSprite:"k-sprite",sheetsBarKIconPlus:"k-i-plus",sheetsBarHintWrapper:"k-widget k-tabstrip k-tabstrip-bottom k-spreadsheet-sheets-items-hint",sheetsBarKResetItems:"k-reset k-tabstrip-items"};var g=a.ui.Widget.extend({init:function(b,c){var e=g.classNames;a.ui.Widget.call(this,b,c);b=this.element;b.addClass(e.sheetsBarWrapper);this._openDialog=c.openDialog;this._tree=new a.dom.Tree(b[0]);this._tree.render([this._addButton(),this._createSheetsWrapper([])]);this._toggleScrollEvents(true);this._createSortable();this._sortable.bind("start",this._onSheetReorderStart.bind(this));this._sortable.bind("end",this._onSheetReorderEnd.bind(this));b.on("click",d+e.sheetsBarRemove,this._onSheetRemove.bind(this));b.on("click","li",this._onSheetSelect.bind(this));b.on("dblclick","li"+d+e.sheetsBarActive,this._createEditor.bind(this));b.on("click",d+e.sheetsBarAdd,this._onAddSelect.bind(this))},options:{name:"SheetsBar",scrollable:{distance:200}},events:["select","reorder","rename"],_createEditor:function(){if(this._editor){return}this._renderSheets(this._sheets,this._selectedIndex,true);this._editor=this.element.find(a.format("input{0}{1}",d,g.classNames.sheetsBarEditor)).focus().on("keydown",this._onEditorKeydown.bind(this)).on("blur",this._onEditorBlur.bind(this))},_destroyEditor:function(a){var b=a?null:this._editor.val();this._editor.off();this._editor=null;this._renderSheets(this._sheets,this._selectedIndex,false);this._onSheetRename(b)},renderSheets:function(a,b){if(!a||b<0){return}this._renderSheets(a,b,false)},_renderSheets:function(b,f,h){var i=this;var j;var k;var l=g.classNames;i._isRtl=a.support.isRtl(i.element);i._sheets=b;i._selectedIndex=f;i._renderHtml(h,true);if(!i._scrollableAllowed()){return}var m=i._sheetsWrapper();var n=m.children(d+l.sheetsBarPrev);var o=m.children(d+l.sheetsBarNext);var p=2;var q=i.element.find(d+l.sheetsBarAdd);var r=c(q)+q.position().left+p;var s=c(n)+p;var t=i._sheetsGroup();n.css({left:r});m.addClass(l.sheetsBarScrollable+e+l.sheetsBarSheetsWrapper);t.css({marginLeft:r});j=m[0].offsetWidth;k=t[0].scrollWidth;if(k+r>j){var u=Math.ceil(a.parseFloat(o.css("right")));if(!i._scrollableModeActive){i._nowScrollingSheets=false;i._scrollableModeActive=true}t.css({marginLeft:s+r,marginRight:c(o)+u+p})}else{if(i._scrollableModeActive&&k<=j){i._scrollableModeActive=false;t.css({marginLeft:r,marginRight:""})}else{t.css({marginLeft:r})}}i._toggleScrollButtons()},_toggleScrollButtons:function(a){var b=this;var c=b._sheetsGroup();var e=b._sheetsWrapper();var f=c.scrollLeft();var h=e.find(d+g.classNames.sheetsBarPrev);var i=e.find(d+g.classNames.sheetsBarNext);if(a===false){h.toggle(false);i.toggle(false)}else{h.toggle(b._isRtl?f<c[0].scrollWidth-c[0].offsetWidth-1:f!==0);i.toggle(b._isRtl?f!==0:f<c[0].scrollWidth-c[0].offsetWidth-1)}},_toggleScrollEvents:function(a){var b=this;var c=g.classNames;var e=b.options;var f;var h;var i=b._sheetsWrapper();f=i.children(d+c.sheetsBarPrev);h=i.children(d+c.sheetsBarNext);if(a){f.on("mousedown",function(){b._nowScrollingSheets=true;b._scrollSheetsByDelta(e.scrollable.distance*(b._isRtl?1:-1))});h.on("mousedown",function(){b._nowScrollingSheets=true;b._scrollSheetsByDelta(e.scrollable.distance*(b._isRtl?-1:1))});f.add(h).on("mouseup",function(){b._nowScrollingSheets=false})}else{f.off();h.off()}},_renderHtml:function(b,c){var d;var f=[];var h=a.dom;var i=h.element;var j=this._sheets;var k=this._selectedIndex;var l=g.classNames;for(d=0;d<j.length;d++){var m=j[d];var n=d===k;var o={className:l.sheetsBarKItem+e};var p=[];if(n){o.className+=l.sheetsBarKActive+e+l.sheetsBarActive}else{o.className+=l.sheetsBarInactive}if(n&&b){p.push(i("input",{type:"text",value:m.name(),className:l.sheetsBarKTextbox+e+l.sheetsBarEditor,maxlength:50},[]))}else{p.push(i("span",{className:l.sheetsBarKLink,title:m.name()},[h.text(m.name())]));if(j.length>1){var q=i("span",{className:l.sheetsBarKIcon+e+l.sheetsBarKFontIcon+e+l.sheetsBarKIconX},[]);p.push(i("span",{className:l.sheetsBarKLink+e+l.sheetsBarRemove},[q]))}}f.push(i("li",o,p))}this._tree.render([this._addButton(),this._createSheetsWrapper(f,c)])},_createSheetsWrapper:function(b,c){var d=a.dom.element;var f=g.classNames;var h=[d("ul",{className:f.sheetsBarKReset},b)];c=true;if(c){var i=f.sheetsBarKButton+e+f.sheetsBarKButtonBare+e;h.push(d("span",{className:i+f.sheetsBarPrev},[d("span",{className:f.sheetsBarKIcon+e+f.sheetsBarKArrowW},[])]));h.push(d("span",{className:i+f.sheetsBarNext},[d("span",{className:f.sheetsBarKIcon+e+f.sheetsBarKArrowE},[])]))}return d("div",{className:f.sheetsBarItems},h)},_createSortable:function(){var c=g.classNames;this._sortable=new a.ui.Sortable(this.element,{filter:a.format("ul li.{0},ul li.{1}",c.sheetsBarActive,c.sheetsBarInactive),container:d+c.sheetsBarItems,axis:"x",animation:false,ignore:"input",end:function(){if(this.draggable.hint){this.draggable.hint.remove()}},hint:function(a){var d=b(a).clone();return d.wrap("<div class='"+c.sheetsBarHintWrapper+"'><ul class='"+c.sheetsBarKResetItems+"'></ul></div>").closest("div")}})},_onEditorKeydown:function(a){if(this._editor){if(a.which===13){this._destroyEditor()}if(a.which===27){this._destroyEditor(true)}}},_onEditorBlur:function(){if(this._editor){this._destroyEditor()}},_onSheetReorderEnd:function(a){a.preventDefault();this.trigger("reorder",{oldIndex:a.oldIndex,newIndex:a.newIndex})},_onSheetReorderStart:function(a){if(this._editor){a.preventDefault()}},_onSheetRemove:function(a){var c=b(a.target).closest("li").text();if(this._editor){this._destroyEditor()}var d=function(a){var b=a.sender;if(b.isConfirmed()){this.trigger("remove",{name:c,confirmation:true})}}.bind(this);this._openDialog("confirmation",{close:d})},_onSheetSelect:function(a){var c=b(a.target).text();if(b(a.target).is(d+g.classNames.sheetsBarEditor)||!c){a.preventDefault();return}if(this._editor){this._destroyEditor()}this._scrollSheetsToItem(b(a.target).closest("li"));this.trigger("select",{name:c,isAddButton:false})},_onSheetRename:function(a){if(this._sheets[this._selectedIndex].name()===a||a===null){return}this.trigger("rename",{name:a,sheetIndex:this._selectedIndex})},_onAddSelect:function(){this.trigger("select",{isAddButton:true})},_addButton:function(){var b=a.dom.element;var c=g.classNames;return b("a",{className:c.sheetsBarAdd+e+c.sheetsBarKButton},[b("span",{className:c.sheetsBarKIcon+e+c.sheetsBarKFontIcon+e+c.sheetsBarKIconPlus},[])])},destroy:function(){this._sortable.destroy()},_scrollableAllowed:function(){var a=this.options;return a.scrollable&&!isNaN(a.scrollable.distance)},_scrollSheetsToItem:function(a){var b=this;if(!b._scrollableModeActive){return}var d=b._sheetsGroup();var e=d.scrollLeft();var f=c(a);var g=b._isRtl?a.position().left:a.position().left-d.children().first().position().left;var h=d[0].offsetWidth;var i=Math.ceil(parseFloat(d.css("padding-left")));var j;if(b._isRtl){if(g<0){j=e+g-(h-e)-i}else if(g+f>h){j=e+g-f+i*2}}else{if(e+h<g+f){j=g+f-h+i*2}else if(e>g){j=g-i}}d.finish().animate({scrollLeft:j},"fast","linear",function(){b._toggleScrollButtons()})},_sheetsGroup:function(){return this._sheetsWrapper().children("ul")},_sheetsWrapper:function(){return this.element.find(d+g.classNames.sheetsBarItems)},_scrollSheetsByDelta:function(a){var b=this;var c=b._sheetsGroup();var d=c.scrollLeft();c.finish().animate({scrollLeft:d+a},"fast","linear",function(){if(b._nowScrollingSheets){b._scrollSheetsByDelta(a)}else{b._toggleScrollButtons()}})}});a.spreadsheet.SheetsBar=g;b.extend(true,g,{classNames:f})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/calc",["spreadsheet/runtime"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.util;var b=kendo.spreadsheet;var c=b.Ref;var d=b.RangeRef;var e=b.CellRef;var f=b.NameRef;var g=b.calc;var h=g.runtime;var i=Object.create(null);var j=kendo.Class.extend({init:function a(b,c){this.message=b;this.pos=c},toString:function(){return this.message}});(function(a){a.forEach(function(b,c){b.forEach(function(b){i[b]=a.length-c})})})([[":"],[" "],[","],["%"],["^"],["*","/"],["+","-"],["&"],["=","<",">","<=",">=","<>"]]);var k={type:"bool",value:true};var l={type:"bool",value:false};function m(a){a=a.toUpperCase();for(var b=0,c=0;c<a.length;++c){b=b*26+a.charCodeAt(c)-64}return b-1}function n(a){return parseInt(a,10)-1}function o(a,c){if(a.toLowerCase()=="#sheet"){return b.SHEETREF}a:{var f;if(f=/^(\$)?([a-z]+)(\$)?(\d+)$/i.exec(a)){var g=n(f[4]),h=m(f[2]);if(g<1048576&&h<16384){return new e(n(f[4]),m(f[2]))}break a}var i=x(a,{});var j=[];while(true){var k=i.next();if(k instanceof e){k.rel=0}else if(k instanceof d){k.topLeft.rel=0;k.bottomRight.rel=0}else{break a}j.push(k);if(i.eof()){break}if(!i.is("op",",")){break a}i.next()}return j.length==1?j[0]:new b.UnionRef(j)}if(!c){throw new Error("Cannot parse reference: "+a)}}function p(a,b,c,d){var e=[];d=x(d,{row:b,col:c});var g=d.is;return{type:"exp",ast:m(true),refs:e,sheet:a,row:b,col:c};function h(a){a.index=e.length;e.push(a);return a}function j(a,b,c){if(g(a,b)){return d.next()}else{var e=d.peek();if(e){d.croak("Expected "+a+" Â«"+b+"Â» but found "+e.type+" Â«"+e.value+"Â»")}else if(!c){d.croak("Expected "+a+" Â«"+b+"Â»")}}}function m(a){return u(s(q(a)),0,a)}function n(a){if(a.upper=="TRUE"||a.upper=="FALSE"){return a.upper=="TRUE"?k:l}return h(new f(a.value))}function o(){var a=d.next();a=a.value;j("punc","(");var b=[];while(1){if(g("punc",")")){break}if(g("op",",")){b.push({type:"null"});d.next();continue}b.push(m(false));if(d.eof()||g("punc",")")){break}j("op",",")}j("punc",")",true);return{type:"func",func:a,args:b}}function p(b){if(!b.hasSheet()){b.setSheet(a)}return h(b)}function q(a){var b;if(g("ref")){b=p(d.next())}else if(g("func")){b=o()}else if(g("punc","(")){d.next();b=m(true);j("punc",")",true)}else if(g("punc","{")){d.next();b=r();j("punc","}",true)}else if(g("num")||g("str")||g("error")){b=d.next()}else if(g("sym")){b=n(d.next())}else if(g("op","+")||g("op","-")){b={type:"prefix",op:d.next().value,exp:q(a)}}else if(!d.peek()){d.croak("Incomplete expression")}else if(g("punc","[")){d.croak("External reference not supported")}else{d.croak("Parse error")}return t(b)}function r(){var a=[],b=[a],c=true;while(!d.eof()&&!g("punc","}")){if(c){c=false}else if(g("punc",";")){b.push(a=[]);d.next()}else{j("op",",")}a.push(m(false))}return{type:"matrix",value:b}}function s(a){if(g("punc","(")||g("ref")||g("num")||g("func")){return{type:"binary",op:" ",left:a,right:m(false)}}else{return a}}function t(a){if(g("op","%")){d.next();return t({type:"postfix",op:"%",exp:a})}else{return a}}function u(a,b,c){var e=g("op");if(e&&(c||e.value!=",")){var f=i[e.value];if(f>b){d.next();var h=u(q(c),f,c);return u({type:"binary",op:e.value,left:a,right:h},b,c)}}return a}}function q(a,b){var d=p(null,0,0,a);if(!(d.ast instanceof f)){throw new j("Invalid name: "+a)}d=d.ast;if(!(b instanceof c)){var e=p(d.sheet,0,0,b);if(e.ast instanceof c){b=e.ast}else if(/^(?:str|num|bool|error)$/.test(e.ast.type)){b=e.ast.value}else{b=v(e)}}return{name:d,value:b}}function r(a){return t("function(row, col, mod){return("+b(a.ast,a,0)+")}");function b(a,d,e){switch(a.type){case"num":case"bool":return JSON.stringify(a.value);case"error":return JSON.stringify("#"+a.value);case"str":return JSON.stringify(JSON.stringify(a.value));case"ref":return"this.refs["+a.index+"].print(row, col, mod)";case"prefix":return g(function(){return JSON.stringify(a.op)+" + "+b(a.exp,a,i[a.op])});case"postfix":return g(function(){return b(a.exp,a,i[a.op])+" + "+JSON.stringify(a.op)});case"binary":return g(function(){var d=c(b(a.left,a,i[a.op]),a.left instanceof f&&a.op==":");var e=c(b(a.right,a,i[a.op]),a.right instanceof f&&a.op==":");return d+" + "+JSON.stringify(a.op)+" + "+e});case"func":return JSON.stringify(a.func+"(")+" + "+(a.args.length>0?a.args.map(function(c){return b(c,a,0)}).join(" + ', ' + "):"''")+" + ')'";case"matrix":return"'{ ' + "+a.value.map(function(c){return c.map(function(c){return b(c,a,0)}).join(" + ', ' + ")}).join(" + '; ' + ")+"+ ' }'";case"null":return"''"}throw new Error("Cannot make printer for node "+a.type);function g(b){var f=a.op;var g=i[f]<e||!e&&f==","||d.type=="prefix"&&e==i[f]&&d.op=="-"||d.type=="binary"&&e==i[f]&&a===d.right;return c(b(),g)}}function c(a,b){return b?"'(' + "+a+" + ')'":a}}function s(a,b){var c=0;return d(a,b);function d(a,b){switch(a.type){case"ref":return e(a,b);case"num":case"str":case"null":case"error":case"bool":return f(a,b);case"prefix":case"postfix":return h(a,b);case"binary":return i(a,b);case"func":return o(a,b);case"lambda":return p(a,b);case"matrix":return q(a.value,b,true)}throw new Error("Cannot CPS "+a.type)}function e(a,b){return a.ref=="name"?g(a,b):f(a,b)}function f(a,b){return b(a)}function g(a,b){return{type:"func",func:",getname",args:[r(b),a]}}function h(a,b){return d({type:"func",func:"unary"+a.op,args:[a.exp]},b)}function i(a,b){return d({type:"func",func:"binary"+a.op,args:[a.left,a.right]},b)}function j(a,b,c,e){return d(a,function(a){var f=r(e);var g=s("T");var h=s("E");return{type:"func",func:"if",args:[f,a,{type:"lambda",vars:[g],body:d(b||k,function(a){return{type:"call",func:{type:"var",name:g},args:[a]}})},{type:"lambda",vars:[h],body:d(c||l,function(a){return{type:"call",func:{type:"var",name:h},args:[a]}})}]}})}function m(a,b){if(a.length===0){return f(k,b)}return d({type:"func",func:"IF",args:[a[0],{type:"func",func:"AND",args:a.slice(1)},l]},b)}function n(a,b){if(a.length===0){return f(l,b)}return d({type:"func",func:"IF",args:[a[0],k,{type:"func",func:"OR",args:a.slice(1)}]},b)}function o(a,b){switch(a.func.toLowerCase()){case"if":return j(a.args[0],a.args[1],a.args[2],b);case"and":return m(a.args,b);case"or":return n(a.args,b);case"true":return b(k);case"false":return b(l)}return function b(c,e){if(e==a.args.length){return{type:"func",func:a.func,args:c}}else{return d(a.args[e],function(a){return b(c.concat([a]),e+1)})}}([r(b)],0)}function p(a,b){var c=s("K");var e=d(a.body,function(a){return{type:"call",func:{type:"var",value:c},args:[a]}});return b({type:"lambda",vars:[c].concat(a.vars),body:e})}function q(a,b,c){var e=[];return function f(g){if(g==a.length){return b({type:"matrix",value:e})}else{return(c?q:d)(a[g],function(a){e[g]=a;return f(g+1)})}}(0)}function r(a){var b=s("R");return{type:"lambda",vars:[b],body:a({type:"var",name:b})}}function s(a){if(!a){a=""}a="_"+a;return a+ ++c}}var t=function(a){return function(b){var c=a[b];if(!c){c=a[b]=new Function("'use strict';return("+b+")")()}return c}}(Object.create(null));var u=Object.create(null);function v(a){var b=r(a);var c=b.call(a);var d=u[c];if(d){return d.clone(a.sheet,a.row,a.col)}var e=f(s(a.ast,function(a){return{type:"return",value:a}}));e=["function(){","var context = this, refs = context.formula.absrefs",e,"}"].join(";\n");d=new h.Formula(a.refs,t(e),b,a.sheet,a.row,a.col);u[c]=d.clone(a.sheet,a.row,a.col);return d;function f(a){var b=a.type;if(b=="num"){return a.value+""}else if(b=="str"){return JSON.stringify(a.value)}else if(b=="error"){return"context.error("+JSON.stringify(a.value)+")"}else if(b=="return"){return"context.resolve("+f(a.value)+")"}else if(b=="func"){return"context.func("+JSON.stringify(a.func)+", "+f(a.args[0])+", "+g(a.args.slice(1))+")"}else if(b=="call"){return f(a.func)+"("+a.args.map(f).join(", ")+")"}else if(b=="ref"){return"refs["+a.index+"]"}else if(b=="bool"){return""+a.value}else if(b=="if"){return"(context.bool("+f(a.co)+") ? "+f(a.th)+" : "+f(a.el)+")"}else if(b=="lambda"){return"(function("+a.vars.join(", ")+"){ return("+f(a.body)+") })"}else if(b=="var"){return a.name}else if(b=="matrix"){return g(a.value)}else if(b=="null"){return"null"}else{throw new Error("Cannot compile expression "+b)}}function g(a){return"[ "+a.map(f).join(", ")+" ]"}}function w(a){return a}function x(a,b){a=z(B(a),b);var c=a.ahead;var g=a.skip;var h=null;var i=b.row!=null&&b.col!=null?function(a){if(a.rel&1){a.col-=b.col}if(a.rel&2){a.row-=b.row}return a}:w;var j=b.forEditor?function(a,b,c){a.begin=b.begin;a.end=c.end;return a}:w;return{peek:l,next:o,croak:a.croak,eof:a.eof,is:k};function k(a,b){var c=l();return c!=null&&(a==null||c.type===a)&&(b==null||c.value===b)?c:null}function l(){if(h==null){h=p()}return h}function o(){if(h!=null){var a=h;h=null;return a}return p()}function p(){var b;var d=a.peek();if(d){if(d.type=="sym"||d.type=="rc"||d.type=="num"){b=c(8,r)||c(6,s)||c(6,t)||c(4,u)||c(4,v)||c(2,x)||c(2,y)}if(!b){b=a.next()}}return b}function q(c,d){if(c.type=="rc"){if(c.rel&&!b.forEditor&&(b.row==null||b.col==null)){a.croak("Cannot read relative cell in RC notation")}return new e(c.row,c.col,c.rel)}if(c.type=="num"){if(c.value<=1048577){return i(new e(n(c.value),d?-Infinity:+Infinity,2))}else{return null}}var f=c.value;var g=/^(\$)?([a-z]+)(\$)?(\d+)$/i.exec(f);if(g){var h=n(g[4]),j=m(g[2]);if(h<=1048576&&j<=16383){return i(new e(n(g[4]),m(g[2]),(g[1]?0:1)|(g[3]?0:2)))}else{return null}}var k=f.charAt(0)=="$";if(k){f=f.substr(1)}if(/^\d+$/.test(f)){var h=n(f);if(h<=1048576){return i(new e(n(f),d?-Infinity:+Infinity,k?0:2))}}else{var j=m(f);if(j<=16383){return i(new e(d?-Infinity:+Infinity,m(f),k?0:1))}}}function r(a,b,c,e,f,h,i,k){if(a.type=="sym"&&b.type=="op"&&b.value==":"&&c.type=="sym"&&e.type=="punc"&&e.value=="!"&&(f.type=="sym"||f.type=="rc"||f.type=="num"&&f.value==f.value|0)&&h.type=="op"&&h.value==":"&&(i.type=="sym"||i.type=="rc"||i.type=="num"&&i.value==i.value|0)&&i.type==f.type&&!(k.type=="punc"&&k.value=="("&&!i.space)){var l=q(f,true),m=q(i,false);if(l&&m){g(7);return j(new d(l.setSheet(a.value,true),m.setSheet(c.value,true)).setSheet(a.value,true),a,i)}}}function s(a,b,c,e,f,h){if(a.type=="sym"&&b.type=="op"&&b.value==":"&&c.type=="sym"&&e.type=="punc"&&e.value=="!"&&(f.type=="sym"||f.type=="rc"||f.type=="num"&&f.value==f.value|0)&&!(h.type=="punc"&&h.value=="("&&!f.space)){var i=q(f);if(i){g(5);var k=i.clone();return j(new d(i.setSheet(a.value,true),k.setSheet(c.value,true)).setSheet(a.value,true),a,f)}}}function t(a,b,c,e,f,h){if(a.type=="sym"&&b.type=="punc"&&b.value=="!"&&(c.type=="sym"||c.type=="rc"||c.type=="num"&&c.value==c.value|0)&&e.type=="op"&&e.value==":"&&(f.type=="sym"||f.type=="rc"||f.type=="num"&&f.value==f.value|0)&&!(h.type=="punc"&&h.value=="("&&!f.space)){var i=q(c,true),k=q(f,false);if(i&&k){g(5);return j(new d(i,k).setSheet(a.value,true),a,f)}}}function u(a,b,c,d){if(a.type=="sym"&&b.type=="punc"&&b.value=="!"&&(c.type=="sym"||c.type=="rc"||c.type=="num"&&c.value==c.value|0)&&!(d.type=="punc"&&d.value=="("&&!c.space)){g(3);var e=q(c);if(!e||!isFinite(e.row)){e=new f(c.value)}return j(e.setSheet(a.value,true),a,c)}}function v(a,b,c,e){if((a.type=="sym"||a.type=="rc"||a.type=="num"&&a.value==a.value|0)&&(b.type=="op"&&b.value==":")&&(c.type=="sym"||c.type=="rc"||c.type=="num"&&c.value==c.value|0)&&!(e.type=="punc"&&e.value=="("&&!c.space)){var f=q(a,true),h=q(c,false);if(f&&h){g(3);return j(new d(f,h),a,c)}}}function x(a,b){if((a.type=="sym"||a.type=="rc")&&!(b.type=="punc"&&b.value=="("&&!a.space)){var c=q(a);if(c&&isFinite(c.row)&&isFinite(c.col)){g(1);return j(c,a,a)}}}function y(a,b){if(a.type=="sym"&&b.type=="punc"&&b.value=="("&&!a.space){a.type="func";g(1);return a}}}function y(a){return" \t\nÂ â".indexOf(a)>=0}function z(b,c){var d=[],e=0;var f=b.readWhile;return{next:w,peek:v,eof:B,croak:b.croak,ahead:x,skip:z};function g(a){return/[0-9]/i.test(a)}function h(b){return/[a-z$_]/i.test(b)||a.isUnicodeLetter(b)}function j(a){return h(a)||g(a)||a=="."}function k(a){return a in i}function l(a){return"!;(){}[]".indexOf(a)>=0;
}function m(){var a=false;var b=f(function(b){if(b=="."){if(a){return false}a=true;return true}return g(b)});return{type:"num",value:parseFloat(b)}}function n(a,c){return{type:"sym",value:a,upper:a.toUpperCase(),space:y(b.peek()),quote:c}}function o(a,b,c){if(!a&&!b&&!c){return null}if(!a&&!c||a&&c){var d=b?parseInt(b,10):0;return a?d:d-1}}function p(){var a=b.lookingAt(/^R(\[)?(-?[0-9]+)?(\])?C(\[)?(-?[0-9]+)?(\])?/i);if(a){var c=o(a[1],a[2],a[3]);var d=o(a[4],a[5],a[6]);if(c!=null&&d!=null){b.skip(a);return{type:"rc",row:c,col:d,rel:(a[4]||!(a[4]||a[5]||a[6])?1:0)|(a[1]||!(a[1]||a[2]||a[3])?2:0)}}}return n(f(j))}function q(){b.next();return{type:"str",value:b.readEscaped('"')}}function r(){b.next();return n(b.readEscaped("'"),true)}function s(){return{type:"op",value:f(function(a,b){return b+a in i})}}function t(){return{type:"punc",value:b.next()}}function u(){if(b.eof()){return null}var a=b.peek(),d;if(a=='"'){return q()}if(a=="'"){return r()}if(g(a)||a=="."){return m()}if(h(a)){return p()}if(k(a)){return s()}if(l(a)){return t()}if(d=b.lookingAt(/^#([a-z\/]+)[?!]?/i)){b.skip(d);return{type:"error",value:d[1]}}if(!c.forEditor){b.croak("Can't handle character: "+a)}return{type:"error",value:b.next()}}function v(){while(d.length<=e){f(y);var a=b.pos();var g=u();if(c.forEditor&&g){g.begin=a;g.end=b.pos()}d.push(g)}return d[e]}function w(){var a=v();if(a){e++}return a}function x(a,b){var c=e,d=[];while(a-- >0){d.push(w()||A)}e=c;return b.apply(d,d)}function z(a){e+=a}function B(){return v()==null}}var A={type:"eof"};function B(a){var b=0,c=1,d=0;return{next:f,peek:g,eof:h,croak:i,readWhile:n,readEscaped:m,lookingAt:o,skip:k,forward:l,pos:e};function e(){return b}function f(){var e=a.charAt(b++);if(e=="\n"){c++;d=0}else{d++}return e}function g(){return a.charAt(b)}function h(){return g()===""}function i(c){throw new j(c+" (input: "+a+")",b)}function k(c){if(typeof c=="string"){if(a.substr(b,c.length)!=c){i("Expected "+c)}l(c.length)}else if(c instanceof RegExp){var d=c.exec(a.substr(b));if(d){l(d[0].length);return d}}else{l(c[0].length)}}function l(a){while(a-- >0){f()}}function m(a){var b=false,c="";while(!h()){var d=f();if(b){c+=d;b=false}else if(d=="\\"){b=true}else if(d==a){break}else{c+=d}}return c}function n(a){var b="";while(!h()&&a(g(),b)){b+=f()}return b}function o(c){return c.exec(a.substr(b))}}var C=[];var D=g.registerFormatParser=function(a){C.push(a)};g.parse=function(a,b,c,d,e){if(d instanceof Date){return{type:"date",value:h.dateToSerial(d)}}if(typeof d=="number"){return{type:"number",value:d}}if(typeof d=="boolean"){return{type:"boolean",value:d}}d+="";if(/^'/.test(d)){return{type:"string",value:d.substr(1)}}if(/^[0-9]+%$/.test(d)){var f=d.substr(0,d.length-1);var g=parseFloat(f);if(!isNaN(g)&&g==f){return{type:"percent",value:g/100}}}if(/^=/.test(d)){d=d.substr(1);if(/\S/.test(d)){return p(a,b,c,d)}else{return{type:"string",value:"="+d}}}for(var i=0;i<C.length;++i){var j=C[i](d);if(j){return j}}if(d.toLowerCase()=="true"){return{type:"boolean",value:true}}if(d.toLowerCase()=="false"){return{type:"boolean",value:false}}var k=h.parseDate(d,e);if(k){return{type:"date",value:h.dateToSerial(k)}}var g=parseFloat(d);if(!isNaN(g)&&d.length>0&&g==d){return{type:"number",value:g}}return{type:"string",value:d}};function E(a,b,c){var d=[];a=x(a,{forEditor:true,row:b,col:c});while(!a.eof()){d.push(f())}var e=d[0];if(e.type=="op"&&e.value=="="){e.type="startexp"}return d;function f(){var d=a.next();if(d.type=="sym"){if(d.upper=="TRUE"){d.type="bool";d.value=true}else if(d.upper=="FALSE"){d.type="bool";d.value=false}}else if(d.type=="ref"){d={type:"ref",ref:b!=null&&c!=null?d.absolute(b,c):d,begin:d.begin,end:d.end}}return d}}function F(a,b,c){b=b||0;c=c||0;a=x(a,{row:b,col:c});var d=[];while(!a.eof()){var e=a.next();if(e.type!="ref"){throw new j("Expecting a reference but got: "+JSON.stringify(e))}d.push(e.absolute(b,c))}return d}g.parseNameDefinition=q;g.parseFormula=p;g.parseReference=o;g.compile=v;g.parseSqref=F;g.InputStream=B;g.ParseError=j;g.tokenize=E;D(function(a){var b;if(b=/^(\d+):(\d+)$/.exec(a)){var c=parseInt(b[1],10);var d=parseInt(b[2],10);return{type:"date",format:"hh:mm",value:h.packTime(c,d,0,0)}}if(b=/^(\d+):(\d+)(\.\d+)$/.exec(a)){var d=parseInt(b[1],10);var e=parseInt(b[2],10);var f=parseFloat(b[3])*1e3;return{type:"date",format:"mm:ss.00",value:h.packTime(0,d,e,f)}}if(b=/^(\d+):(\d+):(\d+)$/.exec(a)){var c=parseInt(b[1],10);var d=parseInt(b[2],10);var e=parseInt(b[3],10);return{type:"date",format:"hh:mm:ss",value:h.packTime(c,d,e,0)}}if(b=/^(\d+):(\d+):(\d+)(\.\d+)$/.exec(a)){var c=parseInt(b[1],10);var d=parseInt(b[2],10);var e=parseInt(b[3],10);var f=parseFloat(b[4])*1e3;return{type:"date",format:"hh:mm:ss.00",value:h.packTime(c,d,e,f)}}});D(function(a){var b,c;var d=kendo.culture();var e=d.numberFormat[","];var f=d.numberFormat["."];var g=d.numberFormat.currency.symbol;var h=H(e,f);var i=new RegExp("^\\s*\\"+g+"\\s*");var j=1;var k="";var l="";var m=false;a=B(a.replace(/^\s+|\s+$/g,""));if(a.skip(/^-\s*/)){j=-1}if(b=a.skip(i)){m=true;k+='"'+b[0]+'"'}if(a.skip(/^-\s*/)){if(j<0){return null}j=-1}if(!(c=a.skip(h))){return null}k+="#";if(b=a.skip(i)){if(m){return null}m=true;l='"'+b[0]+'"'}if(!a.eof()){return null}if(c[2]||m){k+=",#"}if(c[3]){k+="."+I("0",c[3].length-1)}var n=c[0].replace(new RegExp("\\"+e,"g"),"").replace(new RegExp("\\"+f,"g"),".");k+=l;if(m){k+=";-"+k}return{type:"number",currency:m,format:k,value:j*parseFloat(n)}});D(function(a){var b;if(b=/^([0-9]*)\.([0-9]+)(\s*%)$/.exec(a)){return{type:"number",value:parseFloat(a)/100,format:"0."+I("0",b[2].length)+b[3]}}});var G={};function H(a,b){var c=a+b;var d=G[c];if(!d){d="^(\\d+(COM\\d{3})*(DOT\\d+)?)";d=d.replace(/DOT/g,"\\"+b).replace(/COM/g,"\\"+a);d=new RegExp(d);G[c]=d}return d}function I(a,b){var c="";while(b-- >0){c+=a}return c}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/excel-reader",["kendo.core","kendo.color","util/parse-xml","spreadsheet/calc"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.jQuery;var b=kendo.util.parseXML;var c=kendo.spreadsheet.calc.parseReference;var d={greaterThanOrEqual:"greaterThanOrEqualTo",lessThanOrEqual:"lessThanOrEqualTo"};var e=null;function f(a,b,c){var d=new FileReader;d.onload=function(a){var d=new JSZip(a.target.result);A(d,b,c)};d.readAsArrayBuffer(a)}var g=["sheetData","row","c"];var h=["cols","col"];var i=["definedNames","definedName"];var j=["sheetData","row","c","f"];var k=["mergeCells","mergeCell"];var l=["sheetViews","sheetView","pane"];var m=["sheetData","row"];var n=["sheetViews","sheetView","selection"];var o=["sheets","sheet"];var p=["sheetData","row","c","is"];var q=["t"];var r=["si"];var s=["sheetData","row","c","v"];var t=["bookViews","workbookView"];var u=["sheetViews","sheetView"];var v=["hyperlinks","hyperlink"];var w=["dataValidations","dataValidation"];var x=["dataValidations","dataValidation","formula1"];var y=["dataValidations","dataValidation","formula2"];function z(a){if(!/^\//.test(a)){a="xl/"+a}else{a=a.substr(1)}return a}function A(b,c,d){e=c.excelImportErrors=[];var f=Q(b);var g=R(b,"_rels/workbook.xml");var h=aa(b,g.byType.theme[0]);var j=Z(b,h);var k=[];var l=0;P(b,"xl/workbook.xml",{enter:function(a,d){if(this.is(o)){var e=d["r:id"];var h=g.byId[e];var i=d.name;var m=E(b,h);k.push({workbook:c,zip:b,strings:f,styles:j,file:h,options:{name:i,rows:Math.max(c.options.rows||0,m.rows),columns:Math.max(c.options.columns||0,m.cols),columnWidth:m.columnWidth,rowHeight:m.rowHeight}})}else if(this.is(t)){if(d.activeTab){l=ba(d.activeTab)}}},text:function(a){var b=this.is(i);if(b&&!(ca(b["function"])||ca(b.vbProcedure))){var d=b.localSheetId;var e=null;if(d!=null){e=k[d].options.name}var f=b.name;if(f!="_xlnm._FilterDatabase"){if(e){f="'"+e.replace(/\'/g,"\\'")+"'!"+f}L(e,null,function(){c.defineName(f,a,ca(b.hidden))},"reading user-defined name: "+f)}}}});var m=new a.Deferred;m.progress(function(a){if(d){d.notify(a)}}).then(function(){var a=c.sheets();D(a);c.activeSheet(a[l]);if(d){d.resolve()}});B(k,c,m)}function B(b,c,d){var e=(new a.Deferred).resolve();for(var f=0;f<b.length;f++){(function(a,f){e=e.then(function(){var e=c.insertSheet(a.options);e.suspendChanges(true);var g=C(e,a);var h={sheet:e,progress:f/(b.length-1)};g.then(function(){d.notify(h)});return g})})(b[f],f)}e.then(function(){d.resolve()})}function C(b,c){var d=new a.Deferred;setTimeout(function(){H(c.zip,c.file,b,c.strings,c.styles);d.resolve()},0);return d}function D(a){for(var b=0;b<a.length;b++){a[b].suspendChanges(false).triggerChange({recalc:true})}}function E(a,b){var d={rows:0,cols:0};P(a,z(b),{enter:function(a,b){if(a=="dimension"){var e=c(b.ref);if(e.bottomRight){d.cols=e.bottomRight.col+1;d.rows=e.bottomRight.row+1}}else if(a==="sheetFormatPr"){if(b.defaultColWidth){d.columnWidth=F(parseFloat(b.defaultColWidth))}if(b.defaultRowHeight){d.rowHeight=G(parseFloat(b.defaultRowHeight))}}else if(this.is(m)){this.exit()}}});return d}function F(a){var b=7;var c=(256*a+Math.floor(128/b))/256;return Math.floor(c)*b}function G(a){return a*1.5625}function H(a,b,f,i,o){var q={};var r,t,A,B,C,D;var E=f._columns._count;var H=null;var M=b.replace(/worksheets\//,"worksheets/_rels/");var N=R(a,M);var Q,S;var T;var U;var V;var W;var X;var Y;var Z=[];e=f._workbook.excelImportErrors;P(a,z(b),{enter:function(a,b,d){var e;if(this.is(j)){if(d){if(b.t=="shared"&&b.si!=null){B=f.range(q[b.si])._get("formula")}}}else if(this.is(g)){A=null;B=null;r=b.r;C=null;if(r==null){r=c(H);r.col++;r=r.toString()}H=r;t=b.t;var i=b.s;if(i!=null){O(f,r,o,i)}}else if(this.is(k)){f.range(b.ref).merge()}else if(this.is(h)){var p=ba(b.min)-1;var s=Math.min(E,ba(b.max))-1;var w;if(b.width){w=F(parseFloat(b.width));if(w!==0){f._columns.values.value(p,s,w)}}if(b.hidden==="1"||w===0){for(var x=p;x<=s;x++){f.hideColumn(x)}}if(b.style!=null){O(f,new kendo.spreadsheet.RangeRef(new kendo.spreadsheet.CellRef(-Infinity,p),new kendo.spreadsheet.CellRef(+Infinity,s)),o,b.style)}}else if(this.is(m)){var y=ba(b.r)-1;var z;if(b.ht){z=G(parseFloat(b.ht));if(z!==0){f._rows.values.value(y,y,z)}}if(b.hidden==="1"||z===0){f.hideRow(y)}}else if(this.is(n)){if(b.activeCell){var D=c(b.activeCell);f.select(D,true)}}else if(this.is(l)){if(b.state=="frozen"){if(b.xSplit){f.frozenColumns(ba(b.xSplit))}if(b.ySplit){f.frozenRows(ba(b.ySplit))}}}else if(this.is(u)){f.showGridLines(ca(b.showGridLines,true))}else if(this.is(v)){var L=b["r:id"];var M=N.byId[L];if(M){f.range(b.ref).link(M)}}else if(this.is(["autoFilter"])){T=b.ref}else if(T){if(this.is(["filterColumn"])){U=parseInt(b.colId,10)}else if(this.is(["customFilters"])){V=ca(b.and)?"and":"or";W=[]}else if(this.is(["customFilter"])){e=I(b.operator,b.val);if(e){W.push({operator:e.operator,value:e.value})}}else if(this.is(["dynamicFilter"])){Z.push({column:U,filter:new kendo.spreadsheet.DynamicFilter({type:J(b.type)})})}else if(this.is(["top10"])){Z.push({column:U,filter:new kendo.spreadsheet.TopFilter({value:K(b.val),type:function(a,b){return a&&b?"topPercent":b?"topNumber":a?"bottomPercent":"bottomNumber"}(ca(b.percent),ca(b.top))})})}else if(this.is(["filters"])){X=ca(b.blank);Y=[]}else if(this.is(["filter"])){Y.push(K(b.val))}}},leave:function(a,b){if(this.is(j)){if(!B&&b.t=="shared"&&b.si!=null){B=f.range(q[b.si])._get("formula")}}else if(this.is(g)){if(B!=null){var c=L(f,C||r,function(){f.range(C||r).formula(B,D)},"parsing formula");if(c){f.range(C||r).value(B).background("#ffaaaa")}}else if(A!=null){var e=f.range(r);if(!e._get("formula")){if(!t||t=="n"){A=parseFloat(A)}else if(t=="s"){A=i[ba(A)]}else if(t=="b"){A=A==="1"}else if(t=="d"){A=kendo.parseDate(A)}if(A!=null){e.value(A)}}}}else if(this.is(w)){(function(){var a=kendo.spreadsheet.calc.parseSqref(b.sqref);var c=b.type.toLowerCase();var e=b.operator;if(/^(?:whole|decimal)$/.test(c)){c="number"}else if(c=="list"){e="list"}if(!e&&/^(?:number|date)$/.test(c)){e="between"}a.forEach(function(a){L(f,a,function(){f.range(a).validation({type:ca(b.showErrorMessage,true)?"reject":"warning",from:Q,to:S,dataType:c,comparerType:d[e]||e,allowNulls:ca(b.allowBlank),showButton:ca(b.showDropDown)||c=="date"||c=="list",messageTemplate:b.error,titleTemplate:b.errorTitle})},"parsing validation")})})()}else if(a=="cols"){f._columns._refresh()}else if(a=="sheetData"){f._rows._refresh()}else if(a=="autoFilter"){f.range(T).filter(Z);T=null}else if(T){if(a=="customFilters"){Z.push({column:U,filter:new kendo.spreadsheet.CustomFilter({logic:V,criteria:W})})}else if(a=="filters"){Z.push({column:U,filter:new kendo.spreadsheet.ValueFilter({values:Y,blanks:X})})}}},text:function(a){var b;if(this.is(s)||this.is(p)){A=a}else if(b=this.is(j)){B=a;D=b.t=="array";if(D){C=b.ref}else if(b.t=="shared"){q[b.si]=r}}else if(this.is(x)){Q=a}else if(this.is(y)){S=a}}})}function I(a,b){var c={equal:"eq",notEqual:"ne",greaterThan:"gt",greaterThanOrEqual:"gte",lessThan:"lt",lessThanOrEqual:"lte"}[a];b=K(b);if(c&&typeof b=="number"){return{operator:c,value:b}}if((a=="notEqual"||!a)&&typeof b=="string"){return{operator:a?"doesnotmatch":"matches",value:b}}}function J(a){return{Q1:"quarter1",Q2:"quarter2",Q3:"quarter3",Q4:"quarter4",M1:"january",M2:"february",M3:"march",M4:"april",M5:"may",M6:"june",M7:"july",M8:"august",M9:"september",M10:"october",M11:"november",M12:"december"}[a.toUpperCase()]||a}function K(a){var b=parseFloat(a);if(!isNaN(b)&&b==a){return b}return a}function L(a,b,c,d){try{c();return false}catch(c){var f={context:d,error:String(c)};if(a){f.sheet=a.name()}if(b){f.location=String(b)}e.push(f);return true}}var M={none:0,thin:1,medium:2,dashed:1,dotted:1,thick:3,double:3,hair:1,mediumDashed:2,dashDot:1,mediumDashDot:2,dashDotDot:1,mediumDashDotDot:2,slantDashDot:1};var N={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"mm-dd-yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@"};function O(a,b,c,d){var e=a.range(b);var f=c.inlineStyles[d],g,h;if(f.xfId){g=c.namedStyles[f.xfId]}if(m("applyBorder","borderId")){l(c.borders[h])}if(m("applyFont","fontId")){k(c.fonts[h])}if(m("applyAlignment","textAlign")){e.textAlign(h)}if(m("applyAlignment","verticalAlign")){e.verticalAlign(h)}if(m("applyAlignment","wrapText")){e._property("wrap",h)}if(m("applyFill","fillId")){j(c.fills[h])}if(m("applyNumberFormat","numFmtId")){i(c.numFmts[h]||N[h])}function i(a){var b=typeof a=="string"?a:a.formatCode;if(b!=null&&!/^general$/i.test(b)){b=b.replace(/^\[\$-[0-9]+\]/,"");e.format(b)}}function j(a){if(a.type=="solid"){e.background(a.color)}}function k(a){e.fontFamily(a.name);e._property("fontSize",a.size);if(a.bold){e.bold(true)}if(a.italic){e.italic(true)}if(a.underline){e.underline(true)}}function l(a){function b(b,c){var d=a[b];if(!d){return}var f=M[d.style];if(f===0){return}var g=d.color;if(g==null){g="#000"}e._property(c,{size:f,color:g})}b("left","borderLeft");b("top","borderTop");b("right","borderRight");b("bottom","borderBottom")}function m(a,b){var c=f[a];if(c!=null&&!c){return false}h=f[b];if(g&&h==null){c=g[a];if(c!=null&&!c){return false}h=g[b]}return h!=null}}function P(a,c,d){var e=a.files[c];if(e){b(e.asUint8Array(),d)}}function Q(a){var b=[];var c=null;P(a,"xl/sharedStrings.xml",{leave:function(){if(this.is(r)){b.push(c);c=null}},text:function(a){if(this.is(q)){if(c==null){c=""}c+=a}}});return b}function R(a,b){var c={byId:{},byType:{theme:[]}};P(a,z(b)+".rels",{enter:function(a,b){if(a=="Relationship"){c.byId[b.Id]=b.Target;var d=b.Type.match(/\w+$/)[0];var e=c.byType[d]||[];e.push(b.Target);c.byType[d]=e}}});return c}var S=["borders","border"];var T=["fills","fill"];var U=["fonts","font"];var V=["cellXfs","xf"];var W=["cellStyleXfs","xf"];var X=["numFmts","numFmt"];var Y=[da("FF000000"),da("FFFFFFFF"),da("FFFF0000"),da("FF00FF00"),da("FF0000FF"),da("FFFFFF00"),da("FFFF00FF"),da("FF00FFFF"),da("FF000000"),da("FFFFFFFF"),da("FFFF0000"),da("FF00FF00"),da("FF0000FF"),da("FFFFFF00"),da("FFFF00FF"),da("FF00FFFF"),da("FF800000"),da("FF008000"),da("FF000080"),da("FF808000"),da("FF800080"),da("FF008080"),da("FFC0C0C0"),da("FF808080"),da("FF9999FF"),da("FF993366"),da("FFFFFFCC"),da("FFCCFFFF"),da("FF660066"),da("FFFF8080"),da("FF0066CC"),da("FFCCCCFF"),da("FF000080"),da("FFFF00FF"),da("FFFFFF00"),da("FF00FFFF"),da("FF800080"),da("FF800000"),da("FF008080"),da("FF0000FF"),da("FF00CCFF"),da("FFCCFFFF"),da("FFCCFFCC"),da("FFFFFF99"),da("FF99CCFF"),da("FFFF99CC"),da("FFCC99FF"),da("FFFFCC99"),da("FF3366FF"),da("FF33CCCC"),da("FF99CC00"),da("FFFFCC00"),da("FFFF9900"),da("FFFF6600"),da("FF666699"),da("FF969696"),da("FF003366"),da("FF339966"),da("FF003300"),da("FF333300"),da("FF993300"),da("FF993366"),da("FF333399"),da("FF333333"),da("FF000000"),da("FFFFFFFF")];function Z(a,b){var c={fonts:[],numFmts:{},fills:[],borders:[],namedStyles:[],inlineStyles:[]};var d=null;var e=null;var f=null;var g=null;P(a,"xl/styles.xml",{enter:function(a,b,j){if(this.is(X)){c.numFmts[b.numFmtId]=b}else if(this.is(U)){c.fonts.push(d={})}else if(d){if(a=="sz"){d.size=parseFloat(b.val)}else if(a=="name"){d.name=b.val}else if(a=="b"){d.bold=ca(b.val,true)}else if(a=="i"){d.italic=ca(b.val,true)}else if(a=="u"){d.underline=b.val==null||b.val=="single"}}else if(this.is(T)){c.fills.push(e={})}else if(e){if(a=="patternFill"){e.type=b.patternType}else if(a=="fgColor"&&e.type==="solid"){e.color=i(b)}else if(a=="bgColor"&&e.type!=="solid"){e.color=i(b)}}else if(this.is(S)){c.borders.push(f={})}else if(f){if(/^(?:left|top|right|bottom)$/.test(a)&&b.style){f[a]={style:b.style}}if(a=="color"){var k=this.stack[this.stack.length-2].$tag;f[k].color=i(b)}}else if(this.is(W)){g=h(b);c.namedStyles.push(g);if(j){g=null}}else if(this.is(V)){g=h(b);c.inlineStyles.push(g);if(j){g=null}}else if(g){if(a=="alignment"){if(/^(?:left|center|right|justify)$/.test(b.horizontal)){g.textAlign=b.horizontal}if(/^(?:top|center|bottom)$/.test(b.vertical)){g.verticalAlign=b.vertical}if(b.wrapText!=null){g.wrapText=ca(b.wrapText)}}}},leave:function(a){if(this.is(U)){d=null}else if(this.is(T)){e=null}else if(this.is(S)){f=null}else if(a=="xf"){g=null}}});function h(a){var b={borderId:ba(a.borderId),fillId:ba(a.fillId),fontId:ba(a.fontId),numFmtId:ba(a.numFmtId),pivotButton:ca(a.pivotButton),quotePrefix:ca(a.quotePrefix),xfId:ba(a.xfId)};c("applyAlignment");c("applyBorder");c("applyFill");c("applyFont");c("applyNumberFormat");c("applyProtection");function c(c){if(a[c]!=null){b[c]=ca(a[c])}}return b}function i(a){if(a.rgb){return da(a.rgb)}else if(a.indexed){return Y[ba(a.indexed)]}else if(a.theme){var c=b.colorScheme[ba(a.theme)];if(!c){return Y[0]}var d=kendo.parseColor(c);if(a.tint){d=d.toHSL();var e=parseFloat(a.tint);if(e<0){d.l=d.l*(1+e)}else{d.l=d.l*(1-e)+(100-100*(1-e))}}return d.toCssRgba()}}return c}var $=["a:clrScheme","*","a:srgbClr"];var _=["a:clrScheme","*","a:sysClr"];function aa(a,b){var c=[];var d={colorScheme:c};var e=z(b);if(a.files[e]){P(a,e,{enter:function(a,b){if(this.is(_)){c.push(da(b.val=="window"?"FFFFFFFF":"FF000000"))}else if(this.is($)){c.push(da("FF"+b.val))}}});if(c.length>3){f(c,0,1);f(c,2,3)}}function f(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}return d}function ba(a){return a==null?null:parseInt(a,10)}function ca(a,b){if(a==null){return b}return a=="true"||a===true||a==1}function da(a){var b=/^([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a);return"rgba("+parseInt(b[2],16)+", "+parseInt(b[3],16)+", "+parseInt(b[4],16)+", "+parseInt(b[1],16)/255+")"}kendo.spreadsheet.readExcel=f;kendo.spreadsheet._readSheet=H;kendo.spreadsheet._readStrings=Q;kendo.spreadsheet._readStyles=Z;kendo.spreadsheet._readTheme=aa;kendo.spreadsheet._readWorkbook=A},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/workbook",["kendo.core","spreadsheet/runtime","spreadsheet/references","spreadsheet/excel-reader"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.spreadsheet.calc.runtime.Formula;var d=a.spreadsheet.Ref;var e=a.spreadsheet.CalcError;var f=a.Observable.extend({init:function(b,c){a.Observable.fn.init.call(this);this.options=b;this._view=c;this._sheets=[];this._sheetsSearchCache={};this._sheet=this.insertSheet({rows:this.options.rows,columns:this.options.columns,rowHeight:this.options.rowHeight,columnWidth:this.options.columnWidth,headerHeight:this.options.headerHeight,headerWidth:this.options.headerWidth,dataSource:this.options.dataSource});this.undoRedoStack=new a.util.UndoRedoStack;this.undoRedoStack.bind(["undo","redo"],this._onUndoRedo.bind(this));this._context=new a.spreadsheet.FormulaContext(this);this._validationContext=new a.spreadsheet.ValidationFormulaContext(this);this._names=Object.create(null);this.fromJSON(this.options)},clipboard:function(){if(!this._clipboard){this._clipboard=new a.spreadsheet.Clipboard(this)}return this._clipboard},destroy:function(){this.unbind();if(this._clipboard){this._clipboard.destroy()}},events:["cut","copy","paste","change","excelImport","excelExport","insertSheet","removeSheet","selectSheet","renameSheet","insertRow","insertColumn","deleteRow","deleteColumn","hideRow","hideColumn","unhideRow","unhideColumn","select","changeFormat"],_sheetChange:function(a){this.trigger("change",a)},_sheetInsertRow:function(a){if(this.trigger("insertRow",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetInsertColumn:function(a){if(this.trigger("insertColumn",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetDeleteRow:function(a){if(this.trigger("deleteRow",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetDeleteColumn:function(a){if(this.trigger("deleteColumn",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetHideRow:function(a){if(this.trigger("hideRow",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetHideColumn:function(a){if(this.trigger("hideColumn",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetUnhideRow:function(a){if(this.trigger("unhideRow",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetUnhideColumn:function(a){if(this.trigger("unhideColumn",{sheet:a.sender,index:a.index})){a.preventDefault()}},_sheetSelect:function(a){this.trigger("select",a)},_sheetCommandRequest:function(a){this.trigger("commandRequest",a)},_inputForRef:function(b){return new a.spreadsheet.Range(b,this._sheet).input()},_onUndoRedo:function(a){a.command.range().select()},execute:function(c){var d=b.extend({workbook:this},c.options);var e=new a.spreadsheet[c.command](d);var f=this.activeSheet();if(d.origin){e.origin(d.origin)}if(d.operatingRange){e.range(d.operatingRange)}else{e.range(f.selection())}var g=e.exec();if(!g||g.reason!=="error"){if(e.cannotUndo){this.undoRedoStack.clear()}else{this.undoRedoStack.push(e)}}return g},resetFormulas:function(){this._sheets.forEach(function(a){a.resetFormulas()})},resetValidations:function(){this._sheets.forEach(function(a){a.resetValidations()})},refresh:function(a){if(a.recalc){this.resetFormulas();this.resetValidations();this._sheet.recalc(this._context);this._sheet.revalidate(this._validationContext)}},activeSheet:function(b){if(b===undefined){return this._sheet}if(!this.sheetByName(b.name())){return}this._sheet=b;b.triggerChange(a.spreadsheet.ALL_REASONS)},moveSheetToIndex:function(a,b){var c=this.sheetIndex(a);var d=this._sheets;if(c===-1){return}this._sheetsSearchCache={};d.splice(b,0,d.splice(c,1)[0]);this.trigger("change",{sheetSelection:true})},insertSheet:function(b){b=b||{};var c=this;var d=typeof b.index==="number"?b.index:c._sheets.length;var e;var f=c._sheets;var g=function(a){a=a?a:1;var b="Sheet"+a;if(!c.sheetByName(b)){return b}return g(a+1)};if(b.name&&c.sheetByName(b.name)){return}this._sheetsSearchCache={};e=b.name||g();var h=new a.spreadsheet.Sheet(b.rows||this.options.rows,b.columns||this.options.columns,b.rowHeight||this.options.rowHeight,b.columnWidth||this.options.columnWidth,b.headerHeight||this.options.headerHeight,b.headerWidth||this.options.headerWidth,b.defaultCellStyle||this.options.defaultCellStyle);h._workbook=this;h._name(e);this._bindSheetEvents(h);f.splice(d,0,h);if(b.data){h.fromJSON(b.data)}if(b.dataSource){h.setDataSource(b.dataSource)}this.trigger("change",{sheetSelection:true});return h},_bindSheetEvents:function(a){a.bind("change",this._sheetChange.bind(this));a.bind("insertRow",this._sheetInsertRow.bind(this));a.bind("insertColumn",this._sheetInsertColumn.bind(this));a.bind("deleteRow",this._sheetDeleteRow.bind(this));a.bind("deleteColumn",this._sheetDeleteColumn.bind(this));a.bind("hideRow",this._sheetHideRow.bind(this));a.bind("hideColumn",this._sheetHideColumn.bind(this));a.bind("unhideRow",this._sheetUnhideRow.bind(this));a.bind("unhideColumn",this._sheetUnhideColumn.bind(this));a.bind("select",this._sheetSelect.bind(this));a.bind("commandRequest",this._sheetCommandRequest.bind(this))},sheets:function(){return this._sheets.slice()},sheetByName:function(a){return this._sheets[this.sheetIndex(a)]},sheetByIndex:function(a){return this._sheets[a]},sheetIndex:function(a){var b=this._sheets;var c=(typeof a=="string"?a:a.name()).toLowerCase();var d=this._sheetsSearchCache[c];if(d>=0){return d}for(d=0;d<b.length;d++){var e=b[d].name().toLowerCase();this._sheetsSearchCache[e]=d;if(e===c){return d}}return-1},renameSheet:function(a,b){var e=a.name().toLowerCase();if(!b||e===b.toLowerCase()||this.sheetByName(b)){return}a=this.sheetByName(e);if(!a){return}this._sheetsSearchCache={};if(this.trigger("renameSheet",{sheet:a,newSheetName:b})){return}this._sheets.forEach(function(a){a._forFormulas(function(a){a.renameSheet(e,b)})});this.forEachName(function(a,f){if(a.nameref.renameSheet(e,b)){this.undefineName(f);a.name=a.nameref.print();this.nameDefinition(a.name,a)}if(a.value instanceof d||a.value instanceof c){a.value.renameSheet(e,b)}}.bind(this));a._name(b);this.trigger("change",{sheetSelection:true});return a},removeSheet:function(a){var b=this;var c=b._sheets;var d=a.name();var e=b.sheetIndex(a);if(c.length===1){return}if(this.trigger("removeSheet",{sheet:a})){return}this._sheetsSearchCache={};if(e>-1){a.unbind();c.splice(e,1);if(b.activeSheet().name()===d){var f=c[e===c.length?e-1:e];b.activeSheet(f)}else{this.trigger("change",{recalc:true,sheetSelection:true})}}},_clearSheets:function(){for(var a=0;a<this._sheets.length;a++){this._sheets[a].unbind()}this._sheets=[];this._sheetsSearchCache={};this._names={}},fromJSON:function(a){if(a.sheets){this._clearSheets();for(var b=0;b<a.sheets.length;b++){var c=a.sheets[b];var d=g(c,this.options);var e=this.insertSheet({rows:d.rowCount,columns:d.columnCount,rowHeight:d.rowHeight,columnWidth:d.columnWidth,headerHeight:d.headerHeight,headerWidth:d.headerWidth,data:c});if(c.dataSource){e.setDataSource(c.dataSource)}}}if(a.activeSheet){this.activeSheet(this.sheetByName(a.activeSheet))}else{this.activeSheet(this._sheets[0])}if(a.names){a.names.forEach(function(a){this.defineName(a.name,a.value,a.hidden)},this)}},toJSON:function(){this.resetFormulas();this.resetValidations();var a=Object.keys(this._names).map(function(a){var b=this._names[a];var f=b.value;if(f instanceof d||f instanceof c){f=f.print(0,0,true)}else if(f instanceof e){f=f+""}else{f=JSON.stringify(f)}return{value:f,hidden:b.hidden,name:b.name,sheet:b.nameref.sheet,localName:b.nameref.name}},this);return{activeSheet:this.activeSheet().name(),sheets:this._sheets.map(function(a){a.recalc(this._context);a.revalidate(this._validationContext);return a.toJSON()},this),names:a,columnWidth:this.options.columnWidth,rowHeight:this.options.rowHeight}},fromFile:function(c){var d=new b.Deferred;var e=d.promise();var f={file:c,promise:e};if(c&&!this.trigger("excelImport",f)){this._clearSheets();a.spreadsheet.readExcel(c,this,d)}else{d.reject()}return e},saveAsExcel:function(c){c=b.extend({},this.options.excel,c);var d=this.toJSON();if(!this.trigger("excelExport",{workbook:d})){var e=new a.ooxml.Workbook(d);a.saveAs({dataURI:e.toDataURL(),fileName:d.fileName||c.fileName,proxyURL:c.proxyURL,forceProxy:c.forceProxy})}},draw:function(b,c){if(typeof b=="function"&&!c){c=b;b={}}var d=[],e=this._sheets;(function f(g){if(g<e.length){e[g].draw(a.spreadsheet.SHEETREF,b,function(a){d.push(a);f(g+1)})}else{var h=d[0];for(g=1;g<d.length;++g){h.children=h.children.concat(d[g].children)}c(h)}})(0)},nameForRef:function(a,b){if(b===undefined){b=a.sheet}b=b.toLowerCase();var c=a+"";for(var e in this._names){var f=this._names[e];var g=f.value;if(g instanceof d){if(!g.sheet||g.sheet&&b==g.sheet.toLowerCase()){if(g+""==c){return f}}}}return{name:c}},defineName:function(b,c,d){var e=a.spreadsheet.calc.parseNameDefinition(b,c);b=e.name.print();this._names[b.toLowerCase()]={value:e.value,hidden:d,name:b,nameref:e.name}},undefineName:function(a){delete this._names[a.toLowerCase()]},nameValue:function(a){a=a.toLowerCase();if(a in this._names){return this._names[a].value}return null},nameDefinition:function(a,b){a=a.toLowerCase();if(arguments.length>1){if(b===undefined){delete this._names[a]}else{this._names[a]=b}}return this._names[a]},forEachName:function(a){Object.keys(this._names).forEach(function(b){a(this._names[b],b)},this)},adjustNames:function(a,b,e,f){a=a.toLowerCase();Object.keys(this._names).forEach(function(g){var h=this._names[g];var i=h.value;if(i instanceof d&&i.sheet.toLowerCase()==a){h.value=i.adjust(null,null,null,null,b,e,f)}else if(i instanceof c){i.adjust(a,b?"row":"col",e,f)}},this)},options:{}});function g(a,b){function c(a,b,c){return a!==undefined?a:b!==undefined?b:c}var d=c(a.rowCount,b.rows,200),e=c(a.columnCount,b.columns,50),f=c(a.rowHeight,b.rowHeight,20),g=c(a.columnWidth,b.columnWidth,64),h=c(a.headerHeight,b.headerHeight,20),i=c(a.headerWidth,b.headerWidth,32);if(a.rows!==undefined){for(var j=0;j<a.rows.length;++j){var k=a.rows[j];var l=c(k.index,j);if(l>=d){d=l+1}if(k.cells){for(var m=0;m<k.cells.length;++m){var n=k.cells[m];var o=c(n.index,m);if(o>=e){e=o+1}}}}}return{rowCount:d,columnCount:e,rowHeight:f,columnWidth:g,headerHeight:h,headerWidth:i}}a.spreadsheet.Workbook=f;if(a.PDFMixin){a.PDFMixin.extend(f.prototype);f.prototype.saveAsPDF=function(c){var d=new b.Deferred;var e=d.promise();var f={promise:e};if(this.trigger("pdfExport",f)){return}this._drawPDF(c,d).then(function(b){return a.drawing.exportPDF(b)}).done(function(b){a.saveAs({dataURI:b,fileName:c.fileName,proxyURL:c.proxyURL,forceProxy:c.forceProxy,proxyTarget:c.proxyTarget});d.resolve()}).fail(function(a){d.reject(a)});return e};f.prototype._drawPDF=function(a){var c=new b.Deferred;var d=function(a){c.resolve(a)};switch(a.area){case"workbook":a.workbook.draw(a,d);break;case"sheet":a.workbook.activeSheet().draw(a,d);break;case"selection":a.workbook.activeSheet().selection().draw(a,d);break}return c.promise()}}})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/formulacontext",["kendo.core"],a)})(function(){if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.spreadsheet;var b=a.CellRef;var c=a.RangeRef;var d=a.UnionRef;var e=a.NameRef;var f=a.Ref;var g=kendo.Class.extend({init:function(a){this.workbook=a},getRefCells:function(a,g,h,i,j,k){var l,m,n,o;if(a instanceof b){l=this.workbook.sheetByName(a.sheet);if(!l||!a.valid()){return[{value:new kendo.spreadsheet.calc.runtime.CalcError("REF")}]}m=l.formula(a);n=l.range(a.row,a.col).value();if(k||m!=null||n!=null){return[{formula:m,value:n,row:a.row,col:a.col,sheet:a.sheet,hidden:g?l.columnWidth(a.col)===0||l.rowHeight(a.row)===0:false}]}else{return[]}}if(a instanceof c){o=this.workbook.sheetIndex(a.sheet);var p=[],q=o;if(a.endSheet){q=this.workbook.sheetIndex(a.endSheet);if(o>q){var r=o;o=q;q=r}}if(o<0||q<0||!a.valid()){return[{value:new kendo.spreadsheet.calc.runtime.CalcError("REF")
}]}while(o<=q){l=this.workbook.sheetByIndex(o++);var s=l._grid.normalize(a.topLeft);var t=l._grid.normalize(a.bottomRight);var u=l._grid.cellRefIndex(s);var v=l._grid.cellRefIndex(t);var w=l._properties.iterator("value",u,v);for(var x=s.col;x<=t.col;++x){for(var y=s.row;y<=t.row;++y){var z=l._grid.index(y,x);m=l._properties.get("formula",z);n=w.at(z);if(k||m!=null||n!=null){p.push({formula:m,value:n,row:y,col:x,sheet:l.name(),hidden:g?l.columnWidth(x)===0||l.rowHeight(y)===0:false})}}}}return p}if(a instanceof d){var A=[];for(o=0;o<a.refs.length;++o){A=A.concat(this.getRefCells(a.refs[o],g,h,i,j))}return A}if(a instanceof e){var B=this.nameValue(a,h,i,j);if(B instanceof f){return this.getRefCells(B,g,h,i,j)}return[{value:B==null?new kendo.spreadsheet.calc.runtime.CalcError("NAME"):B}]}return[]},nameValue:function(a,b,c,d){var e;if(a.hasSheet()){e=this.workbook.nameValue(a.print())}else{a=a.clone().setSheet(b,true);e=this.workbook.nameValue(a.print());if(e==null){e=this.workbook.nameValue(a.name)}}if(e instanceof f){e=e.absolute(c,d)}return e},getData:function(a,c,d,f,g){var h=a instanceof b;if(a instanceof e){h=this.workbook.nameValue(a.name)instanceof b}var i=this.getRefCells(a,false,c,d,f,g).map(function(a){var b=a.value;if(b instanceof kendo.spreadsheet.calc.runtime.Formula){b=b.value}return b});return h?i[0]:i},onFormula:function(a){var b=this.workbook.sheetByName(a.sheet);var c=a.row,d=a.col,e=a.value;var g=b.formula({row:c,col:d});if(g!==a){return false}var h=a.arrayFormulaRange;if(h){var i,j;var k=e.width;var l=e.height;b.forEach(h,function(a,c){if(i===undefined){i=a;j=c}var d=a-i;var f=c-j;var g;if(d<l&&f<k){g=e.get(d,f)}else{g=new kendo.spreadsheet.calc.runtime.CalcError("N/A")}b._value(a,c,g)})}else{if(e instanceof f){e=this.getData(e,a.sheet,c,d);if(Array.isArray(e)){e=e[0]}if(e===undefined){e=null}}if(e instanceof kendo.spreadsheet.calc.runtime.Matrix){e=e.get(0,0)}b._value(c,d,e)}clearTimeout(b._formulaContextRefresh);b._formulaContextRefresh=setTimeout(function(){b.batch(function(){},{layout:true})},50);return true}});var h=g.extend({onFormula:function(){return true}});a.FormulaContext=g;a.ValidationFormulaContext=h},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/controller",["kendo.core"],a)})(function(){(function(a){"use strict";if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=/:alphanum$/;var d={up:"up",down:"down",left:"left",right:"right",home:"first-col","ctrl+left":"first-col",end:"last-col","ctrl+right":"last-col","ctrl+up":"first-row","ctrl+down":"last-row","ctrl+home":"first","ctrl+end":"last",pageup:"prev-page",pagedown:"next-page"};var e={tab:"next","shift+tab":"previous",enter:"lower","shift+enter":"upper",delete:"clearContents",backspace:"clearContents","shift+:alphanum":"edit",":alphanum":"edit","ctrl+:alphanum":"ctrl","alt+ctrl+:alphanum":"edit",":edit":"edit"};var f={wheel:"onWheel","*+mousedown":"onMouseDown",contextmenu:"onContextMenu","*+mousedrag":"onMouseDrag","*+mouseup":"onMouseUp","*+dblclick":"onDblClick",mousemove:"onMouseMove"};var g={pageup:"onPageUp",pagedown:"onPageDown",mouseup:"onMouseUp","*+cut":"onCut","*+paste":"onPaste","*+copy":"onCopy"};var h={esc:"onEditorEsc",enter:"onEditorBlur","alt+enter":"insertNewline","shift+enter":"onEditorBlur",tab:"onEditorBlur","shift+tab":"onEditorBlur","shift+ctrl+enter":"onEditorArrayFormula"};var i=b.extend({focus:"onEditorBarFocus"},h);var j=b.extend({focus:"onEditorCellFocus"},h);var k={cell:"range",rowheader:"row",columnheader:"column",topcorner:"sheet",autofill:"autofill"};function l(a){return a.map(function(a){return'[data-action="'+a+'"]'}).join(",")}var m=l(["cut","copy","paste","insert-left","insert-right","insert-above","insert-below"]);var n=l(["unhide-row","unhide-column"]);var o=[];var p=[];var q=[];for(var r in d){o.push(r);p.push("shift+"+r)}for(r in e){q.push(r)}g[o]="onAction";g[p]="onShiftAction";g[q]="onEntryAction";j[o]="onEditorAction";j[p]="onEditorShiftAction";var s=a.Class.extend({init:function(c,d){this.view=c;this.workbook(d);this.container=b(c.container);this.clipboardElement=b(c.clipboard);this.cellContextMenu=c.cellContextMenu;this.rowHeaderContextMenu=c.rowHeaderContextMenu;this.colHeaderContextMenu=c.colHeaderContextMenu;this.scroller=c.scroller;this.tabstrip=c.tabstrip;this.sheetsbar=c.sheetsbar;c.nameEditor.bind("enter",this.onNameEditorEnter.bind(this));c.nameEditor.bind("cancel",this.onNameEditorCancel.bind(this));c.nameEditor.bind("select",this.onNameEditorSelect.bind(this));c.nameEditor.bind("delete",this.onNameEditorDelete.bind(this));this.editor=c.editor;this.editor.bind("change",this.onEditorChange.bind(this));this.editor.bind("activate",this.onEditorActivate.bind(this));this.editor.bind("deactivate",this.onEditorDeactivate.bind(this));this.editor.bind("update",this.onEditorUpdate.bind(this));b(c.scroller).on("scroll",this.onScroll.bind(this));this.listener=new a.spreadsheet.EventListener(this.container,this,f);this._enableEditorEvents();if(this.sheetsbar){this.sheetsbar.bind("select",this.onSheetBarSelect.bind(this));this.sheetsbar.bind("reorder",this.onSheetBarReorder.bind(this));this.sheetsbar.bind("rename",this.onSheetBarRename.bind(this));this.sheetsbar.bind("remove",this.onSheetBarRemove.bind(this))}this.cellContextMenu.bind("select",this.onContextMenuSelect.bind(this));this.rowHeaderContextMenu.bind("select",this.onContextMenuSelect.bind(this));this.colHeaderContextMenu.bind("select",this.onContextMenuSelect.bind(this));this.cellContextMenu.element.add(this.rowHeaderContextMenu.element).add(this.colHeaderContextMenu.element).on("contextmenu",false);if(this.tabstrip){this.tabstrip.bind("action",this.onCommandRequest.bind(this));this.tabstrip.bind("dialog",this.onDialogRequest.bind(this))}},_enableEditorEvents:function(b){if(b===undefined||b){this.keyListener=new a.spreadsheet.EventListener(this.clipboardElement,this,g);this.barKeyListener=new a.spreadsheet.EventListener(this.editor.barElement(),this,i);this.inputKeyListener=new a.spreadsheet.EventListener(this.editor.cellElement(),this,j)}else{this.keyListener.destroy();this.barKeyListener.destroy();this.inputKeyListener.destroy()}},_execute:function(a){var b=this._workbook.execute(a);if(a.command==="EditCommand"&&!b){this._workbook.trigger("change",{editorClose:true})}if(b){this._preventNavigation=true;if(b.reason==="error"){this.editor.deactivate(true);this.view.showError(b,function(){this.activateEditor(false);this.editor.value(this._lastEditorValue);this.editor._value=this._workbook._inputForRef(this._workbook.activeSheet()._viewActiveCell());this.editor.select()}.bind(this))}else{this.view.openDialog(b.reason)}}return b},_activeTooltip:function(){return this._workbook.activeSheet().activeCell().simplify().toString()},onContextMenuSelect:function(a){var c=b(a.item).data("action");var d;switch(c){case"cut":d={command:"ToolbarCutCommand",options:{workbook:this._workbook}};break;case"copy":d={command:"ToolbarCopyCommand",options:{workbook:this._workbook}};break;case"paste":d={command:"ToolbarPasteCommand",options:{workbook:this._workbook}};break;case"unmerge":d={command:"MergeCellCommand",options:{value:"unmerge"}};break;case"merge":this.view.openDialog("merge");break;case"hide-row":d={command:"HideLineCommand",options:{axis:"row"}};break;case"hide-column":d={command:"HideLineCommand",options:{axis:"column"}};break;case"unhide-row":d={command:"UnHideLineCommand",options:{axis:"row"}};break;case"unhide-column":d={command:"UnHideLineCommand",options:{axis:"column"}};break;case"delete-row":d={command:"DeleteRowCommand"};break;case"delete-column":d={command:"DeleteColumnCommand"};break}if(d){this._execute(d)}},onSheetBarRemove:function(a){var b=this._workbook.sheetByName(a.name);if(!b){return}this._workbook.removeSheet(b)},destroy:function(){this.listener.destroy();this._enableEditorEvents(false);this.keyListener.destroy();this.inputKeyListener.destroy()},onSheetBarSelect:function(a){var b;var c=this._workbook;if(a.isAddButton){if(this._workbook.trigger("insertSheet")){return}b=c.insertSheet()}else{b=c.sheetByName(a.name)}if(c.activeSheet().name()!==b.name()){if(this._workbook.trigger("selectSheet",{sheet:b})){return}if(!this.editor.canInsertRef(false)){this.editor.deactivate()}c.activeSheet(b)}},onSheetBarReorder:function(a){var b=this._workbook.sheetByIndex(a.oldIndex);this._workbook.moveSheetToIndex(b,a.newIndex);this._workbook.activeSheet(b)},onSheetBarRename:function(a){var b=this._workbook.sheetByIndex(a.sheetIndex);if(this._workbook.sheetByName(a.name)){this.view.showError({reason:"error",type:"duplicateSheetName"});return}this._workbook.renameSheet(b,a.name);this.clipboardElement.focus()},sheet:function(a){this.navigator=a.navigator();this.axisManager=a.axisManager()},workbook:function(a){this._workbook=a;this.clipboard=a.clipboard();a.bind("commandRequest",this.onCommandRequest.bind(this))},refresh:function(){var a=this.editor;var b=this._workbook;var c=b.activeSheet();this._viewPortHeight=this.view.scroller.clientHeight;this.navigator.height(this._viewPortHeight);if(!a.isActive()&&!this.isEditorDisabled){a.enable(c.selection().enable()!==false);this.resetEditorValue()}var d=c.selection()._ref.simplify();var e=this._workbook.nameForRef(d,c.name());this.view.nameEditor.value(e.name)},onScroll:function(){this.view.render()},onWheel:function(a){var b=a.originalEvent.deltaX;var c=a.originalEvent.deltaY;if(a.originalEvent.deltaMode===1){b*=10;c*=10}this.scrollWith(b,c);a.preventDefault()},onAction:function(a,b){this.navigator.moveActiveCell(d[b]);a.preventDefault()},onPageUp:function(){this.scrollDown(-this._viewPortHeight)},onPageDown:function(){this.scrollDown(this._viewPortHeight)},onEntryAction:function(a,b){if(a.mod){var d=true;var f=String.fromCharCode(a.keyCode);switch(f){case"A":this.navigator.selectAll();break;case"Y":this._workbook.undoRedoStack.redo();break;case"Z":this._workbook.undoRedoStack.undo();break;default:d=false;break}if(d){a.preventDefault()}}else{var g=this._workbook.activeSheet().selection().enable()===false;var h=b!==":edit";if(b=="delete"||b=="backspace"){if(!g){this._execute({command:"ClearContentCommand"})}a.preventDefault()}else if(c.test(b)||!h){if(g){a.preventDefault();return}if(h){this.editor.value("")}this.activateEditor(h)}else{this.navigator.navigateInSelection(e[b]);a.preventDefault()}}},onShiftAction:function(a,b){this.navigator.modifySelection(d[b.replace("shift+","")],this.appendSelection);a.preventDefault()},onMouseMove:function(a){var b=this._workbook.activeSheet();if(b.resizingInProgress()||b.selectionInProgress()){return}var c=this.objectAt(a);if(c.type==="columnresizehandle"||c.type==="rowresizehandle"){b.positionResizeHandle(c.ref)}else{b.removeResizeHandle()}},onMouseDown:function(a){var b=this.objectAt(a);if(b.pane){this.originFrame=b.pane}if(b.type==="editor"){this.onEditorEsc();this.openCustomEditor();a.preventDefault();return}if(this.editor.canInsertRef(false)&&b.ref){this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs());this.navigator.startSelection(b.ref,this._selectionMode,this.appendSelection,a.shiftKey);a.preventDefault();return}else{this._preventNavigation=false;this.editor.deactivate();if(this._preventNavigation){return}}var c=this._workbook.activeSheet();if(b.type==="columnresizehandle"||b.type==="rowresizehandle"){c.startResizing({x:b.x,y:b.y});a.preventDefault();return}if(b.type==="filtericon"){this.openFilterMenu(a);a.preventDefault();return}this._selectionMode=k[b.type];this.appendSelection=a.mod;this.navigator.startSelection(b.ref,this._selectionMode,this.appendSelection,a.shiftKey)},onContextMenu:function(b){var c=this._workbook.activeSheet();if(c.resizingInProgress()){return}b.preventDefault();this.cellContextMenu.close();this.colHeaderContextMenu.close();this.rowHeaderContextMenu.close();var d;var e=this.objectAt(b);if(e.type==="columnresizehandle"||e.type==="rowresizehandle"){return}this.navigator.selectForContextMenu(e.ref,k[e.type]);var f=this.navigator._sheet.select()instanceof a.spreadsheet.UnionRef;var g=false;var h=false;if(e.type=="columnheader"){d=this.colHeaderContextMenu;g=!f&&this.axisManager.selectionIncludesHiddenColumns()}else if(e.type=="rowheader"){d=this.rowHeaderContextMenu;g=!f&&this.axisManager.selectionIncludesHiddenRows()}else{d=this.cellContextMenu;h=this.navigator.selectionIncludesMergedCells()}d.element.find(m).toggle(!f);d.element.find(n).toggle(g);d.element.find("[data-action=unmerge]").toggle(h);setTimeout(function(){d.open(b.pageX,b.pageY)})},prevent:function(a){a.preventDefault()},constrainResize:function(a,b){var c=this._workbook.activeSheet();var d=c.resizeHandlePosition();return!d||a==="outside"||a==="topcorner"||b.col<d.col||b.row<d.row},onMouseDrag:function(a){if(this._selectionMode==="sheet"){return}var b={clientX:a.clientX,clientY:a.clientY};var c=this.objectAt(b);var d=this._workbook.activeSheet();if(d.resizingInProgress()){if(!this.constrainResize(c.type,c.ref)){d.resizeHintPosition({x:c.x,y:c.y})}return}if(c.type==="outside"){this.startAutoScroll(c);return}if(this.originFrame===c.pane){this.selectToLocation(b)}else{var e=this.originFrame._grid;if(c.x>e.right){this.scrollLeft()}if(c.y>e.bottom){this.scrollTop()}if(c.y<e.top||c.x<e.left){this.startAutoScroll(c,b)}else{this.selectToLocation(b)}}a.preventDefault()},onMouseUp:function(a){var b=this._workbook.activeSheet();b.completeResizing();this.navigator.completeSelection();this.stopAutoScroll();var c=this.editor.activeEditor();if(!c){return}var d=a.target;while(d){if(d===c.element[0]){return}d=d.parentNode}var e=this.objectAt(a);if(e&&e.ref&&c.canInsertRef(false)){c.refAtPoint(b);b._setFormulaSelections(c.highlightedRefs())}},onDblClick:function(a){var b=this.objectAt(a);var c=this._workbook.activeSheet().selection().enable()===false;if(b.type!=="cell"||c){return}var d=this._workbook.activeSheet().selection();this.activateEditor(!d.value()&&!d.formula());this.onEditorUpdate()},onCut:function(a){if(a){var b=this.clipboardElement.find("table.kendo-clipboard-"+this.clipboard._uid).detach();this.clipboardElement.append(b.clone(false));setTimeout(function(){this.clipboardElement.empty().append(b)}.bind(this))}this._execute({command:"CutCommand",options:{workbook:this.view._workbook,event:a.originalEvent||a}})},clipBoardValue:function(){return this.clipboardElement.html()},onPaste:function(b){var c="";var d="";this.clipboard.menuInvoked=b===undefined;if(b){if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.getData){b.preventDefault();var e=false;var f=false;if(window.DOMStringList&&b.originalEvent.clipboardData.types instanceof window.DOMStringList){e=b.originalEvent.clipboardData.types.contains("text/html");f=b.originalEvent.clipboardData.types.contains("text/plain")}else{e=/text\/html/.test(b.originalEvent.clipboardData.types);f=/text\/plain/.test(b.originalEvent.clipboardData.types)}if(e){c=b.originalEvent.clipboardData.getData("text/html")}if(f){d=b.originalEvent.clipboardData.getData("text/plain").trim()}}else{var g=this.clipboardElement.find("table.kendo-clipboard-"+this.clipboard._uid).detach();this.clipboardElement.empty();setTimeout(function(){var a=this.clipboardElement.html();var c=window.clipboardData.getData("Text").trim();if(!a&&!c){return}this.clipboard.external({html:a,plain:c});this.clipboardElement.empty().append(g);this._execute({command:"PasteCommand",options:{workbook:this.view._workbook,event:b.originalEvent||b}});this.clipboard.menuInvoked=true}.bind(this));return}}else{if(a.support.browser.msie){this.clipboardElement.focus().select();document.execCommand("paste");return}else{this.clipboard.menuInvoked=true}}if(!c&&!d){return}this.clipboard.external({html:c,plain:d});this._execute({command:"PasteCommand",options:{workbook:this.view._workbook,event:b.originalEvent||b}})},onCopy:function(a){this.clipboard.menuInvoked=a===undefined;this._execute({command:"CopyCommand",options:{workbook:this.view._workbook,event:a.originalEvent||a}})},scrollTop:function(){this.scroller.scrollTop=0},scrollLeft:function(){this.scroller.scrollLeft=0},scrollDown:function(a){this.scroller.scrollTop+=a},scrollRight:function(a){this.scroller.scrollLeft+=a},scrollWith:function(a,b){this.scroller.scrollTop+=b;this.scroller.scrollLeft+=a},objectAt:function(a){if(!a){return}var b=this.container[0].getBoundingClientRect();return this.view.objectAt(a.clientX-b.left,a.clientY-b.top)},selectToLocation:function(a){var b=this.objectAt(a);if(b.pane){this.extendSelection(b);this.lastKnownCellLocation=a;this.originFrame=b.pane}this.stopAutoScroll()},extendSelection:function(a){this.navigator.extendSelection(a.ref,this._selectionMode,this.appendSelection)},autoScroll:function(){var a=this._autoScrollTarget.x;var b=this._autoScrollTarget.y;var c=this.originFrame._grid;var d=this.view.scroller;var e=8;var f=d.scrollLeft;var g=d.scrollTop;if(a<c.left){this.scrollRight(-e)}if(a>c.right){this.scrollRight(e)}if(b<c.top){this.scrollDown(-e)}if(b>c.bottom){this.scrollDown(e)}if(g===d.scrollTop&&f===d.scrollLeft){this.selectToLocation(this.finalLocation)}else{this.extendSelection(this.objectAt(this.lastKnownCellLocation))}},startAutoScroll:function(a,b){if(!this._scrollInterval){this._scrollInterval=setInterval(this.autoScroll.bind(this),50)}this.finalLocation=b||this.lastKnownCellLocation;this._autoScrollTarget=a},stopAutoScroll:function(){clearInterval(this._scrollInterval);this._scrollInterval=null},openCustomEditor:function(){this.view.openCustomEditor()},openFilterMenu:function(a){var b=this.objectAt(a);var c=this._workbook.activeSheet();var d=c.filterColumn(b.ref);var e=this.view.createFilterMenu(d);e.bind("action",this.onCommandRequest.bind(this));e.bind("action",e.close.bind(e));e.openFor(a.target)},_saveEditorValue:function(a){var b=this.editor._range.sheet();var c=this.editor.value();if(this._workbook.activeSheet()!==b){this._workbook.activeSheet()._setFormulaSelections();this._workbook.activeSheet(b)}b.isInEditMode(false);this._lastEditorValue=c;this._execute({command:"EditCommand",options:{value:c,arrayFormula:a}})},onEditorChange:function(){this._saveEditorValue(false)},onEditorArrayFormula:function(){this._saveEditorValue(true);this.editor.deactivate(true)},onEditorActivate:function(){var a=this._workbook;var b=a.activeSheet();b._setFormulaSelections(this.editor.highlightedRefs());b.isInEditMode(true)},onEditorDeactivate:function(){var a=this._workbook.activeSheet();a.isInEditMode(false);a._setFormulaSelections([])},onEditorUpdate:function(){this._workbook.activeSheet()._setFormulaSelections(this.editor.highlightedRefs())},onEditorBarFocus:function(){var a=this._workbook.activeSheet().selection().enable()===false;if(a){return}this.editor.activate({range:this._workbook.activeSheet().selection(),rect:this.view.activeCellRectangle(),tooltip:this._activeTooltip()})},onEditorCellFocus:function(){this.editor.scale()},onEditorEsc:function(){this.resetEditorValue();this.editor.deactivate();this.clipboardElement.focus()},insertNewline:function(a){a.preventDefault();this.editor.insertNewline()},onEditorBlur:function(a,b){if(this.editor.isFiltered()){return}this._preventNavigation=false;this.editor.deactivate();if(!this._preventNavigation){this.clipboardElement.focus();this.navigator.navigateInSelection(e[b])}},onEditorAction:function(a,b){var c=this.editor;var e=this._workbook.activeSheet();if(this._casualEditing&&/^(?:up|right|down|left)$/.test(b)){this.deactivateEditor();this.navigator.moveActiveCell(d[b]);a.preventDefault()}else if(c.canInsertRef(true)){this.navigator.moveActiveCell(d[b]);c.activeEditor().refAtPoint(e);e._setFormulaSelections(c.highlightedRefs());a.preventDefault()}},onEditorShiftAction:function(a,b){var c=this.editor;var e=this._workbook.activeSheet();if(c.canInsertRef(true)){this.navigator.modifySelection(d[b.replace("shift+","")],this.appendSelection);c.activeEditor().refAtPoint(e);e._setFormulaSelections(c.highlightedRefs());a.preventDefault()}},resetEditorValue:function(){var a=this._workbook.activeSheet();var b=a.activeCell();var c=this._workbook._inputForRef(b);var d=a.range(b).intersectingArrayFormula();if(d){c="="+d.formula}this.editor.value(c,!!d)},activateEditor:function(a){this._casualEditing=a;this.editor.activate({range:this._workbook.activeSheet().selection(),rect:this.view.activeCellRectangle(),tooltip:this._activeTooltip()}).focus()},deactivateEditor:function(){this.view.editor.deactivate()},onCommandRequest:function(a){if(a.command){this._execute(a)}else{this._workbook.undoRedoStack[a.action]()}},onDialogRequest:function(a){var c={pdfExport:this._workbook.options.pdf,excelExport:this._workbook.options.excel};if(a.options){b.extend(true,a.options,c)}else{a.options=c}this.view.openDialog(a.name,a.options)},onNameEditorEnter:function(){var b;var c=this._workbook;var d=c.activeSheet();var e=this.view.nameEditor.value();b=a.spreadsheet.calc.parseReference(e,true)||c.nameValue(e);if(b instanceof a.spreadsheet.Ref){if(b.sheet&&b.sheet.toLowerCase()!=d.name().toLowerCase()){var f=c.sheetByName(b.sheet);if(f){c.activeSheet(f);d=f}}d.range(b).select();return}b=d.selection()._ref.clone().simplify().setSheet(d.name(),true);this._execute({command:"DefineNameCommand",options:{name:e,value:b}});this.clipboardElement.focus()},onNameEditorCancel:function(){this.clipboardElement.focus()},onNameEditorSelect:function(b){var c=b.name;var d=this._workbook;var e=d.activeSheet();var f=d.nameValue(c);if(f instanceof a.spreadsheet.Ref){if(f.sheet&&f.sheet.toLowerCase()!=e.name().toLowerCase()){var g=d.sheetByName(f.sheet);if(g){d.activeSheet(g);e=g}}e.range(f).select();return}this.clipboardElement.focus()},onNameEditorDelete:function(a){this._execute({command:"DeleteNameCommand",options:{name:a.name}});this.clipboardElement.focus()}});a.spreadsheet.Controller=s})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/view",["kendo.core","kendo.menu","spreadsheet/sheetsbar","util/main"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.spreadsheet.CellRef;var d=".";var e=7;var f={view:"k-spreadsheet-view",fixedContainer:"k-spreadsheet-fixed-container",editContainer:"k-spreadsheet-edit-container",scroller:"k-spreadsheet-scroller",viewSize:"k-spreadsheet-view-size",clipboard:"k-spreadsheet-clipboard",cellEditor:"k-spreadsheet-cell-editor",barEditor:"k-spreadsheet-editor",topCorner:"k-spreadsheet-top-corner",filterHeadersWrapper:"k-filter-wrapper",filterRange:"k-filter-range",filterButton:"k-spreadsheet-filter",filterButtonActive:"k-state-active",horizontalResize:"k-horizontal-resize",verticalResize:"k-vertical-resize",icon:"k-icon",iconFilterDefault:"k-i-arrow-60-down",sheetsBar:"k-spreadsheet-sheets-bar",sheetsBarActive:"k-spreadsheet-sheets-bar-active",sheetsBarInactive:"k-spreadsheet-sheets-bar-inactive",cellContextMenu:"k-spreadsheet-cell-context-menu",rowHeaderContextMenu:"k-spreadsheet-row-header-context-menu",colHeaderContextMenu:"k-spreadsheet-col-header-context-menu"};a.spreadsheet.messages.view={nameBox:"Name Box",errors:{openUnsupported:"Unsupported format. Please select an .xlsx file.",shiftingNonblankCells:"Cannot insert cells due to data loss possibility. Select another insert location or delete the data from the end of your worksheet.",insertColumnWhenRowIsSelected:"Cannot insert column when all columns are selected.",insertRowWhenColumnIsSelected:"Cannot insert row when all rows are selected.",filterRangeContainingMerges:"Cannot create a filter within a range containing merges",sortRangeContainingMerges:"Cannot sort a range containing merges",cantSortMultipleSelection:"Cannot sort multiple selection",cantSortNullRef:"Cannot sort empty selection",cantSortMixedCells:"Cannot sort range containing cells of mixed shapes",validationError:"The value that you entered violates the validation rules set on the cell.",cannotModifyDisabled:"Cannot modify disabled cells."},tabs:{home:"Home",insert:"Insert",data:"Data"}};function g(a){var b=window.getSelection();b.removeAllRanges();var c=document.createRange();c.selectNodeContents(a);b.addRange(c)}function h(a,b){var c=a.trs[b].children;return c[c.length-2]}function i(a,b){var c=a.trs[b-1];var d=a.trs[b].children.length-1;if(c&&d>=0){return c.children[d]}}function j(a){return(a.size||1)+"px solid "+(a.color||"#000")}function k(a){if(!/:\/\//.test(a)){a="http://"+a}return a}function l(b,c,d,e){function f(b){var d=c.link;if(!d){if(typeof c.value=="object"){d=c.value.link}}if(d){var e={textDecoration:"none"};if(c.color){e.color=c.color}if(c.underline){e.textDecoration="underline"}return a.dom.element("a",{href:k(d),style:e,target:"_blank"},b?[b]:[])}return b}var g=c.value!=null||c.validation!=null&&!c.validation.value||c.background||c.merged;if(!d&&!g){return}var h={};var i=c.background;if(i){var l=i;if(e){l=a.parseColor(l).toHSV();l.v*=.9;l=l.toCssRgba()}l=j({color:l});h.outline=l}if(i){h.backgroundColor=i}if(c.color){h.color=c.color}if(c.fontFamily){h.fontFamily=c.fontFamily}if(c.underline){h.textDecoration="underline"}if(c.italic){h.fontStyle="italic"}if(c.textAlign){h.textAlign=c.textAlign}if(c.bold){h.fontWeight="bold"}if(c.fontSize){h.fontSize=c.fontSize+"px"}if(c.wrap===true){h.whiteSpace="pre-wrap";h.overflowWrap="break-word";h.wordWrap="break-word"}h.left=c.left+1+"px";h.top=c.top+1+"px";h.width=c.width-1+"px";h.height=c.height-1+"px";var m=c.value,n=typeof m;if(c.format&&m!=null){m=a.spreadsheet.formatting.format(m,c.format);if(m.__dataType){n=m.__dataType}}else if(m!==null&&m!==undefined){m=a.dom.text(m)}if(!h.textAlign){switch(n){case"number":case"date":case"percent":case"currency":h.textAlign="right";break;case"boolean":h.textAlign="center";break}}var o=[u.cell];if(d){o.push(d)}if(c.enable===false){o.push("k-state-disabled")}if(c.merged){o.push("k-spreadsheet-merged-cell")}var p=c.verticalAlign||"bottom";if(p&&m){m=a.dom.element("div",{className:"k-vertical-align-"+p},[f(m)])}else{m=f(m)}var q=m?[m]:[];var r={style:h};var s=c.validation;if(s&&!s.value){q.push(a.dom.element("span",{className:"k-dirty"}));o.push("k-dirty-cell");r.title=s.message}r.className=o.join(" ");var t=a.dom.element("div",r,q);b.push(t);return t}function m(b,c,d){var e={};if(d.background){e.backgroundColor=d.background}if(d.color){e.color=d.color}if(d.fontFamily){e.fontFamily=d.fontFamily}if(d.underline){e.textDecoration="underline"}if(d.italic){e.fontStyle="italic"}if(d.textAlign){e.textAlign=d.textAlign}if(d.verticalAlign){e.verticalAlign=d.verticalAlign==="center"?"middle":d.verticalAlign}if(d.bold){e.fontWeight="bold"}if(d.fontSize){e.fontSize=d.fontSize+"px"}if(d.wrap===true){e.whiteSpace="pre-wrap";e.wordBreak="break-all"}if(d.borderRight){e.borderRight=j(d.borderRight)}else if(d.background){e.borderRightColor=d.background}if(d.borderBottom){e.borderBottom=j(d.borderBottom)}else if(d.background){e.borderBottomColor=d.background}var f=d.value,g=typeof f;if(d.format&&f!=null){f=a.spreadsheet.formatting.format(f,d.format);if(f.__dataType){g=f.__dataType}}if(!e.textAlign){switch(g){case"number":case"date":case"percent":case"currency":e.textAlign="right";break;case"boolean":e.textAlign="center";break}}var k=null;if(d.enable===false){k="k-state-disabled"}var l=b.addCell(c,f,e,k,d.validation);var m,n;if(d.borderLeft){n=h(b,c);m=j(d.borderLeft);if(n&&m){n.attr.style.borderRight=m}}else if(d.background){e.borderLeftColor=d.background}if(d.borderTop){n=i(b,c);m=j(d.borderTop);if(n&&m){n.attr.style.borderBottom=m}}else if(d.background){e.borderTopColor=d.background}return l}var n=a.Class.extend({init:function(){this.cols=[];this.trs=[];this._height=0;this._width=0},addColumn:function(b){this._width+=b;var c=a.dom.element("col",{style:{width:b+"px"}});c.visible=b>0;this.cols.push(c)},addRow:function(b){var c=null;c={style:{height:b+"px"}};this._height+=b;var d=a.dom.element("tr",c);d.visible=b>0;this.trs.push(d)},addCell:function(b,c,d,e,f){if(c===null||c===undefined){c=""}if(!(c instanceof a.dom.Node)){c=a.dom.text(c)}var g=[c];var h={style:d};if(f&&!f.value){g.push(a.dom.element("span",{className:"k-dirty"}));e=(e||"")+(e?" ":"")+"k-dirty-cell";h.title=f.message}if(e){h.className=e}var i=a.dom.element("td",h,g);this.trs[b].children.push(i);return i},toDomTree:function(b,c,d){this.trs=this.trs.filter(function(a){return a.visible});var e=0;this.cols=this.cols.filter(function(a,b){if(!a.visible){this.trs.forEach(function(a){a.children.splice(b-e,1)});e++}return a.visible},this);return a.dom.element("table",{style:{left:b+"px",top:c+"px",height:this._height+"px",width:this._width+"px"},className:d},[a.dom.element("colgroup",null,this.cols),a.dom.element("tbody",null,this.trs)])}});var o='<ul class="#=classNames.cellContextMenu#">'+"<li data-action=cut>Cut</li>"+"<li data-action=copy>Copy</li>"+"<li data-action=paste>Paste</li>"+'<li class="k-separator"></li>'+"<li data-action=merge>Merge</li>"+"<li data-action=unmerge>Unmerge</li>"+"</ul>";var p='<ul class="#=classNames.rowHeaderContextMenu#">'+"<li data-action=cut>Cut</li>"+"<li data-action=copy>Copy</li>"+"<li data-action=paste>Paste</li>"+'<li class="k-separator"></li>'+'<li data-action="delete-row">Delete</li>'+'<li data-action="hide-row">Hide</li>'+'<li data-action="unhide-row">Unhide</li>'+"</ul>";var q='<ul class="#=classNames.colHeaderContextMenu#">'+"<li data-action=cut>Cut</li>"+"<li data-action=copy>Copy</li>"+"<li data-action=paste>Paste</li>"+'<li class="k-separator"></li>'+'<li data-action="delete-column">Delete</li>'+'<li data-action="hide-column">Hide</li>'+'<li data-action="unhide-column">Unhide</li>'+"</ul>";a.spreadsheet.ContextMenu=a.ui.ContextMenu;var r=a.template('<div class="#=classNames.view#"><div class="#=classNames.fixedContainer#"></div><div class="#=classNames.scroller#"><div class="#=classNames.viewSize#"></div></div>'+'<div tabindex="0" class="#=classNames.clipboard#" contenteditable=true></div><div class="#=classNames.cellEditor#"></div></div><div class="#=classNames.sheetsBar#"></div>'+o+p+q);function s(a,b,c){return a>=b&&a<=c}var t=a.Class.extend({init:function(c,e){var f=t.classNames;this.element=c;this.options=b.extend(true,{messages:a.spreadsheet.messages.view},this.options,e);this._chrome();this._dialogs=[];c.append(r({classNames:f}));this._formulaInput();this.wrapper=c.find(d+f.view);this.container=c.find(d+f.fixedContainer)[0];this.scroller=c.find(d+f.scroller)[0];this.clipboard=c.find(d+f.clipboard);this.viewSize=b(this.scroller.firstChild);this.tree=new a.dom.Tree(this.container);this.clipboardContents=new a.dom.Tree(this.clipboard[0]);this.editor=new a.spreadsheet.SheetEditor(this);this._sheetsbar();var g={target:c,animation:false,showOn:"never"};this.cellContextMenu=new a.spreadsheet.ContextMenu(c.find(d+f.cellContextMenu),g);this.colHeaderContextMenu=new a.spreadsheet.ContextMenu(c.find(d+f.colHeaderContextMenu),g);this.rowHeaderContextMenu=new a.spreadsheet.ContextMenu(c.find(d+f.rowHeaderContextMenu),g)},enableClipboard:function(a){this.isClipboardDeactivated=!a;if(a){this.clipboard.attr("contenteditable",a)}else{this.clipboard.removeAttr("contenteditable")}},_resize:function(){var c=b(this.formulaBar.element).parents(".k-spreadsheet-action-bar");var d=a._outerHeight;var e=this.tabstrip?d(this.tabstrip.element):0;var f=c?d(c):0;var g=this.sheetsbar?d(this.sheetsbar.element):0;this.wrapper.height(this.element.height()-(e+f+g));if(this.tabstrip){this.tabstrip.quickAccessAdjust()}},_chrome:function(){var c=b("<div class='k-spreadsheet-action-bar' />").prependTo(this.element);var d=b("<div class='k-spreadsheet-name-editor' />").appendTo(c);this.nameEditor=new a.spreadsheet.NameEditor(d,this.options);var e=b("<div />").appendTo(c);this.formulaBar=new a.spreadsheet.FormulaBar(e);if(this.options.toolbar){this._tabstrip()}},_formulaInput:function(){var b=this.element.find(d+t.classNames.cellEditor);this.formulaInput=new a.spreadsheet.FormulaInput(b,{autoScale:true})},_sheetsbar:function(){if(this.options.sheetsbar){
var c=b.extend(true,{openDialog:this.openDialog.bind(this)},this.options.sheetsbar);this.sheetsbar=new a.spreadsheet.SheetsBar(this.element.find(d+t.classNames.sheetsBar),c)}},_tabstrip:function(){var c=this.options.messages.tabs;var d=b.extend(true,{home:true,insert:true,data:true},this.options.toolbar);var e=[];if(this.tabstrip){this.tabstrip.destroy();this.element.children(".k-tabstrip").remove()}for(var f in d){if(d[f]===true||d[f]instanceof Array){e.push({id:f,text:c[f],content:""})}}this.tabstrip=new a.spreadsheet.TabStrip(b("<div />").prependTo(this.element),{animation:false,dataTextField:"text",dataContentField:"content",dataSource:e,toolbarOptions:d,view:this});this.tabstrip.select(0)},_executeCommand:function(a){this._sheet.trigger("commandRequest",a)},workbook:function(a){this._workbook=a;this.nameEditor._workbook=a},sheet:function(a){this._sheet=a},activeCellRectangle:function(){return this.cellRectangle(this._sheet._viewActiveCell())},_rectangle:function(a,b){return a._grid.boundingRectangle(b.toRangeRef())},isColumnResizer:function(a,b,c){var d=this._rectangle(b,c);a-=this._sheet._grid._headerWidth;var f=e/2;var g=d.right-this.scroller.scrollLeft;return g-f<=a&&a<=g+f},isRowResizer:function(a,b,c){var d=this._rectangle(b,c);a-=this._sheet._grid._headerHeight;var f=e/2;var g=d.bottom-this.scroller.scrollTop;return g-f<=a&&a<=g+f},isFilterIcon:function(b,c,d,e){var f=this;var g=d._grid;var h=g.rows.frozen?0:f.scroller.scrollTop;var i=g.columns.frozen?0:f.scroller.scrollLeft;b-=f._sheet._grid._headerWidth-i;c-=f._sheet._grid._headerHeight-h;return a.util.withExit(function(a){f._sheet.forEachFilterHeader(e,function(e){var g=f._rectangle(d,e);if(d.filterIconRect(g).intersects(b,c)){a(true)}})})},isAutoFill:function(a,b,c){var d=this._sheet.select();if(d.size>1){return false}a-=this._sheet._grid._headerWidth;b-=this._sheet._grid._headerHeight;if(!c._grid.columns.frozen){a+=this.scroller.scrollLeft}if(!c._grid.rows.frozen){b+=this.scroller.scrollTop}var e=this._rectangle(c,d);return Math.abs(e.right-a)<8&&Math.abs(e.bottom-b)<8},isEditButton:function(a,b,c){var d=this._sheet.activeCellCustomEditor();if(d){var e=this.activeCellRectangle();if(b>=e.top&&b<=e.bottom){return c._editorInLastColumn?a<e.left&&a>=e.left-20:a>e.right&&a<=e.right+20}}},objectAt:function(a,b){var d=this._sheet._grid;var e,f;if(a<0||b<0||a>this.scroller.clientWidth||b>this.scroller.clientHeight){e={type:"outside"}}else if(a<d._headerWidth&&b<d._headerHeight){e={type:"topcorner"}}else{f=this.paneAt(a,b);if(!f){e={type:"outside"}}else{var g=f._grid.rows.indexVisible(b,this.scroller.scrollTop);var h=f._grid.columns.indexVisible(a,this.scroller.scrollLeft);var i="cell";var j=new c(g,h);var k=this._sheet.selectionInProgress();if(this.isAutoFill(a,b,f)){i="autofill"}else if(this.isFilterIcon(a,b,f,j)){i="filtericon"}else if(!k&&a<d._headerWidth){j=new c(g,-Infinity);i=this.isRowResizer(b,f,j)?"rowresizehandle":"rowheader"}else if(!k&&b<d._headerHeight){j=new c(-Infinity,h);i=this.isColumnResizer(a,f,j)?"columnresizehandle":"columnheader"}else if(this.isEditButton(a,b,f)){i="editor"}if(i=="cell"){this._sheet.forEachMergedCell(j,function(a){j=a.topLeft})}e={type:i,ref:j}}}e.pane=f;e.x=a;e.y=b;return e},paneAt:function(a,b){return this.panes.filter(function c(d){var e=d._grid;return s(b,e.top,e.bottom)&&s(a,e.left,e.right)})[0]},containingPane:function(a){return this.panes.filter(function(b){if(b._grid.contains(a)){return true}return false})[0]},cellRectangle:function(a){var b=this.containingPane(a)._grid;var c=this._sheet._grid.rectangle(a);return c.offset(b.headerWidth-(b.columns.frozen?0:this.scroller.scrollLeft),b.headerHeight-(b.rows.frozen?0:this.scroller.scrollTop))},refresh:function(a){var b=this._sheet;if(this.tabstrip){this.tabstrip.refreshTools(b.range(b.activeCell()))}if(a.sheetSelection&&this.sheetsbar){this.sheetsbar.renderSheets(this._workbook.sheets(),this._workbook.sheetIndex(this._sheet))}this._resize();this.viewSize[0].style.height=b._grid.totalHeight()+"px";this.viewSize[0].style.width=b._grid.totalWidth()+"px";if(a.layout){var c=b.frozenColumns();var d=b.frozenRows();this.panes=[this._pane(d,c)];if(c>0){this.panes.push(this._pane(d,0,null,c))}if(d>0){this.panes.push(this._pane(0,c,d,null))}if(d>0&&c>0){this.panes.push(this._pane(0,0,d,c))}}if(a.filter){this._destroyFilterMenu()}if(a.activeCell){this._focus=b.activeCell().toRangeRef()}},createFilterMenu:function(c){if(this._filterMenu&&this._filterMenu.options.column==c){return this._filterMenu}this._destroyFilterMenu();var d=this._sheet;var e=d.filter().ref;var f=new a.spreadsheet.Range(e,d);var g=b("<div />").appendTo(this.element);var h={column:c,range:f};var i=new a.spreadsheet.FilterMenu(g,h);this._filterMenu=i;return i},selectClipBoardContents:function(){if(!this.isClipboardDeactivated){this.clipboard.focus();g(this.clipboard[0])}},scrollIntoView:function(a){var b=false;var c=this.containingPane(a)._grid;var d=c.scrollBoundaries(a);var e=this.scroller;var f=c.rows.frozen?0:e.scrollTop;var g=c.columns.frozen?0:e.scrollLeft;if(d.top<f){b=true;e.scrollTop=d.scrollTop}if(d.bottom>f){b=true;e.scrollTop=d.scrollBottom}if(d.left<g){b=true;e.scrollLeft=d.scrollLeft}if(d.right>g){b=true;e.scrollLeft=d.scrollRight}return b},_destroyDialog:function(){this._dialogs.pop()},openCustomEditor:function(){var a=this;var b=a._sheet.activeCell().first();var c=a._sheet.activeCellCustomEditor();var d=a._sheet.range(b);c.edit({range:d,rect:a.activeCellRectangle(),view:this,validation:this._sheet.validation(b),callback:function(b,c){a._executeCommand({command:"EditCommand",options:{operatingRange:d,property:c?"input":"value",value:b}})}})},openDialog:function(b,c){var d=a.spreadsheet.dialogs.create(b,c);if(d){d.bind("action",this._executeCommand.bind(this));d.bind("deactivate",this._destroyDialog.bind(this));this._dialogs.push(d);var e=this._sheet;var f=e.activeCell();var g=new a.spreadsheet.Range(f,e);d.open(g);return d}},showError:function(c,d){var e=this.options.messages.errors;var f=function(b){var c=b.sender.dialog().element;c.find(".k-button:first").focus();c.find(".k-button, input").on("keydown",function(c){if(c.keyCode==a.keys.ESC){b.sender.close()}})};var g=function(a){var b=a.sender;this.selectClipBoardContents();if(b._retry&&d){d()}}.bind(this);if(a.spreadsheet.dialogs.registered(c.type)){var h={close:g};if(c.type==="validationError"){h=b.extend(h,{title:c.title||"Error",text:c.body?c.body:e[c.type],activate:f})}this.openDialog(c.type,h)}else{this.openDialog("message",{title:c.title||"Error",text:c.body?c.body:e[c.type],activate:f,close:g})}},destroy:function(){this._dialogs.forEach(function(a){a.destroy()});this.cellContextMenu.destroy();this.rowHeaderContextMenu.destroy();this.colHeaderContextMenu.destroy();if(this.tabstrip){this.tabstrip.destroy()}this._destroyFilterMenu()},_destroyFilterMenu:function(){if(this._filterMenu){this._filterMenu.destroy();this._filterMenu=undefined;this._filterMenuColumn=undefined}},render:function(){if(!this.element.is(":visible")){return}var c=this._sheet;var d=c.focus();if(d&&this.scrollIntoView(d)){return}var e=!c.resizingInProgress()?"none":c.resizeHandlePosition().col===-Infinity?"column":"row";this.wrapper.toggleClass(f.editContainer,this.editor.isActive()).toggleClass(f.horizontalResize,e=="row").toggleClass(f.verticalResize,e=="column");var g=c._grid;var h=this.scroller.scrollTop;var i=this.scroller.scrollLeft;if(h<0){h=0}if(i<0){i=0}var j=this.panes.map(function(a){return a.render(i,h)});var k=a.dom.element("div",{style:{width:g._headerWidth+"px",height:g._headerHeight+"px"},className:t.classNames.topCorner});j.push(k);if(c.resizeHandlePosition()&&c.resizeHintPosition()){j.push(this.renderResizeHint())}this.tree.render(j);var l=a.support.scrollbar();b(this.container).css({width:this.wrapper[0].clientWidth-l,height:this.wrapper[0].clientHeight-l});if(this.editor.isActive()){this.editor.toggleTooltip(this.activeCellRectangle())}else if(!c.selectionInProgress()&&!c.resizingInProgress()&&!c.isInEditMode()){this.renderClipboardContents()}},renderResizeHint:function(){var b=this._sheet;var c=b.resizeHandlePosition();var d=c.col!==-Infinity;var f;if(d){f={height:this.scroller.clientHeight+"px",width:e+"px",left:b.resizeHintPosition().x+"px",top:"0px"}}else{f={height:e+"px",width:this.scroller.clientWidth+"px",top:b.resizeHintPosition().y+"px",left:"0px"}}var g=v.classNames;return a.dom.element("div",{className:g.resizeHint+(!d?" "+g.resizeHintVertical:""),style:f},[a.dom.element("div",{className:g.resizeHintHandle}),a.dom.element("div",{className:g.resizeHintMarker})])},renderClipboardContents:function(){var a=this._sheet;var b=a._grid;var d=a.select().toRangeRef();var e=this._workbook.clipboard().canCopy();if(e.canCopy===false&&e.multiSelection){this.clipboardContents.render([]);this.selectClipBoardContents();return}d=a.trim(d);var f=new n;var g=b.rangeDimensions(d);g.rows.forEach(function(a){f.addRow(a)});g.columns.forEach(function(a){f.addColumn(a)});var h=a._getMergedCells(d);var i=h.primary;var j=h.secondary;a.forEach(d,function(a,b,e){var g=new c(a,b).print();if(!j[g]){var h=m(f,a-d.topLeft.row,e);var k=i[g];if(k){h.attr.colspan=k.width();h.attr.rowspan=k.height()}}});this.clipboardContents.render([f.toDomTree(0,0,"kendo-clipboard-"+this._workbook.clipboard()._uid)]);this.selectClipBoardContents()},_pane:function(a,b,c,d){var e=new v(this._sheet,this._sheet._grid.pane({row:a,column:b,rowCount:c,columnCount:d}));e.refresh(this.scroller.clientWidth,this.scroller.clientHeight);return e}});var u={cell:"k-spreadsheet-cell",vaxis:"k-spreadsheet-vaxis",haxis:"k-spreadsheet-haxis",vborder:"k-spreadsheet-vborder",hborder:"k-spreadsheet-hborder",rowHeader:"k-spreadsheet-row-header",columnHeader:"k-spreadsheet-column-header",pane:"k-spreadsheet-pane",data:"k-spreadsheet-data",mergedCell:"k-spreadsheet-merged-cell",mergedCellsWrapper:"k-merged-cells-wrapper",activeCell:"k-spreadsheet-active-cell",selection:"k-spreadsheet-selection",selectionWrapper:"k-selection-wrapper",autoFillWrapper:"k-auto-fill-wrapper",single:"k-single",top:"k-top",right:"k-right",bottom:"k-bottom",left:"k-left",resizeHandle:"k-resize-handle",columnResizeHandle:"k-column-resize-handle",rowResizeHandle:"k-row-resize-handle",resizeHint:"k-resize-hint",resizeHintHandle:"k-resize-hint-handle",resizeHintMarker:"k-resize-hint-marker",resizeHintVertical:"k-resize-hint-vertical",selectionHighlight:"k-spreadsheet-selection-highlight",series:["k-series-a","k-series-b","k-series-c","k-series-d","k-series-e","k-series-f"]};var v=a.Class.extend({init:function(a,b){this._sheet=a;this._grid=b},refresh:function(a,b){this._grid.refresh(a,b)},isVisible:function(a,b,c){return this._grid.view(a,b).ref.intersects(c)},render:function(b,c){var d=v.classNames;var e=this._sheet;var f=this._grid;var g=f.view(b,c);this._currentView=g;this._currentRect=this._rectangle(g.ref);this._selectedHeaders=e.selectedHeaders();var h=[];h.push(this.renderData());h.push(this.renderSelection());h.push(this.renderAutoFill());h.push(this.renderEditorSelection());h.push(this.renderFilterHeaders());if(f.hasRowHeader){var i=a.dom.element("div",{className:d.rowHeader,style:{width:f.headerWidth+"px",top:g.rowOffset+"px"}});h.push(i);e.forEach(g.ref.leftColumn(),function(b){if(!e.isHiddenRow(b)){var c=b+1,d=e.rowHeight(b);i.children.push(a.dom.element("div",{className:this.headerClassName(b,"row"),style:{width:f.headerWidth+"px",height:d+"px"}},[a.dom.element("div",{className:"k-vertical-align-center"},[a.dom.text(c+"")])]))}}.bind(this))}if(f.hasColumnHeader){var j=a.dom.element("div",{className:d.columnHeader,style:{top:"0px",left:g.columnOffset+"px",width:this._currentRect.width+"px",height:f.headerHeight+"px"}});h.push(j);var k=0;e.forEach(g.ref.topRow(),function(b,c){if(!e.isHiddenColumn(c)){var d=a.spreadsheet.Ref.display(null,Infinity,c),g=e.columnWidth(c);j.children.push(a.dom.element("div",{className:this.headerClassName(c,"col"),style:{position:"absolute",left:k+"px",width:g+"px",height:f.headerHeight+"px"}},[a.dom.element("div",{className:"k-vertical-align-center"},[a.dom.text(d+"")])]));k+=g}}.bind(this))}if(e.resizeHandlePosition()&&(f.hasColumnHeader||f.hasRowHeader)){var l=e._grid.normalize(e.resizeHandlePosition());if(g.ref.intersects(l)){if(!e.resizeHintPosition()){h.push(this.renderResizeHandle())}}}var m=[d.pane];if(f.hasColumnHeader){m.push(d.top)}if(f.hasRowHeader){m.push(d.left)}return a.dom.element("div",{style:f.style,className:m.join(" ")},h)},headerClassName:function(a,b){var c=this._selectedHeaders;var d;var e;if(b==="row"){d=c.rows[a];e=c.allRows}else{d=c.cols[a];e=c.allCols}var f=d||(c.all?"full":e?"partial":"none");if(f){f="k-selection-"+f}return f},renderData:function(){var b=this._sheet;var c=this._currentView;var d=a.dom.element("div",{className:v.classNames.data,style:{position:"relative",left:c.columnOffset+"px",top:c.rowOffset+"px"}});var e=this._currentRect;var f=a.spreadsheet.draw.doLayout(b,c.ref,{forScreen:true}),g;var h=b._showGridLines;if(h){g=null;f.xCoords.forEach(function(c){if(c!==g){g=c;d.children.push(a.dom.element("div",{className:u.vaxis,style:{left:c+"px",height:e.height+"px",borderColor:b.gridLinesColor()}}))}});g=null;f.yCoords.forEach(function(c){if(c!==g){g=c;d.children.push(a.dom.element("div",{className:u.haxis,style:{top:c+"px",width:e.width+"px",borderColor:b.gridLinesColor()}}))}})}var i=a.spreadsheet.draw.Borders();f.cells.forEach(function(a){i.add(a);l(d.children,a,null,h)});i.vert.forEach(function(b){b.forEach(function(b){if(!b.rendered){b.rendered=true;var c={left:b.x+"px",top:b.top+"px",height:b.bottom-b.top+1+"px",borderWidth:b.size+"px",borderColor:b.color};if(b.size!=1){c.transform="translateX(-"+(b.size-1)/2+"px)"}d.children.push(a.dom.element("div",{className:u.vborder,style:c}))}})});i.horiz.forEach(function(b){b.forEach(function(b){if(!b.rendered){b.rendered=true;var c={top:b.y+"px",left:b.left+"px",width:b.right-b.left+"px",borderWidth:b.size+"px",borderColor:b.color};if(b.size!=1){c.transform="translateY(-"+(b.size-1)/2+"px)"}d.children.push(a.dom.element("div",{className:u.hborder,style:c}))}})});return d},renderResizeHandle:function(){var b=this._sheet;var c=b.resizeHandlePosition();var d=this._rectangle(c);var g=[v.classNames.resizeHandle];var h;if(c.col!==-Infinity){h={height:this._grid.headerHeight+"px",width:e+"px",left:d.right-e/2+"px",top:"0px"};g.push(f.horizontalResize)}else{h={height:e+"px",width:this._grid.headerWidth+"px",top:d.bottom-e/2+"px",left:"0px"};g.push(f.verticalResize)}return a.dom.element("div",{className:g.join(" "),style:h})},filterIconRect:function(b){var c=16;var d=3;return new a.spreadsheet.Rectangle(b.right-c-d,b.top+d,c,c)},renderFilterHeaders:function(){var b=this._sheet;var c=[];var d=t.classNames;var e=b.filter();function f(b){return a.dom.element("span",{className:d.icon+" "+b})}function g(b,c,d){var g={left:c.left+"px",top:c.top+"px"};var h=e&&e.columns.some(function(a){return a.index===d});var i=b.filterButton;if(h){i+=" "+b.filterButtonActive}var j=a.dom.element("span",{className:i,style:g},[f(b.iconFilterDefault)]);return j}if(e){this._addDiv(c,e.ref,d.filterRange)}b.forEachFilterHeader(this._currentView.ref,function(a){var b=this._rectangle(a);var e=this.filterIconRect(b);var f=this._sheet.filterColumn(a);var h=g(d,e,f);c.push(h)}.bind(this));return a.dom.element("div",{className:d.filterHeadersWrapper},c)},renderEditorSelection:function(){var b=v.classNames;var c=this._sheet;var d=[];c._formulaSelections.forEach(function(c){var e=c.ref;if(e===a.spreadsheet.NULLREF){return}this._addDiv(d,e,b.selectionHighlight+" "+c.colorClass)}.bind(this));return a.dom.element("div",{className:b.selectionWrapper},d)},renderSelection:function(){var b=v.classNames;var c=[];var d=[b.activeCell];var e=[b.selection];var f=this._sheet;var g=f.activeCell().toRangeRef();var h=this._activeFormulaColor();var i=f.select();d=d.concat(h,this._directionClasses(g));e=e.concat(h);if(f.singleCellSelection()){d.push(b.single)}if(i.size()===1){e.push("k-single-selection")}if(this._sheet.autoFillPunch()){e.push("k-dim-auto-fill-handle")}i.forEach(function(b){if(b!==a.spreadsheet.NULLREF){this._addDiv(c,b,e.join(" "))}}.bind(this));this._addTable(c,g,d.join(" "));return a.dom.element("div",{className:b.selectionWrapper},c)},renderAutoFill:function(){var b=[];if(this._sheet.autoFillInProgress()){var d=this._sheet.autoFillRef();var e=this._sheet.autoFillPunch();var f=this._sheet._autoFillDirection;this._addDiv(b,d,"k-auto-fill");if(e){this._addDiv(b,e,"k-auto-fill-punch")}else if(f!==undefined){var g,h;switch(f){case 0:g=d.bottomRight;h="k-auto-fill-br-hint";break;case 1:g=d.bottomRight;h="k-auto-fill-br-hint";break;case 2:g=new c(d.topLeft.row,d.bottomRight.col);h="k-auto-fill-tr-hint";break;case 3:g=new c(d.bottomRight.row,d.topLeft.col);h="k-auto-fill-bl-hint";break}var i=a.dom.element("span",{className:"k-tooltip"},[a.dom.text(this._sheet._autoFillHint)]);var j=this._addDiv(b,g,h);if(j){j.children.push(i)}}}return a.dom.element("div",{className:v.classNames.autoFillWrapper},b)},_addDiv:function(a,b,c){var d=this._currentView,e;if(d.ref.intersects(b)){e=this._rectangle(b).resize(1,1).toDiv(c);a.push(e)}return e},_addTable:function(b,c,d){var e=this;var f=e._sheet;var g=e._currentView;var h=e._grid.columns._axis._count;if(g.ref.intersects(c)){var i=e._rectangle(c);var j=e._sheet.activeCellCustomEditor();f.forEach(c.collapse(),function(c,f,g){g.left=i.left;g.top=i.top;g.width=i.width;g.height=i.height;l(b,g,d,true);if(j){var k="k-button k-spreadsheet-editor-button";var m=f==h-1;if(m){k+=" k-spreadsheet-last-column"}e._editorInLastColumn=m;var n=a.dom.element("div",{className:k,style:{left:g.left+(m?0:g.width)+"px",top:g.top+"px",height:g.height+"px"}});if(j.icon){n.children.push(a.dom.element("span",{className:"k-icon "+j.icon}))}b.push(n)}})}},_activeFormulaColor:function(){var a;var b=[];if(this._sheet.isInEditMode()){a=this._sheet._formulaSelections.filter(function(a){return a.active&&a.type=="ref"})[0];if(a){b.push(a.colorClass)}}return b},_directionClasses:function(a){var b=[];var c=v.classNames;var d=this._currentView.ref;if(!a.move(0,-1).intersects(d)){b.push(c.left)}if(!a.move(-1,0).intersects(d)){b.push(c.top)}if(!a.move(0,1).intersects(d)){b.push(c.right)}if(!a.move(1,0).intersects(d)){b.push(c.bottom)}return b},_rectangle:function(a){return this._grid.boundingRectangle(a.toRangeRef()).offset(-this._currentView.mergedCellLeft,-this._currentView.mergedCellTop)}});a.spreadsheet.View=t;a.spreadsheet.Pane=v;a.spreadsheet.drawCell=l;b.extend(true,t,{classNames:f});b.extend(true,v,{classNames:u})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/customeditors",["kendo.core","kendo.popup","kendo.calendar","kendo.listview","spreadsheet/sheet"],a)})(function(){(function(a){"use strict";if(a.support.browser.msie&&a.support.browser.version<9){return}var b={};var c=a.spreadsheet.registerEditor=function(a,c){b[a]=c};a.spreadsheet.Sheet.prototype.activeCellCustomEditor=function(){var a=this.activeCell().first();if(this.range(a).enable()){var c=this.validation(a);var d=this._properties.get("editor",this._grid.cellRefIndex(a));var e;if(d!=null){e=b[d]}else if(c&&c.showButton){d="_validation_"+c.dataType;e=b[d]}if(typeof e=="function"){e=b[d]=e()}return e}};c("_validation_date",function(){var b,c,d;function e(){if(!c){c=$("<div>").kendoCalendar();d=$("<div>").kendoPopup();c.appendTo(d);c=c.getKendoCalendar();d=d.getKendoPopup();c.bind("change",function(){d.close();var e=c.value();if(!b.range.format()){b.range.format("yyyy-mm-dd")}b.callback(a.spreadsheet.dateToNumber(e))})}d.setOptions({anchor:b.view.element.find(".k-spreadsheet-editor-button")})}function f(){e();var f=b.range.value();if(f!=null){c.value(a.spreadsheet.numberToDate(f))}else{c.value(null)}var g=b.validation;if(g){var h=a.ui.Calendar.fn.options.min;var i=a.ui.Calendar.fn.options.max;if(/^(?:greaterThan|between)/.test(g.comparerType)){h=a.spreadsheet.numberToDate(g.from.value)}if(g.comparerType=="between"){i=a.spreadsheet.numberToDate(g.to.value)}if(g.comparerType=="lessThan"){i=a.spreadsheet.numberToDate(g.from.value)}c.setOptions({disableDates:function(b){var c=g.from?g.from.value|0:0;var d=g.to?g.to.value|0:0;b=a.spreadsheet.dateToNumber(b)|0;return!a.spreadsheet.validation.validationComparers[g.comparerType](b,c,d)},min:h,max:i})}else{c.setOptions({disableDates:null,min:null,max:null})}d.open()}return{edit:function(a){b=a;f()},icon:"k-i-calendar"}});c("_validation_list",function(){var b,c,d;function e(){if(!c){c=$("<ul class='k-list k-reset'/>").kendoStaticList({template:"#:value#",selectable:true,autoBind:false});d=$("<div>").kendoPopup();c.appendTo(d);d=d.getKendoPopup();c=c.getKendoStaticList();c.bind("change",function(){d.close();var a=c.value()[0];if(a){b.callback(a.value)}})}d.setOptions({anchor:b.view.element.find(".k-spreadsheet-editor-button")})}function f(){e();var f=b.validation.from.value;var g=[];if(f){f.each(function(a){g.push({value:a})})}var h=new a.data.DataSource({data:g});c.setDataSource(h);h.read();d.open()}return{edit:function(a){b=a;f()},icon:"k-i-arrow-60-down"}})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/grid",["kendo.core","spreadsheet/references"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.spreadsheet.CellRef;var c=a.spreadsheet.RangeRef;var d=a.spreadsheet.UnionRef;var e=a.Class.extend({init:function(a,b,c,d){this.left=a;this.width=c;this.right=a+c;this.top=b;this.height=d;this.bottom=b+d},offset:function(a,b){return new e(this.left+a,this.top+b,this.width,this.height)},resize:function(a,b){return new e(this.left,this.top,this.width+a,this.height+b)},intersects:function(a,b){return this.left<a&&a<this.left+this.width&&this.top<b&&b<this.top+this.height},toDiv:function(b){return a.dom.element("div",{className:b,style:{width:this.width+"px",height:this.height+"px",top:this.top+"px",left:this.left+"px"}})}});var f=a.Class.extend({init:function(a,b,c,d,e,f){this.rowCount=c;this.columnCount=d;this._columns=b;this._rows=a;this._headerHeight=e;this._headerWidth=f},isAxis:function(a){a=a.toRangeRef();var b=a.topLeft;var c=a.bottomRight;return b.row===0&&c.row===this.rowCount-1||b.col===0&&c.col===this.columnCount-1},width:function(a,b){return this._columns.sum(a,b)},height:function(a,b){return this._rows.sum(a,b)},totalHeight:function(){return this._rows.total+this._headerHeight},totalWidth:function(){return this._columns.total+this._headerWidth},index:function(a,b){return b*this.rowCount+a},cellRef:function(a){return new b(a%this.rowCount,a/this.rowCount>>0)},rowRef:function(a){return new c(new b(a,0),new b(a,this.columnCount-1))},colRef:function(a){return new c(new b(0,a),new b(this.rowCount-1,a))},cellRefIndex:function(a){return this.index(a.row,a.col)},normalize:function(a){if(a instanceof c){return new c(this.normalize(a.topLeft),this.normalize(a.bottomRight)).setSheet(a.sheet,a.hasSheet())}if(a instanceof d){return a.map(function(a){return this.normalize(a)},this)}if(a instanceof b){a=a.clone();a.col=Math.max(0,Math.min(this.columnCount-1,a.col));a.row=Math.max(0,Math.min(this.rowCount-1,a.row))}return a},rectangle:function(a){var b=this.normalize(a.topLeft);var c=this.normalize(a.bottomRight);return new e(this.width(0,b.col-1),this.height(0,b.row-1),this.width(b.col,c.col),this.height(b.row,c.row))},pane:function(b){return new g(new a.spreadsheet.PaneAxis(this._rows,b.row,b.rowCount,this._headerHeight),new a.spreadsheet.PaneAxis(this._columns,b.column,b.columnCount,this._headerWidth),this)},rangeDimensions:function(a){return{rows:this._rows.values.iterator(a.topLeft.row,a.bottomRight.row),columns:this._columns.values.iterator(a.topLeft.col,a.bottomRight.col)}},forEach:function(a,c){var d=this.normalize(a.topLeft);var e=this.normalize(a.bottomRight);for(var f=d.col;f<=e.col;f++){for(var g=d.row;g<=e.row;g++){c(new b(g,f))}}},trim:function(a,d){var e=a.topLeft;var f=a.bottomRight;var g=e.row;var h=e.col;for(var i=e.col;i<=f.col;i++){var j=this.index(e.row,i);var k=this.index(f.row,i);var l=d.tree.intersecting(j,k);if(l.length){var m=this.cellRef(l[l.length-1].end);g=Math.max(g,m.row);h=i}}return new c(a.topLeft,new b(Math.min(g,a.bottomRight.row),h))}});var g=a.Class.extend({init:function(a,b,c){this.rows=a;this.columns=b;this._grid=c;this.headerHeight=a.headerSize;this.headerWidth=b.headerSize;this.hasRowHeader=b.hasHeader;this.hasColumnHeader=a.hasHeader},refresh:function(a,b){this.columns.viewSize(a);this.rows.viewSize(b);var c=this.columns.paneSegment();var d=this.rows.paneSegment();this.left=c.offset;this.top=d.offset;this.right=c.offset+c.length;this.bottom=d.offset+d.length;this.style={top:d.offset+"px",left:c.offset+"px",height:d.length+"px",width:c.length+"px"}},view:function(a,d){var e=this.rows.visible(d);var f=this.columns.visible(a);return{rows:e,columns:f,rowOffset:e.offset,columnOffset:f.offset,mergedCellLeft:f.start,mergedCellTop:e.start,ref:new c(new b(e.values.start,f.values.start),new b(e.values.end,f.values.end))}},contains:function(a){return this.rows.contains(a.topLeft.row,a.bottomRight.row)&&this.columns.contains(a.topLeft.col,a.bottomRight.col)},index:function(a,b){return this._grid.index(a,b)},boundingRectangle:function(a){return this._grid.rectangle(a)},cellRefIndex:function(a){return this._grid.cellRefIndex(a)},scrollBoundaries:function(a){var b=this.boundingRectangle(a);var c={top:Math.max(0,b.top-this.top+(this.hasColumnHeader?0:this.headerHeight)),left:Math.max(0,b.left-this.left+(this.hasRowHeader?0:this.headerWidth)),right:b.right-this.columns._viewSize+this.headerWidth,bottom:b.bottom-this.rows._viewSize+this.headerHeight};var d=this.columns.defaultValue/2;var e=this.rows.defaultValue/2;c.scrollTop=c.top-e;c.scrollBottom=c.bottom+e;c.scrollLeft=c.left-d;c.scrollRight=c.right+d;return c}});a.spreadsheet.Grid=f;a.spreadsheet.PaneGrid=g;a.spreadsheet.Rectangle=e})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/axis",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.Class.extend({init:function(b,c){this._value=c;this._count=b;this.values=new a.spreadsheet.RangeList(0,b-1,c);this._hidden=new a.spreadsheet.RangeList(0,b-1,0);this.scrollBarSize=a.support.scrollbar();this._refresh()},adjust:function(a,b){if(b<0){this.values.copy(a-b,this._count-1,a);this._hidden.copy(a-b,this._count-1,a)}else{this.values.copy(a,this._count,a+b);this._hidden.copy(a,this._count,a+b);this.values.value(a,a+b-1,this._value);this._hidden.value(a,a+b-1,0)}this._refresh()},toJSON:function(a,b){var c=[];var d=this.values.iterator(0,this._count-1);for(var e=0;e<this._count;e++){var f=d.at(e);var g=this._hidden.value(e,e);if(f===this._value&&!g){continue}var h=b[e];if(h===undefined){h=c.length;var i={index:e};i[a]=f;if(g){i.hidden=g}c.push(i);b[e]=h}}return c},fromJSON:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];var e=d.index;if(e===undefined){e=c}var f=d[a];if(f===0){if(d.hidden){this.value(e,e,d.hidden)}this.hide(e)}else{this.value(e,e,f)}}},hide:function(a){if(!this.hidden(a)){var b=this.value(a,a);this._hidden.value(a,a,b);this.value(a,a,0)}},hidden:function(a){return this._hidden.value(a,a)!==0},includesHidden:function(a,b){return this._hidden.intersecting(a,b).length>1},nextVisible:function(a,b){var c=this._count-1;if(a===c){return b?a+1:a}for(var d=a+1;d<=c;++d){if(!this.hidden(d)){return d}}return a},nextPage:function(a,b){return this.index(this.sum(0,a-1)+b)},prevPage:function(a,b){return this.index(this.sum(0,a)-b)},firstVisible:function(){var a=this._hidden.first();if(a.value===0){return 0}else{return a.end+1}},lastVisible:function(){var a=this._hidden.last();if(a.value===0){return this._count-1}else{return a.start-1}},prevVisible:function(a,b){if(a===0){return b?-1:0}for(var c=a-1;c>=0;--c){if(!this.hidden(c)){return c}}return a},unhide:function(a){if(this.hidden(a)){var b=this._hidden.value(a,a);this._hidden.value(a,a,0);this.value(a,a,b)}},value:function(a,b,c){if(c!==undefined){this.values.value(a,b,c);this._refresh()}else{return this.values.iterator(a,b).at(0)}},sum:function(a,b){var c=this.values.iterator(a,b);var d=0;for(var e=a;e<=b;e++){d+=c.at(e)}return d},visible:function(a,b){var c=null;var d=null;var e=false;if(b>=this.total+this.scrollBarSize){e=true}var f=this._pixelValues.intersecting(a,b);c=f[0];d=f[f.length-1];if(!c){return{values:this.values.iterator(0,0),offset:0}}var g=a-c.start;var h=(g/c.value.value>>0)+c.value.start;var i=g-(h-c.value.start)*c.value.value;var j=b-d.start;var k=(j/d.value.value>>0)+d.value.start;if(k>d.value.end){k=d.value.end}if(e){i+=d.value.value-(j-(k-d.value.start)*d.value.value)}i=Math.min(-i,0);return{values:this.values.iterator(h,k),offset:i}},index:function(a){var b=0;var c=this.values.iterator(0,this._count-1);var d=c.at(0);while(d<a&&b<this._count-1){d+=c.at(++b)}return b},indexVisible:function(a){var b=this.index(a);if(this.hidden(b)){b=this.prevVisible(b)}return b},_refresh:function(){var b=0;this._pixelValues=this.values.map(function(c){var d=b;b+=(c.end-c.start+1)*c.value;var e=b-1;return new a.spreadsheet.ValueRange(d,e,c)});this.total=b},getState:function(){return{values:this.values.getState(),hidden:this._hidden.getState()}},setState:function(a){this.values.setState(a.values);this._hidden.setState(a.hidden);this._refresh()}});var c=a.Class.extend({init:function(a,b,c,d){this._axis=a;this._start=b;this._count=c;this.hasHeader=b===0;this.headerSize=d;this.defaultValue=a._value;this.frozen=c>0},viewSize:function(a){this._viewSize=a},sum:function(a,b){return this._axis.sum(a,b-1)},start:function(){return this.sum(0,this._start)},size:function(){return this.sum(this._start,this._start+this._count)},index:function(a,b){return this._axis.index(a+(this.frozen?0:b)-this.headerSize)},indexVisible:function(a,b){return this._axis.indexVisible(a+(this.frozen?0:b)-this.headerSize)},paneSegment:function(){var a=this.start();var b;if(!this.hasHeader){a+=this.headerSize}if(this.frozen){b=this.size();if(this.hasHeader){b+=this.headerSize}else{b-=this.headerSize}}else{b=this._viewSize-a}return{offset:a,length:b}},visible:function(a){var b=this.start();var c;if(this.frozen){c=this.size();if(!this.hasHeader){c-=this.headerSize}}else{c=this._viewSize-b-this.headerSize;b+=a}var d=this._axis.visible(b,b+c-1);if(this.frozen){d.offset=0}d.start=b;if(this.hasHeader){d.offset+=this.headerSize;d.start-=this.headerSize}return d},contains:function(a,b){if(this.frozen){if(a>this._start+this._count){return false}if(b<this._start){return false}return true}else{return b>=this._start}}});a.spreadsheet.Axis=b;a.spreadsheet.PaneAxis=c})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/filter",["kendo.core","kendo.data"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.spreadsheet.Filter=a.Class.extend({prepare:function(){},value:function(a){return a.value},matches:function(){throw new Error("The 'matches' method is not implemented.")},toJSON:function(){throw new Error("The 'toJSON' method is not implemented.")}});b.create=function(b){var c=b.filter;if(!c){throw new Error("Filter type not specified.")}var d=a.spreadsheet[c.charAt(0).toUpperCase()+c.substring(1)+"Filter"];if(!d){throw new Error("Filter type not recognized.")}return new d(b)};a.spreadsheet.ValueFilter=b.extend({_values:[],_dates:[],_blanks:false,init:function a(b){if(b.values!==undefined){this._values=b.values}if(b.blanks!==undefined){this._blanks=b.blanks}if(b.dates!==undefined){this._dates=b.dates}},value:function(b){var c=b.value;if(this._dates.length>0&&b.format&&typeof c==="number"){var d=a.spreadsheet.formatting.type(c,b.format);if(d==="date"){c=a.spreadsheet.numberToDate(c)}}return c},matches:function(a){
if(a===null||a===undefined){return this._blanks}if(a instanceof Date){return this._dates.some(function(b){return b.year===a.getFullYear()&&(b.month===undefined||b.month===a.getMonth())&&(b.day===undefined||b.day===a.getDate())&&(b.hours===undefined||b.hours===a.getHours())&&(b.minutes===undefined||b.minutes===a.getMinutes())&&(b.seconds===undefined||b.seconds===a.getSeconds())})}return this._values.indexOf(a)>=0},toJSON:function(){return{filter:"value",blanks:this._blanks,values:this._values.slice(0)}}});a.spreadsheet.CustomFilter=b.extend({_logic:"and",init:function b(c){if(c.logic!==undefined){this._logic=c.logic}if(c.criteria===undefined){throw new Error("Must specify criteria.")}this._criteria=c.criteria;var d=a.data.Query.filterExpr({logic:this._logic,filters:this._criteria}).expression;this._matches=new Function("d","return "+d)},matches:function(a){if(a===null){return false}return this._matches(a)},value:function(b){var c=b.value;var d=this._criteria[0].value;var e=d instanceof Date?"date":typeof d;var f=typeof c;if(b.format){f=a.spreadsheet.formatting.type(c,b.format)}if(f!=e){if(e=="string"){if(b.format){c=a.spreadsheet.formatting.text(c,b.format)}c=c+""}}else if(f=="date"){c=a.spreadsheet.numberToDate(c)}return c},toJSON:function(){return{filter:"custom",logic:this._logic,criteria:this._criteria}}});a.spreadsheet.TopFilter=b.extend({init:function a(b){this._type=b.type;this._value=b.value;this._values=[]},prepare:function(a){var b=a.map(this.value).sort().filter(function(a,b,c){return b===0||a!==c[b-1]});if(this._type==="topNumber"||this._type=="topPercent"){b.sort(function(a,b){return b-a})}else{b.sort(function(a,b){return a-b})}var c=this._value;if(this._type==="topPercent"||this._type==="bottomPercent"){c=b.length*c/100>>0}this._values=b.slice(0,c)},matches:function(a){return this._values.indexOf(a)>=0},toJSON:function(){return{filter:"top",type:this._type,value:this._value}}});a.spreadsheet.DynamicFilter=b.extend({init:function a(b){this._type=b.type;this._predicate=this[b.type];if(typeof this._predicate!=="function"){throw new Error("DynamicFilter type '"+b.type+"' not recognized.")}},value:function(b){var c=b.value;if(b.format){var d=a.spreadsheet.formatting.type(c,b.format);if(d==="date"){c=a.spreadsheet.numberToDate(c)}}return c},prepare:function(a){var b=0;var c=0;for(var d=0;d<a.length;d++){var e=this.value(a[d]);if(typeof e==="number"){b+=e;c++}}if(c>0){this._average=b/c}else{this._average=0}},matches:function(a){return this._predicate(a)},aboveAverage:function(b){if(b instanceof Date){b=a.spreadsheet.dateToNumber(b)}if(typeof b!=="number"){return false}return b>this._average},belowAverage:function(b){if(b instanceof Date){b=a.spreadsheet.dateToNumber(b)}if(typeof b!=="number"){return false}return b<this._average},tomorrow:function(b){if(b instanceof Date){var c=a.date.addDays(a.date.today(),1);return a.date.getDate(b).getTime()===c.getTime()}return false},today:function(b){if(b instanceof Date){return a.date.isToday(b)}return false},yesterday:function(b){if(b instanceof Date){var c=a.date.addDays(a.date.today(),-1);return a.date.getDate(b).getTime()===c.getTime()}return false},nextWeek:function(b){return f(a.date.addDays(a.date.today(),7),b)},thisWeek:function(b){return f(a.date.today(),b)},lastWeek:function(b){return f(a.date.addDays(a.date.today(),-7),b)},nextMonth:function(a){return e(a,1)},thisMonth:function(a){return e(a,0)},lastMonth:function(a){return e(a,-1)},nextQuarter:function(b){if(b instanceof Date){var d=a.date.today();var e=c(b)-c(d);return e===1&&d.getFullYear()===b.getFullYear()||e==-3&&d.getFullYear()+1===b.getFullYear()}return false},thisQuarter:function(b){if(b instanceof Date){var d=a.date.today();var e=c(b)-c(d);return e===0&&d.getFullYear()===b.getFullYear()}return false},lastQuarter:function(b){if(b instanceof Date){var d=a.date.today();var e=c(d)-c(b);return e===1&&d.getFullYear()===b.getFullYear()||e==-3&&d.getFullYear()-1===b.getFullYear()}return false},nextYear:function(a){return d(a,1)},thisYear:function(a){return d(a,0)},lastYear:function(a){return d(a,-1)},yearToDate:function(b){if(b instanceof Date){var c=a.date.today();return b.getFullYear()===c.getFullYear()&&b<=c}return false},toJSON:function(){return{filter:"dynamic",type:this._type}}});[1,2,3,4].forEach(function(b){a.spreadsheet.DynamicFilter.prototype["quarter"+b]=function(a){if(a instanceof Date){return c(a)===b}return false}});a.cultures["en-US"].calendar.months.names.forEach(function(b,c){a.spreadsheet.DynamicFilter.prototype[b.toLowerCase()]=function(a){if(a instanceof Date){return a.getMonth()===c}return false}});function c(a){var b=a.getMonth()+1;if(b>=1&&b<=3){return 1}else if(b>=4&&b<=6){return 2}else if(b>=7&&b<=9){return 3}else{return 4}}function d(b,c){if(b instanceof Date){var d=a.date.today();d.setFullYear(d.getFullYear()+c);return d.getFullYear()===b.getFullYear()}return false}function e(b,c){if(b instanceof Date){var d=a.date.firstDayOfMonth(a.date.today());d.setMonth(d.getMonth()+c,1);return d.getTime()===a.date.firstDayOfMonth(b).getTime()}return false}function f(b,c){if(c instanceof Date){var d=a.date.dayOfWeek(a.date.getDate(b),1);var e=a.date.dayOfWeek(a.date.getDate(c),1);return d.getTime()===e.getTime()}return false}})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/sorter",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.Class.extend({init:function(a,b){this._grid=a;this._lists=b},indices:function(a,c,d,e){var f=b.ascendingComparer;if(d===false){f=b.descendingComparer}return c.sortedIndices(this._grid.cellRefIndex(a.topLeft),this._grid.cellRefIndex(a.bottomRight),f,e)},sortBy:function(a,b,c,d,e){var f=this.indices(a.toColumn(b),c,d,e);for(var g=a.topLeft.col;g<=a.bottomRight.col;g++){var h=this._grid.index(a.topLeft.row,g);var i=this._grid.index(a.bottomRight.row,g);for(var j=0;j<this._lists.length;j++){if(h<this._lists[j].lastRangeStart()){this._lists[j].sort(h,i,f)}}}return f}});b.ascendingComparer=function(b,c){if(b===null&&c===null){return 0}if(b===null){return 1}if(c===null){return-1}var d=typeof b;var e=typeof c;if(d==="number"){if(e==="number"){return b-c}else{return-1}}if(d==="string"){switch(e){case"number":return 1;case"string":return b.localeCompare(c);default:return-1}}if(d==="boolean"){switch(e){case"number":return 1;case"string":return 1;case"boolean":return b-c;default:return-1}}if(b instanceof a.spreadsheet.calc.runtime.CalcError){if(c instanceof a.spreadsheet.calc.runtime.CalcError){return 0}else{return 1}}throw new Error("Cannot compare "+b+" and "+c)};b.descendingComparer=function(a,c){if(a===null&&c===null){return 0}if(a===null){return 1}if(c===null){return-1}return b.ascendingComparer(c,a)};a.spreadsheet.Sorter=b})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/numformat",["spreadsheet/calc","kendo.dom"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.spreadsheet.calc;var b=kendo.dom;var c=/^\[(black|green|white|blue|magenta|yellow|cyan|red)\]/i;var d=/^\[(<=|>=|<>|<|>|=)(-?[0-9.]+)\]/;function e(b){b=a.InputStream(b);var e=[],f=false,g;while(!b.eof()){var h=n();e.push(h);if(h.cond){f=true}}if(!f){if(e.length==1){e[0].cond="num"}else if(e.length==2){e[0].cond={op:">=",value:0};e[1].cond={op:"<",value:0}}else if(e.length>=3){e[0].cond={op:">",value:0};e[1].cond={op:"<",value:0};e[2].cond={op:"=",value:0};if(e.length>3){e[3].cond="text";e=e.slice(0,4)}}}return e;function i(){var a=b.skip(c);if(a){return a[1].toLowerCase()}}function j(){var a=b.skip(d);if(a){var c=parseFloat(a[2]);if(!isNaN(c)){return{op:a[1],value:c}}}}function k(){var a=[],c,d=null;while(!b.eof()&&(c=m())){if(c.type=="date"){if(d&&/^(el)?time$/.test(d.type)&&d.part=="h"&&c.part=="m"&&c.format<3){c.type="time"}}else if(/^(el)?time$/.test(c.type)&&c.part=="s"){if(d&&d.type=="date"&&d.part=="m"&&d.format<3){d.type="time"}}if(!/^(?:str|space|fill)$/.test(c.type)){d=c}a.push(c)}return a}function l(a){if(a.type!="date"||a.part=="m"&&a.format<3){var c=b.skip(/^\.(0+)/);if(c){a.fraction=c[1].length;if(a.type=="date"){a.type="time"}}}return a}function m(){var a,c;if(c=b.skip(/^([#0?]+)(?:,([#0?]+))+/)){return{type:"digit",sep:true,format:c[1]+c[2],decimal:g}}if(c=b.skip(/^[#0?]+/)){return{type:"digit",sep:false,format:c[0],decimal:g}}if(c=b.skip(/^(e)([+-])/i)){return{type:"exp",ch:c[1],sign:c[2]}}if(c=b.skip(/^(d{1,4}|m{1,5}|yyyy|yy)/i)){c=c[1].toLowerCase();return l({type:"date",part:c.charAt(0),format:c.length})}if(c=b.skip(/^(hh?|ss?)/i)){c=c[1];return l({type:"time",part:c.toLowerCase().charAt(0),format:c.length,ampm:c=="hh"})}if(c=b.skip(/^\[(hh?|mm?|ss?)\]/i)){c=c[1].toLowerCase();return l({type:"eltime",part:c.charAt(0),format:c.length})}if(c=b.skip(/^(am\/pm|a\/p)/i)){c=c[1].split("/");return{type:"ampm",am:c[0],pm:c[1]}}switch(a=b.next()){case";":return null;case"\\":return{type:"str",value:b.next()};case'"':return{type:"str",value:b.readEscaped(a)};case"@":return{type:"text"};case"_":return{type:"space",value:b.next()};case"*":return{type:"fill",value:b.next()};case".":if(b.lookingAt(/^\s*[#0?]/)){g=true;return{type:"dec"}}return{type:"str",value:"."};case"%":return{type:"percent"};case",":return{type:"comma"}}return{type:"str",value:a}}function n(){g=false;var a=i(),b=j();if(!a&&b){a=i()}return{color:a,cond:b,body:k()}}}function f(a){return a.map(b).join(";");function b(a){var b="";if(a.color){b+="["+a.color+"]"}if(a.cond){if(!(a.cond=="text"||a.cond=="num")){b+="["+a.cond.op+a.cond.value+"]"}}b+=a.body.map(d).join("");return b}function c(a,b){if(b.fraction){a+="."+n("",b.fraction,"0")}return a}function d(a){if(a.type=="digit"){if(a.sep){return a.format.charAt(0)+","+a.format.substr(1)}else{return a.format}}else if(a.type=="exp"){return a.ch+a.sign}else if(a.type=="date"||a.type=="time"){return c(n("",a.format,a.part),a)}else if(a.type=="eltime"){return c("["+n("",a.format,a.part)+"]",a)}else if(a.type=="ampm"){return a.am+"/"+a.pm}else if(a.type=="str"){return JSON.stringify(a.value)}else if(a.type=="text"){return"@"}else if(a.type=="space"){return"_"+a.value}else if(a.type=="fill"){return"*"+a.value}else if(a.type=="dec"){return"."}else if(a.type=="percent"){return"%"}else if(a.type=="comma"){return","}}}function g(a,b){a.forEach(function(a){var c=b;if(a.cond=="text"){return}var d=a.body,e=false,f=d.length;while(c!==0&&--f>=0){var g=d[f];if(g.type=="digit"){if(g.decimal){e=true;if(c>0){g.format+=n("",c,"0")}else if(c<0){var h=g.format.length;g.format=g.format.substr(0,h+c);c+=h-g.format.length}if(g.format.length===0){d.splice(f,1);while(--f>=0){g=d[f];if(g.type=="digit"&&g.decimal){++f;break}if(g.type=="dec"){d.splice(f,1);break}}}}if(c>0){break}}}if(!e&&c>0){d.splice(f+1,0,{type:"dec"},{type:"digit",sep:false,decimal:true,format:n("",c,"0")})}})}function h(a){var b=0;return{next:function(){return a[b++]},eof:function(){return b>=a.length},ahead:function(c,d){if(b+c<=a.length){var e=d.apply(null,a.slice(b,b+c));if(e){b+=c}return e}},restart:function(){b=0}}}function i(a){var b=h(a.body);var c=false;var d=false;var e=false;var f=0;var g=/[\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]/;var i=0;var j="";var k=false;var l=0;var m=[],n=[];var o=a.cond;var p="";if(o=="text"){p="if (typeof value == 'string' || value instanceof kendo.spreadsheet.CalcError) { "}else if(o=="num"){p="if (typeof value == 'number') { "}else if(o){var q=o.op=="="?"==":o.op;p="if (typeof value == 'number' && value "+q+" "+o.value+") { ";j+="value = Math.abs(value); "}if(a.color){j+="result.color = "+JSON.stringify(a.color)+"; "}function r(a,b){if(a.type=="digit"&&b.type=="comma"||a.type=="comma"&&a.hidden&&b.type=="comma"){b.hidden=true;i++}}while(!b.eof()){b.ahead(2,r);var s=b.next();if(s.type=="percent"){f++}else if(s.type=="digit"){if(s.decimal){l+=s.format.length;n.push(s.format)}else{m.push(s.format);if(s.sep){k=true}}}else if(s.type=="time"){e=e||!!s.ampm;d=true}else if(s.type=="date"){c=true}else if(s.type=="ampm"){e=d=true}}if(f>0){j+="value *= "+Math.pow(100,f)+"; "}if(i>0){j+="value /= "+Math.pow(1e3,i)+"; "}if(m.length){j+="var intPart = runtime.formatInt(culture, value, "+JSON.stringify(m)+", "+l+", "+k+"); ";j+="var isNegative = parseInt(intPart[0]) < 0;"}if(n.length){j+="var decPart = runtime.formatDec(value, "+JSON.stringify(n)+", "+l+"); "}if(m.length||n.length){j+="type = 'number'; "}if(c){j+="var date = runtime.unpackDate(value); "}if(d){j+="var time = runtime.unpackTime(value); "}if(c||d){j+="type = 'date'; "}if(f>0||i>0||m.length||n.length||c||d){if(!p){p="if (typeof value == 'number') { "}}b.restart();j+="var matchedCurrency = false;";while(!b.eof()){var s=b.next();if(s.type=="dec"){j+="output += culture.numberFormat['.']; "}else if(s.type=="comma"&&!s.hidden){j+="output += ','; "}else if(s.type=="percent"){j+="type = 'percent'; ";j+="output += culture.numberFormat.percent.symbol; "}else if(s.type=="str"){if(g.test(s.value)){j+="type = 'currency'; ";j+="if (isNegative) { output += '-'; matchedCurrency = true; }"}j+="output += "+JSON.stringify(s.value)+"; "}else if(s.type=="text"){j+="type = 'text'; ";j+="output += value; "}else if(s.type=="space"){j+="if (output) result.body.push(output); ";j+="output = ''; ";j+="result.body.push({ type: 'space', value: "+JSON.stringify(s.value)+" }); "}else if(s.type=="fill"){j+="output += runtime.fill("+JSON.stringify(s.value)+"); "}else if(s.type=="digit"){j+="if (isNegative && intPart[0] && matchedCurrency) {intPart[0] = intPart[0].replace('-', '');}";j+="output += "+(s.decimal?"decPart":"intPart")+".shift(); "}else if(s.type=="date"){j+="output += runtime.date(culture, date, "+JSON.stringify(s.part)+", "+s.format+"); "}else if(s.type=="time"){j+="output += runtime.time(time, "+JSON.stringify(s.part)+", "+s.format+", "+e+", "+s.fraction+"); "}else if(s.type=="eltime"){j+="output += runtime.eltime(value, "+JSON.stringify(s.part)+", "+s.format+", "+s.fraction+"); "}else if(s.type=="ampm"){j+="output += time.hours < 12 ? "+JSON.stringify(s.am)+" : "+JSON.stringify(s.pm)+"; "}}j+="if (output) result.body.push(output); ";j+="result.type = type; ";j+="return result; ";if(p){j=p+j+"}"}return j}var j=Object.create(null);var k=i({cond:"text",body:[{type:"text"}]});function l(a){var b=j[a];if(!b){var c=e(a);var d=c.map(i);d.push(k);d=d.join("\n");d="'use strict'; return function(value, culture){ "+"if (!culture) culture = kendo.culture(); "+"var output = '', type = null, result = { body: [] }; "+d+"; return result; };";b=j[a]=new Function("runtime",d)(m)}return b}var m={unpackDate:a.runtime.unpackDate,unpackTime:a.runtime.unpackTime,date:function(a,b,c,d){switch(c){case"d":switch(d){case 1:return b.date;case 2:return n(b.date,2,"0");case 3:return a.calendars.standard.days.namesAbbr[b.day];case 4:return a.calendars.standard.days.names[b.day]}break;case"m":switch(d){case 1:return b.month+1;case 2:return n(b.month+1,2,"0");case 3:return a.calendars.standard.months.namesAbbr[b.month];case 4:return a.calendars.standard.months.names[b.month];case 5:return a.calendars.standard.months.names[b.month].charAt(0)}break;case"y":switch(d){case 2:return b.year%100;case 4:return b.year}break}return"##"},time:function(a,b,c,d,e){var f,g;switch(b){case"h":f=n(d?a.hours%12||12:a.hours,c,"0");if(e){g=(a.minutes+(a.seconds+a.milliseconds/1e3)/60)/60}break;case"m":f=n(a.minutes,c,"0");if(e){g=(a.seconds+a.milliseconds/1e3)/60}break;case"s":f=n(a.seconds,c,"0");if(e){g=a.milliseconds/1e3}break}if(g){f+=m.toFixed(g,e).replace(/^0+/,"")}return f},eltime:function(a,b,c,d){var e,f;switch(b){case"h":e=a*24;break;case"m":e=a*24*60;break;case"s":e=a*24*60*60;break}if(d){f=e-(e|0)}e=n(e|0,c,"0");if(f){e+=m.toFixed(f,d).replace(/^0+/,"")}return e},fill:function(a){return a},formatInt:function(a,b,c,d,e){b=m.toFixed(b,d).replace(/\..*$/,"");if(d>0){if(b==="0"){b=""}else if(b==="-0"){b="-"}}var f=b.length-1;var g=[];var h=0,i;function j(b){if(e&&h&&h%3===0&&/^[0-9]$/.test(b)){i=a.numberFormat[","]+i}i=b+i;h++}for(var k=c.length;--k>=0;){var l=c[k];i="";for(var n=l.length;--n>=0;){var o=l.charAt(n);if(f<0){if(o=="0"){j("0")}else if(o=="?"){j(" ")}}else{if(b=="0"&&o=="?"){j(" ")}else{j(b.charAt(f))}f--}}if(k===0){while(f>=0){j(b.charAt(f--))}}g.unshift(i)}return g},formatDec:function(a,b,c){a=m.toFixed(a,c);var d=a.indexOf(".");if(d>=0){a=a.substr(d+1).replace(/0+$/,"")}else{a=""}var e=0;var f=[];for(var g=0;g<b.length;++g){var h=b[g];var i="";for(var j=0;j<h.length;++j){var k=h.charAt(j);if(e<a.length){i+=a.charAt(e++)}else if(k=="0"){i+="0"}else if(k=="?"){i+=" "}}f.push(i)}return f},toFixed:function a(b,c){var d=String(b);var e=d.indexOf(".");if(e>=0){var f=d.substr(0,e)||0;var g=d.substr(e+1);if(g.length>14){g=String(Math.round(g/Math.pow(10,g.length-14)));while(g.length<14){g="0"+g}}if(g.length<c){while(g.length<c){g+="0"}return f+"."+g}b=parseFloat(f+"."+g)}return b.toFixed(c)}};function n(a,b,c){a+="";while(a.length<b){a=c+a}return a}function o(a){var b=a.body;var c="";for(var d=0;d<b.length;++d){var e=b[d];if(typeof e=="string"){c+=e}else if(e.type=="space"){c+=" "}}return c}kendo.spreadsheet.formatting={compile:l,parse:e,format:function(a,c,d){var e=l(c)(a,d);var f=b.element("span");f.__dataType=e.type;var g=e.body;if(e.color){f.attr.style={color:e.color}}for(var h=0;h<g.length;++h){var i=g[h];if(typeof i=="string"){f.children.push(b.text(i))}else if(i.type=="space"){f.children.push(b.element("span",{style:{visibility:"hidden"}},[b.text(i.value)]))}}return f},text:function(a,b,c){var d=l(b)(a,c);return o(d)},textAndColor:function(a,b,c){var d=l(b)(a,c);return{text:o(d),color:d.color,type:d.type}},type:function(a,b){return l(b)(a).type},adjustDecimals:function(a,b){var c=e(a);g(c,b);return f(c)}}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/runtime.functions",["spreadsheet/runtime","util/main"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.util;var b=kendo.spreadsheet;var c=b.calc;var d=c.runtime;var e=d.defineFunction;var f=d.defineAlias;var g=d.CalcError;var h=b.RangeRef;var i=b.CellRef;var j=b.UnionRef;var k=d.Matrix;var l=b.Ref;var m=d.daysInMonth;var n=d.packDate;var o=d.unpackDate;var p=d.daysInYear;["abs","cos","sin","acos","asin","tan","atan","exp","sqrt"].forEach(function(a){e(a,Math[a]).args([["*n","number"]])});e("ln",Math.log).args([["*n","number"]]);e("log",function(a,b){return Math.log(a)/Math.log(b)}).args([["*num","number++"],["*base",["or","number++",["null",10]]],["?",["assert","$base != 1","DIV/0"]]]);e("log10",function(a){return Math.log(a)/Math.log(10)}).args([["*num","number++"]]);e("pi",function(){return Math.PI}).args([]);e("sqrtpi",function(a){return Math.sqrt(a*Math.PI)}).args([["*num","number+"]]);e("degrees",function(a){return 180*a/Math.PI%360}).args([["*radians","number"]]);e("radians",function(a){return Math.PI*a/180}).args([["*degrees","number"]]);function q(a){return(Math.exp(a)+Math.exp(-a))/2}e("cosh",q).args([["*num","number"]]);e("acosh",function(a){return Math.log(a+Math.sqrt(a-1)*Math.sqrt(a+1))}).args([["*num","number"],["?",["assert","$num >= 1"]]]);function r(a){return(Math.exp(a)-Math.exp(-a))/2}e("sinh",r).args([["*num","number"]]);e("asinh",function(a){return Math.log(a+Math.sqrt(a*a+1))}).args([["*num","number"]]);e("sec",function(a){return 1/Math.cos(a)}).args([["*num","number"]]);e("sech",function(a){return 1/q(a)}).args([["*num","number"]]);e("csc",function(a){return 1/Math.sin(a)}).args([["*num","number"]]);e("csch",function(a){return 1/r(a)}).args([["*num","number"]]);e("atan2",function(a,b){return Math.atan(b/a)}).args([["*x","divisor"],["*y","number"]]);function s(a){return r(a)/q(a)}e("tanh",s).args([["*num","number"]]);e("atanh",function(a){return Math.log(Math.sqrt(1-a*a)/(1-a))}).args([["*num",["and","number",["(between)",-1,1]]]]);e("cot",function(a){return 1/Math.tan(a)}).args([["*num","divisor"]]);e("coth",function(a){return 1/s(a)}).args([["*num","divisor"]]);e("acot",function(a){return Math.PI/2-Math.atan(a)}).args([["*num","number"]]);e("acoth",function(a){return Math.log((a+1)/(a-1))/2}).args([["*num","number"],["?",["or",["assert","$num < -1"],["assert","$num > 1"]]]]);e("power",function(a,b){return Math.pow(a,b)}).args([["*a","number"],["*b","number"]]);e("mod",function(a,b){return a%b}).args([["*a","number"],["*b","divisor"]]);e("quotient",function(a,b){return Math.floor(a/b)}).args([["*a","number"],["*b","divisor"]]);e("ceiling",function(a,b){return b?b*Math.ceil(a/b):0}).args([["*number","number"],["*significance","number"],["?",["assert","$significance >= 0 || $number < 0"]]]);e("ceiling.precise",function(a,b){b=Math.abs(b);return b?b*Math.ceil(a/b):0}).args([["*number","number"],["*significance",["or","number",["null",1]]]]);f("iso.ceiling","ceiling.precise");e("ceiling.math",function(a,b,c){if(!b||!a){return 0}if(a<0&&(!c&&b<0||c&&b>0)){b=-b}return b?b*Math.ceil(a/b):0}).args([["*number","number"],["*significance",["or","number",["null","$number < 0 ? -1 : 1"]]],["*mode",["or","logical",["null",0]]]]);e("floor",function(a,b){return b?b*Math.floor(a/b):0}).args([["*number","number"],["*significance","number"],["?",["assert","$significance >= 0 || $number < 0"]]]);e("floor.precise",function(a,b){b=Math.abs(b);return b?b*Math.floor(a/b):0}).args([["*number","number"],["*significance",["or","number",["null",1]]]]);e("floor.math",function(a,b,c){if(!b||!a){return 0}if(a<0&&(!c&&b<0||c&&b>0)){b=-b}return b?b*Math.floor(a/b):0}).args([["*number","number"],["*significance",["or","number",["null","$number < 0 ? -1 : 1"]]],["*mode",["or","logical",["null",0]]]]);e("int",Math.floor).args([["*number","number"]]);e("mround",function(a,b){return b?b*Math.round(a/b):0}).args([["*number","number"],["*multiple","number"]]);e("round",function(a,b){var c=a<0?-1:1;if(c<0){a=-a}b=Math.pow(10,b);a*=b;a=Math.round(a);return c*a/b}).args([["*number","number"],["*digits","number"]]);e("roundup",function(a,b){b=Math.pow(10,b);a*=b;a=a<0?Math.floor(a):Math.ceil(a);return a/b}).args([["*number","number"],["*digits","number"]]);e("rounddown",function(a,b){b=Math.pow(10,b);a*=b;a=a<0?Math.ceil(a):Math.floor(a);return a/b}).args([["*number","number"],["*digits","number"]]);e("even",function(a){var b=a<0?Math.floor(a):Math.ceil(a);return b%2?b+(b<0?-1:1):b}).args([["*number","number"]]);e("odd",function(a){var b=a<0?Math.floor(a):Math.ceil(a);return b%2?b:b+(b<0?-1:1)}).args([["*number","number"]]);e("sign",function(a){return a<0?-1:a>0?1:0}).args([["*number","number"]]);function t(a,b){while(b){var c=a%b;a=b;b=c}return a}function u(a,b){return Math.abs(a*b)/t(a,b)}e("gcd",function(a){var b=a[0];for(var c=1;c<a.length;++c){b=t(b,a[c])}return b}).args([["numbers",["collect","number"]]]);e("lcm",function(a){var b=a[0];for(var c=1;c<a.length;++c){b=u(b,a[c])}return b}).args([["numbers",["collect","number"]]]);e("sum",function(a){return a.reduce(function(a,b){return a+b},0)}).args([["numbers",["collect","number"]]]);e("product",function(a){return a.reduce(function(a,b){return a*b},1)}).args([["numbers",["collect","number"]]]);e("sumproduct",function(a,b){var c=0;a.each(function(a,d,e){if(typeof a=="number"){for(var f=0;f<b.length;++f){var g=b[f].get(d,e);if(typeof g!="number"){return}a*=g}c+=a}});return c}).args([["a1","matrix"],["+",["a2",["and","matrix",["assert","$a2.width == $a1.width"],["assert","$a2.height == $a1.height"]]]]]);e("sumsq",function(a){return a.reduce(function(a,b){return a+b*b},0)}).args([["numbers",["collect","number"]]]);e("sumx2my2",function(a,b){var c=0;a.each(function(a,d,e){var f=b.get(d,e);if(typeof a=="number"&&typeof f=="number"){c+=a*a-f*f}});return c}).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]);e("sumx2py2",function(a,b){var c=0;a.each(function(a,d,e){var f=b.get(d,e);if(typeof a=="number"&&typeof f=="number"){c+=a*a+f*f}});return c}).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]);e("sumxmy2",function(a,b){var c=0;a.each(function(a,d,e){var f=b.get(d,e);if(typeof a=="number"&&typeof f=="number"){c+=(a-f)*(a-f)}});return c}).args([["a","matrix"],["b",["and","matrix",["assert","$b.width == $a.width"],["assert","$b.height == $a.height"]]]]);e("seriessum",function(a,b,c,d){var e=0;d.each(function(d){if(typeof d!="number"){throw new g("VALUE")}e+=d*Math.pow(a,b);b+=c});return e}).args([["x","number"],["y","number"],["m","number"],["a","matrix"]]);e("min",function(a){return a.length?Math.min.apply(Math,a):0}).args([["numbers",["collect","number"]]]);e("max",function(a){return a.length?Math.max.apply(Math,a):0}).args([["numbers",["collect","number"]]]);e("counta",function(a){return a.length}).args([["values",["#collect","anyvalue"]]]);e("count",function(a){return a.length}).args([["numbers",["#collect","number"]]]);e("countunique",function(a){var b=0,c=[];a.forEach(function(a){if(c.indexOf(a)<0){b++;c.push(a)}});return b}).args([["values",["#collect","anyvalue"]]]);e("countblank",function(a){var b=0;function c(a){if(a==null||a===""){b++}}function d(a){for(var b=0;b<a.length;++b){var d=a[b];if(d instanceof k){d.each(c,true)}else{c(d)}}}d(a);return b}).args([["+",["args",["or","matrix","anyvalue"]]]]);e("iseven",function(a){return a%2===0}).args([["*number","number"]]);e("isodd",function(a){return a%2!==0}).args([["*number","number"]]);e("n",function(a){if(typeof a=="boolean"){return a?1:0}if(typeof a=="number"){return a}return 0}).args([["*value","anyvalue"]]);e("na",function(){return new g("N/A")}).args([]);function v(a,b){var c=[],d=0,e=a[0];while(d<a.length){c.push({matrix:a[d++],pred:R(a[d++])})}a:for(var f=0;f<e.height;++f){b:for(var g=0;g<e.width;++g){for(d=0;d<c.length;++d){var h=c[d].matrix.get(f,g);if(!c[d].pred(h==null||h===""?0:h)){continue b}}b(f,g)}}}var w=[["m1","matrix"],["c1","anyvalue"],[["m2","matrix"],["c2","anyvalue"]]];e("countifs",function(a,b,c){var d=0;c.unshift(a,b);v(c,function(){d++});return d}).args(w);var x=[["range","matrix"]].concat(w);e("sumifs",function(a,b,c,d){d.unshift(a,S,b,c);var e=0;v(d,function(b,c){var d=a.get(b,c);if(d){e+=d}});return e}).args(x);e("averageifs",function(a,b,c,d){d.unshift(a,S,b,c);var e=0,f=0;v(d,function(b,c){var d=a.get(b,c);if(d==null||d===""){d=0}e+=d;f++});return f?e/f:new g("DIV/0")}).args(x);e("countif",function(a,b){b=R(b);var c=0;a.each(function(a){if(b(a)){c++}});return c}).args([["range","matrix"],["*criteria","anyvalue"]]);var y=[["range","matrix"],["*criteria","anyvalue"],["sumRange",["or",["and","matrix",["assert","$sumRange.width == $range.width"],["assert","$sumRange.height == $range.height"]],["null","$range"]]]];e("sumif",function(a,b,c){var d=0;b=R(b);a.each(function(a,e,f){if(b(a)){var g=c.get(e,f);if(S(g)){d+=g||0}}});return d}).args(y);e("averageif",function(a,b,c){var d=0,e=0;b=R(b);a.each(function(a,f,g){if(b(a)){var h=c.get(f,g);if(S(h)){d+=h||0;e++}}});return e?d/e:new g("DIV/0")}).args(y);(function(a){a("large",function(a,b){return a.sort(U)[b]});a("small",function(a,b){return a.sort(T)[b]})})(function(a,b){e(a,function(a,c){var d=[];var e=a.each(function(a){if(a instanceof g){return a}if(typeof a=="number"){d.push(a)}});if(e){return e}if(c>d.length){return new g("NUM")}return b(d,c-1)}).args([["array","matrix"],["*nth","number++"]])});function z(a){return a.reduce(function(a,b){return a+b},0)/a.length}function A(a,b,c){if(c==null){c=z(a)}return a.reduce(function(a,b){return a+Math.pow(b-c,2)},0)/b}function B(a,b){return Math.sqrt(A(a,b))}e("stdev.s",function(a){return B(a,a.length-1)}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]);e("stdev.p",function(a){return B(a,a.length)}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]);e("var.s",function(a){return A(a,a.length-1)}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]);e("var.p",function(a){return A(a,a.length)}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]);e("median",function(a){var b=a.length;a.sort(T);if(b%2){return a[b>>1]}return(a[b>>1]+a[b>>1+1])/2}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","N/A"]]]);e("mode.sngl",function(a){a.sort(T);var b=null,c=0,d=1,e=null;for(var f=0;f<a.length;++f){var h=a[f];if(h!=b){c=1;b=h}else{c++}if(c>d){d=c;e=h}}return e==null?new g("N/A"):e}).args([["numbers",["collect","number"]]]);e("mode.mult",function(a){var b=Object.create(null),c=2,d=[];a.forEach(function(a){var e=b[a]||0;b[a]=++e;if(e==c){d.push(a)}else if(e>c){c=e;d=[a]}});var e=new k(this);d.forEach(function(a,b){e.set(b,0,a)});return e}).args([["numbers",["collect","number"]]]);e("geomean",function(a){var b=a.length;var c=a.reduce(function(a,b){if(b<0){throw new g("NUM")}return a*b},1);return Math.pow(c,1/b)}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","NUM"]]]);e("harmean",function(a){var b=a.length;var c=a.reduce(function(a,b){if(!b){throw new g("DIV/0")}return a+1/b},0);return b/c}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length > 0","NUM"]]]);e("trimmean",function(a,b){var c=a.length;a.sort(T);var d=Math.floor(c*b);if(d%2){--d}d/=2;var e=0;for(var f=d;f<c-d;++f){e+=a[f]}return e/(c-d*2)}).args([["numbers",["collect","number",1]],["percent",["and","number",["[between)",0,1]]],["?",["assert","$numbers.length > 0","NUM"]]]);e("frequency",function(a,b){a.sort(T);b.sort(T);var c=-Infinity;var d=0;function e(b){var e=0;while(d<a.length&&a[d]>c&&a[d]<=b){++e;++d}return e}var f=new k(this);b.forEach(function(a,b){var d=e(a);c=a;f.set(b,0,d)});f.set(f.height,0,a.length-d);return f}).args([["data",["collect","number",1]],["bins",["collect","number",1]]]);e("rank.eq",function(a,b,c){b.sort(c?T:U);var d=b.indexOf(a);return d<0?new g("N/A"):d+1}).args([["value","number"],["numbers",["collect","number"]],["order",["or","logical",["null",false]]]]);f("rank","rank.eq");e("rank.avg",function(a,b,c){b.sort(c?T:U);var d=b.indexOf(a);if(d<0){return new g("N/A")}for(var e=d;b[e]==a;++e){}return(d+e+1)/2}).args([["value","number"],["numbers",["collect","number"]],["order",["or","logical",["null",false]]]]);e("kurt",function(a){var b=a.length;var c=z(a);var d=A(a,b-1,c);var e=Math.sqrt(d);var f=a.reduce(function(a,b){return a+Math.pow((b-c)/e,4)},0);return b*(b+1)/((b-1)*(b-2)*(b-3))*f-3*Math.pow(b-1,2)/((b-2)*(b-3))}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 4","NUM"]]]);function C(a,b,c){var d=0,e=0,f=null,h=null,i=false;a.forEach(function(a){if(a<b){d++;f=f==null?a:Math.max(f,a)}else if(a>b){e++;h=h==null?a:Math.min(h,a)}else{i=true}});if(!d&&!e){return new g("N/A")}if(i){if(c){return(d+1)/(a.length+1)}return d/(d+e)}return((h-b)*C(a,f,c)+(b-f)*C(a,h,c))/(h-f)}var D=[["array",["collect","number",1]],["x","number"],["significance",["or",["null",3],"integer++"]],["?",["assert","$array.length > 0","NUM"]]];e("percentrank.inc",function(a,b,c){var d=C(a,b,0);d=d.toFixed(c+1);return parseFloat(d.substr(0,d.length-1))}).args(D);e("percentrank.exc",function(a,b,c){var d=C(a,b,1);d=d.toFixed(c+1);return parseFloat(d.substr(0,d.length-1))}).args(D);f("percentrank","percentrank.inc");function E(a,b,c){var d=0;var e=z(a);var f=z(b);var g=a.length;for(var h=0;h<g;++h){d+=(a[h]-e)*(b[h]-f)}return d/c}e("covariance.p",function(a,b){return E(a,b,a.length)}).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length == $array2.length","N/A"]],["?",["assert","$array1.length > 0","DIV/0"]]]);e("covariance.s",function(a,b){return E(a,b,a.length-1)}).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length == $array2.length","N/A"]],["?",["assert","$array1.length > 1","DIV/0"]]]);
f("covar","covariance.p");var F=a.memoize(function(a){for(var b=2,c=1;b<=a;++b){c*=b}return c});e("fact",F).args([["*n","integer+"]]);e("factdouble",function(a){for(var b=2+(a&1),c=1;b<=a;b+=2){c*=b}return c}).args([["*n","integer+"]]);e("multinomial",function(a){var b=1,c=0;a.forEach(function(a){if(a<0){throw new g("NUM")}c+=a;b*=F(a)});return F(c)/b}).args([["numbers",["collect","number"]]]);var G=a.memoize(function(a,b){for(var c=b+1,d=1,e=1,f=1;d<=a-b;++c,++d){e*=c;f*=d}return e/f});e("combin",G).args([["*n","integer++"],["*k",["and","integer",["[between]",0,"$n"]]]]);e("combina",function(a,b){return G(a+b-1,a-1)}).args([["*n","integer++"],["*k",["and","integer",["[between]",1,"$n"]]]]);e("average",function(a){var b=a.reduce(function(a,b){return a+b},0);return b/a.length}).args([["numbers",["collect","number!"]],["?",["assert","$numbers.length > 0","DIV/0"]]]);e("averagea",function(a){var b=0,c=0;a.forEach(function(a){if(typeof a!="string"){b+=a}++c});return c?b/c:new g("DIV/0")}).args([["values",["collect","anyvalue"]]]);function H(a,b){a.sort(T);var c=a.length;var d=b|0,e=b-d;if(d===0){return a[0]}if(d>=c){return a[c-1]}--d;return a[d]+e*(a[d+1]-a[d])}function I(a,b){var c=b*(a.length-1)+1;return H(a,c)}function J(a,b){var c=b*(a.length+1);return H(a,c)}e("percentile.inc",I).args([["numbers",["collect","number",1]],["p",["and","number",["[between]",0,1]]]]);e("percentile.exc",J).args([["numbers",["collect","number",1]],["p",["and","number",["(between)",0,1]]]]);e("quartile.inc",function(a,b){return I(a,b/4)}).args([["numbers",["collect","number",1]],["quarter",["values",0,1,2,3,4]]]);e("quartile.exc",function(a,b){return J(a,b/4)}).args([["numbers",["collect","number",1]],["quarter",["values",0,1,2,3,4]]]);f("quartile","quartile.inc");f("percentile","percentile.inc");var K=["AVERAGE","COUNT","COUNTA","MAX","MIN","PRODUCT","STDEV.S","STDEV.P","SUM","VAR.S","VAR.P","MEDIAN","MODE.SNGL","LARGE","SMALL","PERCENTILE.INC","QUARTILE.INC","PERCENTILE.EXC","QUARTILE.EXC"];function L(a,b,c){var d=[];var e=1;var f=2;var h=4;(function b(i){if(i instanceof l){a.getRefCells(i,true).forEach(function(a){var b=a.value;if(c&e&&a.hidden){return}if(a.formula){var i=a.formula.print(a.row,a.col);if(/^\s*(?:aggregate|subtotal)\s*\(/i.test(i)){if(!(c&h)){return}}if("value"in a.formula){b=a.formula.value}}if(c&f&&b instanceof g){return}if(typeof b=="number"||b instanceof g){d.push(b)}})}else if(Array.isArray(i)){for(var j=0;j<i.length;++j){b(i[j])}}else if(i instanceof k){i.each(b)}else if(typeof i=="number"){d.push(i)}else if(i instanceof g&&!(c&f)){d.push(i)}})(b);return d}e("aggregate",function(a,b,c,d){var e=this;e.resolveCells(d,function(){var f;if(b>12){f=L(e,d[0],c);var h=d[1];if(h instanceof i){h=e.getRefData(h)}if(typeof h!="number"){return a(new g("VALUE"))}}else{f=L(e,d,c)}e.func(K[b-1],a,f)})}).argsAsync([["funcId",["values",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]],["options",["or",["null",0],["values",0,1,2,3,4,5,6,7]]],["args","rest"]]);e("subtotal",function(a,b){var c=this;var d=b>100;if(d){b-=100}var e=[];for(var f=2;f<arguments.length;++f){e.push(arguments[f])}c.resolveCells(e,function(){var f=L(c,e,d?1:0);c.func(K[b-1],a,f)})}).argsAsync([["funcId",["values",1,2,3,4,5,6,7,8,9,10,11,101,102,103,104,105,106,107,108,109,110,111]],["+",["ref",["or","ref","#matrix"]]]]);e("avedev",function(a){var b=a.reduce(function(a,b){return a+b},0)/a.length;return a.reduce(function(a,c){return a+Math.abs(c-b)},0)/a.length}).args([["numbers",["collect","number"]],["?",["assert","$numbers.length >= 2","NUM"]]]);function M(a,b,c,d){if(!d){return G(b,a)*Math.pow(c,a)*Math.pow(1-c,b-a)}else{var e=0;for(var f=0;f<=a;++f){e+=G(b,f)*Math.pow(c,f)*Math.pow(1-c,b-f)}return e}}e("binom.dist",M).args([["successes","integer+"],["trials",["and","integer",["assert","$trials >= $successes"]]],["probability",["and","number",["[between]",0,1]]],["cumulative","logical"]]);f("binomdist","binom.dist");e("binom.inv",function(a,b,c){for(var d=0;d<=a;++d){if(M(d,a,b,true)>=c){return d}}return new g("N/A")}).args([["trials","integer+"],["probability",["and","number",["[between]",0,1]]],["alpha",["and","number",["[between]",0,1]]]]);f("critbinom","binom.inv");e("binom.dist.range",function(a,b,c,d){var e=0;for(var f=c;f<=d;++f){e+=G(a,f)*Math.pow(b,f)*Math.pow(1-b,a-f)}return e}).args([["trials","integer+"],["probability",["and","number",["[between]",0,1]]],["successes_min",["and","integer",["[between]",0,"$trials"]]],["successes_max",["or",["and","integer",["[between]","$successes_min","$trials"]],["null","$successes_min"]]]]);e("negbinom.dist",function(a,b,c,d){if(d){var e=0;while(a>=0){e+=G(a+b-1,a)*Math.pow(c,b)*Math.pow(1-c,a);a--}return e}return G(a+b-1,a)*Math.pow(c,b)*Math.pow(1-c,a)}).args([["number_f","integer+"],["number_s","integer+"],["probability_s",["and","number",["[between]",0,1]]],["cumulative","logical"]]);f("negbinomdist","negbinom.dist");e("address",function(a,b,c,d,e){var f=new i(a-1,b-1,c-1);if(e){f.setSheet(e,true)}return d?f.print(0,0):f.print()}).args([["row","integer++"],["col","integer++"],["abs",["or",["null",1],["values",1,2,3,4]]],["a1",["or",["null",true],"logical"]],["sheet",["or","null","string"]]]);e("areas",function(a){var b=0;(function a(c){if(c instanceof i||c instanceof h){b++}else if(c instanceof j){c.refs.forEach(a)}})(a);return b}).args([["ref","ref"]]);e("choose",function(a,b){if(a>b.length){return new g("N/A")}else{return b[a-1]}}).args([["*index","integer"],["+",["value","anything"]]]);e("column",function(a){if(!a){return this.formula.col+1}if(a instanceof i){return a.col+1}return this.asMatrix(a).mapCol(function(b){return b+a.topLeft.col+1})}).args([["ref",["or","area","null"]]]);e("columns",function(a){return a instanceof l?a.width():a.width}).args([["ref",["or","area","#matrix"]]]);e("formulatext",function(a){var b=this.getRefCells(a)[0];if(!b.formula){return new g("N/A")}return b.formula.print(b.row,b.col)}).args([["ref","ref"]]);e("hlookup",function(a,b,c,d){var e=null;b.eachCol(function(c){var f=b.get(0,c);if(d){if(f>a){return true}e=c}else if(f===a){e=c;return true}});if(e==null){return new g("N/A")}return b.get(c-1,e)}).args([["value","anyvalue"],["range","matrix"],["row","integer++"],["approx",["or","logical",["null",true]]]]);e("index",function(a,b,c,d,e){var f=this;if(b instanceof j){b=b.refs[e-1]}if(!c&&!d||!b){return a(new g("N/A"))}if(b instanceof i){b=b.toRangeRef()}if(b instanceof h){if(c&&d){if(d>b.width()||c>b.height()){return a(new g("REF"))}var l=b.toCell(c-1,d-1);f.resolveCells([l],function(){a(f.getRefData(l))});return}if(!c){var m=b.toColumn(d-1);f.resolveCells([m],function(){a(f.asMatrix(m))});return}if(!d){var n=b.toRow(c-1);f.resolveCells([n],function(){a(f.asMatrix(n))});return}}else if(b instanceof k){if(b.width>1&&b.height>1){if(c&&d){return a(b.get(c-1,d-1))}if(!c){return a(b.mapRow(function(a){return b.get(a,d-1)}))}if(!d){return a(b.mapCol(function(a){return b.get(c-1,a)}))}}if(b.width==1){return a(b.get(c-1,0))}if(b.height==1){return a(b.get(0,d-1))}}else{a(new g("REF"))}}).argsAsync([["range",["or","ref","matrix"]],["row",["or","integer+","null"]],["col",["or","integer+","null"]],["areanum",["or","integer++",["null",1]]]]);e("indirect",function(a){try{var b=this.formula;var d=c.parseFormula(b.sheet,b.row,b.col,a);if(!(d.ast instanceof l)){throw 1}return d.ast.absolute(b.row,b.col)}catch(a){return new g("REF")}}).args([["thing","string"]]);e("match",function(a,b,c){var d=1,e;if(c===0){e=R(a)}else if(c===-1){e=R("<="+a)}else if(c===1){e=R(">="+a)}if(b.each(function(b){if(b!=null&&e(b)){if(c!==0&&a!=b){--d}return true}d++},true)&&d>0){return d}else{return new g("N/A")}}).args([["value","anyvalue"],["range","matrix"],["type",["or",["values",-1,0,1],["null",1]]]]);e("offset",function(a,b,c,d,e){var f=(a instanceof i?a:a.topLeft).clone();f.row+=b;f.col+=c;if(f.row<0||f.col<0){return new g("VALUE")}if(d>1||e>1){return new h(f,new i(f.row+d-1,f.col+e-1)).setSheet(a.sheet,a.hasSheet())}return f}).args([["ref","area"],["*rows","integer"],["*cols","integer"],["*height",["or","integer++",["null","$ref.height()"]]],["*width",["or","integer++",["null","$ref.width()"]]]]);e("row",function(a){if(!a){return this.formula.row+1}if(a instanceof i){return a.row+1}return this.asMatrix(a).mapRow(function(b){return b+a.topLeft.row+1})}).args([["ref",["or","area","null"]]]);e("rows",function(a){return a instanceof l?a.height():a.height}).args([["ref",["or","area","#matrix"]]]);e("vlookup",function(a,b,c,d){var e=null;if(typeof a!="number"){d=false}if(typeof a=="string"){a=a.toLowerCase()}b.eachRow(function(c){var f=b.get(c,0);if(d){if(f>a){return true}e=c}else{if(typeof f=="string"){f=f.toLowerCase()}if(f===a){e=c;return true}}});if(e==null){return new g("N/A")}return b.get(e,c-1)}).args([["value","anyvalue"],["range","matrix"],["col","integer++"],["approx",["or","logical",["null",true]]]]);e("date",function(a,b,c){return n(a,b-1,c)}).args([["*year","integer"],["*month","integer"],["*date","integer"]]);e("day",function(a){return o(a).date}).args([["*date","date"]]);e("month",function(a){return o(a).month+1}).args([["*date","date"]]);e("year",function(a){return o(a).year}).args([["*date","date"]]);e("weekday",function(a){return o(a).day+1}).args([["*date","date"]]);e("weeknum",function(a,b){var c=n(o(a).year,0,1);var d=o(c);var e;if(b==21){e=3-(d.day+6)%7;if(e<0){e+=7}c+=e;d.date+=e;d.day=4;b=1}else{if(b==1){b=0}else if(b==2){b=1}else{b=(b-10)%7}}e=d.day-b;if(e<0){e+=7}c-=e;return Math.ceil((a+1-c)/7)}).args([["*date","date"],["*type",["or",["null",1],["values",1,2,11,12,13,14,15,16,17,21]]]]);function N(a){var b=o(n(a,0,1));if(b.day==4||b.day==3&&d.isLeapYear(a)){return 53}return 52}e("isoweeknum",function a(b){var c=o(b);var d=c.day||7;var e=Math.floor((c.ord-d+10)/7);if(e<1){return N(c.year-1)}else if(e==53&&e>N(c.year)){return 1}return e}).args([["*date","date"]]);e("now",function(){return d.dateToSerial(new Date)}).args([]);e("today",function(){return d.dateToSerial(new Date)|0}).args([]);e("time",function(a,b,c){return d.packTime(a,b,c,0)}).args([["*hours","integer"],["*minutes","integer"],["*seconds","integer"]]);e("hour",function(a){return d.unpackTime(a).hours}).args([["*time","datetime"]]);e("minute",function(a){return d.unpackTime(a).minutes}).args([["*time","datetime"]]);e("second",function(a){return d.unpackTime(a).seconds}).args([["*time","datetime"]]);e("edate",function(a,b){var c=o(a);var d=c.month+b;var e=c.year+Math.floor(d/12);d%=12;if(d<0){d+=12}c=Math.min(c.date,m(e,d));return n(e,d,c)}).args([["*start_date","date"],["*months","integer"]]);e("eomonth",function(a,b){var c=o(a);var d=c.month+b;var e=c.year+Math.floor(d/12);d%=12;if(d<0){d+=12}c=m(e,d);return n(e,d,c)}).args([["*start_date","date"],["*months","integer"]]);e("workday",function(a,b,c){var d=b>0?1:-1;b=Math.abs(b);var e=o(a).day;while(b>0){a+=d;e=(e+d)%7;if(e>0&&e<6&&c.indexOf(a)<0){--b}}return a}).args([["start_date","date"],["days","integer"],["holidays",["collect","date"]]]);e("networkdays",function(a,b,c){if(a>b){var d=a;a=b;b=d}var e=0;var f=o(a).day;while(a<=b){if(f>0&&f<6&&c.indexOf(a)<0){e++}a++;f=(f+1)%7}return e}).args([["start_date","date"],["end_date","date"],["holidays",["collect","date"]]]);e("days",function(a,b){return b-a}).args([["*start_date","date"],["*end_date","date"]]);function O(a,b,c){var d=o(a);var e=o(b);if(c){if(d.date==31){d.date=30}if(e.date==31){e.date=30}}else{if(d.month==1&&e.month==1&&d.date==m(d.year,1)&&e.date==m(e.year,1)){e.date=30}if(d.date==m(d.year,d.month)){d.date=30;if(e.date==31){e.date=30}}else{if(d.date==30&&e.date==31){e.date=30}}}return 360*(e.year-d.year)+30*(e.month-d.month)+(e.date-d.date)}d._days_360=O;e("days360",O).args([["*start_date","date"],["*end_date","date"],["*method",["or","logical",["null",false]]]]);e("yearfrac",function(a,b,c){switch(c){case 0:return O(a,b,false)/360;case 1:return(b-a)/p(o(a).year);case 2:return(b-a)/360;case 3:return(b-a)/365;case 4:return O(a,b,true)/360}}).args([["*start_date","date"],["*end_date","date"],["*method",["or",["null",0],["values",0,1,2,3,4]]]]);e("datevalue",function(a){var b=d.parseDate(a);if(b){return d.dateToSerial(b)}return new g("VALUE")}).args([["*text","string"]]);e("timevalue",function(a){var b=a.toLowerCase().match(/(\d+):(\d+)(:(\d+)(\.(\d+))?)?\s*(am?|pm?)?/);if(b){var c=parseFloat(b[1]);var e=parseFloat(b[2]);var f=b[3]?parseFloat(b[4]):0;var h=b[7];if(h&&(c>12||c<1)){return new g("VALUE")}if(/^p/.test(h)){c+=12}return d.packTime(c,e,f,0)}return new g("VALUE")}).args([["*text","string"]]);e("mdeterm",function(a){var b=a.each(function(a){if(typeof a!="number"){return new g("VALUE")}},true);return b||a.determinant()}).args([["m",["and","matrix",["assert","$m.width == $m.height"]]]]);e("transpose",function(a){return a.transpose()}).args([["range","matrix"]]);e("mmult",function(a,b){return a.multiply(b)}).args([["a","matrix"],["b",["and","matrix",["assert","$b.height == $a.width"]]]]);e("munit",function(a){return new k(this).unit(a)}).args([["n","integer+"]]);e("minverse",function(a){var b=a.each(function(a){if(typeof a!="number"){return new g("VALUE")}},true);return b||a.inverse()||new g("VALUE")}).args([["m",["and","matrix",["assert","$m.width == $m.height"]]]]);e("rand",function(){return Math.random()}).args([]);e("randbetween",function(a,b){return a+Math.floor((b-a+1)*Math.random())}).args([["min","integer"],["max",["and","integer",["assert","$max >= $min"]]]]);e("true",function(){return true}).args([]);e("false",function(){return true}).args([]);e("roman",function(b){return a.arabicToRoman(b).toUpperCase()}).args([["*number","integer"]]);e("arabic",function(b){var c=a.romanToArabic(b);return c==null?new g("VALUE"):c}).args([["*roman","string"]]);e("base",function(a,b,c){var d=a.toString(b).toUpperCase();while(d.length<c){d="0"+d}return d}).args([["*number","integer"],["*radix",["and","integer",["[between]",2,36]]],["*minLen",["or","integer+",["null",0]]]]);e("decimal",function(a,b){a=a.toUpperCase();var c=0;for(var d=0;d<a.length;++d){var e=a.charCodeAt(d);if(e>=48&&e<=57){e-=48}else if(e>=65&&e<55+b){e-=55}else{return new g("VALUE")}c=c*b+e}return c}).args([["*text","string"],["*radix",["and","integer",["[between]",2,36]]]]);e("char",function(a){return String.fromCharCode(a)}).args([["*code","integer+"]]);var P=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g;e("clean",function(a){return a.replace(P,"")}).args([["*text","string"]]);e("code",function(a){return a.charAt(0)}).args([["*text","string"]]);f("unichar","char");f("unicode","code");e("concatenate",function(a){var b="";for(var c=0;c<a.length;++c){b+=a[c]}return b}).args([["+",["*text","string"]]]);e("dollar",function(a,c){var d="$#,##0.DECIMALS;($#,##0.DECIMALS)";var e="";while(c-- >0){e+="0"}d=d.replace(/DECIMALS/g,e);return b.formatting.text(a,d)}).args([["*number","number"],["*decimals",["or","integer++",["null",2]]]]);e("exact",function(a,b){return a===b}).args([["*text1","string"],["*text2","string"]]);e("find",function(a,b,c){var d=b.indexOf(a,c-1);return d<0?new g("VALUE"):d+1}).args([["*substring","string"],["*string","string"],["*start",["or","integer++",["null",1]]]]);e("fixed",function(a,c,d){var e=Math.pow(10,c);a=Math.round(a*e)/e;var f=d?"0":"#,##0";if(c>0){f+=".";while(c-- >0){f+="0"}}return b.formatting.text(a,f)}).args([["*number","number"],["*decimals",["or","integer",["null",2]]],["*noCommas",["or","boolean",["null",false]]]]);e("left",function(a,b){return a.substr(0,b)}).args([["*text","string"],["*length",["or","integer+",["null",1]]]]);e("right",function(a,b){return a.substr(-b)}).args([["*text","string"],["*length",["or","integer+",["null",1]]]]);e("len",function(a){return a.length}).args([["*text","string"]]);e("lower",function(a){return a.toLowerCase()}).args([["*text","string"]]);e("upper",function(a){return a.toUpperCase()}).args([["*text","string"]]);e("ltrim",function(a){return a.replace(/^\s+/,"")}).args([["*text","string"]]);e("rtrim",function(a){return a.replace(/\s+$/,"")}).args([["*text","string"]]);e("trim",function(a){return a.replace(/^\s+|\s+$/,"")}).args([["*text","string"]]);e("mid",function(a,b,c){return a.substr(b-1,c)}).args([["*text","string"],["*start","integer++"],["*length","integer+"]]);e("proper",function(a){return a.toLowerCase().replace(/\b./g,function(a){return a.toUpperCase()})}).args([["*text","string"]]);e("replace",function(a,b,c,d){return a.substr(0,--b)+d+a.substr(b+c)}).args([["*text","string"],["*start","integer++"],["*length","integer+"],["*newText","string"]]);e("rept",function(a,b){var c="";while(b-- >0){c+=a}return c}).args([["*text","string"],["*number","integer+"]]);e("search",function(a,b,c){var d=b.toLowerCase().indexOf(a.toLowerCase(),c-1);return d<0?new g("VALUE"):d+1}).args([["*substring","string"],["*string","string"],["*start",["or","integer++",["null",1]]]]);e("substitute",function(a,b,c,d){if(b===c){return a}var e=-1;function f(){a=a.substring(0,e)+c+a.substring(e+b.length)}while((e=a.indexOf(b,e+1))>=0){if(d==null){f()}else if(--d===0){f();break}}return a}).args([["*text","string"],["*oldText","string"],["*newText","string"],["*nth",["or","integer++","null"]]]);e("t",function(a){return typeof a=="string"?a:""}).args([["*value","anyvalue"]]);e("text",function(a,c){return b.formatting.text(a,c)}).args([["*value","anyvalue"],["*format","string"]]);e("value",function(a){if(typeof a=="number"){return a}if(typeof a=="boolean"){return+a}a=(a+"").replace(/[$â¬,]/g,"");a=parseFloat(a);return isNaN(a)?new g("VALUE"):a}).args([["*value","anyvalue"]]);function Q(a,b){this.link=a;this.text=b}Q.prototype.toString=function(){return this.text};e("hyperlink",function(a,b){return new Q(a,b)}).args([["*link","string"],["*text",["or","string",["null","$link"]]]]);e("iferror",function(a,b){return a instanceof g?b:a}).args([["*value","forced!"],["*value_if_error","anyvalue!"]]);var R=function(){var a=Object.create(null);function b(a,b){if(typeof b=="string"){var c=parseFloat(b);if(!isNaN(c)&&c==b){b=c}}return function(c){var d=b;if(typeof c=="string"&&typeof d=="string"){c=c.toLowerCase();d=d.toLowerCase()}return a(c,d)}}function c(a){var b,c;if(typeof a=="string"){a=a.toLowerCase()}if(/^[0-9.]+%$/.test(a)){c=a.substr(0,a.length-1);b=parseFloat(c);if(!isNaN(b)&&b==c){a=b/100}}else if(/^[0-9.]+$/.test(a)){b=parseFloat(a);if(!isNaN(b)&&b==a){a=b}}return a}function d(a,b){return c(a)<c(b)}function e(a,b){return c(a)<=c(b)}function f(a,b){return c(a)>c(b)}function g(a,b){return c(a)>=c(b)}function h(a,b){return!i(a,b)}function i(a,b){if(b instanceof RegExp){return b.test(a)}if(typeof a=="string"||typeof b=="string"){a=String(a);b=String(b)}return c(a)==c(b)}return function(c){if(typeof c=="function"){return c}var j;if(j=/^=(.*)$/.exec(c)){return b(i,j[1])}if(j=/^<>(.*)$/.exec(c)){return b(h,j[1])}if(j=/^<=(.*)$/.exec(c)){return b(e,j[1])}if(j=/^<(.*)$/.exec(c)){return b(d,j[1])}if(j=/^>=(.*)$/.exec(c)){return b(g,j[1])}if(j=/^>(.*)$/.exec(c)){return b(f,j[1])}if(/[?*]/.exec(c)){var k=a[c];if(!k){k=c.replace(/(~\?|~\*|[\]({\+\.\|\^\$\\})\[]|[?*])/g,function(a){switch(a){case"~?":return"\\?";case"~*":return"\\*";case"?":return".";case"*":return".*";default:return"\\"+a}});k=a[c]=new RegExp("^"+k+"$","i")}return b(i,k)}return b(i,c)}}();function S(a){return typeof a=="number"||typeof a=="boolean"||a==null||a===""}function T(a,b){return a===b?0:a<b?-1:1}function U(a,b){return a===b?0:a<b?1:-1}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/runtime.functions.2",["spreadsheet/runtime"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.spreadsheet;var b=a.calc;var c=b.runtime;var d=c.defineFunction;var e=c.CalcError;var f=c.packDate;var g=c.unpackDate;var h=c.isLeapYear;var i=c.daysInMonth;var j=c._days_360;d("ERF",function(a,b){if(b==null){return p(a)}return p(b)-p(a)}).args([["lower_limit","number"],["upper_limit",["or","number","null"]]]);d("ERFC",q).args([["x","number"]]);d("GAMMALN",r).args([["x","number++"]]);d("GAMMA",s).args([["x","number"]]);d("GAMMA.DIST",y).args([["x","number+"],["alpha","number++"],["beta","number++"],["cumulative","logical"]]);d("GAMMA.INV",z).args([["p",["and","number",["[between]",0,1]]],["alpha","number++"],["beta","number++"]]);d("NORM.S.DIST",A).args([["z","number"],["cumulative","logical"]]);d("NORM.S.INV",B).args([["p",["and","number",["[between]",0,1]]]]);d("NORM.DIST",C).args([["x","number"],["mean","number"],["stddev","number++"],["cumulative","logical"]]);d("NORM.INV",D).args([["p",["and","number",["[between]",0,1]]],["mean","number"],["stddev","number++"]]);d("BETADIST",I).args([["x","number"],["alpha","number++"],["beta","number++"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]],["?",["assert","$x >= $A","NUM"]],["?",["assert","$x <= $B","NUM"]],["?",["assert","$A < $B","NUM"]]]);d("BETA.DIST",J).args([["x","number"],["alpha","number++"],["beta","number++"],["cumulative","logical"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]],["?",["assert","$x >= $A","NUM"]],["?",["assert","$x <= $B","NUM"]],["?",["assert","$A < $B","NUM"]]]);d("BETA.INV",K).args([["p",["and","number",["[between]",0,1]]],["alpha","number++"],["beta","number++"],["A",["or","number",["null",0]]],["B",["or","number",["null",1]]]]);d("CHISQ.DIST",L).args([["x","number+"],["deg_freedom","integer++"],["cumulative","logical"]]);d("CHISQ.DIST.RT",M).args([["x","number+"],["deg_freedom","integer++"]]);d("CHISQ.INV",N).args([["p",["and","number",["[between]",0,1]]],["deg_freedom","integer++"]]);d("CHISQ.INV.RT",O).args([["p",["and","number",["[between]",0,1]]],["deg_freedom","integer++"]]);d("CHISQ.TEST",function(a,b){return P(a.data,b.data)}).args([["actual_range","matrix"],["expected_range","matrix"],["?",["assert","$actual_range.width == $expected_range.width"]],["?",["assert","$actual_range.height == $expected_range.height"]]]);d("EXPON.DIST",Q).args([["x","number+"],["lambda","number++"],["cumulative","logical"]]);d("POISSON.DIST",R).args([["x","integer+"],["mean","number+"],["cumulative","logical"]]);d("F.DIST",S).args([["x","number+"],["deg_freedom1","integer++"],["deg_freedom2","integer++"],["cumulative","logical"]]);d("F.DIST.RT",T).args([["x","number+"],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]);d("F.INV",V).args([["p",["and","number",["[between]",0,1]]],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]);d("F.INV.RT",U).args([["p",["and","number",["[between]",0,1]]],["deg_freedom1","integer++"],["deg_freedom2","integer++"]]);d("F.TEST",Y).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["?",["assert","$array1.length >= 2","DIV/0"]],["?",["assert","$array2.length >= 2","DIV/0"]]]);d("FISHER",Z).args([["x",["and","number",["(between)",-1,1]]]]);d("FISHERINV",$).args([["y","number"]]);d("T.DIST",_).args([["x","number"],["deg_freedom","integer++"],["cumulative","logical"]]);d("T.DIST.RT",aa).args([["x","number"],["deg_freedom","integer++"]]);d("T.DIST.2T",ba).args([["x","number+"],["deg_freedom","integer++"]]);d("T.INV",ca).args([["p",["and","number",["(between]",0,1]]],["deg_freedom","integer++"]]);d("T.INV.2T",da).args([["p",["and","number",["(between]",0,1]]],["deg_freedom","integer++"]]);d("T.TEST",ea).args([["array1",["collect","number",1]],["array2",["collect","number",1]],["tails",["and","integer",["values",1,2]]],["type",["and","integer",["values",1,2,3]]],["?",["assert","$type != 1 || $array1.length == $array2.length","N/A"]],["?",["assert","$array1.length >= 2","DIV/0"]],["?",["assert","$array2.length >= 2","DIV/0"]]]);d("CONFIDENCE.T",fa).args([["alpha",["and","number",["(between)",0,1]]],["standard_dev","number++"],["size",["and","integer++",["assert","$size != 1","DIV/0"]]]]);d("CONFIDENCE.NORM",ga).args([["alpha",["and","number",["(between)",0,1]]],["standard_dev","number++"],["size",["and","integer++"]]]);d("GAUSS",ha).args([["z","number"]]);d("PHI",ia).args([["x","number"]]);d("LOGNORM.DIST",ja).args([["x","number++"],["mean","number"],["standard_dev","number++"],["cumulative","logical"]]);d("LOGNORM.INV",ka).args([["probability",["and","number",["(between)",0,1]]],["mean","number"],["standard_dev","number++"]]);d("PROB",la).args([["x_range",["collect","number",1]],["prob_range",["collect","number",1]],["lower_limit","number"],["upper_limit",["or","number",["null","$lower_limit"]]],["?",["assert","$prob_range.length == $x_range.length","N/A"]]]);d("SLOPE",ma).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]);d("INTERCEPT",na).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]);d("PEARSON",oa).args([["array1",["collect!","anything",1]],["array2",["collect!","anything",1]],["?",["assert","$array2.length == $array1.length","N/A"]],["?",["assert","$array2.length > 0 && $array1.length > 0","N/A"]]]);d("RSQ",pa).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]],["?",["assert","$known_x.length != 1 && $known_y.length != 1","N/A"]]]);d("STEYX",qa).args([["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length >= 3 && $known_y.length >= 3","DIV/0"]]]);d("FORECAST",ra).args([["x","number"],["known_y",["collect","number",1]],["known_x",["collect","number",1]],["?",["assert","$known_x.length == $known_y.length","N/A"]],["?",["assert","$known_x.length > 0 && $known_y.length > 0","N/A"]]]);d("LINEST",ua).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["const",["or","logical",["null",true]]],["stats",["or","logical",["null",false]]]]);d("LOGEST",va).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["const",["or","logical",["null",true]]],["stats",["or","logical",["null",false]]]]);d("TREND",wa).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["new_x",["or","matrix","null"]],["const",["or","logical",["null",true]]]]);d("GROWTH",xa).args([["known_y","matrix"],["known_x",["or","matrix","null"]],["new_x",["or","matrix","null"]],["const",["or","logical",["null",true]]]]);d("FV",za).args([["rate","number"],["nper","number"],["pmt",["or","number",["null",0]]],["pv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$pmt || $pv"]]]);d("PV",Aa).args([["rate","number"],["nper","number"],["pmt",["or","number",["null",0]]],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$pmt || $fv"]]]);d("PMT",Ba).args([["rate","number"],["nper","number"],["pmt","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]]]);d("NPER",Ca).args([["rate","number"],["pmt","number"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]]]);d("RATE",Da).args([["nper","number"],["pmt",["or","number",["null",0]]],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["guess",["or","number++",["null",.01]]],["?",["assert","$pmt || $fv"]]]);d("IPMT",Ea).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$per >= 1 && $per <= $nper"]]]);d("PPMT",Fa).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["fv",["or","number",["null",0]]],["type",["or",["values",0,1],["null",0]]],["?",["assert","$per >= 1 && $per <= $nper"]]]);d("CUMPRINC",Ga).args([["rate","number++"],["nper","number++"],["pv","number++"],["start_period","number++"],["end_period","number++"],["type",["or",["values",0,1],["null",0]]],["?",["assert","$end_period >= $start_period","NUM"]]]);d("CUMIPMT",Ha).args([["rate","number++"],["nper","number++"],["pv","number++"],["start_period","number++"],["end_period","number++"],["type",["or",["values",0,1],["null",0]]],["?",["assert","$end_period >= $start_period","NUM"]]]);
d("NPV",Ia).args([["rate","number"],["values",["collect","number"]],["?",["assert","$values.length > 0","N/A"]]]);d("IRR",Ja).args([["values",["collect","number",1]],["guess",["or","number",["null",.1]]]]);d("EFFECT",Ka).args([["nominal_rate","number++"],["npery","integer++"]]);d("NOMINAL",La).args([["effect_rate","number++"],["npery","integer++"]]);d("XNPV",Ma).args([["rate","number"],["values",["collect","number",1]],["dates",["collect","date",1]],["?",["assert","$values.length == $dates.length","NUM"]]]);d("XIRR",Na).args([["values",["collect","number",1]],["dates",["collect","date",1]],["guess",["or","number",["null",.1]]],["?",["assert","$values.length == $dates.length","NUM"]]]);d("ISPMT",Oa).args([["rate","number"],["per","number++"],["nper","number++"],["pv","number"],["?",["assert","$per >= 1 && $per <= $nper"]]]);d("DB",Pa).args([["cost","number"],["salvage","number"],["life","number++"],["period","number++"],["month",["or","number",["null",12]]]]);d("DDB",Qa).args([["cost","number"],["salvage","number"],["life","number++"],["period","number++"],["factor",["or","number",["null",2]]]]);d("SLN",Ra).args([["cost","number"],["salvage","number"],["life","number++"]]);d("SYD",Sa).args([["cost","number"],["salvage","number"],["life","number++"],["per","number++"]]);d("VDB",Ta).args([["cost","number+"],["salvage","number+"],["life","number++"],["start_period","number+"],["end_period","number+"],["factor",["or","number+",["null",2]]],["no_switch",["or","logical",["null",false]]],["?",["assert","$end_period >= $start_period","NUM"]]]);var k=[["settlement","date"],["maturity","date"],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]];d("COUPDAYBS",Ya).args(k);d("COUPDAYS",Za).args(k);d("COUPDAYSNC",$a).args(k);d("COUPPCD",_a).args(k);d("COUPNCD",ab).args(k);d("COUPNUM",bb).args(k);d("ACCRINTM",db).args([["issue","date"],["settlement","date"],["rate","number++"],["par",["or",["null",1e3],"number++"]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$issue < $settlement","NUM"]]]);d("ACCRINT",eb).args([["issue","date"],["first_interest","date"],["settlement","date"],["rate","number++"],["par",["or",["null",1e3],"number++"]],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["calc_method",["or","logical",["null",true]]],["?",["assert","$issue < $settlement","NUM"]]]);d("DISC",fb).args([["settlement","date"],["maturity","date"],["pr","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]);d("INTRATE",gb).args([["settlement","date"],["maturity","date"],["investment","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]);d("RECEIVED",hb).args([["settlement","date"],["maturity","date"],["investment","number++"],["discount","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]);d("PRICE",ib).args([["settlement","date"],["maturity","date"],["rate","number++"],["yld","number++"],["redemption","number++"],["frequency",["and","integer",["values",1,2,4]]],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]);d("PRICEDISC",jb).args([["settlement","date"],["maturity","date"],["discount","number++"],["redemption","number++"],["basis",["or",["null",0],["and","integer",["values",0,1,2,3,4]]]],["?",["assert","$settlement < $maturity","NUM"]]]);var l=300,m=2.2204e-16,n=1e-30,o=Math.abs;function p(a){if(o(a)>=3.3){return 1-q(a)}var b=a>0?1:-1;if(b==-1){a=-a}var c=0,d=1;for(var e=1;e<100;e++){c+=d;d*=2*a*a/(2*e+1)}return b*2/Math.sqrt(Math.PI)*a*Math.exp(-a*a)*c}function q(a){if(o(a)<3.3){return 1-p(a)}var b=1;if(a<0){b=-1;a=-a}var c=a;for(var d=8;d>=1;d-=.5){c=a+d/c}c=1/(a+c);return b==1?Math.exp(-a*a)/Math.sqrt(Math.PI)*c:2-Math.exp(-a*a)/Math.sqrt(Math.PI)*c}function r(a){var b=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];var c=a,d=a+5.5,e=b[0];d-=(a+.5)*Math.log(d);for(var f=1;f<=6;f++){c+=1;e+=b[f]/c}return-d+Math.log(Math.sqrt(2*Math.PI)*e/a)}function s(a){if(a>0){return Math.exp(r(a))}var b=Math.PI,c=-a;return-b/(c*s(c)*Math.sin(b*c))}function t(a,b){return r(a)+r(b)-r(a+b)}function u(a,b){return Math.exp(t(a,b))}function v(a,b){return b<a+1?w(a,b):1-x(a,b)}function w(a,b){var c=1/a,d=c,e=a;var f=r(a),g;for(g=1;g<=l;g++){e++;d*=b/e;c+=d;if(o(d)<o(c)*m){break}}return c*Math.exp(-b+a*Math.log(b)-f)}function x(a,b){var c=n,d=c,e=0,f=1,g=b+1-a;var h=r(a);for(var i=1;i<=l;i++){e=g+f*e;if(o(e)<n){e=n}d=g+f/d;if(o(d)<n){d=n}e=1/e;var j=d*e;c*=j;if(o(j-1)<m){break}g+=2;f=-i*(i-a)}return c*Math.exp(-b-h+a*Math.log(b))}function y(a,b,c,d){if(!d){return Math.pow(a/c,b-1)*Math.exp(-a/c)/(c*s(b))}return v(b,a/c)}function z(a,b,c){if(a===0){return 0}if(a==1){return Infinity}var d=0,e=10,f=0,g=b*c;if(g>1){e*=g}for(var h=0;h<l;h++){f=.5*(d+e);var i=y(f,b,c,true);if(o(a-i)<1e-16){break}if(i>a){e=f}else{d=f}}return f}function A(a,b){if(!b){return Math.exp(-a*a/2)/Math.sqrt(2*Math.PI)}return.5+.5*p(a/Math.sqrt(2))}function B(a){var b=[-39.69683028665376,220.9460984245205,-275.9285104469687,138.357751867269,-30.66479806614716,2.506628277459239],c=[-54.47609879822406,161.5858368580409,-155.6989798598866,66.80131188771972,-13.28068155288572],d=[-.007784894002430293,-.3223964580411365,-2.400758277161838,-2.549732539343734,4.374664141464968,2.938163982698783],e=[.007784695709041462,.3224671290700398,2.445134137142996,3.754408661907416];var f=.02425,g=1-f;var h,i;if(a<f){h=Math.sqrt(-2*Math.log(a));return(((((d[0]*h+d[1])*h+d[2])*h+d[3])*h+d[4])*h+d[5])/((((e[0]*h+e[1])*h+e[2])*h+e[3])*h+1)}if(g<a){h=Math.sqrt(-2*Math.log(1-a));return-(((((d[0]*h+d[1])*h+d[2])*h+d[3])*h+d[4])*h+d[5])/((((e[0]*h+e[1])*h+e[2])*h+e[3])*h+1)}h=a-.5;i=h*h;return(((((b[0]*i+b[1])*i+b[2])*i+b[3])*i+b[4])*i+b[5])*h/(((((c[0]*i+c[1])*i+c[2])*i+c[3])*i+c[4])*i+1)}function C(a,b,c,d){if(!d){return Math.exp(-(a-b)*(a-b)/(2*c*c))/(c*Math.sqrt(2*Math.PI))}return A((a-b)/c,true)}function D(a,b,c){return b+c*B(a)}function E(a,b,c){return Math.exp((b-1)*Math.log(a)+(c-1)*Math.log(1-a)-t(b,c))}function F(a,b,c){var d=Math.exp(b*Math.log(a)+c*Math.log(1-a)-t(b,c));return a<(b+1)/(b+c+2)?d*G(b,c,a)/b:1-d*G(c,b,1-a)/c}function G(a,b,c){var d,e;var f,g,h,i,j,k,p,q;k=a+b;q=a+1;p=a-1;g=1;h=1-k*c/q;if(o(h)<n){h=n}h=1/h;j=h;for(d=1;d<=l;d++){e=2*d;f=d*(b-d)*c/((p+e)*(a+e));h=1+f*h;if(o(h)<n){h=n}g=1+f/g;if(o(g)<n){g=n}h=1/h;j*=h*g;f=-(a+d)*(k+d)*c/((a+e)*(q+e));h=1+f*h;if(o(h)<n){h=n}g=1+f/g;if(o(g)<n){g=n}h=1/h;i=h*g;j*=i;if(o(i-1)<m){break}}return j}function H(a,b,c){var d=0,e=1,f=0;for(var g=0;g<l;g++){f=.5*(d+e);var h=F(f,b,c);if(o(a-h)<m){break}if(h>a){e=f}else{d=f}}return f}function I(a,b,c,d,e){return F((a-d)/(e-d),b,c)}function J(a,b,c,d,e,f){if(d){return F((a-e)/(f-e),b,c)}return E((a-e)/(f-e),b,c)/(f-e)}function K(a,b,c,d,e){return d+(e-d)*H(a,b,c)}function L(a,b,c){return y(a,b/2,2,c)}function M(a,b){return 1-L(a,b,true)}function N(a,b){return z(a,b/2,2)}function O(a,b){return N(1-a,b)}function P(a,b){var c=a.length,d=a[0].length;var e=0,f,g;for(f=0;f<c;f++){for(g=0;g<d;g++){var h=b[f][g];var i=a[f][g]-h;i*=i;e+=i/h}}var j=(c-1)*(d-1);return M(e,j)}function Q(a,b,c){if(c){return 1-Math.exp(-b*a)}return b*Math.exp(-b*a)}function R(a,b,c){if(c){return 1-L(2*b,2*(a+1),true)}var d=0;for(var e=2;e<=a;e++){d+=Math.log(e)}return Math.exp(a*Math.log(b)-b-d)}function S(a,b,c,d){if(d){return F(b*a/(c+b*a),b/2,c/2)}var e=b/c;b/=2;c/=2;return e/u(b,c)*Math.pow(e*a,b-1)/Math.pow(1+e*a,b+c)}function T(a,b,c){return 1-S(a,b,c,true)}function U(a,b,c){return c/b*(1/K(a,c/2,b/2,0,1)-1)}function V(a,b,c){return c/b*(1/K(1-a,c/2,b/2,0,1)-1)}function W(a){var b=0,c=a.length;for(var d=0;d<c;d++){b+=a[d]}return b/c}function X(a,b){var c=0,d=a.length;for(var e=0;e<d;e++){var f=a[e]-b;c+=f*f}return c/(d-1)}function Y(a,b){var c=a.length-1,d=b.length-1;var f=X(a,W(a)),g=X(b,W(b));if(!f||!g){throw new e("DIV/0")}return 2*S(f/g,c,d,true)}function Z(a){return.5*Math.log((1+a)/(1-a))}function $(a){var b=Math.exp(2*a);return(b-1)/(b+1)}function _(a,b,c){if(c){return 1-.5*F(b/(a*a+b),b/2,.5)}return 1/(Math.sqrt(b)*u(.5,b/2))*Math.pow(1+a*a/b,-(b+1)/2)}function aa(a,b){return 1-_(a,b,true)}function ba(a,b){if(a<0){a=-a}return 2*aa(a,b)}function ca(a,b){var c=H(2*Math.min(a,1-a),b/2,.5);c=Math.sqrt(b*(1-c)/c);return a>.5?c:-c}function da(a,b){return ca(1-a/2,b)}function ea(a,b,c,d){var e=a.length,f=b.length;var g,h;if(d==1){var i=0,j=0;for(var k=0;k<e;k++){var l=a[k]-b[k];i+=l;j+=l*l}var m=i/e;g=m/Math.sqrt((j-i*m)/(e*(e-1)));return c==1?aa(g,e-1):ba(g,e-1)}var n=W(a),p=W(b),q=X(a,n),r=X(b,p);if(d==3){var s=q/e,t=r/f,u=s+t;var v=s/u,w=t/u;h=1/(v*v/(e-1)+w*w/(f-1));g=o(n-p)/Math.sqrt(u);return c==1?aa(g,h):ba(g,h)}else{h=e+f-2;g=o(n-p)*Math.sqrt(h*e*f/((e+f)*((e-1)*q+(f-1)*r)));return c==1?aa(g,h):ba(g,h)}}function fa(a,b,c){return-ca(a/2,c-1)*b/Math.sqrt(c)}function ga(a,b,c){return-B(a/2)*b/Math.sqrt(c)}function ha(a){return A(a,true)-.5}function ia(a){return A(a)}function ja(a,b,c,d){if(d){return.5+.5*p((Math.log(a)-b)/(c*Math.sqrt(2)))}var e=Math.log(a)-b;return Math.exp(-e*e/(2*c*c))/(a*c*Math.sqrt(2*Math.PI))}function ka(a,b,c){return Math.exp(D(a,b,c))}function la(a,b,c,d){var f=a.length;var g=0,h;for(h=0;h<f;h++){if(b[h]<=0||b[h]>1){throw new e("NUM")}g+=b[h]}if(g!=1){throw new e("NUM")}var i=0;for(h=0;h<f;h++){var j=a[h];if(j>=c&&j<=d){i+=b[h]}}return i}function ma(a,b){var c=W(b),d=W(a),e=0,f=0;for(var g=0,h=a.length;g<h;g++){var i=b[g]-c;e+=i*(a[g]-d);f+=i*i}return e/f}function na(a,b){var c=W(b),d=W(a);var e=0,f=0;for(var g=0,h=a.length;g<h;g++){var i=b[g]-c;e+=i*(a[g]-d);f+=i*i}return d-e*c/f}function oa(a,b){kb(a,b);var c=W(a),d=W(b);var e=0,f=0,g=0;for(var h=0,i=a.length;h<i;h++){var j=a[h]-c,k=b[h]-d;e+=j*k;f+=j*j;g+=k*k}return e/Math.sqrt(f*g)}function pa(a,b){var c=oa(a,b);return c*c}function qa(a,b){var c=b.length;var d=W(b),e=W(a);var f=0,g=0,h=0;for(var i=0;i<c;i++){var j=b[i]-d,k=a[i]-e;f+=k*k;g+=j*k;h+=j*j}return Math.sqrt((f-g*g/h)/(c-2))}function ra(a,b,c){var d=W(c),f=W(b);var g=0,h=0;for(var i=0,j=c.length;i<j;i++){var k=c[i]-d,l=b[i]-f;g+=k*l;h+=k*k}if(h===0){throw new e("N/A")}var m=g/h,n=f-m*d;return n+m*a}function sa(a){var b=a.height,c=0;for(var d=0;d<b;d++){c+=a.data[d][0]}return c/b}function ta(a,b){var c=a.height,d=0;for(var e=0;e<c;e++){var f=a.data[e][0]-b;d+=f*f}return d}function ua(a,b,c,d){var e=0;if(!b){b=a.map(function(){return++e})}if(c){b=b.clone();b.eachRow(function(a){b.data[a].unshift(1)});++b.width}var f=b.transpose();var g=f.multiply(b).inverse().multiply(f).multiply(a);var h=[];for(e=g.height-1;e>=0;e--){h.push(g.data[e][0])}if(!c){h.push(0)}if(!d){return this.asMatrix([h])}var i=b.multiply(g);var j=a.adds(i,true);var k=!c?0:sa(i);var l=ta(i,k);var m=!c?0:sa(j);var n=ta(j,m);var o=[];o.push(l,n);var p=l/(l+n);var q=a.height-b.width;var r=Math.sqrt(n/q);var s=[];s.push(p,r);var t=!c?p/b.width/((1-p)/q):l/(b.width-1)/(n/q);var u=[];u.push(t,q);var v=f.multiply(b).inverse();var w=[];for(e=v.height-1;e>=0;e--){w.push(Math.sqrt(v.data[e][e]*n/q))}return this.asMatrix([h,w,s,u,o])}function va(a,b,c,d){return ua.call(this,a.map(Math.log),b,c,d).map(Math.exp)}function wa(a,b,c,d){var e=0;if(!b){b=a.map(function(){return++e})}if(d){b=b.clone();b.eachRow(function(a){b.data[a].unshift(1)});++b.width}var f=b.transpose();var g=f.multiply(b).inverse().multiply(f).multiply(a);if(!c){c=b}else{if(d){c=c.clone();c.eachRow(function(a){c.data[a].unshift(1)});++c.width}}return c.multiply(g)}function xa(a,b,c,d){return wa.call(this,a.map(Math.log),b,c,d).map(Math.exp)}function ya(a,b,c,d){var f=c||20,g=d||1e-7;var h=b;for(var i=1;i<=f;i++){var j=a(h),k=j[0],l=j[1];var m=k/l;h-=m;if(Math.abs(m)<g){return h}}return new e("NUM")}function za(a,b,c,d,e){var f=Math.pow(1+a,b);var g=a?(f-1)/a:b;return-(d*f+c*g*(1+a*e))}function Aa(a,b,c,d,e){if(!a){return-d-c*b}var f=Math.pow(1+a,b);return-(d+c*(f-1)/a*(1+a*e))/f}function Ba(a,b,c,d,e){if(!a){return-(d+c)/b}var f=Math.pow(1+a,b);return-a*(d+c*f)/((1+a*e)*(f-1))}function Ca(a,b,c,d,e){if(!a){return-(d+c)/b}var f=b*(1+a*e);return Math.log((f-d*a)/(f+c*a))/Math.log(1+a)}function Da(a,b,c,d,e,f){function g(f){var g=Math.pow(1+f,a-1),h=g*(1+f);return[c*h+b*(1/f+e)*(h-1)+d,a*c*g+b*(-(h-1)/(f*f)+(1/f+e)*a*g)]}return ya(g,f)}function Ea(a,b,c,d,e,f){if(f==1&&b==1){return 0}var g=Ba(a,c,d,e,f);var h=za(a,b-1,g,d,f)*a;return f?h/(1+a):h}function Fa(a,b,c,d,e,f){var g=Ba(a,c,d,e,f);return g-Ea(a,b,c,d,e,f)}function Ga(a,b,c,d,e,f){if(f==1){d--;e--}var g=Math.pow(1+a,b),h=Math.pow(1+a,d-1),i=Math.pow(1+a,e);var j=a*c*g/(g-1);var k=h*c-(h-1)/a*j;var l=i*c-(i-1)/a*j;return l-k}function Ha(a,b,c,d,e,f){var g=0;for(var h=d;h<=e;h++){g+=Ea(a,h,b,c,0,f)}return g}function Ia(a,b){var c=0;for(var d=0,e=b.length;d<e;d++){c+=b[d]*Math.pow(1+a,-d-1)}return c}function Ja(a,b){function c(b){var c=0,d=0;for(var e=0,f=a.length;e<f;e++){c+=a[e]*Math.pow(1+b,-e-1);d+=-e*a[e]*Math.pow(1+b,-e-2)}return[c,d]}return ya(c,b)}function Ka(a,b){return Math.pow(1+a/b,b)-1}function La(a,b){return b*(Math.pow(a+1,1/b)-1)}function Ma(a,b,c){var d=0;for(var e=0,f=b.length;e<f;e++){d+=b[e]*Math.pow(1+a,(c[0]-c[e])/365)}return d}function Na(a,b,c){function d(c){var d=a[0],e=0;for(var f=1,g=a.length;f<g;f++){var h=(b[0]-b[f])/365;d+=a[f]*Math.pow(1+c,h);e+=h*a[f]*Math.pow(1+c,h-1)}return[d,e]}return ya(d,c)}function Oa(a,b,c,d){var e=-d*a;return e*(1-b/c)}function Pa(a,b,c,d,e){var f=1-Math.pow(b/a,1/c);f=Math.floor(f*1e3+.5)/1e3;var g=a*f*e/12;if(d==1){return g}for(var h=1;h<c;h++){if(h==d-1){return(a-g)*f}g+=(a-g)*f}return(a-g)*f*(12-e)/12}function Qa(a,b,c,d,e){var f=e/c;var g=-a*(Math.pow(1-f,d-1)-1);var h=(a-g)*f;h=Math.min(h,Math.max(0,a-g-b));return h}function Ra(a,b,c){return(a-b)/c}function Sa(a,b,c,d){return(a-b)*(c-d+1)*2/(c*(c+1))}function Ta(a,b,c,d,e,f,g){var h=f>=c?1:f/c;function i(a,c){var d,e,f;if(h==1){e=c==1?a:0}else{e=a*Math.pow(1-h,c-1)}f=a*Math.pow(1-h,c);d=f<b?e-b:e-f;return d<0?0:d}function j(a,c,d){var e=a-b;var f=Math.ceil(d);var g,h=0,j=0,k=false;for(var l=1;l<=f;l++){if(!k){var m=i(a,l);h=e/(c-l+1);if(h>m){g=h;k=true}else{g=m;e-=m}}else{g=h}if(l==f){g*=d+1-f}j+=g}return j}var k=Math.floor(d),l=Math.ceil(e);var m=0;if(g){for(var n=k+1;n<=l;n++){var o=i(a,n);if(n==k+1){o*=Math.min(e,k+1)-d}else{if(n==l){o*=e+1-l}}m+=o}}else{var p=c;if(d!=Math.floor(d)){if(f>1){if(d>=c/2){var q=d-c/2;d=c/2;e-=q;p+=1}}}a-=j(a,p,d);m=j(a,c-d,e-d)}return m}function Ua(a,b){var c=g(a);var d=c.month+b;var e=c.year+Math.floor(d/12);d%=12;if(d<0){d+=12}c=Math.min(c.date,i(e,d));return f(e,d,c)}function Va(a,b,c){if(c==1||c==2||c==3){return b-a}return j(a,b,c)}function Wa(a,b,c){var d=g(a),e=g(b);var f=e.year-d.year;if(f>0){f=(f-1)*c}var h,i,j=12/c;do{f++;h=Ua(b,-f*j)}while(a<h);f--;i=Ua(b,-f*j);return[h,i]}function Xa(a,b,c){var d=g(b),e=g(a);var f=d.year-e.year;if(f>0){f=(f-1)*c}var h=a,i,j=12/c;while(b>h){i=h;f++;h=Ua(a,f*j)}return[i,h]}function Ya(a,b,c,d){var e=Wa(a,b,c)[0];return Va(e,a,d)}function Za(a,b,c,d){if(d==1){var e=Wa(a,b,c);return Va(e[0],e[1],1)}if(d==3){return 365/c}return 360/c}function $a(a,b,c,d){var e=Wa(a,b,c)[1];return Va(a,e,d)}function _a(a,b,c){return Wa(a,b,c)[0]}function ab(a,b,c){return Wa(a,b,c)[1]}function bb(a,b,c){var d=g(a),e=g(b);var f=12*(e.year-d.year)+e.month-d.month;return 1+(f*c/12|0)}function cb(a,b){if(b==3){return 365}if(b==1){return h(a)?366:365}return 360}function db(a,b,c,d,e){var f=cb(g(b).year,e);return c*d*Va(a,b,e)/f}function eb(a,b,c,d,e,f,g,h){var i=0,j=e*d/f;var k,l,m,n,o,p;var q=g%2===0?360:365;function r(a,b){return(b-a)*f/q|0}if(c<=b){k=Wa(c,b,f);l=k[0];m=k[1];if(l<=a){return j*Va(a,c,g)/Va(l,m,g)}k=Wa(a,l,f);n=k[0];o=k[1];p=r(o,c);return j*(p+Va(a,o,g)/Va(n,o,g)+(c<m?Va(l,c,g)/Va(l,m,g):0))}else{k=Xa(b,c,f);l=k[0];m=k[1];p=r(b,c);if(m==c){i=j*p}else{i=j*(p+Va(l,c,g)/Va(l,m,g))}if(!h){return i}k=Wa(a,b,f);l=k[0];m=k[1];p=r(a,b);i+=j*(p+Va(a,m,g)/Va(l,m,g));return i}}function fb(a,b,c,d,e){var f=e%2===0?360:h(g(a).year)?366:365;return(d-c)/d*f/Va(a,b,e)}function gb(a,b,c,d,e){var f=e%2===0?360:h(g(a).year)?366:365;return(d-c)/c*f/Va(a,b,e)}function hb(a,b,c,d,e){var f=e%2===0?360:h(g(a).year)?366:365;return c/(1-d*Va(a,b,e)/f)}function ib(a,b,c,d,e,f,g){var h=1+((b-a)*f/(g%2===0?360:365)|0);var i=Wa(a,b,f),j=i[0],k=i[1];var l=Va(j,a,g),m=Va(a,k,g),n=Va(j,k,g);var o=100*c/f,p=d/f,q=m/n;if(h==1){return(e+o)/(1+q*p)-l/n*o}return e/Math.pow(1+p,h-1+q)+o*Math.pow(1+p,1-h-q)*(Math.pow(1+p,h)-1)/p-l/n*o}function jb(a,b,c,d,e){var f=Va(a,b,e),h=cb(g(b).year,e);return d-c*d*f/h}function kb(a,b){for(var c=a.length;--c>=0;){if(typeof a[c]!="number"||typeof b[c]!="number"){a.splice(c,1);b.splice(c,1)}}}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/borderpalette",["kendo.core","kendo.colorpicker","kendo.popup"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=["allBorders","insideBorders","insideHorizontalBorders","insideVerticalBorders","outsideBorders","leftBorder","topBorder","rightBorder","bottomBorder","noBorders"];var d=a.spreadsheet.messages.borderPalette={allBorders:"All borders",insideBorders:"Inside borders",insideHorizontalBorders:"Inside horizontal borders",insideVerticalBorders:"Inside vertical borders",outsideBorders:"Outside borders",leftBorder:"Left border",topBorder:"Top border",rightBorder:"Right border",bottomBorder:"Bottom border",noBorders:"No border"};var e=a.spreadsheet.messages.colorPicker={reset:"Reset color",customColor:"Custom color...",apply:"Apply",cancel:"Cancel"};function f(a){return function(b){b.preventDefault();return a.apply(this,arguments)}}var g=a.ui.Widget.extend({init:function(b,c){a.ui.Widget.call(this,b,c);this.element=b;this.color=c.color;this._resetButton();this._colorPalette();this._customColorPalette();this._customColorButton();this.resetButton.on("click",f(this.resetColor.bind(this)));this.customColorButton.on("click",f(this.customColor.bind(this)))},options:{name:"ColorChooser"},events:["change"],destroy:function(){a.unbind(this.dialog.element.find(".k-action-buttons"));this.dialog.destroy();this.colorPalette.destroy();this.resetButton.off("click");this.customColorButton.off("click")},value:function(a){if(a!==undefined){this.color=a;this.customColorButton.find(".k-icon").css("background-color",this.color);this.colorPalette.value(null);this.flatColorPicker.value(this.color)}else{return this.color}},_change:function(a){this.color=a;this.trigger("change",{value:a})},_colorPalette:function(){var a=b("<div />",{class:"k-spreadsheet-color-palette"});var c=this.colorPalette=b("<div />").kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],value:this.color,change:function(a){this.customColorButton.find(".k-icon").css("background-color","transparent");this.flatColorPicker.value(null);this._change(a.value)}.bind(this)}).data("kendoColorPalette");a.append(c.wrapper).appendTo(this.element)},_customColorPalette:function(){var c=b("<div />",{class:"k-spreadsheet-window",html:"<div></div>"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: apply'>"+e.apply+"</button>"+"<button class='k-button' data-bind='click: close'>"+e.cancel+"</button>"+"</div>"});var d=this.dialog=c.appendTo(document.body).kendoWindow({animation:false,scrollable:false,resizable:false,maximizable:false,modal:true,visible:false,width:268,open:function(){this.center()}}).data("kendoWindow");d.one("activate",function(){this.element.find("[data-role=flatcolorpicker]").data("kendoFlatColorPicker")._hueSlider.resize()});var f=this.flatColorPicker=d.element.children().first().kendoFlatColorPicker().data("kendoFlatColorPicker");var g=a.observable({apply:function(){this.customColorButton.find(".k-icon").css("background-color",f.value());this.colorPalette.value(null);this._change(f.value());d.close()}.bind(this),close:function(){f.value(null);d.close()}});a.bind(d.element.find(".k-action-buttons"),g)},_resetButton:function(){this.resetButton=b("<a class='k-button k-reset-color' href='#'>"+"<span class='k-icon k-i-reset-color'></span>"+e.reset+"</a>").appendTo(this.element)},_customColorButton:function(){this.customColorButton=b("<a class='k-button k-custom-color' href='#'>"+"<span class='k-icon'></span>"+e.customColor+"</a>").appendTo(this.element)},resetColor:function(){this.colorPalette.value(null);this.flatColorPicker.value(null);this._change(null)},customColor:function(){this.dialog.open()}});var h=a.ui.Widget.extend({init:function(b,c){a.ui.Widget.call(this,b,c);this.element=b;this.color="#000";this.element.addClass("k-spreadsheet-border-palette");this._borderTypePalette();this._borderColorPalette();this.element.on("click",".k-spreadsheet-border-type-palette .k-button",f(this._click.bind(this)))},options:{name:"BorderPalette"},events:["change"],destroy:function(){this.colorChooser.destroy();this.element.off("click")},_borderTypePalette:function(){var e=d;var f=c.map(function(b){return'<a title="'+e[b]+'" aria-label="'+e[b]+'" href="#" data-border-type="'+b+'" class="k-button k-button-icon">'+'<span class="k-icon k-i-'+a.toHyphens(b)+'"></span>'+"</a>"}).join("");var g=b("<div />",{class:"k-spreadsheet-border-type-palette",html:f});g.appendTo(this.element)},_borderColorPalette:function(){var a=b("<div />",{class:"k-spreadsheet-border-color-palette"});a.appendTo(this.element);this.colorChooser=new g(a,{color:this.color,change:this._colorChange.bind(this)})},_click:function(a){this.type=b(a.currentTarget).data("borderType");this.trigger("change",{type:this.type,color:this.color})},_colorChange:function(a){this.color=a.value;if(this.type){this.trigger("change",{type:this.type,color:this.color})}}});a.spreadsheet.ColorChooser=g;a.spreadsheet.BorderPalette=h})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/toolbar",["kendo.toolbar","kendo.colorpicker","kendo.combobox","kendo.dropdownlist","kendo.popup","spreadsheet/borderpalette"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.ui.ToolBar;var d=a.spreadsheet.messages.toolbar={addColumnLeft:"Add column left",addColumnRight:"Add column right",addRowAbove:"Add row above",addRowBelow:"Add row below",alignment:"Alignment",alignmentButtons:{justtifyLeft:"Align left",justifyCenter:"Center",justifyRight:"Align right",justifyFull:"Justify",alignTop:"Align top",alignMiddle:"Align middle",alignBottom:"Align bottom"},backgroundColor:"Background",bold:"Bold",borders:"Borders",copy:"Copy",cut:"Cut",deleteColumn:"Delete column",deleteRow:"Delete row",filter:"Filter",fontFamily:"Font",fontSize:"Font size",format:"Custom format...",formatTypes:{automatic:"Automatic",text:"Text",number:"Number",percent:"Percent",financial:"Financial",currency:"Currency",date:"Date",time:"Time",dateTime:"Date time",duration:"Duration",moreFormats:"More formats..."},formatDecreaseDecimal:"Decrease decimal",formatIncreaseDecimal:"Increase decimal",freeze:"Freeze panes",freezeButtons:{freezePanes:"Freeze panes",freezeRows:"Freeze rows",freezeColumns:"Freeze columns",unfreeze:"Unfreeze panes"},italic:"Italic",merge:"Merge cells",mergeButtons:{mergeCells:"Merge all",mergeHorizontally:"Merge horizontally",mergeVertically:"Merge vertically",unmerge:"Unmerge"},open:"Open...",paste:"Paste",quickAccess:{redo:"Redo",undo:"Undo"},exportAs:"Export...",toggleGridlines:"Toggle gridlines",sort:"Sort",sortButtons:{sortRangeAsc:"Sort range A to Z",sortRangeDesc:"Sort range Z to A"},textColor:"Text Color",textWrap:"Wrap text",underline:"Underline",validation:"Data validation...",hyperlink:"Link"};var e={home:["open","exportAs",["cut","copy","paste"],["bold","italic","underline"],"hyperlink","backgroundColor","textColor","borders","fontSize","fontFamily","alignment","textWrap",["formatDecreaseDecimal","formatIncreaseDecimal"],"format","merge","freeze","filter","toggleGridlines"],insert:[["addColumnLeft","addColumnRight","addRowBelow","addRowAbove"],["deleteColumn","deleteRow"]],data:["sort","filter","validation"]};var f={open:{type:"open",overflow:"never",iconClass:"file-excel"},exportAs:{type:"exportAsDialog",dialogName:"exportAs",overflow:"never",text:"",iconClass:"file-excel"},bold:{type:"button",command:"PropertyChangeCommand",property:"bold",value:true,iconClass:"bold",togglable:true},italic:{type:"button",command:"PropertyChangeCommand",property:"italic",value:true,iconClass:"italic",togglable:true},underline:{type:"button",command:"PropertyChangeCommand",property:"underline",value:true,iconClass:"underline",togglable:true},formatDecreaseDecimal:{type:"button",command:"AdjustDecimalsCommand",value:-1,iconClass:"decimal-decrease"},formatIncreaseDecimal:{type:"button",command:"AdjustDecimalsCommand",value:+1,iconClass:"decimal-increase"},textWrap:{type:"button",command:"TextWrapCommand",property:"wrap",value:true,iconClass:"text-wrap",togglable:true},cut:{type:"button",command:"ToolbarCutCommand",iconClass:"cut"},copy:{type:"button",command:"ToolbarCopyCommand",iconClass:"copy"},paste:{type:"button",command:"ToolbarPasteCommand",iconClass:"paste"},separator:{type:"separator"},alignment:{type:"alignment",iconClass:"align-left"},backgroundColor:{type:"colorPicker",property:"background",iconClass:"paint"},textColor:{type:"colorPicker",property:"color",iconClass:"foreground-color"},fontFamily:{type:"fontFamily",property:"fontFamily",iconClass:"font-family"},fontSize:{type:"fontSize",property:"fontSize",iconClass:"font-size"},format:{type:"format",property:"format",iconClass:"custom-format"},filter:{type:"filter",property:"hasFilter",iconClass:"filter"},merge:{type:"merge",iconClass:"cells-merge"},freeze:{type:"freeze",iconClass:"pane-freeze"},borders:{type:"borders",iconClass:"borders-all"},formatCells:{type:"dialog",dialogName:"formatCells",overflow:"never"},hyperlink:{type:"dialog",dialogName:"hyperlink",iconClass:"link-horizontal",overflow:"never",text:""},toggleGridlines:{type:"button",command:"GridLinesChangeCommand",property:"gridLines",value:true,iconClass:"border-no",togglable:true},addColumnLeft:{type:"button",command:"AddColumnCommand",value:"left",iconClass:"table-column-insert-left"},addColumnRight:{type:"button",command:"AddColumnCommand",value:"right",iconClass:"table-column-insert-right"},addRowBelow:{type:"button",command:"AddRowCommand",value:"below",iconClass:"table-row-insert-below"},addRowAbove:{type:"button",command:"AddRowCommand",value:"above",iconClass:"table-row-insert-above"},deleteColumn:{type:"button",command:"DeleteColumnCommand",iconClass:"table-column-delete"},deleteRow:{type:"button",command:"DeleteRowCommand",iconClass:"table-row-delete"},sort:{type:"sort",iconClass:"sort-desc"},validation:{type:"dialog",dialogName:"validation",iconClass:"exception",overflow:"never"}};var g=c.extend({init:function(a,d){d.items=this._expandTools(d.tools||g.prototype.options.tools[d.toolbarName]);c.fn.init.call(this,a,d);var e=this._click.bind(this);this.element.addClass("k-spreadsheet-toolbar");this._addSeparators(this.element);var f=this;this.element.on("keydown",function(a){var c;if(a.keyCode===9){c=f._nextTool(a.shiftKey?-1:1);if(c){document.activeElement.blur();if(b(c).is(".k-upload-button")){b(c).addClass("k-state-focused")}if(b(c).find("input").length){b(c).find("input").focus()}else{c.focus()}a.preventDefault()}}});this.element.on("focusout",function(){b(this).find(".k-toolbar-first-visible").removeClass("k-state-focused")});this.bind({click:e,toggle:e})},_nextTool:function(a){var c=this;var d=c.element.find(".k-widget, .k-button, .k-button-group > a");var e=d.index(b(document.activeElement).closest(".k-widget, .k-button, .k-button-group > a"));if(e>0){return d[e+a]}},_addSeparators:function(a){var b=a.children(".k-widget, a.k-button, .k-button-group");b.before("<span class='k-separator' />")},_expandTools:function(a){function c(a){var e=b.isPlainObject(a)?a:f[a]||{};var g="k-icon k-i-"+e.iconClass;var h=e.type;var i={button:{showText:"overflow"},colorPicker:{toolIcon:g,spriteCssClass:g},borders:{spriteCssClass:g},alignment:{spriteCssClass:g},merge:{spriteCssClass:g},freeze:{spriteCssClass:g}};var j=b.extend({name:e.name||a,text:d[e.name||a],icon:e.iconClass,attributes:{title:d[e.name||a],"aria-label":d[e.name||a]}},i[h],e);if(h=="splitButton"){j.menuButtons=j.menuButtons.map(c)}j.attributes["data-tool"]=a;if(e.property){j.attributes["data-property"]=e.property}return j}return a.reduce(function(a,d){if(b.isArray(d)){a.push({type:"buttonGroup",buttons:d.map(c)})}else{a.push(c.call(this,d))}return a},[])},_click:function(a){var b=a.target.attr("data-tool");var c=f[b]||{};var d=c.command;if(!d){return}var e={command:d,options:{property:c.property||null,value:c.value||null}};if(typeof e.options.value==="boolean"){e.options.value=a.checked?true:null}this.action(e)},events:["click","toggle","open","close","overflowOpen","overflowClose","action","dialog"],options:{name:"SpreadsheetToolBar",resizable:true,tools:e},action:function(a){this.trigger("action",a)},dialog:function(a){this.trigger("dialog",a)},refresh:function(b){var c=b;var d=this._tools();function e(a,b){var c=a.toolbar;var d=a.overflow;var e=c&&c.options.togglable||d&&d.options.togglable;if(!e){return}var f=false;if(typeof b==="boolean"){f=b}else if(typeof b==="string"){f=c.options.value===b}c.toggle(f);if(d){d.toggle(f)}}function f(a,b){var c=a.toolbar;var d=a.overflow;if(c&&c.update){c.update(b)}if(d&&d.update){d.update(b)}}for(var g=0;g<d.length;g++){var h=d[g].property;var i=d[g].tool;var j=a.isFunction(c[h])?c[h]():c;if(h=="gridLines"){j=c.sheet().showGridLines()}if(i.type==="button"){e(i,j)}else{f(i,j)}}this.resize()},_tools:function(){return this.element.find("[data-property]").toArray().map(function(a){a=b(a);return{property:a.attr("data-property"),tool:this._getItem(a)}}.bind(this))},destroy:function(){this.element.find("[data-command],.k-button").each(function(){var a=b(this);var c=a.data("instance");if(c&&c.destroy){c.destroy()}});c.fn.destroy.call(this)}});a.spreadsheet.ToolBar=g;var h=a.toolbar.Item.extend({init:function(a,c){var d=b("<select />").attr("title",a.attributes.title).attr("aria-label",a.attributes.title).kendoDropDownList({height:"auto"}).data("kendoDropDownList");this.dropDownList=d;this.element=d.wrapper;this.options=a;this.toolbar=c;this.attributes();this.addUidAttr();this.addOverflowAttr();d.bind("open",this._open.bind(this));d.bind("change",this._change.bind(this));this.element.width(a.width).attr({"data-command":"PropertyChangeCommand","data-property":a.property})},_open:function(){var b=this.dropDownList;var c=b.list;var d;c.css({whiteSpace:"nowrap",width:"auto"});d=c.width();if(d>0){d+=20}else{d=b._listWidth}c.css("width",d+a.support.scrollbar());b._listWidth=d},_change:function(a){var b=this;var c=a.sender;var d=c.value();var e=c.dataItem();var f=e?e.popup:undefined;if(f){setTimeout(function(){b.toolbar.dialog({name:f})})}else{b.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:d=="null"?null:d
}})}},value:function(a){if(a!==undefined){this.dropDownList.value(a)}else{return this.dropDownList.value()}}});var i=a.toolbar.Item.extend({init:function(a,c){this.element=b("<a href='#' class='k-button k-button-icon'>"+"<span class='"+a.spriteCssClass+"'>"+"</span><span class='k-icon k-i-arrow-60-down'></span>"+"</a>");this.element.on("click touchend",this.open.bind(this)).attr("data-command",a.command);this.options=a;this.toolbar=c;this.attributes();this.addUidAttr();this.addOverflowAttr();this._popup()},destroy:function(){this.popup.destroy()},open:function(a){a.preventDefault();this.popup.toggle()},_popup:function(){var a=this.element;this.popup=b("<div class='k-spreadsheet-popup' />").appendTo(a).kendoPopup({anchor:a}).data("kendoPopup")}});a.toolbar.registerComponent("dialog",a.toolbar.ToolBarButton.extend({init:function(b,c){a.toolbar.ToolBarButton.fn.init.call(this,b,c);this._dialogName=b.dialogName;this.element.bind("click touchend",this.open.bind(this)).data("instance",this)},open:function(){this.toolbar.dialog({name:this._dialogName})}}));a.toolbar.registerComponent("exportAsDialog",a.toolbar.Item.extend({init:function(a,c){this._dialogName=a.dialogName;this.toolbar=c;this._title=a.attributes.title;this.element=b("<button type='button' class='k-button k-button-icon'>"+"<span class='k-icon k-i-download' />"+"</button>").attr("title",this._title).attr("aria-label",this._title).data("instance",this);this.element.bind("click",this.open.bind(this)).data("instance",this)},open:function(){this.toolbar.dialog({name:this._dialogName})}}));var j=a.toolbar.OverflowButton.extend({init:function(b,c){a.toolbar.OverflowButton.fn.init.call(this,b,c);this.element.on("click touchend",this._click.bind(this));this.message=this.options.text;var d=this.element.data("button");this.element.data(this.options.type,d)},_click:b.noop});var k=i.extend({init:function(b,c){i.fn.init.call(this,b,c);this.popup.element.addClass("k-spreadsheet-colorpicker");this.colorChooser=new a.spreadsheet.ColorChooser(this.popup.element,{change:this._colorChange.bind(this)});this.element.attr({"data-property":b.property});this.element.data({type:"colorPicker",colorPicker:this,instance:this})},destroy:function(){this.colorChooser.destroy();i.fn.destroy.call(this)},update:function(a){this.value(a)},value:function(a){this.colorChooser.value(a)},_colorChange:function(a){this.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:a.sender.value()}});this.popup.close()}});var l=j.extend({init:function(a,b){a.iconName="text";j.fn.init.call(this,a,b)},_click:function(){this.toolbar.dialog({name:"colorPicker",options:{title:this.options.property,property:this.options.property}})}});a.toolbar.registerComponent("colorPicker",k,l);var m=[8,9,10,11,12,13,14,16,18,20,22,24,26,28,36,48,72];var n=12;var o=a.toolbar.Item.extend({init:function(a,c){var d=b("<input />").attr("aria-label",a.attributes.title).kendoComboBox({change:this._valueChange.bind(this),clearButton:false,dataSource:a.fontSizes||m,value:n}).data("kendoComboBox");this.comboBox=d;this.element=d.wrapper;this.options=a;this.toolbar=c;this.attributes();this.addUidAttr();this.addOverflowAttr();this.element.width(a.width).attr({"data-command":"PropertyChangeCommand","data-property":a.property});this.element.data({type:"fontSize",fontSize:this})},_valueChange:function(b){this.toolbar.action({command:"PropertyChangeCommand",options:{property:this.options.property,value:a.parseInt(b.sender.value())}})},update:function(b){this.value(a.parseInt(b)||n)},value:function(a){if(a!==undefined){this.comboBox.value(a)}else{return this.comboBox.value()}}});var p=j.extend({_click:function(){this.toolbar.dialog({name:"fontSize",options:{sizes:m,defaultSize:n}})},update:function(a){this._value=a||n;this.element.find(".k-text").text(this.message+" ("+this._value+") ...")}});a.toolbar.registerComponent("fontSize",o,p);var q=["Arial","Courier New","Georgia","Times New Roman","Trebuchet MS","Verdana"];var r="Arial";var s=h.extend({init:function(a,b){h.fn.init.call(this,a,b);var c=this.dropDownList;c.setDataSource(a.fontFamilies||q);c.value(r);this.element.data({type:"fontFamily",fontFamily:this})},update:function(a){this.value(a||r)}});var t=j.extend({_click:function(){this.toolbar.dialog({name:"fontFamily",options:{fonts:q,defaultFont:r}})},update:function(a){this._value=a||r;this.element.find(".k-text").text(this.message+" ("+this._value+") ...")}});a.toolbar.registerComponent("fontFamily",s,t);var u=a.spreadsheet.formats={automatic:null,text:"@",number:"#,0.00",percent:"0.00%",financial:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',currency:"$#,##0.00;[Red]$#,##0.00",date:"m/d/yyyy",time:"h:mm:ss AM/PM",dateTime:"m/d/yyyy h:mm",duration:"[h]:mm:ss"};var v=h.extend({_revertTitle:function(a){a.sender.value("");a.sender.wrapper.width("auto")},init:function(a,b){h.fn.init.call(this,a,b);var c=this.dropDownList;var e="<span class='k-icon k-i-"+a.iconClass+"' style='line-height: 1em; width: 1.35em;'></span>";c.bind("change",this._revertTitle.bind(this));c.bind("dataBound",this._revertTitle.bind(this));c.setOptions({dataValueField:"format",dataTextField:"name",dataValuePrimitive:true,valueTemplate:e,template:"# if (data.sample) { #"+"<span class='k-spreadsheet-sample'>#: data.sample #</span>"+"# } #"+"#: data.name #"});c.text(e);c.setDataSource([{format:u.automatic,name:d.formatTypes.automatic},{format:u.text,name:d.formatTypes.text},{format:u.number,name:d.formatTypes.number,sample:"1,499.99"},{format:u.percent,name:d.formatTypes.percent,sample:"14.50%"},{format:u.financial,name:d.formatTypes.financial,sample:"(1,000.12)"},{format:u.currency,name:d.formatTypes.currency,sample:"$1,499.99"},{format:u.date,name:d.formatTypes.date,sample:"4/21/2012"},{format:u.time,name:d.formatTypes.time,sample:"5:49:00 PM"},{format:u.dateTime,name:d.formatTypes.dateTime,sample:"4/21/2012 5:49:00"},{format:u.duration,name:d.formatTypes.duration,sample:"168:05:00"},{popup:"formatCells",name:d.formatTypes.moreFormats}]);this.element.data({type:"format",format:this})}});var w=j.extend({_click:function(){this.toolbar.dialog({name:"formatCells"})}});a.toolbar.registerComponent("format",v,w);var x=i.extend({init:function(a,b){i.fn.init.call(this,a,b);this._borderPalette();this.element.data({type:"borders",instance:this})},destroy:function(){this.borderPalette.destroy();i.fn.destroy.call(this)},_borderPalette:function(){var c=b("<div />").appendTo(this.popup.element);this.borderPalette=new a.spreadsheet.BorderPalette(c,{change:this._action.bind(this)})},_action:function(a){this.toolbar.action({command:"BorderChangeCommand",options:{border:a.type,style:{size:1,color:a.color}}})}});var y=j.extend({_click:function(){this.toolbar.dialog({name:"borders"})}});a.toolbar.registerComponent("borders",x,y);var z=i.extend({init:function(a,c){i.fn.init.call(this,a,c);this.element.attr({"data-property":"alignment"});this._defineButtons();this._commandPalette();this.popup.element.on("click",".k-button",function(a){this._action(b(a.currentTarget))}.bind(this));this.element.data({type:"alignment",alignment:this,instance:this})},_defineButtons:function(){this.buttons=[{property:"textAlign",value:"left",iconClass:"align-left",text:d.alignmentButtons.justtifyLeft},{property:"textAlign",value:"center",iconClass:"align-center",text:d.alignmentButtons.justifyCenter},{property:"textAlign",value:"right",iconClass:"align-right",text:d.alignmentButtons.justifyRight},{property:"textAlign",value:"justify",iconClass:"align-justify",text:d.alignmentButtons.justifyFull},{property:"verticalAlign",value:"top",iconClass:"align-top",text:d.alignmentButtons.alignTop},{property:"verticalAlign",value:"center",iconClass:"align-middle",text:d.alignmentButtons.alignMiddle},{property:"verticalAlign",value:"bottom",iconClass:"align-bottom",text:d.alignmentButtons.alignBottom}]},destroy:function(){this.popup.element.off();i.fn.destroy.call(this)},update:function(a){var b=a.textAlign();var c=a.verticalAlign();var d=this.popup.element;d.find(".k-button").removeClass("k-state-active");if(b){d.find("[data-property=textAlign][data-value="+b+"]").addClass("k-state-active")}if(c){d.find("[data-property=verticalAlign][data-value="+c+"]").addClass("k-state-active")}},_commandPalette:function(){var a=this.buttons;var c=b("<div />").appendTo(this.popup.element);a.forEach(function(d,e){var f="<a title='"+d.text+"' data-property='"+d.property+"' data-value='"+d.value+"' class='k-button k-button-icon'>"+"<span class='k-icon k-i-"+d.iconClass+"'></span>"+"</a>";if(e!==0&&a[e-1].property!==d.property){c.append(b("<span class='k-separator' />"))}c.append(f)})},_action:function(a){var b=a.attr("data-property");var c=a.attr("data-value");this.toolbar.action({command:"PropertyChangeCommand",options:{property:b,value:c}})}});var A=j.extend({_click:function(){this.toolbar.dialog({name:"alignment"})}});a.toolbar.registerComponent("alignment",z,A);var B=i.extend({init:function(a,c){i.fn.init.call(this,a,c);this._defineButtons();this._commandPalette();this.popup.element.on("click",".k-button",function(a){this._action(b(a.currentTarget))}.bind(this));this.element.data({type:"merge",merge:this,instance:this})},_defineButtons:function(){this.buttons=[{value:"cells",iconClass:"cells-merge",text:d.mergeButtons.mergeCells},{value:"horizontally",iconClass:"cells-merge-horizontally",text:d.mergeButtons.mergeHorizontally},{value:"vertically",iconClass:"cells-merge-vertically",text:d.mergeButtons.mergeVertically},{value:"unmerge",iconClass:"table-unmerge",text:d.mergeButtons.unmerge}]},destroy:function(){this.popup.element.off();i.fn.destroy.call(this)},_commandPalette:function(){var a=b("<div />").appendTo(this.popup.element);this.buttons.forEach(function(b){var c="<a title='"+b.text+"' data-value='"+b.value+"' class='k-button k-button-icontext'>"+"<span class='k-icon k-i-"+b.iconClass+"'></span>"+b.text+"</a>";a.append(c)})},_action:function(a){var b=a.attr("data-value");this.toolbar.action({command:"MergeCellCommand",options:{value:b}})}});var C=j.extend({_click:function(){this.toolbar.dialog({name:"merge"})}});a.toolbar.registerComponent("merge",B,C);var D=i.extend({init:function(a,c){i.fn.init.call(this,a,c);this._defineButtons();this._commandPalette();this.popup.element.on("click",".k-button",function(a){this._action(b(a.currentTarget))}.bind(this));this.element.data({type:"freeze",freeze:this,instance:this})},_defineButtons:function(){this.buttons=[{value:"panes",iconClass:"pane-freeze",text:d.freezeButtons.freezePanes},{value:"rows",iconClass:"row-freeze",text:d.freezeButtons.freezeRows},{value:"columns",iconClass:"column-freeze",text:d.freezeButtons.freezeColumns},{value:"unfreeze",iconClass:"table-unmerge",text:d.freezeButtons.unfreeze}]},destroy:function(){this.popup.element.off();i.fn.destroy.call(this)},_commandPalette:function(){var a=b("<div />").appendTo(this.popup.element);this.buttons.forEach(function(b){var c="<a title='"+b.text+"' data-value='"+b.value+"' class='k-button k-button-icontext'>"+"<span class='k-icon k-i-"+b.iconClass+"'></span>"+b.text+"</a>";a.append(c)})},_action:function(a){var b=a.attr("data-value");this.toolbar.action({command:"FreezePanesCommand",options:{value:b}})}});var E=j.extend({_click:function(){this.toolbar.dialog({name:"freeze"})}});a.toolbar.registerComponent("freeze",D,E);var F=h.extend({_revertTitle:function(a){a.sender.value("");a.sender.wrapper.width("auto")},init:function(a,b){h.fn.init.call(this,a,b);var c=this.dropDownList;c.bind("change",this._revertTitle.bind(this));c.bind("dataBound",this._revertTitle.bind(this));c.setOptions({valueTemplate:"<span class='k-icon k-i-"+a.iconClass+"' style='line-height: 1em; width: 1.35em;'></span>",template:"<span class='k-icon k-i-#= iconClass #' style='line-height: 1em; width: 1.35em;'></span>#=text#",dataTextField:"text",dataValueField:"value"});c.setDataSource([{value:"asc",sheet:false,text:d.sortButtons.sortRangeAsc,iconClass:"sort-asc"},{value:"desc",sheet:false,text:d.sortButtons.sortRangeDesc,iconClass:"sort-desc"}]);c.select(0);this.element.data({type:"sort",sort:this})},_change:function(a){var b=a.sender;var c=b.dataItem();if(c){this.toolbar.action({command:"SortCommand",options:{value:c.value,sheet:c.sheet}})}},value:b.noop});var G=j.extend({_click:function(){this.toolbar.dialog({name:"sort"})}});a.toolbar.registerComponent("sort",F,G);var H=a.toolbar.ToolBarButton.extend({init:function(b,c){b.showText="overflow";a.toolbar.ToolBarButton.fn.init.call(this,b,c);this.element.on("click",this._click.bind(this));this.element.data({type:"filter",filter:this})},_click:function(){this.toolbar.action({command:"FilterCommand"})},update:function(a){this.toggle(a)}});var I=j.extend({init:function(a,b){j.fn.init.call(this,a,b);this.element.data({type:"filter",filter:this})},_click:function(){this.toolbar.action({command:"FilterCommand"})},update:function(a){this.toggle(a)}});a.toolbar.registerComponent("filter",H,I);var J=a.toolbar.Item.extend({init:function(a,c){this.toolbar=c;this.element=b("<div class='k-button k-upload-button k-button-icon'>"+"<span class='k-icon k-i-folder-open' />"+"</div>").data("instance",this);this._title=a.attributes.title;this._reset()},_reset:function(){this.element.find("input").remove();b("<input type='file' autocomplete='off' accept='.xlsx'/>").attr("title",this._title).attr("aria-label",this._title).one("change",this._change.bind(this)).appendTo(this.element)},_change:function(a){this.toolbar.action({command:"OpenCommand",options:{file:a.target.files[0]}});this._reset()}});a.toolbar.registerComponent("open",J);a.spreadsheet.TabStrip=a.ui.TabStrip.extend({init:function(c,d){a.ui.TabStrip.fn.init.call(this,c,d);c.addClass("k-spreadsheet-tabstrip");this._quickAccessButtons();this.toolbars={};var e=d.dataSource;this.contentElements.each(function(a,c){this._toolbar(b(c),e[a].id,d.toolbarOptions[e[a].id])}.bind(this));this.one("activate",function(){this.toolbars[this.options.dataSource[0].id].resize()})},events:a.ui.TabStrip.fn.events.concat(["action","dialog"]),destroy:function(){this.quickAccessToolBar.off("click");a.ui.TabStrip.fn.destroy.call(this);for(var b in this.toolbars){this.toolbars[b].destroy()}},action:function(a){this.trigger("action",a)},dialog:function(a){this.trigger("dialog",a)},refreshTools:function(a){var b=this.toolbars;for(var c in b){if(b.hasOwnProperty(c)){b[c].refresh(a)}}},_quickAccessButtons:function(){var c=[{title:d.quickAccess.undo,iconClass:"undo",action:"undo"},{title:d.quickAccess.redo,iconClass:"redo",action:"redo"}];var e=a.template("<a href='\\#' title='#= title #' data-action='#= action #' class='k-button k-button-icon' aria-label='#= title #'><span class='k-icon k-i-#=iconClass#'></span></a>");this.quickAccessToolBar=b("<div />",{class:"k-spreadsheet-quick-access-toolbar",html:a.render(e,c)}).insertBefore(this.wrapper);this.quickAccessToolBar.on("click",".k-button",function(a){a.preventDefault();var c=b(a.currentTarget).attr("data-action");this.action({action:c})}.bind(this));this.quickAccessAdjust()},quickAccessAdjust:function(){this.tabGroup.css("padding-left",a._outerWidth(this.quickAccessToolBar))},_toolbar:function(b,c,d){var e;var f;if(this.toolbars[c]){this.toolbars[c].destroy();b.children(".k-toolbar").remove()}if(d){e=b.html("<div />").children("div");f={tools:typeof d==="boolean"?undefined:d,toolbarName:c,action:this.action.bind(this),dialog:this.dialog.bind(this)};this.toolbars[c]=new a.spreadsheet.ToolBar(e,f)}}})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/dialogs",["kendo.core","kendo.binder","kendo.validator"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.data.ObservableObject;var d=a.spreadsheet.messages.dialogs={apply:"Apply",save:"Save",cancel:"Cancel",remove:"Remove",retry:"Retry",revert:"Revert",okText:"OK",formatCellsDialog:{title:"Format",categories:{number:"Number",currency:"Currency",date:"Date"}},fontFamilyDialog:{title:"Font"},fontSizeDialog:{title:"Font size"},bordersDialog:{title:"Borders"},alignmentDialog:{title:"Alignment",buttons:{justtifyLeft:"Align left",justifyCenter:"Center",justifyRight:"Align right",justifyFull:"Justify",alignTop:"Align top",alignMiddle:"Align middle",alignBottom:"Align bottom"}},mergeDialog:{title:"Merge cells",buttons:{mergeCells:"Merge all",mergeHorizontally:"Merge horizontally",mergeVertically:"Merge vertically",unmerge:"Unmerge"}},freezeDialog:{title:"Freeze panes",buttons:{freezePanes:"Freeze panes",freezeRows:"Freeze rows",freezeColumns:"Freeze columns",unfreeze:"Unfreeze panes"}},confirmationDialog:{text:"Are you sure you want to remove this sheet?",title:"Sheet remove"},validationDialog:{title:"Data Validation",hintMessage:"Please enter a valid {0} value {1}.",hintTitle:"Validation {0}",criteria:{any:"Any value",number:"Number",text:"Text",date:"Date",custom:"Custom Formula",list:"List"},comparers:{greaterThan:"greater than",lessThan:"less than",between:"between",notBetween:"not between",equalTo:"equal to",notEqualTo:"not equal to",greaterThanOrEqualTo:"greater than or equal to",lessThanOrEqualTo:"less than or equal to"},comparerMessages:{greaterThan:"greater than {0}",lessThan:"less than {0}",between:"between {0} and {1}",notBetween:"not between {0} and {1}",equalTo:"equal to {0}",notEqualTo:"not equal to {0}",greaterThanOrEqualTo:"greater than or equal to {0}",lessThanOrEqualTo:"less than or equal to {0}",custom:"that satisfies the formula: {0}"},labels:{criteria:"Criteria",comparer:"Comparer",min:"Min",max:"Max",value:"Value",start:"Start",end:"End",onInvalidData:"On invalid data",rejectInput:"Reject input",showWarning:"Show warning",showHint:"Show hint",hintTitle:"Hint title",hintMessage:"Hint message",ignoreBlank:"Ignore blank",showListButton:"Display button to show list",showCalendarButton:"Display button to show calendar"},placeholders:{typeTitle:"Type title",typeMessage:"Type message"}},exportAsDialog:{title:"Export...",labels:{scale:"Scale",fit:"Fit to page",fileName:"File name",saveAsType:"Save as type",exportArea:"Export",paperSize:"Paper size",margins:"Margins",orientation:"Orientation",print:"Print",guidelines:"Guidelines",center:"Center",horizontally:"Horizontally",vertically:"Vertically"}},modifyMergedDialog:{errorMessage:"Cannot change part of a merged cell."},rangeDisabledDialog:{errorMessage:"Destination range contains disabled cells."},intersectsArrayDialog:{errorMessage:"You cannot alter part of an array"},incompatibleRangesDialog:{errorMessage:"Incompatible ranges"},noFillDirectionDialog:{errorMessage:"Cannot determine fill direction"},duplicateSheetNameDialog:{errorMessage:"Duplicate sheet name"},overflowDialog:{errorMessage:"Cannot paste, because the copy area and the paste area are not the same size and shape."},useKeyboardDialog:{title:"Copying and pasting",errorMessage:"These actions cannot be invoked through the menu. Please use the keyboard shortcuts instead:",labels:{forCopy:"for copy",forCut:"for cut",forPaste:"for paste"}},unsupportedSelectionDialog:{errorMessage:"That action cannot be performed on multiple selection."},linkDialog:{title:"Hyperlink",labels:{text:"Text",url:"Address",removeLink:"Remove link"}}};var e={};a.spreadsheet.dialogs={register:function(a,b){e[a]=b},registered:function(a){return!!e[a]},create:function(a,b){var c=e[a];if(c){return new c(b)}}};var f=a.spreadsheet.SpreadsheetDialog=a.Observable.extend({init:function(c){a.Observable.fn.init.call(this,c);this.options=b.extend(true,{},this.options,c);this.bind(this.events,c)},events:["close","activate"],options:{autoFocus:true},dialog:function(){if(!this._dialog){this._dialog=b("<div class='k-spreadsheet-window k-action-window k-popup-edit-form' />").addClass(this.options.className||"").append(a.template(this.options.template)({messages:a.spreadsheet.messages.dialogs||d,errors:this.options.errors})).appendTo(document.body).kendoWindow({autoFocus:false,scrollable:false,resizable:false,modal:true,visible:false,width:this.options.width||320,title:this.options.title,open:function(){this.center()},close:this._onDialogClose.bind(this),activate:this._onDialogActivate.bind(this),deactivate:this._onDialogDeactivate.bind(this)}).data("kendoWindow")}return this._dialog},_onDialogClose:function(){this.trigger("close",{action:this._action})},_onDialogActivate:function(){this.trigger("activate")},_onDialogDeactivate:function(){this.trigger("deactivate");this.destroy()},destroy:function(){if(this._dialog){this._dialog.destroy();this._dialog=null}},open:function(){this.dialog().open();this.dialog().element.find(".k-primary").focus()},apply:function(){this.close()},close:function(){this._action="close";this.dialog().close()}});function g(b,c){return a.spreadsheet.formatting.text(b,c)}var h=a.spreadsheet.FormatCellsViewModel=c.extend({init:function(a){c.fn.init.call(this,a);this.useCategory(this.category)},useCategory:function(a){var b=a&&a.type||"number";var c=b=="currency";this.category=a;this.set("showCurrencyFilter",c&&this.currencies.length>1);if(!c){this.set("formats",this.allFormats[b+"Formats"])}else{this.currency(this.currencies[0])}this.useFirstFormat()},useFirstFormat:function(){if(this.formats.length){this.set("format",this.formats[0].value)}},currency:function(a){if(a!==undefined){this._currency=a;var b=a.value;var c=[{currency:b,decimals:true},{currency:b,decimals:true,iso:true},{currency:b,decimals:false}];c=c.map(function(a){a=h.convert.currency(a);return{value:a,name:g(1e3,a)}});this.set("formats",c);this.useFirstFormat()}return this._currency||this.currencies[0]},categoryFilter:function(a){if(a!==undefined){this.useCategory(a)}return this.category},preview:function(){var a=this.get("format");var b=this.value||0;if(a&&a.length){return g(b,a)}else{return b}}});h.convert={currency:function(a){function b(a,b){return new Array(b+1).join(a)}var c=a.currency;var d=c.pattern[1];if(a.decimals){d=d.replace(/n/g,"n"+c["."]+b("0",c.decimals))}if(a.iso){d='"'+c.abbr+'" '+d.replace(/\s*\$\s*/g,"")}else{d=d.replace(/\$/g,c.symbol)}d=d.replace(/n/g,"?");return d},date:function(a){if(/T|Z/.test(a)){return""}return a.toLowerCase().replace(/tt/g,"AM/PM").replace(/'/g,'"')}};function i(a,c){var d=[];var e=[];for(var f=0;f<c.length;f++){if(b.inArray(c[f][a],e)==-1){d.push(c[f]);e.push(c[f][a])}}return d}var j=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.formatCellsDialog||d;var g={title:e.title,categories:[{type:"number",name:e.categories.number},{type:"currency",name:e.categories.currency},{type:"date",name:e.categories.date}]};f.fn.init.call(this,b.extend(g,c));this._generateFormats()},options:{className:"k-spreadsheet-format-cells",template:"<div class='k-edit-form-container'>"+"<div class='k-root-tabs' data-role='tabstrip' "+"data-text-field='name' "+"data-bind='source: categories, value: categoryFilter' "+"data-animation='false' />"+"<div class='k-spreadsheet-preview' data-bind='text: preview' />"+"<script type='text/x-kendo-template' id='format-item-template'>"+"\\#: data.name \\#"+"</script>"+"<select data-role='dropdownlist' class='k-format-filter' "+"data-text-field='description' "+"data-value-field='value.name' "+"data-bind='visible: showCurrencyFilter, value: currency, source: currencies' />"+"<ul data-role='staticlist' tabindex='0' "+"class='k-list k-reset' "+"data-template='format-item-template' "+"data-value-primitive='true' "+"data-value-field='value' "+"data-bind='source: formats, value: format' />"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button>"+"<button class='k-button' data-bind='click: close'>#: messages.cancel #</button>"+"</div>"+"</div>"},_generateFormats:function(){var c=this.options;if(!c.currencies){c.currencies=j.currenciesFrom(a.cultures)}if(!c.numberFormats){c.numberFormats=[{value:"#.00%",name:"100.00%"},{value:"#%",name:"100%"},{value:"#.00",name:"1024.00"},{value:"#,###.00",name:"1,024.00"}]}if(!c.dateFormats){var d=a.cultures.current.calendars.standard.patterns;c.dateFormats=i("value",b.map(d,function(a){a=h.convert.date(a);if(!a){return}return{value:a,name:g(34567.7678,a)}}))}},open:function(b){var c=this.options;var d=b.value();var e=c.categories.slice(0);var g;this.viewModel=new h({currencies:c.currencies.slice(0),allFormats:{numberFormats:c.numberFormats.slice(0),dateFormats:c.dateFormats.slice(0)},categories:e,format:b.format(),category:d instanceof Date?e[2]:e[0],apply:this.apply.bind(this),close:this.close.bind(this),value:d});f.fn.open.call(this);g=this.dialog().element;a.bind(g,this.viewModel);var i=g.find("select.k-format-filter").data("kendoDropDownList");if(c.currencies.length>10){i.setOptions({filter:"contains"})}g.find(a.roleSelector("staticlist")).parent().addClass("k-list-wrapper")},apply:function(){var a=this.viewModel.format;f.fn.apply.call(this);this.trigger("action",{command:"PropertyChangeCommand",options:{property:"format",value:a}})}});j.currenciesFrom=function(c){return i("description",b.map(c,function(b,c){if(!/-/.test(c)){return}var d=b.numberFormat.currency;var e=a.format("{0} ({1}, {2})",d.name,d.abbr,d.symbol);return{description:e,value:d}}))};a.spreadsheet.dialogs.register("formatCells",j);a.spreadsheet.dialogs.FormatCellsDialog=j;var k=f.extend({options:{className:"k-spreadsheet-message",title:"",messageId:"",text:"",template:"<div class='k-spreadsheet-message-content' data-bind='text: text' />"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: close'>"+"#= messages.okText #"+"</button>"+"</div>"},open:function(){f.fn.open.call(this);var b=this.options;var c=b.text;if(b.messageId){c=a.getter(b.messageId,true)(a.spreadsheet.messages.dialogs)}a.bind(this.dialog().element,{text:c,close:this.close.bind(this)})}});a.spreadsheet.dialogs.register("message",k);var l=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.confirmationDialog||d;var g={title:e.title,text:e.text};f.fn.init.call(this,b.extend(g,c))},options:{className:"k-spreadsheet-message",messageId:"",template:"<div class='k-spreadsheet-message-content' data-bind='text: text' />"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: confirm'>"+"#= messages.okText #"+"</button>"+"<button class='k-button' data-bind='click: cancel'>"+"#= messages.cancel #"+"</button>"+"</div>"},open:function(){f.fn.open.call(this);var b=this.options;var c=b.text;if(b.messageId){c=a.getter(b.messageId,true)(a.spreadsheet.messages.dialogs)}a.bind(this.dialog().element,{text:c,confirm:this.confirm.bind(this),cancel:this.close.bind(this)})},isConfirmed:function(){return this._confirmed},confirm:function(){this._confirmed=true;this.close()}});a.spreadsheet.dialogs.register("confirmation",l);var m=f.extend({options:{className:"k-spreadsheet-message",title:"",messageId:"",text:"",template:"<div class='k-spreadsheet-message-content' data-bind='text: text' />"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: retry'>"+"#= messages.retry #"+"</button>"+"<button class='k-button' data-bind='click: cancel'>"+"#= messages.cancel #"+"</button>"+"</div>"},open:function(){f.fn.open.call(this);var b=this.options;var c=b.text;if(b.messageId){c=a.getter(b.messageId,true)(a.spreadsheet.messages.dialogs)}a.bind(this.dialog().element,{text:c,retry:this.retry.bind(this),cancel:this.close.bind(this)})},retry:function(){this._retry=true;this.close()}});a.spreadsheet.dialogs.register("validationError",m);var n=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.fontFamilyDialog||d;f.fn.init.call(this,b.extend({title:e.title},c));this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var b=this.dialog().element.find("ul");var c=this.options.fonts;var d=this.options.defaultFont;this.list=new a.ui.StaticList(b,{dataSource:new a.data.DataSource({data:c}),template:"#: data #",value:d,change:this.apply.bind(this)});this.list.dataSource.fetch()},apply:function(a){f.fn.apply.call(this);this.trigger("action",{command:"PropertyChangeCommand",options:{property:"fontFamily",value:a.sender.value()[0]}})}});a.spreadsheet.dialogs.register("fontFamily",n);var o=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.fontSizeDialog||d;f.fn.init.call(this,b.extend({title:e.title},c));this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var b=this.dialog().element.find("ul");var c=this.options.sizes;var d=this.options.defaultSize;this.list=new a.ui.StaticList(b,{dataSource:new a.data.DataSource({data:c}),template:"#: data #",value:d,change:this.apply.bind(this)});this.list.dataSource.fetch()},apply:function(b){f.fn.apply.call(this);this.trigger("action",{command:"PropertyChangeCommand",options:{property:"fontSize",value:a.parseInt(b.sender.value()[0])}})}});a.spreadsheet.dialogs.register("fontSize",o);var p=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.bordersDialog||d;f.fn.init.call(this,b.extend({title:e.title},c));this.element=this.dialog().element;this._borderPalette();this.viewModel=a.observable({apply:this.apply.bind(this),close:this.close.bind(this)});a.bind(this.element.find(".k-action-buttons"),this.viewModel)},options:{width:177,template:"<div></div>"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button>"+"<button class='k-button' data-bind='click: close'>#: messages.cancel #</button>"+"</div>"},apply:function(){f.fn.apply.call(this);var a=this.value();this.trigger("action",{command:"BorderChangeCommand",options:{border:a.type,style:{size:1,color:a.color}}})},_borderPalette:function(){var b=this.dialog().element.find("div:first");this.borderPalette=new a.spreadsheet.BorderPalette(b,{change:this.value.bind(this)})},value:function(a){if(a===undefined){return this._state}else{this._state=a}}});a.spreadsheet.dialogs.register("borders",p);var q=f.extend({init:function(b){f.fn.init.call(this,b);this.element=this.dialog().element;this.property=b.property;this.options.title=b.title;this.viewModel=a.observable({apply:this.apply.bind(this),close:this.close.bind(this)});a.bind(this.element.find(".k-action-buttons"),this.viewModel)},options:{template:"<div></div>"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: apply'>#: messages.apply #</button>"+"<button class='k-button' data-bind='click: close'>#: messages.cancel #</button>"+"</div>"},apply:function(){f.fn.apply.call(this);this.trigger("action",{command:"PropertyChangeCommand",options:{property:this.property,value:this.value()}})},value:function(a){if(a===undefined){return this._value}else{this._value=a.value}}});var r=q.extend({init:function(a){a.width=177;q.fn.init.call(this,a);this._colorPalette()},_colorPalette:function(){var a=this.dialog().element.find("div:first");this.colorPalette=a.kendoColorPalette({palette:["#ffffff","#000000","#d6ecff","#4e5b6f","#7fd13b","#ea157a","#feb80a","#00addc","#738ac8","#1ab39f","#f2f2f2","#7f7f7f","#a7d6ff","#d9dde4","#e5f5d7","#fad0e4","#fef0cd","#c5f2ff","#e2e7f4","#c9f7f1","#d8d8d8","#595959","#60b5ff","#b3bcca","#cbecb0","#f6a1c9","#fee29c","#8be6ff","#c7d0e9","#94efe3","#bfbfbf","#3f3f3f","#007dea","#8d9baf","#b2e389","#f272af","#fed46b","#51d9ff","#aab8de","#5fe7d5","#a5a5a5","#262626","#003e75","#3a4453","#5ea226","#af0f5b","#c58c00","#0081a5","#425ea9","#138677","#7f7f7f","#0c0c0c","#00192e","#272d37","#3f6c19","#750a3d","#835d00","#00566e","#2c3f71","#0c594f"],change:this.value.bind(this)}).data("kendoColorPalette")}});a.spreadsheet.dialogs.register("colorPicker",r);var s=q.extend({init:function(a){a.width=268;q.fn.init.call(this,a);this.dialog().setOptions({animation:false});this.dialog().one("activate",this._colorPicker.bind(this))},_colorPicker:function(){var a=this.dialog().element.find("div:first");this.colorPicker=a.kendoFlatColorPicker({change:this.value.bind(this)
}).data("kendoFlatColorPicker")}});a.spreadsheet.dialogs.register("customColor",s);var t=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.alignmentDialog||d;var g={title:e.title,buttons:[{property:"textAlign",value:"left",iconClass:"align-left",text:e.buttons.justtifyLeft},{property:"textAlign",value:"center",iconClass:"align-center",text:e.buttons.justifyCenter},{property:"textAlign",value:"right",iconClass:"align-right",text:e.buttons.justifyRight},{property:"textAlign",value:"justify",iconClass:"align-justify",text:e.buttons.justifyFull},{property:"verticalAlign",value:"top",iconClass:"align-top",text:e.buttons.alignTop},{property:"verticalAlign",value:"center",iconClass:"align-middle",text:e.buttons.alignMiddle},{property:"verticalAlign",value:"bottom",iconClass:"align-bottom",text:e.buttons.alignBottom}]};f.fn.init.call(this,b.extend(g,c));this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var b=this.dialog().element.find("ul");this.list=new a.ui.StaticList(b,{dataSource:new a.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-property='#=property#' data-value='#=value#'>"+"<span class='k-icon k-i-#=iconClass#'></span>"+"#=text#"+"</a>",change:this.apply.bind(this)});this.list.dataSource.fetch()},apply:function(a){var b=a.sender.value()[0];f.fn.apply.call(this);this.trigger("action",{command:"PropertyChangeCommand",options:{property:b.property,value:b.value}})}});a.spreadsheet.dialogs.register("alignment",t);var u=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.mergeDialog||d;var g={title:e.title,buttons:[{value:"cells",iconClass:"cells-merge",text:e.buttons.mergeCells},{value:"horizontally",iconClass:"cells-merge-horizontally",text:e.buttons.mergeHorizontally},{value:"vertically",iconClass:"cells-merge-vertically",text:e.buttons.mergeVertically},{value:"unmerge",iconClass:"table-unmerge",text:e.buttons.unmerge}]};f.fn.init.call(this,b.extend(g,c));this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var b=this.dialog().element.find("ul");this.list=new a.ui.StaticList(b,{dataSource:new a.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-value='#=value#'>"+"<span class='k-icon k-icon k-i-#=iconClass#'></span>#=text#"+"</a>",change:this.apply.bind(this)});this.list.dataSource.fetch()},apply:function(a){var b=a.sender.value()[0];f.fn.apply.call(this);this.trigger("action",{command:"MergeCellCommand",options:{value:b.value}})}});a.spreadsheet.dialogs.register("merge",u);var v=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.freezeDialog||d;var g={title:e.title,buttons:[{value:"panes",iconClass:"pane-freeze",text:e.buttons.freezePanes},{value:"rows",iconClass:"row-freeze",text:e.buttons.freezeRows},{value:"columns",iconClass:"column-freeze",text:e.buttons.freezeColumns},{value:"unfreeze",iconClass:"table-unmerge",text:e.buttons.unfreeze}]};f.fn.init.call(this,b.extend(g,c));this._list()},options:{template:"<ul class='k-list k-reset'></ul>"},_list:function(){var b=this.dialog().element.find("ul");this.list=new a.ui.StaticList(b,{dataSource:new a.data.DataSource({data:this.options.buttons}),template:"<a title='#=text#' data-value='#=value#'>"+"<span class='k-icon k-icon k-i-#=iconClass#'></span>#=text#"+"</a>",change:this.apply.bind(this)});this.list.dataSource.fetch()},apply:function(a){var b=a.sender.value()[0];f.fn.apply.call(this);this.trigger("action",{command:"FreezePanesCommand",options:{value:b.value}})}});a.spreadsheet.dialogs.register("freeze",v);var w=a.spreadsheet.ValidationCellsViewModel=c.extend({init:function(a){c.fn.init.call(this,a);this.bind("change",function(a){if(a.field==="criterion"){this.reset();if(this.criterion==="custom"||this.criterion==="list"){this.setHintMessageTemplate()}}if(a.field==="comparer"){this.setHintMessageTemplate()}if((a.field=="hintMessage"||a.field=="hintTitle")&&!this._mute){this.shouldBuild=false}if((a.field=="from"||a.field=="to"||a.field=="hintMessageTemplate"||a.field=="type")&&this.shouldBuild){this.buildMessages()}}.bind(this));this.reset()},buildMessages:function(){this._mute=true;this.set("hintTitle",this.hintTitleTemplate?a.format(this.hintTitleTemplate,this.type):"");this.set("hintMessage",this.hintMessageTemplate?a.format(this.hintMessageTemplate,this.from,this.to):"");this._mute=false},reset:function(){this.setComparers();this.set("comparer",this.comparers[0].type);this.set("from",null);this.set("to",null);this.set("useCustomMessages",false);this.shouldBuild=true;this.hintTitleTemplate=this.defaultHintTitle;this.buildMessages()},setComparers:function(){var a=this.defaultComparers;var b=[];if(this.criterion==="text"){var c=["equalTo","notEqualTo"];for(var d=0;d<a.length;d++){if(c[0]==a[d].type){b.push(a[d]);c.shift()}}}else{b=a.slice()}this.set("comparers",b)},setHintMessageTemplate:function(){if(this.criterion!=="custom"&&this.criterion!=="list"){this.set("hintMessageTemplate",a.format(this.defaultHintMessage,this.criterion,this.comparerMessages[this.comparer]))}else{this.set("hintMessageTemplate","");this.set("hintMessage","")}},isAny:function(){return this.get("criterion")==="any"},isNumber:function(){return this.get("criterion")==="number"},showToForNumber:function(){return this.showTo()&&this.isNumber()},showToForDate:function(){return this.showTo()&&this.isDate()},isText:function(){return this.get("criterion")==="text"},isDate:function(){return this.get("criterion")==="date"},isList:function(){return this.get("criterion")==="list"},isCustom:function(){return this.get("criterion")==="custom"},showRemove:function(){return this.get("hasValidation")},showTo:function(){return this.get("comparer")=="between"||this.get("comparer")=="notBetween"},update:function(a){this.set("hasValidation",!!a);if(a){this.fromValidationObject(a)}},fromValidationObject:function(a){this.set("criterion",a.dataType);this.set("comparer",a.comparerType);this.set("from",a.from);this.set("to",a.to);this.set("type",a.type);this.set("ignoreBlank",a.allowNulls);this.set("showButton",a.showButton);if(a.messageTemplate||a.titleTemplate){this.hintMessageTemplate=a.messageTemplate;this.hintMessage=a.messageTemplate;this.hintTitleTemplate=a.titleTemplate;this.hintTitle=a.titleTemplate;this.useCustomMessages=true;this.buildMessages()}else{this.useCustomMessages=false}},toValidationObject:function(){if(this.criterion==="any"){return null}var a={type:this.type,dataType:this.criterion,comparerType:this.comparer,from:this.from,to:this.to,allowNulls:this.ignoreBlank,showButton:this.showButton};if(this.useCustomMessages){a.messageTemplate=this.shouldBuild?this.hintMessageTemplate:this.hintMessage;a.titleTemplate=this.hintTitle}return a}});var x=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.validationDialog||d;var g={title:e.title,hintMessage:e.hintMessage,hintTitle:e.hintTitle,criteria:[{type:"any",name:e.criteria.any},{type:"number",name:e.criteria.number},{type:"text",name:e.criteria.text},{type:"date",name:e.criteria.date},{type:"custom",name:e.criteria.custom},{type:"list",name:e.criteria.list}],comparers:[{type:"greaterThan",name:e.comparers.greaterThan},{type:"lessThan",name:e.comparers.lessThan},{type:"between",name:e.comparers.between},{type:"notBetween",name:e.comparers.notBetween},{type:"equalTo",name:e.comparers.equalTo},{type:"notEqualTo",name:e.comparers.notEqualTo},{type:"greaterThanOrEqualTo",name:e.comparers.greaterThanOrEqualTo},{type:"lessThanOrEqualTo",name:e.comparers.lessThanOrEqualTo}],comparerMessages:e.comparerMessages};f.fn.init.call(this,b.extend(g,c))},options:{width:450,criterion:"any",type:"reject",ignoreBlank:true,showButton:true,useCustomMessages:false,errorTemplate:'<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-i-warning"> </span>'+'#= message #<div class="k-callout k-callout-n"></div></div>',template:'<div class="k-edit-form-container">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.criteria #:</label></div>'+'<div class="k-edit-field">'+'<select data-role="dropdownlist" '+'title="#: messages.validationDialog.labels.criteria #"'+'data-text-field="name" '+'data-value-field="type" '+'data-bind="value: criterion, source: criteria" />'+"</div>"+'<div data-bind="visible: isNumber">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div>'+'<div class="k-edit-field">'+'<select data-role="dropdownlist" '+'title="#: messages.validationDialog.labels.comparer #"'+'data-text-field="name" '+'data-value-field="type" '+'data-bind="value: comparer, source: comparers" />'+"</div>"+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.min #:</label></div>'+'<div class="k-edit-field">'+'<input name="#: messages.validationDialog.labels.min #" title="#: messages.validationDialog.labels.min #" placeholder="e.g. 10" class="k-textbox" data-bind="value: from, enabled: isNumber" required="required" />'+"</div>"+'<div data-bind="visible: showTo">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.max #:</label></div>'+'<div class="k-edit-field">'+'<input name="#: messages.validationDialog.labels.max #" title="#: messages.validationDialog.labels.max #" placeholder="e.g. 100" class="k-textbox" data-bind="value: to, enabled: showToForNumber" required="required" />'+"</div>"+"</div>"+"</div>"+'<div data-bind="visible: isText">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div>'+'<div class="k-edit-field">'+'<select data-role="dropdownlist" '+'title="#: messages.validationDialog.labels.comparer #"'+'data-text-field="name" '+'data-value-field="type" '+'data-bind="value: comparer, source: comparers" />'+"</div>"+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div>'+'<div class="k-edit-field">'+'<input name="#: messages.validationDialog.labels.value #" title="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isText" required="required" />'+"</div>"+"</div>"+'<div data-bind="visible: isDate">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.comparer #:</label></div>'+'<div class="k-edit-field">'+'<select data-role="dropdownlist" '+'title="#: messages.validationDialog.labels.comparer #"'+'data-text-field="name" '+'data-value-field="type" '+'data-bind="value: comparer, source: comparers" />'+"</div>"+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.start #:</label></div>'+'<div class="k-edit-field">'+'<input name="#: messages.validationDialog.labels.start #" title="#: messages.validationDialog.labels.start #" class="k-textbox" data-bind="value: from, enabled: isDate" required="required" />'+"</div>"+'<div data-bind="visible: showTo">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.end #:</label></div>'+'<div class="k-edit-field">'+'<input name="#: messages.validationDialog.labels.end #" title="#: messages.validationDialog.labels.end #" class="k-textbox" data-bind="value: to, enabled: showToForDate" required="required" />'+"</div>"+"</div>"+"</div>"+'<div data-bind="visible: isCustom">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div>'+'<div class="k-edit-field">'+'<input name="#: messages.validationDialog.labels.value #" title="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isCustom" required="required" />'+"</div>"+"</div>"+'<div data-bind="visible: isList">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.value #:</label></div>'+'<div class="k-edit-field">'+'<input name="#: messages.validationDialog.labels.value #" title="#: messages.validationDialog.labels.value #" class="k-textbox" data-bind="value: from, enabled: isList" required="required" />'+"</div>"+"</div>"+'<div data-bind="visible: isList">'+'<div class="k-edit-field">'+'<input type="checkbox" name="showButton" id="listShowButton" class="k-checkbox" data-bind="checked: showButton"/>'+'<label for="listShowButton" class="k-checkbox-label">'+" #: messages.validationDialog.labels.showListButton #"+"</label>"+"</div>"+"</div>"+'<div data-bind="visible: isDate">'+'<div class="k-edit-field">'+'<input type="checkbox" name="showButton" id="dateShowButton" class="k-checkbox" data-bind="checked: showButton"/>'+'<label for="dateShowButton" class="k-checkbox-label">'+" #: messages.validationDialog.labels.showCalendarButton #"+"</label>"+"</div>"+"</div>"+'<div data-bind="invisible: isAny">'+'<div class="k-edit-field">'+'<input type="checkbox" title="#: messages.validationDialog.labels.ignoreBlank #" name="ignoreBlank" id="ignoreBlank" class="k-checkbox" data-bind="checked: ignoreBlank"/>'+'<label for="ignoreBlank" class="k-checkbox-label">'+" #: messages.validationDialog.labels.ignoreBlank #"+"</label>"+"</div>"+"</div>"+'<div data-bind="invisible: isAny">'+'<div class="k-hr"></div>'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.onInvalidData #:</label></div>'+'<div class="k-edit-field">'+'<input type="radio" title="#: messages.validationDialog.labels.rejectInput #" id="validationTypeReject" name="validationType" value="reject" data-bind="checked: type" class="k-radio" />'+'<label for="validationTypeReject" class="k-radio-label">'+"#: messages.validationDialog.labels.rejectInput #"+"</label> "+'<input type="radio" title="#: messages.validationDialog.labels.showWarning #" id="validationTypeWarning"  name="validationType" value="warning" data-bind="checked: type" class="k-radio" />'+'<label for="validationTypeWarning" class="k-radio-label">'+"#: messages.validationDialog.labels.showWarning #"+"</label>"+"</div>"+"</div>"+'<div data-bind="invisible: isAny" class="hint-wrapper">'+'<div class="k-edit-field">'+'<input type="checkbox" title="#: messages.validationDialog.labels.showHint #" name="useCustomMessages" id="useCustomMessages" class="k-checkbox" data-bind="checked: useCustomMessages" />'+'<label class="k-checkbox-label" for="useCustomMessages">'+" #: messages.validationDialog.labels.showHint #"+"</label>"+"</div>"+'<div data-bind="visible: useCustomMessages">'+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.hintTitle #:</label></div>'+'<div class="k-edit-field">'+'<input class="k-textbox" title="#: messages.validationDialog.labels.hintTitle #" placeholder="#: messages.validationDialog.placeholders.typeTitle #" data-bind="value: hintTitle" />'+"</div>"+'<div class="k-edit-label"><label>#: messages.validationDialog.labels.hintMessage #:</label></div>'+'<div class="k-edit-field">'+'<input class="k-textbox" title="#: messages.validationDialog.labels.hintMessage #" placeholder="#: messages.validationDialog.placeholders.typeMessage #" data-bind="value: hintMessage" />'+"</div>"+"</div>"+"</div>"+'<div class="k-action-buttons">'+'<button class="k-button" data-bind="visible: showRemove, click: remove">#: messages.remove #</button>'+'<button class="k-button k-primary" data-bind="click: apply">#: messages.apply #</button>'+'<button class="k-button" data-bind="click: close">#: messages.cancel #</button>'+"</div>"+"</div>"},open:function(b){var c=this.options;var d;this.viewModel=new w({type:c.type,defaultHintMessage:c.hintMessage,defaultHintTitle:c.hintTitle,defaultComparers:c.comparers.slice(0),comparerMessages:c.comparerMessages,criteria:c.criteria.slice(0),criterion:c.criterion,ignoreBlank:c.ignoreBlank,showButton:c.showButton,apply:this.apply.bind(this),close:this.close.bind(this),remove:this.remove.bind(this)});this.viewModel.update(b.validation());f.fn.open.call(this);d=this.dialog().element;if(this.validatable){this.validatable.destroy()}a.bind(d,this.viewModel);this.validatable=new a.ui.Validator(d.find(".k-edit-form-container"),{validateOnBlur:false,errorTemplate:this.options.errorTemplate||undefined})},apply:function(){if(this.validatable.validate()){f.fn.apply.call(this);this.trigger("action",{command:"EditValidationCommand",options:{value:this.viewModel.toValidationObject()}})}},remove:function(){this.viewModel.set("criterion","any");this.apply()}});a.spreadsheet.dialogs.register("validation",x);a.spreadsheet.dialogs.ValidationDialog=x;var y=f.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.exportAsDialog||d;f.fn.init.call(this,b.extend({title:e.title},c));this.viewModel=a.observable({title:this.options.title,name:this.options.name,extension:this.options.extension,fileFormats:this.options.fileFormats,excel:c.excelExport,pdf:{proxyURL:c.pdfExport.proxyURL,forceProxy:c.pdfExport.forceProxy,title:c.pdfExport.title,author:c.pdfExport.author,subject:c.pdfExport.subject,keywords:c.pdfExport.keywords,creator:c.pdfExport.creator,date:c.pdfExport.date,fitWidth:this.options.pdf.fitWidth,area:this.options.pdf.area,areas:this.options.pdf.areas,paperSize:this.options.pdf.paperSize,paperSizes:this.options.pdf.paperSizes,margin:this.options.pdf.margin,margins:this.options.pdf.margins,landscape:this.options.pdf.landscape,guidelines:this.options.pdf.guidelines,hCenter:this.options.pdf.hCenter,vCenter:this.options.pdf.vCenter},apply:this.apply.bind(this),close:this.close.bind(this)});var g=this.dialog();this.viewModel.bind("change",function(a){if(a.field==="extension"){this.set("showPdfOptions",this.extension===".pdf"?true:false);g.center()}});a.bind(g.element,this.viewModel)},options:{name:"Workbook",extension:".xlsx",fileFormats:[{description:"Excel Workbook (.xlsx)",extension:".xlsx"},{description:"Portable Document Format(.pdf)",extension:".pdf"}],pdf:{fitWidth:true,area:"workbook",areas:[{area:"workbook",text:"Entire Workbook"},{area:"sheet",text:"Active Sheet"},{area:"selection",text:"Selection"}],paperSize:"a4",paperSizes:[{value:"a2",text:"A2 (420 mm Ã 594 mm)     "},{value:"a3",text:"A3 (297 mm x 420 mm)     "},{value:"a4",text:"A4 (210 mm x 297 mm)     "},{value:"a5",text:"A5 (148 mm x 210 mm)     "},{value:"b3",text:"B3 (353 mm Ã 500 mm)     "},{value:"b4",text:"B4 (250 mm x 353 mm)     "},{value:"b5",text:"B5 (176 mm x 250 mm)     "},{value:"folio",text:'Folio (8.5" x 13")       '},{value:"legal",text:'Legal (8.5" x 14")       '},{value:"letter",text:'Letter (8.5" x 11")      '},{value:"tabloid",text:'Tabloid (11" x 17")      '},{value:"executive",text:'Executive (7.25" x 10.5")'}],margin:{bottom:"0.75in",left:"0.7in",right:"0.7in",top:"0.75in"},margins:[{value:{bottom:"0.75in",left:"0.7in",right:"0.7in",top:"0.75in"},text:"Normal"},{value:{bottom:"0.75in",left:"0.25in",right:"0.25in",top:"0.75in"},text:"Narrow"},{value:{bottom:"1in",left:"1in",right:"1in",top:"1in"},text:"Wide"}],landscape:true,guidelines:true,hCenter:true,vCenter:true},width:520,template:"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.fileName #:</label></div>"+"<div class='k-edit-field'>"+"<input class='k-textbox' data-bind='value: name' />"+"</div>"+"<div >"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div>"+"<div class='k-edit-field'>"+"<select data-role='dropdownlist' class='k-file-format' "+"data-text-field='description' "+"data-value-field='extension' "+"data-bind='value: extension, source: fileFormats' />"+"</div>"+"</div>"+"<div class='k-export-config' data-bind='visible: showPdfOptions'>"+"<hr class='k-hr' />"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.exportArea #:</label></div>"+"<div class='k-edit-field'>"+"<select data-role='dropdownlist' class='k-file-format' "+"data-text-field='text' "+"data-value-field='area' "+"data-bind='value: pdf.area, source: pdf.areas' />"+"</div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.paperSize#:</label></div>"+"<div class='k-edit-field'>"+"<select data-role='dropdownlist' class='k-file-format' "+"data-text-field='text' "+"data-value-field='value' "+"data-bind='value: pdf.paperSize, source: pdf.paperSizes' />"+"</div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.margins #:</label></div>"+"<div class='k-edit-field'>"+"<select data-role='dropdownlist' class='k-file-format' "+"data-value-primitive='true'"+"data-text-field='text' "+"data-value-field='value' "+"data-bind='value: pdf.margin, source: pdf.margins' />"+"</div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.orientation #:</label></div>"+"<div class='k-edit-field'>"+"<div class='k-button-group'>"+"<input type='radio' id='k-orientation-portrait' name='orientation' data-type='boolean' data-bind='checked: pdf.landscape' value='false' />"+"<label class='k-button k-button-icon k-group-start k-orientation-button' for='k-orientation-portrait'><span class='k-icon k-i-page-portrait'></span></label>"+"<input type='radio' id='k-orientation-landscape' name='orientation' data-type='boolean' data-bind='checked: pdf.landscape' value='true' />"+"<label class='k-button k-button-icon k-group-end k-orientation-button' for='k-orientation-landscape'><span class='k-icon k-i-page-landscape'></span></label>"+"</div>"+"</div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.print #:</label></div>"+"<div class='k-edit-field'>"+"<input class='k-checkbox' id='guidelines' type='checkbox' data-bind='checked: pdf.guidelines'/><label class='k-checkbox-label' for='guidelines'>#: messages.exportAsDialog.labels.guidelines#</label>"+"</div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.scale #:</label></div>"+"<div class='k-edit-field'>"+"<input class='k-checkbox' id='fitWidth' type='checkbox' data-bind='checked: pdf.fitWidth'/><label class='k-checkbox-label' for='fitWidth'>#: messages.exportAsDialog.labels.fit #</label>"+"</div>"+"<div class='k-edit-label'><label>#: messages.exportAsDialog.labels.center #:</label></div>"+"<div class='k-edit-field'>"+"<input class='k-checkbox' id='hCenter' type='checkbox' data-bind='checked: pdf.hCenter'/><label class='k-checkbox-label' for='hCenter'>#: messages.exportAsDialog.labels.horizontally #</label>"+"<input class='k-checkbox' id='vCenter' type='checkbox' data-bind='checked: pdf.vCenter'/><label class='k-checkbox-label' for='vCenter'>#: messages.exportAsDialog.labels.vertically #</label>"+"</div>"+"<div class='k-page-orientation'>"+"<span class='k-icon k-i-page-portrait' data-bind='invisible: pdf.landscape'></span>"+"<span class='k-icon k-i-page-landscape' data-bind='visible: pdf.landscape'></span>"+"</div>"+"</div>"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: apply'>#: messages.save #</button>"+"<button class='k-button' data-bind='click: close'>#: messages.cancel #</button>"+"</div>"},apply:function(){f.fn.apply.call(this);this.trigger("action",{command:"SaveAsCommand",options:this.viewModel})}});a.spreadsheet.dialogs.register("exportAs",y);function z(b,c){a.spreadsheet.dialogs.register(b,k.extend({options:{messageId:c}}))}z("modifyMerged","modifyMergedDialog.errorMessage");z("rangeDisabled","rangeDisabledDialog.errorMessage");z("intersectsArray","intersectsArrayDialog.errorMessage");z("overflow","overflowDialog.errorMessage");z("unsupportedSelection","unsupportedSelectionDialog.errorMessage");z("incompatibleRanges","incompatibleRangesDialog.errorMessage");z("noFillDirection","noFillDirectionDialog.errorMessage");z("duplicateSheetName","duplicateSheetNameDialog.errorMessage");var A=k.extend({options:{width:640,title:"Errors in import",template:"<div class='k-spreadsheet-message-content k-spreadsheet-import-errors'>"+"<div class='k--header-message'>We encountered #= errors.length # errors while reading this file.  Please be aware that some formulas might be missing, or contain invalid results.</div>"+"<div class='k--errors'>"+"<table>"+"<thead>"+"<tr><th>Context</th><th>Error message</th></tr>"+"</thead>"+"# for (var i = 0; i < errors.length; ++i) { #"+"# var err = errors[i]; #"+"<tr><td>#: err.context #</td><td>#: err.error #</td></tr>"+"# } #"+"</table>"+"</div>"+"</div>"+"<div class='k-action-buttons'>"+"<button class='k-button k-primary' data-bind='click: close'>"+"#: messages.okText #"+"</button>"+"</div>"}});a.spreadsheet.dialogs.register("importError",A);var B=k.extend({init:function(c){var e=a.spreadsheet.messages.dialogs.useKeyboardDialog||d;f.fn.init.call(this,b.extend({title:e.title},c))},options:{template:"#: messages.useKeyboardDialog.errorMessage #"+"<div>Ctrl+C #: messages.useKeyboardDialog.labels.forCopy #</div>"+"<div>Ctrl+X #: messages.useKeyboardDialog.labels.forCut #</div>"+"<div>Ctrl+V #: messages.useKeyboardDialog.labels.forPaste #</div>"+'<div class="k-action-buttons">'+"<button class='k-button k-primary' data-bind='click: close'>"+"#= messages.okText #"+"</button>"+"</div>"}});a.spreadsheet.dialogs.register("useKeyboard",B);var C=f.extend({options:{template:"<div class='k-edit-label'><label>#: messages.linkDialog.labels.url #:</label></div>"+"<div class='k-edit-field'><input class='k-textbox' data-bind='value: url' title='#: messages.linkDialog.labels.url #' /></div>"+"<div class='k-action-buttons'>"+("<button class='k-button k-left' data-bind='click: remove'>#= messages.linkDialog.labels.removeLink #</button>"+"<button class='k-button k-primary' data-bind='click: apply'>#= messages.okText #</button>"+"<button class='k-button' data-bind='click: cancel'>#= messages.cancel #</button>")+"</div>",title:d.linkDialog.title,autoFocus:false},open:function(c){var d=this;f.fn.open.apply(d,arguments);var e=d.dialog().element;var g=a.observable({url:c.link(),apply:function(){if(!/\S/.test(g.url)){g.url=null}d.trigger("action",{command:"HyperlinkCommand",options:{link:g.url}});d.close()},remove:function(){g.url=null;g.apply()},cancel:d.close.bind(d)});a.bind(e,g);e.find("input").focus().on("keydown",function(a){if(a.keyCode==13){g.url=b(this).val();a.stopPropagation();a.preventDefault();g.apply()}else if(a.keyCode==27){a.stopPropagation();a.preventDefault();g.cancel()}})}});a.spreadsheet.dialogs.register("hyperlink",C)})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/sheetbinder",["kendo.core","kendo.data","spreadsheet/sheet"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=function(a){return a};var c=a.Class.extend({init:function(b){this.options=a.jQuery.extend({},this.options,b);this.columns=this._normalizeColumns(this.options.columns);this._sheet();this._dataSource();this._header();this._boundRowsCount=0;this.dataSource.fetch()},_sheet:function(){this.sheet=this.options.sheet;this._sheetChangeHandler=this._sheetChange.bind(this);this._sheetDeleteRowHandler=this._sheetDeleteRow.bind(this);this._sheetInsertRowHandler=this._sheetInsertRow.bind(this);this.sheet.bind("change",this._sheetChangeHandler).bind("afterDeleteRow",this._sheetDeleteRowHandler).bind("afterInsertRow",this._sheetInsertRowHandler)},_sheetInsertRow:function(a){if(a.index!==undefined){this.dataSource.insert(Math.max(a.index-1,0),{})}},_sheetDeleteRow:function(a){if(a.index!==undefined){var b=this.dataSource;var c=b.view()[a.index-1];if(c){b.remove(c)}}},_header:function(){this.sheet.batch(function(){this.columns.forEach(function(a,b){this.sheet.range(0,b).value(a.title)}.bind(this))}.bind(this))},_sheetChange:function(c){if(c.insertRow||c.deleteRow){return}if(c.recalc&&c.ref){var d=this.dataSource;var e=d.view();var f=this.columns;var g;if(d.reader.model){g=d.reader.model.fields}if(!f.length&&e.length){f=Object.keys(e[0].toJSON())}var h=f.map(function(c){var d=c.field;if(d&&g&&g[d]&&g[d].type=="date"){return a.spreadsheet.numberToDate}return b});this._skipRebind=true;var i=this.sheet._grid.normalize(c.ref);var j=this.sheet.range(i).values();i.forEach(function(a){a=a.toRangeRef();var b;var c=0;for(var g=a.topLeft.row;g<=a.bottomRight.row;g++){b=e[g-1];if(!b){b=d.insert(g-1,{});e=d.view()}var i=0;for(var k=a.topLeft.col;k<=a.bottomRight.col&&k<f.length;k++){b.set(f[k].field,h[k](j[c][i++]))}c++}});this._boundRowsCount=d.view().length;this._skipRebind=false}},_normalizeColumns:function(a){return a.map(function(a){var b=a.field||a;return{field:b,title:a.title||b}})},_dataSource:function(){var b=this.options;var c=b.dataSource;c=Array.isArray(c)?{data:c}:c;if(this.dataSource&&this._changeHandler){this.dataSource.unbind("change",this._changeHandler)}else{this._changeHandler=this._change.bind(this)}this.dataSource=a.data.DataSource.create(c).bind("change",this._changeHandler)},_change:function(){if(this._skipRebind){return}var b=this.dataSource.view();var c=this.columns;if(!c.length&&b.length){this.columns=c=this._normalizeColumns(Object.keys(b[0].toJSON()));this._header()}var d=c.map(function(b){return a.getter(b.field)});this.sheet.batch(function(){var a=Math.max(b.length,this._boundRowsCount);for(var c=0;c<a;c++){for(var e=0;e<d.length;e++){var f=b[c]?d[e](b[c]):null;this.sheet.range(c+1,e).value(f)}}}.bind(this));this._boundRowsCount=b.length},destroy:function(){this.dataSource.unbind("change",this._changeHandler);this.sheet.unbind("change",this._sheetChangeHandler).unbind("deleteRow",this._sheetDeleteRowHandler).unbind("insertRow",this._sheetInsertRowHandler)},options:{columns:[]}});a.spreadsheet.SheetDataSourceBinder=c})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/filtermenu",["kendo.core","kendo.popup","kendo.treeview","kendo.numerictextbox","kendo.datepicker","kendo.datetimepicker"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c=a.ui.Widget;var d={details:"k-details",button:"k-button",detailsSummary:"k-details-summary",detailsContent:"k-details-content",icon:"k-icon",iconCollapse:"k-i-arrow-45-down-right",iconExpand:"k-i-arrow-60-right",iconSearch:"k-i-zoom",textbox:"k-textbox",wrapper:"k-spreadsheet-filter-menu",filterByCondition:"k-spreadsheet-condition-filter",filterByValue:"k-spreadsheet-value-filter",valuesTreeViewWrapper:"k-spreadsheet-value-treeview-wrapper",actionButtons:"k-action-buttons"};var e=c.extend({init:function(d,e){c.fn.init.call(this,d,e);this.element.addClass(n.classNames.details);this._summary=this.element.find("."+n.classNames.detailsSummary).on("click",this._toggle.bind(this));var f=e.expanded?n.classNames.iconCollapse:n.classNames.iconExpand;this._icon=b("<span />",{class:n.classNames.icon+" "+f}).prependTo(this._summary);this._container=a.wrap(this._summary.next(),true);if(!e.expanded){this._container.hide()}},options:{name:"Details"},events:["toggle"],visible:function(){return this.options.expanded},toggle:function(b){var c=a.fx(this._container).expand("vertical");c.stop()[b?"reverse":"play"]();this._icon.toggleClass(n.classNames.iconExpand,b).toggleClass(n.classNames.iconCollapse,!b);this.options.expanded=!b},_toggle:function(){var a=this.visible();this.toggle(a);this.trigger("toggle",{show:a})}});var f=a.spreadsheet.messages.filterMenu={sortAscending:"Sort range A to Z",sortDescending:"Sort range Z to A",filterByValue:"Filter by value",filterByCondition:"Filter by condition",apply:"Apply",search:"Search",addToCurrent:"Add to current selection",clear:"Clear",blanks:"(Blanks)",operatorNone:"None",and:"AND",or:"OR",operators:{string:{contains:"Text contains",doesnotcontain:"Text does not contain",startswith:"Text starts with",endswith:"Text ends with",matches:"Text matches",doesnotmatch:"Text does not match"},date:{eq:"Date is",neq:"Date is not",lt:"Date is before",gt:"Date is after"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"}}};a.data.binders.spreadsheetFilterValue=a.data.Binder.extend({init:function(c,d,e){a.data.Binder.fn.init.call(this,c,d,e);this._change=b.proxy(this.change,this);b(this.element).on("change",this._change)},refresh:function(){var a=this,c=a.bindings.spreadsheetFilterValue.get();b(a.element).val(c instanceof Date?"":c)},change:function(){
var a=this.element.value;this.bindings.spreadsheetFilterValue.set(a)}});a.data.binders.widget.spreadsheetFilterValue=a.data.Binder.extend({init:function(c,d,e){a.data.Binder.fn.init.call(this,c.element[0],d,e);this.widget=c;this._change=b.proxy(this.change,this);this.widget.first("change",this._change)},refresh:function(){var a=this.bindings.spreadsheetFilterValue,c=a.get(),d=b(this.widget.element).data("filterType");if(d==="date"&&c instanceof Date||d==="number"&&!isNaN(c)){this.widget.value(c)}else{this.widget.value(null)}},change:function(){var a=this.widget.value(),b=this.bindings.spreadsheetFilterValue;b.set(a)}});var g={filterByValue:"<div class='"+d.detailsSummary+"'>#= messages.filterByValue #</div>"+"<div class='"+d.detailsContent+"'>"+"<div class='k-textbox k-space-right'>"+"<input placeholder='#= messages.search #' data-#=ns#bind='events: { input: filterValues }' />"+"<span class='k-icon k-i-zoom' />"+"</div>"+"<div data-#=ns#bind='visible: hasActiveSearch'><input class='k-checkbox' type='checkbox' data-#=ns#bind='checked: appendToSearch' id='_#=guid#' /><label class='k-checkbox-label' for='_#=guid#'>#= messages.addToCurrent #</label></div>"+"<div class='"+d.valuesTreeViewWrapper+"'>"+"<div data-#=ns#role='treeview' "+"data-#=ns#checkboxes='{ checkChildren: true }' "+"data-#=ns#bind='source: valuesDataSource, events: { check: valuesChange, select: valueSelect }' "+"/>"+"</div>"+"</div>",filterByCondition:"<div class='"+d.detailsSummary+"'>#= messages.filterByCondition #</div>"+"<div class='"+d.detailsContent+"'>"+"<div>"+"<select "+'data-#=ns#role="dropdownlist"'+'data-#=ns#bind="value: operator, source: operators, events: { change: operatorChange } "'+'data-value-primitive="false"'+'data-option-label="#=messages.operatorNone#"'+'data-height="auto"'+'data-text-field="text"'+'data-value-field="unique">'+"</select>"+"</div>"+'<div data-#=ns#bind="visible: isString">'+'<input data-filter-type="string" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" class="k-textbox" />'+"</div>"+'<div data-#=ns#bind="visible: isNumber">'+'<input data-filter-type="number" data-#=ns#role="numerictextbox" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" />'+"</div>"+'<div data-#=ns#bind="visible: isDate">'+'<input data-filter-type="date" data-#=ns#role="datepicker" data-#=ns#bind="spreadsheetFilterValue: customFilter.criteria[0].value" />'+"</div>"+"</div>",menuItem:"<li data-command='#=command#' data-dir='#=dir#'>"+"<span class='k-icon k-i-#=iconClass#'></span>#=text#"+"</li>",actionButtons:"<button data-#=ns#bind='click: apply' class='k-button k-primary'>#=messages.apply#</button>"+"<button data-#=ns#bind='click: clear' class='k-button'>#=messages.clear#</button>"};function h(a){var b={};var c=[];for(var d=0;d<a.length;d++){if(!b[a[d].value]){b[a[d].value]=a[d];c.push(a[d])}else if(!b[a[d].value].checked&&a[d].checked){b[a[d].value].checked=true}}return c}function i(b,c){var d=false;var e=b instanceof a.data.HierarchicalDataSource&&b.data();var f=this;var g=this.values;for(var h=0;h<e.length;h++){var j=e[h];var k=j.text.toString().toLowerCase();var l=c===true||c===""||k.indexOf(c)>=0;var m=i.bind(f);var n=m(j.children,c);d=d||n||l;j.hidden=!l&&!n;if(c.length||g&&!g.length){j.checked=!j.hidden}else if(g&&g.indexOf(j.text)!=-1){j.checked=true}}if(e){b.filter({field:"hidden",operator:"neq",value:true})}return d}function j(b){var c=b instanceof a.data.HierarchicalDataSource&&b.data();for(var d=0;d<c.length;d++){var e=c[d];e.checked=false;if(e.hasChildren){j(e.children)}}}var k=a.spreadsheet.FilterMenuViewModel=a.data.ObservableObject.extend({valuesChange:function(b){var c=b?b.sender.dataSource:this.valuesDataSource;var d=function(a){return a.checked};var e=function(b){return b.dataType==="date"?a.spreadsheet.dateToNumber(b.value):b.value};var f=function(a,b,c){return c.lastIndexOf(a)===b};var g=c.data();var h=g[0].children.data().toJSON();var i=h.filter(function(a){return a.dataType==="blank"});i=i.length?i[0].checked:false;h=h.filter(d).map(e);if(this.appendToSearch&&this.valueFilter&&this.valueFilter.values.length){h=h.concat(this.valueFilter.values.toJSON()).sort().filter(f)}this.set("valueFilter",{values:h,blanks:i})},valueSelect:function(a){a.preventDefault();var b=a.sender.dataItem(a.node);b.set("checked",!b.checked)},hasActiveSearch:false,appendToSearch:false,filterValues:function(a){var c=typeof a=="string"?a:b(a.target).val().toLowerCase();var d=this.valuesDataSource;this.set("hasActiveSearch",!!c);var e=i.bind(this.valueFilter);j(d);e(d,c)},reset:function(){this.set("customFilter",{logic:"and",criteria:[{operator:null,value:null}]});this.set("valueFilter",{values:[]})},operatorChange:function(a){var b=a.sender.dataItem();this.set("operatorType",b.type);if(!this.get("customFilter")){this.reset()}this.set("customFilter.criteria[0].operator",b.value)},isNone:function(){return this.get("operatorType")===undefined},isString:function(){return this.get("operatorType")==="string"},isNumber:function(){return this.get("operatorType")==="number"},isDate:function(){return this.get("operatorType")==="date"}});function l(a){var b=f.operators;var c=[];for(var d in a){if(!a.hasOwnProperty(d)){continue}for(var e in a[d]){if(!a[d].hasOwnProperty(e)){continue}c.push({text:b[d][e],value:e,unique:d+"_"+e,type:d})}}return c}var m=a.spreadsheet.FilterMenuController={valuesTree:function(a,b){return[{text:"All",expanded:true,checked:false,items:this.values(a.resize({top:1}),b)}]},values:function(b,c){var d=[];var e=f;var g=b.column(c);var i=b.sheet();g.forEachCell(function(b,c,f){var g=true;if(i.isHiddenRow(b)){g=false}var h=f.value;var j=f.dataType;var k=f.text;if(h===undefined){j="blank"}else if(f.format){j=a.spreadsheet.formatting.type(h,f.format)}else{j=typeof h}if(h!==null&&f.format){k=a.spreadsheet.formatting.text(h,f.format)}else{k=j=="blank"?e.blanks:h}if(j==="percent"||j==="currency"){j="number"}if(j==="date"){h=a.spreadsheet.numberToDate(h)}d.push({dataType:j,value:h,text:k,checked:g})});d=h(d);d.sort(function(a,b){if(a.dataType===b.dataType){return 0}if(a.dataType==="blank"||b.dataType==="blank"){return a.dataType==="blank"?-1:1}if(a.dataType==="number"||b.dataType==="number"){return a.dataType==="number"?-1:1}if(a.dataType==="date"||b.dataType==="date"){return a.dataType==="date"?-1:1}return 0});return d},filterType:function(a,b){var c=a.sheet();var d=this.filterForColumn(b,c);var e;d=d&&d.filter.toJSON();if(d&&d.filter=="custom"){var f=d.criteria[0].value;if(f instanceof Date){e="date"}else if(typeof f=="string"){e="string"}else if(typeof f=="number"){e="number"}}if(!e){var g=this.values(a.row(1),b)[0];e=g&&g.dataType;if(e=="blank"){e=null}}return e},filterForColumn:function(a,b){var c=b.filter();var d;if(c){d=c.columns.filter(function(b){return b.index===a})[0]}return d},filter:function(a,b){var c=this.filterForColumn(a,b);if(!c){return}var d=c.filter.toJSON();var e=d.filter;delete d.filter;var f={type:e,options:d};var g=d.criteria;if(g&&g.length){f.operator=g[0].operator}return f}};var n=c.extend({init:function(a,b){c.call(this,a,b);this.element.addClass(n.classNames.wrapper);this.viewModel=new k({active:"value",operator:null,operators:l(this.options.operators),clear:this.clear.bind(this),apply:this.apply.bind(this)});this._filterInit();this._popup();this._sort();this._filterByCondition();this._filterByValue();this._actionButtons()},options:{name:"FilterMenu",column:0,range:null,operators:{string:{contains:"Text contains",doesnotcontain:"Text does not contain",startswith:"Text starts with",endswith:"Text ends with",matches:"Text matches",doesnotmatch:"Text does not match"},date:{eq:"Date is",neq:"Date is not",lt:"Date is before",gt:"Date is after"},number:{eq:"Is equal to",neq:"Is not equal to",gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"}}},events:["action"],destroy:function(){c.fn.destroy.call(this);this.menu.destroy();this.valuesTreeView.destroy();this.popup.destroy()},openFor:function(a){this.popup.setOptions({anchor:a});this.popup.open()},close:function(){this.popup.close()},clear:function(){this.action({command:"ClearFilterCommand",options:{column:this.options.column}});this.viewModel.reset();this.close()},apply:function(){this._active();var a={operatingRange:this.options.range,column:this.options.column};var b;var c;if(this.viewModel.active==="value"){this.viewModel.valuesChange({sender:this.valuesTreeView});b=this.viewModel.valueFilter.toJSON();if(b.blanks||b.values&&b.values.length){a.valueFilter=b}}else if(this.viewModel.active==="custom"){c=this.viewModel.customFilter.toJSON();if(c.criteria.length&&c.criteria[0].value!==null){a.customFilter=c}}if(a.valueFilter||a.customFilter){this.action({command:"ApplyFilterCommand",options:a})}},action:function(a){this.trigger("action",b.extend({},a))},_filterInit:function(){var a=this.options.column;var b=this.options.range;var c=b.sheet();var d=m.filter(a,c);if(d){var e=m.filterType(b,a);this.viewModel.set("active",d.type);this.viewModel.set(d.type+"Filter",d.options);if(d.type=="custom"){this.viewModel.set("operator",e+"_"+d.operator);this.viewModel.set("operatorType",e)}}else{this.viewModel.reset()}},_popup:function(){this.popup=this.element.kendoPopup({copyAnchorStyles:false}).data("kendoPopup")},_sort:function(){var c=a.template(n.templates.menuItem);var d=f;var e=[{command:"sort",dir:"asc",text:d.sortAscending,iconClass:"sort-asc"},{command:"sort",dir:"desc",text:d.sortDescending,iconClass:"sort-desc"}];var g=b("<ul />",{html:a.render(c,e)}).appendTo(this.element);this.menu=g.kendoMenu({orientation:"vertical",select:function(a){var c=b(a.item).data("dir");var d=this.options.range.resize({top:1});var e={value:c,sheet:false,operatingRange:d,column:this.options.column};if(d.isSortable()){this.action({command:"SortCommand",options:e})}else{this.close()}}.bind(this)}).data("kendoMenu")},_appendTemplate:function(c,d,g,h){var i=a.template(c);var j=b("<div class='"+d+"'/>").html(i({messages:f,guid:a.guid(),ns:a.ns}));this.element.append(j);if(g){g=new e(j,{expanded:h,toggle:this._detailToggle.bind(this)})}a.bind(j,this.viewModel);return j},_detailToggle:function(a){this.element.find("[data-role=details]").not(a.sender.element).data("kendoDetails").toggle(!a.show)},_filterByCondition:function(){var a=this.viewModel.active==="custom";this._appendTemplate(n.templates.filterByCondition,n.classNames.filterByCondition,true,a)},_filterByValue:function(){var b=this.viewModel.active==="value";var c=this._appendTemplate(n.templates.filterByValue,n.classNames.filterByValue,true,b);this.valuesTreeView=c.find("[data-role=treeview]").data("kendoTreeView");var d=m.valuesTree(this.options.range,this.options.column);this.viewModel.set("valuesDataSource",new a.data.HierarchicalDataSource({data:d}))},_actionButtons:function(){this._appendTemplate(n.templates.actionButtons,n.classNames.actionButtons,false)},_active:function(){var a=this.element.find("[data-role=details]").filter(function(a,c){return b(c).data("kendoDetails").visible()});if(a.hasClass(n.classNames.filterByValue)){this.viewModel.set("active","value")}else if(a.hasClass(n.classNames.filterByCondition)){this.viewModel.set("active","custom")}}});a.spreadsheet.FilterMenu=n;b.extend(true,n,{classNames:d,templates:g})})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/editor",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.Observable.extend({init:function(b){a.Observable.fn.init.call(this);this.view=b;this.formulaBar=b.formulaBar;this._active=false;this.barInput=b.formulaBar.formulaInput;this.cellInput=b.formulaInput;this.barInput.syncWith(this.cellInput);this.cellInput.syncWith(this.barInput);this.barInput.bind("keyup",this._triggerUpdate.bind(this));this.cellInput.bind("keyup",this._triggerUpdate.bind(this));this.barInput.bind("blur",this._blur.bind(this));this.cellInput.bind("blur",this._blur.bind(this))},events:["activate","deactivate","change","update"],_blur:function(){this.deactivate()},_triggerUpdate:function(){this.trigger("update",{value:this.value()})},activeEditor:function(){var b=null;var c=a._activeElement();if(this.barElement()[0]===c){b=this.barInput}else if(this.cellElement()[0]===c){b=this.cellInput}return b},activate:function(a){this._active=true;this._rect=a.rect;this._range=a.range;this.cellInput.position(a.rect);this.cellInput.resize(a.rect);this.cellInput.tooltip(a.tooltip);this.cellInput.activeCell=this.barInput.activeCell=this._range.topLeft();this.cellInput.activeSheet=this.barInput.activeSheet=this._range._sheet;this.trigger("activate");return this},deactivate:function(a){var b=this.cellInput;if(!this._active){return}this._active=false;if(!a&&b.value()!=this._value){this.trigger("change",{value:b.value(),range:this._range})}this._rect=null;b.hide();this.trigger("deactivate")},enable:function(a){this.barInput.enable(a);this.cellInput.enable(a)},barElement:function(){return this.barInput.element},cellElement:function(){return this.cellInput.element},focus:function(a){a=a||"cell";if(a==="cell"){this.cellInput.element.focus();this.cellInput.end()}else{this.barInput.element.focus()}},isActive:function(){return this._active},isFiltered:function(){return this.barInput.popup.visible()||this.cellInput.popup.visible()},canInsertRef:function(a){var b=this.activeEditor();return b&&b.canInsertRef(a)},highlightedRefs:function(){var a=this.activeEditor();var b=[];if(a){b=a.highlightedRefs()}return b},scale:function(){this.cellInput.scale()},toggleTooltip:function(a){this.cellInput.toggleTooltip(c(this._rect,a))},value:function(a,b){if(a===undefined){return this.barInput.value()}if(a===null){a=""}this._value=a;this.barInput.value(a);this.cellInput.value(a);this.barInput.element.toggleClass("k-spreadsheet-array-formula",!!b)},insertNewline:function(){this.activeEditor().insertNewline();this.scale()},select:function(){this.activeEditor().select()}});function c(a,b){return a&&(a.top!==b.top||a.left!==b.left)}a.spreadsheet.SheetEditor=b})(kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/autofill",["spreadsheet/runtime","spreadsheet/range"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.spreadsheet;var b=a.Range;var c=a.calc.runtime;var d=c.Formula;var e="incompatibleRanges";var f="noFillDirection";var g=b.FillError=function(a){this.code=a};b.prototype._previewFillFrom=function(a,b){var c=this,d=c._sheet;if(typeof a=="string"){a=d.range(a)}var h=a._ref.toRangeRef().clone().setSheet(d.name());var j=c._ref.toRangeRef().clone().setSheet(d.name());if(h.intersects(j)){if(h.eq(j)){return null}j=j.clone();if(h.topLeft.eq(j.topLeft)){if(h.width()==j.width()){j.topLeft.row+=h.height();b=0}else if(h.height()==j.height()){j.topLeft.col+=h.width();b=1}else{throw new g(e)}}else if(h.bottomRight.eq(j.bottomRight)){if(h.width()==j.width()){j.bottomRight.row-=h.height();b=2}else if(h.height()==j.height()){j.bottomRight.col-=h.width();b=3}else{throw new g(e)}}else{throw new g(e)}return d.range(j)._previewFillFrom(a,b)}if(b==null){if(h.topLeft.col==j.topLeft.col){b=h.topLeft.row<j.topLeft.row?0:2}else if(h.topLeft.row==j.topLeft.row){b=h.topLeft.col<j.topLeft.col?1:3}else{throw new g(f)}}var k=b&1;var l=b&2;if(k&&h.height()!=j.height()||!k&&h.width()!=j.width()){throw new g(e)}var m=a._properties(),n;if(!k){m=o(m);n=j.height()}else{n=j.width()}var p=new Array(m.length);for(var q=0;q<m.length;++q){var r=m[q];var s=i(r);var t=p[q]=new Array(n);for(var u=0;u<n;++u){var v=l?-u-1:r.length+u;var w=l?r.length-u%r.length-1:u%r.length;t[l?n-u-1:u]=s(v,w)}}if(!k){p=o(p)}return{props:p,direction:b,dest:c}};b.prototype.fillFrom=function(a,b){var c=this._previewFillFrom(a,b);c.dest._properties(c.props);return c.dest};function h(a){var b=a.length;var c=(b+1)/2,d=a.reduce(function(a,b){return a+b},0)/b;var e=0,f=0;for(var g=0;g<b;g++){var h=g+1-c,i=a[g]-d;e+=h*i;f+=h*h}if(!f){return function(b){return a[b%a.length]}}var j=e/f,k=d-j*c;return function(a){return k+j*(a+1)}}function i(a){function b(a){var b=a[1]-a[0];for(var c=2;c<a.length;++c){if(a[c]-a[c-1]!=b){return null}}return b}function c(a){return a.map(function(a){return a.number})}var e=[];var f=a.map(function(a){return a.formula||a.value});k(f,function(a,d,g,i){var j,k;if(g=="number"){k=c(i);j=h(k)}else if(g=="string"||g=="formula"||g=="boolean"){j=function(a,b){return f[b]}}else if(Array.isArray(g)){if(i.length==1){j=function(a){return g[(i[0].number+a)%g.length]}}else{var l=b(c(i));if(l==null){j=function(a){return i[a%i.length].value}}else{j=function(a){var b=i[0].number+l*a;return g[b%g.length]}}}}else if(g!="null"){k=c(i);if(k.length==1){k.push(k[0]+1)}k=h(k);j=function(a,b){return f[b].replace(/^(.*\D)\d+/,"$1"+k(a,b))}}else{j=function(){return null}}var m={f:j,begin:a,end:d,len:d-a};for(var n=a;n<d;++n){e[n]=m}});return function(b,c){var g=e[c];var h=b/f.length|0;var i=b%f.length;var k=h*g.len+i-g.begin;var l=g.f(k,c);var m=j(a[c]);delete m.enable;if(l instanceof d){m.formula=l}else{m.value=l}return m}}function j(a){var b={};Object.keys(a||{}).forEach(function(c){b[c]=a[c]});return b}function k(a,b){var c=null,d=0,e=[],f;for(var g=0;g<a.length;++g){f=l(a[g]);e.push(f);if(c!=null&&f.type!==c.type){b(d,g,c.type,e.slice(d,g));d=g}c=f}b(d,g,c.type,e.slice(d,g))}function l(a){if(typeof a=="number"){return{type:"number",number:a}}if(typeof a=="string"){var b=n(a);if(b){return b}var c=/^(.*\D)(\d+)/.exec(a);if(c){a=a.replace(/^(.*\D)\d+/,"$1-######");return{type:a,match:c,number:parseFloat(c[2])}}return{type:"string"}}if(typeof a=="boolean"){return{type:"boolean"}}if(a==null){return{type:"null"}}if(a instanceof d){return{type:"formula"}}window.console.error(a);throw new Error("Cannot fill data")}function m(){var a=kendo.culture();return[a.calendars.standard.days.namesAbbr,a.calendars.standard.days.names,a.calendars.standard.months.namesAbbr,a.calendars.standard.months.names]}function n(a){var b=a.toLowerCase();var c=m();for(var d=0;d<c.length;++d){var e=c[d];for(var f=e.length;--f>=0;){var g=e[f].toLowerCase();if(g==b){return{type:e,number:f,value:a}}}}}function o(a){var b=a.length,c=a[0].length;var d=[];for(var e=0;e<c;++e){d[e]=[];for(var f=0;f<b;++f){d[e][f]=a[f][e]}}return d}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/nameeditor",["kendo.core"],a)})(function(){(function(a){if(a.support.browser.msie&&a.support.browser.version<9){return}var b=a.jQuery;var c={input:"k-spreadsheet-name-editor",list:"k-spreadsheet-name-list"};var d=a.ui.Widget.extend({init:function(d,e){a.ui.Widget.call(this,d,e);d.addClass(c.input);var f=e.messages.nameBox||"Name Box";var g=new a.data.DataSource({transport:{read:function(b){var c=[];this._workbook.forEachName(function(b){if(!b.hidden&&b.value instanceof a.spreadsheet.Ref){c.push({name:b.name})}});b.success(c)}.bind(this),cache:false}});var h=b("<input />").attr("title",f).attr("aria-label",f);this.combo=h.appendTo(d).kendoComboBox({clearButton:false,dataTextField:"name",dataValueField:"name",template:"#:data.name#<a class='k-button-delete' href='\\#'><span class='k-icon k-i-close'></span></a>",dataSource:g,autoBind:false,ignoreCase:true,change:this._on_listChange.bind(this),noDataTemplate:"<div></div>",open:function(){g.read()}}).getKendoComboBox();this.combo.input.on("keydown",this._on_keyDown.bind(this)).on("focus",this._on_focus.bind(this));this.combo.popup.element.addClass("k-spreadsheet-names-popup").on("mousemove",function(a){a.stopPropagation()}).on("click",".k-button-delete",function(a){a.preventDefault();a.stopPropagation();var c=b(a.target).closest(".k-item");c=this.combo.dataItem(c);this._deleteItem(c.name)}.bind(this))},value:function(a){if(a===undefined){return this.combo.value()}else{this.combo.value(a)}},_deleteItem:function(a){this.trigger("delete",{name:a})},_on_keyDown:function(a){switch(a.keyCode){case 27:this.combo.value(this._prevValue);this.trigger("cancel");break;case 13:this.trigger("enter");break}},_on_focus:function(){this._prevValue=this.combo.value()},_on_listChange:function(){var a=this.combo.value();if(a){this.trigger("select",{name:a})}}});a.spreadsheet.NameEditor=d})(window.kendo)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("spreadsheet/print",["kendo.pdf","spreadsheet/sheet","spreadsheet/range","spreadsheet/references","spreadsheet/numformat","util/text-metrics"],a)})(function(){"use strict";if(kendo.support.browser.msie&&kendo.support.browser.version<9){return}var a=kendo.spreadsheet;var b=a.CellRef;var c=kendo.drawing;var d=a.formatting;var e=kendo.geometry;var f=.8;function g(a,b,c,d,e){var f=0;var g=[];var h=b;var i=0;if(b&&c){c*=b}a.forEach(function(a,j){if(d!=null&&j<d){i+=a}if(b&&f+a>h){if(h-f<c){f=b*Math.ceil(f/b)+i;if(i>0){e.push(f-i)}}h+=b*Math.ceil(a/b)}g.push(f);f+=a});g.push(f);return g}function h(a,c,d){var e=a._grid;c=e.normalize(c);var f=[];var h=[];var j=[];var p=a._getMergedCells(c);var q=-1,r=-1;a.forEach(c,function(e,g,i){var k=e-c.topLeft.row;var l=g-c.topLeft.col;var n=a.rowHeight(e);var o=a.columnWidth(g);if(!l){h.push(n)}if(!k){j.push(o)}if(a.isHiddenColumn(g)||a.isHiddenRow(e)||!n||!o){return}var s=d.forScreen||m(i);if(!(d.emptyCells||s)){return}var t=new b(e,g).print();if(p.secondary[t]){return}if(s){q=Math.max(q,k);r=Math.max(r,l)}else{i.empty=true}i.row=k;i.col=l;var u=p.primary[t];if(u){delete p.primary[t];i.merged=true;i.rowspan=u.height();i.colspan=u.width();if(d.forScreen){i.width=a._columns.sum(u.topLeft.col,u.bottomRight.col);i.height=a._rows.sum(u.topLeft.row,u.bottomRight.row)}}else{i.rowspan=1;i.colspan=1}f.push(i)});h=h.slice(0,q+1);j=j.slice(0,r+1);var s=d.pageWidth;var t=d.pageHeight;var u=d.scale||1;if(d.fitWidth){var v=j.reduce(k,0);if(v>s){u=s/v}}s=Math.ceil(s/u);t=Math.ceil(t/u);var w=[];var x=g(h,t||0,d.maxEmpty,d.headerRows,w);var y=g(j,s||0,d.maxEmpty);var z=0;var A=0;var B=[];f=f.filter(function(a){if(a.empty&&(a.row>q||a.col>r)){return false}if(d.headerRows&&a.row<d.headerRows){B.push(a)}a.left=y[a.col];a.top=x[a.row];if(a.merged){if(!d.forScreen){a.right=l(y,a.col+a.colspan);a.bottom=l(x,a.row+a.rowspan);a.width=a.right-a.left;a.height=a.bottom-a.top}else{a.right=a.left+a.width;a.bottom=a.top+a.height}}else{a.width=j[a.col];a.height=h[a.row];a.bottom=a.top+a.height;a.right=a.left+a.width}z=Math.max(z,a.right);A=Math.max(A,a.bottom);return true});Object.keys(p.primary).forEach(function(b){var d=p.primary[b];a.forEach(d.topLeft.toRangeRef(),function(b,e,g){var h=b-c.topLeft.row;var i=e-c.topLeft.col;g.merged=true;g.colspan=d.width();g.rowspan=d.height();if(h<0){g.top=-a._rows.sum(b,b-h-1)}else{g.top=x[h]}if(i<0){g.left=-a._columns.sum(e,e-i-1)}else{g.left=y[i]}g.height=a._rows.sum(d.topLeft.row,d.bottomRight.row);g.width=a._columns.sum(d.topLeft.col,d.bottomRight.col);if(g.height>0&&g.width>0){g.right=g.left+g.width;g.bottom=g.top+g.height;g.row=h;g.col=i;f.push(g)}})});if(d.headerRows){w.forEach(function(a){B.forEach(function(b){b=i(b);b.top+=a;b.bottom=b.top+b.height;f.push(b)});x.push(a)});x.sort(o)}return{width:z,height:A,cells:f.sort(n),scale:u,xCoords:y,yCoords:x}}function i(a,b){if(!b){b={}}if(Object.assign){return Object.assign(b,a)}return Object.keys(a).reduce(function(b,c){b[c]=a[c];return b},b)}function j(a,b){return a.size===b.size&&a.color===b.color}function k(a,b){return a+b}function l(a,b){return b<a.length?a[b]:a[a.length-1]}function m(a){return a.value!=null||a.merged||a.background!=null||a.borderRight!=null||a.borderBottom!=null||a.validation!=null&&!a.validation.value}function n(a,b){if(a.top<b.top){return-1}else if(a.top==b.top){if(a.left<b.left){return-1}else if(a.left==b.left){return 0}else{return 1}}else{return 1}}function o(a,b){return a<b?-1:a>b?1:0}function p(a,b,d,g){var h=Math.ceil(b.width/g.pageWidth);var i=Math.ceil(b.height/g.pageHeight);var j=Math.ceil(g.pageWidth/b.scale);var k=Math.ceil(g.pageHeight/b.scale);for(var l=0;l<i;++l){for(var m=0;m<h;++m){n(l,m)}}function n(h,i){var l=i*j;var m=l+j;var n=h*k;var o=n+k;var p=0,r=0;var s=b.cells.filter(function(a){if(a.right<=l||a.left>=m||a.bottom<=n||a.top>=o){return false}p=Math.max(a.bottom,p);r=Math.max(a.right,r);return true});p=Math.min(p,o);r=Math.min(r,m);if(s.length>0){var t=new c.Group;d.append(t);var u=new c.Group;t.append(u);u.clip(c.Path.fromRect(new e.Rect([l-1,n-1],[r+1,p+1])));var v=e.Matrix.scale(b.scale,b.scale).multiplyCopy(e.Matrix.translate(-l,-n));if(g.hCenter||g.vCenter){v=v.multiplyCopy(e.Matrix.translate(g.hCenter?(m-r)/2:0,g.vCenter?(o-p)/2:0))}u.transform(v);if(g.guidelines){var x=null;b.xCoords.forEach(function(a){a=Math.min(a,r);if(a!==x&&a>=l&&a<=m){x=a;u.append((new c.Path).moveTo(a,n).lineTo(a,p).close().stroke(g.guideColor,f))}});var x=null;b.yCoords.forEach(function(a){a=Math.min(a,p);if(a!==x&&a>=n&&a<=o){x=a;u.append((new c.Path).moveTo(l,a).lineTo(r,a).close().stroke(g.guideColor,f))}})}var y=w();s.forEach(function(b){q(b,u,g);y.add(b,a)});var z=new c.Group;y.vert.forEach(function(a){a.forEach(function(a){if(!a.rendered){a.rendered=true;z.append((new c.Path).moveTo(a.x,a.top).lineTo(a.x,a.bottom).close().stroke(a.color,a.size))}})});y.horiz.forEach(function(a){a.forEach(function(a){if(!a.rendered){a.rendered=true;z.append((new c.Path).moveTo(a.left,a.y).lineTo(a.right,a.y).close().stroke(a.color,a.size))}})});u.append(z)}}}function q(a,b,g){var h=new c.Group;b.append(h);var i=new e.Rect([a.left,a.top],[a.width,a.height]);if(a.background||a.merged){var j=i;if(g.guidelines){j=i.clone();j.origin.x+=f/2+.1;j.origin.y+=f/2+.1;j.size.width-=f+.2;j.size.height-=f+.2}h.append(new c.Rect(j).fill(a.background||"#fff").stroke(null))}var k=a.value;if(k!=null){var l=typeof k=="number"?"number":null;var m=new c.Group;m.clip(c.Path.fromRect(i));h.append(m);var n;if(a.format){n=d.textAndColor(k,a.format);k=n.text;if(n.type){l=n.type}}else{k+=""}if(!a.textAlign){switch(l){case"number":case"date":case"percent":case"currency":a.textAlign="right";break;case"boolean":a.textAlign="center";break}}s(k,n&&n.color||a.color||"#000",a,m)}}var r;function s(a,b,c,d){if(!r){r=document.createElement("div");r.style.position="absolute";r.style.left="0px";r.style.top="0px";r.style.visibility="hidden";r.style.overflow="hidden";r.style.boxSizing="border-box";r.style.padding="2px 4px";r.style.lineHeight="normal";document.body.appendChild(r)}if(r.firstChild){r.removeChild(r.firstChild)}r.style.color=b;r.style.font=t(c);r.style.width=c.width+"px";r.style.textAlign=c.textAlign||"left";r.style.textDecoration=c.underline?"underline":"none";if(c.wrap){r.style.whiteSpace="pre-wrap";r.style.overflowWrap=r.style.wordWrap="break-word"}else{r.style.whiteSpace="pre";r.style.overflowWrap=r.style.wordWrap="normal"}r.appendChild(document.createTextNode(a));var f=0;switch(c.verticalAlign){case"center":f=c.height-r.offsetHeight>>1;break;case undefined:case null:case"bottom":f=c.height-r.offsetHeight;break}if(f<0){f=0}var g=kendo.drawing.drawDOM.drawText(r);g.transform(e.Matrix.translate(c.left,c.top+f));d.append(g)}function t(a){var b=[];if(a.italic){b.push("italic")}if(a.bold){b.push("bold")}b.push((a.fontSize||12)+"px");b.push(a.fontFamily||"Arial");return b.join(" ")}function u(b,d,e,f){if(e==null&&f==null){f=d;e={};d=a.SHEETREF}if(f==null){f=e;if(d instanceof a.Range||d instanceof a.Ref||typeof d=="string"){e={}}else{e=d;d=a.SHEETREF}}e=kendo.jQuery.extend({paperSize:"A4",landscape:true,margin:"1cm",guidelines:true,guideColor:"#aaa",emptyCells:true,fitWidth:false,center:false,headerRows:null,maxEmpty:.2,scale:1},e);var g=new c.Group;var i=kendo.pdf.getPaperOptions(e);g.options.set("pdf",{author:e.author,creator:e.creator,date:e.date,keywords:e.keywords,margin:i.margin,multiPage:true,paperSize:i.paperSize,subject:e.subject,title:e.title});var j=i.paperSize[0];var k=i.paperSize[1];if(i.margin){j-=i.margin.left+i.margin.right+1;k-=i.margin.top+i.margin.bottom+1}e.pageWidth=j;e.pageHeight=k;var l=h(b,b._ref(d),e);p(b,l,g,e);f(g)}a.Sheet.prototype.draw=function(a,b,c){var d=this;if(d._workbook){d.recalc(d._workbook._context,function(){u(d,a,b,c)})}else{u(d,a,b,c)}};function v(){}v.prototype={forEach:function(a){Object.keys(this).forEach(function(b){a(this[b],b,this)},this)}};function w(){var a=new v;var b=new v;function c(a,b){if(b){var c=b._properties;var f=b._grid;a.borderLeft=c.get("vBorders",f.index(a.row,a.col));a.borderRight=c.get("vBorders",f.index(a.row,a.col+a.colspan));a.borderTop=c.get("hBorders",f.index(a.row,a.col));a.borderBottom=c.get("hBorders",f.index(a.row+a.rowspan,a.col))}if(a.borderLeft){d(a.row,a.col,a.borderLeft,a.left,a.top,a.bottom)}if(a.borderRight){d(a.row,a.col+a.colspan,a.borderRight,a.right,a.top,a.bottom)}if(a.borderTop){e(a.row,a.col,a.borderTop,a.top,a.left,a.right)}if(a.borderBottom){e(a.row+a.rowspan,a.col,a.borderBottom,a.bottom,a.left,a.right)}}function d(a,c,d,e,f,g){var h=b[c]||(b[c]=new v);var i=a>0&&h[a-1];if(i&&j(i,d)){h[a]=i;i.bottom=g}else{h[a]={size:d.size,color:d.color,x:e,top:f,bottom:g}}}function e(b,c,d,e,f,g){var h=a[b]||(a[b]=new v);var i=c>0&&h[c-1];if(i&&j(i,d)){h[c]=i;i.right=g}else{h[c]={size:d.size,color:d.color,y:e,left:f,right:g}}}return{add:c,horiz:a,vert:b}}function x(a){var b=new $.Deferred;var c=b.promise();a=i(a,{dataSource:null,guidelines:true,guideColor:"#000",columns:null,headerBackground:"#999",headerColor:"#000",oddBackground:null,evenBackground:null,fontFamily:"Arial",fontSize:12,paperSize:"A4",margin:"1cm",landscape:true,fitWidth:false,scale:1,rowHeight:20,maxEmpty:1,useGridFormat:true});kendo.drawing.pdf.defineFont(kendo.drawing.drawDOM.getFontFaces(document));var d=z(a.fontFamily,a.fontSize);function e(a){if(a!=null){var b=12;for(var c=a.length;--c>=0;){b+=d(a.charAt(c))}return b}return 0}var f=a.guidelines?{size:1,color:a.guideColor}:null;function g(a){if(!f){return a}return i(a,{borderLeft:f,borderTop:f,borderRight:f,borderBottom:f})}a.dataSource.fetch(function(){var c=a.dataSource.data();if(!c.length){return b.reject("Empty dataset")}var d=a.columns.map(function(a){if(typeof a=="string"){return{title:a,field:a}}else{return a}});var f=d.map(function(a){return a.title||a.field});var h=f.map(e);var i=c.map(function(b,c){return{cells:d.map(function(d,f){var i=b[d.field];if(a.useGridFormat){if(i!=null){if(d.format){i=kendo.format(d.format,i)}else{i+=""}}h[f]=Math.max(e(i),h[f])}return g({value:i,format:a.useGridFormat?null:d.format,background:c%2?a.evenBackground:a.oddBackground})})}});i.unshift({cells:f.map(function(b){return g({value:b,background:a.headerBackground,color:a.headerColor})})});var j=new kendo.spreadsheet.Sheet(i.length+1,d.length+1,a.rowHeight,50,20,20,{fontFamily:a.fontFamily,fontSize:a.fontSize,verticalAlign:"center"});j.fromJSON({name:"Sheet1",rows:i,columns:h.map(function(a,b){return{index:b,width:a}})});j.draw({paperSize:a.paperSize,landscape:a.landscape,margin:a.margin,guidelines:false,scale:a.scale,fitWidth:a.fitWidth,maxEmpty:a.maxEmpty,headerRows:1},b.resolve.bind(b))});return c}var y={};var z=function(a,b){var c=b+":"+a;var d=y[c];if(!d){var e,f=document.createElement("div");f.style.position="fixed";f.style.left="-10000px";f.style.top="-10000px";f.style.fontFamily=a;f.style.fontSize=b+"px";f.style.whiteSpace="pre";for(var g=32;g<128;++g){e=document.createElement("span");e.appendChild(document.createTextNode(String.fromCharCode(g)));f.appendChild(e)}document.body.appendChild(f);var h={};for(g=32,e=f.firstChild;g<128&&e;++g,e=e.nextSibling){h[g]=e.offsetWidth}while(e=f.firstChild){f.removeChild(e)}d=y[c]=function(a){var b=a.charCodeAt(0);var c=h[b];if(c==null){e=document.createElement("span");e.appendChild(document.createTextNode(String.fromCharCode(b)));f.appendChild(e);c=h[b]=e.offsetWidth;f.removeChild(e)}return c}}return d};a.draw={Borders:w,doLayout:h};a.drawTabularData=x},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){
b("kendo.spreadsheet",["util/undoredostack","util/text-metrics","util/parse-xml","kendo.excel","kendo.progressbar","kendo.pdf","spreadsheet/commands","spreadsheet/formulabar","spreadsheet/formulainput","spreadsheet/eventlistener","spreadsheet/rangelist","spreadsheet/propertybag","spreadsheet/references","spreadsheet/navigator","spreadsheet/axismanager","spreadsheet/clipboard","spreadsheet/range","spreadsheet/sheet","spreadsheet/sheetsbar","spreadsheet/excel-reader","spreadsheet/workbook","spreadsheet/formulacontext","spreadsheet/controller","spreadsheet/view","spreadsheet/customeditors","spreadsheet/grid","spreadsheet/axis","spreadsheet/filter","spreadsheet/sorter","spreadsheet/runtime","spreadsheet/calc","spreadsheet/numformat","spreadsheet/runtime.functions","spreadsheet/runtime.functions.2","spreadsheet/toolbar","spreadsheet/dialogs","spreadsheet/sheetbinder","spreadsheet/filtermenu","spreadsheet/editor","spreadsheet/autofill","spreadsheet/nameeditor","spreadsheet/print"],a)})(function(){var a={id:"spreadsheet",name:"Spreadsheet",category:"web",description:"Spreadsheet component",depends:["core","binder","colorpicker","combobox","data","dom","dropdownlist","menu","ooxml","popup","sortable","tabstrip","toolbar","treeview","window","validator","excel","pdf","drawing"]};(function(a,b){if(a.support.browser.msie&&a.support.browser.version<9){return}var c=a.jQuery;var d=c.extend({F10:121,F11:122,B:66,I:73,U:85,N:78,H:72,A:65,PAGEDOWN:34,PAGEUP:33,DELETE:46,R:82},a.keys);var e=a.ui.Widget;var f=a.spreadsheet.Workbook;var g=a.spreadsheet.Controller;var h=a.spreadsheet.View;var i=".kendoSpreadsheet";var j={recalc:true,selection:true,activeCell:true,layout:true,sheetSelection:true,resize:true,editorChange:false,editorClose:false};var k={wrapper:"k-widget k-spreadsheet"};var l=a.ui.Widget.extend({init:function(a,b){e.fn.init.call(this,a,b);this.element.addClass(l.classNames.wrapper);this._view=new h(this.element,{messages:this.options.messages.view,toolbar:this.options.toolbar,sheetsbar:this.options.sheetsbar});this._workbook=new f(this.options,this._view);this._controller=new g(this._view,this._workbook);this._autoRefresh=true;this._bindWorkbookEvents();this._view.workbook(this._workbook);this._view.enableClipboard(false);this.refresh();this._view.enableClipboard(true);this._resizeHandler=function(){this.resize()}.bind(this);c(window).on("resize"+i,this._resizeHandler);this.element.on("keydown"+i,this._keyDown.bind(this))},_keyDown:function(a){var b=a.keyCode;var e=c(".k-spreadsheet-quick-access-toolbar [title=Redo]");if(b===d.F11&&a.shiftKey){this._view.sheetsbar._onAddSelect();a.preventDefault();return}else if(a.altKey&&b===d.PAGEDOWN){this._view.sheetsbar.trigger("select",{name:this._view.sheetsbar._sheets[this._view.sheetsbar._selectedIndex+1].name(),isAddButton:false})}else if(a.altKey&&b===d.PAGEUP){this._view.sheetsbar.trigger("select",{name:this._view.sheetsbar._sheets[this._view.sheetsbar._selectedIndex-1].name(),isAddButton:false})}else if(a.altKey&&b===d.DELETE){var f=function(a){var b=a.sender;if(b.isConfirmed()){this._view.sheetsbar.trigger("remove",{name:this.activeSheet()._name(),confirmation:true})}}.bind(this);this._view.sheetsbar._openDialog("confirmation",{close:f});a.preventDefault();return}else if(a.altKey&&b===d.R){this._view.sheetsbar._createEditor();a.preventDefault();return}else if(b===d.F10&&this._view.tabstrip||b===d.TAB&&!a.shiftKey&&c(document.activeElement).is(e)){this._view.tabstrip.toolbars[this._view.tabstrip.element.find("li.k-state-active").text().toLowerCase()].element.find(":not(.k-overflow-anchor):kendoFocusable:first").focus();this._view.tabstrip.toolbars[this._view.tabstrip.element.find("li.k-state-active").text().toLowerCase()].element.find(".k-toolbar-first-visible").addClass("k-state-focused");a.preventDefault();return}else if(a.ctrlKey&&b===d.B){c("[data-tool=bold]")[0].click()}else if(a.ctrlKey&&b===d.I){c("[data-tool=italic]")[0].click()}else if(a.ctrlKey&&b===d.U){c("[data-tool=underline]")[0].click()}else if(a.altKey&&b===d.H){this._view.tabstrip.select(0);a.preventDefault();return}else if(a.altKey&&b===d.N){this._view.tabstrip.select(1);a.preventDefault();return}else if(a.altKey&&b===d.A){this._view.tabstrip.select(2);a.preventDefault();return}},_resize:function(){this.refresh({layout:true})},_workbookChange:function(b){if(this._autoRefresh){this.refresh(b)}if(b.recalc&&b.ref){var c=b.range||new a.spreadsheet.Range(b.ref,this.activeSheet());this.trigger("change",{range:c})}},_workbookCut:function(a){this.trigger("cut",a)},_workbookCopy:function(a){this.trigger("copy",a)},_workbookPaste:function(a){this.trigger("paste",a)},activeSheet:function(a){return this._workbook.activeSheet(a)},moveSheetToIndex:function(a,b){return this._workbook.moveSheetToIndex(a,b)},insertSheet:function(a){return this._workbook.insertSheet(a)},sheets:function(){return this._workbook.sheets()},removeSheet:function(a){return this._workbook.removeSheet(a)},sheetByName:function(a){return this._workbook.sheetByName(a)},sheetIndex:function(a){return this._workbook.sheetIndex(a)},sheetByIndex:function(a){return this._workbook.sheetByIndex(a)},renameSheet:function(a,b){return this._workbook.renameSheet(a,b)},refresh:function(a){if(!a){a=j}if(!a.editorClose){this._view.sheet(this._workbook.activeSheet());this._controller.sheet(this._workbook.activeSheet());this._workbook.refresh(a)}if(!a.editorChange){this._view.refresh(a);this._controller.refresh();this._view.render();this.trigger("render")}return this},openDialog:function(a,b){return this._view.openDialog(a,b)},autoRefresh:function(a){if(a!==b){this._autoRefresh=a;if(a===true){this.refresh()}return this}return this._autoRefresh},toJSON:function(){return this._workbook.toJSON()},fromJSON:function(a){if(a.sheets){this._workbook.destroy();this._workbook=new f(c.extend({},this.options,a));this._bindWorkbookEvents();this._view.workbook(this._workbook);this._controller.workbook(this._workbook);this.activeSheet(this.activeSheet())}else{this.refresh()}},fromFile:function(a,b){return this._workbook.fromFile(a,b)},saveAsPDF:function(a){this._workbook.saveAsPDF(c.extend({},this.options.pdf,a,{workbook:this._workbook}))},saveAsExcel:function(a){this._workbook.saveAsExcel(a)},draw:function(a,b){this._workbook.draw(a,b)},_workbookExcelExport:function(a){if(this.trigger("excelExport",a)){a.preventDefault()}},_workbookExcelImport:function(a){if(this.trigger("excelImport",a)){a.preventDefault()}else{this._initProgress(a.promise)}},_initProgress:function(b){var d=c("<div class='k-loading-mask' "+"style='width: 100%; height: 100%; top: 0;'>"+"<div class='k-loading-color'/>"+"</div>").appendTo(this.element);var e=c("<div class='k-loading-progress'>").appendTo(d).kendoProgressBar({type:"chunk",chunkCount:10,min:0,max:1,value:0}).data("kendoProgressBar");b.progress(function(a){e.value(a.progress)}).always(function(){a.destroy(d);d.remove()})},_workbookPdfExport:function(a){if(this.trigger("pdfExport",a)){a.preventDefault()}},_workbookInsertSheet:function(a){if(this.trigger("insertSheet",a)){a.preventDefault()}},_workbookRemoveSheet:function(a){if(this.trigger("removeSheet",a)){a.preventDefault()}},_workbookSelectSheet:function(a){if(this.trigger("selectSheet",a)){a.preventDefault()}},_workbookRenameSheet:function(a){if(this.trigger("renameSheet",a)){a.preventDefault()}},_workbookInsertRow:function(a){if(this.trigger("insertRow",a)){a.preventDefault()}},_workbookInsertColumn:function(a){if(this.trigger("insertColumn",a)){a.preventDefault()}},_workbookDeleteRow:function(a){if(this.trigger("deleteRow",a)){a.preventDefault()}},_workbookDeleteColumn:function(a){if(this.trigger("deleteColumn",a)){a.preventDefault()}},_workbookHideRow:function(a){if(this.trigger("hideRow",a)){a.preventDefault()}},_workbookHideColumn:function(a){if(this.trigger("hideColumn",a)){a.preventDefault()}},_workbookUnhideRow:function(a){if(this.trigger("unhideRow",a)){a.preventDefault()}},_workbookUnhideColumn:function(a){if(this.trigger("unhideColumn",a)){a.preventDefault()}},_workbookSelect:function(a){this.trigger("select",a)},_workbookChangeFormat:function(a){this.trigger("changeFormat",a)},_bindWorkbookEvents:function(){this._workbook.bind("cut",this._workbookCut.bind(this));this._workbook.bind("copy",this._workbookCopy.bind(this));this._workbook.bind("paste",this._workbookPaste.bind(this));this._workbook.bind("change",this._workbookChange.bind(this));this._workbook.bind("excelExport",this._workbookExcelExport.bind(this));this._workbook.bind("excelImport",this._workbookExcelImport.bind(this));this._workbook.bind("pdfExport",this._workbookPdfExport.bind(this));this._workbook.bind("insertSheet",this._workbookInsertSheet.bind(this));this._workbook.bind("removeSheet",this._workbookRemoveSheet.bind(this));this._workbook.bind("selectSheet",this._workbookSelectSheet.bind(this));this._workbook.bind("renameSheet",this._workbookRenameSheet.bind(this));this._workbook.bind("insertRow",this._workbookInsertRow.bind(this));this._workbook.bind("insertColumn",this._workbookInsertColumn.bind(this));this._workbook.bind("deleteRow",this._workbookDeleteRow.bind(this));this._workbook.bind("deleteColumn",this._workbookDeleteColumn.bind(this));this._workbook.bind("hideRow",this._workbookHideRow.bind(this));this._workbook.bind("hideColumn",this._workbookHideColumn.bind(this));this._workbook.bind("unhideRow",this._workbookUnhideRow.bind(this));this._workbook.bind("unhideColumn",this._workbookUnhideColumn.bind(this));this._workbook.bind("select",this._workbookSelect.bind(this));this._workbook.bind("changeFormat",this._workbookChangeFormat.bind(this))},destroy:function(){a.ui.Widget.fn.destroy.call(this);this._workbook.destroy();this._controller.destroy();this._view.destroy();if(this._resizeHandler){c(window).off("resize"+i,this._resizeHandler)}},options:{name:"Spreadsheet",toolbar:true,sheetsbar:true,rows:200,columns:50,rowHeight:20,columnWidth:64,headerHeight:20,headerWidth:32,excel:{proxyURL:"",fileName:"Workbook.xlsx"},messages:{},pdf:{area:"workbook",fileName:"Workbook.pdf",proxyURL:"",paperSize:"a4",landscape:true,margin:null,title:null,author:null,subject:null,keywords:null,creator:"Kendo UI PDF Generator v."+a.version,date:null},defaultCellStyle:{fontFamily:"Arial",fontSize:"12"}},defineName:function(a,b,c){return this._workbook.defineName(a,b,c)},undefineName:function(a){return this._workbook.undefineName(a)},nameValue:function(a){return this._workbook.nameValue(a)},forEachName:function(a){return this._workbook.forEachName(a)},cellContextMenu:function(){return this._view.cellContextMenu},rowHeaderContextMenu:function(){return this._view.rowHeaderContextMenu},colHeaderContextMenu:function(){return this._view.colHeaderContextMenu},events:["cut","copy","paste","pdfExport","excelExport","excelImport","change","render","removeSheet","selectSheet","renameSheet","insertRow","insertColumn","deleteRow","insertSheet","deleteColumn","hideRow","hideColumn","unhideRow","unhideColumn","select","changeFormat"]});a.spreadsheet.ALL_REASONS=j;a.ui.plugin(l);c.extend(true,l,{classNames:k})})(window.kendo);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.pivot.configurator",["kendo.dom"],a)})(function(){var a={id:"pivot.configurator",name:"PivotConfigurator",category:"web",depends:["dropdownlist","treeview","pivot.fieldmenu"],hidden:true};(function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=".kendoPivotConfigurator",g="mouseenter"+f+" mouseleave"+f,h=c.template('<p class="k-reset"><span class="k-icon #=icon#"></span>${name}</p>'+'<div class="k-list-container k-reset"/>');function i(a){var b;var c=0;var d=a.length;for(;c<d;c++){if(a[c].type==2){b=true;break}}if(b){a.splice(c+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})}}function j(a){return{name:a.uniqueName,type:a.type}}function k(a){for(var b=0,c=a.length;b<c;b++){a[b].uniqueName=a[b].name;a[b].type="kpi"}return a}function l(b){var c=a(b).closest(".k-pivot-setting");if(c.length){return c.data("kendoPivotSettingTarget")}return null}var m=e.extend({init:function(a,b){e.fn.init.call(this,a,b);this.element.addClass("k-widget k-fieldselector k-alt k-edit-form-container");this._dataSource();this._layout();this.refresh();c.notify(this)},events:[],options:{name:"PivotConfigurator",filterable:false,sortable:false,messages:{measures:"Drop Data Fields Here",columns:"Drop Column Fields Here",rows:"Drop Rows Fields Here",measuresLabel:"Measures",columnsLabel:"Columns",rowsLabel:"Rows",fieldsLabel:"Fields"}},_dataSource:function(){var b=this;if(b.dataSource&&b._refreshHandler){b.dataSource.unbind("change",b._refreshHandler).unbind("error",b._errorHandler).unbind("progress",b._progressHandler)}else{b._errorHandler=a.proxy(b._error,b);b._refreshHandler=a.proxy(b.refresh,b);b._progressHandler=a.proxy(b._requestStart,b)}b.dataSource=c.data.PivotDataSource.create(b.options.dataSource);b.dataSource.bind("change",b._refreshHandler).bind("error",b._errorHandler).bind("progress",b._progressHandler)},setDataSource:function(a){this.options.dataSource=a;this._dataSource();if(this.measures){this.measures.setDataSource(a)}if(this.rows){this.rows.setDataSource(a)}if(this.columns){this.columns.setDataSource(a)}this.refresh()},_treeViewDataSource:function(){var b=this;return c.data.HierarchicalDataSource.create({schema:{model:{id:"uniqueName",hasChildren:function(a){return!("hierarchyUniqueName"in a)&&!("aggregator"in a)}}},transport:{read:function(c){var d;var e;var f;if(a.isEmptyObject(c.data)){d=b.dataSource.schemaDimensions();d.done(function(a){if(!b.dataSource.cubeBuilder){i(a)}c.success(a)}).fail(c.error)}else{e=b.treeView.dataSource.get(c.data.uniqueName);if(e.uniqueName==="[KPIs]"){f=true;d=b.dataSource.schemaKPIs();d.done(function(a){c.success(k(a))}).fail(c.error)}else if(e.type=="kpi"){f=true;c.success(o(e))}if(!f){if(e.type==2){d=b.dataSource.schemaMeasures()}else if(e.dimensionUniqueName){d=b.dataSource.schemaLevels(c.data.uniqueName)}else{d=b.dataSource.schemaHierarchies(c.data.uniqueName)}d.done(c.success).fail(c.error)}}}}})},_progress:function(a){c.ui.progress(this.element,a)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_layout:function(){this.form=a('<div class="k-columns k-state-default k-floatwrap"/>').appendTo(this.element);this._fields();this._targets()},_fields:function(){var b=a('<div class="k-state-default"><p class="k-reset"><span class="k-icon k-i-group"></span>'+this.options.messages.fieldsLabel+"</p></div>").appendTo(this.form);var c='# if (item.type == 2 || item.uniqueName == "[KPIs]") { #'+'<span class="k-icon k-i-#= (item.type == 2 ? "sum" : "kpi") #"></span>'+'# } else if (item.type && item.type !== "kpi") { #'+'<span class="k-icon k-i-arrows-dimensions"></span>'+"# } #"+"#: item.caption || item.name #";this.treeView=a("<div/>").appendTo(b).kendoTreeView({template:c,dataTextField:"caption",dragAndDrop:true,autoBind:false,dataSource:this._treeViewDataSource(),dragstart:function(a){var b=this.dataItem(a.sourceNode);if(!b.hasChildren&&!b.aggregator&&!b.measure||b.type==2||b.uniqueName==="[KPIs]"){a.preventDefault()}},drag:function(a){var b="k-i-cancel";var c=l(a.dropTarget);if(c&&c.validate(this.dataItem(a.sourceNode))){b="k-i-plus"}a.setStatusClass(b)},drop:function(a){a.preventDefault();var b=l(a.dropTarget);var c=this.dataItem(a.sourceNode);var d,e,f;var g;if(b&&b.validate(c)){g=c.defaultHierarchy||c.uniqueName;if(c.type==="kpi"){f=o(c);e=f.length;g=[];for(d=0;d<e;d++){g.push(j(f[d]))}}else if(c.kpi){g=[j(c)]}b.add(g)}}}).data("kendoTreeView")},_createTarget:function(b,d){var e='<li class="k-item k-header" data-'+c.ns+'name="${data.name}">${data.name}';var f=d.sortable;var g="";if(f){g+="#if (data.sortIcon) {#";g+='<span class="k-icon ${data.sortIcon}-sm"></span>';g+="#}#"}if(d.filterable||f){g+='<span class="k-icon k-i-more-vertical k-setting-fieldmenu"></span>'}g+='<span class="k-icon k-i-close k-setting-delete"></span>';e+='<span class="k-field-actions">'+g+"</span></li>";return new c.ui.PivotSettingTarget(b,a.extend({dataSource:this.dataSource,hint:function(b){var c=a('<div class="k-fieldselector"><ul class="k-list k-reset"></ul></div>');c.find(".k-list").append(b.clone());return c},template:e,emptyTemplate:'<li class="k-item k-empty">${data}</li>'},d))},_targets:function(){var b=a('<div class="k-state-default"/>').appendTo(this.form);var c=a(h({name:this.options.messages.columnsLabel,icon:"k-i-columns"})).appendTo(b);var d=a('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(c.last());var e=a(h({name:this.options.messages.rowsLabel,icon:"k-i-rows"})).appendTo(b);var f=a('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(e.last());var i=a(h({name:this.options.messages.measuresLabel,icon:"k-i-sum"})).appendTo(b);var j=a('<ul class="k-pivot-configurator-settings k-list k-reset" />').appendTo(i.last());var k=this.options;this.columns=this._createTarget(d,{filterable:k.filterable,sortable:k.sortable,connectWith:f,messages:{empty:k.messages.columns,fieldMenu:k.messages.fieldMenu}});this.rows=this._createTarget(f,{filterable:k.filterable,sortable:k.sortable,setting:"rows",connectWith:d,messages:{empty:this.options.messages.rows,fieldMenu:this.options.messages.fieldMenu}});this.measures=this._createTarget(j,{setting:"measures",messages:{empty:k.messages.measures}});d.add(f).add(j).on(g,".k-item:not(.k-empty)",this._toggleHover)},_toggleHover:function(b){a(b.currentTarget).toggleClass("k-state-hover",b.type==="mouseenter")},_resize:function(){var a=this.element;var b=this.options.height;var d,e;var f=c._outerHeight;if(!b){return}a.height(b);if(a.is(":visible")){e=a.children(".k-columns").children("div.k-state-default");b=a.innerHeight();d=(f(a)-b)/2;b=b-(f(e,true)-e.height())-d;e.height(b)}},refresh:function(){var a=this.dataSource;if(a.cubeBuilder||this._cube!==a.cube()||this._catalog!==a.catalog()){this.treeView.dataSource.fetch()}this._catalog=this.dataSource.catalog();this._cube=this.dataSource.cube();this._resize();this._progress(false)},destroy:function(){e.fn.destroy.call(this);this.dataSource.unbind("change",this._refreshHandler);this.form.find(".k-list").off(f);this.rows.destroy();this.columns.destroy();this.measures.destroy();this.treeView.destroy();this.element=null;this._refreshHandler=null}});function n(a,b,c){return{hierarchyUniqueName:a,uniqueName:b,caption:b,measure:b,name:b,type:c,kpi:true}}function o(a){var b=a.name;return[n(b,a.value,"value"),n(b,a.goal,"goal"),n(b,a.status,"status"),n(b,a.trend,"trend")]}d.plugin(m)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.angular",["kendo.core"],a)})(function(){var a={id:"angular",name:"AngularJS Directives",category:"framework",description:"Adds Kendo UI for AngularJS directives",depends:["core"],defer:true};(function(a,b,c){"use strict";if(!b||!b.injector){return}var d=b.module("kendo.directives",[]),e=b.injector(["ng"]),f=e.get("$parse"),g=e.get("$timeout"),h,i=e.get("$log");function j(a){var b=g;try{g=function(a){return a()};return a()}finally{g=b}}var k;var l=function(){var a={TreeList:"TreeListDataSource",TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PivotGrid:"PivotDataSource",PivotConfigurator:"PivotDataSource",PanelBar:"HierarchicalDataSource",Menu:"$PLAIN",ContextMenu:"$PLAIN"};var b=function(a,b){if(b=="$PLAIN"){return a}return kendo.data[b].create(a)};return function(c,d,e,f){var g=a[e]||"DataSource";var h=c.$eval(f);var i=b(h,g);c.$watch(f,function(a){var c=H(d);if(c&&typeof c.setDataSource=="function"){if(a!==h){var e=b(a,g);c.setDataSource(e);h=a}}});return i}}();var m={kDataSource:true,kOptions:true,kRebind:true,kNgModel:true,kNgDelay:true};var n={name:true,title:true,style:true};function o(b,d,e,f,h,i){if(!(d instanceof jQuery)){throw new Error("The Kendo UI directives require jQuery to be available before AngularJS. Please include jquery before angular in the document.")}var j=e.kNgDelay,l=b.$eval(j);i=i||[];var m=i[0],n=i[1];var o=a(d)[f];if(!o){window.console.error("Could not find: "+f);return null}var t=p(b,d,e,f,o);var u=t.options;if(t.unresolved.length){var v=[];for(var B=0,C=t.unresolved.length;B<C;B++){var D=t.unresolved[B];var E=a.Deferred(function(a){var d=b.$watch(D.path,function(b){if(b!==c){d();a.resolve()}})}).promise();v.push(E)}a.when.apply(null,v).then(H);return}if(j&&!l){var F=b.$root||b;var G=function(){var a=b.$watch(j,function(b){if(b!==c){a();d.removeAttr(e.$attr.kNgDelay);j=null;g(H)}})};if(/^\$(digest|apply)$/.test(F.$$phase)){G()}else{b.$apply(G)}return}else{return H()}function H(){var c;if(e.kRebind){c=a(a(d)[0].cloneNode(true))}u=p(b,d,e,f,o).options;if(d.is("select")){(function(b){if(b.length>0){var c=a(b[0]);if(!/\S/.test(c.text())&&/^\?/.test(c.val())){c.remove()}for(var d=0;d<b.length;d++){a(b[d]).off("$destroy")}}})(d[0].options)}var g=o.call(d,k=u).data(f);s(g,b,e,f,h);b.$emit("kendoWidgetCreated",g);var i=y(b,g);if(e.kRebind){A(g,b,d,c,e.kRebind,i,e)}if(e.kNgDisabled){var j=e.kNgDisabled;var l=b.$eval(j);if(l){g.enable(!l)}q(g,b,d,j)}if(e.kNgReadonly){var t=e.kNgReadonly;var v=b.$eval(t);if(v){g.readonly(v)}r(g,b,d,t)}if(e.kNgModel){x(g,b,e.kNgModel)}if(m){w(g,b,d,m,n)}if(g){z(g,d)}return g}}function p(d,e,f,g,h){var i=g.replace(/^kendo/,"");var j=[];var k=f.kOptions||f.options;var o=d.$eval(k);if(k&&o===c){j.push({option:"options",path:k})}var p=b.extend({},f.defaultOptions,o);function q(a,e){var f=b.copy(d.$eval(e));if(f===c){j.push({option:a,path:e})}else{p[a]=f}}var r=h.widget.prototype.options;var s=h.widget.prototype.events;a.each(f,function(a,b){if(a==="source"||a==="kDataSource"||a==="kScopeField"||a==="scopeField"){return}var c="data"+a.charAt(0).toUpperCase()+a.slice(1);if(a.indexOf("on")===0){var d=a.replace(/^on./,function(a){return a.charAt(2).toLowerCase()});if(s.indexOf(d)>-1){p[d]=b}}if(r.hasOwnProperty(c)){q(c,b)}else if(r.hasOwnProperty(a)&&!n[a]){q(a,b)}else if(!m[a]){var e=a.match(/^k(On)?([A-Z].*)/);if(e){var f=e[2].charAt(0).toLowerCase()+e[2].slice(1);if(e[1]&&a!="kOnLabel"){p[f]=b}else{if(a=="kOnLabel"){f="onLabel"}q(f,b)}}}});var t=f.kDataSource||f.source;if(t){p.dataSource=l(d,e,i,t)}p.$angular=[d];return{options:p,unresolved:j}}function q(a,b,c,d){if(kendo.ui.PanelBar&&a instanceof kendo.ui.PanelBar||kendo.ui.Menu&&a instanceof kendo.ui.Menu){i.warn("k-ng-disabled specified on a widget that does not have the enable() method: "+a.options.name);return}b.$watch(d,function(b,c){if(b!=c){a.enable(!b)}})}function r(a,b,c,d){if(typeof a.readonly!="function"){i.warn("k-ng-readonly specified on a widget that does not have the readonly() method: "+a.options.name);return}b.$watch(d,function(b,c){if(b!=c){a.readonly(b)}})}function s(a,b,c,d,e){if(c[e]){var g=f(c[e]).assign;if(g){g(b,a)}else{throw new Error(e+" attribute used but expression in it is not assignable: "+c[d])}}}function t(a){if(/checkbox|radio/i.test(a.attr("type"))){return a.prop("checked")}return a.val()}var u=/^(input|select|textarea)$/i;function v(a){return u.test(a[0].tagName)}function w(a,b,d,e,f){if(!a.value){return}var g;var h=false;if(v(d)){g=function(){return t(d)}}else{g=function(){return a.value()}}var i=function(){var d=e.$viewValue;if(d===c){d=e.$modelValue}if(d===c){d=null}h=true;setTimeout(function(){h=false;if(a){var c=b[a.element.attr("k-ng-model")];if(c){d=c}if(a.options.autoBind===false&&!a.listView.bound()){if(d){a.value(d)}}else{a.value(d)}}},0)};e.$render=i;setTimeout(function(){if(e.$render!==i){e.$render=i;e.$render()}});if(v(d)){d.on("change",function(){h=true})}var j=function(a){return function(){var c;if(h&&!d.is("select")){return}if(a&&f){c=f.$pristine}e.$setViewValue(g());if(a){e.$setPristine();if(c){f.$setPristine()}}I(b)}};a.first("change",j(false));a.first("spin",j(false));if(!(kendo.ui.AutoComplete&&a instanceof kendo.ui.AutoComplete)){a.first("dataBound",j(true))}var k=g();if(!isNaN(e.$viewValue)&&k!=e.$viewValue){if(!e.$isEmpty(e.$viewValue)){a.value(e.$viewValue)}else if(k!=null&&k!==""&&k!=e.$viewValue){e.$setViewValue(k)}}e.$setPristine()}function x(b,d,e){if(typeof b.value!="function"){i.warn("k-ng-model specified on a widget that does not have the value() method: "+b.options.name);return}var g=a(b.element).parents("ng-form, form").first();var h=kendo.getter(g.attr("name"),true)(d);var j=f(e);var k=j.assign;var l=false;var m=kendo.ui.MultiSelect&&b instanceof kendo.ui.MultiSelect||kendo.ui.RangeSlider&&b instanceof kendo.ui.RangeSlider;var n=function(a){return a&&m?a.length:0};var o=n(j(d));b.$angular_setLogicValue(j(d));var p=function(a,d){if(a===c){a=null}if(l||a==d&&n(a)==o){return}o=n(a);b.$angular_setLogicValue(a)};if(m){d.$watchCollection(e,p)}else{d.$watch(e,p)}var q=function(){l=true;if(h&&h.$pristine){h.$setDirty()}I(d,function(){k(d,b.$angular_getLogicValue());o=n(j(d))});l=false};b.first("change",q);b.first("spin",q)}function y(a,b){var c=a.$on("$destroy",function(){c();if(b){kendo.destroy(b.element);b=null}});return c}function z(b,c){if(!(window.MutationObserver&&b.wrapper)){return}var d=[].slice.call(a(c)[0].classList);var e=new MutationObserver(function(c){f();if(!b){return}c.forEach(function(c){var e=a(b.wrapper)[0];switch(c.attributeName){case"class":var f=[].slice.call(c.target.classList);f.forEach(function(a){if(d.indexOf(a)<0){e.classList.add(a);if(kendo.ui.ComboBox&&b instanceof kendo.ui.ComboBox){b.input[0].classList.add(a)}}});d.forEach(function(a){if(f.indexOf(a)<0){e.classList.remove(a);if(kendo.ui.ComboBox&&b instanceof kendo.ui.ComboBox){b.input[0].classList.remove(a)}}});d=f;break;case"disabled":if(typeof b.enable=="function"&&!b.element.attr("readonly")){b.enable(!a(c.target).attr("disabled"))}break;case"readonly":if(typeof b.readonly=="function"&&!b.element.attr("disabled")){b.readonly(!!a(c.target).attr("readonly"))}break}});g()});function f(){e.disconnect()}function g(){e.observe(a(c)[0],{attributes:true})}g();b.first("destroy",f)}function A(b,c,d,e,f,g,h){var i=c.$watch(f,function(f,j){if(!b._muteRebind&&f!==j){i();if(h._cleanUp){h._cleanUp()}var k=M[b.options.name];if(k){k.forEach(function(b){var d=c.$eval(h["k"+b]);if(d){e.append(a(d).attr(kendo.toHyphens("k"+b),""))}})}var l=a(b.wrapper)[0];var m=a(b.element)[0];var n=b.options.name==="Upload";if(n){d=a(m)}var o=d.injector().get("$compile");b._destroy();if(g){g()}b=null;if(m){if(l){l.parentNode.replaceChild(m,l)}a(d).replaceWith(e)}o(e)(c)}},true);I(c)}function B(a,b){return function(c,d){return a.call(b,c,d)}}function C(a,b){this[a]=kendo.stringify(b)}d.factory("directiveFactory",["$compile",function(b){var c;var d=false;h=b;var e=function(b,e){return{restrict:"AC",require:["?ngModel","^?form"],scope:false,controller:["$scope","$attrs","$element",function(a,b){this.template=B(C,b);b._cleanUp=B(function(){this.template=null;b._cleanUp=null},this)}],link:function(f,g,h,i){var j=a(g);var k=b.replace(/([A-Z])/g,"-$1");j.attr(k,j.attr("data-"+k));j[0].removeAttribute("data-"+k);var l=o(f,g,h,b,e,i);if(!l){return}if(c){clearTimeout(c)}c=setTimeout(function(){f.$emit("kendoRendered");if(!d){d=true;a("form").each(function(){var b=a(this).controller("form");if(b){b.$setPristine()}})}})}}};return{create:e}}]);var D={Editor:"textarea",NumericTextBox:"input",DatePicker:"input",DateTimePicker:"input",TimePicker:"input",AutoComplete:"input",ColorPicker:"input",MaskedTextBox:"input",MultiSelect:"input",Upload:"input",Validator:"form",Button:"button",MobileButton:"a",MobileBackButton:"a",MobileDetailButton:"a",ListView:"ul",MobileListView:"ul",PanelBar:"ul",TreeView:"ul",Menu:"ul",ContextMenu:"ul",ActionSheet:"ul"};var E=["MobileView","MobileDrawer","MobileLayout","MobileSplitView","MobilePane","MobileModalView"];var F=["MobileApplication","MobileView","MobileModalView","MobileLayout","MobileActionSheet","MobileDrawer","MobileSplitView","MobilePane","MobileScrollView","MobilePopOver"];b.forEach(["MobileNavBar","MobileButton","MobileBackButton","MobileDetailButton","MobileTabStrip","MobileScrollView","MobileScroller"],function(a){F.push(a);a="kendo"+a;d.directive(a,function(){return{restrict:"A",link:function(b,c,d){o(b,c,d,a,a)}}})});function G(a,c){function e(a,b){d.directive(a,["directiveFactory",function(c){return c.create(b,a)}])}var f=c?"Mobile":"";f+=a.fn.options.name;var g=f;var h="kendo"+f.charAt(0)+f.substr(1).toLowerCase();f="kendo"+f;var i=f.replace(/([A-Z])/g,"-$1");if(E.indexOf(f.replace("kendo",""))==-1){var j=f===h?[f]:[f,h];b.forEach(j,function(a){d.directive(a,function(){return{restrict:"E",replace:true,template:function(a,b){var c=D[g]||"div";var d=b.kScopeField||b.scopeField;return"<"+c+" "+i+(d?'="'+d+'"':"")+">"+a.html()+"</"+c+">"}}})})}if(F.indexOf(f.replace("kendo",""))>-1){return}e(f,f);if(h!=f){e(h,f)}}function H(b){b=a(b);return kendo.widgetInstance(b,kendo.ui)||kendo.widgetInstance(b,kendo.mobile.ui)||kendo.widgetInstance(b,kendo.dataviz.ui)}function I(a,b){var c=a.$root||a;var d=/^\$(digest|apply)$/.test(c.$$phase);if(b){if(d){b()}else{c.$apply(b)}}else if(!d){c.$digest()}}function J(b,c){b.$destroy();if(c){a(c).removeData("$scope").removeData("$$kendoScope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}}var K=[];function L(c,d,e){if(a.isArray(c)){return b.forEach(c,function(a){L(a,d,e)})}if(typeof c=="string"){var f=c.split(".");var g=kendo;while(g&&f.length>0){g=g[f.shift()]}if(!g){K.push([c,d,e]);return false}c=g.prototype}var h=c[d];c[d]=function(){var a=this,b=arguments;return e.apply({self:a,next:function(){return h.apply(a,arguments.length>0?arguments:b)}},b)};return true}kendo.onWidgetRegistered(function(b){K=a.grep(K,function(a){return!L.apply(null,a)});G(b.widget,b.prefix=="Mobile")});L(["ui.Widget","mobile.ui.Widget"],"angular",function(d,e){var f=this.self;if(d=="init"){if(!e&&k){e=k}k=null;if(e&&e.$angular){f.$angular_scope=e.$angular[0];f.$angular_init(f.element,e)}return}var g=f.$angular_scope;if(g){j(function(){var i=e(),j=i.elements,k=i.data;if(j.length>0){switch(d){case"cleanup":b.forEach(j,function(b){var c=a(b).data("$$kendoScope");if(c&&c!==g&&c.$$kendoScope){J(c,b)}});break;case"compile":var l=f.element.injector();var m=l?l.get("$compile"):h;b.forEach(j,function(b,d){var e;if(i.scopeFrom){e=i.scopeFrom}else{var f=k&&k[d];if(f!==c){e=a.extend(g.$new(),f);e.$$kendoScope=true}else{e=g}}a(b).data("$$kendoScope",e);m(b)(e)});I(g);break}}})}});L("ui.Widget","$angular_getLogicValue",function(){return this.self.value()});L("ui.Widget","$angular_setLogicValue",function(a){this.self.value(a)});L("ui.Select","$angular_getLogicValue",function(){var a=this.self.dataItem(),b=this.self.options.dataValueField;if(a){if(this.self.options.valuePrimitive){if(!!b){return a[b]}else{return a}}else{return a.toJSON()}}else{return null}});L("ui.Select","$angular_setLogicValue",function(a){var b=this.self;var d=b.options;var e=d.dataValueField;var f=d.text||"";if(a===c){a=""}if(e&&!d.valuePrimitive&&a){f=a[d.dataTextField]||"";a=a[e||d.dataTextField]}if(b.options.autoBind===false&&!b.listView.bound()){if(!f&&a&&d.valuePrimitive){b.value(a)}else{b._preselect(a,f)}}else{b.value(a)}});L("ui.MultiSelect","$angular_getLogicValue",function(){var b=this.self.dataItems().slice(0);var c=this.self.options.dataValueField;if(c&&this.self.options.valuePrimitive){b=a.map(b,function(a){return a[c]})}return b});L("ui.MultiSelect","$angular_setLogicValue",function(b){if(b==null){b=[]}var c=this.self;var d=c.options;var e=d.dataValueField;var f=b;if(e&&!d.valuePrimitive){b=a.map(b,function(a){return a[e]})}if(d.autoBind===false&&!d.valuePrimitive&&!c.listView.bound()){c._preselect(f,b)}else{c.value(b)}});L("ui.Widget","$angular_init",function(b,c){var d=this.self;if(c&&!a.isArray(c)){var e=d.$angular_scope;for(var f=d.events.length;--f>=0;){var g=d.events[f];var h=c[g];if(h&&typeof h=="string"){c[g]=d.$angular_makeEventHandler(g,e,h)}}}});L("ui.Widget","$angular_makeEventHandler",function(a,b,c){c=f(c);return function(a){
I(b,function(){c(b,{kendoEvent:a})})}});L(["ui.Grid","ui.ListView","ui.TreeView","ui.PanelBar"],"$angular_makeEventHandler",function(a,c,d){if(a!="change"){return this.next()}d=f(d);return function(a){var e=a.sender;var f=e.options;var g,h,i={kendoEvent:a},j,k,l,m;if(b.isString(f.selectable)){g=f.selectable.indexOf("cell")!==-1;h=f.selectable.indexOf("multiple")!==-1}if(e._checkBoxSelection){h=true}j=i.selected=this.select();k=i.data=[];l=i.columns=[];for(var n=0;n<j.length;n++){var o=g?j[n].parentNode:j[n];var p=e.dataItem(o);if(g){if(b.element.inArray(p,k)<0){k.push(p)}m=b.element(j[n]).index();if(b.element.inArray(m,l)<0){l.push(m)}}else{k.push(p)}}if(!h){i.dataItem=i.data=k[0];i.angularDataItem=kendo.proxyModelSetters(i.dataItem);i.selected=j[0]}I(c,function(){d(c,i)})}});L("ui.Grid","$angular_init",function(d,e){this.next();if(e.columns){var f=a.extend({},kendo.Template,e.templateSettings);b.forEach(e.columns,function(a){if(a.field&&!a.template&&!a.format&&!a.values&&(a.encoded===c||a.encoded)){a.template="<span ng-bind='"+kendo.expr(a.field,"dataItem")+"'>#: "+kendo.expr(a.field,f.paramName)+"#</span>"}})}});{L("mobile.ui.ButtonGroup","value",function(a){var b=this.self;if(a!=null){b.select(b.element.children("li.km-button").eq(a));b.trigger("change");b.trigger("select",{index:b.selectedIndex})}return b.selectedIndex});L("mobile.ui.ButtonGroup","_select",function(){this.next();this.self.trigger("change")})}d.directive("kendoMobileApplication",function(){return{terminal:true,link:function(a,b,c){o(a,b,c,"kendoMobileApplication","kendoMobileApplication")}}}).directive("kendoMobileView",function(){return{scope:true,link:{pre:function(a,b,c){c.defaultOptions=a.viewOptions;c._instance=o(a,b,c,"kendoMobileView","kendoMobileView")},post:function(a,b,c){c._instance._layout();c._instance._scroller()}}}}).directive("kendoMobileDrawer",function(){return{scope:true,link:{pre:function(a,b,c){c.defaultOptions=a.viewOptions;c._instance=o(a,b,c,"kendoMobileDrawer","kendoMobileDrawer")},post:function(a,b,c){c._instance._layout();c._instance._scroller()}}}}).directive("kendoMobileModalView",function(){return{scope:true,link:{pre:function(a,b,c){c.defaultOptions=a.viewOptions;c._instance=o(a,b,c,"kendoMobileModalView","kendoMobileModalView")},post:function(a,b,c){c._instance._layout();c._instance._scroller()}}}}).directive("kendoMobileSplitView",function(){return{terminal:true,link:{pre:function(a,b,c){c.defaultOptions=a.viewOptions;c._instance=o(a,b,c,"kendoMobileSplitView","kendoMobileSplitView")},post:function(a,b,c){c._instance._layout()}}}}).directive("kendoMobilePane",function(){return{terminal:true,link:{pre:function(a,b,c){c.defaultOptions=a.viewOptions;o(a,b,c,"kendoMobilePane","kendoMobilePane")}}}}).directive("kendoMobileLayout",function(){return{link:{pre:function(a,b,c){o(a,b,c,"kendoMobileLayout","kendoMobileLayout")}}}}).directive("kendoMobileActionSheet",function(){return{restrict:"A",link:function(b,c,d){c.find("a[k-action]").each(function(){a(this).attr("data-"+kendo.ns+"action",a(this).attr("k-action"))});o(b,c,d,"kendoMobileActionSheet","kendoMobileActionSheet")}}}).directive("kendoMobilePopOver",function(){return{terminal:true,link:{pre:function(a,b,c){c.defaultOptions=a.viewOptions;o(a,b,c,"kendoMobilePopOver","kendoMobilePopOver")}}}}).directive("kendoViewTitle",function(){return{restrict:"E",replace:true,template:function(a){return"<span data-"+kendo.ns+"role='view-title'>"+a.html()+"</span>"}}}).directive("kendoMobileHeader",function(){return{restrict:"E",link:function(a,b){b.addClass("km-header").attr("data-role","header")}}}).directive("kendoMobileFooter",function(){return{restrict:"E",link:function(a,b){b.addClass("km-footer").attr("data-role","footer")}}}).directive("kendoMobileScrollViewPage",function(){return{restrict:"E",replace:true,template:function(a){return"<div data-"+kendo.ns+"role='page'>"+a.html()+"</div>"}}});b.forEach(["align","icon","rel","transition","actionsheetContext"],function(a){var b="k"+a.slice(0,1).toUpperCase()+a.slice(1);d.directive(b,function(){return{restrict:"A",priority:2,link:function(c,d,e){d.attr(kendo.attr(kendo.toHyphens(a)),c.$eval(e[b]))}}})});var M={TreeMap:["Template"],MobileListView:["HeaderTemplate","Template"],MobileScrollView:["EmptyTemplate","Template"],Grid:["AltRowTemplate","DetailTemplate","RowTemplate"],ListView:["EditTemplate","Template","AltTemplate"],Pager:["SelectTemplate","LinkTemplate"],PivotGrid:["ColumnHeaderTemplate","DataCellTemplate","RowHeaderTemplate"],Scheduler:["AllDayEventTemplate","DateHeaderTemplate","EventTemplate","MajorTimeHeaderTemplate","MinorTimeHeaderTemplate"],PanelBar:["Template"],TreeView:["Template"],Validator:["ErrorTemplate"]};(function(){var a={};b.forEach(M,function(c,d){b.forEach(c,function(b){if(!a[b]){a[b]=[]}a[b].push("?^^kendo"+d)})});b.forEach(a,function(a,b){var c="k"+b;var e=kendo.toHyphens(c);d.directive(c,function(){return{restrict:"A",require:a,terminal:true,compile:function(b,d){if(d[c]!==""){return}b.removeAttr(e);var f=b[0].outerHTML;return function(b,d,g,h){var j;while(!j&&h.length){j=h.shift()}if(!j){i.warn(e+" without a matching parent widget found. It can be one of the following: "+a.join(", "))}else{j.template(c,f);d.remove()}}}}})})})()})(window.kendo.jQuery,window.angular);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.web",["kendo.core","kendo.router","kendo.view","kendo.fx","kendo.dom","kendo.data.odata","kendo.data.xml","kendo.data","kendo.ooxml","kendo.excel","kendo.data.signalr","kendo.binder","kendo.drawing","kendo.validator","kendo.userevents","kendo.draganddrop","kendo.mobile.scroller","kendo.groupable","kendo.reorderable","kendo.resizable","kendo.sortable","kendo.selectable","kendo.chat","kendo.button","kendo.buttongroup","kendo.pager","kendo.popup","kendo.notification","kendo.tooltip","kendo.list","kendo.calendar","kendo.datepicker","kendo.dateinput","kendo.autocomplete","kendo.dropdownlist","kendo.dropdowntree","kendo.combobox","kendo.multiselect","kendo.colorpicker","kendo.columnmenu","kendo.columnsorter","kendo.grid","kendo.listview","kendo.listbox","kendo.filebrowser","kendo.imagebrowser","kendo.editor","kendo.numerictextbox","kendo.maskedtextbox","kendo.mediaplayer","kendo.menu","kendo.editable","kendo.pivot.fieldmenu","kendo.filtercell","kendo.panelbar","kendo.progressbar","kendo.responsivepanel","kendo.tabstrip","kendo.timepicker","kendo.toolbar","kendo.datetimepicker","kendo.treeview.draganddrop","kendo.treeview","kendo.slider","kendo.splitter","kendo.upload","kendo.dialog","kendo.window","kendo.virtuallist","kendo.scheduler.view","kendo.scheduler.dayview","kendo.scheduler.agendaview","kendo.scheduler.monthview","kendo.scheduler.recurrence","kendo.scheduler","kendo.gantt.list","kendo.gantt.timeline","kendo.gantt","kendo.treelist","kendo.pivotgrid","kendo.spreadsheet","kendo.pivot.configurator","kendo.angular"],a)})(function(){"bundle all";return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/core/kendo-core",["kendo.core","kendo.drawing"],a)})(function(){(function(a){window.kendo.dataviz=window.kendo.dataviz||{};var b=kendo.drawing;var c=b.util;var d=b.Path;var e=b.Group;var f=kendo.Class;var g=kendo.geometry;var h=g.Rect;var i=g.Circle;var j=g.transform;var k=g.Segment;var l=kendo.dataviz;var m=kendo.deepExtend;var n=kendo.isFunction;var o=kendo.getter;var p="x";var q="y";var r="top";var s="bottom";var t="left";var u="right";var v="center";var w="width";var x="height";var y=3;var z=Number.MAX_VALUE;var A=-Number.MAX_VALUE;var B=600;var C=400;var D="#fff";var E="#000";var F="12px sans-serif";var G=10;var H="axisLabelClick";var I="noteClick";var J="noteHover";var K="outside";var L="none";var M="circle";var N="triangle";var O="cross";var P="arc";var Q="inside";var R="value";var S="string";var T="object";var U="date";var V=/\{\d+:?/;var W=100;var X={X:p,Y:q,WIDTH:w,HEIGHT:x,DEFAULT_HEIGHT:C,DEFAULT_WIDTH:B,TOP:r,LEFT:t,BOTTOM:s,RIGHT:u,CENTER:v,COORD_PRECISION:y,DEFAULT_PRECISION:G,CIRCLE:M,TRIANGLE:N,CROSS:O,MAX_VALUE:z,MIN_VALUE:A,WHITE:D,BLACK:E,DEFAULT_FONT:F,AXIS_LABEL_CLICK:H,OUTSIDE:K,INSIDE:Q,NONE:L,NOTE_CLICK:I,NOTE_HOVER:J,VALUE:R,STRING:S,OBJECT:T,DATE:U,ARC:P,FORMAT_REGEX:V,HIGHLIGHT_ZINDEX:W};function Y(a){return Array.isArray(a)}function Z(a,b){var c=Y(b)?b:[b];for(var d=0;d<c.length;d++){var e=c[d];if(a.className.indexOf(e)===-1){a.className+=" "+e}}}var $=/\s+/g;function _(a,b){if(a&&a.className){a.className=a.className.replace(b,"").replace($," ")}}function aa(a){var b=.5;if(a.options.stroke&&kendo.drawing.util.defined(a.options.stroke.width)){if(a.options.stroke.width%2===0){b=0}}for(var c=0;c<a.segments.length;c++){a.segments[c].anchor().round(0).translate(b,b)}return a}function ba(a,b){return-a.x*b.y+a.y*b.x<0}function ca(a){return typeof a==="number"&&!isNaN(a)}function da(a){return typeof a===S}function ea(a){return ca(a)||da(a)&&isFinite(a)}function fa(a){return typeof a==="object"}function ga(a){if(ca(a)){return a+"px"}return a}var ha=/width|height|top|left|bottom|right/i;function ia(a){return ha.test(a)}function ja(a,b){var c=da(b)?[b]:b;if(Y(c)){var d={};var e=window.getComputedStyle(a);for(var f=0;f<c.length;f++){var g=c[f];d[g]=ia(g)?parseFloat(e[g]):e[g]}return d}else if(fa(b)){for(var h in b){a.style[h]=ga(b[h])}}}function ka(a,b){if(b===void 0){b=0}var c={top:0,right:0,bottom:0,left:0};if(typeof a==="number"){c[r]=c[u]=c[s]=c[t]=a}else{c[r]=a[r]||b;c[u]=a[u]||b;c[s]=a[s]||b;c[t]=a[t]||b}return c}var la={format:function(a,b){return b},toString:function(a){return a},parseDate:function(a){return new Date(a)}};var ma=la;var na=f.extend({});na.register=function(a){ma=a};if(Object.defineProperties){Object.defineProperties(na,{implementation:{get:function(){return ma}}})}var oa=/\{(\d+)(:[^\}]+)?\}/g;var pa=f.extend({init:function(a){this._intlService=a},auto:function(a){var b=[],c=arguments.length-1;while(c-- >0)b[c]=arguments[c+1];var d=this.intlService;if(da(a)&&a.match(V)){return d.format.apply(d,[a].concat(b))}return d.toString(b[0],a)},localeAuto:function(a,b,c){var d=this.intlService;var e;if(da(a)&&a.match(V)){e=a.replace(oa,function(a,e,f){var g=b[parseInt(e,10)];return d.toString(g,f?f.substring(1):"",c)})}else{e=d.toString(b[0],a,c)}return e}});if(Object.defineProperties){Object.defineProperties(pa.fn,{intlService:{get:function(){return this._intlService||na.implementation}}})}var qa=f.extend({init:function(a,b){if(b===void 0){b={}}this._intlService=b.intlService;this.sender=b.sender||a;this.format=new pa(b.intlService);this.chart=a;this.rtl=b.rtl},notify:function(a,b){this.chart.trigger(a,b)}});if(Object.defineProperties){Object.defineProperties(qa.fn,{intl:{get:function(){return this._intlService||na.implementation}}})}var ra;var sa=f.extend({});sa.register=function(a){ra=a};sa.create=function(a,b){if(ra){return ra.create(a,b)}};var ta={compile:function(a){return a}};var ua=f.extend({});ua.register=function(a){ta=a};ua.compile=function(a){return ta.compile(a)};var va={ChartService:qa,DomEventsBuilder:sa,FormatService:pa,IntlService:na,TemplateService:ua};function wa(a){if(a===void 0){a={}}var b;if(a.template){a.template=b=ua.compile(a.template)}else if(n(a.content)){b=a.content}return b}function xa(a,b){var c=a.length;var d=[];for(var e=0;e<c;e++){if(b(a[e])){d.push(a[e])}}return d}function ya(a,b){if(a.className){var c=b.split(" ");for(var d=0;d<c.length;d++){if(a.className.indexOf(c[d])!==-1){return true}}}}function za(a,b){if(b){return b.indexOf(a)!==-1}}function Aa(a,b,c){return kendo.drawing.util.round(a+(b-a)*c,y)}var Ba="trigger";var Ca=f.extend({init:function(a,b){this.observer=a;this.handlerMap=m({},this.handlerMap,b)},trigger:function(a,b){var c=this;var d=c.observer;var e=c.handlerMap;var f;if(e[a]){f=this.callObserver(e[a],b)}else if(d[Ba]){f=this.callObserver(Ba,a,b)}return f},callObserver:function(a){var b=[],c=arguments.length-1;while(c-- >0)b[c]=arguments[c+1];return this.observer[a].apply(this.observer,b)},requiresHandlers:function(a){var b=this;if(this.observer.requiresHandlers){return this.observer.requiresHandlers(a)}for(var c=0;c<a.length;c++){if(b.handlerMap[a[c]]){return true}}}});function Da(a,b){var c=a.length;var d=[];for(var e=0;e<c;e++){var f=b(a[e]);if(kendo.drawing.util.defined(f)){d.push(f)}}return d}function Ea(a){var b=0;if(a.wheelDelta){b=-a.wheelDelta/120;b=b>0?Math.ceil(b):Math.floor(b)}if(a.detail){b=kendo.drawing.util.round(a.detail/3)}return b}var Fa=kendo.drawing.util;var Ga=Fa.append;var Ha=Fa.bindEvents;var Ia=Fa.defined;var Ja=Fa.deg;var Ka=Fa.elementOffset;var La=Fa.elementSize;var Ma=Fa.eventElement;var Na=Fa.eventCoordinates;var Oa=Fa.last;var Pa=Fa.limitValue;var Qa=Fa.objectKey;var Ra=Fa.rad;var Sa=Fa.round;var Ta=Fa.unbindEvents;var Ua=Fa.valueOrDefault;var Va=f.extend({});Va.fetchFonts=function(a,b,c){if(c===void 0){c={depth:0}}var d=5;if(!a||c.depth>d||!document.fonts){return}Object.keys(a).forEach(function(d){var e=a[d];if(d==="dataSource"||d[0]==="$"||!e){return}if(d==="font"){b.push(e)}else if(typeof e==="object"){c.depth++;Va.fetchFonts(e,b,c);c.depth--}})};Va.loadFonts=function(a,b){var c=[];if(a.length>0&&document.fonts){try{c=a.map(function(a){return document.fonts.load(a)})}catch(a){kendo.logToConsole(a)}Promise.all(c).then(b,b)}else{b()}};Va.preloadFonts=function(a,b){var c=[];Va.fetchFonts(a,c);Va.loadFonts(c,b)};function Wa(a,b){var c=a.prototype;if(c.options){c.options=m({},c.options,b)}else{c.options=b}}function Xa(a){var b=z;var c=A;for(var d=0,e=a.length;d<e;d++){var f=a[d];if(f!==null&&isFinite(f)){b=Math.min(b,f);c=Math.max(c,f)}}return{min:b===z?undefined:b,max:c===A?undefined:c}}var Ya=f.extend({init:function(a,b){this.x=a||0;this.y=b||0},clone:function(){return new Ya(this.x,this.y)},equals:function(a){return a&&this.x===a.x&&this.y===a.y},rotate:function(a,b){var c=Ra(b);var d=Math.cos(c);var e=Math.sin(c);var f=a.x;var g=a.y;var h=this;var i=h.x;var j=h.y;this.x=Sa(f+(i-f)*d+(j-g)*e,y);this.y=Sa(g+(j-g)*d-(i-f)*e,y);return this},multiply:function(a){this.x*=a;this.y*=a;return this},distanceTo:function(a){var b=this.x-a.x;var c=this.y-a.y;return Math.sqrt(b*b+c*c)}});Ya.onCircle=function(a,b,c){var d=Ra(b);return new Ya(a.x-c*Math.cos(d),a.y-c*Math.sin(d))};var Za=f.extend({init:function(a,b,c,d){this.x1=a||0;this.y1=b||0;this.x2=c||0;this.y2=d||0},equals:function(a){return this.x1===a.x1&&this.x2===a.x2&&this.y1===a.y1&&this.y2===a.y2},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(a,b){this.x1+=a;this.x2+=a;this.y1+=b;this.y2+=b;return this},move:function(a,b){var c=this.height();var d=this.width();if(Ia(a)){this.x1=a;this.x2=this.x1+d}if(Ia(b)){this.y1=b;this.y2=this.y1+c}return this},wrap:function(a){this.x1=Math.min(this.x1,a.x1);this.y1=Math.min(this.y1,a.y1);this.x2=Math.max(this.x2,a.x2);this.y2=Math.max(this.y2,a.y2);return this},wrapPoint:function(a){var b=Y(a);var c=b?a[0]:a.x;var d=b?a[1]:a.y;this.wrap(new Za(c,d,c,d));return this},snapTo:function(a,b){if(b===p||!b){this.x1=a.x1;this.x2=a.x2}if(b===q||!b){this.y1=a.y1;this.y2=a.y2}return this},alignTo:function(a,b){var c=this.height();var d=this.width();var e=b===r||b===s?q:p;var f=e===q?c:d;if(b===v){var g=a.center();var h=this.center();this.x1+=g.x-h.x;this.y1+=g.y-h.y}else if(b===r||b===t){this[e+1]=a[e+1]-f}else{this[e+1]=a[e+2]}this.x2=this.x1+d;this.y2=this.y1+c;return this},shrink:function(a,b){this.x2-=a;this.y2-=b;return this},expand:function(a,b){this.shrink(-a,-b);return this},pad:function(a){var b=ka(a);this.x1-=b.left;this.x2+=b.right;this.y1-=b.top;this.y2+=b.bottom;return this},unpad:function(a){var b=ka(a);b.left=-b.left;b.top=-b.top;b.right=-b.right;b.bottom=-b.bottom;return this.pad(b)},clone:function(){return new Za(this.x1,this.y1,this.x2,this.y2)},center:function(){return new Ya(this.x1+this.width()/2,this.y1+this.height()/2)},containsPoint:function(a){return a.x>=this.x1&&a.x<=this.x2&&a.y>=this.y1&&a.y<=this.y2},points:function(){return[new Ya(this.x1,this.y1),new Ya(this.x2,this.y1),new Ya(this.x2,this.y2),new Ya(this.x1,this.y2)]},getHash:function(){return[this.x1,this.y1,this.x2,this.y2].join(",")},overlaps:function(a){return!(a.y2<this.y1||this.y2<a.y1||a.x2<this.x1||this.x2<a.x1)},rotate:function(a){var b=this.width();var c=this.height();var d=this.center();var e=d.x;var f=d.y;var g=$a(0,0,e,f,a);var h=$a(b,0,e,f,a);var i=$a(b,c,e,f,a);var j=$a(0,c,e,f,a);b=Math.max(g.x,h.x,i.x,j.x)-Math.min(g.x,h.x,i.x,j.x);c=Math.max(g.y,h.y,i.y,j.y)-Math.min(g.y,h.y,i.y,j.y);this.x2=this.x1+b;this.y2=this.y1+c;return this},toRect:function(){return new h([this.x1,this.y1],[this.width(),this.height()])},hasSize:function(){return this.width()!==0&&this.height()!==0},align:function(a,b,c){var d=b+1;var e=b+2;var f=b===p?w:x;var g=this[f]();if(za(c,[t,r])){this[d]=a[d];this[e]=this[d]+g}else if(za(c,[u,s])){this[e]=a[e];this[d]=this[e]-g}else if(c===v){this[d]=a[d]+(a[f]()-g)/2;this[e]=this[d]+g}}});function $a(a,b,c,d,e){var f=Ra(e);return new Ya(c+(a-c)*Math.cos(f)+(b-d)*Math.sin(f),d-(a-c)*Math.sin(f)+(b-d)*Math.cos(f))}var _a=f.extend({init:function(a,b,c,d,e){this.center=a;this.innerRadius=b;this.radius=c;this.startAngle=d;this.angle=e},clone:function(){return new _a(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)},middle:function(){return this.startAngle+this.angle/2},setRadius:function(a,b){if(b){this.innerRadius=a}else{this.radius=a}return this},point:function(a,b){var c=Ra(a);var d=Math.cos(c);var e=Math.sin(c);var f=b?this.innerRadius:this.radius;var g=Sa(this.center.x-d*f,y);var h=Sa(this.center.y-e*f,y);return new Ya(g,h)},adjacentBox:function(a,b,c){var d=this.clone().expand(a);var e=d.middle();var f=d.point(e);var g=b/2;var h=c/2;var i=Math.sin(Ra(e));var j=Math.cos(Ra(e));var k=f.x-g;var l=f.y-h;if(Math.abs(i)<.9){k+=g*-j/Math.abs(j)}if(Math.abs(j)<.9){l+=h*-i/Math.abs(i)}return new Za(k,l,k+b,l+c)},containsPoint:function(a){var b=this.center;var c=this.innerRadius;var d=this.radius;var e=this.startAngle;var f=this.startAngle+this.angle;var g=a.x-b.x;var h=a.y-b.y;var i=new Ya(g,h);var j=this.point(e);var k=new Ya(j.x-b.x,j.y-b.y);var l=this.point(f);var m=new Ya(l.x-b.x,l.y-b.y);var n=Sa(g*g+h*h,y);return(k.equals(i)||ba(k,i))&&!ba(m,i)&&n>=c*c&&n<=d*d},getBBox:function(){var a=this;var b=new Za(z,z,A,A);var c=Sa(this.startAngle%360);var d=Sa((c+this.angle)%360);var e=this.innerRadius;var f=[0,90,180,270,c,d].sort(ab);var g=f.indexOf(c);var h=f.indexOf(d);var i;if(c===d){i=f}else{if(g<h){i=f.slice(g,h+1)}else{i=[].concat(f.slice(0,h+1),f.slice(g,f.length))}}for(var j=0;j<i.length;j++){var k=a.point(i[j]);b.wrapPoint(k);b.wrapPoint(k,e)}if(!e){b.wrapPoint(this.center)}return b},expand:function(a){this.radius+=a;return this}});function ab(a,b){return a-b}var bb=_a.extend({init:function(a,b,c,d){_a.fn.init.call(this,a,0,b,c,d)},expand:function(a){return _a.fn.expand.call(this,a)},clone:function(){return new bb(this.center,this.radius,this.startAngle,this.angle)},setRadius:function(a){this.radius=a;return this}});var cb=.001;var db=f.extend({createRing:function(a,b){var c=a.startAngle+180;var e=a.angle+c;if(a.angle>0&&c===e){e+=cb}var f=new g.Point(a.center.x,a.center.y);var h=Math.max(a.radius,0);var i=Math.max(a.innerRadius,0);var j=new g.Arc(f,{startAngle:c,endAngle:e,radiusX:h,radiusY:h});var k=d.fromArc(j,b).close();if(i){j.radiusX=j.radiusY=i;var l=j.pointAt(e);k.lineTo(l.x,l.y);k.arc(e,c,i,i,true)}else{k.lineTo(f.x,f.y)}return k}});db.current=new db;var eb=f.extend({init:function(a){this.children=[];this.options=m({},this.options,a)},reflow:function(a){var b=this.children;var c;for(var d=0;d<b.length;d++){var e=b[d];e.reflow(a);c=c?c.wrap(e.box):e.box.clone()}this.box=c||a},destroy:function(){var a=this.children;if(this.animation){this.animation.destroy()}for(var b=0;b<a.length;b++){a[b].destroy()}},getRoot:function(){var a=this.parent;return a?a.getRoot():null},getSender:function(){var a=this.getService();if(a){return a.sender}},getService:function(){var a=this;while(a){if(a.chartService){return a.chartService}a=a.parent}},translateChildren:function(a,b){var c=this.children;var d=c.length;for(var e=0;e<d;e++){c[e].box.translate(a,b)}},append:function(){var a=arguments;var b=this;for(var c=0;c<arguments.length;c++){var d=a[c];b.children.push(d);d.parent=b}},renderVisual:function(){if(this.options.visible===false){return}this.createVisual();this.addVisual();this.renderChildren();this.createAnimation();this.renderComplete()},addVisual:function(){if(this.visual){this.visual.chartElement=this;if(this.parent){this.parent.appendVisual(this.visual)}}},renderChildren:function(){var a=this.children;var b=a.length;for(var c=0;c<b;c++){a[c].renderVisual()}},createVisual:function(){this.visual=new e({zIndex:this.options.zIndex,visible:Ua(this.options.visible,true)})},createAnimation:function(){if(this.visual){this.animation=b.Animation.create(this.visual,this.options.animation)}},appendVisual:function(a){if(!a.chartElement){a.chartElement=this}if(a.options.noclip){this.clipRoot().visual.append(a)}else if(Ia(a.options.zIndex)){this.stackRoot().stackVisual(a)}else if(this.isStackRoot){this.stackVisual(a)}else if(this.visual){this.visual.append(a)}else{this.parent.appendVisual(a)}},clipRoot:function(){if(this.parent){return this.parent.clipRoot()}return this},stackRoot:function(){if(this.parent){return this.parent.stackRoot()}return this},stackVisual:function(a){var b=a.options.zIndex||0;var c=this.visual.children;var d=c.length;var e;for(e=0;e<d;e++){var f=c[e];var g=Ua(f.options.zIndex,0);if(g>b){break}}this.visual.insert(e,a)},traverse:function(a){var b=this.children;var c=b.length;for(var d=0;d<c;d++){var e=b[d];a(e);if(e.traverse){e.traverse(a)}}},closest:function(a){var b=this;var c=false;while(b&&!c){c=a(b);if(!c){b=b.parent}}if(c){return b}},renderComplete:function(){},hasHighlight:function(){var a=(this.options||{}).highlight;return!(!this.createHighlight||a&&a.visible===false)},toggleHighlight:function(b){var c=this;var d=(this.options||{}).highlight||{};var e=d.visual;var f=this._highlight;if(!f){var g={fill:{color:D,opacity:.2},stroke:{color:D,width:1,opacity:.2}};if(e){f=this._highlight=e(a.extend(this.highlightVisualArgs(),{createVisual:function(){return c.createHighlight(g)},sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total}));if(!f){return}}else{f=this._highlight=this.createHighlight(g)}if(!Ia(f.options.zIndex)){f.options.zIndex=Ua(d.zIndex,this.options.zIndex)}this.appendVisual(f)}f.visible(b)},createGradientOverlay:function(b,c,e){var f=new d(a.extend({stroke:{color:"none"},fill:this.createGradient(e),closed:b.options.closed},c));f.segments.elements(b.segments.elements());return f},createGradient:function(a){if(this.parent){return this.parent.createGradient(a)}}});eb.prototype.options={};var fb=eb.extend({init:function(a){eb.fn.init.call(this,a);this.options.margin=ka(this.options.margin);this.options.padding=ka(this.options.padding)},reflow:function(a){var b=this;var c=this.options;var d=c.width;var e=c.height;var f=c.shrinkToFit;var g=d&&e;var h=c.margin;var i=c.padding;var j=c.border.width;var k;var l=function(){b.align(a,p,c.align);b.align(a,q,c.vAlign);b.paddingBox=k.clone().unpad(h).unpad(j)};var m=a.clone();if(g){m.x2=m.x1+d;m.y2=m.y1+e}if(f){m.unpad(h).unpad(j).unpad(i)}eb.fn.reflow.call(this,m);if(g){k=this.box=new Za(0,0,d,e)}else{k=this.box}if(f&&g){l();m=this.contentBox=this.paddingBox.clone().unpad(i)}else{m=this.contentBox=k.clone();k.pad(i).pad(j).pad(h);l()}this.translateChildren(k.x1-m.x1+h.left+j+i.left,k.y1-m.y1+h.top+j+i.top);var n=this.children;for(var o=0;o<n.length;o++){var r=n[o];r.reflow(r.box)}},align:function(a,b,c){this.box.align(a,b,c)},hasBox:function(){var a=this.options;return a.border.width||a.background},createVisual:function(){eb.fn.createVisual.call(this);var a=this.options;if(a.visible&&this.hasBox()){this.visual.append(d.fromRect(this.paddingBox.toRect(),this.visualStyle()))}},visualStyle:function(){var a=this.options;var b=a.border||{};return{stroke:{width:b.width,color:b.color,opacity:Ua(b.opacity,a.opacity),dashType:b.dashType},fill:{color:a.background,opacity:a.opacity},cursor:a.cursor}}});Wa(fb,{align:t,vAlign:r,margin:{},padding:{},border:{color:E,width:0},background:"",shrinkToFit:false,width:0,height:0,visible:true});var gb=fb.extend({init:function(a,b){fb.fn.init.call(this,a);this.pointData=b},getElement:function(){var a=this;var c=a.options;var e=a.paddingBox;var f=c.type;var g=c.rotation;var h=e.center();var k=e.width()/2;if(!c.visible||!this.hasBox()){return null}var l=this.visualStyle();var m;if(f===M){m=new b.Circle(new i([Sa(e.x1+k,y),Sa(e.y1+e.height()/2,y)],k),l)}else if(f===N){m=d.fromPoints([[e.x1+k,e.y1],[e.x1,e.y2],[e.x2,e.y2]],l).close()}else if(f===O){m=new b.MultiPath(l);m.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2);m.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1)}else{m=d.fromRect(e.toRect(),l)}if(g){m.transform(j().rotate(-g,[h.x,h.y]))}m.options.zIndex=c.zIndex;return m},createElement:function(){var a=this;var b=this.options.visual;var c=this.pointData||{};var d;if(b){d=b({value:c.value,dataItem:c.dataItem,sender:this.getSender(),series:c.series,category:c.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:function(){return a.getElement()}})}else{d=this.getElement()}return d},visualOptions:function(){var a=this.options;return{background:a.background,border:a.border,margin:a.margin,padding:a.padding,type:a.type,size:a.width,visible:a.visible}},createVisual:function(){this.visual=this.createElement()}});Wa(gb,{type:M,align:v,vAlign:v});var hb="linear";var ib="radial";var jb={glass:{type:hb,rotation:0,stops:[{offset:0,color:D,opacity:0},{offset:.25,color:D,opacity:.3},{offset:1,color:D,opacity:0}]},sharpBevel:{type:ib,stops:[{offset:0,color:D,opacity:.55},{offset:.65,color:D,opacity:0},{offset:.95,color:D,opacity:.25}]},roundedBevel:{type:ib,stops:[{offset:.33,color:D,opacity:.06},{offset:.83,color:D,opacity:.2},{offset:.95,color:D,opacity:0}]},roundedGlass:{type:ib,supportVML:false,stops:[{offset:0,color:D,opacity:0},{offset:.5,color:D,opacity:.3},{offset:.99,color:D,opacity:0}]},sharpGlass:{type:ib,supportVML:false,stops:[{offset:0,color:D,opacity:.2},{offset:.15,color:D,opacity:.15},{offset:.17,color:D,opacity:.35},{offset:.85,color:D,opacity:.05},{offset:.87,color:D,opacity:.15},{offset:.99,color:D,opacity:0}]},bubbleShadow:{type:ib,center:[.5,.5],radius:.5}};function kb(a,b){if(a.x1===b.x1&&a.y1===b.y1&&a.x2===b.x2&&a.y2===b.y2){return b}var c=Math.min(a.x1,b.x1);var d=Math.max(a.x1,b.x1);var e=Math.min(a.x2,b.x2);var f=Math.max(a.x2,b.x2);var g=Math.min(a.y1,b.y1);var h=Math.max(a.y1,b.y1);var i=Math.min(a.y2,b.y2);var j=Math.max(a.y2,b.y2);var k=[];k[0]=new Za(d,g,e,h);k[1]=new Za(c,h,d,i);k[2]=new Za(e,h,f,i);k[3]=new Za(d,i,e,j);if(a.x1===c&&a.y1===g||b.x1===c&&b.y1===g){k[4]=new Za(c,g,d,h);k[5]=new Za(e,i,f,j)}else{k[4]=new Za(e,g,f,h);k[5]=new Za(c,i,d,j)}return xa(k,function(a){return a.height()>0&&a.width()>0})[0]}var lb=eb.extend({init:function(a){eb.fn.init.call(this,a);var b=this.options;b.width=parseInt(b.width,10);b.height=parseInt(b.height,10);this.gradients={}},reflow:function(){var a=this;var b=a.options;var c=a.children;var d=new Za(0,0,b.width,b.height);this.box=d.unpad(b.margin);for(var e=0;e<c.length;e++){c[e].reflow(d);d=kb(d,c[e].box)||new Za}},createVisual:function(){this.visual=new e;this.createBackground()},createBackground:function(){var a=this.options;var b=a.border||{};var c=this.box.clone().pad(a.margin).unpad(b.width);var e=d.fromRect(c.toRect(),{stroke:{color:b.width?b.color:"",width:b.width,dashType:b.dashType},fill:{color:a.background,opacity:a.opacity},zIndex:-10});this.visual.append(e)},getRoot:function(){return this},createGradient:function(c){var d=this.gradients;var e=Qa(c);var f=jb[c.gradient];var g;if(d[e]){g=d[e]}else{var h=a.extend({},f,c);if(f.type==="linear"){g=new b.LinearGradient(h)}else{if(c.innerRadius){h.stops=mb(h)}g=new b.RadialGradient(h);g.supportVML=f.supportVML!==false}d[e]=g}return g}});Wa(lb,{width:B,height:C,background:D,border:{color:E,width:0},margin:ka(5),zIndex:-2});function mb(b){var c=b.stops;var d=b.innerRadius/b.radius*100;var e=c.length;var f=[];for(var g=0;g<e;g++){var h=a.extend({},c[g]);h.offset=(h.offset*(100-d)+d)/100;f.push(h)}return f}var nb=eb.extend({init:function(a){eb.fn.init.call(this,a);this._initDirection()},_initDirection:function(){var a=this.options;if(a.vertical){this.groupAxis=p;this.elementAxis=q;this.groupSizeField=w;this.elementSizeField=x;this.groupSpacing=a.spacing;this.elementSpacing=a.vSpacing}else{this.groupAxis=q;this.elementAxis=p;this.groupSizeField=x;this.elementSizeField=w;this.groupSpacing=a.vSpacing;this.elementSpacing=a.spacing}},reflow:function(a){this.box=a.clone();this.reflowChildren()},reflowChildren:function(){var a=this;var b=this;var c=b.box;var d=b.elementAxis;var e=b.groupAxis;var f=b.elementSizeField;var g=b.groupSizeField;var h=this.groupOptions();var i=h.groups;var j=h.groupsSize;var k=h.maxGroupElementsSize;var l=i.length;var m=c[e+1]+this.alignStart(j,c[g]());if(l){var n=m;for(var o=0;o<l;o++){var p=i[o];var q=p.groupElements;var r=c[d+1];var s=q.length;for(var t=0;t<s;t++){var u=q[t];var v=a.elementSize(u);var w=n+a.alignStart(v[g],p.groupSize);var x=new Za;x[e+1]=w;x[e+2]=w+v[g];x[d+1]=r;x[d+2]=r+v[f];u.reflow(x);r+=v[f]+a.elementSpacing}n+=p.groupSize+a.groupSpacing}c[e+1]=m;c[e+2]=m+j;c[d+2]=c[d+1]+k}},alignStart:function(a,b){var c=0;var d=this.options.align;if(d===u||d===s){c=b-a}else if(d===v){c=(b-a)/2}return c},groupOptions:function(){var a=this;var b=this;var c=b.box;var d=b.children;var e=b.elementSizeField;var f=b.groupSizeField;var g=b.elementSpacing;var h=b.groupSpacing;var i=Sa(c[e]());var j=d.length;var k=[];var l=0;var m=0;var n=0;var o=0;var p=[];for(var q=0;q<j;q++){var r=d[q];if(!r.box){r.reflow(c)}var s=a.elementSize(r);if(a.options.wrap&&Sa(m+g+s[e])>i){k.push({groupElements:p,groupSize:l,groupElementsSize:m});o=Math.max(o,m);n+=h+l;l=0;m=0;p=[]}l=Math.max(l,s[f]);if(m>0){m+=g}m+=s[e];p.push(r)}k.push({groupElements:p,groupSize:l,groupElementsSize:m});o=Math.max(o,m);n+=l;return{groups:k,groupsSize:n,maxGroupElementsSize:o}},elementSize:function(a){return{width:a.box.width(),height:a.box.height()}},createVisual:function(){}});Wa(nb,{vertical:true,wrap:true,vSpacing:0,spacing:0});var ob=b.Text;var pb=eb.extend({init:function(a,b){eb.fn.init.call(this,b);this.content=a;this.reflow(new Za)},reflow:function(a){var b=this.options;var d=b.size=c.measureText(this.content,{font:b.font});this.baseline=d.baseline;this.box=new Za(a.x1,a.y1,a.x1+d.width,a.y1+d.height)},createVisual:function(){var a=this.options;var b=a.font;var c=a.color;var d=a.opacity;var e=a.cursor;this.visual=new ob(this.content,this.box.toRect().topLeft(),{font:b,fill:{color:c,opacity:d},cursor:e})}});Wa(pb,{font:F,color:E});function qb(a){var b=a.origin;var c=a.bottomRight();return new Za(b.x,b.y,c.x,c.y)}var rb=/\n/m;var sb=fb.extend({init:function(a,b){fb.fn.init.call(this,b);this.content=a;this._initContainer();if(this.options._autoReflow!==false){this.reflow(new Za)}},_initContainer:function(){var a=this.options;var b=String(this.content).split(rb);var c=new nb({vertical:true,align:a.align,wrap:false});var d=m({},a,{opacity:1,animation:null});this.container=c;this.append(c);for(var e=0;e<b.length;e++){var f=new pb(b[e].trim(),d);c.append(f)}},reflow:function(a){var b=this.options;var c=b.visual;this.container.options.align=b.align;if(c&&!this._boxReflow){var d=a;if(!d.hasSize()){this._boxReflow=true;this.reflow(d);this._boxReflow=false;d=this.box}var e=this.visual=c(this.visualContext(d));if(e){d=qb(e.clippedBBox()||new h);e.options.zIndex=b.zIndex}this.box=this.contentBox=this.paddingBox=d}else{fb.fn.reflow.call(this,a);if(b.rotation){var f=ka(b.margin);
var g=this.box.unpad(f);this.targetBox=a;this.normalBox=g.clone();g=this.rotate();g.translate(f.left-f.right,f.top-f.bottom);this.rotatedBox=g.clone();g.pad(f)}}},createVisual:function(){var a=this.options;if(!a.visible){return}this.visual=new e({transform:this.rotationTransform(),zIndex:a.zIndex,noclip:a.noclip});if(this.hasBox()){var b=d.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(b)}},renderVisual:function(){if(this.options.visual){var a=this.visual;if(a&&!Ia(a.options.noclip)){a.options.noclip=this.options.noclip}this.addVisual();this.createAnimation()}else{fb.fn.renderVisual.call(this)}},visualOptions:function(){var a=this.options;return{background:a.background,border:a.border,color:a.color,font:a.font,margin:a.margin,padding:a.padding,visible:a.visible}},visualContext:function(a){var b=this;return{text:this.content,rect:a.toRect(),sender:this.getSender(),options:this.visualOptions(),createVisual:function(){b._boxReflow=true;b.reflow(a);b._boxReflow=false;return b.getDefaultVisual()}}},getDefaultVisual:function(){this.createVisual();this.renderChildren();var a=this.visual;delete this.visual;return a},rotate:function(){var a=this.options;this.box.rotate(a.rotation);this.align(this.targetBox,p,a.align);this.align(this.targetBox,q,a.vAlign);return this.box},rotationTransform:function(){var a=this.options.rotation;if(!a){return null}var b=this.normalBox.center();var c=b.x;var d=b.y;var e=this.rotatedBox.center();return j().translate(e.x-c,e.y-d).rotate(a,[c,d])}});var tb=eb.extend({init:function(b){eb.fn.init.call(this,b);this.append(new sb(this.options.text,a.extend({},this.options,{vAlign:this.options.position})))},reflow:function(a){eb.fn.reflow.call(this,a);this.box.snapTo(a,p)}});tb.buildTitle=function(b,c,d){var e=b;if(typeof b==="string"){e={text:b}}e=a.extend({visible:true},d,e);var f;if(e&&e.visible&&e.text){f=new tb(e);c.append(f)}return f};Wa(tb,{color:E,position:r,align:v,margin:ka(5),padding:ka(5)});var ub=sb.extend({init:function(a,b,c,d,e){sb.fn.init.call(this,b,e);this.text=b;this.value=a;this.index=c;this.dataItem=d;this.reflow(new Za)},visualContext:function(a){var b=sb.fn.visualContext.call(this,a);b.value=this.value;b.dataItem=this.dataItem;b.format=this.options.format;b.culture=this.options.culture;return b},click:function(a,b){a.trigger(H,{element:Ma(b),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})},rotate:function(){if(this.options.alignRotation!==v){var a=this.normalBox.toRect();var b=this.rotationTransform();this.box=qb(a.bbox(b.matrix()))}else{sb.fn.rotate.call(this)}return this.box},rotationTransform:function(){var a=this.options;var b=a.rotation;if(!b){return null}if(a.alignRotation===v){return sb.fn.rotationTransform.call(this)}var c=j().rotate(b).matrix();var d=this.normalBox.toRect();var e=this.targetBox.toRect();var f=a.rotationOrigin||r;var g=f===r||f===s?p:q;var i=f===r||f===s?q:p;var k=f===r||f===t?e.origin:e.bottomRight();var l=d.topLeft().transformCopy(c);var m=d.topRight().transformCopy(c);var n=d.bottomRight().transformCopy(c);var o=d.bottomLeft().transformCopy(c);var u=h.fromPoints(l,m,n,o);var w={};w[i]=e.origin[i]-u.origin[i];var x=Math.abs(l[i]+w[i]-k[i]);var y=Math.abs(m[i]+w[i]-k[i]);var z,A;if(Sa(x,G)===Sa(y,G)){z=l;A=m}else if(y<x){z=m;A=n}else{z=l;A=o}var B=z[g]+(A[g]-z[g])/2;w[g]=e.center()[g]-B;return j().translate(w.x,w.y).rotate(b)}});Wa(ub,{_autoReflow:false});var vb=7;var wb="#fff";var xb=fb.extend({init:function(a,b,c){fb.fn.init.call(this,b);this.fields=a;this.chartService=c;this.render()},hide:function(){this.options.visible=false},show:function(){this.options.visible=true},render:function(){var a=this.options;if(a.visible){var b=a.label;var c=a.icon;var d=new Za;var e=c.size;var f=this.fields.text;var g,h;if(Ia(b)&&b.visible){var i=wa(b);if(i){f=i(this.fields)}else if(b.format){f=this.chartService.format.auto(b.format,f)}if(!b.color){b.color=b.position===Q?wb:c.background}this.label=new sb(f,m({},b));if(b.position===Q&&!Ia(e)){if(c.type===M){e=Math.max(this.label.box.width(),this.label.box.height())}else{g=this.label.box.width();h=this.label.box.height()}d.wrap(this.label.box)}}c.width=g||e||vb;c.height=h||e||vb;var j=new gb(m({},c));this.marker=j;this.append(j);if(this.label){this.append(this.label)}j.reflow(new Za);this.wrapperBox=d.wrap(j.box)}},reflow:function(a){var b=this;var c=b.options;var d=b.label;var e=b.marker;var f=b.wrapperBox;var g=a.center();var h=c.line.length;var i=c.position;if(c.visible){var j,k,l;if(za(i,[t,u])){if(i===t){l=f.alignTo(a,i).translate(-h,a.center().y-f.center().y);if(c.line.visible){j=[a.x1,g.y];this.linePoints=[j,[l.x2,g.y]];k=l.clone().wrapPoint(j)}}else{l=f.alignTo(a,i).translate(h,a.center().y-f.center().y);if(c.line.visible){j=[a.x2,g.y];this.linePoints=[j,[l.x1,g.y]];k=l.clone().wrapPoint(j)}}}else{if(i===s){l=f.alignTo(a,i).translate(a.center().x-f.center().x,h);if(c.line.visible){j=[g.x,a.y2];this.linePoints=[j,[g.x,l.y1]];k=l.clone().wrapPoint(j)}}else{l=f.alignTo(a,i).translate(a.center().x-f.center().x,-h);if(c.line.visible){j=[g.x,a.y1];this.linePoints=[j,[g.x,l.y2]];k=l.clone().wrapPoint(j)}}}if(e){e.reflow(l)}if(d){d.reflow(l);if(e){if(c.label.position===K){d.box.alignTo(e.box,i)}d.reflow(d.box)}}this.contentBox=l;this.targetBox=a;this.box=k||l}},createVisual:function(){fb.fn.createVisual.call(this);this.visual.options.noclip=this.options.noclip;if(this.options.visible){this.createLine()}},renderVisual:function(){var b=this;var c=this.options;var d=c.visual;if(c.visible&&d){this.visual=d(a.extend(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:c.background,border:c.background,icon:c.icon,label:c.label,line:c.line,position:c.position,visible:c.visible},createVisual:function(){b.createVisual();b.renderChildren();var a=b.visual;delete b.visual;return a}}));this.addVisual()}else{fb.fn.renderVisual.call(this)}},createLine:function(){var a=this.options.line;if(this.linePoints){var b=d.fromPoints(this.linePoints,{stroke:{color:a.color,width:a.width,dashType:a.dashType}});aa(b);this.visual.append(b)}},click:function(a,b){var c=this.eventArgs(b);if(!a.trigger(I,c)){b.preventDefault()}},hover:function(a,b){var c=this.eventArgs(b);if(!a.trigger(J,c)){b.preventDefault()}},leave:function(a){a._unsetActivePoint()},eventArgs:function(b){var c=this.options;return a.extend(this.fields,{element:Ma(b),text:Ia(c.label)?c.label.text:"",visual:this.visual})}});Wa(xb,{icon:{visible:true,type:M},label:{position:Q,visible:true,align:v,vAlign:v},line:{visible:true},visible:true,position:r,zIndex:2});function yb(a,b){var c=a.tickX;var e=a.tickY;var f=a.position;var g=new d({stroke:{width:b.width,color:b.color}});if(a.vertical){g.moveTo(c,f).lineTo(c+b.size,f)}else{g.moveTo(f,e).lineTo(f,e+b.size)}aa(g);return g}function zb(a,b){var c=a.lineStart;var e=a.lineEnd;var f=a.position;var g=new d({stroke:{width:b.width,color:b.color,dashType:b.dashType}});if(a.vertical){g.moveTo(c,f).lineTo(e,f)}else{g.moveTo(f,c).lineTo(f,e)}aa(g);return g}var Ab=eb.extend({init:function(a,b){if(b===void 0){b=new qa}eb.fn.init.call(this,a);this.chartService=b;if(!this.options.visible){this.options=m({},this.options,{labels:{visible:false},line:{visible:false},margin:0,majorTickSize:0,minorTickSize:0})}this.options.minorTicks=m({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==L},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType});this.options.majorTicks=m({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==L},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType});if(!this.options._deferLabels){this.createLabels()}this.createTitle();this.createNotes()},labelsRange:function(){return{min:this.options.labels.skip,max:this.labelsCount()}},createLabels:function(){var a=this;var b=this.options;var c=b.vertical?u:v;var d=m({},b.labels,{align:c,zIndex:b.zIndex});var e=Math.max(1,d.step);this.children=xa(this.children,function(a){return!(a instanceof ub)});this.labels=[];if(d.visible){var f=this.labelsRange();var g=d.rotation;if(fa(g)){d.alignRotation=g.align;d.rotation=g.angle}if(d.rotation==="auto"){d.rotation=0;b.autoRotateLabels=true}for(var h=f.min;h<f.max;h+=e){var i=a.createAxisLabel(h,d);if(i){a.append(i);a.labels.push(i)}}}},lineBox:function(){var a=this;var b=a.options;var c=a.box;var d=b.vertical;var e=b.labels.mirror;var f=e?c.x1:c.x2;var g=e?c.y2:c.y1;var h=b.line.width||0;return d?new Za(f,c.y1,f,c.y2-h):new Za(c.x1,g,c.x2-h,g)},createTitle:function(){var a=this.options;var b=m({rotation:a.vertical?-90:0,text:"",zIndex:1,visualSize:true},a.title);if(b.visible&&b.text){var c=new sb(b.text,b);this.append(c);this.title=c}},createNotes:function(){var a=this;var b=this.options;var c=b.notes;var d=c.data||[];this.notes=[];for(var e=0;e<d.length;e++){var f=m({},c,d[e]);f.value=a.parseNoteValue(f.value);var g=new xb({value:f.value,text:f.label.text,dataItem:f},f,a.chartService);if(g.options.visible){if(Ia(g.options.position)){if(b.vertical&&!za(g.options.position,[t,u])){g.options.position=b.reverse?t:u}else if(!b.vertical&&!za(g.options.position,[r,s])){g.options.position=b.reverse?s:r}}else{if(b.vertical){g.options.position=b.reverse?t:u}else{g.options.position=b.reverse?s:r}}a.append(g);a.notes.push(g)}}},parseNoteValue:function(a){return a},renderVisual:function(){eb.fn.renderVisual.call(this);this.createPlotBands()},createVisual:function(){eb.fn.createVisual.call(this);this.createBackground();this.createLine()},gridLinesVisual:function(){var a=this._gridLines;if(!a){a=this._gridLines=new e({zIndex:-2});this.appendVisual(this._gridLines)}return a},createTicks:function(a){var b=this.options;var c=this.lineBox();var d=b.labels.mirror;var e=b.majorTicks.visible?b.majorUnit:0;var f={vertical:b.vertical};function g(b,e,g){var h=b.length;var i=Math.max(1,e.step);if(e.visible){for(var j=e.skip;j<h;j+=i){if(Ia(g)&&j%g===0){continue}f.tickX=d?c.x2:c.x2-e.size;f.tickY=d?c.y1-e.size:c.y1;f.position=b[j];a.append(yb(f,e))}}}g(this.getMajorTickPositions(),b.majorTicks);g(this.getMinorTickPositions(),b.minorTicks,e/b.minorUnit)},createLine:function(){var a=this.options;var b=a.line;var c=this.lineBox();if(b.width>0&&b.visible){var f=new d({stroke:{width:b.width,color:b.color,dashType:b.dashType}});f.moveTo(c.x1,c.y1).lineTo(c.x2,c.y2);if(a._alignLines){aa(f)}var g=this._lineGroup=new e;g.append(f);this.visual.append(g);this.createTicks(g)}},getActualTickSize:function(){var a=this.options;var b=0;if(a.majorTicks.visible&&a.minorTicks.visible){b=Math.max(a.majorTicks.size,a.minorTicks.size)}else if(a.majorTicks.visible){b=a.majorTicks.size}else if(a.minorTicks.visible){b=a.minorTicks.size}return b},createBackground:function(){var a=this;var b=a.options;var c=a.box;var e=b.background;if(e){this._backgroundPath=d.fromRect(c.toRect(),{fill:{color:e},stroke:null});this.visual.append(this._backgroundPath)}},createPlotBands:function(){var a=this;var b=this.options;var c=b.plotBands||[];var f=b.vertical;var g=this.plotArea;if(c.length===0){return}var i=this._plotbandGroup=new e({zIndex:-1});var j=xa(this.pane.axes,function(b){return b.options.vertical!==a.options.vertical})[0];for(var k=0;k<c.length;k++){var l=c[k];var m=void 0,n=void 0;if(f){m=(j||g.axisX).lineBox();n=a.getSlot(l.from,l.to,true)}else{m=a.getSlot(l.from,l.to,true);n=(j||g.axisY).lineBox()}if(m.width()!==0&&n.height()!==0){var o=new h([m.x1,n.y1],[m.width(),n.height()]);var p=d.fromRect(o,{fill:{color:l.color,opacity:l.opacity},stroke:null});i.append(p)}}this.appendVisual(i)},createGridLines:function(a){var b=this.options;var c=b.minorGridLines;var d=b.majorGridLines;var e=b.minorUnit;var f=b.vertical;var g=a.options.line.visible;var h=d.visible?b.majorUnit:0;var i=a.lineBox();var j=i[f?"y1":"x1"];var k={lineStart:i[f?"x1":"y1"],lineEnd:i[f?"x2":"y2"],vertical:f};var l=[];var m=this.gridLinesVisual();function n(a,b,c){var d=a.length;var e=Math.max(1,b.step);if(b.visible){for(var f=b.skip;f<d;f+=e){var h=Sa(a[f]);if(!za(h,l)){if(f%c!==0&&(!g||j!==h)){k.position=h;m.append(zb(k,b));l.push(h)}}}}}n(this.getMajorTickPositions(),d);n(this.getMinorTickPositions(),c,h/e);return m.children},reflow:function(a){var b=this;var c=b.options;var d=b.labels;var e=b.title;var f=c.vertical;var g=d.length;var h=f?w:x;var i=e?e.box[h]():0;var j=this.getActualTickSize()+c.margin+i;var k=(this.getRoot()||{}).box||a;var l=k[h]();var m=0;for(var n=0;n<g;n++){var o=d[n].box[h]();if(o+j<=l){m=Math.max(m,o)}}if(f){this.box=new Za(a.x1,a.y1,a.x1+m+j,a.y2)}else{this.box=new Za(a.x1,a.y1,a.x2,a.y1+m+j)}this.arrangeTitle();this.arrangeLabels();this.arrangeNotes()},getLabelsTickPositions:function(){return this.getMajorTickPositions()},labelTickIndex:function(a){return a.index},arrangeLabels:function(){var a=this;var b=this;var c=b.options;var d=b.labels;var e=!c.justified;var f=c.vertical;var g=this.lineBox();var h=c.labels.mirror;var i=this.getLabelsTickPositions();var j=this.getActualTickSize()+c.margin;for(var k=0;k<d.length;k++){var l=d[k];var m=a.labelTickIndex(l);var n=f?l.box.height():l.box.width();var o=i[m]-n/2;var p=void 0,q=void 0,v=void 0;if(f){if(e){q=i[m];v=i[m+1];var w=q+(v-q)/2;o=w-n/2}var x=g.x2;if(h){x+=j;l.options.rotationOrigin=t}else{x-=j+l.box.width();l.options.rotationOrigin=u}p=l.box.move(x,o)}else{if(e){q=i[m];v=i[m+1]}else{q=o;v=o+n}var y=g.y1;if(h){y-=j+l.box.height();l.options.rotationOrigin=s}else{y+=j;l.options.rotationOrigin=r}p=new Za(q,y,v,y+l.box.height())}l.reflow(p)}},autoRotateLabels:function(){if(this.options.autoRotateLabels&&!this.options.vertical){var a=this.getMajorTickPositions();var b=this.labels;var c;for(var d=0;d<b.length;d++){var e=Math.abs(a[d+1]-a[d]);var f=b[d].box;if(f.width()>e){if(f.height()>e){c=-90;break}c=-45}}if(c){for(var g=0;g<b.length;g++){b[g].options.rotation=c;b[g].reflow(new Za)}return true}}},arrangeTitle:function(){var a=this;var b=a.options;var c=a.title;var d=b.labels.mirror;var e=b.vertical;if(c){if(e){c.options.align=d?u:t;c.options.vAlign=c.options.position}else{c.options.align=c.options.position;c.options.vAlign=d?r:s}c.reflow(this.box)}},arrangeNotes:function(){var a=this;for(var b=0;b<this.notes.length;b++){var c=a.notes[b];var d=c.options.value;var e=void 0;if(Ia(d)){if(a.shouldRenderNote(d)){c.show()}else{c.hide()}e=a.noteSlot(d)}else{c.hide()}c.reflow(e||a.lineBox())}},noteSlot:function(a){return this.getSlot(a)},alignTo:function(a){var b=a.lineBox();var c=this.options.vertical;var d=c?q:p;this.box.snapTo(b,d);if(c){this.box.shrink(0,this.lineBox().height()-b.height())}else{this.box.shrink(this.lineBox().width()-b.width(),0)}this.box[d+1]-=this.lineBox()[d+1]-b[d+1];this.box[d+2]-=this.lineBox()[d+2]-b[d+2]},axisLabelText:function(a,b,c){var d=wa(c);var e=a;if(d){e=d({value:a,dataItem:b,format:c.format,culture:c.culture})}else if(c.format){e=this.chartService.format.localeAuto(c.format,[a],c.culture)}return e},slot:function(a,b,c){var d=this.getSlot(a,b,c);if(d){return d.toRect()}},contentBox:function(){var a=this.box.clone();var b=this.labels;if(b.length){if(b[0].options.visible){a.wrap(b[0].box)}var c=b[b.length-1];if(c.options.visible){a.wrap(c.box)}}return a},limitRange:function(a,b,c,d,e){var f=this.options;if(a<c&&e<0&&(!Ia(f.min)||f.min<=c)||d<b&&e>0&&(!Ia(f.max)||d<=f.max)){return null}if(b<c&&e>0||d<a&&e<0){return{min:a,max:b}}var g=b-a;var h=a;var i=b;if(a<c){h=Pa(a,c,d);i=Pa(a+g,c+g,d)}else if(b>d){i=Pa(b,c,d);h=Pa(b-g,c,d-g)}return{min:h,max:i}},valueRange:function(){return{min:this.seriesMin,max:this.seriesMax}}});Wa(Ab,{labels:{visible:true,rotation:0,mirror:false,step:1,skip:0},line:{width:1,color:E,visible:true},title:{visible:true,position:v},majorTicks:{align:K,size:4,skip:0,step:1},minorTicks:{align:K,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:K,minorTickType:L,majorGridLines:{skip:0,step:1},minorGridLines:{visible:false,width:1,color:E,skip:0,step:1},margin:5,visible:true,reverse:false,justified:true,notes:{label:{text:""}},_alignLines:true,_deferLabels:false});var Bb="milliseconds";var Cb="seconds";var Db="minutes";var Eb="hours";var Fb="days";var Gb="weeks";var Hb="months";var Ib="years";var Jb=1;var Kb=1e3;var Lb=60*Kb;var Mb=60*Lb;var Nb=24*Mb;var Ob=7*Nb;var Pb=31*Nb;var Qb=365*Nb;var Rb={years:Qb,months:Pb,weeks:Ob,days:Nb,hours:Mb,minutes:Lb,seconds:Kb,milliseconds:Jb};function Sb(a,b){var c=a.getTime()-b;var d=a.getTimezoneOffset()-b.getTimezoneOffset();return c-d*Lb}function Tb(a,b){return new Date(a.getTime()+b)}function Ub(a){var b;if(a instanceof Date){b=a}else if(a){b=new Date(a)}return b}function Vb(a,b){if(b===void 0){b=0}var c=0;var d=a.getDay();if(!isNaN(d)){while(d!==b){if(d===0){d=6}else{d--}c++}}return Tb(a,-c*Nb)}function Wb(a,b){if(b===0&&a.getHours()===23){a.setHours(a.getHours()+2);return true}return false}function Xb(a,b){var c=new Date(a);c.setMinutes(0,0,0);var d=(a.getTimezoneOffset()-c.getTimezoneOffset())*Lb;return Tb(c,d+b*Mb)}function Yb(a,b,c,d){var e=a;if(a){var f=Ub(a);var g=f.getHours();if(c===Ib){e=new Date(f.getFullYear()+b,0,1);Wb(e,0)}else if(c===Hb){e=new Date(f.getFullYear(),f.getMonth()+b,1);Wb(e,g)}else if(c===Gb){e=Yb(Vb(f,d),b*7,Fb);Wb(e,g)}else if(c===Fb){e=new Date(f.getFullYear(),f.getMonth(),f.getDate()+b);Wb(e,g)}else if(c===Eb){e=Xb(f,b)}else if(c===Db){e=Tb(f,b*Lb);if(e.getSeconds()>0){e.setSeconds(0)}}else if(c===Cb){e=Tb(f,b*Kb)}else if(c===Bb){e=Tb(f,b)}if(c!==Bb&&e.getMilliseconds()>0){e.setMilliseconds(0)}}return e}function Zb(a,b,c){return Yb(Ub(a),0,b,c)}function $b(a,b,c){var d=Ub(a);if(d&&Zb(d,b,c).getTime()===d.getTime()){return d}return Yb(d,1,b,c)}function _b(a,b){if(a&&b){return a.getTime()-b.getTime()}return-1}function ac(a,b){return a.getTime()-b}function bc(a){if(Y(a)){var b=[];for(var c=0;c<a.length;c++){b.push(bc(a[c]))}return b}else if(a){return Ub(a).getTime()}}function cc(a,b){if(a&&b){return bc(a)===bc(b)}return a===b}function dc(a,b,c){return Sb(a,b)/Rb[c]}function ec(a,b,c,d){var e=Ub(a);var f=Ub(b);var g;if(c===Hb){g=e.getMonth()-f.getMonth()+(e.getFullYear()-f.getFullYear())*12+dc(e,new Date(e.getFullYear(),e.getMonth()),Fb)/new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}else if(c===Ib){g=e.getFullYear()-f.getFullYear()+ec(e,new Date(e.getFullYear(),0),Hb,1)/12}else if(c===Fb||c===Gb){g=dc(e,f,c)}else{g=ac(e,b)/Rb[c]}return g/d}function fc(a,b,c){var d;if(c===Ib){d=b.getFullYear()-a.getFullYear()}else if(c===Hb){d=fc(a,b,Ib)*12+b.getMonth()-a.getMonth()}else if(c===Fb){d=Math.floor(ac(b,a)/Nb)}else{d=Math.floor(ac(b,a)/Rb[c])}return d}function gc(a,b){var c=0;var d=b.length-1;var e;while(c<=d){e=Math.floor((c+d)/2);var f=b[e];if(f<a){c=e+1;continue}if(f>a){d=e-1;continue}while(cc(b[e-1],a)){e--}return e}if(b[e]<=a){return e}return e-1}function hc(a,b){var c;if(da(b)){c=a.parseDate(b)||Ub(b)}else{c=Ub(b)}return c}function ic(a,b){if(Y(b)){var c=[];for(var d=0;d<b.length;d++){c.push(hc(a,b[d]))}return c}return hc(a,b)}var jc=.01;function kc(a,b){if(a instanceof Date){var c=b.length;for(var d=0;d<c;d++){if(cc(b[d],a)){return d}}return-1}return b.indexOf(a)}var lc=Ab.extend({init:function(a,b){Ab.fn.init.call(this,a,b);this._ticks={};this._initCategories(this.options)},_initCategories:function(a){var b=(a.categories||[]).slice(0);var c=Ia(a.min);var d=Ia(a.max);a.categories=b;if((c||d)&&b.length){a.srcCategories=a.categories;var e=c?Math.floor(a.min):0;var f;if(d){f=a.justified?Math.floor(a.max)+1:Math.ceil(a.max)}else{f=b.length}a.categories=a.categories.slice(e,f)}},rangeIndices:function(){var a=this.options;var b=a.categories.length||1;var c=ca(a.min)?a.min%1:0;var d;if(ca(a.max)&&a.max%1!==0&&a.max<this.totalRange().max){d=b-(1-a.max%1)}else{d=b-(a.justified?1:0)}return{min:c,max:d}},totalRangeIndices:function(a){var b=this.options;var c=ca(b.min)?b.min:0;var d;if(ca(b.max)){d=b.max}else if(ca(b.min)){d=c+b.categories.length}else{d=(b.srcCategories||b.categories).length-(b.justified?1:0)||1}if(a){var e=this.totalRange();c=Pa(c,0,e.max);d=Pa(d,0,e.max)}return{min:c,max:d}},range:function(){var a=this.options;return{min:ca(a.min)?a.min:0,max:ca(a.max)?a.max:a.categories.length}},totalRange:function(){var a=this.options;return{min:0,max:Math.max(this._seriesMax||0,(a.srcCategories||a.categories).length)-(a.justified?1:0)}},getScale:function(){var a=this.rangeIndices();var b=a.min;var c=a.max;var d=this.lineBox();var e=this.options.vertical?d.height():d.width();var f=e/(c-b||1);return f*(this.options.reverse?-1:1)},getTickPositions:function(a){var b=this.options;var c=b.vertical;var d=b.reverse;var e=this.rangeIndices();var f=e.min;var g=e.max;var h=this.lineBox();var i=this.getScale();var j=h[(c?q:p)+(d?2:1)];var k=[];var l=f%1!==0?Math.floor(f/1)+a:f;while(l<=g){k.push(j+Sa(i*(l-f),y));l+=a}return k},getLabelsTickPositions:function(){var a=this.getMajorTickPositions().slice(0);var b=this.rangeIndices();var c=this.getScale();var d=this.lineBox();var e=this.options;var f=e.vertical?q:p;var g=e.reverse?2:1;var h=e.reverse?1:2;if(b.min%1!==0){a.unshift(d[f+g]-c*(b.min%1))}if(b.max%1!==0){a.push(d[f+h]+c*(1-b.max%1))}return a},labelTickIndex:function(a){var b=this.rangeIndices();var c=a.index;if(b.min>0){c=c-Math.floor(b.min)}return c},arrangeLabels:function(){Ab.fn.arrangeLabels.call(this);this.hideOutOfRangeLabels()},hideOutOfRangeLabels:function(){var a=this;var b=a.box;var c=a.labels;if(c.length){var d=this.options.vertical?q:p;var e=b[d+1];var f=b[d+2];var g=c[0];var h=Oa(c);if(g.box[d+1]>f||g.box[d+2]<e){g.options.visible=false}if(h.box[d+1]>f||h.box[d+2]<e){h.options.visible=false}}},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var a=this.options;var b=a.reverse;var c=a.justified;var d=this._ticks;var e=this.rangeIndices();var f=this.lineBox();var g=f.getHash()+e.min+","+e.max+b+c;if(d._hash!==g){d._hash=g;d.majorTicks=this.getTickPositions(1);d.minorTicks=this.getTickPositions(.5)}return d},getSlot:function(a,b,c){var d=this.options;var e=d.reverse;var f=d.justified;var g=d.vertical;var h=this.rangeIndices();var i=h.min;var j=g?q:p;var k=this.lineBox();var l=this.getScale();var m=k[j+(e?2:1)];var n=k.clone();var o=!Ia(b);var r=Ua(a,0);var s=Ua(b,r);s=Math.max(s-1,r);s=Math.max(r,s);var t=m+(r-i)*l;var u=m+(s+1-i)*l;if(o&&f){u=t}if(c){t=Pa(t,k[j+1],k[j+2]);u=Pa(u,k[j+1],k[j+2])}n[j+1]=e?u:t;n[j+2]=e?t:u;return n},limitSlot:function(a){var b=this.options.vertical;var c=b?q:p;var d=this.lineBox();var e=a.clone();e[c+1]=Pa(a[c+1],d[c+1],d[c+2]);e[c+2]=Pa(a[c+2],d[c+1],d[c+2]);return e},slot:function(a,b,c){var d=a;var e=b;if(typeof d==="string"){d=this.categoryIndex(d)}if(typeof e==="string"){e=this.categoryIndex(e)}return Ab.fn.slot.call(this,d,e,c)},pointCategoryIndex:function(a){var b=this.options;var c=b.reverse;var d=b.justified;var e=b.vertical;var f=e?q:p;var g=this.lineBox();var h=this.rangeIndices();var i=c?h.max:h.min;var j=this.getScale();var k=g[f+1];var l=g[f+2];var m=a[f];if(m<k||m>l){return null}var n=i+(m-k)/j;var o=n%1;if(d){n=Math.round(n)}else if(o===0&&n>0){n--}return Math.floor(n)},getCategory:function(a){var b=this.pointCategoryIndex(a);if(b===null){return null}return this.options.categories[b]},categoryIndex:function(a){var b=this.options;var c=kc(a,b.srcCategories||b.categories);return c-Math.floor(b.min||0)},translateRange:function(a){var b=this.options;var c=this.lineBox();var d=b.vertical?c.height():c.width();var e=b.categories.length;var f=d/e;var g=Sa(a/f,G);return{min:g,max:e+g}},zoomRange:function(a){var b=this.totalRangeIndices();var c=this.totalRange();var d=c.min;var e=c.max;var f=Pa(b.min+a,d,e);var g=Pa(b.max-a,d,e);if(g-f>0){return{min:f,max:g}}},scaleRange:function(a){var b=this.options.categories.length;var c=a*b;return{min:-c,max:b+c}},labelsCount:function(){var a=this.labelsRange();return a.max-a.min},labelsRange:function(){var a=this.options;var b=a.justified;var c=a.labels;var d=this.totalRangeIndices(true);var e=d.min;var f=d.max;var g=Math.floor(e);if(!b){e=Math.floor(e);f=Math.ceil(f)}else{e=Math.ceil(e);f=Math.floor(f)}var h;if(e>c.skip){h=c.skip+c.step*Math.ceil((e-c.skip)/c.step)}else{h=c.skip}return{min:h-g,max:(a.categories.length?f+(b?1:0):0)-g}},createAxisLabel:function(a,b){var c=this.options;var d=c.dataItems?c.dataItems[a]:null;var e=Ua(c.categories[a],"");var f=this.axisLabelText(e,d,b);return new ub(e,f,a,d,b)},shouldRenderNote:function(a){var b=this.totalRangeIndices();return Math.floor(b.min)<=a&&a<=Math.ceil(b.max)},noteSlot:function(a){var b=this.options;var c=a-Math.floor(b.min||0);return this.getSlot(c)},arrangeNotes:function(){Ab.fn.arrangeNotes.call(this);this.hideOutOfRangeNotes()},hideOutOfRangeNotes:function(){var a=this;var b=a.notes;var c=a.box;if(b&&b.length){var d=this.options.vertical?q:p;var e=c[d+1];var f=c[d+2];for(var g=0;g<b.length;g++){var h=b[g];if(h.box&&(f<h.box[d+1]||h.box[d+2]<e)){h.hide()}}}},pan:function(a){var b=this.totalRangeIndices(true);var c=this.getScale();var d=Sa(a/c,G);var e=this.totalRange();var f=b.min+d;var g=b.max+d;return this.limitRange(f,g,0,e.max,d)},pointsRange:function(a,b){var c=this.options;var d=c.reverse;var e=c.vertical;var f=e?q:p;var g=this.lineBox();var h=this.totalRangeIndices(true);var i=this.getScale();var j=g[f+(d?2:1)];var k=a[f]-j;var l=b[f]-j;var m=h.min+k/i;var n=h.min+l/i;var o=Math.min(m,n);var r=Math.max(m,n);if(r-o>=jc){return{min:o,max:r}}},valueRange:function(){return this.range()}});Wa(lc,{type:"category",categories:[],vertical:false,majorGridLines:{visible:false,width:1,color:E},labels:{zIndex:1},justified:false,_deferLabels:true});var mc=3e5;var nc={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"};var oc=.2;var pc="auto";var qc=[Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib];var rc="fit";var sc=lc.extend({init:function(a,b){lc.fn.init.call(this,a,b);var c=b.intl;var d=this.options;d=m({roundToBaseUnit:true},d,{categories:ic(c,d.categories),min:hc(c,d.min),max:hc(c,d.max)});d.userSetBaseUnit=d.userSetBaseUnit||d.baseUnit;d.userSetBaseUnitStep=d.userSetBaseUnitStep||d.baseUnitStep;if(d.categories&&d.categories.length>0){var e=(d.baseUnit||"").toLowerCase();var f=e!==rc&&!za(e,qc);if(f){d.baseUnit=this.defaultBaseUnit(d)}if(e===rc||d.baseUnitStep===pc){this.autoBaseUnit(d)}this._groupsStart=Yb(d.categories[0],0,d.baseUnit,d.weekStartDay);this.groupCategories(d)}else{d.baseUnit=d.baseUnit||Fb}this.options=d},_initCategories:function(){},shouldRenderNote:function(a){var b=this.range();var c=this.options.categories||[];return _b(a,b.min)>=0&&_b(a,b.max)<=0&&c.length},parseNoteValue:function(a){return hc(this.chartService.intl,a)},noteSlot:function(a){return this.getSlot(a)},translateRange:function(a){var b=this.options;var c=b.baseUnit;var d=b.weekStartDay;var e=b.vertical;var f=this.lineBox();var g=e?f.height():f.width();var h=this.range();var i=g/(h.max-h.min);var j=Sa(a/i,G);if(h.min&&h.max){var k=Tb(b.min||h.min,j);var l=Tb(b.max||h.max,j);h={min:Yb(k,0,c,d),max:Yb(l,0,c,d)}}return h},scaleRange:function(a){var b=Math.abs(a);var c=this.range();var d=c.min;var e=c.max;if(d&&e){while(b--){var f=ac(d,e);var g=Math.round(f*.1);if(a<0){d=Tb(d,g);e=Tb(e,-g)}else{d=Tb(d,-g);e=Tb(e,g)}}c={min:d,max:e}}return c},defaultBaseUnit:function(a){var b=a.categories;var c=Ia(b)?b.length:0;var d=z;var e,f;for(var g=0;g<c;g++){var h=b[g];if(h&&e){var i=Sb(h,e);if(i>0){d=Math.min(d,i);if(d>=Qb){f=Ib}else if(d>=Pb-Nb*3){f=Hb}else if(d>=Ob){f=Gb}else if(d>=Nb){f=Fb}else if(d>=Mb){f=Eb}else if(d>=Lb){f=Db}else{f=Cb}}}e=h}return f||Fb},_categoryRange:function(a){var b=a._range;if(!b){b=a._range=Xa(a)}return b},totalRange:function(){return{min:0,max:this.options.categories.length}},rangeIndices:function(){var a=this.options;var b=a.categories;var c=a.baseUnit;var d=a.baseUnitStep||1;var e=this.categoriesRange();var f=Ub(a.min||e.min);var g=Ub(a.max||e.max);var h=0,i=0;if(b.length){h=ec(f,b[0],c,d);i=ec(g,b[0],c,d);if(a.roundToBaseUnit){h=Math.floor(h);i=a.justified?Math.floor(i):Math.ceil(i)}}return{min:h,max:i}},labelsRange:function(){var a=this.options;var b=a.labels;var c=this.rangeIndices();var d=Math.floor(c.min);var e=Math.ceil(c.max);return{min:d+b.skip,max:a.categories.length?e+(a.justified?1:0):0}},categoriesRange:function(){var a=this.options;var b=this._categoryRange(a.srcCategories||a.categories);var c=Ub(b.max);if(!a.justified&&cc(c,this._roundToTotalStep(c,a,false))){c=this._roundToTotalStep(c,a,true,true)}return{min:Ub(b.min),max:c}},currentRange:function(){var a=this.options;var b=a.roundToBaseUnit!==false;var c=this.categoriesRange();var d=a.min;var e=a.max;if(!d){d=b?this._roundToTotalStep(c.min,a,false):c.min}if(!e){e=b?this._roundToTotalStep(c.max,a,!a.justified):c.max}return{min:d,max:e}},datesRange:function(){var a=this._categoryRange(this.options.srcCategories||this.options.categories);return{min:Ub(a.min),max:Ub(a.max)}},pan:function(a){var b=this.options;var c=this.lineBox();var d=b.vertical?c.height():c.width();var e=this.currentRange();var f=e.min;var g=e.max;var h=this.totalLimits();var i=d/(g-f);var j=Sa(a/i,G);var k=Tb(f,j);var l=Tb(g,j);var m=this.limitRange(bc(k),bc(l),bc(h.min),bc(h.max),j);if(m){m.min=Ub(m.min);m.max=Ub(m.max);m.baseUnit=b.baseUnit;m.baseUnitStep=b.baseUnitStep||1;m.userSetBaseUnit=b.userSetBaseUnit;m.userSetBaseUnitStep=b.userSetBaseUnitStep;return m}},pointsRange:function(a,b){var c=lc.fn.pointsRange.call(this,a,b);var d=this.currentRange();var e=this.rangeIndices();var f=ac(d.max,d.min)/(e.max-e.min);var g=this.options;var h=Tb(d.min,c.min*f);var i=Tb(d.min,c.max*f);return{min:h,max:i,baseUnit:g.userSetBaseUnit,baseUnitStep:g.userSetBaseUnitStep}},zoomRange:function(a){var b=this.options;var c=this.totalLimits();var d=b.weekStartDay;var e=b.baseUnit;var f=b.baseUnitStep||1;var g=this.currentRange();var h=g.min;var i=g.max;var j=Yb(h,a*f,e,d);var k=Yb(i,-a*f,e,d);if(b.userSetBaseUnit===rc){var l=b.autoBaseUnitSteps;var m=b.maxDateGroups;var n=Oa(l[e])*m*Rb[e];var o=ac(i,h);var p=ac(k,j);var q=qc.indexOf(e);var r,s;if(p<Rb[e]&&e!==Bb){e=qc[q-1];r=Oa(l[e]);s=(o-(m-1)*r*Rb[e])/2;j=Tb(h,s);k=Tb(i,-s)}else if(p>n&&e!==Ib){var t=0;do{q++;e=qc[q];t=0;s=2*Rb[e];do{r=l[e][t];t++}while(t<l[e].length&&s*r<o)}while(e!==Ib&&s*r<o);s=(s*r-o)/2;if(s>0){j=Tb(h,-s);k=Tb(i,s);j=Tb(j,Pa(k,c.min,c.max)-k);k=Tb(k,Pa(j,c.min,c.max)-j)}}}j=Ub(Pa(j,c.min,c.max));k=Ub(Pa(k,c.min,c.max));if(j&&k&&ac(k,j)>0){return{min:j,max:k,baseUnit:b.userSetBaseUnit,baseUnitStep:b.userSetBaseUnitStep}}},totalLimits:function(){var a=this.options;var b=this.datesRange();var c=this._roundToTotalStep(Ub(b.min),a,false);var d=b.max;if(!a.justified){d=this._roundToTotalStep(d,a,true,cc(d,this._roundToTotalStep(d,a,false)))}return{min:c,max:d}},range:function(a){var b=a||this.options;var c=b.categories;var d=b.baseUnit===rc;var e=d?qc[0]:b.baseUnit;var f=b.baseUnitStep||1;var g={baseUnit:e,baseUnitStep:f,weekStartDay:b.weekStartDay};var h=this._categoryRange(c);var i=Ub(b.min||h.min);var j=Ub(b.max||h.max);return{min:this._roundToTotalStep(i,g,false),max:this._roundToTotalStep(j,g,true,true)}},autoBaseUnit:function(a){var b=this._categoryRange(a.categories);var c=Ub(a.max||b.max)-Ub(a.min||b.min);var d=a.maxDateGroups||this.options.maxDateGroups;var e=a.baseUnit===rc;var f=0;var g=e?qc[f++]:a.baseUnit;var h=c/Rb[g];var i=h;var j=m({},this.options.autoBaseUnitSteps,a.autoBaseUnitSteps);var k,l,n;while(!l||h>=d){k=k||j[g].slice(0);n=k.shift();if(n){l=n;h=i/l}else if(g===Oa(qc)){l=Math.ceil(i/d);break}else if(e){g=qc[f++]||Oa(qc);i=c/Rb[g];k=null}else{if(h>d){l=Math.ceil(i/d)}break}}a.baseUnitStep=l;a.baseUnit=g},groupCategories:function(a){var b=a.categories;var c=a.baseUnit;var d=a.baseUnitStep||1;var e=Ub(Xa(b).max);var f=this.range(a);var g=f.min;var h=f.max;var i=[];var j;for(var k=g;k<h;k=j){i.push(k);j=Yb(k,d,c,a.weekStartDay);if(j>e&&!a.max){break;
}}a.srcCategories=b;a.categories=i},_roundToTotalStep:function(a,b,c,d){var e=b||this.options;var f=e.baseUnit;var g=e.baseUnitStep||1;var h=this._groupsStart;if(h){var i=ec(a,h,f,g);var j=c?Math.ceil(i):Math.floor(i);if(d){j++}return Yb(h,j*g,f,e.weekStartDay)}return Yb(a,c?g:0,f,e.weekStartDay)},createAxisLabel:function(a,b){var c=this.options;var d=c.dataItems?c.dataItems[a]:null;var e=c.categories[a];var f=c.baseUnit;var g=b.dateFormats[f];var h=true;if(c.justified){var i=Zb(e,f,c.weekStartDay);h=cc(i,e)}else if(!c.roundToBaseUnit){h=!cc(this.range().max,e)}if(h){b.format=b.format||g;var j=this.axisLabelText(e,d,b);if(j){return new ub(e,j,a,d,b)}}},categoryIndex:function(a){var b=this.options;var c=b.categories;var d=-1;if(c.length){d=Math.floor(ec(Ub(a),c[0],b.baseUnit,b.baseUnitStep||1))}return d},getSlot:function(a,b,c){var d=a;var e=b;if(typeof d===T){d=this.categoryIndex(d)}if(typeof e===T){e=this.categoryIndex(e)}return lc.fn.getSlot.call(this,d,e,c)},valueRange:function(){var a=this.options;var b=this._categoryRange(a.srcCategories||a.categories);return{min:Ub(b.min),max:Ub(b.max)}}});Wa(sc,{type:U,labels:{dateFormats:nc},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});function tc(a,b){var c=Sa(b-a,G-1);if(c===0){if(b===0){return.1}c=Math.abs(b)}var d=Math.pow(10,Math.floor(Math.log(c)/Math.log(10)));var e=Sa(c/d,G);var f=1;if(e<1.904762){f=.2}else if(e<4.761904){f=.5}else if(e<9.523809){f=1}else{f=2}return Sa(d*f,G)}function uc(a,b,c){if(!a&&!b){return 0}var d;if(a>=0&&b>=0){var e=a===b?0:a;var f=(b-e)/b;if(c===false||!c&&f>oc){return 0}d=Math.max(0,e-(b-e)/2)}else{d=a}return d}function vc(a,b,c){if(!a&&!b){return 1}var d;if(a<=0&&b<=0){var e=a===b?0:b;var f=Math.abs((e-a)/e);if(c===false||!c&&f>oc){return 0}d=Math.min(0,e-(a-e)/2)}else{d=b}return d}function wc(a,b){return Sa(Math.floor(a/b)*b,G)}function xc(a,b){return Sa(Math.ceil(a/b)*b,G)}function yc(a){return Math.max(Math.min(a,mc),-mc)}var zc=Math.pow(10,-G+1);var Ac=Ab.extend({init:function(a,b,c,d){var e=Bc(a,b,c);var f=Cc(e,c);Ab.fn.init.call(this,Dc(e,c),d);this.totalMin=f.min;this.totalMax=f.max;this.totalMajorUnit=f.majorUnit;this.seriesMin=a;this.seriesMax=b},startValue:function(){return 0},range:function(){var a=this.options;return{min:a.min,max:a.max}},getDivisions:function(a){if(a===0){return 1}var b=this.options;var c=b.max-b.min;return Math.floor(Sa(c/a,y))+1},getTickPositions:function(a,b){var c=this.options;var d=c.vertical;var e=c.reverse;var f=this.lineBox();var g=d?f.height():f.width();var h=c.max-c.min;var i=g/h;var j=a*i;var k=this.getDivisions(a);var l=(d?-1:1)*(e?-1:1);var m=l===1?1:2;var n=[];var o=f[(d?q:p)+m];var r=0;if(b){r=b/a}for(var s=0;s<k;s++){if(s%r!==0){n.push(Sa(o,y))}o=o+j*l}return n},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(a,b,c){if(c===void 0){c=false}var d=this.options;var e=d.vertical;var f=d.reverse;var g=e?q:p;var h=this.lineBox();var i=h[g+(f?2:1)];var j=e?h.height():h.width();var k=f?-1:1;var l=k*(j/(d.max-d.min));var m=new Za(h.x1,h.y1,h.x1,h.y1);var n=a;var o=b;if(!Ia(n)){n=o||0}if(!Ia(o)){o=n||0}if(c){n=Math.max(Math.min(n,d.max),d.min);o=Math.max(Math.min(o,d.max),d.min)}var r,s;if(e){r=d.max-Math.max(n,o);s=d.max-Math.min(n,o)}else{r=Math.min(n,o)-d.min;s=Math.max(n,o)-d.min}m[g+1]=yc(i+l*(f?s:r));m[g+2]=yc(i+l*(f?r:s));return m},getValue:function(a){var b=this.options;var c=b.vertical;var d=b.reverse;var e=Number(b.max);var f=Number(b.min);var g=c?q:p;var h=this.lineBox();var i=h[g+(d?2:1)];var j=c?h.height():h.width();var k=d?-1:1;var l=k*(a[g]-i);var m=(e-f)/j;var n=l*m;if(l<0||l>j){return null}var o=c?e-n:f+n;return Sa(o,G)},translateRange:function(a){var b=this.options;var c=b.vertical;var d=b.reverse;var e=b.max;var f=b.min;var g=this.lineBox();var h=c?g.height():g.width();var i=e-f;var j=h/i;var k=Sa(a/j,G);if((c||d)&&!(c&&d)){k=-k}return{min:f+k,max:e+k}},scaleRange:function(a){var b=this.options;var c=-a*b.majorUnit;return{min:b.min-c,max:b.max+c}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(a,b){var c=this.options;var d=Sa(c.min+a*c.majorUnit,G);var e=this.axisLabelText(d,null,b);return new ub(d,e,a,null,b)},shouldRenderNote:function(a){var b=this.range();return b.min<=a&&a<=b.max},pan:function(a){var b=this.translateRange(a);return this.limitRange(b.min,b.max,this.totalMin,this.totalMax)},pointsRange:function(a,b){var c=this.getValue(a);var d=this.getValue(b);var e=Math.min(c,d);var f=Math.max(c,d);if(this.isValidRange(e,f)){return{min:e,max:f}}},zoomRange:function(a){var b=this;var c=b.totalMin;var d=b.totalMax;var e=this.scaleRange(a);var f=Pa(e.min,c,d);var g=Pa(e.max,c,d);if(this.isValidRange(f,g)){return{min:f,max:g}}},isValidRange:function(a,b){return b-a>zc}});function Bc(a,b,c){var d=c.narrowRange;var e=uc(a,b,d);var f=vc(a,b,d);var g=tc(e,f);var h={majorUnit:g};if(c.roundToMajorUnit!==false){if(e<0&&Ec(e,g,1/3)){e-=g}if(f>0&&Ec(f,g,1/3)){f+=g}}h.min=wc(e,g);h.max=xc(f,g);return h}function Cc(a,b){return{min:Ia(b.min)?Math.min(a.min,b.min):a.min,max:Ia(b.max)?Math.max(a.max,b.max):a.max,majorUnit:a.majorUnit}}function Dc(a,b){var c=b;var d,e;if(b){d=Ia(b.min);e=Ia(b.max);var f=d||e;if(f){if(b.min===b.max){if(b.min>0){b.min=0}else{b.max=1}}}if(b.majorUnit){a.min=wc(a.min,b.majorUnit);a.max=xc(a.max,b.majorUnit)}else if(f){c=m(a,b);a.majorUnit=tc(c.min,c.max)}}a.minorUnit=(c.majorUnit||a.majorUnit)/5;var g=m(a,c);if(g.min>=g.max){if(d&&!e){g.max=g.min+g.majorUnit}else if(!d&&e){g.min=g.max-g.majorUnit}}return g}function Ec(a,b,c){var d=Sa(Math.abs(a%b),G);var e=b*(1-c);return d===0||d>e}Wa(Ac,{type:"numeric",min:0,max:1,vertical:true,majorGridLines:{visible:true,width:1,color:E},labels:{format:"#.####################"},zIndex:1});var Fc=Ab.extend({init:function(a,b,c,d){var e=Ub(a);var f=Ub(b);var g=d.intl;var h=c||{};h=m(h||{},{min:hc(g,h.min),max:hc(g,h.max),axisCrossingValue:ic(g,h.axisCrossingValues||h.axisCrossingValue)});h=Hc(e,f,h);Ab.fn.init.call(this,h,d);this.intlService=g;this.seriesMin=e;this.seriesMax=f;this.totalMin=bc(Zb(bc(e)-1,h.baseUnit));this.totalMax=bc($b(bc(f)+1,h.baseUnit))},range:function(){var a=this.options;return{min:a.min,max:a.max}},getDivisions:function(a){var b=this.options;return Math.floor(fc(b.min,b.max,b.baseUnit)/a+1)},getTickPositions:function(a){var b=this.options;var c=b.vertical;var d=this.lineBox();var e=(c?-1:1)*(b.reverse?-1:1);var f=e===1?1:2;var g=d[(c?q:p)+f];var h=this.getDivisions(a);var i=ac(b.max,b.min);var j=c?d.height():d.width();var k=j/i;var l=[g];for(var m=1;m<h;m++){var n=Yb(b.min,m*a,b.baseUnit);var o=g+ac(n,b.min)*k*e;l.push(Sa(o,y))}return l},getMajorTickPositions:function(){return this.getTickPositions(this.options.majorUnit)},getMinorTickPositions:function(){return this.getTickPositions(this.options.minorUnit)},getSlot:function(a,b,c){return Ac.prototype.getSlot.call(this,hc(this.intlService,a),hc(this.intlService,b),c)},getValue:function(a){var b=Ac.prototype.getValue.call(this,a);return b!==null?Ub(b):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(a,b){var c=this.options;var d=a*c.majorUnit;var e=c.min;if(d>0){e=Yb(e,d,c.baseUnit)}var f=b.dateFormats[c.baseUnit];b.format=b.format||f;var g=this.axisLabelText(e,null,b);return new ub(e,g,a,null,b)},translateRange:function(a,b){var c=this.options;var d=c.baseUnit;var e=c.weekStartDay;var f=this.lineBox();var g=c.vertical?f.height():f.width();var h=this.range();var i=g/ac(h.max,h.min);var j=Sa(a/i,G);var k=Tb(c.min,j);var l=Tb(c.max,j);if(!b){k=Yb(k,0,d,e);l=Yb(l,0,d,e)}return{min:k,max:l}},scaleRange:function(a){var b=this.options;var c=b.min;var d=b.max;var e=Math.abs(a);while(e--){var f=ac(c,d);var g=Math.round(f*.1);if(a<0){c=Tb(c,g);d=Tb(d,-g)}else{c=Tb(c,-g);d=Tb(d,g)}}return{min:c,max:d}},shouldRenderNote:function(a){var b=this.range();return _b(a,b.min)>=0&&_b(a,b.max)<=0},pan:function(a){var b=this.translateRange(a,true);var c=this.limitRange(bc(b.min),bc(b.max),this.totalMin,this.totalMax);if(c){return{min:Ub(c.min),max:Ub(c.max)}}},pointsRange:function(a,b){var c=this.getValue(a);var d=this.getValue(b);var e=Math.min(c,d);var f=Math.max(c,d);return{min:Ub(e),max:Ub(f)}},zoomRange:function(a){var b=this.scaleRange(a);var c=Ub(Pa(bc(b.min),this.totalMin,this.totalMax));var d=Ub(Pa(bc(b.max),this.totalMin,this.totalMax));return{min:c,max:d}}});function Gc(a){var b=Eb;if(a>=Qb){b=Ib}else if(a>=Pb){b=Hb}else if(a>=Ob){b=Gb}else if(a>=Nb){b=Fb}return b}function Hc(a,b,c){var d=c.min||a;var e=c.max||b;var f=c.baseUnit||(e&&d?Gc(Sb(e,d)):Eb);var g=Rb[f];var h=Zb(bc(d)-1,f)||Ub(e);var i=$b(bc(e)+1,f);var j=c.majorUnit?c.majorUnit:undefined;var k=j||xc(tc(h.getTime(),i.getTime()),g)/g;var l=fc(h,i,f);var m=xc(l,k);var n=m-l;var o=Math.floor(n/2);var p=n-o;if(!c.baseUnit){delete c.baseUnit}c.baseUnit=c.baseUnit||f;c.min=c.min||Yb(h,-o,f);c.max=c.max||Yb(i,p,f);c.minorUnit=c.minorUnit||k/5;c.majorUnit=k;return c}Wa(Fc,{type:U,majorGridLines:{visible:true,width:1,color:E},labels:{dateFormats:nc}});var Ic=10;var Jc=Ab.extend({init:function(a,b,c,d){var e=m({majorUnit:Ic,min:a,max:b},c);var f=e.majorUnit;var g=Mc(b,f);var h=Lc(a,b,e);var i=Kc(h,g,e,c);e.max=i.max;e.min=i.min;e.minorUnit=c.minorUnit||Sa(f-1,G);Ab.fn.init.call(this,e,d);this.totalMin=Ia(c.min)?Math.min(h,c.min):h;this.totalMax=Ia(c.max)?Math.max(g,c.max):g;this.logMin=Sa(Oc(i.min,f),G);this.logMax=Sa(Oc(i.max,f),G);this.seriesMin=a;this.seriesMax=b;this.createLabels()},startValue:function(){return this.options.min},getSlot:function(a,b,c){var d=this;var e=d.options;var f=d.logMin;var g=d.logMax;var h=e.reverse;var i=e.vertical;var j=e.majorUnit;var k=i?q:p;var l=this.lineBox();var m=l[k+(h?2:1)];var n=i?l.height():l.width();var o=h?-1:1;var r=o*(n/(g-f));var s=new Za(l.x1,l.y1,l.x1,l.y1);var t=a;var u=b;if(!Ia(t)){t=u||1}if(!Ia(u)){u=t||1}if(t<=0||u<=0){return null}if(c){t=Math.max(Math.min(t,e.max),e.min);u=Math.max(Math.min(u,e.max),e.min)}t=Oc(t,j);u=Oc(u,j);var v,w;if(i){v=g-Math.max(t,u);w=g-Math.min(t,u)}else{v=Math.min(t,u)-f;w=Math.max(t,u)-f}s[k+1]=yc(m+r*(h?w:v));s[k+2]=yc(m+r*(h?v:w));return s},getValue:function(a){var b=this;var c=b.options;var d=b.logMin;var e=b.logMax;var f=c.reverse;var g=c.vertical;var h=c.majorUnit;var i=this.lineBox();var j=g===f?1:-1;var k=j===1?1:2;var l=g?i.height():i.width();var m=(e-d)/l;var n=g?q:p;var o=i[n+k];var r=j*(a[n]-o);var s=r*m;if(r<0||r>l){return null}var t=d+s;return Sa(Math.pow(h,t),G)},range:function(){var a=this.options;return{min:a.min,max:a.max}},scaleRange:function(a){var b=this.options.majorUnit;var c=-a;return{min:Math.pow(b,this.logMin-c),max:Math.pow(b,this.logMax+c)}},translateRange:function(a){var b=this;var c=b.options;var d=b.logMin;var e=b.logMax;var f=c.reverse;var g=c.vertical;var h=c.majorUnit;var i=this.lineBox();var j=g?i.height():i.width();var k=j/(e-d);var l=Sa(a/k,G);if((g||f)&&!(g&&f)){l=-l}return{min:Math.pow(h,d+l),max:Math.pow(h,e+l)}},labelsCount:function(){var a=Math.floor(this.logMax);var b=Math.floor(a-this.logMin)+1;return b},getMajorTickPositions:function(){var a=[];this.traverseMajorTicksPositions(function(b){a.push(b)},{step:1,skip:0});return a},createTicks:function(a){var b=this.options;var c=b.majorTicks;var d=b.minorTicks;var e=b.vertical;var f=b.labels.mirror;var g=this.lineBox();var h=[];var i={vertical:e};function j(b,c){i.tickX=f?g.x2:g.x2-c.size;i.tickY=f?g.y1-c.size:g.y1;i.position=b;a.append(yb(i,c))}if(c.visible){this.traverseMajorTicksPositions(j,c)}if(d.visible){this.traverseMinorTicksPositions(j,d)}return h},createGridLines:function(a){var b=this.options;var c=b.minorGridLines;var d=b.majorGridLines;var e=b.vertical;var f=a.lineBox();var g={lineStart:f[e?"x1":"y1"],lineEnd:f[e?"x2":"y2"],vertical:e};var h=[];var i=this.gridLinesVisual();function j(a,b){if(!za(a,h)){g.position=a;i.append(zb(g,b));h.push(a)}}if(d.visible){this.traverseMajorTicksPositions(j,d)}if(c.visible){this.traverseMinorTicksPositions(j,c)}return i.children},traverseMajorTicksPositions:function(a,b){var c=this._lineOptions();var d=c.lineStart;var e=c.step;var f=this;var g=f.logMin;var h=f.logMax;for(var i=Math.ceil(g)+b.skip;i<=h;i+=b.step){var j=Sa(d+e*(i-g),G);a(j,b)}},traverseMinorTicksPositions:function(a,b){var c=this;var d=this.options;var e=d.min;var f=d.max;var g=d.minorUnit;var h=d.majorUnit;var i=this._lineOptions();var j=i.lineStart;var k=i.step;var l=this;var m=l.logMin;var n=l.logMax;var o=Math.floor(m);for(var p=o;p<n;p++){var q=c._minorIntervalOptions(p);for(var r=b.skip;r<g;r+=b.step){var s=q.value+r*q.minorStep;if(s>f){break}if(s>=e){var t=Sa(j+k*(Oc(s,h)-m),G);a(t,b)}}}},createAxisLabel:function(a,b){var c=Math.ceil(this.logMin+a);var d=Math.pow(this.options.majorUnit,c);var e=this.axisLabelText(d,null,b);return new ub(d,e,a,null,b)},shouldRenderNote:function(a){var b=this.range();return b.min<=a&&a<=b.max},pan:function(a){var b=this.translateRange(a);return this.limitRange(b.min,b.max,this.totalMin,this.totalMax,-a)},pointsRange:function(a,b){var c=this.getValue(a);var d=this.getValue(b);var e=Math.min(c,d);var f=Math.max(c,d);return{min:e,max:f}},zoomRange:function(a){var b=this;var c=b.options;var d=b.totalMin;var e=b.totalMax;var f=this.scaleRange(a);var g=Pa(f.min,d,e);var h=Pa(f.max,d,e);var i=c.majorUnit;var j=h>g&&c.min&&c.max&&Sa(Oc(c.max,i)-Oc(c.min,i),G)<1;var k=!(c.min===d&&c.max===e)&&Sa(Oc(h,i)-Oc(g,i),G)>=1;if(j||k){return{min:g,max:h}}},_minorIntervalOptions:function(a){var b=this.options;var c=b.minorUnit;var d=b.majorUnit;var e=Math.pow(d,a);var f=Math.pow(d,a+1);var g=f-e;var h=g/c;return{value:e,minorStep:h}},_lineOptions:function(){var a=this.options;var b=a.reverse;var c=a.vertical;var d=c?q:p;var e=this.lineBox();var f=c===b?1:-1;var g=f===1?1:2;var h=c?e.height():e.width();var i=f*(h/(this.logMax-this.logMin));var j=e[d+g];return{step:i,lineStart:j,lineBox:e}}});function Kc(a,b,c,d){var e=c.min;var f=c.max;if(Ia(c.axisCrossingValue)&&c.axisCrossingValue<=0){Nc()}if(!Ia(d.max)){f=b}else if(d.max<=0){Nc()}if(!Ia(d.min)){e=a}else if(d.min<=0){Nc()}return{min:e,max:f}}function Lc(a,b,c){var d=c.majorUnit;var e=a;if(a<=0){e=b<=1?Math.pow(d,-2):1}else if(!c.narrowRange){e=Math.pow(d,Math.floor(Oc(a,d)))}return e}function Mc(a,b){var c=Sa(Oc(a,b),G)%1;var d;if(a<=0){d=b}else if(c!==0&&(c<.3||c>.9)){d=Math.pow(b,Oc(a,b)+.2)}else{d=Math.pow(b,Math.ceil(Oc(a,b)))}return d}function Nc(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Oc(a,b){return Math.log(a)/Math.log(b)}Wa(Jc,{type:"log",majorUnit:Ic,minorUnit:1,axisCrossingValue:1,vertical:true,majorGridLines:{visible:true,width:1,color:E},zIndex:1,_deferLabels:true});var Pc={createGridLines:function(a){var b=this.options;var c=Math.abs(this.box.center().y-a.lineBox().y1);var d=[];var e=false;var f,g;if(b.majorGridLines.visible){f=this.majorGridLineAngles(a);e=true;d=this.renderMajorGridLines(f,c,b.majorGridLines)}if(b.minorGridLines.visible){g=this.minorGridLineAngles(a,e);Ga(d,this.renderMinorGridLines(g,c,b.minorGridLines,a,e))}return d},renderMajorGridLines:function(a,b,c){return this.renderGridLines(a,b,c)},renderMinorGridLines:function(a,b,c,d,e){var f=this.radiusCallback&&this.radiusCallback(b,d,e);return this.renderGridLines(a,b,c,f)},renderGridLines:function(a,b,c,e){var f={stroke:{width:c.width,color:c.color,dashType:c.dashType}};var g=this.box.center();var h=new i([g.x,g.y],b);var j=this.gridLinesVisual();for(var k=0;k<a.length;k++){var l=new d(f);if(e){h.radius=e(a[k])}l.moveTo(h.center).lineTo(h.pointAt(a[k]+180));j.append(l)}return j.children},gridLineAngles:function(a,b,c,d,e){var f=this;var g=this.intervals(b,c,d,e);var h=a.options;var i=h.visible&&(h.line||{}).visible!==false;return Da(g,function(a){var b=f.intervalAngle(a);if(!i||b!==90){return b}})}};var Qc=lc.extend({range:function(){return{min:0,max:this.options.categories.length}},reflow:function(a){this.box=a;this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var a=this;var b=this;var c=b.labels;var d=b.options.labels;var e=d.skip||0;var f=d.step||1;var g=new Za;for(var h=0;h<c.length;h++){c[h].reflow(g);var i=c[h].box;c[h].reflow(a.getSlot(e+h*f).adjacentBox(0,i.width(),i.height()))}},intervals:function(a,b,c,d){if(d===void 0){d=false}var e=this.options;var f=e.categories.length;var g=f/a||1;var h=360/g;var i=b||0;var j=c||1;var k=[];var l=0;for(var m=i;m<g;m+=j){if(e.reverse){l=360-m*h}else{l=m*h}l=Sa(l,y)%360;if(!(d&&za(l,d))){k.push(l)}}return k},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(a){return(360+a+this.options.startAngle)%360},majorAngles:function(){var a=this;return Da(this.majorIntervals(),function(b){return a.intervalAngle(b)})},createLine:function(){return[]},majorGridLineAngles:function(a){var b=this.options.majorGridLines;return this.gridLineAngles(a,1,b.skip,b.step)},minorGridLineAngles:function(a,b){var c=this.options;var d=c.minorGridLines;var e=c.majorGridLines;var f=b?this.intervals(1,e.skip,e.step):null;return this.gridLineAngles(a,.5,d.skip,d.step,f)},radiusCallback:function(a,b,c){if(b.options.type!==P){var d=Ra(360/(this.options.categories.length*2));var e=Math.cos(d)*a;var f=this.majorAngles();var g=function(b){if(!c&&za(b,f)){return a}return e};return g}},createPlotBands:function(){var a=this;var b=this.options.plotBands||[];var c=this._plotbandGroup=new e({zIndex:-1});for(var d=0;d<b.length;d++){var f=b[d];var g=a.plotBandSlot(f);var h=a.getSlot(f.from);var i=f.from-Math.floor(f.from);g.startAngle+=i*h.angle;var j=Math.ceil(f.to)-f.to;g.angle-=(j+i)*h.angle;var k=db.current.createRing(g,{fill:{color:f.color,opacity:f.opacity},stroke:{opacity:f.opacity}});c.append(k)}this.appendVisual(c)},plotBandSlot:function(a){return this.getSlot(a.from,a.to-1)},getSlot:function(a,b){var c=this.options;var d=c.justified;var e=this.box;var f=this.majorAngles();var g=f.length;var h=360/g;var i=a;if(c.reverse&&!d){i=(i+1)%g}i=Pa(Math.floor(i),0,g-1);var j=f[i];if(d){j=j-h/2;if(j<0){j+=360}}var k=Pa(Math.ceil(b||i),i,g-1);var l=k-i+1;var m=h*l;return new _a(e.center(),0,e.height()/2,j,m)},slot:function(a,b){var c=this.getSlot(a,b);var d=c.startAngle+180;var e=d+c.angle;return new g.Arc([c.center.x,c.center.y],{startAngle:d,endAngle:e,radiusX:c.radius,radiusY:c.radius})},pointCategoryIndex:function(a){var b=this;var c=this.options.categories.length;var d=null;for(var e=0;e<c;e++){var f=b.getSlot(e);if(f.containsPoint(a)){d=e;break}}return d}});Wa(Qc,{startAngle:90,labels:{margin:ka(10)},majorGridLines:{visible:true},justified:true});m(Qc.prototype,Pc);var Rc=Ab.extend({init:function(a,b){Ab.fn.init.call(this,a,b);var c=this.options;c.minorUnit=c.minorUnit||c.majorUnit/2},getDivisions:function(a){return Ac.prototype.getDivisions.call(this,a)-1},reflow:function(a){this.box=a;this.reflowLabels()},reflowLabels:function(){var a=this;var b=this;var c=b.options;var d=b.labels;var e=b.options.labels;var f=e.skip||0;var g=e.step||1;var h=new Za;var i=this.intervals(c.majorUnit,f,g);for(var j=0;j<d.length;j++){d[j].reflow(h);var k=d[j].box;d[j].reflow(a.getSlot(i[j]).adjacentBox(0,k.width(),k.height()))}},lineBox:function(){return this.box},intervals:function(a,b,c,d){if(d===void 0){d=false}var e=this.options.min;var f=this.getDivisions(a);var g=[];var h=b||0;var i=c||1;for(var j=h;j<f;j+=i){var k=(360+e+j*a)%360;if(!(d&&za(k,d))){g.push(k)}}return g},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(a){return(540-a-this.options.startAngle)%360},createLine:function(){return[]},majorGridLineAngles:function(a){var b=this.options.majorGridLines;return this.gridLineAngles(a,this.options.majorUnit,b.skip,b.step)},minorGridLineAngles:function(a,b){var c=this.options;var d=c.minorGridLines;var e=c.majorGridLines;var f=b?this.intervals(c.majorUnit,e.skip,e.step):null;return this.gridLineAngles(a,c.minorUnit,d.skip,d.step,f)},plotBandSlot:function(a){return this.getSlot(a.from,a.to)},getSlot:function(a,b){var c=this;var d=c.options;var e=c.box;var f=d.startAngle;var g=Pa(a,d.min,d.max);var h=Pa(b||g,g,d.max);if(d.reverse){g*=-1;h*=-1}g=(540-g-f)%360;h=(540-h-f)%360;if(h<g){var i=g;g=h;h=i}return new _a(e.center(),0,e.height()/2,g,h-g)},slot:function(a,b){if(b===void 0){b=a}var c=this.options;var d=360-c.startAngle;var e=this.getSlot(a,b);var f=Math.min(a,b);var h=Math.max(a,b);var i,j;if(c.reverse){i=f;j=h}else{i=360-h;j=360-f}i=(i+d)%360;j=(j+d)%360;return new g.Arc([e.center.x,e.center.y],{startAngle:i,endAngle:j,radiusX:e.radius,radiusY:e.radius})},getValue:function(a){var b=this.options;var c=this.box.center();var d=a.x-c.x;var e=a.y-c.y;var f=Math.round(Ja(Math.atan2(e,d)));var g=b.startAngle;if(!b.reverse){f*=-1;g*=-1}return(f+g+360)%360},valueRange:function(){return{min:0,max:Math.PI*2}}});Wa(Rc,{type:"polar",startAngle:0,reverse:false,majorUnit:60,min:0,max:360,labels:{margin:ka(10)},majorGridLines:{color:E,visible:true,width:1},minorGridLines:{color:"#aaa"}});m(Rc.prototype,Pc,{createPlotBands:Qc.prototype.createPlotBands,majorAngles:Qc.prototype.majorAngles,range:Ac.prototype.range,labelsCount:Ac.prototype.labelsCount,createAxisLabel:Ac.prototype.createAxisLabel});var Sc={options:{majorGridLines:{visible:true}},createPlotBands:function(){var a=this;var b=this.options;var c=b.majorGridLines.type;var f=b.plotBands;if(f===void 0){f=[]}var g=this.plotArea.polarAxis;var h=g.majorAngles();var i=g.box.center();var j=this._plotbandGroup=new e({zIndex:-1});for(var k=0;k<f.length;k++){var l=f[k];var m={fill:{color:l.color,opacity:l.opacity},stroke:{opacity:l.opacity}};var n=a.getSlot(l.from,l.to,true);var o=new _a(i,i.y-n.y2,i.y-n.y1,0,360);var p=void 0;if(c===P){p=db.current.createRing(o,m)}else{p=d.fromPoints(a.plotBandPoints(o,h),m).close()}j.append(p)}this.appendVisual(j)},plotBandPoints:function(a,b){var c=[];var d=[];var e=[a.center.x,a.center.y];var f=new i(e,a.innerRadius);var g=new i(e,a.radius);for(var h=0;h<b.length;h++){c.push(f.pointAt(b[h]+180));d.push(g.pointAt(b[h]+180))}c.reverse();c.push(c[0]);d.push(d[0]);return d.concat(c)},createGridLines:function(a){var b=this.options;var c=this.radarMajorGridLinePositions();var d=a.majorAngles();var e=a.box.center();var f=[];if(b.majorGridLines.visible){f=this.renderGridLines(e,c,d,b.majorGridLines)}if(b.minorGridLines.visible){var g=this.radarMinorGridLinePositions();Ga(f,this.renderGridLines(e,g,d,b.minorGridLines))}return f},renderGridLines:function(a,c,e,f){var g={stroke:{width:f.width,color:f.color,dashType:f.dashType}};var h=f.skip;if(h===void 0){h=0}var j=f.step;if(j===void 0){j=0}var k=this.gridLinesVisual();for(var l=h;l<c.length;l+=j){var m=a.y-c[l];if(m>0){var n=new i([a.x,a.y],m);if(f.type===P){k.append(new b.Circle(n,g))}else{var o=new d(g);for(var p=0;p<e.length;p++){o.lineTo(n.pointAt(e[p]+180))}o.close();k.append(o)}}}return k.children},getValue:function(a){var b=this.lineBox();var c=this.plotArea.polarAxis;var d=c.majorAngles();var e=c.box.center();var f=a.distanceTo(e);var g=f;if(this.options.majorGridLines.type!==P&&d.length>1){var h=a.x-e.x;var i=a.y-e.y;var j=(Ja(Math.atan2(i,h))+540)%360;d.sort(function(a,b){return Tc(a,j)-Tc(b,j)});var k=Tc(d[0],d[1])/2;var l=Tc(j,d[0]);var m=90-k;var n=180-l-m;g=f*(Math.sin(Ra(n))/Math.sin(Ra(m)))}return this.axisType().prototype.getValue.call(this,new Ya(b.x1,b.y2-g))}};function Tc(a,b){return 180-Math.abs(Math.abs(a-b)-180)}var Uc=Ac.extend({radarMajorGridLinePositions:function(){return this.getTickPositions(this.options.majorUnit)},radarMinorGridLinePositions:function(){var a=this.options;var b=0;if(a.majorGridLines.visible){b=a.majorUnit}return this.getTickPositions(a.minorUnit,b)},axisType:function(){return Ac}});m(Uc.prototype,Sc);var Vc=Jc.extend({radarMajorGridLinePositions:function(){var a=[];this.traverseMajorTicksPositions(function(b){a.push(b)},this.options.majorGridLines);return a},radarMinorGridLinePositions:function(){var a=[];this.traverseMinorTicksPositions(function(b){a.push(b)},this.options.minorGridLines);return a},axisType:function(){return Jc}});m(Vc.prototype,Sc);var Wc=.333;var Xc=.01;var Yc=f.extend({init:function(a){this.closed=a},process:function(a){var b=this;var c=a.slice(0);var d=[];var e=this.closed;var f=c.length;if(f>2){this.removeDuplicates(0,c);f=c.length}if(f<2||f===2&&c[0].equals(c[1])){return d}var g=c[0];var h=c[1];var i=c[2];d.push(new k(g));while(g.equals(c[f-1])){e=true;c.pop();f--}if(f===2){var j=this.tangent(g,h,p,q);Oa(d).controlOut(this.firstControlPoint(j,g,h,p,q));d.push(new k(h,this.secondControlPoint(j,g,h,p,q)));return d}var l,m;if(e){g=c[f-1];h=c[0];i=c[1];var n=this.controlPoints(g,h,i);l=n[1];m=n[0]}else{var o=this.tangent(g,h,p,q);l=this.firstControlPoint(o,g,h,p,q)}var r=l;for(var s=0;s<=f-3;s++){b.removeDuplicates(s,c);f=c.length;if(s+3<=f){g=c[s];h=c[s+1];i=c[s+2];var t=b.controlPoints(g,h,i);Oa(d).controlOut(r);r=t[1];var u=t[0];d.push(new k(h,u))}}if(e){g=c[f-2];h=c[f-1];i=c[0];var v=this.controlPoints(g,h,i);Oa(d).controlOut(r);d.push(new k(h,v[0]));Oa(d).controlOut(v[1]);d.push(new k(i,m))}else{var w=this.tangent(h,i,p,q);Oa(d).controlOut(r);d.push(new k(i,this.secondControlPoint(w,h,i,p,q)))}return d},removeDuplicates:function(a,b){while(b[a+1]&&(b[a].equals(b[a+1])||b[a+1].equals(b[a+2]))){b.splice(a+1,1)}},invertAxis:function(a,b,c){var d=false;if(a.x===b.x){d=true}else if(b.x===c.x){if(b.y<c.y&&a.y<=b.y||c.y<b.y&&b.y<=a.y){d=true}}else{var e=this.lineFunction(a,b);var f=this.calculateFunction(e,c.x);if(!(a.y<=b.y&&c.y<=f)&&!(b.y<=a.y&&c.y>=f)){d=true}}return d},isLine:function(a,b,c){var d=this.lineFunction(a,b);var e=this.calculateFunction(d,c.x);return a.x===b.x&&b.x===c.x||Sa(e,1)===Sa(c.y,1)},lineFunction:function(a,b){var c=(b.y-a.y)/(b.x-a.x);var d=a.y-c*a.x;return[d,c]},controlPoints:function(a,b,c){var d=p;var e=q;var f=false;var g=false;var h;if(this.isLine(a,b,c)){h=this.tangent(a,b,p,q)}else{var i={x:this.isMonotonicByField(a,b,c,p),y:this.isMonotonicByField(a,b,c,q)};if(i.x&&i.y){h=this.tangent(a,c,p,q);f=true}else{if(this.invertAxis(a,b,c)){d=q;e=p}if(i[d]){h=0}else{var j;if(c[e]<a[e]&&a[e]<=b[e]||a[e]<c[e]&&b[e]<=a[e]){j=Zc((c[e]-a[e])*(b[d]-a[d]))}else{j=-Zc((c[d]-a[d])*(b[e]-a[e]))}h=Xc*j;g=true}}}var k=this.secondControlPoint(h,a,b,d,e);if(g){var l=d;d=e;e=l}var m=this.firstControlPoint(h,b,c,d,e);if(f){this.restrictControlPoint(a,b,k,h);this.restrictControlPoint(b,c,m,h)}return[k,m]},restrictControlPoint:function(a,b,c,d){if(a.y<b.y){if(b.y<c.y){c.x=a.x+(b.y-a.y)/d;c.y=b.y}else if(c.y<a.y){c.x=b.x-(b.y-a.y)/d;c.y=a.y}}else{if(c.y<b.y){c.x=a.x-(a.y-b.y)/d;c.y=b.y}else if(a.y<c.y){c.x=b.x+(a.y-b.y)/d;c.y=a.y}}},tangent:function(a,b,c,d){var e=b[c]-a[c];var f=b[d]-a[d];var g;if(e===0){g=0}else{g=f/e}return g},isMonotonicByField:function(a,b,c,d){return c[d]>b[d]&&b[d]>a[d]||c[d]<b[d]&&b[d]<a[d]},firstControlPoint:function(a,b,c,d,e){var f=b[d];var g=c[d];var h=(g-f)*Wc;return this.point(f+h,b[e]+h*a,d,e)},secondControlPoint:function(a,b,c,d,e){var f=b[d];var g=c[d];var h=(g-f)*Wc;return this.point(g-h,c[e]-h*a,d,e)},point:function(a,b,c,d){var e=new g.Point;e[c]=a;e[d]=b;return e},calculateFunction:function(a,b){var c=a.length;var d=0;for(var e=0;e<c;e++){d+=Math.pow(b,e)*a[e]}return d}});function Zc(a){return a<=0?-1:1}l.Gradients=jb;kendo.deepExtend(kendo.dataviz,{constants:X,services:va,autoMajorUnit:tc,Point:Ya,Box:Za,Ring:_a,Sector:bb,ShapeBuilder:db,ShapeElement:gb,ChartElement:eb,BoxElement:fb,RootElement:lb,FloatElement:nb,Text:pb,TextBox:sb,Title:tb,AxisLabel:ub,Axis:Ab,Note:xb,CategoryAxis:lc,DateCategoryAxis:sc,DateValueAxis:Fc,NumericAxis:Ac,LogarithmicAxis:Jc,PolarAxis:Rc,RadarCategoryAxis:Qc,RadarNumericAxis:Uc,RadarLogarithmicAxis:Vc,CurveProcessor:Yc,rectToBox:qb,addClass:Z,removeClass:_,alignPathToPixel:aa,clockwise:ba,convertableToNumber:ea,deepExtend:m,elementStyles:ja,getSpacing:ka,getTemplate:wa,getter:o,grep:xa,hasClasses:ya,inArray:za,interpolateValue:Aa,InstanceObserver:Ca,isArray:Y,isFunction:n,isNumber:ca,isObject:fa,isString:da,map:Da,mousewheelDelta:Ea,FontLoader:Va,setDefaultOptions:Wa,sparseArrayLimits:Xa,styleValue:ga,append:Ga,bindEvents:Ha,Class:f,defined:Ia,deg:Ja,elementOffset:Ka,elementSize:La,eventElement:Ma,eventCoordinates:Na,last:Oa,limitValue:Pa,logToConsole:kendo.logToConsole,objectKey:Qa,rad:Ra,round:Sa,unbindEvents:Ta,valueOrDefault:Ua,absoluteDateDiff:Sb,addDuration:Yb,addTicks:Tb,ceilDate:$b,dateComparer:_b,dateDiff:ac,dateEquals:cc,dateIndex:ec,duration:fc,floorDate:Zb,lteDateIndex:gc,startOfWeek:Vb,toDate:Ub,parseDate:hc,parseDates:ic,toTime:bc})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/core/core",["dataviz/core/kendo-core"],a)})(function(){(function(a){var b=kendo.dataviz;var c=b.services;var d=kendo.drawing;b.ExportMixin={extend:function(a,b){if(!a.exportVisual){throw new Error("Mixin target has no exportVisual method defined.")}a.exportSVG=this.exportSVG;a.exportImage=this.exportImage;a.exportPDF=this.exportPDF;if(!b){a.svg=this.svg;a.imageDataURL=this.imageDataURL}},exportSVG:function(a){return d.exportSVG(this.exportVisual(),a)},exportImage:function(a){return d.exportImage(this.exportVisual(a),a)},exportPDF:function(a){return d.exportPDF(this.exportVisual(),a)},svg:function(){if(d.svg.Surface){return d.svg.exportGroup(this.exportVisual())}else{throw new Error("SVG Export failed. Unable to export instantiate kendo.drawing.svg.Surface")}},imageDataURL:function(){if(!kendo.support.canvas){return null}if(d.canvas.Surface){var b=a("<div />").css({display:"none",width:this.element.width(),height:this.element.height()}).appendTo(document.body);var c=new d.canvas.Surface(b[0]);c.draw(this.exportVisual());var e=c._rootElement.toDataURL();c.destroy();b.remove();return e}else{throw new Error("Image Export failed. Unable to export instantiate kendo.drawing.canvas.Surface")}}};c.IntlService.register({format:function(a){return kendo.format.apply(null,[a].concat(Array.prototype.slice.call(arguments,1)))},toString:kendo.toString,parseDate:kendo.parseDate});c.TemplateService.register({compile:kendo.template});b.Point2D=b.Point;b.Box2D=b.Box;b.mwDelta=function(a){return b.mousewheelDelta(a.originalEvent)}})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.core",["dataviz/core/kendo-core","dataviz/core/core"],a)})(function(){var a={id:"dataviz.core",name:"Core",description:"The DataViz core functions",category:"dataviz",depends:["core","drawing"],hidden:true}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/themes/chart-base-theme",["kendo.dataviz.core"],a)})(function(){(function(){window.kendo.dataviz=window.kendo.dataviz||{};var a=1.5;var b=.4;var c="#000";var d="Arial, Helvetica, sans-serif";var e="11px "+d;var f="12px "+d;var g="16px "+d;var h="transparent";var i="#fff";var j=function(){return{icon:{border:{width:1}},label:{font:f,padding:3},line:{length:10,width:2},visible:true}};var k=function(){return{labels:{font:f},notes:j(),title:{font:g,margin:5}}};var l=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:false},opacity:.4}};var m=function(){return{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:false},opacity:.4}};var n=function(){return{gap:a,spacing:b}};var o=function(){return{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:i,gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,
whiskers:{width:2}}};var p=function(){return{border:{width:0},labels:{background:h},opacity:.6}};var q=function(){return{gap:a,spacing:b,target:{color:"#ff0000"}}};var r=function(){return{border:{_brightness:.8,width:1},downColor:i,gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:c,width:1},spacing:.3}};var s=function(){return{gap:a,spacing:b}};var t=function(){return{margin:1}};var u=function(){return{width:2}};var v=function(){return{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3}};var w=function(){return{line:{opacity:1,width:0},markers:{size:6,visible:false},opacity:.5}};var x=function(){return{markers:{visible:false},width:2}};var y=function(){return{gap:a,spacing:b}};var z=function(){return{gap:a,spacing:b}};var A=function(){return{width:1}};var B=function(){return{gap:.5,line:{color:c,width:1},spacing:b}};var C=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}};var D=function(){return{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}}};var E=function(a){return{visible:true,labels:{font:e},overlay:a.gradients?{}:{gradient:"none"},area:l(),rangeArea:m(),verticalRangeArea:m(),bar:n(),boxPlot:o(),bubble:p(),bullet:q(),candlestick:r(),column:s(),pie:C(),donut:t(),funnel:D(),horizontalWaterfall:B(),line:u(),notes:j(),ohlc:v(),radarArea:w(),radarLine:x(),polarArea:w(),polarLine:x(),rangeBar:y(),rangeColumn:z(),scatterLine:A(),verticalArea:l(),verticalBoxPlot:o(),verticalBullet:q(),verticalLine:u(),waterfall:B()}};var F=function(){return{font:g}};var G=function(){return{labels:{font:f}}};var H=function(a){if(a===void 0){a={}}return{axisDefaults:k(),categoryAxis:{majorGridLines:{visible:true}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:E(a),title:F(),legend:G()}};kendo.deepExtend(kendo.dataviz,{chartBaseTheme:H})})()},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/themes/auto-theme",["kendo.dataviz.core"],a)})(function(){var a;function b(b){if(!b&&a){return a}var c={chart:kendo.dataviz.chartBaseTheme()};var d=$('<div style="display: none">'+'  <div class="k-var--accent"></div>'+'  <div class="k-var--accent-contrast"></div>'+'  <div class="k-var--base"></div>'+'  <div class="k-var--background"></div>'+'  <div class="k-var--normal-background"></div>'+'  <div class="k-var--normal-text-color"></div>'+'  <div class="k-var--hover-background"></div>'+'  <div class="k-var--hover-text-color"></div>'+'  <div class="k-var--selected-background"></div>'+'  <div class="k-var--selected-text-color"></div>'+'  <div class="k-var--chart-error-bars-background"></div>'+'  <div class="k-var--chart-notes-background"></div>'+'  <div class="k-var--chart-notes-border"></div>'+'  <div class="k-var--chart-notes-lines"></div>'+'  <div class="k-var--chart-crosshair-background"></div>'+'  <div class="k-var--chart-inactive"></div>'+'  <div class="k-var--chart-major-lines"></div>'+'  <div class="k-var--chart-minor-lines"></div>'+'  <div class="k-var--chart-area-opacity"></div>'+'  <div class="k-widget">'+'      <div class="k-var--chart-font"></div>'+'      <div class="k-var--chart-title-font"></div>'+'      <div class="k-var--chart-label-font"></div>'+"  </div>"+'  <div class="k-var--series">'+'    <div class="k-var--series-a"></div>'+'    <div class="k-var--series-b"></div>'+'    <div class="k-var--series-c"></div>'+'    <div class="k-var--series-d"></div>'+'    <div class="k-var--series-e"></div>'+'    <div class="k-var--series-f"></div>'+"  </div>"+"</div>").appendTo(document.body);function e(a,b){g(a,f(b,"backgroundColor"))}function f(a,b){return d.find(".k-var--"+a).css(b)}function g(a,b){var d=c;var e=a.split(".");var f=e.shift();while(e.length>0){d=d[f]=d[f]||{};f=e.shift()}d[f]=b}(function a(){e("chart.axisDefaults.crosshair.color","chart-crosshair-background");e("chart.axisDefaults.labels.color","normal-text-color");e("chart.axisDefaults.line.color","chart-major-lines");e("chart.axisDefaults.majorGridLines.color","chart-major-lines");e("chart.axisDefaults.minorGridLines.color","chart-minor-lines");e("chart.axisDefaults.notes.icon.background","chart-notes-background");e("chart.axisDefaults.notes.icon.border.color","chart-notes-border");e("chart.axisDefaults.notes.line.color","chart-notes-lines");e("chart.axisDefaults.title.color","normal-text-color");e("chart.chartArea.background","background");e("chart.legend.inactiveItems.labels.color","chart-inactive");e("chart.legend.inactiveItems.markers.color","chart-inactive");e("chart.legend.labels.color","normal-text-color");e("chart.seriesDefaults.boxPlot.downColor","chart-major-lines");e("chart.seriesDefaults.boxPlot.mean.color","base");e("chart.seriesDefaults.boxPlot.median.color","base");e("chart.seriesDefaults.boxPlot.whiskers.color","accent");e("chart.seriesDefaults.bullet.target.color","accent");e("chart.seriesDefaults.candlestick.downColor","normal-text-color");e("chart.seriesDefaults.candlestick.line.color","normal-text-color");e("chart.seriesDefaults.errorBars.color","chart-error-bars-background");e("chart.seriesDefaults.horizontalWaterfall.line.color","chart-major-lines");e("chart.seriesDefaults.icon.border.color","chart-major-lines");e("chart.seriesDefaults.labels.background","background");e("chart.seriesDefaults.labels.color","normal-text-color");e("chart.seriesDefaults.notes.icon.background","chart-notes-background");e("chart.seriesDefaults.notes.icon.border.color","chart-notes-border");e("chart.seriesDefaults.notes.line.color","chart-notes-lines");e("chart.seriesDefaults.verticalBoxPlot.downColor","chart-major-lines");e("chart.seriesDefaults.verticalBoxPlot.mean.color","base");e("chart.seriesDefaults.verticalBoxPlot.median.color","base");e("chart.seriesDefaults.verticalBoxPlot.whiskers.color","accent");e("chart.seriesDefaults.verticalBullet.target.color","accent");e("chart.seriesDefaults.waterfall.line.color","chart-major-lines");e("chart.title.color","normal-text-color");g("chart.seriesDefaults.labels.opacity",f("chart-area-opacity","opacity"));e("diagram.shapeDefaults.fill.color","accent");e("diagram.shapeDefaults.content.color","accent-contrast");e("diagram.shapeDefaults.connectorDefaults.fill.color","normal-text-color");e("diagram.shapeDefaults.connectorDefaults.stroke.color","accent-contrast");e("diagram.shapeDefaults.connectorDefaults.hover.fill.color","accent-contrast");e("diagram.shapeDefaults.connectorDefaults.hover.stroke.color","normal-text-color");e("diagram.editable.resize.handles.stroke.color","normal-text-color");e("diagram.editable.resize.handles.fill.color","normal-background");e("diagram.editable.resize.handles.hover.stroke.color","normal-text-color");e("diagram.editable.resize.handles.hover.fill.color","normal-text-color");e("diagram.selectable.stroke.color","normal-text-color");e("diagram.connectionDefaults.stroke.color","normal-text-color");e("diagram.connectionDefaults.content.color","normal-text-color");e("diagram.connectionDefaults.selection.handles.fill.color","accent-contrast");e("diagram.connectionDefaults.selection.handles.stroke.color","normal-text-color");e("diagram.connectionDefaults.selection.stroke.color","normal-text-color")})();(function a(){function b(a){return f(a,"fontSize")+" "+f(a,"fontFamily")}var c=b("chart-font");var d=b("chart-title-font");var e=b("chart-label-font");g("chart.axisDefaults.labels.font",e);g("chart.axisDefaults.notes.label.font",c);g("chart.axisDefaults.title.font",c);g("chart.legend.labels.font",c);g("chart.seriesDefaults.labels.font",e);g("chart.seriesDefaults.notes.label.font",c);g("chart.title.font",d)})();(function a(){function b(a){return a.toLowerCase().charCodeAt(0)-"a".charCodeAt(0)}function c(a){return b(a.match(/series-([a-z])$/)[1])}var d=$(".k-var--series div").toArray();var e=d.reduce(function(a,b){var d=c(b.className);a[d]=$(b).css("backgroundColor");return a},[]);g("chart.seriesColors",e)})();d.remove();a=c;return c}kendo.dataviz.autoTheme=b},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/themes/themes",["dataviz/themes/chart-base-theme"],a)})(function(){(function(a){var b=window.kendo,c=b.dataviz.ui,d=b.deepExtend;var e="#000",f="Arial,Helvetica,sans-serif",g="12px "+f,h="#fff";var i=b.dataviz.chartBaseTheme({gradients:true});var j={scale:{labels:{font:g}}};var k={shapeDefaults:{hover:{opacity:.2},stroke:{width:0}},editable:{resize:{handles:{width:7,height:7}}},selectable:{stroke:{width:1,dashType:"dot"}},connectionDefaults:{stroke:{width:2},selection:{handles:{width:8,height:8}},editable:{tools:["edit","delete"]}}};var l=c.themes,m=c.registerTheme=function(a,b){var c={};c.chart=d({},i,b.chart);c.gauge=d({},j,b.gauge);c.diagram=d({},k,b.diagram);c.treeMap=d({},b.treeMap);var e=c.chart.seriesDefaults;e.verticalLine=d({},e.line);e.verticalArea=d({},e.area);e.rangeArea=d({},e.area);e.verticalRangeArea=d({},e.rangeArea);e.verticalBoxPlot=d({},e.boxPlot);e.polarArea=d({},e.radarArea);e.polarLine=d({},e.radarLine);l[a]=c};m("black",{chart:{title:{color:h},legend:{labels:{color:h},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:h},errorBars:{color:h},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},candlestick:{downColor:"#555",line:{color:h},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},ohlc:{line:{color:h}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:h},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:h},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:h},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:h},minorTicks:{color:h},majorTicks:{color:h},line:{color:h}}},diagram:{shapeDefaults:{fill:{color:"#0066cc"},connectorDefaults:{fill:{color:h},stroke:{color:"#384049"},hover:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#3d3d3d"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0081da","#314b5c"],["#3aafff","#3c5464"],["#99c900","#4f5931"],["#ffeb3d","#64603d"],["#b20753","#543241"],["#ff4195","#643e4f"]]}});m("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:e,background:h,opacity:.5},errorBars:{color:"#293135"},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},waterfall:{line:{color:"#9aabb2"}},horizontalWaterfall:{line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}},diagram:{shapeDefaults:{fill:{color:"#7ec6e3"},connectorDefaults:{fill:{color:"#003f59"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#003f59"}}},content:{color:"#293135"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#003f59"},hover:{fill:{color:"#003f59"},stroke:{color:"#003f59"}}}},rotate:{thumb:{stroke:{color:"#003f59"},fill:{color:"#003f59"}}}},selectable:{stroke:{color:"#003f59"}},connectionDefaults:{stroke:{color:"#003f59"},content:{color:"#293135"},selection:{handles:{fill:{color:"#3d3d3d"},stroke:{color:"#efefef"}}}}},treeMap:{colors:[["#0069a5","#bad7e7"],["#0098ee","#b9e0f5"],["#7bd2f6","#ceeaf6"],["#ffb800","#e6e3c4"],["#ff8517","#e4d8c8"],["#e34a00","#ddccc2"]]}});m("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},waterfall:{line:{color:"#ffffff"}},horizontalWaterfall:{line:{color:"#ffffff"}},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}},diagram:{shapeDefaults:{fill:{color:"#a7018f"},connectorDefaults:{fill:{color:h},stroke:{color:"#2c232b"},hover:{fill:{color:"#2c232b"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#2c232b"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#2c232b"},stroke:{color:h}}}}},treeMap:{colors:[["#a7008f","#451c3f"],["#ffb800","#564122"],["#3aafff","#2f3f55"],["#99c900","#424422"],["#b20753","#471d33"],["#ff4195","#562940"]]}});m("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:e,background:h,opacity:.5},errorBars:{color:"#232323"},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},waterfall:{line:{color:"#8e8e8e"}},horizontalWaterfall:{line:{color:"#8e8e8e"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}},diagram:{shapeDefaults:{fill:{color:"#e15613"},connectorDefaults:{fill:{color:"#282828"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#2e2e2e"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#282828"},hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}}},rotate:{thumb:{stroke:{color:"#282828"},fill:{color:"#282828"}}}},selectable:{stroke:{color:"#a7018f"}},connectionDefaults:{stroke:{color:"#282828"},content:{color:"#2e2e2e"},selection:{handles:{fill:{color:h},stroke:{color:"#282828"}}}}},treeMap:{colors:[["#ff6800","#edcfba"],["#a0a700","#dadcba"],["#ff8d00","#edd7ba"],["#678900","#cfd6ba"],["#ffb53c","#eddfc6"],["#396000","#c6ceba"]]}});m("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},errorBars:{color:"#4e5968"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},waterfall:{line:{color:"#a6b1c0"}},horizontalWaterfall:{line:{color:"#a6b1c0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}},diagram:{shapeDefaults:{fill:{color:"#1c82c2"},connectorDefaults:{fill:{color:"#515967"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#282828"}}},content:{color:"#515967"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#515967"},hover:{fill:{color:"#515967"},stroke:{color:"#515967"}}}},rotate:{thumb:{stroke:{color:"#515967"},fill:{color:"#515967"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#515967"},content:{color:"#515967"},selection:{handles:{fill:{color:h},stroke:{color:"#515967"}}}}},treeMap:{colors:[["#007bc3","#c2dbea"],["#76b800","#dae7c3"],["#ffae00","#f5e5c3"],["#ef4c00","#f2d2c3"],["#a419b7","#e3c7e8"],["#430b62","#d0c5d7"]]}});m("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:e},errorBars:{color:"#777777"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},waterfall:{line:{color:"#c7c7c7"}},horizontalWaterfall:{line:{color:"#c7c7c7"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}},diagram:{shapeDefaults:{fill:{color:"#8ebc00"},connectorDefaults:{fill:{color:e},stroke:{color:h},hover:{fill:{color:h},stroke:{color:e}}},content:{color:"#777"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:"#787878"},fill:{color:"#787878"}}}},selectable:{stroke:{color:"#515967"}},connectionDefaults:{stroke:{color:"#787878"},content:{color:"#777"},selection:{handles:{fill:{color:h},stroke:{color:"#787878"}}}}},treeMap:{colors:[["#8ebc00","#e8f2cc"],["#309b46","#d6ebda"],["#25a0da","#d3ecf8"],["#ff6900","#ffe1cc"],["#e61e26","#fad2d4"],["#d8e404","#f7facd"],["#16aba9","#d0eeee"],["#7e51a1","#e5dcec"],["#313131","#d6d6d6"],["#ed1691","#fbd0e9"]]}});m("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},waterfall:{line:{color:"#cecece"}},horizontalWaterfall:{line:{color:"#cecece"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}},diagram:{shapeDefaults:{fill:{color:"#00aba9"},connectorDefaults:{fill:{color:h},stroke:{color:"#0e0e0e"},hover:{fill:{color:"#0e0e0e"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#0e0e0e"},stroke:{color:"#787878"},hover:{fill:{color:"#787878"},stroke:{color:"#787878"}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:"#787878"}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#0e0e0e"},stroke:{color:h}}}}},treeMap:{colors:[["#00aba9","#0b2d2d"],["#309b46","#152a19"],["#8ebc00","#28310b"],["#ff6900","#3e200b"],["#e61e26","#391113"],["#d8e404","#36390c"],["#25a0da","#132b37"],["#7e51a1","#241b2b"],["#313131","#151515"],["#ed1691","#3b1028"]]}});m("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},errorBars:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:h,opacity:.2}}},waterfall:{line:{color:"#8c909e"}},horizontalWaterfall:{line:{color:"#8c909e"}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:h},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}},diagram:{shapeDefaults:{fill:{color:"#f3ae03"},connectorDefaults:{fill:{color:h},stroke:{color:"#414550"},hover:{fill:{color:"#414550"},stroke:{color:h}}},content:{color:h}},editable:{resize:{handles:{fill:{color:"#414550"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:h}}}},rotate:{thumb:{stroke:{color:h},fill:{color:h}}}},selectable:{stroke:{color:h}},connectionDefaults:{stroke:{color:h},content:{color:h},selection:{handles:{fill:{color:"#414550"},stroke:{color:h}}}}},treeMap:{colors:[["#ffca08","#4e4b2b"],["#ff710f","#4e392d"],["#ed2e24","#4b2c31"],["#ff9f03","#4e422a"],["#e13c02","#482e2a"],["#a00201","#3b232a"]]}});m("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},errorBars:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},waterfall:{line:{color:"#9e9e9e"}},horizontalWaterfall:{line:{color:"#9e9e9e"}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}},diagram:{shapeDefaults:{fill:{color:"#d1d1d1"},connectorDefaults:{fill:{color:"#686868"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#686868"}}},content:{color:"#686868"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#686868"},hover:{fill:{color:"#686868"},stroke:{color:"#686868"}}}},rotate:{thumb:{stroke:{color:"#686868"},fill:{color:"#686868"}}}},selectable:{stroke:{color:"#686868"}},connectionDefaults:{stroke:{color:"#686868"},content:{color:"#686868"},selection:{handles:{fill:{color:h},stroke:{color:"#686868"}}}}},treeMap:{colors:[["#527aa3","#d0d8e1"],["#6f91b3","#d6dde4"],["#8ca7c2","#dce1e7"],["#a8bdd1","#e2e6ea"],["#c5d3e0","#e7eaed"],["#e2e9f0","#edeff0"]]}});m("bootstrap",{chart:{title:{color:"#333333"},legend:{labels:{color:"#333333"},inactiveItems:{labels:{color:"#999999"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#333333"},overlay:{gradient:"none"},errorBars:{color:"#343434"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#333333"},line:{color:"#000000"}},pie:{overlay:{gradient:"none"}},donut:{overlay:{gradient:"none"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.8},candlestick:{downColor:"#d0d0d0",line:{color:"#333333"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},waterfall:{line:{color:"#cccccc"}},horizontalWaterfall:{line:{color:"#cccccc"}},ohlc:{line:{color:"#333333"}}},chartArea:{background:"#ffffff"},seriesColors:["#428bca","#5bc0de","#5cb85c","#f2b661","#e67d4a","#da3b36"],axisDefaults:{line:{color:"#cccccc"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},labels:{color:"#333333"},majorGridLines:{color:"#cccccc"},minorGridLines:{color:"#ebebeb"},title:{color:"#333333"},crosshair:{color:"#000000"},notes:{icon:{background:"#000000",border:{color:"#000000"}},label:{color:"#ffffff"},line:{color:"#000000"}}}},gauge:{pointer:{color:"#428bca"},scale:{rangePlaceholderColor:"#cccccc",labels:{color:"#333333"},minorTicks:{color:"#ebebeb"},majorTicks:{color:"#cccccc"},line:{color:"#cccccc"}}},diagram:{shapeDefaults:{fill:{color:"#428bca"},connectorDefaults:{fill:{color:"#333333"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#333333"}}},content:{color:"#333333"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#333333"},hover:{fill:{color:"#333333"},stroke:{color:"#333333"}}}},rotate:{thumb:{stroke:{color:"#333333"},fill:{color:"#333333"}}}},selectable:{stroke:{color:"#333333"}},connectionDefaults:{stroke:{color:"#c4c4c4"},content:{color:"#333333"},selection:{handles:{fill:{color:h},stroke:{color:"#333333"}},stroke:{color:"#333333"}}}},treeMap:{colors:[["#428bca","#d1e0ec"],["#5bc0de","#d6eaf0"],["#5cb85c","#d6e9d6"],["#5cb85c","#f4e8d7"],["#e67d4a","#f2ddd3"],["#da3b36","#f0d0cf"]]}});m("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},errorBars:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#cdcdcd"}},horizontalWaterfall:{line:{color:"#cdcdcd"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}},diagram:{shapeDefaults:{fill:{color:"#10c4b2"},connectorDefaults:{fill:{color:"#363940"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#363940"}}},content:{color:"#4c5356"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#363940"},hover:{fill:{color:"#363940"},stroke:{color:"#363940"}}}},rotate:{thumb:{stroke:{color:"#363940"},fill:{color:"#363940"}}}},selectable:{stroke:{color:"#363940"}},connectionDefaults:{stroke:{color:"#cdcdcd"},content:{color:"#4c5356"},selection:{handles:{fill:{color:h},stroke:{color:"#363940"}},stroke:{color:"#363940"}}}},treeMap:{colors:[["#10c4b2","#cff3f0"],["#ff7663","#ffe4e0"],["#ffb74f","#fff1dc"],["#a2df53","#ecf9dd"],["#1c9ec4","#d2ecf3"],["#ff63a5","#ffe0ed"],["#1cc47b","#d2f3e5"]]}});m("material",{chart:{title:{color:"#444444"},legend:{labels:{color:"#444444"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#444444"},errorBars:{color:"#444444"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#e5e5e5"}},horizontalWaterfall:{line:{color:"#e5e5e5"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#e5e5e5"},labels:{color:"#444444"},minorGridLines:{color:"#e5e5e5"},majorGridLines:{color:"#e5e5e5"},title:{color:"#444444"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#444444"},line:{color:"#e5e5e5"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#e5e5e5",labels:{color:"#444444"},minorTicks:{color:"#444444"},majorTicks:{color:"#444444"},line:{color:"#444444"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#7f7f7f"}}},content:{color:"#444444"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#444444"},hover:{fill:{color:"#444444"},stroke:{color:"#444444"}}}},rotate:{thumb:{stroke:{color:"#444444"},fill:{color:"#444444"}}}},selectable:{stroke:{color:"#444444"}},connectionDefaults:{stroke:{color:"#7f7f7f"},
content:{color:"#444444"},selection:{handles:{fill:{color:h},stroke:{color:"#444444"}},stroke:{color:"#444444"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}});m("materialblack",{chart:{title:{color:"#fff"},legend:{labels:{color:"#fff"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#fff"},errorBars:{color:"#fff"},notes:{icon:{background:"transparent",border:{color:"#e5e5e5"}},label:{color:"#fff"},line:{color:"#e5e5e5"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},waterfall:{line:{color:"#4d4d4d"}},horizontalWaterfall:{line:{color:"#4d4d4d"}},overlay:{gradient:"none"},border:{_brightness:1}},chartArea:{background:"#1c1c1c"},seriesColors:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#ff9800","#ff5722"],axisDefaults:{line:{color:"#4d4d4d"},labels:{color:"#fff"},minorGridLines:{color:"#4d4d4d"},majorGridLines:{color:"#4d4d4d"},title:{color:"#fff"},crosshair:{color:"#7f7f7f"},notes:{icon:{background:"transparent",border:{color:"#4d4d4d"}},label:{color:"#fff"},line:{color:"#4d4d4d"}}}},gauge:{pointer:{color:"#3f51b5"},scale:{rangePlaceholderColor:"#4d4d4d",labels:{color:"#fff"},minorTicks:{color:"#fff"},majorTicks:{color:"#fff"},line:{color:"#fff"}}},diagram:{shapeDefaults:{fill:{color:"#3f51b5"},connectorDefaults:{fill:{color:"#7f7f7f"},stroke:{color:h},hover:{fill:{color:h},stroke:{color:"#7f7f7f"}}},content:{color:"#fff"}},editable:{resize:{handles:{fill:{color:h},stroke:{color:"#fff"},hover:{fill:{color:"#fff"},stroke:{color:"#fff"}}}},rotate:{thumb:{stroke:{color:"#fff"},fill:{color:"#fff"}}}},selectable:{stroke:{color:"#fff"}},connectionDefaults:{stroke:{color:"#7f7f7f"},content:{color:"#fff"},selection:{handles:{fill:{color:h},stroke:{color:"#fff"}},stroke:{color:"#fff"}}}},treeMap:{colors:[["#3f51b5","#cff3f0"],["#03a9f4","#e5f6fe"],["#4caf50","#edf7ed"],["#f9ce1d","#fefae8"],["#ff9800","#fff4e5"],["#ff5722","#ffeee8"]]}});(function(){var a="#333333";var b="#7f7f7f";var c="#bdbdbd";var d="#c8c8c8";var e="#dddddd";var f=["#008fd3","#99d101","#f39b02","#f05662","#c03c53","#acacac"];var g=["#cbe8f5","#eaf5cb","#fceacc","#fbdcdf","#f2d7dc","#eeeeee"];var i=f[0];var j=h;function k(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:d}}}m("fiori",{chart:{title:{color:a},legend:{labels:{color:a},inactiveItems:{labels:{color:b},markers:{color:b}}},seriesDefaults:{labels:{color:a},errorBars:{color:a},notes:k(),candlestick:{downColor:d,line:{color:c}},area:{opacity:.8},waterfall:{line:{color:d}},horizontalWaterfall:{line:{color:d}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:f,axisDefaults:{line:{color:d},labels:{color:a},minorGridLines:{color:e},majorGridLines:{color:d},title:{color:a},crosshair:{color:b},notes:k()}},gauge:{pointer:{color:i},scale:{rangePlaceholderColor:d,labels:{color:a},minorTicks:{color:a},majorTicks:{color:a},line:{color:a}}},diagram:{shapeDefaults:{fill:{color:i},connectorDefaults:{fill:{color:a},stroke:{color:j},hover:{fill:{color:j},stroke:{color:a}}},content:{color:a}},editable:{resize:{handles:{fill:{color:j},stroke:{color:c},hover:{fill:{color:c},stroke:{color:c}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:c}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:j},stroke:{color:c}},stroke:{color:c}}}},treeMap:{colors:n(f,g)}})})();(function(){var a="#4e4e4e";var b="#7f7f7f";var c="#bdbdbd";var d="#c8c8c8";var e="#e5e5e5";var f=["#0072c6","#5db2ff","#008a17","#82ba00","#ff8f32","#ac193d"];var g=["#cbe2f3","#deeffe","#cbe7d0","#e5f0cb","#fee8d5","#eed0d7"];var i=f[0];var j=h;function k(){return{icon:{background:"#00b0ff",border:{color:"#00b0ff"}},label:{color:"#ffffff"},line:{color:d}}}m("office365",{chart:{title:{color:a},legend:{labels:{color:a},inactiveItems:{labels:{color:b},markers:{color:b}}},seriesDefaults:{labels:{color:a},errorBars:{color:a},notes:k(),candlestick:{downColor:d,line:{color:c}},area:{opacity:.8},waterfall:{line:{color:d}},horizontalWaterfall:{line:{color:d}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:f,axisDefaults:{line:{color:d},labels:{color:a},minorGridLines:{color:e},majorGridLines:{color:d},title:{color:a},crosshair:{color:b},notes:k()}},gauge:{pointer:{color:i},scale:{rangePlaceholderColor:d,labels:{color:a},minorTicks:{color:a},majorTicks:{color:a},line:{color:a}}},diagram:{shapeDefaults:{fill:{color:i},connectorDefaults:{fill:{color:a},stroke:{color:j},hover:{fill:{color:j},stroke:{color:a}}},content:{color:a}},editable:{resize:{handles:{fill:{color:j},stroke:{color:c},hover:{fill:{color:c},stroke:{color:c}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:c}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:j},stroke:{color:c}},stroke:{color:c}}}},treeMap:{colors:n(f,g)}})})();(function(){var a="#32364c";var b="#7f7f7f";var c="#bdbdbd";var d="#dfe0e1";var e="#dfe0e1";var f=["#ff4350","#ff9ea5","#00acc1","#80deea","#ffbf46","#ffd78c"];var g=["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"];var i=f[0];var j=h;function k(){return{icon:{background:"#007cc0",border:{color:"#007cc0"}},label:{color:"#ffffff"},line:{color:d}}}m("nova",{chart:{title:{color:a},legend:{labels:{color:a},inactiveItems:{labels:{color:b},markers:{color:b}}},seriesDefaults:{labels:{color:a},errorBars:{color:a},notes:k(),candlestick:{downColor:d,line:{color:c}},area:{opacity:.8},waterfall:{line:{color:d}},horizontalWaterfall:{line:{color:d}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:f,axisDefaults:{line:{color:d},labels:{color:a},minorGridLines:{color:e},majorGridLines:{color:d},title:{color:a},crosshair:{color:a},notes:k()}},gauge:{pointer:{color:i},scale:{rangePlaceholderColor:d,labels:{color:a},minorTicks:{color:a},majorTicks:{color:a},line:{color:a}}},diagram:{shapeDefaults:{fill:{color:i},connectorDefaults:{fill:{color:a},stroke:{color:j},hover:{fill:{color:j},stroke:{color:a}}},content:{color:a}},editable:{resize:{handles:{fill:{color:j},stroke:{color:c},hover:{fill:{color:c},stroke:{color:c}}}},rotate:{thumb:{stroke:{color:c},fill:{color:c}}}},selectable:{stroke:{color:c}},connectionDefaults:{stroke:{color:c},content:{color:c},selection:{handles:{fill:{color:j},stroke:{color:c}},stroke:{color:c}}}},treeMap:{colors:n(f,g)}})})();(function(){var a="#656565";var b="rgba(0, 0, 0, .04)";var c=["#ff6358","#ffd246","#78d237","#28b4c8","#2d73f5","#aa46be"];var d=["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"];var e=c[0];m("default-v2",{chart:{},gauge:{pointer:{color:e},scale:{rangePlaceholderColor:b,labels:{color:a},minorTicks:{color:a},majorTicks:{color:a},line:{color:a}}},diagram:{},treeMap:{colors:n(c,d)}});l.sass=l["default-v2"]})();(function(){var a="#292b2c";var b="rgba(0, 0, 0, .04)";var c=["#0275d8","#5bc0de","#5cb85c","#f0ad4e","#e67d4a","#d9534f"];var d=["#ffd9dc","#ffeced","#cceef3","#e6f8fb","#fff2da","#fff7e8"];var e=c[0];m("bootstrap-v4",{chart:{},gauge:{pointer:{color:e},scale:{rangePlaceholderColor:b,labels:{color:a},minorTicks:{color:a},majorTicks:{color:a},line:{color:a}}},diagram:{},treeMap:{colors:n(c,d)}})})();function n(b,c){return a.map(b,function(a,b){return[[a,c[b]]]})}})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.themes",["kendo.dataviz.core","dataviz/themes/chart-base-theme","dataviz/themes/auto-theme","dataviz/themes/themes"],a)})(function(){var a={id:"dataviz.themes",name:"Themes",description:"Built-in themes for the DataViz widgets",category:"dataviz",depends:["dataviz.core"],hidden:true}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/chart/kendo-chart",["kendo.core","kendo.color","kendo.drawing","kendo.dataviz.core"],a)})(function(){(function(a){window.kendo.dataviz=window.kendo.dataviz||{};var b=kendo.dataviz;var c=b.Class;var d=b.isNumber;var e=b.constants;var f=e.MAX_VALUE;var g=e.MIN_VALUE;var h=e.VALUE;var i=e.CENTER;var j=e.TOP;var k=e.BOTTOM;var l=e.LEFT;var m=e.WHITE;var n=e.CIRCLE;var o=e.X;var p=e.Y;var q=e.RIGHT;var r=e.BLACK;var s=e.DATE;var t=e.DEFAULT_PRECISION;var u=e.ARC;var v=b.defined;var w=b.getter;var x=b.isArray;var y=b.ChartElement;var z=b.Point;var A=b.Box;var B=b.alignPathToPixel;var C=b.setDefaultOptions;var D=b.inArray;var E=b.isFunction;var F=b.valueOrDefault;var G=b.isObject;var H=b.deepExtend;var I=b.last;var J=b.eventElement;var K=b.getTemplate;var L=b.TextBox;var M=b.ShapeElement;var N=b.getSpacing;var O=b.CurveProcessor;var P=b.append;var Q=b.isString;var R=b.parseDate;var S=b.styleValue;var T=b.CategoryAxis;var U=b.BoxElement;var V=b.round;var W=b.grep;var X=b.DateCategoryAxis;var Y=b.elementStyles;var Z=b.hasClasses;var $=b.bindEvents;var _=b.services;var aa=b.unbindEvents;var ba=b.limitValue;var ca=kendo.support;var da=kendo.drawing;var ea=da.Path;var fa=da.Animation;var ga=da.AnimationFactory;var ha=da.Group;var ia=kendo.Color;var ja=kendo.geometry;var ka=ja.Point;var la=ja.transform;var ma=c.extend({init:function(a){this._axis=a;this.options=a.options},value:function(a){var b=this._axis;var c=b.getCategory?b.getCategory(a):b.getValue(a);return c},slot:function(a,b,c){if(c===void 0){c=true}return this._axis.slot(a,b,c)},range:function(){return this._axis.range()},valueRange:function(){return this._axis.valueRange()}});var na=kendo.Class.extend({init:function(a){this.visual=a.visual;this.chartsVisual=a.chartContainer.visual}});var oa=c.extend({init:function(a){this._plotArea=a;this.visual=a.visual;this.backgroundVisual=a._bgVisual}});function pa(a){var b=a.length;var c=0;for(var e=0;e<b;e++){var f=a[e];if(d(f)){c++}}return c}var qa={min:function(a){var b=a.length;var c=f;for(var e=0;e<b;e++){var g=a[e];if(d(g)){c=Math.min(c,g)}}return c===f?a[0]:c},max:function(a){var b=a.length;var c=g;for(var e=0;e<b;e++){var f=a[e];if(d(f)){c=Math.max(c,f)}}return c===g?a[0]:c},sum:function(a){var b=a.length;var c=0;for(var e=0;e<b;e++){var f=a[e];if(d(f)){c+=f}}return c},sumOrNull:function(a){var b=null;if(pa(a)){b=qa.sum(a)}return b},count:function(a){var b=a.length;var c=0;for(var d=0;d<b;d++){var e=a[d];if(e!==null&&v(e)){c++}}return c},avg:function(a){var b=pa(a);var c=a[0];if(b>0){c=qa.sum(a)/b}return c},first:function(a){var b=a.length;for(var c=0;c<b;c++){var d=a[c];if(d!==null&&v(d)){return d}}return a[0]}};function ra(a,b){if(b===null){return b}var c=w(a,true);return c(b)}var sa=c.extend({init:function(){this._valueFields={};this._otherFields={};this._nullValue={};this._undefinedValue={}},register:function(a,b,c){var d=this;if(b===void 0){b=[h]}if(c===void 0){c={}}for(var e=0;e<a.length;e++){var f=a[e];d._valueFields[f]=b;d._otherFields[f]=c;d._nullValue[f]=d._makeValue(b,null);d._undefinedValue[f]=d._makeValue(b,undefined)}},canonicalFields:function(a){return this.valueFields(a).concat(this.otherFields(a))},valueFields:function(a){return this._valueFields[a.type]||[h]},otherFields:function(a){return this._otherFields[a.type]||[h]},bindPoint:function(a,b,c){var d=a.data;var e=v(c)?c:d[b];var f={valueFields:{value:e}};var g=this.valueFields(a);var h=this._otherFields[a.type];var i,j;if(e===null){j=this._nullValue[a.type]}else if(!v(e)){j=this._undefinedValue[a.type]}else if(Array.isArray(e)){var k=e.slice(g.length);j=this._bindFromArray(e,g);i=this._bindFromArray(k,h)}else if(typeof e==="object"){var l=this.sourceFields(a,g);var m=this.sourceFields(a,h);j=this._bindFromObject(e,g,l);i=this._bindFromObject(e,h,m)}if(v(j)){if(g.length===1){f.valueFields.value=j[g[0]]}else{f.valueFields=j}}f.fields=i||{};return f},_makeValue:function(a,b){var c={};var d=a.length;for(var e=0;e<d;e++){var f=a[e];c[f]=b}return c},_bindFromArray:function(a,b){var c={};if(b){var d=Math.min(b.length,a.length);for(var e=0;e<d;e++){c[b[e]]=a[e]}}return c},_bindFromObject:function(a,b,c){if(c===void 0){c=b}var d={};if(b){var e=b.length;for(var f=0;f<e;f++){var g=b[f];var h=c[f];d[g]=ra(h,a)}}return d},sourceFields:function(a,b){var c=[];if(b){var d=b.length;for(var e=0;e<d;e++){var f=b[e];var g=f===h?"field":f+"Field";c.push(a[g]||f)}}return c}});sa.current=new sa;var ta="stderr";var ua="stddev";var va=/percent(?:\w*)\((\d+)\)/;var wa=new RegExp("^"+ua+"(?:\\((\\d+(?:\\.\\d+)?)\\))?$");var xa=c.extend({init:function(a,b,c){this.initGlobalRanges(a,b,c)},initGlobalRanges:function(a,b,c){var d=b.data;var e=wa.exec(a);if(e){this.valueGetter=this.createValueGetter(b,c);var f=this.getAverage(d);var g=this.getStandardDeviation(d,f,false);var h=e[1]?parseFloat(e[1]):1;var i={low:f.value-g*h,high:f.value+g*h};this.globalRange=function(){return i}}else if(a.indexOf&&a.indexOf(ta)>=0){this.valueGetter=this.createValueGetter(b,c);var j=this.getStandardError(d,this.getAverage(d));this.globalRange=function(a){return{low:a-j,high:a+j}}}},createValueGetter:function(a,b){var c=a.data;var f=sa.current;var g=f.valueFields(a);var h=v(c[0])?c[0]:{};var i;if(x(h)){var j=b?g.indexOf(b):0;i=w("["+j+"]")}else if(d(h)){i=w()}else if(typeof h===e.OBJECT){var k=f.sourceFields(a,g);i=w(k[g.indexOf(b)])}return i},getErrorRange:function(a,b){var c,e,f;if(!v(b)){return null}if(this.globalRange){return this.globalRange(a)}if(x(b)){c=a-b[0];e=a+b[1]}else if(d(f=parseFloat(b))){c=a-f;e=a+f}else if(f=va.exec(b)){var g=a*(parseFloat(f[1])/100);c=a-Math.abs(g);e=a+Math.abs(g)}else{throw new Error("Invalid ErrorBar value: "+b)}return{low:c,high:e}},getStandardError:function(a,b){return this.getStandardDeviation(a,b,true)/Math.sqrt(b.count)},getStandardDeviation:function(a,b,c){var e=this;var f=a.length;var g=c?b.count-1:b.count;var h=0;for(var i=0;i<f;i++){var j=e.valueGetter(a[i]);if(d(j)){h+=Math.pow(j-b.value,2)}}return Math.sqrt(h/g)},getAverage:function(a){var b=this;var c=a.length;var e=0;var f=0;for(var g=0;g<c;g++){var h=b.valueGetter(a[g]);if(d(h)){e+=h;f++}}return{value:e/f,count:f}}});var ya=ca.browser||{};var za=600;var Aa="fadeIn";var Ba="glass";var Ca=.8;var Da=5;var Ea=ya.msie?.001:0;var Fa="errorLow";var Ga="errorHigh";var Ha="xErrorLow";var Ia="xErrorHigh";var Ja="yErrorLow";var Ka="yErrorHigh";var La=8;var Ma="zero";var Na="interpolate";var Oa="gap";var Pa="above";var Qa="below";var Ra="smooth";var Sa="step";var Ta="area";var Ua="bar";var Va="boxPlot";var Wa="bubble";var Xa="bullet";var Ya="candlestick";var Za="column";var $a="donut";var _a="funnel";var ab="horizontalWaterfall";var bb="line";var cb="ohlc";var db="pie";var eb="polarArea";var fb="polarLine";var gb="polarScatter";var hb="radarArea";var ib="radarColumn";var jb="radarLine";var kb="rangeArea";var lb="rangeBar";var mb="rangeColumn";var nb="scatter";var ob="scatterLine";var pb="verticalArea";var qb="verticalBoxPlot";var rb="verticalBullet";var sb="verticalLine";var tb="verticalRangeArea";var ub="waterfall";var vb=[Ua,Za,cb,Ya,Va,qb,Xa,mb,lb,ub,ab];var wb="legendItemClick";var xb="legendItemHover";var yb="seriesClick";var zb="seriesHover";var Ab="plotAreaClick";var Bb="plotAreaHover";var Cb="drag";var Db="dragEnd";var Eb="dragStart";var Fb="zoomStart";var Gb="zoom";var Hb="zoomEnd";var Ib="selectStart";var Jb="select";var Kb="selectEnd";var Lb="render";var Mb="showTooltip";var Nb="hideTooltip";var Ob="log";var Pb="category";var Qb="insideEnd";var Rb="insideBase";var Sb="outsideEnd";var Tb="DOMMouseScroll mousewheel";var Ub=150;var Vb={INITIAL_ANIMATION_DURATION:za,FADEIN:Aa,LEGEND_ITEM_CLICK:wb,LEGEND_ITEM_HOVER:xb,SERIES_CLICK:yb,SERIES_HOVER:zb,GLASS:Ba,BORDER_BRIGHTNESS:Ca,TOOLTIP_OFFSET:Da,START_SCALE:Ea,ERROR_LOW_FIELD:Fa,ERROR_HIGH_FIELD:Ga,X_ERROR_LOW_FIELD:Ha,X_ERROR_HIGH_FIELD:Ia,Y_ERROR_LOW_FIELD:Ja,Y_ERROR_HIGH_FIELD:Ka,LINE_MARKER_SIZE:La,INTERPOLATE:Na,ZERO:Ma,SMOOTH:Ra,STEP:Sa,CATEGORY:Pb,FUNNEL:_a,BAR:Ua,CANDLESTICK:Ya,PIE:db,COLUMN:Za,AREA:Ta,VERTICAL_BULLET:rb,BOX_PLOT:Va,OHLC:cb,WATERFALL:ub,LINE:bb,BULLET:Xa,VERTICAL_LINE:sb,VERTICAL_AREA:pb,RANGE_AREA:kb,VERTICAL_RANGE_AREA:tb,RANGE_COLUMN:mb,VERTICAL_BOX_PLOT:qb,RANGE_BAR:lb,HORIZONTAL_WATERFALL:ab,SCATTER:nb,SCATTER_LINE:ob,BUBBLE:Wa,RADAR_AREA:hb,RADAR_LINE:jb,RADAR_COLUMN:ib,POLAR_LINE:fb,POLAR_AREA:eb,POLAR_SCATTER:gb,RENDER:Lb,PLOT_AREA_CLICK:Ab,PLOT_AREA_HOVER:Bb,LOGARITHMIC:Ob,DRAG:Cb,DRAG_START:Eb,DRAG_END:Db,ZOOM_START:Fb,ZOOM:Gb,ZOOM_END:Hb,SELECT_START:Ib,SELECT:Jb,SELECT_END:Kb,GAP:Oa,DONUT:$a,INSIDE_END:Qb,INSIDE_BASE:Rb,OUTSIDE_END:Sb,MOUSEWHEEL:Tb,MOUSEWHEEL_DELAY:Ub,SHOW_TOOLTIP:Mb,HIDE_TOOLTIP:Nb,EQUALLY_SPACED_SERIES:vb,ABOVE:Pa,BELOW:Qa};var Wb=4;var Xb=y.extend({init:function(a,b,c,d,e,f){y.fn.init.call(this,f);this.low=a;this.high=b;this.isVertical=c;this.chart=d;this.series=e},reflow:function(a){var b=this.options.endCaps;var c=this.isVertical;var d=this.getAxis();var e=d.getSlot(this.low,this.high);var f=a.center();var g=this.getCapsWidth(a,c);var h=c?f.x:f.y;var i=h-g;var j=h+g;var k;if(c){k=[new z(f.x,e.y1),new z(f.x,e.y2)];if(b){k.push(new z(i,e.y1),new z(j,e.y1),new z(i,e.y2),new z(j,e.y2))}this.box=new A(i,e.y1,j,e.y2)}else{k=[new z(e.x1,f.y),new z(e.x2,f.y)];if(b){k.push(new z(e.x1,i),new z(e.x1,j),new z(e.x2,i),new z(e.x2,j))}this.box=new A(e.x1,i,e.x2,j)}this.linePoints=k},getCapsWidth:function(a,b){var c=b?a.width():a.height();var d=Math.min(Math.floor(c/2),Wb)||Wb;return d},createVisual:function(){var a=this;var b=this.options;var c=b.visual;if(c){this.visual=c({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:b.endCaps,color:b.color,line:b.line},createVisual:function(){a.createDefaultVisual();var b=a.visual;delete a.visual;return b}})}else{this.createDefaultVisual()}},createDefaultVisual:function(){var a=this;var b=this;var c=b.options;var d=b.linePoints;var e={stroke:{color:c.color,width:c.line.width,dashType:c.line.dashType}};y.fn.createVisual.call(this);for(var f=0;f<d.length;f+=2){var g=new ea(e).moveTo(d[f].x,d[f].y).lineTo(d[f+1].x,d[f+1].y);B(g);a.visual.append(g)}}});C(Xb,{animation:{type:Aa,delay:za},endCaps:true,line:{width:2},zIndex:1});var Yb=Xb.extend({getAxis:function(){var a=this.chart.seriesValueAxis(this.series);return a}});var Zb=5;function $b(a,b,c,d){if(c===void 0){c={}}if(d===void 0){d=false}var e=c.defaults=c.defaults||{};var f=c.depth=c.depth||0;var g=false;c.excluded=c.excluded||[];if(f>Zb){return null}for(var h in a){if(!D(h,c.excluded)&&a.hasOwnProperty(h)){var i=a[h];if(E(i)){g=true;if(!d){a[h]=F(i(b),e[h])}}else if(G(i)){if(!d){c.defaults=e[h]}c.depth++;g=$b(i,b,c,d)||g;c.depth--}}}return g}function _b(a){var b=a.length;var c=0;for(var d=0;d<b;d++){c=Math.max(c,a[d].data.length)}return c}var ac=y.extend({init:function(a,b){y.fn.init.call(this,b);this.plotArea=a;this.chartService=a.chartService;this.categoryAxis=a.seriesCategoryAxis(b.series[0]);this.valueAxisRanges={};this.points=[];this.categoryPoints=[];this.seriesPoints=[];this.seriesOptions=[];this._evalSeries=[];this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},pointOptions:function(a,b){var c=this.seriesOptions[b];if(!c){var d=this.pointType().prototype.defaults;this.seriesOptions[b]=c=H({},d,{vertical:!this.options.invertAxes},a)}return c},plotValue:function(a){if(!a){return 0}if(this.options.isStacked100&&d(a.value)){var b=a.categoryIx;var c=this.categoryPoints[b];var e=[];var f=0;for(var g=0;g<c.length;g++){var h=c[g];if(h){var i=a.series.stack;var j=h.series.stack;if(i&&j&&i.group!==j.group){continue}if(d(h.value)){f+=Math.abs(h.value);e.push(Math.abs(h.value))}}}if(f>0){return a.value/f}}return a.value},plotRange:function(a,c){var d=this;if(c===void 0){c=0}var f=this.categoryPoints[a.categoryIx];if(this.options.isStacked){var g=this.plotValue(a);var h=g>=0;var i=c;var j=false;for(var k=0;k<f.length;k++){var l=f[k];if(a===l){break}var m=a.series.stack;var n=l.series.stack;if(m&&n){if(typeof m===e.STRING&&m!==n){continue}if(m.group&&m.group!==n.group){continue}}var o=d.plotValue(l);if(o>=0&&h||o<0&&!h){i+=o;g+=o;j=true;if(d.options.isStacked100){g=Math.min(g,1)}}}if(j){i-=c}return[i,g]}var p=a.series;var q=this.seriesValueAxis(p);var r=this.categoryAxisCrossingValue(q);return[r,b.convertableToNumber(a.value)?a.value:r]},stackLimits:function(a,b){var c=this;var d=f;var e=g;for(var h=0;h<this.categoryPoints.length;h++){var i=c.categoryPoints[h];if(!i){continue}for(var j=0;j<i.length;j++){var k=i[j];if(k){if(k.series.stack===b||k.series.axis===a){var l=c.plotRange(k,0)[1];if(v(l)&&isFinite(l)){e=Math.max(e,l);d=Math.min(d,l)}}}}}return{min:d,max:e}},updateStackRange:function(){var a=this;var c=this.options;var d=c.isStacked;var e=c.series;var h={};if(d){for(var i=0;i<e.length;i++){var j=e[i];var k=j.axis;var l=k+j.stack;var m=h[l];if(!m){m=a.stackLimits(k,j.stack);var n=a.errorTotals;if(n){if(n.negative.length){m.min=Math.min(m.min,b.sparseArrayLimits(n.negative).min)}if(n.positive.length){m.max=Math.max(m.max,b.sparseArrayLimits(n.positive).max)}}if(m.min!==f||m.max!==g){h[l]=m}else{m=null}}if(m){a.valueAxisRanges[k]=m}}}},addErrorBar:function(a,b,c){var e=a.value;var f=a.series;var g=a.seriesIx;var i=a.options.errorBars;var j=b.fields[Fa];var k=b.fields[Ga];var l;if(d(j)&&d(k)){l={low:j,high:k}}else if(i&&v(i.value)){this.seriesErrorRanges=this.seriesErrorRanges||[];this.seriesErrorRanges[g]=this.seriesErrorRanges[g]||new xa(i.value,f,h);l=this.seriesErrorRanges[g].getErrorRange(e,i.value)}if(l){a.low=l.low;a.high=l.high;this.addPointErrorBar(a,c)}},addPointErrorBar:function(a,b){var c=!this.options.invertAxes;var d=a.options.errorBars;var e=a.series;var f=a.low;var g=a.high;if(this.options.isStacked){var h=this.stackedErrorRange(a,b);f=h.low;g=h.high}else{var i={categoryIx:b,series:e};this.updateRange({value:f},i);this.updateRange({value:g},i)}var j=new Yb(f,g,c,this,e,d);a.errorBars=[j];a.append(j)},stackedErrorRange:function(a,b){var c=this.plotRange(a,0)[1]-a.value;var d=a.low+c;var e=a.high+c;this.errorTotals=this.errorTotals||{positive:[],negative:[]};if(d<0){this.errorTotals.negative[b]=Math.min(this.errorTotals.negative[b]||0,d)}if(e>0){this.errorTotals.positive[b]=Math.max(this.errorTotals.positive[b]||0,e)}return{low:d,high:e}},addValue:function(b,c){var d=c.categoryIx;var e=c.series;var f=c.seriesIx;var g=this.categoryPoints[d];if(!g){this.categoryPoints[d]=g=[]}var h=this.seriesPoints[f];if(!h){this.seriesPoints[f]=h=[]}var i=this.createPoint(b,c);if(i){a.extend(i,c);i.owner=this;i.noteText=b.fields.noteText;if(!v(i.dataItem)){i.dataItem=e.data[d]}this.addErrorBar(i,b,d)}this.points.push(i);h.push(i);g.push(i);this.updateRange(b.valueFields,c)},evalPointOptions:function(a,b,c,d,e,f){var g={defaults:e._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};var h=this._evalSeries[f];if(!v(h)){this._evalSeries[f]=h=$b(a,{},g,true)}var i=a;if(h){i=H({},i);$b(i,{value:b,category:c,index:d,series:e,dataItem:e.data[d]},g)}return i},updateRange:function(a,b){var c=b.series.axis;var d=a.value;var e=this.valueAxisRanges[c];if(isFinite(d)&&d!==null){e=this.valueAxisRanges[c]=e||{min:f,max:g};e.min=Math.min(e.min,d);e.max=Math.max(e.max,d)}},seriesValueAxis:function(a){var b=this.plotArea;var c=a.axis;var d=c?b.namedValueAxes[c]:b.valueAxis;if(!d){throw new Error("Unable to locate value axis with name "+c)}return d},reflow:function(a){var b=this;var c=this.categorySlots=[];var d=this.points;var e=this.categoryAxis;var f=0;this.traverseDataPoints(function(a,g){var h=g.categoryIx;var i=g.series;var j=b.seriesValueAxis(i);var k=d[f++];var l=c[h];if(!l){c[h]=l=b.categorySlot(e,h,j)}if(k){var m=b.plotRange(k,j.startValue());var n=b.valueSlot(j,m);if(n){var o=b.pointSlot(l,n);k.aboveAxis=b.aboveAxis(k,j);k.stackValue=m[1];if(b.options.isStacked100){k.percentage=b.plotValue(k)}b.reflowPoint(k,o)}else{k.visible=false}}});this.reflowCategories(c);if(!this.options.clip&&this.options.limitPoints&&this.points.length){this.limitPoints()}this.box=a},valueSlot:function(a,b){return a.getSlot(b[0],b[1],!this.options.clip)},limitPoints:function(){var a=this;var b=this.categoryPoints;var c=b[0].concat(I(b));for(var d=0;d<c.length;d++){if(c[d]){a.limitPoint(c[d])}}},limitPoint:function(a){var b=this.categoryAxis.limitSlot(a.box);if(!b.equals(a.box)){a.reflow(b)}},aboveAxis:function(a,b){var c=this.categoryAxisCrossingValue(b);var d=a.value;return b.options.reverse?d<c:d>=c},categoryAxisCrossingValue:function(a){var b=this.categoryAxis;var c=a.options;var d=[].concat(c.axisCrossingValues||c.axisCrossingValue);return d[b.axisIndex||0]||0},reflowPoint:function(a,b){a.reflow(b)},reflowCategories:function(){},pointSlot:function(a,b){var c=this.options;var d=c.invertAxes;var e=d?b:a;var f=d?a:b;return new A(e.x1,f.y1,e.x2,f.y2)},categorySlot:function(a,b){return a.getSlot(b)},traverseDataPoints:function(a){var b=this;var c=this.options.series;var d=this.categoryAxis.options.categories||[];var e=_b(c);var f=c.length;for(var g=0;g<f;g++){b._outOfRangeCallback(c[g],"_outOfRangeMinPoint",g,a)}for(var h=0;h<e;h++){for(var i=0;i<f;i++){var j=c[i];var k=d[h];var l=b._bindPoint(j,i,h);a(l,{category:k,categoryIx:h,series:j,seriesIx:i})}}for(var m=0;m<f;m++){b._outOfRangeCallback(c[m],"_outOfRangeMaxPoint",m,a)}},_outOfRangeCallback:function(a,b,c,d){var e=a[b];if(e){var f=e.categoryIx;var g=this._bindPoint(a,c,f,e.item);d(g,{category:e.category,categoryIx:f,series:a,seriesIx:c,dataItem:e.item})}},_bindPoint:function(a,b,c,d){if(!this._bindCache){this._bindCache=[]}var e=this._bindCache[b];if(!e){e=this._bindCache[b]=[]}var f=e[c];if(!f){f=e[c]=sa.current.bindPoint(a,c,d)}return f},formatPointValue:function(a,b){if(a.value===null){return""}return this.chartService.format.auto(b,a.value)},pointValue:function(a){return a.valueFields.value}});C(ac,{series:[],invertAxes:false,isStacked:false,clip:true,limitPoints:true});var bc={click:function(a,b){return a.trigger(yb,this.eventArgs(b))},hover:function(a,b){return a.trigger(zb,this.eventArgs(b))},eventArgs:function(a){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:J(a),originalEvent:a,point:this}}};var cc={createNote:function(){var a=this.options.notes;var c=this.noteText||a.label.text;if(a.visible!==false&&v(c)&&c!==null){this.note=new b.Note({value:this.value,text:c,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService);this.append(this.note)}}};var dc=y.extend({init:function(a,b){y.fn.init.call(this);this.value=a;this.options=b;this.aboveAxis=F(this.options.aboveAxis,true);this.tooltipTracking=true},render:function(){var a=this.options;var b=a.markers;var c=a.labels;if(this._rendered){return}this._rendered=true;if(b.visible&&b.size){this.marker=this.createMarker();this.append(this.marker)}if(c.visible){var d=K(c);var e=this.value;if(d){e=d({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series})}else if(c.format){e=this.formatValue(c.format)}this.label=new L(e,H({align:i,vAlign:i,margin:{left:5,right:5},zIndex:F(c.zIndex,this.series.zIndex)},c));this.append(this.label)}this.createNote();if(this.errorBar){this.append(this.errorBar)}},markerBorder:function(){var a=this.options.markers;var b=a.background;var c=H({color:this.color},a.border);if(!v(c.color)){c.color=new ia(b).brightness(Ca).toHex()}return c},createVisual:function(){},createMarker:function(){var a=this.options.markers;var b=new M({type:a.type,width:a.size,height:a.size,rotation:a.rotation,background:a.background,border:this.markerBorder(),opacity:a.opacity,zIndex:F(a.zIndex,this.series.zIndex),animation:a.animation,visual:a.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});return b},markerBox:function(){if(!this.marker){this.marker=this.createMarker();this.marker.reflow(this._childBox)}return this.marker.box},reflow:function(a){var b=this;var c=this;var d=c.options;var e=c.aboveAxis;var f=d.vertical;this.render();this.box=a;var g=a.clone();if(f){if(e){g.y1-=g.height()}else{g.y2+=g.height()}}else{if(e){g.x1+=g.width()}else{g.x2-=g.width()}}this._childBox=g;if(this.marker){this.marker.reflow(g)}this.reflowLabel(g);if(this.errorBars){for(var h=0;h<this.errorBars.length;h++){b.errorBars[h].reflow(g)}}if(this.note){var i=this.markerBox();if(!(d.markers.visible&&d.markers.size)){var j=i.center();i=new A(j.x,j.y,j.x,j.y)}this.note.reflow(i)}},reflowLabel:function(a){var b=this;var c=b.options;var d=b.label;var e=c.labels.position;if(d){e=e===Pa?j:e;e=e===Qa?k:e;d.reflow(a);d.box.alignTo(this.markerBox(),e);d.reflow(d.box)}},createHighlight:function(){var a=this.options.highlight.markers;var b=this.markerBorder().color;var c=this.options.markers;var d=c.size+(c.border.width||0)+(a.border.width||0);var e=new M({type:c.type,width:d,height:d,rotation:c.rotation,background:a.color||b,border:{color:a.border.color,width:a.border.width,opacity:F(a.border.opacity,1)},opacity:F(a.opacity,1)});e.reflow(this._childBox);return e.getElement()},highlightVisual:function(){return(this.marker||{}).visual},highlightVisualArgs:function(){var a=this.marker;var b,c;if(a){c=a.paddingBox.toRect();b=a.visual}else{var d=this.options.markers.size;var e=d/2;var f=this.box.center();c=new ja.Rect([f.x-e,f.y-e],[d,d])}return{options:this.options,rect:c,visual:b}},tooltipAnchor:function(){var a=this.markerBox();var b=this.owner.pane.clipBox();var c=!b||b.overlaps(a);if(c){var d=a.x2+Da;var e=l;var f,g;if(this.aboveAxis){f=a.y1;g=k}else{f=a.y2;g=j}return{point:new z(d,f),align:{horizontal:e,vertical:g}}}},formatValue:function(a){return this.owner.formatPointValue(this,a)},overlapsBox:function(a){var b=this.markerBox();return b.overlaps(a)},unclipElements:function(){if(this.label){this.label.options.noclip=true}if(this.note){this.note.options.noclip=true}}});dc.prototype.defaults={vertical:true,markers:{visible:true,background:m,size:La,type:n,border:{width:2},opacity:1},labels:{visible:false,position:Pa,margin:N(3),padding:N(4),animation:{type:Aa,delay:za}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:e.HIGHLIGHT_ZINDEX},errorBars:{line:{width:1}}};H(dc.prototype,bc);H(dc.prototype,cc);var ec=y.extend({init:function(a,b,c){y.fn.init.call(this);this.linePoints=a;this.series=b;this.seriesIx=c},points:function(){return this.toGeometryPoints(this.linePoints)},toGeometryPoints:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){if(a[c]&&a[c].visible!==false){b.push(a[c]._childBox.toRect().center())}}return b},createVisual:function(){var a=this;var b=a.options;var c=a.series;var d=c.color;var e=c._defaults;if(E(d)&&e){d=e.color}var f=ea.fromPoints(this.points(),{stroke:{color:d,width:c.width,opacity:c.opacity,dashType:c.dashType},zIndex:c.zIndex});if(b.closed){f.close()}this.visual=f},aliasFor:function(a,b){return this.parent.getNearestPoint(b.x,b.y,this.seriesIx)}});C(ec,{closed:false});var fc={calculateStepPoints:function(a){var b=this.parent.plotArea.seriesCategoryAxis(this.series);var c=b.options;var d=c.justified;var e=c.vertical;var f=c.reverse;var g=e?o:p;var h=e?p:o;var i=f?2:1;var j=i;var k=gc(a[0],g,i,h,j);var l=[k];for(var m=1;m<a.length;m++){var n=gc(a[m],g,i,h,j);if(k[g]!==n[g]){var q=new ka;q[g]=k[g];q[h]=n[h];l.push(q,n)}k=n}if(!d){l.push(gc(I(a),g,i,h,f?1:2))}else if(k!==I(l)){l.push(k)}return l}};function gc(a,b,c,d,e){var f=a.box;var g=new ka;g[b]=f[b+c];g[d]=f[d+e];return g}var hc=ec.extend({points:function(){return this.calculateStepPoints(this.linePoints)}});H(hc.prototype,fc);var ic=ec.extend({createVisual:function(){var a=this.series;var b=a._defaults;var c=a.color;if(E(c)&&b){c=b.color}var d=new O(this.options.closed);var e=d.process(this.points());var f=new ea({stroke:{color:c,width:a.width,opacity:a.opacity,dashType:a.dashType},zIndex:a.zIndex
});f.segments.push.apply(f.segments,e);this.visual=f}});var jc={renderSegments:function(){var a=this;var b=this;var c=b.options;var d=b.seriesPoints;var e=c.series;var f=d.length;var g;this._segments=[];for(var h=0;h<f;h++){var i=e[h];var j=a.sortPoints(d[h]);var k=j.length;var l=[];for(var m=0;m<k;m++){var n=j[m];if(n){l.push(n)}else if(a.seriesMissingValues(i)!==Na){if(l.length>1){g=a.createSegment(l,i,h,g);a._addSegment(g)}l=[]}}if(l.length>1){g=a.createSegment(l,i,h,g);a._addSegment(g)}}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(a){this._segments.push(a);a.parent=this},sortPoints:function(a){return a},seriesMissingValues:function(a){var b=a.missingValues;var c=!b&&this.options.isStacked;return c?Ma:b||Na},getNearestPoint:function(a,b,c){var d=new z(a,b);var e=this.seriesPoints[c];var g=f;var h;for(var i=0;i<e.length;i++){var j=e[i];if(j&&v(j.value)&&j.value!==null&&j.visible!==false){var k=j.box;var l=k.center().distanceTo(d);if(l<g){h=j;g=l}}}return h}};var kc=fa.extend({setup:function(){this._setEnd(this.options.box.x1)},step:function(a){var c=this.options.box;this._setEnd(b.interpolateValue(c.x1,c.x2,a))},_setEnd:function(a){var b=this.element;var c=b.segments;var d=c[1].anchor();var e=c[2].anchor();b.suspend();d.setX(a);b.resume();e.setX(a)}});C(kc,{duration:za});ga.current.register("clip",kc);function lc(a){for(var b=0;b<a.length;b++){if(v(a[b].zIndex)){return true}}}var mc={createAnimation:function(){var a=this.getRoot();if(a&&(a.options||{}).transitions!==false){var b=a.box;var c=ea.fromRect(b.toRect());this.visual.clip(c);this.animation=new kc(c,{box:b});if(lc(this.options.series)){this._setChildrenAnimation(c)}}},_setChildrenAnimation:function(a){var b=this.animationPoints();for(var c=0;c<b.length;c++){var d=b[c];if(d&&d.visual&&v(d.visual.options.zIndex)){d.visual.clip(a)}}}};var nc=ac.extend({render:function(){ac.fn.render.call(this);this.updateStackRange();this.renderSegments()},pointType:function(){return dc},createPoint:function(a,b){var c=b.categoryIx;var d=b.category;var e=b.series;var f=b.seriesIx;var g=this.seriesMissingValues(e);var h=a.valueFields.value;if(!v(h)||h===null){if(g===Ma){h=0}else{return null}}var i=this.pointOptions(e,f);i=this.evalPointOptions(i,h,d,c,e,f);var j=a.fields.color||e.color;if(E(e.color)){j=i.color}var k=new dc(h,i);k.color=j;this.append(k);return k},plotRange:function(a){var b=this;var c=this.plotValue(a);if(this.options.isStacked){var d=a.categoryIx;var e=this.categoryPoints[d];for(var f=0;f<e.length;f++){var g=e[f];if(a===g){break}c+=b.plotValue(g);if(b.options.isStacked100){c=Math.min(c,1)}}}return[c,c]},createSegment:function(a,b,c){var d=b.style;var e;if(d===Sa){e=hc}else if(d===Ra){e=ic}else{e=ec}return new e(a,b,c)},animationPoints:function(){var a=this.points;var b=[];for(var c=0;c<a.length;c++){b.push((a[c]||{}).marker)}return b.concat(this._segments)}});H(nc.prototype,jc,mc);var oc=ec.extend({init:function(a,b,c,d,e){ec.fn.init.call(this,a,b,c);this.prevSegment=d;this.stackPoints=e},createVisual:function(){var a=this.series;var b=a._defaults;var c=a.line||{};var d=a.color;if(E(d)&&b){d=b.color}this.visual=new ha({zIndex:a.zIndex});this.createFill({fill:{color:d,opacity:a.opacity},stroke:null});if(c.width>0&&c.visible!==false){this.createStroke({stroke:H({color:d,opacity:a.opacity,lineCap:"butt"},c)})}},strokeSegments:function(){var a=this._strokeSegments;if(!a){a=this._strokeSegments=this.createStrokeSegments()}return a},createStrokeSegments:function(){return this.segmentsFromPoints(this.points())},stackSegments:function(){if(this.prevSegment){return this.prevSegment.createStackSegments(this.stackPoints)}return this.createStackSegments(this.stackPoints)},createStackSegments:function(a){return this.segmentsFromPoints(this.toGeometryPoints(a)).reverse()},segmentsFromPoints:function(a){return a.map(function(a){return new ja.Segment(a)})},createStroke:function(a){var b=new ea(a);b.segments.push.apply(b.segments,this.strokeSegments());this.visual.append(b)},hasStackSegment:function(){return this.prevSegment||this.stackPoints&&this.stackPoints.length},createFill:function(a){var b=this.strokeSegments();var c=b.slice(0);var d=this.hasStackSegment();if(d){var e=this.stackSegments();P(c,e)}var f=new ea(a);f.segments.push.apply(f.segments,c);if(!d&&b.length>1){this.fillToAxes(f)}this.visual.append(f)},fillToAxes:function(a){var b=this.parent;var c=b.options.invertAxes;var d=b.seriesValueAxis(this.series);var e=b.categoryAxisCrossingValue(d);var f=d.getSlot(e,e,true);var g=this.strokeSegments();var h=g[0].anchor();var i=I(g).anchor();var j=c?f.x1:f.y1;if(c){a.lineTo(j,i.y).lineTo(j,h.y)}else{a.lineTo(i.x,j).lineTo(h.x,j)}}});var pc=oc.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))},createStackSegments:function(a){return this.segmentsFromPoints(this.calculateStepPoints(a)).reverse()}});H(pc.prototype,fc);var qc=oc.extend({createStrokeSegments:function(){var a=new O(this.options.closed);var b=this.points();return a.process(b)},createStackSegments:function(){var a=this.strokeSegments();var b=[];for(var c=a.length-1;c>=0;c--){var d=a[c];b.push(new ja.Segment(d.anchor(),d.controlOut(),d.controlIn()))}return b}});var rc=nc.extend({createSegment:function(a,b,c,d){var e=this.options.isStacked;var f=(b.line||{}).style;var g;var h;if(e&&c>0&&d){var i=this.seriesMissingValues(b);if(i!=="gap"){h=d.linePoints;g=d}else{h=this._gapStackPoints(a,c,f)}}var j;if(f===Sa){j=pc}else if(f===Ra){j=qc}else{j=oc}return new j(a,b,c,g,h)},reflow:function(a){var b=this;nc.fn.reflow.call(this,a);var c=this._stackPoints;if(c){for(var d=0;d<c.length;d++){var e=c[d];var f=b.categoryAxis.getSlot(e.categoryIx);e.reflow(f)}}},_gapStackPoints:function(a,b,c){var d=this;var e=this.seriesPoints;var f=a[0].categoryIx;var g=a.length;if(f<0){f=0;g--}var h=f+g;var i=this.seriesOptions[0]._outOfRangeMinPoint?1:0;var j=[];this._stackPoints=this._stackPoints||[];for(var k=f;k<h;k++){var l=k+i;var m=b;var n=void 0;do{m--;n=e[m][l]}while(m>0&&!n);if(n){if(c!==Sa&&k>f&&!e[m][l-1]){j.push(d._previousSegmentPoint(k,l,l-1,m))}j.push(n);if(c!==Sa&&k+1<h&&!e[m][l+1]){j.push(d._previousSegmentPoint(k,l,l+1,m))}}else{var o=d._createGapStackPoint(k);d._stackPoints.push(o);j.push(o)}}return j},_previousSegmentPoint:function(a,b,c,d){var e=this.seriesPoints;var f=d;var g;while(f>0&&!g){f--;g=e[f][c]}if(!g){g=this._createGapStackPoint(a);this._stackPoints.push(g)}else{g=e[f][b]}return g},_createGapStackPoint:function(a){var b=this.pointOptions({},0);var c=new dc(0,b);c.categoryIx=a;c.series={};return c},seriesMissingValues:function(a){return a.missingValues||Ma}});var sc=c.extend({init:function(){this.axisRanges={}},update:function(a){var b=this.axisRanges;for(var c in a){var d=a[c];var e=b[c];b[c]=e=e||{min:f,max:g};e.min=Math.min(e.min,d.min);e.max=Math.max(e.max,d.max)}},reset:function(a){this.axisRanges[a]=undefined},query:function(a){return this.axisRanges[a]}});var tc=y.extend({init:function(a,b){y.fn.init.call(this,b);this.textBox=new L(a,this.options);this.append(this.textBox)},createVisual:function(){this.textBox.options.noclip=this.options.noclip},reflow:function(a){var b=this.options;var c=b.vertical;var d=b.aboveAxis;var e=this.children[0];var f=e.options;var g=e.box;var h=e.options.padding;var m=a;f.align=c?i:l;f.vAlign=c?j:i;if(b.position===Qb){if(c){f.vAlign=j;if(!d&&g.height()<a.height()){f.vAlign=k}}else{f.align=d?q:l}}else if(b.position===i){f.vAlign=i;f.align=i}else if(b.position===Rb){if(c){f.vAlign=d?k:j}else{f.align=d?l:q}}else if(b.position===Sb){if(c){if(d){m=new A(a.x1,a.y1-g.height(),a.x2,a.y1)}else{m=new A(a.x1,a.y2,a.x2,a.y2+g.height())}}else{f.align=i;if(d){m=new A(a.x2,a.y1,a.x2+g.width(),a.y2)}else{m=new A(a.x1-g.width(),a.y1,a.x1,a.y2)}}}if(!b.rotation){if(c){h.left=h.right=(m.width()-e.contentBox.width())/2}else{h.top=h.bottom=(m.height()-e.contentBox.height())/2}}e.reflow(m)},alignToClipBox:function(a){var b=this.options.vertical;var c=b?p:o;var d=c+"1";var e=c+"2";var f=this.children[0];var g=this.parent.box;if(g[d]<a[d]||a[e]<g[e]){var h=f.paddingBox.clone();h[d]=Math.max(g[d],a[d]);h[e]=Math.min(g[e],a[e]);this.reflow(h)}}});C(tc,{position:Sb,margin:N(3),padding:N(4),color:r,background:"",border:{width:1,color:""},aboveAxis:true,vertical:false,animation:{type:Aa,delay:za},zIndex:2});function uc(a){var b=a.overlay;return b&&b.gradient&&b.gradient!=="none"}var vc=6;var wc=y.extend({init:function(a,b){y.fn.init.call(this);this.options=b;this.color=b.color||m;this.aboveAxis=F(this.options.aboveAxis,true);this.value=a},render:function(){if(this._rendered){return}this._rendered=true;this.createLabel();this.createNote();if(this.errorBar){this.append(this.errorBar)}},createLabel:function(){var a=this.options;var b=a.labels;if(b.visible){var c=K(b);var d;if(c){d=c({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series})}else{d=this.formatValue(b.format)}this.label=new tc(d,H({vertical:a.vertical},b));this.append(this.label)}},formatValue:function(a){return this.owner.formatPointValue(this,a)},reflow:function(a){var b=this;this.render();var c=this.label;this.box=a;if(c){c.options.aboveAxis=this.aboveAxis;c.reflow(a)}if(this.note){this.note.reflow(a)}if(this.errorBars){for(var d=0;d<this.errorBars.length;d++){b.errorBars[d].reflow(a)}}},createVisual:function(){var a=this;var b=this;var c=b.box;var d=b.options;var e=d.visual;if(this.visible!==false){y.fn.createVisual.call(this);if(e){var f=this.rectVisual=e({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:c.toRect(),createVisual:function(){var b=new ha;a.createRect(b);return b},options:d});if(f){this.visual.append(f)}}else if(c.width()>0&&c.height()>0){this.createRect(this.visual)}}},createRect:function(a){var b=this.options;var c=b.border;var d=v(c.opacity)?c.opacity:b.opacity;var e=this.box.toRect();e.size.width=Math.round(e.size.width);var f=this.rectVisual=ea.fromRect(e,{fill:{color:this.color,opacity:b.opacity},stroke:{color:this.getBorderColor(),width:c.width,opacity:d,dashType:c.dashType}});var g=this.box.width();var h=this.box.height();var i=b.vertical?g:h;if(i>vc){B(f);if(g<1||h<1){f.options.stroke.lineJoin="round"}}a.append(f);if(uc(b)){var j=this.createGradientOverlay(f,{baseColor:this.color},H({end:!b.vertical?[0,1]:undefined},b.overlay));a.append(j)}},createHighlight:function(a){var b=ea.fromRect(this.box.toRect(),a);return B(b)},highlightVisual:function(){return this.rectVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}},getBorderColor:function(){var a=this.color;var b=this.options.border;var c=b._brightness||Ca;var d=b.color;if(!v(d)){d=new ia(a).brightness(c).toHex()}return d},tooltipAnchor:function(){var a=this;var b=a.options;var c=a.box;var d=a.aboveAxis;var e=this.owner.pane.clipBox()||c;var f=l;var g=j;var h,i;if(b.vertical){h=Math.min(c.x2,e.x2)+Da;if(d){i=Math.max(c.y1,e.y1)}else{i=Math.min(c.y2,e.y2);g=k}}else{var m=Math.max(c.x1,e.x1);var n=Math.min(c.x2,e.x2);if(b.isStacked){g=k;if(d){f=q;h=n}else{h=m}i=Math.max(c.y1,e.y1)-Da}else{if(d){h=n+Da}else{h=m-Da;f=q}i=Math.max(c.y1,e.y1)}}return{point:new z(h,i),align:{horizontal:f,vertical:g}}},overlapsBox:function(a){return this.box.overlaps(a)}});H(wc.prototype,bc);H(wc.prototype,cc);wc.prototype.defaults={border:{width:1},vertical:true,overlay:{gradient:"glass"},labels:{visible:false,format:"{0}"},opacity:1,notes:{label:{}}};function xc(a,b){a.forEach(b)}function yc(a,b){var c=a.length;for(var d=c-1;d>=0;d--){b(a[d],d-c-1)}}var zc=y.extend({init:function(a){y.fn.init.call(this,a);this.forEach=a.rtl?yc:xc},reflow:function(a){var b=this.options;var c=b.vertical;var d=b.gap;var e=b.spacing;var f=this.children;var g=f.length;var h=c?p:o;var i=g+d+e*(g-1);var j=(c?a.height():a.width())/i;var k=a[h+1]+j*(d/2);this.forEach(f,function(b,c){var d=(b.box||a).clone();d[h+1]=k;d[h+2]=k+j;b.reflow(d);if(c<g-1){k+=j*e}k+=j})}});C(zc,{vertical:false,gap:0,spacing:0});var Ac=y.extend({reflow:function(a){var b=this;var c=this.options.vertical?o:p;var d=this.children;var e=d.length;var f=this.box=new A;for(var g=0;g<e;g++){var h=d[g];if(h.visible!==false){var i=h.box.clone();i.snapTo(a,c);if(g===0){f=b.box=i.clone()}h.reflow(i);f.wrap(i)}}}});C(Ac,{vertical:true});var Bc=ac.extend({render:function(){ac.fn.render.call(this);this.updateStackRange()},pointType:function(){return wc},clusterType:function(){return zc},stackType:function(){return Ac},stackLimits:function(a,b){var c=ac.fn.stackLimits.call(this,a,b);return c},createPoint:function(a,b){var c=b.categoryIx;var d=b.category;var e=b.series;var f=b.seriesIx;var g=this;var h=g.options;var i=g.children;var j=h.isStacked;var k=this.pointValue(a);var l=this.pointOptions(e,f);var m=l.labels;if(j){if(m.position===Sb){m.position=Qb}}l.isStacked=j;var n=a.fields.color||e.color;if(k<0&&l.negativeColor){n=l.negativeColor}l=this.evalPointOptions(l,k,d,c,e,f);if(E(e.color)){n=l.color}var o=this.pointType();var p=new o(k,l);p.color=n;var q=i[c];if(!q){var r=this.clusterType();q=new r({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing,rtl:!h.invertAxes&&(this.chartService||{}).rtl});this.append(q)}if(j){var s=this.getStackWrap(e,q);s.append(p)}else{q.append(p)}return p},getStackWrap:function(a,b){var c=a.stack;var d=c?c.group||c:c;var f=b.children;var g;if(typeof d===e.STRING){for(var h=0;h<f.length;h++){if(f[h]._stackGroup===d){g=f[h];break}}}else{g=f[0]}if(!g){var i=this.stackType();g=new i({vertical:!this.options.invertAxes});g._stackGroup=d;b.append(g)}return g},categorySlot:function(a,b,c){var d=this.options;var e=a.getSlot(b);var f=c.startValue();if(d.isStacked){var g=c.getSlot(f,f,true);var h=d.invertAxes?o:p;e[h+1]=e[h+2]=g[h+1]}return e},reflowCategories:function(a){var b=this.children;var c=b.length;for(var d=0;d<c;d++){b[d].reflow(a[d])}},createAnimation:function(){this._setAnimationOptions();ac.fn.createAnimation.call(this);if(lc(this.options.series)){this._setChildrenAnimation()}},_setChildrenAnimation:function(){var a=this;var b=this.points;for(var c=0;c<b.length;c++){var d=b[c];var e=d.visual;if(e&&v(e.options.zIndex)){d.options.animation=a.options.animation;d.createAnimation()}}},_setAnimationOptions:function(){var a=this.options;var b=a.animation||{};var c;if(a.isStacked){var d=this.seriesValueAxis(a.series[0]);c=d.getSlot(d.startValue())}else{c=this.categoryAxis.getSlot(0)}b.origin=new ka(c.x1,c.y1);b.vertical=!a.invertAxes}});C(Bc,{animation:{type:Ua}});var Cc=y.extend({init:function(a,b){y.fn.init.call(this,b);this.value=a},reflow:function(a){var b=this;var c=b.options;var d=b.value;var e=b.owner;var f=e.seriesValueAxis(c);var g=f.getSlot(d.open,d.close);var h=f.getSlot(d.low,d.high);g.x1=h.x1=a.x1;g.x2=h.x2=a.x2;this.realBody=g;var i=h.center().x;var j=[];j.push([[i,h.y1],[i,g.y1]]);j.push([[i,g.y2],[i,h.y2]]);this.lines=j;this.box=h.clone().wrap(g);if(!this._rendered){this._rendered=true;this.createNote()}this.reflowNote()},reflowNote:function(){if(this.note){this.note.reflow(this.box)}},createVisual:function(){y.fn.createVisual.call(this);this._mainVisual=this.mainVisual(this.options);this.visual.append(this._mainVisual);this.createOverlay()},mainVisual:function(a){var b=new ha;this.createBody(b,a);this.createLines(b,a);return b},createBody:function(a,b){var c=ea.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:b.opacity},stroke:null});if(b.border.width>0){c.options.set("stroke",{color:this.getBorderColor(),width:b.border.width,dashType:b.border.dashType,opacity:F(b.border.opacity,b.opacity)})}B(c);a.append(c);if(uc(b)){a.append(this.createGradientOverlay(c,{baseColor:this.color},H({end:!b.vertical?[0,1]:undefined},b.overlay)))}},createLines:function(a,b){this.drawLines(a,b,this.lines,b.line)},drawLines:function(a,b,c,d){if(!c){return}var e={stroke:{color:d.color||this.color,opacity:F(d.opacity,b.opacity),width:d.width,dashType:d.dashType,lineCap:"butt"}};for(var f=0;f<c.length;f++){var g=ea.fromPoints(c[f],e);B(g);a.append(g)}},getBorderColor:function(){var a=this.options.border;var b=a.color;if(!v(b)){b=new ia(this.color).brightness(a._brightness).toHex()}return b},createOverlay:function(){var a=ea.fromRect(this.box.toRect(),{fill:{color:m,opacity:0},stroke:null});this.visual.append(a)},createHighlight:function(){var a=this.options.highlight;var b=this.color;this.color=a.color||this.color;var c=this.mainVisual(H({},this.options,{line:{color:this.getBorderColor()}},a));this.color=b;return c},highlightVisual:function(){return this._mainVisual},highlightVisualArgs:function(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}},tooltipAnchor:function(){var a=this.box;var b=this.owner.pane.clipBox()||a;return{point:new z(a.x2+Da,Math.max(a.y1,b.y1)+Da),align:{horizontal:l,vertical:j}}},formatValue:function(a){return this.owner.formatPointValue(this,a)},overlapsBox:function(a){return this.box.overlaps(a)}});C(Cc,{vertical:true,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table>"+"<tr><th colspan='2'>{4:d}</th></tr>"+"<tr><td>Open:</td><td>{0:C}</td></tr>"+"<tr><td>High:</td><td>{1:C}</td></tr>"+"<tr><td>Low:</td><td>{2:C}</td></tr>"+"<tr><td>Close:</td><td>{3:C}</td></tr>"+"</table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}}});H(Cc.prototype,bc);H(Cc.prototype,cc);function Dc(a){return pa(a)===a.length}var Ec=ac.extend({reflowCategories:function(a){var b=this.children;var c=b.length;for(var d=0;d<c;d++){b[d].reflow(a[d])}},addValue:function(a,b){var c=b.categoryIx;var d=b.category;var e=b.series;var f=b.seriesIx;var g=this;var h=g.children;var i=g.options;var j=a.valueFields;var k=this.splitValue(j);var l=Dc(k);var m=e.data[c];var n=this.categoryPoints[c];var o;if(!n){this.categoryPoints[c]=n=[]}if(l){o=this.createPoint(a,b)}var p=h[c];if(!p){p=new zc({vertical:i.invertAxes,gap:i.gap,spacing:i.spacing,rtl:!i.invertAxes&&(this.chartService||{}).rtl});this.append(p)}if(o){this.updateRange(j,b);p.append(o);o.categoryIx=c;o.category=d;o.series=e;o.seriesIx=f;o.owner=this;o.dataItem=m;o.noteText=a.fields.noteText}this.points.push(o);n.push(o)},pointType:function(){return Cc},createPoint:function(a,b){var c=b.categoryIx;var d=b.category;var e=b.series;var f=b.seriesIx;var g=this.pointType();var h=a.valueFields;var i=H({},e);var j=a.fields.color||e.color;i=this.evalPointOptions(i,h,d,c,e,f);if(e.type===Ya){if(h.open>h.close){j=a.fields.downColor||e.downColor||e.color}}if(E(e.color)){j=i.color}i.vertical=!this.options.invertAxes;var k=new g(h,i);k.color=j;return k},splitValue:function(a){return[a.low,a.open,a.close,a.high]},updateRange:function(a,b){var c=b.series.axis;var d=this.splitValue(a);var e=this.valueAxisRanges[c];e=this.valueAxisRanges[c]=e||{min:f,max:g};e=this.valueAxisRanges[c]={min:Math.min.apply(Math,d.concat([e.min])),max:Math.max.apply(Math,d.concat([e.max]))}},formatPointValue:function(a,b){var c=a.value;return this.chartService.format.auto(b,c.open,c.high,c.low,c.close,a.category)},animationPoints:function(){return this.points}});H(Ec.prototype,mc);var Fc=Cc.extend({init:function(a,b){Cc.fn.init.call(this,a,b);this.createNote()},reflow:function(a){var b=this;var c=b.options;var d=b.value;var e=b.owner;var f=e.seriesValueAxis(c);var g,h;this.boxSlot=h=f.getSlot(d.q1,d.q3);this.realBody=h;this.reflowBoxSlot(a);this.whiskerSlot=g=f.getSlot(d.lower,d.upper);this.reflowWhiskerSlot(a);var i=f.getSlot(d.median);if(d.mean){var j=f.getSlot(d.mean);this.meanPoints=this.calcMeanPoints(a,j)}this.whiskerPoints=this.calcWhiskerPoints(h,g);this.medianPoints=this.calcMedianPoints(a,i);this.box=g.clone().wrap(h);this.reflowNote()},reflowBoxSlot:function(a){this.boxSlot.x1=a.x1;this.boxSlot.x2=a.x2},reflowWhiskerSlot:function(a){this.whiskerSlot.x1=a.x1;this.whiskerSlot.x2=a.x2},calcMeanPoints:function(a,b){return[[[a.x1,b.y1],[a.x2,b.y1]]]},calcWhiskerPoints:function(a,b){var c=b.center().x;return[[[c-5,b.y1],[c+5,b.y1],[c,b.y1],[c,a.y1]],[[c-5,b.y2],[c+5,b.y2],[c,b.y2],[c,a.y2]]]},calcMedianPoints:function(a,b){return[[[a.x1,b.y1],[a.x2,b.y1]]]},renderOutliers:function(a){var b=this;var c=this.value;var d=c.outliers||[];var e=Math.abs(c.q3-c.q1)*3;var f=[];var g=a.markers||{};for(var h=0;h<d.length;h++){var i=d[h];if(i<c.q3+e&&i>c.q1-e){g=a.outliers}else{g=a.extremes}var j=H({},g.border);if(!v(j.color)){if(v(b.color)){j.color=b.color}else{j.color=new ia(g.background).brightness(Ca).toHex()}}var k=new M({type:g.type,width:g.size,height:g.size,rotation:g.rotation,background:g.background,border:j,opacity:g.opacity});k.value=i;f.push(k)}this.reflowOutliers(f);return f},reflowOutliers:function(a){var b=this;var c=this.owner.seriesValueAxis(this.options);var d=this.box.center();for(var e=0;e<a.length;e++){var f=a[e].value;var g=c.getSlot(f);if(b.options.vertical){g.move(d.x)}else{g.move(undefined,d.y)}b.box=b.box.wrap(g);a[e].reflow(g)}},mainVisual:function(a){var b=Cc.fn.mainVisual.call(this,a);var c=this.renderOutliers(a);for(var d=0;d<c.length;d++){var e=c[d].getElement();if(e){b.append(e)}}return b},createLines:function(a,b){this.drawLines(a,b,this.whiskerPoints,b.whiskers);this.drawLines(a,b,this.medianPoints,b.median);this.drawLines(a,b,this.meanPoints,b.mean)},getBorderColor:function(){if(this.color){return this.color}return Cc.fn.getBorderColor.call(this)}});C(Fc,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table>"+"<tr><th colspan='2'>{6:d}</th></tr>"+"<tr><td>Lower:</td><td>{0:C}</td></tr>"+"<tr><td>Q1:</td><td>{1:C}</td></tr>"+"<tr><td>Median:</td><td>{2:C}</td></tr>"+"<tr><td>Mean:</td><td>{5:C}</td></tr>"+"<tr><td>Q3:</td><td>{3:C}</td></tr>"+"<tr><td>Upper:</td><td>{4:C}</td></tr>"+"</table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:true,label:{}},outliers:{visible:true,size:La,type:e.CROSS,background:m,border:{width:2,opacity:1},opacity:0},extremes:{visible:true,size:La,type:n,background:m,border:{width:2,opacity:1},opacity:0}});H(Fc.prototype,bc);var Gc=Fc.extend({reflowBoxSlot:function(a){this.boxSlot.y1=a.y1;this.boxSlot.y2=a.y2},reflowWhiskerSlot:function(a){this.whiskerSlot.y1=a.y1;this.whiskerSlot.y2=a.y2},calcMeanPoints:function(a,b){return[[[b.x1,a.y1],[b.x1,a.y2]]]},calcWhiskerPoints:function(a,b){var c=b.center().y;return[[[b.x1,c-5],[b.x1,c+5],[b.x1,c],[a.x1,c]],[[b.x2,c-5],[b.x2,c+5],[b.x2,c],[a.x2,c]]]},calcMedianPoints:function(a,b){return[[[b.x1,a.y1],[b.x1,a.y2]]]}});var Hc=Ec.extend({addValue:function(a,b){var c=b.categoryIx;var d=b.category;var e=b.series;var f=b.seriesIx;var g=this;var h=g.children;var i=g.options;var j=a.valueFields;var k=this.splitValue(j);var l=Dc(k);var m=e.data[c];var n=this.categoryPoints[c];var o;if(!n){this.categoryPoints[c]=n=[]}if(l){o=this.createPoint(a,b)}var p=h[c];if(!p){p=new zc({vertical:i.invertAxes,gap:i.gap,spacing:i.spacing,rtl:!i.invertAxes&&(this.chartService||{}).rtl});this.append(p)}if(o){this.updateRange(j,b);p.append(o);o.categoryIx=c;o.category=d;o.series=e;o.seriesIx=f;o.owner=this;o.dataItem=m}this.points.push(o);n.push(o)},pointType:function(){if(this.options.invertAxes){return Gc}return Fc},splitValue:function(a){return[a.lower,a.q1,a.median,a.q3,a.upper]},updateRange:function(a,b){var c=b.series.axis;var d=this.valueAxisRanges[c];var e=this.splitValue(a).concat(this.filterOutliers(a.outliers));if(v(a.mean)){e=e.concat(a.mean)}d=this.valueAxisRanges[c]=d||{min:f,max:g};d=this.valueAxisRanges[c]={min:Math.min.apply(Math,e.concat([d.min])),max:Math.max.apply(Math,e.concat([d.max]))}},formatPointValue:function(a,b){var c=a.value;return this.chartService.format.auto(b,c.lower,c.q1,c.median,c.q3,c.upper,c.mean,a.category)},filterOutliers:function(a){var b=(a||[]).length;var c=[];for(var d=0;d<b;d++){var e=a[d];if(v(e)&&e!==null){c.push(e)}}return c}});var Ic=Xb.extend({getAxis:function(){var a=this.chart.seriesAxes(this.series);var b=this.isVertical?a.y:a.x;return b}});function Jc(a){return v(a)&&a!==null}var Kc=y.extend({init:function(a,b){y.fn.init.call(this,b);this.plotArea=a;this.chartService=a.chartService;this._initFields();this.render()},_initFields:function(){this.xAxisRanges={};this.yAxisRanges={};this.points=[];this.seriesPoints=[];this.seriesOptions=[];this._evalSeries=[]},render:function(){this.traverseDataPoints(this.addValue.bind(this))},addErrorBar:function(a,b,c){var e=a.value[b];var f=b+"Value";var g=b+"ErrorLow";var h=b+"ErrorHigh";var i=c.seriesIx;var j=c.series;var k=a.options.errorBars;var l=c[g];var m=c[h];if(d(e)){var n;if(d(l)&&d(m)){n={low:l,high:m}}if(k&&v(k[f])){this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]};this.seriesErrorRanges[b][i]=this.seriesErrorRanges[b][i]||new xa(k[f],j,b);n=this.seriesErrorRanges[b][i].getErrorRange(e,k[f])}if(n){this.addPointErrorBar(n,a,b)}}},addPointErrorBar:function(a,b,c){var d=a.low;var e=a.high;var f=b.series;var g=b.options.errorBars;var h=c===p;var i={};b[c+"Low"]=d;b[c+"High"]=e;b.errorBars=b.errorBars||[];var j=new Ic(d,e,h,this,f,g);b.errorBars.push(j);b.append(j);i[c]=d;this.updateRange(i,f);i[c]=e;this.updateRange(i,f)},addValue:function(b,c){var d=b.x;var e=b.y;var f=c.seriesIx;var g=this.options.series[f];var h=this.seriesMissingValues(g);var i=this.seriesPoints[f];var j=b;if(!(Jc(d)&&Jc(e))){j=this.createMissingValue(j,h)}var k;if(j){k=this.createPoint(j,c);if(k){a.extend(k,c);this.addErrorBar(k,o,c);this.addErrorBar(k,p,c)}this.updateRange(j,c.series)}this.points.push(k);i.push(k)},seriesMissingValues:function(a){return a.missingValues},createMissingValue:function(){},updateRange:function(a,b){var c=this.chartService.intl;var d=b.xAxis;var e=b.yAxis;var h=a.x;var i=a.y;var j=this.xAxisRanges[d];var k=this.yAxisRanges[e];if(Jc(h)){j=this.xAxisRanges[d]=j||{min:f,max:g};if(Q(h)){h=R(c,h)}j.min=Math.min(j.min,h);j.max=Math.max(j.max,h)}if(Jc(i)){k=this.yAxisRanges[e]=k||{min:f,max:g};if(Q(i)){i=R(c,i)}k.min=Math.min(k.min,i);k.max=Math.max(k.max,i)}},evalPointOptions:function(a,b,c){var d=c.series;var e=c.seriesIx;var f={defaults:d._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};var g=this._evalSeries[e];if(!v(g)){this._evalSeries[e]=g=$b(a,{},f,true)}var h=a;if(g){h=H({},a);$b(h,{value:b,series:d,dataItem:c.dataItem},f)}return h},pointType:function(){return dc},pointOptions:function(a,b){var c=this.seriesOptions[b];if(!c){var d=this.pointType().prototype.defaults;this.seriesOptions[b]=c=H({},d,{markers:{opacity:a.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},a)}return c},createPoint:function(a,b){var c=b.series;var d=this.pointOptions(c,b.seriesIx);var e=b.color||c.color;d=this.evalPointOptions(d,a,b);if(E(c.color)){e=d.color}var f=new dc(a,d);f.color=e;this.append(f);return f},seriesAxes:function(a){var b=a.xAxis;var c=a.yAxis;var d=this.plotArea;var e=b?d.namedXAxes[b]:d.axisX;var f=c?d.namedYAxes[c]:d.axisY;if(!e){throw new Error("Unable to locate X axis with name "+b)}if(!f){throw new Error("Unable to locate Y axis with name "+c)}return{x:e,y:f}},reflow:function(a){var b=this;var c=this.points;var d=!this.options.clip;var e=0;this.traverseDataPoints(function(a,f){var g=c[e++];var h=b.seriesAxes(f.series);var i=h.x.getSlot(a.x,a.x,d);var j=h.y.getSlot(a.y,a.y,d);if(g){if(i&&j){var k=b.pointSlot(i,j);g.reflow(k)}else{g.visible=false}}});this.box=a},pointSlot:function(a,b){return new A(a.x1,b.y1,a.x2,b.y2)},traverseDataPoints:function(a){var b=this;var c=this;var d=c.options.series;var e=c.seriesPoints;for(var f=0;f<d.length;f++){var g=d[f];var h=e[f];if(!h){e[f]=[]}for(var i=0;i<g.data.length;i++){var j=b._bindPoint(g,f,i);var k=j.valueFields;var l=j.fields;a(k,H({pointIx:i,series:g,seriesIx:f,dataItem:g.data[i],owner:b},l))}}},formatPointValue:function(a,b){var c=a.value;return this.chartService.format.auto(b,c.x,c.y)},animationPoints:function(){var a=this.points;var b=[];for(var c=0;c<a.length;c++){b.push((a[c]||{}).marker)}return b}});C(Kc,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:true});H(Kc.prototype,mc,{_bindPoint:ac.prototype._bindPoint});var Lc=dc.extend({init:function(a,b){dc.fn.init.call(this,a,b);this.category=a.category},createHighlight:function(){var a=this.options.highlight;var b=a.border;var c=this.options.markers;var d=this.box.center();var e=(c.size+c.border.width+b.width)/2;var f=new ha;var g=new da.Circle(new ja.Circle([d.x,d.y+e/5+b.width/2],e+b.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:c.background,stops:[{offset:0,color:c.background,opacity:.3},{offset:1,color:c.background,opacity:0}]})});var h=new da.Circle(new ja.Circle([d.x,d.y],e),{stroke:{color:b.color||new ia(c.background).brightness(Ca).toHex(),width:b.width,opacity:b.opacity},fill:{color:c.background,opacity:a.opacity}});f.append(g,h);return f}});Lc.prototype.defaults=H({},Lc.prototype.defaults,{labels:{position:i},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}});Lc.prototype.defaults.highlight.zIndex=undefined;var Mc=Kc.extend({_initFields:function(){this._maxSize=g;Kc.fn._initFields.call(this)},addValue:function(a,b){if(a.size!==null&&(a.size>0||a.size<0&&b.series.negativeValues.visible)){this._maxSize=Math.max(this._maxSize,Math.abs(a.size));Kc.fn.addValue.call(this,a,b)}else{this.points.push(null);this.seriesPoints[b.seriesIx].push(null)}},reflow:function(a){this.updateBubblesSize(a);Kc.fn.reflow.call(this,a)},pointType:function(){return Lc},createPoint:function(a,b){var c=b.series;var d=c.data.length;var e=b.pointIx*(za/d);var f={delay:e,duration:za-e,type:Wa};var g=b.color||c.color;if(a.size<0&&c.negativeValues.visible){g=F(c.negativeValues.color,g)}var h=H({labels:{animation:{delay:e,duration:za-e}}},this.pointOptions(c,b.seriesIx),{markers:{type:n,border:c.border,opacity:c.opacity,animation:f}});h=this.evalPointOptions(h,a,b);if(E(c.color)){g=h.color}h.markers.background=g;var i=new Lc(a,h);i.color=g;this.append(i);return i},updateBubblesSize:function(a){var b=this;var c=this;var d=c.options.series;var e=Math.min(a.width(),a.height());for(var f=0;f<d.length;f++){var g=d[f];var h=b.seriesPoints[f];var i=g.minSize||Math.max(e*.02,10);var j=g.maxSize||e*.2;var k=i/2;var l=j/2;var m=Math.PI*k*k;var n=Math.PI*l*l;var o=n-m;var p=o/b._maxSize;for(var q=0;q<h.length;q++){var r=h[q];if(r){var s=Math.abs(r.value.size)*p;var t=Math.sqrt((m+s)/Math.PI);var u=F(r.options.zIndex,0);var v=u+(1-t/l);H(r.options,{zIndex:v,markers:{size:t*2,zIndex:v},labels:{zIndex:v+1}})}}}},formatPointValue:function(a,b){var c=a.value;return this.chartService.format.auto(b,c.x,c.y,c.size,a.category)},createAnimation:function(){},createVisual:function(){}});C(Mc,{tooltip:{format:"{3}"},labels:{format:"{3}"}});var Nc=M.extend({});H(Nc.prototype,bc);var Oc=y.extend({init:function(a,b){y.fn.init.call(this,b);this.aboveAxis=this.options.aboveAxis;this.color=b.color||m;this.value=a},render:function(){var a=this.options;if(!this._rendered){this._rendered=true;if(v(this.value.target)){this.target=new Nc({type:a.target.shape,background:a.target.color||this.color,opacity:a.opacity,zIndex:a.zIndex,border:a.target.border,vAlign:j,align:q});this.target.value=this.value;this.target.dataItem=this.dataItem;this.target.series=this.series;this.append(this.target)}this.createNote()}},reflow:function(a){this.render();var b=this;var c=b.options;var d=b.target;var e=b.owner;var f=c.invertAxes;var g=e.seriesValueAxis(this.options);var h=e.categorySlot(e.categoryAxis,c.categoryIx,g);var i=g.getSlot(this.value.target);var j=f?i:h;var k=f?h:i;if(d){var l=new A(j.x1,k.y1,j.x2,k.y2);
d.options.height=f?l.height():c.target.line.width;d.options.width=f?c.target.line.width:l.width();d.reflow(l)}if(this.note){this.note.reflow(a)}this.box=a},createVisual:function(){y.fn.createVisual.call(this);var a=this.options;var b=ea.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:a.opacity},stroke:null});if(a.border.width>0){b.options.set("stroke",{color:a.border.color||this.color,width:a.border.width,dashType:a.border.dashType,opacity:F(a.border.opacity,a.opacity)})}this.bodyVisual=b;B(b);this.visual.append(b)},createAnimation:function(){if(this.bodyVisual){this.animation=fa.create(this.bodyVisual,this.options.animation)}},createHighlight:function(a){return ea.fromRect(this.box.toRect(),a)},highlightVisual:function(){return this.bodyVisual},highlightVisualArgs:function(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}},formatValue:function(a){return this.owner.formatPointValue(this,a)}});Oc.prototype.tooltipAnchor=wc.prototype.tooltipAnchor;C(Oc,{border:{width:1},vertical:false,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}<br />Target: {1}"}});H(Oc.prototype,bc);H(Oc.prototype,cc);var Pc=ac.extend({init:function(a,b){Qc(b);ac.fn.init.call(this,a,b)},reflowCategories:function(a){var b=this.children;var c=b.length;for(var d=0;d<c;d++){b[d].reflow(a[d])}},plotRange:function(a){var b=a.series;var c=this.seriesValueAxis(b);var d=this.categoryAxisCrossingValue(c);return[d,a.value.current||d]},createPoint:function(a,b){var c=b.categoryIx;var d=b.category;var e=b.series;var f=b.seriesIx;var g=this;var h=g.options;var i=g.children;var j=a.valueFields;var k=H({vertical:!h.invertAxes,overlay:e.overlay,categoryIx:c,invertAxes:h.invertAxes},e);var l=a.fields.color||e.color;k=this.evalPointOptions(k,j,d,c,e,f);if(E(e.color)){l=k.color}var m=new Oc(j,k);m.color=l;var n=i[c];if(!n){n=new zc({vertical:h.invertAxes,gap:h.gap,spacing:h.spacing,rtl:!h.invertAxes&&(this.chartService||{}).rtl});this.append(n)}n.append(m);return m},updateRange:function(a,b){var c=a.current;var d=a.target;var e=b.series.axis;var h=this.valueAxisRanges[e];if(v(c)&&!isNaN(c)&&v(d&&!isNaN(d))){h=this.valueAxisRanges[e]=h||{min:f,max:g};h.min=Math.min(h.min,c,d);h.max=Math.max(h.max,c,d)}},formatPointValue:function(a,b){return this.chartService.format.auto(b,a.value.current,a.value.target)},pointValue:function(a){return a.valueFields.current},aboveAxis:function(a){var b=a.value.current;return b>0},createAnimation:function(){var a=this;var b=this.points;this._setAnimationOptions();for(var c=0;c<b.length;c++){var d=b[c];d.options.animation=a.options.animation;d.createAnimation()}}});Pc.prototype._setAnimationOptions=Bc.prototype._setAnimationOptions;C(Pc,{animation:{type:Ua}});function Qc(a){var b=a.series;for(var c=0;c<b.length;c++){var d=b[c];var e=d.data;if(e&&!x(e[0])&&!G(e[0])){d.data=[e]}}}var Rc=c.extend({init:function(a,b){this.chartService=a;this.options=H({},this.options,b)},getStyle:function(a,b){var c=a.background;var d=a.border.color;if(b){var e=b.color||b.options.color;c=F(c,e);d=F(d,e)}var f=N(a.padding||{},"auto");return{backgroundColor:c,borderColor:d,font:a.font,color:a.color,opacity:a.opacity,borderWidth:S(a.border.width),paddingTop:S(f.top),paddingBottom:S(f.bottom),paddingLeft:S(f.left),paddingRight:S(f.right)}},show:function(a,b,c){a.format=b.format;var d=this.getStyle(b,c);a.style=d;if(!v(b.color)&&new ia(d.backgroundColor).percBrightness()>180){a.className="k-chart-tooltip-inverse"}this.chartService.notify(Mb,a)},hide:function(){if(this.chartService){this.chartService.notify(Nb)}},destroy:function(){delete this.chartService}});C(Rc,{border:{width:1},opacity:1});var Sc=Rc.extend({init:function(a,b,c){Rc.fn.init.call(this,a,c);this.crosshair=b;this.formatService=a.format;this.initAxisName()},initAxisName:function(){var a=this.crosshair.axis;var b=a.plotArea;var c;if(b.categoryAxis){c=a.getCategory?"categoryAxis":"valueAxis"}else{c=a.options.vertical?"yAxis":"xAxis"}this.axisName=c},showAt:function(a){var b=this;var c=b.crosshair.axis;var d=b.options;var e=c[d.stickyMode?"getCategory":"getValue"](a);var f=e;if(d.format){f=this.formatService.auto(d.format,e)}else if(c.options.type===s){f=this.formatService.auto(c.options.labels.dateFormats[c.options.baseUnit],e)}this.show({point:a,anchor:this.getAnchor(),crosshair:this.crosshair,value:f,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)},hide:function(){this.chartService.notify(Nb,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})},getAnchor:function(){var a=this;var b=a.crosshair;var c=a.options;var d=c.position;var e=c.padding;var f=!b.axis.options.vertical;var g=b.line.bbox();var h,m,n;if(f){h=i;if(d===k){m=j;n=g.bottomLeft().translate(0,e)}else{m=k;n=g.topLeft().translate(0,-e)}}else{m=i;if(d===l){h=q;n=g.topLeft().translate(-e,0)}else{h=l;n=g.topRight().translate(e,0)}}return{point:n,align:{horizontal:h,vertical:m}}}});C(Sc,{padding:10});var Tc=y.extend({init:function(a,b,c){y.fn.init.call(this,c);this.axis=b;this.stickyMode=b instanceof T;var d=this.options.tooltip;if(d.visible){this.tooltip=new Sc(a,this,H({},d,{stickyMode:this.stickyMode}))}},showAt:function(a){this.point=a;this.moveLine();this.line.visible(true);if(this.tooltip){this.tooltip.showAt(a)}},hide:function(){this.line.visible(false);if(this.tooltip){this.tooltip.hide()}},moveLine:function(){var a=this;var b=a.axis;var c=a.point;var d=b.options.vertical;var e=this.getBox();var f=d?p:o;var g=new ka(e.x1,e.y1);var h;if(d){h=new ka(e.x2,e.y1)}else{h=new ka(e.x1,e.y2)}if(c){if(this.stickyMode){var i=b.getSlot(b.pointCategoryIndex(c));g[f]=h[f]=i.center()[f]}else{g[f]=h[f]=c[f]}}this.box=e;this.line.moveTo(g).lineTo(h)},getBox:function(){var a=this.axis;var b=a.pane.axes;var c=b.length;var d=a.options.vertical;var e=a.lineBox().clone();var f=d?o:p;var g;for(var h=0;h<c;h++){var i=b[h];if(i.options.vertical!==d){if(!g){g=i.lineBox().clone()}else{g.wrap(i.lineBox())}}}e[f+1]=g[f+1];e[f+2]=g[f+2];return e},createVisual:function(){y.fn.createVisual.call(this);var a=this.options;this.line=new ea({stroke:{color:a.color,width:a.width,opacity:a.opacity,dashType:a.dashType},visible:false});this.moveLine();this.visual.append(this.line)},destroy:function(){if(this.tooltip){this.tooltip.destroy()}y.fn.destroy.call(this)}});C(Tc,{color:r,width:2,zIndex:-1,tooltip:{visible:false}});var Uc=y.extend({init:function(a,b){y.fn.init.call(this,a);this.pane=b},shouldClip:function(){var a=this.children;var b=a.length;for(var c=0;c<b;c++){if(a[c].options.clip===true){return true}}return false},_clipBox:function(){return this.pane.chartsBox()},createVisual:function(){this.visual=new ha({zIndex:0});if(this.shouldClip()){var a=this.clipBox=this._clipBox();var b=a.toRect();var c=ea.fromRect(b);this.visual.clip(c);this.unclipLabels()}},stackRoot:function(){return this},unclipLabels:function(){var a=this;var b=a.children;var c=a.clipBox;for(var d=0;d<b.length;d++){var e=b[d].points||{};var f=e.length;for(var g=0;g<f;g++){var h=e[g];if(h&&h.visible!==false&&h.overlapsBox&&h.overlapsBox(c)){if(h.unclipElements){h.unclipElements()}else{var i=h.label;var j=h.note;if(i&&i.options.visible){if(i.alignToClipBox){i.alignToClipBox(c)}i.options.noclip=true}if(j&&j.options.visible){j.options.noclip=true}}}}}},destroy:function(){y.fn.destroy.call(this);delete this.parent}});Uc.prototype.isStackRoot=true;var Vc=U.extend({init:function(a){U.fn.init.call(this,a);this.id=Xc();this.createTitle();this.content=new y;this.chartContainer=new Uc({},this);this.append(this.content);this.axes=[];this.charts=[]},createTitle:function(){var a=this.options.title;if(G(a)){a=H({},a,{align:a.position,position:j})}this.title=b.Title.buildTitle(a,this,Vc.prototype.options.title)},appendAxis:function(a){this.content.append(a);this.axes.push(a);a.pane=this},appendChart:function(a){if(this.chartContainer.parent!==this.content){this.content.append(this.chartContainer)}this.charts.push(a);this.chartContainer.append(a);a.pane=this},empty:function(){var a=this;var b=this.parent;if(b){for(var c=0;c<this.axes.length;c++){b.removeAxis(a.axes[c])}for(var d=0;d<this.charts.length;d++){b.removeChart(a.charts[d])}}this.axes=[];this.charts=[];this.content.destroy();this.content.children=[];this.chartContainer.children=[]},reflow:function(a){var b;if(I(this.children)===this.content){b=this.children.pop()}U.fn.reflow.call(this,a);if(b){this.children.push(b)}if(this.title){this.contentBox.y1+=this.title.box.height()}},visualStyle:function(){var a=U.fn.visualStyle.call(this);a.zIndex=-10;return a},renderComplete:function(){if(this.options.visible){this.createGridLines()}},stackRoot:function(){return this},clipRoot:function(){return this},createGridLines:function(){var a=this.axes;var b=a.concat(this.parent.axes);var c=[];var d=[];for(var e=0;e<a.length;e++){var f=a[e];var g=f.options.vertical;var h=g?c:d;for(var i=0;i<b.length;i++){if(h.length===0){var j=b[i];if(g!==j.options.vertical){P(h,f.createGridLines(j))}}}}},refresh:function(){this.visual.clear();this.content.parent=null;this.content.createGradient=this.createGradient.bind(this);this.content.renderVisual();this.content.parent=this;if(this.title){this.visual.append(this.title.visual)}this.visual.append(this.content.visual);this.renderComplete()},chartsBox:function(){var a=this.axes;var b=a.length;var c=new A;for(var d=0;d<b;d++){var e=a[d];var f=e.options.vertical?p:o;var g=e.lineBox();c[f+1]=g[f+1];c[f+2]=g[f+2]}if(c.x2===0){var h=this.parent.axes;var i=h.length;for(var j=0;j<i;j++){var k=h[j];if(!k.options.vertical){var l=k.lineBox();c.x1=l.x1;c.x2=l.x2}}}return c},clipBox:function(){return this.chartContainer.clipBox}});var Wc=1;function Xc(){return"pane"+Wc++}Vc.prototype.isStackRoot=true;C(Vc,{zIndex:-1,shrinkToFit:true,title:{align:l},visible:true});function Yc(a,b,c){var d=b.visible;if(v(d)){return d}var e=a.pointVisibility;if(e){return e[c]}}function Zc(a){var b=a.data;var c=[];var e=0;var f=0;for(var g=0;g<b.length;g++){var h=sa.current.bindPoint(a,g);var i=h.valueFields.value;if(Q(i)){i=parseFloat(i)}if(d(i)){h.visible=Yc(a,h.fields,g)!==false;h.value=Math.abs(i);c.push(h);if(h.visible){e+=h.value}if(i!==0){f++}}else{c.push(null)}}return{total:e,points:c,count:f}}function $c(a,b){if(a&&b){return a.toLowerCase()===b.toLowerCase()}return a===b}function _c(a,b){var c=[];var d=[].concat(b);for(var e=0;e<a.length;e++){var f=a[e];if(D(f.type,d)){c.push(f)}}return c}function ad(a,b,c){if(b===null){return b}var d="_date_"+a;var e=b[d];if(!e){e=R(c,w(a,true)(b));b[d]=e}return e}function bd(a,b){var c=a.type;var d=b instanceof Date;return!c&&d||$c(c,s)}function cd(a){return a.length===1?a[0]:a}var dd=y.extend({init:function(a,b,c){y.fn.init.call(this,b);this.initFields(a,b);this.series=a;this.initSeries();this.charts=[];this.options.legend.items=[];this.axes=[];this.crosshairs=[];this.chartService=c;this.originalOptions=b;this.createPanes();this.render();this.createCrosshairs()},initFields:function(){},initSeries:function(){var a=this.series;for(var b=0;b<a.length;b++){a[b].index=b}},createPanes:function(){var a=this;var b={title:{color:(this.options.title||{}).color}};var c=[];var d=this.options.panes||[];var e=Math.max(d.length,1);function f(a,b){if(Q(a.title)){a.title={text:a.title}}a.title=H({},b.title,a.title)}for(var g=0;g<e;g++){var h=d[g]||{};f(h,b);var i=new Vc(h);i.paneIndex=g;c.push(i);a.append(i)}this.panes=c},createCrosshairs:function(a){var b=this;if(a===void 0){a=this.panes}for(var c=0;c<a.length;c++){var d=a[c];for(var e=0;e<d.axes.length;e++){var f=d.axes[e];if(f.options.crosshair&&f.options.crosshair.visible){var g=new Tc(b.chartService,f,f.options.crosshair);b.crosshairs.push(g);d.content.append(g)}}}},removeCrosshairs:function(a){var b=this.crosshairs;var c=a.axes;for(var d=b.length-1;d>=0;d--){for(var e=0;e<c.length;e++){if(b[d].axis===c[e]){b.splice(d,1);break}}}},hideCrosshairs:function(){var a=this.crosshairs;for(var b=0;b<a.length;b++){a[b].hide()}},findPane:function(a){var b=this.panes;var c;for(var d=0;d<b.length;d++){if(b[d].options.name===a){c=b[d];break}}return c||b[0]},findPointPane:function(a){var b=this.panes;var c;for(var d=0;d<b.length;d++){if(b[d].box.containsPoint(a)){c=b[d];break}}return c},appendAxis:function(a){var b=this.findPane(a.options.pane);b.appendAxis(a);this.axes.push(a);a.plotArea=this},removeAxis:function(a){var b=this;var c=[];for(var d=0;d<this.axes.length;d++){var e=b.axes[d];if(a!==e){c.push(e)}else{e.destroy()}}this.axes=c},appendChart:function(a,b){this.charts.push(a);if(b){b.appendChart(a)}else{this.append(a)}},removeChart:function(a){var b=this;var c=[];for(var d=0;d<this.charts.length;d++){var e=b.charts[d];if(e!==a){c.push(e)}else{e.destroy()}}this.charts=c},addToLegend:function(a){var b=a.length;var c=this.options.legend;var d=c.labels||{};var e=c.inactiveItems||{};var f=e.labels||{};var g=[];for(var h=0;h<b;h++){var i=a[h];var j=i.visible!==false;if(i.visibleInLegend===false){continue}var k=i.name;var l=j?K(d):K(f)||K(d);if(l){k=l({text:Jc(k)?k:"",series:i})}var m=i._defaults;var n=i.color;if(E(n)&&m){n=m.color}var o=void 0,p=void 0;if(j){o={};p=n}else{o={color:f.color,font:f.font};p=e.markers.color}if(Jc(k)&&k!==""){g.push({text:k,labels:o,markerColor:p,series:i,active:j})}}P(c.items,g)},groupAxes:function(a){var b=[];var c=[];for(var d=0;d<a.length;d++){var e=a[d].axes;for(var f=0;f<e.length;f++){var g=e[f];if(g.options.vertical){c.push(g)}else{b.push(g)}}}return{x:b,y:c,any:b.concat(c)}},groupSeriesByPane:function(){var a=this;var b=this.series;var c={};for(var d=0;d<b.length;d++){var e=b[d];var f=a.seriesPaneName(e);if(c[f]){c[f].push(e)}else{c[f]=[e]}}return c},filterVisibleSeries:function(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d.visible!==false){b.push(d)}}return b},reflow:function(a){var b=this.options.plotArea;var c=this.panes;var d=N(b.margin);this.box=a.clone().unpad(d);this.reflowPanes();this.reflowAxes(c);this.reflowCharts(c)},redraw:function(a){var b=this;var c=[].concat(a);this.initSeries();for(var d=0;d<c.length;d++){b.removeCrosshairs(c[d]);c[d].empty()}this.render(c);this.reflowAxes(this.panes);this.reflowCharts(c);this.createCrosshairs(c);for(var e=0;e<c.length;e++){c[e].refresh()}},axisCrossingValues:function(a,b){var c=a.options;var d=[].concat(c.axisCrossingValues||c.axisCrossingValue);var e=b.length-d.length;var f=d[0]||0;for(var g=0;g<e;g++){d.push(f)}return d},alignAxisTo:function(a,b,c,d){var e=a.getSlot(c,c,true);var f=a.options.reverse?2:1;var g=b.getSlot(d,d,true);var h=b.options.reverse?2:1;var i=a.box.translate(g[o+h]-e[o+f],g[p+h]-e[p+f]);if(a.pane!==b.pane){i.translate(0,a.pane.box.y1-b.pane.box.y1)}a.reflow(i)},alignAxes:function(a,b){var c=this;var d=a[0];var f=b[0];var g=this.axisCrossingValues(d,b);var h=this.axisCrossingValues(f,a);var i={};var m={};var n={};var o={};for(var p=0;p<b.length;p++){var r=b[p];var s=r.pane;var t=s.id;var u=r.options.visible!==false;var v=fd(a,s)||d;var w=g;if(v!==d){w=c.axisCrossingValues(v,b)}c.alignAxisTo(r,v,h[p],w[p]);if(r.options._overlap){continue}if(V(r.lineBox().x1)===V(v.lineBox().x1)){if(i[t]){r.reflow(r.box.alignTo(i[t].box,l).translate(-r.options.margin,0))}if(u){i[t]=r}}if(V(r.lineBox().x2)===V(v.lineBox().x2)){if(!r._mirrored){r.options.labels.mirror=!r.options.labels.mirror;r._mirrored=true}c.alignAxisTo(r,v,h[p],w[p]);if(m[t]){r.reflow(r.box.alignTo(m[t].box,q).translate(r.options.margin,0))}if(u){m[t]=r}}if(p!==0&&f.pane===r.pane){r.alignTo(f);r.reflow(r.box)}}for(var x=0;x<a.length;x++){var y=a[x];var z=y.pane;var A=z.id;var B=y.options.visible!==false;var C=fd(b,z)||f;var D=h;if(C!==f){D=c.axisCrossingValues(C,a)}c.alignAxisTo(y,C,g[x],D[x]);if(y.options._overlap){continue}if(V(y.lineBox().y1)===V(C.lineBox().y1)){if(!y._mirrored){y.options.labels.mirror=!y.options.labels.mirror;y._mirrored=true}c.alignAxisTo(y,C,g[x],D[x]);if(n[A]){y.reflow(y.box.alignTo(n[A].box,j).translate(0,-y.options.margin))}if(B){n[A]=y}}if(V(y.lineBox().y2,e.COORD_PRECISION)===V(C.lineBox().y2,e.COORD_PRECISION)){if(o[A]){y.reflow(y.box.alignTo(o[A].box,k).translate(0,y.options.margin))}if(B){o[A]=y}}if(x!==0){y.alignTo(d);y.reflow(y.box)}}},shrinkAxisWidth:function(a){var b=this.groupAxes(a).any;var c=ed(b);var d=0;for(var e=0;e<a.length;e++){var f=a[e];if(f.axes.length>0){d=Math.max(d,c.width()-f.contentBox.width())}}if(d!==0){for(var g=0;g<b.length;g++){var h=b[g];if(!h.options.vertical){h.reflow(h.box.shrink(d,0))}}}},shrinkAxisHeight:function(a){var b;for(var c=0;c<a.length;c++){var d=a[c];var e=d.axes;var f=Math.max(0,ed(e).height()-d.contentBox.height());if(f!==0){for(var g=0;g<e.length;g++){var h=e[g];if(h.options.vertical){h.reflow(h.box.shrink(0,f))}}b=true}}return b},fitAxes:function(a){var b=this.groupAxes(a).any;var c=0;for(var d=0;d<a.length;d++){var e=a[d];var f=e.axes;var g=e.contentBox;if(f.length>0){var h=ed(f);var i=Math.max(g.y1-h.y1,g.y2-h.y2);c=Math.max(c,g.x1-h.x1);for(var j=0;j<f.length;j++){var k=f[j];k.reflow(k.box.translate(0,i))}}}for(var l=0;l<b.length;l++){var m=b[l];m.reflow(m.box.translate(c,0))}},reflowAxes:function(a){var b=this;var c=this.groupAxes(a);for(var d=0;d<a.length;d++){b.reflowPaneAxes(a[d])}if(c.x.length>0&&c.y.length>0){this.alignAxes(c.x,c.y);this.shrinkAxisWidth(a);this.autoRotateAxisLabels(c);this.alignAxes(c.x,c.y);if(this.shrinkAxisWidth(a)){this.alignAxes(c.x,c.y)}this.shrinkAxisHeight(a);this.alignAxes(c.x,c.y);if(this.shrinkAxisHeight(a)){this.alignAxes(c.x,c.y)}this.fitAxes(a)}},autoRotateAxisLabels:function(a){var b=this;var c=this;var d=c.axes;var e=c.panes;var f;for(var g=0;g<d.length;g++){var h=d[g];if(h.autoRotateLabels()){f=true}}if(f){for(var i=0;i<e.length;i++){b.reflowPaneAxes(e[i])}if(a.x.length>0&&a.y.length>0){this.alignAxes(a.x,a.y);this.shrinkAxisWidth(e)}}},reflowPaneAxes:function(a){var b=a.axes;var c=b.length;if(c>0){for(var d=0;d<c;d++){b[d].reflow(a.contentBox)}}},reflowCharts:function(a){var b=this.charts;var c=b.length;var d=this.box;for(var e=0;e<c;e++){var f=b[e].pane;if(!f||D(f,a)){b[e].reflow(d)}}},reflowPanes:function(){var a=this;var b=a.box;var c=a.panes;var d=c.length;var e=b.height();var f=d;var g=0;var h=b.y1;for(var i=0;i<d;i++){var j=c[i];var k=j.options.height;j.options.width=b.width();if(!j.options.height){g++}else{if(k.indexOf&&k.indexOf("%")){var l=parseInt(k,10)/100;j.options.height=l*b.height()}j.reflow(b.clone());e-=j.options.height}}for(var m=0;m<d;m++){var n=c[m];if(!n.options.height){n.options.height=e/g}}for(var o=0;o<d;o++){var p=c[o];var q=b.clone().move(b.x1,h);p.reflow(q);f--;h+=p.options.height}},backgroundBox:function(){var a=this.axes;var b=a.length;var c;for(var d=0;d<b;d++){var e=a[d];for(var f=0;f<b;f++){var g=a[f];if(e.options.vertical!==g.options.vertical){var h=e.lineBox().clone().wrap(g.lineBox());if(!c){c=h}else{c=c.wrap(h)}}}}return c||this.box},chartsBoxes:function(){var a=this.panes;var b=[];for(var c=0;c<a.length;c++){b.push(a[c].chartsBox())}return b},addBackgroundPaths:function(a){var b=this.chartsBoxes();for(var c=0;c<b.length;c++){a.paths.push(ea.fromRect(b[c].toRect()))}},backgroundContainsPoint:function(a){var b=this.chartsBoxes();for(var c=0;c<b.length;c++){if(b[c].containsPoint(a)){return true}}},createVisual:function(){y.fn.createVisual.call(this);var a=this.options.plotArea;var b=a.opacity;var c=a.background;var d=a.border;if(d===void 0){d={}}if(gd(c)){c=m;b=0}var e=this._bgVisual=new da.MultiPath({fill:{color:c,opacity:b},stroke:{color:d.width?d.color:"",width:d.width,dashType:d.dashType},zIndex:-1});this.addBackgroundPaths(e);this.appendVisual(e)},pointsByCategoryIndex:function(a){var b=this.charts;var c=[];if(a!==null){for(var d=0;d<b.length;d++){var e=b[d];if(e.pane.options.name==="_navigator"){continue}var f=b[d].categoryPoints[a];if(f&&f.length){for(var g=0;g<f.length;g++){var h=f[g];if(h&&v(h.value)&&h.value!==null){c.push(h)}}}}}return c},pointsBySeriesIndex:function(a){return this.filterPoints(function(b){return b.series.index===a})},pointsBySeriesName:function(a){return this.filterPoints(function(b){return b.series.name===a})},filterPoints:function(a){var b=this.charts;var c=[];for(var d=0;d<b.length;d++){var e=b[d];var f=e.points;for(var g=0;g<f.length;g++){var h=f[g];if(h&&h.visible!==false&&a(h)){c.push(h)}}}return c},findPoint:function(a){var b=this.charts;for(var c=0;c<b.length;c++){var d=b[c];var e=d.points;for(var f=0;f<e.length;f++){var g=e[f];if(g&&g.visible!==false&&a(g)){return g}}}},paneByPoint:function(a){var b=this.panes;for(var c=0;c<b.length;c++){var d=b[c];if(d.box.containsPoint(a)){return d}}}});function ed(a){var b=a.length;var c;if(b>0){for(var d=0;d<b;d++){var e=a[d].contentBox();if(!c){c=e.clone()}else{c.wrap(e)}}}return c||new A}function fd(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.pane===b){return d}}}function gd(a){return a===""||a===null||a==="none"||a==="transparent"||!v(a)}C(dd,{series:[],plotArea:{margin:{}},background:"",border:{color:r,width:0},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});var hd={hover:function(a,b){this._dispatchEvent(a,b,Bb)},click:function(a,b){this._dispatchEvent(a,b,Ab)}};var id=c.extend({init:function(a,b,c){var d=b.canonicalFields(a);var e=b.valueFields(a);var f=b.sourceFields(a,d);var g=this._seriesFields=[];var h=c.query(a.type);var i=a.aggregate||h;this._series=a;this._binder=b;for(var j=0;j<d.length;j++){var k=d[j];var l=void 0;if(G(i)){l=i[k]}else if(j===0||D(k,e)){l=i}else{break}if(l){g.push({canonicalName:k,name:f[j],transform:E(l)?l:qa[l]})}}},aggregatePoints:function(a,b){var c=this;var e=this;var f=e._series;var g=e._seriesFields;var h=this._bindPoints(a||[]);var i=h.dataItems[0];var j={};if(i&&!d(i)&&!x(i)){var k=function(){};k.prototype=i;j=new k}for(var l=0;l<g.length;l++){var m=g[l];var n=c._bindField(h.values,m.canonicalName);var o=m.transform(n,f,h.dataItems,b);if(o!==null&&G(o)&&!v(o.length)&&!(o instanceof Date)){j=o;break}else{if(v(o)){jd(m.name,j,o)}}}return j},_bindPoints:function(a){var b=this;var c=b._binder;var d=b._series;var e=[];var f=[];for(var g=0;g<a.length;g++){var h=a[g];e.push(c.bindPoint(d,h));f.push(d.data[h])}return{values:e,dataItems:f}},_bindField:function(a,b){var c=[];var d=a.length;for(var e=0;e<d;e++){var f=a[e];var g=f.valueFields;var h=void 0;if(v(g[b])){h=g[b]}else{h=f.fields[b]}c.push(h)}return c}});function jd(a,b,c){var d=b;var e=a;if(a.indexOf(".")>-1){var f=a.split(".");while(f.length>1){e=f.shift();if(!v(d[e])){d[e]={}}d=d[e]}e=f.shift()}d[e]=c}var kd=c.extend({init:function(){this._defaults={}},register:function(a,b){var c=this;for(var d=0;d<a.length;d++){c._defaults[a[d]]=b}},query:function(a){return this._defaults[a]}});kd.current=new kd;var ld=wc.extend({createLabel:function(){var a=this.options.labels;var b=H({},a,a.from);var c=H({},a,a.to);if(b.visible){this.labelFrom=this._createLabel(b);this.append(this.labelFrom)}if(c.visible){this.labelTo=this._createLabel(c);this.append(this.labelTo)}},_createLabel:function(a){var b=K(a);var c;if(b){c=b({dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total,series:this.series})}else{c=this.formatValue(a.format)}return new tc(c,H({vertical:this.options.vertical},a))},reflow:function(a){this.render();var b=this;var c=b.labelFrom;var d=b.labelTo;var e=b.value;this.box=a;if(c){c.options.aboveAxis=e.from>e.to;c.reflow(a)}if(d){d.options.aboveAxis=e.to>e.from;d.reflow(a)}if(this.note){this.note.reflow(a)}}});ld.prototype.defaults=H({},ld.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});var md=Bc.extend({pointType:function(){return ld},pointValue:function(a){return a.valueFields},formatPointValue:function(a,b){if(a.value.from===null&&a.value.to===null){return""}return this.chartService.format.auto(b,a.value.from,a.value.to)},plotRange:function(a){if(!a){return 0}return[a.value.from,a.value.to]},updateRange:function(a,b){var c=b.series.axis;var e=a.from;var h=a.to;var i=this.valueAxisRanges[c];if(a!==null&&d(e)&&d(h)){i=this.valueAxisRanges[c]=i||{min:f,max:g};i.min=Math.min(i.min,e);i.max=Math.max(i.max,e);i.min=Math.min(i.min,h);i.max=Math.max(i.max,h)}},aboveAxis:function(a){var b=a.value;return b.from<b.to}});md.prototype.plotLimits=ac.prototype.plotLimits;var nd=dc.extend({aliasFor:function(){return this.parent}});var od="auto";var pd="{0}";var qd="{1}";var rd=y.extend({init:function(a,b){y.fn.init.call(this);this.value=a;this.options=b;this.aboveAxis=F(this.options.aboveAxis,true);this.tooltipTracking=true;this.initLabelsFormat()},render:function(){if(this._rendered){return}this._rendered=true;var a=this.options;var b=a.markers;var c=a.labels;var d=this.value;var e=this.fromPoint=new nd(d,H({},this.options,{labels:c.from,markers:b.from}));var f=this.toPoint=new nd(d,H({},this.options,{labels:c.to,markers:b.to}));this.copyFields(e);this.copyFields(f);this.append(e);this.append(f)},reflow:function(a){this.render();var b=a.from;var c=a.to;this.positionLabels(b,c);this.fromPoint.reflow(b);this.toPoint.reflow(c);this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())},createHighlight:function(){var a=new ha;a.append(this.fromPoint.createHighlight());a.append(this.toPoint.createHighlight());return a},highlightVisual:function(){return this.visual},highlightVisualArgs:function(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}},tooltipAnchor:function(){var a=this.owner.pane.clipBox();var b=!a||a.overlaps(this.box);if(b){var c=this.box;var d=c.center();var e=l;var f,g,h;if(this.options.vertical){f=d.x;g=c.y1-Da;h=k}else{f=c.x2+Da;g=d.y;h=i}return{point:new z(f,g),align:{horizontal:e,vertical:h}}}},formatValue:function(a){return this.owner.formatPointValue(this,a)},overlapsBox:function(a){return this.box.overlaps(a)},unclipElements:function(){this.fromPoint.unclipElements();this.toPoint.unclipElements()},initLabelsFormat:function(){var b=this.options.labels;if(!b.format){if(!b.from||!b.from.format){b.from=a.extend({},b.from,{format:pd})}if(!b.to||!b.to.format){b.to=a.extend({},b.to,{format:qd})}}},positionLabels:function(a,b){var c=this.options;var d=c.labels;var e=c.vertical;if(d.position===od){var f,g;if(e){if(b.y1<=a.y1){g=Pa;f=Qa}else{g=Qa;f=Pa}}else{if(b.x1<=a.x1){g=l;f=q}else{g=q;f=l}}if(!d.from||!d.from.position){this.fromPoint.options.labels.position=f}if(!d.to||!d.to.position){this.toPoint.options.labels.position=g}}},copyFields:function(a){a.dataItem=this.dataItem;a.category=this.category;a.series=this.series;a.color=this.color;a.owner=this.owner}});H(rd.prototype,bc);H(rd.prototype,cc);rd.prototype.defaults={markers:{visible:false,background:m,size:La,type:n,border:{width:2},opacity:1},labels:{visible:false,margin:N(3),padding:N(4),animation:{type:Aa,delay:za},position:od},notes:{label:{}},highlight:{markers:{border:{color:m,width:2}},zIndex:e.HIGHLIGHT_ZINDEX},tooltip:{format:"{0} - {1}"}};var sd=oc.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))},stackSegments:function(){var a=this.fromSegments;if(!this.fromSegments){a=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))}return a},createStroke:function(a){var b=new ea(a);var c=new ea(a);b.segments.push.apply(b.segments,this.strokeSegments());c.segments.push.apply(c.segments,this.stackSegments());this.visual.append(b);this.visual.append(c)},hasStackSegment:function(){return true},fromPoints:function(){return this.linePoints.map(function(a){return a.fromPoint})},toPoints:function(){return this.linePoints.map(function(a){return a.toPoint})}});var td=sd.extend({createStrokeSegments:function(){return this.createCurveSegments(this.toPoints())},stackSegments:function(){var a=this.fromSegments;if(!this.fromSegments){a=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())}return a},createCurveSegments:function(a){var b=new O;return b.process(this.toGeometryPoints(a))}});var ud=sd.extend({createStrokeSegments:function(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))},stackSegments:function(){var a=this.fromSegments;if(!this.fromSegments){a=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()));a.reverse()}return a}});H(ud.prototype,fc);var vd=ac.extend({render:function(){ac.fn.render.call(this);this.renderSegments()},pointType:function(){return rd},createPoint:function(a,b){var c=b.categoryIx;var d=b.category;var e=b.series;var f=b.seriesIx;var g=a.valueFields;if(!Jc(g.from)&&!Jc(g.to)){if(this.seriesMissingValues(e)===Ma){g={from:0,to:0}}else{return null}}var h=this.pointOptions(e,f);h=this.evalPointOptions(h,g,d,c,e,f);var i=a.fields.color||e.color;if(E(e.color)){i=h.color}var j=new rd(g,h);j.color=i;this.append(j);return j},createSegment:function(a,b,c){var d=(b.line||{}).style;var e;if(d==="smooth"){e=td}else if(d==="step"){e=ud}else{e=sd}return new e(a,b,c)},plotRange:function(a,b){if(!a){return[b,b]}return[a.value.from,a.value.to]},valueSlot:function(a,b){var c=a.getSlot(b[0],b[0],!this.options.clip);var d=a.getSlot(b[1],b[1],!this.options.clip);if(c&&d){return{from:c,to:d}}},pointSlot:function(a,b){var c=b.from;var d=b.to;var e,f;if(this.options.invertAxes){e=new A(c.x1,a.y1,c.x2,a.y2);f=new A(d.x1,a.y1,d.x2,a.y2)}else{e=new A(a.x1,c.y1,a.x2,c.y2);f=new A(a.x1,d.y1,a.x2,d.y2)}return{from:e,to:f}},addValue:function(a,b){var c=a.valueFields;if(!d(c.from)){c.from=c.to}if(!d(c.to)){c.to=c.from}ac.fn.addValue.call(this,a,b)},updateRange:function(a,b){if(a!==null&&d(a.from)&&d(a.to)){var c=b.series.axis;var e=this.valueAxisRanges[c]=this.valueAxisRanges[c]||{min:f,max:g};var h=a.from;var i=a.to;e.min=Math.min(e.min,h,i);e.max=Math.max(e.max,h,i)}},formatPointValue:function(a,b){var c=a.value;return this.chartService.format.auto(b,c.from,c.to)},animationPoints:function(){var a=this.points;var b=[];for(var c=0;c<a.length;c++){var d=a[c];if(d){b.push((d.fromPoint||{}).marker);b.push((d.toPoint||{}).marker)}}return b.concat(this._segments)}});H(vd.prototype,jc,mc);var wd=Cc.extend({reflow:function(a){var b=this;var c=b.options;var d=b.value;var e=b.owner;var f=e.seriesValueAxis(c);var g=[];var h=[];var i=[];var j=f.getSlot(d.low,d.high);var k=f.getSlot(d.open,d.open);var l=f.getSlot(d.close,d.close);k.x1=l.x1=j.x1=a.x1;k.x2=l.x2=j.x2=a.x2;var m=j.center().x;g.push([k.x1,k.y1]);g.push([m,k.y1]);h.push([m,l.y1]);h.push([l.x2,l.y1]);i.push([m,j.y1]);i.push([m,j.y2]);this.lines=[g,h,i];this.box=j.clone().wrap(k.clone().wrap(l));this.reflowNote()},createBody:function(){}});var xd=Ec.extend({pointType:function(){return wd}});var yd=y.extend({init:function(a,b,c){y.fn.init.call(this);this.from=a;this.to=b;this.series=c},linePoints:function(){var a=this.from;var b=this;var c=b.from.box;var d=b.to.box;var e=[];if(a.isVertical){var f=a.aboveAxis?c.y1:c.y2;e.push([c.x1,f],[d.x2,f])}else{var g=a.aboveAxis?c.x2:c.x1;e.push([g,c.y1],[g,d.y2])}return e},createVisual:function(){y.fn.createVisual.call(this);var a=this.series.line||{};var b=ea.fromPoints(this.linePoints(),{stroke:{color:a.color,width:a.width,opacity:a.opacity,dashType:a.dashType}});B(b);this.visual.append(b)}});C(yd,{animation:{type:Aa,delay:za}});var zd=Bc.extend({render:function(){Bc.fn.render.call(this);this.createSegments()},traverseDataPoints:function(a){var b=this.options.series;var c=this.categoryAxis.options.categories||[];var e=_b(b);var f=!this.options.invertAxes;for(var g=0;g<b.length;g++){var h=b[g];var i=0;var j=0;for(var k=0;k<e;k++){var l=sa.current.bindPoint(h,k);var m=l.valueFields.value;var n=l.fields.summary;var o=i;var p=void 0;if(n){if(n.toLowerCase()==="total"){l.valueFields.value=i;o=0;p=i}else{l.valueFields.value=j;p=o-j;j=0}}else if(d(m)){j+=m;i+=m;p=i}a(l,{category:c[k],categoryIx:k,series:h,seriesIx:g,total:i,runningTotal:j,from:o,to:p,isVertical:f})}}},updateRange:function(a,b){Bc.fn.updateRange.call(this,{value:b.to
},b)},aboveAxis:function(a){return a.value>=0},plotRange:function(a){return[a.from,a.to]},createSegments:function(){var a=this;var b=this.options.series;var c=this.seriesPoints;var d=this.segments=[];for(var e=0;e<b.length;e++){var f=b[e];var g=c[e];if(g){var h=void 0;for(var i=0;i<g.length;i++){var j=g[i];if(j&&h){var k=new yd(h,j,f);d.push(k);a.append(k)}h=j}}}}});function Ad(a,b){if(b!==null){a.push(b)}}var Bd=[Ta,pb,kb,tb];var Cd=[bb,sb].concat(Bd);var Dd=dd.extend({initFields:function(a){var b=this;this.namedCategoryAxes={};this.namedValueAxes={};this.valueAxisRangeTracker=new sc;if(a.length>0){this.invertAxes=D(a[0].type,[Ua,Xa,sb,pb,tb,lb,ab,qb]);for(var c=0;c<a.length;c++){var d=a[c].stack;if(d&&d.type==="100%"){b.stack100=true;break}}}},render:function(a){if(a===void 0){a=this.panes}this.createCategoryAxes(a);this.aggregateCategories(a);this.createCategoryAxesLabels(a);this.createCharts(a);this.createValueAxes(a)},removeAxis:function(a){var b=a.options.name;dd.fn.removeAxis.call(this,a);if(a instanceof T){delete this.namedCategoryAxes[b]}else{this.valueAxisRangeTracker.reset(b);delete this.namedValueAxes[b]}if(a===this.categoryAxis){delete this.categoryAxis}if(a===this.valueAxis){delete this.valueAxis}},createCharts:function(a){var b=this;var c=this.groupSeriesByPane();for(var d=0;d<a.length;d++){var e=a[d];var f=c[e.options.name||"default"]||[];b.addToLegend(f);var g=b.filterVisibleSeries(f);if(!g){continue}var h=b.groupSeriesByCategoryAxis(g);for(var i=0;i<h.length;i++){b.createChartGroup(h[i],e)}}},createChartGroup:function(a,b){this.createAreaChart(_c(a,[Ta,pb]),b);this.createRangeAreaChart(_c(a,[kb,tb]),b);this.createBarChart(_c(a,[Za,Ua]),b);this.createRangeBarChart(_c(a,[mb,lb]),b);this.createBulletChart(_c(a,[Xa,rb]),b);this.createCandlestickChart(_c(a,Ya),b);this.createBoxPlotChart(_c(a,[Va,qb]),b);this.createOHLCChart(_c(a,cb),b);this.createWaterfallChart(_c(a,[ub,ab]),b);this.createLineChart(_c(a,[bb,sb]),b)},aggregateCategories:function(a){var b=this;var c=this.srcSeries||this.series;var e=[];for(var f=0;f<c.length;f++){var g=c[f];var h=b.seriesCategoryAxis(g);var i=b.findPane(h.options.pane);var j=$c(h.options.type,s);if((j||g.categoryField)&&D(i,a)){g=b.aggregateSeries(g,h)}else if(d(h.options.min)||d(h.options.max)){g=b.filterSeries(g,h)}e.push(g)}this.srcSeries=c;this.series=e},filterSeries:function(a,b){var c=b.totalRangeIndices();var e=b.options.justified;var f=D(a.type,Cd);c.min=d(b.options.min)?Math.floor(c.min):0;if(d(b.options.max)){c.max=e?Math.floor(c.max)+1:Math.ceil(c.max)}else{c.max=a.data.length}var g=H({},a);if(f){var h=c.min-1;var i=b.options.srcCategories||[];if(h>=0&&h<g.data.length){g._outOfRangeMinPoint={item:g.data[h],category:i[h],categoryIx:-1}}if(c.max<g.data.length){g._outOfRangeMaxPoint={item:g.data[c.max],category:i[c.max],categoryIx:c.max-c.min}}}b._seriesMax=Math.max(b._seriesMax||0,g.data.length);g.data=(g.data||[]).slice(c.min,c.max);return g},aggregateSeries:function(a,b){var c=this;var d=D(a.type,Cd);var e=b.options;var h=e.categories;var i=e.srcCategories;if(i===void 0){i=h}var j=e.dataItems;if(j===void 0){j=[]}var k=$c(b.options.type,s);var l=H({},a);var m=H({},a);var n=a.data;var o=[];var p=g;var q=f;var r=ra;var t,u;if(k){r=ad}for(var w=0;w<n.length;w++){var x=void 0;if(a.categoryField){x=r(a.categoryField,n[w],c.chartService.intl)}else{x=i[w]}if(v(x)){var y=b.categoryIndex(x);if(0<=y&&y<h.length){o[y]=o[y]||[];o[y].push(w)}else if(d){if(y<0){if(y===p){t.points.push(w)}else if(y>p){p=y;t={category:x,points:[w]}}}else if(y>=h.length){if(y===q){u.points.push(w)}else if(y<q){q=y;u={category:x,points:[w]}}}}}}var z=new id(l,sa.current,kd.current);var A=m.data=[];for(var B=0;B<h.length;B++){A[B]=z.aggregatePoints(o[B],h[B]);if(o[B]){j[B]=A[B]}}if(t&&A.length){m._outOfRangeMinPoint={item:z.aggregatePoints(t.points,t.category),categoryIx:p,category:t.category}}if(u&&A.length){m._outOfRangeMaxPoint={item:z.aggregatePoints(u.points,u.category),categoryIx:q,category:u.category}}b.options.dataItems=j;return m},appendChart:function(a,b){var c=a.options.series;var d=this.seriesCategoryAxis(c[0]);var e=d.options.categories;var f=Math.max(0,_b(c)-e.length);while(f--){e.push("")}this.valueAxisRangeTracker.update(a.valueAxisRanges);dd.fn.appendChart.call(this,a,b)},seriesPaneName:function(a){var b=this.options;var c=a.axis;var d=[].concat(b.valueAxis);var e=W(d,function(a){return a.name===c})[0];var f=b.panes||[{}];var g=(f[0]||{}).name||"default";var h=(e||{}).pane||g;return h},seriesCategoryAxis:function(a){var b=a.categoryAxis;var c=b?this.namedCategoryAxes[b]:this.categoryAxis;if(!c){throw new Error("Unable to locate category axis with name "+b)}return c},stackableChartOptions:function(a,b){var c=a.stack;var d=c&&c.type==="100%";var e=b.options.clip;return{isStacked:c,isStacked100:d,clip:e}},groupSeriesByCategoryAxis:function(a){var b=[];var c={};for(var d=0;d<a.length;d++){var e=a[d].categoryAxis||"$$default$$";if(!c.hasOwnProperty(e)){c[e]=true;b.push(e)}}var f=[];for(var g=0;g<b.length;g++){var h=b[g];var i=Fd(a,h,g);if(i.length===0){continue}f.push(i)}return f},createBarChart:function(b,c){if(b.length===0){return}var d=b[0];var e=new Bc(this,a.extend({series:b,invertAxes:this.invertAxes,gap:d.gap,spacing:d.spacing},this.stackableChartOptions(d,c)));this.appendChart(e,c)},createRangeBarChart:function(a,b){if(a.length===0){return}var c=a[0];var d=new md(this,{series:a,invertAxes:this.invertAxes,gap:c.gap,spacing:c.spacing});this.appendChart(d,b)},createBulletChart:function(a,b){if(a.length===0){return}var c=a[0];var d=new Pc(this,{series:a,invertAxes:this.invertAxes,gap:c.gap,spacing:c.spacing,clip:b.options.clip});this.appendChart(d,b)},createLineChart:function(b,c){if(b.length===0){return}var d=b[0];var e=new nc(this,a.extend({invertAxes:this.invertAxes,series:b},this.stackableChartOptions(d,c)));this.appendChart(e,c)},createAreaChart:function(b,c){if(b.length===0){return}var d=b[0];var e=new rc(this,a.extend({invertAxes:this.invertAxes,series:b},this.stackableChartOptions(d,c)));this.appendChart(e,c)},createRangeAreaChart:function(a,b){if(a.length===0){return}var c=new vd(this,{invertAxes:this.invertAxes,series:a,clip:b.options.clip});this.appendChart(c,b)},createOHLCChart:function(a,b){if(a.length===0){return}var c=a[0];var d=new xd(this,{invertAxes:this.invertAxes,gap:c.gap,series:a,spacing:c.spacing,clip:b.options.clip});this.appendChart(d,b)},createCandlestickChart:function(a,b){if(a.length===0){return}var c=a[0];var d=new Ec(this,{invertAxes:this.invertAxes,gap:c.gap,series:a,spacing:c.spacing,clip:b.options.clip});this.appendChart(d,b)},createBoxPlotChart:function(a,b){if(a.length===0){return}var c=a[0];var d=new Hc(this,{invertAxes:this.invertAxes,gap:c.gap,series:a,spacing:c.spacing,clip:b.options.clip});this.appendChart(d,b)},createWaterfallChart:function(a,b){if(a.length===0){return}var c=a[0];var d=new zd(this,{series:a,invertAxes:this.invertAxes,gap:c.gap,spacing:c.spacing});this.appendChart(d,b)},axisRequiresRounding:function(a,b){var c=this;var d=_c(this.series,vb);for(var e=0;e<this.series.length;e++){var f=c.series[e];if(D(f.type,Bd)){var g=f.line;if(g&&g.style===Sa){d.push(f)}}}for(var h=0;h<d.length;h++){var i=d[h].categoryAxis||"";if(i===a||!i&&b===0){return true}}},aggregatedAxis:function(a,b){var c=this.series;for(var d=0;d<c.length;d++){var e=c[d].categoryAxis||"";if((e===a||!e&&b===0)&&c[d].categoryField){return true}}},createCategoryAxesLabels:function(){var a=this.axes;for(var b=0;b<a.length;b++){if(a[b]instanceof T){a[b].createLabels()}}},createCategoryAxes:function(a){var b=this;var c=this.invertAxes;var d=[].concat(this.options.categoryAxis);var e=[];for(var g=0;g<d.length;g++){var h=d[g];var i=b.findPane(h.pane);if(D(i,a)){var j=h.name;var k=h.categories;if(k===void 0){k=[]}h=H({vertical:c,reverse:!c&&b.chartService.rtl,axisCrossingValue:c?f:0},h);if(!v(h.justified)){h.justified=b.isJustified()}if(b.axisRequiresRounding(j,g)){h.justified=false}var l=void 0;if(bd(h,k[0])){l=new X(h,b.chartService)}else{l=new T(h,b.chartService)}if(j){if(b.namedCategoryAxes[j]){throw new Error("Category axis with name "+j+" is already defined")}b.namedCategoryAxes[j]=l}l.axisIndex=g;e.push(l);b.appendAxis(l)}}var m=this.categoryAxis||e[0];this.categoryAxis=m;if(c){this.axisY=m}else{this.axisX=m}},isJustified:function(){var a=this.series;for(var b=0;b<a.length;b++){var c=a[b];if(!D(c.type,Bd)){return false}}return true},createValueAxes:function(a){var c=this;var d=this.valueAxisRangeTracker;var e=d.query();var f=[].concat(this.options.valueAxis);var g=this.invertAxes;var h={vertical:!g,reverse:g&&this.chartService.rtl};var i=[];if(this.stack100){h.roundToMajorUnit=false;h.labels={format:"P0"}}for(var j=0;j<f.length;j++){var k=f[j];var l=c.findPane(k.pane);if(D(l,a)){var m=k.name;var n=$c(k.type,Ob)?{min:.1,max:1}:{min:0,max:1};var o=d.query(m)||e||n;if(j===0&&o&&e){o.min=Math.min(o.min,e.min);o.max=Math.max(o.max,e.max)}var p=void 0;if($c(k.type,Ob)){p=b.LogarithmicAxis}else{p=b.NumericAxis}var q=new p(o.min,o.max,H({},h,k),c.chartService);if(m){if(c.namedValueAxes[m]){throw new Error("Value axis with name "+m+" is already defined")}c.namedValueAxes[m]=q}q.axisIndex=j;i.push(q);c.appendAxis(q)}}var r=this.valueAxis||i[0];this.valueAxis=r;if(g){this.axisX=r}else{this.axisY=r}},_dispatchEvent:function(a,b,c){var d=a._eventCoordinates(b);var e=new z(d.x,d.y);var f=this.pointPane(e);var g=[];var h=[];if(!f){return}var i=f.axes;for(var j=0;j<i.length;j++){var k=i[j];if(k.getValue){Ad(h,k.getValue(e))}else{Ad(g,k.getCategory(e))}}if(g.length===0){Ad(g,this.categoryAxis.getCategory(e))}if(g.length>0&&h.length>0){a.trigger(c,{element:J(b),originalEvent:b,category:cd(g),value:cd(h)})}},pointPane:function(a){var b=this.panes;for(var c=0;c<b.length;c++){var d=b[c];if(d.contentBox.containsPoint(a)){return d}}},updateAxisOptions:function(a,b){Ed(this.options,a,b);Ed(this.originalOptions,a,b)}});function Ed(a,b,c){var d=b instanceof T?[].concat(a.categoryAxis):[].concat(a.valueAxis);H(d[b.axisIndex],c)}function Fd(a,b,c){return W(a,function(a){return c===0&&!a.categoryAxis||a.categoryAxis===b})}C(Dd,{categoryAxis:{categories:[]},valueAxis:{}});H(Dd.prototype,hd);var Gd=c.extend({init:function(){this._points=[]},destroy:function(){this._points=[]},show:function(a){var b=this;var c=[].concat(a);this.hide();for(var d=0;d<c.length;d++){var e=c[d];if(e&&e.toggleHighlight&&e.hasHighlight()){b.togglePointHighlight(e,true);b._points.push(e)}}},togglePointHighlight:function(a,b){var c=(a.options.highlight||{}).toggle;if(c){var d={category:a.category,series:a.series,dataItem:a.dataItem,value:a.value,stackValue:a.stackValue,preventDefault:Hd,visual:a.highlightVisual(),show:b};c(d);if(!d._defaultPrevented){a.toggleHighlight(b)}}else{a.toggleHighlight(b)}},hide:function(){var a=this;var b=this._points;while(b.length){a.togglePointHighlight(b.pop(),false)}},isHighlighted:function(a){var b=this._points;for(var c=0;c<b.length;c++){var d=b[c];if(a===d){return true}}return false}});function Hd(){this._defaultPrevented=true}function Id(a,b){var c=(b||"").toLowerCase();var d=a.event;var e=c==="none"&&!(d.ctrlKey||d.shiftKey||d.altKey)||d[c+"Key"];return e}function Jd(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];if(d.axis.options.name){b[d.axis.options.name]={min:d.range.min,max:d.range.max}}}return b}var Kd=c.extend({init:function(a,b){this.plotArea=a;this.options=H({},this.options,b)},start:function(a){this._active=Id(a,this.options.key);return this._active},move:function(a){if(this._active){var b=this.axisRanges=this._panAxes(a,o).concat(this._panAxes(a,p));if(b.length){this.axisRanges=b;return Jd(b)}}},end:function(){var a=this._active;this._active=false;return a},pan:function(){var a=this;var b=a.plotArea;var c=a.axisRanges;if(c.length){for(var d=0;d<c.length;d++){var e=c[d];b.updateAxisOptions(e.axis,e.range)}b.redraw(b.panes)}},destroy:function(){delete this.plotArea},_panAxes:function(a,b){var c=this.plotArea;var d=-a[b].delta;var e=(this.options.lock||"").toLowerCase();var f=[];if(d!==0&&(e||"").toLowerCase()!==b){var g=c.axes;for(var h=0;h<g.length;h++){var i=g[h];if(b===o&&!i.options.vertical||b===p&&i.options.vertical){var j=i.pan(d);if(j){j.limitRange=true;f.push({axis:i,range:j})}}}}return f}});Kd.prototype.options={key:"none",lock:"none"};var Ld=c.extend({init:function(a,b){this.chart=a;this.options=H({},this.options,b);this.createElement()},createElement:function(){var a=this._marquee=document.createElement("div");a.className="k-marquee";var b=document.createElement("div");b.className="k-marquee-color";a.appendChild(b)},removeElement:function(){if(this._marquee.parentNode){this._marquee.parentNode.removeChild(this._marquee)}},setStyles:function(a){Y(this._marquee,a)},start:function(a){if(Id(a,this.options.key)){var b=this.chart;var c=b._eventCoordinates(a);var d=this._zoomPane=b._plotArea.paneByPoint(c);if(d&&d.clipBox()){var e=d.clipBox().clone();var f=this._elementOffset();e.translate(f.left,f.top);this._zoomPaneClipBox=e;document.body.appendChild(this._marquee);this.setStyles({left:a.pageX+1,top:a.pageY+1,width:0,height:0});return true}}return false},_elementOffset:function(){var a=this.chart.element;var c=Y(a,["paddingLeft","paddingTop"]);var d=c.paddingLeft;var e=c.paddingTop;var f=b.elementOffset(a);return{left:d+f.left,top:e+f.top}},move:function(a){var b=this._zoomPane;if(b){this.setStyles(this._selectionPosition(a))}},end:function(a){var b=this._zoomPane;if(b){var c=this._elementOffset();var d=this._selectionPosition(a);d.left-=c.left;d.top-=c.top;var e={x:d.left,y:d.top};var f={x:d.left+d.width,y:d.top+d.height};this._updateAxisRanges(e,f);this.removeElement();delete this._zoomPane;return Jd(this.axisRanges)}},zoom:function(){var a=this.axisRanges;if(a&&a.length){var b=this.chart._plotArea;for(var c=0;c<a.length;c++){var d=a[c];b.updateAxisOptions(d.axis,d.range)}b.redraw(b.panes)}},destroy:function(){this.removeElement();delete this._marquee;delete this.chart},_updateAxisRanges:function(a,b){var c=(this.options.lock||"").toLowerCase();var d=[];var e=this._zoomPane.axes;for(var f=0;f<e.length;f++){var g=e[f];var h=g.options.vertical;if(!(c===o&&!h)&&!(c===p&&h)){var i=g.pointsRange(a,b);if(i){d.push({axis:g,range:i})}}}this.axisRanges=d},_selectionPosition:function(a){var b=this._zoomPaneClipBox;var c={x:a.x.startLocation,y:a.y.startLocation};var d=a.x.location;var e=a.y.location;var f=(this.options.lock||"").toLowerCase();var g=Math.min(c.x,d);var h=Math.min(c.y,e);var i=Math.abs(c.x-d);var j=Math.abs(c.y-e);if(f===o){g=b.x1;i=b.width()}if(f===p){h=b.y1;j=b.height()}if(d>b.x2){i=b.x2-c.x}if(d<b.x1){i=c.x-b.x1}if(e>b.y2){j=b.y2-c.y}if(e<b.y1){j=c.y-b.y1}return{left:Math.max(g,b.x1),top:Math.max(h,b.y1),width:i,height:j}}});Ld.prototype.options={key:"shift",lock:"none"};var Md=c.extend({init:function(a,b){this.chart=a;this.options=H({},this.options,b)},updateRanges:function(a){var b=(this.options.lock||"").toLowerCase();var c=[];var d=this.chart._plotArea.axes;for(var e=0;e<d.length;e++){var f=d[e];var g=f.options.vertical;if(!(b===o&&!g)&&!(b===p&&g)){var h=f.zoomRange(-a);if(h){c.push({axis:f,range:h})}}}this.axisRanges=c;return Jd(c)},zoom:function(){var a=this.axisRanges;if(a&&a.length){var b=this.chart._plotArea;for(var c=0;c<a.length;c++){var d=a[c];b.updateAxisOptions(d.axis,d.range)}b.redraw(b.panes)}},destroy:function(){delete this.chart}});var Nd=y.extend({init:function(a,b){y.fn.init.call(this,a);this.chartService=b},render:function(){var a=this;var b=a.children;var c=a.options;var d=c.vertical;this.visual=new da.Layout(null,{spacing:d?0:c.spacing,lineSpacing:d?c.spacing:0,orientation:d?"vertical":"horizontal",reverse:c.rtl,alignItems:d?"start":"center"});for(var e=0;e<b.length;e++){var f=b[e];f.reflow(new A);f.renderVisual()}},reflow:function(a){this.visual.rect(a.toRect());this.visual.reflow();var c=this.visual.clippedBBox();if(c){this.box=b.rectToBox(c)}else{this.box=new A}},renderVisual:function(){this.addVisual()},createVisual:function(){}});var Od=U.extend({init:function(a){U.fn.init.call(this,a);this.createContainer();if(!a.rtl){this.createMarker();this.createLabel()}else{this.createLabel();this.createMarker()}},createContainer:function(){this.container=new b.FloatElement({vertical:false,wrap:false,align:i,spacing:this.options.spacing});this.append(this.container)},createMarker:function(){this.container.append(new M(this.markerOptions()))},markerOptions:function(){var a=this.options;var b=a.markerColor;return H({},a.markers,{background:b,border:{color:b}})},createLabel:function(){var a=this.options;var b=H({},a.labels);this.container.append(new L(a.text,b))},renderComplete:function(){U.fn.renderComplete.call(this);var a=this.options.cursor||{};var b=this._itemOverlay=ea.fromRect(this.container.box.toRect(),{fill:{color:m,opacity:0},stroke:null,cursor:a.style||a});this.appendVisual(b)},click:function(a,b){var c=this.eventArgs(b);if(!a.trigger(wb,c)){b.preventDefault()}},hover:function(a,b){var c=this.eventArgs(b);if(!a.trigger(xb,c)){b.preventDefault();a._legendItemHover(c.seriesIndex,c.pointIndex)}return true},leave:function(a){a._unsetActivePoint()},eventArgs:function(a){var b=this.options;return{element:J(a),text:b.text,series:b.series,seriesIndex:b.series.index,pointIndex:b.pointIndex}},renderVisual:function(){var a=this;var b=this.options;var c=b.visual;if(c){this.visual=c({active:b.active,series:b.series,sender:this.getSender(),pointIndex:b.pointIndex,options:{markers:this.markerOptions(),labels:b.labels},createVisual:function(){a.createVisual();a.renderChildren();a.renderComplete();var b=a.visual;delete a.visual;return b}});this.addVisual()}else{U.fn.renderVisual.call(this)}}});var Pd="horizontal";var Qd="pointer";var Rd="custom";var Sd=y.extend({init:function(a,b){if(b===void 0){b={}}y.fn.init.call(this,a);this.chartService=b;if(!D(this.options.position,[j,q,k,l,Rd])){this.options.position=q}this.createContainer();this.createItems()},createContainer:function(){var a=this.options;var b=a.position;var c=a.align;var d=b;var e=i;if(b===Rd){d=l}else if(D(b,[j,k])){if(c==="start"){d=l}else if(c==="end"){d=q}else{d=i}e=b}else if(c){if(c==="start"){e=j}else if(c==="end"){e=k}}this.container=new U({margin:a.margin,padding:a.padding,background:a.background,border:a.border,vAlign:e,align:d,zIndex:a.zIndex,shrinkToFit:true});this.append(this.container)},createItems:function(){var a=this.getService();var b=this.options;var c=this.isVertical();var d=new Nd({vertical:c,spacing:b.spacing,rtl:a.rtl},a);var e=b.items;if(b.reverse){e=e.slice(0).reverse()}var f=e.length;for(var g=0;g<f;g++){var h=e[g];d.append(new Od(H({},{markers:b.markers,labels:b.labels,rtl:a.rtl},b.item,h)))}d.render();this.container.append(d)},isVertical:function(){var a=this.options;var b=a.orientation;var c=a.position;var d=c===Rd&&b!==Pd||(v(b)?b!==Pd:D(c,[l,q]));return d},hasItems:function(){return this.container.children[0].children.length>0},reflow:function(a){var b=this.options;var c=a.clone();if(!this.hasItems()){this.box=c;return}if(b.position===Rd){this.containerCustomReflow(c);this.box=c}else{this.containerReflow(c)}},containerReflow:function(a){var b=this;var c=b.options;var d=b.container;var e=c.position;var f=c.width;var g=c.height;var h=e===j||e===k?o:p;var i=this.isVertical();var m=a.clone();var n=a.clone();if(e===l||e===q){n.y1=m.y1=0}if(i&&g){n.y2=n.y1+g;n.align(m,p,d.options.vAlign)}else if(!i&&f){n.x2=n.x1+f;n.align(m,o,d.options.align)}d.reflow(n);n=d.box;var r=n.clone();if(c.offsetX||c.offsetY){n.translate(c.offsetX,c.offsetY);this.container.reflow(n)}r[h+1]=a[h+1];r[h+2]=a[h+2];this.box=r},containerCustomReflow:function(a){var b=this;var c=b.options;var d=b.container;var e=c.offsetX;var f=c.offsetY;var g=c.width;var h=c.height;var i=this.isVertical();var j=a.clone();if(i&&h){j.y2=j.y1+h}else if(!i&&g){j.x2=j.x1+g}d.reflow(j);j=d.box;d.reflow(new A(e,f,e+j.width(),f+j.height()))},renderVisual:function(){if(this.hasItems()){y.fn.renderVisual.call(this)}}});C(Sd,{position:q,items:[],offsetX:0,offsetY:0,margin:N(5),padding:N(5),border:{color:r,width:0},item:{cursor:Qd,spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:l,vAlign:i}});var Td=c.extend({init:function(){this._registry=[]},register:function(a,b){this._registry.push({type:a,seriesTypes:b})},create:function(a,b,c){var d=this._registry;var e=d[0];var f;for(var g=0;g<d.length;g++){var h=d[g];f=_c(a,h.seriesTypes);if(f.length>0){e=h;break}}return new e.type(f,b,c)}});Td.current=new Td;var Ud=3;var Vd=.1;function Wd(a){var b=document.createElement("div");if(a){b.className=a}return b}function Xd(a){var b=a;while(b&&!Z(b,"k-handle")){b=b.parentNode}return b}var Yd=c.extend({init:function(a,b,c,d){var e=a.element;this.options=H({},this.options,c);this.chart=a;this.observer=d;this.chartElement=e;this.categoryAxis=b;this._dateAxis=this.categoryAxis instanceof X;this.initOptions();if(this.options.visible){this.createElements();this.set(this._index(this.options.from),this._index(this.options.to));this.bindEvents()}},createElements:function(){var a=this.options;var b=this.wrapper=Wd("k-selector");Y(b,{top:a.offset.top,left:a.offset.left,width:a.width,height:a.height,direction:"ltr"});var c=this.selection=Wd("k-selection");this.leftMask=Wd("k-mask");this.rightMask=Wd("k-mask");b.appendChild(this.leftMask);b.appendChild(this.rightMask);b.appendChild(c);c.appendChild(Wd("k-selection-bg"));var d=this.leftHandle=Wd("k-handle k-left-handle");var e=this.rightHandle=Wd("k-handle k-right-handle");d.appendChild(Wd());e.appendChild(Wd());c.appendChild(d);c.appendChild(e);this.chartElement.appendChild(b);var f=Y(c,["borderLeftWidth","borderRightWidth","height"]);var g=Y(d,"height").height;var h=Y(e,"height").height;a.selection={border:{left:f.borderLeftWidth,right:f.borderRightWidth}};Y(d,{top:(f.height-g)/2});Y(e,{top:(f.height-h)/2});b.style.cssText=b.style.cssText},bindEvents:function(){this._mousewheelHandler=this.options.mousewheel!==false?this._mousewheel.bind(this):Zd;var a;$(this.wrapper,(a={},a[Tb]=this._mousewheelHandler,a));this._domEvents=_.DomEventsBuilder.create(this.wrapper,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})},initOptions:function(){var a=this;var b=a.options;var c=a.categoryAxis;var d=c.pane.chartsBox();var e=this.chart.chartService.intl;if(this._dateAxis){H(b,{min:R(e,b.min),max:R(e,b.max),from:R(e,b.from),to:R(e,b.to)})}var f=Y(this.chartElement,["paddingLeft","paddingTop"]);var g=f.paddingLeft;var h=f.paddingTop;this.options=H({},{width:d.width(),height:d.height()+Vd,padding:{left:g,top:h},offset:{left:d.x1+g,top:d.y1+h},from:b.min,to:b.max},b)},destroy:function(){if(this._domEvents){this._domEvents.destroy();delete this._domEvents}clearTimeout(this._mwTimeout);this._state=null;if(this.wrapper){var a;aa(this.wrapper,(a={},a[Tb]=this._mousewheelHandler,a));this.chartElement.removeChild(this.wrapper)}},_rangeEventArgs:function(a){return{axis:this.categoryAxis.options,from:this._value(a.from),to:this._value(a.to)}},_start:function(a){var b=this.options;var c=J(a);if(this._state||!c){return}this.chart._unsetActivePoint();this._state={moveTarget:Xd(c)||c,startLocation:a.x?a.x.location:0,range:{from:this._index(b.from),to:this._index(b.to)}};var d=this._rangeEventArgs({from:this._index(b.from),to:this._index(b.to)});if(this.trigger(Ib,d)){this._state=null}},_press:function(a){var c;if(this._state){c=this._state.moveTarget}else{c=Xd(J(a))}if(c){b.addClass(c,"k-handle-active")}},_move:function(a){if(!this._state){return}var b=this;var c=b._state;var d=b.options;var e=b.categoryAxis.options;var f=c.range;var g=c.moveTarget;var h=e.reverse;var i=this._index(d.from);var j=this._index(d.to);var k=this._index(d.min);var l=this._index(d.max);var m=c.startLocation-a.x.location;var n={from:f.from,to:f.to};var o=f.to-f.from;var p=Y(this.wrapper,"width").width/(e.categories.length-1);var q=Math.round(m/p)*(h?-1:1);if(!g){return}var r=Z(g,"k-left-handle");var s=Z(g,"k-right-handle");if(Z(g,"k-selection k-selection-bg")){f.from=Math.min(Math.max(k,i-q),l-o);f.to=Math.min(f.from+o,l)}else if(r&&!h||s&&h){f.from=Math.min(Math.max(k,i-q),l-1);f.to=Math.max(f.from+1,f.to)}else if(r&&h||s&&!h){f.to=Math.min(Math.max(k+1,j-q),l);f.from=Math.min(f.to-1,f.from)}if(f.from!==n.from||f.to!==n.to){this.move(f.from,f.to);this.trigger(Jb,this._rangeEventArgs(f))}},_end:function(){if(this._state){var a=this._state.moveTarget;if(a){b.removeClass(a,"k-handle-active")}var c=this._state.range;this.set(c.from,c.to);this.trigger(Kb,this._rangeEventArgs(c));delete this._state}},_tap:function(a){var b=this;var c=b.options;var d=b.categoryAxis;var e=this.chart._eventCoordinates(a);var f=d.pointCategoryIndex(new z(e.x,d.box.y1));var g=this._index(c.from);var h=this._index(c.to);var i=this._index(c.min);var j=this._index(c.max);var k=h-g;var l=g+k/2;var m={};var n=a.event.which===3;var o=Math.round(l-f);if(this._state||n){return}this.chart._unsetActivePoint();if(!d.options.justified){o--}m.from=Math.min(Math.max(i,g-o),j-k);m.to=Math.min(m.from+k,j);this._start(a);if(this._state){this._state.range=m;this.trigger(Jb,this._rangeEventArgs(m));this._end()}},_mousewheel:function(a){var c=this;var d=b.mousewheelDelta(a);this._start({target:this.selection});if(this._state){var e=this._state.range;a.preventDefault();a.stopPropagation();if(Math.abs(d)>1){d*=Ud}if(this.options.mousewheel.reverse){d*=-1}if(this.expand(d)){this.trigger(Jb,{axis:this.categoryAxis.options,delta:d,originalEvent:a,from:this._value(e.from),to:this._value(e.to)})}if(this._mwTimeout){clearTimeout(this._mwTimeout)}this._mwTimeout=setTimeout(function(){c._end()},Ub)}},_gesturestart:function(a){var b=this.options;this._state={range:{from:this._index(b.from),to:this._index(b.to)}};var c=this._rangeEventArgs(this._state.range);if(this.trigger(Ib,c)){this._state=null}else{a.preventDefault()}},_gestureend:function(){if(this._state){this.trigger(Kb,this._rangeEventArgs(this._state.range));delete this._state}},_gesturechange:function(a){var b=this;var c=b.chart;var d=b._state;var e=b.options;var f=b.categoryAxis;var g=d.range;var h=c._toModelCoordinates(a.touches[0].x.location).x;var i=c._toModelCoordinates(a.touches[1].x.location).x;var j=Math.min(h,i);var k=Math.max(h,i);a.preventDefault();g.from=f.pointCategoryIndex(new z(j))||e.min;g.to=f.pointCategoryIndex(new z(k))||e.max;this.move(g.from,g.to);this.trigger(Jb,this._rangeEventArgs(g))},_index:function(a){var b=a;if(a instanceof Date){b=this.categoryAxis.categoryIndex(a)}return b},_value:function(a){var b=this.categoryAxis.options.categories;var c=a;if(this._dateAxis){if(a>b.length-1){c=this.options.max}else{c=b[Math.ceil(a)]}}return c},_slot:function(a){var b=this.categoryAxis;var c=this._index(a);return b.getSlot(c,c,true)},move:function(a,b){var c=this.options;var d=this.categoryAxis.options.reverse;var e=c.offset;var f=c.padding;var g=c.selection.border;var h=d?b:a;var i=d?a:b;var j="x"+(d?2:1);var k=this._slot(h);var l=V(k[j]-e.left+f.left);Y(this.leftMask,{width:l});Y(this.selection,{left:l});k=this._slot(i);var m=V(c.width-(k[j]-e.left+f.left));Y(this.rightMask,{width:m});var n=c.width-m;if(n!==c.width){n+=g.right}Y(this.rightMask,{left:n});Y(this.selection,{width:Math.max(c.width-(l+m)-g.right,0)})},set:function(a,b){var c=this.options;var d=this._index(c.min);var e=this._index(c.max);var f=ba(this._index(a),d,e);var g=ba(this._index(b),f+1,e);if(c.visible){this.move(f,g)}c.from=this._value(f);c.to=this._value(g)},expand:function(a){var b=this.options;var c=this._index(b.min);var d=this._index(b.max);var e=b.mousewheel.zoom;var f=this._index(b.from);var g=this._index(b.to);var h={from:f,to:g};var i=H({},h);if(this._state){h=this._state.range}if(e!==q){h.from=ba(ba(f-a,0,g-1),c,d)}if(e!==l){h.to=ba(ba(g+a,h.from+1,d),c,d)}if(h.from!==i.from||h.to!==i.to){this.set(h.from,h.to);return true}},trigger:function(a,b){return(this.observer||this.chart).trigger(a,b)}});function Zd(a){a.stopPropagation()}C(Yd,{visible:true,mousewheel:{zoom:"both"},min:g,max:f});var $d=Rc.extend({show:function(a){if(!a||!a.tooltipAnchor||this._current&&this._current===a){return}var b=H({},this.options,a.options.tooltip);var c=a.tooltipAnchor();if(c){this._current=a;Rc.fn.show.call(this,{point:a,anchor:c},b,a)}else{this.hide()}},hide:function(){delete this._current;Rc.fn.hide.call(this)}});var _d=Rc.extend({init:function(a,b){Rc.fn.init.call(this,a.chartService,b);this.plotArea=a;this.formatService=a.chartService.format},showAt:function(a,b){var c=W(a,function(a){var b=a.series.tooltip;var c=b&&b.visible===false;return!c});if(c.length>0){var d=c[0];var e=this.plotArea.categoryAxis.getSlot(d.categoryIx);var f=b?this._slotAnchor(b,e):this._defaultAnchor(d,e);this.show({anchor:f,shared:true,points:a,category:d.category,categoryText:this.formatService.auto(this.options.categoryFormat,d.category),series:this.plotArea.series},this.options)}},_slotAnchor:function(a,b){var c=this.plotArea.categoryAxis;var d={horizontal:"left",vertical:"center"};if(!c.options.vertical){a.x=b.center().x}return{point:a,align:d}},_defaultAnchor:function(a,b){var c=a.owner.pane.chartsBox();var d=this.plotArea.categoryAxis.options.vertical;var e=c.center();var f=b.center();var g={horizontal:"center",vertical:"center"};var h;if(d){h=new z(e.x,f.y)}else{h=new z(f.x,e.y)}return{point:h,align:g}}});C(_d,{categoryFormat:"{0:d}"});var ae=fa.extend({setup:function(){var a=this;var b=a.element;var c=a.options;var d=b.bbox();if(d){this.origin=c.origin;var e=c.vertical?p:o;var f=this.fromScale=new ka(1,1);f[e]=Ea;b.transform(la().scale(f.x,f.y))}else{this.abort()}},step:function(a){var c=b.interpolateValue(this.fromScale.x,1,a);var d=b.interpolateValue(this.fromScale.y,1,a);this.element.transform(la().scale(c,d,this.origin))},abort:function(){fa.fn.abort.call(this);this.element.transform(null)}});C(ae,{duration:za});ga.current.register(Ua,ae);var be=fa.extend({setup:function(){var a=this.center=this.element.bbox().center();this.element.transform(la().scale(Ea,Ea,a))},step:function(a){this.element.transform(la().scale(a,a,this.center))}});C(be,{easing:"easeOutElastic"});ga.current.register(Wa,be);var ce=fa.extend({setup:function(){this.fadeTo=this.element.opacity();this.element.opacity(0)},step:function(a){this.element.opacity(a*this.fadeTo)}});C(ce,{duration:200,easing:"linear"});ga.current.register(Aa,ce);var de=fa.extend({setup:function(){this.element.transform(la().scale(Ea,Ea,this.options.center))},step:function(a){this.element.transform(la().scale(a,a,this.options.center))}});C(de,{easing:"easeOutElastic",duration:za});ga.current.register(db,de);var ee=Kc.extend({render:function(){Kc.fn.render.call(this);this.renderSegments()},createSegment:function(a,b,c){var d=b.style;var e;if(d===Ra){e=ic}else{e=ec}return new e(a,b,c)},animationPoints:function(){var a=Kc.fn.animationPoints.call(this);return a.concat(this._segments)},createMissingValue:function(a,b){if(b===Ma){var c={x:a.x,y:a.y};if(!Jc(c.x)){c.x=0}if(!Jc(c.y)){c.y=0}return c}}});H(ee.prototype,jc);var fe=dd.extend({initFields:function(){this.namedXAxes={};this.namedYAxes={};this.xAxisRangeTracker=new sc;this.yAxisRangeTracker=new sc},render:function(a){var b=this;if(a===void 0){a=this.panes}var c=this.groupSeriesByPane();for(var d=0;d<a.length;d++){var e=a[d];var f=c[e.options.name||"default"]||[];b.addToLegend(f);var g=b.filterVisibleSeries(f);if(!g){continue}b.createScatterChart(_c(g,nb),e);b.createScatterLineChart(_c(g,ob),e);b.createBubbleChart(_c(g,Wa),e)}this.createAxes(a)},appendChart:function(a,b){this.xAxisRangeTracker.update(a.xAxisRanges);this.yAxisRangeTracker.update(a.yAxisRanges);dd.fn.appendChart.call(this,a,b)},removeAxis:function(a){var b=a.options.name;dd.fn.removeAxis.call(this,a);if(a.options.vertical){this.yAxisRangeTracker.reset(b);
delete this.namedYAxes[b]}else{this.xAxisRangeTracker.reset(b);delete this.namedXAxes[b]}if(a===this.axisX){delete this.axisX}if(a===this.axisY){delete this.axisY}},seriesPaneName:function(a){var b=this.options;var c=a.xAxis;var d=[].concat(b.xAxis);var e=W(d,function(a){return a.name===c})[0];var f=a.yAxis;var g=[].concat(b.yAxis);var h=W(g,function(a){return a.name===f})[0];var i=b.panes||[{}];var j=i[0].name||"default";var k=(e||{}).pane||(h||{}).pane||j;return k},createScatterChart:function(a,b){if(a.length>0){this.appendChart(new Kc(this,{series:a,clip:b.options.clip}),b)}},createScatterLineChart:function(a,b){if(a.length>0){this.appendChart(new ee(this,{series:a,clip:b.options.clip}),b)}},createBubbleChart:function(a,b){if(a.length>0){this.appendChart(new Mc(this,{series:a,clip:b.options.clip}),b)}},createXYAxis:function(a,c,d){var e=a.name;var f=c?this.namedYAxes:this.namedXAxes;var g=c?this.yAxisRangeTracker:this.xAxisRangeTracker;var h=H({reverse:!c&&this.chartService.rtl},a,{vertical:c});var i=$c(h.type,Ob);var j=g.query();var k=i?{min:.1,max:1}:{min:0,max:1};var l=g.query(e)||j||k;var m=[h.min,h.max];var n=this.series;for(var o=0;o<n.length;o++){var p=n[o];var q=p[c?"yAxis":"xAxis"];if(q===h.name||d===0&&!q){var r=sa.current.bindPoint(p,0).valueFields;m.push(r[c?"y":"x"]);break}}if(d===0&&j){l.min=Math.min(l.min,j.min);l.max=Math.max(l.max,j.max)}var t;for(var u=0;u<m.length;u++){if(m[u]instanceof Date){t=true;break}}var v;if($c(h.type,s)||!h.type&&t){v=b.DateValueAxis}else if(i){v=b.LogarithmicAxis}else{v=b.NumericAxis}var w=new v(l.min,l.max,h,this.chartService);w.axisIndex=d;if(e){if(f[e]){throw new Error((c?"Y":"X")+" axis with name "+e+" is already defined")}f[e]=w}this.appendAxis(w);return w},createAxes:function(a){var b=this;var c=this.options;var d=[].concat(c.xAxis);var e=[];var f=[].concat(c.yAxis);var g=[];for(var h=0;h<d.length;h++){var i=b.findPane(d[h].pane);if(D(i,a)){e.push(b.createXYAxis(d[h],false,h))}}for(var j=0;j<f.length;j++){var k=b.findPane(f[j].pane);if(D(k,a)){g.push(b.createXYAxis(f[j],true,j))}}this.axisX=this.axisX||e[0];this.axisY=this.axisY||g[0]},_dispatchEvent:function(a,b,c){var d=a._eventCoordinates(b);var e=new z(d.x,d.y);var f=this.axes;var g=f.length;var h=[];var i=[];for(var j=0;j<g;j++){var k=f[j];var l=k.options.vertical?i:h;var m=k.getValue(e);if(m!==null){l.push(m)}}if(h.length>0&&i.length>0){a.trigger(c,{element:J(b),originalEvent:b,x:cd(h),y:cd(i)})}},updateAxisOptions:function(a,b){var c=a.options.vertical;var d=this.groupAxes(this.panes);var e=(c?d.y:d.x).indexOf(a);ge(this.options,e,c,b);ge(this.originalOptions,e,c,b)}});function ge(a,b,c,d){var e=[].concat(c?a.yAxis:a.xAxis)[b];H(e,d)}C(fe,{xAxis:{},yAxis:{}});H(fe.prototype,hd);var he=y.extend({init:function(a,b,c){y.fn.init.call(this,c);this.value=a;this.sector=b},render:function(){var a=this.options.labels;var b=this.owner.chartService;var c=this.value;if(this._rendered||this.visible===false){return}this._rendered=true;var d=K(a);if(d){c=d({dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage})}else if(a.format){c=b.format.auto(a.format,c)}if(a.visible&&(c||c===0)){if(a.position===i||a.position===Qb){if(!a.color){var e=new ia(this.options.color).percBrightness();if(e>180){a.color=r}else{a.color=m}}if(!a.background){a.background=this.options.color}}else{var f=b.theme.seriesDefaults.labels;a.color=a.color||f.color;a.background=a.background||f.background}this.label=new L(c,H({},a,{align:i,vAlign:"",animation:{type:Aa,delay:this.animationDelay}}));this.append(this.label)}},reflow:function(a){this.render();this.box=a;this.reflowLabel()},reflowLabel:function(){var a=this;var b=a.options.labels;var c=a.label;var d=this.sector.clone();var e=b.distance;var f=d.middle();if(c){var g=c.box.height();var h=c.box.width();var j;if(b.position===i){d.radius=Math.abs((d.radius-g)/2)+g;j=d.point(f);c.reflow(new A(j.x,j.y-g/2,j.x,j.y))}else if(b.position===Qb){d.radius=d.radius-g/2;j=d.point(f);c.reflow(new A(j.x,j.y-g/2,j.x,j.y))}else{var k;j=d.clone().expand(e).point(f);if(j.x>=d.center.x){k=j.x+h;c.orientation=q}else{k=j.x-h;c.orientation=l}c.reflow(new A(k,j.y-g,j.x,j.y))}}},createVisual:function(){var a=this;var b=this;var c=b.sector;var d=b.options;y.fn.createVisual.call(this);if(this.value){if(d.visual){var e=(c.startAngle+180)%360;var f=d.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new ka(c.center.x,c.center.y),radius:c.radius,innerRadius:c.innerRadius,startAngle:e,endAngle:e+c.angle,options:d,sender:this.getSender(),createVisual:function(){var b=new ha;a.createSegmentVisual(b);return b}});if(f){this.visual.append(f)}}else{this.createSegmentVisual(this.visual)}}},createSegmentVisual:function(a){var b=this;var c=b.sector;var d=b.options;var e=d.border||{};var f=e.width>0?{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}}:{};var g=d.color;var h={color:g,opacity:d.opacity};var i=this.createSegment(c,H({fill:h,stroke:{opacity:d.opacity},zIndex:d.zIndex},f));a.append(i);if(uc(d)){a.append(this.createGradientOverlay(i,{baseColor:g,fallbackFill:h},H({center:[c.center.x,c.center.y],innerRadius:c.innerRadius,radius:c.radius,userSpace:true},d.overlay)))}},createSegment:function(a,c){if(c.singleSegment){return new da.Circle(new ja.Circle(new ka(a.center.x,a.center.y),a.radius),c)}return b.ShapeBuilder.current.createRing(a,c)},createAnimation:function(){var a=this;var b=a.options;var c=a.sector.center;H(b,{animation:{center:[c.x,c.y],delay:this.animationDelay}});y.fn.createAnimation.call(this)},createHighlight:function(a){var b=this.options.highlight||{};var c=b.border||{};return this.createSegment(this.sector,H({},a,{fill:{color:b.color,opacity:b.opacity},stroke:{opacity:c.opacity,width:c.width,color:c.color}}))},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var a=this.sector;return{options:this.options,radius:a.radius,innerRadius:a.innerRadius,center:new ka(a.center.x,a.center.y),startAngle:a.startAngle,endAngle:a.angle+a.startAngle,visual:this.visual}},tooltipAnchor:function(){var a=this.sector.clone().expand(Da);var b=a.middle();var c=a.point(b);return{point:c,align:ke(b+180)}},formatValue:function(a){return this.owner.formatPointValue(this,a)}});var ie=V(b.rad(30),t);var je=V(b.rad(60),t);function ke(a){var c=b.rad(a);var d=V(Math.sin(c),t);var e=V(Math.cos(c),t);var f;if(Math.abs(d)>je){f=i}else if(e<0){f=q}else{f=l}var g;if(Math.abs(d)<ie){g=i}else if(d<0){g=k}else{g=j}return{horizontal:f,vertical:g}}C(he,{color:m,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:false,distance:35,font:e.DEFAULT_FONT,margin:N(.5),align:n,zIndex:1,position:Sb},animation:{type:db},highlight:{visible:true,border:{width:1}},visible:true});H(he.prototype,bc);var le={createLegendItem:function(a,b,c){var d=this.options.legend||{};var e=d.labels||{};var f=d.inactiveItems||{};var g=f.labels||{};if(c&&c.visibleInLegend!==false){var h=c.visible!==false;var i=h?K(e):K(g)||K(e);var j=c.category;if(i){j=i({text:j,series:c.series,dataItem:c.dataItem,percentage:c.percentage,value:a})}var k,l;if(h){k={};l=b.color}else{k={color:g.color,font:g.font};l=(f.markers||{}).color}if(Jc(j)&&j!==""){this.legendItems.push({pointIndex:c.index,text:j,series:c.series,markerColor:l,labels:k})}}}};var me=70;var ne=y.extend({init:function(a,b){y.fn.init.call(this,b);this.plotArea=a;this.chartService=a.chartService;this.points=[];this.legendItems=[];this.render()},render:function(){this.traverseDataPoints(this.addValue.bind(this))},traverseDataPoints:function(a){var c=this;var d=this;var e=d.options;var f=d.plotArea.options.seriesColors;if(f===void 0){f=[]}var g=f.length;var h=e.series;var j=h.length;for(var k=0;k<j;k++){var l=h[k];var m=l.data;var n=Zc(l);var o=n.total;var p=n.points;var q=n.count;var r=360/o;var s=void 0;if(!isFinite(r)){s=360/q}var t=void 0;if(v(l.startAngle)){t=l.startAngle}else{t=e.startAngle}if(k!==j-1){if(l.labels.position===Sb){l.labels.position=i}}for(var u=0;u<p.length;u++){var w=p[u];if(!w){continue}var x=w.fields;var y=w.value;var z=w.visible;var A=y!==0?s||y*r:0;var B=m.length!==1&&Boolean(x.explode);if(!E(l.color)){l.color=x.color||f[u%g]}a(w.valueFields.value,new b.Ring(null,0,0,t,A),{owner:c,category:v(x.category)?x.category:"",index:u,series:l,seriesIx:k,dataItem:m[u],percentage:o!==0?y/o:0,explode:B,visibleInLegend:x.visibleInLegend,visible:z,zIndex:j-k,animationDelay:c.animationDelay(u,k,j)});if(z!==false){t+=A}}}},evalSegmentOptions:function(a,b,c){var d=c.series;$b(a,{value:b,series:d,dataItem:c.dataItem,category:c.category,percentage:c.percentage},{defaults:d._defaults,excluded:["data","content","template","visual","toggle"]})},addValue:function(b,c,d){var e=H({},d.series,{index:d.index});this.evalSegmentOptions(e,b,d);this.createLegendItem(b,e,d);if(d.visible===false){return}var f=new he(b,c,e);a.extend(f,d);this.append(f);this.points.push(f)},reflow:function(a){var b=this;var c=b.options;var d=b.points;var e=b.seriesConfigs;if(e===void 0){e=[]}var f=d.length;var g=a.clone();var h=5;var i=Math.min(g.width(),g.height());var j=i/2;var k=i-i*.85;var l=new A(g.x1,g.y1,g.x1+i,g.y1+i);var m=l.center();var n=g.center();var o=c.series.length;var p=[];var r=[];var s=F(c.padding,k);s=s>j-h?j-h:s;l.translate(n.x-m.x,n.y-m.y);var t=j-s;var u=new z(t+l.x1+s,t+l.y1+s);for(var v=0;v<f;v++){var w=d[v];var x=w.sector;var y=w.seriesIx;x.radius=t;x.center=u;if(e.length){var B=e[y];x.innerRadius=B.innerRadius;x.radius=B.radius}if(y===o-1&&w.explode){x.center=x.clone().setRadius(x.radius*.15).point(x.middle())}w.reflow(l);var C=w.label;if(C){if(C.options.position===Sb){if(y===o-1){if(C.orientation===q){r.push(C)}else{p.push(C)}}}}}if(p.length>0){p.sort(this.labelComparator(true));this.leftLabelsReflow(p)}if(r.length>0){r.sort(this.labelComparator(false));this.rightLabelsReflow(r)}this.box=l},leftLabelsReflow:function(a){var b=this.distanceBetweenLabels(a);this.distributeLabels(b,a)},rightLabelsReflow:function(a){var b=this.distanceBetweenLabels(a);this.distributeLabels(b,a)},distanceBetweenLabels:function(a){var b=I(this.points);var c=b.sector;var d=a.length-1;var e=c.radius+b.options.labels.distance;var f=[];var g=a[0].box;var h=V(g.y1-(c.center.y-e-g.height()-g.height()/2));f.push(h);for(var i=0;i<d;i++){var j=a[i+1].box;g=a[i].box;h=V(j.y1-g.y2);f.push(h)}h=V(c.center.y+e-a[d].box.y2-a[d].box.height()/2);f.push(h);return f},distributeLabels:function(a,b){var c=this;var d=a.length;var e,f,g;for(var h=0;h<d;h++){g=-a[h];e=f=h;while(g>0&&(e>=0||f<d)){g=c._takeDistance(a,h,--e,g);g=c._takeDistance(a,h,++f,g)}}this.reflowLabels(a,b)},_takeDistance:function(a,b,c,d){var e=d;if(a[c]>0){var f=Math.min(a[c],e);e-=f;a[c]-=f;a[b]+=f}return e},reflowLabels:function(a,b){var c=this;var d=I(this.points);var e=d.sector;var f=d.options.labels;var g=b.length;var h=f.distance;var i=e.center.y-(e.radius+h)-b[0].box.height();var j;a[0]+=2;for(var k=0;k<g;k++){var l=b[k];var m=l.box;i+=a[k];j=c.hAlignLabel(m.x2,e.clone().expand(h),i,i+m.height(),l.orientation===q);if(l.orientation===q){if(f.align!==n){j=e.radius+e.center.x+h}l.reflow(new A(j+m.width(),i,j,i))}else{if(f.align!==n){j=e.center.x-e.radius-h}l.reflow(new A(j-m.width(),i,j,i))}i+=m.height()}},createVisual:function(){var a=this;var b=this;var c=b.options.connectors;var d=b.points;var e=d.length;var f=4;y.fn.createVisual.call(this);this._connectorLines=[];for(var g=0;g<e;g++){var h=d[g];var i=h.sector;var j=h.label;var k=i.middle();var l=(h.options.connectors||{}).color||c.color;if(j){var m=new ea({stroke:{color:l,width:c.width},animation:{type:Aa,delay:h.animationDelay}});if(j.options.position===Sb){var n=j.box;var o=i.center;var p=i.point(k);var r=new z(n.x1,n.center().y);var s=void 0,t=void 0,u=void 0;p=i.clone().expand(c.padding).point(k);m.moveTo(p.x,p.y);if(j.orientation===q){t=new z(n.x1-c.padding,n.center().y);u=oe(o,p,r,t);r=new z(t.x-f,t.y);u=u||r;u.x=Math.min(u.x,r.x);if(a.pointInCircle(u,i.center,i.radius+f)||u.x<i.center.x){s=i.center.x+i.radius+f;if(h.options.labels.align!==Za){if(s<r.x){m.lineTo(s,p.y)}else{m.lineTo(p.x+f*2,p.y)}}else{m.lineTo(s,p.y)}m.lineTo(r.x,t.y)}else{u.y=t.y;m.lineTo(u.x,u.y)}}else{t=new z(n.x2+c.padding,n.center().y);u=oe(o,p,r,t);r=new z(t.x+f,t.y);u=u||r;u.x=Math.max(u.x,r.x);if(a.pointInCircle(u,i.center,i.radius+f)||u.x>i.center.x){s=i.center.x-i.radius-f;if(h.options.labels.align!==Za){if(s>r.x){m.lineTo(s,p.y)}else{m.lineTo(p.x-f*2,p.y)}}else{m.lineTo(s,p.y)}m.lineTo(r.x,t.y)}else{u.y=t.y;m.lineTo(u.x,u.y)}}m.lineTo(t.x,t.y);a._connectorLines.push(m);a.visual.append(m)}}}},labelComparator:function(a){var b=a?-1:1;return function(a,c){var d=(a.parent.sector.middle()+270)%360;var e=(c.parent.sector.middle()+270)%360;return(d-e)*b}},hAlignLabel:function(a,b,c,d,e){var f=b.radius;var g=b.center;var h=g.x;var i=g.y;var j=Math.min(Math.abs(i-c),Math.abs(i-d));if(j>f){return a}return h+Math.sqrt(f*f-j*j)*(e?1:-1)},pointInCircle:function(a,b,c){return Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)<Math.pow(c,2)},formatPointValue:function(a,b){return this.chartService.format.auto(b,a.value)},animationDelay:function(a){return a*me}});function oe(a,b,c,d){var e=(d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x);var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);var g;if(f!==0){var h=e/f;g=new z(a.x+h*(b.x-a.x),a.y+h*(b.y-a.y))}return g}C(ne,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}});H(ne.prototype,le);var pe=dd.extend({render:function(){this.createPieChart(this.series)},createPieChart:function(a){var b=a[0];var c=new ne(this,{series:a,padding:b.padding,startAngle:b.startAngle,connectors:b.connectors,legend:this.options.legend});this.appendChart(c)},appendChart:function(a,b){dd.fn.appendChart.call(this,a,b);P(this.options.legend.items,a.legendItems)}});var qe=he.extend({reflowLabel:function(){var a=this;var b=a.options.labels;var c=a.label;var d=this.sector.clone();var e=d.middle();if(c){var f=c.box.height();if(b.position===i){d.radius-=(d.radius-d.innerRadius)/2;var g=d.point(e);c.reflow(new A(g.x,g.y-f/2,g.x,g.y))}else{he.fn.reflowLabel.call(this)}}},createSegment:function(a,c){return b.ShapeBuilder.current.createRing(a,c)}});C(qe,{overlay:{gradient:"roundedGlass"},labels:{position:i},animation:{type:db}});H(qe.prototype,bc);var re=50;var se=ne.extend({addValue:function(b,c,d){var e=H({},d.series,{index:d.index});this.evalSegmentOptions(e,b,d);this.createLegendItem(b,e,d);if(!b||d.visible===false){return}var f=new qe(b,c,e);a.extend(f,d);this.append(f);this.points.push(f)},reflow:function(a){var b=this;var c=this.options;var d=a.clone();var e=5;var f=Math.min(d.width(),d.height());var g=f/2;var h=f-f*.85;var i=c.series;var j=i.length;var k=F(c.padding,h);k=k>g-e?g-e:k;var l=g-k;var m=0;var n;for(var o=0;o<j;o++){var p=i[o];if(o===0){if(v(p.holeSize)){n=p.holeSize;l-=p.holeSize}}if(v(p.size)){l-=p.size}else{m++}if(v(p.margin)&&o!==j-1){l-=p.margin}}if(!v(n)){var q=(g-k)/(j+.75);n=q*.75;l-=n}var r=n;var s=0;var t,u;this.seriesConfigs=[];for(var w=0;w<j;w++){var x=i[w];t=F(x.size,l/m);r+=s;u=r+t;b.seriesConfigs.push({innerRadius:r,radius:u});s=x.margin||0;r=u}ne.fn.reflow.call(this,a)},animationDelay:function(a,b,c){return a*re+za*(b+1)/(c+1)}});C(se,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});var te=pe.extend({render:function(){this.createDonutChart(this.series)},createDonutChart:function(a){var b=a[0];var c=new se(this,{series:a,padding:b.padding,connectors:b.connectors,legend:this.options.legend});this.appendChart(c)}});var ue=.15;var ve=dd.extend({initFields:function(){this.valueAxisRangeTracker=new sc},render:function(){this.addToLegend(this.series);this.createPolarAxis();this.createCharts();this.createValueAxis()},alignAxes:function(){var a=this.valueAxis;var b=a.range();var c=a.options.reverse?b.max:b.min;var d=a.getSlot(c);var e=this.polarAxis.getSlot(0).center;var f=a.box.translate(e.x-d.x1,e.y-d.y1);a.reflow(f)},createValueAxis:function(){var a=this.valueAxisRangeTracker;var c=a.query();var d=this.valueAxisOptions({roundToMajorUnit:false,zIndex:-1});var e,f;if(d.type===Ob){e=b.RadarLogarithmicAxis;f={min:.1,max:1}}else{e=b.RadarNumericAxis;f={min:0,max:1}}var g=a.query(name)||c||f;if(g&&c){g.min=Math.min(g.min,c.min);g.max=Math.max(g.max,c.max)}var h=new e(g.min,g.max,d,this.chartService);this.valueAxis=h;this.appendAxis(h)},reflowAxes:function(){var a=this;var b=a.options.plotArea;var c=a.valueAxis;var d=a.polarAxis;var e=a.box;var f=Math.min(e.width(),e.height())*ue;var g=N(b.padding||{},f);var h=e.clone().unpad(g);var j=h.clone();j.y2=j.y1+Math.min(j.width(),j.height());j.align(h,p,i);var k=j.clone().shrink(0,j.height()/2);d.reflow(j);c.reflow(k);var l=c.lineBox().height()-c.box.height();c.reflow(c.box.unpad({top:l}));this.axisBox=j;this.alignAxes(j)},backgroundBox:function(){return this.box}});var we=Kc.extend({pointSlot:function(a,b){var c=a.center.y-b.y1;var d=z.onCircle(a.center,a.startAngle,c);return new A(d.x,d.y,d.x,d.y)}});C(we,{clip:false});var xe=ee.extend({});xe.prototype.pointSlot=we.prototype.pointSlot;C(xe,{clip:false});var ye=qc.extend({fillToAxes:function(a){var b=this._polarAxisCenter();a.lineTo(b.x,b.y)},_polarAxisCenter:function(){var a=this.parent.plotArea.polarAxis;var b=a.box.center();return b},strokeSegments:function(){var a=this._strokeSegments;if(!a){var b=this._polarAxisCenter();var c=new O(false);var d=this.points();d.push(b);a=this._strokeSegments=c.process(d);a.pop()}return a}});var ze=oc.extend({fillToAxes:function(a){var b=this.parent.plotArea.polarAxis;var c=b.box.center();var d=new ja.Segment([c.x,c.y]);a.segments.unshift(d);a.segments.push(d)}});var Ae=xe.extend({createSegment:function(a,b,c){var d=(b.line||{}).style;var e;if(d===Ra){e=new ye(a,b,c)}else{e=new ze(a,b,c)}return e},createMissingValue:function(a,b){var c;if(Jc(a.x)&&b!==Na){c={x:a.x,y:a.y};if(b===Ma){c.y=0}}return c},seriesMissingValues:function(a){return a.missingValues||Ma},_hasMissingValuesGap:function(){var a=this;var b=this.options.series;for(var c=0;c<b.length;c++){if(a.seriesMissingValues(b[c])===Oa){return true}}},sortPoints:function(a){var b=this;a.sort(Be);if(this._hasMissingValuesGap()){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.value;if(!Jc(e.y)&&b.seriesMissingValues(d.series)===Oa){delete a[c]}}}}return a}});function Be(a,b){return a.value.x-b.value.x}var Ce=ve.extend({createPolarAxis:function(){var a=new b.PolarAxis(this.options.xAxis,this.chartService);this.polarAxis=a;this.axisX=a;this.appendAxis(a)},valueAxisOptions:function(a){return H(a,{majorGridLines:{type:u},minorGridLines:{type:u}},this.options.yAxis)},createValueAxis:function(){ve.fn.createValueAxis.call(this);this.axisY=this.valueAxis},appendChart:function(a,b){this.valueAxisRangeTracker.update(a.yAxisRanges);dd.prototype.appendChart.call(this,a,b)},createCharts:function(){var a=this.filterVisibleSeries(this.series);var b=this.panes[0];this.createLineChart(_c(a,[fb]),b);this.createScatterChart(_c(a,[gb]),b);this.createAreaChart(_c(a,[eb]),b)},createLineChart:function(a,b){if(a.length===0){return}var c=new xe(this,{series:a});this.appendChart(c,b)},createScatterChart:function(a,b){if(a.length===0){return}var c=new we(this,{series:a});this.appendChart(c,b)},createAreaChart:function(a,b){if(a.length===0){return}var c=new Ae(this,{series:a});this.appendChart(c,b)},_dispatchEvent:function(a,b,c){var d=a._eventCoordinates(b);var e=new z(d.x,d.y);var f=this.axisX.getValue(e);var g=this.axisY.getValue(e);if(f!==null&&g!==null){a.trigger(c,{element:J(b),x:f,y:g})}},createCrosshairs:function(){}});C(Ce,{xAxis:{},yAxis:{}});H(Ce.prototype,hd);var De=nc.extend({pointSlot:function(a,b){var c=a.center.y-b.y1;var d=z.onCircle(a.center,a.middle(),c);return new A(d.x,d.y,d.x,d.y)},createSegment:function(a,b,c){var d=b.style;var e;if(d===Ra){e=ic}else{e=ec}var f=new e(a,b,c);if(a.length===b.data.length){f.options.closed=true}return f}});C(De,{clip:false,limitPoints:false});var Ee=qc.extend({fillToAxes:function(){}});var Fe=oc.extend({fillToAxes:function(){}});var Ge=De.extend({createSegment:function(a,b,c,d){var e=this.options.isStacked;var f=(b.line||{}).style;var g;var h;var i;if(e&&c>0&&d){h=d.linePoints.slice(0);g=d}if(f===Ra){i=new Ee(a,b,c,g,h);i.options.closed=true}else{a.push(a[0]);i=new Fe(a,b,c,g,h)}return i},seriesMissingValues:function(a){return a.missingValues||Ma}});var He=qe.extend({init:function(a,b){qe.fn.init.call(this,a,null,b)}});C(He,{overlay:{gradient:"none"},labels:{distance:10}});var Ie=y.extend({init:function(a){y.fn.init.call(this,a);this.forEach=a.rtl?yc:xc},reflow:function(a){var b=this;var c=b.options;var d=b.children;var e=c.gap;var f=c.spacing;var g=d.length;var h=g+e+f*(g-1);var i=a.angle/h;var j=a.startAngle+i*(e/2);this.forEach(d,function(b){var c=a.clone();c.startAngle=j;c.angle=i;if(b.sector){c.radius=b.sector.radius}b.reflow(c);b.sector=c;j+=i+i*f})}});C(Ie,{gap:1,spacing:0});var Je=y.extend({reflow:function(a){var b=this;var c=b.options.reverse;var d=b.children;var e=d.length;var f=c?e-1:0;var g=c?-1:1;this.box=new A;for(var h=f;h>=0&&h<e;h+=g){var i=d[h].sector;i.startAngle=a.startAngle;i.angle=a.angle}}});var Ke=Bc.extend({pointType:function(){return He},clusterType:function(){return Ie},stackType:function(){return Je},categorySlot:function(a,b){return a.getSlot(b)},pointSlot:function(a,b){var c=a.clone();var d=a.center.y;c.radius=d-b.y1;c.innerRadius=d-b.y2;return c},reflowPoint:function(a,b){a.sector=b;a.reflow()},createAnimation:function(){this.options.animation.center=this.box.toRect().center();Bc.fn.createAnimation.call(this)}});Ke.prototype.reflow=ac.prototype.reflow;C(Ke,{clip:false,limitPoints:false,animation:{type:"pie"}});var Le=ve.extend({createPolarAxis:function(){var a=new b.RadarCategoryAxis(this.options.categoryAxis,this.chartService);this.polarAxis=a;this.categoryAxis=a;this.appendAxis(a);this.aggregateCategories();this.createCategoryAxesLabels()},valueAxisOptions:function(a){if(this._hasBarCharts){H(a,{majorGridLines:{type:u},minorGridLines:{type:u}})}if(this._isStacked100){H(a,{roundToMajorUnit:false,labels:{format:"P0"}})}return H(a,this.options.valueAxis)},aggregateCategories:function(){Dd.prototype.aggregateCategories.call(this,this.panes)},createCategoryAxesLabels:function(){Dd.prototype.createCategoryAxesLabels.call(this,this.panes)},filterSeries:function(a){return a},createCharts:function(){var a=this.filterVisibleSeries(this.series);var b=this.panes[0];this.createAreaChart(_c(a,[hb]),b);this.createLineChart(_c(a,[jb]),b);this.createBarChart(_c(a,[ib]),b)},chartOptions:function(a){var b={series:a};var c=a[0];if(c){var d=this.filterVisibleSeries(a);var e=c.stack;b.isStacked=e&&d.length>1;b.isStacked100=e&&e.type==="100%"&&d.length>1;if(b.isStacked100){this._isStacked100=true}}return b},createAreaChart:function(a,b){if(a.length===0){return}var c=new Ge(this,this.chartOptions(a));this.appendChart(c,b)},createLineChart:function(a,b){if(a.length===0){return}var c=new De(this,this.chartOptions(a));this.appendChart(c,b)},createBarChart:function(a,b){if(a.length===0){return}var c=a[0];var d=this.chartOptions(a);d.gap=c.gap;d.spacing=c.spacing;var e=new Ke(this,d);this.appendChart(e,b);this._hasBarCharts=true},seriesCategoryAxis:function(){return this.categoryAxis},_dispatchEvent:function(a,b,c){var d=a._eventCoordinates(b);var e=new z(d.x,d.y);var f=this.categoryAxis.getCategory(e);var g=this.valueAxis.getValue(e);if(f!==null&&g!==null){a.trigger(c,{element:J(b),category:f,value:g})}},createCrosshairs:function(){}});H(Le.prototype,hd,{appendChart:Dd.prototype.appendChart,aggregateSeries:Dd.prototype.aggregateSeries});C(Le,{categoryAxis:{categories:[]},valueAxis:{}});var Me=y.extend({init:function(a,b,c){y.fn.init.call(this,b);this.value=a;this.options.index=c.index},reflow:function(a){var b=this.points;var c=this.children[0];this.box=new A(b[0].x,b[0].y,b[1].x,b[2].y);if(c){c.reflow(new A(a.x1,b[0].y,a.x2,b[2].y))}},createVisual:function(){var a=this;var b=this.options;var c;y.fn.createVisual.call(this);if(b.visual){c=b.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:b,sender:this.getSender(),createVisual:function(){return a.createPath()}})}else{c=this.createPath()}if(c){this.visual.append(c)}},createPath:function(){var a=this.options;var b=a.border;var c=ea.fromPoints(this.points,{fill:{color:a.color,opacity:a.opacity},stroke:{color:b.color,opacity:b.opacity,width:b.width}}).close();return c},createHighlight:function(a){return ea.fromPoints(this.points,a)},highlightVisual:function(){return this.visual.children[0]},highlightVisualArgs:function(){var a=ea.fromPoints(this.points).close();return{options:this.options,path:a}},tooltipAnchor:function(){var a=this.box;return{point:new z(a.center().x,a.y1),align:{horizontal:"center",vertical:"top"}}},formatValue:function(a){var b=this;return b.owner.formatPointValue(b,a)}});C(Me,{color:m,border:{width:1}});H(Me.prototype,bc);var Ne=y.extend({init:function(a,b){y.fn.init.call(this,b);this.plotArea=a;this.points=[];this.labels=[];this.legendItems=[];this.render()},formatPointValue:function(a,b){return this.chartService.format.auto(b,a.value)},render:function(){var a=this;var b=this;var c=b.options;var d=b.plotArea.options.seriesColors;if(d===void 0){d=[]}var e=c.series[0];var f=e.data;if(!f){return}var g=Zc(e);var h=g.total;var i=g.points;for(var j=0;j<i.length;j++){var k=i[j];if(!k){continue}var l=k.fields;if(!E(e.color)){e.color=l.color||d[j%d.length]}l=H({index:j,owner:a,series:e,dataItem:f[j],percentage:k.value/h},l,{visible:k.visible});var m=k.valueFields.value;var n=a.createSegment(m,l);var o=a.createLabel(m,l);if(n&&o){n.append(o)}}},evalSegmentOptions:function(a,b,c){var d=c.series;$b(a,{value:b,series:d,dataItem:c.dataItem,index:c.index},{defaults:d._defaults,excluded:["data","content","template","toggle","visual"]})},createSegment:function(b,c){var d=H({},c.series);this.evalSegmentOptions(d,b,c);this.createLegendItem(b,d,c);if(c.visible!==false){var e=new Me(b,d,c);a.extend(e,c);this.append(e);this.points.push(e);return e}},createLabel:function(a,b){var c=b.series;var d=b.dataItem;var e=H({},this.options.labels,c.labels);var f=a;if(e.visible){var g=K(e);if(g){f=g({dataItem:d,value:a,percentage:b.percentage,category:b.category,series:c})}else if(e.format){f=this.plotArea.chartService.format.auto(e.format,f)}if(!e.color){var h=new ia(c.color).percBrightness();if(h>180){e.color=r}else{e.color=m}if(!e.background){e.background=c.color}}this.evalSegmentOptions(e,a,b);var i=new L(f,H({vAlign:e.position},e));this.labels.push(i);return i}},labelPadding:function(){var a=this.labels;var b={left:0,right:0};for(var c=0;c<a.length;c++){var d=a[c];var e=d.options.align;if(e!==i){var f=a[c].box.width();if(e===l){b.left=Math.max(b.left,f)}else{b.right=Math.max(b.right,f)}}}return b},dynamicSlopeReflow:function(a,b,c){var d=this;var e=d.options;var f=d.points;var g=f.length;var h=f[0];var i=h;for(var j=0;j<f.length;j++){if(f[j].percentage>i.percentage){i=f[j]}}var k=h.percentage/i.percentage*b;var l=(b-k)/2;var m=0;for(var n=0;n<g;n++){var o=f[n].percentage;var p=f[n+1];var q=p?p.percentage:o;var r=f[n].points=[];var s=e.dynamicHeight?c*o:c/g;var t=void 0;if(!o){t=q?0:b/2}else{t=(b-k*(q/o))/2}t=ba(t,0,b);r.push(new ka(a.x1+l,a.y1+m));r.push(new ka(a.x1+b-l,a.y1+m));r.push(new ka(a.x1+b-t,a.y1+s+m));r.push(new ka(a.x1+t,a.y1+s+m));l=t;m+=s+e.segmentSpacing;k=ba(b-2*t,0,b)}},constantSlopeReflow:function(a,b,c){var d=this;var e=d.options;var f=d.points;var g=f.length;var h=e.neckRatio<=1;var i=h?e.neckRatio*b:b;var j=h?0:(b-b/e.neckRatio)/2;var k=h?b:b-j*2;var l=(k-i)/2;var m=0;for(var n=0;n<g;n++){var o=f[n].points=[];var p=f[n].percentage;var q=e.dynamicHeight?l*p:l/g;var r=e.dynamicHeight?c*p:c/g;o.push(new ka(a.x1+j,a.y1+m));o.push(new ka(a.x1+b-j,a.y1+m));o.push(new ka(a.x1+b-j-q,a.y1+r+m));o.push(new ka(a.x1+j+q,a.y1+r+m));j+=q;m+=r+e.segmentSpacing}},reflow:function(a){var b=this.points;var c=b.length;if(!c){return}var d=this.options;var e=a.clone().unpad(this.labelPadding());var f=e.height()-d.segmentSpacing*(c-1);var g=e.width();if(d.dynamicSlope){this.dynamicSlopeReflow(e,g,f)}else{this.constantSlopeReflow(e,g,f)}for(var h=0;h<c;h++){b[h].reflow(a)}}});C(Ne,{neckRatio:.3,width:300,dynamicSlope:false,dynamicHeight:true,segmentSpacing:0,labels:{visible:false,align:i,position:i,zIndex:1}});H(Ne.prototype,le);var Oe=dd.extend({render:function(){this.createFunnelChart(this.series)},createFunnelChart:function(a){var b=a[0];var c=new Ne(this,{series:a,legend:this.options.legend,neckRatio:b.neckRatio,dynamicHeight:b.dynamicHeight,dynamicSlope:b.dynamicSlope,segmentSpacing:b.segmentSpacing,highlight:b.highlight});this.appendChart(c)},appendChart:function(a,b){dd.fn.appendChart.call(this,a,b);P(this.options.legend.items,a.legendItems)}});var Pe="color";var Qe="first";var Re="from";var Se="max";var Te="min";var Ue="noteText";var Ve="summary";var We="to";Td.current.register(Dd,[Ua,Za,bb,sb,Ta,pb,Ya,cb,Xa,rb,Va,qb,mb,lb,ub,ab,kb,tb]);Td.current.register(fe,[nb,ob,Wa]);Td.current.register(pe,[db]);Td.current.register(te,[$a]);Td.current.register(Oe,[_a]);Td.current.register(Ce,[eb,fb,gb]);Td.current.register(Le,[hb,ib,jb]);sa.current.register([Ua,Za,bb,sb,Ta,pb],[h],[Pb,Pe,Ue,Fa,Ga]);sa.current.register([mb,lb,kb,tb],[Re,We],[Pb,Pe,Ue]);sa.current.register([ub,ab],[h],[Pb,Pe,Ue,Ve]);sa.current.register([eb,fb,gb],[o,p],[Pe]);sa.current.register([hb,ib,jb],[h],[Pe]);sa.current.register([_a],[h],[Pb,Pe,"visibleInLegend","visible"]);kd.current.register([Ua,Za,bb,sb,Ta,pb,ub,ab],{value:Se,color:Qe,noteText:Qe,errorLow:Te,errorHigh:Se});kd.current.register([mb,lb,kb,tb],{from:Te,to:Se,color:Qe,noteText:Qe});kd.current.register([hb,ib,jb],{value:Se,color:Qe});sa.current.register([nb,ob,Wa],[o,p],[Pe,Ue,Ha,Ia,Ja,Ka]);sa.current.register([Wa],[o,p,"size"],[Pe,Pb,Ue]);sa.current.register([Ya,cb],["open","high","low","close"],[Pb,Pe,"downColor",Ue]);kd.current.register([Ya,cb],{open:Se,high:Se,low:Te,close:Se,color:Qe,downColor:Qe,noteText:Qe});sa.current.register([Va,qb],["lower","q1","median","q3","upper","mean","outliers"],[Pb,Pe,Ue]);kd.current.register([Va,qb],{lower:Se,q1:Se,median:Se,q3:Se,upper:Se,mean:Se,outliers:Qe,color:Qe,noteText:Qe});sa.current.register([Xa,rb],["current","target"],[Pb,Pe,"visibleInLegend",Ue]);kd.current.register([Xa,rb],{current:Se,target:Se,color:Qe,noteText:Qe});sa.current.register([db,$a],[h],[Pb,Pe,"explode","visibleInLegend","visible"]);var Xe=[Pb,h,o,p];var Ye="mousemove";var Ze="contextmenu";var $e=20;var _e=c.extend({init:function(a,c,d,e){var f=this;if(e===void 0){e={}}this.observers=[];this.addObserver(e.observer);this.chartService=new _.ChartService(this,e);this.chartService.theme=d;this._initElement(a);var g=H({},this.options,c);this._originalOptions=H({},g);this._theme=d;this._initTheme(g,d);this._initSurface();this._initHandlers();this.bindCategories();b.FontLoader.preloadFonts(c,function(){if(!f._destroyed){f.trigger("init");f._redraw();f._attachEvents()}})},_initElement:function(a){this._setElementClass(a);a.style.position="relative";while(a.firstChild){a.removeChild(a.firstChild)}this.element=a},_setElementClass:function(a){b.addClass(a,"k-chart")},_initTheme:function(b,c){var d=[];var e=b.series||[];for(var f=0;f<e.length;f++){d.push(a.extend({},e[f]))}b.series=d;af(b);this.applyDefaults(b,c);if(b.seriesColors===null){delete b.seriesColors}this.options=H({},c,b);this.applySeriesColors()},getSize:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},resize:function(a){var b=this.getSize();var c=this._size;if(a||(b.width>0||b.height>0)&&(!c||b.width!==c.width||b.height!==c.height)){this._size=b;this._resize(b,a);this.trigger("resize",b)}},_resize:function(){this._noTransitionsRedraw()},redraw:function(a){this.applyDefaults(this.options);this.applySeriesColors();
if(a){var b=this._model._plotArea;var c=b.findPane(a);b.redraw(c)}else{this._redraw()}},getAxis:function(a){var b=this._plotArea.axes;for(var c=0;c<b.length;c++){if(b[c].options.name===a){return new ma(b[c])}}},findAxisByName:function(a){return this.getAxis(a)},findPaneByName:function(a){var b=this._plotArea.panes;for(var c=0;c<b.length;c++){if(b[c].options.name===a){return new na(b[c])}}},findPaneByIndex:function(a){var b=this._plotArea.panes;if(b[a]){return new na(b[a])}},plotArea:function(){return new oa(this._plotArea)},toggleHighlight:function(a,b){var c=this._plotArea;var d=(c.srcSeries||c.series||[])[0];var e;if(E(b)){e=c.filterPoints(b)}else{var f,g;if(G(b)){f=b.series;g=b.category}else{f=g=b}if(d.type===$a){e=bf(c.pointsBySeriesName(f),g)}else if(d.type===db||d.type===_a){e=bf((c.charts[0]||{}).points,g)}else{e=c.pointsBySeriesName(f)}}if(e){this.togglePointsHighlight(a,e)}},togglePointsHighlight:function(a,b){var c=this._highlight;for(var d=0;d<b.length;d++){c.togglePointHighlight(b[d],a)}},showTooltip:function(a){var b=this._sharedTooltip();var c=this;var d=c._tooltip;var e=c._plotArea;var f,g;if(E(a)){f=e.findPoint(a);if(f&&b){g=f.categoryIx}}else if(b&&v(a)){g=e.categoryAxis.categoryIndex(a)}if(b){if(g>=0){var h=this._plotArea.pointsByCategoryIndex(g);d.showAt(h)}}else if(f){d.show(f)}},hideTooltip:function(){this._tooltip.hide()},_initSurface:function(){var a=this.surface;var c=this._surfaceWrap();var d=this.options.chartArea;if(d.width){b.elementSize(c,{width:d.width})}if(d.height){b.elementSize(c,{height:d.height})}if(!a||a.options.type!==this.options.renderAs){if(a){a.destroy()}this.surface=da.Surface.create(c,{type:this.options.renderAs})}else{this.surface.clear();this.surface.resize()}},_surfaceWrap:function(){return this.element},_redraw:function(){var a=this._getModel();this._destroyView();this._model=a;this._plotArea=a._plotArea;a.renderVisual();if(this.options.transitions!==false){a.traverse(function(a){if(a.animation){a.animation.setup()}})}this._initSurface();this.surface.draw(a.visual);if(this.options.transitions!==false){a.traverse(function(a){if(a.animation){a.animation.play()}})}this._tooltip=this._createTooltip();this._highlight=new Gd;this._setupSelection();this._createPannable();this._createZoomSelection();this._createMousewheelZoom();this.trigger(Lb);if(!this._navState){this._cancelDomEvents()}},exportVisual:function(a){var b;if(a&&(a.width||a.height||a.options)){var c=this.options;var d=H({},a.options,{chartArea:{width:a.width,height:a.height}});kf(this._originalOptions,d);this.options=H({},this._originalOptions,d);this._initTheme(this.options,this._theme);this.bindCategories();var e=this._getModel();e.renderVisual();b=e.visual;this.options=c}else{b=this.surface.exportVisual()}return b},_sharedTooltip:function(){return this._plotArea instanceof Dd&&this.options.tooltip.shared},_createPannable:function(){var a=this.options;if(a.pannable!==false){this._pannable=new Kd(this._plotArea,a.pannable)}},_createZoomSelection:function(){var a=this.options.zoomable;var b=(a||{}).selection;if(a!==false&&b!==false){this._zoomSelection=new Ld(this,b)}},_toggleDomDrag:function(){if(!this.domEvents||!this.domEvents.toggleDrag){return}var a=this.options.pannable;var b=this.options.zoomable;var c=(b||{}).selection;if(!a&&(b===false||c===false)&&!this.requiresHandlers([Eb,Cb,Db])){this.domEvents.toggleDrag(false)}else{this.domEvents.toggleDrag(true)}},_createMousewheelZoom:function(){var a=this.options.zoomable;var b=(a||{}).mousewheel;if(a!==false&&b!==false){this._mousewheelZoom=new Md(this,b)}},_toggleDomZoom:function(){if(!this.domEvents||!this.domEvents.toggleZoom){return}var a=this.options.zoomable;var b=(a||{}).mousewheel;if((a===false||b===false)&&!this.requiresHandlers([Fb,Gb,Hb])){this.domEvents.toggleZoom(false)}else{this.domEvents.toggleZoom(true)}},_createTooltip:function(){var a=this;var b=a.options.tooltip;var c;if(this._sharedTooltip()){c=this._createSharedTooltip(b)}else{c=new $d(this.chartService,b)}return c},_createSharedTooltip:function(a){return new _d(this._plotArea,a)},applyDefaults:function(a,b){cf(a,b);df(a,b)},applySeriesColors:function(){var a=this.options;var b=a.series;var c=a.seriesColors||[];for(var d=0;d<b.length;d++){var e=b[d];var f=c[d%c.length];var g=e._defaults;e.color=e.color||f;if(g){g.color=g.color||f}}},_getModel:function(){var a=this.options;var c=this._createPlotArea();var d=new b.RootElement(this._modelOptions());d.chart=this;d._plotArea=c;b.Title.buildTitle(a.title,d);if(a.legend.visible){d.append(new Sd(c.options.legend,this.chartService))}d.append(c);d.reflow();return d},_modelOptions:function(){var a=this;var c=a.options;var d=a.element;var f=b.elementSize(d);this._size=null;return H({width:Math.floor(f.width)||e.DEFAULT_WIDTH,height:Math.floor(f.height)||e.DEFAULT_HEIGHT,transitions:c.transitions},c.chartArea)},_createPlotArea:function(a){var b=this.options;var c=Td.current.create(a?[]:b.series,b,this.chartService);return c},_hasSelection:function(){return this._selections&&this._selections.length},_setupSelection:function(){var a=this;var c=this;var d=c._plotArea.axes;var e=this._selections=[];for(var f=0;f<d.length;f++){var g=d[f];var h=g.options;if(g instanceof T&&h.select&&!h.vertical){var i=0;var j=h.categories.length-1;if(g instanceof X){i=h.categories[i];j=h.categories[j]}if(!h.justified){if(g instanceof X){j=b.addDuration(j,1,h.baseUnit,h.weekStartDay)}else{j++}}var k=new Yd(a,g,H({min:i,max:j},h.select));e.push(k)}}},_selectStart:function(a){return this.trigger(Ib,a)},_select:function(a){return this.trigger(Jb,a)},_selectEnd:function(a){return this.trigger(Kb,a)},_initHandlers:function(){this._clickHandler=this._click.bind(this);this._mousewheelHandler=this._mousewheel.bind(this);this._surfaceMouseenterHandler=this._mouseover.bind(this);this._surfaceMouseleaveHandler=this._mouseout.bind(this);this._mousemove=kendo.throttle(this._mousemove.bind(this),$e)},addObserver:function(a){if(a){this.observers.push(a)}},removeObserver:function(a){var b=this.observers.indexOf(a);if(b>=0){this.observers.splice(b,1)}},requiresHandlers:function(a){var b=this.observers;for(var c=0;c<b.length;c++){if(b[c].requiresHandlers(a)){return true}}},trigger:function(a,b){if(b===void 0){b={}}if(a===Mb){b.anchor.point=this._toDocumentCoordinates(b.anchor.point)}b.sender=this;var c=this.observers;var d=false;for(var e=0;e<c.length;e++){if(c[e].trigger(a,b)){d=true}}return d},_attachEvents:function(){var a=this;var b=a.element;var c=a.surface;c.bind("mouseenter",this._surfaceMouseenterHandler);c.bind("mouseleave",this._surfaceMouseleaveHandler);var d;$(b,(d={},d[Ze]=this._clickHandler,d[Tb]=this._mousewheelHandler,d));if(this._shouldAttachMouseMove()){var e;$(b,(e={},e[Ye]=this._mousemove,e))}this.domEvents=_.DomEventsBuilder.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)});this._toggleDomDrag();this._toggleDomZoom()},_cancelDomEvents:function(){if(this.domEvents&&this.domEvents.cancel){this.domEvents.cancel()}},_gesturestart:function(a){if(this._mousewheelZoom&&!this._stopDragEvent(a)){this._gestureDistance=a.distance;this._unsetActivePoint();this.surface.suspendTracking()}},_gestureend:function(a){if(this._zooming&&!this._stopDragEvent(a)){if(this.surface){this.surface.resumeTracking()}this._zooming=false;this.trigger(Hb,{})}},_gesturechange:function(a){var b=this._mousewheelZoom;if(b&&!this._stopDragEvent(a)){a.preventDefault();var c=this._gestureDistance;var d=-a.distance/c+1;if(Math.abs(d)>=.1){d=Math.round(d*10);this._gestureDistance=a.distance;var e={delta:d,axisRanges:ff(this._plotArea.axes),originalEvent:a};if(this._zooming||!this.trigger(Fb,e)){if(!this._zooming){this._zooming=true}var f=e.axisRanges=b.updateRanges(d);if(f&&!this.trigger(Gb,e)){b.zoom()}}}}},_mouseout:function(a){if(a.element){var b=this._drawingChartElement(a.element,a);if(b&&b.leave){b.leave(this,a.originalEvent)}}},_start:function(a){var b=this._eventCoordinates(a);if(this._stopDragEvent(a)||!this._plotArea.backgroundContainsPoint(b)){return}if(this.requiresHandlers([Eb,Cb,Db])){this._startNavigation(a,b,Eb)}if(this._pannable&&this._pannable.start(a)){this.surface.suspendTracking();this._unsetActivePoint();this._suppressHover=true}if(this._zoomSelection){if(this._zoomSelection.start(a)){this.trigger(Fb,{axisRanges:ff(this._plotArea.axes),originalEvent:a})}}},_move:function(a){var b=this;var c=b._navState;var d=b._pannable;if(this._stopDragEvent(a)){return}if(d){var e=d.move(a);if(e&&!this.trigger(Cb,{axisRanges:e,originalEvent:a})){d.pan()}}else if(c){var f={};var g=c.axes;for(var h=0;h<g.length;h++){var i=g[h];var j=i.options.name;if(j){var k=i.options.vertical?a.y:a.x;var l=k.startLocation-k.location;if(l!==0){f[i.options.name]=i.translateRange(l)}}}c.axisRanges=f;this.trigger(Cb,{axisRanges:f,originalEvent:a})}if(this._zoomSelection){this._zoomSelection.move(a)}},_end:function(a){if(this._stopDragEvent(a)){return}var b=this._pannable;if(b&&b.end(a)){this.surface.resumeTracking();this.trigger(Db,{axisRanges:ff(this._plotArea.axes),originalEvent:a});this._suppressHover=false}else{this._endNavigation(a,Db)}if(this._zoomSelection){var c=this._zoomSelection.end(a);if(c&&!this.trigger(Gb,{axisRanges:c,originalEvent:a})){this._zoomSelection.zoom();this.trigger(Hb,{axisRanges:c,originalEvent:a})}}},_stopDragEvent:function(){return this._hasSelection()},_mousewheel:function(a){var c=this;var d=b.mousewheelDelta(a);var e=this._mousewheelZoom;var f=this._eventCoordinates(a);if(!this._plotArea.backgroundContainsPoint(f)){return}if(e){var g={delta:d,axisRanges:ff(this._plotArea.axes),originalEvent:a};if(this._zooming||!this.trigger(Fb,g)){a.preventDefault();if(!this._zooming){this._unsetActivePoint();this.surface.suspendTracking();this._zooming=true}if(this._mwTimeout){clearTimeout(this._mwTimeout)}g.axisRanges=e.updateRanges(d);if(g.axisRanges&&!this.trigger(Gb,g)){e.zoom()}this._mwTimeout=setTimeout(function(){c.trigger(Hb,g);c._zooming=false;if(c.surface){c.surface.resumeTracking()}},Ub)}}else{var h=this._navState;if(!h){var i=this._startNavigation(a,f,Fb);if(!i){h=this._navState}}if(h){var j=h.totalDelta||d;h.totalDelta=j+d;var k=this._navState.axes;var l={};for(var m=0;m<k.length;m++){var n=k[m];var o=n.options.name;if(o){l[o]=n.scaleRange(-j)}}this.trigger(Gb,{delta:d,axisRanges:l,originalEvent:a});if(this._mwTimeout){clearTimeout(this._mwTimeout)}this._mwTimeout=setTimeout(function(){c._endNavigation(a,Hb)},Ub)}}},_startNavigation:function(a,b,c){var d=this._model._plotArea;var e=d.findPointPane(b);var f=d.axes.slice(0);if(!e){return}var g=ff(f);var h=this.trigger(c,{axisRanges:g,originalEvent:a});if(h){this._cancelDomEvents()}else{this._suppressHover=true;this._unsetActivePoint();this._navState={axisRanges:g,pane:e,axes:f}}},_endNavigation:function(a,b){if(this._navState){this.trigger(b,{axisRanges:this._navState.axisRanges,originalEvent:a});this._suppressHover=false;this._navState=null}},_getChartElement:function(a,b){var c=this.surface.eventTarget(a);if(c){return this._drawingChartElement(c,a,b)}},_drawingChartElement:function(a,b,c){var d=a;var e;while(d&&!e){e=d.chartElement;d=d.parent}if(e){if(e.aliasFor){e=e.aliasFor(b,this._eventCoordinates(b))}if(c){e=e.closest(c);if(e&&e.aliasFor){e=e.aliasFor()}}return e}},_eventCoordinates:function(a){var c=b.eventCoordinates(a);return this._toModelCoordinates(c.x,c.y)},_elementPadding:function(){if(!this._padding){var a=Y(this.element,["paddingLeft","paddingTop"]);var b=a.paddingLeft;var c=a.paddingTop;this._padding={top:c,left:b}}return this._padding},_toDocumentCoordinates:function(a){var c=this._elementPadding();var d=b.elementOffset(this.element);return{left:V(a.x+c.left+d.left),top:V(a.y+c.top+d.top)}},_toModelCoordinates:function(a,c){var d=this.element;var e=b.elementOffset(d);var f=this._elementPadding();return new z(a-e.left-f.left,c-e.top-f.top)},_tap:function(a){var b=this;var c=this.surface.eventTarget(a);var d=this._drawingChartElement(c,a);if(this._activePoint===d){this._propagateClick(d,a)}else{if(!this._startHover(c,a)){this._unsetActivePoint()}this._propagateClick(d,a)}this.handlingTap=true;setTimeout(function(){b.handlingTap=false},0)},_click:function(a){var b=this._getChartElement(a);this._propagateClick(b,a)},_propagateClick:function(a,b){var c=this;var d=a;while(d){if(d.click){d.click(c,b)}d=d.parent}},_startHover:function(a,b){var c=this._drawingChartElement(a,b);var d=this;var e=d._tooltip;var f=d._highlight;if(this._suppressHover||!f||f.isHighlighted(c)||this._sharedTooltip()){return false}var g=this._drawingChartElement(a,b,function(a){return a.hover&&!(a instanceof dd)});if(g&&!g.hover(this,b)){this._activePoint=g;var h=H({},h,g.options.tooltip);if(h.visible){e.show(g)}f.show(g);return g}},_mouseover:function(a){var b=this._startHover(a.element,a.originalEvent);if(b&&b.tooltipTracking){this._mouseMoveTrackHandler=this._mouseMoveTrackHandler||this._mouseMoveTracking.bind(this);var c;$(document,(c={},c[Ye]=this._mouseMoveTrackHandler,c))}},_mouseMoveTracking:function(a){var b=this;var c=b.options;var d=b._tooltip;var e=b._highlight;var f=b._activePoint;var g=this._eventCoordinates(a);if(this._plotArea.box.containsPoint(g)){if(f&&f.tooltipTracking&&f.series&&f.parent.getNearestPoint){var h=f.parent.getNearestPoint(g.x,g.y,f.seriesIx);if(h&&h!==f){h.hover(this,a);this._activePoint=h;var i=H({},c.tooltip,f.options.tooltip);if(i.visible){d.show(h)}e.show(h)}}}else{var j;aa(document,(j={},j[Ye]=this._mouseMoveTrackHandler,j));this._unsetActivePoint()}},_mousemove:function(a){var b=this._eventCoordinates(a);this._trackCrosshairs(b);if(this._plotArea.hover){this._plotArea.hover(this,a)}if(this._sharedTooltip()){this._trackSharedTooltip(b,a)}},_trackCrosshairs:function(a){var b=this._plotArea.crosshairs;for(var c=0;c<b.length;c++){var d=b[c];if(d.box.containsPoint(a)){d.showAt(a)}else{d.hide()}}},_trackSharedTooltip:function(a,b){var c=this;var d=c.options.tooltip;var e=c._plotArea;var f=c._plotArea.categoryAxis;var g=c._tooltip;var h=c._highlight;if(e.box.containsPoint(a)){var i=f.pointCategoryIndex(a);if(i!==this._tooltipCategoryIx){var j=e.pointsByCategoryIndex(i);var k=j.map(function(a){return a.eventArgs(b)});var l=k[0]||{};l.categoryPoints=k;if(j.length>0&&!this.trigger(zb,l)){if(d.visible){g.showAt(j,a)}h.show(j)}else{g.hide()}this._tooltipCategoryIx=i}}},hideElements:function(){var a=this;var b=a._plotArea;var c=a._tooltip;var d=a._highlight;this._mousemove.cancel();b.hideCrosshairs();d.hide();c.hide();delete this._tooltipCategoryIx},_unsetActivePoint:function(){var a=this;var b=a._tooltip;var c=a._highlight;this._activePoint=null;if(b){b.hide()}if(c){c.hide()}},_deferRedraw:function(){this._redraw()},_clearRedrawTimeout:function(){if(this._redrawTimeout){clearInterval(this._redrawTimeout);this._redrawTimeout=null}},bindCategories:function(){var a=this;var b=this.options;var c=[].concat(b.categoryAxis);for(var d=0;d<c.length;d++){var e=c[d];if(e.autoBind!==false){a.bindCategoryAxisFromSeries(e,d)}}},bindCategoryAxisFromSeries:function(a,c){var d=this;var e=this.options.series;var f=e.length;var g={};var h=[];var i;for(var j=0;j<f;j++){var k=e[j];var l=k.categoryAxis===a.name||!k.categoryAxis&&c===0;var m=k.data;var n=m.length;if(k.categoryField&&l&&n>0){i=bd(a,ra(k.categoryField,m[0]));var o=i?ad:ra;for(var p=0;p<n;p++){var q=m[p];var r=o(k.categoryField,q,d.chartService.intl);if(i||!g[r]){h.push([r,q]);if(!i){g[r]=true}}}}}if(h.length>0){if(i){h=hf(h,function(a,c){return b.dateComparer(a[0],c[0])})}var s=jf(h);a.categories=s[0]}},_isBindable:function(a){var b=sa.current.valueFields(a);var c=true;for(var d=0;d<b.length;d++){var e=b[d];if(e===h){e="field"}else{e=e+"Field"}if(!v(a[e])){c=false;break}}return c},_noTransitionsRedraw:function(){var a=this.options;var b;if(a.transitions){a.transitions=false;b=true}this._redraw();if(b){a.transitions=true}},_legendItemHover:function(a,b){var c=this;var d=c._plotArea;var e=c._highlight;var f=(d.srcSeries||d.series)[a];var g;if(D(f.type,[db,$a,_a])){g=d.findPoint(function(c){return c.series.index===a&&c.index===b})}else{g=d.pointsBySeriesIndex(a)}e.show(g)},_shouldAttachMouseMove:function(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([Bb])},updateMouseMoveHandler:function(){var a;aa(this.element,(a={},a[Ye]=this._mousemove,a));if(this._shouldAttachMouseMove()){var b;$(this.element,(b={},b[Ye]=this._mousemove,b))}},applyOptions:function(a,b){kf(this._originalOptions,a);this._originalOptions=H(this._originalOptions,a);this.options=H({},this._originalOptions);if(b){this._theme=b;this.chartService.theme=b}this._initTheme(this.options,this._theme)},setOptions:function(a,b){this.applyOptions(a,b);this.bindCategories();this.redraw();this.updateMouseMoveHandler();this._toggleDomDrag();this._toggleDomZoom()},destroy:function(){this._destroyed=true;var a;aa(this.element,(a={},a[Ze]=this._clickHandler,a[Tb]=this._mousewheelHandler,a[Ye]=this._mousemove,a));if(this.domEvents){this.domEvents.destroy();delete this.domEvents}var b;aa(document,(b={},b[Ye]=this._mouseMoveTrackHandler,b));this._destroyView();if(this.surface){this.surface.destroy();this.surface=null}this._clearRedrawTimeout()},_destroyView:function(){var a=this;var b=a._model;var c=a._selections;if(b){b.destroy();this._model=null}if(c){while(c.length>0){c.shift().destroy()}}this._unsetActivePoint();if(this._tooltip){this._tooltip.destroy()}if(this._highlight){this._highlight.destroy()}if(this._zoomSelection){this._zoomSelection.destroy();delete this._zoomSelection}if(this._pannable){this._pannable.destroy();delete this._pannable}if(this._mousewheelZoom){this._mousewheelZoom.destroy();delete this._mousewheelZoom}}});function af(a){var b=Xe;for(var c=0;c<b.length;c++){var d=b[c]+"Axes";if(a[d]){a[b[c]+"Axis"]=a[d];delete a[d]}}}function bf(a,b){if(a){for(var c=0;c<a.length;c++){if(a[c].category===b){return[a[c]]}}}}function cf(a,b){var c=(b||{}).axisDefaults||{};var d,e,f;function g(a){var b=(a||{}).color||e.color;var f=H({},c,c[d],e,e[d],{line:{color:b},labels:{color:b},title:{color:b}},a);delete f[d];return f}for(var h=0;h<Xe.length;h++){d=Xe[h]+"Axis";e=a.axisDefaults||{};f=[].concat(a[d]);f=f.map(g);a[d]=f.length>1?f:f[0]}}function df(a,b){var c=a.series;var d=c.length;var e=a.seriesDefaults;var f=H({},a.seriesDefaults);var g=b?H({},b.seriesDefaults):{};var h=H({},g);ef(f);ef(h);for(var i=0;i<d;i++){var j=c[i].type||a.seriesDefaults.type;var k=H({data:[]},h,g[j],{tooltip:a.tooltip},f,e[j]);c[i]._defaults=k;c[i]=H({},k,c[i])}}function ef(a){delete a.bar;delete a.column;delete a.rangeColumn;delete a.line;delete a.verticalLine;delete a.pie;delete a.donut;delete a.area;delete a.verticalArea;delete a.scatter;delete a.scatterLine;delete a.bubble;delete a.candlestick;delete a.ohlc;delete a.boxPlot;delete a.bullet;delete a.verticalBullet;delete a.polarArea;delete a.polarLine;delete a.radarArea;delete a.radarLine;delete a.waterfall}function ff(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];var e=d.options.name;if(e){b[e]=d.range()}}return b}function gf(a,c){if(c===void 0){c=b.dateComparer}for(var d=1,e=a.length;d<e;d++){if(c(a[d],a[d-1])<0){a.sort(c);break}}return a}function hf(a,c){if(c===void 0){c=b.dateComparer}var d=gf(a,c);var e=d.length;var f=e>0?[d[0]]:[];for(var g=1;g<e;g++){if(c(d[g],I(f))!==0){f.push(d[g])}}return f}function jf(a){var b=a.length;var c=[];for(var d=0;d<b;d++){var e=a[d];var f=e.length;for(var g=0;g<f;g++){c[g]=c[g]||[];c[g].push(e[g])}}return c}function kf(a,b){for(var c in b){var d=b[c];var e=a[c];if(v(e)){var f=d===null;if(f||!v(d)){delete a[c];if(f){delete b[c]}}else if(e&&G(d)){if(G(e)){kf(e,d)}}}}}C(_e,{renderAs:"",chartArea:{},legend:{visible:true,labels:{}},categoryAxis:{},seriesDefaults:{type:Za,data:[],highlight:{visible:true},labels:{},negativeValues:{visible:false}},series:[],seriesColors:null,tooltip:{visible:false},transitions:true,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:false,zoomable:false});kendo.deepExtend(kendo.dataviz,{constants:Vb,Aggregates:qa,AreaChart:rc,AreaSegment:oc,AxisGroupRangeTracker:sc,Bar:wc,BarChart:Bc,BarLabel:tc,BoxPlotChart:Hc,BoxPlot:Fc,BubbleChart:Mc,Bullet:Oc,BulletChart:Pc,CandlestickChart:Ec,Candlestick:Cc,CategoricalChart:ac,CategoricalErrorBar:Yb,CategoricalPlotArea:Dd,Chart:_e,ChartContainer:Uc,ClipAnimation:kc,ClusterLayout:zc,Crosshair:Tc,CrosshairTooltip:Sc,DefaultAggregates:kd,DonutChart:se,DonutPlotArea:te,DonutSegment:qe,ErrorBarBase:Xb,ErrorRangeCalculator:xa,Highlight:Gd,SharedTooltip:_d,Legend:Sd,LegendItem:Od,LegendLayout:Nd,LineChart:nc,LinePoint:dc,LineSegment:ec,Pane:Vc,PieAnimation:de,PieChart:ne,PieChartMixin:le,PiePlotArea:pe,PieSegment:he,PlotAreaBase:dd,PlotAreaEventsMixin:hd,PlotAreaFactory:Td,PointEventsMixin:bc,RangeBar:ld,RangeBarChart:md,RangeAreaPoint:rd,RangeAreaChart:vd,ScatterChart:Kc,ScatterErrorBar:Ic,ScatterLineChart:ee,Selection:Yd,SeriesAggregator:id,SeriesBinder:sa,SplineSegment:ic,SplineAreaSegment:qc,StackWrap:Ac,Tooltip:$d,OHLCChart:xd,OHLCPoint:wd,WaterfallChart:zd,WaterfallSegment:yd,XYPlotArea:fe,MousewheelZoom:Md,ZoomSelection:Ld,Pannable:Kd,ChartAxis:ma,ChartPane:na,ChartPlotArea:oa,anyHasZIndex:lc,appendIfNotNull:Dc,areNumbers:Dc,bindSegments:Zc,categoriesCount:_b,countNumbers:pa,equalsIgnoreCase:$c,evalOptions:$b,filterSeriesByType:_c,getDateField:ad,getField:ra,hasGradientOverlay:uc,hasValue:Jc,isDateAxis:bd,segmentVisible:Yc,singleItemOrArray:cd})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/chart/chart",["dataviz/chart/kendo-chart","kendo.data","kendo.dataviz.core","kendo.dataviz.themes","kendo.drawing","kendo.userevents"],a)})(function(){(function(a,b){var c=".kendoChart";var d=window.kendo;var e=d.Class;var f=d._outerWidth;var g=d._outerHeight;var h=d.dataviz;var i=h.constants;var j=h.Chart;var k=h.SeriesBinder;var l=d.ui.Widget;var m=d.data.DataSource;var n=d.deepExtend;var o=h.defined;var p=h.getField;var q=h.InstanceObserver;var r=h.inArray;var s=h.services;var t=a.proxy;var u=a.isArray;var v=a.extend;var w=d.template;var x="mouseleave"+c;var y=i.AXIS_LABEL_CLICK;var z=i.LEGEND_ITEM_CLICK;var A=i.LEGEND_ITEM_HOVER;var B=i.SERIES_CLICK;var C=i.SERIES_HOVER;var D=i.PLOT_AREA_CLICK;var E=i.PLOT_AREA_HOVER;var F=i.DRAG;var G=i.DRAG_END;var H=i.DRAG_START;var I=i.ZOOM_START;var J=i.ZOOM;var K=i.ZOOM_END;var L=i.SELECT_START;var M=i.SELECT;var N=i.SELECT_END;var O=i.RENDER;var P=i.NOTE_CLICK;var Q=i.NOTE_HOVER;var R="change";var S="dataBound";var T="leave";var U=i.VALUE;var V=i.PIE;var W=i.DONUT;var X=i.FUNNEL;var Y=d.Observable;var Z=150;var $=100;var _="k-chart-tooltip-inverse";var aa="k-chart-shared-tooltip";var ba="rtl";s.DomEventsBuilder.register({create:function(a,b){return new d.UserEvents(a,n({global:true,multiTouch:true,fastTap:true},b))}});var ca=q.extend({handlerMap:{showTooltip:"_showTooltip",hideTooltip:"_hideTooltip",legendItemClick:"_onLegendItemClick",render:"_onRender",init:"_onInit"}});var da=l.extend({init:function(a,b){var c;d.destroy(a);l.fn.init.call(this,a);if(b){c=b.dataSource;delete b.dataSource}this.options=n({},this.options,b);this.wrapper=this.element;this._attachEvents();if(b){b.dataSource=c}this._seriesVisibility=new ia;this.bind(this.events,this.options);this._initDataSource(b);d.notify(this,h.ui)},events:[S,B,C,y,z,A,D,E,H,F,G,I,J,K,L,M,N,P,Q,O],options:{name:"Chart",renderAs:"",theme:"default",axisDefaults:{},chartArea:{},legend:{},categoryAxis:{},autoBind:true,seriesDefaults:{},series:[],seriesColors:null,tooltip:{},transitions:true,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:false,zoomable:false},items:function(){return a()},refresh:function(){var a=this;var b=a._instance;b.applyDefaults(a.options);b.applySeriesColors();a._bindSeries();a._bindCategories();a.trigger(S);a._redraw()},getSize:function(){return d.dimensions(this.element)},redraw:function(a){this._size=null;this._instance.redraw(a)},setOptions:function(a){var b=this,c=a.dataSource;delete a.dataSource;l.fn._setEvents.call(b,a);this._instance.applyOptions(a,this._getThemeOptions(a));this.options=this._instance.options;this._tooltip.setOptions(this.options.tooltip);this._seriesVisibility.setOptions(this.options);this._sourceSeries=null;if(c){b.setDataSource(c)}if(b._hasDataSource){b._onDataChanged()}else{b._bindCategories();b.redraw()}b._instance.updateMouseMoveHandler()},setDataSource:function(a){var b=this;b.dataSource.unbind(R,b._dataChangeHandler);b.dataSource=a=m.create(a);b._hasDataSource=true;b._hasData=false;a.bind(R,b._dataChangeHandler);if(b.options.autoBind){a.fetch()}},destroy:function(){var a=this,b=a.dataSource;a.element.off(c);if(b){b.unbind(R,a._dataChangeHandler)}if(a._instance){a._instance.destroy();delete this._instance}if(this._tooltip){this._tooltip.destroy();delete this._tooltip}this._destroyCrosshairTooltips();l.fn.destroy.call(a)},findPaneByName:function(a){var b=this._plotArea.panes;for(var c=0;c<b.length;c++){if(b[c].options.name===a){return new na(this,b[c])}}},findPaneByIndex:function(a){var b=this._plotArea.panes;if(b[a]){return new na(this,b[a])}},findSeries:function(a){var b=this._plotArea;var c=b.srcSeries||b.series;for(var d=0;d<c.length;d++){if(a(c[d])){return new oa(this,c[d])}}},findSeriesByName:function(a){return this._createSeries({name:a})},findSeriesByIndex:function(a){return this._createSeries({index:a})},exportVisual:function(a){var b=this._instance;if(!b){return}var c;if(a&&(a.width||a.height)){var d=b.options.chartArea;var e=b._originalOptions.chartArea;n(d,a);var f=b._getModel();d.width=e.width;d.height=e.height;f.renderVisual();c=f.visual}else{c=b.exportVisual()}return c},_createSeries:function(a){var b=this._seriesOptions(a);if(b){return new oa(this,b)}},_seriesOptions:function(a){var b=this._plotArea;var c=b.srcSeries||b.series;var d;if(o(a.index)){d=c[a.index]}else if(o(a.name)){for(var e=0;e<c.length;e++){if(c[e].name===a.name){d=c[e];break}}}return d},_attachEvents:function(){this.element.on(x,t(this._mouseleave,this))},_mouseleave:function(b){var c=this._instance;var d=this._tooltip;var e=b.relatedTarget;if(!(e&&a(e).closest(d.element).length)&&c&&!c.handlingTap){c.hideElements()}},_getThemeOptions:function(a){var b=(a||{}).theme;if(b==="sass"||b==="default-v2"||b==="bootstrap-v4"){return h.autoTheme().chart}if(o(b)){var c=h.ui.themes||{};var d=c[b]||c[b.toLowerCase()]||{};return d.chart||{}}},_initChart:function(){this._createChart(this.options,this._getThemeOptions(this.options));this.options=this._instance.options;this._seriesVisibility.setOptions(this.options)},_createChart:function(a,b){this._instance=new j(this.element[0],a,b,{observer:new ca(this),sender:this,rtl:this._isRtl()})},_onInit:function(a){this._instance=a.sender},_initDataSource:function(a){var b=this,c=(a||{}).dataSource;b._dataChangeHandler=t(b._onDataChanged,b);b.dataSource=m.create(c).bind("change",b._dataChangeHandler);b._bindCategories();if(c){b._hasDataSource=true}this._initChart();this._initTooltip();if(c){if(b.options.autoBind){b.dataSource.fetch()}}},_destroyCrosshairTooltips:function(){var a=this._crosshairTooltips;if(a){for(var b in a){a[b].destroy()}}this._crosshairTooltips={}},_getCrosshairTooltip:function(a,b){var c=this._crosshairTooltips=this._crosshairTooltips||{};var d=a+b;var e=c[d];if(!e){e=c[d]=new ma(this.element)}return e},_showTooltip:function(a){if(a.crosshair){var b=this._getCrosshairTooltip(a.axisName,a.axisIndex);b.show(a)}else if(this._tooltip){this._tooltip.show(a)}},_hideTooltip:function(a){if(a.crosshair){var b=this._getCrosshairTooltip(a.axisName,a.axisIndex);b.hide()}else if(this._tooltip){this._tooltip.hide(a)}},_onRender:function(a){this._destroyCrosshairTooltips();this._copyMembers(a.sender);if(!this._hasDataSource||this._hasData||!this.options.autoBind){this.trigger(O)}},_copyMembers:function(a){this.options=a.options;this._originalOptions=a._originalOptions;this.surface=a.surface;this._plotArea=a._plotArea;this._model=a._model;this._highlight=a._highlight;this._selections=a._selections;this._pannable=a._pannable;this._zoomSelection=a._zoomSelection;this._mousewheelZoom=a._mousewheelZoom},requiresHandlers:function(a){var b=this._events;for(var c=0;c<a.length;c++){if(o(b[a[c]])){return true}}},_initTooltip:function(){this._tooltip=this._createTooltip();this._tooltip.bind(T,t(this._tooltipleave,this))},_onLegendItemClick:function(a){if(!this.trigger(z,a)){this._legendItemClick(a.seriesIndex,a.pointIndex)}},_legendItemClick:function(b,c){var d=this._instance,e=d._plotArea,f=(e.srcSeries||e.series)[b];if(a.inArray(f.type,[V,W,X])>=0){var g=f.data[c];if(g&&o(g.visible)){g.visible=!g.visible}else{var h=f.pointVisibility=f.pointVisibility||{};var i=h[c];h[c]=o(i)?!i:false}}else{f.visible=!f.visible;this._seriesVisibility.save(f)}d._noTransitionsRedraw()},_createTooltip:function(){return new la(this.element,v({},this.options.tooltip,{rtl:this._isRtl()}))},_tooltipleave:function(){if(this._instance){this._instance.hideElements()}},_bindData:function(a){var b=this,c=b.options,d=b._sourceSeries||c.series,e,f=d.length,g=b.dataSource.view(),h=(b.dataSource.group()||[]).length>0,i=[],j=this._seriesVisibility,k,l;j.read();for(e=0;e<f;e++){k=d[e];if(b._isBindable(k)&&h){l=ha(k,g);i=i.concat(l);j.applyByGroup(l,a)}else{k=v({},k);i.push(k);j.applyByIndex(k,a)}}b._sourceSeries=d;c.series=i;this._instance.applySeriesColors();b._bindSeries();b._bindCategories();this._hasData=true},_onDataChanged:function(a){this._bindData(a);this.trigger(S);this._redraw()},_bindSeries:function(){var a=this,b=a.dataSource.view(),c=a.options.series,d,e=c.length,f,g,h;for(d=0;d<e;d++){f=c[d];if(a._isBindable(f)){g=f._groupIx;h=o(g)?(b[g]||{}).items:b;if(f.autoBind!==false){f.data=h}}}},_bindCategories:function(){var a=this,b=a.dataSource.view()||[],c=(a.dataSource.group()||[]).length>0,d=b,e=a.options,f=[].concat(e.categoryAxis),g,h;if(c){if(b.length){d=b[0].items}}for(g=0;g<f.length;g++){h=f[g];if(h.autoBind!==false){a._bindCategoryAxis(h,d,g)}}},_bindCategoryAxis:function(a,b,c){var d=(b||[]).length,e,f,g;if(a.field){a.categories=[];for(e=0;e<d;e++){g=b[e];f=p(a.field,g);if(e===0){a.categories=[f];a.dataItems=[g]}else{a.categories.push(f);a.dataItems.push(g)}}}else if(this._instance){this._instance.bindCategoryAxisFromSeries(a,c)}},_isBindable:function(a){var b=k.current.valueFields(a),c=true,d,e;for(e=0;e<b.length;e++){d=b[e];if(d===U){d="field"}else{d=d+"Field"}if(!o(a[d])){c=false;break}}return c},_isRtl:function(){return d.support.isRtl(this.element)&&this.element.css("direction")===ba}});var ea=["getAxis","findAxisByName","plotArea","toggleHighlight","showTooltip","hideTooltip","_resize","_redraw","_noTransitionsRedraw","_legendItemHover","_eventCoordinates"];function fa(a){da.fn[a]=function(){var b=this._instance;if(b){return b[a].apply(b,arguments)}}}for(var ga=0;ga<ea.length;ga++){fa(ea[ga])}function ha(a,c){var e=[],f,g=a.groupNameTemplate,h,i=c.length,j;if(i===0){j=n({},a);j.visibleInLegend=false;return[j]}if(o(g)){d.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. "+"Specify the group name template as 'series.name'");if(g){f=w(g)}}else{f=w(a.name||"");if(f._slotCount===0){f=w(o(a.name)?"#= group.value #: #= series.name #":"#= group.value #")}}for(h=0;h<i;h++){j=n({},a);if(!d.isFunction(j.color)){j.color=b}j._groupIx=h;j._groupValue=c[h].value;e.push(j);if(f){j.name=f({series:j,group:c[h]})}}return e}h.ExportMixin.extend(da.fn);if(d.PDFMixin){d.PDFMixin.extend(da.fn)}h.ui.plugin(da);var ia=e.extend({init:function(){this.groups={};this.index={};this.options={}},applyByGroup:function(a,b){if(b&&b.action||this.options.persistSeriesVisibility){for(var c=0;c<a.length;c++){if(this.groups[a[c]._groupValue]===false){a[c].visible=false}}}else{this.groups={};
}},applyByIndex:function(a,b){if(b&&b.action||this.options.persistSeriesVisibility){if(this.index[a.index]===false){a.visible=false}}else{this.index={}}},save:function(a){if(!a){return}if(this.options.persistSeriesVisibility){this.options.series[a.index].visible=a.visible}else{this.saveState(a)}},setOptions:function(a){this.options=a;this.groups={};this.index={}},read:function(){var a=this.options;if(a.persistSeriesVisibility){var b=a.series;for(var c=0;c<b.length;c++){this.saveState(b[c])}}},saveState:function(a){if(o(a._groupValue)){this.groups[a._groupValue]=a.visible}else{this.index[a.index]=a.visible}}});var ja=d.geometry;function ka(a){for(var c in a){if(a[c]===b){a[c]=""}}return a}var la=Y.extend({init:function(b,c){var e=this;Y.fn.init.call(e);this.setOptions(c);e.chartElement=b;e.template=la.template;if(!e.template){e.template=la.template=d.template('<div class=\'k-tooltip k-chart-tooltip#= d.rtl ? " k-rtl" : ""#\' '+"style='display:none; position: absolute; font: #= d.font #;"+"#if (d.border) {# border: #= d.border.width #px solid; #}#"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>",{useWithBlock:false,paramName:"d"})}e.element=a(e.template(e.options));e.move=t(e.move,e);e._mouseleave=t(e._mouseleave,e);var f=d.format("[{0}='content'],[{0}='scroller']",d.attr("role"));e._mobileScroller=b.closest(f).data("kendoMobileScroller")},destroy:function(){this._clearShowTimeout();if(this.element){this.element.off(x).remove();this.element=null}},setOptions:function(a){this.options=n({},this.options,a)},options:{opacity:1,animation:{duration:Z},sharedTemplate:"<table>"+"<th colspan='#= colspan #'>#= categoryText #</th>"+"# for(var i = 0; i < points.length; i++) { #"+"# var point = points[i]; #"+"<tr>"+"# if(colorMarker) { # "+"<td><span class='k-chart-shared-tooltip-marker' style='background-color:#:point.series.color#'></span></td>"+"# } #"+"# if(nameColumn) { # "+"<td> #if (point.series.name) {# #: point.series.name #: #} else {# &nbsp; #}#</td>"+"# } #"+"<td>#= content(point) #</td>"+"</tr>"+"# } #"+"</table>",categoryFormat:"{0:d}"},move:function(){var a=this,b=a.options,c=a.element,d;if(!a.anchor||!a.element){return}d=a._offset();if(!a.visible){c.css({top:d.top,left:d.left})}a.visible=true;a._ensureElement(document.body);c.stop(true,true).show().animate({left:d.left,top:d.top},b.animation.duration)},_clearShowTimeout:function(){if(this.showTimeout){clearTimeout(this.showTimeout);this.showTimeout=null}},getAnchor:function(a){var b=this.anchor;var c=b.point;var d=b.align;var e=c.left;var f=c.top;if(d.horizontal==="center"){e-=a.width/2}else if(d.horizontal==="right"){e-=a.width}if(d.vertical==="center"){f-=a.height/2}else if(d.vertical==="bottom"){f-=a.height}return{x:e,y:f}},_offset:function(){var b=this,c=b._measure(),e=b.getAnchor(c),h=e.y,i=e.x,j=d.support.zoomLevel(),k=a(window),l=window.pageYOffset||document.documentElement.scrollTop||0,m=window.pageXOffset||document.documentElement.scrollLeft||0,n=(this._mobileScroller||{}).movable;if(!n||n.scale===1){h+=b._fit(h-l,c.height,g(k)/j);i+=b._fit(i-m,c.width,f(k)/j)}else{var o=ja.transform().scale(n.scale,n.scale,[n.x,n.y]);var p=new ja.Point(i,h).transform(o);i=p.x;h=p.y}return{top:h,left:i}},show:function(a){this.anchor=a.anchor;this.element.css(ka(a.style));this.element.toggleClass(_,!!a.className);this.element.toggleClass(aa,!!a.shared);var b=a.shared?this._sharedContent(a):this._pointContent(a.point);this.element.html(b);this._clearShowTimeout();this.showTimeout=setTimeout(this.move,$)},hide:function(){var a=this;clearTimeout(a.showTimeout);a._hideElement();if(a.visible){a.point=null;a.visible=false;a.index=null}},_sharedContent:function(a){var b=a.points;var c=h.grep(b,function(a){return o(a.series.name)}).length;var e=a.series.length>1;var f=1;if(c){f++}if(e){f++}var g=d.template(this.options.sharedTemplate);var i=g({points:b,category:a.category,categoryText:a.categoryText,content:this._pointContent,colorMarker:e,nameColumn:c,colspan:f});return i},_measure:function(){this._ensureElement();var a={width:f(this.element),height:g(this.element)};return a},_ensureElement:function(){if(this.element){this.element.appendTo(document.body).on(x,this._mouseleave)}},_mouseleave:function(b){var c=b.relatedTarget;var d=this.chartElement[0];if(c&&c!==d&&!a.contains(d,c)){this.trigger(T)}},_hideElement:function(){var a=this;var b=this.element;if(b){b.fadeOut({always:function(){if(!a.visible){b.off(x).remove()}}})}},_pointContent:function(a){var b=this,c=n({},b.options,a.options.tooltip),d,e;if(o(a.value)){d=a.value.toString()}if(c.template){e=w(c.template);d=e({value:a.value,category:a.category,series:a.series,dataItem:a.dataItem,percentage:a.percentage,runningTotal:a.runningTotal,total:a.total,low:a.low,high:a.high,xLow:a.xLow,xHigh:a.xHigh,yLow:a.yLow,yHigh:a.yHigh})}else if(c.format){d=a.formatValue(c.format)}return d},_fit:function(a,b,c){var d=0;if(a+b>c){d=c-(a+b)}if(a<0){d=-a}return d}});var ma=la.extend({init:function(a,b){la.fn.init.call(this,a,b);this.element.addClass("k-chart-crosshair-tooltip")},show:function(a){var b=this.element;if(b){this.anchor=a.anchor;this.element.css(a.style);this.element.html(this.content(a));this.move()}},move:function(){var a=this,b=a.element,c=a._offset();a._ensureElement();b.css({top:c.top,left:c.left}).show()},content:function(a){var b=a.value,c=a.crosshair.options.tooltip;if(c.template){b=w(c.template)({value:b})}return b},hide:function(){this.element.hide()}});var na=e.extend({init:function(a,b){this._chart=a;this._pane=b;this.visual=b.visual;this.chartsVisual=b.chartContainer.visual;this.name=b.options.name},series:function(){var a=this._chart;var b=a._plotArea.groupSeriesByPane();var c=b[this.name||"default"];var d=[];if(c){for(var e=0;e<c.length;e++){d.push(new oa(a,c[e]))}}return d}});var oa=e.extend({init:function(a,b){this._chart=a;this._options=b},points:function(a){var b=this._points;if(!b){var c=this._seriesOptions();var e=this._chart._plotArea;this._points=b=e.pointsBySeriesIndex(c.index)}if(d.isFunction(a)){b=this._filterPoints(b,a)}return b},data:function(a){var b=this._seriesOptions();if(a){var c=this._chart;var d=c._plotArea;b.data=a;if(b.categoryField){var e=d.seriesCategoryAxis(b);var f=[].concat(c.options.categoryAxis);c._instance.bindCategoryAxisFromSeries(f[e.axisIndex],e.axisIndex)}c._noTransitionsRedraw();this._clearFields()}return b.data},findPoint:function(a){var b=this.points();for(var c=0;c<b.length;c++){if(a(b[c])){return b[c]}}},toggleHighlight:function(a,b){if(!b){b=this.points()}else if(d.isFunction(b)){b=this.points(b)}else{b=u(b)?b:[b]}this._chart._instance.togglePointsHighlight(a,b)},toggleVisibility:function(a,b){var c=this._chart;var e=this._seriesOptions();var f=d.isFunction(b);if(!f){e.visible=a;c._seriesVisibility.save(e)}else{if(r(e.type,[V,W,X])){var g=this._filterData(b);for(var h=0;h<g.length;h++){g[h].visible=a}}else{e.visible=function(c){return b(c.dataItem)?a:true}}}c._noTransitionsRedraw();this._clearFields()},_filterData:function(a){var b=this._seriesOptions().data;var c=b.length;var d=[];for(var e=0;e<c;e++){if(a(b[e])){d.push(b[e])}}return d},_filterPoints:function(a,b){var c=[];var d=a.length;for(var e=0;e<d;e++){if(b(a[e])){c.push(a[e])}}return c},_seriesOptions:function(){var a=this._series;if(!a){a=this._series=this._chart._seriesOptions(this._options)}return a},_clearFields:function(){delete this._points;delete this._series}});h.Tooltip=la;h.CrosshairTooltip=ma;h.ChartInstanceObserver=ca;h.ChartPane=na;h.ChartSeries=oa})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.chart",["dataviz/chart/kendo-chart","dataviz/chart/chart"],a)})(function(){var a={id:"dataviz.chart",name:"Chart",category:"dataviz",description:"The Chart widget uses modern browser technologies to render high-quality data visualizations in the browser.",depends:["data","userevents","drawing","dataviz.core","dataviz.themes"],features:[{id:"dataviz.chart-pdf-export",name:"PDF export",description:"Export Chart as PDF",depends:["pdf"]}]}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.gauge",["kendo.dataviz.core","kendo.drawing","kendo.dataviz.themes"],a)})(function(){var a={id:"dataviz.gauge",name:"Gauge",category:"dataviz",description:"Radial and Linear gauges.",depends:["dataviz.core","dataviz.themes"]};(function(a,b){var c=Math,d=window.kendo,e=d.ui.Widget,f=d.deepExtend,g=d.dataviz,h=g.autoMajorUnit,i=g.ChartElement,j=g.NumericAxis,k=g.Axis,l=g.Box2D,m=d.Class,n=g.defined,o=g.isNumber,p=g.interpolateValue,q=g.getSpacing,r=g.limitValue,s=g.round,t=g.geometry,u=g.drawing,v=t.Point,w=u.Group,x=u.Path,y=t.Rect,z=u.Text;var A=150,B=250,C="arrow",D="arrowPointer",E="barPointer",F="#000",G=.05,H=g.COORD_PRECISION,I=Number.MAX_VALUE,J=-Number.MAX_VALUE,K=200,L=.5,M=200,N=60,O=60,P=5,Q=c.PI/180,R=180,S="inside",T="linear",U="needle",V="outside",W="radialPointer",X="x",Y="y";var Z=m.extend({init:function(a,b){var d=this;var e=a.options;i.fn.init.call(d,b);b=d.options;b.fill=b.color;d.scale=a;if(n(b.value)){b.value=c.min(c.max(b.value,e.min),e.max)}else{b.value=e.min}},options:{color:F},value:function(a){var d=this;var e=d.options;var f=e.value;var g=d.scale.options;if(arguments.length===0){return f}e._oldValue=e._oldValue!==b?e.value:g.min;e.value=c.min(c.max(a,g.min),g.max);if(d.elements){d.repaint()}}});var $=Z.extend({options:{shape:U,cap:{size:G},arrow:{width:16,height:14},animation:{type:W,duration:A}},setRadius:function(a){var b=this;if(a){b.elements.clear();b.render(b.parent,b.center,a)}},setAngle:function(a){this.elements.transform(t.transform().rotate(a,this.center))},repaint:function(){var a=this;var b=a.scale;var c=a.options;var d=b.slotAngle(c._oldValue);var e=b.slotAngle(c.value);if(c.animation.transitions===false){a.setAngle(e)}else{new ha(a.elements,f(c.animation,{oldAngle:d,newAngle:e})).play()}},render:function(){var a=this;var b=a.scale;var c=b.arc.center;var d=a.options;var e=new w;if(d.animation!==false){f(d.animation,{startAngle:0,center:c,reverse:b.options.reverse})}if(d.shape===U){e.append(a._renderNeedle(),a._renderCap())}else{e.append(a._renderArrow())}a.elements=e;a.setAngle(Q);return e},reflow:function(a){var b=this;var c=b.center=a.center;var d=r(this.options.length||1,.1,1.5);var e=this.radius=a.getRadiusX()*d;var f=b.capSize=Math.round(e*b.options.cap.size);b.bbox=y.fromPoints(new v(c.x-f,c.y-f),new v(c.x+f,c.y+f))},_renderNeedle:function(){var a=this;var b=a.options;var c=a.scale.options.minorTicks.size;var d=a.center;var e=b.color;var f=new x({fill:{color:e},stroke:{color:e,width:L}});f.moveTo(d.x+a.radius-c,d.y).lineTo(d.x,d.y-a.capSize/2).lineTo(d.x,d.y+a.capSize/2).close();return f},_renderCap:function(){var a=this;var b=a.options;var c=b.cap.color||b.color;var d=new t.Circle(a.center,a.capSize);var e=new u.Circle(d,{fill:{color:c},stroke:{color:c}});return e}});var _=j.extend({init:function(a){var b=this;b.options=f({},b.options,a);b.options.majorUnit=b.options.majorUnit||h(b.options.min,b.options.max);b.options.minorUnit=b.options.minorUnit||b.options.majorUnit/10;k.fn.init.call(b,b.options)},options:{min:0,max:100,majorTicks:{size:15,align:S,color:F,width:L,visible:true},minorTicks:{size:10,align:S,color:F,width:L,visible:true},startAngle:-30,endAngle:210,labels:{position:S,padding:2}},render:function(a,b){var c=this;var d=c.renderArc(a,b);c.bbox=d.bbox();c.labelElements=c.renderLabels();c.ticks=c.renderTicks();c.ranges=c.renderRanges()},reflow:function(a){var d=this;var e=a.center();var f=c.min(a.height(),a.width())/2;if(d.bbox!==b){d.bbox=d.arc.bbox();d.radius(d.arc.getRadiusX());d.repositionRanges();d.renderLabels()}else{return d.render(e,f)}},slotAngle:function(a){var b=this.options;var c=b.startAngle;var d=b.reverse;var e=b.endAngle-c;var f=b.min;var g=b.max;var h;if(d){h=b.endAngle-(a-f)/(g-f)*e}else{h=(a-f)/(g-f)*e+c}return h+R},renderLabels:function(){var a=this;var d=a.options;var e=d.majorTicks.size;var f=a.arc.clone();var h=f.getRadiusX();var i=a.tickAngles(f,d.majorUnit);var j=a.labels;var k=j.length;var l=d.labels;var m=l.padding;var n=h*.05;var o=d.rangeSize=d.rangeSize||h*.1;var p=d.ranges||[];var q,r,s;var u,x,z,A,B,C,D;var E=new w;var F,G,H,I;if(a.options.rangeDistance!==b){n=a.options.rangeDistance}else{a.options.rangeDistance=n}if(l.position===S){h-=e;if(p.length&&a.labelElements===b){h-=o+n}f.setRadiusX(h).setRadiusY(h)}for(A=0;A<k;A++){x=j[A];q=x.box.width()/2;r=x.box.height()/2;u=i[A];s=(u-R)*Q;D=l.position===S;z=f.pointAt(u);B=z.x+c.cos(s)*(q+m)*(D?1:-1);C=z.y+c.sin(s)*(r+m)*(D?1:-1);x.reflow(new g.Box2D(B-q,C-r,B+q,C+r));G=new v(x.box.x1,x.box.y1);if(a.labelElements===b){F=ka(x,d.labels);E.append(F)}else{F=a.labelElements.children[A];H=F.bbox().origin;I=F.transform()||t.transform();I.translate(G.x-H.x,G.y-H.y);F.transform(I)}a.bbox=y.union(a.bbox,F.bbox())}return E},repositionRanges:function(){var a=this;var b=a.ranges.children;var c=a.options.rangeSize;var d=a.options.rangeDistance;var e,f;if(b.length>0){e=a.getRangeRadius();if(a.options.labels.position===S){e+=c+d}f=e+c/2;for(var g=0;g<b.length;g++){b[g]._geometry.setRadiusX(f).setRadiusY(f)}a.bbox=y.union(a.bbox,a.ranges.bbox())}},renderRanges:function(){var a=this;var b=a.arc;var c=new w;var d,e;var f=a.rangeSegments();var g=f.length;var h=a.options.reverse;var i=a.options.rangeSize;var j=a.options.rangeDistance;var k,l,m,n;if(g){l=a.getRangeRadius();a.radius(a.radius()-i-j);for(n=0;n<g;n++){k=f[n];d=a.slotAngle(k[h?"to":"from"]);e=a.slotAngle(k[!h?"to":"from"]);if(e-d!==0){m=new t.Arc(b.center,{radiusX:l+i/2,radiusY:l+i/2,startAngle:d,endAngle:e});c.append(new u.Arc(m,{stroke:{width:i,color:k.color,opacity:k.opacity}}))}}}return c},rangeSegments:function(){var a=this;var b=a.options;var c=b.ranges||[];var d=c.length;var e;var f;var g=b.rangePlaceholderColor;var h=[];var i;var j=b.min;var k=b.max;var l,m;function n(a,b,c,d){return{from:a,to:b,color:c,opacity:d}}if(d){h.push(n(j,k,g));for(l=0;l<d;l++){e=la(c[l],j,k);f=h.length;for(m=0;m<f;m++){i=h[m];if(i.from<=e.from&&e.from<=i.to){h.push(n(e.from,e.to,e.color,e.opacity));if(i.from<=e.to&&e.to<=i.to){h.push(n(e.to,i.to,g,e.opacity))}i.to=e.from;break}}}}return h},getRangeRadius:function(){var a=this;var b=a.options;var c=b.majorTicks.size;var d=b.rangeSize;var e=b.rangeDistance;var f=a.arc;var g;if(b.labels.position===V){g=f.getRadiusX()-c-e-d}else{g=f.getRadiusX()-d}return g},renderArc:function(a,b){var c=this;var d=c.options;var e=c.arc=new t.Arc(a,{radiusX:b,radiusY:b,startAngle:d.startAngle+R,endAngle:d.endAngle+R});return e},renderTicks:function(){var a=this;var b=a.arc;var c=a.options;var d=c.labels.position;var e=new w;var f=c.majorTicks.size;var g=c.minorTicks.size;var h=b.clone();var i=h.getRadiusX();function j(a,b,c,d){var e=new w,f=a.center,g=a.getRadiusX(),h,i,j,k=d.visible;if(k){for(h=0;h<b.length;h++){i=a.pointAt(b[h]);j=new v(f.x+g-d.size,f.y).rotate(b[h],f);e.append(new x({stroke:{color:d.color,width:d.width}}).moveTo(i).lineTo(j))}}return e}a.majorTickAngles=a.tickAngles(b,c.majorUnit);a.majorTicks=j(h,a.majorTickAngles,c.majorUnit,c.majorTicks);e.append(a.majorTicks);a._tickDifference=f-g;if(d===V){h.setRadiusX(i-f+g).setRadiusY(i-f+g)}a.minorTickAngles=a.normalizeTickAngles(a.tickAngles(b,c.minorUnit));a.minorTicks=j(h,a.minorTickAngles,c.minorUnit,c.minorTicks,c.majorUnit);e.append(a.minorTicks);return e},normalizeTickAngles:function(a){var b=this;var c=b.options;var d=c.majorUnit/c.minorUnit;for(var e=a.length-1;e>=0;e--){if(e%d===0){a.splice(e,1)}}return a},tickAngles:function(a,b){var c=this;var d=c.options;var e=d.reverse;var f=d.max-d.min;var g=a.endAngle-a.startAngle;var h=a.startAngle;var i=f/b;var j=g/i;var k=[];var l;if(e){h+=g;j=-j}for(l=0;l<i;l++){k.push(s(h,H));h+=j}if(s(h)<=a.endAngle){k.push(h)}return k},radius:function(a){var b=this;if(a){b.arc.setRadiusX(a).setRadiusY(a);b.repositionTicks(b.majorTicks.children,b.majorTickAngles);b.repositionTicks(b.minorTicks.children,b.minorTickAngles,true)}else{return b.arc.getRadiusX()}},repositionTicks:function(a,b,c){var d=this;var e=c?d._tickDifference||0:0;var f=d.arc;var g=f.getRadiusX();if(c&&d.options.labels.position===V&&e!==0){f=d.arc.clone();f.setRadiusX(g-e).setRadiusY(g-e)}for(var h=0;h<a.length;h++){var i=f.pointAt(b[h]);var j=a[h].segments;var k=i.x-j[0].anchor().x;var l=i.y-j[0].anchor().y;a[h].transform((new t.Transformation).translate(k,l))}}});var aa=e.extend({init:function(b,c){var h=this;var i;var j;var k;var l=g.ui.themes||{};var m;d.destroy(b);a(b).empty();e.fn.init.call(h,b);h.wrapper=h.element;h._originalOptions=f({},c);i=f({},h.options,c);k=i.theme;m=l[k]||l[k.toLowerCase()];j=k&&m?m.gauge:{};h.options=f({},j,i);if(a.isArray(i.pointer)){for(var n=0;n<i.pointer.length;n++){h.options.pointer[n]=f({},j.pointer,i.pointer[n])}}h.element.addClass("k-gauge");h.surface=h._createSurface();h.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},destroy:function(){this.surface.destroy();e.fn.destroy.call(this)},value:function(a){var b=this;var c=b.pointers[0];if(arguments.length===0){return c.value()}c.value(a);b._setValueOptions(a)},_draw:function(){var a=this.surface;a.clear();a.draw(this._visuals)},exportVisual:function(){return this._visuals},allValues:function(b){var c=this;var d=c.pointers;var e=[];var f;if(arguments.length===0){for(f=0;f<d.length;f++){e.push(d[f].value())}return e}if(a.isArray(b)){for(f=0;f<b.length;f++){if(o(b[f])){d[f].value(b[f])}}}c._setValueOptions(b)},_setValueOptions:function(a){var b=[].concat(this.options.pointer);a=[].concat(a);for(var c=0;c<a.length;c++){b[c].value=a[c]}},_resize:function(){var a=this;var b=a.options.transitions;var c;a.options.transitions=false;for(c=0;c<a.pointers.length;c++){a.pointers[c].options.animation.transitions=false}a.redraw();a.options.transitions=b;for(c=0;c<a.pointers.length;c++){a.pointers[c].options.animation.transitions=b}},redraw:function(){var a=this;var b=f(a._getSize(),a.options.gaugeArea);var c=new y([0,0],[b.width,b.height]);var d;a.surface.clear();a.gaugeArea=a._createGaugeArea();a.surface.element.css({width:b.width,height:b.height});a._createModel();d=na(c.bbox(),a._gaugeAreaMargin);a.reflow(d)},_createGaugeArea:function(){var a=this;var b=a.options.gaugeArea;var c=a.surface.size();var d=b.border||{};var e=new y([0,0],[c.width,c.height]);a._gaugeAreaMargin=b.margin||P;if(d.width>0){e=na(e,d.width)}var f=x.fromRect(e,{stroke:{color:d.width?d.color:"",width:d.width,dashType:d.dashType,lineJoin:"round",lineCap:"round"},fill:{color:b.background}});return f},_createSurface:function(){var b=this;var c=b.options;var d=b._getSize();d=c.gaugeArea?f(d,c.gaugeArea):d;var e=a("<div></div>").appendTo(b.element).css({width:d.width,height:d.height});return new u.Surface.create(e,{type:c.renderAs})},getSize:function(){return this._getSize()},_getSize:function(){var a=this;var b=a.element;var c=b.width();var d=b.height();if(!c){c=M}if(!d){d=K}return{width:c,height:d}}});var ba=aa.extend({init:function(a,b){var c=this;aa.fn.init.call(c,a,b);d.notify(c,g.ui)},options:{name:"RadialGauge",transitions:true,gaugeArea:{background:""}},reflow:function(a){var b=this;var c=b.pointers;b.scale.reflow(a);b._initialPlotArea=b.scale.bbox;for(var d=0;d<c.length;d++){c[d].reflow(b.scale.arc);b._initialPlotArea=y.union(b._initialPlotArea,c[d].bbox)}b.fitScale(a);b.alignScale(a);b._buildVisual(b.gaugeArea,c,b.scale);b._draw()},_buildVisual:function(a,b,c){var d=new w;var e;d.append(a);d.append(c.ticks);d.append(c.ranges);for(var f=0;f<b.length;f++){e=b[f];e.render();d.append(e.elements);e.value(e.options.value)}d.append(c.labelElements);this._visuals=d},fitScale:function(a){var b=this;var d=b.scale;var e=d.arc;var f=b._initialPlotArea;var g=c.abs(b.getDiff(f,a));var h=s(g,H);var i=s(-g,H);var j,k,l,m,n;var o=0;var p=0;while(p++<100){o=n===l?o+1:0;if(o>5){break}if(h!=m){j=b.getPlotBox(h,a,e);if(0<=j&&j<=2){break}}if(i!=m){l=b.getPlotBox(i,a,e);if(0<=l&&l<=2){break}}if(j>0&&l>0){m=h*2}else if(j<0&&l<0){m=i*2}else{m=s((h+i)/2||1,H)}k=b.getPlotBox(m,a,e);if(0<=k&&k<=2){break}n=l;if(k>0){i=m;l=k}else{h=m;j=k}}},getPlotBox:function(a,b,c){var d=this;var e=d.scale;var f=d.pointers;var g=c.getRadiusX();c=c.clone();c.setRadiusX(g+a).setRadiusY(g+a);e.arc=c;e.reflow(b);d.plotBbox=e.bbox;for(var h=0;h<f.length;h++){f[h].reflow(c);d.plotBbox=y.union(d.plotBbox,f[h].bbox)}return d.getDiff(d.plotBbox,b)},getDiff:function(a,b){return c.min(b.width()-a.width(),b.height()-a.height())},alignScale:function(a){var b=this;var c=b.plotBbox.center();var d=a.center();var e=c.x-d.x;var f=c.y-d.y;var g=b.scale;var h=b.pointers;g.arc.center.x-=e;g.arc.center.y-=f;g.reflow(a);for(var i=0;i<h.length;i++){h[i].reflow(g.arc);b.plotBbox=y.union(g.bbox,h[i].bbox)}},_createModel:function(){var b=this;var c=b.options;var d=c.pointer;var e=b.scale=new _(c.scale);var g;b.pointers=[];d=a.isArray(d)?d:[d];for(var h=0;h<d.length;h++){g=new $(e,f({},d[h],{animation:{transitions:c.transitions}}));b.pointers.push(g)}}});var ca=aa.extend({init:function(a,b){var c=this;aa.fn.init.call(c,a,b);d.notify(c,g.ui)},options:{name:"LinearGauge",transitions:true,gaugeArea:{background:""},scale:{vertical:true}},reflow:function(a){var b=this;var c=b.pointers;var d=a.origin.x;var e=a.origin.y;var f=new g.Box2D(d,e,d+a.width(),e+a.height());b.scale.reflow(f);for(var h=0;h<c.length;h++){c[h].reflow()}b.bbox=b._getBox(f);b._alignElements();b._shrinkElements();b._buildVisual();b._draw()},_buildVisual:function(){var a=this;var b=new w;var c=a.scale.render();var d=a.pointers;var e;b.append(a.gaugeArea);b.append(c);for(var f=0;f<d.length;f++){e=d[f];b.append(e.render());e.value(e.options.value)}a._visuals=b},_createModel:function(){var b=this;var c=b.options;var d=c.pointer;var e=b.scale=new da(c.scale);var g,h;b.pointers=[];d=a.isArray(d)?d:[d];for(var i=0;i<d.length;i++){h=f({},d[i],{animation:{transitions:c.transitions}});if(h.shape===C){g=new fa(e,h)}else{g=new ga(e,h)}b.pointers.push(g)}},_getSize:function(){var a=this;var b=a.element;var c=b.width();var d=b.height();var e=a.options.scale.vertical;if(!c){c=e?N:M}if(!d){d=e?K:O}return{width:c,height:d}},_getBox:function(a){var b=this;var c=b.scale;var d=b.pointers;var e=a.center();var f=d[0].box.clone().wrap(c.box);var g;for(var h=0;h<d.length;h++){f.wrap(d[h].box.clone())}if(c.options.vertical){g=f.width()/2;f=new l(e.x-g,a.y1,e.x+g,a.y2)}else{g=f.height()/2;f=new l(a.x1,e.y-g,a.x2,e.y+g)}return f},_alignElements:function(){var a=this;var b=a.scale;var c=a.pointers;var d=b.box;var e=c[0].box.clone().wrap(b.box);var f=a.bbox;var g,h;for(h=0;h<c.length;h++){e.wrap(c[h].box.clone())}if(b.options.vertical){g=f.center().x-e.center().x;b.reflow(new l(d.x1+g,f.y1,d.x2+g,f.y2))}else{g=f.center().y-e.center().y;b.reflow(new l(f.x1,d.y1+g,f.x2,d.y2+g))}for(h=0;h<c.length;h++){c[h].reflow(a.bbox)}},_shrinkElements:function(){var a=this;var b=a.scale;var d=a.pointers;var e=b.box.clone();var f=b.options.vertical?"y":"x";var g=d[0].box;var h;for(h=0;h<d.length;h++){g.wrap(d[h].box.clone())}e[f+1]+=c.max(e[f+1]-g[f+1],0);e[f+2]-=c.max(g[f+2]-e[f+2],0);b.reflow(e);for(h=0;h<d.length;h++){d[h].reflow(a.bbox)}}});var da=j.extend({init:function(a){var b=this;b.options=f({},b.options,a);b.options=f({},b.options,{labels:{mirror:b.options.mirror}});b.options.majorUnit=b.options.majorUnit||h(b.options.min,b.options.max);k.fn.init.call(b,b.options);b.options.minorUnit=b.options.minorUnit||b.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:S,color:F,width:L,visible:true},minorTicks:{size:10,align:S,color:F,width:L,visible:true},line:{width:L},labels:{position:S,padding:2},mirror:false,_alignLines:false},render:function(){var a=this;var b=a.elements=new w;var c=a.renderLabels();var d=a.renderLine();var e=a.renderTicks();var f=a.renderRanges();b.append(d,c,e,f);return b},renderRanges:function(){var a=this;var b=a.options;var c=b.min;var d=b.max;var e=b.ranges||[];var f=b.vertical;var g=b.labels.mirror;var h=new w;var i=e.length;var j=b.rangeSize||b.minorTicks.size/2;var k,l,m,n,o;if(i){for(o=0;o<i;o++){k=la(e[o],c,d);l=a.getSlot(k.from,k.to);m=f?a.lineBox():l;n=f?l:a.lineBox();if(f){m.x1-=j*(g?-1:1)}else{n.y2+=j*(g?-1:1)}h.append(x.fromRect(new y([m.x1,n.y1],[m.x2-m.x1,n.y2-n.y1]),{fill:{color:k.color,opacity:k.opacity},stroke:{}}))}}return h},renderLabels:function(){var a=this;var b=a.options;var c=a.labels;var d=new w;for(var e=0;e<c.length;e++){d.append(ka(c[e],b.labels))}return d},renderLine:function(){var a=this;var b=a.options;var c=b.line;var d=a.lineBox();var e;var f=new w;if(c.width>0&&c.visible){e=new x({stroke:{color:c.color,dashType:c.dashType,width:c.width}});e.moveTo(d.x1,d.y1).lineTo(d.x2,d.y2);f.append(e)}return f},renderTicks:function(){var a=this;var b=new w;var c=a.options;var d=a.lineBox();var e=c.labels.mirror;var g=c.majorTicks.visible?c.majorUnit:0;var h={_alignLines:c._alignLines,vertical:c.vertical};function i(c,f){var g,i=c.length;if(f.visible){for(g=f.skip;g<i;g+=f.step){if(g%f.skipUnit===0){continue}h.tickX=e?d.x2:d.x2-f.size;h.tickY=e?d.y1-f.size:d.y1;h.position=c[g];b.append(a.renderAxisTick(h,f))}}}i(a.getMajorTickPositions(),c.majorTicks);i(a.getMinorTickPositions(),f({},{skipUnit:g/c.minorUnit},c.minorTicks));return b},renderAxisTick:function(a,b){var c=a.tickX;var d=a.tickY;var e=a.position;var f,g,h;if(a.vertical){f=new v(c,e);g=new v(c+b.size,e)}else{f=new v(e,d);g=new v(e,d+b.size)}h=new x({stroke:{color:b.color,width:b.width}}).moveTo(f).lineTo(g);return h}});var ea=Z.extend({init:function(a,b){var c=this;Z.fn.init.call(c,a,b);c.options=f({track:{visible:n(b.track)}},c.options)},options:{shape:E,track:{border:{width:1}},color:F,border:{width:1},opacity:1,margin:q(3),animation:{type:E},visible:true},reflow:function(){var a=this;var b=a.options;var c=a.scale;var d=c.lineBox();var e=b.track.size||b.size;var f=b.size/2;var g=c.options.mirror;var h=q(b.margin);var i=c.options.vertical;var j=i?h[g?"left":"right"]:h[g?"bottom":"top"];var k,m,n;j=g?-j:j;if(i){n=new l(d.x1+j,d.y1,d.x1+j,d.y2);if(g){n.x1-=e}else{n.x2+=e}if(b.shape!==E){m=new l(d.x2+j,d.y1-f,d.x2+j,d.y2+f);k=m}}else{n=new l(d.x1,d.y1-j,d.x2,d.y1-j);if(g){n.y2+=e}else{n.y1-=e}if(b.shape!==E){m=new l(d.x1-f,d.y1-j,d.x2+f,d.y1-j);k=m}}a.trackBox=n;a.pointerRangeBox=m;a.box=k||n.clone().pad(b.border.width)},getElementOptions:function(){var a=this.options;return{fill:{color:a.color,opacity:a.opacity},stroke:n(a.border)?{color:a.border.width?a.border.color||a.color:"",width:a.border.width,dashType:a.border.dashType,opacity:a.opacity}:null}},_margin:function(){var a=this;var b=a.options;var c=a.scale;var d=c.options.mirror;var e=q(b.margin);var f=c.options.vertical;var g=f?e[d?"left":"right"]:e[d?"bottom":"top"];return g}});var fa=ea.extend({init:function(a,c){ea.fn.init.call(this,a,c);if(this.options.size===b){this.options.size=this.scale.options.majorTicks.size*.6}},pointerShape:function(){var a=this;var b=a.options;var c=a.scale;var d=b.size;var e=c.options.vertical;var f=d/2;var g=c.options.mirror?-1:1;var h=c.options.reverse;var i,j;if(e){i=h?"y2":"y1";j=[new v(0,0-f),new v(0-g*d,0),new v(0,0+f)]}else{i=h?"x1":"x2";j=[new v(0-f,0),new v(0,0+g*d),new v(0+f,0)]}return j},repaint:function(){var a=this;var b=a.scale;var c=a.options;var d=new ia(a.elements,f(c.animation,{vertical:b.options.vertical,mirror:b.options.mirror,margin:a._margin(c.margin),from:b.getSlot(c._oldValue),to:b.getSlot(c.value)}));if(c.animation.transitions===false){d.options.duration=0}d.setup();d.play()},render:function(){var a=this;var b=a.options;var c=new w;var d=a.scale;var e=a.getElementOptions();var f=a.pointerShape(b.value);b.animation.type=D;c=new x({stroke:e.stroke,fill:e.fill}).moveTo(f[0]).lineTo(f[1]).lineTo(f[2]).close();var g=d.getSlot(b.value);c.transform(t.transform().translate(g.x1,g.y1));a.elements=c;return c}});var ga=ea.extend({init:function(a,c){ea.fn.init.call(this,a,c);if(this.options.size===b){this.options.size=this.scale.options.majorTicks.size*.3}},pointerShape:function(a){var b=this;var c=b.options;var d=b.scale;var e=d.options.vertical;var f=d.options.mirror;var g=f==e?-1:1;var h=c.size*g;var i=d.getSlot(d.options.min);var j=d.getSlot(a);var k=e?Y:X;var l=e?X:Y;var m=b._margin()*g;var n=new v;n[k]=i[k+"1"];n[l]=i[l+"1"];var o=new v;o[k]=j[k+"1"];o[l]=j[l+"1"];if(e){n.translate(m,0);o.translate(m,0)}else{n.translate(0,m);o.translate(0,m)}var p=o.clone();var q=n.clone();if(e){p.translate(h,0);q.translate(h,0)}else{p.translate(0,h);q.translate(0,h)}return[n,o,p,q]},repaint:function(){var a=this;var b=a.scale;var c=a.options;var d=a.pointerShape(c.value);var e=a.elements.children[0];var g=a.pointerShape(c._oldValue);e.moveTo(d[0]).lineTo(d[1]).lineTo(d[2]).lineTo(d[3]).close();var h=new ja(e,f(c.animation,{reverse:b.options.reverse,vertical:b.options.vertical,oldPoints:[g[1],g[2]],newPoints:[d[1],d[2]]}));if(c.animation.transitions===false){h.options.duration=0}h.setup();h.play()},render:function(){var a=this;var b=new w;var c=a.getElementOptions();var d=new x({stroke:c.stroke,fill:c.fill});b.append(d);a.elements=b;return b}});var ha=u.Animation.extend({init:function(a,b){u.Animation.fn.init.call(this,a,b);b=this.options;b.duration=c.max(c.abs(b.newAngle-b.oldAngle)/b.duration*1e3,1)},options:{easing:T,duration:A},step:function(a){var b=this;var c=b.options;var d=p(c.oldAngle,c.newAngle,a);b.element.transform(t.transform().rotate(d,c.center))}});u.AnimationFactory.current.register(W,ha);var ia=u.Animation.extend({options:{easing:T,duration:B},setup:function(){var a=this.options;var b=a.margin;var d=a.from;var e=a.to;var f=a.vertical?"x1":"y1";if(a.mirror==a.vertical){d[f]-=b;e[f]-=b}else{d[f]+=b;e[f]+=b}var g=this.fromScale=new v(d.x1,d.y1);var h=this.toScale=new v(e.x1,e.y1);if(a.duration!==0){a.duration=c.max(g.distanceTo(h)/a.duration*1e3,1)}},step:function(a){var b=p(this.fromScale.x,this.toScale.x,a);var c=p(this.fromScale.y,this.toScale.y,a);this.element.transform(t.transform().translate(b,c))}});u.AnimationFactory.current.register(D,ia);var ja=u.Animation.extend({options:{easing:T,speed:B},setup:function(){var a=this.options;var b=a.newPoints;var d=a.oldPoints;var e=this.axis=a.vertical?Y:X;var f=this.to=b[0][e];var g=this.from=d[0][e];if(a.duration!==0){a.duration=c.max(c.abs(f-g)/a.speed*1e3,1)}this._set(g)},step:function(a){var b=p(this.from,this.to,a);this._set(b)},_set:function(a){var b="set"+this.axis.toUpperCase();var c=this.options.newPoints;c[0][b](a);c[1][b](a)}});u.AnimationFactory.current.register(E,ja);function ka(a,b){var c=a.box;var d=a.children[0].box;var e=b.border||{};var f=b.background||"";var g=new w;var h,i,j;j=x.fromRect(new y([c.x1,c.y1],[c.width(),c.height()]),{stroke:{}});var k=new z(a.text,new v(d.x1,d.y1),{font:b.font,fill:{color:b.color}});i=ma(k.bbox().clone(),b.padding);h=x.fromRect(i,{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType,lineJoin:"round",lineCap:"round"},fill:{color:f}});g.append(j);g.append(h);g.append(k);return g}function la(a,b,d){var e=n(a.from)?a.from:J;var f=n(a.to)?a.to:I;a.from=c.max(c.min(f,e),b);a.to=c.min(c.max(f,e),d);return a}function ma(a,b){var c=a.getOrigin();var d=a.getSize();var e=q(b);a.setOrigin([c.x-e.left,c.y-e.top]);a.setSize([d.width+(e.left+e.right),d.height+(e.top+e.bottom)]);return a}function na(a,b){var c=q(b);c.left=-c.left;c.top=-c.top;c.right=-c.right;c.bottom=-c.bottom;return ma(a,c)}g.ui.plugin(ba);g.ui.plugin(ca);g.ExportMixin.extend(aa.fn);f(g,{Gauge:aa,RadialPointer:$,LinearPointer:ea,ArrowLinearPointer:fa,BarLinearPointer:ga,LinearScale:da,RadialScale:_,LinearGauge:ca,RadialGauge:ba})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.barcode",["kendo.dataviz.core","kendo.drawing"],a)})(function(){var a={id:"dataviz.barcode",name:"Barcode",category:"dataviz",description:"Barcode widget",depends:["dataviz.core"]
};(function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.extend,f=c.deepExtend,g=a.inArray,h=a.isPlainObject,i=c.drawing,j=c.geometry,k=c.drawing.util,l=k.defined,m=c.dataviz,n=m.Box2D,o=m.TextBox,p=300,q=100,r=10,s=/^\d+$/,t=/^[a-z0-9]+$/i,u="Character '{0}' is not valid for symbology {1}";function v(a,b,c){return a.substring(b,b+c)}var w=c.Class.extend({init:function(a){this.setOptions(a)},setOptions:function(a){var b=this;b.options=e({},b.options,a);b.quietZoneLength=b.options.addQuietZone?2*b.options.quietZoneLength:0},encode:function(a,b,c){var d=this;if(l(a)){a+=""}d.initValue(a,b,c);if(d.options.addQuietZone){d.addQuietZone()}d.addData();if(d.options.addQuietZone){d.addQuietZone()}return{baseUnit:d.baseUnit,pattern:d.pattern}},options:{quietZoneLength:r,addQuietZone:true,addCheckSum:true},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||r)},addData:function(){},invalidCharacterError:function(a){throw new Error(c.format(u,a,this.name))}});var x={};var y=w.extend({minBaseUnitLength:.7,addData:function(){var a=this,b=a.value;a.addStart();for(var c=0;c<b.length;c++){a.addCharacter(b.charAt(c))}if(a.options.addCheckSum){a.pushCheckSum()}a.addStop();a.prepareValues()},addCharacter:function(a){var b=this,c=b.characterMap[a];if(!c){b.invalidCharacterError(a)}b.addBase(c)},addBase:function(){}});var z={addCharacter:function(a){var b=this;if(b.characterMap[a]){b.addBase(b.characterMap[a])}else if(a.charCodeAt(0)>127){b.invalidCharacterError(a)}else{b.addExtended(a.charCodeAt(0))}},addExtended:function(a){var b=this,c;for(var d=0;d<b.extendedMappings.length;d++){if(c=b.extendedMappings[d].call(b,a)){for(var e=0;e<c.length;e++){b.addBase(c[e])}b.dataLength+=c.length-1;return}}},extendedMappings:[function(a){if(97<=a&&a<=122){var b=this;return[b.characterMap[b.shiftCharacters[0]],b.characterMap[String.fromCharCode(a-32)]]}},function(a){if(33<=a&&a<=58){var b=this;return[b.characterMap[b.shiftCharacters[1]],b.characterMap[String.fromCharCode(a+32)]]}},function(a){if(1<=a&&a<=26){var b=this;return[b.characterMap[b.shiftCharacters[2]],b.characterMap[String.fromCharCode(a+64)]]}},function(a){var b=this,c,d;if(!b.specialAsciiCodes[a]){d=Math.floor(a/32)*6+(a-27)%32+64;c=[b.characterMap[b.shiftCharacters[3]],b.characterMap[String.fromCharCode(d)]]}else{c=[];for(var e=0;e<b.specialAsciiCodes[a].length;e++){c.push(b.characterMap[b.shiftCharacters[3]]);c.push(b.characterMap[b.specialAsciiCodes[a][e]])}}return c}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":false,"/":false,$:false,"%":false},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};x.code39=y.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(a,b,c){var d=this;d.width=b;d.height=c;d.value=a;d.dataLength=a.length;d.pattern=[];d.patternString=""},prepareValues:function(){var a=this,b,c=a.minBaseUnitLength,d=a.maxRatio,e=a.minRatio,f=Math.max(.15*a.width,24);if(a.height<f){throw new Error("Insufficient Height. The minimum height for value: "+a.value+" is: "+f)}while((b=a.getBaseUnit(d))<c&&d>e){d=parseFloat((d-.1).toFixed(1))}if(b<c){var g=Math.ceil(a.getBaseWidth(e)*c);throw new Error("Insufficient width. The minimum width for value: "+a.value+" is: "+g)}a.ratio=d;a.baseUnit=b;a.patternString=a.patternString.substring(0,a.patternString.length-1);a.pattern=a.pattern.concat(a.patternString.replace(/ratio/g,d).split(a.splitCharacter))},getBaseUnit:function(a){return this.width/this.getBaseWidth(a)},getBaseWidth:function(a){var b=this,c=3*(a+2);return b.quietZoneLength+c*(b.dataLength+2)+b.gapWidth*(b.dataLength+1)},addStart:function(){var a=this;a.addPattern(a.characterMap.START.pattern);a.addCharacterGap()},addBase:function(a){this.addPattern(a.pattern);this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(a){for(var b=0;b<a.length;b++){this.patternString+=this.patternMappings[a.charAt(b)]}},addCharacterGap:function(){var a=this;a.patternString+=a.gapWidth+a.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:false}});x.code39extended=x.code39.extend(f({},z,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}}));x.code93=y.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(a,b,c){var d=this;d.value=a;d.width=b;d.height=c;d.pattern=[];d.values=[];d.dataLength=a.length},prepareValues:function(){var a=this,b=Math.max(.15*a.width,24);if(a.height<b){throw new Error("Insufficient Height")}a.setBaseUnit();if(a.baseUnit<a.minBaseUnitLength){throw new Error("Insufficient Width")}},setBaseUnit:function(){var a=this,b=2;a.baseUnit=a.width/(9*(a.dataLength+2+b)+a.quietZoneLength+1)},addStart:function(){var a=this.characterMap.START.pattern;this.addPattern(a)},addStop:function(){var a=this;a.addStart();a.pattern.push(a.characterMap.TERMINATION_BAR)},addBase:function(a){this.addPattern(a.pattern);this.values.push(a.value)},pushCheckSum:function(){var a=this,b=a._getCheckValues(),c;a.checksum=b.join("");for(var d=0;d<b.length;d++){c=a.characterMap[a._findCharacterByValue(b[d])];a.addPattern(c.pattern)}},_getCheckValues:function(){var a=this,b=a.values,c=b.length,d=0,e,f,g;for(g=c-1;g>=0;g--){d+=a.weightedValue(b[g],c-g,a.cCheckSumTotal)}e=d%a.checkSumMod;d=a.weightedValue(e,1,a.kCheckSumTotal);for(g=c-1;g>=0;g--){d+=a.weightedValue(b[g],c-g+1,a.kCheckSumTotal)}f=d%a.checkSumMod;return[e,f]},_findCharacterByValue:function(a){for(var b in this.characterMap){if(this.characterMap[b].value===a){return b}}},weightedValue:function(a,b,c){return(b%c||c)*a},addPattern:function(a){var b;for(var c=0;c<a.length;c++){b=parseInt(a.charAt(c),10);this.pattern.push(b)}},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}});x.code93extended=x.code93.extend(f({},z,{name:"Code 93 extended",pushCheckSum:function(){var a=this,b=a._getCheckValues(),c;a.checksum=b.join("");for(var d=0;d<b.length;d++){c=b[d];if(a.shiftValuesAsciiCodes[c]){a.addExtended(a.shiftValuesAsciiCodes[c])}else{a.addPattern(a.characterMap[a._findCharacterByValue(c)].pattern)}}}}));var A=c.Class.extend({init:function(a){this.encoding=a},addStart:function(){},is:function(){},move:function(){},pushState:function(){}});var B=A.extend({FNC4:"FNC4",init:function(a,b){var c=this;c.encoding=a;c.states=b;c._initMoves(b)},addStart:function(){this.encoding.addPattern(this.START)},is:function(a,b){var c=a.charCodeAt(b);return this.isCode(c)},move:function(a){var b=this,c=0;while(!b._moves[c].call(b,a)&&c<b._moves.length){c++}},pushState:function(a){var b=this,c=b.states,d=a.value,e=d.length,f;if(g("C",c)>=0){var h=d.substr(a.index).match(/\d{4,}/g);if(h){e=d.indexOf(h[0],a.index)}}while((f=a.value.charCodeAt(a.index))>=0&&b.isCode(f)&&a.index<e){b.encoding.addPattern(b.getValue(f));a.index++}},_initMoves:function(a){var b=this;b._moves=[];if(g(b.FNC4,a)>=0){b._moves.push(b._moveFNC)}if(g(b.shiftKey,a)>=0){b._moves.push(b._shiftState)}b._moves.push(b._moveState)},_moveFNC:function(a){if(a.fnc){a.fnc=false;return a.previousState==this.key}},_shiftState:function(a){var b=this;if(a.previousState==b.shiftKey&&(a.index+1>=a.value.length||b.encoding[b.shiftKey].is(a.value,a.index+1))){b.encoding.addPattern(b.SHIFT);a.shifted=true;return true}},_moveState:function(){this.encoding.addPattern(this.MOVE);return true},SHIFT:98});var C={};C.A=B.extend({key:"A",shiftKey:"B",isCode:function(a){return 0<=a&&a<96},getValue:function(a){if(a<32){return a+64}return a-32},MOVE:101,START:103});C.B=B.extend({key:"B",shiftKey:"A",isCode:function(a){return 32<=a&&a<128},getValue:function(a){return a-32},MOVE:100,START:104});C.C=A.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(a,b){var c=v(a,b,4);return(b+4<=a.length||a.length==2)&&s.test(c)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(a){var b;while((b=v(a.value,a.index,2))&&s.test(b)&&b.length==2){this.encoding.addPattern(parseInt(b,10));a.index+=2}},getValue:function(a){return a},MOVE:99,START:105});C.FNC4=A.extend({key:"FNC4",dependentStates:["A","B"],init:function(a,b){this.encoding=a;this._initSubStates(b)},addStart:function(a){var b=a.value.charCodeAt(0)-128,c=this._getSubState(b);this.encoding[c].addStart()},is:function(a,b){var c=a.charCodeAt(b);return this.isCode(c)},isCode:function(a){return 128<=a&&a<256},pushState:function(a){var b=this,c=b._initSubState(a),d=b.encoding,e=c.value.length;a.index+=e;if(e<3){var f;for(;c.index<e;c.index++){f=c.value.charCodeAt(c.index);c.state=b._getSubState(f);if(c.previousState!=c.state){c.previousState=c.state;d[c.state].move(c)}d.addPattern(d[c.state].MOVE);d.addPattern(d[c.state].getValue(f))}}else{if(c.state!=c.previousState){d[c.state].move(c)}b._pushStart(c);d.pushData(c,b.subStates);if(a.index<a.value.length){b._pushStart(c)}}a.fnc=true;a.state=c.state},_pushStart:function(a){var b=this;b.encoding.addPattern(b.encoding[a.state].MOVE);b.encoding.addPattern(b.encoding[a.state].MOVE)},_initSubState:function(a){var b=this,c={value:b._getAll(a.value,a.index),index:0};c.state=b._getSubState(c.value.charCodeAt(0));c.previousState=a.previousState==b.key?c.state:a.previousState;return c},_initSubStates:function(a){var b=this;b.subStates=[];for(var c=0;c<a.length;c++){if(g(a[c],b.dependentStates)>=0){b.subStates.push(a[c])}}},_getSubState:function(a){var b=this;for(var c=0;c<b.subStates.length;c++){if(b.encoding[b.subStates[c]].isCode(a)){return b.subStates[c]}}},_getAll:function(a,b){var c,d="";while((c=a.charCodeAt(b++))&&this.isCode(c)){d+=String.fromCharCode(c-128)}return d}});C.FNC1=A.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(a,b){this.encoding=a;this.states=b},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return g(this.key,this.states)>=0},pushState:function(a){var b=this,c=b.encoding,d=a.value.replace(/\s/g,""),e=new RegExp("["+b.startAI+b.endAI+"]","g"),f=a.index,g={state:b.startState},h,i,j;c.addPattern(b.START);while(true){g.index=0;j=d.charAt(f)===b.startAI?2:0;h=j>0?b.getBySeparator(d,f):b.getByLength(d,f);if(h.ai.length){i=f+j+h.id.length+h.ai.length}else{i=d.indexOf(b.startAI,f+1);if(i<0){if(f+h.ai.max+h.id.length+j<d.length){throw new Error("Separators are required after variable length identifiers")}i=d.length}}g.value=d.substring(f,i).replace(e,"");b.validate(h,g.value);c.pushData(g,b.dependentStates);if(i>=d.length){break}f=i;if(g.state!=b.startState){c[b.startState].move(g);g.state=b.startState}if(!h.ai.length){c.addPattern(b.START)}}a.index=a.value.length},validate:function(a,b){var c=b.substr(a.id.length),d=a.ai;if(!d.type&&!s.test(c)){throw new Error("Application identifier "+a.id+" is numeric only but contains non numeric character(s).")}if(d.type=="alphanumeric"&&!t.test(c)){throw new Error("Application identifier "+a.id+" is alphanumeric only but contains non alphanumeric character(s).")}if(d.length&&d.length!==c.length){throw new Error("Application identifier "+a.id+" must be "+d.length+" characters long.")}if(d.min&&d.min>c.length){throw new Error("Application identifier "+a.id+" must be at least "+d.min+" characters long.")}if(d.max&&d.max<c.length){throw new Error("Application identifier "+a.id+" must be at most "+d.max+" characters long.")}},getByLength:function(a,b){var c=this,d,e;for(var f=2;f<=4;f++){d=v(a,b,f);e=c.getAI(d)||c.getAI(d.substring(0,d.length-1));if(e){return{id:d,ai:e}}}c.unsupportedAIError(d)},unsupportedAIError:function(a){throw new Error(c.format("'{0}' is not a supported Application Identifier"),a)},getBySeparator:function(a,b){var c=this,d=a.indexOf(c.startAI,b),e=a.indexOf(c.endAI,d),f=a.substring(d+1,e),g=c.getAI(f)||c.getAI(f.substr(f.length-1));if(!g){c.unsupportedAIError(f)}return{ai:g,id:f}},getAI:function(a){var b=this.applicationIdentifiers,c=b.multiKey;if(b[a]){return b[a]}for(var d=0;d<c.length;d++){if(c[d].ids&&g(a,c[d].ids)>=0){return c[d].type}else if(c[d].ranges){var e=c[d].ranges;for(var f=0;f<e.length;f++){if(e[f][0]<=a&&a<=e[f][1]){return c[d].type}}}}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[90-99]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102});var D=w.extend({init:function(a){w.fn.init.call(this,a);this._initStates()},_initStates:function(){var a=this;for(var b=0;b<a.states.length;b++){a[a.states[b]]=new C[a.states[b]](a,a.states)}},initValue:function(a,b,c){var d=this;d.pattern=[];d.value=a;d.width=b;d.height=c;d.checkSum=0;d.totalUnits=0;d.index=0;d.position=1},addData:function(){var a=this,b={value:a.value,index:0,state:""};if(a.value.length===0){return}b.state=b.previousState=a.getNextState(b,a.states);a.addStart(b);a.pushData(b,a.states);a.addCheckSum();a.addStop();a.setBaseUnit()},pushData:function(a,b){var c=this;while(true){c[a.state].pushState(a);if(a.index>=a.value.length){break}if(!a.shifted){a.previousState=a.state;a.state=c.getNextState(a,b);c[a.state].move(a)}else{var d=a.state;a.state=a.previousState;a.previousState=d;a.shifted=false}}},addStart:function(a){this[a.state].addStart(a);this.position=1},addCheckSum:function(){var a=this;a.checksum=a.checkSum%103;a.addPattern(a.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var a=this;a.baseUnit=a.width/(a.totalUnits+a.quietZoneLength)},addPattern:function(a){var b=this,c=b.characterMap[a].toString(),d;for(var e=0;e<c.length;e++){d=parseInt(c.charAt(e),10);b.pattern.push(d);b.totalUnits+=d}b.checkSum+=a*b.position++},getNextState:function(a,b){for(var c=0;c<b.length;c++){if(this[b[c]].is(a.value,a.index)){return b[c]}}this.invalidCharacterError(a.value.charAt(a.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106});x.code128a=D.extend({name:"Code 128 A",states:["A"]});x.code128b=D.extend({name:"Code 128 B",states:["B"]});x.code128c=D.extend({name:"Code 128 C",states:["C"]});x.code128=D.extend({name:"Code 128",states:["C","B","A","FNC4"]});x["gs1-128"]=D.extend({name:"Code GS1-128",states:["FNC1","C","B"]});var E=w.extend({initValue:function(a,b){var c=this;c.pattern=[];c.value=a;c.checkSumLength=0;c.width=b},setBaseUnit:function(){var a=this,b=7;a.baseUnit=a.width/(12*(a.value.length+a.checkSumLength)+a.quietZoneLength+b)},addData:function(){var a=this,b=a.value;a.addPattern(a.START);for(var c=0;c<b.length;c++){a.addCharacter(b.charAt(c))}if(a.options.addCheckSum){a.addCheckSum()}a.addPattern(a.STOP);a.setBaseUnit()},addCharacter:function(a){var b=this,c=b.characterMap[a];if(!c){b.invalidCharacterError(a)}b.addPattern(c)},addPattern:function(a){for(var b=0;b<a.length;b++){this.pattern.push(parseInt(a.charAt(b),10))}},addCheckSum:function(){var a=this,b=a.checkSums[a.checkSumType],c;c=b.call(a.checkSums,a.value);a.checksum=c.join("");for(var d=0;d<c.length;d++){a.checkSumLength++;a.addPattern(a.characterMap[c[d]])}},checkSums:{Modulo10:function(a){var b=[0,""],c=a.length%2,d,e,f;for(d=0;d<a.length;d++){b[(d+c)%2]+=parseInt(a.charAt(d),10)}f=b[0];e=(b[1]*2).toString();for(d=0;d<e.length;d++){f+=parseInt(e.charAt(d),10)}return[(10-f%10)%10]},Modulo11:function(a){var b=0,c=11,d=a.length,e,f;for(var g=0;g<d;g++){e=((d-g)%6||6)+1;b+=e*a.charAt(g)}f=(c-b%c)%c;if(f!=10){return[f]}return[1,0]},Modulo11Modulo10:function(a){var b=this.Modulo11(a),c;c=a+b[0];return b.concat(this.Modulo10(c))},Modulo10Modulo10:function(a){var b=this.Modulo10(a),c;c=a+b[0];return b.concat(this.Modulo10(c))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""});x.msimod10=E.extend({name:"MSI Modulo10",checkSumType:"Modulo10"});x.msimod11=E.extend({name:"MSI Modulo11",checkSumType:"Modulo11"});x.msimod1110=E.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"});x.msimod1010=E.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"});x.code11=w.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(a,b){var c=this;c.pattern=[];c.value=a;c.width=b;c.totalUnits=0},addData:function(){var a=this;var b=a.value;a.addPattern(a.START);for(var c=0;c<b.length;c++){a.addCharacter(b.charAt(c))}if(a.options.addCheckSum){a.addCheckSum()}a.addPattern(a.STOP);a.setBaseUnit()},setBaseUnit:function(){var a=this;a.baseUnit=a.width/(a.totalUnits+a.quietZoneLength)},addCheckSum:function(){var a=this,b=a.value,c=b.length,d;d=a.getWeightedSum(b,c,a.cCheckSumTotal)%a.checkSumMod;a.checksum=d+"";a.addPattern(a.characterMap[d]);c++;if(c>=a.kCheckSumMinLength){var e=(d+a.getWeightedSum(b,c,a.kCheckSumTotal))%a.checkSumMod;a.checksum+=e;a.addPattern(a.characterMap[e])}},getWeightedSum:function(a,b,c){var d=0;for(var e=0;e<a.length;e++){d+=this.weightedValue(this.getValue(a.charAt(e)),b,e,c)}return d},weightedValue:function(a,b,c,d){var e=(b-c)%d||d;return e*a},getValue:function(a){var b=this;if(!isNaN(a)){return parseInt(a,10)}else if(a!==b.DASH){b.invalidCharacterError(a)}return b.DASH_VALUE},addCharacter:function(a){var b=this,c=b.getValue(a),d=b.characterMap[c];b.addPattern(d)},addPattern:function(a){var b;for(var c=0;c<a.length;c++){b=parseInt(a.charAt(c),10);this.pattern.push(b);this.totalUnits+=b}},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:true}});x.postnet=w.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(a,b,c){var d=this;d.height=c;d.width=b;d.baseHeight=c/2;d.value=a.replace(new RegExp(d.DIGIT_SEPARATOR,"g"),"");d.pattern=[];d.validate(d.value);d.checkSum=0;d.setBaseUnit()},addData:function(){var a=this,b=a.value;a.addPattern(a.START);for(var c=0;c<b.length;c++){a.addCharacter(b.charAt(c))}if(a.options.addCheckSum){a.addCheckSum()}a.addPattern(a.START);a.pattern.pop()},addCharacter:function(a){var b=this,c=b.characterMap[a];b.checkSum+=parseInt(a,10);b.addPattern(c)},addCheckSum:function(){var a=this;a.checksum=(10-a.checkSum%10)%10;a.addCharacter(a.checksum)},setBaseUnit:function(){var a=this,b=3;a.baseUnit=a.width/((a.value.length+1)*10+b+a.quietZoneLength)},validate:function(a){var b=this;if(!s.test(a)){b.invalidCharacterError(a.match(/[^0-9]/)[0])}if(g(a.length,b.VALID_CODE_LENGTHS)<0){throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+b.VALID_CODE_LENGTHS.join(","))}},addPattern:function(a){var b=this,c;for(var d=0;d<a.length;d++){c=b.height-b.baseHeight*a.charAt(d);b.pattern.push({width:1,y1:c,y2:b.height});b.pattern.push(1)}},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]});x.ean13=w.extend({initValue:function(a,b,c){a+="";if(a.length!=12||/\D/.test(a)){throw new Error('The value of the "EAN13" encoding should be 12 symbols')}var d=this;d.pattern=[];d.options.height=c;d.baseUnit=b/(95+d.quietZoneLength);d.value=a;d.checksum=d.calculateChecksum();d.leftKey=a[0];d.leftPart=a.substr(1,6);d.rightPart=a.substr(7)+d.checksum},addData:function(){var a=this;a.addPieces(a.characterMap.start);a.addSide(a.leftPart,a.leftKey);a.addPieces(a.characterMap.middle);a.addSide(a.rightPart);a.addPieces(a.characterMap.start)},addSide:function(a,b){var c=this;for(var d=0;d<a.length;d++){if(b&&parseInt(c.keyTable[b].charAt(d),10)){c.addPieces(Array.prototype.slice.call(c.characterMap.digits[a.charAt(d)]).reverse(),true)}else{c.addPieces(c.characterMap.digits[a.charAt(d)],true)}}},addPieces:function(a,b){var c=this;for(var d=0;d<a.length;d++){if(b){c.pattern.push({y1:0,y2:c.options.height*.95,width:a[d]})}else{c.pattern.push(a[d])}}},calculateChecksum:function(){var a=0,b=0,c=this.value.split("").reverse().join("");for(var d=0;d<c.length;d++){if(d%2){b+=parseInt(c.charAt(d),10)}else{a+=parseInt(c.charAt(d),10)}}var e=(10-(3*a+b)%10)%10;return e},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}});x.ean8=x.ean13.extend({initValue:function(a,b,c){var d=this;if(a.length!=7||/\D/.test(a)){throw new Error("Invalid value provided")}d.value=a;d.options.height=c;d.checksum=d.calculateChecksum(d.value);d.leftPart=d.value.substr(0,4);d.rightPart=d.value.substr(4)+d.checksum;d.pattern=[];d.baseUnit=b/(67+d.quietZoneLength)}});var F=d.extend({init:function(b,c){var e=this;d.fn.init.call(e,b,c);e.element=a(b);e.wrapper=e.element;e.element.addClass("k-barcode").css("display","block");e.surfaceWrap=a("<div />").css("position","relative").appendTo(this.element);e.surface=i.Surface.create(e.surfaceWrap,{type:e.options.renderAs});e._setOptions(c);if(c&&l(c.value)){e.redraw()}},setOptions:function(a){this._setOptions(a);this.redraw()},redraw:function(){var a=this._getSize();this.surface.clear();this.surface.setSize({width:a.width,height:a.height});this.createVisual();this.surface.draw(this.visual)},getSize:function(){return c.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},_render:function(){var a=this,b=a.options,c=b.value,d=b.text,e=m.getSpacing(d.margin),f=a._getSize(),g=b.border||{},h=a.encoding,j=new n(0,0,f.width,f.height).unpad(g.width).unpad(b.padding),k=j.height(),o,p,q;var r=new i.Group;a.contentBox=j;r.append(a._getBackground(f));if(d.visible){q=i.util.measureText(c,{font:d.font}).height;k-=q+e.top+e.bottom}o=h.encode(c,j.width(),k);if(d.visible){p=c;if(b.checksum&&l(h.checksum)){p+=" "+h.checksum}r.append(a._getText(p))}a.barHeight=k;this._bandsGroup=this._getBands(o.pattern,o.baseUnit);r.append(this._bandsGroup);return r},exportVisual:function(){return this._render()},_getSize:function(){var a=this,b=a.element,c=new j.Size(p,q);if(b.width()>0){c.width=b.width()}if(b.height()>0){c.height=b.height()}if(a.options.width){c.width=a.options.width}if(a.options.height){c.height=a.options.height}return c},value:function(a){var b=this;if(!l(a)){return b.options.value}b.options.value=a+"";b.redraw()},_getBands:function(a,b){var c=this,d=c.contentBox,e=d.x1,f,g;var k=new i.Group;for(var l=0;l<a.length;l++){g=h(a[l])?a[l]:{width:a[l],y1:0,y2:c.barHeight};f=g.width*b;if(l%2){var m=j.Rect.fromPoints(new j.Point(e,g.y1+d.y1),new j.Point(e+f,g.y2+d.y1));var n=i.Path.fromRect(m,{fill:{color:c.options.color},stroke:null});k.append(n)}e+=f}return k},_getBackground:function(a){var b=this,c=b.options,d=c.border||{};var e=new n(0,0,a.width,a.height).unpad(d.width/2);var f=i.Path.fromRect(e.toRect(),{fill:{color:c.background},stroke:{color:d.width?d.color:"",width:d.width,dashType:d.dashType}});return f},_getText:function(a){var b=this,c=b.options.text,d=b._textbox=new o(a,{font:c.font,color:c.color,align:"center",vAlign:"bottom",margin:c.margin});d.reflow(b.contentBox);d.renderVisual();return d.visual},_setOptions:function(a){var b=this;b.type=(a.type||b.options.type).toLowerCase();if(b.type=="upca"){b.type="ean13";a.value="0"+a.value}if(b.type=="upce"){b.type="ean8";a.value="0"+a.value}if(!x[b.type]){throw new Error("Encoding "+b.type+"is not supported.")}b.encoding=new x[b.type];b.options=e(true,b.options,a)},options:{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:false,width:0,height:0,color:"black",background:"white",text:{visible:true,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}});m.ExportMixin.extend(F.fn);m.ui.plugin(F);c.deepExtend(m,{encodings:x,Encoding:w})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.qrcode",["kendo.dataviz.core","kendo.drawing"],a)})(function(){var a={id:"dataviz.qrcode",name:"QRCode",category:"dataviz",description:"QRCode widget.",depends:["dataviz.core","drawing"]};(function(a,b){var c=window.kendo,d=a.extend,e=c.drawing,f=c.dataviz,g=c.ui.Widget,h=f.Box2D,i="0000",j="numeric",k="alphanumeric",l="byte",m={1:0},n={0:1},o=[[1,0],[1,25,0]],p={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},q=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{
L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],r=[1,0,1,1,1],s=[1,0,1],t={L:"01",M:"00",Q:"11",H:"10"},u="101010000010010",v="10100110111",w="1111100100101",x=["11101100","00010001"],y=93,z=[function(a,b){return(a+b)%2===0},function(a){return a%2===0},function(a,b){return b%3===0},function(a,b){return(a+b)%3===0},function(a,b){return(Math.floor(a/2)+Math.floor(b/3))%2===0},function(a,b){return a*b%2+a*b%3===0},function(a,b){return(a*b%2+a*b%3)%2===0},function(a,b){return((a+b)%2+a*b%3)%2===0}],A=/^\d+/,B="A-Z0-9 $%*+./:-",C="A-Z $%*+./:-",D=new RegExp("^["+C+"]+"),E=new RegExp("^["+B+"]+"),F=new RegExp("^[^"+B+"]+"),G=8,H=5,I=8,J=17,K=9,L=16,M=Math.round;function N(a){return parseInt(a,2)}function O(a,b){var c=Number(a).toString(2);if(c.length<b){c=new Array(b-c.length+1).join(0)+c}return c}function P(a,b){var c=[],d=0;while(d<a.length){c.push(a.substring(d,d+b));d+=b}return c}var Q=c.Class.extend({getVersionIndex:function(a){if(a<10){return 0}else if(a>26){return 2}return 1},getBitsCharacterCount:function(a){var b=this;return b.bitsInCharacterCount[b.getVersionIndex(a||40)]},getModeCountString:function(a,b){var c=this;return c.modeIndicator+O(a,c.getBitsCharacterCount(b))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]});var R={};R[j]=Q.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(a){return parseInt(a,10)},encode:function(a,b){var c=this,d=P(a,3),e=c.getModeCountString(a.length,b);for(var f=0;f<d.length-1;f++){e+=O(d[f],10)}return e+O(d[f],1+3*d[f].length)},getStringBitsLength:function(a,b){var c=a%3;return 4+this.getBitsCharacterCount(b)+10*Math.floor(a/3)+3*c+(c===0?0:1)}});R[k]=Q.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(a){return this.characters[a]},encode:function(a,b){var c=this,d=P(a,2),e=c.getModeCountString(a.length,b),f;for(var g=0;g<d.length-1;g++){f=45*c.getValue(d[g].charAt(0))+c.getValue(d[g].charAt(1));e+=O(f,11)}f=d[g].length==2?45*c.getValue(d[g].charAt(0))+c.getValue(d[g].charAt(1)):c.getValue(d[g].charAt(0));return e+O(f,1+5*d[g].length)},getStringBitsLength:function(a,b){return 4+this.getBitsCharacterCount(b)+11*Math.floor(a/2)+6*(a%2)}});R[l]=Q.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(a){var b=a.charCodeAt(0);if(b<=127||160<=b&&b<=255){return b}else{throw new Error("Unsupported character: "+a)}},encode:function(a,b){var c=this,d=c.getModeCountString(a.length,b);for(var e=0;e<a.length;e++){d+=O(c.getValue(a.charAt(e)),8)}return d},getStringBitsLength:function(a,b){return 4+this.getBitsCharacterCount(b)+8*a}});var S={};for(var T in R){S[T]=new R[T]}var U=function(a){var c=this,d=a.length-1,e=a.length-1,f=e,g=-1,h=0;c.move=function(){d+=g*h;h^=1;e=f-h};c.getNextCell=function(){while(a[d][e]!==b){c.move();if(d<0||d>=a.length){g=-g;f-=f!=8?2:3;e=f;d=g<0?a.length-1:0}}return{row:d,column:e}};c.getNextRemainderCell=function(){c.move();if(a[d][e]===b){return{row:d,column:e}}}};function V(a,b,c,d){for(var e=0;e<a.length;e++){a[e][c][d]=b}}function W(a,b,c,d){for(var e=0;e<z.length;e++){a[e][c][d]=z[e](c,d)?b^1:parseInt(b,10)}}var X=function(a,b){var c=new U(a[0]),d,e,f;for(var g=0;g<b.length;g++){d=b[g];e=0;while(d.length>0){for(var h=0;h<d.length;h++){for(var i=0;i<8;i++){f=c.getNextCell();W(a,d[h][e].charAt(i),f.row,f.column)}}e++;while(d[0]&&e==d[0].length){d.splice(0,1)}}}while(f=c.getNextRemainderCell()){W(a,0,f.row,f.column)}};var Y=function(a,b){var c=b*8,d=0,e=0;while(a.length<c&&d<i.length){a+=i.charAt(d++)}if(a.length%8!==0){a+=new Array(9-a.length%8).join("0")}while(a.length<c){a+=x[e];e^=1}return a};function Z(){var a;for(var b=1;b<255;b++){a=n[b-1]*2;if(a>255){a=a^285}n[b]=a;m[a]=b}a=n[b-1]*2^285;n[b]=a;n[-1]=0}var $=function(a,b){var c=[],d=a.length-2;for(var e=d;e>=0;e--){c[e]=a[e]^b[e]}return c};var _=function(a,c){var d=[];for(var e=0;e<a.length;e++){for(var f=0;f<c.length;f++){if(d[e+f]===b){d[e+f]=(a[e]+(c[f]>=0?c[f]:0))%255}else{d[e+f]=m[n[d[e+f]]^n[(a[e]+c[f])%255]]}}}return d};function aa(){var a=68;for(var b=2;b<=a;b++){var c=o[b-1],d=[b,0];o[b]=_(c,d)}}Z();aa();function ba(a,c){var d=[],e=a.length-1;do{d[e]=n[(a[e]+c)%255];e--}while(a[e]!==b);return d}var ca=function(a,b){var c=o[b-1],d=new Array(b).concat(a),e=new Array(d.length-c.length).concat(c),f=a.length,g=[],h,i;for(i=0;i<f;i++){h=ba(e,m[d[d.length-1]]);e.splice(0,1);d=$(h,d)}for(i=d.length-1;i>=0;i--){g[b-1-i]=O(d[i],8)}return g};var da=function(a,b){var c=0,d=[],e=[],f,g=b.groups,h,i,j,k;for(var l=0;l<g.length;l++){i=g[l][0];for(var m=0;m<i;m++){h=g[l][1];f=[];j=[];for(var n=1;n<=h;n++){k=a.substring(c,c+8);f.push(k);j[h-n]=N(k);c+=8}d.push(f);e.push(ca(j,b.errorCodewordsPerBlock))}}return[d,e]};var ea=function(a,b,c,d,e){var f=A.exec(a),g=f?f[0]:"",h=D.exec(a),i=h?h[0]:"",m=E.exec(a),n=m?m[0]:"",o,p;if(g&&(g.length>=b||a.length==g.length||g.length>=c&&!E.test(a.charAt(g.length)))){o=j;p=g}else if(n&&(a.length==n.length||n.length>=d||e==k)){o=k;p=g||i}else{o=l;if(n){p=n+F.exec(a.substring(n.length))[0]}else{p=F.exec(a)[0]}}return{mode:o,modeString:p}};var fa=function(a){var b=[],c,d=0;b.push(ea(a,G,H,I,c));c=b[0].mode;a=a.substr(b[0].modeString.length);while(a.length>0){var e=ea(a,J,K,L,c);if(e.mode!=c){c=e.mode;b.push(e);d++}else{b[d].modeString+=e.modeString}a=a.substr(e.modeString.length)}return b};var ga=function(a){var b=0,c;for(var d=0;d<a.length;d++){c=S[a[d].mode];b+=c.getStringBitsLength(a[d].modeString.length)}return Math.ceil(b/8)};var ha=function(a,b){var c=0,d=q.length-1,e=Math.floor(q.length/2);do{if(a<q[e][b].totalDataCodewords){d=e}else{c=e}e=c+Math.floor((d-c)/2)}while(d-c>1);if(a<=q[c][b].totalDataCodewords){return e+1}return d+1};var ia=function(a,b){var c="",d;for(var e=0;e<a.length;e++){d=S[a[e].mode];c+=d.encode(a[e].modeString,b)}return c};var ja=function(a){var b=N(a),c,d="";if(b===0){return"101010000010010"}else{c=ka(N(a),v,15)}for(var e=0;e<c.length;e++){d+=c.charAt(e)^u.charAt(e)}return d};var ka=function(a,b,c){var d=N(b),e=b.length-1,f=a<<e,g=c-e,h=O(a,g),i=la(f,d);i=h+O(i,e);return i};var la=function(a,b){var c=b.toString(2).length,d=a.toString(2).length;do{a^=b<<d-c;d=a.toString(2).length}while(d>=c);return a};function ma(a,b){return parseInt(a.charAt(b),10)}var na=function(a){var b=[],c=17+4*a;for(var d=0;d<z.length;d++){b[d]=new Array(c);for(var e=0;e<c;e++){b[d][e]=new Array(c)}}return b};var oa=function(a,b){var c=a[0],d,e,f=0,g=b.length;for(d=0,e=8;d<=8;d++){if(d!==6){V(a,ma(b,g-1-f++),d,e)}}for(d=8,e=7;e>=0;e--){if(e!==6){V(a,ma(b,g-1-f++),d,e)}}f=0;for(e=c.length-1,d=8;e>=c.length-8;e--){V(a,ma(b,g-1-f++),d,e)}V(a,1,c.length-8,8);for(d=c.length-7,e=8;d<c.length;d++){V(a,ma(b,g-1-f++),d,e)}};var pa=function(a){return ka(a,w,18)};var qa=function(a,b){var c=a[0],d=c.length,e=0,f=d-11,g=d-11,h=0,i,j,k;for(var l=0;l<b.length;l++){i=Math.floor(l/3);j=l%3;k=ma(b,b.length-l-1);V(a,k,e+i,f+j);V(a,k,g+j,h+i)}};var ra=function(a,b,c,d){var e=b.length+2,f=b.length+1,g;for(var h=0;h<b.length;h++){for(var i=h;i<e-h;i++){g=b[h];V(a,g,c+i,d+h);V(a,g,c+h,d+i);V(a,g,c+f-i,d+f-h);V(a,g,c+f-h,d+f-i)}}};var sa=function(a,b,c,d){var e=c,f=d,g=a[0];do{V(a,0,e,d);V(a,0,c,f);e+=b[0];f+=b[1]}while(e>=0&&e<g.length)};var ta=function(a){var b=a[0].length;ra(a,r,0,0);sa(a,[-1,-1],7,7);ra(a,r,b-7,0);sa(a,[1,-1],b-8,7);ra(a,r,0,b-7);sa(a,[-1,1],7,b-8)};var ua=function(a,c){if(c<2){return}var d=a[0],e=d.length,f=Math.floor(c/7),g=[6],h,i,j=0;if(h=p[c]){i=(e-13-h)/f}else{h=i=(e-13)/(f+1)}g.push(g[j++]+h);while(g[j]+i<e){g.push(g[j++]+i)}for(var k=0;k<g.length;k++){for(var l=0;l<g.length;l++){if(d[g[k]][g[l]]===b){ra(a,s,g[k]-2,g[l]-2)}}}};var va=function(a){var b=6,c=6,d=1,e=a[0].length;for(var f=8;f<e-8;f++){V(a,d,b,f);V(a,d,f,c);d^=1}};var wa=function(a){var b=[],c=[],d=[],e=[],f=[],g,h,i=0,j=1,k=a[0].length;for(h=0;h<a.length;h++){b[h]=0;d[h]=0;f[h]=[0,0];e[h]=[0,0];c[h]=[]}for(h=0;h<k;h++){for(var l=0;l<k;l++){for(var m=0;m<a.length;m++){g=a[m];d[m]+=parseInt(g[h][l],10);if(c[m][i]===g[h][l]&&h+1<k&&l-1>=0&&g[h+1][l]==c[m][i]&&g[h+1][l-1]==c[m][i]){b[m]+=3}xa(m,e,b,i,g[h][l]);xa(m,e,b,j,g[l][h]);ya(m,b,c,g[h][l],f,i);ya(m,b,c,g[l][h],f,j)}}}var n=k*k,o,p=Number.MAX_VALUE;for(h=0;h<b.length;h++){b[h]+=za(d[h],n);if(b[h]<p){p=b[h];o=h}}return o};function xa(a,b,c,d,e){b[a][d]=(b[a][d]<<1^e)%128;if(b[a][d]==y){c[a]+=40}}function ya(a,b,c,d,e,f){if(c[a][f]==d){e[a][f]++}else{c[a][f]=d;if(e[a][f]>=5){b[a]+=3+e[a][f]-5}e[a][f]=1}}function za(a,b){var c=Math.floor(a/b*100),d=c%5,e=Math.abs(c-d-50),f=Math.abs(c+5-d-50),g=10*Math.min(e/5,f/5);return g}var Aa=function(a,b){this.dataString=a;this.version=b};var Ba=function(){this.getEncodingResult=function(a,b){var c=fa(a),d=ga(c),e=ha(d,b),f=ia(c,e);return new Aa(f,e)}};var Ca=function(){this.mode=S[this.encodingMode]};Ca.fn=Ca.prototype={encodingMode:l,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(a,b){var c=this,d=c.encode(a),e=c.getDataCodewordsCount(d),f=ha(e,b),g=c.mode.getModeCountString(d.length/8,f)+d;return new Aa(g,f)},getDataCodewordsCount:function(a){var b=this,c=a.length,d=Math.ceil((b.initialModeCountStringLength+c)/8);return d},encode:function(a){var b=this,c=b.utfBOM;for(var d=0;d<a.length;d++){c+=b.encodeCharacter(a.charCodeAt(d))}return c},encodeCharacter:function(a){var b=this.getBytesCount(a),c=b-1,d="";if(b==1){d=O(a,8)}else{var e=8-b;for(var f=0;f<c;f++){d=O(a>>f*6&63|128,8)+d}d=(a>>c*6|255>>e<<e).toString(2)+d}return d},getBytesCount:function(a){var b=this.ranges;for(var c=0;c<b.length;c++){if(a<b[c]){return c+1}}},ranges:[128,2048,65536,2097152,67108864]};var Da=function(a){if(a&&a.toLowerCase().indexOf("utf_8")>=0){return new Ca}else{return new Ba}};var Ea=function(a,b,c){var d=new Da(c),e=d.getEncodingResult(a,b),f=e.version,g=q[f-1][b],h=Y(e.dataString,g.totalDataCodewords),i=da(h,g),j=na(f);ta(j);ua(j,f);va(j);if(f>=7){qa(j,O(0,18))}oa(j,O(0,15));X(j,i);var k=wa(j),l=j[k];if(f>=7){qa([l],pa(f))}var m=t[b]+O(k,3);oa([l],ja(m));return l};var Fa={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1};var Ga=g.extend({init:function(b,c){var d=this;g.fn.init.call(d,b,c);d.element=a(b);d.wrapper=d.element;d.element.addClass("k-qrcode");d.surfaceWrap=a("<div />").css("position","relative").appendTo(this.element);d.surface=e.Surface.create(d.surfaceWrap,{type:d.options.renderAs});d.setOptions(c)},redraw:function(){var a=this._getSize();this.surfaceWrap.css({width:a,height:a});this.surface.clear();this.createVisual();this.surface.draw(this.visual)},getSize:function(){return c.dimensions(this.element)},_resize:function(){this.redraw()},createVisual:function(){this.visual=this._render()},exportVisual:function(){return this._render()},_render:function(){var a=this,b=a._value,c,d=a.options.border||{},f=a.options.padding||0,g=d.width||0,h,i,j,k,l;d.width=g;var m=new e.Group;if(b){i=Ea(b,a.options.errorCorrection,a.options.encoding);j=a._getSize();l=j-2*(g+f);c=a._calculateBaseUnit(l,i.length);k=i.length*c;h=g+f+(l-k)/2;m.append(a._renderBackground(j,d));m.append(a._renderMatrix(i,c,h))}return m},_getSize:function(){var a=this,b;if(a.options.size){b=parseInt(a.options.size,10)}else{var c=a.element,d=Math.min(c.width(),c.height());if(d>0){b=d}else{b=Fa.DEFAULT_SIZE}}return b},_calculateBaseUnit:function(a,b){var c=Math.floor(a/b);if(c<Fa.MIN_BASE_UNIT_SIZE){throw new Error("Insufficient size.")}if(c*b>=a&&c-1>=Fa.MIN_BASE_UNIT_SIZE){c--}return c},_renderMatrix:function(a,b,c){var d=new e.MultiPath({fill:{color:this.options.color},stroke:null});for(var f=0;f<a.length;f++){var g=c+f*b;var h=0;while(h<a.length){while(a[f][h]===0&&h<a.length){h++}if(h<a.length){var i=h;while(a[f][h]==1){h++}var j=M(c+i*b);var k=M(g);var l=M(c+h*b);var m=M(g+b);d.moveTo(j,k).lineTo(j,m).lineTo(l,m).lineTo(l,k).close()}}}return d},_renderBackground:function(a,b){var c=new h(0,0,a,a).unpad(b.width/2);return e.Path.fromRect(c.toRect(),{fill:{color:this.options.background},stroke:{color:b.color,width:b.width}})},setOptions:function(a){var c=this;a=a||{};c.options=d(c.options,a);if(a.value!==b){c._value=c.options.value+""}c.redraw()},value:function(a){var c=this;if(a===b){return c._value}c._value=a+"";c.redraw()},options:{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:Fa.DEFAULT_ERROR_CORRECTION_LEVEL,background:Fa.DEFAULT_BACKGROUND,color:Fa.DEFAULT_DARK_MODULE_COLOR,size:"",padding:0,border:{color:"",width:0}}});f.ExportMixin.extend(Ga.fn);f.ui.plugin(Ga);c.deepExtend(f,{QRCode:Ga,QRCodeDefaults:Fa,QRCodeFunctions:{FreeCellVisitor:U,fillData:X,padDataString:Y,generateErrorCodewords:ca,xorPolynomials:$,getBlocks:da,multiplyPolynomials:_,chooseMode:ea,getModes:fa,getDataCodewordsCount:ga,getVersion:ha,getDataString:ia,encodeFormatInformation:ja,encodeBCH:ka,dividePolynomials:la,initMatrices:na,addFormatInformation:oa,encodeVersionInformation:pa,addVersionInformation:qa,addCentricPattern:ra,addFinderSeparator:sa,addFinderPatterns:ta,addAlignmentPatterns:ua,addTimingFunctions:va,scoreMaskMatrixes:wa,encodeData:Ea,UTF8Encoder:Ca},QRCodeFields:{modes:S,powersOfTwo:m,powersOfTwoResult:n,generatorPolynomials:o}})})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/stock/kendo-stock-chart",["kendo.dataviz.chart"],a)})(function(){(function(){window.kendo.dataviz=window.kendo.dataviz||{};var a=kendo.dataviz;var b=a.elementStyles;var c=a.deepExtend;var d=a.toTime;var e=a.constants;var f=a.Chart;var g=kendo.drawing;var h=g.Animation.extend({setup:function(){this._initialOpacity=parseFloat(b(this.element,"opacity").opacity)},step:function(c){b(this.element,{opacity:String(a.interpolateValue(this._initialOpacity,0,c))})},abort:function(){g.Animation.fn.abort.call(this);b(this.element,{display:"none",opacity:String(this._initialOpacity)})},cancel:function(){g.Animation.fn.abort.call(this);b(this.element,{opacity:String(this._initialOpacity)})}});function i(a,b){var c=document.createElement("div");c.className=a;if(b){c.style.cssText=b}return c}var j=a.Class.extend({init:function(a,d,e){this.options=c({},this.options,e);this.container=a;this.chartService=d;var f=b(a,["paddingLeft","paddingTop"]);this.chartPadding={top:f.paddingTop,left:f.paddingLeft};this.createElements();a.appendChild(this.element)},createElements:function(){var a=this.element=i("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;");var b=this.tooltip=i("k-tooltip k-chart-tooltip");var c=this.scroll=i("k-scroll");b.innerHTML="&nbsp;";a.appendChild(b);a.appendChild(c)},show:function(c,e,f){var g=this;var h=g.element;var i=g.options;var j=g.scroll;var k=g.tooltip;var l=a.toDate(d(c)+d(e-c)/2);var m=f.width()*.4;var n=f.center().x-m;var o=f.center().x;var p=o-n;var q=i.max-i.min;var r=p/q;var s=l-i.min;var t=this.chartService.intl.format(i.format,c,e);var u=a.getTemplate(i);this.clearHideTimeout();if(!this._visible){b(h,{visibility:"hidden",display:"block"});this._visible=true}if(u){t=u({from:c,to:e})}k.innerHTML=t;b(k,{left:f.center().x-k.offsetWidth/2,top:f.y1});var v=b(k,["marginTop","borderTopWidth","height"]);b(j,{width:m,left:n+s*r,top:f.y1+v.marginTop+v.borderTopWidth+v.height/2});b(h,{visibility:"visible"})},clearHideTimeout:function(){if(this._hideTimeout){clearTimeout(this._hideTimeout)}if(this._hideAnimation){this._hideAnimation.cancel()}},hide:function(){var a=this;this.clearHideTimeout();this._hideTimeout=setTimeout(function(){a._visible=false;a._hideAnimation=new h(a.element);a._hideAnimation.setup();a._hideAnimation.play()},this.options.hideDelay)},destroy:function(){this.clearHideTimeout();if(this.container){this.container.removeChild(this.element)}delete this.container;delete this.chartService;delete this.element;delete this.tooltip;delete this.scroll}});a.setDefaultOptions(j,{format:"{0:d} - {1:d}",hideDelay:500});var k="_navigator";var l=k;var m={NAVIGATOR_AXIS:l,NAVIGATOR_PANE:k};var n=3;var o=a.Class.extend({init:function(b){this.chart=b;var d=this.options=c({},this.options,b.options.navigator);var f=d.select;if(f){f.from=this.parseDate(f.from);f.to=this.parseDate(f.to)}if(!a.defined(d.hint.visible)){d.hint.visible=d.visible}var g;this.chartObserver=new a.InstanceObserver(this,(g={},g[e.DRAG]="_drag",g[e.DRAG_END]="_dragEnd",g[e.ZOOM]="_zoom",g[e.ZOOM_END]="_zoomEnd",g));b.addObserver(this.chartObserver)},parseDate:function(b){return a.parseDate(this.chart.chartService.intl,b)},destroy:function(){if(this.chart){this.chart.removeObserver(this.chartObserver);delete this.chart}if(this.selection){this.selection.destroy();delete this.selection}if(this.hint){this.hint.destroy();delete this.hint}},redraw:function(){this._redrawSelf();this.initSelection()},initSelection:function(){var b=this;var c=b.chart;var d=b.options;var e=this.mainAxis();var f=e.range();var g=f.min;var h=f.max;var i=d.select;var k=i.from;var l=i.to;var m=i.mousewheel;var n=q(e);var o=e.options.categories;var p=this.selection;if(o.length===0){return}if(p){p.destroy()}n.box=e.box;p=this.selection=new a.Selection(c,n,{min:g,max:h,from:k||g,to:l||h,mousewheel:a.valueOrDefault(m,{zoom:"left"}),visible:d.visible},new a.InstanceObserver(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"}));if(this.hint){this.hint.destroy()}if(d.hint.visible){this.hint=new j(c.element,c.chartService,{min:g,max:h,template:a.getTemplate(d.hint),format:d.hint.format})}},setRange:function(){var a=this.chart._createPlotArea(true);var b=a.namedCategoryAxes[l];var d=b.range();var e=d.min;var f=d.max;var g=this.options.select||{};var h=g.from||e;if(h<e){h=e}var i=g.to||f;if(i>f){i=f}this.options.select=c({},g,{from:h,to:i});this.filterAxes()},_redrawSelf:function(b){var c=this.chart._plotArea;if(c){c.redraw(a.last(c.panes),b)}},redrawSlaves:function(){var a=this.chart;var b=a._plotArea;var c=b.panes.slice(0,-1);b.srcSeries=a.options.series;b.options.categoryAxis=a.options.categoryAxis;b.redraw(c)},_drag:function(b){var c=this;var e=c.chart;var f=c.selection;var g=e._eventCoordinates(b.originalEvent);var h=this.mainAxis();var i=h.datesRange();var j=h.pane.box.containsPoint(g);var k=e._plotArea.categoryAxis;var l=b.axisRanges[k.options.name];var m=this.options.select;var n;if(!l||j||!f){return}if(m.from&&m.to){n=d(m.to)-d(m.from)}else{n=d(f.options.to)-d(f.options.from)}var o=a.toDate(a.limitValue(d(l.min),i.min,d(i.max)-n));var p=a.toDate(a.limitValue(d(o)+n,d(i.min)+n,i.max));this.options.select={from:o,to:p};if(this.options.liveDrag){this.filterAxes();this.redrawSlaves()}f.set(o,p);this.showHint(o,p)},_dragEnd:function(){this.filterAxes();this.filter();this.redrawSlaves();if(this.hint){this.hint.hide()}},readSelection:function(){var a=this;var b=a.selection.options;var c=b.from;var d=b.to;var e=a.options.select;e.from=c;e.to=d},filterAxes:function(){var a=this;var b=a.options.select;if(b===void 0){b={}}var c=a.chart;var d=c.options.categoryAxis;var e=b.from;var f=b.to;for(var g=0;g<d.length;g++){var h=d[g];if(h.pane!==k){h.min=e;h.max=f}}},filter:function(){var b=this;var d=b.chart;var e=b.options.select;if(d.requiresHandlers(["navigatorFilter"])){var f=new a.DateCategoryAxis(c({baseUnit:"fit"},d.options.categoryAxis[0],{categories:[e.from,e.to]}),d.chartService).options;this.chart.trigger("navigatorFilter",{from:a.addDuration(f.min,-f.baseUnitStep,f.baseUnit),to:a.addDuration(f.max,f.baseUnitStep,f.baseUnit)})}},_zoom:function(b){var c=this;var d=c.chart._plotArea.categoryAxis;var e=c.selection;var f=c.options;var g=f.select;var h=f.liveDrag;var i=this.mainAxis().options.categories;var j=b.delta;if(!e){return}var k=a.lteDateIndex(e.options.from,i);var l=a.lteDateIndex(e.options.to,i);b.originalEvent.preventDefault();if(Math.abs(j)>1){j*=n}if(l-k>1){e.expand(j);this.readSelection()}else{d.options.min=g.from;g.from=d.scaleRange(-b.delta).min}if(h){this.filterAxes();this.redrawSlaves()}e.set(g.from,g.to);this.showHint(this.options.select.from,this.options.select.to)},_zoomEnd:function(a){this._dragEnd(a)},showHint:function(a,b){var c=this.chart._plotArea;if(this.hint){this.hint.show(a,b,c.backgroundBox())}},_selectStart:function(a){return this.chart._selectStart(a)},_select:function(a){this.showHint(a.from,a.to);return this.chart._select(a)},_selectEnd:function(a){if(this.hint){this.hint.hide()}this.readSelection();this.filterAxes();this.filter();this.redrawSlaves();return this.chart._selectEnd(a)},mainAxis:function(){var a=this.chart._plotArea;if(a){return a.namedCategoryAxes[l]}},select:function(a,b){var c=this.options.select;if(a&&b){c.from=this.parseDate(a);c.to=this.parseDate(b);this.filterAxes();this.filter();this.redrawSlaves();this.selection.set(a,b)}return{from:c.from,to:c.to}}});o.setup=function(a,b){if(a===void 0){a={}}if(b===void 0){b={}}if(a.__navi){return}a.__navi=true;var d=c({},b.navigator,a.navigator);var e=a.panes=[].concat(a.panes);var f=c({},d.pane,{name:k});if(!d.visible){f.visible=false;f.height=.1}e.push(f);o.attachAxes(a,d);o.attachSeries(a,d,b)};o.attachAxes=function(b,d){var f=d.series||[];var g=b.categoryAxis=[].concat(b.categoryAxis);var h=b.valueAxis=[].concat(b.valueAxis);var i=a.filterSeriesByType(f,e.EQUALLY_SPACED_SERIES);var j=i.length===0;var m=c({type:"date",pane:k,roundToBaseUnit:!j,justified:j,_collapse:false,majorTicks:{visible:true},tooltip:{visible:false},labels:{step:1},autoBind:d.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}});var n=d.categoryAxis;g.push(c({},m,{maxDateGroups:200},n,{name:l,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:false},majorTicks:{visible:false}}),c({},m,n,{name:l+"_labels",maxDateGroups:20,baseUnitStep:"auto",plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:true}),c({},m,n,{name:l+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:false,mirror:true},_overlap:true}));h.push(c({name:l,pane:k,majorGridLines:{visible:false},visible:false},d.valueAxis))};o.attachSeries=function(a,b,d){var e=a.series=a.series||[];var f=[].concat(b.series||[]);var g=d.seriesColors;var h=b.seriesDefaults;for(var i=0;i<f.length;i++){e.push(c({color:g[i%g.length],categoryField:b.dateField,visibleInLegend:false,tooltip:{visible:false}},h,f[i],{axis:l,categoryAxis:l,autoBind:b.autoBindElements}))}};function p(){}function q(a){p.prototype=a;return new p}
var r=28;var s=f.extend({applyDefaults:function(b,d){var g=a.elementSize(this.element).width||e.DEFAULT_WIDTH;var h=d;var i={seriesDefaults:{categoryField:b.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:false},labels:{step:2},majorTicks:{visible:false},maxDateGroups:Math.floor(g/r)}}};if(h){h=c({},h,i)}o.setup(b,h);f.fn.applyDefaults.call(this,b,h)},_setElementClass:function(b){a.addClass(b,"k-chart k-stockchart")},setOptions:function(a){this.destroyNavigator();f.fn.setOptions.call(this,a)},_resize:function(){var a=this.options.transitions;this.options.transitions=false;this._fullRedraw();this.options.transitions=a},_redraw:function(){var a=this.navigator;if(!this._dirty()&&a&&a.options.partialRedraw){a.redrawSlaves()}else{this._fullRedraw()}},_dirty:function(){var b=this.options;var c=[].concat(b.series,b.navigator.series);var d=a.grep(c,function(a){return a&&a.visible}).length;var e=this._seriesCount!==d;this._seriesCount=d;return e},_fullRedraw:function(){var a=this.navigator;if(!a){a=this.navigator=new o(this);this.trigger("navigatorCreated",{navigator:a})}a.setRange();f.fn._redraw.call(this);a.initSelection()},_trackSharedTooltip:function(a){var b=this._plotArea;var c=b.paneByPoint(a);if(c&&c.options.name===k){this._unsetActivePoint()}else{f.fn._trackSharedTooltip.call(this,a)}},bindCategories:function(){f.fn.bindCategories.call(this);this.copyNavigatorCategories()},copyNavigatorCategories:function(){var a=[].concat(this.options.categoryAxis);var b;for(var c=0;c<a.length;c++){var d=a[c];if(d.name===l){b=d.categories}else if(b&&d.pane===k){d.categories=b}}},destroyNavigator:function(){if(this.navigator){this.navigator.destroy();this.navigator=null}},destroy:function(){this.destroyNavigator();f.fn.destroy.call(this)},_stopDragEvent:function(a){var b=this._eventCoordinates(a);var c=this._plotArea.paneByPoint(b);return f.fn._stopDragEvent.call(this,a)||c&&c.options.name===k}});a.setDefaultOptions(s,{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:true},valueAxis:{narrowRange:true,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:false},tooltip:{visible:true},line:{width:2}},hint:{},visible:true},tooltip:{visible:true},legend:{visible:false}});kendo.deepExtend(kendo.dataviz,{constants:m,Navigator:o,NavigatorHint:j,StockChart:s})})()},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/stock/stock-chart",["dataviz/stock/kendo-stock-chart"],a)})(function(){(function(a){var b=window.kendo;var c=b.dataviz;var d=c.ChartInstanceObserver;var e=c.ui.Chart;var f=c.StockChart;var g=c.constants;var h=g.NAVIGATOR_AXIS;var i=g.NAVIGATOR_PANE;var j=b.deepExtend;var k=c.defined;var l=a.proxy;var m="change";var n=d.extend({handlerMap:{navigatorFilter:"_onNavigatorFilter",navigatorCreated:"_onNavigatorCreated"}});var o=e.extend({options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:true},valueAxis:{narrowRange:true,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:false},tooltip:{visible:true,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:true},tooltip:{visible:true},legend:{visible:false},persistSeriesVisibility:true},_createChart:function(a,b){this._initNavigatorOptions(a);this._instance=new f(this.element[0],a,b,{observer:new n(this),sender:this,rtl:this._isRtl()})},_initNavigatorOptions:function(a){var c=a.navigator||{};var d=b.support;var e=d.touch;var f=d.browser.mozilla;j(c,{autoBindElements:!c.dataSource,partialRedraw:c.dataSource,liveDrag:!e&&!f})},_initDataSource:function(a){var d=a||{},f=d.dataSource,g=f&&f.serverFiltering,h=[].concat(d.categoryAxis)[0],i=d.navigator||{},k=i.select,l=k&&k.from&&k.to;if(g&&l){var m=[].concat(f.filter||[]);var n=b.parseDate(k.from);var o=b.parseDate(k.to);var q=new c.DateCategoryAxis(j({baseUnit:"fit"},h,{categories:[n,o]}),b);f.filter=p(q.range().min,o).concat(m)}e.fn._initDataSource.call(this,a)},_onNavigatorCreated:function(a){this._instance=a.sender;this.options=a.sender.options;this._navigator=this.navigator=a.navigator;this._initNavigatorDataSource()},_initNavigatorDataSource:function(){var a=this.options.navigator;var c=a.autoBind;var d=a.dataSource;if(d){this._navigatorDataChangedHandler=this._navigatorDataChangedHandler||l(this._onNavigatorDataChanged,this);this._navigatorDataSource=b.data.DataSource.create(d).bind(m,this._navigatorDataChangedHandler);if(!k(c)){c=this.options.autoBind}if(c){this._navigatorDataSource.fetch()}}},_bindNavigatorSeries:function(a,b){var c,d,e=a.length;for(c=0;c<e;c++){d=a[c];if(d.axis==h&&this._isBindable(d)){d.data=b}}},_onNavigatorDataChanged:function(){var a=this,b=a._instance,c=a.options.categoryAxis,d,e=c.length,f=a._navigatorDataSource.view(),g,j;this._bindNavigatorSeries(a.options.series,f);if(a._sourceSeries){this._bindNavigatorSeries(a._sourceSeries,f)}for(d=0;d<e;d++){g=c[d];if(g.pane==i){if(g.name==h){a._bindCategoryAxis(g,f,d);j=g.categories}else{g.categories=j}}}if(b._model){var k=this.navigator;k.redraw();k.setRange();if(!a.options.dataSource||a.options.dataSource&&a._dataBound){k.redrawSlaves()}}},_bindCategories:function(){e.fn._bindCategories.call(this);if(this._instance){this._instance.copyNavigatorCategories()}},_onDataChanged:function(){e.fn._onDataChanged.call(this);this._dataBound=true},setOptions:function(a){this._removeNavigatorDataSource();this._initNavigatorOptions(a);this._instance.destroyNavigator();e.fn.setOptions.call(this,a)},_onNavigatorFilter:function(a){this.dataSource.filter(p(a.from,a.to))},requiresHandlers:function(a){if(c.inArray("navigatorFilter",a)){var b=this.dataSource;var d=b&&b.options.serverFiltering;return d&&this.options.navigator.dataSource}return e.fn.requiresHandlers.call(this,a)},_removeNavigatorDataSource:function(){var a=this._navigatorDataSource;if(a){a.unbind(m,this._navigatorDataChangedHandler);delete this._navigatorDataSource}},destroy:function(){e.fn.destroy.call(this);this._removeNavigatorDataSource()}});c.ui.plugin(o);function p(a,b){return[{field:"Date",operator:"gte",value:a},{field:"Date",operator:"lt",value:b}]}})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.stock",["dataviz/stock/kendo-stock-chart","dataviz/stock/stock-chart"],a)})(function(){var a={id:"dataviz.stockchart",name:"StockChart",category:"dataviz",description:"StockChart widget and associated financial series.",depends:["dataviz.chart"]}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/sparkline/kendo-sparkline",["kendo.dataviz.chart"],a)})(function(){(function(){window.kendo.dataviz=window.kendo.dataviz||{};var a=kendo.dataviz;var b=a.constants;var c=a.Chart;var d=a.elementSize;var e=a.deepExtend;var f=-2;var g=a.SharedTooltip.extend({_slotAnchor:function(b,c){var d=this.plotArea.categoryAxis;var e=d.options.vertical;var g=e?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};var h;if(e){h=new a.Point(this.plotArea.box.x2,c.center().y)}else{h=new a.Point(c.center().x,f)}return{point:h,align:g}},_defaultAnchor:function(a,b){return this._slotAnchor({},b)}});var h=150;var i=150;var j=[b.BAR,b.BULLET];function k(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b[c]=d.style.display;d.style.display="none"}return b}function l(a,b){for(var c=0;c<a.length;c++){a[c].style.display=b[c]}}function m(b){return a.isNumber(b)?[b]:b}var n=c.extend({_setElementClass:function(b){a.addClass(b,"k-sparkline")},_initElement:function(a){c.fn._initElement.call(this,a);this._initialWidth=Math.floor(d(a).width)},_resize:function(){var a=this.element;var b=k(a.childNodes);this._initialWidth=Math.floor(d(a).width);l(a.childNodes,b);c.fn._resize.call(this)},_modelOptions:function(){var a=this.options;var b=this._surfaceWrap();var c=k(b.childNodes);var f=document.createElement("span");f.innerHTML="&nbsp;";b.appendChild(f);var g=e({width:this._autoWidth,height:d(b).height,transitions:a.transitions},a.chartArea,{inline:true,align:false});d(b,{width:g.width,height:g.height});b.removeChild(f);l(b.childNodes,c);this.surface.resize();return g},_surfaceWrap:function(){if(!this.stage){var a=this.stage=document.createElement("span");this.element.appendChild(a)}return this.stage},_createPlotArea:function(a){var b=c.fn._createPlotArea.call(this,a);this._autoWidth=this._initialWidth||this._calculateWidth(b);return b},_calculateWidth:function(c){var e=this.options;var f=a.getSpacing(e.chartArea.margin);var g=c.charts;var j=this._surfaceWrap();var k=0;for(var l=0;l<g.length;l++){var m=g[l];var n=(m.options.series||[])[0];if(!n){continue}if(n.type===b.BAR){return h}if(n.type===b.BULLET){return i}if(n.type===b.PIE){return d(j).height}var o=m.categoryAxis;if(o){var p=o.options.categories.length*(!m.options.isStacked&&a.inArray(n.type,[b.COLUMN,b.VERTICAL_BULLET])?m.seriesOptions.length:1);k=Math.max(k,p)}}var q=k*e.pointWidth;if(q>0){q+=f.left+f.right}return q},_createSharedTooltip:function(a){return new g(this._plotArea,a)}});n.normalizeOptions=function(b){var c=m(b);if(a.isArray(c)){c={seriesDefaults:{data:c}}}else{c=e({},c)}if(!c.series){c.series=[{data:m(c.data)}]}e(c,{seriesDefaults:{type:c.type}});if(a.inArray(c.series[0].type,j)||a.inArray(c.seriesDefaults.type,j)){c=e({},{categoryAxis:{crosshair:{visible:false}}},c)}return c};a.setDefaultOptions(n,{chartArea:{margin:2},axisDefaults:{visible:false,majorGridLines:{visible:false},valueAxis:{narrowRange:true}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:true},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:false},border:{width:0},markers:{size:2,visible:false}},tooltip:{visible:true,shared:true},categoryAxis:{crosshair:{visible:true,tooltip:{visible:false}}},legend:{visible:false},transitions:false,pointWidth:5,panes:[{clip:false}]});kendo.deepExtend(kendo.dataviz,{Sparkline:n})})()},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/sparkline/sparkline",["dataviz/sparkline/kendo-sparkline"],a)})(function(){(function(a){var b=kendo.dataviz;var c=b.ui.Chart;var d=b.Sparkline;var e=b.ChartInstanceObserver;var f=a.extend;var g=c.extend({init:function(a,b){var e=b;if(e instanceof kendo.data.ObservableArray){e={seriesDefaults:{data:e}}}c.fn.init.call(this,a,d.normalizeOptions(e))},_createChart:function(a,b){this._instance=new d(this.element[0],a,b,{observer:new e(this),sender:this,rtl:this._isRtl()})},_createTooltip:function(){return new h(this.element,f({},this.options.tooltip,{rtl:this._isRtl()}))},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:false,majorGridLines:{visible:false},valueAxis:{narrowRange:true}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:true},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:false},border:{width:0},markers:{size:2,visible:false}},tooltip:{visible:true,shared:true},categoryAxis:{crosshair:{visible:true,tooltip:{visible:false}}},legend:{visible:false},transitions:false,pointWidth:5,panes:[{clip:false}]}});b.ui.plugin(g);var h=b.Tooltip.extend({options:{animation:{duration:0}},_hideElement:function(){if(this.element){this.element.hide().remove()}}});b.SparklineTooltip=h})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.sparkline",["dataviz/sparkline/kendo-sparkline","dataviz/sparkline/sparkline"],a)})(function(){var a={id:"dataviz.sparkline",name:"Sparkline",category:"dataviz",description:"Sparkline widgets.",depends:["dataviz.chart"]}},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/location",["kendo.drawing","util/main"],a)})(function(){(function(a,b){var c=Math,d=c.abs,e=c.atan,f=c.atan2,g=c.cos,h=c.max,i=c.min,j=c.sin,k=c.tan,l=window.kendo,m=l.Class,n=l.dataviz,o=l.deepExtend,p=l.drawing.util,q=p.defined,r=p.deg,s=p.rad,t=p.round,u=p.valueOrDefault,v=l.util.sqr;var w=m.extend({init:function(a,b){if(arguments.length===1){this.lat=a[0];this.lng=a[1]}else{this.lat=a;this.lng=b}},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(a){return a&&a.lat===this.lat&&a.lng===this.lng},clone:function(){return new w(this.lat,this.lng)},round:function(a){this.lng=t(this.lng,a);this.lat=t(this.lat,a);return this},wrap:function(){this.lng=this.lng%180;this.lat=this.lat%90;return this},distanceTo:function(a,b){return this.greatCircleTo(a,b).distance},destination:function(a,b,d){b=s(b);d=d||n.map.datums.WGS84;var e=s(this.lat);var h=s(this.lng);var i=a/l.dataviz.map.datums.WGS84.a;var k=c.asin(j(e)*g(i)+g(e)*j(i)*g(b));var m=h+f(j(b)*j(i)*g(e),g(i)-j(e)*j(k));return new w(r(k),r(m))},greatCircleTo:function(a,b){a=w.create(a);b=b||n.map.datums.WGS84;if(!a||this.clone().round(8).equals(a.clone().round(8))){return{distance:0,azimuthFrom:0,azimuthTo:0}}var h=b.a;var i=b.b;var l=b.f;var m=s(a.lng-this.lng);var o=e((1-l)*k(s(this.lat)));var p=j(o);var q=g(o);var u=e((1-l)*k(s(a.lat)));var x=j(u);var y=g(u);var z=m;var A;var B=this.DISTANCE_ITERATIONS;var C=false;var D;var E;var F;var G;var H;var I;var J;while(!C&&B-- >0){D=j(z);E=g(z);F=c.sqrt(v(y*D)+v(q*x-p*y*E));H=p*x+q*y*E;J=f(F,H);var K=q*y*D/F;G=1-v(K);I=0;if(G!==0){I=H-2*p*x/G}A=z;var L=l/16*G*(4+l*(4-3*G));z=m+(1-L)*l*K*(J+L*F*(I+L*H*(-1+2*v(I))));C=d(z-A)<=this.DISTANCE_CONVERGENCE}var M=G*(v(h)-v(i))/v(i);var N=1+M/16384*(4096+M*(-768+M*(320-175*M)));var O=M/1024*(256+M*(-128+M*(74-47*M)));var P=O*F*(I+O/4*(H*(-1+2*v(I))-O/6*I*(-3+4*v(F))*(-3+4*v(I))));var Q=f(y*D,q*x-p*y*E);var R=f(q*D,-p*y+q*x*E);return{distance:t(i*N*(J-P),this.DISTANCE_PRECISION),azimuthFrom:r(Q),azimuthTo:r(R)}}});w.fn.toString=function(){return l.format(this.FORMAT,this.lat,this.lng)};w.fromLngLat=function(a){return new w(a[1],a[0])};w.fromLatLng=function(a){return new w(a[0],a[1])};w.create=function(a,b){if(q(a)){if(a instanceof w){return a.clone()}else if(arguments.length===1&&a.length===2){return w.fromLatLng(a)}else{return new w(a,b)}}};var x=m.extend({init:function(a,b){a=w.create(a);b=w.create(b);if(a.lng+180>b.lng+180&&a.lat+90<b.lat+90){this.se=a;this.nw=b}else{this.se=b;this.nw=a}},contains:function(a){var b=this.nw,c=this.se,d=u(a.lng,a[1]),e=u(a.lat,a[0]);return a&&d+180>=b.lng+180&&d+180<=c.lng+180&&e+90>=c.lat+90&&e+90<=b.lat+90},center:function(){var a=this.nw;var b=this.se;var c=a.lng+(b.lng-a.lng)/2;var d=a.lat+(b.lat-a.lat)/2;return new w(d,c)},containsAny:function(a){var b=false;for(var c=0;c<a.length;c++){b=b||this.contains(a[c])}return b},include:function(a){var b=this.nw,c=this.se,d=u(a.lng,a[1]),e=u(a.lat,a[0]);b.lng=i(b.lng,d);b.lat=h(b.lat,e);c.lng=h(c.lng,d);c.lat=i(c.lat,e)},includeAll:function(a){for(var b=0;b<a.length;b++){this.include(a[b])}},edges:function(){var a=this.nw,b=this.se;return{nw:this.nw,ne:new w(a.lat,b.lng),se:this.se,sw:new w(b.lat,a.lng)}},toArray:function(){var a=this.nw,b=this.se;return[a,new w(a.lat,b.lng),b,new w(b.lat,a.lng)]},overlaps:function(a){return this.containsAny(a.toArray())||a.containsAny(this.toArray())}});x.World=new x([90,-180],[-90,180]);x.create=function(a,b){if(a instanceof x){return a}else if(a&&b){return new x(a,b)}else if(a&&a.length===4&&!b){return new x([a[0],a[1]],[a[2],a[3]])}};o(n,{map:{Extent:x,Location:w}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/attribution",["kendo.drawing"],a)})(function(){(function(){var a=window.kendo,b=a.ui.Widget,c=a.template,d=a.drawing.util,e=d.valueOrDefault,f=d.defined;var g=b.extend({init:function(a,c){b.fn.init.call(this,a,c);this._initOptions(c);this.items=[];this.element.addClass("k-widget k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:"#= text #"},filter:function(a,b){this._extent=a;this._zoom=b;this._render()},add:function(a){if(f(a)){if(typeof a==="string"){a={text:a}}this.items.push(a);this._render()}},remove:function(a){var b=[];for(var c=0;c<this.items.length;c++){var d=this.items[c];if(d.text!==a){b.push(d)}}this.items=b;this._render()},clear:function(){this.items=[];this.element.empty()},_render:function(){var a=[];var b=c(this.options.itemTemplate);for(var d=0;d<this.items.length;d++){var e=this.items[d];var f=this._itemText(e);if(f!==""){a.push(b({text:f}))}}if(a.length>0){this.element.empty().append(a.join(this.options.separator)).show()}else{this.element.hide()}},_itemText:function(a){var b="";var c=this._inZoomLevel(a.minZoom,a.maxZoom);var d=this._inArea(a.extent);if(c&&d){b+=a.text}return b},_inZoomLevel:function(a,b){var c=true;a=e(a,-Number.MAX_VALUE);b=e(b,Number.MAX_VALUE);c=this._zoom>a&&this._zoom<b;return c},_inArea:function(a){var b=true;if(a){b=a.contains(this._extent)}return b}});a.dataviz.ui.plugin(g)})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/navigator",["kendo.core"],a)})(function(){(function(a){var b=window.kendo;var c=b.ui.Widget;var d=b.keys;var e=a.proxy;var f=".kendoNavigator";function g(a){return b.format('<button class="k-button k-navigator-{0}" aria-label="move {0}">'+'<span class="k-icon k-i-arrow-60-{0}"/>'+"</button>",a)}var h=g("up")+g("right")+g("down")+g("left");var i=c.extend({init:function(a,d){c.fn.init.call(this,a,d);this._initOptions(d);this.element.addClass("k-widget k-header k-shadow k-navigator").append(h).on("click"+f,".k-button",e(this,"_click"));var g=this.element.parent().closest("["+b.attr("role")+"]");this._keyroot=g.length>0?g:this.element;this._tabindex(this._keyroot);this._keydown=e(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(a,b){var c=this.options.panStep;this.trigger("pan",{x:a*c,y:b*c})},_click:function(b){var c=0;var d=0;var e=a(b.currentTarget);if(e.is(".k-navigator-up")){d=1}else if(e.is(".k-navigator-down")){d=-1}else if(e.is(".k-navigator-right")){c=1}else if(e.is(".k-navigator-left")){c=-1}this._pan(c,d);b.preventDefault()},_keydown:function(a){switch(a.which){case d.UP:this._pan(0,1);a.preventDefault();break;case d.DOWN:this._pan(0,-1);a.preventDefault();break;case d.RIGHT:this._pan(1,0);a.preventDefault();break;case d.LEFT:this._pan(-1,0);a.preventDefault();break}}});b.dataviz.ui.plugin(i)})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/zoom",["kendo.core"],a)})(function(){(function(a){var b=window.kendo;var c=b.ui.Widget;var d=b.keys;var e=a.proxy;function f(a,c){return b.format('<button class="k-button k-zoom-{0}" title="zoom-{0}" aria-label="zoom-{0}"><span class="k-icon {1}"></span></button>',a,c)}var g=".kendoZoomControl";var h=f("in","k-i-plus")+f("out","k-i-minus");var i=187;var j=189;var k=61;var l=173;var m=c.extend({init:function(a,d){c.fn.init.call(this,a,d);this._initOptions(d);this.element.addClass("k-widget k-zoom-control k-button-wrap k-buttons-horizontal k-button-group k-group-horizontal").append(h).on("click"+g,".k-button",e(this,"_click"));var f=this.element.parent().closest("["+b.attr("role")+"]");this._keyroot=f.length>0?f:this.element;this._tabindex(this._keyroot);this._keydown=e(this._keydown,this);this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(a){var b=this.options.zoomStep;this.trigger("change",{delta:a*b})},_click:function(b){var c=a(b.currentTarget);var d=1;if(c.is(".k-zoom-out")){d=-1}this._change(d);b.preventDefault()},_keydown:function(a){switch(a.which){case d.NUMPAD_PLUS:case i:case k:this._change(1);break;case d.NUMPAD_MINUS:case j:case l:this._change(-1);break}}});b.dataviz.ui.plugin(m)})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/crs",["dataviz/map/location","kendo.drawing"],a)})(function(){(function(a,b){var c=Math,d=c.atan,e=c.exp,f=c.pow,g=c.sin,h=c.log,i=c.tan,j=window.kendo,k=j.Class,l=j.dataviz,m=j.deepExtend,n=j.geometry,o=n.Point,p=l.map,q=p.Location,r=j.drawing.util,s=r.rad,t=r.deg,u=r.limitValue;var v=c.PI,w=v/2,x=v/4,y=v/180;var z={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149};var A=k.extend({init:function(a){this._initOptions(a)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:z},forward:function(a,b){var c=this,d=c.options,e=d.datum,f=e.a,g=d.centralMeridian,h=u(a.lat,-c.MAX_LAT,c.MAX_LAT),i=b?u(a.lng,-c.MAX_LNG,c.MAX_LNG):a.lng,j=s(i-g)*f,k=c._projectLat(h);return new o(j,k)},_projectLat:function(a){var b=this.options.datum,c=b.e,d=b.a,e=s(a),j=i(x+e/2),k=c*g(e),l=f((1-k)/(1+k),c/2);return d*h(j*l)},inverse:function(a,b){var c=this,d=c.options,e=d.datum,f=e.a,g=d.centralMeridian,h=a.x/(y*f)+g,i=u(c._inverseY(a.y),-c.MAX_LAT,c.MAX_LAT);if(b){h=u(h,-c.MAX_LNG,c.MAX_LNG)}return new q(i,h)},_inverseY:function(a){var b=this,h=b.options.datum,i=h.a,j=h.e,k=j/2,l=e(-a/i),m=w-2*d(l),n;for(n=0;n<=b.INVERSE_ITERATIONS;n++){var o=j*g(m),p=f((1-o)/(1+o),k),q=w-2*d(l*p)-m;m+=q;if(c.abs(q)<=b.INVERSE_CONVERGENCE){break}}return t(m)}});var B=A.extend({MAX_LAT:85.0511287798,_projectLat:function(a){var b=this.options.datum.a,c=s(a),d=i(x+c/2);return b*h(d)},_inverseY:function(a){var b=this.options.datum.a,c=e(-a/b);return t(w-2*d(c))}});var C=k.extend({forward:function(a){return new o(a.lng,a.lat)},inverse:function(a){return new q(a.y,a.x)}});var D=k.extend({init:function(){var a=this,b=a._proj=new B;var c=this.c=2*v*b.options.datum.a;this._tm=n.transform().translate(.5,.5).scale(1/c,-1/c);this._itm=n.transform().scale(c,-c).translate(-.5,-.5)},toPoint:function(a,b,c){var d=this._proj.forward(a,c);return d.transform(this._tm).scale(b||1)},toLocation:function(a,b,c){a=a.clone().scale(1/(b||1)).transform(this._itm);return this._proj.inverse(a,c)}});var E=k.extend({init:function(){this._proj=new A},toPoint:function(a){return this._proj.forward(a)},toLocation:function(a){return this._proj.inverse(a)}});var F=k.extend({init:function(){this._proj=new C},toPoint:function(a){return this._proj.forward(a)},toLocation:function(a){return this._proj.inverse(a)}});m(l,{map:{crs:{EPSG3395:E,EPSG3857:D,EPSG4326:F},datums:{WGS84:z},projections:{Equirectangular:C,Mercator:A,SphericalMercator:B}}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/layers/base",["kendo.core","dataviz/map/location"],a)})(function(){(function(a,b){var c=a.proxy,d=window.kendo,e=d.Class,f=d.dataviz,g=d.deepExtend,h=f.map.Extent,i=d.drawing.util,j=i.defined;var k=e.extend({init:function(b,d){this._initOptions(d);this.map=b;this.element=a("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(b.scrollElement);this._beforeReset=c(this._beforeReset,this);this._reset=c(this._reset,this);this._resize=c(this._resize,this);this._panEnd=c(this._panEnd,this);this._activate();this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset();this._activate();this._applyExtent(true)},hide:function(){this._deactivate();this._setVisibility(false)},reset:function(){this._beforeReset();this._reset()},_reset:function(){this._applyExtent()},_beforeReset:a.noop,_resize:a.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var a=this.options;var b=this.map.zoom();var c=!j(a.minZoom)||b>=a.minZoom;var d=!j(a.maxZoom)||b<=a.maxZoom;var e=h.create(a.extent);var f=!e||e.overlaps(this.map.extent());this._setVisibility(c&&d&&f)},_setVisibility:function(a){this.element.css("display",a?"":"none")},_activate:function(){var a=this.map;a.bind("beforeReset",this._beforeReset);a.bind("reset",this._reset);a.bind("resize",this._resize);a.bind("panEnd",this._panEnd)},_deactivate:function(){var a=this.map;a.unbind("beforeReset",this._beforeReset);a.unbind("reset",this._reset);a.unbind("resize",this._resize);a.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var a=this.map.attribution;if(a){a.add(this.options.attribution)}}});g(f,{map:{layers:{Layer:k}}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/layers/shape",["dataviz/map/layers/base","dataviz/map/location"],a)})(function(){(function(a,b){var c=a.proxy,d=window.kendo,e=d.Class,f=d.data.DataSource,g=d.dataviz,h=d.deepExtend,i=d.geometry,j=d.drawing,k=j.Group,l=j.util.last,m=j.util.defined,n=g.map,o=n.Location,p=n.layers.Layer;var q=p.extend({init:function(a,b){this._pan=c(this._pan,this);p.fn.init.call(this,a,b);this.surface=j.Surface.create(this.element,{width:a.scrollElement.width(),height:a.scrollElement.height()});this._initRoot();this.movable=new d.ui.Movable(this.surface.element);this._markers=[];this._click=this._handler("shapeClick");this.surface.bind("click",this._click);this._mouseenter=this._handler("shapeMouseEnter");this.surface.bind("mouseenter",this._mouseenter);this._mouseleave=this._handler("shapeMouseLeave");this.surface.bind("mouseleave",this._mouseleave);this._initDataSource()},options:{autoBind:true},destroy:function(){p.fn.destroy.call(this);this.surface.destroy();this.dataSource.unbind("change",this._dataChange)},setDataSource:function(a){if(this.dataSource){this.dataSource.unbind("change",this._dataChange)}this.dataSource=d.data.DataSource.create(a);this.dataSource.bind("change",this._dataChange);if(this.options.autoBind){this.dataSource.fetch()}},_reset:function(){p.fn._reset.call(this);this._translateSurface();if(this._data){this._load(this._data)}},_initRoot:function(){this._root=new k;this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear();this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var a=this.options.dataSource;this._dataChange=c(this._dataChange,this);this.dataSource=f.create(a).bind("change",this._dataChange);if(a&&this.options.autoBind){this.dataSource.fetch()}},_dataChange:function(a){this._data=a.sender.view();this._load(this._data)},_load:function(a){this._clearMarkers();if(!this._loader){this._loader=new r(this.map,this.options.style,this)}var b=new k;for(var c=0;c<a.length;c++){var d=this._loader.parse(a[c]);if(d){b.append(d)}}this._root.clear();this._root.append(b)},shapeCreated:function(a){var b=false;if(a instanceof j.Circle){b=m(this._createMarker(a))}if(!b){var c={layer:this,shape:a};b=this.map.trigger("shapeCreated",c)}return b},featureCreated:function(a){a.layer=this;this.map.trigger("shapeFeatureCreated",a)},_createMarker:function(a){var b=this.map.markers.bind({location:a.location},a.dataItem);if(b){this._markers.push(b)}return b},_clearMarkers:function(){for(var a=0;a<this._markers.length;a++){this.map.markers.remove(this._markers[a])}this._markers=[]},_pan:function(){if(!this._panning){this._panning=true;this.surface.suspendTracking()}},_panEnd:function(a){p.fn._panEnd.call(this,a);this._translateSurface();this.surface.resumeTracking();this._panning=false},_translateSurface:function(){var a=this.map;var b=a.locationToView(a.extent().nw);if(this.surface.translate){this.surface.translate(b);this.movable.moveTo({x:b.x,y:b.y})}},_handler:function(a){var b=this;return function(c){if(c.element){var d={layer:b,shape:c.element,originalEvent:c.originalEvent};b.map.trigger(a,d)}}},_activate:function(){p.fn._activate.call(this);this.map.bind("pan",this._pan)},_deactivate:function(){p.fn._deactivate.call(this);this.map.unbind("pan",this._pan)}});var r=e.extend({init:function(a,b,c){this.observer=c;this.locator=a;this.style=b},parse:function(a){var b=new k;var c=true;if(a.type==="Feature"){c=false;this._loadGeometryTo(b,a.geometry,a);this._featureCreated(b,a)}else{this._loadGeometryTo(b,a,a)}if(c&&b.children.length<2){b=b.children[0]}return b},_shapeCreated:function(a){var b=false;if(this.observer&&this.observer.shapeCreated){b=this.observer.shapeCreated(a)}return b},_featureCreated:function(a,b){if(this.observer&&this.observer.featureCreated){this.observer.featureCreated({group:a,dataItem:b,properties:b.properties})}},_loadGeometryTo:function(a,b,c){var d=b.coordinates;var e;var f;switch(b.type){case"LineString":f=this._loadPolygon(a,[d],c);this._setLineFill(f);break;case"MultiLineString":for(e=0;e<d.length;e++){f=this._loadPolygon(a,[d[e]],c);this._setLineFill(f)}break;case"Polygon":this._loadPolygon(a,d,c);break;case"MultiPolygon":for(e=0;e<d.length;e++){this._loadPolygon(a,d[e],c)}break;case"Point":this._loadPoint(a,d,c);break;case"MultiPoint":for(e=0;e<d.length;e++){this._loadPoint(a,d[e],c)}break}},_setLineFill:function(a){var b=a.segments;if(b.length<4||!b[0].anchor().equals(l(b).anchor())){a.options.fill=null}},_loadShape:function(a,b){if(!this._shapeCreated(b)){a.append(b)}return b},_loadPolygon:function(a,b,c){var d=this._buildPolygon(b);d.dataItem=c;return this._loadShape(a,d)},_buildPolygon:function(a){var b=a.length>1?j.MultiPath:j.Path;var c=new b(this.style);for(var d=0;d<a.length;d++){for(var e=0;e<a[d].length;e++){var f=this.locator.locationToView(o.fromLngLat(a[d][e]));if(e===0){c.moveTo(f.x,f.y)}else{c.lineTo(f.x,f.y)}}}return c},_loadPoint:function(a,b,c){var d=o.fromLngLat(b);var e=this.locator.locationToView(d);var f=new i.Circle(e,10);var g=new j.Circle(f,this.style);g.dataItem=c;g.location=d;return this._loadShape(a,g)}});h(d.data,{schemas:{geojson:{type:"json",data:function(a){if(a.type==="FeatureCollection"){return a.features}if(a.type==="GeometryCollection"){return a.geometries}return a}}},transports:{geojson:{read:{dataType:"json"}}}});h(g,{map:{layers:{shape:q,ShapeLayer:q},GeoJSONLoader:r}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/layers/bubble",["dataviz/map/layers/shape"],a)})(function(){(function(a,b){var c=window.kendo,d=c.getter,e=c.dataviz,f=c.deepExtend,g=c.geometry,h=c.drawing,i=h.util,j=i.defined,k=e.map,l=k.Location,m=k.layers.ShapeLayer;var n=m.extend({options:{autoBind:true,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(a){this.surface.clear();if(a.length===0){return}var b=this.options;var c=d(b.valueField);a=a.slice(0);a.sort(function(a,b){return c(b)-c(a)});var e=this._scaleType();var f;for(var g=0;g<a.length;g++){var h=a[g];var i=d(b.locationField)(h);var k=d(b.valueField)(h);if(j(i)&&j(k)){if(!f){f=new e([0,k],[b.minSize,b.maxSize])}i=l.create(i);var m=this.map.locationToView(i);var n=f.map(k);var o=this._createSymbol({center:m,size:n,style:b.style,dataItem:h,location:i});o.dataItem=h;o.location=i;o.value=k;this._drawSymbol(o)}}},_scaleType:function(){var a=this.options.scale;if(c.isFunction(a)){return a}return e.map.scales[a]},_createSymbol:function(a){var b=this.options.symbol;if(!c.isFunction(b)){b=e.map.symbols[b]}return b(a)},_drawSymbol:function(a){var b={layer:this,shape:a};var c=this.map.trigger("shapeCreated",b);if(!c){this.surface.draw(a)}}});var o=c.Class.extend({init:function(a,b){this._domain=a;this._range=b;var c=Math.sqrt(a[1])-Math.sqrt(a[0]);var d=b[1]-b[0];this._ratio=d/c},map:function(a){var b=(Math.sqrt(a)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+b}});var p={circle:function(a){var b=new g.Circle(a.center,a.size/2);return new h.Circle(b,a.style)},square:function(a){var b=new h.Path(a.style);var c=a.size/2;var d=a.center;b.moveTo(d.x-c,d.y-c).lineTo(d.x+c,d.y-c).lineTo(d.x+c,d.y+c).lineTo(d.x-c,d.y+c).close();return b}};f(e,{map:{layers:{bubble:n,BubbleLayer:n},scales:{sqrt:o},symbols:p}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/layers/tile",["dataviz/map/layers/base","dataviz/map/location"],a);
})(function(){(function(a,b){var c=Math,d=a.proxy,e=window.kendo,f=e.Class,g=e.template,h=e.dataviz,i=e.deepExtend,j=e.geometry,k=j.Point,l=h.map.layers.Layer,m=e.util,n=m.renderSize,o=e.drawing.util,p=o.round,q=o.limitValue;var r=l.extend({init:function(a,b){l.fn.init.call(this,a,b);if(typeof this.options.subdomains==="string"){this.options.subdomains=this.options.subdomains.split("")}var c=this._viewType();this._view=new c(this.element,this.options)},destroy:function(){l.fn.destroy.call(this);this._view.destroy();this._view=null},_beforeReset:function(){var a=this.map;var b=a.locationToLayer(a.extent().nw).round();this._view.viewOrigin(b)},_reset:function(){l.fn._reset.call(this);this._updateView();this._view.reset()},_viewType:function(){return s},_activate:function(){l.fn._activate.call(this);if(!e.support.mobileOS){if(!this._pan){this._pan=e.throttle(d(this._render,this),100)}this.map.bind("pan",this._pan)}},_deactivate:function(){l.fn._deactivate.call(this);if(this._pan){this.map.unbind("pan",this._pan)}},_updateView:function(){var a=this._view,b=this.map,c=b.extent(),d={nw:b.locationToLayer(c.nw).round(),se:b.locationToLayer(c.se).round()};a.center(b.locationToLayer(b.center()));a.extent(d);a.zoom(b.zoom())},_resize:function(){this._render()},_panEnd:function(a){l.fn._panEnd.call(this,a);this._render()},_render:function(){this._updateView();this._view.render()}});var s=f.extend({init:function(a,b){this.element=a;this._initOptions(b);this.pool=new u},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:""},center:function(a){this._center=a},extent:function(a){this._extent=a},viewOrigin:function(a){this._viewOrigin=a},zoom:function(a){this._zoom=a},pointToTileIndex:function(a){return new k(c.floor(a.x/this.options.tileSize),c.floor(a.y/this.options.tileSize))},tileCount:function(){var a=this.size(),b=this.pointToTileIndex(this._extent.nw),d=this._extent.nw,e=this.indexToPoint(b).translate(-d.x,-d.y);return{x:c.ceil((c.abs(e.x)+a.width)/this.options.tileSize),y:c.ceil((c.abs(e.y)+a.height)/this.options.tileSize)}},size:function(){var a=this._extent.nw,b=this._extent.se,c=b.clone().translate(-a.x,-a.y);return{width:c.x,height:c.y}},indexToPoint:function(a){var b=a.x,c=a.y;return new k(b*this.options.tileSize,c*this.options.tileSize)},subdomainText:function(){var a=this.options.subdomains;return a[this.subdomainIndex++%a.length]},destroy:function(){this.element.empty();this.pool.empty()},reset:function(){this.pool.reset();this.subdomainIndex=0;this.render()},render:function(){var a=this.tileCount(),b=this.pointToTileIndex(this._extent.nw),c,d,e;for(d=0;d<a.x;d++){for(e=0;e<a.y;e++){c=this.createTile({x:b.x+d,y:b.y+e});if(!c.visible){c.show()}}}},createTile:function(a){var b=this.tileOptions(a);var c=this.pool.get(this._center,b);if(c.element.parent().length===0){this.element.append(c.element)}return c},tileOptions:function(a){var b=this.wrapIndex(a),c=this.indexToPoint(a),d=this._viewOrigin,e=c.clone().translate(-d.x,-d.y);return{index:b,currentIndex:a,point:c,offset:v(e),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}},wrapIndex:function(a){var b=c.pow(2,this._zoom);return{x:this.wrapValue(a.x,b),y:q(a.y,0,b-1)}},wrapValue:function(a,b){var d=c.abs(a)%b;if(a>=0){a=d}else{a=b-(d===0?b:d)}return a}});var t=f.extend({init:function(a,b){this.id=a;this.visible=true;this._initOptions(b);this.createElement();this.show()},options:{urlTemplate:"",errorUrlTemplate:""},createElement:function(){this.element=a("<img style='position: absolute; display: block;' alt='' />").css({width:this.options.size,height:this.options.size}).on("error",d(function(a){if(this.errorUrl()){a.target.setAttribute("src",this.errorUrl())}else{a.target.removeAttribute("src")}},this))},show:function(){var a=this.element[0];a.style.top=n(this.options.offset.y);a.style.left=n(this.options.offset.x);var b=this.url();if(b){a.setAttribute("src",b)}a.style.visibility="visible";this.visible=true},hide:function(){this.element[0].style.visibility="hidden";this.visible=false},url:function(){var a=g(this.options.urlTemplate);return a(this.urlOptions())},errorUrl:function(){var a=g(this.options.errorUrlTemplate);return a(this.urlOptions())},urlOptions:function(){var a=this.options;return{zoom:a.zoom,subdomain:a.subdomain,z:a.zoom,x:a.index.x,y:a.index.y,s:a.subdomain,quadkey:a.quadkey,q:a.quadkey,culture:a.culture,c:a.culture}},destroy:function(){if(this.element){this.element.remove();this.element=null}}});var u=f.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(a,b){if(this._items.length>=this.options.maxSize){this._remove(a)}return this._create(b)},empty:function(){var a=this._items;for(var b=0;b<a.length;b++){a[b].destroy()}this._items=[]},reset:function(){var a=this._items;for(var b=0;b<a.length;b++){a[b].hide()}},_create:function(a){var b=this._items;var c;var d=m.hashKey(a.point.toString()+a.offset.toString()+a.zoom+a.urlTemplate);for(var e=0;e<b.length;e++){if(b[e].id===d){c=b[e];break}}if(c){c.show()}else{c=new t(d,a);this._items.push(c)}return c},_remove:function(a){var b=this._items;var c=-1;var d=-1;for(var e=0;e<b.length;e++){var f=b[e].options.point.distanceTo(a);if(f>c&&!b[e].visible){d=e;c=f}}if(d!==-1){b[d].destroy();b.splice(d,1)}}});function v(a){return new k(p(a.x),p(a.y))}i(h,{map:{layers:{tile:r,TileLayer:r,ImageTile:t,TilePool:u,TileView:s}}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/layers/bing",["dataviz/map/layers/tile"],a)})(function(){(function(a,b){var c=window.kendo,d=c.dataviz,e=c.deepExtend,f=c.drawing.util.defined,g=d.map.Extent,h=d.map.Location,i=d.map.layers.TileLayer,j=d.map.layers.TileView;var k=i.extend({init:function(b,c){this.options.baseUrl=this._scheme()+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/";i.fn.init.call(this,b,c);this._onMetadata=a.proxy(this._onMetadata,this);this._fetchMetadata()},options:{imagerySet:"road"},_fetchMetadata:function(){var b=this.options;if(!b.key){throw new Error("Bing tile layer: API key is required")}a.ajax({url:b.baseUrl+b.imagerySet,data:{output:"json",include:"ImageryProviders",key:b.key,uriScheme:this._scheme()},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(a){a=a||window.location.protocol;return a.replace(":","")==="https"?"https":"http"},_onMetadata:function(a){if(a&&a.resourceSets.length){var b=this.resource=a.resourceSets[0].resources[0];e(this._view.options,{urlTemplate:b.imageUrl.replace("{subdomain}","#= subdomain #").replace("{quadkey}","#= quadkey #").replace("{culture}","#= culture #"),subdomains:b.imageUrlSubdomains});var c=this.options;if(!f(c.minZoom)){c.minZoom=b.zoomMin}if(!f(c.maxZoom)){c.maxZoom=b.zoomMax}this._addAttribution();if(this.element.css("display")!=="none"){this._reset()}}},_viewType:function(){return l},_addAttribution:function(){var a=this.map.attribution;if(a){var b=this.resource.imageryProviders;if(b){for(var c=0;c<b.length;c++){var d=b[c];for(var e=0;e<d.coverageAreas.length;e++){var f=d.coverageAreas[e];a.add({text:d.attribution,minZoom:f.zoomMin,maxZoom:f.zoomMax,extent:new g(new h(f.bbox[2],f.bbox[1]),new h(f.bbox[0],f.bbox[3]))})}}}}},imagerySet:function(a){if(a){this.options.imagerySet=a;this.map.attribution.clear();this._fetchMetadata()}else{return this.options.imagerySet}}});var l=j.extend({options:{culture:"en-US"},tileOptions:function(a){var b=j.fn.tileOptions.call(this,a);b.culture=this.options.culture;b.quadkey=this.tileQuadKey(this.wrapIndex(a));return b},tileQuadKey:function(a){var b="",c,d,e;for(e=this._zoom;e>0;e--){c=0;d=1<<e-1;if((a.x&d)!==0){c++}if((a.y&d)!==0){c+=2}b+=c}return b}});e(d,{map:{layers:{bing:k,BingLayer:k,BingView:l}}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/layers/marker",["dataviz/map/layers/base","dataviz/map/location","kendo.data","kendo.tooltip"],a)})(function(){(function(a,b){var c=document,d=Math,e=a.inArray,f=a.proxy,g=window.kendo,h=g.Class,i=g.data.DataSource,j=g.ui.Tooltip,k=g.dataviz,l=g.deepExtend,m=k.map,n=m.Location,o=m.layers.Layer;var p=o.extend({init:function(a,b){o.fn.init.call(this,a,b);this._markerClick=f(this._markerClick,this);this.element.on("click",".k-marker",this._markerClick);this.items=[];this._initDataSource()},destroy:function(){o.fn.destroy.call(this);this.element.off("click",".k-marker",this._markerClick);this.dataSource.unbind("change",this._dataChange);this.clear()},options:{zIndex:1e3,autoBind:true,dataSource:{},locationField:"location",titleField:"title"},add:function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++){this._addOne(b[c])}}else{return this._addOne(b)}},remove:function(a){a.destroy();var b=e(a,this.items);if(b>-1){this.items.splice(b,1)}},clear:function(){for(var a=0;a<this.items.length;a++){this.items[a].destroy()}this.items=[]},update:function(a){var b=a.location();if(b){a.showAt(this.map.locationToView(b));var c={marker:a,layer:this};this.map.trigger("markerActivate",c)}},_reset:function(){o.fn._reset.call(this);var a=this.items;for(var b=0;b<a.length;b++){this.update(a[b])}},bind:function(a,b){var c=m.Marker.create(a,this.options);c.dataItem=b;var d={marker:c,layer:this};var e=this.map.trigger("markerCreated",d);if(!e){this.add(c);return c}},setDataSource:function(a){if(this.dataSource){this.dataSource.unbind("change",this._dataChange)}this.dataSource=g.data.DataSource.create(a);this.dataSource.bind("change",this._dataChange);if(this.options.autoBind){this.dataSource.fetch()}},_addOne:function(a){var b=q.create(a,this.options);b.addTo(this);return b},_initDataSource:function(){var a=this.options.dataSource;this._dataChange=f(this._dataChange,this);this.dataSource=i.create(a).bind("change",this._dataChange);if(a&&this.options.autoBind){this.dataSource.fetch()}},_dataChange:function(a){this._load(a.sender.view())},_load:function(a){this._data=a;this.clear();var b=g.getter(this.options.locationField);var c=g.getter(this.options.titleField);for(var d=0;d<a.length;d++){var e=a[d];this.bind({location:b(e),title:c(e)},e)}},_markerClick:function(b){var c={marker:a(b.target).data("kendoMarker"),layer:this};this.map.trigger("markerClick",c)}});var q=h.extend({init:function(a){this.options=a||{}},addTo:function(a){this.layer=a.markers||a;this.layer.items.push(this);this.layer.update(this)},location:function(a){if(a){this.options.location=n.create(a).toArray();if(this.layer){this.layer.update(this)}return this}else{return n.create(this.options.location)}},showAt:function(a){this.render();this.element.css({left:d.round(a.x),top:d.round(a.y)});if(this.tooltip&&this.tooltip.popup){this.tooltip.popup._position()}},hide:function(){if(this.element){this.element.remove();this.element=null}if(this.tooltip){this.tooltip.destroy();this.tooltip=null}},destroy:function(){this.layer=null;this.hide()},render:function(){if(!this.element){var b=this.options;var d=this.layer;this.element=a(c.createElement("span")).addClass("k-marker k-icon k-i-marker-"+g.toHyphens(b.shape||"pin")).attr("title",b.title).attr(b.attributes||{}).data("kendoMarker",this).css("zIndex",b.zIndex);if(d){d.element.append(this.element)}this.renderTooltip()}},renderTooltip:function(){var a=this;var b=a.options.title;var c=a.options.tooltip||{};if(c&&j){var d=c.template;if(d){var e=g.template(d);c.content=function(b){b.location=a.location();b.marker=a;return e(b)}}if(b||c.content||c.contentUrl){this.tooltip=new j(this.element,c);this.tooltip.marker=this}}}});q.create=function(a,b){if(a instanceof q){return a}return new q(l({},b,a))};l(k,{map:{layers:{marker:p,MarkerLayer:p},Marker:q}})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/map/main",["dataviz/map/crs","dataviz/map/location"],a)})(function(){(function(a,b){var c=document,d=Math,e=d.min,f=d.pow,g=a.proxy,h=window.kendo,i=h.ui.Widget,j=h.deepExtend,k=h.dataviz,l=k.ui,m=h.geometry,n=m.Point,o=k.map,p=o.Extent,q=o.Location,r=o.crs.EPSG3857,s=h.util,t=s.renderPos,u=h.drawing.util,v=u.defined,w=u.limitValue,x=u.valueOrDefault;var y="k-",z=.9,A=.93,B="DOMMouseScroll mousewheel",C=5;var D=i.extend({init:function(a,b){h.destroy(a);i.fn.init.call(this,a);this._initOptions(b);this.bind(this.events,b);this.crs=new r;this.element.addClass(y+this.options.name.toLowerCase()).css("position","relative").empty().append(c.createElement("div"));this._viewOrigin=this._getOrigin();this._initScroller();this._initMarkers();this._initControls();this._initLayers();this._reset();this._mousewheel=g(this._mousewheel,this);this.element.bind("click",g(this._click,this));this.element.bind(B,this._mousewheel)},options:{name:"Map",controls:{attribution:true,navigator:{panStep:100},zoom:true},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:true},events:["beforeReset","click","markerActivate","markerClick","markerCreated","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"],destroy:function(){this.scroller.destroy();if(this.navigator){this.navigator.destroy()}if(this.attribution){this.attribution.destroy()}if(this.zoomControl){this.zoomControl.destroy()}this.markers.destroy();for(var a=0;a<this.layers.length;a++){this.layers[a].destroy()}i.fn.destroy.call(this)},zoom:function(a){var b=this.options;if(v(a)){a=d.round(w(a,b.minZoom,b.maxZoom));if(b.zoom!==a){b.zoom=a;this._reset()}return this}else{return b.zoom}},center:function(a){if(a){this.options.center=q.create(a).toArray();this._reset();return this}else{return q.create(this.options.center)}},extent:function(a){if(a){this._setExtent(a);return this}else{return this._getExtent()}},setOptions:function(a){i.fn.setOptions.call(this,a);this._reset()},locationToLayer:function(a,b){var c=!this.options.wraparound;a=q.create(a);return this.crs.toPoint(a,this._layerSize(b),c)},layerToLocation:function(a,b){var c=!this.options.wraparound;a=n.create(a);return this.crs.toLocation(a,this._layerSize(b),c)},locationToView:function(a){a=q.create(a);var b=this.locationToLayer(this._viewOrigin);var c=this.locationToLayer(a);return c.translateWith(b.scale(-1))},viewToLocation:function(a,b){var c=this.locationToLayer(this._getOrigin(),b);a=n.create(a);a=a.clone().translateWith(c);return this.layerToLocation(a,b)},eventOffset:function(a){var b=this.element.offset();var c=a.originalEvent||a;var d=x(c.pageX,c.clientX)-b.left;var e=x(c.pageY,c.clientY)-b.top;return new m.Point(d,e)},eventToView:function(a){var b=this.eventOffset(a);return this.locationToView(this.viewToLocation(b))},eventToLayer:function(a){return this.locationToLayer(this.eventToLocation(a))},eventToLocation:function(a){var b=this.eventOffset(a);return this.viewToLocation(b)},viewSize:function(){var a=this.element;var b=this._layerSize();var c=a.width();if(!this.options.wraparound){c=e(b,c)}return{width:c,height:e(b,a.height())}},exportVisual:function(){this._reset();return false},_setOrigin:function(a,b){var c=this.viewSize(),d;a=this._origin=q.create(a);d=this.locationToLayer(a,b);d.x+=c.width/2;d.y+=c.height/2;this.options.center=this.layerToLocation(d,b).toArray();return this},_getOrigin:function(a){var b=this.viewSize(),c;if(a||!this._origin){c=this.locationToLayer(this.center());c.x-=b.width/2;c.y-=b.height/2;this._origin=this.layerToLocation(c)}return this._origin},_setExtent:function(a){var b=p.create(a);var c=b.se.clone();if(this.options.wraparound&&c.lng<0&&a.nw.lng>0){c.lng=180+(180+c.lng)}a=new p(b.nw,c);this.center(a.center());var e=this.element.width();var f=this.element.height();for(var g=this.options.maxZoom;g>=this.options.minZoom;g--){var h=this.locationToLayer(a.nw,g);var i=this.locationToLayer(a.se,g);var j=d.abs(i.x-h.x);var k=d.abs(i.y-h.y);if(j<=e&&k<=f){break}}this.zoom(g)},_getExtent:function(){var a=this._getOrigin();var b=this.locationToLayer(a);var c=this.viewSize();b.x+=c.width;b.y+=c.height;var d=this.layerToLocation(b);return new p(a,d)},_zoomAround:function(a,b){this._setOrigin(this.layerToLocation(a,b),b);this.zoom(b)},_initControls:function(){var a=this.options.controls;if(l.Attribution&&a.attribution){this._createAttribution(a.attribution)}if(!h.support.mobileOS){if(l.Navigator&&a.navigator){this._createNavigator(a.navigator)}if(l.ZoomControl&&a.zoom){this._createZoomControl(a.zoom)}}},_createControlElement:function(b,c){var d=b.position||c;var e="."+t(d).replace(" ",".");var f=a(".k-map-controls"+e,this.element);if(f.length===0){f=a("<div>").addClass("k-map-controls "+t(d)).appendTo(this.element)}return a("<div>").appendTo(f)},_createAttribution:function(a){var b=this._createControlElement(a,"bottomRight");this.attribution=new l.Attribution(b,a)},_createNavigator:function(a){var b=this._createControlElement(a,"topLeft");var c=this.navigator=new l.Navigator(b,a);this._navigatorPan=g(this._navigatorPan,this);c.bind("pan",this._navigatorPan);this._navigatorCenter=g(this._navigatorCenter,this);c.bind("center",this._navigatorCenter)},_navigatorPan:function(a){var b=this;var c=b.scroller;var d=c.scrollLeft+a.x;var e=c.scrollTop-a.y;var f=this._virtualSize;var g=this.element.height();var h=this.element.width();d=w(d,f.x.min,f.x.max-h);e=w(e,f.y.min,f.y.max-g);b.scroller.one("scroll",function(a){b._scrollEnd(a)});b.scroller.scrollTo(-d,-e)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(a){var b=this._createControlElement(a,"topLeft");var c=this.zoomControl=new l.ZoomControl(b,a);this._zoomControlChange=g(this._zoomControlChange,this);c.bind("change",this._zoomControlChange)},_zoomControlChange:function(a){if(!this.trigger("zoomStart",{originalEvent:a})){this.zoom(this.zoom()+a.delta);this.trigger("zoomEnd",{originalEvent:a})}},_initScroller:function(){var a=h.support.mobileOS?A:z;var b=this.options.zoomable!==false;var c=this.scroller=new h.mobile.ui.Scroller(this.element.children(0),{friction:a,velocityMultiplier:C,zoom:b,mousewheelScrolling:false});c.bind("scroll",g(this._scroll,this));c.bind("scrollEnd",g(this._scrollEnd,this));c.userEvents.bind("gesturestart",g(this._scaleStart,this));c.userEvents.bind("gestureend",g(this._scale,this));this.scrollElement=c.scrollElement},_initLayers:function(){var a=this.options.layers,b=this.layers=[];for(var c=0;c<a.length;c++){var d=a[c];var e=d.type||"shape";var f=this.options.layerDefaults[e];var g=k.map.layers[e];b.push(new g(this,j({},f,d)))}},_initMarkers:function(){this.markers=new o.layers.MarkerLayer(this,this.options.markerDefaults);this.markers.add(this.options.markers)},_scroll:function(a){var b=this.locationToLayer(this._viewOrigin).round();var c=a.sender.movable;var d=new m.Point(c.x,c.y).scale(-1).scale(1/c.scale);b.x+=d.x;b.y+=d.y;this._scrollOffset=d;this._setOrigin(this.layerToLocation(b));this.trigger("pan",{originalEvent:a,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(a){if(!this._scrollOffset||!this._panComplete()){return}this._scrollOffset=null;this._panEndTS=new Date;this.trigger("panEnd",{originalEvent:a,origin:this._getOrigin(),center:this.center()})},_panComplete:function(){return new Date-(this._panEndTS||0)>50},_scaleStart:function(a){if(this.trigger("zoomStart",{originalEvent:a})){var b=a.touches[1];if(b){b.cancel()}}},_scale:function(a){var b=this.scroller.movable.scale;var c=this._scaleToZoom(b);var d=new m.Point(a.center.x,a.center.y);var e=this.viewToLocation(d,c);var f=this.locationToLayer(e,c);var g=f.translate(-d.x,-d.y);this._zoomAround(g,c);this.trigger("zoomEnd",{originalEvent:a})},_scaleToZoom:function(a){var b=this._layerSize()*a;var c=b/this.options.minSize;var e=d.log(c)/d.log(2);return d.round(e)},_reset:function(){if(this.attribution){this.attribution.filter(this.center(),this.zoom())}this._viewOrigin=this._getOrigin(true);this._resetScroller();this.trigger("beforeReset");this.trigger("reset")},_resetScroller:function(){var a=this.scroller;var b=a.dimensions.x;var c=a.dimensions.y;var d=this._layerSize();var e=this.extent().nw;var g=this.locationToLayer(e).round();a.movable.round=true;a.reset();a.userEvents.cancel();var h=this.zoom();a.dimensions.forcedMinScale=f(2,this.options.minZoom-h);a.dimensions.maxScale=f(2,this.options.maxZoom-h);var i={min:-g.x,max:d-g.x};var j={min:-g.y,max:d-g.y};if(this.options.wraparound){i.max=20*d;i.min=-i.max}if(this.options.pannable===false){var k=this.viewSize();i.min=j.min=0;i.max=k.width;j.max=k.height}b.makeVirtual();c.makeVirtual();b.virtualSize(i.min,i.max);c.virtualSize(j.min,j.max);this._virtualSize={x:i,y:j}},_renderLayers:function(){var a=this.options.layers,b=this.layers=[],c=this.scrollWrap;c.empty();for(var d=0;d<a.length;d++){var e=a[d];var f=e.type||"shape";var g=this.options.layerDefaults[f];var h=k.map.layers[f];b.push(new h(this,j({},g,e)))}},_layerSize:function(a){a=x(a,this.options.zoom);return this.options.minSize*f(2,a)},_click:function(a){if(!this._panComplete()){return}var b=this.eventOffset(a);this.trigger("click",{originalEvent:a,location:this.viewToLocation(b)})},_mousewheel:function(a){a.preventDefault();var b=k.mwDelta(a)>0?-1:1;var c=this.options;var d=this.zoom();var e=w(d+b,c.minZoom,c.maxZoom);if(c.zoomable!==false&&e!==d){if(!this.trigger("zoomStart",{originalEvent:a})){var f=this.eventOffset(a);var g=this.viewToLocation(f);var h=this.locationToLayer(g,e);var i=h.translate(-f.x,-f.y);this._zoomAround(i,e);this.trigger("zoomEnd",{originalEvent:a})}}}});k.ui.plugin(D)})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.map",["kendo.data","kendo.userevents","kendo.tooltip","kendo.mobile.scroller","kendo.draganddrop","kendo.dataviz.core","dataviz/map/location","dataviz/map/attribution","dataviz/map/navigator","dataviz/map/zoom","dataviz/map/crs","dataviz/map/layers/base","dataviz/map/layers/shape","dataviz/map/layers/bubble","dataviz/map/layers/tile","dataviz/map/layers/bing","dataviz/map/layers/marker","dataviz/map/main"],a)})(function(){var a={id:"dataviz.map",name:"Map",category:"dataviz",description:"The Kendo DataViz Map displays spatial data",depends:["data","userevents","tooltip","dataviz.core","drawing","mobile.scroller"]};return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/diagram/utils",["kendo.core"],a)})(function(){(function(a,b){var c=window.kendo,d=c.dataviz.diagram={},e=c.deepExtend,f=a.isArray,g=1e-6;var h={};e(h,{isNearZero:function(a){return Math.abs(a)<g},isDefined:function(a){return typeof a!=="undefined"},isUndefined:function(a){return typeof a==="undefined"||a===null},isObject:function(a){return a===Object(a)},has:function(a,b){return Object.hasOwnProperty.call(a,b)},isString:function(a){return Object.prototype.toString.call(a)=="[object String]"},isBoolean:function(a){return Object.prototype.toString.call(a)=="[object Boolean]"},isType:function(a,b){return Object.prototype.toString.call(a)=="[object "+b+"]"},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isEmpty:function(a){if(a===null){return true}if(f(a)||h.isString(a)){return a.length===0}for(var b in a){if(h.has(a,b)){return false}}return true},simpleExtend:function(a,b){if(!h.isObject(b)){return}for(var c in b){a[c]=b[c]}},initArray:function a(b,c){var d=[];for(var e=0;e<b;++e){d[e]=c}return d},serializePoints:function(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b.push(d.x+";"+d.y)}return b.join(";")},deserializePoints:function(a){var b=a.split(";"),c=[];if(b.length%2!==0){throw"Not an array of points."}for(var e=0;e<b.length;e+=2){c.push(new d.Point(parseInt(b[e],10),parseInt(b[e+1],10)))}return c},randomInteger:function(a,b){return parseInt(Math.floor(Math.random()*b)+a,10)},DFT:function(a,b){b(a);if(a.childNodes){for(var c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];this.DFT(d,b)}}},getMatrixAngle:function(a){if(a===null||a.d===0){return 0}return Math.atan2(a.b,a.d)*180/Math.PI},getMatrixScaling:function(a){var b=Math.sqrt(a.a*a.a+a.c*a.c);var c=Math.sqrt(a.b*a.b+a.d*a.d);return[b,c]}});function i(a,b,c){if(typeof a=="undefined"||typeof b=="undefined"){return[]}if(c&&h.sign(b-a)!=h.sign(c)){throw"The sign of the increment should allow to reach the stop-value."}c=c||1;a=a||0;b=b||a;if((b-a)/c===Infinity){throw"Infinite range defined."}var d=[],e=-1,f;function g(a){var b=1;while(a*b%1){b*=10}return b}var i=g(Math.abs(c));a*=i;b*=i;c*=i;if(a>b&&c>0){c=-c}if(c<0){while((f=a+c*++e)>=b){d.push(f/i)}}else{while((f=a+c*++e)<=b){d.push(f/i)}}return d}function j(a,b){if(a==b){return 0}var c=b.x-a.x,d=a.y-b.y,e=Math.atan(c/d);if(d>=0){return c<0?e+2*Math.PI:e}return e+Math.PI}h.sign=function(a){return a?a<0?-1:1:0};h.findAngle=function(a,b){return j(a,b)*180/Math.PI};h.forEach=function(a,b,c){for(var d=0;d<a.length;d++){b.call(c,a[d],d,a)}};h.any=function(a,b){for(var c=0;c<a.length;++c){if(b(a[c])){return a[c]}}return null};h.remove=function(a,b){var c;while((c=h.indexOf(a,b))!==-1){a.splice(c,1)}return a};h.contains=function(a,b){return h.indexOf(a,b)!==-1};h.indexOf=function(b,c){return a.inArray(c,b)};h.fold=function(a,b,c,d){var e=arguments.length>2;for(var f=0;f<a.length;f++){var g=a[f];if(!e){c=g;e=true}else{c=b.call(d,c,g,f,a)}}if(!e){throw"Reduce of empty array with no initial value"}return c};h.find=function(a,b,c){var d;h.any(a,function(a,e,f){if(b.call(c,a,e,f)){d=a;return true}return false});return d};h.first=function(a,b,c){if(a.length===0){return null}if(h.isUndefined(b)){return a[0]}return h.find(a,b,c)};h.insert=function(a,b,c){a.splice(c,0,b);return a};h.all=function(a,b,c){var d=true;var e;for(var f=0;f<a.length;f++){e=a[f];d=d&&b.call(c,e,f,a);if(!d){break}}return d};h.clear=function(a){a.splice(0,a.length)};h.bisort=function(a,b,c){if(h.isUndefined(a)){throw"First array is not specified."}if(h.isUndefined(b)){throw"Second array is not specified."}if(a.length!=b.length){throw"The two arrays should have equal length"}var d=[],e;for(e=0;e<a.length;e++){d.push({x:a[e],y:b[e]})}if(h.isUndefined(c)){d.sort(function(a,b){return a.x-b.x})}else{d.sort(function(a,b){return c(a.x,b.x)})}h.clear(a);h.clear(b);for(e=0;e<d.length;e++){a.push(d[e].x);b.push(d[e].y)}};h.addRange=function(a,b){a.push.apply(a,b)};var k={easeInOut:function(a){return-Math.cos(a*Math.PI)/2+.5}};var l=c.Class.extend({init:function(){this.adapters=[];this.target=0;this.tick=0;this.interval=20;this.duration=800;this.lastTime=null;this.handlers=[];var a=this;this.transition=k.easeInOut;this.timerDelegate=function(){a.onTimerEvent()}},addAdapter:function(a){this.adapters.push(a)},onComplete:function(a){this.handlers.push(a)},removeHandler:function(b){this.handlers=a.grep(this.handlers,function(a){return a!==b})},trigger:function(){var a=this;if(this.handlers){h.forEach(this.handlers,function(b){return b.call(a.caller!==null?a.caller:a)})}},onStep:function(){},seekTo:function(a){this.seekFromTo(this.tick,a)},seekFromTo:function(a,b){this.target=Math.max(0,Math.min(1,b));this.tick=Math.max(0,Math.min(1,a));this.lastTime=(new Date).getTime();if(!this.intervalId){this.intervalId=window.setInterval(this.timerDelegate,this.interval)}},stop:function(){if(this.intervalId){window.clearInterval(this.intervalId);this.intervalId=null;this.trigger()}},play:function(a){if(this.adapters.length===0){return}if(a!==null){this.caller=a}this.initState();this.seekFromTo(0,1)},reverse:function(){this.seekFromTo(1,0)},initState:function(){if(this.adapters.length===0){return}for(var a=0;a<this.adapters.length;a++){this.adapters[a].initState()}},propagate:function(){var a=this.transition(this.tick);for(var b=0;b<this.adapters.length;b++){this.adapters[b].update(a)}},onTimerEvent:function(){var a=(new Date).getTime();var b=a-this.lastTime;this.lastTime=a;var c=b/this.duration*(this.tick<this.target?1:-1);if(Math.abs(c)>=Math.abs(this.tick-this.target)){this.tick=this.target}else{this.tick+=c}try{this.propagate()}finally{this.onStep.call(this);if(this.target==this.tick){this.stop()}}}});c.deepExtend(d,{init:function(a){c.init(a,d.ui)},Utils:h,Range:i,Ticker:l})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/diagram/math",["dataviz/diagram/utils","kendo.dataviz.core"],a)})(function(){(function(a,b){var c=window.kendo,d=c.dataviz.diagram,e=c.Class,f=c.deepExtend,g=c.dataviz,h=d.Utils,i=g.Point2D,j=c.isFunction,k=h.contains,l=a.map;var m=3,n=1e-6;f(i.fn,{plus:function(a){return new i(this.x+a.x,this.y+a.y)},minus:function(a){return new i(this.x-a.x,this.y-a.y)},offset:function(a){return new i(this.x-a,this.y-a)},times:function(a){return new i(this.x*a,this.y*a)},normalize:function(){if(this.length()===0){return new i}return this.times(1/this.length())},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},toString:function(){return"("+this.x+","+this.y+")"},lengthSquared:function(){return this.x*this.x+this.y*this.y},middleOf:function a(b,c){return new i(c.x-b.x,c.y-b.y).times(.5).plus(b)},toPolar:function(a){var b=1;if(a){b=180/Math.PI}var c=Math.atan2(Math.abs(this.y),Math.abs(this.x));var d=Math.PI/2;var e=this.length();if(this.x===0){if(this.y===0){return new v(0,0)}if(this.y>0){return new v(e,b*d)}if(this.y<0){return new v(e,b*3*d)}}else if(this.x>0){if(this.y===0){return new v(e,0)}if(this.y>0){return new v(e,b*c)}if(this.y<0){return new v(e,b*(4*d-c))}}else{if(this.y===0){return new v(e,2*d)}if(this.y>0){return new v(e,b*(2*d-c))}if(this.y<0){return new v(e,b*(2*d+c))}}},isOnLine:function(a,b){if(a.x>b.x){var c=b;b=a;a=c}var d=new p(a.x,a.y).inflate(m,m),e=new p(b.x,b.y).inflate(m,m),f,g;if(d.union(e).contains(this)){if(a.x===b.x||a.y===b.y){return true}else if(a.y<b.y){f=d.x+(e.x-d.x)*(this.y-(d.y+d.height))/(e.y+e.height-(d.y+d.height));g=d.x+d.width+(e.x+e.width-(d.x+d.width))*(this.y-d.y)/(e.y-d.y)}else{f=d.x+(e.x-d.x)*(this.y-d.y)/(e.y-d.y);g=d.x+d.width+(e.x+e.width-(d.x+d.width))*(this.y-(d.y+d.height))/(e.y+e.height-(d.y+d.height))}return this.x>f&&this.x<g}return false}});f(i,{parse:function(a){var b=a.slice(1,a.length-1),c=b.split(","),d=parseInt(c[0],10),e=parseInt(c[1],10);if(!isNaN(d)&&!isNaN(e)){return new i(d,e)}}});var o=e.extend({init:function(a,b,c){this.point=a;this.left=b;this.right=c}});var p=e.extend({init:function(a,b,c,d){this.x=a||0;this.y=b||0;this.width=c||0;this.height=d||0},contains:function(a){return a.x>=this.x&&a.x<=this.x+this.width&&a.y>=this.y&&a.y<=this.y+this.height},inflate:function(a,c){if(c===b){c=a}this.x-=a;this.y-=c;this.width+=2*a+1;this.height+=2*c+1;return this},offset:function(a,b){var c=a,d=b;if(a instanceof i){c=a.x;d=a.y}this.x+=c;this.y+=d;return this},union:function(a){var b=Math.min(this.x,a.x);var c=Math.min(this.y,a.y);var d=Math.max(this.x+this.width,a.x+a.width);var e=Math.max(this.y+this.height,a.y+a.height);return new p(b,c,d-b,e-c)},center:function(){return new i(this.x+this.width/2,this.y+this.height/2)},top:function(){return new i(this.x+this.width/2,this.y)},right:function(){return new i(this.x+this.width,this.y+this.height/2)},bottom:function(){return new i(this.x+this.width/2,this.y+this.height)},left:function(){return new i(this.x,this.y+this.height/2)},topLeft:function(){return new i(this.x,this.y)},topRight:function(){return new i(this.x+this.width,this.y)},bottomLeft:function(){return new i(this.x,this.y+this.height)},bottomRight:function(){return new i(this.x+this.width,this.y+this.height)},clone:function(){return new p(this.x,this.y,this.width,this.height)},isEmpty:function(){return!this.width&&!this.height},equals:function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height;
},rotatedBounds:function(a){var b=this.clone(),c=this.rotatedPoints(a),d=c[0],e=c[1],f=c[2],g=c[3];b.x=Math.min(f.x,d.x,e.x,g.x);b.y=Math.min(f.y,d.y,e.y,g.y);b.width=Math.max(f.x,d.x,e.x,g.x)-b.x;b.height=Math.max(f.y,d.y,e.y,g.y)-b.y;return b},rotatedPoints:function(a){var b=this,c=b.center(),d=b.bottomRight().rotate(c,360-a),e=b.topLeft().rotate(c,360-a),f=b.topRight().rotate(c,360-a),g=b.bottomLeft().rotate(c,360-a);return[e,f,d,g]},toString:function(a){a=a||" ";return this.x+a+this.y+a+this.width+a+this.height},scale:function(a,b,c,d,e){var f=this.topLeft();var g=this.center();f.rotate(g,360-e).rotate(d,e);var h=c.minus(f);var j=new i(h.x*a,h.y*b);var k=h.minus(j);f=f.plus(k);f.rotate(d,360-e).rotate(g,e);this.x=f.x;this.y=f.y;this.width*=a;this.height*=b},zoom:function(a){this.x*=a;this.y*=a;this.width*=a;this.height*=a;return this},overlaps:function(a){var b=this.bottomRight();var c=a.bottomRight();var d=!(b.x<a.x||b.y<a.y||c.x<this.x||c.y<this.y);return d}});var q=e.extend({init:function(a,b){this.width=a;this.height=b}});q.prototype.Empty=new q(0,0);p.toRect=function(a){if(!(a instanceof p)){a=new p(a.x,a.y,a.width,a.height)}return a};p.empty=function(){return new p(0,0,0,0)};p.fromPoints=function(a,b){if(isNaN(a.x)||isNaN(a.y)||isNaN(b.x)||isNaN(b.y)){throw"Some values are NaN."}return new p(Math.min(a.x,b.x),Math.min(a.y,b.y),Math.abs(a.x-b.x),Math.abs(a.y-b.y))};function r(a){return Math.abs(a)<n}function s(a,b,c,d,e){var f=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);if(r(f)){return}var g=(a.y-c.y)*(d.x-c.x)-(a.x-c.x)*(d.y-c.y);var h=(a.y-c.y)*(b.x-a.x)-(a.x-c.x)*(b.y-a.y);var j=g/f;var k=h/f;if(e&&(j<0||j>1||k<0||k>1)){return}return new i(a.x+j*(b.x-a.x),a.y+j*(b.y-a.y))}var t={lines:function(a,b,c,d){return s(a,b,c,d)},segments:function(a,b,c,d){return s(a,b,c,d,true)},rectWithLine:function(a,b,c){return t.segments(b,c,a.topLeft(),a.topRight())||t.segments(b,c,a.topRight(),a.bottomRight())||t.segments(b,c,a.bottomLeft(),a.bottomRight())||t.segments(b,c,a.topLeft(),a.bottomLeft())},rects:function(a,b,c){var d=b.topLeft(),e=b.topRight(),f=b.bottomLeft(),g=b.bottomRight();var h=b.center();if(c){d=d.rotate(h,c);e=e.rotate(h,c);f=f.rotate(h,c);g=g.rotate(h,c)}var i=a.contains(d)||a.contains(e)||a.contains(f)||a.contains(g)||t.rectWithLine(a,d,e)||t.rectWithLine(a,d,f)||t.rectWithLine(a,e,g)||t.rectWithLine(a,f,g);if(!i){d=a.topLeft();e=a.topRight();f=a.bottomLeft();g=a.bottomRight();if(c){var j=360-c;d=d.rotate(h,j);e=e.rotate(h,j);f=f.rotate(h,j);g=g.rotate(h,j)}i=b.contains(d)||b.contains(e)||b.contains(f)||b.contains(g)}return i}};var u=e.extend({init:function(a){this.container=p.toRect(a)},align:function(a,b){var c=b.toLowerCase().split(" ");for(var d=0;d<c.length;d++){a=this._singleAlign(a,c[d])}return a},_singleAlign:function(a,b){if(j(this[b])){return this[b](a)}else{return a}},left:function(a){return this._align(a,this._left)},center:function(a){return this._align(a,this._center)},right:function(a){return this._align(a,this._right)},stretch:function(a){return this._align(a,this._stretch)},top:function(a){return this._align(a,this._top)},middle:function(a){return this._align(a,this._middle)},bottom:function(a){return this._align(a,this._bottom)},_left:function(a,b){b.x=a.x},_center:function(a,b){b.x=(a.width-b.width)/2||0},_right:function(a,b){b.x=a.width-b.width},_top:function(a,b){b.y=a.y},_middle:function(a,b){b.y=(a.height-b.height)/2||0},_bottom:function(a,b){b.y=a.height-b.height},_stretch:function(a,b){b.x=0;b.y=0;b.height=a.height;b.width=a.width},_align:function(a,b){a=p.toRect(a);b(this.container,a);return a}});var v=e.extend({init:function(a,b){this.r=a;this.angle=b}});var w=e.extend({init:function(a,b,c,d,e,f){this.a=a||0;this.b=b||0;this.c=c||0;this.d=d||0;this.e=e||0;this.f=f||0},plus:function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.d+=a.d;this.e+=a.e;this.f+=a.f},minus:function(a){this.a-=a.a;this.b-=a.b;this.c-=a.c;this.d-=a.d;this.e-=a.e;this.f-=a.f},times:function(a){return new w(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.e+this.c*a.f+this.e,this.b*a.e+this.d*a.f+this.f)},apply:function(a){return new i(this.a*a.x+this.c*a.y+this.e,this.b*a.x+this.d*a.y+this.f)},applyRect:function(a){return p.fromPoints(this.apply(a.topLeft()),this.apply(a.bottomRight()))},toString:function(){return"matrix("+this.a+" "+this.b+" "+this.c+" "+this.d+" "+this.e+" "+this.f+")"}});f(w,{fromSVGMatrix:function(a){var b=new w;b.a=a.a;b.b=a.b;b.c=a.c;b.d=a.d;b.e=a.e;b.f=a.f;return b},fromMatrixVector:function(a){var b=new w;b.a=a.a;b.b=a.b;b.c=a.c;b.d=a.d;b.e=a.e;b.f=a.f;return b},fromList:function(a){if(a.length!==6){throw"The given list should consist of six elements."}var b=new w;b.a=a[0];b.b=a[1];b.c=a[2];b.d=a[3];b.e=a[4];b.f=a[5];return b},translation:function(a,b){var c=new w;c.a=1;c.b=0;c.c=0;c.d=1;c.e=a;c.f=b;return c},unit:function(){return new w(1,0,0,1,0,0)},rotation:function(a,b,c){var d=new w;d.a=Math.cos(a*Math.PI/180);d.b=Math.sin(a*Math.PI/180);d.c=-d.b;d.d=d.a;d.e=b-b*d.a+c*d.b||0;d.f=c-c*d.a-b*d.b||0;return d},scaling:function(a,b){var c=new w;c.a=a;c.b=0;c.c=0;c.d=b;c.e=0;c.f=0;return c},parse:function(a){var b,c;if(a){a=a.trim();if(a.slice(0,6).toLowerCase()==="matrix"){c=a.slice(7,a.length-1).trim();b=c.split(",");if(b.length===6){return w.fromList(l(b,function(a){return parseFloat(a)}))}b=c.split(" ");if(b.length===6){return w.fromList(l(b,function(a){return parseFloat(a)}))}}if(a.slice(0,1)==="("&&a.slice(a.length-1)===")"){a=a.substr(1,a.length-1)}if(a.indexOf(",")>0){b=a.split(",");if(b.length===6){return w.fromList(l(b,function(a){return parseFloat(a)}))}}if(a.indexOf(" ")>0){b=a.split(" ");if(b.length===6){return w.fromList(l(b,function(a){return parseFloat(a)}))}}}return b}});var x=e.extend({init:function(a,b,c,d,e,f){this.a=a||0;this.b=b||0;this.c=c||0;this.d=d||0;this.e=e||0;this.f=f||0},fromMatrix:function a(b){var c=new x;c.a=b.a;c.b=b.b;c.c=b.c;c.d=b.d;c.e=b.e;c.f=b.f;return c}});function y(a,b){var c,d,e;do{c=Math.random()*2-1;d=Math.random()*2-1;e=c*c+d*d}while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}function z(a){if(h.isUndefined(a)){a=10}var b="";var c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var d=a;d>0;--d){b+=c.charAt(Math.round(Math.random()*(c.length-1)))}return b}var A={_distanceToLineSquared:function(a,b,c){function d(a,b){return(a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y)}if(b===c){return d(a,b)}var e=c.x-b.x,f=c.y-b.y,g=(a.x-b.x)*e+(a.y-b.y)*f;if(g<0){return d(b,a)}g=(c.x-a.x)*e+(c.y-a.y)*f;if(g<0){return d(c,a)}g=(c.x-a.x)*f-(c.y-a.y)*e;return g*g/(e*e+f*f)},distanceToLine:function(a,b,c){return Math.sqrt(this._distanceToLineSquared(a,b,c))},distanceToPolyline:function(a,b){var c=Number.MAX_VALUE;if(h.isUndefined(b)||b.length===0){return Number.MAX_VALUE}for(var d=0;d<b.length-1;d++){var e=b[d];var f=b[d+1];var g=this._distanceToLineSquared(a,e,f);if(g<c){c=g}}return Math.sqrt(c)}};var B=c.Class.extend({init:function(){this._buckets=[];this.length=0},add:function(a,b){var c=this._createGetBucket(a);if(h.isDefined(b)){c.value=b}return c},get:function(a){if(this._bucketExists(a)){return this._createGetBucket(a)}return null},set:function(a,b){this.add(a,b)},containsKey:function(a){return this._bucketExists(a)},remove:function(a){if(this._bucketExists(a)){var b=this._hash(a);delete this._buckets[b];this.length--;return a}},forEach:function(a){var b=this._hashes();for(var c=0,d=b.length;c<d;c++){var e=b[c];var f=this._buckets[e];if(h.isUndefined(f)){continue}a(f)}},clone:function(){var a=new B;var b=this._hashes();for(var c=0,d=b.length;c<d;c++){var e=b[c];var f=this._buckets[e];if(h.isUndefined(f)){continue}a.add(f.key,f.value)}return a},_hashes:function(){var a=[];for(var b in this._buckets){if(this._buckets.hasOwnProperty(b)){a.push(b)}}return a},_bucketExists:function(a){var b=this._hash(a);return h.isDefined(this._buckets[b])},_createGetBucket:function(a){var b=this._hash(a);var c=this._buckets[b];if(h.isUndefined(c)){c={key:a};this._buckets[b]=c;this.length++}return c},_hash:function(a){if(h.isNumber(a)){return a}if(h.isString(a)){return this._hashString(a)}if(h.isObject(a)){return this._objectHashId(a)}throw"Unsupported key type."},_hashString:function(a){var b=0;if(a.length===0){return b}for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=b*32-b+d}return b},_objectHashId:function(a){var b=a._hashId;if(h.isUndefined(b)){b=z();a._hashId=b}return b}});var C=c.Observable.extend({init:function(b){var d=this;c.Observable.fn.init.call(d);this._hashTable=new B;this.length=0;if(h.isDefined(b)){if(a.isArray(b)){for(var e=0;e<b.length;e++){this.add(b[e])}}else{b.forEach(function(a,b){this.add(a,b)},this)}}},add:function(a,b){var c=this._hashTable.get(a);if(!c){c=this._hashTable.add(a);this.length++;this.trigger("changed")}c.value=b},set:function(a,b){this.add(a,b)},get:function(a){var b=this._hashTable.get(a);if(b){return b.value}throw new Error("Cannot find key "+a)},containsKey:function(a){return this._hashTable.containsKey(a)},remove:function(a){if(this.containsKey(a)){this.trigger("changed");this.length--;return this._hashTable.remove(a)}},forEach:function(a,b){this._hashTable.forEach(function(c){a.call(b,c.key,c.value)})},forEachValue:function(a,b){this._hashTable.forEach(function(c){a.call(b,c.value)})},forEachKey:function(a,b){this._hashTable.forEach(function(c){a.call(b,c.key)})},keys:function(){var a=[];this.forEachKey(function(b){a.push(b)});return a}});var D=c.Class.extend({init:function(){this._tail=null;this._head=null;this.length=0},enqueue:function(a){var b={value:a,next:null};if(!this._head){this._head=b;this._tail=this._head}else{this._tail.next=b;this._tail=this._tail.next}this.length++},dequeue:function(){if(this.length<1){throw new Error("The queue is empty.")}var a=this._head.value;this._head=this._head.next;this.length--;return a},contains:function(a){var b=this._head;while(b){if(b.value===a){return true}b=b.next}return false}});var E=c.Observable.extend({init:function(a){var b=this;c.Observable.fn.init.call(b);this._hashTable=new B;this.length=0;if(h.isDefined(a)){if(a instanceof B){a.forEach(function(a){this.add(a)})}else if(a instanceof C){a.forEach(function(a,b){this.add({key:a,value:b})},this)}}},contains:function(a){return this._hashTable.containsKey(a)},add:function(a){var b=this._hashTable.get(a);if(!b){this._hashTable.add(a,a);this.length++;this.trigger("changed")}},get:function(a){if(this.contains(a)){return this._hashTable.get(a).value}else{return null}},hash:function(a){return this._hashTable._hash(a)},remove:function(a){if(this.contains(a)){this._hashTable.remove(a);this.length--;this.trigger("changed")}},forEach:function(a,b){this._hashTable.forEach(function(b){a(b.value)},b)},toArray:function(){var a=[];this.forEach(function(b){a.push(b)});return a}});var F=c.Class.extend({init:function(a,b){this.links=[];this.outgoing=[];this.incoming=[];this.weight=1;if(h.isDefined(a)){this.id=a}else{this.id=z()}if(h.isDefined(b)){this.associatedShape=b;var c=b.bounds();this.width=c.width;this.height=c.height;this.x=c.x;this.y=c.y}else{this.associatedShape=null}this.data=null;this.type="Node";this.shortForm="Node '"+this.id+"'";this.isVirtual=false},isIsolated:function(){return h.isEmpty(this.links)},bounds:function(a){if(!h.isDefined(a)){return new d.Rect(this.x,this.y,this.width,this.height)}this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},isLinkedTo:function(a){var b=this;return h.any(b.links,function(c){return c.getComplement(b)===a})},getChildren:function(){if(this.outgoing.length===0){return[]}var a=[];for(var b=0,c=this.outgoing.length;b<c;b++){var d=this.outgoing[b];a.push(d.getComplement(this))}return a},getParents:function(){if(this.incoming.length===0){return[]}var a=[];for(var b=0,c=this.incoming.length;b<c;b++){var d=this.incoming[b];a.push(d.getComplement(this))}return a},clone:function(){var a=new F;if(h.isDefined(this.weight)){a.weight=this.weight}if(h.isDefined(this.balance)){a.balance=this.balance}if(h.isDefined(this.owner)){a.owner=this.owner}a.associatedShape=this.associatedShape;a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;return a},adjacentTo:function(a){return this.isLinkedTo(a)!==null},removeLink:function(a){if(a.source===this){h.remove(this.links,a);h.remove(this.outgoing,a);a.source=null}if(a.target===this){h.remove(this.links,a);h.remove(this.incoming,a);a.target=null}},hasLinkTo:function(a){return h.any(this.outgoing,function(b){return b.target===a})},degree:function(){return this.links.length},incidentWith:function(a){return k(this.links,a)},getLinksWith:function(a){return h.all(this.links,function(b){return b.getComplement(this)===a},this)},getNeighbors:function(){var a=[];h.forEach(this.incoming,function(b){a.push(b.getComplement(this))},this);h.forEach(this.outgoing,function(b){a.push(b.getComplement(this))},this);return a}});var G=c.Class.extend({init:function(a,b,c,d){if(h.isUndefined(a)){throw"The source of the new link is not set."}if(h.isUndefined(b)){throw"The target of the new link is not set."}var e,f;if(h.isString(a)){e=new F(a)}else{e=a}if(h.isString(b)){f=new F(b)}else{f=b}this.source=e;this.target=f;this.source.links.push(this);this.target.links.push(this);this.source.outgoing.push(this);this.target.incoming.push(this);if(h.isDefined(c)){this.id=c}else{this.id=z()}if(h.isDefined(d)){this.associatedConnection=d}else{this.associatedConnection=null}this.type="Link";this.shortForm="Link '"+this.source.id+"->"+this.target.id+"'"},getComplement:function(a){if(this.source!==a&&this.target!==a){throw"The given node is not incident with this link."}return this.source===a?this.target:this.source},getCommonNode:function(a){if(this.source===a.source||this.source===a.target){return this.source}if(this.target===a.source||this.target===a.target){return this.target}return null},isBridging:function(a,b){return this.source===a&&this.target===b||this.source===b&&this.target===a},getNodes:function(){return[this.source,this.target]},incidentWith:function(a){return this.source===a||this.target===a},adjacentTo:function(a){return k(this.source.links,a)||k(this.target.links,a)},changeSource:function(a){h.remove(this.source.links,this);h.remove(this.source.outgoing,this);a.links.push(this);a.outgoing.push(this);this.source=a},changeTarget:function(a){h.remove(this.target.links,this);h.remove(this.target.incoming,this);a.links.push(this);a.incoming.push(this);this.target=a},changesNodes:function(a,b){if(this.source===a){this.changeSource(b)}else if(this.target===a){this.changeTarget(b)}},reverse:function(){var a=this.source;var b=this.target;this.source=b;h.remove(a.outgoing,this);this.source.outgoing.push(this);this.target=a;h.remove(b.incoming,this);this.target.incoming.push(this);return this},directTo:function(a){if(this.source!==a&&this.target!==a){throw"The given node is not incident with this link."}if(this.target!==a){this.reverse()}},createReverseEdge:function(){var a=this.clone();a.reverse();a.reversed=true;return a},clone:function(){var a=new G(this.source,this.target);return a}});var H=c.Class.extend({init:function(a){this.links=[];this.nodes=[];this._nodeMap=new C;this.diagram=null;this._root=null;if(h.isDefined(a)){if(h.isString(a)){this.id=a}else{this.diagram=a;this.id=a.id}}else{this.id=z()}this.bounds=new p;this._hasCachedRelationships=false;this.type="Graph"},cacheRelationships:function(a){if(h.isUndefined(a)){a=false}if(this._hasCachedRelationships&&!a){return}for(var b=0,c=this.nodes.length;b<c;b++){var d=this.nodes[b];d.children=this.getChildren(d);d.parents=this.getParents(d)}this._hasCachedRelationships=true},assignLevels:function(a,b,c){if(!a){throw"Start node not specified."}if(h.isUndefined(b)){b=0}this.cacheRelationships();if(h.isUndefined(c)){c=new C;h.forEach(this.nodes,function(a){c.add(a,false)})}c.set(a,true);a.level=b;var d=a.children;for(var e=0,f=d.length;e<f;e++){var g=d[e];if(!g||c.get(g)){continue}this.assignLevels(g,b+1,c)}},root:function(a){if(h.isUndefined(a)){if(!this._root){var b=h.first(this.nodes,function(a){return a.incoming.length===0});if(b){return b}return h.first(this.nodes)}else{return this._root}}else{this._root=a}},getConnectedComponents:function(){this.componentIndex=0;this.setItemIndices();var a=h.initArray(this.nodes.length,-1);for(var b=0;b<this.nodes.length;b++){if(a[b]===-1){this._collectConnectedNodes(a,b);this.componentIndex++}}var c=[],d;for(d=0;d<this.componentIndex;++d){c[d]=new H}for(d=0;d<a.length;++d){var e=c[a[d]];e.addNodeAndOutgoings(this.nodes[d])}c.sort(function(a,b){return b.nodes.length-a.nodes.length});return c},_collectConnectedNodes:function(a,b){a[b]=this.componentIndex;var c=this.nodes[b];h.forEach(c.links,function(b){var d=b.getComplement(c);var e=d.index;if(a[e]===-1){this._collectConnectedNodes(a,e)}},this)},calcBounds:function(){if(this.isEmpty()){this.bounds=new p;return this.bounds}var a=null;for(var b=0,c=this.nodes.length;b<c;b++){var d=this.nodes[b];if(!a){a=d.bounds()}else{a=a.union(d.bounds())}}this.bounds=a;return this.bounds},getSpanningTree:function(a){var b=new H;var c=new C,d,e;b.root=a.clone();b.root.level=0;b.root.id=a.id;c.add(a,b.root);a.level=0;var f=[];var g=[];b._addNode(b.root);f.push(a);g.push(a);var i=1;while(g.length>0){var j=g.pop();for(var l=0;l<j.links.length;l++){var m=j.links[l];var n=m.getComplement(j);if(k(f,n)){continue}n.level=j.level+1;if(i<n.level+1){i=n.level+1}if(!k(g,n)){g.push(n)}if(!k(f,n)){f.push(n)}if(c.containsKey(j)){d=c.get(j)}else{d=j.clone();d.level=j.level;d.id=j.id;c.add(j,d)}if(c.containsKey(n)){e=c.get(n)}else{e=n.clone();e.level=n.level;e.id=n.id;c.add(n,e)}var o=new G(d,e);b.addLink(o)}}var p=[];for(var q=0;q<i;q++){p.push([])}h.forEach(b.nodes,function(a){p[a.level].push(a)});b.treeLevels=p;b.cacheRelationships();return b},takeRandomNode:function(b,c){if(h.isUndefined(b)){b=[]}if(h.isUndefined(c)){c=4}if(this.nodes.length===0){return null}if(this.nodes.length===1){return k(b,this.nodes[0])?null:this.nodes[0]}var d=a.grep(this.nodes,function(a){return!k(b,a)&&a.degree()<=c});if(h.isEmpty(d)){return null}return d[h.randomInteger(0,d.length)]},isEmpty:function(){return h.isEmpty(this.nodes)},isHealthy:function(){return h.all(this.links,function(a){return k(this.nodes,a.source)&&k(this.nodes,a.target)},this)},getParents:function(a){if(!this.hasNode(a)){throw"The given node is not part of this graph."}return a.getParents()},getChildren:function(a){if(!this.hasNode(a)){throw"The given node is not part of this graph."}return a.getChildren()},addLink:function(a,b,c){if(h.isUndefined(a)){throw"The source of the link is not defined."}if(h.isUndefined(b)){if(h.isDefined(a.type)&&a.type==="Link"){this.addExistingLink(a);return}else{throw"The target of the link is not defined."}}var d=this.getNode(a);if(h.isUndefined(d)){d=this.addNode(a)}var e=this.getNode(b);if(h.isUndefined(e)){e=this.addNode(b)}var f=new G(d,e);if(h.isDefined(c)){f.owner=c}this.links.push(f);return f},removeAllLinks:function(){while(this.links.length>0){var a=this.links[0];this.removeLink(a)}},addExistingLink:function(a){if(this.hasLink(a)){return}this.links.push(a);if(this.hasNode(a.source.id)){var b=this.getNode(a.source.id);a.changeSource(b)}else{this.addNode(a.source)}if(this.hasNode(a.target.id)){var c=this.getNode(a.target.id);a.changeTarget(c)}else{this.addNode(a.target)}},hasLink:function(a){if(h.isString(a)){return h.any(this.links,function(b){return b.id===a})}if(a.type==="Link"){return k(this.links,a)}throw"The given object is neither an identifier nor a Link."},getNode:function(a){var b=a.id||a;if(this._nodeMap.containsKey(b)){return this._nodeMap.get(b)}},hasNode:function(a){var b=a.id||a;return this._nodeMap.containsKey(b)},_addNode:function(a){this.nodes.push(a);this._nodeMap.add(a.id,a)},_removeNode:function(a){h.remove(this.nodes,a);this._nodeMap.remove(a.id)},removeNode:function(a){var b=a;if(h.isString(a)){b=this.getNode(a)}if(h.isDefined(b)){var c=b.links;b.links=[];for(var d=0,e=c.length;d<e;d++){var f=c[d];this.removeLink(f)}this._removeNode(b)}else{throw"The identifier should be a Node or the Id (string) of a node."}},areConnected:function(a,b){return h.any(this.links,function(c){return c.source==a&&c.target==b||c.source==b&&c.target==a})},removeLink:function(a){h.remove(this.links,a);h.remove(a.source.outgoing,a);h.remove(a.source.links,a);h.remove(a.target.incoming,a);h.remove(a.target.links,a)},addNode:function(a,b,c){var d=null;if(!h.isDefined(a)){throw"No Node or identifier for a new Node is given."}if(h.isString(a)){if(this.hasNode(a)){return this.getNode(a)}d=new F(a)}else{if(this.hasNode(a)){return this.getNode(a)}d=a}if(h.isDefined(b)){d.bounds(b)}if(h.isDefined(c)){d.owner=c}this._addNode(d);return d},addNodeAndOutgoings:function(a){if(!this.hasNode(a)){this._addNode(a)}var b=a.outgoing;a.outgoing=[];h.forEach(b,function(a){this.addExistingLink(a)},this)},setItemIndices:function(){var a;for(a=0;a<this.nodes.length;++a){this.nodes[a].index=a}for(a=0;a<this.links.length;++a){this.links[a].index=a}},clone:function(a){var b=new H;var c=h.isDefined(a)&&a===true;if(c){b.nodeMap=new C;b.linkMap=new C}var d=new C;h.forEach(this.nodes,function(a){var e=a.clone();d.set(a,e);b._addNode(e);if(c){b.nodeMap.set(e,a)}});h.forEach(this.links,function(a){if(d.containsKey(a.source)&&d.containsKey(a.target)){var e=b.addLink(d.get(a.source),d.get(a.target));if(c){b.linkMap.set(e,a)}}});return b},linearize:function(a){return H.Utils.linearize(this,a)},depthFirstTraversal:function(a,b){if(h.isUndefined(a)){throw"You need to supply a starting node."}if(h.isUndefined(b)){throw"You need to supply an action."}if(!this.hasNode(a)){throw"The given start-node is not part of this graph"}var c=this.getNode(a);var d=[];this._dftIterator(c,b,d)},_dftIterator:function(a,b,c){b(a);c.push(a);var d=a.getChildren();for(var e=0,f=d.length;e<f;e++){var g=d[e];if(k(c,g)){continue}this._dftIterator(g,b,c)}},breadthFirstTraversal:function(a,b){if(h.isUndefined(a)){throw"You need to supply a starting node."}if(h.isUndefined(b)){throw"You need to supply an action."}if(!this.hasNode(a)){throw"The given start-node is not part of this graph"}var c=this.getNode(a);var d=new D;var e=[];d.enqueue(c);while(d.length>0){var f=d.dequeue();b(f);e.push(f);var g=f.getChildren();for(var i=0,j=g.length;i<j;i++){var l=g[i];if(k(e,l)||k(d,l)){continue}d.enqueue(l)}}},_stronglyConnectedComponents:function(a,b,c,d,e,f,g){c.add(b,g);d.add(b,g);g++;f.push(b);var h=b.getChildren(),i;for(var j=0,l=h.length;j<l;j++){i=h[j];if(!c.containsKey(i)){this._stronglyConnectedComponents(a,i,c,d,e,f,g);d.add(b,Math.min(d.get(b),d.get(i)))}else if(k(f,i)){d.add(b,Math.min(d.get(b),c.get(i)))}}if(d.get(b)===c.get(b)){var m=[];do{i=f.pop();m.push(i)}while(i!==b);if(!a||m.length>1){e.push(m)}}},findCycles:function(a){if(h.isUndefined(a)){a=true}var b=new C;var c=new C;var d=[];var e=[];for(var f=0,g=this.nodes.length;f<g;f++){var i=this.nodes[f];if(b.containsKey(i)){continue}this._stronglyConnectedComponents(a,i,b,c,d,e,0)}return d},isAcyclic:function(){return h.isEmpty(this.findCycles())},isSubGraph:function(a){var b=a.linearize();var c=this.linearize();return h.all(b,function(a){return k(c,a)})},makeAcyclic:function(){if(this.isEmpty()||this.nodes.length<=1||this.links.length<=1){return[]}if(this.nodes.length==2){var a=[];if(this.links.length>1){var b=this.links[0];var c=b.source;for(var d=0,e=this.links.length;d<e;d++){var f=this.links[d];if(f.source==c){continue}var g=f.reverse();a.push(g)}}return a}var i=this.clone(true);var j=this.nodes.length;var k=new C;var l=function(a){if(a.outgoing.length===0){return 2-j}else if(a.incoming.length===0){return j-2}else{return a.outgoing.length-a.incoming.length}};var m=function(a,b){var c=l(a,j);if(!b.containsKey(c)){b.set(c,[])}b.get(c).push(a)};h.forEach(i.nodes,function(a){m(a,k)});var n=[];var o=[];while(i.nodes.length>0){var p,q,r;if(k.containsKey(2-j)){var s=k.get(2-j);while(s.length>0){q=s.pop();for(var t=0;t<q.links.length;t++){var u=q.links[t];p=u.getComplement(q);r=l(p,j);h.remove(k.get(r),p);p.removeLink(u);m(p,k)}i._removeNode(q);o.unshift(q)}}if(k.containsKey(j-2)){var v=k.get(j-2);while(v.length>0){p=v.pop();for(var w=0;w<p.links.length;w++){var x=p.links[w];q=x.getComplement(p);r=l(q,j);h.remove(k.get(r),q);q.removeLink(x);m(q,k)}n.push(p);i._removeNode(p)}}if(i.nodes.length>0){for(var y=j-3;y>2-j;y--){if(k.containsKey(y)&&k.get(y).length>0){var z=k.get(y);var A=z.pop();for(var B=0;B<A.links.length;B++){var D=A.links[B];var E=D.getComplement(A);r=l(E,j);h.remove(k.get(r),E);E.removeLink(D);m(E,k)}n.push(A);i._removeNode(A);break}}}}n=n.concat(o);var F=new C;for(var G=0;G<this.nodes.length;G++){F.set(i.nodeMap.get(n[G]),G)}var H=[];h.forEach(this.links,function(a){if(F.get(a.source)>F.get(a.target)){a.reverse();H.push(a)}});return H}});H.Predefined={EightGraph:function(){return H.Utils.parse(["1->2","2->3","3->4","4->1","3->5","5->6","6->7","7->3"])},Mindmap:function(){return H.Utils.parse(["0->1","0->2","0->3","0->4","0->5","1->6","1->7","7->8","2->9","9->10","9->11","3->12","12->13","13->14","4->15","4->16","15->17","15->18","18->19","18->20","14->21","14->22","5->23","23->24","23->25","6->26"])},ThreeGraph:function(){return H.Utils.parse(["1->2","2->3","3->1"])},BinaryTree:function(a){if(h.isUndefined(a)){a=5}return H.Utils.createBalancedTree(a,2)},Linear:function(a){if(h.isUndefined(a)){a=10}return H.Utils.createBalancedTree(a,1)},Tree:function(a,b){return H.Utils.createBalancedTree(a,b)},Forest:function(a,b,c){return H.Utils.createBalancedForest(a,b,c)},Workflow:function(){return H.Utils.parse(["0->1","1->2","2->3","1->4","4->3","3->5","5->6","6->3","6->7","5->4"])},Grid:function(a,b){var c=new d.Graph;if(a<=0&&b<=0){return c}for(var e=0;e<a+1;e++){var f=null;for(var g=0;g<b+1;g++){var h=new F(e.toString()+"."+g.toString());c.addNode(h);if(f){c.addLink(f,h)}if(e>0){var i=c.getNode((e-1).toString()+"."+g.toString());c.addLink(i,h)}f=h}}return c}};H.Utils={parse:function(a){var b,e=new d.Graph,f=a.slice();for(var g=0,i=f.length;g<i;g++){var j=f[g];if(h.isString(j)){if(j.indexOf("->")<0){throw"The link should be specified as 'a->b'."}var k=j.split("->");if(k.length!=2){throw"The link should be specified as 'a->b'."}b=new G(k[0],k[1]);e.addLink(b)}if(h.isObject(j)){if(!b){throw"Specification found before Link definition."}c.deepExtend(b,j)}}return e},linearize:function(a,b){if(h.isUndefined(a)){throw"Expected an instance of a Graph object in slot one."}if(h.isUndefined(b)){b=false}var c=[];for(var d=0,e=a.links.length;d<e;d++){var f=a.links[d];c.push(f.source.id+"->"+f.target.id);if(b){c.push({id:f.id})}}return c},_addShape:function(a,b,e,f){if(h.isUndefined(b)){b=new d.Point(0,0)}if(h.isUndefined(e)){e=z()}f=c.deepExtend({width:20,height:20,id:e,radius:10,fill:"#778899",data:"circle",undoable:false,x:b.x,y:b.y},f);return a.addShape(f)},_addConnection:function(a,b,c,d){return a.connect(b,c,d)},createDiagramFromGraph:function(a,b,d,e){if(h.isUndefined(a)){throw"The diagram surface is undefined."}if(h.isUndefined(b)){throw"No graph specification defined."}if(h.isUndefined(d)){d=true}if(h.isUndefined(e)){e=false}var f=a.element.clientWidth||200;var g=a.element.clientHeight||200;var j=[],k,l;for(var m=0,n=b.nodes.length;m<n;m++){k=b.nodes[m];var o=k.position;if(h.isUndefined(o)){if(h.isDefined(k.x)&&h.isDefined(k.y)){o=new i(k.x,k.y)}else{o=new i(h.randomInteger(10,f-20),h.randomInteger(10,g-20))}}var q={};if(k.id==="0"){}else if(e){c.deepExtend(q,{width:Math.random()*150+20,height:Math.random()*80+50,data:"rectangle",fill:{color:"#778899"}})}l=this._addShape(a,o,k.id,q);var r=l.bounds();if(h.isDefined(r)){k.x=r.x;k.y=r.y;k.width=r.width;k.height=r.height}j[k.id]=l}for(var s=0;s<b.links.length;s++){var t=b.links[s];var u=j[t.source.id];if(h.isUndefined(u)){continue}var v=j[t.target.id];if(h.isUndefined(v)){continue}this._addConnection(a,u,v,{id:t.id})}if(d){var w=new a.SpringLayout(a);w.layoutGraph(b,{limitToView:false});for(var x=0;x<b.nodes.length;x++){k=b.nodes[x];l=j[k.id];l.bounds(new p(k.x,k.y,k.width,k.height))}}},createBalancedTree:function(a,b){if(h.isUndefined(a)){a=3}if(h.isUndefined(b)){b=3}var c=new d.Graph,e=-1,f=[],g;if(a<=0||b<=0){return c}var i=new F((++e).toString());c.addNode(i);c.root=i;f.push(i);for(var j=0;j<a;j++){g=[];for(var k=0;k<f.length;k++){var l=f[k];for(var m=0;m<b;m++){var n=new F((++e).toString());c.addLink(l,n);g.push(n)}}f=g}return c},createBalancedForest:function(a,b,c){if(h.isUndefined(a)){a=3}if(h.isUndefined(b)){b=3}if(h.isUndefined(c)){c=5}var e=new d.Graph,f=-1,g=[],i;if(a<=0||b<=0||c<=0){return e}for(var j=0;j<c;j++){var k=new F((++f).toString());e.addNode(k);g=[k];for(var l=0;l<a;l++){i=[];for(var m=0;m<g.length;m++){var n=g[m];for(var o=0;o<b;o++){var p=new F((++f).toString());e.addLink(n,p);i.push(p)}}g=i}}return e},createRandomConnectedGraph:function(a,b,c){if(h.isUndefined(a)){a=40}if(h.isUndefined(b)){b=4}if(h.isUndefined(c)){c=false}var e=new d.Graph,f=-1;if(a<=0){return e}var g=new F((++f).toString());e.addNode(g);if(a===1){return e}if(a>1){for(var i=1;i<a;i++){var j=e.takeRandomNode([],b);if(!j){break}var k=e.addNode(i.toString());e.addLink(j,k)}if(!c&&a>1){var l=h.randomInteger(1,a);for(var m=0;m<l;m++){var n=e.takeRandomNode([],b);var o=e.takeRandomNode([],b);if(n&&o&&!e.areConnected(n,o)){e.addLink(n,o)}}}return e}},randomDiagram:function(a,b,d,e,f){var g=c.dataviz.diagram.Graph.Utils.createRandomConnectedGraph(b,d,e);H.Utils.createDiagramFromGraph(a,g,false,f)}};c.deepExtend(d,{init:function(a){c.init(a,d.ui)},Point:i,Intersect:t,Geometry:A,Rect:p,Size:q,RectAlign:u,Matrix:w,MatrixVector:x,normalVariable:y,randomId:z,Dictionary:C,HashTable:B,Queue:D,Set:E,Node:F,Link:G,Graph:H,PathDefiner:o})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/diagram/svg",["kendo.drawing","dataviz/diagram/math"],a)})(function(){(function(a,b){var c=window.kendo,d=c.dataviz.diagram,e=c.Class,f=c.deepExtend,g=d.Point,h=d.Rect,i=d.Matrix,j=d.Utils,k=j.isNumber,l=j.isString,m=d.MatrixVector,n=c.geometry,o=c.drawing,p=o.util.defined,q=a.inArray;var r="transparent",s={none:"none",arrowStart:"ArrowStart",filledCircle:"FilledCircle",arrowEnd:"ArrowEnd"},t=360,u="start",v="end",w="width",x="height",y="x",z="y";d.Markers=s;function A(a,b){var c=this.options;var d=false;var e,f;for(var g=0;g<b.length;g++){f=b[g];e=a[f];if(k(e)&&c[f]!==e){c[f]=e;d=true}}return d}var B=e.extend({init:function(a,b){this.x=a;this.y=b},toMatrix:function(){return i.scaling(this.x,this.y)},toString:function(){return c.format("scale({0},{1})",this.x,this.y)},invert:function(){return new B(1/this.x,1/this.y)}});var C=e.extend({init:function(a,b){this.x=a;this.y=b},toMatrixVector:function(){return new m(0,0,0,0,this.x,this.y)},toMatrix:function(){return i.translation(this.x,this.y)},toString:function(){return c.format("translate({0},{1})",this.x,this.y)},plus:function(a){this.x+=a.x;this.y+=a.y},times:function(a){this.x*=a;this.y*=a},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){if(this.Length===0){return}this.times(1/this.length())},invert:function(){return new C(-this.x,-this.y)}});var D=e.extend({init:function(a,b,c){this.x=b||0;this.y=c||0;this.angle=a},toString:function(){if(this.x&&this.y){return c.format("rotate({0},{1},{2})",this.angle,this.x,this.y)}else{return c.format("rotate({0})",this.angle)}},toMatrix:function(){return i.rotation(this.angle,this.x,this.y)},center:function(){return new g(this.x,this.y)},invert:function(){return new D(t-this.angle,this.x,this.y)}});D.ZERO=new D(0);D.create=function(a){return new D(a.angle,a.x,a.y)};D.parse=function(a){var b=a.slice(1,a.length-1).split(","),c=b[0],d=b[1],e=b[2];var f=new D(c,d,e);return f};var E=e.extend({init:function(a,c,d,e,f,g){this.translate=new C(a,c);if(d!==b&&e!==b){this.scale=new B(d,e)}if(f!==b){this.rotate=g?new D(f,g.x,g.y):new D(f)}},toString:function(){var a=function(a){return a?a.toString():""};return a(this.translate)+a(this.rotate)+a(this.scale);
},render:function(a){a._transform=this;a._renderTransform()},toMatrix:function(){var a=i.unit();if(this.translate){a=a.times(this.translate.toMatrix())}if(this.rotate){a=a.times(this.rotate.toMatrix())}if(this.scale){a=a.times(this.scale.toMatrix())}return a},invert:function(){var a=this.rotate?this.rotate.invert():b,c=a?a.toMatrix():i.unit(),d=this.scale?this.scale.invert():b,e=d?d.toMatrix():i.unit();var f=new g(-this.translate.x,-this.translate.y);f=c.times(e).apply(f);var h=new C(f.x,f.y);var j=new E;j.translate=h;j.rotate=a;j.scale=d;return j}});var F={_setScale:function(){var a=this.options;var b=this._originWidth;var c=this._originHeight;var d=a.width/b;var e=a.height/c;if(!k(d)){d=1}if(!k(e)){e=1}this._transform.scale=new B(d,e)},_setTranslate:function(){var a=this.options;var b=a.x||0;var c=a.y||0;this._transform.translate=new C(b,c)},_initSize:function(){var a=this.options;var b=false;if(a.autoSize!==false&&(p(a.width)||p(a.height))){this._measure(true);this._setScale();b=true}if(p(a.x)||p(a.y)){this._setTranslate();b=true}if(b){this._renderTransform()}},_updateSize:function(a){var b=false;if(this.options.autoSize!==false&&this._diffNumericOptions(a,[w,x])){b=true;this._measure(true);this._setScale()}if(this._diffNumericOptions(a,[y,z])){b=true;this._setTranslate()}if(b){this._renderTransform()}return b}};var G=e.extend({init:function(a){var b=this;b.options=f({},b.options,a);b.id=b.options.id;b._originSize=h.empty();b._transform=new E},visible:function(a){return this.drawingContainer().visible(a)},redraw:function(a){if(a&&a.id){this.id=a.id}},position:function(a,b){var c=this.options;if(!p(a)){return new g(c.x,c.y)}if(p(b)){c.x=a;c.y=b}else if(a instanceof g){c.x=a.x;c.y=a.y}this._transform.translate=new C(c.x,c.y);this._renderTransform()},rotate:function(a,b){if(p(a)){this._transform.rotate=new D(a,b.x,b.y);this._renderTransform()}return this._transform.rotate||D.ZERO},drawingContainer:function(){return this.drawingElement},_renderTransform:function(){var a=this._transform.toMatrix();this.drawingContainer().transform(new n.Matrix(a.a,a.b,a.c,a.d,a.e,a.f))},_hover:function(){},_diffNumericOptions:A,_measure:function(a){var b;if(!this._measured||a){var c=this._boundingBox()||new n.Rect;var d=c.topLeft();b=new h(d.x,d.y,c.width(),c.height());this._originSize=b;this._originWidth=b.width;this._originHeight=b.height;this._measured=true}else{b=this._originSize}return b},_boundingBox:function(){return this.drawingElement.rawBBox()}});var H=G.extend({init:function(a){G.fn.init.call(this,a);a=this.options;a.fill=X(a.fill);a.stroke=X(a.stroke)},options:{stroke:{color:"gray",width:1},fill:{color:r}},fill:function(a,b){this._fill({color:Y(a),opacity:b})},stroke:function(a,b,c){this._stroke({color:Y(a),width:b,opacity:c})},redraw:function(a){if(a){var b=a.stroke;var c=a.fill;if(b){this._stroke(X(b))}if(c){this._fill(X(c))}G.fn.redraw.call(this,a)}},_hover:function(a){var b=this.drawingElement;var c=this.options;var d=c.hover;if(d&&d.fill){var e=a?X(d.fill):c.fill;b.fill(e.color,e.opacity)}},_stroke:function(a){var b=this.options;f(b,{stroke:a});a=b.stroke;var c=null;if(a.width>0){c={color:a.color,width:a.width,opacity:a.opacity,dashType:a.dashType}}this.drawingElement.options.set("stroke",c)},_fill:function(a){var b=this.options;f(b,{fill:a||{}});var c=b.fill;if(c.gradient){var d=c.gradient;var e=d.type==="radial"?o.RadialGradient:o.LinearGradient;this.drawingElement.fill(new e(d))}else{this.drawingElement.fill(c.color,c.opacity)}}});var I=H.extend({init:function(a){a=this._textColor(a);H.fn.init.call(this,a);this._font();this._initText();this._initSize()},options:{fontSize:15,fontFamily:"sans-serif",stroke:{width:0},fill:{color:"black"},autoSize:true},_initText:function(){var a=this.options;this.drawingElement=new o.Text(p(a.text)?a.text:"",new n.Point,{font:a.font});this._fill();this._stroke()},_textColor:function(a){if(a&&a.color){a=f({},a,{fill:{color:a.color}})}return a},_font:function(){var a=this.options;if(a.fontFamily&&p(a.fontSize)){var b=[];if(a.fontStyle){b.push(a.fontStyle)}if(a.fontWeight){b.push(a.fontWeight)}b.push(a.fontSize+(k(a.fontSize)?"px":""));b.push(a.fontFamily);a.font=b.join(" ")}else{delete a.font}},content:function(a){return this.drawingElement.content(a)},redraw:function(a){if(a){var b=false;var c=this.options;a=this._textColor(a);H.fn.redraw.call(this,a);if(a.fontFamily||p(a.fontSize)||a.fontStyle||a.fontWeight){f(c,{fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight});this._font();this.drawingElement.options.set("font",c.font);b=true}if(a.text){this.content(a.text);b=true}if(!this._updateSize(a)&&b){this._initSize()}}}});f(I.fn,F);var J=H.extend({init:function(a){H.fn.init.call(this,a);this._initPath();this._setPosition()},_setPosition:function(){var a=this.options;var b=a.x;var c=a.y;if(p(b)||p(c)){this.position(b||0,c||0)}},redraw:function(a){if(a){H.fn.redraw.call(this,a);if(this._diffNumericOptions(a,[w,x])){this._drawPath()}if(this._diffNumericOptions(a,[y,z])){this._setPosition()}}},_initPath:function(){var a=this.options;this.drawingElement=new o.Path({stroke:a.stroke,closed:true});this._fill();this._drawPath()},_drawPath:function(){var a=this.drawingElement;var b=W(this.options);var c=b.width;var d=b.height;a.segments.elements([$(0,0),$(c,0),$(c,d),$(0,d)])}});var K=H.extend({init:function(a){H.fn.init.call(this,a);var b=this.options.anchor;this.anchor=new n.Point(b.x,b.y);this.createElement()},options:{stroke:{color:r,width:0},fill:{color:"black"}},_transformToPath:function(a,b){var c=b.transform();if(a&&c){a=a.transformCopy(c)}return a},redraw:function(a){if(a){if(a.position){this.options.position=a.position}H.fn.redraw.call(this,a)}}});var L=K.extend({options:{radius:4,anchor:{x:0,y:0}},createElement:function(){var a=this.options;this.drawingElement=new o.Circle(new n.Circle(this.anchor,a.radius),{fill:a.fill,stroke:a.stroke})},positionMarker:function(a){var b=this.options;var c=b.position;var d=a.segments;var e;var f;if(c==u){e=d[0]}else{e=d[d.length-1]}if(e){f=this._transformToPath(e.anchor(),a);this.drawingElement.transform(n.transform().translate(f.x,f.y))}}});var M=K.extend({options:{path:"M 0 0 L 10 5 L 0 10 L 3 5 z",anchor:{x:10,y:5}},createElement:function(){var a=this.options;this.drawingElement=o.Path.parse(a.path,{fill:a.fill,stroke:a.stroke})},positionMarker:function(a){var b=this._linePoints(a);var c=b.start;var d=b.end;var e=n.transform();if(c){e.rotate(Z(c,d),d)}if(d){var f=this.anchor;var g=d.clone().translate(-f.x,-f.y);e.translate(g.x,g.y)}this.drawingElement.transform(e)},_linePoints:function(a){var b=this.options;var c=a.segments;var d,e,f;if(b.position==u){f=c[0];if(f){e=f.anchor();d=f.controlOut();var g=c[1];if(!d&&g){d=g.anchor()}}}else{f=c[c.length-1];if(f){e=f.anchor();d=f.controlIn();var h=c[c.length-2];if(!d&&h){d=h.anchor()}}}if(e){return{start:this._transformToPath(d,a),end:this._transformToPath(e,a)}}}});var N={_getPath:function(a){var b=this.drawingElement;if(b instanceof o.MultiPath){if(a==u){b=b.paths[0]}else{b=b.paths[b.paths.length-1]}}if(b&&b.segments.length){return b}},_normalizeMarkerOptions:function(a){var b=a.startCap;var c=a.endCap;if(l(b)){a.startCap={type:b}}if(l(c)){a.endCap={type:c}}},_removeMarker:function(a){var b=this._markers[a];if(b){this.drawingContainer().remove(b.drawingElement);delete this._markers[a]}},_createMarkers:function(){var a=this.options;this._normalizeMarkerOptions(a);this._markers={};this._markers[u]=this._createMarker(a.startCap,u);this._markers[v]=this._createMarker(a.endCap,v)},_createMarker:function(a,b){var c=(a||{}).type;var d=this._getPath(b);var e,g;if(!d){this._removeMarker(b);return}if(c==s.filledCircle){e=L}else if(c==s.arrowStart||c==s.arrowEnd){e=M}else{this._removeMarker(b)}if(e){g=new e(f({},a,{position:b}));g.positionMarker(d);this.drawingContainer().append(g.drawingElement);return g}},_positionMarker:function(a){var b=this._markers[a];if(b){var c=this._getPath(a);if(c){b.positionMarker(c)}else{this._removeMarker(a)}}},_capMap:{start:"startCap",end:"endCap"},_redrawMarker:function(a,b,c){this._normalizeMarkerOptions(c);var d=this.options;var e=this._capMap[b];var g=(d[e]||{}).type;var h=c[e];var i=false;if(h){d[e]=f({},d[e],h);if(h.type&&g!=h.type){this._removeMarker(b);this._markers[b]=this._createMarker(d[e],b);i=true}else if(this._markers[b]){this._markers[b].redraw(h)}}else if(a&&!this._markers[b]&&d[e]){this._markers[b]=this._createMarker(d[e],b);i=true}return i},_redrawMarkers:function(a,b){if(!this._redrawMarker(a,u,b)&&a){this._positionMarker(u)}if(!this._redrawMarker(a,v,b)&&a){this._positionMarker(v)}}};var O=H.extend({init:function(a){H.fn.init.call(this,a);this.container=new o.Group;this._createElements();this._initSize()},options:{autoSize:true},drawingContainer:function(){return this.container},data:function(a){var b=this.options;if(a){if(b.data!=a){b.data=a;this._setData(a);this._initSize();this._redrawMarkers(true,{})}}else{return b.data}},redraw:function(a){if(a){H.fn.redraw.call(this,a);var b=this.options;var c=a.data;if(p(c)&&b.data!=c){b.data=c;this._setData(c);if(!this._updateSize(a)){this._initSize()}this._redrawMarkers(true,a)}else{this._updateSize(a);this._redrawMarkers(false,a)}}},_createElements:function(){var a=this.options;this.drawingElement=o.Path.parse(a.data||"",{stroke:a.stroke});this._fill();this.container.append(this.drawingElement);this._createMarkers()},_setData:function(a){var b=this.drawingElement;var c=o.Path.parse(a||"");var d=c.paths.slice(0);c.paths.elements([]);b.paths.elements(d)}});f(O.fn,F);f(O.fn,N);var P=H.extend({init:function(a){H.fn.init.call(this,a);this.container=new o.Group;this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},redraw:function(a){if(a){a=a||{};var b=a.from;var c=a.to;if(b){this.options.from=b}if(c){this.options.to=c}if(b||c){this._drawPath();this._redrawMarkers(true,a)}else{this._redrawMarkers(false,a)}H.fn.redraw.call(this,a)}},_initPath:function(){var a=this.options;var b=this.drawingElement=new o.Path({stroke:a.stroke});this._fill();this._drawPath();this.container.append(b)},_drawPath:function(){var a=this.options;var b=this.drawingElement;var c=a.from||new g;var d=a.to||new g;b.segments.elements([$(c.x,c.y),$(d.x,d.y)])}});f(P.fn,N);var Q=H.extend({init:function(a){H.fn.init.call(this,a);this.container=new o.Group;this._initPath();this._createMarkers()},drawingContainer:function(){return this.container},points:function(a){var b=this.options;if(a){b.points=a;this._updatePath()}else{return b.points}},redraw:function(a){if(a){var b=a.points;H.fn.redraw.call(this,a);if(b&&this._pointsDiffer(b)){this.points(b);this._redrawMarkers(true,a)}else{this._redrawMarkers(false,a)}}},_initPath:function(){var a=this.options;this.drawingElement=new o.Path({stroke:a.stroke});this._fill();this.container.append(this.drawingElement);if(a.points){this._updatePath()}},_pointsDiffer:function(a){var b=this.options.points;var c=b.length!==a.length;if(!c){for(var d=0;d<a.length;d++){if(b[d].x!==a[d].x||b[d].y!==a[d].y){c=true;break}}}return c},_updatePath:function(){var a=this.drawingElement;var b=this.options;var c=b.points;var d=[];var e;for(var f=0;f<c.length;f++){e=c[f];d.push($(e.x,e.y))}a.segments.elements(d)},options:{points:[]}});f(Q.fn,N);var R=G.extend({init:function(a){G.fn.init.call(this,a);this._initImage()},redraw:function(a){if(a){if(a.source){this.drawingElement.src(a.source)}if(this._diffNumericOptions(a,[w,x,y,z])){this.drawingElement.rect(this._rect())}G.fn.redraw.call(this,a)}},_initImage:function(){var a=this.options;var b=this._rect();this.drawingElement=new o.Image(a.source,b,{})},_rect:function(){var a=W(this.options);var b=new n.Point(a.x,a.y);var c=new n.Size(a.width,a.height);return new n.Rect(b,c)}});var S=G.extend({init:function(a){this.children=[];G.fn.init.call(this,a);this.drawingElement=new o.Group;this._initSize()},options:{autoSize:false},append:function(a){this.drawingElement.append(a.drawingContainer());this.children.push(a);this._childrenChange=true},remove:function(a){if(this._remove(a)){this._childrenChange=true}},_remove:function(a){var b=q(a,this.children);if(b>=0){this.drawingElement.removeAt(b);this.children.splice(b,1);return true}},clear:function(){this.drawingElement.clear();this.children=[];this._childrenChange=true},toFront:function(a){var b;for(var c=0;c<a.length;c++){b=a[c];if(this._remove(b)){this.append(b)}}},toBack:function(a){this._reorderChildren(a,0)},toIndex:function(a,b){this._reorderChildren(a,b)},_reorderChildren:function(a,b){var c=this.drawingElement;var d=c.children.slice(0);var e=this.children;var f=k(b);var g,h,i,j,l;for(g=0;g<a.length;g++){l=a[g];j=l.drawingContainer();h=q(l,e);if(h>=0){d.splice(h,1);e.splice(h,1);i=f?b:b[g];d.splice(i,0,j);e.splice(i,0,l)}}c.clear();c.append.apply(c,d)},redraw:function(a){if(a){if(this._childrenChange){this._childrenChange=false;if(!this._updateSize(a)){this._initSize()}}else{this._updateSize(a)}G.fn.redraw.call(this,a)}},_boundingBox:function(){var a=this.children;var b;var c,d;for(var e=0;e<a.length;e++){c=a[e];if(c.visible()&&c._includeInBBox!==false){d=c.drawingContainer().clippedBBox(null);if(d){if(b){b=n.Rect.union(b,d)}else{b=d}}}}return b}});f(S.fn,F);var T=S.extend({init:function(a,b){this.children=[];G.fn.init.call(this,b);this.drawingElement=new o.Layout(_(a),b);this._initSize()},rect:function(a){if(a){this.drawingElement.rect(_(a))}else{var b=this.drawingElement.rect();if(b){return new h(b.origin.x,b.origin.y,b.size.width,b.size.height)}}},reflow:function(){this.drawingElement.reflow()},redraw:function(a){c.deepExtend(this.drawingElement.options,a);S.fn.redraw.call(this,a)}});var U=H.extend({init:function(a){H.fn.init.call(this,a);this._initCircle();this._initSize()},redraw:function(a){if(a){var b=this.options;if(a.center){f(b,{center:a.center});this._center.move(b.center.x,b.center.y)}if(this._diffNumericOptions(a,["radius"])){this._circle.setRadius(b.radius)}this._updateSize(a);H.fn.redraw.call(this,a)}},_initCircle:function(){var a=this.options;var b=a.width;var c=a.height;var d=a.radius;if(!p(d)){if(!p(b)){b=c}if(!p(c)){c=b}a.radius=d=Math.min(b,c)/2}var e=a.center||{x:d,y:d};this._center=new n.Point(e.x,e.y);this._circle=new n.Circle(this._center,d);this.drawingElement=new o.Circle(this._circle,{stroke:a.stroke});this._fill()}});f(U.fn,F);var V=e.extend({init:function(a,b){b=b||{};this.element=a;this.surface=o.Surface.create(a,b);if(c.isFunction(this.surface.translate)){this.translate=this._translate}this.drawingElement=new o.Group;this._viewBox=new h(0,0,b.width,b.height);this.size(this._viewBox)},bounds:function(){var a=this.drawingElement.clippedBBox();return new h(0,0,a.width(),a.height())},size:function(a){var b=this._viewBox;if(p(a)){b.width=a.width;b.height=a.height;this.surface.setSize(a)}return{width:b.width,height:b.height}},_translate:function(a,b){var c=this._viewBox;if(p(a)&&p(b)){c.x=a;c.y=b;this.surface.translate({x:a,y:b})}return{x:c.x,y:c.y}},draw:function(){this.surface.draw(this.drawingElement)},append:function(a){this.drawingElement.append(a.drawingContainer());return this},remove:function(a){this.drawingElement.remove(a.drawingContainer())},insertBefore:function(){},clear:function(){this.drawingElement.clear()},destroy:function(b){this.surface.destroy();if(b){a(this.element).remove()}}});function W(a){return{x:a.x||0,y:a.y||0,width:a.width||0,height:a.height||0}}function X(a){if(a){var b=a;if(l(b)){b={color:b}}if(b.color){b.color=Y(b.color)}return b}}function Y(a){var b;if(a!=r){b=new o.Color(a).toHex()}else{b=a}return b}function Z(a,b){var c=b.x-a.x;var d=b.y-a.y;var e=o.util.deg(Math.atan2(d,c));return e}function $(a,b){return new o.Segment(new n.Point(a,b))}function _(a){if(a){return new n.Rect([a.x,a.y],[a.width,a.height])}}c.deepExtend(d,{init:function(a){c.init(a,d.ui)},diffNumericOptions:A,Element:G,Scale:B,Translation:C,Rotation:D,Circle:U,Group:S,Rectangle:J,Canvas:V,Path:O,Layout:T,Line:P,MarkerBase:K,ArrowMarker:M,CircleMarker:L,Polyline:Q,CompositeTransform:E,TextBlock:I,Image:R,VisualBase:H})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/diagram/services",["kendo.drawing","dataviz/diagram/svg"],a)})(function(){(function(a,b){var c=window.kendo,d=c.dataviz,e=d.diagram,f=c.Class,g=e.Group,h=e.Rect,i=e.Rectangle,j=e.Utils,k=j.isUndefined,l=e.Point,m=e.Circle,n=e.Ticker,o=c.deepExtend,p=c.ui.Movable,q=c.support.browser,r=c.drawing.util,s=r.defined,t=a.inArray,u=a.proxy;var v={arrow:"default",grip:"pointer",cross:"pointer",add:"pointer",move:"move",select:"pointer",south:"s-resize",east:"e-resize",west:"w-resize",north:"n-resize",rowresize:"row-resize",colresize:"col-resize"},w=10,x="Auto",y="Top",z="Right",A="Left",B="Bottom",C=10,D=10,E="dragStart",F="drag",G="dragEnd",H="itemRotate",I="itemBoundsChange",J=5,K=5,L="mouseEnter",M="mouseLeave",N="zoomStart",O="zoomEnd",P=-2e4,Q=2e4,R=.9,S=.93,T=5,U="transparent",V="pan",W="rotated",X="source",Y="target",Z={"-1":X,1:Y};e.Cursors=v;var $=c.Class.extend({init:function(a){this.layoutState=a;this.diagram=a.diagram},initState:function(){this.froms=[];this.tos=[];this.subjects=[];function a(a,b){var c=this.diagram.getShapeById(a);if(c){this.subjects.push(c);this.froms.push(c.bounds().topLeft());this.tos.push(b.topLeft())}}this.layoutState.nodeMap.forEach(a,this)},update:function(a){if(this.subjects.length<=0){return}for(var b=0;b<this.subjects.length;b++){this.subjects[b].position(new l(this.froms[b].x+(this.tos[b].x-this.froms[b].x)*a,this.froms[b].y+(this.tos[b].y-this.froms[b].y)*a))}}});var _=f.extend({init:function(a,b,c){if(k(c)){this.animate=false}else{this.animate=c}this._initialState=a;this._finalState=b;this.title="Diagram layout"},undo:function(){this.setState(this._initialState)},redo:function(){this.setState(this._finalState)},setState:function(a){var b=a.diagram;if(this.animate){a.linkMap.forEach(function(a,c){var d=b.getShapeById(a);d.visible(false);if(d){d.points(c)}});var c=new n;c.addAdapter(new $(a));c.onComplete(function(){a.linkMap.forEach(function(a){var c=b.getShapeById(a);c.visible(true)})});c.play()}else{a.nodeMap.forEach(function(a,c){var d=b.getShapeById(a);if(d){d.position(c.topLeft())}});a.linkMap.forEach(function(a,c){var d=b.getShapeById(a);if(d){d.points(c)}})}}});var aa=f.extend({init:function(a){this.units=[];this.title="Composite unit";if(a!==b){this.units.push(a)}},add:function(a){this.units.push(a)},undo:function(){for(var a=0;a<this.units.length;a++){this.units[a].undo()}},redo:function(){for(var a=0;a<this.units.length;a++){this.units[a].redo()}}});var ba=f.extend({init:function(a,b,c){this.item=a;this._redoSource=b;this._redoTarget=c;if(s(b)){this._undoSource=a.source()}if(s(c)){this._undoTarget=a.target()}this.title="Connection Editing"},undo:function(){if(this._undoSource!==b){this.item._updateConnector(this._undoSource,"source")}if(this._undoTarget!==b){this.item._updateConnector(this._undoTarget,"target")}this.item.updateModel()},redo:function(){if(this._redoSource!==b){this.item._updateConnector(this._redoSource,"source")}if(this._redoTarget!==b){this.item._updateConnector(this._redoTarget,"target")}this.item.updateModel()}});var ca=f.extend({init:function(a,b,c){this.item=a;this._undoSource=b;this._undoTarget=c;this._redoSource=a.source();this._redoTarget=a.target();this.title="Connection Editing"},undo:function(){this.item._updateConnector(this._undoSource,"source");this.item._updateConnector(this._undoTarget,"target");this.item.updateModel()},redo:function(){this.item._updateConnector(this._redoSource,"source");this.item._updateConnector(this._redoTarget,"target");this.item.updateModel()}});var da=f.extend({init:function(a){this.connection=a;this.diagram=a.diagram;this.targetConnector=a.targetConnector;this.title="Delete connection"},undo:function(){this.diagram._addConnection(this.connection,false)},redo:function(){this.diagram.remove(this.connection,false)}});var ea=f.extend({init:function(a){this.shape=a;this.diagram=a.diagram;this.title="Deletion"},undo:function(){this.diagram._addShape(this.shape,false);this.shape.select(false)},redo:function(){this.shape.select(false);this.diagram.remove(this.shape,false)}});var fa=f.extend({init:function(a,b,c){this.shapes=a;this.undoStates=b;this.title="Transformation";this.redoStates=[];this.adorner=c;for(var d=0;d<this.shapes.length;d++){var e=this.shapes[d];this.redoStates.push(e.bounds())}},undo:function(){for(var a=0;a<this.shapes.length;a++){var b=this.shapes[a];b.bounds(this.undoStates[a]);if(b.hasOwnProperty("layout")){b.layout(b,this.redoStates[a],this.undoStates[a])}b.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}},redo:function(){for(var a=0;a<this.shapes.length;a++){var b=this.shapes[a];b.bounds(this.redoStates[a]);if(b.hasOwnProperty("layout")){b.layout(b,this.undoStates[a],this.redoStates[a])}b.updateModel()}if(this.adorner){this.adorner.refreshBounds();this.adorner.refresh()}}});var ga=f.extend({init:function(a,b){this.connection=a;this.diagram=b;this.title="New connection"},undo:function(){this.diagram.remove(this.connection,false)},redo:function(){this.diagram._addConnection(this.connection,false)}});var ha=f.extend({init:function(a,b){this.shape=a;this.diagram=b;this.title="New shape"},undo:function(){this.diagram.deselect();this.diagram.remove(this.shape,false)},redo:function(){this.diagram._addShape(this.shape,false)}});var ia=f.extend({init:function(a,b,c){this.initial=a;this.finalPos=b;this.diagram=c;this.title="Pan Unit"},undo:function(){this.diagram.pan(this.initial)},redo:function(){this.diagram.pan(this.finalPos)}});var ja=f.extend({init:function(a,b,c){this.shapes=b;this.undoRotates=c;this.title="Rotation";this.redoRotates=[];this.redoAngle=a._angle;this.adorner=a;this.center=a._innerBounds.center();for(var d=0;d<this.shapes.length;d++){var e=this.shapes[d];this.redoRotates.push(e.rotate().angle)}},undo:function(){var a,b;for(a=0;a<this.shapes.length;a++){b=this.shapes[a];b.rotate(this.undoRotates[a],this.center,false);if(b.hasOwnProperty("layout")){b.layout(b)}b.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}},redo:function(){var a,b;for(a=0;a<this.shapes.length;a++){b=this.shapes[a];b.rotate(this.redoRotates[a],this.center,false);if(b.hasOwnProperty("layout")){b.layout(b)}b.updateModel()}if(this.adorner){this.adorner._initialize();this.adorner.refresh()}}});var ka=f.extend({init:function(a,b,c){this.diagram=a;this.indices=c;this.items=b;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toFront(this.items,false)}});var la=f.extend({init:function(a,b,c){this.diagram=a;this.indices=c;this.items=b;this.title="Rotate Unit"},undo:function(){this.diagram._toIndex(this.items,this.indices)},redo:function(){this.diagram.toBack(this.items,false)}});var ma=c.Observable.extend({init:function(a){c.Observable.fn.init.call(this,a);this.bind(this.events,a);this.stack=[];this.index=0;this.capacity=100},events:["undone","redone"],begin:function(){this.composite=new aa},cancel:function(){this.composite=b},commit:function(a){if(this.composite.units.length>0){this._restart(this.composite,a)}this.composite=b},addCompositeItem:function(a){if(this.composite){this.composite.add(a)}else{this.add(a)}},add:function(a,b){this._restart(a,b)},pop:function(){if(this.index>0){this.stack.pop();this.index--}},count:function(){return this.stack.length},undo:function(){if(this.index>0){this.index--;this.stack[this.index].undo();this.trigger("undone")}},redo:function(){if(this.stack.length>0&&this.index<this.stack.length){this.stack[this.index].redo();this.index++;this.trigger("redone")}},_restart:function(a,b){this.stack.splice(this.index,this.stack.length-this.index);this.stack.push(a);if(b!==false){this.redo()}else{this.index++}if(this.stack.length>this.capacity){this.stack.splice(0,this.stack.length-this.capacity);this.index=this.capacity}},clear:function(){this.stack=[];this.index=0}});var na=f.extend({init:function(a){this.toolService=a},start:function(){},move:function(){},end:function(){},tryActivate:function(){return false},getCursor:function(){return v.arrow}});var oa=na.extend({init:function(b){var d=this;var e=c.support.mobileOS?S:R;na.fn.init.call(d,b);var f=d.toolService.diagram,g=f.canvas;var h=f.scroller=d.scroller=a(f.scrollable).kendoMobileScroller({friction:e,velocityMultiplier:T,mousewheelScrolling:false,zoom:false,scroll:u(d._move,d)}).data("kendoMobileScroller");if(g.translate){d.movableCanvas=new p(g.element)}var i=function(a,b,c){a.makeVirtual();a.virtualSize(b||P,c||Q)};i(h.dimensions.x);i(h.dimensions.y);h.disable()},tryActivate:function(a,b){var c=this.toolService;var d=c.diagram.options.pannable;var e=b.ctrlKey;if(s(d.key)){if(!d.key||d.key=="none"){e=Ia(b)&&!s(c.hoveredItem)}else{e=b[d.key+"Key"]}}return d!==false&&e&&!s(c.hoveredAdorner)&&!s(c._hoveredConnector)},start:function(){this.scroller.enable()},move:function(){},_move:function(a){var b=this,c=b.toolService.diagram,d=c.canvas,e=new l(a.scrollLeft,a.scrollTop);if(d.translate){c._storePan(e.times(-1));b.movableCanvas.moveTo(e);d.translate(e.x,e.y)}else{e=e.plus(c._pan.times(-1))}c.trigger(V,{pan:e})},end:function(){this.scroller.disable()},getCursor:function(){return v.move}});var pa=f.extend({init:function(a){this.toolService=a},tryActivate:function(){return true},start:function(a,b){var c=this.toolService,d=c.diagram,e=c.hoveredItem;if(e){c.selectSingle(e,b);if(e.adorner){this.adorner=e.adorner;this.handle=this.adorner._hitTest(a)}}if(!this.handle){this.handle=d._resizingAdorner._hitTest(a);if(this.handle){this.adorner=d._resizingAdorner}}if(this.adorner){if(!this.adorner.isDragHandle(this.handle)||!d.trigger(E,{shapes:this.adorner.shapes,connections:[]})){this.adorner.start(a)}else{c.startPoint=a;c.end(a)}}},move:function(a){if(this.adorner){this.adorner.move(this.handle,a);if(this.adorner.isDragHandle(this.handle)){this.toolService.diagram.trigger(F,{shapes:this.adorner.shapes,connections:[]})}}},end:function(){var a=this.toolService.diagram,c=this.adorner,d;if(c){if(!c.isDragHandle(this.handle)||!a.trigger(G,{shapes:c.shapes,connections:[]})){d=c.stop();if(d){a.undoRedoService.add(d,false)}}else{c.cancel()}}this.adorner=b;this.handle=b},getCursor:function(a){return this.toolService.hoveredItem?this.toolService.hoveredItem._getCursor(a):v.arrow}});var qa=f.extend({init:function(a){this.toolService=a},tryActivate:function(a,b){var c=this.toolService;var d=c.diagram.options.selectable;var e=d&&d.multiple!==false;if(e){if(d.key&&d.key!="none"){e=b[d.key+"Key"]}else{e=Ia(b)}}return e&&!s(c.hoveredItem)&&!s(c.hoveredAdorner)},start:function(a){var b=this.toolService.diagram;b.deselect();b.selector.start(a)},move:function(a){var b=this.toolService.diagram;b.selector.move(a)},end:function(a,b){var c=this.toolService.diagram,d=this.toolService.hoveredItem;var e=c.selector.bounds();if((!d||!d.isSelected)&&!b.ctrlKey){c.deselect()}if(!e.isEmpty()){c.selectArea(e)}c.selector.end()},getCursor:function(){return v.arrow}});var ra=f.extend({init:function(a){this.toolService=a;this.type="ConnectionTool"},tryActivate:function(){return this.toolService._hoveredConnector},start:function(a,b){var c=this.toolService,d=c.diagram,e=c._hoveredConnector,f=d._createConnection({},e._c,a);if(Ga(f)&&!d.trigger(E,{shapes:[],connections:[f],connectionHandle:Y})&&d._addConnection(f)){c._connectionManipulation(f,e._c.shape,true);c._removeHover();c.selectSingle(c.activeConnection,b);if(b.type=="touchmove"){d._cachedTouchTarget=e.visual}}else{f.source(null);c.end(a)}},move:function(a){var b=this.toolService;var c=b.activeConnection;c.target(a);b.diagram.trigger(F,{shapes:[],connections:[c],connectionHandle:Y});return true},end:function(a){var b=this.toolService,c=b.diagram,d=b.activeConnection,f=b.hoveredItem,g=b._hoveredConnector,h,i=c._cachedTouchTarget;if(!d){return}if(g&&g._c!=d.sourceConnector){h=g._c}else if(f&&f instanceof e.Shape){h=f.getConnector(x)||f.getConnector(a)}else{h=a}d.target(h);if(!c.trigger(G,{shapes:[],connections:[d],connectionHandle:Y})){d.updateModel();c._syncConnectionChanges()}else{c.remove(d,false);c.undoRedoService.pop()}b._connectionManipulation();if(i){c._connectorsAdorner.visual.remove(i);c._cachedTouchTarget=null}},getCursor:function(){return v.arrow}});var sa=f.extend({init:function(a){this.toolService=a;this.type="ConnectionTool"},tryActivate:function(a,b){var c=this.toolService,d=c.diagram,e=d.options.selectable,f=c.hoveredItem,g=e!==false&&f&&f.path&&!(f.isSelected&&b.ctrlKey);if(g){this._c=f}return g},start:function(a,b){var c=this.toolService;var d=this._c;c.selectSingle(d,b);var e=d.adorner;var f,g;if(e){f=e._hitTest(a);g=Z[f]}if(Ga(d)&&e&&!c.diagram.trigger(E,{shapes:[],connections:[d],connectionHandle:g})){this.handle=f;this.handleName=g;e.start(a)}else{c.startPoint=a;c.end(a)}},move:function(a){var b=this._c.adorner;if(Ga(this._c)&&b){b.move(this.handle,a);this.toolService.diagram.trigger(F,{shapes:[],connections:[this._c],connectionHandle:this.handleName});return true}},end:function(a){var b=this._c;var c=b.adorner;var d=this.toolService;var e=d.diagram;if(c){if(Ga(b)){var f=c.stop(a);if(!e.trigger(G,{shapes:[],connections:[b],connectionHandle:this.handleName})){e.undoRedoService.add(f,false);b.updateModel();e._syncConnectionChanges()}else{f.undo()}}}},getCursor:function(){return v.move}});function ta(a,b){return b.charCodeAt(0)==a||b.toUpperCase().charCodeAt(0)==a}var ua=f.extend({init:function(a){this.diagram=a;this.tools=[new oa(this),new sa(this),new ra(this),new qa(this),new pa(this)];this.activeTool=b},start:function(a,b){b=o({},b);if(this.activeTool){this.activeTool.end(a,b)}this._updateHoveredItem(a);this._activateTool(a,b);this.activeTool.start(a,b);this._updateCursor(a);this.diagram.focus();this.diagram.canvas.surface.suspendTracking();this.startPoint=a;return true},move:function(a,b){b=o({},b);var c=true;if(this.activeTool){c=this.activeTool.move(a,b)}if(c){this._updateHoveredItem(a)}this._updateCursor(a);return true},end:function(a,c){c=o({},c);if(this.activeTool){this.activeTool.end(a,c)}this.diagram.canvas.surface.resumeTracking();this.activeTool=b;this._updateCursor(a);return true},keyDown:function(a,b){var c=this.diagram;b=o({ctrlKey:false,metaKey:false,altKey:false},b);if((b.ctrlKey||b.metaKey)&&!b.altKey){if(ta(a,"a")){c.selectAll();c._destroyToolBar();return true}else if(ta(a,"z")){c.undo();c._destroyToolBar();return true}else if(ta(a,"y")){c.redo();c._destroyToolBar();return true}else if(ta(a,"c")){c.copy();c._destroyToolBar()}else if(ta(a,"x")){c.cut();c._destroyToolBar()}else if(ta(a,"v")){c.paste();c._destroyToolBar()}else if(ta(a,"l")){c.layout();c._destroyToolBar()}else if(ta(a,"d")){c._destroyToolBar();c.copy();c.paste()}}else if(a===46||a===8){var d=this.diagram._triggerRemove(c.select());if(d.length){this.diagram.remove(d,true);this.diagram._syncChanges();this.diagram._destroyToolBar()}return true}else if(a===27){this._discardNewConnection();c.deselect();c._destroyToolBar();return true}},wheel:function(a,b){var d=this.diagram,e=b.delta,f=d.zoom(),g=d.options,h=g.zoomRate,i={point:a,meta:b,zoom:f};if(d.trigger(N,i)){return}if(e<0){f+=h}else{f-=h}f=c.dataviz.round(Math.max(g.zoomMin,Math.min(g.zoomMax,f)),2);i.zoom=f;d.zoom(f,i);d.trigger(O,i);return true},setTool:function(a,b){a.toolService=this;this.tools[b]=a},selectSingle:function(a,b){var c=this.diagram;var d=c.options.selectable;if(d&&!a.isSelected&&a.options.selectable!==false){var e=b.ctrlKey&&d.multiple!==false;c.select(a,{addToSelection:e})}},_discardNewConnection:function(){if(this.newConnection){this.diagram.remove(this.newConnection);this.newConnection=b}},_activateTool:function(a,b){for(var c=0;c<this.tools.length;c++){var d=this.tools[c];if(d.tryActivate(a,b)){this.activeTool=d;break}}},_updateCursor:function(a){var b=this.diagram.element;var c=this.activeTool?this.activeTool.getCursor(a):this.hoveredAdorner?this.hoveredAdorner._getCursor(a):this.hoveredItem?this.hoveredItem._getCursor(a):v.arrow;
b.css({cursor:c});if(q.msie&&q.version==7){b[0].style.cssText=b[0].style.cssText}},_connectionManipulation:function(a,c,d){this.activeConnection=a;this.disabledShape=c;if(d){this.newConnection=this.activeConnection}else{this.newConnection=b}},_updateHoveredItem:function(a){var c=this._hitTest(a);var d=this.diagram;if(c!=this.hoveredItem&&(!this.disabledShape||c!=this.disabledShape)){if(this.hoveredItem){d.trigger(M,{item:this.hoveredItem});this.hoveredItem._hover(false)}if(c&&c.options.enable){d.trigger(L,{item:c});this.hoveredItem=c;this.hoveredItem._hover(true)}else{this.hoveredItem=b}}},_removeHover:function(){if(this.hoveredItem){this.hoveredItem._hover(false);this.hoveredItem=b}},_hitTest:function(a){var c,d=this.diagram,f,g;if(this._hoveredConnector){this._hoveredConnector._hover(false);this._hoveredConnector=b}if(d._connectorsAdorner._visible){c=d._connectorsAdorner._hitTest(a);if(c){return c}}c=this.diagram._resizingAdorner._hitTest(a);if(c){this.hoveredAdorner=d._resizingAdorner;if(c.x!==0||c.y!==0){return}c=b}else{this.hoveredAdorner=b}if(!this.activeTool||this.activeTool.type!=="ConnectionTool"){var h=[];for(g=0;g<d._selectedItems.length;g++){f=d._selectedItems[g];if(f instanceof e.Connection){h.push(f)}}c=this._hitTestItems(h,a)}return c||this._hitTestElements(a)},_hitTestElements:function(a){var b=this.diagram;var c=this._hitTestItems(b.shapes,a);var d=this._hitTestItems(b.connections,a);var e;if((!this.activeTool||this.activeTool.type!="ConnectionTool")&&c&&d&&!Ha(c,a)){var f=b.mainLayer;var g=t(c.visual,f.children);var h=t(d.visual,f.children);e=g>h?c:d}return e||c||d},_hitTestItems:function(a,b){var c,d,e;for(c=a.length-1;c>=0;c--){d=a[c];e=d._hitTest(b);if(e){return e}}}});var va=c.Class.extend({init:function(){}});var wa=va.extend({init:function(a){var b=this;va.fn.init.call(b);this.connection=a},hitTest:function(a){var b=this.getBounds().inflate(w);if(!b.contains(a)){return false}return e.Geometry.distanceToPolyline(a,this.connection.allPoints())<w},getBounds:function(){var a=this.connection.allPoints(),b=a[0],c=a[a.length-1],d=Math.max(b.x,c.x),e=Math.min(b.x,c.x),f=Math.min(b.y,c.y),g=Math.max(b.y,c.y);for(var i=1;i<a.length-1;++i){d=Math.max(d,a[i].x);e=Math.min(e,a[i].x);f=Math.min(f,a[i].y);g=Math.max(g,a[i].y)}return new h(e,f,d-e,g-f)}});var xa=wa.extend({init:function(a){var b=this;wa.fn.init.call(b);this.connection=a},route:function(){}});var ya=wa.extend({SAME_SIDE_DISTANCE_RATIO:5,init:function(a){var b=this;wa.fn.init.call(b);this.connection=a},routePoints:function(a,b,c,d){var e;if(c&&d){e=this._connectorPoints(a,b,c,d)}else{e=this._floatingPoints(a,b,c)}return e},route:function(){var a=this.connection._resolvedSourceConnector;var b=this.connection._resolvedTargetConnector;var c=this.connection.sourcePoint();var d=this.connection.targetPoint();var e=this.routePoints(c,d,a,b);this.connection.points(e)},_connectorSides:[{name:"Top",axis:"y",boundsPoint:"topLeft",secondarySign:1},{name:"Left",axis:"x",boundsPoint:"topLeft",secondarySign:1},{name:"Bottom",axis:"y",boundsPoint:"bottomRight",secondarySign:-1},{name:"Right",axis:"x",boundsPoint:"bottomRight",secondarySign:-1}],_connectorSide:function(a,b){var c=a.position();var d=a.shape.bounds(W);var e={topLeft:d.topLeft(),bottomRight:d.bottomRight()};var f=this._connectorSides;var g=r.MAX_NUM;var h;var i;var j;var k;for(var l=0;l<f.length;l++){k=f[l];j=k.axis;h=Math.round(Math.abs(c[j]-e[k.boundsPoint][j]));if(h<g){g=h;i=k}else if(h===g&&(c[j]-b[j])*k.secondarySign>(c[i.axis]-b[i.axis])*i.secondarySign){i=k}}return i.name},_sameSideDistance:function(a){var b=a.shape.bounds(W);return Math.min(b.width,b.height)/this.SAME_SIDE_DISTANCE_RATIO},_connectorPoints:function(a,b,c,d){var e=this._connectorSide(c,b);var f=this._connectorSide(d,a);var g=b.x-a.x;var h=b.y-a.y;var i=this._sameSideDistance(c);var j=[];var k,m;if(e===y||e==B){if(f==y||f==B){if(e==f){if(e==y){m=Math.min(a.y,b.y)-i}else{m=Math.max(a.y,b.y)+i}j=[new l(a.x,m),new l(b.x,m)]}else{j=[new l(a.x,a.y+h/2),new l(b.x,a.y+h/2)]}}else{j=[new l(a.x,b.y)]}}else{if(f==A||f==z){if(e==f){if(e==A){k=Math.min(a.x,b.x)-i}else{k=Math.max(a.x,b.x)+i}j=[new l(k,a.y),new l(k,b.y)]}else{j=[new l(a.x+g/2,a.y),new l(a.x+g/2,a.y+h)]}}else{j=[new l(b.x,a.y)]}}return j},_floatingPoints:function(a,b,c){var d=c?this._connectorSide(c,b):null;var e=this._startHorizontal(a,b,d);var f=[a,a,b,b];var g=b.x-a.x;var h=b.y-a.y;var i=f.length;var j;var k;for(var m=1;m<i-1;++m){if(e){if(m%2!==0){j=g/(i/2);k=0}else{j=0;k=h/((i-1)/2)}}else{if(m%2!==0){j=0;k=h/(i/2)}else{j=g/((i-1)/2);k=0}}f[m]=new l(f[m-1].x+j,f[m-1].y+k)}m--;if(e&&m%2!==0||!e&&m%2===0){f[i-2]=new l(f[i-1].x,f[i-2].y)}else{f[i-2]=new l(f[i-2].x,f[i-1].y)}return[f[1],f[2]]},_startHorizontal:function(a,b,c){var d;if(c!==null&&(c===z||c===A)){d=true}else{d=Math.abs(a.x-b.x)>Math.abs(a.y-b.y)}return d}});var za=f.extend({init:function(a,b){var c=this;c.diagram=a;c.options=o({},c.options,b);c.visual=new g;c.diagram._adorners.push(c)},refresh:function(){}});var Aa=za.extend({init:function(a,b){var c=this,d;c.connection=a;d=c.connection.diagram;c._ts=d.toolService;za.fn.init.call(c,d,b);var e=c.connection.sourcePoint();var f=c.connection.targetPoint();c.spVisual=new m(o(c.options.handles,{center:e}));c.epVisual=new m(o(c.options.handles,{center:f}));c.visual.append(c.spVisual);c.visual.append(c.epVisual)},options:{handles:{}},_getCursor:function(){return v.move},start:function(a){this.handle=this._hitTest(a);this.startPoint=a;this._initialSource=this.connection.source();this._initialTarget=this.connection.target();switch(this.handle){case-1:if(this.connection.targetConnector){this._ts._connectionManipulation(this.connection,this.connection.targetConnector.shape)}break;case 1:if(this.connection.sourceConnector){this._ts._connectionManipulation(this.connection,this.connection.sourceConnector.shape)}break}},move:function(a,b){switch(a){case-1:this.connection.source(b);break;case 1:this.connection.target(b);break;default:var c=b.minus(this.startPoint);this.startPoint=b;if(!this.connection.sourceConnector){this.connection.source(this.connection.sourcePoint().plus(c))}if(!this.connection.targetConnector){this.connection.target(this.connection.targetPoint().plus(c))}break}this.refresh();return true},stop:function(a){var c=this.diagram.toolService,d=c.hoveredItem,f;if(c._hoveredConnector){f=c._hoveredConnector._c}else if(d&&d instanceof e.Shape){f=d.getConnector(x)||d.getConnector(a)}else{f=a}if(this.handle===-1){this.connection.source(f)}else if(this.handle===1){this.connection.target(f)}this.handle=b;this._ts._connectionManipulation();return new ca(this.connection,this._initialSource,this._initialTarget)},_hitTest:function(a){var b=this.connection.sourcePoint();var c=this.connection.targetPoint();var d=this.options.handles.width/2+w;var e=this.options.handles.height/2+w;var f=b.distanceTo(a);var g=c.distanceTo(a);var i=new h(b.x,b.y).inflate(d,e).contains(a);var j=new h(c.x,c.y).inflate(d,e).contains(a);var k=0;if(i&&(!j||f<g)){k=-1}else if(j&&(!i||g<f)){k=1}return k},refresh:function(){this.spVisual.redraw({center:this.diagram.modelToLayer(this.connection.sourcePoint())});this.epVisual.redraw({center:this.diagram.modelToLayer(this.connection.targetPoint())})}});var Ba=za.extend({init:function(a,b){var c=this;za.fn.init.call(c,a,b);c._refreshHandler=function(a){if(a.item==c.shape){c.refresh()}}},show:function(a){var b=this,c,d,e;b._visible=true;b.shape=a;b.diagram.bind(I,b._refreshHandler);c=a.connectors.length;b.connectors=[];b._clearVisual();for(d=0;d<c;d++){e=new Fa(a.connectors[d]);b.connectors.push(e);b.visual.append(e.visual)}b.visual.visible(true);b.refresh()},_clearVisual:function(){var a=this;if(a.diagram._cachedTouchTarget){a._keepCachedTouchTarget()}else{a.visual.clear()}},_keepCachedTouchTarget:function(){var a=this,b=a.visual.children;var c=b.length;var d=t(a.diagram._cachedTouchTarget,b);for(var e=c-1;e>=0;e--){if(e==d){continue}a.visual.remove(b[e])}},destroy:function(){var a=this;a.diagram.unbind(I,a._refreshHandler);a.shape=b;a._visible=b;a.visual.visible(false)},_hitTest:function(a){var b,c;for(c=0;c<this.connectors.length;c++){b=this.connectors[c];if(b._hitTest(a)){b._hover(true);this.diagram.toolService._hoveredConnector=b;break}}},refresh:function(){if(this.shape){var b=this.shape.bounds();b=this.diagram.modelToLayer(b);this.visual.position(b.topLeft());a.each(this.connectors,function(){this.refresh()})}}});function Ca(a,b){var c;if(a.x==-1&&a.y==-1){c=b.bottomRight()}else if(a.x==1&&a.y==1){c=b.topLeft()}else if(a.x==-1&&a.y==1){c=b.topRight()}else if(a.x==1&&a.y==-1){c=b.bottomLeft()}else if(a.x===0&&a.y==-1){c=b.bottom()}else if(a.x===0&&a.y==1){c=b.top()}else if(a.x==1&&a.y===0){c=b.left()}else if(a.x==-1&&a.y===0){c=b.right()}return c}var Da=za.extend({init:function(a,b){var c=this;za.fn.init.call(c,a,b);c._manipulating=false;c.map=[];c.shapes=[];c._initSelection();c._createHandles();c.redraw();c.diagram.bind("select",function(a){c._initialize(a.selected)});c._refreshHandler=function(){if(!c._internalChange){c.refreshBounds();c.refresh()}};c._rotatedHandler=function(){if(c.shapes.length==1){c._angle=c.shapes[0].rotate().angle}c._refreshHandler()};c.diagram.bind(I,c._refreshHandler).bind(H,c._rotatedHandler);c.refreshBounds();c.refresh()},options:{handles:{fill:{color:"#fff"},stroke:{color:"#282828"},height:7,width:7,hover:{fill:{color:"#282828"},stroke:{color:"#282828"}}},selectable:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:U}},offset:10},_initSelection:function(){var a=this;var b=a.diagram;var c=b.options.selectable;var d=o({},a.options.selectable,c);a.rect=new i(d);a.visual.append(a.rect)},_resizable:function(){return this.options.editable&&this.options.editable.resize!==false},_handleOptions:function(){return(this.options.editable.resize||{}).handles||this.options.handles},_createHandles:function(){var a,b,c,d;if(this._resizable()){a=this._handleOptions();for(d=-1;d<=1;d++){for(c=-1;c<=1;c++){if(d!==0||c!==0){b=new i(a);b.drawingElement._hover=u(this._hover,this);this.map.push({x:d,y:c,visual:b});this.visual.append(b)}}}}},bounds:function(a){if(a){this._innerBounds=a.clone();this._bounds=this.diagram.modelToLayer(a).inflate(this.options.offset,this.options.offset)}else{return this._bounds}},_hitTest:function(a){var b=this.diagram.modelToLayer(a),c,d,e,f=this.map.length,g;if(this._angle){b=b.clone().rotate(this._bounds.center(),this._angle)}if(this._resizable()){for(c=0;c<f;c++){g=this.map[c];d=new l(g.x,g.y);e=this._getHandleBounds(d);e.offset(this._bounds.x,this._bounds.y);if(e.contains(b)){return d}}}if(this._bounds.contains(b)){return new l(0,0)}},_getHandleBounds:function(a){if(this._resizable()){var b=this._handleOptions(),c=b.width,d=b.height,e=new h(0,0,c,d);if(a.x<0){e.x=-c/2}else if(a.x===0){e.x=Math.floor(this._bounds.width/2)-c/2}else if(a.x>0){e.x=this._bounds.width+1-c/2}if(a.y<0){e.y=-d/2}else if(a.y===0){e.y=Math.floor(this._bounds.height/2)-d/2}else if(a.y>0){e.y=this._bounds.height+1-d/2}return e}},_getCursor:function(a){var b=this._hitTest(a);if(b&&b.x>=-1&&b.x<=1&&b.y>=-1&&b.y<=1&&this._resizable()){var c=this._angle;if(c){c=360-c;b.rotate(new l(0,0),c);b=new l(Math.round(b.x),Math.round(b.y))}if(b.x==-1&&b.y==-1){return"nw-resize"}if(b.x==1&&b.y==1){return"se-resize"}if(b.x==-1&&b.y==1){return"sw-resize"}if(b.x==1&&b.y==-1){return"ne-resize"}if(b.x===0&&b.y==-1){return"n-resize"}if(b.x===0&&b.y==1){return"s-resize"}if(b.x==1&&b.y===0){return"e-resize"}if(b.x==-1&&b.y===0){return"w-resize"}}return this._manipulating?v.move:v.select},_initialize:function(){var a=this,b,c,d=a.diagram.select();a.shapes=[];for(b=0;b<d.length;b++){c=d[b];if(c instanceof e.Shape){a.shapes.push(c);c._rotationOffset=new l}}a._angle=a.shapes.length==1?a.shapes[0].rotate().angle:0;a._startAngle=a._angle;a._rotates();a._positions();a.refreshBounds();a.refresh();a.redraw()},_rotates:function(){var a=this,b,c;a.initialRotates=[];for(b=0;b<a.shapes.length;b++){c=a.shapes[b];a.initialRotates.push(c.rotate().angle)}},_positions:function(){var a=this,b,c;a.initialStates=[];for(b=0;b<a.shapes.length;b++){c=a.shapes[b];a.initialStates.push(c.bounds())}},_hover:function(a,b){if(this._resizable()){var c=this._handleOptions(),d=c.hover,e=c.stroke,f=c.fill;if(a&&j.isDefined(d.stroke)){e=o({},e,d.stroke)}if(a&&j.isDefined(d.fill)){f=d.fill}b.stroke(e.color,e.width,e.opacity);b.fill(f.color,f.opacity)}},start:function(a){this._sp=a;this._cp=a;this._lp=a;this._manipulating=true;this._internalChange=true;this.shapeStates=[];for(var b=0;b<this.shapes.length;b++){var c=this.shapes[b];this.shapeStates.push(c.bounds())}},redraw:function(){var a,b,c=this._resizable();for(a=0;a<this.map.length;a++){b=this.map[a];b.visual.visible(c)}},angle:function(a){if(s(a)){this._angle=a}return this._angle},rotate:function(){var a=this._innerBounds.center();var b=this.angle();this._internalChange=true;for(var c=0;c<this.shapes.length;c++){var d=this.shapes[c];b=(b+this.initialRotates[c]-this._startAngle)%360;d.rotate(b,a)}this.refresh()},move:function(a,b){var c,d,e=new l,f=new l,g,i,k,m,n,o,p=0,q,r,s;if(a.y===-2&&a.x===-1){i=this._innerBounds.center();this._angle=this._truncateAngle(j.findAngle(i,b));for(m=0;m<this.shapes.length;m++){k=this.shapes[m];n=(this._angle+this.initialRotates[m]-this._startAngle)%360;k.rotate(n,i);if(k.hasOwnProperty("layout")){k.layout(k)}this._rotating=true}this.refresh()}else{if(this.shouldSnap()){var t=this._truncateDistance(b.minus(this._lp));if(t.x===0&&t.y===0){this._cp=b;return}c=t;this._lp=new l(this._lp.x+t.x,this._lp.y+t.y)}else{c=b.minus(this._cp)}if(this.isDragHandle(a)){f=e=c;d=true}else{if(this._angle){c.rotate(new l(0,0),this._angle)}if(a.x==-1){e.x=c.x}else if(a.x==1){f.x=c.x}if(a.y==-1){e.y=c.y}else if(a.y==1){f.y=c.y}}if(!d){q=Ca(a,this._innerBounds);r=(this._innerBounds.width+c.x*a.x)/this._innerBounds.width;s=(this._innerBounds.height+c.y*a.y)/this._innerBounds.height}for(m=0;m<this.shapes.length;m++){k=this.shapes[m];g=k.bounds();if(d){if(!Ga(k)){continue}o=this._displaceBounds(g,e,f,d)}else{o=g.clone();o.scale(r,s,q,this._innerBounds.center(),k.rotate().angle);var u=o.center();u.rotate(g.center(),-this._angle);o=new h(u.x-o.width/2,u.y-o.height/2,o.width,o.height)}if(o.width>=k.options.minWidth&&o.height>=k.options.minHeight){var v=g;k.bounds(o);if(k.hasOwnProperty("layout")){k.layout(k,v,o)}if(v.width!==o.width||v.height!==o.height){k.rotate(k.rotate().angle)}p+=1}}if(p){if(p==m){o=this._displaceBounds(this._innerBounds,e,f,d);this.bounds(o)}else{this.refreshBounds()}this.refresh()}this._positions()}this._cp=b},isDragHandle:function(a){return a.x===0&&a.y===0},cancel:function(){var a=this.shapes;var c=this.shapeStates;for(var d=0;d<a.length;d++){a[d].bounds(c[d])}this.refreshBounds();this.refresh();this._manipulating=b;this._internalChange=b;this._rotating=b},_truncatePositionToGuides:function(a){if(this.diagram.ruler){return this.diagram.ruler.truncatePositionToGuides(a)}return a},_truncateSizeToGuides:function(a){if(this.diagram.ruler){return this.diagram.ruler.truncateSizeToGuides(a)}return a},_truncateAngle:function(a){var b=this.snapOptions();var c=Math.max(b.angle||D,K);return b?Math.floor(a%360/c)*c:a%360},_truncateDistance:function(a){if(a instanceof e.Point){return new e.Point(this._truncateDistance(a.x),this._truncateDistance(a.y))}else{var b=this.snapOptions()||{};var c=Math.max(b.size||C,J);return b?Math.floor(a/c)*c:a}},snapOptions:function(){var a=this.diagram.options.editable;var b=((a||{}).drag||{}).snap||{};return b},shouldSnap:function(){var a=this.diagram.options.editable;var b=(a||{}).drag;var c=(b||{}).snap;return a!==false&&b!==false&&c!==false},_displaceBounds:function(a,b,c,d){var e=a.topLeft().plus(b),f=a.bottomRight().plus(c),g=h.fromPoints(e,f),i;if(!d){i=g.center();i.rotate(a.center(),-this._angle);g=new h(i.x-g.width/2,i.y-g.height/2,g.width,g.height)}return g},stop:function(){var a,c,d;if(this._cp!=this._sp){if(this._rotating){a=new ja(this,this.shapes,this.initialRotates);this._rotating=false}else if(this._diffStates()){if(this.diagram.ruler){for(c=0;c<this.shapes.length;c++){d=this.shapes[c];var e=d.bounds();e=this._truncateSizeToGuides(this._truncatePositionToGuides(e));d.bounds(e);this.refreshBounds();this.refresh()}}for(c=0;c<this.shapes.length;c++){d=this.shapes[c];d.updateModel()}a=new fa(this.shapes,this.shapeStates,this);this.diagram._syncShapeChanges()}}this._manipulating=b;this._internalChange=b;this._rotating=b;return a},_diffStates:function(){var a=this.shapes;var b=this.shapeStates;for(var c=0;c<a.length;c++){if(!a[c].bounds().equals(b[c])){return true}}return false},refreshBounds:function(){var a=this.shapes.length==1?this.shapes[0].bounds().clone():this.diagram.boundingBox(this.shapes,true);this.bounds(a)},refresh:function(){var b=this,c,d;if(this.shapes.length>0){d=this.bounds();this.visual.visible(true);this.visual.position(d.topLeft());a.each(this.map,function(){c=b._getHandleBounds(new l(this.x,this.y));this.visual.position(c.topLeft())});this.visual.position(d.topLeft());var e=new l(d.width/2,d.height/2);this.visual.rotate(this._angle,e);this.rect.redraw({width:d.width,height:d.height});if(this.rotationThumb){var f=this.options.editable.rotate.thumb;this._rotationThumbBounds=new h(d.center().x,d.y+f.y,0,0).inflate(f.width);this.rotationThumb.redraw({x:d.width/2-f.width/2})}}else{this.visual.visible(false)}}});var Ea=f.extend({init:function(a){var b=a.options.selectable;this.options=o({},this.options,b);this.visual=new i(this.options);this.diagram=a},options:{stroke:{color:"#778899",width:1,dashType:"dash"},fill:{color:U}},start:function(a){this._sp=this._ep=a;this.refresh();this.diagram._adorn(this,true)},end:function(){this._sp=this._ep=b;this.diagram._adorn(this,false)},bounds:function(a){if(a){this._bounds=a}return this._bounds},move:function(a){this._ep=a;this.refresh()},refresh:function(){if(this._sp){var a=h.fromPoints(this.diagram.modelToLayer(this._sp),this.diagram.modelToLayer(this._ep));this.bounds(h.fromPoints(this._sp,this._ep));this.visual.position(a.topLeft());this.visual.redraw({height:a.height+1,width:a.width+1})}}});var Fa=f.extend({init:function(a){this.options=o({},a.options);this._c=a;this.visual=new m(this.options);this.refresh()},_hover:function(a){var b=this.options,c=b.hover,d=b.stroke,e=b.fill;if(a&&j.isDefined(c.stroke)){d=o({},d,c.stroke)}if(a&&j.isDefined(c.fill)){e=c.fill}this.visual.redraw({stroke:d,fill:e})},refresh:function(){var a=this._c.shape.diagram.modelToView(this._c.position()),b=a.minus(this._c.shape.bounds("transformed").topLeft()),c=new h(a.x,a.y,0,0);c.inflate(this.options.width/2,this.options.height/2);this._visualBounds=c;this.visual.redraw({center:new l(b.x,b.y)})},_hitTest:function(a){var b=this._c.shape.diagram.modelToView(a);return this._visualBounds.contains(b)}});function Ga(a){var b=a.options.editable;return b&&b.drag!==false}function Ha(a,b){var c,d,e;for(var f=0;f<a.connectors.length;f++){c=a.connectors[f];d=c.position();e=new h(d.x,d.y);e.inflate(w,w);if(e.contains(b)){return c}}}function Ia(a){return a.ctrlKey===false&&a.altKey===false&&a.shiftKey===false}o(e,{CompositeUnit:aa,TransformUnit:fa,PanUndoUnit:ia,AddShapeUnit:ha,AddConnectionUnit:ga,DeleteShapeUnit:ea,DeleteConnectionUnit:da,ConnectionEditAdorner:Aa,ConnectionTool:ra,ConnectorVisual:Fa,UndoRedoService:ma,ResizingAdorner:Da,Selector:Ea,ToolService:ua,ConnectorsAdorner:Ba,LayoutUndoUnit:_,ConnectionEditUnit:ba,ToFrontUnit:ka,ToBackUnit:la,ConnectionRouterBase:va,PolylineRouter:xa,CascadingRouter:ya,SelectionTool:qa,ScrollerTool:oa,PointerTool:pa,ConnectionEditTool:sa,RotateUnit:ja})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/diagram/layout",["dataviz/diagram/math"],a)})(function(){(function(a,b){var c=window.kendo,d=c.dataviz.diagram,e=d.Graph,f=d.Node,g=d.Link,h=c.deepExtend,i=d.Size,j=d.Rect,k=d.Dictionary,l=d.Set,m=d.Graph,n=d.Utils,o=d.Point,p=1e-6,q=Math.PI/180,r=n.contains,s=a.grep;var t=c.Class.extend({defaultOptions:{type:"Tree",subtype:"Down",roots:null,animate:false,limitToView:false,friction:.9,nodeDistance:50,iterations:300,horizontalSeparation:90,verticalSeparation:50,underneathVerticalTopOffset:15,underneathHorizontalOffset:15,underneathVerticalSeparation:15,grid:{width:1500,offsetX:50,offsetY:50,componentSpacingX:20,componentSpacingY:20},layerSeparation:50,layeredIterations:2,startRadialAngle:0,endRadialAngle:360,radialSeparation:150,radialFirstLevelSeparation:200,keepComponentsInOneRadialLayout:false,ignoreContainers:true,layoutContainerChildren:false,ignoreInvisible:true,animateTransitions:false},init:function(){},gridLayoutComponents:function(a){if(!a){throw"No components supplied."}n.forEach(a,function(a){a.calcBounds()});a.sort(function(a,b){return b.bounds.width-a.bounds.width});var b=this.options.grid.width,c=this.options.grid.componentSpacingX,d=this.options.grid.componentSpacingY,e=0,f=this.options.grid.offsetX,g=this.options.grid.offsetY,h=f,i=g,j,k=[],l=[];while(a.length>0){if(h>=b){h=f;i+=e+d;e=0}var m=a.pop();this.moveToOffset(m,new o(h,i));for(j=0;j<m.nodes.length;j++){l.push(m.nodes[j])}for(j=0;j<m.links.length;j++){k.push(m.links[j])}var p=m.bounds;var q=p.height;if(q<=0||isNaN(q)){q=0}var r=p.width;if(r<=0||isNaN(r)){r=0}if(q>=e){e=q}h+=r+c}return{nodes:l,links:k}},moveToOffset:function(a,b){var c,d,e=a.bounds,f=b.x-e.x,g=b.y-e.y;for(c=0;c<a.nodes.length;c++){var h=a.nodes[c];var i=h.bounds();if(i.width===0&&i.height===0&&i.x===0&&i.y===0){i=new j(0,0,0,0)}i.x+=f;i.y+=g;h.bounds(i)}for(c=0;c<a.links.length;c++){var k=a.links[c];if(k.points){var l=[];var m=k.points;for(d=0;d<m.length;d++){var n=m[d];n.x+=f;n.y+=g;l.push(n)}k.points=l}}this.currentHorizontalOffset+=e.width+this.options.grid.offsetX;return new o(f,g)},transferOptions:function(a){this.options=c.deepExtend({},this.defaultOptions);if(n.isUndefined(a)){return}this.options=c.deepExtend(this.options,a||{})}});var u=c.Class.extend({init:function(a){this.nodeMap=new k;this.shapeMap=new k;this.nodes=[];this.edges=[];this.edgeMap=new k;this.finalNodes=[];this.finalLinks=[];this.ignoredConnections=[];this.ignoredShapes=[];this.hyperMap=new k;this.hyperTree=new e;this.finalGraph=null;this.diagram=a},convert:function(a){if(n.isUndefined(this.diagram)){throw"No diagram to convert."}this.options=c.deepExtend({ignoreInvisible:true,ignoreContainers:true,layoutContainerChildren:false},a||{});this.clear();this._renormalizeShapes();this._renormalizeConnections();this.finalNodes=new k(this.nodes);this.finalLinks=new k(this.edges);this.finalGraph=new e;this.finalNodes.forEach(function(a){this.finalGraph.addNode(a)},this);this.finalLinks.forEach(function(a){this.finalGraph.addExistingLink(a)},this);return this.finalGraph},mapConnection:function(a){return this.edgeMap.get(a.id)},mapShape:function(a){return this.nodeMap.get(a.id)},getEdge:function(a,b){return n.first(a.links,function(c){return c.getComplement(a)===b})},clear:function(){this.finalGraph=null;this.hyperTree=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new m:null;this.hyperMap=!this.options.ignoreContainers&&this.options.layoutContainerChildren?new k:null;this.nodeMap=new k;this.shapeMap=new k;this.nodes=[];this.edges=[];this.edgeMap=new k;this.ignoredConnections=[];this.ignoredShapes=[];this.finalNodes=[];this.finalLinks=[]},listToRoot:function(a){var b=[];var c=a.container;if(!c){return b}b.push(c);while(c.parentContainer){c=c.parentContainer;b.push(c)}b.reverse();return b},firstNonIgnorableContainer:function(a){if(a.isContainer&&!this._isIgnorableItem(a)){return a}return!a.parentContainer?null:this.firstNonIgnorableContainer(a.parentContainer)},isContainerConnection:function(a,b){if(a.isContainer&&this.isDescendantOf(a,b)){return true}return b.isContainer&&this.isDescendantOf(b,a)},isDescendantOf:function(a,b){if(!a.isContainer){throw"Expecting a container."}if(a===b){return false}if(r(a.children,b)){return true}var c=[];for(var d=0,e=a.children.length;d<e;d++){var f=a.children[d];if(f.isContainer&&this.isDescendantOf(f,b)){c.push(f)}}return c.length>0},isIgnorableItem:function(a){if(this.options.ignoreInvisible){if(a.isCollapsed&&this._isVisible(a)){return false}if(!a.isCollapsed&&this._isVisible(a)){return false}return true}else{return a.isCollapsed&&!this._isTop(a)}},isShapeMapped:function(a){return a.isCollapsed&&!this._isVisible(a)&&!this._isTop(a)},leastCommonAncestor:function(a,b){if(!a){throw"Parameter should not be null."}if(!b){throw"Parameter should not be null."}if(!this.hyperTree){throw"No hypertree available."}var c=this.listToRoot(a);var d=this.listToRoot(b);var e=null;if(n.isEmpty(c)||n.isEmpty(d)){return this.hyperTree.root.data}var f=c[0];var g=d[0];var h=0;while(f===g){e=c[h];h++;if(h>=c.length||h>=d.length){break}f=c[h];g=d[h]}if(!e){return this.hyperTree.root.data}else{return s(this.hyperTree.nodes,function(a){return a.data.container===e})}},_isTop:function(a){return!a.parentContainer},_isVisible:function(a){if(!a.visible()){return false}return!a.parentContainer?a.visible():this._isVisible(a.parentContainer)},_isCollapsed:function(a){if(a.isContainer&&a.isCollapsed){return true}return a.parentContainer&&this._isCollapsed(a.parentContainer)},_renormalizeShapes:function(){if(this.options.ignoreContainers){for(var a=0,b=this.diagram.shapes.length;a<b;a++){var c=this.diagram.shapes[a];if(this.options.ignoreInvisible&&!this._isVisible(c)||c.isContainer){this.ignoredShapes.push(c);continue}var d=new f(c.id,c);d.isVirtual=false;this.nodeMap.add(c.id,d);this.nodes.push(d)}}else{throw"Containers are not supported yet, but stay tuned."}},_renormalizeConnections:function(){if(this.diagram.connections.length===0){return}for(var a=0,b=this.diagram.connections.length;a<b;a++){var c=this.diagram.connections[a];if(this.isIgnorableItem(c)){this.ignoredConnections.push(c);continue}var d=!c.sourceConnector?null:c.sourceConnector.shape;var e=!c.targetConnector?null:c.targetConnector.shape;if(!d||!e){this.ignoredConnections.push(c);continue}if(r(this.ignoredShapes,d)&&!this.shapeMap.containsKey(d)){this.ignoredConnections.push(c);continue}if(r(this.ignoredShapes,e)&&!this.shapeMap.containsKey(e)){this.ignoredConnections.push(c);continue}if(this.shapeMap.containsKey(d)){d=this.shapeMap[d]}if(this.shapeMap.containsKey(e)){e=this.shapeMap[e]}var f=this.mapShape(d);var h=this.mapShape(e);if(f===h||this.areConnectedAlready(f,h)){this.ignoredConnections.push(c);continue}if(f===null||h===null){throw"A shape was not mapped to a node."}if(this.options.ignoreContainers){if(f.isVirtual||h.isVirtual){this.ignoredConnections.push(c);continue}var i=new g(f,h,c.id,c);this.edgeMap.add(c.id,i);this.edges.push(i)}else{throw"Containers are not supported yet, but stay tuned."}}},areConnectedAlready:function(a,b){return n.any(this.edges,function(c){return c.source===a&&c.target===b||c.source===b&&c.target===a})}});var v=t.extend({init:function(a){var b=this;t.fn.init.call(b);if(n.isUndefined(a)){throw"Diagram is not specified."}this.diagram=a},layout:function(a){this.transferOptions(a);var b=new u(this.diagram);var c=b.convert(a);if(c.isEmpty()){return}var e=c.getConnectedComponents();if(n.isEmpty(e)){return}for(var f=0;f<e.length;f++){var g=e[f];this.layoutGraph(g,a)}var h=this.gridLayoutComponents(e);return new d.LayoutState(this.diagram,h)},layoutGraph:function(a,b){if(n.isDefined(b)){this.transferOptions(b)}this.graph=a;var c=this.options.nodeDistance*9;this.temperature=c;var d=this._expectedBounds();this.width=d.width;this.height=d.height;for(var e=0;e<this.options.iterations;e++){this.refineStage=e>=this.options.iterations*5/6;this.tick();this.temperature=this.refineStage?c/30:c*(1-e/(2*this.options.iterations))}},tick:function(){var a;for(a=0;a<this.graph.nodes.length;a++){this._repulsion(this.graph.nodes[a])}for(a=0;a<this.graph.links.length;a++){this._attraction(this.graph.links[a])}for(a=0;a<this.graph.nodes.length;a++){var b=this.graph.nodes[a];var c=Math.sqrt(b.dx*b.dx+b.dy*b.dy);if(c===0){return}b.x+=Math.min(c,this.temperature)*b.dx/c;b.y+=Math.min(c,this.temperature)*b.dy/c;if(this.options.limitToView){b.x=Math.min(this.width,Math.max(b.width/2,b.x));b.y=Math.min(this.height,Math.max(b.height/2,b.y))}}},_shake:function(a){var b=Math.random()*this.options.nodeDistance/4;var c=Math.random()*2*Math.PI;a.x+=b*Math.cos(c);a.y-=b*Math.sin(c)},_InverseSquareForce:function(a,b,c){var d;if(!this.refineStage){d=Math.pow(a,2)/Math.pow(this.options.nodeDistance,2)}else{var e=b.x-c.x;var f=b.y-c.y;var g=b.width/2;var h=b.height/2;var i=c.width/2;var j=c.height/2;d=Math.pow(e,2)/Math.pow(g+i+this.options.nodeDistance,2)+Math.pow(f,2)/Math.pow(h+j+this.options.nodeDistance,2)}return d*4/3},_SquareForce:function(a,b,c){return 1/this._InverseSquareForce(a,b,c)},_repulsion:function(a){a.dx=0;a.dy=0;n.forEach(this.graph.nodes,function(b){if(b===a){return}while(a.x===b.x&&a.y===b.y){this._shake(b)}var c=a.x-b.x;var d=a.y-b.y;var e=Math.sqrt(c*c+d*d);var f=this._SquareForce(e,a,b)*2;a.dx+=c/e*f;a.dy+=d/e*f},this)},_attraction:function(a){var b=a.target;var c=a.source;if(c===b){return}while(c.x===b.x&&c.y===b.y){this._shake(b)}var d=c.x-b.x;var e=c.y-b.y;var f=Math.sqrt(d*d+e*e);var g=this._InverseSquareForce(f,c,b)*5;var h=d/f*g;var i=e/f*g;b.dx+=h;b.dy+=i;c.dx-=h;c.dy-=i},_expectedBounds:function(){var a,b=this.graph.nodes.length,c=1.5,d=4;if(b===0){return a}a=n.fold(this.graph.nodes,function(a,b){var c=b.width*b.height;if(c>0){a+=Math.sqrt(c);return a}return 0},0,this);var e=a/b;var f=e*Math.ceil(Math.sqrt(b));var g=f*Math.sqrt(c);var h=f/Math.sqrt(c);return{width:g*d,height:h*d}}});var w=c.Class.extend({init:function(a){this.center=null;this.options=a},layout:function(a,b){this.graph=a;if(!this.graph.nodes||this.graph.nodes.length===0){return}if(!r(this.graph.nodes,b)){throw"The given root is not in the graph."}this.center=b;this.graph.cacheRelationships();this.layoutSwitch()},layoutLeft:function(a){this.setChildrenDirection(this.center,"Left",false);this.setChildrenLayout(this.center,"Default",false);var b=0,c=0,d,e,f;for(e=0;e<a.length;e++){f=a[e];f.TreeDirection="Left";var g=this.measure(f,i.Empty);c=Math.max(c,g.Width);b+=g.height+this.options.verticalSeparation}b-=this.options.verticalSeparation;var h=this.center.x-this.options.horizontalSeparation;d=this.center.y+(this.center.height-b)/2;for(e=0;e<a.length;e++){f=a[e];var j=new o(h-f.Size.width,d);this.arrange(f,j);d+=f.Size.height+this.options.verticalSeparation}},layoutRight:function(a){this.setChildrenDirection(this.center,"Right",false);this.setChildrenLayout(this.center,"Default",false);var b=0,c=0,d,e,f;for(e=0;e<a.length;e++){f=a[e];f.TreeDirection="Right";var g=this.measure(f,i.Empty);c=Math.max(c,g.Width);b+=g.height+this.options.verticalSeparation}b-=this.options.verticalSeparation;var h=this.center.x+this.options.horizontalSeparation+this.center.width;d=this.center.y+(this.center.height-b)/2;for(e=0;e<a.length;e++){f=a[e];var j=new o(h,d);this.arrange(f,j);d+=f.Size.height+this.options.verticalSeparation}},layoutUp:function(a){this.setChildrenDirection(this.center,"Up",false);this.setChildrenLayout(this.center,"Default",false);var b=0,c,d,e;for(e=0;e<a.length;e++){d=a[e];d.TreeDirection="Up";var f=this.measure(d,i.Empty);b+=f.width+this.options.horizontalSeparation}b-=this.options.horizontalSeparation;var g=this.center.x+this.center.width/2-b/2;for(e=0;e<a.length;e++){d=a[e];c=this.center.y-this.options.verticalSeparation-d.Size.height;var h=new o(g,c);this.arrange(d,h);g+=d.Size.width+this.options.horizontalSeparation}},layoutDown:function(a){var b,c;this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);var d=0,e;for(c=0;c<a.length;c++){b=a[c];b.treeDirection="Down";var f=this.measure(b,i.Empty);d+=f.width+this.options.horizontalSeparation}d-=this.options.horizontalSeparation;var g=this.center.x+this.center.width/2-d/2;e=this.center.y+this.options.verticalSeparation+this.center.height;
for(c=0;c<a.length;c++){b=a[c];var h=new o(g,e);this.arrange(b,h);g+=b.Size.width+this.options.horizontalSeparation}},layoutRadialTree:function(){this.setChildrenDirection(this.center,"Radial",false);this.setChildrenLayout(this.center,"Default",false);this.previousRoot=null;var a=this.options.startRadialAngle*q;var b=this.options.endRadialAngle*q;if(b<=a){throw"Final angle should not be less than the start angle."}this.maxDepth=0;this.origin=new o(this.center.x,this.center.y);this.calculateAngularWidth(this.center,0);if(this.maxDepth>0){this.radialLayout(this.center,this.options.radialFirstLevelSeparation,a,b)}this.center.Angle=b-a},tipOverTree:function(a,b){if(n.isUndefined(b)){b=0}this.setChildrenDirection(this.center,"Down",false);this.setChildrenLayout(this.center,"Default",false);this.setChildrenLayout(this.center,"Underneath",false,b);var c=0,d,e,f;for(f=0;f<a.length;f++){e=a[f];e.TreeDirection="Down";var g=this.measure(e,i.Empty);c+=g.width+this.options.horizontalSeparation}c-=this.options.horizontalSeparation;c-=a[a.length-1].width;c+=a[a.length-1].associatedShape.bounds().width;var h=this.center.x+this.center.width/2-c/2;d=this.center.y+this.options.verticalSeparation+this.center.height;for(f=0;f<a.length;f++){e=a[f];var j=new o(h,d);this.arrange(e,j);h+=e.Size.width+this.options.horizontalSeparation}},calculateAngularWidth:function(a,b){if(b>this.maxDepth){this.maxDepth=b}var c=0,d=1e3,e=1e3,f=b===0?0:Math.sqrt(d*d+e*e)/b;if(a.children.length>0){for(var g=0,h=a.children.length;g<h;g++){var i=a.children[g];c+=this.calculateAngularWidth(i,b+1)}c=Math.max(f,c)}else{c=f}a.sectorAngle=c;return c},sortChildren:function(a){var b=0,c;if(a.parents.length>1){throw"Node is not part of a tree."}var d=a.parents[0];if(d){var e=new o(d.x,d.y);var f=new o(a.x,a.y);b=this.normalizeAngle(Math.atan2(e.y-f.y,e.x-f.x))}var g=a.children.length;if(g===0){return null}var h=[];var i=[];for(c=0;c<g;++c){var j=a.children[c];var k=new o(j.x,j.y);i[c]=c;h[c]=this.normalizeAngle(-b+Math.atan2(k.y-k.y,k.x-k.x))}n.bisort(h,i);var l=[];var m=a.children;for(c=0;c<g;++c){l.push(m[i[c]])}return l},normalizeAngle:function(a){while(a>Math.PI*2){a-=2*Math.PI}while(a<0){a+=Math.PI*2}return a},radialLayout:function(a,b,c,d){var e=d-c;var f=e/2;var g=a.sectorAngle;var h=0;var i=this.sortChildren(a);for(var j=0,k=i.length;j<k;j++){var l=i[j];var m=l;var n=m.sectorAngle/g;if(l.children.length>0){this.radialLayout(l,b+this.options.radialSeparation,c+h*e,c+(h+n)*e)}this.setPolarLocation(l,b,c+h*e+n*f);m.angle=n*e;h+=n}},setPolarLocation:function(a,b,c){a.x=this.origin.x+b*Math.cos(c);a.y=this.origin.y+b*Math.sin(c);a.BoundingRectangle=new j(a.x,a.y,a.width,a.height)},setChildrenDirection:function(a,b,c){var d=a.treeDirection;this.graph.depthFirstTraversal(a,function(a){a.treeDirection=b});if(!c){a.treeDirection=d}},setChildrenLayout:function(a,b,c,d){if(n.isUndefined(d)){d=0}var e=a.childrenLayout;if(d>0){this.graph.assignLevels(a);this.graph.depthFirstTraversal(a,function(a){if(a.level>=d+1){a.childrenLayout=b}})}else{this.graph.depthFirstTraversal(a,function(a){a.childrenLayout=b});if(!c){a.childrenLayout=e}}},measure:function(a,b){var c=0,d=0,e;var f=new i(0,0);if(!a){throw""}var g=a.associatedShape.bounds();var h=g.width;var j=g.height;if(a.parents.length!==1){throw"Node not in a spanning tree."}var k=a.parents[0];if(a.treeDirection==="Undefined"){a.treeDirection=k.treeDirection}if(n.isEmpty(a.children)){f=new i(Math.abs(h)<p?50:h,Math.abs(j)<p?25:j)}else if(a.children.length===1){switch(a.treeDirection){case"Radial":e=this.measure(a.children[0],b);c=h+this.options.radialSeparation*Math.cos(a.AngleToParent)+e.width;d=j+Math.abs(this.options.radialSeparation*Math.sin(a.AngleToParent))+e.height;break;case"Left":case"Right":switch(a.childrenLayout){case"TopAlignedWithParent":break;case"BottomAlignedWithParent":break;case"Underneath":e=this.measure(a.children[0],b);c=h+e.width+this.options.underneathHorizontalOffset;d=j+this.options.underneathVerticalTopOffset+e.height;break;case"Default":e=this.measure(a.children[0],b);c=h+this.options.horizontalSeparation+e.width;d=Math.max(j,e.height);break;default:throw"Unhandled TreeDirection in the Radial layout measuring."}break;case"Up":case"Down":switch(a.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":e=this.measure(a.children[0],b);c=Math.max(h,e.width+this.options.underneathHorizontalOffset);d=j+this.options.underneathVerticalTopOffset+e.height;break;case"Default":e=this.measure(a.children[0],b);d=j+this.options.verticalSeparation+e.height;c=Math.max(h,e.width);break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}f=new i(c,d)}else{var l,m;switch(a.treeDirection){case"Left":case"Right":switch(a.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":c=h;d=j+this.options.underneathVerticalTopOffset;for(l=0;l<a.children.length;l++){m=a.children[l];e=this.measure(m,b);c=Math.max(c,e.width+this.options.underneathHorizontalOffset);d+=e.height+this.options.underneathVerticalSeparation}d-=this.options.underneathVerticalSeparation;break;case"Default":c=h;d=0;for(l=0;l<a.children.length;l++){m=a.children[l];e=this.measure(m,b);c=Math.max(c,h+this.options.horizontalSeparation+e.width);d+=e.height+this.options.verticalSeparation}d-=this.options.verticalSeparation;break;default:throw"Unhandled TreeDirection in the Right layout measuring."}break;case"Up":case"Down":switch(a.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":c=h;d=j+this.options.underneathVerticalTopOffset;for(l=0;l<a.children.length;l++){m=a.children[l];e=this.measure(m,b);c=Math.max(c,e.width+this.options.underneathHorizontalOffset);d+=e.height+this.options.underneathVerticalSeparation}d-=this.options.underneathVerticalSeparation;break;case"Default":c=0;d=0;for(l=0;l<a.children.length;l++){m=a.children[l];e=this.measure(m,b);c+=e.width+this.options.horizontalSeparation;d=Math.max(d,e.height+this.options.verticalSeparation+j)}c-=this.options.horizontalSeparation;break;default:throw"Unhandled TreeDirection in the Down layout measuring."}break;default:throw"Unhandled TreeDirection in the layout measuring."}f=new i(c,d)}a.SectorAngle=Math.sqrt(c*c/4+d*d/4);a.Size=f;return f},arrange:function(a,b){var c,d,e,f,g,h=a.associatedShape.bounds();var i=h.width;var k=h.height;if(n.isEmpty(a.children)){a.x=b.x;a.y=b.y;a.BoundingRectangle=new j(b.x,b.y,i,k)}else{var l,m;var q;switch(a.treeDirection){case"Left":switch(a.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":q=b;a.x=q.x;a.y=q.y;a.BoundingRectangle=new j(a.x,a.y,a.width,a.height);m=b.y+k+this.options.underneathVerticalTopOffset;for(c=0;c<f.children.length;c++){f=f.children[c];l=q.x-f.associatedShape.width-this.options.underneathHorizontalOffset;d=new o(l,m);this.arrange(f,d);m+=f.Size.height+this.options.underneathVerticalSeparation}break;case"Default":q=new o(b.x+a.Size.width-i,b.y+(a.Size.height-k)/2);a.x=q.x;a.y=q.y;a.BoundingRectangle=new j(a.x,a.y,a.width,a.height);l=q.x-this.options.horizontalSeparation;m=b.y;for(c=0;c<a.children.length;c++){f=a.children[c];d=new o(l-f.Size.width,m);this.arrange(f,d);m+=f.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Right":switch(a.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":q=b;a.x=q.x;a.y=q.y;a.BoundingRectangle=new j(a.x,a.y,a.width,a.height);l=b.x+i+this.options.underneathHorizontalOffset;m=b.y+k+this.options.underneathVerticalTopOffset;for(c=0;c<a.children.length;c++){f=a.children[c];d=new o(l,m);this.arrange(f,d);m+=f.Size.height+this.options.underneathVerticalSeparation}break;case"Default":q=new o(b.x,b.y+(a.Size.height-k)/2);a.x=q.x;a.y=q.y;a.BoundingRectangle=new j(a.x,a.y,a.width,a.height);l=b.x+i+this.options.horizontalSeparation;m=b.y;for(c=0;c<a.children.length;c++){f=a.children[c];d=new o(l,m);this.arrange(f,d);m+=f.Size.height+this.options.verticalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"Up":q=new o(b.x+(a.Size.width-i)/2,b.y+a.Size.height-k);a.x=q.x;a.y=q.y;a.BoundingRectangle=new j(a.x,a.y,a.width,a.height);if(Math.abs(q.x-b.x)<p){g=0;for(c=0;c<a.children.length;c++){e=a.children[c];g+=e.Size.width+this.options.horizontalSeparation}g-=this.options.horizontalSeparation;l=b.x+(i-g)/2}else{l=b.x}for(c=0;c<a.children.length;c++){f=a.children[c];m=q.y-this.options.verticalSeparation-f.Size.height;d=new o(l,m);this.arrange(f,d);l+=f.Size.width+this.options.horizontalSeparation}break;case"Down":switch(a.childrenLayout){case"TopAlignedWithParent":case"BottomAlignedWithParent":break;case"Underneath":q=b;a.x=q.x;a.y=q.y;a.BoundingRectangle=new j(a.x,a.y,a.width,a.height);l=b.x+this.options.underneathHorizontalOffset;m=b.y+k+this.options.underneathVerticalTopOffset;for(c=0;c<a.children.length;c++){f=a.children[c];d=new o(l,m);this.arrange(f,d);m+=f.Size.height+this.options.underneathVerticalSeparation}break;case"Default":q=new o(b.x+(a.Size.width-i)/2,b.y);a.x=q.x;a.y=q.y;a.BoundingRectangle=new j(a.x,a.y,a.width,a.height);if(Math.abs(q.x-b.x)<p){g=0;for(c=0;c<a.children.length;c++){e=a.children[c];g+=e.Size.width+this.options.horizontalSeparation}g-=this.options.horizontalSeparation;l=b.x+(i-g)/2}else{l=b.x}for(c=0;c<a.children.length;c++){f=a.children[c];m=q.y+this.options.verticalSeparation+k;d=new o(l,m);this.arrange(f,d);l+=f.Size.width+this.options.horizontalSeparation}break;default:throw"Unsupported TreeDirection"}break;case"None":break;default:throw"Unsupported TreeDirection"}}},layoutSwitch:function(){if(!this.center){return}if(n.isEmpty(this.center.children)){return}var a=this.options.subtype;if(n.isUndefined(a)){a="Down"}var b,c,d,e;var f=this.center.children;switch(a.toLowerCase()){case"radial":case"radialtree":this.layoutRadialTree();break;case"mindmaphorizontal":case"mindmap":b=this.center.children;if(this.center.children.length===1){this.layoutRight(b)}else{e=f.length/2;c=s(this.center.children,function(a){return n.indexOf(f,a)<e});d=s(this.center.children,function(a){return n.indexOf(f,a)>=e});this.layoutLeft(c);this.layoutRight(d)}break;case"mindmapvertical":b=this.center.children;if(this.center.children.length===1){this.layoutDown(b)}else{e=f.length/2;c=s(this.center.children,function(a){return n.indexOf(f,a)<e});d=s(this.center.children,function(a){return n.indexOf(f,a)>=e});this.layoutUp(c);this.layoutDown(d)}break;case"right":this.layoutRight(this.center.children);break;case"left":this.layoutLeft(this.center.children);break;case"up":case"bottom":this.layoutUp(this.center.children);break;case"down":case"top":this.layoutDown(this.center.children);break;case"tipover":case"tipovertree":if(this.options.tipOverTreeStartLevel<0){throw"The tip-over level should be a positive integer."}this.tipOverTree(this.center.children,this.options.tipOverTreeStartLevel);break;case"undefined":case"none":break}}});var x=t.extend({init:function(a){var b=this;t.fn.init.call(b);if(n.isUndefined(a)){throw"No diagram specified."}this.diagram=a},layout:function(a){this.transferOptions(a);var b=new u(this.diagram);this.graph=b.convert();var c=this.layoutComponents();return new d.LayoutState(this.diagram,c)},layoutComponents:function(){if(this.graph.isEmpty()){return}var a=this.graph.getConnectedComponents();if(n.isEmpty(a)){return}var b=new w(this.options);var c=[];for(var d=0;d<a.length;d++){var e=a[d];var f=this.getTree(e);if(!f){throw"Failed to find a spanning tree for the component."}var g=f.root;var h=f.tree;b.layout(h,g);c.push(h)}return this.gridLayoutComponents(c)},getTree:function(a){var b=null;if(this.options.roots&&this.options.roots.length>0){for(var c=0,d=a.nodes.length;c<d;c++){var e=a.nodes[c];for(var f=0;f<this.options.roots.length;f++){var g=this.options.roots[f];if(g===e.associatedShape){b=e;break}}}}if(!b){b=a.root();if(!b){throw"Unable to find a root for the tree."}}return this.getTreeForRoot(a,b)},getTreeForRoot:function(a,b){var c=a.getSpanningTree(b);if(n.isUndefined(c)||c.isEmpty()){return null}return{tree:c,root:c.root}}});var y=t.extend({init:function(a){var b=this;t.fn.init.call(b);if(n.isUndefined(a)){throw"Diagram is not specified."}this.diagram=a},layout:function(a){this.transferOptions(a);var b=new u(this.diagram);var c=b.convert(a);if(c.isEmpty()){return}var e=c.getConnectedComponents();if(n.isEmpty(e)){return}for(var f=0;f<e.length;f++){var g=e[f];this.layoutGraph(g,a)}var h=this.gridLayoutComponents(e);return new d.LayoutState(this.diagram,h)},_initRuntimeProperties:function(){for(var a=0;a<this.graph.nodes.length;a++){var b=this.graph.nodes[a];b.layer=-1;b.downstreamLinkCount=0;b.upstreamLinkCount=0;b.isVirtual=false;b.uBaryCenter=0;b.dBaryCenter=0;b.upstreamPriority=0;b.downstreamPriority=0;b.gridPosition=0}},_prepare:function(a){var b=[],c,d,e;var f=new k;var g=0;var h,i,j;n.forEach(a.nodes,function(a){if(a.incoming.length===0){f.set(a,0);b.push(a)}});while(b.length>0){i=b.shift();for(c=0;c<i.outgoing.length;c++){e=i.outgoing[c];j=e.target;if(f.containsKey(j)){h=Math.max(f.get(i)+1,f.get(j))}else{h=f.get(i)+1}f.set(j,h);if(h>g){g=h}if(!r(b,j)){b.push(j)}}}var l=f.keys();l.sort(function(a,b){var c=f.get(a);var d=f.get(b);return n.sign(d-c)});for(var m=0;m<l.length;++m){var o=l[m];var p=Number.MAX_VALUE;if(o.outgoing.length===0){continue}for(d=0;d<o.outgoing.length;++d){e=o.outgoing[d];p=Math.min(p,f.get(e.target))}if(p>1){f.set(o,p-1)}}this.layers=[];var q;for(c=0;c<g+1;c++){q=[];q.linksTo={};this.layers.push(q)}f.forEach(function(a,b){a.layer=b;this.layers[b].push(a)},this);for(d=0;d<this.layers.length;d++){q=this.layers[d];for(c=0;c<q.length;c++){q[c].gridPosition=c}}},layoutGraph:function(a,b){if(n.isUndefined(a)){throw"No graph given or graph analysis of the diagram failed."}if(n.isDefined(b)){this.transferOptions(b)}this.graph=a;a.setItemIndices();var c=a.makeAcyclic();this._initRuntimeProperties();this._prepare(a,b);this._dummify();this._optimizeCrossings();this._swapPairs();this.arrangeNodes();this._moveThingsAround();this._dedummify();n.forEach(c,function(a){if(a.points){a.points.reverse()}})},setMinDist:function(a,b,c){var d=a.layer;var e=a.layerIndex;this.minDistances[d][e]=c},getMinDist:function(a,b){var c=0,d=a.layerIndex,e=b.layerIndex,f=a.layer,g=Math.min(d,e),h=Math.max(d,e);for(var i=g;i<h;++i){c+=this.minDistances[f][i]}return c},placeLeftToRight:function(a){var b=new k,c,d;for(var e=0;e<this.layers.length;++e){var f=a[e];if(!f){continue}for(c=0;c<f.length;c++){d=f[c];if(!b.containsKey(d)){this.placeLeft(d,b,e)}}var g=Number.POSITIVE_INFINITY;for(c=0;c<f.length;c++){d=f[c];var h=this.rightSibling(d);if(h&&this.nodeLeftClass.get(h)!==e){g=Math.min(g,b.get(h)-b.get(d)-this.getMinDist(d,h))}}if(g===Number.POSITIVE_INFINITY){var i=[];for(c=0;c<f.length;c++){d=f[c];var j=[];n.addRange(j,this.upNodes.get(d));n.addRange(j,this.downNodes.get(d));for(var l=0;l<j.length;l++){var m=j[l];if(this.nodeLeftClass.get(m)<e){i.push(b.get(m)-b.get(d))}}}i.sort();if(i.length===0){g=0}else if(i.length%2===1){g=i[this.intDiv(i.length,2)]}else{g=(i[this.intDiv(i.length,2)-1]+i[this.intDiv(i.length,2)])/2}}for(c=0;c<f.length;c++){d=f[c];b.set(d,b.get(d)+g)}}return b},placeRightToLeft:function(a){var b=new k,c,d;for(var e=0;e<this.layers.length;++e){var f=a[e];if(!f){continue}for(c=0;c<f.length;c++){d=f[c];if(!b.containsKey(d)){this.placeRight(d,b,e)}}var g=Number.NEGATIVE_INFINITY;for(c=0;c<f.length;c++){d=f[c];var h=this.leftSibling(d);if(h&&this.nodeRightClass.get(h)!==e){g=Math.max(g,b.get(h)-b.get(d)+this.getMinDist(h,d))}}if(g===Number.NEGATIVE_INFINITY){var i=[];for(c=0;c<f.length;c++){d=f[c];var j=[];n.addRange(j,this.upNodes.get(d));n.addRange(j,this.downNodes.get(d));for(var l=0;l<j.length;l++){var m=j[l];if(this.nodeRightClass.get(m)<e){i.push(b.get(d)-b.get(m))}}}i.sort();if(i.length===0){g=0}else if(i.length%2===1){g=i[this.intDiv(i.length,2)]}else{g=(i[this.intDiv(i.length,2)-1]+i[this.intDiv(i.length,2)])/2}}for(c=0;c<f.length;c++){d=f[c];b.set(d,b.get(d)+g)}}return b},_getLeftWing:function(){var a={value:null};var b=this.computeClasses(a,1);this.nodeLeftClass=a.value;return b},_getRightWing:function(){var a={value:null};var b=this.computeClasses(a,-1);this.nodeRightClass=a.value;return b},computeClasses:function(a,b){var c=0,d=a.value=new k;for(var e=0;e<this.layers.length;++e){c=e;var f=this.layers[e];for(var g=b===1?0:f.length-1;0<=g&&g<f.length;g+=b){var h=f[g];if(!d.containsKey(h)){d.set(h,c);if(h.isVirtual){var i=this._nodesInLink(h);for(var j=0;j<i.length;j++){var l=i[j];d.set(l,c)}}}else{c=d.get(h)}}}var m=[];for(var n=0;n<this.layers.length;n++){m.push(null)}d.forEach(function(a,b){if(m[b]===null){m[b]=[]}m[b].push(a)});return m},_isVerticalLayout:function(){return this.options.subtype.toLowerCase()==="up"||this.options.subtype.toLowerCase()==="down"||this.options.subtype.toLowerCase()==="vertical"},_isHorizontalLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="left"||this.options.subtype.toLowerCase()==="horizontal"},_isIncreasingLayout:function(){return this.options.subtype.toLowerCase()==="right"||this.options.subtype.toLowerCase()==="down"},_moveThingsAround:function(){var a,b,c,d,e,f;for(b=0;b<this.layers.length;++b){d=this.layers[b];d.sort(this._gridPositionComparer)}this.minDistances=[];for(b=0;b<this.layers.length;++b){d=this.layers[b];this.minDistances[b]=[];for(e=0;e<d.length;++e){c=d[e];c.layerIndex=e;this.minDistances[b][e]=this.options.nodeDistance;if(e<d.length-1){if(this._isVerticalLayout()){this.minDistances[b][e]+=(c.width+d[e+1].width)/2}else{this.minDistances[b][e]+=(c.height+d[e+1].height)/2}}}}this.downNodes=new k;this.upNodes=new k;n.forEach(this.graph.nodes,function(a){this.downNodes.set(a,[]);this.upNodes.set(a,[])},this);n.forEach(this.graph.links,function(a){var b=a.source;var c=a.target;var d=null,e=null;if(b.layer>c.layer){d=a.source;e=a.target}else{e=a.source;d=a.target}this.downNodes.get(e).push(d);this.upNodes.get(d).push(e)},this);this.downNodes.forEachValue(function(a){a.sort(this._gridPositionComparer)},this);this.upNodes.forEachValue(function(a){a.sort(this._gridPositionComparer)},this);for(b=0;b<this.layers.length-1;++b){d=this.layers[b];for(f=0;f<d.length-1;f++){var g=d[f];if(!g.isVirtual){continue}var h=this.downNodes.get(g)[0];if(!h.isVirtual){continue}for(e=f+1;e<d.length;++e){c=d[e];if(!c.isVirtual){continue}var i=this.downNodes.get(c)[0];if(!i.isVirtual){continue}if(h.gridPosition>i.gridPosition){var j=h.gridPosition;h.gridPosition=i.gridPosition;i.gridPosition=j;var l=h.layerIndex;var m=i.layerIndex;this.layers[b+1][l]=i;this.layers[b+1][m]=h;h.layerIndex=m;i.layerIndex=l}}}}var o=this._getLeftWing();var p=this._getRightWing();var q=this.placeLeftToRight(o);var r=this.placeRightToLeft(p);var s=new k;n.forEach(this.graph.nodes,function(a){s.set(a,(q.get(a)+r.get(a))/2)});var t=new k;var u=new k;for(b=0;b<this.layers.length;++b){d=this.layers[b];var v=-1,w=-1;for(e=0;e<d.length;++e){c=d[e];t.set(c,0);u.set(c,false);if(c.isVirtual){if(v===-1){v=e}else if(v===e-1){v=e}else{w=e;t.set(d[v],0);if(s.get(c)-s.get(d[v])===this.getMinDist(d[v],c)){u.set(d[v],true)}else{u.set(d[v],false)}v=e}}}}var x=[1,-1];n.forEach(x,function(b){var c=b===1?0:this.layers.length-1;for(var d=c;0<=d&&d<this.layers.length;d+=b){var e=this.layers[d];var f=this._firstVirtualNode(e);var g=null;var h=null;if(f!==-1){g=e[f];h=[];for(a=0;a<f;a++){h.push(e[a])}}else{g=null;h=e}if(h.length>0){this._sequencer(s,null,g,b,h);for(a=0;a<h.length-1;++a){this.setMinDist(h[a],h[a+1],s.get(h[a+1])-s.get(h[a]))}if(g){this.setMinDist(h[h.length-1],g,s.get(g)-s.get(h[h.length-1]))}}while(g){var i=this.nextVirtualNode(e,g);if(!i){f=g.layerIndex;h=[];for(a=f+1;a<e.length;a++){h.push(e[a])}if(h.length>0){this._sequencer(s,g,null,b,h);for(a=0;a<h.length-1;++a){this.setMinDist(h[a],h[a+1],s.get(h[a+1])-s.get(h[a]))}this.setMinDist(g,h[0],s.get(h[0])-s.get(g))}}else if(t.get(g)===b){f=g.layerIndex;var j=i.layerIndex;h=[];for(a=f+1;a<j;a++){h.push(e[a])}if(h.length>0){this._sequencer(s,g,i,b,h)}u.set(g,true)}g=i}this.adjustDirections(d,b,t,u)}},this);var y=this._isIncreasingLayout()?0:this.layers.length-1;var z=function(a,b){if(b._isIncreasingLayout()){return a<b.layers.length}else{return a>=0}};var A=this._isIncreasingLayout()?+1:-1,B=0;function C(a,b){var c=Number.MIN_VALUE;for(var d=0;d<a.length;++d){var e=a[d];if(b._isVerticalLayout()){c=Math.max(c,e.height)}else{c=Math.max(c,e.width)}}return c}for(a=y;z(a,this);a+=A){d=this.layers[a];var D=C(d,this);for(e=0;e<d.length;++e){c=d[e];if(this._isVerticalLayout()){c.x=s.get(c);c.y=B+D/2}else{c.x=B+D/2;c.y=s.get(c)}}B+=this.options.layerSeparation+D}},adjustDirections:function(a,b,c,d){if(a+b<0||a+b>=this.layers.length){return}var e=null,f=null;var g=this.layers[a+b];for(var h=0;h<g.length;++h){var i=g[h];if(i.isVirtual){var j=this.getNeighborOnLayer(i,a);if(j.isVirtual){if(e){var k=d.get(f);var l=this.layers[a];var m=f.layerIndex;var n=j.layerIndex;for(var o=m+1;o<n;++o){if(l[o].isVirtual){k=k&&d.get(l[o])}}if(k){c.set(e,b);var p=e.layerIndex;var q=i.layerIndex;for(var r=p+1;r<q;++r){if(g[r].isVirtual){c.set(g[r],b)}}}}e=i;f=j}}}},getNeighborOnLayer:function(a,b){var c=this.upNodes.get(a)[0];if(c.layer===b){return c}c=this.downNodes.get(a)[0];if(c.layer===b){return c}return null},_sequencer:function(a,b,c,d,e){if(e.length===1){this._sequenceSingle(a,b,c,d,e[0])}if(e.length>1){var f=e.length,g=this.intDiv(f,2);this._sequencer(a,b,c,d,e.slice(0,g));this._sequencer(a,b,c,d,e.slice(g));this.combineSequences(a,b,c,d,e)}},_sequenceSingle:function(a,b,c,d,e){var f=d===-1?this.downNodes.get(e):this.upNodes.get(e);var g=f.length;if(g!==0){if(g%2===1){a.set(e,a.get(f[this.intDiv(g,2)]))}else{a.set(e,(a.get(f[this.intDiv(g,2)-1])+a.get(f[this.intDiv(g,2)]))/2)}if(b){a.set(e,Math.max(a.get(e),a.get(b)+this.getMinDist(b,e)))}if(c){a.set(e,Math.min(a.get(e),a.get(c)-this.getMinDist(e,c)))}}},combineSequences:function(a,b,c,d,e){var f=e.length,g=this.intDiv(f,2);var h=[],i,j,k,l,m,n;for(i=0;i<g;++i){j=0;l=d===-1?this.downNodes.get(e[i]):this.upNodes.get(e[i]);for(k=0;k<l.length;++k){m=l[k];if(a.get(m)>=a.get(e[i])){j++}else{j--;h.push({k:a.get(m)+this.getMinDist(e[i],e[g-1]),v:2})}}h.push({k:a.get(e[i])+this.getMinDist(e[i],e[g-1]),v:j})}if(b){h.push({k:a.get(b)+this.getMinDist(b,e[g-1]),v:Number.MAX_VALUE})}h.sort(this._positionDescendingComparer);var o=[];for(i=g;i<f;++i){j=0;l=d===-1?this.downNodes.get(e[i]):this.upNodes.get(e[i]);for(k=0;k<l.length;++k){m=l[k];if(a.get(m)<=a.get(e[i])){j++}else{j--;o.push({k:a.get(m)-this.getMinDist(e[i],e[g]),v:2})}}o.push({k:a.get(e[i])-this.getMinDist(e[i],e[g]),v:j})}if(c){o.push({k:a.get(c)-this.getMinDist(c,e[g]),v:Number.MAX_VALUE})}o.sort(this._positionAscendingComparer);var p=0,q=0;var r=this.getMinDist(e[g-1],e[g]);while(a.get(e[g])-a.get(e[g-1])<r){if(p<q){if(h.length===0){a.set(e[g-1],a.get(e[g])-r);break}else{n=h.shift();p=p+n.v;a.set(e[g-1],n.k);a.set(e[g-1],Math.max(a.get(e[g-1]),a.get(e[g])-r))}}else{if(o.length===0){a.set(e[g],a.get(e[g-1])+r);break}else{n=o.shift();q=q+n.v;a.set(e[g],n.k);a.set(e[g],Math.min(a.get(e[g]),a.get(e[g-1])+r))}}}for(i=g-2;i>=0;i--){a.set(e[i],Math.min(a.get(e[i]),a.get(e[g-1])-this.getMinDist(e[i],e[g-1])))}for(i=g+1;i<f;i++){a.set(e[i],Math.max(a.get(e[i]),a.get(e[g])+this.getMinDist(e[i],e[g])))}},placeLeft:function(a,b,c){var d=Number.NEGATIVE_INFINITY;n.forEach(this._getComposite(a),function(a){var e=this.leftSibling(a);if(e&&this.nodeLeftClass.get(e)===this.nodeLeftClass.get(a)){if(!b.containsKey(e)){this.placeLeft(e,b,c)}d=Math.max(d,b.get(e)+this.getMinDist(e,a))}},this);if(d===Number.NEGATIVE_INFINITY){d=0}n.forEach(this._getComposite(a),function(a){b.set(a,d)})},placeRight:function(a,b,c){var d=Number.POSITIVE_INFINITY;n.forEach(this._getComposite(a),function(a){var e=this.rightSibling(a);if(e&&this.nodeRightClass.get(e)===this.nodeRightClass.get(a)){if(!b.containsKey(e)){this.placeRight(e,b,c)}d=Math.min(d,b.get(e)-this.getMinDist(a,e))}},this);if(d===Number.POSITIVE_INFINITY){d=0}n.forEach(this._getComposite(a),function(a){b.set(a,d)})},leftSibling:function(a){var b=this.layers[a.layer],c=a.layerIndex;return c===0?null:b[c-1]},rightSibling:function(a){var b=this.layers[a.layer];var c=a.layerIndex;return c===b.length-1?null:b[c+1]},_getComposite:function(a){return a.isVirtual?this._nodesInLink(a):[a]},arrangeNodes:function(){var a,b,c,d,e;for(b=0;b<this.layers.length;b++){d=this.layers[b];for(c=0;c<d.length;c++){e=d[c];e.upstreamPriority=e.upstreamLinkCount;e.downstreamPriority=e.downstreamLinkCount}}var f=2;for(var g=0;g<f;g++){for(a=this.layers.length-1;a>=1;a--){this.layoutLayer(false,a)}for(a=0;a<this.layers.length-1;a++){this.layoutLayer(true,a)}}var h=Number.MAX_VALUE;for(b=0;b<this.layers.length;b++){d=this.layers[b];for(c=0;c<d.length;c++){e=d[c];h=Math.min(h,e.gridPosition)}}if(h<0){for(b=0;b<this.layers.length;b++){d=this.layers[b];for(c=0;c<d.length;c++){e=d[c];e.gridPosition=e.gridPosition-h}}}},layoutLayer:function(a,b){var c;var d;if(a){d=this.layers[c=b+1]}else{d=this.layers[c=b-1]}var e=[];for(var f=0;f<d.length;f++){e.push(d[f])}e.sort(function(a,b){var c=(a.upstreamPriority+a.downstreamPriority)/2;var d=(b.upstreamPriority+b.downstreamPriority)/2;if(Math.abs(c-d)<1e-4){return 0}if(c<d){return 1}return-1});n.forEach(e,function(a){var b=a.gridPosition;var c=this.calcBaryCenter(a);var e=(a.upstreamPriority+a.downstreamPriority)/2;if(Math.abs(b-c)<1e-4){return}if(Math.abs(b-c)<.25+1e-4){return}if(b<c){while(b<c){if(!this.moveRight(a,d,e)){break}b=a.gridPosition}}else{while(b>c){if(!this.moveLeft(a,d,e)){break}b=a.gridPosition}}},this);if(c>0){this.calcDownData(c-1)}if(c<this.layers.length-1){this.calcUpData(c+1)}},moveRight:function(a,b,c){var d=n.indexOf(b,a);if(d===b.length-1){a.gridPosition=a.gridPosition+.5;return true}var e=b[d+1];var f=(e.upstreamPriority+e.downstreamPriority)/2;if(e.gridPosition>a.gridPosition+1){a.gridPosition=a.gridPosition+.5;return true}if(f>c||Math.abs(f-c)<1e-4){return false}if(this.moveRight(e,b,c)){a.gridPosition=a.gridPosition+.5;return true}return false},moveLeft:function(a,b,c){var d=n.indexOf(b,a);if(d===0){a.gridPosition=a.gridPosition-.5;return true}var e=b[d-1];var f=(e.upstreamPriority+e.downstreamPriority)/2;if(e.gridPosition<a.gridPosition-1){a.gridPosition=a.gridPosition-.5;return true}if(f>c||Math.abs(f-c)<1e-4){return false}if(this.moveLeft(e,b,c)){a.gridPosition=a.gridPosition-.5;return true}return false},mapVirtualNode:function(a,b){this.nodeToLinkMap.set(a,b);if(!this.linkToNodeMap.containsKey(b)){this.linkToNodeMap.set(b,[])}this.linkToNodeMap.get(b).push(a)},_nodesInLink:function(a){return this.linkToNodeMap.get(this.nodeToLinkMap.get(a))},_dummify:function(){this.linkToNodeMap=new k;this.nodeToLinkMap=new k;var a,b,c,d,e,h,i,j,l=this.graph.links.slice(0);var m=this.layers;var o=function(a,b,c){m[a].linksTo[b]=m[a].linksTo[b]||[];m[a].linksTo[b].push(c)};for(j=0;j<l.length;j++){var p=l[j];var q=p.source;var r=p.target;var s=q.layer;var t=r.layer;var u=q.gridPosition;var v=r.gridPosition;var w=(v-u)/Math.abs(t-s);var x=q;if(s-t>1){for(i=s-1;i>t;i--){c=new f;c.x=q.x;c.y=q.y;c.width=q.width/100;c.height=q.height/100;a=m[i];b=(i-t)*w+u;if(b>a.length){b=a.length}if(u>=m[s].length-1&&v>=m[t].length-1){b=a.length}else if(u===0&&v===0){b=0}c.layer=i;c.uBaryCenter=0;c.dBaryCenter=0;c.upstreamLinkCount=0;c.downstreamLinkCount=0;c.gridPosition=b;c.isVirtual=true;n.insert(a,c,b);for(e=b+1;e<a.length;e++){d=a[e];d.gridPosition=d.gridPosition+1}h=new g(x,c);h.depthOfDumminess=0;o(i-1,i,h);x=c;this.graph._addNode(c);this.graph.addLink(h);c.index=this.graph.nodes.length-1;this.mapVirtualNode(c,p)}o(t-1,t,h);p.changeSource(x);p.depthOfDumminess=s-t-1}else if(s-t<-1){for(i=s+1;i<t;i++){c=new f;c.x=q.x;c.y=q.y;c.width=q.width/100;c.height=q.height/100;a=m[i];b=(i-s)*w+u;if(b>a.length){b=a.length}if(u>=m[s].length-1&&v>=m[t].length-1){b=a.length}else if(u===0&&v===0){b=0}c.layer=i;c.uBaryCenter=0;c.dBaryCenter=0;c.upstreamLinkCount=0;c.downstreamLinkCount=0;c.gridPosition=b;c.isVirtual=true;b&=b;n.insert(a,c,b);for(e=b+1;e<a.length;e++){d=a[e];d.gridPosition=d.gridPosition+1}h=new g(x,c);h.depthOfDumminess=0;o(i-1,i,h);x=c;this.graph._addNode(c);this.graph.addLink(h);c.index=this.graph.nodes.length-1;this.mapVirtualNode(c,p)}o(t-1,t,p);p.changeSource(x);p.depthOfDumminess=t-s-1}else{o(s,t,p)}}},_dedummify:function(){var a=true;while(a){a=false;for(var b=0;b<this.graph.links.length;b++){var c=this.graph.links[b];if(!c.depthOfDumminess){continue}var d=[];d.unshift({x:c.target.x,y:c.target.y});d.unshift({x:c.source.x,y:c.source.y});var e=c;var f=c.depthOfDumminess;for(var g=0;g<f;g++){var h=e.source;var i=h.incoming[0];d.unshift({x:i.source.x,y:i.source.y});e=i}c.changeSource(e.source);c.depthOfDumminess=0;if(d.length>2){d.splice(0,1);d.splice(d.length-1);c.points=d}else{c.points=[]}a=true;break}}},_optimizeCrossings:function(){var a=-1,b;var c=3;var d=0;while(a!==0){if(d++>c){break}a=0;for(b=this.layers.length-1;b>=1;b--){a+=this.optimizeLayerCrossings(false,b)}for(b=0;b<this.layers.length-1;b++){a+=this.optimizeLayerCrossings(true,b)}}},calcUpData:function(a){if(a===0){return}var b=this.layers[a],c,d,e;var f=new l;var g=this.layers[a-1];for(c=0;c<g.length;c++){f.add(g[c])}for(c=0;c<b.length;c++){var h=b[c];var i=0;var j=0;for(d=0;d<h.incoming.length;d++){e=h.incoming[d];if(f.contains(e.source)){j++;i+=e.source.gridPosition}}for(d=0;d<h.outgoing.length;d++){e=h.outgoing[d];if(f.contains(e.target)){j++;i+=e.target.gridPosition}}if(j>0){h.uBaryCenter=i/j;h.upstreamLinkCount=j}else{h.uBaryCenter=c;h.upstreamLinkCount=0}}},calcDownData:function(a){if(a===this.layers.length-1){return}var b=this.layers[a],c,d,e;var f=new l;var g=this.layers[a+1];for(c=0;c<g.length;c++){f.add(g[c])}for(c=0;c<b.length;c++){var h=b[c];var i=0;var j=0;for(d=0;d<h.incoming.length;d++){e=h.incoming[d];if(f.contains(e.source)){j++;i+=e.source.gridPosition}}for(d=0;d<h.outgoing.length;d++){e=h.outgoing[d];if(f.contains(e.target)){j++;i+=e.target.gridPosition}}if(j>0){h.dBaryCenter=i/j;h.downstreamLinkCount=j}else{h.dBaryCenter=c;h.downstreamLinkCount=0}}},optimizeLayerCrossings:function(a,b){var c;var d;if(a){d=this.layers[c=b+1]}else{d=this.layers[c=b-1]}var e=d.slice(0);if(a){this.calcUpData(c)}else{this.calcDownData(c)}var f=this;d.sort(function(a,b){var c=f.calcBaryCenter(a),d=f.calcBaryCenter(b);if(Math.abs(c-d)<1e-4){if(a.degree()===b.degree()){return f.compareByIndex(a,b)}else if(a.degree()<b.degree()){return 1}return-1}var e=(d-c)*1e3;if(e>0){return-1}else if(e<0){return 1}return f.compareByIndex(a,b)});var g,h=0;for(g=0;g<d.length;g++){if(d[g]!==e[g]){h++}}if(h>0){var i=0;for(g=0;g<d.length;g++){var j=d[g];j.gridPosition=i++}}return h},_swapPairs:function(){var a=this.options.layeredIterations;var b=0;while(true){if(b++>a){break}var c=b%4<=1;var d=b%4===1;for(var e=c?0:this.layers.length-1;c?e<=this.layers.length-1:e>=0;e+=c?1:-1){var f=this.layers[e];var g=false;var h=true;var i=0;for(var j=0;j<f.length-1;j++){var k=0;var l=0;var m=0;if(h){if(e!==0){k=this.countLinksCrossingBetweenTwoLayers(e-1,e)}if(e!==this.layers.length-1){l=this.countLinksCrossingBetweenTwoLayers(e,e+1)}if(c){k*=2}else{l*=2}m=k+l}else{m=i}if(m===0){continue}var n=f[j];var o=f[j+1];var p=n.gridPosition;var q=o.gridPosition;f[j]=o;f[j+1]=n;n.gridPosition=q;o.gridPosition=p;k=0;if(e!==0){k=this.countLinksCrossingBetweenTwoLayers(e-1,e)}l=0;if(e!==this.layers.length-1){l=this.countLinksCrossingBetweenTwoLayers(e,e+1)}if(c){k*=2}else{l*=2}var r=k+l;var s=false;if(d){s=r>=m}else{s=r>m}if(s){n=f[j];o=f[j+1];p=n.gridPosition;q=o.gridPosition;f[j]=o;f[j+1]=n;n.gridPosition=q;o.gridPosition=p;i=m;h=false}else{g=true;h=true}}if(g){if(e!==this.layers.length-1){this.calcUpData(e+1)}if(e!==0){this.calcDownData(e-1)}}}}},countLinksCrossingBetweenTwoLayers:function(a,b){
var c=this.layers[a].linksTo[b];var d,e,f,g,h,i,j,k;var l=0;var m=c.length;for(j=0;j<m;j++){d=c[j];for(k=j+1;k<m;k++){e=c[k];if(d.target.layer===b){f=d.source;g=d.target}else{f=d.target;g=d.source}if(e.target.layer===b){h=e.source;i=e.target}else{h=e.target;i=e.source}var n=f.gridPosition;var o=g.gridPosition;var p=h.gridPosition;var q=i.gridPosition;if((n-p)*(o-q)<0){l++}}}return l},calcBaryCenter:function(a){var b=a.upstreamLinkCount;var c=a.downstreamLinkCount;var d=a.uBaryCenter;var e=a.dBaryCenter;if(b>0&&c>0){return(d+e)/2}if(b>0){return d}if(c>0){return e}return 0},_gridPositionComparer:function(a,b){if(a.gridPosition<b.gridPosition){return-1}if(a.gridPosition>b.gridPosition){return 1}return 0},_positionAscendingComparer:function(a,b){return a.k<b.k?-1:a.k>b.k?1:0},_positionDescendingComparer:function(a,b){return a.k<b.k?1:a.k>b.k?-1:0},_firstVirtualNode:function(a){for(var b=0;b<a.length;b++){if(a[b].isVirtual){return b}}return-1},compareByIndex:function(a,b){var c=a.index;var d=b.index;if(c<d){return 1}if(c>d){return-1}return 0},intDiv:function(a,b){return(a-a%b)/b},nextVirtualNode:function(a,b){var c=b.layerIndex;for(var d=c+1;d<a.length;++d){if(a[d].isVirtual){return a[d]}}return null}});var z=c.Class.extend({init:function(a,b){if(n.isUndefined(a)){throw"No diagram given"}this.diagram=a;this.nodeMap=new k;this.linkMap=new k;this.capture(b?b:a)},capture:function(a){var b,c,e,f,g,h,i;if(a instanceof d.Graph){for(f=0;f<a.nodes.length;f++){b=a.nodes[f];e=b.associatedShape;this.nodeMap.set(e.visual.id,new j(b.x,b.y,b.width,b.height))}for(f=0;f<a.links.length;f++){h=a.links[f];g=h.associatedConnection;this.linkMap.set(g.visual.id,h.points())}}else if(a instanceof Array){c=a;for(f=0;f<c.length;f++){b=c[f];e=b.associatedShape;if(e){this.nodeMap.set(e.visual.id,new j(b.x,b.y,b.width,b.height))}}}else if(a.hasOwnProperty("links")&&a.hasOwnProperty("nodes")){c=a.nodes;i=a.links;for(f=0;f<c.length;f++){b=c[f];e=b.associatedShape;if(e){this.nodeMap.set(e.visual.id,new j(b.x,b.y,b.width,b.height))}}for(f=0;f<i.length;f++){h=i[f];g=h.associatedConnection;if(g){this.linkMap.set(g.visual.id,h.points)}}}else{var k=this.diagram.shapes;var l=this.diagram.connections;for(f=0;f<k.length;f++){e=k[f];this.nodeMap.set(e.visual.id,e.bounds())}for(f=0;f<l.length;f++){g=l[f];this.linkMap.set(g.visual.id,g.points())}}}});h(d,{init:function(a){c.init(a,d.ui)},SpringLayout:v,TreeLayout:x,GraphAdapter:u,LayeredLayout:y,LayoutBase:t,LayoutState:z})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("dataviz/diagram/dom",["kendo.data","kendo.draganddrop","kendo.toolbar","kendo.editable","kendo.window","kendo.dropdownlist","kendo.dataviz.core","kendo.dataviz.themes","dataviz/diagram/svg","dataviz/diagram/services","dataviz/diagram/layout"],a)})(function(){(function(a,b){var c=kendo.dataviz,d=kendo.drawing,e=kendo.geometry,f=c.diagram,g=kendo.ui.Widget,h=kendo.Class,i=a.proxy,j=kendo.deepExtend,k=kendo._outerWidth,l=kendo._outerHeight,m=a.extend,n=kendo.data.HierarchicalDataSource,o=f.Canvas,p=f.Group,q=f.Rectangle,r=f.Circle,s=f.CompositeTransform,t=f.Rect,u=f.Path,v=f.DeleteShapeUnit,w=f.DeleteConnectionUnit,x=f.TextBlock,y=f.Image,z=f.Point,A=f.Intersect,B=f.ConnectionEditAdorner,C=f.UndoRedoService,D=f.ToolService,E=f.Selector,F=f.ResizingAdorner,G=f.ConnectorsAdorner,H=f.Cursors,I=f.Utils,J=kendo.Observable,K=f.ToBackUnit,L=f.ToFrontUnit,M=f.PolylineRouter,N=f.CascadingRouter,O=I.isUndefined,P=I.isDefined,Q=d.util.defined,R=a.isArray,S=kendo.isFunction,T=I.isString,U=a.isPlainObject,V=Math;var W=["sass","default-v2","bootstrap-v4"];var X=".kendoDiagram",Y="cascading",Z="itemBoundsChange",$="change",_="click",aa="drag",ba="dragEnd",ca="dragStart",da="mouseEnter",ea="mouseLeave",fa="error",ga="Auto",ha="Top",ia="Right",ja="Left",ka="Bottom",la=9007199254740992,ma="select",na="itemRotate",oa="pan",pa="zoomStart",qa="zoomEnd",ra="none",sa=600,ta=600,ua="rectangle",va=100,wa=100,xa=20,ya=20,za=0,Aa="Yellow",Ba=Number.MAX_VALUE,Ca=-Number.MAX_VALUE,Da="absolute",Ea="transformed",Fa="rotated",Ga="transparent",Ha="width",Ia="height",Ja="x",Ka="y",La="DOMMouseScroll"+X+" mousewheel"+X,Ma=.05,Na=5,Oa='<a class="k-button k-button-icontext #=className#" href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',Pa=5;f.DefaultConnectors=[{name:ha},{name:ka},{name:ja},{name:ia},{name:ga,position:function(a){return a.getPosition("center")}}];var Qa={cancel:{text:"Cancel",imageClass:"k-i-cancel",className:"k-diagram-cancel",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-i-checkmark",className:"k-diagram-update",iconClass:"k-icon"}};f.shapeDefaults=function(a){var b={type:ua,path:"",autoSize:true,visual:null,x:za,y:za,minWidth:xa,minHeight:ya,width:va,height:wa,hover:{},editable:{connect:true,tools:[]},connectors:f.DefaultConnectors,rotation:{angle:0}};I.simpleExtend(b,a);return b};function Ra(a){var b=a.originalEvent,c=0;if(b.wheelDelta){c=-b.wheelDelta/40;c=c>0?V.ceil(c):V.floor(c)}else if(b.detail){c=b.detail}return c}function Sa(a){return a.options.name.toLowerCase()===ga.toLowerCase()}function Ta(a,b){var c=la,d,e;for(var f=0;f<b.length;f++){e=b[f];if(!Sa(e)){var g=a.distanceTo(e.position());if(g<c){c=g;d=e}}}return d}function Ua(a,b){var c,d=[],e;var f=a.drawingContainer().children;var g=f.length;for(c=0;c<b.length;c++){e=b[c];for(var h=0;h<g;h++){if(f[h]==e.drawingContainer()){d.push(h);break}}}return d}var Va=J.extend({init:function(a){var b=this;b.dataItem=(a||{}).dataItem;J.fn.init.call(b);b.options=j({id:f.randomId()},b.options,a);b.isSelected=false;b.visual=new p({id:b.options.id,autoSize:b.options.autoSize});b.id=b.options.id;b._template()},options:{hover:{},cursor:H.grip,content:{align:"center middle"},selectable:true,serializable:true,enable:true},_getCursor:function(a){if(this.adorner){return this.adorner._getCursor(a)}return this.options.cursor},visible:function(a){if(O(a)){return this.visual.visible()}else{this.visual.visible(a)}},bounds:function(){},refresh:function(){this.visual.redraw()},position:function(a){this.options.x=a.x;this.options.y=a.y;this.visual.position(a)},toString:function(){return this.options.id},serialize:function(){var a=j({},{options:this.options});if(this.dataItem){a.dataItem=this.dataItem.toString()}return a},_content:function(a){if(a!==b){var c=this.options;if(f.Utils.isString(a)){c.content.text=a}else{j(c.content,a)}var d=c.content;var e=this._contentVisual;if(!e){this._createContentVisual(d)}else{this._updateContentVisual(d)}}return this.options.content.text},_createContentVisual:function(a){if(a.text){this._contentVisual=new x(a);this._contentVisual._includeInBBox=false;this.visual.append(this._contentVisual)}},_updateContentVisual:function(a){this._contentVisual.redraw(a)},_hitTest:function(a){var b=this.bounds();return this.visible()&&b.contains(a)&&this.options.enable},_template:function(){var a=this;if(a.options.content.template){var b=a.dataItem||{},c=kendo.template(a.options.content.template,{paramName:"dataItem"});a.options.content.text=c(b)}},_canSelect:function(){return this.options.selectable!==false},toJSON:function(){return{id:this.options.id}}});var Wa=h.extend({init:function(a,b){this.options=j({},this.options,b);this.connections=[];this.shape=a},options:{width:7,height:7,fill:{color:Aa},hover:{}},position:function(){if(this.options.position){return this.options.position(this.shape)}else{return this.shape.getPosition(this.options.name)}},toJSON:function(){return{shapeId:this.shape.toString(),connector:this.options.name}}});Wa.parse=function(a,b){var c=b.split(":"),d=c[0],e=c[1]||ga;for(var f=0;f<a.shapes.length;f++){var g=a.shapes[f];if(g.options.id==d){return g.getConnector(e.trim())}}};var Xa=Va.extend({init:function(a,b){var c=this;Va.fn.init.call(c,a);this.diagram=b;this.updateOptionsFromModel();a=c.options;c.connectors=[];c.type=a.type;c.createShapeVisual();c.updateBounds();c.content(c.content());c._createConnectors()},options:f.shapeDefaults(),_setOptionsFromModel:function(a){var b=$a(a||this.dataItem);this.options=j({},this.options,b);this.redrawVisual()},updateOptionsFromModel:function(a,b){if(this.diagram&&this.diagram._isEditable){var d=$a(a||this.dataItem);if(a&&b){if(!c.inArray(b,["x","y","width","height"])){if(this.options.visual){this._redrawVisual()}else if(d.type){this.options=j({},this.options,d);this._redrawVisual()}if(this.options.content){this._template();this.content(this.options.content)}}else{var e=this.bounds();e[b]=a[b];this.bounds(e)}}else{this.options=j({},this.options,d)}}},_redrawVisual:function(){this.visual.clear();this._contentVisual=null;this.options.dataItem=this.dataItem;this.createShapeVisual();this.updateBounds()},redrawVisual:function(){this._redrawVisual();if(this.options.content){this._template();this.content(this.options.content)}},updateModel:function(a){var b=this.diagram;if(b&&b._isEditable){var c=this._bounds;var d=this.dataItem;if(d){b._suspendModelRefresh();if(Q(d.x)&&c.x!==d.x){d.set("x",c.x)}if(Q(d.y)&&c.y!==d.y){d.set("y",c.y)}if(Q(d.width)&&c.width!==d.width){d.set("width",c.width)}if(Q(d.height)&&c.height!==d.height){d.set("height",c.height)}this.dataItem=d;b._resumeModelRefresh();if(a){b._syncShapeChanges()}}}},updateBounds:function(){var a=this.visual._measure(true);var b=this.options;this.bounds(new t(b.x,b.y,a.width,a.height));this._rotate();this._alignContent()},content:function(a){var b=this._content(a);this._alignContent();return b},_alignContent:function(){var a=this.options.content||{};var b=this._contentVisual;if(b&&a.align){var c=this.visual._measure();var d=new f.RectAlign(c);var e=b.drawingElement.bbox(null);var g=new t(0,0,e.width(),e.height());var h=d.align(g,a.align);b.position(h.topLeft())}},_createConnectors:function(){var a=this.options,b=a.connectors.length,c=a.connectorDefaults,d,e;for(e=0;e<b;e++){d=new Wa(this,j({},c,a.connectors[e]));this.connectors.push(d)}},bounds:function(a){var b;if(a){if(T(a)){switch(a){case Ea:b=this._transformedBounds();break;case Da:b=this._transformedBounds();var c=this.diagram._pan;b.x+=c.x;b.y+=c.y;break;case Fa:b=this._rotatedBounds();break;default:b=this._bounds}}else{this._setBounds(a);this._triggerBoundsChange();if(!(this.diagram&&this.diagram._layouting)){this.refreshConnections()}}}else{b=this._bounds}return b},_setBounds:function(a){var b=this.options;var c=a.topLeft();var d=b.x=c.x;var e=b.y=c.y;var f=b.width=V.max(a.width,b.minWidth);var g=b.height=V.max(a.height,b.minHeight);this._bounds=new t(d,e,f,g);this.visual.redraw({x:d,y:e,width:f,height:g})},position:function(a){if(a){this.bounds(new t(a.x,a.y,this._bounds.width,this._bounds.height))}else{return this._bounds.topLeft()}},clone:function(){var a=this.serialize();a.options.id=f.randomId();if(this.diagram&&this.diagram._isEditable&&Q(this.dataItem)){a.options.dataItem=jb(this.dataItem)}return new Xa(a.options)},select:function(a){var b=this.diagram,c,d;if(O(a)){a=true}if(this._canSelect()){if(this.isSelected!=a){c=[];d=[];this.isSelected=a;if(this.isSelected){b._selectedItems.push(this);c.push(this)}else{I.remove(b._selectedItems,this);d.push(this)}if(!b._internalSelection){b._selectionChanged(c,d)}return true}}},rotate:function(a,c,d){var e=this.visual.rotate();if(a!==b){if(d!==false&&this.diagram&&this.diagram.undoRedoService&&a!==e.angle){this.diagram.undoRedoService.add(new f.RotateUnit(this.diagram._resizingAdorner,[this],[e.angle]),false)}var g=this.bounds(),h=new z(g.width/2,g.height/2),i,j;if(c){i=a-e.angle;j=g.center().rotate(c,360-i).minus(h);this._rotationOffset=this._rotationOffset.plus(j.minus(g.topLeft()));this.position(j)}this.visual.rotate(a,h);this.options.rotation.angle=a;if(this.diagram&&this.diagram._connectorsAdorner){this.diagram._connectorsAdorner.refresh()}this.refreshConnections();if(this.diagram){this.diagram.trigger(na,{item:this})}}return e},connections:function(a){var b=[],c,d,e,f,g;for(c=0;c<this.connectors.length;c++){g=this.connectors[c];f=g.connections;for(d=0,f;d<f.length;d++){e=f[d];if(a=="out"){var h=e.source();if(h.shape&&h.shape==this){b.push(e)}}else if(a=="in"){var i=e.target();if(i.shape&&i.shape==this){b.push(e)}}else{b.push(e)}}}return b},refreshConnections:function(){a.each(this.connections(),function(){this.refresh()})},getConnector:function(a){var b,c;if(T(a)){a=a.toLocaleLowerCase();for(b=0;b<this.connectors.length;b++){c=this.connectors[b];if(c.options.name.toLocaleLowerCase()==a){return c}}}else if(a instanceof z){return Ta(a,this.connectors)}else{return this.connectors.length?this.connectors[0]:null}},getPosition:function(a){var b=this.bounds(),c=a.charAt(0).toLowerCase()+a.slice(1);if(S(b[c])){return this._transformPoint(b[c]())}return b.center()},redraw:function(a){if(a){var b=this.options;var c;this.shapeVisual.redraw(this._visualOptions(a));if(this._diffNumericOptions(a,[Ha,Ia,Ja,Ka])){this.bounds(new t(b.x,b.y,b.width,b.height));c=true}if(a.connectors){b.connectors=a.connectors;this._updateConnectors()}b=j(b,a);if(a.rotation||c){this._rotate()}if(b.content){this.content(b.content)}}},_updateConnectors:function(){var a=this.connections();this.connectors=[];this._createConnectors();var b;var c;var d;for(var e=0;e<a.length;e++){b=a[e];c=b.source();d=b.target();if(c.shape&&c.shape===this){b.source(this.getConnector(c.options.name)||null)}else if(d.shape&&d.shape===this){b.target(this.getConnector(d.options.name)||null)}b.updateModel()}},_diffNumericOptions:f.diffNumericOptions,_visualOptions:function(a){return{data:a.path,source:a.source,hover:a.hover,fill:a.fill,stroke:a.stroke}},_triggerBoundsChange:function(){if(this.diagram){this.diagram.trigger(Z,{item:this,bounds:this._bounds.clone()})}},_transformPoint:function(a){var b=this.rotate(),c=this.bounds(),d=c.topLeft();if(b.angle){a.rotate(b.center().plus(d),360-b.angle)}return a},_transformedBounds:function(){var a=this.bounds(),b=a.topLeft(),c=a.bottomRight();return t.fromPoints(this.diagram.modelToView(b),this.diagram.modelToView(c))},_rotatedBounds:function(){var a=this.bounds().rotatedBounds(this.rotate().angle),b=a.topLeft(),c=a.bottomRight();return t.fromPoints(b,c)},_rotate:function(){var a=this.options.rotation;if(a&&a.angle){this.rotate(a.angle)}this._rotationOffset=new z},_hover:function(a){var b=this.options,c=b.hover,d=b.stroke,e=b.fill;if(a&&P(c.stroke)){d=j({},d,c.stroke)}if(a&&P(c.fill)){e=c.fill}this.shapeVisual.redraw({stroke:d,fill:e});if(b.editable&&b.editable.connect){this.diagram._showConnectors(this,a)}},_hitTest:function(a){if(this.visible()){var b=this.bounds(),c,d=this.rotate().angle;if(a.isEmpty&&!a.isEmpty()){return A.rects(a,b,d?d:0)}else{c=a.clone().rotate(b.center(),d);if(b.contains(c)){return this}}}},toJSON:function(){return{shapeId:this.options.id}},createShapeVisual:function(){var a=this.options;var b=this._visualOptions(a);var c=a.visual;var d=(a.type+"").toLocaleLowerCase();var e;b.width=a.width;b.height=a.height;if(S(c)){e=c.call(this,a)}else if(b.data){e=new u(b);ob(e)}else if(d=="rectangle"){e=new q(b)}else if(d=="circle"){e=new r(b)}else if(d=="text"){e=new x(b)}else if(d=="image"){e=new y(b)}else{e=new u(b)}this.shapeVisual=e;this.visual.append(this.shapeVisual)}});var Ya=Va.extend({init:function(a,b,c){var d=this;Va.fn.init.call(d,c);this.updateOptionsFromModel();this._initRouter();d.path=new f.Polyline(d.options);d.path.fill(Ga);d.visual.append(d.path);d._sourcePoint=d._targetPoint=new z;d._setSource(a);d._setTarget(b);d.content(d.options.content);d.definers=[];if(Q(c)&&c.points){d.points(c.points)}},options:{hover:{stroke:{}},startCap:ra,endCap:ra,points:[],selectable:true,fromConnector:ga,toConnector:ga},_setOptionsFromModel:function(a){this.updateOptionsFromModel(a||this.dataItem)},updateOptionsFromModel:function(a){if(this.diagram&&this.diagram._isEditable){var b=this.diagram._dataMap;var c=_a(a||this.dataItem);if(a){if(Q(c.from)){var d=b[c.from];if(d&&Q(c.fromConnector)){d=d.getConnector(c.fromConnector)}this.source(d)}else if(Q(c.fromX)&&Q(c.fromY)){this.source(new z(c.fromX,c.fromY))}if(Q(c.to)){var e=b[c.to];if(e&&Q(c.toConnector)){e=e.getConnector(c.toConnector)}this.target(e)}else if(Q(c.toX)&&Q(c.toY)){this.target(new z(c.toX,c.toY))}if(Q(c.type)&&this.type()!==c.type){this.points([]);this.type(c.type)}this.dataItem=a;this._template();this.redraw(this.options)}else{this.options=j({},c,this.options)}}},updateModel:function(a){if(this.diagram&&this.diagram._isEditable){if(this.diagram.connectionsDataSource){var b=this.diagram.connectionsDataSource.getByUid(this.dataItem.uid);if(b){this.diagram._suspendModelRefresh();if(Q(this.options.fromX)&&this.options.fromX!==null){mb("from",b);mb("fromConnector",b);b.set("fromX",this.options.fromX);b.set("fromY",this.options.fromY)}else{b.set("from",this.options.from);if(Q(b.fromConnector)){b.set("fromConnector",this.sourceConnector?this.sourceConnector.options.name:null)}mb("fromX",b);mb("fromY",b)}if(Q(this.options.toX)&&this.options.toX!==null){mb("to",b);mb("toConnector",b);b.set("toX",this.options.toX);b.set("toY",this.options.toY)}else{b.set("to",this.options.to);if(Q(b.toConnector)){b.set("toConnector",this.targetConnector?this.targetConnector.options.name:null)}mb("toX",b);mb("toY",b)}if(Q(this.options.type)&&Q(b.type)){b.set("type",this.options.type)}this.dataItem=b;this.diagram._resumeModelRefresh();if(a){this.diagram._syncConnectionChanges()}}}}},sourcePoint:function(){return this._resolvedSourceConnector?this._resolvedSourceConnector.position():this._sourcePoint},_setSource:function(a){var c=a instanceof Xa;var d=this.options.fromConnector||ga;var e;if(c&&!a.getConnector(d)){return}if(a!==b){this.from=a}this._removeFromSourceConnector();if(a===null){if(this.sourceConnector){this._sourcePoint=(this._resolvedSourceConnector||this.sourceConnector).position();this._clearSourceConnector();this._setFromOptions(null,this._sourcePoint)}}else if(a instanceof Wa){e=a.shape.dataItem;if(e){this._setFromOptions(e.id)}this.sourceConnector=a;this.sourceConnector.connections.push(this)}else if(a instanceof z){this._setFromOptions(null,a);this._sourcePoint=a;if(this.sourceConnector){this._clearSourceConnector()}}else if(c){e=a.dataItem;if(e){this._setFromOptions(e.id)}this.sourceConnector=a.getConnector(d);this.sourceConnector.connections.push(this)}},source:function(a,b){if(P(a)){if(b&&this.diagram){this.diagram.undoRedoService.addCompositeItem(new f.ConnectionEditUnit(this,a))}this._setSource(a);this.refresh()}return this.sourceConnector?this.sourceConnector:this._sourcePoint},_setFromOptions:function(a,b){this.options.from=a;if(b){this.options.fromX=b.x;this.options.fromY=b.y}else{this.options.fromX=null;this.options.fromY=null}},sourceDefiner:function(a){if(a){if(a instanceof f.PathDefiner){a.left=null;this._sourceDefiner=a;this.source(a.point)}else{throw"The sourceDefiner needs to be a PathDefiner."}}else{if(!this._sourceDefiner){this._sourceDefiner=new f.PathDefiner(this.sourcePoint(),null,null)}return this._sourceDefiner}},targetPoint:function(){return this._resolvedTargetConnector?this._resolvedTargetConnector.position():this._targetPoint},_setTarget:function(a){var c=a instanceof Xa;var d=this.options.toConnector||ga;var e;if(c&&!a.getConnector(d)){return}if(a!==b){this.to=a}this._removeFromTargetConnector();if(a===null){if(this.targetConnector){this._targetPoint=(this._resolvedTargetConnector||this.targetConnector).position();this._clearTargetConnector();this._setToOptions(null,this._targetPoint)}}else if(a instanceof Wa){e=a.shape.dataItem;if(e){this._setToOptions(e.id)}this.targetConnector=a;this.targetConnector.connections.push(this)}else if(a instanceof z){this._setToOptions(null,a);this._targetPoint=a;if(this.targetConnector){this._clearTargetConnector()}}else if(c){e=a.dataItem;if(e){this._setToOptions(e.id)}this.targetConnector=a.getConnector(d);this.targetConnector.connections.push(this)}},target:function(a,c){if(P(a)){if(c&&this.diagram){this.diagram.undoRedoService.addCompositeItem(new f.ConnectionEditUnit(this,b,a))}this._setTarget(a);this.refresh()}return this.targetConnector?this.targetConnector:this._targetPoint},_setToOptions:function(a,b){this.options.to=a;if(b){this.options.toX=b.x;this.options.toY=b.y}else{this.options.toX=null;this.options.toY=null}},targetDefiner:function(a){if(a){if(a instanceof f.PathDefiner){a.right=null;this._targetDefiner=a;this.target(a.point)}else{throw"The sourceDefiner needs to be a PathDefiner."}}else{if(!this._targetDefiner){this._targetDefiner=new f.PathDefiner(this.targetPoint(),null,null)}return this._targetDefiner}},_updateConnectors:function(){this._updateConnector(this.source(),"source");this._updateConnector(this.target(),"target")},_updateConnector:function(a,b){var c=this;var d=c.diagram;if(a instanceof Wa&&!d.getShapeById(a.shape.id)){var e=a.shape.dataItem;var f=a.options.name;var g=function(){var g=d._dataMap[e.id];a=g.getConnector(f);c[b](a,false);c.updateModel()};if(d._dataMap[e.id]){g()}else{var h=d._inactiveShapeItems.getByUid(e.uid);if(h){d._deferredConnectionUpdates.push(h.onActivate(g))}}}else{c[b](a,false)}},content:function(a){var b=this._content(a);if(Q(a)){this._alignContent()}return b},_createContentVisual:function(a){var b;if(S(a.visual)){b=a.visual.call(this,a)}else if(a.text){b=new x(a)}if(b){this._contentVisual=b;b._includeInBBox=false;this.visual.append(b)}return b},_updateContentVisual:function(a){if(S(a.visual)){this.visual.remove(this._contentVisual);this._createContentVisual(a)}else{this._contentVisual.redraw(a)}},_alignContent:function(){if(this._contentVisual){var a=Pa;var b=this.allPoints();var c=V.floor(b.length/2);var e=c-1;while(e>0&&b[e].equals(b[c])){e--;c++}var f=b[c];var g=b[e];var h=this._contentVisual._measure();var i=h.width;var j=h.height;var k=b.length%2===0;var l=g.distanceTo(f);if(k&&b.length>2&&l>0&&(g.y===f.y&&l<i||g.x===f.x&&l<j)){k=false;a=0}var m;if(k){var n=d.util.deg(V.atan2(f.y-g.y,f.x-g.x));m=new z((f.x-g.x)/2+g.x,(f.y-g.y)/2+g.y);if(V.abs(n)===90){m.x+=a;m.y-=j/2}else if(n%180===0){m.x-=i/2;m.y-=j+a}else if(n<-90||0<n&&n<90){m.y-=j}else if(n<0||n>90){m.x-=i;m.y-=j}}else{var o=V.floor(b.length/2);m=b[o].clone();g=b[o-1];f=b[o+1];var p=g.x<=m.x&&f.x<=m.x?a:-h.width-a;var q=g.y<=m.y&&f.y<=m.y?a:-h.height-a;m.x+=p;m.y+=q}this._contentVisual.position(m)}},select:function(a){var c=this.diagram,d,e;if(this._canSelect()){if(this.isSelected!==a){this.isSelected=a;d=[];e=[];if(this.isSelected){this.adorner=new B(this,this.options.selection);c._adorn(this.adorner,true);c._selectedItems.push(this);d.push(this)}else{if(this.adorner){c._adorn(this.adorner,false);I.remove(c._selectedItems,this);this.adorner=b;e.push(this)}}if(this.adorner){this.adorner.refresh()}if(!c._internalSelection){c._selectionChanged(d,e)}return true}}},bounds:function(a){if(a&&!T(a)){this._bounds=a}else{return this._bounds}},type:function(a){var b=this.options;if(a){if(a!==b.type){b.type=a;this._initRouter();this.refresh()}}else{return b.type}},_initRouter:function(){var a=(this.options.type||"").toLowerCase();if(a==Y){this._router=new N(this)}else{this._router=new M(this)}},points:function(a){if(a){this.definers=[];for(var b=0;b<a.length;b++){var c=a[b];if(c instanceof f.Point){this.definers.push(new f.PathDefiner(c))}else if(c.hasOwnProperty("x")&&c.hasOwnProperty("y")){this.definers.push(new f.PathDefiner(new z(c.x,c.y)))}else{throw"A Connection point needs to be a Point or an object with x and y properties."}}}else{var d=[];if(P(this.definers)){for(var e=0;e<this.definers.length;e++){d.push(this.definers[e].point)}}return d}},allPoints:function(){var a=[this.sourcePoint()];if(this.definers){for(var b=0;b<this.definers.length;b++){a.push(this.definers[b].point)}}a.push(this.targetPoint());return a},refresh:function(){this._resolveConnectors();this._refreshPath();this._alignContent();if(this.adorner){this.adorner.refresh()}},_resolveConnectors:function(){var a=this,b,c,d,e,f=a.source(),g=a.target();if(f instanceof z){b=f}else if(f instanceof Wa){if(Sa(f)){d=f.shape.connectors}else{d=[f]}}if(g instanceof z){c=g}else if(g instanceof Wa){if(Sa(g)){e=g.shape.connectors}else{e=[g]}}if(b){if(e){a._resolvedTargetConnector=Ta(b,e)}}else if(d){if(c){a._resolvedSourceConnector=Ta(c,d)}else if(e){this._resolveAutoConnectors(d,e)}}},_resolveAutoConnectors:function(a,b){var c=la;var d=la;var e,f;var g,h;var i,j;var k,l;var m,n;var o;for(m=0;m<a.length;m++){k=a[m];if(!Sa(k)){g=k.position();for(n=0;n<b.length;n++){l=b[n];if(!Sa(l)){h=l.position();o=V.round(g.distanceTo(h));if(o<c&&this.diagram&&this._testRoutePoints(g,h,k,l)){c=o;e=k;f=l}if(o<d){i=k;j=l;d=o}}}}}if(e){i=e;j=f}this._resolvedSourceConnector=i;this._resolvedTargetConnector=j},_testRoutePoints:function(a,b,c,d){var e=this._router;var f=true;if(e instanceof N){var g=e.routePoints(a,b,c,d),h,i,j,k;k=this._getRouteExclude(a,b,c.shape,d.shape);g.unshift(a);g.push(b);for(var l=1;l<g.length;l++){h=g[l-1];i=g[l];j=new t(V.min(h.x,i.x),V.min(h.y,i.y),V.abs(h.x-i.x),V.abs(h.y-i.y));if(j.width>0){j.x++;j.width-=2}if(j.height>0){j.y++;j.height-=2}if(!j.isEmpty()&&this.diagram._shapesQuadTree.hitTestRect(j,k)){f=false;break}}}return f},_getRouteExclude:function(a,b,c,d){var e=[];if(this._isPointInsideShape(a,c)){e.push(c)}if(this._isPointInsideShape(b,d)){e.push(d)}return e},_isPointInsideShape:function(a,b){var c=b.bounds(),d,e=b.rotate().angle,f,g,h=c.x,i=c.y;d=a.clone().rotate(c.center(),e);f=d.x;g=d.y;return f>h&&f<h+c.width&&g>i&&g<i+c.height},redraw:function(a){if(a){this.options=j({},this.options,a);var b=this.options.points;if(Q(b)&&b.length>0){this.points(b);this._refreshPath()}if(a&&a.content||a.text){this.content(a.content)}this.path.redraw({fill:a.fill,stroke:a.stroke,startCap:a.startCap,endCap:a.endCap})}},clone:function(){var a=this.serialize();if(this.diagram&&this.diagram._isEditable&&Q(this.dataItem)){a.options.dataItem=jb(this.dataItem)}return new Ya(this.from,this.to,a.options)},serialize:function(){var a=this.from.toJSON?this.from.toJSON:this.from.toString(),b=this.to.toJSON?this.to.toJSON:this.to.toString();var c=j({},{options:this.options,from:a,to:b});if(Q(this.dataItem)){c.dataItem=this.dataItem.toString()}c.options.points=this.points();return c},_hitTest:function(a){if(this.visible()){var b=new z(a.x,a.y),c=this.sourcePoint(),d=this.targetPoint();if(a.isEmpty&&!a.isEmpty()&&a.contains(c)&&a.contains(d)){return this}if(this._router.hitTest(b)){return this}}},_hover:function(a){var b=(this.options.stroke||{}).color;if(a&&P(this.options.hover.stroke.color)){b=this.options.hover.stroke.color}this.path.redraw({stroke:{color:b}})},_refreshPath:function(){if(!Q(this.path)){return}this._drawPath();this.bounds(this._router.getBounds())},_drawPath:function(){if(this._router){this._router.route()}var a=this.sourcePoint();var b=this.targetPoint();var c=this.points();this.path.redraw({points:[a].concat(c,[b])})},_clearSourceConnector:function(){this.sourceConnector=b;this._resolvedSourceConnector=b},_clearTargetConnector:function(){this.targetConnector=b;this._resolvedTargetConnector=b},_removeFromSourceConnector:function(){if(this.sourceConnector){I.remove(this.sourceConnector.connections,this)}},_removeFromTargetConnector:function(){if(this.targetConnector){I.remove(this.targetConnector.connections,this)}},toJSON:function(){var a=this;var b,c,d;if(a.from&&a.from.toJSON){b=a.from.toJSON()}else{d=a._sourcePoint;b={x:d.x,y:d.y}}if(a.to&&a.to.toJSON){c=a.to.toJSON()}else{d=a._targetPoint;c={x:d.x,y:d.y}}return{from:b,to:c}}});var Za=g.extend({init:function(a,b){var c=this;kendo.destroy(a);g.fn.init.call(c,a,b);c._initTheme();c._initElements();c._extendLayoutOptions(c.options);c._initDefaults(b);c._interactionDefaults();c._initCanvas();c.mainLayer=new p({id:"main-layer"});c.canvas.append(c.mainLayer);c._shapesQuadTree=new ib(c);c._pan=new z;c._adorners=[];c.adornerLayer=new p({id:"adorner-layer"});c.canvas.append(c.adornerLayer);c._createHandlers();c._initialize();c._resizingAdorner=new F(c,{editable:c.options.editable});c._connectorsAdorner=new G(c);c._adorn(c._resizingAdorner,true);c._adorn(c._connectorsAdorner,true);c.selector=new E(c);c._clipboard=[];c.pauseMouseHandlers=false;c._fetchFreshData();c._createGlobalToolBar();c._createOptionElements();c.zoom(c.options.zoom);c.canvas.draw()},options:{name:"Diagram",theme:"default",layout:"",zoomRate:.1,zoom:1,zoomMin:0,zoomMax:2,dataSource:{},draggable:true,template:"",autoBind:true,editable:{rotate:{},resize:{},text:true,tools:[],drag:{snap:{size:10,angle:10}},remove:true},pannable:{},selectable:{key:"none"},tooltip:{enabled:true,format:"{0}"},copy:{enabled:true,offsetX:20,offsetY:20},shapeDefaults:f.shapeDefaults({undoable:true}),connectionDefaults:{editable:{tools:[]},type:Y},shapes:[],connections:[]},events:[qa,pa,oa,ma,na,Z,$,_,da,ea,"toolBarClick","save","cancel","edit","remove","add","dataBound",ca,aa,ba],items:function(){return a()},_createGlobalToolBar:function(){var a=this.options.editable;if(a){var b=a.tools;if(this._isEditable&&b!==false&&(!b||b.length===0)){b=["createShape","undo","redo","rotateClockwise","rotateAnticlockwise"]}if(b&&b.length){this.toolBar=new ab(this,{tools:b||{},click:i(this._toolBarClick,this),modal:false});this.toolBar.element.css({textAlign:"left"});this.element.prepend(this.toolBar.element);this._resize()}}},createShape:function(){if(this.editor&&this.editor.end()||!this.editor){var a=this.dataSource;var b=a.view()||[];var c=b.length;var d=lb(a,{});var e=this._createShape(d,{});if(!this.trigger("add",{shape:e})){a.insert(c,d);var f=this._inactiveShapeItems.getByUid(d.uid);f.element=e;this.edit(e)}}},_createShape:function(a,b){b=j({},this.options.shapeDefaults,b);b.dataItem=a;var c=new Xa(b,this);return c},createConnection:function(){if(this.editor&&this.editor.end()||!this.editor){var a=this.connectionsDataSource;var b=a.view()||[];var c=b.length;var d=lb(a,{});var e=this._createConnection(d);if(!this.trigger("add",{connection:e})){this._connectionsDataMap[d.uid]=e;a.insert(c,d);this.addConnection(e,false);this.edit(e)}}},_createConnection:function(a,b,c){var d=j({},this.options.connectionDefaults);d.dataItem=a;var e=new Ya(b||new z,c||new z,d);return e},editModel:function(a,b){this.cancelEdit();var c,d;var e=this.options.editable;if(b=="shape"){c=e.shapeEditors;d=e.shapeTemplate}else if(b=="connection"){var f=i(db,this);c=j({},{from:f,to:f},e.connectionEditors);d=e.connectionTemplate}else{return}this.editor=new cb(this.element,{update:i(this._update,this),cancel:i(this._cancel,this),model:a,type:b,target:this,editors:c,template:d});this.trigger("edit",this._editArgs())},edit:function(a){if(a.dataItem){var b=a instanceof Xa?"shape":"connection";this.editModel(a.dataItem,b)}},cancelEdit:function(){if(this.editor){this._getEditDataSource().cancelChanges(this.editor.model);this._destroyEditor()}},saveEdit:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())){this._getEditDataSource().sync()}},_update:function(){if(this.editor&&this.editor.end()&&!this.trigger("save",this._editArgs())){this._getEditDataSource().sync();this._destroyEditor()}},_cancel:function(){if(this.editor&&!this.trigger("cancel",this._editArgs())){var a=this.editor.model;this._getEditDataSource().cancelChanges(a);var b=this._connectionsDataMap[a.uid]||this._dataMap[a.id];if(b){b._setOptionsFromModel(a)}this._destroyEditor()}},_getEditDataSource:function(){return this.editor.options.type==="shape"?this.dataSource:this.connectionsDataSource},_editArgs:function(){var a={container:this.editor.wrapper};a[this.editor.options.type]=this.editor.model;return a},_destroyEditor:function(){if(this.editor){this.editor.close();this.editor=null}},_initElements:function(){this.wrapper=this.element.empty().css("position","relative").attr("tabindex",0).addClass("k-widget k-diagram");this.scrollable=a("<div />").appendTo(this.element)},_initDefaults:function(a){var b=this.options;var c=b.editable;var d=b.shapeDefaults;var e=b.connectionDefaults;var f=(a||{}).shapeDefaults;if(c===false){d.editable=false;e.editable=false}else{nb(c,d.editable,["drag","remove","connect"]);
nb(c,e.editable,["drag","remove"])}if(f&&f.connectors){b.shapeDefaults.connectors=f.connectors}},_interactionDefaults:function(){var a=this.options;var b=a.selectable;var c=a.pannable;var d=kendo.support.mobileOS;if(b&&!Q(b.multiple)){a.selectable=j({multiple:d?false:true},a.selectable)}if(c&&!Q(c.key)){a.pannable=j({key:d?"none":"ctrl"},a.pannable)}},_initCanvas:function(){var b=a("<div class='k-layer'></div>").appendTo(this.scrollable)[0];var c=this.viewport();this.canvas=new o(b,{width:c.width||sa,height:c.height||ta})},_createHandlers:function(){var a=this;var b=a.element;b.on(La,i(a._wheel,a)).on("keydown"+X,i(a._keydown,a));a._userEvents=new kendo.UserEvents(this.scrollable,{multiTouch:true,fastTap:true,tap:i(a._tap,a),start:i(a._dragStart,a),move:i(a._drag,a),end:i(a._dragEnd,a),gesturestart:i(a._gestureStart,a),gesturechange:i(a._gestureChange,a),gestureend:i(a._gestureEnd,a)});a.toolService=new D(a);this.scrollable.on("mouseover"+X,i(a._mouseover,a)).on("mouseout"+X,i(a._mouseout,a)).on("mousemove"+X,i(a._mouseMove,a)).on("mousedown"+X,i(a._mouseDown,a)).on("mouseup"+X,i(a._mouseUp,a));this._syncHandler=i(a._syncChanges,a);a._resizeHandler=i(a.resize,a,false);kendo.onResize(a._resizeHandler);this.bind(pa,i(a._destroyToolBar,a));this.bind(oa,i(a._destroyToolBar,a))},_dragStart:function(a){this._pauseMouseHandlers=true;var b=this._eventPositions(a,true);var c=a.event;if(this.toolService.start(b,this._meta(c))){this._destroyToolBar();c.preventDefault()}},_drag:function(a){var b=this._eventPositions(a);var c=a.event;if(this.toolService.move(b,this._meta(c))){c.preventDefault()}},_dragEnd:function(a){this._pauseMouseHandlers=false;var b=this._eventPositions(a);var c=a.event;if(this.toolService.end(b,this._meta(c))){this._createToolBar();c.preventDefault()}},_mouseMove:function(a){if(!this._pauseMouseHandlers){var b=this._eventPositions(a);this.toolService._updateHoveredItem(b);this.toolService._updateCursor(b)}},_mouseDown:function(){this._pauseMouseHandlers=true},_mouseUp:function(){this._pauseMouseHandlers=false},_tap:function(a){var b=this.toolService;var c=this.options.selectable;var d=this._eventPositions(a);var e=this.focus();b._updateHoveredItem(d);if(b.hoveredItem){var f=b.hoveredItem;this.trigger("click",{item:f,point:d});if(c&&f.options.selectable!==false){var g=c.multiple!==false;var h=kendo.support.mobileOS||this._meta(a.event).ctrlKey;if(f.isSelected){if(h){this._destroyToolBar();f.select(false)}else{this._createToolBar(e)}}else{this._destroyToolBar();this.select(f,{addToSelection:g&&h});this._createToolBar(e)}}}else if(c){this._destroyToolBar();this.deselect()}},_keydown:function(a){if(this.toolService.keyDown(a.keyCode,this._meta(a))){a.preventDefault()}},_wheel:function(a){var b=Ra(a),c=this._eventPositions(a),d=j(this._meta(a),{delta:b});if(this.toolService.wheel(c,d)){a.preventDefault()}},_meta:function(a){return{ctrlKey:a.ctrlKey,metaKey:a.metaKey,altKey:a.altKey,shiftKey:a.shiftKey,type:a.type}},_eventPositions:function(a,b){var c;if(a.touch){var d=b?"startLocation":"location";c=new z(a.x[d],a.y[d])}else{var e=a.originalEvent;c=new z(e.pageX,e.pageY)}return this.documentToModel(c)},_gestureStart:function(a){this._destroyToolBar();this.scroller.disable();var b=this.documentToModel(new z(a.center.x,a.center.y));var c={point:b,zoom:this.zoom()};if(this.trigger(pa,c)){return}this._gesture=a;this._initialCenter=b},_gestureChange:function(a){var b=this._gesture;var c=this._initialCenter;var d=this.documentToView(new z(a.center.x,a.center.y));var e=a.distance/b.distance;var f=this._zoom;var g=false;if(V.abs(e-1)>=Ma){this._zoom=f=this._getValidZoom(f*e);this.options.zoom=f;this._gesture=a;g=true}var h=c.times(f);var i=d.minus(h);if(g||this._pan.distanceTo(i)>=Na){this._panTransform(i);this._updateAdorners()}a.preventDefault()},_gestureEnd:function(){if(this.options.pannable!==false){this.scroller.enable()}this.trigger(qa,{point:this._initialCenter,zoom:this.zoom()})},_resize:function(){var a=this.viewport();if(this.canvas){this.canvas.size(a)}if(this.scrollable&&this.toolBar){this.scrollable.height(a.height)}},_mouseover:function(a){var b=a.target._kendoNode;if(b&&b.srcElement._hover){b.srcElement._hover(true,b.srcElement)}},_mouseout:function(a){var b=a.target._kendoNode;if(b&&b.srcElement._hover){b.srcElement._hover(false,b.srcElement)}},_initTheme:function(){var a=this;var b=((a.options||{}).theme||"").toLowerCase();var d=c.ui.themes||{};var e;if(W.indexOf(b)!=-1){e=c.autoTheme().diagram}else{e=(d[b]||{}).diagram}a.options=j({},e,a.options);if(a.options.editable===true){j(a.options,{editable:(e||{}).editable})}},_createOptionElements:function(){var a=this.options;var b=a.shapes.length;if(b){this._createShapes()}if(a.connections.length){this._createConnections()}if(b&&a.layout){this.layout(a.layout)}},_createShapes:function(){var a=this,b=a.options,c=b.shapes,d,e;for(e=0;e<c.length;e++){d=c[e];a.addShape(d)}},_createConnections:function(){var a=this,b=a.options,c=b.connectionDefaults,d=b.connections,e,f,g,h;for(h=0;h<d.length;h++){e=d[h];f=a._findConnectionTarget(e.from);g=a._findConnectionTarget(e.to);a.connect(f,g,j({},c,e))}},_findConnectionTarget:function(a){a=a||{};var b=this;var c=T(a)?a:a.shapeId||a.id;var d;if(c){d=b.getShapeById(c);if(a.connector){d=d.getConnector(a.connector)}}else{d=new z(a.x||0,a.y||0)}return d},destroy:function(){var a=this;g.fn.destroy.call(a);if(this._userEvents){this._userEvents.destroy()}kendo.unbindResize(a._resizeHandler);a.clear();a.element.off(X);a.scroller.wrapper.off(X);a.canvas.destroy(true);a.canvas=b;a._destroyEditor();a.destroyScroller();a._destroyGlobalToolBar();a._destroyToolBar()},destroyScroller:function(){var a=this.scroller;if(!a){return}a.destroy();a.element.remove();this.scroller=null},save:function(){var a={shapes:[],connections:[]};var b,c,d;for(b=0;b<this.shapes.length;b++){d=this.shapes[b];if(d.options.serializable){a.shapes.push(d.options)}}for(b=0;b<this.connections.length;b++){c=this.connections[b];a.connections.push(j({},c.options,c.toJSON()))}return a},focus:function(){if(!this.element.is(kendo._activeElement())){var a=this.element,b=a[0],c=[],d=[],e=document.documentElement,f;do{b=b.parentNode;if(b.scrollHeight>b.clientHeight){c.push(b);d.push(b.scrollTop)}}while(b!=e);a.focus();for(f=0;f<c.length;f++){c[f].scrollTop=d[f]}return true}},load:function(a){this.clear();this.setOptions(a);this._createShapes();this._createConnections()},setOptions:function(a){j(this.options,a)},clear:function(){var a=this;a.select(false);a.mainLayer.clear();a._shapesQuadTree.clear();a._initialize()},connect:function(a,b,c){var d;if(this.connectionsDataSource&&this._isEditable){var e=this.connectionsDataSource.add({});d=this._connectionsDataMap[e.uid];d.source(a);d.target(b);d.redraw(c);d.updateModel()}else{d=new Ya(a,b,j({},this.options.connectionDefaults,c));this.addConnection(d)}return d},connected:function(a,b){for(var c=0;c<this.connections.length;c++){var d=this.connections[c];if(d.from==a&&d.to==b){return true}}return false},addConnection:function(a,b){if(b!==false){this.undoRedoService.add(new f.AddConnectionUnit(a,this),false)}a.diagram=this;a._setOptionsFromModel();a.refresh();this.mainLayer.append(a.visual);this.connections.push(a);this.trigger($,{added:[a],removed:[]});return a},_addConnection:function(a,b){var c=this.connectionsDataSource;var d;if(c&&this._isEditable){d=lb(c,jb(a.dataItem));a.dataItem=d;a.updateModel();if(!this.trigger("add",{connection:a})){this._connectionsDataMap[d.uid]=a;c.add(d);this.addConnection(a,b);a._updateConnectors();return a}}else if(!this.trigger("add",{connection:a})){this.addConnection(a,b);a._updateConnectors();return a}},addShape:function(a,b){var c,d=this.options.shapeDefaults;if(a instanceof Xa){c=a}else if(!(a instanceof kendo.Class)){d=j({},d,a||{});c=new Xa(d,this)}else{return}if(b!==false){this.undoRedoService.add(new f.AddShapeUnit(c,this),false)}this.shapes.push(c);if(c.diagram!==this){this._shapesQuadTree.insert(c);c.diagram=this}this.mainLayer.append(c.visual);this.trigger($,{added:[c],removed:[]});return c},_addShape:function(a,b){var c=this;var d=c.dataSource;var e;if(d&&this._isEditable){e=lb(d,jb(a.dataItem));a.dataItem=e;a.updateModel();if(!this.trigger("add",{shape:a})){this.dataSource.add(e);var f=this._inactiveShapeItems.getByUid(e.uid);f.element=a;f.undoable=b;return a}}else if(!this.trigger("add",{shape:a})){return this.addShape(a,b)}},remove:function(a,b){a=R(a)?a.slice(0):[a];var c=kb(a);var d=c.shapes;var e=c.connections;var f;if(!Q(b)){b=true}if(b){this.undoRedoService.begin()}this._suspendModelRefresh();for(f=d.length-1;f>=0;f--){this._removeItem(d[f],b,e)}for(f=e.length-1;f>=0;f--){this._removeItem(e[f],b)}this._resumeModelRefresh();if(b){this.undoRedoService.commit(false)}this.trigger($,{added:[],removed:a})},_removeShapeDataItem:function(a){if(this._isEditable){this.dataSource.remove(a.dataItem);delete this._dataMap[a.dataItem.id]}},_removeConnectionDataItem:function(a){if(this._isEditable){this.connectionsDataSource.remove(a.dataItem);delete this._connectionsDataMap[a.dataItem.uid]}},_triggerRemove:function(a){var b=[];var c,d,e;for(var f=0;f<a.length;f++){c=a[f];e=c.options.editable;if(c instanceof Xa){d={shape:c}}else{d={connection:c}}if(e&&e.remove!==false&&!this.trigger("remove",d)){b.push(c)}}return b},undo:function(){this.undoRedoService.undo()},redo:function(){this.undoRedoService.redo()},select:function(a,b){if(P(a)){b=j({addToSelection:false},b);var c=b.addToSelection,d=[],e=[],f,g;if(!c){this.deselect()}this._internalSelection=true;if(a instanceof Array){d=a}else if(a instanceof Va){d=[a]}for(f=0;f<d.length;f++){g=d[f];if(g.select(true)){e.push(g)}}this._selectionChanged(e,[]);this._internalSelection=false}else{return this._selectedItems}},selectAll:function(){this.select(this.shapes.concat(this.connections))},selectArea:function(a){var b,c,d;this._internalSelection=true;var e=[];if(a instanceof t){c=this.shapes.concat(this.connections);for(b=0;b<c.length;b++){d=c[b];if((!a||d._hitTest(a))&&d.options.enable){if(d.select(true)){e.push(d)}}}}this._selectionChanged(e,[]);this._internalSelection=false},deselect:function(a){this._internalSelection=true;var b=[],c=[],d,e;if(a instanceof Array){c=a}else if(a instanceof Va){c.push(a)}else if(!P(a)){c=this._selectedItems.slice(0)}for(e=0;e<c.length;e++){d=c[e];if(d.select(false)){b.push(d)}}this._selectionChanged([],b);this._internalSelection=false},toFront:function(a,b){if(!a){a=this._selectedItems.slice()}var c=this._getDiagramItems(a),d;if(!Q(b)||b){d=Ua(this.mainLayer,c.visuals);var e=new L(this,a,d);this.undoRedoService.add(e)}else{this.mainLayer.toFront(c.visuals);this._fixOrdering(c,true)}},toBack:function(a,b){if(!a){a=this._selectedItems.slice()}var c=this._getDiagramItems(a),d;if(!Q(b)||b){d=Ua(this.mainLayer,c.visuals);var e=new K(this,a,d);this.undoRedoService.add(e)}else{this.mainLayer.toBack(c.visuals);this._fixOrdering(c,false)}},bringIntoView:function(a,b){var c=this.viewport();var d=new f.RectAlign(c);var e,g,h,i;if(c.width===0||c.height===0){return}b=j({animate:false,align:"center middle"},b);if(b.align=="none"){b.align="center middle"}if(a instanceof Va){g=a.bounds(Ea)}else if(R(a)){g=this.boundingBox(a)}else if(a instanceof t){g=a.clone()}h=g.clone();g.zoom(this._zoom);if(g.width>c.width||g.height>c.height){this._zoom=this._getValidZoom(V.min(c.width/h.width,c.height/h.height));g=h.clone().zoom(this._zoom)}this._zoomMainLayer();e=g.clone();d.align(g,b.align);i=g.topLeft().minus(e.topLeft());this.pan(i.times(-1),b.animate)},alignShapes:function(a){if(O(a)){a="Left"}var b=this.select(),c,d,e;if(b.length===0){return}switch(a.toLowerCase()){case"left":case"top":c=Ba;break;case"right":case"bottom":c=Ca;break}for(e=0;e<b.length;e++){d=b[e];if(d instanceof Xa){switch(a.toLowerCase()){case"left":c=V.min(c,d.options.x);break;case"top":c=V.min(c,d.options.y);break;case"right":c=V.max(c,d.options.x);break;case"bottom":c=V.max(c,d.options.y);break}}}var g=[];var h=[];for(e=0;e<b.length;e++){d=b[e];if(d instanceof Xa){h.push(d);g.push(d.bounds());switch(a.toLowerCase()){case"left":case"right":d.position(new z(c,d.options.y));break;case"top":case"bottom":d.position(new z(d.options.x,c));break}}}var i=new f.TransformUnit(h,g);this.undoRedoService.add(i,false)},zoom:function(a,b){if(a){var c=b?b.point:new f.Point(0,0);a=this._zoom=this._getValidZoom(a);if(!O(c)){c=new f.Point(V.round(c.x),V.round(c.y));var d=c.times(a);var e=this.modelToView(c);var g=e.minus(d);this._storePan(new f.Point(V.round(g.x),V.round(g.y)))}if(b){b.zoom=a}this._panTransform();this.canvas.surface.hideTooltip();this._updateAdorners()}return this._zoom},_getPan:function(a){var b=this.canvas;if(!b.translate){a=a.plus(this._pan)}return a},pan:function(a,b){if(a instanceof z){var c=this;var d=c.scroller;a=c._getPan(a);a=a.times(-1);if(b){d.animatedScrollTo(a.x,a.y,function(){c._updateAdorners()})}else{d.scrollTo(a.x,a.y);c._updateAdorners()}}else{return this._pan.times(-1)}},viewport:function(){var a=this.element;var b=a.width();var c=a.height();if(this.toolBar){c-=l(this.toolBar.element)}return new t(0,0,b,c)},copy:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=1;for(var a=0;a<this._selectedItems.length;a++){var b=this._selectedItems[a];this._clipboard.push(b)}}},cut:function(){if(this.options.copy.enabled){this._clipboard=[];this._copyOffset=0;for(var a=0;a<this._selectedItems.length;a++){var b=this._selectedItems[a];this._clipboard.push(b)}this.remove(this._clipboard,true)}},paste:function(){if(this._clipboard.length>0){var a,b,c;var d={};var e=kb(this._clipboard);var f=e.connections;var g=e.shapes;var h={x:this._copyOffset*this.options.copy.offsetX,y:this._copyOffset*this.options.copy.offsetY};this.deselect();for(c=0;c<g.length;c++){a=g[c];b=a.clone();d[a.id]=b;b.position(new z(a.options.x+h.x,a.options.y+h.y));b.diagram=this;b=this._addShape(b);if(b){b.select()}}for(c=0;c<f.length;c++){a=f[c];b=this._addConnection(a.clone());if(b){this._updateCopiedConnection(b,a,"source",d,h);this._updateCopiedConnection(b,a,"target",d,h);b.select(true);b.updateModel()}}this._syncChanges();this._copyOffset+=1}},_updateCopiedConnection:function(a,b,c,d,e){var f,g,h;var i=b[c]();var j=this;if(i instanceof Wa&&d[i.shape.id]){h=d[i.shape.id];if(j.getShapeById(h.id)){a[c](h.getConnector(i.options.name))}else{g=j._inactiveShapeItems.getByUid(h.dataItem.uid);if(g){f=function(b){h=j._dataMap[b.id];a[c](h.getConnector(i.options.name));a.updateModel()};j._deferredConnectionUpdates.push(g.onActivate(f))}}}else{a[c](new z(b[c+"Point"]().x+e.x,b[c+"Point"]().y+e.y))}},boundingBox:function(a,b){var c=t.empty(),d,e=P(a)?this._getDiagramItems(a):{shapes:this.shapes};if(e.shapes.length>0){var f=e.shapes[0];c=f.bounds(Fa);for(var g=1;g<e.shapes.length;g++){f=e.shapes[g];d=f.bounds(Fa);if(b===true){d.x-=f._rotationOffset.x;d.y-=f._rotationOffset.y}c=c.union(d)}}return c},_containerOffset:function(){var a=this.element.offset();if(this.toolBar){a.top+=l(this.toolBar.element)}return a},documentToView:function(a){var b=this._containerOffset();return new z(a.x-b.left,a.y-b.top)},viewToDocument:function(a){var b=this._containerOffset();return new z(a.x+b.left,a.y+b.top)},viewToModel:function(a){return this._transformWithMatrix(a,this._matrixInvert)},modelToView:function(a){return this._transformWithMatrix(a,this._matrix)},modelToLayer:function(a){return this._transformWithMatrix(a,this._layerMatrix)},layerToModel:function(a){return this._transformWithMatrix(a,this._layerMatrixInvert)},documentToModel:function(a){var b=this.documentToView(a);if(!this.canvas.translate){b.x=b.x+this.scroller.scrollLeft;b.y=b.y+this.scroller.scrollTop}return this.viewToModel(b)},modelToDocument:function(a){return this.viewToDocument(this.modelToView(a))},_transformWithMatrix:function(a,b){var c=a;if(a instanceof z){if(b){c=b.apply(a)}}else{var d=this._transformWithMatrix(a.topLeft(),b),e=this._transformWithMatrix(a.bottomRight(),b);c=t.fromPoints(d,e)}return c},setDataSource:function(a){this.options.dataSource=a;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},setConnectionsDataSource:function(a){this.options.connectionsDataSource=a;this._connectionDataSource();if(this.options.autoBind){this.connectionsDataSource.fetch()}},layout:function(a){this._layouting=true;var b;if(O(a)){a=this.options.layout}if(O(a)||O(a.type)){b="Tree"}else{b=a.type}var c;switch(b.toLowerCase()){case"tree":c=new f.TreeLayout(this);break;case"layered":c=new f.LayeredLayout(this);break;case"forcedirected":case"force":case"spring":case"springembedder":c=new f.SpringLayout(this);break;default:throw"Layout algorithm '"+b+"' is not supported."}var d=new f.LayoutState(this);var e=c.layout(a);if(e){var g=new f.LayoutUndoUnit(d,e,a?a.animate:null);this.undoRedoService.add(g)}this._layouting=false;this._redrawConnections()},getShapeById:function(a){var b;b=I.first(this.shapes,function(b){return b.visual.id===a});if(b){return b}b=I.first(this.connections,function(b){return b.visual.id===a});return b},getShapeByModelId:function(a){var b;if(this._isEditable){b=this._dataMap[a]}else{b=I.first(this.shapes,function(b){return(b.dataItem||{}).id===a})}return b},getShapeByModelUid:function(a){var b;if(this._isEditable){b=I.first(this.shapes,function(b){return(b.dataItem||{}).uid===a})}else{b=this._dataMap[a]}return b},getConnectionByModelId:function(a){var b;if(this.connectionsDataSource){b=I.first(this.connections,function(b){return(b.dataItem||{}).id===a})}return b},getConnectionByModelUid:function(a){var b;if(this.connectionsDataSource){b=this._connectionsDataMap[a]}return b},_extendLayoutOptions:function(a){if(a.layout){a.layout=j({},f.LayoutBase.fn.defaultOptions||{},a.layout)}},_selectionChanged:function(a,b){if(a.length||b.length){this.trigger(ma,{selected:a,deselected:b})}},_getValidZoom:function(a){return V.min(V.max(a,this.options.zoomMin),this.options.zoomMax)},_panTransform:function(a){var b=this,c=a||b._pan;if(b.canvas.translate){b.scroller.scrollTo(c.x,c.y);b._zoomMainLayer()}else{b._storePan(c);b._transformMainLayer()}},_finishPan:function(){this.trigger(oa,{total:this._pan,delta:Number.NaN})},_storePan:function(a){this._pan=a;this._storeViewMatrix()},_zoomMainLayer:function(){var a=this._zoom;var b=new s(0,0,a,a);b.render(this.mainLayer);this._storeLayerMatrix(b);this._storeViewMatrix()},_transformMainLayer:function(){var a=this._pan,b=this._zoom;var c=new s(a.x,a.y,b,b);c.render(this.mainLayer);this._storeLayerMatrix(c);this._storeViewMatrix()},_storeLayerMatrix:function(a){this._layerMatrix=a.toMatrix();this._layerMatrixInvert=a.invert().toMatrix()},_storeViewMatrix:function(){var a=this._pan,b=this._zoom;var c=new s(a.x,a.y,b,b);this._matrix=c.toMatrix();this._matrixInvert=c.invert().toMatrix()},_toIndex:function(a,b){var c=this._getDiagramItems(a);this.mainLayer.toIndex(c.visuals,b);this._fixOrdering(c,false)},_fixOrdering:function(a,b){var c=b?this.shapes.length-1:0,d=b?this.connections.length-1:0,e,f;for(e=0;e<a.shapes.length;e++){f=a.shapes[e];I.remove(this.shapes,f);I.insert(this.shapes,f,c)}for(e=0;e<a.cons.length;e++){f=a.cons[e];I.remove(this.connections,f);I.insert(this.connections,f,d)}},_getDiagramItems:function(a){var b,c={},d=a;c.visuals=[];c.shapes=[];c.cons=[];if(!a){d=this._selectedItems.slice()}else if(!R(a)){d=[a]}for(b=0;b<d.length;b++){var e=d[b];if(e instanceof Xa){c.shapes.push(e);c.visuals.push(e.visual)}else if(e instanceof Ya){c.cons.push(e);c.visuals.push(e.visual)}}return c},_removeItem:function(a,b,c){a.select(false);if(a instanceof Xa){this._removeShapeDataItem(a);this._removeShape(a,b,c)}else if(a instanceof Ya){this._removeConnectionDataItem(a);this._removeConnection(a,b)}this.mainLayer.remove(a.visual)},_removeShape:function(a,b,d){var e,f,g,h=[],i=[];this.toolService._removeHover();if(b){this.undoRedoService.addCompositeItem(new v(a))}I.remove(this.shapes,a);this._shapesQuadTree.remove(a);for(e=0;e<a.connectors.length;e++){g=a.connectors[e];for(var j=0;j<g.connections.length;j++){f=g.connections[j];if(!d||!c.inArray(f,d)){if(f.sourceConnector==g){h.push(f)}else if(f.targetConnector==g){i.push(f)}}}}for(e=0;e<h.length;e++){h[e].source(null,b);h[e].updateModel()}for(e=0;e<i.length;e++){i[e].target(null,b);i[e].updateModel()}},_removeConnection:function(a,b){if(a.sourceConnector){I.remove(a.sourceConnector.connections,a)}if(a.targetConnector){I.remove(a.targetConnector.connections,a)}if(b){this.undoRedoService.addCompositeItem(new w(a))}I.remove(this.connections,a)},_removeDataItems:function(a,b){var c,d,e,f;a=R(a)?a:[a];while(a.length){c=a.shift();e=this._dataMap[c.uid];if(e){this._removeShapeConnections(e);this._removeItem(e,false);delete this._dataMap[c.uid];if(b&&c.hasChildren&&c.loaded()){d=c.children.data();for(f=0;f<d.length;f++){a.push(d[f])}}}}},_removeShapeConnections:function(a){var b=a.connections();var c;if(b){for(c=0;c<b.length;c++){this._removeItem(b[c],false)}}},_addDataItem:function(a,b){if(!Q(a)){return}var c=this._dataMap[a.id];if(c){return c}var d=j({},this.options.shapeDefaults);d.dataItem=a;c=new Xa(d,this);this.addShape(c,b!==false);this._dataMap[a.id]=c;return c},_addDataItemByUid:function(a){if(!Q(a)){return}var b=this._dataMap[a.uid];if(b){return b}var c=j({},this.options.shapeDefaults);c.dataItem=a;b=new Xa(c,this);this.addShape(b);this._dataMap[a.uid]=b;return b},_addDataItems:function(a,b){var c,d,e,f,g;for(d=0;d<a.length;d++){c=a[d];e=this._addDataItemByUid(c);f=this._addDataItemByUid(b);if(f&&!this.connected(f,e)){g=this.connect(f,e)}}},_refreshSource:function(a){var b=this,c=a.node,d=a.action,e=a.items,f=b.options,g,h;if(a.field){for(g=0;g<e.length;g++){if(this._dataMap[e[g].uid]){this._dataMap[e[g].uid].redrawVisual()}}return}if(d=="remove"){this._removeDataItems(a.items,true)}else{if((!d||d==="itemloaded")&&!this._bindingRoots){this._bindingRoots=true;h=true}if(!d&&!c){b.clear()}this._addDataItems(e,c);for(g=0;g<e.length;g++){e[g].load()}}if(f.layout&&(h||d=="remove"||d=="add")){b.layout(f.layout)}if(h){this.trigger("dataBound");this._bindingRoots=false}},_addItem:function(a){if(a instanceof Xa){this.addShape(a)}else if(a instanceof Ya){this.addConnection(a)}},_createToolBar:function(a){var b=this.toolService.diagram;if(!this.singleToolBar&&b.select().length===1){var c=b.select()[0];if(c&&c.options.editable!==false){var d=c.options.editable;var e=d.tools;if(this._isEditable&&e.length===0){if(c instanceof Xa){e=["edit","rotateClockwise","rotateAnticlockwise"]}else if(c instanceof Ya){e=["edit"]}if(d&&d.remove!==false){e.push("delete")}}if(e&&e.length){var f=20;var g;this.singleToolBar=new ab(b,{tools:e,click:i(this._toolBarClick,this),modal:true,popupZIndex:parseInt(b.element.closest(".k-window").css("zIndex"),10)+10});var h=k(this.singleToolBar._popup.element);var j=l(this.singleToolBar._popup.element);if(c instanceof Xa){var m=this.modelToView(c.bounds(Fa));g=new z(m.x,m.y).minus(new z((h-m.width)/2,j+f))}else if(c instanceof Ya){var n=this.modelToView(c.bounds());g=new z(n.x,n.y).minus(new z((h-n.width-20)/2,j+f))}if(g){if(!this.canvas.translate){g=g.minus(new z(this.scroller.scrollLeft,this.scroller.scrollTop))}g=this.viewToDocument(g);g=new z(V.max(g.x,0),V.max(g.y,0));this.singleToolBar.showAt(g);if(a){this.singleToolBar._popup.one("close",pb)}}else{this._destroyToolBar()}}}}},_toolBarClick:function(a){this.trigger("toolBarClick",a);this._destroyToolBar()},_normalizePointZoom:function(a){return a.times(1/this.zoom())},_initialize:function(){this.shapes=[];this._selectedItems=[];this.connections=[];this._dataMap={};this._connectionsDataMap={};this._inactiveShapeItems=new fb;this._deferredConnectionUpdates=[];this.undoRedoService=new C({undone:this._syncHandler,redone:this._syncHandler});this.id=f.randomId()},_fetchFreshData:function(){var a=this;a._dataSource();if(a._isEditable){a._connectionDataSource()}if(a.options.autoBind){if(a._isEditable){this._loadingShapes=true;this._loadingConnections=true;a.dataSource.fetch();a.connectionsDataSource.fetch()}else{a.dataSource.fetch()}}},_dataSource:function(){if(Q(this.options.connectionsDataSource)){this._isEditable=true;var a=this.options.dataSource||{};var b=R(a)?{data:a}:a;if(this.dataSource&&this._shapesRefreshHandler){this.dataSource.unbind("change",this._shapesRefreshHandler).unbind("requestStart",this._shapesRequestStartHandler).unbind("error",this._shapesErrorHandler)}else{this._shapesRefreshHandler=i(this._refreshShapes,this);this._shapesRequestStartHandler=i(this._shapesRequestStart,this);this._shapesErrorHandler=i(this._error,this)}this.dataSource=kendo.data.DataSource.create(b).bind("change",this._shapesRefreshHandler).bind("requestStart",this._shapesRequestStartHandler).bind("error",this._shapesErrorHandler)}else{this._treeDataSource();this._isEditable=false}},_connectionDataSource:function(){var a=this.options.connectionsDataSource;if(a){var b=R(a)?{data:a}:a;if(this.connectionsDataSource&&this._connectionsRefreshHandler){this.connectionsDataSource.unbind("change",this._connectionsRefreshHandler).unbind("requestStart",this._connectionsRequestStartHandler).unbind("error",this._connectionsErrorHandler)}else{this._connectionsRefreshHandler=i(this._refreshConnections,this);this._connectionsRequestStartHandler=i(this._connectionsRequestStart,this);this._connectionsErrorHandler=i(this._connectionsError,this)}this.connectionsDataSource=kendo.data.DataSource.create(b).bind("change",this._connectionsRefreshHandler).bind("requestStart",this._connectionsRequestStartHandler).bind("error",this._connectionsErrorHandler)}},_shapesRequestStart:function(a){if(a.type=="read"){this._loadingShapes=true}},_connectionsRequestStart:function(a){if(a.type=="read"){this._loadingConnections=true}},_error:function(){this._loadingShapes=false},_connectionsError:function(){this._loadingConnections=false},_refreshShapes:function(a){if(a.action==="remove"){if(this._shouldRefresh()){this._removeShapes(a.items)}}else if(a.action==="itemchange"){if(this._shouldRefresh()){this._updateShapes(a.items,a.field)}}else if(a.action==="add"){this._inactiveShapeItems.add(a.items)}else if(a.action==="sync"){this._syncShapes(a.items)}else{this.refresh()}},_shouldRefresh:function(){return!this._suspended},_suspendModelRefresh:function(){this._suspended=(this._suspended||0)+1},_resumeModelRefresh:function(){this._suspended=V.max((this._suspended||0)-1,0)},refresh:function(){this._loadingShapes=false;if(!this._loadingConnections){this._rebindShapesAndConnections()}},_rebindShapesAndConnections:function(){this.clear();this._addShapes(this.dataSource.view());if(this.connectionsDataSource){this._addConnections(this.connectionsDataSource.view(),false)}if(this.options.layout){this.layout(this.options.layout)}else{this._redrawConnections()}this.trigger("dataBound")},refreshConnections:function(){this._loadingConnections=false;if(!this._loadingShapes){this._rebindShapesAndConnections()}},_redrawConnections:function(){var a=this.connections;for(var b=0;b<a.length;b++){a[b].refresh()}},_removeShapes:function(a){var b=this._dataMap;var c,d;for(d=0;d<a.length;d++){c=a[d];if(b[c.id]){this.remove(b[c.id],false);b[c.id]=null}}},_syncShapes:function(){var a=this;var b=a._inactiveShapeItems;b.forEach(function(c){var d=c.dataItem;var e=c.element;if(!d.isNew()){if(e){e._setOptionsFromModel();a.addShape(e,c.undoable);a._dataMap[d.id]=e}else{a._addDataItem(d)}c.activate();b.remove(d)}})},_updateShapes:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];var e=this._dataMap[d.id];if(e){e.updateOptionsFromModel(d,b)}}},_addShapes:function(a){for(var b=0;b<a.length;b++){this._addDataItem(a[b],false)}},_refreshConnections:function(a){if(a.action==="remove"){if(this._shouldRefresh()){this._removeConnections(a.items)}}else if(a.action==="add"){this._addConnections(a.items)}else if(a.action==="sync"){}else if(a.action==="itemchange"){if(this._shouldRefresh()){this._updateConnections(a.items)}}else{this.refreshConnections()}},_removeConnections:function(a){for(var b=0;b<a.length;b++){this.remove(this._connectionsDataMap[a[b].uid],false);this._connectionsDataMap[a[b].uid]=null}},_updateConnections:function(a){for(var b=0;b<a.length;b++){var c=a[b];var d=this._connectionsDataMap[c.uid];d.updateOptionsFromModel(c)}},_addConnections:function(a,b){var c=a.length;for(var d=0;d<c;d++){var e=a[d];this._addConnectionDataItem(e,b)}},_addConnectionDataItem:function(a,b){if(!this._connectionsDataMap[a.uid]){var c=this._validateConnector(a.from);if(!Q(c)||c===null){c=new z(a.fromX,a.fromY)}var d=this._validateConnector(a.to);if(!Q(d)||d===null){d=new z(a.toX,a.toY)}if(Q(c)&&Q(d)){var e=j({},this.options.connectionDefaults);e.dataItem=a;var f=new Ya(c,d,e);this._connectionsDataMap[a.uid]=f;this.addConnection(f,b)}}},_validateConnector:function(a){var b;if(Q(a)&&a!==null){b=this._dataMap[a]}return b},_treeDataSource:function(){var a=this,b=a.options,c=b.dataSource;c=R(c)?{data:c}:c;if(c instanceof kendo.data.DataSource&&!(c instanceof kendo.data.HierarchicalDataSource)){throw new Error("Incorrect DataSource type. If a single dataSource instance is set to the diagram then it should be a HierarchicalDataSource. You should set only the options instead of an instance or a HierarchicalDataSource instance or supply connectionsDataSource as well.")}if(!c.fields){c.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}if(a.dataSource&&a._refreshHandler){a._unbindDataSource()}a._refreshHandler=i(a._refreshSource,a);a._errorHandler=i(a._error,a);a.dataSource=n.create(c).bind($,a._refreshHandler).bind(fa,a._errorHandler)},_unbindDataSource:function(){var a=this;a.dataSource.unbind($,a._refreshHandler).unbind(fa,a._errorHandler)},_adorn:function(a,c){if(c!==b&&a){if(c){this._adorners.push(a);this.adornerLayer.append(a.visual)}else{I.remove(this._adorners,a);this.adornerLayer.remove(a.visual)}}},_showConnectors:function(a,b){if(b){this._connectorsAdorner.show(a)}else{this._connectorsAdorner.destroy()}},_updateAdorners:function(){var a=this._adorners;for(var b=0;b<a.length;b++){var c=a[b];if(c.refreshBounds){c.refreshBounds()}c.refresh()}},_refresh:function(){for(var a=0;a<this.connections.length;a++){this.connections[a].refresh()}},_destroyToolBar:function(){if(this.singleToolBar){this.singleToolBar.hide();this.singleToolBar.destroy();this.singleToolBar=null}},_destroyGlobalToolBar:function(){if(this.toolBar){this.toolBar.hide();this.toolBar.destroy();this.toolBar=null}},exportDOMVisual:function(){var a=this.canvas._viewBox;var b=e.transform().translate(-a.x,-a.y);var c=new e.Rect([0,0],[a.width,a.height]);var f=d.Path.fromRect(c);var g=new d.Group({transform:b});var h=new d.Group({clip:f});var i=this.canvas.drawingElement.children[0];h.append(g);g.children.push(i);return h},exportVisual:function(){var a=e.transform().scale(1/this._zoom);var b=new d.Group({transform:a});var c=this.mainLayer.drawingElement;b.children.push(c);return b},_syncChanges:function(){this._syncShapeChanges();this._syncConnectionChanges()},_syncShapeChanges:function(){if(this.dataSource&&this._isEditable){this.dataSource.sync()}},_syncConnectionChanges:function(){var b=this;if(b.connectionsDataSource&&b._isEditable){a.when.apply(a,b._deferredConnectionUpdates).then(function(){b.connectionsDataSource.sync()});b.deferredConnectionUpdates=[]}}});c.ExportMixin.extend(Za.fn,true);if(kendo.PDFMixin){kendo.PDFMixin.extend(Za.fn)}function $a(a){var b={};a=a||{};if(Q(a.text)&&a.text!==null){b.text=a.text}if(Q(a.x)&&a.x!==null){b.x=a.x}if(Q(a.y)&&a.y!==null){b.y=a.y}if(Q(a.width)&&a.width!==null){b.width=a.width}if(Q(a.height)&&a.height!==null){b.height=a.height}if(Q(a.type)&&a.type!==null){b.type=a.type}return b}function _a(a){var b={};a=a||{};if(Q(a.text)&&a.text!==null){b.content=a.text}if(Q(a.type)&&a.type!==null){b.type=a.type}if(Q(a.from)&&a.from!==null){b.from=a.from}if(Q(a.fromConnector)&&a.fromConnector!==null){b.fromConnector=a.fromConnector}if(Q(a.fromX)&&a.fromX!==null){b.fromX=a.fromX}if(Q(a.fromY)&&a.fromY!==null){b.fromY=a.fromY}
if(Q(a.to)&&a.to!==null){b.to=a.to}if(Q(a.toConnector)&&a.toConnector!==null){b.toConnector=a.toConnector}if(Q(a.toX)&&a.toX!==null){b.toX=a.toX}if(Q(a.toY)&&a.toY!==null){b.toY=a.toY}return b}var ab=kendo.Observable.extend({init:function(a,b){kendo.Observable.fn.init.call(this);this.diagram=a;this.options=j({},this.options,b);this._tools=[];this.createToolBar();this.createTools();this.appendTools();if(this.options.modal){this.createPopup()}this.bind(this.events,b)},events:["click"],createPopup:function(){this.container=a("<div/>").append(this.element);this._popup=this.container.kendoPopup({}).getKendoPopup()},appendTools:function(){for(var a=0;a<this._tools.length;a++){var b=this._tools[a];if(b.buttons&&b.buttons.length||!Q(b.buttons)){this._toolBar.add(b)}}},createToolBar:function(){this.element=a("<div/>");this._toolBar=this.element.kendoToolBar({click:i(this.click,this),resizable:false}).getKendoToolBar();this.element.css("border","none")},createTools:function(){for(var a=0;a<this.options.tools.length;a++){this.createTool(this.options.tools[a])}},createTool:function(a){if(!U(a)){a={name:a}}var b=a.name+"Tool";if(this[b]){this[b](a)}else{this._tools.push(j({},a,{attributes:this._setAttributes({action:a.name})}))}},showAt:function(a){var b=parseInt(this.options.popupZIndex,10);if(this._popup){this._popup.open(a.x,a.y);if(b){this._popup.wrapper.css("zIndex",b)}}},hide:function(){if(this._popup){this._popup.close()}},newGroup:function(){return{type:"buttonGroup",buttons:[]}},editTool:function(){this._tools.push({icon:"edit",showText:"overflow",type:"button",text:"Edit",attributes:this._setAttributes({action:"edit"})})},deleteTool:function(){this._tools.push({icon:"close",showText:"overflow",type:"button",text:"Delete",attributes:this._setAttributes({action:"delete"})})},rotateAnticlockwiseTool:function(a){this._appendGroup("rotate");this._rotateGroup.buttons.push({icon:"rotate-left",showText:"overflow",text:"RotateAnticlockwise",group:"rotate",attributes:this._setAttributes({action:"rotateAnticlockwise",step:a.step})})},rotateClockwiseTool:function(a){this._appendGroup("rotate");this._rotateGroup.buttons.push({icon:"rotate-right",attributes:this._setAttributes({action:"rotateClockwise",step:a.step}),showText:"overflow",text:"RotateClockwise",group:"rotate"})},createShapeTool:function(){this._appendGroup("create");this._createGroup.buttons.push({icon:"shape",showText:"overflow",text:"CreateShape",group:"create",attributes:this._setAttributes({action:"createShape"})})},createConnectionTool:function(){this._appendGroup("create");this._createGroup.buttons.push({icon:"connector",showText:"overflow",text:"CreateConnection",group:"create",attributes:this._setAttributes({action:"createConnection"})})},undoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({icon:"undo",showText:"overflow",text:"Undo",group:"history",attributes:this._setAttributes({action:"undo"})})},redoTool:function(){this._appendGroup("history");this._historyGroup.buttons.push({icon:"redo",showText:"overflow",text:"Redo",group:"history",attributes:this._setAttributes({action:"redo"})})},_appendGroup:function(a){var b="_"+a+"Group";if(!this[b]){this[b]=this.newGroup();this._tools.push(this[b])}},_setAttributes:function(a){var b={};if(a.action){b[kendo.attr("action")]=a.action}if(a.step){b[kendo.attr("step")]=a.step}return b},_getAttributes:function(a){var b={};var c=a.attr(kendo.attr("action"));if(c){b.action=c}var d=a.attr(kendo.attr("step"));if(d){b.step=d}return b},click:function(b){var c=this._getAttributes(a(b.target));var d=c.action;if(d&&this[d]){this[d](c)}this.trigger("click",this.eventData(d,b.target))},eventData:function(a,b){var c=this.selectedElements(),d=c.length,e=[],f=[],g;for(var h=0;h<d;h++){g=c[h];if(g instanceof Xa){e.push(g)}else{f.push(g)}}return{shapes:e,connections:f,action:a,target:b}},delete:function(){var a=this.diagram;var b=a._triggerRemove(this.selectedElements());if(b.length){this.diagram.remove(b,true);this.diagram._syncChanges()}},edit:function(){var a=this.selectedElements();if(a.length===1){this.diagram.edit(a[0])}},rotateClockwise:function(a){var b=parseFloat(a.step||90);this._rotate(b)},rotateAnticlockwise:function(a){var b=parseFloat(a.step||90);this._rotate(-b)},_rotate:function(a){var b=this.diagram._resizingAdorner;b.angle(b.angle()+a);b.rotate()},selectedElements:function(){return this.diagram.select()},createShape:function(){this.diagram.createShape()},createConnection:function(){this.diagram.createConnection()},undo:function(){this.diagram.undo()},redo:function(){this.diagram.redo()},destroy:function(){this.diagram=null;this.element=null;this.options=null;if(this._toolBar){this._toolBar.destroy()}if(this._popup){this._popup.destroy()}}});var bb=kendo.Observable.extend({init:function(a,b){kendo.Observable.fn.init.call(this);this.options=m(true,{},this.options,b);this.element=a;this.model=this.options.model;this.fields=this._getFields();this._initContainer();this.createEditable()},options:{editors:{}},_initContainer:function(){this.wrapper=this.element},createEditable:function(){var a=this.options;this.editable=new kendo.ui.Editable(this.wrapper,{fields:this.fields,target:a.target,clearContainer:false,model:this.model})},_isEditable:function(a){return this.model.editable&&this.model.editable(a)},_getFields:function(){var a=[];var b=this.model.fields;for(var c in b){var d={};if(this._isEditable(c)){var e=this.options.editors[c];if(e){d.editor=e}d.field=c;a.push(d)}}return a},end:function(){return this.editable.end()},destroy:function(){this.editable.destroy();this.editable.element.find("["+kendo.attr("container-for")+"]").empty();this.model=this.wrapper=this.element=this.columns=this.editable=null}});var cb=bb.extend({init:function(a,b){bb.fn.init.call(this,a,b);this.bind(this.events,this.options);this.open()},events:["update","cancel"],options:{window:{modal:true,resizable:false,draggable:true,title:"Edit",visible:false}},_initContainer:function(){var b=this;this.wrapper=a('<div class="k-popup-edit-form"/>').attr(kendo.attr("uid"),this.model.uid);var c="";if(this.options.template){c+=this._renderTemplate();this.fields=[]}else{c+=this._renderFields()}c+=this._renderButtons();this.wrapper.append(a('<div class="k-edit-form-container"/>').append(c));this.window=new kendo.ui.Window(this.wrapper.appendTo(this.element),this.options.window);this.window.bind("close",function(a){if(a.userTriggered){a.sender.element.focus();b._cancelClick(a)}});this._attachButtonEvents()},_renderTemplate:function(){var a=this.options.template;if(typeof a==="string"){a=window.unescape(a)}a=kendo.template(a)(this.model);return a},_renderFields:function(){var a="";for(var b=0;b<this.fields.length;b++){var c=this.fields[b];a+='<div class="k-edit-label"><label for="'+c.field+'">'+(c.field||"")+"</label></div>";if(this._isEditable(c.field)){a+="<div "+kendo.attr("container-for")+'="'+c.field+'" class="k-edit-field"></div>'}}return a},_renderButtons:function(){var a='<div class="k-edit-buttons k-state-default">';a+=this._createButton("update");a+=this._createButton("cancel");a+="</div>";return a},_createButton:function(a){return kendo.template(Oa)(Qa[a])},_attachButtonEvents:function(){this._cancelClickHandler=i(this._cancelClick,this);this.window.element.on(_+X,"a.k-diagram-cancel",this._cancelClickHandler);this._updateClickHandler=i(this._updateClick,this);this.window.element.on(_+X,"a.k-diagram-update",this._updateClickHandler)},_updateClick:function(a){a.preventDefault();this.trigger("update")},_cancelClick:function(a){a.preventDefault();this.trigger("cancel")},open:function(){this.window.center().open()},close:function(){this.window.bind("deactivate",i(this.destroy,this)).close()},destroy:function(){this.window.close().destroy();this.window.element.off(_+X,"a.k-diagram-cancel",this._cancelClickHandler);this.window.element.off(_+X,"a.k-diagram-update",this._updateClickHandler);this._cancelClickHandler=null;this._editUpdateClickHandler=null;this.window=null;bb.fn.destroy.call(this)}});function db(b,c){var d=this.dataSource.reader.model;if(d){var e=d.fn.fields.text?"text":d.idField;a("<input name='"+c.field+"' />").appendTo(b).kendoDropDownList({dataValueField:d.idField,dataTextField:e,dataSource:this.dataSource.data().toJSON(),optionLabel:" ",valuePrimitive:true})}}function eb(a){this.dataItem=a;this.callbacks=[]}eb.fn=eb.prototype={onActivate:function(b){var c=a.Deferred();this.callbacks.push({callback:b,deferred:c});return c},activate:function(){var a=this.callbacks;var b;for(var c=0;c<a.length;c++){b=this.callbacks[c];b.callback(this.dataItem);b.deferred.resolve()}this.callbacks=[]}};function fb(){this.items={}}fb.fn=fb.prototype={add:function(a){for(var b=0;b<a.length;b++){this.items[a[b].uid]=new eb(a[b])}},forEach:function(a){for(var b in this.items){a(this.items[b])}},getByUid:function(a){return this.items[a]},remove:function(a){delete this.items[a.uid]}};var gb=h.extend({init:function(){this.shapes=[]},_add:function(a,b){this.shapes.push({bounds:b,shape:a});a._quadNode=this},insert:function(a,b){this._add(a,b)},remove:function(a){var b=this.shapes;var c=b.length;for(var d=0;d<c;d++){if(b[d].shape===a){b.splice(d,1);break}}},hitTestRect:function(a,b){var d=this.shapes;var e=d.length;for(var f=0;f<e;f++){if(this._testRect(d[f].shape,a)&&!c.inArray(d[f].shape,b)){return true}}},_testRect:function(a,b){var c=a.rotate().angle;var d=a.bounds();var e;if(!c){e=d.overlaps(b)}else{e=A.rects(b,d,-c)}return e}});var hb=gb.extend({init:function(a){gb.fn.init.call(this);this.children=[];this.rect=a},inBounds:function(a){var b=this.rect;var c=b.bottomRight();var d=a.bottomRight();var e=b.x<=a.x&&b.y<=a.y&&d.x<=c.x&&d.y<=c.y;return e},overlapsBounds:function(a){return this.rect.overlaps(a)},insert:function(a,b){var c=false;var d=this.children;var e=d.length;if(this.inBounds(b)){if(!e&&this.shapes.length<4){this._add(a,b)}else{if(!e){this._initChildren()}for(var f=0;f<d.length;f++){if(d[f].insert(a,b)){c=true;break}}if(!c){this._add(a,b)}}c=true}return c},_initChildren:function(){var a=this.rect,b=this.children,c=this.shapes,d=a.center(),e=a.width/2,f=a.height/2,g,h;b.push(new hb(new t(a.x,a.y,e,f)),new hb(new t(d.x,a.y,e,f)),new hb(new t(a.x,d.y,e,f)),new hb(new t(d.x,d.y,e,f)));for(h=c.length-1;h>=0;h--){for(g=0;g<b.length;g++){if(b[g].insert(c[h].shape,c[h].bounds)){c.splice(h,1);break}}}},hitTestRect:function(a,b){var c;var d=this.children;var e=d.length;var f=false;if(this.overlapsBounds(a)){if(gb.fn.hitTestRect.call(this,a,b)){f=true}else{for(c=0;c<e;c++){if(d[c].hitTestRect(a,b)){f=true;break}}}}return f}});var ib=h.extend({ROOT_SIZE:1e3,init:function(a){var b=i(this._boundsChange,this);a.bind(Z,b);a.bind(na,b);this.initRoots()},initRoots:function(){this.rootMap={};this.root=new gb},clear:function(){this.initRoots()},_boundsChange:function(a){if(a.item._quadNode){a.item._quadNode.remove(a.item)}this.insert(a.item)},insert:function(a){var b=a.bounds(Fa);var c=this.ROOT_SIZE;var d=this.getSectors(b);var e=d[0][0];var f=d[1][0];if(this.inRoot(d)){this.root.insert(a,b)}else{if(!this.rootMap[e]){this.rootMap[e]={}}if(!this.rootMap[e][f]){this.rootMap[e][f]=new hb(new t(e*c,f*c,c,c))}this.rootMap[e][f].insert(a,b)}},remove:function(a){if(a._quadNode){a._quadNode.remove(a)}},inRoot:function(a){return a[0].length>1||a[1].length>1},getSectors:function(a){var b=this.ROOT_SIZE;var c=a.bottomRight();var d=V.floor(c.x/b);var e=V.floor(c.y/b);var f=[[],[]];for(var g=V.floor(a.x/b);g<=d;g++){f[0].push(g)}for(var h=V.floor(a.y/b);h<=e;h++){f[1].push(h)}return f},hitTestRect:function(a,b){var c=this.getSectors(a);var d,e,f,g;var h;if(this.root.hitTestRect(a,b)){return true}for(d=0;d<c[0].length;d++){f=c[0][d];for(e=0;e<c[1].length;e++){g=c[1][e];h=(this.rootMap[f]||{})[g];if(h&&h.hitTestRect(a,b)){return true}}}return false}});function jb(a){var b=a;if(a instanceof kendo.data.Model){b=a.toJSON();b[a.idField]=a._defaultId}return b}function kb(a){var b=[];var c=[];var d,e;for(e=0;e<a.length;e++){d=a[e];if(d instanceof Xa){c.push(d)}else{b.push(d)}}return{shapes:c,connections:b}}function lb(a,b){if(a.reader.model){return new a.reader.model(b)}return new kendo.data.ObservableObject(b)}function mb(a,b){if(Q(b[a])){b.set(a,null)}}function nb(a,b,c){var d;for(var e=0;e<c.length;e++){d=c[e];if(b&&!Q(b[d])){b[d]=a[d]}}}function ob(a){var b=a.drawingContainer().clippedBBox(null);if(b.origin.x!==0||b.origin.y!==0){a.position(-b.origin.x,-b.origin.y)}}function pb(a){a.preventDefault()}c.ui.plugin(Za);j(f,{Shape:Xa,Connection:Ya,Connector:Wa,DiagramToolBar:ab,QuadNode:hb,QuadRoot:gb,ShapesQuadTree:ib,PopupEditor:cb})})(window.kendo.jQuery)},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.diagram",["kendo.data","kendo.draganddrop","kendo.userevents","kendo.mobile.scroller","kendo.drawing","dataviz/diagram/utils","dataviz/diagram/math","dataviz/diagram/svg","dataviz/diagram/services","dataviz/diagram/layout","dataviz/diagram/dom"],a)})(function(){var a={id:"dataviz.diagram",name:"Diagram",category:"dataviz",description:"The Kendo DataViz Diagram ",depends:["data","userevents","mobile.scroller","draganddrop","drawing","dataviz.core","dataviz.themes","toolbar"],features:[{id:"dataviz.diagram-pdf-export",name:"PDF export",description:"Export Diagram as PDF",depends:["pdf"]},{id:"dataviz.diagram-editing",name:"Editing",description:"Support for model editing",depends:["editable","window","dropdownlist"]}]};return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz.treemap",["kendo.data","kendo.userevents","kendo.dataviz.themes"],a)})(function(){var a={id:"dataviz.treeMap",name:"TreeMap",category:"dataviz",description:"The Kendo DataViz TreeMap",depends:["data","userevents","dataviz.themes"]};(function(a,b){var c=Math,d=a.proxy,e=a.isArray,f=window.kendo,g=f._outerHeight,h=f._outerWidth,i=f.Class,j=f.ui.Widget,k=f.template,l=f.deepExtend,m=f.data.HierarchicalDataSource,n=f.getter,o=f.dataviz;var p=".kendoTreeMap",q="change",r="dataBound",s="itemCreated",t=Number.MAX_VALUE,u="mouseover"+p,v="mouseleave"+p,w="undefined";var x=j.extend({init:function(b,c){f.destroy(b);a(b).empty();j.fn.init.call(this,b,c);this.wrapper=this.element;this._initTheme(this.options);this.element.addClass("k-widget k-treemap");this._setLayout();this._originalOptions=l({},this.options);this._initDataSource();this._attachEvents();f.notify(this,o.ui)},options:{name:"TreeMap",theme:"default",autoBind:true,textField:"text",valueField:"value",colorField:"color"},events:[r,s],_initTheme:function(a){var b=this,c=o.ui.themes||{},d=((a||{}).theme||"").toLowerCase(),e=(c[d]||{}).treeMap;b.options=l({},e,a)},_attachEvents:function(){this.element.on(u,d(this._mouseover,this)).on(v,d(this._mouseleave,this));this._resizeHandler=d(this.resize,this,false);f.onResize(this._resizeHandler)},_setLayout:function(){if(this.options.type==="horizontal"){this._layout=new A(false);this._view=new B(this,this.options)}else if(this.options.type==="vertical"){this._layout=new A(true);this._view=new B(this,this.options)}else{this._layout=new y;this._view=new z(this,this.options)}},_initDataSource:function(){var a=this,b=a.options,c=b.dataSource;a._dataChangeHandler=d(a._onDataChange,a);a.dataSource=m.create(c).bind(q,a._dataChangeHandler);if(c){if(a.options.autoBind){a.dataSource.fetch()}}},setDataSource:function(a){var b=this;b.dataSource.unbind(q,b._dataChangeHandler);b.dataSource=a.bind(q,b._dataChangeHandler);if(a){if(b.options.autoBind){b.dataSource.fetch()}}},_onDataChange:function(a){var b=a.node;var c=a.items;var d=this.options;var e,i;if(!b){this._cleanItems();this.element.empty();e=this._wrapItem(c[0]);this._layout.createRoot(e,h(this.element),g(this.element),this.options.type==="vertical");this._view.createRoot(e);this._root=e;this._colorIdx=0}else{if(c.length){var j=this._getByUid(b.uid);j.children=[];c=new f.data.Query(c)._sortForGrouping(d.valueField,"desc");for(i=0;i<c.length;i++){e=c[i];j.children.push(this._wrapItem(e))}var k=this._view.htmlSize(j);this._layout.compute(j.children,j.coord,k);this._setColors(j.children);this._view.render(j)}}for(i=0;i<c.length;i++){c[i].load()}if(b){this.trigger(r,{node:b})}},_cleanItems:function(){var a=this;a.angular("cleanup",function(){return{elements:a.element.find(".k-leaf div,.k-treemap-title,.k-treemap-title-vertical")}})},_setColors:function(a){var b=this.options.colors;var c=this._colorIdx;var d=b[c%b.length];var f,g;if(e(d)){f=E(d[0],d[1],a.length)}var h=false;for(var i=0;i<a.length;i++){g=a[i];if(!D(g.color)){if(f){g.color=f[i]}else{g.color=d}}if(!g.dataItem.hasChildren){h=true}}if(h){this._colorIdx++}},_contentSize:function(a){this.view.renderHeight(a)},_wrapItem:function(a){var b={};if(D(this.options.valueField)){b.value=C(this.options.valueField,a)}if(D(this.options.colorField)){b.color=C(this.options.colorField,a)}if(D(this.options.textField)){b.text=C(this.options.textField,a)}b.level=a.level();b.dataItem=a;return b},_getByUid:function(a){var b=[this._root];var c;while(b.length){c=b.pop();if(c.dataItem.uid===a){return c}if(c.children){b=b.concat(c.children)}}},dataItem:function(b){var c=a(b).attr(f.attr("uid")),d=this.dataSource;return d&&d.getByUid(c)},findByUid:function(a){return this.element.find(".k-treemap-tile["+f.attr("uid")+"='"+a+"']")},_mouseover:function(b){var c=a(b.target);if(c.hasClass("k-leaf")){this._removeActiveState();c.removeClass("k-state-hover").addClass("k-state-hover")}},_removeActiveState:function(){this.element.find(".k-state-hover").removeClass("k-state-hover")},_mouseleave:function(){this._removeActiveState()},destroy:function(){j.fn.destroy.call(this);this.element.off(p);if(this.dataSource){this.dataSource.unbind(q,this._dataChangeHandler)}this._root=null;f.unbindResize(this._resizeHandler);f.destroy(this.element)},items:function(){return a()},getSize:function(){return f.dimensions(this.element)},_resize:function(){var a=this._root;if(a){var b=this.element;var c=b.children();a.coord.width=h(b);a.coord.height=g(b);c.css({width:a.coord.width,height:a.coord.height});this._resizeItems(a,c)}},_resizeItems:function(a,b){if(a.children&&a.children.length){var c=b.children(".k-treemap-wrap").children();var d,e;this._layout.compute(a.children,a.coord,{text:this._view.titleSize(a,b)});for(var g=0;g<a.children.length;g++){d=a.children[g];e=c.filter("["+f.attr("uid")+"='"+d.dataItem.uid+"']");this._view.setItemSize(d,e);this._resizeItems(d,e)}}},setOptions:function(a){var c=a.dataSource;a.dataSource=b;this._originalOptions=l(this._originalOptions,a);this.options=l({},this._originalOptions);this._setLayout();this._initTheme(this.options);j.fn._setEvents.call(this,a);if(c){this.setDataSource(m.create(c))}if(this.options.autoBind){this.dataSource.fetch()}}});var y=i.extend({createRoot:function(a,b,c){a.coord={width:b,height:c,top:0,left:0}},leaf:function(a){return!a.children},layoutChildren:function(a,b){var c=b.width*b.height;var d=0,e=[],f;for(f=0;f<a.length;f++){e[f]=parseFloat(a[f].value);d+=e[f]}for(f=0;f<e.length;f++){a[f].area=c*e[f]/d}var g=this.layoutHorizontal()?b.height:b.width;var h=[a[0]];var i=a.slice(1);this.squarify(i,h,g,b)},squarify:function(a,b,c,d){this.computeDim(a,b,c,d)},computeDim:function(a,b,c,d){if(a.length+b.length==1){var e=a.length==1?a:b;this.layoutLast(e,c,d);return}if(a.length>=2&&b.length===0){b=[a[0]];a=a.slice(1)}if(a.length===0){if(b.length>0){this.layoutRow(b,c,d)}return}var f=a[0];if(this.worstAspectRatio(b,c)>=this.worstAspectRatio([f].concat(b),c)){this.computeDim(a.slice(1),b.concat([f]),c,d)}else{var g=this.layoutRow(b,c,d);this.computeDim(a,[],g.dim,g)}},layoutLast:function(a,b,c){a[0].coord=c},layoutRow:function(a,b,c){if(this.layoutHorizontal()){return this.layoutV(a,b,c)}else{return this.layoutH(a,b,c)}},orientation:"h",layoutVertical:function(){return this.orientation==="v"},layoutHorizontal:function(){return this.orientation==="h"},layoutChange:function(){this.orientation=this.layoutVertical()?"h":"v"},worstAspectRatio:function(a,b){if(!a||a.length===0){return t}var d=0,e=0,f=t;for(var g=0;g<a.length;g++){var h=a[g].area;d+=h;f=f<h?f:h;e=e>h?e:h}return c.max(b*b*e/(d*d),d*d/(b*b*f))},compute:function(a,b,c){if(!(b.width>=b.height&&this.layoutHorizontal())){this.layoutChange()}if(a&&a.length>0){var d={width:b.width,height:b.height-c.text,top:0,left:0};this.layoutChildren(a,d)}},layoutV:function(a,b,d){var e=this._totalArea(a),f=0;b=M(e/b);for(var g=0;g<a.length;g++){var h=M(a[g].area/b);a[g].coord={height:h,width:b,top:d.top+f,left:d.left};f+=h}var i={height:d.height,width:d.width-b,top:d.top,left:d.left+b};i.dim=c.min(i.width,i.height);if(i.dim!=i.height){this.layoutChange()}return i},layoutH:function(a,b,d){var e=this._totalArea(a);var f=M(e/b),g=d.top,h=0;for(var i=0;i<a.length;i++){a[i].coord={height:f,width:M(a[i].area/f),top:g,left:d.left+h};h+=a[i].coord.width}var j={height:d.height-f,width:d.width,top:d.top+f,left:d.left};j.dim=c.min(j.width,j.height);if(j.dim!=j.width){this.layoutChange()}return j},_totalArea:function(a){var b=0;for(var c=0;c<a.length;c++){b+=a[c].area}return b}});var z=i.extend({init:function(b,c){this.options=l({},this.options,c);this.treeMap=b;this.element=a(b.element);this.offset=0},titleSize:function(a,b){var c=b.children(".k-treemap-title");return c.height()||0},htmlSize:function(a){var b=this._getByUid(a.dataItem.uid);var c={text:0};if(a.children){this._clean(b);var d=this._getText(a);if(d){var e=this._createTitle(a);b.append(e);this._compile(e,a.dataItem);c.text=e.height()}b.append(this._createWrap());this.offset=(h(b)-b.innerWidth())/2}return c},_compile:function(a,b){this.treeMap.angular("compile",function(){return{elements:a,data:[{dataItem:b}]}})},_getByUid:function(a){return this.element.find(".k-treemap-tile["+f.attr("uid")+"='"+a+"']")},render:function(a){var b=this._getByUid(a.dataItem.uid);var c=a.children;if(c){var d=b.find(".k-treemap-wrap");for(var e=0;e<c.length;e++){var f=c[e];var g=this._createLeaf(f);d.append(g);this._compile(g.children(),f.dataItem);this.treeMap.trigger(s,{element:g})}}},createRoot:function(a){var b=this._createLeaf(a);this.element.append(b);this._compile(b.children(),a.dataItem);this.treeMap.trigger(s,{element:b})},_clean:function(a){this.treeMap.angular("cleanup",function(){return{elements:a.children(":not(.k-treemap-wrap)")}});a.css("background-color","");a.removeClass("k-leaf");a.removeClass("k-inverse");a.empty()},_createLeaf:function(b){return this._createTile(b).css("background-color",b.color).addClass("k-leaf").toggleClass("k-inverse",this._tileColorBrightness(b)>180).append(a("<div></div>").html(this._getText(b)))},_createTile:function(b){var c=a("<div class='k-treemap-tile'></div>");this.setItemSize(b,c);if(D(b.dataItem)&&D(b.dataItem.uid)){c.attr(f.attr("uid"),b.dataItem.uid)}return c},_itemCoordinates:function(a){var b={width:a.coord.width,height:a.coord.height,left:a.coord.left,top:a.coord.top};if(b.left&&this.offset){b.width+=this.offset*2}else{b.width+=this.offset}if(b.top){b.height+=this.offset*2}else{b.height+=this.offset}return b},setItemSize:function(a,b){var c=this._itemCoordinates(a);b.css({width:c.width,height:c.height,left:c.left,top:c.top})},_getText:function(a){var b=a.text;if(this.options.template){b=this._renderTemplate(a)}return b},_renderTemplate:function(a){var b=k(this.options.template);return b({dataItem:a.dataItem,text:a.text})},_createTitle:function(b){return a("<div class='k-treemap-title'></div>").append(a("<div></div>").html(this._getText(b)))},_createWrap:function(){return a("<div class='k-treemap-wrap'></div>")},_tileColorBrightness:function(a){return L(a.color)}});var A=i.extend({createRoot:function(a,b,c,d){a.coord={width:b,height:c,top:0,left:0};a.vertical=d},init:function(a){this.vertical=a;this.quotient=a?1:0},compute:function(a,b,c){if(a.length>0){var d=b.width;var e=b.height;if(this.vertical){e-=c.text}else{d-=c.text}var f={width:d,height:e,top:0,left:0};this.layoutChildren(a,f)}},layoutChildren:function(a,b){var c=b.width*b.height;var d=0;var e=[];var f;for(f=0;f<a.length;f++){var g=a[f];e[f]=parseFloat(a[f].value);d+=e[f];g.vertical=this.vertical}for(f=0;f<e.length;f++){a[f].area=c*e[f]/d}this.sliceAndDice(a,b)},sliceAndDice:function(a,b){var c=this._totalArea(a);if(a[0].level%2===this.quotient){this.layoutHorizontal(a,b,c)}else{this.layoutVertical(a,b,c)}},layoutHorizontal:function(a,b,c){var d=0;for(var e=0;e<a.length;e++){var f=a[e];var g=f.area/(c/b.width);f.coord={height:b.height,width:g,top:b.top,left:b.left+d};d+=g}},layoutVertical:function(a,b,c){var d=0;for(var e=0;e<a.length;e++){var f=a[e];var g=f.area/(c/b.height);f.coord={height:g,width:b.width,top:b.top+d,left:b.left};d+=g}},_totalArea:function(a){var b=0;for(var c=0;c<a.length;c++){b+=a[c].area}return b}});var B=z.extend({htmlSize:function(a){var b=this._getByUid(a.dataItem.uid);var c={text:0,offset:0};if(a.children){this._clean(b);var d=this._getText(a);if(d){var e=this._createTitle(a);b.append(e);this._compile(e,a.dataItem);if(a.vertical){c.text=e.height()}else{c.text=e.width()}}b.append(this._createWrap());this.offset=(h(b)-b.innerWidth())/2}return c},titleSize:function(a,b){var c;if(a.vertical){c=b.children(".k-treemap-title").height()}else{c=b.children(".k-treemap-title-vertical").width()}return c||0},_createTitle:function(b){var c;if(b.vertical){c=a("<div class='k-treemap-title'></div>")}else{c=a("<div class='k-treemap-title-vertical'></div>")}return c.append(a("<div></div>").html(this._getText(b)))}});function C(a,b){if(b===null){return b}var c=n(a,true);return c(b)}function D(a){return typeof a!==w}function E(a,b,c){var d=H(a);var e=H(b);var f=L(a)-L(b)<0;var g=[];g.push(a);for(var h=0;h<c;h++){var i={r:F(d.r,e.r,h,c,f),g:F(d.g,e.g,h,c,f),b:F(d.b,e.b,h,c,f)};g.push(G(i))}g.push(b);return g}function F(a,b,d,e,f){var g=c.min(c.abs(a),c.abs(b));var h=c.max(c.abs(a),c.abs(b));var i=(h-g)/(e+1);var j=i*(d+1);var k;if(f){k=g+j}else{k=h-j}return k}function G(a){return"#"+I(a.r)+I(a.g)+I(a.b)}function H(a){a=a.replace("#","");var b=J(a);return{r:K(b.r),g:K(b.g),b:K(b.b)}}function I(a){var b=c.round(a).toString(16).toUpperCase();if(b.length===1){b="0"+b}return b}function J(a){var b=a.length;var c={};if(b===3){c.r=a[0];c.g=a[1];c.b=a[2]}else{c.r=a.substring(0,2);c.g=a.substring(2,4);c.b=a.substring(4,6)}return c}function K(a){return parseInt(a.toString(16),16)}function L(a){var b=0;if(a){a=H(a);b=c.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b)}return b}function M(a){var b=c.pow(10,4);return c.round(a*b)/b}o.ui.plugin(x)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.dataviz",["kendo.core","kendo.fx","kendo.router","kendo.view","kendo.data.odata","kendo.data.xml","kendo.data","kendo.data.signalr","kendo.binder","kendo.userevents","kendo.draganddrop","kendo.mobile.scroller","kendo.popup","kendo.tooltip","kendo.drawing","kendo.dataviz.core","kendo.dataviz.themes","kendo.dataviz.chart","kendo.dataviz.gauge","kendo.dataviz.barcode","kendo.dataviz.qrcode","kendo.dataviz.stock","kendo.dataviz.sparkline","kendo.dataviz.map","kendo.dataviz.diagram","kendo.dataviz.treemap","kendo.angular"],a)})(function(){"bundle all";return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.modalview",["kendo.mobile.shim","kendo.mobile.view"],a)})(function(){var a={id:"mobile.modalview",name:"ModalView",category:"mobile",description:"The Kendo ModalView is used to present self-contained functionality in the context of the current task.",depends:["mobile.shim","mobile.view"]};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=d.Shim,f=d.Widget,g="beforeOpen",h="open",i="close",j="init",k='<div class="km-modalview-wrapper" />';var l=d.View.extend({init:function(a,b){var c=this;f.fn.init.call(c,a,b);c._id();c._wrap();c._shim();if(!this.options.$angular){c._layout();c._scroller();c._model()}c.element.css("display","");c.trigger(j)},events:[j,g,h,i],options:{name:"ModalView",modal:true,width:null,height:null},destroy:function(){f.fn.destroy.call(this);this.shim.destroy()},open:function(b){var c=this;c.target=a(b);c.shim.show();c._invokeNgController();c.trigger("show",{view:c})},openFor:function(a){if(!this.trigger(g,{target:a})){this.open(a);this.trigger(h,{target:a})}},close:function(){if(this.element.is(":visible")&&!this.trigger(i)){this.shim.hide()}},_wrap:function(){var a=this,b=a.element,c=a.options,d,e;d=b[0].style.width||"auto";e=b[0].style.height||"auto";b.addClass("km-modalview").wrap(k);a.wrapper=b.parent().css({width:c.width||d||300,height:c.height||e||300}).addClass(e=="auto"?" km-auto-height":"");b.css({width:"",height:""})},_shim:function(){var a=this;a.shim=new e(a.wrapper,{modal:a.options.modal,position:"center center",align:"center center",effect:"fade:in",className:"km-modalview-root",hide:function(b){if(a.trigger(i)){b.preventDefault()}}})}});d.plugin(l)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.drawer",["kendo.mobile.view","kendo.userevents"],a)})(function(){var a={id:"mobile.drawer",name:"Drawer",category:"mobile",description:"The Kendo Mobile Drawer widget provides slide to reveal global application toolbox",depends:["mobile.view","userevents"]};(function(a,b){var c=window.kendo,d=c.mobile,e=c.support.mobileOS,f=c.effects.Transition,g=c.roleSelector,h="x",i=d.ui,j=!(e.ios&&e.majorVersion==7&&!e.appMode),k="beforeShow",l="init",m="show",n="hide",o="afterHide",p={enable:a.noop};var q=i.View.extend({init:function(b,e){a(b).parent().prepend(b);d.ui.Widget.fn.init.call(this,b,e);if(!this.options.$angular){this._layout();this._scroller()}this._model();var f=this.element.closest(g("pane")).data("kendoMobilePane"),h;if(f){this.pane=f;this.pane.bind("viewShow",function(a){k._viewShow(a)});this.pane.bind("sameViewRequested",function(){k.hide()});h=this.userEvents=new c.UserEvents(f.element,{fastTap:true,filter:g("view splitview"),allowSelection:true})}else{this.currentView=p;var i=a(this.options.container);if(!i){throw new Error("The drawer needs a container configuration option set.")}h=this.userEvents=new c.UserEvents(i,{fastTap:true,allowSelection:true});this._attachTransition(i)}var k=this;var m=function(a){if(k.visible){k.hide();a.preventDefault()}};if(this.options.swipeToOpen&&j){h.bind("press",function(){k.transition.cancel()});h.bind("start",function(a){k._start(a)});h.bind("move",function(a){k._update(a)});h.bind("end",function(a){k._end(a)});h.bind("tap",m)}else{h.bind("press",m)}this.leftPositioned=this.options.position==="left";this.visible=false;this.element.hide().addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer");this.trigger(l)},options:{name:"Drawer",position:"left",views:[],swipeToOpenViews:[],swipeToOpen:true,title:"",container:null},events:[k,n,o,l,m],show:function(){if(this._activate()){this._show()}},hide:function(){if(!this.currentView){return}this.currentView.enable();q.current=null;this._moveViewTo(0);this.trigger(n,{view:this})},openFor:function(){if(this.visible){this.hide()}else{this.show()}},destroy:function(){i.View.fn.destroy.call(this);this.userEvents.destroy()},_activate:function(){if(this.visible){return true}var a=this._currentViewIncludedIn(this.options.views);if(!a||this.trigger(k,{view:this})){return false}this._setAsCurrent();this.element.show();this.trigger(m,{view:this});this._invokeNgController();return true},_currentViewIncludedIn:function(b){if(!this.pane||!b.length){return true}var c=this.pane.view();return a.inArray(c.id.replace("#",""),b)>-1||a.inArray(c.element.attr("id"),b)>-1},_show:function(){this.currentView.enable(false);this.visible=true;var a=this.element.width();if(!this.leftPositioned){a=-a}this._moveViewTo(a)},_setAsCurrent:function(){if(q.last!==this){if(q.last){q.last.element.hide()}this.element.show()}q.last=this;q.current=this;
},_moveViewTo:function(a){this.userEvents.cancel();this.transition.moveTo({location:a,duration:400,ease:f.easeOutExpo})},_viewShow:function(a){if(this.currentView){this.currentView.enable()}if(this.currentView===a.view){this.hide();return}this.currentView=a.view;this._attachTransition(a.view.element)},_attachTransition:function(a){var b=this,d=this.movable,e=d&&d.x;if(this.transition){this.transition.cancel();this.movable.moveAxis("x",0)}d=this.movable=new c.ui.Movable(a);this.transition=new f({axis:h,movable:this.movable,onEnd:function(){if(d[h]===0){a[0].style.cssText="";b.element.hide();b.trigger(o);b.visible=false}}});if(e){a.addClass("k-fx-hidden");c.animationFrame(function(){a.removeClass("k-fx-hidden");b.movable.moveAxis(h,e);b.hide()})}},_start:function(a){var b=a.sender;if(Math.abs(a.x.velocity)<Math.abs(a.y.velocity)||c.triggeredByInput(a.event)||!this._currentViewIncludedIn(this.options.swipeToOpenViews)){b.cancel();return}var d=this.leftPositioned,e=this.visible,f=d&&e||!d&&!q.current,g=!d&&e||d&&!q.current,h=a.x.velocity<0;if(f&&h||g&&!h){if(this._activate()){b.capture();return}}b.cancel()},_update:function(a){var b=this.movable,c=b.x+a.x.delta,d;if(this.leftPositioned){d=Math.min(Math.max(0,c),this.element.width())}else{d=Math.max(Math.min(0,c),-this.element.width())}this.movable.moveAxis(h,d);a.event.preventDefault();a.event.stopPropagation()},_end:function(a){var b=a.x.velocity,c=Math.abs(this.movable.x)>this.element.width()/2,d=.8,e;if(this.leftPositioned){e=b>-d&&(b>d||c)}else{e=b<d&&(b<-d||c)}if(e){this._show()}else{this.hide()}}});i.plugin(q)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.splitview",["kendo.mobile.pane"],a)})(function(){var a={id:"mobile.splitview",name:"SplitView",category:"mobile",description:"The mobile SplitView is a tablet-specific view that consists of two or more mobile Pane widgets.",depends:["mobile.pane"]};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=d.Widget,f="<div class='km-expanded-pane-shim' />",g=d.View;var h=g.extend({init:function(b,g){var h=this,i,j;e.fn.init.call(h,b,g);b=h.element;a.extend(h,g);h._id();if(!h.options.$angular){h._layout();h._overlay()}else{h._overlay()}h._style();j=b.children(h._locate("modalview"));if(!h.options.$angular){c.mobile.init(j)}else{j.each(function(b,d){c.compileMobileDirective(a(d),g.$angular[0])})}h.panes=[];h._paramsHistory=[];if(!h.options.$angular){h.content.children(c.roleSelector("pane")).each(function(){i=c.initWidget(this,{},d.roles);h.panes.push(i)})}else{h.element.children(c.directiveSelector("pane")).each(function(){i=c.compileMobileDirective(a(this),g.$angular[0]);h.panes.push(i)});h.element.children(c.directiveSelector("header footer")).each(function(){c.compileMobileDirective(a(this),g.$angular[0])})}h.expandedPaneShim=a(f).appendTo(h.element);h._shimUserEvents=new c.UserEvents(h.expandedPaneShim,{fastTap:true,tap:function(){h.collapsePanes()}})},_locate:function(a){return this.options.$angular?c.directiveSelector(a):c.roleSelector(a)},options:{name:"SplitView",style:"horizontal"},expandPanes:function(){this.element.addClass("km-expanded-splitview")},collapsePanes:function(){this.element.removeClass("km-expanded-splitview")},_layout:function(){var a=this,b=a.element;a.transition=c.attrValue(b,"transition");c.mobile.ui.View.prototype._layout.call(this);c.mobile.init(this.header.add(this.footer));a.element.addClass("km-splitview");a.content.addClass("km-split-content")},_style:function(){var b=this.options.style,c=this.element,d;if(b){d=b.split(" ");a.each(d,function(){c.addClass("km-split-"+this)})}},showStart:function(){var b=this;b.element.css("display","");if(!b.inited){b.inited=true;a.each(b.panes,function(){if(this.options.initial){this.navigateToInitial()}else{this.navigate("")}});b.trigger("init",{view:b})}else{this._invokeNgController()}b.trigger("show",{view:b})}});d.plugin(h)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.application",["kendo.mobile.pane","kendo.router"],a)})(function(){var a={id:"mobile.application",name:"Application",category:"mobile",description:"The Mobile application provides a framework to build native looking web applications on mobile devices.",depends:["mobile.pane","router"]};(function(a,b){var c=window.kendo,d=c.mobile,e=c.support,f=d.ui.Widget,g=d.ui.Pane,h="ios7",i=e.mobileOS,j=i.device=="blackberry"&&i.flatVersion>=600&&i.flatVersion<1e3&&i.appMode,k=.93,l="km-vertical",m=i.browser==="chrome",n=i.ios&&i.flatVersion>=700&&i.flatVersion<800&&(i.appMode||m),o=Math.abs(window.orientation)/90==1,p="km-horizontal",q={ios7:{ios:true,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:false},ios:{ios:true,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:false},android:{android:true,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:false},blackberry:{blackberry:true,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:false},meego:{meego:true,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:false},wp:{wp:true,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:false}},r=c.template('<meta content="initial-scale=#: data.scale #, maximum-scale=#: data.scale #, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:false}),s=c.template("<meta name=\"apple-mobile-web-app-capable\" content=\"#= data.webAppCapable === false ? 'no' : 'yes' #\" /> "+'<meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> '+'<meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:false}),t=c.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:false}),u=i.android&&i.browser!="chrome"||i.blackberry,v=c.template('<link rel="apple-touch-icon'+(i.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:false}),w=(i.device=="iphone"||i.device=="ipod")&&i.majorVersion<7,x=(i.device=="iphone"||i.device=="ipod")&&i.majorVersion>=7,y=x?"none":null,z=i.browser=="mobilesafari"?60:0,A=20,B=a(window),C=window.screen,D=a("head"),E="init",F=a.proxy;function G(a,b){var c=[];if(i){c.push("km-on-"+i.name)}if(a.skin){c.push("km-"+a.skin)}else{if(a.name=="ios"&&a.majorVersion>6){c.push("km-ios7")}else{c.push("km-"+a.name)}}if(a.name=="ios"&&a.majorVersion<7||a.name!="ios"){c.push("km-"+a.name+a.majorVersion)}c.push("km-"+a.majorVersion);c.push("km-m"+(a.minorVersion?a.minorVersion[0]:0));if(a.variant&&(a.skin&&a.skin===a.name||!a.skin||a.setDefaultPlatform===false)){c.push("km-"+(a.skin?a.skin:a.name)+"-"+a.variant)}if(a.cordova){c.push("km-cordova")}if(a.appMode){c.push("km-app")}else{c.push("km-web")}if(b&&b.statusBarStyle){c.push("km-"+b.statusBarStyle+"-status-bar")}return c.join(" ")}function H(b){return"km-wp-"+(b.noVariantSet?parseInt(a("<div style='background: Background' />").css("background-color").split(",")[1],10)===0?"dark":"light":b.variant+" km-wp-"+b.variant+"-force")}function I(a){return i.wp?a.css("animation-name")=="-kendo-landscape":Math.abs(window.orientation)/90==1}function J(a){return I(a)?p:l}function K(a){a.parent().addBack().css("min-height",window.innerHeight)}function L(){a("meta[name=viewport]").remove();D.append(r({height:", width=device-width"+(I()?", height="+window.innerHeight+"px":e.mobileOS.flatVersion>=600&&e.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var M=f.extend({init:function(b,c){d.application=this;a(a.proxy(this,"bootstrap",b,c))},bootstrap:function(b,d){b=a(b);if(!b[0]){b=a(document.body)}f.fn.init.call(this,b,d);this.element.removeAttr("data-"+c.ns+"role");this._setupPlatform();this._attachMeta();this._setupElementClass();this._attachHideBarHandlers();var e=a.extend({},this.options);delete e.name;var h=this,i=function(){h.pane=new g(h.element,e);h.pane.navigateToInitial();if(h.options.updateDocumentTitle){h._setupDocumentTitle()}h._startHistory();h.trigger(E)};if(this.options.$angular){setTimeout(i)}else{i()}},options:{name:"Application",hideAddressBar:true,browserHistory:true,historyTransition:y,modelScope:window,statusBarStyle:"black",transition:"",retina:false,platform:null,skin:null,updateDocumentTitle:true,useNativeScrolling:false},events:[E],navigate:function(a,b){this.pane.navigate(a,b)},replace:function(a,b){this.pane.replace(a,b)},scroller:function(){return this.view().scroller},hideLoading:function(){if(this.pane){this.pane.hideLoading()}else{throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.")}},showLoading:function(){if(this.pane){this.pane.showLoading()}else{throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.")}},changeLoadingMessage:function(a){if(this.pane){this.pane.changeLoadingMessage(a)}else{throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.")}},view:function(){return this.pane.view()},skin:function(a){var b=this;if(!arguments.length){return b.options.skin}b.options.skin=a||"";b.element[0].className="km-pane";b._setupPlatform();b._setupElementClass();return b.options.skin},destroy:function(){f.fn.destroy.call(this);this.pane.destroy();if(this.options.browserHistory){this.router.destroy()}},_setupPlatform:function(){var b=this,c=b.options.platform,d=b.options.skin,e=[],f=i||q[h];if(c){f.setDefaultPlatform=true;if(typeof c==="string"){e=c.split("-");f=a.extend({variant:e[1]},f,q[e[0]])}else{f=c}}if(d){e=d.split("-");if(!i){f.setDefaultPlatform=false}f=a.extend({},f,{skin:e[0],variant:e[1]})}if(!f.variant){f.noVariantSet=true;f.variant="dark"}b.os=f;b.osCssClass=G(b.os,b.options);if(f.name=="wp"){if(!b.refreshBackgroundColorProxy){b.refreshBackgroundColorProxy=a.proxy(function(){if(b.os.variant&&(b.os.skin&&b.os.skin===b.os.name)||!b.os.skin){b.element.removeClass("km-wp-dark km-wp-light km-wp-dark-force km-wp-light-force").addClass(H(b.os))}},b)}a(document).off("visibilitychange",b.refreshBackgroundColorProxy);a(document).off("resume",b.refreshBackgroundColorProxy);if(!f.skin){b.element.parent().css("overflow","hidden");a(document).on("visibilitychange",b.refreshBackgroundColorProxy);a(document).on("resume",b.refreshBackgroundColorProxy);b.refreshBackgroundColorProxy()}}},_startHistory:function(){if(this.options.browserHistory){this.router=new c.Router({pushState:this.options.pushState,root:this.options.root,hashBang:this.options.hashBang});this.pane.bindToRouter(this.router);this.router.start()}else{if(!this.options.initial){this.pane.navigate("")}}},_resizeToScreenHeight:function(){var b=a("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),c=this.element,d;if(m){d=window.innerHeight}else{if(I(c)){if(b){if(o){d=C.availWidth+A}else{d=C.availWidth}}else{if(o){d=C.availWidth}else{d=C.availWidth-A}}}else{if(b){if(o){d=C.availHeight}else{d=C.availHeight+A}}else{if(o){d=C.availHeight-A}else{d=C.availHeight}}}}c.height(d)},_setupElementClass:function(){var b=this,d,f=b.element;f.parent().addClass("km-root km-"+(b.os.tablet?"tablet":"phone"));f.addClass(b.osCssClass+" "+J(f));if(this.options.useNativeScrolling){f.parent().addClass("km-native-scrolling")}if(m){f.addClass("km-ios-chrome")}if(e.wpDevicePixelRatio){f.parent().css("font-size",e.wpDevicePixelRatio+"em")}if(this.options.retina){f.parent().addClass("km-retina");f.parent().css("font-size",e.devicePixelRatio*k+"em")}if(j){L()}if(b.options.useNativeScrolling){f.parent().addClass("km-native-scrolling")}else if(u){d=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200;a(t({width:d,height:d})).appendTo(D)}if(n){b._resizeToScreenHeight()}c.onResize(function(){f.removeClass("km-horizontal km-vertical").addClass(J(f));if(b.options.useNativeScrolling){K(f)}if(n){b._resizeToScreenHeight()}if(j){L()}c.resize(f)})},_clearExistingMeta:function(){D.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var a=this.options,b=a.icon,c;this._clearExistingMeta();if(!j){D.prepend(r({height:"",scale:this.options.retina?1/e.devicePixelRatio:"1.0"}))}D.prepend(s(a));if(b){if(typeof b==="string"){b={"":b}}for(c in b){D.prepend(v({icon:b[c],size:c}))}}if(a.useNativeScrolling){K(this.element)}},_attachHideBarHandlers:function(){var a=this,b=F(a,"_hideBar");if(e.mobileOS.appMode||!a.options.hideAddressBar||!w||a.options.useNativeScrolling){return}a._initialHeight={};B.on("load",b);c.onResize(function(){setTimeout(window.scrollTo,0,0,1)})},_setupDocumentTitle:function(){var a=this,c=document.title;a.pane.bind("viewShow",function(a){var d=a.view.title;document.title=d!==b?d:c})},_hideBar:function(){var b=this,d=b.element;d.height(c.support.transforms.css+"calc(100% + "+z+"px)");a(window).trigger(c.support.resize)}});c.mobile.Application=M;c.ui.plugin(M,c.mobile,"Mobile")})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.button",["kendo.userevents"],a)})(function(){var a={id:"mobile.button",name:"Button",category:"mobile",description:"The Button widget navigates between mobile Application views when pressed.",depends:["userevents"]};(function(a,b){var c=window.kendo,d=c.mobile,e=d.ui,f=e.Widget,g=c.support,h=g.mobileOS,i=h.android&&h.flatVersion>=300,j="click",k="disabled",l="km-state-disabled";function m(b,c,d){a(c.target).closest(".km-button,.km-detail").toggleClass("km-state-active",d);if(i&&b.deactivateTimeoutID){clearTimeout(b.deactivateTimeoutID);b.deactivateTimeoutID=0}}function n(b){return a('<span class="km-badge">'+b+"</span>")}var o=f.extend({init:function(a,b){var d=this;f.fn.init.call(d,a,b);var e=d.options.clickOn==="up";d._wrap();d._style();if(!e){d.element.attr("data-navigate-on-press",true)}d.options.enable=d.options.enable&&!d.element.attr(k);d.enable(d.options.enable);d._userEvents=new c.UserEvents(d.element,{allowSelection:!e,fastTap:true,press:function(a){d._activate(a)},release:function(a){m(d,a,false);if(!e){a.event.stopPropagation()}}});d._userEvents.bind(e?"tap":"press",function(a){d._release(a)});if(i){d.element.on("move",function(a){d._timeoutDeactivate(a)})}},destroy:function(){f.fn.destroy.call(this);this._userEvents.destroy()},events:[j],options:{name:"Button",icon:"",style:"",badge:"",clickOn:"up",enable:true},badge:function(a){var b=this.badgeElement=this.badgeElement||n(a).appendTo(this.element);if(a||a===0){b.html(a);return this}if(a===false){b.empty().remove();this.badgeElement=false;return this}return b.html()},enable:function(a){var b=this.element;if(typeof a=="undefined"){a=true}this.options.enable=a;if(a){b.removeAttr(k)}else{b.attr(k,k)}b.toggleClass(l,!a)},_timeoutDeactivate:function(a){if(!this.deactivateTimeoutID){this.deactivateTimeoutID=setTimeout(m,500,this,a,false)}},_activate:function(a){var b=document.activeElement,c=b?b.nodeName:"";if(this.options.enable){m(this,a,true);if(c=="INPUT"||c=="TEXTAREA"){b.blur()}}},_release:function(b){var c=this;if(b.which>1){return}if(!c.options.enable){b.preventDefault();return}if(c.trigger(j,{target:a(b.target),button:c.element})){b.preventDefault()}},_style:function(){var b=this.options.style,c=this.element,d;if(b){d=b.split(" ");a.each(d,function(){c.addClass("km-"+this)})}},_wrap:function(){var b=this,c=b.options.icon,d=b.options.badge,e='<span class="km-icon km-'+c,f=b.element.addClass("km-button"),g=f.children("span:not(.km-icon)").addClass("km-text"),h=f.find("img").addClass("km-image");if(!g[0]&&f.html()){g=f.wrapInner('<span class="km-text" />').children("span.km-text")}if(!h[0]&&c){if(!g[0]){e+=" km-notext"}b.iconElement=f.prepend(a(e+'" />'))}if(d||d===0){b.badgeElement=n(d).appendTo(f)}}});var p=o.extend({options:{name:"BackButton",style:"back"},init:function(a,b){var c=this;o.fn.init.call(c,a,b);if(typeof c.element.attr("href")==="undefined"){c.element.attr("href","#:back")}}});var q=o.extend({options:{name:"DetailButton",style:""},init:function(a,b){o.fn.init.call(this,a,b)},_style:function(){var b=this.options.style+" detail",c=this.element;if(b){var d=b.split(" ");a.each(d,function(){c.addClass("km-"+this)})}},_wrap:function(){var b=this,c=b.options.icon,d='<span class="km-icon km-'+c,e=b.element,f=e.children("span"),g=e.find("img").addClass("km-image");if(!g[0]&&c){if(!f[0]){d+=" km-notext"}e.prepend(a(d+'" />'))}}});e.plugin(o);e.plugin(p);e.plugin(q)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.buttongroup",["kendo.core"],a)})(function(){var a={id:"mobile.buttongroup",name:"ButtonGroup",category:"mobile",description:"The Kendo mobile ButtonGroup widget is a linear set of grouped buttons.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=d.Widget,f="state-active",g="state-disabled",h="select",i="li:not(.km-"+f+")";function j(a){return"k-"+a+" km-"+a}function k(b){return a('<span class="'+j("badge")+'">'+b+"</span>")}var l=e.extend({init:function(a,b){var c=this;e.fn.init.call(c,a,b);c.element.addClass("km-buttongroup k-widget k-button-group").find("li").each(c._button);c.element.on(c.options.selectOn,i,"_select");c._enable=true;c.select(c.options.index);if(!c.options.enable){c._enable=false;c.wrapper.addClass(j(g))}},events:[h],options:{name:"ButtonGroup",selectOn:"down",index:-1,enable:true},current:function(){return this.element.find(".km-"+f)},select:function(c){var d=this,e=-1;if(c===b||c===-1||!d._enable||a(c).is(".km-"+g)){return}d.current().removeClass(j(f));if(typeof c==="number"){e=c;c=a(d.element[0].children[c])}else if(c.nodeType){c=a(c);e=c.index()}c.addClass(j(f));d.selectedIndex=e},badge:function(b,c){var d=this.element,e;if(!isNaN(b)){b=d.children().get(b)}b=d.find(b);e=a(b.children(".km-badge")[0]||k(c).appendTo(b));if(c||c===0){e.html(c);return this}if(c===false){e.empty().remove();return this}return e.html()},enable:function(a){if(typeof a=="undefined"){a=true}this.wrapper.toggleClass(j(g),!a);this._enable=this.options.enable=a},_button:function(){var b=a(this).addClass(j("button")),d=c.attrValue(b,"icon"),e=c.attrValue(b,"badge"),f=b.children("span"),g=b.find("img").addClass(j("image"));if(!f[0]){f=b.wrapInner("<span/>").children("span")}f.addClass(j("text"));if(!g[0]&&d){b.prepend(a('<span class="'+j("icon")+" "+j(d)+'"/>'))}if(e||e===0){k(e).appendTo(b)}},_select:function(a){if(a.which>1||a.isDefaultPrevented()||!this._enable){return}this.select(a.currentTarget);this.trigger(h,{index:this.selectedIndex})}});d.plugin(l)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.collapsible",["kendo.core"],a)})(function(){var a={id:"mobile.collapsible",name:"Collapsible",category:"mobile",description:"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.",depends:["core","userevents"]};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=d.Widget,f="km-collapsible",g="km-collapsible-header",h="km-collapsible-content",i="km-collapsibleinset",j="<div data-role='collapsible-header' class='"+g+"'></div>",k="<div data-role='collapsible-content' class='"+h+"'></div>",l="km-collapsed",m="km-expanded",n="km-animated",o="left",p="expand",q="collapse";var r=e.extend({init:function(b,d){var g=this,h=a(b);e.fn.init.call(g,h,d);h.addClass(f);g._buildHeader();g.content=h.children().not(g.header).wrapAll(k).parent();g._userEvents=new c.UserEvents(g.header,{fastTap:true,tap:function(){g.toggle()}});h.addClass(g.options.collapsed?l:m);if(g.options.inset){h.addClass(i)}if(g.options.animation){g.content.addClass(n);g.content.height(0);if(g.options.collapsed){g.content.hide()}}else if(g.options.collapsed){g.content.hide()}},events:[p,q],options:{name:"Collapsible",collapsed:true,collapseIcon:"arrow-n",expandIcon:"arrow-s",iconPosition:o,animation:true,inset:false},destroy:function(){e.fn.destroy.call(this);this._userEvents.destroy()},expand:function(a){var b=this.options.collapseIcon,d=this.content,e=c.support.mobileOS.ios;if(!this.trigger(p)){if(b){this.header.find(".km-icon").removeClass().addClass("km-icon km-"+b)}this.element.removeClass(l).addClass(m);if(this.options.animation&&!a){d.off("transitionend");d.show();if(e){d.removeClass(n)}d.height(this._getContentHeight());if(e){d.addClass(n)}c.resize(d)}else{d.show()}}},collapse:function(a){var b=this.options.expandIcon,c=this.content;if(!this.trigger(q)){if(b){this.header.find(".km-icon").removeClass().addClass("km-icon km-"+b)}this.element.removeClass(m).addClass(l);if(this.options.animation&&!a){c.one("transitionend",function(){c.hide()});c.height(0)}else{c.hide()}}},toggle:function(a){if(this.isCollapsed()){this.expand(a)}else{this.collapse(a)}},isCollapsed:function(){return this.element.hasClass(l)},resize:function(){if(!this.isCollapsed()&&this.options.animation){this.content.height(this._getContentHeight())}},_buildHeader:function(){var b=this.element.children(":header").wrapAll(j),c=a('<span class="km-icon"/>'),d=this.options.collapsed?this.options.expandIcon:this.options.collapseIcon,e=this.options.iconPosition;if(d){b.prepend(c);c.addClass("km-"+d)}this.header=b.parent();this.header.addClass("km-icon-"+e)},_getContentHeight:function(){var a=this.content.attr("style"),b;this.content.css({position:"absolute",visibility:"hidden",height:"auto"});b=this.content.height();this.content.attr("style",a?a:"");return b}});d.plugin(r)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.listview",["kendo.data","kendo.userevents","kendo.mobile.button"],a)})(function(){var a={id:"mobile.listview",name:"ListView",category:"mobile",description:"The Kendo Mobile ListView widget is used to display flat or grouped list of items.",depends:["data","userevents","mobile.button"]};(function(a,b){var c=window.kendo,d=window.Node,e=c.mobile,f=e.ui,g=c._outerHeight,h=c.data.DataSource,i=f.DataBoundWidget,j=".km-list > li, > li:not(.km-group-container)",k=".km-listview-link, .km-listview-label",l="["+c.attr("icon")+"]",m=a.proxy,n=c.attrValue,o="km-group-title",p="km-state-active",q='<div class="'+o+'"><div class="km-text"></div></div>',r=c.template('<li><div class="'+o+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),s='<div class="km-listview-wrapper" />',t=c.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),u=".kendoMobileListView",v="styled",w="dataBound",x="dataBinding",y="itemChange",z="click",A="change",B="progress",C="function",D=/^\s+$/,E=/button/;function F(){return this.nodeType===d.TEXT_NODE&&this.nodeValue.match(D)}function G(a,b){if(b&&!a[0].querySelector(".km-icon")){a.prepend('<span class="km-icon km-'+b+'"/>')}}function H(a){G(a,n(a,"icon"));G(a,n(a.children(l),"icon"))}function I(a){var b=a.parent(),d=a.add(b.children(c.roleSelector("detailbutton"))),e=b.contents().not(d).not(F);if(e.length){return}a.addClass("km-listview-link").attr(c.attr("role"),"listview-link");G(a,n(b,"icon"));G(a,n(a,"icon"))}function J(a){if(!a[0].querySelector("input[type=checkbox],input[type=radio]")){return}var b=a.parent();if(b.contents().not(a).not(function(){return this.nodeType==3})[0]){return}a.addClass("km-listview-label");a.children("[type=checkbox],[type=radio]").addClass("km-widget km-icon km-check")}function K(b,c){a(b).css("transform","translate3d(0px, "+c+"px, 0px)")}var L=c.Class.extend({init:function(a){var b=a.scroller();if(!b){return}this.options=a.options;this.element=a.element;this.scroller=a.scroller();this._shouldFixHeaders();var c=this;var d=function(){c._cacheHeaders()};a.bind("resize",d);a.bind(v,d);a.bind(w,d);this._scrollHandler=function(a){c._fixHeader(a)};b.bind("scroll",this._scrollHandler)},destroy:function(){var a=this;if(a.scroller){a.scroller.unbind("scroll",a._scrollHandler)}},_fixHeader:function(b){if(!this.fixedHeaders){return}var c=0,d=this.scroller,e=this.headers,f=b.scrollTop,g,h,i;do{g=e[c++];if(!g){i=a("<div />");break}h=g.offset;i=g.header}while(h+1>f);if(this.currentHeader!=c){d.fixedContainer.html(i.clone());this.currentHeader=c}},_shouldFixHeaders:function(){this.fixedHeaders=this.options.type==="group"&&this.options.fixedHeaders},_cacheHeaders:function(){this._shouldFixHeaders();if(!this.fixedHeaders){return}var b=[],c=this.scroller.scrollTop;this.element.find("."+o).each(function(d,e){e=a(e);b.unshift({offset:e.position().top+c,header:e})});this.headers=b;this._fixHeader({scrollTop:c})}});var M=function(){return{page:1}};var N=c.Class.extend({init:function(a){var b=this,c=a.options,d=a.scroller(),e=c.pullParameters||M;this.listView=a;this.scroller=d;a.bind("_dataSource",function(a){b.setDataSource(a.dataSource)});d.setOptions({pullToRefresh:true,pull:function(){if(!b._pulled){b._pulled=true;b.dataSource.read(e.call(a,b._first))}},messages:{pullTemplate:c.messages.pullTemplate,releaseTemplate:c.messages.releaseTemplate,refreshTemplate:c.messages.refreshTemplate}})},setDataSource:function(a){var b=this;this._first=a.view()[0];this.dataSource=a;a.bind("change",function(){b._change()});a.bind("error",function(){b._change()})},_change:function(){var a=this.scroller,b=this.dataSource;if(this._pulled){a.pullHandled()}if(this._pulled||!this._first){var c=b.view();if(c[0]){this._first=c[0]}}this._pulled=false}});var O=c.Observable.extend({init:function(a){var b=this;c.Observable.fn.init.call(b);b.buffer=a.buffer;b.height=a.height;b.item=a.item;b.items=[];b.footer=a.footer;b.buffer.bind("reset",function(){b.refresh()})},refresh:function(){var a=this.buffer,b=this.items,c=false;while(b.length){b.pop().destroy()}this.offset=a.offset;var d=this.item,e,f;for(var g=0;g<a.viewSize;g++){if(g===a.total()){c=true;break}f=d(this.content(this.offset+b.length));f.below(e);e=f;b.push(f)}this.itemCount=b.length;this.trigger("reset");this._resize();if(c){this.trigger("endReached")}},totalHeight:function(){if(!this.items[0]){return 0}var a=this,b=a.items,c=b[0].top,d=b[b.length-1].bottom,e=(d-c)/a.itemCount,f=a.buffer.length-a.offset-a.itemCount;return(this.footer?this.footer.height:0)+d+f*e},batchUpdate:function(a){var b=this.height(),c=this.items,d,e=this.offset;if(!c[0]){return}if(this.lastDirection){while(c[c.length-1].bottom>a+b*2){if(this.offset===0){break}this.offset--;d=c.pop();d.update(this.content(this.offset));d.above(c[0]);c.unshift(d)}}else{while(c[0].top<a-b){var f=this.offset+this.itemCount;if(f===this.buffer.total()){this.trigger("endReached");break}if(f===this.buffer.length){break}d=c.shift();d.update(this.content(this.offset+this.itemCount));d.below(c[c.length-1]);c.push(d);this.offset++}}if(e!==this.offset){this._resize()}},update:function(a){var b=this,c=this.items,d,e,f,g=this.height(),h=this.itemCount,i=g/2,j=(this.lastTop||0)>a,k=a-i,l=a+g+i;if(!c[0]){return}this.lastTop=a;this.lastDirection=j;if(j){if(c[0].top>k&&c[c.length-1].bottom>l+i&&this.offset>0){this.offset--;d=c.pop();e=c[0];d.update(this.content(this.offset));c.unshift(d);d.above(e);b._resize()}}else{if(c[c.length-1].bottom<l&&c[0].top<k-i){var m=this.offset+h;if(m===this.buffer.total()){this.trigger("endReached")}else if(m!==this.buffer.length){d=c.shift();f=c[c.length-1];c.push(d);d.update(this.content(this.offset+this.itemCount));b.offset++;d.below(f);b._resize()}}}},content:function(a){return this.buffer.at(a)},destroy:function(){this.unbind()},_resize:function(){var a=this.items,b=0,c=0,d=a[0],e=a[a.length-1];if(d){b=d.top;c=e.bottom}this.trigger("resize",{top:b,bottom:c});if(this.footer){this.footer.below(e)}}});c.mobile.ui.VirtualList=O;var P=c.Class.extend({init:function(b,c){var d=b.append([c],true)[0],e=d.offsetHeight;a.extend(this,{top:0,element:d,listView:b,height:e,bottom:e})},update:function(a){this.element=this.listView.setDataItem(this.element,a)},above:function(a){if(a){this.height=this.element.offsetHeight;this.top=a.top-this.height;this.bottom=a.top;K(this.element,this.top)}},below:function(a){if(a){this.height=this.element.offsetHeight;this.top=a.bottom;this.bottom=this.top+this.height;K(this.element,this.top)}},destroy:function(){c.destroy(this.element);a(this.element).remove()}});var Q='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>';var R=c.Class.extend({init:function(b){this.element=a('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(b.element);this._loadIcon=a(Q).appendTo(this.element)},enable:function(){this.element.show();this.height=g(this.element,true)},disable:function(){this.element.hide();this.height=0},below:function(a){if(a){this.top=a.bottom;this.bottom=this.height+this.top;K(this.element,this.top)}}});var S=R.extend({init:function(b,c){this._loadIcon=a(Q).hide();this._loadButton=a('<a class="km-load">'+b.options.messages.loadMoreText+"</a>").hide();this.element=a('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(b.element);var d=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){d._hideShowButton();c.next()});c.bind("resize",function(){d._showLoadButton()});this.height=g(this.element,true);this.disable()},_hideShowButton:function(){this._loadButton.hide();this.element.addClass("km-scroller-refresh");this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show();this.element.removeClass("km-scroller-refresh");this._loadIcon.hide()}});var T=c.Class.extend({init:function(a){var b=this;this.chromeHeight=g(a.wrapper.children().not(a.element));this.listView=a;this.scroller=a.scroller();this.options=a.options;a.bind("_dataSource",function(a){b.setDataSource(a.dataSource,a.empty)});a.bind("resize",function(){if(!b.list.items.length){return}b.scroller.reset();b.buffer.range(0);b.list.refresh()});this.scroller.makeVirtual();this._scroll=function(a){b.list.update(a.scrollTop)};this.scroller.bind("scroll",this._scroll);this._scrollEnd=function(a){b.list.batchUpdate(a.scrollTop)};this.scroller.bind("scrollEnd",this._scrollEnd)},destroy:function(){this.list.unbind();this.buffer.unbind();this.scroller.unbind("scroll",this._scroll);this.scroller.unbind("scrollEnd",this._scrollEnd)},setDataSource:function(b,d){var e=this,f=this.options,g=this.listView,h=g.scroller(),i=f.loadMore,j,k,l;this.dataSource=b;j=b.pageSize()||f.virtualViewSize;if(!j&&!d){throw new Error("the DataSource does not have page size configured. Page Size setting is mandatory for the mobile listview virtual scrolling to work as expected.")}if(this.buffer){this.buffer.destroy()}k=new c.data.Buffer(b,Math.floor(j/2),i);if(i){l=new S(g,k)}else{l=new R(g)}if(this.list){this.list.destroy()}var m=new O({buffer:k,footer:l,item:function(a){return new P(g,a)},height:function(){return h.height()}});m.bind("resize",function(){e.updateScrollerSize();g.updateSize()});m.bind("reset",function(){e.footer.enable()});m.bind("endReached",function(){l.disable();e.updateScrollerSize()});k.bind("expand",function(){m.lastDirection=false;m.batchUpdate(h.scrollTop)});a.extend(this,{
buffer:k,scroller:h,list:m,footer:l})},updateScrollerSize:function(){this.scroller.virtualSize(0,this.list.totalHeight()+this.chromeHeight)},refresh:function(){this.list.refresh()},reset:function(){this.buffer.range(0);this.list.refresh()}});var U=c.Class.extend({init:function(a){var b=this;this.listView=a;this.options=a.options;var c=this;this._refreshHandler=function(a){c.refresh(a)};this._progressHandler=function(){a.showLoading()};a.bind("_dataSource",function(a){b.setDataSource(a.dataSource)})},destroy:function(){this._unbindDataSource()},reset:function(){},refresh:function(a){var b=a&&a.action,c=a&&a.items,d=this.listView,e=this.dataSource,g=this.options.appendOnRefresh,h=e.view(),i=e.group(),j=i&&i[0],k;if(b==="itemchange"){if(!d._hasBindingTarget()){k=d.findByDataItem(c)[0];if(k){d.setDataItem(k,c[0])}}return}var l,m,n;var o=b==="add"&&!j||g&&!d._filter;var p=b==="remove"&&!j;if(o){l=[]}else if(p){l=d.findByDataItem(c)}if(d.trigger(x,{action:b||"rebind",items:c,removedItems:l,index:a&&a.index})){if(this._shouldShowLoading()){d.hideLoading()}return}if(b==="add"&&!j){var q=h.indexOf(c[0]);if(q>-1){m=d.insertAt(c,q);n=c}}else if(b==="remove"&&!j){m=[];d.remove(c)}else if(j){d.replaceGrouped(h)}else if(g&&!d._filter){m=d.prepend(h);n=h}else{d.replace(h)}if(this._shouldShowLoading()){d.hideLoading()}d.trigger(w,{ns:f,addedItems:m,addedDataItems:n})},setDataSource:function(a){if(this.dataSource){this._unbindDataSource()}this.dataSource=a;a.bind(A,this._refreshHandler);if(this._shouldShowLoading()){this.dataSource.bind(B,this._progressHandler)}},_unbindDataSource:function(){this.dataSource.unbind(A,this._refreshHandler).unbind(B,this._progressHandler)},_shouldShowLoading:function(){var a=this.options;return!a.pullToRefresh&&!a.loadMore&&!a.endlessScroll}});var V=c.Class.extend({init:function(b){var c=this,d=b.options.filterable,e="change paste",f=this;this.listView=b;this.options=d;b.element.before(t({placeholder:d.placeholder||"Search..."}));if(d.autoFilter!==false){e+=" keyup"}this.element=b.wrapper.find(".km-search-form");this.searchInput=b.wrapper.find("input[type=search]").closest("form").on("submit"+u,function(a){a.preventDefault()}).end().on("focus"+u,function(){c._oldFilter=c.searchInput.val()}).on(e.split(" ").join(u+" ")+u,m(this._filterChange,this));this.clearButton=b.wrapper.find(".km-filter-reset").on(z,m(this,"_clearFilter")).hide();this._dataSourceChange=a.proxy(this._refreshInput,this);b.bind("_dataSource",function(a){a.dataSource.bind("change",f._dataSourceChange)})},_refreshInput:function(){var a=this.listView.dataSource.filter();var b=this.listView._filter.searchInput;if(!a||a.filters[0].field!==this.listView.options.filterable.field){b.val("")}else{b.val(a.filters[0].value)}},_search:function(a){this._filter=true;this.clearButton[a?"show":"hide"]();this.listView.dataSource.filter(a)},_filterChange:function(a){var b=this;if(a.type=="paste"&&this.options.autoFilter!==false){setTimeout(function(){b._applyFilter()},1)}else{this._applyFilter()}},_applyFilter:function(){var a=this.options,b=this.searchInput.val(),c=b.length?{field:a.field,operator:a.operator||"startswith",ignoreCase:a.ignoreCase,value:b}:null;if(b===this._oldFilter){return}this._oldFilter=b;this._search(c)},_clearFilter:function(a){this.searchInput.val("");this._search(null);a.preventDefault()}});var W=i.extend({init:function(b,d){var e=this;i.fn.init.call(this,b,d);b=this.element;d=this.options;if(d.scrollTreshold){d.scrollThreshold=d.scrollTreshold}b.on("down",k,"_highlight").on("move up cancel",k,"_dim");this._userEvents=new c.UserEvents(b,{fastTap:true,filter:j,allowSelection:true,tap:function(a){e._click(a)}});b.css("-ms-touch-action","auto");b.wrap(s);this.wrapper=this.element.parent();this._headerFixer=new L(this);this._itemsCache={};this._templates();this.virtual=d.endlessScroll||d.loadMore;this._style();if(this.options.$angular&&(this.virtual||this.options.pullToRefresh)){setTimeout(a.proxy(this,"_start"))}else{this._start()}},_start:function(){var a=this.options;if(this.options.filterable){this._filter=new V(this)}if(this.virtual){this._itemBinder=new T(this)}else{this._itemBinder=new U(this)}if(this.options.pullToRefresh){this._pullToRefreshHandler=new N(this)}this.setDataSource(a.dataSource);this._enhanceItems(this.items());c.notify(this,f)},events:[z,x,w,y],options:{name:"ListView",style:"",type:"flat",autoBind:true,fixedHeaders:false,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:false,loadMore:false,endlessScroll:false,scrollThreshold:30,pullToRefresh:false,messages:{loadMoreText:"Press to load more",pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},pullOffset:140,filterable:false,virtualViewSize:null},refresh:function(){this._itemBinder.refresh()},reset:function(){this._itemBinder.reset()},setDataSource:function(a){var b=!a;this.dataSource=h.create(a);this.trigger("_dataSource",{dataSource:this.dataSource,empty:b});if(this.options.autoBind&&!b){this.items().remove();this.dataSource.fetch()}},destroy:function(){i.fn.destroy.call(this);c.destroy(this.element);this._userEvents.destroy();if(this._itemBinder){this._itemBinder.destroy()}if(this._headerFixer){this._headerFixer.destroy()}this.element.unwrap();delete this.element;delete this.wrapper;delete this._userEvents},items:function(){if(this.options.type==="group"){return this.element.find(".km-list").children()}else{return this.element.children().not(".km-load-more")}},scroller:function(){if(!this._scrollerInstance){this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")}return this._scrollerInstance},showLoading:function(){var a=this.view();if(a&&a.loader){a.loader.show()}},hideLoading:function(){var a=this.view();if(a&&a.loader){a.loader.hide()}},insertAt:function(a,b,c){var d=this;return d._renderItems(a,function(e){if(b===0){d.element.prepend(e)}else if(b===-1){d.element.append(e)}else{d.items().eq(b-1).after(e)}if(c){for(var g=0;g<e.length;g++){d.trigger(y,{item:e.eq(g),data:a[g],ns:f})}}})},append:function(a,b){return this.insertAt(a,-1,b)},prepend:function(a,b){return this.insertAt(a,0,b)},replace:function(a){this.options.type="flat";this._angularItems("cleanup");c.destroy(this.element.children());this.element.empty();this._userEvents.cancel();this._style();return this.insertAt(a,0)},replaceGrouped:function(b){this.options.type="group";this._angularItems("cleanup");this.element.empty();var d=a(c.render(this.groupTemplate,b));this._enhanceItems(d.children("ul").children("li"));this.element.append(d);e.init(d);this._style();this._angularItems("compile")},remove:function(a){var b=this.findByDataItem(a);this.angular("cleanup",function(){return{elements:b}});c.destroy(b);b.remove()},findByDataItem:function(a){var b=[];for(var d=0,e=a.length;d<e;d++){b[d]="[data-"+c.ns+"uid="+a[d].uid+"]"}return this.element.find(b.join(","))},setDataItem:function(b,d){var e=this,g=function(g){var h=a(g[0]);c.destroy(b);e.angular("cleanup",function(){return{elements:[a(b)]}});a(b).replaceWith(h);e.trigger(y,{item:h,data:d,ns:f})};return this._renderItems([d],g)[0]},updateSize:function(){this._size=this.getSize()},_renderItems:function(b,d){var f=a(c.render(this.template,b));d(f);this.angular("compile",function(){return{elements:f,data:b.map(function(a){return{dataItem:a}})}});e.init(f);this._enhanceItems(f);return f},_dim:function(a){this._toggle(a,false)},_highlight:function(a){this._toggle(a,true)},_toggle:function(b,c){if(b.which>1){return}var d=a(b.currentTarget),e=d.parent(),f=n(d,"role")||"",g=!f.match(E),h=b.isDefaultPrevented();if(g){e.toggleClass(p,c&&!h)}},_templates:function(){var a=this.options.template,b=this.options.headerTemplate,d=' data-uid="#=arguments[0].uid || ""#"',e={},f={};if(typeof a===C){e.template=a;a="#=this.template(data)#"}this.template=m(c.template("<li"+d+">"+a+"</li>"),e);f.template=this.template;if(typeof b===C){f._headerTemplate=b;b="#=this._headerTemplate(data)#"}f.headerTemplate=c.template(b);this.groupTemplate=m(r,f)},_click:function(b){if(b.event.which>1||b.event.isDefaultPrevented()){return}var d,e=b.target,g=a(b.event.target),h=g.closest(c.roleSelector("button","detailbutton","backbutton")),i=c.widgetInstance(h,f),j=e.attr(c.attr("uid"));if(j){d=this.dataSource.getByUid(j)}if(this.trigger(z,{target:g,item:e,dataItem:d,button:i})){b.preventDefault()}},_styleGroups:function(){var b=this.element.children();b.children("ul").addClass("km-list");b.each(function(){var b=a(this),c=b.contents().first();b.addClass("km-group-container");if(!c.is("ul")&&!c.is("div."+o)){c.wrap(q)}})},_style:function(){var a=this.options,b=a.type==="group",c=this.element,d=a.style==="inset";c.addClass("km-listview").toggleClass("km-list",!b).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!b&&d).toggleClass("km-listgroup",b&&!d).toggleClass("km-listgroupinset",b&&d);if(!c.parents(".km-listview")[0]){c.closest(".km-content").toggleClass("km-insetcontent",d)}if(b){this._styleGroups()}this.trigger(v)},_enhanceItems:function(b){b.each(function(){var b=a(this),c,d=false;b.children().each(function(){c=a(this);if(c.is("a")){I(c);d=true}else if(c.is("label")){J(c);d=true}});if(!d){H(b)}})}});f.plugin(W)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.navbar",["kendo.core"],a)})(function(){var a={id:"mobile.navbar",name:"NavBar",category:"mobile",description:"The Kendo mobile NavBar widget is used inside a mobile View or Layout Header element to display an application navigation bar.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.mobile,e=d.ui,f=e.Widget;function g(b,d){var e=d.find("["+c.attr("align")+"="+b+"]");if(e[0]){return a('<div class="km-'+b+'item" />').append(e).prependTo(d)}}function h(b){var d=b.siblings(),e=!!b.children("ul")[0],f=!!d[0]&&a.trim(b.text())==="",g=!!(c.mobile.application&&c.mobile.application.element.is(".km-android"));b.prevAll().toggleClass("km-absolute",e);b.toggleClass("km-show-title",f);b.toggleClass("km-fill-title",f&&!a.trim(b.html()));b.toggleClass("km-no-title",e);b.toggleClass("km-hide-title",g&&!d.children().is(":visible"))}var i=f.extend({init:function(b,c){var d=this;f.fn.init.call(d,b,c);b=d.element;d.container().bind("show",a.proxy(this,"refresh"));b.addClass("km-navbar").wrapInner(a('<div class="km-view-title km-show-title" />'));d.leftElement=g("left",b);d.rightElement=g("right",b);d.centerElement=b.find(".km-view-title")},options:{name:"NavBar"},title:function(a){this.element.find(c.roleSelector("view-title")).text(a);h(this.centerElement)},refresh:function(a){var b=a.view;this.title(b.options.title)},destroy:function(){f.fn.destroy.call(this);c.destroy(this.element)}});e.plugin(i)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.scrollview",["kendo.fx","kendo.data","kendo.draganddrop"],a)})(function(){var a={id:"mobile.scrollview",name:"ScrollView",category:"mobile",description:"The Kendo Mobile ScrollView widget is used to scroll content wider than the device screen.",depends:["fx","data","draganddrop"]};(function(a,b){var c=window.kendo,d=c.mobile,e=d.ui,f=a.proxy,g=c.effects.Transition,h=c.ui.Pane,i=c.ui.PaneDimensions,j=e.DataBoundWidget,k=c.data.DataSource,l=c.data.Buffer,m=c.data.BatchBuffer,n=Math,o=n.abs,p=n.ceil,q=n.round,r=n.max,s=n.min,t=n.floor,u="change",v="changing",w="refresh",x="current-page",y="virtual-page",z="function",A="itemChange",B="cleanup",C=3,D=-1,E=0,F=1,G=-1,H=0,I=1;function J(a){return"k-"+a+" km-"+a}var K=c.Class.extend({init:function(b){var c=this,d=a("<ol class='"+J("pages")+"'/>");b.element.append(d);this._changeProxy=f(c,"_change");this._refreshProxy=f(c,"_refresh");b.bind(u,this._changeProxy);b.bind(w,this._refreshProxy);a.extend(c,{element:d,scrollView:b})},items:function(){return this.element.children()},_refresh:function(a){var b="";for(var c=0;c<a.pageCount;c++){b+="<li/>"}this.element.html(b);this.items().eq(a.page).addClass(J(x))},_change:function(a){this.items().removeClass(J(x)).eq(a.page).addClass(J(x))},destroy:function(){this.scrollView.unbind(u,this._changeProxy);this.scrollView.unbind(w,this._refreshProxy);this.element.remove()}});c.mobile.ui.ScrollViewPager=K;var L="transitionEnd",M="dragStart",N="dragEnd";var O=c.Observable.extend({init:function(b,d){var e=this;c.Observable.fn.init.call(this);this.element=b;this.container=b.parent();var f,j,k,l,m,n;f=new c.ui.Movable(e.element);j=new g({axis:"x",movable:f,onEnd:function(){e.trigger(L)}});k=new c.UserEvents(b,{fastTap:true,start:function(a){if(o(a.x.velocity)*2>=o(a.y.velocity)){k.capture()}else{k.cancel()}e.trigger(M,a);j.cancel()},allowSelection:true,end:function(a){e.trigger(N,a)}});l=new i({element:e.element,container:e.container});m=l.x;m.bind(u,function(){e.trigger(u)});n=new h({dimensions:l,userEvents:k,movable:f,elastic:true});a.extend(e,{duration:d&&d.duration||1,movable:f,transition:j,userEvents:k,dimensions:l,dimension:m,pane:n});this.bind([L,M,N,u],d)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(true)},refresh:function(){this.dimensions.refresh()},moveTo:function(a){this.movable.moveAxis("x",-a)},transitionTo:function(a,b,c){if(c){this.moveTo(-a)}else{this.transition.moveTo({location:a,duration:this.duration,ease:b})}}});c.mobile.ui.ScrollViewElasticPane=O;var P=c.Observable.extend({init:function(a,b,d){var e=this;c.Observable.fn.init.call(this);e.element=a;e.pane=b;e._getPages();this.page=0;this.pageSize=d.pageSize||1;this.contentHeight=d.contentHeight;this.enablePager=d.enablePager;this.pagerOverlay=d.pagerOverlay},scrollTo:function(a,b){this.page=a;this.pane.transitionTo(-a*this.pane.size().width,g.easeOutExpo,b)},paneMoved:function(a,b,c,d){var e=this,f=e.pane,h=f.size().width*e.pageSize,i=q,j=b?g.easeOutBack:g.easeOutExpo,k,l;if(a===G){i=p}else if(a===I){i=t}l=i(f.offset()/h);k=r(e.minSnap,s(-l*h,e.maxSnap));if(l!=e.page){if(c&&c({currentPage:e.page,nextPage:l})){k=-e.page*f.size().width}}f.transitionTo(k,j,d)},updatePage:function(){var a=this.pane,b=q(a.offset()/a.size().width);if(b!=this.page){this.page=b;return true}return false},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(a){var b=this.pane,d=a.width;this.pageElements.width(d);if(this.contentHeight==="100%"){var e=this.element.parent().height();if(this.enablePager===true){var f=this.element.parent().find("ol.km-pages");if(!this.pagerOverlay&&f.length){e-=c._outerHeight(f,true)}}this.element.css("height",e);this.pageElements.css("height",e)}b.updateDimension();if(!this._paged){this.page=t(b.offset()/d)}this.scrollTo(this.page,true);this.pageCount=p(b.total()/d);this.minSnap=-(this.pageCount-1)*d;this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find(c.roleSelector("page"));this._paged=this.pageElements.length>0}});c.mobile.ui.ScrollViewContent=P;var Q=c.Observable.extend({init:function(a,b,d){var e=this;c.Observable.fn.init.call(this);e.element=a;e.pane=b;e.options=d;e._templates();e.page=d.page||0;e.pages=[];e._initPages();e.resizeTo(e.pane.size());e.pane.dimension.forceEnabled()},setDataSource:function(a){this.dataSource=k.create(a);this._buffer();this._pendingPageRefresh=false;this._pendingWidgetRefresh=false},_viewShow:function(){var a=this;if(a._pendingWidgetRefresh){setTimeout(function(){a._resetPages()},0);a._pendingWidgetRefresh=false}},_buffer:function(){var a=this.options.itemsPerPage;if(this.buffer){this.buffer.destroy()}if(a>1){this.buffer=new m(this.dataSource,a)}else{this.buffer=new l(this.dataSource,a*3)}this._resizeProxy=f(this,"_onResize");this._resetProxy=f(this,"_onReset");this._endReachedProxy=f(this,"_onEndReached");this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var a=this.options.template,b=this.options.emptyTemplate,d={},e={};if(typeof a===z){d.template=a;a="#=this.template(data)#"}this.template=f(c.template(a),d);if(typeof b===z){e.emptyTemplate=b;b="#=this.emptyTemplate(data)#"}this.emptyTemplate=f(c.template(b),e)},_initPages:function(){var a=this.pages,b=this.element,c;for(var d=0;d<C;d++){c=new R(b);a.push(c)}this.pane.updateDimension()},resizeTo:function(a){var b=this.pages,d=this.pane;for(var e=0;e<b.length;e++){b[e].setWidth(a.width)}if(this.options.contentHeight==="auto"){this.element.css("height",this.pages[1].element.height())}else if(this.options.contentHeight==="100%"){var f=this.element.parent().height();if(this.options.enablePager===true){var g=this.element.parent().find("ol.km-pages");if(!this.options.pagerOverlay&&g.length){f-=c._outerHeight(g,true)}}this.element.css("height",f);b[0].element.css("height",f);b[1].element.css("height",f);b[2].element.css("height",f)}d.updateDimension();this._repositionPages();this.width=a.width},scrollTo:function(a){var b=this.buffer,c;b.syncDataSource();c=b.at(a);if(!c){return}this._updatePagesContent(a);this.page=a},paneMoved:function(a,b,d,e){var f=this,g=f.pane,h=g.size().width,i=g.offset(),j=Math.abs(i)>=h/3,k=b?c.effects.Transition.easeOutBack:c.effects.Transition.easeOutExpo,l=f.page+2>f.buffer.total(),m,n=0;if(a===I){if(f.page!==0){n=-1}}else if(a===G&&!l){n=1}else if(i>0&&(j&&!l)){n=1}else if(i<0&&j){if(f.page!==0){n=-1}}m=f.page;if(n){m=n>0?m+1:m-1}if(d&&d({currentPage:f.page,nextPage:m})){n=0}if(n===0){f._cancelMove(k,e)}else if(n===-1){f._moveBackward(e)}else if(n===1){f._moveForward(e)}},updatePage:function(){var a=this.pages;if(this.pane.offset()===0){return false}if(this.pane.offset()>0){a.push(this.pages.shift());this.page++;this.setPageContent(a[2],this.page+1)}else{a.unshift(this.pages.pop());this.page--;this.setPageContent(a[0],this.page-1)}this._repositionPages();this._resetMovable();return true},forcePageUpdate:function(){var a=this.pane.offset(),b=this.pane.size().width*3/4;if(o(a)>b){return this.updatePage()}return false},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(a){this.pane.transitionTo(-this.width,c.effects.Transition.easeOutExpo,a)},_moveBackward:function(a){this.pane.transitionTo(this.width,c.effects.Transition.easeOutExpo,a)},_cancelMove:function(a,b){this.pane.transitionTo(0,a,b)},_resetPages:function(){this.page=this.options.page||0;this._updatePagesContent(this.page);this._repositionPages();this.trigger("reset")},_onResize:function(){this.pageCount=p(this.dataSource.total()/this.options.itemsPerPage);if(this._pendingPageRefresh){this._updatePagesContent(this.page);this._pendingPageRefresh=false}this.trigger("resize")},_onReset:function(){this.pageCount=p(this.dataSource.total()/this.options.itemsPerPage);this._resetPages()},_onEndReached:function(){this._pendingPageRefresh=true},_repositionPages:function(){var a=this.pages;a[0].position(D);a[1].position(E);a[2].position(F)},_updatePagesContent:function(a){var b=this.pages,c=a||0;this.setPageContent(b[0],c-1);this.setPageContent(b[1],c);this.setPageContent(b[2],c+1)},setPageContent:function(b,d){var e=this.buffer,f=this.template,g=this.emptyTemplate,h=null;if(d>=0){h=e.at(d);if(a.isArray(h)&&!h.length){h=null}}this.trigger(B,{item:b.element});if(h!==null){b.content(f(h))}else{b.content(g({}))}c.mobile.init(b.element);this.trigger(A,{item:b.element,data:h,ns:c.mobile.ui})}});c.mobile.ui.VirtualScrollViewContent=Q;var R=c.Class.extend({init:function(b){this.element=a("<div class='"+J(y)+"'></div>");this.width=b.width();this.element.width(this.width);b.append(this.element)},content:function(a){this.element.html(a)},position:function(a){this.element.css("transform","translate3d("+this.width*a+"px, 0, 0)")},setWidth:function(a){this.width=a;this.element.width(a)}});c.mobile.ui.VirtualPage=R;var S=j.extend({init:function(a,b){var d=this;j.fn.init.call(d,a,b);b=d.options;a=d.element;c.stripWhitespace(a[0]);a.wrapInner("<div/>").addClass("k-widget "+J("scrollview"));if(this.options.enablePager){this.pager=new K(this);if(this.options.pagerOverlay){a.addClass(J("scrollview-overlay"))}}d.inner=a.children().first();d.page=0;d.inner.css("height",b.contentHeight);d.pane=new O(d.inner,{duration:this.options.duration,transitionEnd:f(this,"_transitionEnd"),dragStart:f(this,"_dragStart"),dragEnd:f(this,"_dragEnd"),change:f(this,w)});d.bind("resize",function(){d.pane.refresh()});d.page=b.page;var e=this.inner.children().length===0;var g=e?new Q(d.inner,d.pane,b):new P(d.inner,d.pane,b);g.page=d.page;g.bind("reset",function(){this._pendingPageRefresh=false;d._syncWithContent();d.trigger(w,{pageCount:g.pageCount,page:g.page})});g.bind("resize",function(){d.trigger(w,{pageCount:g.pageCount,page:g.page})});g.bind(A,function(a){d.trigger(A,a);d.angular("compile",function(){return{elements:a.item,data:[{dataItem:a.data}]}})});g.bind(B,function(a){d.angular("cleanup",function(){return{elements:a.item}})});d._content=g;d.setDataSource(b.dataSource);var h=d.container();if(h.nullObject){d.viewInit();d.viewShow()}else{h.bind("show",f(this,"viewShow")).bind("init",f(this,"viewInit"))}},options:{name:"ScrollView",page:0,duration:400,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:true,pagerOverlay:false,autoBind:true,template:"",emptyTemplate:""},events:[v,u,w],destroy:function(){j.fn.destroy.call(this);c.destroy(this.element)},viewInit:function(){if(this.options.autoBind){this._content.scrollTo(this._content.page,true)}},viewShow:function(){this.pane.refresh()},refresh:function(){var a=this._content;a.resizeTo(this.pane.size());this.page=a.page;this.trigger(w,{pageCount:a.pageCount,page:a.page})},content:function(a){this.element.children().first().html(a);this._content._getPages();this.pane.refresh()},value:function(a){var b=this.dataSource;if(a){this.scrollTo(b.indexOf(a),true)}else{return b.at(this.page)}},scrollTo:function(a,b){this._content.scrollTo(a,b);this._syncWithContent()},prev:function(){var a=this,c=a.page-1;if(a._content instanceof Q){a._content.paneMoved(I,b,function(b){return a.trigger(v,b)})}else if(c>-1){a.scrollTo(c)}},next:function(){var a=this,c=a.page+1;if(a._content instanceof Q){a._content.paneMoved(G,b,function(b){return a.trigger(v,b)})}else if(c<a._content.pageCount){a.scrollTo(c)}},setDataSource:function(a){if(!(this._content instanceof Q)){return}var b=!a;this.dataSource=k.create(a);this._content.setDataSource(this.dataSource);if(this.options.autoBind&&!b){this.dataSource.fetch()}},items:function(){return this.element.find(".km-"+y)},_syncWithContent:function(){var a=this._content.pages,c=this._content.buffer,d,e;this.page=this._content.page;d=c?c.at(this.page):b;if(!(d instanceof Array)){d=[d]}e=a?a[1].element:b;this.trigger(u,{page:this.page,element:e,data:d})},_dragStart:function(){if(this._content.forcePageUpdate()){this._syncWithContent()}},_dragEnd:function(a){var b=this,c=a.x.velocity,d=this.options.velocityThreshold,e=H,f=o(c)>this.options.bounceVelocityThreshold;if(c>d){e=I}else if(c<-d){e=G}this._content.paneMoved(e,f,function(a){return b.trigger(v,a)})},_transitionEnd:function(){if(this._content.updatePage()){this._syncWithContent()}}});e.plugin(S)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.switch",["kendo.fx","kendo.userevents"],a)})(function(){var a={id:"mobile.switch",name:"Switch",category:"mobile",description:"The mobile Switch widget is used to display two exclusive choices.",depends:["fx","userevents"]};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=c._outerWidth,f=d.Widget,g=c.support,h="change",i="switch-on",j="switch-off",k="margin-left",l="state-active",m="state-disabled",n="disabled",o=g.transitions.css===b?"":g.transitions.css,p=o+"transform",q=a.proxy;function r(a){return"k-"+a+" km-"+a}function s(a,b,c){return Math.max(b,Math.min(c,a))}var t='<span class="'+r("switch")+" "+r("widget")+'">        <span class="'+r("switch-wrapper")+'">            <span class="'+r("switch-background")+'"></span>        </span>         <span class="'+r("switch-container")+'">            <span class="'+r("switch-handle")+'">                 <span class="'+r("switch-label-on")+'">{0}</span>                 <span class="'+r("switch-label-off")+'">{1}</span>             </span>         </span>    </span>';var u=f.extend({init:function(b,d){var e=this,g;f.fn.init.call(e,b,d);d=e.options;e.wrapper=a(c.format(t,d.onLabel,d.offLabel));e.handle=e.wrapper.find(".km-switch-handle");e.background=e.wrapper.find(".km-switch-background");e.wrapper.insertBefore(e.element).prepend(e.element);e._drag();e.origin=parseInt(e.background.css(k),10);e.constrain=0;e.snapPoint=0;b=e.element[0];b.type="checkbox";e._animateBackground=true;g=e.options.checked;if(g===null){g=b.checked}e.check(g);e.options.enable=e.options.enable&&!e.element.attr(n);e.enable(e.options.enable);e.refresh();c.notify(e,c.mobile.ui)},refresh:function(){var a=this,b=e(a.handle,true);a.width=a.wrapper.width();a.constrain=a.width-b;a.snapPoint=a.constrain/2;if(typeof a.origin!="number"){a.origin=parseInt(a.background.css(k),10)}a.background.data("origin",a.origin);a.check(a.element[0].checked)},events:[h],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null,enable:true},check:function(a){var c=this,d=c.element[0];if(a===b){return d.checked}c._position(a?c.constrain:0);d.checked=a;c.wrapper.toggleClass(r(i),a).toggleClass(r(j),!a)},value:function(){return this.check.apply(this,arguments)},destroy:function(){f.fn.destroy.call(this);this.userEvents.destroy()},toggle:function(){var a=this;a.check(!a.element[0].checked)},enable:function(a){var b=this.element,c=this.wrapper;if(typeof a=="undefined"){a=true}this.options.enable=a;if(a){b.removeAttr(n)}else{b.attr(n,n)}c.toggleClass(r(m),!a)},_resize:function(){this.refresh()},_move:function(a){var b=this;a.preventDefault();b._position(s(b.position+a.x.delta,0,b.width-e(b.handle,true)))},_position:function(a){var b=this;b.position=a;b.handle.css(p,"translatex("+a+"px)");if(b._animateBackground){b.background.css(k,b.origin+a)}},_start:function(){if(!this.options.enable){this.userEvents.cancel()}else{this.userEvents.capture();this.handle.addClass(r(l))}},_stop:function(){var a=this;a.handle.removeClass(r(l));a._toggle(a.position>a.snapPoint)},_toggle:function(a){var b=this,d=b.handle,e=b.element[0],f=e.checked,g=c.mobile.application&&c.mobile.application.os.wp?100:200,k;b.wrapper.toggleClass(r(i),a).toggleClass(r(j),!a);b.position=k=a*b.constrain;if(b._animateBackground){b.background.kendoStop(true,true).kendoAnimate({effects:"slideMargin",offset:k,reset:true,reverse:!a,axis:"left",duration:g})}d.kendoStop(true,true).kendoAnimate({effects:"slideTo",duration:g,offset:k+"px,0",reset:true,complete:function(){if(f!==a){e.checked=a;b.trigger(h,{checked:a})}}})},_drag:function(){var a=this;a.userEvents=new c.UserEvents(a.wrapper,{fastTap:true,tap:function(){if(a.options.enable){a._toggle(!a.element[0].checked)}},start:q(a._start,a),move:q(a._move,a),end:q(a._stop,a)})}});d.plugin(u)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile.tabstrip",["kendo.core"],a)})(function(){var a={id:"mobile.tabstrip",name:"TabStrip",category:"mobile",description:"The mobile TabStrip widget is used inside a mobile view or layout footer element to display an application-wide group of navigation buttons.",depends:["core"]};(function(a,b){var c=window.kendo,d=c.mobile.ui,e=d.Widget,f="km-state-active",g="select";function h(b){return a('<span class="km-badge">'+b+"</span>")}var i=e.extend({init:function(b,c){var d=this;e.fn.init.call(d,b,c);d.container().bind("show",a.proxy(this,"refresh"));d.element.addClass("km-tabstrip").find("a").each(d._buildButton).eq(d.options.selectedIndex).addClass(f);d.element.on("down","a","_release")},events:[g],switchTo:function(b){var c=this.element.find("a"),d,e,f=0,g=c.length;if(isNaN(b)){for(;f<g;f++){d=c[f];e=d.href.replace(/(\#.+)(\?.+)$/,"$1");if(e.indexOf(b,e.length-b.length)!==-1){this._setActiveItem(a(d));return true}}}else{this._setActiveItem(c.eq(b));return true}return false},switchByFullUrl:function(a){var b;b=this.element.find("a[href$='"+a+"']");this._setActiveItem(b)},clear:function(){this.currentItem().removeClass(f)},currentItem:function(){return this.element.children("."+f)},badge:function(b,c){var d=this.element,e;if(!isNaN(b)){b=d.children().get(b)}b=d.find(b);e=a(b.find(".km-badge")[0]||h(c).insertAfter(b.children(".km-icon")));if(c||c===0){e.html(c);return this}if(c===false){e.empty().remove();return this}return e.html()},_release:function(b){if(b.which>1){return}var c=this,d=a(b.currentTarget);if(d[0]===c.currentItem()[0]){return}if(c.trigger(g,{item:d})){b.preventDefault()}else{c._setActiveItem(d)}},_setActiveItem:function(a){if(!a[0]){return}this.clear();a.addClass(f)},_buildButton:function(){var b=a(this),d=c.attrValue(b,"icon"),e=c.attrValue(b,"badge"),f=b.find("img"),g=a('<span class="km-icon"/>');b.addClass("km-button").attr(c.attr("role"),"tab").contents().not(f).wrapAll('<span class="km-text"/>');if(f[0]){f.addClass("km-image").prependTo(b)}else{b.prepend(g);if(d){g.addClass("km-"+d);if(e||e===0){h(e).insertAfter(g)}}}},refresh:function(a){var b=a.view.id;if(b&&!this.switchTo(a.view.id)){this.switchTo(b)}},options:{name:"TabStrip",selectedIndex:0,enable:true}});d.plugin(i)})(window.kendo.jQuery);return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.mobile",["kendo.core","kendo.fx","kendo.data.odata","kendo.data.xml","kendo.data","kendo.data.signalr","kendo.binder","kendo.validator","kendo.router","kendo.view","kendo.userevents","kendo.draganddrop","kendo.popup","kendo.touch","kendo.mobile.popover","kendo.mobile.loader","kendo.mobile.scroller","kendo.mobile.shim","kendo.mobile.view","kendo.mobile.modalview","kendo.mobile.drawer","kendo.mobile.splitview","kendo.mobile.pane","kendo.mobile.application","kendo.mobile.actionsheet","kendo.mobile.button","kendo.mobile.buttongroup","kendo.mobile.collapsible","kendo.mobile.listview","kendo.mobile.navbar","kendo.mobile.scrollview","kendo.mobile.switch","kendo.mobile.tabstrip","kendo.angular"],a)})(function(){"bundle all";return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a,b){b("kendo.all",["kendo.web","kendo.dataviz","kendo.mobile","kendo.drawing","kendo.dom"],a)})(function(){"bundle all";return window.kendo},typeof define=="function"&&define.amd?define:function(a,b,c){(c||b)()});(function(a){if(typeof define==="function"&&define.amd){define(["kendo.core"],a)}else{a()}})(function(){(function(a,b){kendo.cultures["en"]={name:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"",abbr:"",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM d, yyyy",F:"dddd, MMMM d, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM yyyy",Y:"MMMM yyyy"},"/":"/",":":":",firstDay:0}}}})(this)});(function(a){var b,c={},d={
16:false,18:false,17:false,91:false},e="all",f={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,command:91},g={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},h=function(a){return g[a]||a.toUpperCase().charCodeAt(0)},i=[];for(b=1;b<20;b++)g["f"+b]=111+b;function j(a,b){var c=a.length;while(c--)if(a[c]===b)return c;return-1}function k(a,b){if(a.length!=b.length)return false;for(var c=0;c<a.length;c++){if(a[c]!==b[c])return false}return true}var l={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function m(a){for(b in d)d[b]=a[l[b]]}function n(a){var b,e,g,h,k,l;b=a.keyCode;if(j(i,b)==-1){i.push(b)}if(b==93||b==224)b=91;if(b in d){d[b]=true;for(g in f)if(f[g]==b)q[g]=true;return}m(a);if(!q.filter.call(this,a))return;if(!(b in c))return;l=w();for(h=0;h<c[b].length;h++){e=c[b][h];if(e.scope==l||e.scope=="all"){k=e.mods.length>0;for(g in d)if(!d[g]&&j(e.mods,+g)>-1||d[g]&&j(e.mods,+g)==-1)k=false;if(e.mods.length==0&&!d[16]&&!d[18]&&!d[17]&&!d[91]||k){if(e.method(a,e)===false){if(a.preventDefault)a.preventDefault();else a.returnValue=false;if(a.stopPropagation)a.stopPropagation();if(a.cancelBubble)a.cancelBubble=true}}}}}function o(a){var b=a.keyCode,c,e=j(i,b);if(e>=0){i.splice(e,1)}if(b==93||b==224)b=91;if(b in d){d[b]=false;for(c in f)if(f[c]==b)q[c]=false}}function p(){for(b in d)d[b]=false;for(b in f)q[b]=false}function q(a,b,d){var e,f;e=y(a);if(d===undefined){d=b;b="all"}for(var g=0;g<e.length;g++){f=[];a=e[g].split("+");if(a.length>1){f=z(a);a=[a[a.length-1]]}a=a[0];a=h(a);if(!(a in c))c[a]=[];c[a].push({shortcut:e[g],scope:b,method:d,key:e[g],mods:f})}}function r(a,b){var d,e,f=[],g,i,j;d=y(a);for(i=0;i<d.length;i++){e=d[i].split("+");if(e.length>1){f=z(e);a=e[e.length-1]}a=h(a);if(b===undefined){b=w()}if(!c[a]){return}for(g=0;g<c[a].length;g++){j=c[a][g];if(j.scope===b&&k(j.mods,f)){c[a][g]={}}}}}function s(a){if(typeof a=="string"){a=h(a)}return j(i,a)!=-1}function t(){return i.slice(0)}function u(a){var b=(a.target||a.srcElement).tagName;return!(b=="INPUT"||b=="SELECT"||b=="TEXTAREA")}for(b in f)q[b]=false;function v(a){e=a||"all"}function w(){return e||"all"}function x(a){var b,d,e;for(b in c){d=c[b];for(e=0;e<d.length;){if(d[e].scope===a)d.splice(e,1);else e++}}}function y(a){var b;a=a.replace(/\s/g,"");b=a.split(",");if(b[b.length-1]==""){b[b.length-2]+=","}return b}function z(a){var b=a.slice(0,a.length-1);for(var c=0;c<b.length;c++)b[c]=f[b[c]];return b}function A(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else if(a.attachEvent)a.attachEvent("on"+b,function(){c(window.event)})}A(document,"keydown",function(a){n(a)});A(document,"keyup",o);A(window,"focus",p);var B=a.key;function C(){var b=a.key;a.key=B;return b}a.key=q;a.key.setScope=v;a.key.getScope=w;a.key.deleteScope=x;a.key.filter=u;a.key.isPressed=s;a.key.getPressedKeyCodes=t;a.key.noConflict=C;a.key.unbind=r;if(typeof module!=="undefined")module.exports=q})(this);/**
 * State-based routing for AngularJS
 * @version v0.4.3
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
if(typeof module!=="undefined"&&typeof exports!=="undefined"&&module.exports===exports){module.exports="ui.router"}(function(a,b,c){"use strict";var d=b.isDefined,e=b.isFunction,f=b.isString,g=b.isObject,h=b.isArray,i=b.forEach,j=b.extend,k=b.copy,l=b.toJson;function m(a,b){return j(new(j(function(){},{prototype:a})),b)}function n(a){i(arguments,function(b){if(b!==a){i(b,function(b,c){if(!a.hasOwnProperty(c))a[c]=b})}});return a}function o(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function p(a){if(Object.keys){return Object.keys(a)}var b=[];i(a,function(a,c){b.push(c)});return b}function q(a,b){if(Array.prototype.indexOf){return a.indexOf(b,Number(arguments[2])||0)}var c=a.length>>>0,d=Number(arguments[2])||0;d=d<0?Math.ceil(d):Math.floor(d);if(d<0)d+=c;for(;d<c;d++){if(d in a&&a[d]===b)return d}return-1}function r(a,b,c,d){var e=o(c,d),f,g={},h=[];for(var i in e){if(!e[i]||!e[i].params)continue;f=p(e[i].params);if(!f.length)continue;for(var k in f){if(q(h,f[k])>=0)continue;h.push(f[k]);g[f[k]]=a[f[k]]}}return j({},g,b)}function s(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return false}return true}function t(a,b){var c={};i(a,function(a){c[a]=b[a]});return c}function u(a,b){var c={};i(a,function(a){c[a[b]]=a});return c}function v(a){var b={};var c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));i(c,function(c){if(c in a)b[c]=a[c]});return b}function w(a){var b={};var c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a){if(q(c,d)==-1)b[d]=a[d]}return b}function x(a,b){var c=h(a)?[]:{};i(a,function(a,d){c[d]=e(b)?b(a):a[b]});return c}function y(a,b){var c=h(a);var d=c?[]:{};i(a,function(a,e){if(b(a,e)){d[c?d.length:e]=a}});return d}function z(a,b){var c=h(a)?[]:{};i(a,function(a,d){c[d]=b(a,d)});return c}function A(a){return a.then(c,function(){})&&a}b.module("ui.router.util",["ng"]);b.module("ui.router.router",["ui.router.util"]);b.module("ui.router.state",["ui.router.router","ui.router.util"]);b.module("ui.router",["ui.router.state"]);b.module("ui.router.compat",["ui.router"]);B.$inject=["$q","$injector"];function B(a,b){var e=1,h=2,k={},l=[],m=k,o=j(a.when(k),{$$promises:k,$$values:k});this.study=function(k){if(!g(k))throw new Error("'invocables' must be an object");var r=p(k||{});var s=[],t=[],u={};function v(a,c){if(u[c]===h)return;t.push(c);if(u[c]===e){t.splice(0,q(t,c));throw new Error("Cyclic dependency: "+t.join(" -> "))}u[c]=e;if(f(a)){s.push(c,[function(){return b.get(a)}],l)}else{var d=b.annotate(a);i(d,function(a){if(a!==c&&k.hasOwnProperty(a))v(k[a],a)});s.push(c,a,d)}t.pop();u[c]=h}i(k,v);k=t=u=null;function x(a){return g(a)&&a.then&&a.$$promises}return function(e,f,h){if(x(e)&&h===c){h=f;f=e;e=null}if(!e)e=m;else if(!g(e)){throw new Error("'locals' must be an object")}if(!f)f=o;else if(!x(f)){throw new Error("'parent' must be a promise returned by $resolve.resolve()")}var k=a.defer(),l=A(k.promise),p=l.$$promises={},q=j({},e),t=1+s.length/3,u=false;A(l);function v(){if(!--t){if(!u)n(q,f.$$values);l.$$values=q;l.$$promises=l.$$promises||true;delete l.$$inheritedValues;k.resolve(q)}}function y(a){l.$$failure=a;k.reject(a)}if(d(f.$$failure)){y(f.$$failure);return l}if(f.$$inheritedValues){n(q,w(f.$$inheritedValues,r))}j(p,f.$$promises);if(f.$$values){u=n(q,w(f.$$values,r));l.$$inheritedValues=w(f.$$values,r);v()}else{if(f.$$inheritedValues){l.$$inheritedValues=w(f.$$inheritedValues,r)}f.then(v,y)}for(var z=0,B=s.length;z<B;z+=3){if(e.hasOwnProperty(s[z]))v();else C(s[z],s[z+1],s[z+2])}function C(c,f,g){var j=a.defer(),k=0;function m(a){j.reject(a);y(a)}i(g,function(a){if(p.hasOwnProperty(a)&&!e.hasOwnProperty(a)){k++;p[a].then(function(b){q[a]=b;if(!--k)n()},m)}});if(!k)n();function n(){if(d(l.$$failure))return;try{j.resolve(b.invoke(f,h,q));j.promise.then(function(a){q[c]=a;v()},m)}catch(a){m(a)}}p[c]=A(j.promise)}return l}};this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}b.module("ui.router.util").service("$resolve",B);function C(){var a=b.version.minor<3;this.shouldUnsafelyUseHttp=function(b){a=!!b};this.$get=["$http","$templateCache","$injector",function(b,c,d){return new D(b,c,d,a)}]}function D(a,b,c,f){this.fromConfig=function(a,b,c){return d(a.template)?this.fromString(a.template,b):d(a.templateUrl)?this.fromUrl(a.templateUrl,b):d(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null};this.fromString=function(a,b){return e(a)?a(b):a};this.fromUrl=function(d,g){if(e(d))d=d(g);if(d==null)return null;else{if(!f){return c.get("$templateRequest")(d)}else{return a.get(d,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})}}};this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}b.module("ui.router.util").provider("$templateFactory",C);var E;function F(a,b,d){b=j({params:{}},g(b)?b:{});var e=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",i=0,k,l=this.segments=[],n=d?d.params:{},o=this.params=d?d.params.$$new():new E.ParamSet,p=[];function q(b,c,d,e){p.push(b);if(n[b])return n[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(o[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");o[b]=new E.Param(b,c,d,e);return o[b]}function r(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case false:e=["(",")"+(d?"?":"")];break;case true:f=f.replace(/\/$/,"");e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"];break}return f+e[0]+b+e[1]}this.source=a;function s(d,e){var f,g,h,j,k,l;f=d[2]||d[3];k=b.params[f];h=a.substring(i,d.index);g=e?d[4]:d[4]||(d[1]=="*"?".*":null);if(g){j=E.type(g)||m(E.type("string"),{pattern:new RegExp(g,b.caseInsensitive?"i":c)})}return{id:f,regexp:g,segment:h,type:j,cfg:k}}var t,u,v;while(k=e.exec(a)){t=s(k,false);if(t.segment.indexOf("?")>=0)break;u=q(t.id,t.type,t.cfg,"path");h+=r(t.segment,u.type.pattern.source,u.squash,u.isOptional);l.push(t.segment);i=e.lastIndex}v=a.substring(i);var w=v.indexOf("?");if(w>=0){var x=this.sourceSearch=v.substring(w);v=v.substring(0,w);this.sourcePath=a.substring(0,i+w);if(x.length>0){i=0;while(k=f.exec(x)){t=s(k,true);u=q(t.id,t.type,t.cfg,"search");i=e.lastIndex}}}else{this.sourcePath=a;this.sourceSearch=""}h+=r(v)+(b.strict===false?"/?":"")+"$";l.push(v);this.regexp=new RegExp(h,b.caseInsensitive?"i":c);this.prefix=l[0];this.$$paramNames=p}F.prototype.concat=function(a,b){var c={caseInsensitive:E.caseInsensitive(),strict:E.strictMode(),squash:E.defaultSquashPolicy()};return new F(this.sourcePath+a+this.sourceSearch,j(c,b),this)};F.prototype.toString=function(){return this.source};F.prototype.exec=function(a,b){var c=this.regexp.exec(a);if(!c)return null;b=b||{};var e=this.parameters(),f=e.length,g=this.segments.length-1,h={},i,j,k,l;if(g!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function m(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/);var e=z(d,b);return z(e,c).reverse()}var n,o;for(i=0;i<g;i++){l=e[i];n=this.params[l];o=c[i+1];for(j=0;j<n.replace.length;j++){if(n.replace[j].from===o)o=n.replace[j].to}if(o&&n.array===true)o=m(o);if(d(o))o=n.type.decode(o);h[l]=n.value(o)}for(;i<f;i++){l=e[i];h[l]=this.params[l].value(b[l]);n=this.params[l];o=b[l];for(j=0;j<n.replace.length;j++){if(n.replace[j].from===o)o=n.replace[j].to}if(d(o))o=n.type.decode(o);h[l]=n.value(o)}return h};F.prototype.parameters=function(a){if(!d(a))return this.$$paramNames;return this.params[a]||null};F.prototype.validates=function(a){return this.params.$$validates(a)};F.prototype.format=function(a){a=a||{};var b=this.segments,c=this.parameters(),d=this.params;if(!this.validates(a))return null;var e,g=false,i=b.length-1,j=c.length,k=b[0];function l(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}for(e=0;e<j;e++){var m=e<i;var n=c[e],o=d[n],p=o.value(a[n]);var q=o.isOptional&&o.type.equals(o.value(),p);var r=q?o.squash:false;var s=o.type.encode(p);if(m){var t=b[e+1];var u=e+1===i;if(r===false){if(s!=null){if(h(s)){k+=z(s,l).join("-")}else{k+=encodeURIComponent(s)}}k+=t}else if(r===true){var v=k.match(/\/$/)?/\/?(.*)/:/(.*)/;k+=t.match(v)[1]}else if(f(r)){k+=r+t}if(u&&o.squash===true&&k.slice(-1)==="/")k=k.slice(0,-1)}else{if(s==null||q&&r!==false)continue;if(!h(s))s=[s];if(s.length===0)continue;s=z(s,encodeURIComponent).join("&"+n+"=");k+=(g?"&":"?")+(n+"="+s);g=true}}return k};function G(a){j(this,a)}G.prototype.is=function(a,b){return true};G.prototype.encode=function(a,b){return a};G.prototype.decode=function(a,b){return a};G.prototype.equals=function(a,b){return a==b};G.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)};G.prototype.pattern=/.*/;G.prototype.toString=function(){return"{Type:"+this.name+"}"};G.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)};G.prototype.$asArray=function(a,b){if(!a)return this;if(a==="auto"&&!b)throw new Error("'auto' array mode is for query parameters only");function e(a,b){function e(a,b){return function(){return a[b].apply(a,arguments)}}function f(a){return h(a)?a:d(a)?[a]:[]}function g(a){switch(a.length){case 0:return c;case 1:return b==="auto"?a[0]:a;default:return a}}function i(a){return!a}function j(a,b){return function c(d){if(h(d)&&d.length===0)return d;d=f(d);var e=z(d,a);if(b===true)return y(e,i).length===0;return g(e)}}function k(a){return function b(c,d){var e=f(c),g=f(d);if(e.length!==g.length)return false;for(var h=0;h<e.length;h++){if(!a(e[h],g[h]))return false}return true}}this.encode=j(e(a,"encode"));this.decode=j(e(a,"decode"));this.is=j(e(a,"is"),true);this.equals=k(e(a,"equals"));this.pattern=a.pattern;this.$normalize=j(e(a,"$normalize"));this.name=a.name;this.$arrayMode=b}return new e(this,a)};function H(){E=this;var a=false,k=true,l=false;function n(a){return a!=null?a.toString().replace(/(~|\/)/g,function(a){return{"~":"~~","/":"~2F"}[a]}):a}function o(a){return a!=null?a.toString().replace(/(~~|~2F)/g,function(a){return{"~~":"~","~2F":"/"}[a]}):a}var r={},s=true,t=[],u,v={string:{encode:n,decode:o,is:function(a){return a==null||!d(a)||typeof a==="string"},pattern:/[^\/]*/},int:{encode:n,decode:function(a){return parseInt(a,10)},is:function(a){return a!==c&&a!==null&&this.decode(a.toString())===a},pattern:/-?\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return parseInt(a,10)!==0},is:function(a){return a===true||a===false},pattern:/0|1/},date:{encode:function(a){if(!this.is(a))return c;return[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-")},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};function w(){return{strict:k,caseInsensitive:a}}function x(a){return e(a)||h(a)&&e(a[a.length-1])}H.$$getDefaultValue=function(a){if(!x(a.value))return a.value;if(!u)throw new Error("Injectable functions cannot be called at configuration time");return u.invoke(a.value)};this.caseInsensitive=function(b){if(d(b))a=b;return a};this.strictMode=function(a){if(d(a))k=a;return k};this.defaultSquashPolicy=function(a){if(!d(a))return l;if(a!==true&&a!==false&&!f(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");l=a;return a};this.compile=function(a,b){return new F(a,j(w(),b))};this.isMatcher=function(a){if(!g(a))return false;var b=true;i(F.prototype,function(c,f){if(e(c)){b=b&&(d(a[f])&&e(a[f]))}});return b};this.type=function(a,b,c){if(!d(b))return r[a];if(r.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");r[a]=new G(j({name:a},b));if(c){t.push({name:a,def:c});if(!s)A()}return this};function A(){while(t.length){var a=t.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(r[a.name],u.invoke(a.def))}}i(v,function(a,b){r[b]=new G(j({name:b},a))});r=m(r,{});this.$get=["$injector",function(a){u=a;s=false;A();i(v,function(a,b){if(!r[b])r[b]=new G(a)});return this}];this.Param=function a(e,i,k,m){var n=this;k=w(k);i=A(k,i,m);var o=B();i=o?i.$asArray(o,m==="search"):i;if(i.name==="string"&&!o&&m==="path"&&k.value===c)k.value="";var s=k.value!==c;var t=C(k,s);var v=D(k,o,s,t);function w(a){var b=g(a)?p(a):[];var c=q(b,"value")===-1&&q(b,"type")===-1&&q(b,"squash")===-1&&q(b,"array")===-1;if(c)a={value:a};a.$$fn=x(a.value)?a.value:function(){return a.value};return a}function A(a,c,d){if(a.type&&c)throw new Error("Param '"+e+"' has two type configurations.");if(c)return c;if(!a.type)return d==="config"?r.any:r.string;if(b.isString(a.type))return r[a.type];if(a.type instanceof G)return a.type;return new G(a.type)}function B(){var a={array:m==="search"?"auto":false};var b=e.match(/\[\]$/)?{array:true}:{};return j(a,b,k).array}function C(a,b){var c=a.squash;if(!b||c===false)return false;if(!d(c)||c==null)return l;if(c===true||f(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function D(a,b,d,e){var g,i,j=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];g=h(a.replace)?a.replace:[];if(f(e))g.push({from:e,to:c});i=z(g,function(a){return a.from});return y(j,function(a){return q(i,a.from)===-1}).concat(g)}function E(){if(!u)throw new Error("Injectable functions cannot be called at configuration time");var a=u.invoke(k.$$fn);if(a!==null&&a!==c&&!n.type.is(a))throw new Error("Default value ("+a+") for parameter '"+n.id+"' is not an instance of Type ("+n.type.name+")");return a}function F(a){function b(a){return function(b){return b.from===a}}function c(a){var c=z(y(n.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}a=c(a);return!d(a)?E():n.type.$normalize(a)}function H(){return"{Param:"+e+" "+i+" squash: '"+t+"' optional: "+s+"}"}j(this,{id:e,type:i,location:m,array:o,squash:t,replace:v,isOptional:s,value:F,dynamic:c,config:k,toString:H})};function B(a){j(this,a||{})}B.prototype={$$new:function(){return m(this,j(new B,{$$parent:this}))},$$keys:function(){var a=[],b=[],c=this,d=p(B.prototype);while(c){b.push(c);c=c.$$parent}b.reverse();i(b,function(b){i(p(b),function(b){if(q(a,b)===-1&&q(d,b)===-1)a.push(b)})});return a},$$values:function(a){var b={},c=this;i(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])});return b},$$equals:function(a,b){var c=true,d=this;i(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];if(!d[e].type.equals(f,g))c=false});return c},$$validates:function a(d){var e=this.$$keys(),f,g,h,i,j;for(f=0;f<e.length;f++){g=this[e[f]];h=d[e[f]];if((h===c||h===null)&&g.isOptional)break;i=g.type.$normalize(h);if(!g.type.is(i))return false;j=g.type.encode(i);if(b.isString(j)&&!g.type.pattern.exec(j))return false}return true},$$parent:c};this.ParamSet=B}b.module("ui.router.util").provider("$urlMatcherFactory",H);b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]);I.$inject=["$locationProvider","$urlMatcherFactoryProvider"];function I(a,g){var i=[],k=null,l=false,m;function n(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return b!=null?b[1].replace(/\\(.)/g,"$1"):""}function o(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b[c==="$"?0:Number(c)]})}this.rule=function(a){if(!e(a))throw new Error("'rule' must be a function");i.push(a);return this};this.otherwise=function(a){if(f(a)){var b=a;a=function(){return b}}else if(!e(a))throw new Error("'rule' must be a function");k=a;return this};function p(a,b,c){if(!c)return false;var e=a.invoke(b,b,{$match:c});return d(e)?e:true}this.when=function(a,b){var c,d=f(b);if(f(a))a=g.compile(a);if(!d&&!e(b)&&!h(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){if(d){c=g.compile(b);b=["$match",function(a){return c.format(a)}]}return j(function(c,d){return p(c,b,a.exec(d.path(),d.search()))},{prefix:f(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");if(d){c=b;b=["$match",function(a){return o(c,a)}]}return j(function(c,d){return p(c,b,a.exec(d.path()))},{prefix:n(a)})}};var k={matcher:g.isMatcher(a),regex:a instanceof RegExp};for(var l in k){if(k[l])return this.rule(i[l](a,b))}throw new Error("invalid 'what' in when()")};this.deferIntercept=function(a){if(a===c)a=true;l=a};this.$get=q;q.$inject=["$location","$rootScope","$injector","$browser","$sniffer"];function q(d,e,g,h,j){var n=h.baseHref(),o=d.url(),p;function q(a,b,c){if(n==="/")return a;if(b)return n.slice(0,-1)+a;if(c)return n.slice(1)+a;return a}function r(a){if(a&&a.defaultPrevented)return;var b=p&&d.url()===p;p=c;function e(a){var b=a(g,d);if(!b)return false;if(f(b))d.replace().url(b);return true}var h=i.length,j;for(j=0;j<h;j++){if(e(i[j]))return}if(k)e(k)}function s(){m=m||e.$on("$locationChangeSuccess",r);return m}if(!l)s();return{sync:function(){r()},listen:function(){return s()},update:function(a){if(a){o=d.url();return}if(d.url()===o)return;d.url(o);d.replace()},push:function(a,b,e){var f=a.format(b||{});if(f!==null&&b&&b["#"]){f+="#"+b["#"]}d.url(f);p=e&&e.$$avoidResync?d.url():c;if(e&&e.replace)d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();if(b.isObject(g)){g=g.enabled}g=g&&j.history;var h=c.format(e);f=f||{};if(!g&&h!==null){h="#"+a.hashPrefix()+h}if(h!==null&&e&&e["#"]){h+="#"+e["#"]}h=q(h,g,f.absolute);if(!f.absolute||!h){return h}var i=!g&&h?"/":"",k=d.port();k=k===80||k===443?"":":"+k;return[d.protocol(),"://",d.host(),k,i,h].join("")}}}}b.module("ui.router.router").provider("$urlRouter",I);J.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];function J(a,l){var n,o={},u,w={},x="abstract";var y={parent:function(a){if(d(a.parent)&&a.parent)return C(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?C(b[1]):n},data:function(a){if(a.parent&&a.parent.data){a.data=a.self.data=m(a.parent.data,a.data)}return a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(f(b)){if(b.charAt(0)=="^")return l.compile(b.substring(1),c);return(a.parent.navigable||n).url.concat(b,c)}if(!b||l.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new E.ParamSet;i(a.params||{},function(a,c){if(!b[c])b[c]=new E.Param(c,null,a,"config")});return b},params:function(a){var b=v(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?j(a.parent.params.$$new(),b):new E.ParamSet},views:function(a){var b={};i(d(a.views)?a.views:{"":a},function(c,d){if(d.indexOf("@")<0)d+="@"+a.parent.name;c.resolveAs=c.resolveAs||a.resolveAs||"$resolve";b[d]=c});return b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?j({},a.parent.includes):{};b[a.name]=true;return b},$delegates:{}};function B(a){return a.indexOf(".")===0||a.indexOf("^")===0}function C(a,b){if(!a)return c;var d=f(a),e=d?a:a.name,g=B(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=C(b);var h=e.split("."),i=0,j=h.length,k=b;for(;i<j;i++){if(h[i]===""&&i===0){k=b;continue}if(h[i]==="^"){if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent;continue}break}h=h.slice(i).join(".");e=k.name+(k.name&&h?".":"")+h}var l=o[e];if(l&&(d||!d&&(l===a||l.self===a))){return l}return c}function D(a,b){if(!w[a]){w[a]=[]}w[a].push(b)}function F(a){var b=w[a]||[];while(b.length){G(b.shift())}}function G(b){b=m(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!f(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(o.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var d=c.indexOf(".")!==-1?c.substring(0,c.lastIndexOf(".")):f(b.parent)?b.parent:g(b.parent)&&f(b.parent.name)?b.parent.name:"";if(d&&!o[d]){return D(d,b.self)}for(var h in y){if(e(y[h]))b[h]=y[h](b,y.$delegates[h])}o[c]=b;if(!b[x]&&b.url){a.when(b.url,["$match","$stateParams",function(a,c){if(u.$current.navigable!=b||!s(a,c)){u.transitionTo(b,a,{inherit:true,location:false})}}])}F(c);return b}function H(a){return a.indexOf("*")>-1}function I(a){var b=a.split("."),c=u.$current.name.split(".");for(var d=0,e=b.length;d<e;d++){if(b[d]==="*"){c[d]="*"}}if(b[0]==="**"){c=c.slice(q(c,b[1]));c.unshift("**")}if(b[b.length-1]==="**"){c.splice(q(c,b[b.length-2])+1,Number.MAX_VALUE);c.push("**")}if(b.length!=c.length){return false}return c.join("")===b.join("")}n=G({name:"",url:"^",views:null,abstract:true});n.navigable=null;this.decorator=J;function J(a,b){if(f(a)&&!d(b)){return y[a]}if(!e(b)||!f(a)){return this}if(y[a]&&!y.$delegates[a]){y.$delegates[a]=y[a]}y[a]=b;return this}this.state=K;function K(a,b){if(g(a))b=a;else b.name=a;G(b);return this}this.$get=L;L.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"];function L(a,l,q,s,v,w,y,B,D){var E=new Error("transition superseded");var F=A(l.reject(E));var G=A(l.reject(new Error("transition prevented")));var J=A(l.reject(new Error("transition aborted")));var K=A(l.reject(new Error("transition failed")));function L(b,c,d,e){var f=a.$broadcast("$stateNotFound",b,c,d);if(f.defaultPrevented){y.update();return J}if(!f.retry){return null}if(e.$retry){y.update();return K}var g=u.transition=l.when(f.retry);g.then(function(){if(g!==u.transition){a.$broadcast("$stateChangeCancel",b.to,b.toParams,c,d);return F}b.options.$retry=true;return u.transitionTo(b.to,b.toParams,b.options)},function(){return J});y.update();return g}n.locals={resolve:null,globals:{$stateParams:{}}};u={params:{},current:n.self,$current:n,transition:null};u.reload=function a(b){return u.transitionTo(u.current,w,{reload:b||true,inherit:false,notify:true})};u.go=function a(b,c,d){return u.transitionTo(b,c,j({inherit:true,relative:u.$current},d))};u.transitionTo=function b(c,e,h){e=e||{};h=j({location:true,inherit:false,relative:null,notify:true,reload:false,$retry:false},h||{});var i=u.$current,o=u.params,p=i.path;var q,v=C(c,h.relative);var z=e["#"];if(!d(v)){var B={to:c,toParams:e,options:h};var D=L(B,i.self,o,h);if(D){return D}c=B.to;e=B.toParams;h=B.options;v=C(c,h.relative);if(!d(v)){if(!h.relative)throw new Error("No such state '"+c+"'");throw new Error("Could not resolve '"+c+"' from state '"+h.relative+"'")}}if(v[x])throw new Error("Cannot transition to abstract state '"+c+"'");if(h.inherit)e=r(w,e||{},u.$current,v);if(!v.params.$$validates(e))return K;e=v.params.$$values(e);c=v;var H=c.path;var I=0,J=H[I],O=n.locals,P=[];if(!h.reload){while(J&&J===p[I]&&J.ownParams.$$equals(e,o)){O=P[I]=J.locals;I++;J=H[I]}}else if(f(h.reload)||g(h.reload)){if(g(h.reload)&&!h.reload.name){throw new Error("Invalid reload state object")}var Q=h.reload===true?p[0]:C(h.reload);if(h.reload&&!Q){throw new Error("No such reload state '"+(f(h.reload)?h.reload:h.reload.name)+"'")}while(J&&J===p[I]&&J!==Q){O=P[I]=J.locals;I++;J=H[I]}}if(M(c,e,i,o,O,h)){if(z)e["#"]=z;u.params=e;k(u.params,w);k(t(c.params.$$keys(),w),c.locals.globals.$stateParams);if(h.location&&c.navigable&&c.navigable.url){y.push(c.navigable.url,e,{$$avoidResync:true,replace:h.location==="replace"});y.update(true)}u.transition=null;return l.when(u.current)}e=t(c.params.$$keys(),e||{});if(z)e["#"]=z;if(h.notify){if(a.$broadcast("$stateChangeStart",c.self,e,i.self,o,h).defaultPrevented){a.$broadcast("$stateChangeCancel",c.self,e,i.self,o);if(u.transition==null)y.update();return G}}var R=l.when(O);for(var S=I;S<H.length;S++,J=H[S]){O=P[S]=m(O);R=N(J,e,J===c,R,O,h)}var T=u.transition=R.then(function(){var b,d,f;if(u.transition!==T){a.$broadcast("$stateChangeCancel",c.self,e,i.self,o);return F}for(b=p.length-1;b>=I;b--){f=p[b];if(f.self.onExit){s.invoke(f.self.onExit,f.self,f.locals.globals)}f.locals=null}for(b=I;b<H.length;b++){d=H[b];d.locals=P[b];if(d.self.onEnter){s.invoke(d.self.onEnter,d.self,d.locals.globals)}}if(u.transition!==T){a.$broadcast("$stateChangeCancel",c.self,e,i.self,o);return F}u.$current=c;u.current=c.self;u.params=e;k(u.params,w);u.transition=null;if(h.location&&c.navigable){y.push(c.navigable.url,c.navigable.locals.globals.$stateParams,{$$avoidResync:true,replace:h.location==="replace"})}if(h.notify){a.$broadcast("$stateChangeSuccess",c.self,e,i.self,o)}y.update(true);return u.current}).then(null,function(b){if(b===E)return F;if(u.transition!==T){a.$broadcast("$stateChangeCancel",c.self,e,i.self,o);return F}u.transition=null;q=a.$broadcast("$stateChangeError",c.self,e,i.self,o,b);if(!q.defaultPrevented){y.update()}return l.reject(b)});A(T);return T};u.is=function a(b,e,f){f=j({relative:u.$current},f||{});var g=C(b,f.relative);if(!d(g)){return c}if(u.$current!==g){return false}return!e||p(e).reduce(function(a,b){var c=g.params[b];return a&&(!c||c.type.equals(w[b],e[b]))},true)};u.includes=function a(b,e,g){g=j({relative:u.$current},g||{});if(f(b)&&H(b)){if(!I(b)){return false}b=u.$current.name}var h=C(b,g.relative);if(!d(h)){return c}if(!d(u.$current.includes[h.name])){return false}if(!e){return true}var i=p(e);for(var k=0;k<i.length;k++){var l=i[k],m=h.params[l];if(m&&!m.type.equals(w[l],e[l])){return false}}return p(e).reduce(function(a,b){var c=h.params[b];return a&&!c||c.type.equals(w[b],e[b])},true)};u.href=function a(b,e,f){f=j({lossy:true,inherit:true,absolute:false,relative:u.$current},f||{});var g=C(b,f.relative);if(!d(g))return null;if(f.inherit)e=r(w,e||{},u.$current,g);var h=g&&f.lossy?g.navigable:g;if(!h||h.url===c||h.url===null){return null}return y.href(h.url,t(g.params.$$keys().concat("#"),e||{}),{absolute:f.absolute})};u.get=function(a,b){if(arguments.length===0)return z(p(o),function(a){return o[a].self});var c=C(a,b||u.$current);return c&&c.self?c.self:null};function N(a,c,d,f,g,j){var k=d?c:t(a.params.$$keys(),c);var m={$stateParams:k};g.resolve=v.resolve(a.resolve,m,g.resolve,a);var n=[g.resolve.then(function(a){g.globals=a})];if(f)n.push(f);function o(){var c=[];i(a.views,function(d,f){var i=d.resolve&&d.resolve!==a.resolve?d.resolve:{};i.$template=[function(){return q.load(f,{view:d,locals:g.globals,params:k,notify:j.notify})||""}];c.push(v.resolve(i,g.globals,g.resolve,a).then(function(c){if(e(d.controllerProvider)||h(d.controllerProvider)){var j=b.extend({},i,g.globals);c.$$controller=s.invoke(d.controllerProvider,null,j)}else{c.$$controller=d.controller}c.$$state=a;c.$$controllerAs=d.controllerAs;c.$$resolveAs=d.resolveAs;g[f]=c}))});return l.all(c).then(function(){return g.globals})}return l.all(n).then(o).then(function(a){return g})}return u}function M(a,b,c,d,e,f){function g(a,b,c){function d(b){return a.params[b].location!="search"}var e=a.params.$$keys().filter(d);var f=v.apply({},[a.params].concat(e));var g=new E.ParamSet(f);return g.$$equals(b,c)}if(!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===false&&g(c,d,b))){return true}}}b.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:true}).provider("$state",J).run(["$injector",function(a){if(a.get("$state.runtime").autoinject){a.get("$state")}}]);K.$inject=[];function K(){this.$get=a;a.$inject=["$rootScope","$templateFactory"];function a(a,b){return{load:function a(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:true,async:true,params:{}};d=j(f,d);if(d.view){e=b.fromConfig(d.view,d.params,d.locals)}return e}}}}b.module("ui.router.state").provider("$view",K);function L(){var a=false;this.useAnchorScroll=function(){a=true};this.$get=["$anchorScroll","$timeout",function(b,c){if(a){return b}return function(a){return c(function(){a[0].scrollIntoView()},0,false)}}]}b.module("ui.router.state").provider("$uiViewScroll",L);M.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"];function M(a,c,d,e,f){function g(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}var h=g(),i=h("$animator"),j=h("$animate");function k(a,c){var d=function(){return{enter:function(a,b,c){b.after(a);c()},leave:function(a,b){a.remove();b()}}};if(j){return{enter:function(a,c,d){if(b.version.minor>2){j.enter(a,null,c).then(d)}else{j.enter(a,null,c,d)}},leave:function(a,c){if(b.version.minor>2){j.leave(a).then(c)}else{j.leave(a,c)}}}}if(i){var e=i&&i(c,a);return{enter:function(a,b,c){e.enter(a,null,b);c()},leave:function(a,b){e.leave(a);b()}}}return d()}var l={restrict:"ECA",terminal:true,priority:400,transclude:"element",compile:function(c,g,h){return function(c,g,i){var j,l,m,n,o=i.onload||"",p=i.autoscroll,q=k(i,c),r=g.inheritedData("$uiView");c.$on("$stateChangeSuccess",function(){t(false)});t(true);function s(){if(j){j.remove();j=null}if(m){m.$destroy();m=null}if(l){var a=l.data("$uiViewAnim");q.leave(l,function(){a.$$animLeave.resolve();j=null});j=l;l=null}}function t(j){var k,r=O(c,i,g,e),t=r&&a.$current&&a.$current.locals[r];if(!j&&t===n)return;k=c.$new();n=a.$current.locals[r];k.$emit("$viewContentLoading",r);var u=h(k,function(a){var e=f.defer(),h=f.defer();var i={$animEnter:e.promise,$animLeave:h.promise,$$animLeave:h};a.data("$uiViewAnim",i);q.enter(a,g,function f(){e.resolve();if(m){m.$emit("$viewContentAnimationEnded")}if(b.isDefined(p)&&!p||c.$eval(p)){d(a)}});s()});l=u;m=k;m.$emit("$viewContentLoaded",r);m.$eval(o)}}}};return l}N.$inject=["$compile","$controller","$state","$interpolate"];function N(a,c,d,f){return{restrict:"ECA",priority:-400,compile:function(g){var h=g.html();if(g.empty){g.empty()}else{g[0].innerHTML=null}return function(g,i,j){var k=d.$current,l=O(g,j,i,f),m=k&&k.locals[l];if(!m){i.html(h);a(i.contents())(g);return}i.data("$uiView",{name:l,state:m.$$state});i.html(m.$template?m.$template:h);var n=b.extend({},m);g[m.$$resolveAs]=n;var o=a(i.contents());if(m.$$controller){m.$scope=g;m.$element=i;var p=c(m.$$controller,m);if(m.$$controllerAs){g[m.$$controllerAs]=p;g[m.$$controllerAs][m.$$resolveAs]=n}if(e(p.$onInit))p.$onInit();i.data("$ngControllerController",p);i.children().data("$ngControllerController",p)}o(g)}}}}function O(a,b,c,d){var e=d(b.uiView||b.name||"")(a);var f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}b.module("ui.router.state").directive("uiView",M);b.module("ui.router.state").directive("uiView",N);function P(a,b){var c=a.match(/^\s*({[^}]*})\s*$/),d;if(c)a=b+"("+c[1]+")";d=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!d||d.length!==4)throw new Error("Invalid state ref '"+a+"'");return{state:d[1],paramExpr:d[3]||null}}function Q(a){var b=a.parent().inheritedData("$uiView");if(b&&b.state&&b.state.name){return b.state}}function R(a){var b=Object.prototype.toString.call(a.prop("href"))==="[object SVGAnimatedString]";var c=a[0].nodeName==="FORM";return{attr:c?"action":b?"xlink:href":"href",isAnchor:a.prop("tagName").toUpperCase()==="A",clickable:!c}}function S(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){if(j--<=0)c.cancel(i)}}}}function T(a,b){return{relative:Q(a)||b.$current,inherit:true}}U.$inject=["$state","$timeout"];function U(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],
link:function(d,e,f,g){var h=P(f.uiSref,a.current.name);var i={state:h.state,href:null,params:null};var k=R(e);var l=g[1]||g[0];var m=null;var n;i.options=j(T(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var o=function(c){if(c)i.params=b.copy(c);i.href=a.href(h.state,i.params,i.options);if(m)m();if(l)m=l.$$addStateInfo(h.state,i.params);if(i.href!==null)f.$set(k.attr,i.href)};if(h.paramExpr){d.$watch(h.paramExpr,function(a){if(a!==i.params)o(a)},true);i.params=b.copy(d.$eval(h.paramExpr))}o();if(!k.clickable)return;n=S(e,a,c,k,function(){return i});e[e.on?"on":"bind"]("click",n);d.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",n)})}}}V.$inject=["$state","$timeout"];function V(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){var g=R(d);var h=f[1]||f[0];var i=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null];var j="["+i.map(function(a){return a||"null"}).join(", ")+"]";var k={state:null,params:null,options:null,href:null};var l=null;var m;function n(b){k.state=b[0];k.params=b[1];k.options=b[2];k.href=a.href(k.state,k.params,k.options);if(l)l();if(h)l=h.$$addStateInfo(k.state,k.params);if(k.href)e.$set(g.attr,k.href)}c.$watch(j,n,true);n(c.$eval(j));if(!g.clickable)return;m=S(d,a,b,g,function(){return k});d[d.on?"on":"bind"]("click",m);c.$on("$destroy",function(){d[d.off?"off":"unbind"]("click",m)})}}}W.$inject=["$state","$stateParams","$interpolate"];function W(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,h){var j=[],k={},m,n;m=c(e.uiSrefActiveEq||"",false)(b);try{n=b.$eval(e.uiSrefActive)}catch(a){}n=n||c(e.uiSrefActive||"",false)(b);if(g(n)){i(n,function(c,d){if(f(c)){var e=P(c,a.current.name);o(e.state,b.$eval(e.paramExpr),d)}})}this.$$addStateInfo=function(a,b){if(g(n)&&j.length>0){return}var c=o(a,b,n);q();return c};b.$on("$stateChangeSuccess",q);function o(b,c,e){var f=a.get(b,Q(d));var g=p(b,c);var h={state:f||{name:b},params:c,hash:g};j.push(h);k[g]=e;return function a(){var b=j.indexOf(h);if(b!==-1)j.splice(b,1)}}function p(a,c){if(!f(a)){throw new Error("state should be a string")}if(g(c)){return a+l(c)}c=b.$eval(c);if(g(c)){return a+l(c)}return a}function q(){for(var a=0;a<j.length;a++){if(t(j[a].state,j[a].params)){r(d,k[j[a].hash])}else{s(d,k[j[a].hash])}if(u(j[a].state,j[a].params)){r(d,m)}else{s(d,m)}}}function r(a,b){h(function(){a.addClass(b)})}function s(a,b){a.removeClass(b)}function t(b,c){return a.includes(b.name,c)}function u(b,c){return a.is(b.name,c)}q()}]}}b.module("ui.router.state").directive("uiSref",U).directive("uiSrefActive",W).directive("uiSrefActiveEq",W).directive("uiState",V);X.$inject=["$state"];function X(a){var b=function(b,c){return a.is(b,c)};b.$stateful=true;return b}Y.$inject=["$state"];function Y(a){var b=function(b,c,d){return a.includes(b,c,d)};b.$stateful=true;return b}b.module("ui.router.state").filter("isState",X).filter("includedByState",Y)})(window,window.angular);angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/popup.html","uib/template/datepicker/year.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]);angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){var h=c(g.expanding),i=c(g.expanded),j=c(g.collapsing),k=c(g.collapsed);if(!d.$eval(g.uibCollapse)){f.addClass("in").addClass("collapse").attr("aria-expanded",true).attr("aria-hidden",false).css({height:"auto"})}function l(){if(f.hasClass("collapse")&&f.hasClass("in")){return}b.resolve(h(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",true).attr("aria-hidden",false);if(e){e(f,{addClass:"in",easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start()["finally"](m)}else{a.addClass(f,"in",{to:{height:f[0].scrollHeight+"px"}}).then(m)}})}function m(){f.removeClass("collapsing").addClass("collapse").css({height:"auto"});i(d)}function n(){if(!f.hasClass("collapse")&&!f.hasClass("in")){return o()}b.resolve(j(d)).then(function(){f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",false).attr("aria-hidden",true);if(e){e(f,{removeClass:"in",to:{height:"0"}}).start()["finally"](o)}else{a.removeClass(f,"in",{to:{height:"0"}}).then(o)}})}function o(){f.css({height:"0"});f.removeClass("collapsing").addClass("collapse");k(d)}d.$watch(g.uibCollapse,function(a){if(a){n()}else{l()}})}}}]);angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:true}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[];this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;if(e){angular.forEach(this.groups,function(a){if(a!==d){a.isOpen=false}})}};this.addGroup=function(a){var b=this;this.groups.push(a);a.$on("$destroy",function(c){b.removeGroup(a)})};this.removeGroup=function(a){var b=this.groups.indexOf(a);if(b!==-1){this.groups.splice(b,1)}}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:true,replace:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a);a.openClass=c.openClass||"panel-open";a.panelClass=c.panelClass||"panel-default";a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c);if(c){d.closeOthers(a)}});a.toggleOpen=function(b){if(!a.isDisabled){if(!b||b.which===32){a.isOpen=!a.isOpen}}}}}}).directive("uibAccordionHeading",function(){return{transclude:true,template:"",replace:true,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.uibAccordionTransclude]},function(a){if(a){b.find("span").html("");b.find("span").append(a)}})}}});angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=angular.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;if(e){d(function(){a.close()},parseInt(e,10))}}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:true,replace:true,scope:{type:"@",close:"&"}}});angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active";this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1];var h=a(d.uibUncheckable);c.find("input").css({display:"none"});g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))};c.on(f.toggleEvent,function(){if(d.disabled){return}var a=c.hasClass(f.activeClass);if(!a||angular.isDefined(d.uncheckable)){b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio));g.$render()})}});if(d.uibUncheckable){b.$watch(h,function(a){d.$set("uncheckable",a?"":null)})}}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){var e=d[0],f=d[1];b.find("input").css({display:"none"});function g(){return i(c.btnCheckboxTrue,true)}function h(){return i(c.btnCheckboxFalse,false)}function i(b,c){return angular.isDefined(b)?a.$eval(b):c}f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,g()))};b.on(e.toggleEvent,function(){if(c.disabled){return}a.$apply(function(){f.$setViewValue(b.hasClass(e.activeClass)?h():g());f.$render()})})}}});angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){var f=this,g=f.slides=a.slides=[],h="uib-slideDirection",i=-1,j,k,l=[];f.currentSlide=null;var m=false;f.addSlide=function(b,c){b.$element=c;g.push(b);if(g.length===1||b.active){if(a.$currentTransition){a.$currentTransition=null}f.select(g[g.length-1]);if(g.length===1){a.play()}}else{b.active=false}};f.getCurrentIndex=function(){if(f.currentSlide&&angular.isDefined(f.currentSlide.index)){return+f.currentSlide.index}return i};f.next=a.next=function(){var b=(f.getCurrentIndex()+1)%g.length;if(b===0&&a.noWrap()){a.pause();return}return f.select(o(b),"next")};f.prev=a.prev=function(){var b=f.getCurrentIndex()-1<0?g.length-1:f.getCurrentIndex()-1;if(a.noWrap()&&b===g.length-1){a.pause();return}return f.select(o(b),"prev")};f.removeSlide=function(a){if(angular.isDefined(a.index)){g.sort(function(a,b){return+a.index>+b.index})}var b=l.indexOf(a);if(b!==-1){l.splice(b,1)}var c=g.indexOf(a);g.splice(c,1);d(function(){if(g.length>0&&a.active){if(c>=g.length){f.select(g[c-1])}else{f.select(g[c])}}else if(i>c){i--}});if(g.length===0){f.currentSlide=null;n()}};f.select=a.select=function(b,c){var d=a.indexOfSlide(b);if(c===undefined){c=d>f.getCurrentIndex()?"next":"prev"}if(b&&b!==f.currentSlide&&!a.$currentTransition){p(b,d,c)}else if(b&&b!==f.currentSlide&&a.$currentTransition){l.push(b);b.active=false}};a.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:g.indexOf(a)};a.isActive=function(a){return f.currentSlide===a};a.pause=function(){if(!a.noPause){k=false;q()}};a.play=function(){if(!k){k=true;s()}};a.$on("$destroy",function(){m=true;q()});a.$watch("noTransition",function(a){e.enabled(b,!a)});a.$watch("interval",s);a.$watchCollection("slides",r);function n(){while(l.length){l.shift()}}function o(a){if(angular.isUndefined(g[a].index)){return g[a]}for(var b=0,c=g.length;b<c;++b){if(g[b].index===a){return g[b]}}}function p(c,d,g){if(m){return}angular.extend(c,{direction:g,active:true});angular.extend(f.currentSlide||{},{direction:g,active:false});if(e.enabled(b)&&!a.$currentTransition&&c.$element&&f.slides.length>1){c.$element.data(h,c.direction);if(f.currentSlide&&f.currentSlide.$element){f.currentSlide.$element.data(h,c.direction)}a.$currentTransition=true;e.on("addClass",c.$element,function(b,c){if(c==="close"){a.$currentTransition=null;e.off("addClass",b);if(l.length){var d=l.pop();var g=a.indexOfSlide(d);var h=g>f.getCurrentIndex()?"next":"prev";n();p(d,g,h)}}})}f.currentSlide=c;i=d;s()}function q(){if(j){c.cancel(j);j=null}}function r(b){if(!b.length){a.$currentTransition=null;n()}}function s(){q();var b=+a.interval;if(!isNaN(b)&&b>0){j=c(t,b)}}function t(){var b=+a.interval;if(k&&!isNaN(b)&&b>0&&g.length){a.next()}else{a.pause()}}}]).directive("uibCarousel",function(){return{transclude:true,replace:true,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:true,replace:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b);a.$on("$destroy",function(){d.removeSlide(a)});a.$watch("active",function(b){if(b){d.select(a)}})}}}).animation(".item",["$animateCss",function(a){var b="uib-slideDirection";function c(a,b,c){a.removeClass(b);if(c){c()}}return{beforeAddClass:function(d,e,f){if(e==="active"){var g=false;var h=d.data(b);var i=h==="next"?"left":"right";var j=c.bind(this,d,i+" "+h,f);d.addClass(h);a(d,{addClass:i}).start().done(j);return function(){g=true}}f()},beforeRemoveClass:function(d,e,f){if(e==="active"){var g=false;var h=d.data(b);var i=h==="next"?"left":"right";var j=c.bind(this,d,i,f);a(d,{addClass:i}).start().done(j);return function(){g=true}}f()}}}]);angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(a,b,c){var d=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var e;var f;this.init=function(){e=b.id;this.parsers={};f=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a}},{key:"yy",regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|")},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|")},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){if(this.hours===12){this.hours=0}if(a==="PM"){this.hours+=12}}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=i(c+d);this.minutes+=i(c+e)}},{key:"ww",regex:"[0-4][0-9]|5[0-3]"},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]"},{key:"GGGG",regex:b.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s")},{key:"GGG",regex:b.DATETIME_FORMATS.ERAS.join("|")},{key:"GG",regex:b.DATETIME_FORMATS.ERAS.join("|")},{key:"G",regex:b.DATETIME_FORMATS.ERAS.join("|")}]};this.init();function g(a){var b=[],d=a.split("");var e=a.indexOf("'");if(e>-1){var g=false;a=a.split("");for(var h=e;h<a.length;h++){if(g){if(a[h]==="'"){if(h+1<a.length&&a[h+1]==="'"){a[h+1]="$";d[h+1]=""}else{d[h]="";g=false}}a[h]="$"}else{if(a[h]==="'"){a[h]="$";d[h]="";g=true}}}a=a.join("")}angular.forEach(f,function(c){var e=a.indexOf(c.key);if(e>-1){a=a.split("");d[e]="("+c.regex+")";a[e]="$";for(var f=e+1,g=e+c.key.length;f<g;f++){d[f]="";a[f]="$"}a=a.join("");b.push({index:e,apply:c.apply,matcher:c.regex})}});return{regex:new RegExp("^"+d.join("")+"$"),map:c(b,"index")}}this.parse=function(c,f,i){if(!angular.isString(c)||!f){return c}f=b.DATETIME_FORMATS[f]||f;f=f.replace(d,"\\$&");if(b.id!==e){this.init()}if(!this.parsers[f]){this.parsers[f]=g(f)}var j=this.parsers[f],k=j.regex,l=j.map,m=c.match(k),n=false;if(m&&m.length){var o,p;if(angular.isDate(i)&&!isNaN(i.getTime())){o={year:i.getFullYear(),month:i.getMonth(),date:i.getDate(),hours:i.getHours(),minutes:i.getMinutes(),seconds:i.getSeconds(),milliseconds:i.getMilliseconds()}}else{if(i){a.warn("dateparser:","baseDate is not a valid date")}o={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}}for(var q=1,r=m.length;q<r;q++){var s=l[q-1];if(s.matcher==="Z"){n=true}if(s.apply){s.apply.call(o,m[q])}}var t=n?Date.prototype.setUTCFullYear:Date.prototype.setFullYear;var u=n?Date.prototype.setUTCHours:Date.prototype.setHours;if(h(o.year,o.month,o.date)){if(angular.isDate(i)&&!isNaN(i.getTime())&&!n){p=new Date(i);t.call(p,o.year,o.month,o.date);u.call(p,o.hours,o.minutes,o.seconds,o.milliseconds)}else{p=new Date(0);t.call(p,o.year,o.month,o.date);u.call(p,o.hours||0,o.minutes||0,o.seconds||0,o.milliseconds||0)}}return p}};function h(a,b,c){if(c<1){return false}if(b===1&&c>28){return c===29&&(a%4===0&&a%100!==0||a%400===0)}if(b===3||b===5||b===8||b===10){return c<31}return true}function i(a){return parseInt(a,10)}this.toTimezone=j;this.fromTimezone=k;this.timezoneToOffset=l;this.addDateMinutes=m;this.convertTimezoneToLocal=n;function j(a,b){return a&&b?n(a,b):a}function k(a,b){return a&&b?n(a,b,true):a}function l(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function m(a,b){a=new Date(a.getTime());a.setMinutes(a.getMinutes()+b);return a}function n(a,b,c){c=c?-1:1;var d=l(b,a.getTimezoneOffset());return m(a,c*(d-a.getTimezoneOffset()))}}]);angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/;var c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;var d={};return{restrict:"A",compile:function(d,e){var f=[];var g=[];var h={};var i=null;var j=e.uibIsClass.match(b);var k=j[2];var l=j[1];var m=l.split(",");return n;function n(a,b,c){f.push(a);g.push({scope:a,element:b});m.forEach(function(b,c){o(b,a)});a.$on("$destroy",p)}function o(b,d){var e=b.match(c);var f=d.$eval(e[1]);var i=e[2];var j=h[b];if(!j){var l=function(b){var c=null;g.some(function(a){var d=a.scope.$eval(k);if(d===b){c=a;return true}});if(j.lastActivated!==c){if(j.lastActivated){a.removeClass(j.lastActivated.element,f)}if(c){a.addClass(c.element,f)}j.lastActivated=c}};h[b]=j={lastActivated:null,scope:d,watchFn:l,compareWithExp:i,watcher:d.$watch(i,l)}}j.watchFn(d.$eval(i))}function p(a){var b=a.targetScope;var c=f.indexOf(b);f.splice(c,1);g.splice(c,1);if(f.length){var d=f[0];angular.forEach(h,function(a){if(a.scope===b){a.watcher=d.$watch(a.compareWithExp,a.watchFn);a.scope=d}})}else{h={}}}}}}]);angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c;var d={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/};var e={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(a){return a[0]||a},parseStyle:function(a){a=parseFloat(a);return isFinite(a)?a:0},offsetParent:function(c){c=this.getRawNode(c);var d=c.offsetParent||a[0].documentElement;function e(a){return(b.getComputedStyle(a).position||"static")==="static"}while(d&&d!==a[0].documentElement&&e(d)){d=d.offsetParent}return d||a[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(c)){var b=angular.element('<div style="position: absolute; top: -9999px; width: 50px; height: 50px; overflow: scroll;"></div>');a.find("body").append(b);c=b[0].offsetWidth-b[0].clientWidth;c=isFinite(c)?c:0;b.remove()}return c},scrollParent:function(c,e){c=this.getRawNode(c);var f=e?d.hidden:d.normal;var g=a[0].documentElement;var h=b.getComputedStyle(c);var i=h.position==="absolute";var j=c.parentElement||g;if(j===g||h.position==="fixed"){return g}while(j.parentElement&&j!==g){var k=b.getComputedStyle(j);if(i&&k.position!=="static"){i=false}if(!i&&f.test(k.overflow+k.overflowY+k.overflowX)){break}j=j.parentElement}return j},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop);e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c);var h={top:0,left:0};if(g!==a[0].documentElement){h=this.offset(g);h.top+=g.clientTop-g.scrollTop;h.left+=g.clientLeft-g.scrollLeft}return{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c);e=e!==false?true:false;var f=c.getBoundingClientRect();var g={top:0,left:0,bottom:0,right:0};var h=d?a[0].documentElement:this.scrollParent(c);var i=h.getBoundingClientRect();g.top=i.top+h.clientTop;g.left=i.left+h.clientLeft;if(h===a[0].documentElement){g.top+=b.pageYOffset;g.left+=b.pageXOffset}g.bottom=g.top+h.clientHeight;g.right=g.left+h.clientWidth;if(e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop);g.bottom-=this.parseStyle(j.paddingBottom);g.left+=this.parseStyle(j.paddingLeft);g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=e.auto.test(a);if(b){a=a.replace(e.auto,"")}a=a.split("-");a[0]=a[0]||"top";if(!e.primary.test(a[0])){a[0]="top"}a[1]=a[1]||"center";if(!e.secondary.test(a[1])){a[1]="center"}if(b){a[2]=true}else{a[2]=false}return a},positionElements:function(a,c,d,f){a=this.getRawNode(a);c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth");var h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=f?this.offset(a):this.position(a);var j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a);var l=b.getComputedStyle(c);var m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};d[0]=d[0]==="top"&&m.height>k.top&&m.height<=k.bottom?"bottom":d[0]==="bottom"&&m.height>k.bottom&&m.height<=k.top?"top":d[0]==="left"&&m.width>k.left&&m.width<=k.right?"right":d[0]==="right"&&m.width>k.right&&m.width<=k.left?"left":d[0];d[1]=d[1]==="top"&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":d[1]==="bottom"&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":d[1]==="left"&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":d[1]==="right"&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1];if(d[1]==="center"){if(e.vertical.test(d[0])){var n=i.width/2-g/2;if(k.left+n<0&&m.width-i.width<=k.right){d[1]="left"}else if(k.right+n<0&&m.width-i.width<=k.left){d[1]="right"}}else{var o=i.height/2-m.height/2;if(k.top+o<0&&m.height-i.height<=k.bottom){d[1]="top"}else if(k.bottom+o<0&&m.height-i.height<=k.top){d[1]="bottom"}}}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width;break}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":if(e.vertical.test(d[0])){j.left=i.left+i.width/2-g/2}else{j.top=i.top+i.height/2-h/2}break}j.top=Math.round(j.top);j.left=Math.round(j.left);j.placement=d[1]==="center"?d[0]:d[0]+"-"+d[1];return j},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(!d){return}var f=angular.element(d).hasClass("tooltip-inner");var g=f?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(!g){return}c=this.parsePlacement(c);if(c[1]==="center"){angular.element(g).css({top:"",bottom:"",right:"",left:"",margin:""});return}var h="border-"+c[0]+"-width";var i=b.getComputedStyle(g)[h];var j="border-";if(e.vertical.test(c[0])){j+=c[0]+"-"+c[1]}else{j+=c[1]+"-"+c[0]}j+="-radius";var k=b.getComputedStyle(f?d:a)[j];var l={top:"auto",bottom:"auto",left:"auto",right:"auto",margin:0};switch(c[0]){case"top":l.bottom=f?"0":"-"+i;break;case"bottom":l.top=f?"0":"-"+i;break;case"left":l.right=f?"0":"-"+i;break;case"right":l.left=f?"0":"-"+i;break}l[c[1]]=k;angular.element(g).css(l)}}}]);angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",false).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:false,showWeeks:true,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDateParser",function(a,b,c,d,e,f,g,h,i,j){var k=this,l={$setViewValue:angular.noop},m={},n=[];this.modes=["day","month","year"];angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(c){k[c]=angular.isDefined(b[c])?d(b[c])(a.$parent):h[c]});angular.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(c){k[c]=angular.isDefined(b[c])?a.$parent.$eval(b[c]):h[c]});if(angular.isDefined(b.startingDay)){k.startingDay=a.$parent.$eval(b.startingDay)}else if(angular.isNumber(h.startingDay)){k.startingDay=h.startingDay}else{k.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7}angular.forEach(["minDate","maxDate"],function(c){if(b[c]){n.push(a.$parent.$watch(b[c],function(a){k[c]=a?angular.isDate(a)?j.fromTimezone(new Date(a),m.timezone):new Date(g(a,"medium")):null;k.refreshView()}))}else{k[c]=h[c]?j.fromTimezone(new Date(h[c]),m.timezone):null}});angular.forEach(["minMode","maxMode"],function(c){if(b[c]){n.push(a.$parent.$watch(b[c],function(d){k[c]=a[c]=angular.isDefined(d)?d:b[c];if(c==="minMode"&&k.modes.indexOf(a.datepickerMode)<k.modes.indexOf(k[c])||c==="maxMode"&&k.modes.indexOf(a.datepickerMode)>k.modes.indexOf(k[c])){a.datepickerMode=k[c]}}))}else{k[c]=a[c]=h[c]||null}});a.datepickerMode=a.datepickerMode||h.datepickerMode;a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(Math.random()*1e4);if(angular.isDefined(b.initDate)){this.activeDate=j.fromTimezone(a.$parent.$eval(b.initDate),m.timezone)||new Date;n.push(a.$parent.$watch(b.initDate,function(a){if(a&&(l.$isEmpty(l.$modelValue)||l.$invalid)){k.activeDate=j.fromTimezone(a,m.timezone);k.refreshView()}}))}else{this.activeDate=new Date}a.disabled=angular.isDefined(b.disabled)||false;if(angular.isDefined(b.ngDisabled)){n.push(a.$parent.$watch(b.ngDisabled,function(b){a.disabled=b;k.refreshView()}))}a.isActive=function(b){if(k.compare(b.date,k.activeDate)===0){a.activeDateId=b.uid;return true}return false};this.init=function(a){l=a;m=a.$options||h.ngModelOptions;if(l.$modelValue){this.activeDate=l.$modelValue}l.$render=function(){k.render()}};this.render=function(){if(l.$viewValue){var a=new Date(l.$viewValue),b=!isNaN(a);if(b){this.activeDate=j.fromTimezone(a,m.timezone)}else if(!i){f.error('Datepicker directive: "ng-model" value must be a Date object')}}this.refreshView()};this.refreshView=function(){if(this.element){a.selectedDt=null;this._refreshView();if(a.activeDt){a.activeDateId=a.activeDt.uid}var b=l.$viewValue?new Date(l.$viewValue):null;b=j.fromTimezone(b,m.timezone);l.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}};this.createDateObject=function(b,c){var d=l.$viewValue?new Date(l.$viewValue):null;d=j.fromTimezone(d,m.timezone);var e={date:b,label:g(b,c.replace(/d!/,"dd")).replace(/M!/,"MM"),selected:d&&this.compare(b,d)===0,disabled:this.isDisabled(b),current:this.compare(b,new Date)===0,customClass:this.customClass(b)||null};if(d&&this.compare(b,d)===0){a.selectedDt=e}if(k.activeDate&&this.compare(e.date,k.activeDate)===0){a.activeDt=e}return e};this.isDisabled=function(c){return a.disabled||this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})};this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})};this.split=function(a,b){var c=[];while(a.length>0){c.push(a.splice(0,b))}return c};a.select=function(b){if(a.datepickerMode===k.minMode){var c=l.$viewValue?j.fromTimezone(new Date(l.$viewValue),m.timezone):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate());c=j.toTimezone(c,m.timezone);l.$setViewValue(c);l.$render()}else{k.activeDate=b;a.datepickerMode=k.modes[k.modes.indexOf(a.datepickerMode)-1]}};a.move=function(a){var b=k.activeDate.getFullYear()+a*(k.step.years||0),c=k.activeDate.getMonth()+a*(k.step.months||0);k.activeDate.setFullYear(b,c,1);k.refreshView()};a.toggleMode=function(b){b=b||1;if(a.datepickerMode===k.maxMode&&b===1||a.datepickerMode===k.minMode&&b===-1){return}a.datepickerMode=k.modes[k.modes.indexOf(a.datepickerMode)+b]};a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var o=function(){k.element[0].focus()};a.$on("uib:datepicker.focus",o);a.keydown=function(b){var c=a.keys[b.which];if(!c||b.shiftKey||b.altKey||a.disabled){return}b.preventDefault();if(!k.shortcutPropagation){b.stopPropagation()}if(c==="enter"||c==="space"){if(k.isDisabled(k.activeDate)){return}a.select(k.activeDate)}else if(b.ctrlKey&&(c==="up"||c==="down")){a.toggleMode(c==="up"?1:-1)}else{k.handleKeyDown(c,b);k.refreshView()}};a.$on("$destroy",function(){while(n.length){n.shift()()}})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){var d=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1};this.element=b;function e(a,b){return b===1&&a%4===0&&(a%100!==0||a%400===0)?29:d[b]}this.init=function(b){angular.extend(b,this);a.showWeeks=b.showWeeks;b.refreshView()};this.getDates=function(a,b){var c=new Array(b),d=new Date(a),e=0,f;while(e<b){f=new Date(d);c[e++]=f;d.setDate(d.getDate()+1)}return c};this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),e=new Date(this.activeDate);e.setFullYear(b,d,1);var g=this.startingDay-e.getDay(),h=g>0?7-g:-g,i=new Date(e);if(h>0){
i.setDate(-h+1)}var j=this.getDates(i,42);for(var k=0;k<42;k++){j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k})}a.labels=new Array(7);for(var l=0;l<7;l++){a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")}}a.title=c(this.activeDate,this.formatDayTitle);a.rows=this.split(j,7);if(a.showWeeks){a.weekNumbers=[];var m=(4+7-this.startingDay)%7,n=a.rows.length;for(var o=0;o<n;o++){a.weekNumbers.push(f(a.rows[o][m].date))}}};this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate());var d=new Date(b.getFullYear(),b.getMonth(),b.getDate());c.setFullYear(a.getFullYear());d.setFullYear(b.getFullYear());return c-d};function f(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((c-b)/864e5)/7)+1}this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if(a==="left"){c=c-1}else if(a==="up"){c=c-7}else if(a==="right"){c=c+1}else if(a==="down"){c=c+7}else if(a==="pageup"||a==="pagedown"){var d=this.activeDate.getMonth()+(a==="pageup"?-1:1);this.activeDate.setMonth(d,1);c=Math.min(e(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else if(a==="home"){c=1}else if(a==="end"){c=e(this.activeDate.getFullYear(),this.activeDate.getMonth())}this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1};this.element=b;this.init=function(a){angular.extend(a,this);a.refreshView()};this._refreshView=function(){var b=new Array(12),d=this.activeDate.getFullYear(),e;for(var f=0;f<12;f++){e=new Date(this.activeDate);e.setFullYear(d,f,1);b[f]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:a.uniqueId+"-"+f})}a.title=c(this.activeDate,this.formatMonthTitle);a.rows=this.split(b,3)};this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth());var d=new Date(b.getFullYear(),b.getMonth());c.setFullYear(a.getFullYear());d.setFullYear(b.getFullYear());return c-d};this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if(a==="left"){c=c-1}else if(a==="up"){c=c-3}else if(a==="right"){c=c+1}else if(a==="down"){c=c+3}else if(a==="pageup"||a==="pagedown"){var d=this.activeDate.getFullYear()+(a==="pageup"?-1:1);this.activeDate.setFullYear(d)}else if(a==="home"){c=0}else if(a==="end"){c=11}this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){var d,e;this.element=b;function f(a){return parseInt((a-1)/e,10)*e+1}this.yearpickerInit=function(){d=this.yearColumns;e=this.yearRows*d;this.step={years:e}};this._refreshView=function(){var b=new Array(e),c;for(var g=0,h=f(this.activeDate.getFullYear());g<e;g++){c=new Date(this.activeDate);c.setFullYear(h+g,0,1);b[g]=angular.extend(this.createDateObject(c,this.formatYear),{uid:a.uniqueId+"-"+g})}a.title=[b[0].label,b[e-1].label].join(" - ");a.rows=this.split(b,d);a.columns=d};this.compare=function(a,b){return a.getFullYear()-b.getFullYear()};this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();if(a==="left"){c=c-1}else if(a==="up"){c=c-d}else if(a==="right"){c=c+1}else if(a==="down"){c=c+d}else if(a==="pageup"||a==="pagedown"){c+=(a==="pageup"?-1:1)*e}else if(a==="home"){c=f(this.activeDate.getFullYear())}else if(a==="end"){c=f(this.activeDate.getFullYear())+e-1}this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{replace:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{replace:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]);e.yearpickerInit();e.refreshView()}}}).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:false,clearText:"Clear",closeOnDateSelection:true,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:true,showButtonBar:true}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n={},o=false;var p,q,r,s,t,u,v,w,x,y,z,A,B=[];a.watchData={};this.init=function(h){x=h;y=h.$options||m.ngModelOptions;q=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):k.closeOnDateSelection;r=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):k.appendToBody;s=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):k.onOpenFocus;t=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:k.datepickerPopupTemplateUrl;u=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:k.datepickerTemplateUrl;A=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):k.altInputFormats;a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):k.showButtonBar;if(k.html5Types[c.type]){p=k.html5Types[c.type];o=true}else{p=c.uibDatepickerPopup||k.datepickerPopup;c.$observe("uibDatepickerPopup",function(a,b){var c=a||k.datepickerPopup;if(c!==p){p=c;x.$modelValue=null;if(!p){throw new Error("uibDatepickerPopup must have a date format specified.")}}})}if(!p){throw new Error("uibDatepickerPopup must have a date format specified.")}if(o&&c.uibDatepickerPopup){throw new Error("HTML5 date input types do not support custom formats.")}v=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>");a.ngModelOptions=angular.copy(y);a.ngModelOptions.timezone=null;v.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":t});w=angular.element(v.children()[0]);w.attr("template-url",u);if(o){if(c.type==="month"){w.attr("datepicker-mode",'"month"');w.attr("min-mode","month")}}if(c.datepickerOptions){var l=a.$parent.$eval(c.datepickerOptions);if(l&&l.initDate){a.initDate=j.fromTimezone(l.initDate,y.timezone);w.attr("init-date","initDate");delete l.initDate}angular.forEach(l,function(a,b){w.attr(C(b),a)})}angular.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(b){if(c[b]){var d=e(c[b]);var f={get:function(){return d(a.$parent)}};w.attr(C(b),"watchData."+b);if(b==="datepickerMode"){var g=d.assign;f.set=function(b){g(a.$parent,b)}}Object.defineProperty(a.watchData,b,f)}});angular.forEach(["minDate","maxDate","initDate"],function(b){if(c[b]){var d=e(c[b]);B.push(a.$parent.$watch(d,function(c){if(b==="minDate"||b==="maxDate"){if(c===null){n[b]=null}else if(angular.isDate(c)){n[b]=j.fromTimezone(new Date(c),y.timezone)}else{n[b]=new Date(i(c,"medium"))}a.watchData[b]=c===null?null:n[b]}else{a.watchData[b]=j.fromTimezone(new Date(c),y.timezone)}}));w.attr(C(b),"watchData."+b)}});if(c.dateDisabled){w.attr("date-disabled","dateDisabled({ date: date, mode: mode })")}angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(a){if(angular.isDefined(c[a])){w.attr(C(a),c[a])}});if(c.customClass){w.attr("custom-class","customClass({ date: date, mode: mode })")}if(!o){x.$$parserName="date";x.$validators.date=F;x.$parsers.unshift(E);x.$formatters.push(function(b){if(x.$isEmpty(b)){a.date=b;return b}a.date=j.fromTimezone(b,y.timezone);p=p.replace(/M!/,"MM").replace(/d!/,"dd");return i(a.date,p)})}else{x.$formatters.push(function(b){a.date=j.fromTimezone(b,y.timezone);return b})}x.$viewChangeListeners.push(function(){a.date=D(x.$viewValue)});b.bind("keydown",H);z=d(v)(a);v.remove();if(r){f.find("body").append(z)}else{b.after(z)}a.$on("$destroy",function(){if(a.isOpen===true){if(!g.$$phase){a.$apply(function(){a.isOpen=false})}}z.remove();b.unbind("keydown",H);f.unbind("click",G);while(B.length){B.shift()()}})};a.getText=function(b){return a[b+"Text"]||k[b+"Text"]};a.isDisabled=function(b){if(b==="today"){b=new Date}return a.watchData.minDate&&a.compare(b,n.minDate)<0||a.watchData.maxDate&&a.compare(b,n.maxDate)>0};a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())};a.dateSelection=function(c){if(angular.isDefined(c)){a.date=c}var d=a.date?i(a.date,p):null;b.val(d);x.$setViewValue(d);if(q){a.isOpen=false;b[0].focus()}};a.keydown=function(c){if(c.which===27){c.stopPropagation();a.isOpen=false;b[0].focus()}};a.select=function(b){if(b==="today"){var c=new Date;if(angular.isDate(a.date)){b=new Date(a.date);b.setFullYear(c.getFullYear(),c.getMonth(),c.getDate())}else{b=new Date(c.setHours(0,0,0,0))}}a.dateSelection(b)};a.close=function(){a.isOpen=false;b[0].focus()};a.disabled=angular.isDefined(c.disabled)||false;if(c.ngDisabled){B.push(a.$parent.$watch(e(c.ngDisabled),function(b){a.disabled=b}))}a.$watch("isOpen",function(c){if(c){if(!a.disabled){a.position=r?h.offset(b):h.position(b);a.position.top=a.position.top+b.prop("offsetHeight");l(function(){if(s){a.$broadcast("uib:datepicker.focus")}f.bind("click",G)},0,false)}else{a.isOpen=false}}else{f.unbind("click",G)}});function C(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function D(b){var c=j.parse(b,p,a.date);if(isNaN(c)){for(var d=0;d<A.length;d++){c=j.parse(b,A[d],a.date);if(!isNaN(c)){return c}}}return c}function E(a){if(angular.isNumber(a)){a=new Date(a)}if(!a){return null}if(angular.isDate(a)&&!isNaN(a)){return a}if(angular.isString(a)){var b=D(a);if(!isNaN(b)){return j.toTimezone(b,y.timezone)}}return x.$options&&x.$options.allowInvalid?a:undefined}function F(a,b){var d=a||b;if(!c.ngRequired&&!d){return true}if(angular.isNumber(d)){d=new Date(d)}if(!d){return true}if(angular.isDate(d)&&!isNaN(d)){return true}if(angular.isString(d)){return!isNaN(D(b))}return false}function G(c){if(!a.isOpen&&a.disabled){return}var d=z[0];var e=b[0].contains(c.target);var f=d.contains!==undefined&&d.contains(c.target);if(a.isOpen&&!(e||f)){a.$apply(function(){a.isOpen=false})}}function H(c){if(c.which===27&&a.isOpen){c.preventDefault();c.stopPropagation();a.$apply(function(){a.isOpen=false});b[0].focus()}else if(c.which===40&&!a.isOpen){c.preventDefault();c.stopPropagation();a.$apply(function(){a.isOpen=true})}}}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:true,transclude:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/popup.html"}}});angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this;var f=Array.prototype.slice.call(arguments);if(d){a.cancel(d)}d=a(function(){b.apply(e,f)},c)}}}]);angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){if(!c){a.on("click",d);a.on("keydown",e)}if(c&&c!==b){c.isOpen=false}c=b};this.close=function(b){if(c===b){c=null;a.off("click",d);a.off("keydown",e)}};var d=function(a){if(!c){return}if(a&&c.getAutoClose()==="disabled"){return}if(a&&a.which===3){return}var d=c.getToggleElement();if(a&&d&&d[0].contains(a.target)){return}var e=c.getDropdownElement();if(a&&c.getAutoClose()==="outsideClick"&&e&&e[0].contains(a.target)){return}c.isOpen=false;if(!b.$$phase){c.$apply()}};var e=function(a){if(a.which===27){c.focusToggleElement();d()}else if(c.isKeynavEnabled()&&[38,40].indexOf(a.which)!==-1&&c.isOpen){a.preventDefault();a.stopPropagation();c.focusDropdownEntry(a.which)}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l=this,m=a.$new(),n,o=e.appendToOpenClass,p=e.openClass,q,r=angular.noop,s=c.onToggle?d(c.onToggle):angular.noop,t=false,u=null,v=false,w=null,x=i.find("body");b.addClass("dropdown");this.init=function(){if(c.isOpen){q=d(c.isOpen);r=q.assign;a.$watch(q,function(a){m.isOpen=!!a})}if(angular.isDefined(c.dropdownAppendTo)){var e=d(c.dropdownAppendTo)(m);if(e){u=angular.element(e)}}t=angular.isDefined(c.dropdownAppendToBody);v=angular.isDefined(c.keyboardNav);if(t&&!u){u=x}if(u&&l.dropdownMenu){u.append(l.dropdownMenu);b.on("$destroy",function a(){l.dropdownMenu.remove()})}};this.toggle=function(a){return m.isOpen=arguments.length?!!a:!m.isOpen};this.isOpen=function(){return m.isOpen};m.getToggleElement=function(){return l.toggleElement};m.getAutoClose=function(){return c.autoClose||"always"};m.getElement=function(){return b};m.isKeynavEnabled=function(){return v};m.focusDropdownEntry=function(a){var c=l.dropdownMenu?angular.element(l.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:{if(!angular.isNumber(l.selectedOption)){l.selectedOption=0}else{l.selectedOption=l.selectedOption===c.length-1?l.selectedOption:l.selectedOption+1}break}case 38:{if(!angular.isNumber(l.selectedOption)){l.selectedOption=c.length-1}else{l.selectedOption=l.selectedOption===0?0:l.selectedOption-1}break}}c[l.selectedOption].focus()};m.getDropdownElement=function(){return l.dropdownMenu};m.focusToggleElement=function(){if(l.toggleElement){l.toggleElement[0].focus()}};m.$watch("isOpen",function(c,d){if(u&&l.dropdownMenu){var e=h.positionElements(b,l.dropdownMenu,"bottom-left",true),i,q;i={top:e.top+"px",display:c?"block":"none"};q=l.dropdownMenu.hasClass("dropdown-menu-right");if(!q){i.left=e.left+"px";i.right="auto"}else{i.left="auto";i.right=window.innerWidth-(e.left+b.prop("offsetWidth"))+"px"}if(!t){var v=h.offset(u);i.top=e.top-v.top+"px";if(!q){i.left=e.left-v.left+"px"}else{i.right=window.innerWidth-(e.left-v.left+b.prop("offsetWidth"))+"px"}}l.dropdownMenu.css(i)}var w=u?u:b;g[c?"addClass":"removeClass"](w,u?o:p).then(function(){if(angular.isDefined(c)&&c!==d){s(a,{open:!!c})}});if(c){if(l.dropdownMenuTemplateUrl){k(l.dropdownMenuTemplateUrl).then(function(a){n=m.$new();j(a.trim())(n,function(a){var b=a;l.dropdownMenu.replaceWith(b);l.dropdownMenu=b})})}m.focusToggleElement();f.open(m)}else{if(l.dropdownMenuTemplateUrl){if(n){n.$destroy()}var x=angular.element('<ul class="dropdown-menu"></ul>');l.dropdownMenu.replaceWith(x);l.dropdownMenu=x}f.close(m);l.selectedOption=null}if(angular.isFunction(r)){r(a,c)}});a.$on("$locationChangeSuccess",function(){if(m.getAutoClose()!=="disabled"){m.isOpen=false}})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(!d||angular.isDefined(c.dropdownNested)){return}b.addClass("dropdown-menu");var e=c.templateUrl;if(e){d.dropdownMenuTemplateUrl=e}if(!d.dropdownMenu){d.dropdownMenu=b}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(!d){return}b.addClass("dropdown-toggle");d.toggleElement=b;var e=function(e){e.preventDefault();if(!b.hasClass("disabled")&&!c.disabled){a.$apply(function(){d.toggle()})}};b.bind("click",e);b.attr({"aria-haspopup":true,"aria-expanded":false});a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)});a.$on("$destroy",function(){b.unbind("click",e)})}}});angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++){if(b===a[c].key){return a[c]}}},keys:function(){var b=[];for(var c=0;c<a.length;c++){b.push(a[c].key)}return b},top:function(){return a[a.length-1]},remove:function(b){var c=-1;for(var d=0;d<a.length;d++){if(b===a[d].key){c=d;break}}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}});angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){if(!a[b]){a[b]=[]}a[b].push(c)},remove:function(b,c){var d=a[b];if(!d){return}var e=d.indexOf(c);if(e!==-1){d.splice(e,1)}if(!d.length){delete a[b]}}}}}}).provider("$uibResolve",function(){var a=this;this.resolver=null;this.setResolver=function(a){this.resolver=a};this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d){return d.resolve(a,e,f,g)}var h=[];angular.forEach(a,function(a){if(angular.isFunction(a)||angular.isArray(a)){h.push(c.resolve(b.invoke(a)))}else if(angular.isString(a)){h.push(c.resolve(b.get(a)))}else{h.push(c.resolve(a))}});return c.all(h).then(function(b){var c={};var d=0;angular.forEach(a,function(a,e){c[e]=b[d++]});return c})}}}]}).directive("uibModalBackdrop",["$animateCss","$injector","$uibModalStack",function(a,b,c){return{replace:true,templateUrl:"uib/template/modal/backdrop.html",compile:function(a,b){a.addClass(b.backdropClass);return d}};function d(b,d,e){if(e.modalInClass){a(d,{addClass:e.modalInClass}).start();b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();if(b.modalOptions.animation){a(d,{removeClass:e.modalInClass}).start().then(g)}else{g()}})}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$animateCss","$document",function(a,b,c,d,e){return{scope:{index:"@"},replace:true,transclude:true,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(f,g,h){g.addClass(h.windowClass||"");g.addClass(h.windowTopClass||"");f.size=h.size;f.close=function(b){var c=a.getTop();if(c&&c.value.backdrop&&c.value.backdrop!=="static"&&b.target===b.currentTarget){b.preventDefault();b.stopPropagation();a.dismiss(c.key,"backdrop click")}};g.on("click",f.close);f.$isRendered=true;var i=b.defer();h.$observe("modalRender",function(a){if(a==="true"){i.resolve()}});i.promise.then(function(){var i=null;if(h.modalInClass){i=d(g,{addClass:h.modalInClass}).start();f.$on(a.NOW_CLOSING_EVENT,function(a,b){var e=b();if(d){d(g,{removeClass:h.modalInClass}).start().then(e)}else{c.removeClass(g,h.modalInClass).then(e)}})}b.when(i).then(function(){if(!(e[0].activeElement&&g[0].contains(e[0].activeElement))){var a=g[0].querySelector("[autofocus]");if(a){a.focus()}else{g[0].focus()}}});var j=a.getTop();if(j){a.modalRendered(j.key)}})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){if(b.modalAnimation){a.addClass(b.uibModalAnimationClass)}}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty();b.append(a)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h){var i="modal-open";var j,k;var l=h.createNew();var m=g.createNew();var n={NOW_CLOSING_EVENT:"modal.stack.now-closing"};var o;var p=0;var q="a[href], area[href], input:not([disabled]), "+"button:not([disabled]),select:not([disabled]), textarea:not([disabled]), "+"iframe, object, embed, *[tabindex], *[contenteditable=true]";function r(){var a=-1;var b=l.keys();for(var c=0;c<b.length;c++){if(l.get(b[c]).value.backdrop){a=c}}return a}e.$watch(r,function(a){if(k){k.index=a}});function s(a,b){var c=l.get(a).value;var d=c.appendTo;l.remove(a);v(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||i;m.remove(b,a);d.toggleClass(b,m.hasKey(b));t(true)});u();if(b&&b.focus){b.focus()}else if(d.focus){d.focus()}}function t(a){var b;if(l.length()>0){b=l.top().value;b.modalDomEl.toggleClass(b.windowTopClass||"",a)}}function u(){if(j&&r()===-1){var a=k;v(j,k,function(){a=null});j=undefined;k=undefined}}function v(a,c,d,e){var g;var h=null;var i=function(){if(!g){g=f.defer();h=g.promise}return function a(){g.resolve()}};c.$broadcast(n.NOW_CLOSING_EVENT,i);return f.when(h).then(j);function j(){if(j.done){return}j.done=true;b(a,{event:"leave"}).start().then(function(){a.remove();if(e){e.resolve()}});c.$destroy();if(d){d()}}}c.on("keydown",w);e.$on("$destroy",function(){c.off("keydown",w)});function w(a){if(a.isDefaultPrevented()){return a}var b=l.top();if(b){switch(a.which){case 27:{if(b.value.keyboard){a.preventDefault();e.$apply(function(){n.dismiss(b.key,"escape key press")})}break}case 9:{n.loadFocusElementList(b);var c=false;if(a.shiftKey){if(n.isFocusInFirstItem(a)){c=n.focusLastFocusableElement()}}else{if(n.isFocusInLastItem(a)){c=n.focusFirstFocusableElement()}}if(c){a.preventDefault();a.stopPropagation()}break}}}}n.open=function(b,f){var g=c[0].activeElement,h=f.openedClass||i;t(false);l.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo});m.put(h,b);var o=f.appendTo,p=r();if(!o.length){throw new Error("appendTo element not found. Make sure that the element passed is in DOM.")}if(p>=0&&!j){k=e.$new(true);k.modalOptions=f;k.index=p;j=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');j.attr("backdrop-class",f.backdropClass);if(f.animation){j.attr("modal-animation","true")}d(j)(k);a.enter(j,o)}var q=angular.element('<div uib-modal-window="modal-window"></div>');q.attr({"template-url":f.windowTemplateUrl,"window-class":f.windowClass,"window-top-class":f.windowTopClass,size:f.size,index:l.length()-1,animate:"animate"}).html(f.content);if(f.animation){q.attr("modal-animation","true")}a.enter(d(q)(f.scope),o).then(function(){a.addClass(o,h)});l.top().value.modalDomEl=q;l.top().value.modalOpener=g;n.clearFocusListCache()};function x(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}n.close=function(a,b){var c=l.get(a);if(c&&x(c,b,true)){c.value.modalScope.$$uibDestructionScheduled=true;c.value.deferred.resolve(b);s(a,c.value.modalOpener);return true}return!c};n.dismiss=function(a,b){var c=l.get(a);if(c&&x(c,b,false)){c.value.modalScope.$$uibDestructionScheduled=true;c.value.deferred.reject(b);s(a,c.value.modalOpener);return true}return!c};n.dismissAll=function(a){var b=this.getTop();while(b&&this.dismiss(b.key,a)){b=this.getTop()}};n.getTop=function(){return l.top()};n.modalRendered=function(a){var b=l.get(a);if(b){b.value.renderDeferred.resolve()}};n.focusFirstFocusableElement=function(){if(o.length>0){o[0].focus();return true}return false};n.focusLastFocusableElement=function(){if(o.length>0){o[o.length-1].focus();return true}return false};n.isFocusInFirstItem=function(a){if(o.length>0){return(a.target||a.srcElement)===o[0]}return false};n.isFocusInLastItem=function(a){if(o.length>0){return(a.target||a.srcElement)===o[o.length-1]}return false};n.clearFocusListCache=function(){o=[];p=0};n.loadFocusElementList=function(a){if(o===undefined||!o.length){if(a){var b=a.value.modalDomEl;if(b&&b.length){o=b[0].querySelectorAll(q)}}}};return n}]).provider("$uibModal",function(){var a={options:{animation:true,backdrop:true,keyboard:true},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){var i={};function j(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var k=null;i.getPromiseChain=function(){return k};i.open=function(e){var i=c.defer();var l=c.defer();var m=c.defer();var n=c.defer();var o={result:i.promise,opened:l.promise,closed:m.promise,rendered:n.promise,close:function(a){return h.close(o,a)},dismiss:function(a){return h.dismiss(o,a)}};e=angular.extend({},a.options,e);e.resolve=e.resolve||{};e.appendTo=e.appendTo||d.find("body").eq(0);if(!e.template&&!e.templateUrl){throw new Error("One of template or templateUrl options is required.")}var p=c.all([j(e),g.resolve(e.resolve,{},null,null)]);function q(){return p}var r;r=k=c.all([k]).then(q,q).then(function a(c){var d=e.scope||b;var g=d.$new();g.$close=o.close;g.$dismiss=o.dismiss;g.$on("$destroy",function(){if(!g.$$uibDestructionScheduled){g.$dismiss("$uibUnscheduledDestruction")}});var j,k={};if(e.controller){k.$scope=g;k.$uibModalInstance=o;angular.forEach(c[1],function(a,b){k[b]=a});j=f(e.controller,k);if(e.controllerAs){if(e.bindToController){j.$close=g.$close;j.$dismiss=g.$dismiss;angular.extend(j,d)}g[e.controllerAs]=j}}h.open(o,{scope:g,deferred:i,renderDeferred:n,closedDeferred:m,content:c[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo});l.resolve(true)},function a(b){l.reject(b);i.reject(b)})["finally"](function(){if(k===r){k=null}});return o};return i}]};return a});angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop;b.ngModelCtrl={$setViewValue:angular.noop};b._watchers=[];b.init=function(e,f){b.ngModelCtrl=e;b.config=f;e.$render=function(){b.render()};if(d.itemsPerPage){b._watchers.push(c.$parent.$watch(a(d.itemsPerPage),function(a){b.itemsPerPage=parseInt(a,10);c.totalPages=b.calculateTotalPages();b.updatePage()}))}else{b.itemsPerPage=f.itemsPerPage}c.$watch("totalItems",function(a,d){if(angular.isDefined(a)||a!==d){c.totalPages=b.calculateTotalPages();b.updatePage()}})};b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)};b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1};c.selectPage=function(a,d){if(d){d.preventDefault()}var e=!c.ngDisabled||!d;if(e&&c.page!==a&&a>0&&a<=c.totalPages){if(d&&d.target){d.target.blur()}b.ngModelCtrl.$setViewValue(a);b.ngModelCtrl.$render()}};c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]};c.noPrevious=function(){return c.page===1};c.noNext=function(){return c.page===c.totalPages};b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages);if(c.page>c.totalPages){c.selectPage(c.totalPages)}else{b.ngModelCtrl.$render()}};c.$on("$destroy",function(){while(b._watchers.length){b._watchers.shift()()}})}}}]);angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align;c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"Â« Previous",nextText:"Next Â»",align:true}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},replace:true,link:function(b,c,d,e){var f=e[0],g=e[1];if(!g){return}f.init(g,a)}}}]);angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){var f=this;var g=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,h=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,i=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,j=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks;a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks;d.create(this,a,b);if(b.maxSize){f._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){g=parseInt(a,10);f.render()}))}function k(a,b,c){return{number:a,text:b,active:c}}function l(a,b){var c=[];var d=1,e=b;var f=angular.isDefined(g)&&g<b;if(f){if(h){d=Math.max(a-Math.floor(g/2),1);e=d+g-1;if(e>b){e=b;d=e-g+1}}else{d=(Math.ceil(a/g)-1)*g+1;e=Math.min(d+g-1,b)}}for(var l=d;l<=e;l++){var m=k(l,l,l===a);c.push(m)}if(f&&g>0&&(!h||i||j)){if(d>1){if(!j||d>3){var n=k(d-1,"...",false);c.unshift(n)}if(j){if(d===3){var o=k(2,"2",false);c.unshift(o)}var p=k(1,"1",false);c.unshift(p)}}if(e<b){if(!j||e<b-2){var q=k(e+1,"...",false);c.push(q)}if(j){if(e===b-2){var r=k(b-1,b-1,false);c.push(r)}var s=k(b,b,false);c.push(s)}}}return c}var m=this.render;this.render=function(){m();if(a.page>0&&a.page<=a.totalPages){a.pages=l(a.page,a.totalPages)}}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:false,boundaryLinkNumbers:false,directionLinks:true,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:true,forceEllipses:false}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},replace:true,link:function(a,c,d,e){var f=e[0],g=e[1];if(!g){return}f.init(g,b)}}}]);angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var a={placement:"top",placementClassPrefix:"",animation:true,popupDelay:0,popupCloseDelay:0,useContentExp:false};var b={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""};var c={};this.options=function(a){angular.extend(c,a)};this.setTriggers=function a(c){angular.extend(b,c)};function d(a){var b=/[A-Z]/g;var c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){var n=m.createNew();h.on("keypress",o);k.$on("$destroy",function(){h.off("keypress",o)});function o(a){if(a.which===27){var b=n.top();if(b){b.value.close();n.removeTop();b=null}}}return function e(k,m,o,p){p=angular.extend({},a,c,p);function q(a){var c=(a||p.trigger||o).split(" ");var d=c.map(function(a){return b[a]||a});return{show:c,hide:d}}var r=d(k);var s=j.startSymbol();var t=j.endSymbol();var u="<div "+r+"-popup "+'title="'+s+"title"+t+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+s+"content"+t+'" ')+'placement="'+s+"placement"+t+'" '+'popup-class="'+s+"popupClass"+t+'" '+'animation="animation" '+'is-open="isOpen"'+'origin-scope="origScope" '+'style="visibility: hidden; display: block; top: -9999px; left: -9999px;"'+">"+"</div>";
return{compile:function(a,b){var c=f(u);return function a(b,d,e,f){var j;var o;var r;var s;var t;var u;var v=angular.isDefined(p.appendToBody)?p.appendToBody:false;var w=q(undefined);var x=angular.isDefined(e[m+"Enable"]);var y=b.$new(true);var z=false;var A=angular.isDefined(e[m+"IsOpen"])?l(e[m+"IsOpen"]):false;var B=p.useContentExp?l(e[k]):false;var C=[];var D=function(){if(!j||!j.html()){return}if(!u){u=g(function(){j.css({top:0,left:0});var a=i.positionElements(d,j,y.placement,v);j.css({top:a.top+"px",left:a.left+"px",visibility:"visible"});if(p.placementClassPrefix){j.removeClass("top bottom left right")}j.removeClass(p.placementClassPrefix+"top "+p.placementClassPrefix+"top-left "+p.placementClassPrefix+"top-right "+p.placementClassPrefix+"bottom "+p.placementClassPrefix+"bottom-left "+p.placementClassPrefix+"bottom-right "+p.placementClassPrefix+"left "+p.placementClassPrefix+"left-top "+p.placementClassPrefix+"left-bottom "+p.placementClassPrefix+"right "+p.placementClassPrefix+"right-top "+p.placementClassPrefix+"right-bottom");var b=a.placement.split("-");j.addClass(b[0]+" "+p.placementClassPrefix+a.placement);i.positionArrow(j,a.placement);u=null},0,false)}};y.origScope=b;y.isOpen=false;n.add(y,{close:J});function E(){if(!y.isOpen){F()}else{G()}}function F(){if(x&&!b.$eval(e[m+"Enable"])){return}K();N();if(y.popupDelay){if(!s){s=g(H,y.popupDelay,false)}}else{H()}}function G(){I();if(y.popupCloseDelay){if(!t){t=g(J,y.popupCloseDelay,false)}}else{J()}}function H(){I();K();if(!y.content){return angular.noop}L();y.$evalAsync(function(){y.isOpen=true;O(true);D()})}function I(){if(s){g.cancel(s);s=null}if(u){g.cancel(u);u=null}}function J(){if(!y){return}y.$evalAsync(function(){if(y){y.isOpen=false;O(false);if(y.animation){if(!r){r=g(M,150,false)}}else{M()}}})}function K(){if(t){g.cancel(t);t=null}if(r){g.cancel(r);r=null}}function L(){if(j){return}o=y.$new();j=c(o,function(a){if(v){h.find("body").append(a)}else{d.after(a)}});P()}function M(){I();K();Q();if(j){j.remove();j=null}if(o){o.$destroy();o=null}}function N(){y.title=e[m+"Title"];if(B){y.content=B(b)}else{y.content=e[k]}y.popupClass=e[m+"Class"];y.placement=angular.isDefined(e[m+"Placement"])?e[m+"Placement"]:p.placement;var a=parseInt(e[m+"PopupDelay"],10);var c=parseInt(e[m+"PopupCloseDelay"],10);y.popupDelay=!isNaN(a)?a:p.popupDelay;y.popupCloseDelay=!isNaN(c)?c:p.popupCloseDelay}function O(a){if(A&&angular.isFunction(A.assign)){A.assign(b,a)}}y.contentExp=function(){return y.content};e.$observe("disabled",function(a){if(a){I()}if(a&&y.isOpen){J()}});if(A){b.$watch(A,function(a){if(y&&!a===y.isOpen){E()}})}function P(){C.length=0;if(B){C.push(b.$watch(B,function(a){y.content=a;if(!a&&y.isOpen){J()}}));C.push(o.$watch(function(){if(!z){z=true;o.$$postDigest(function(){z=false;if(y&&y.isOpen){D()}})}}))}else{C.push(e.$observe(k,function(a){y.content=a;if(!a&&y.isOpen){J()}else{D()}}))}C.push(e.$observe(m+"Title",function(a){y.title=a;if(y.isOpen){D()}}));C.push(e.$observe(m+"Placement",function(a){y.placement=a?a:p.placement;if(y.isOpen){D()}}))}function Q(){if(C.length){angular.forEach(C,function(a){a()});C.length=0}}function R(a){if(!y||!y.isOpen||!j){return}if(!d[0].contains(a.target)&&!j[0].contains(a.target)){G()}}var S=function(){w.show.forEach(function(a){if(a==="outsideClick"){d.off("click",E)}else{d.off(a,F);d.off(a,E)}});w.hide.forEach(function(a){if(a==="outsideClick"){h.off("click",R)}else{d.off(a,G)}})};function T(){var a=e[m+"Trigger"];S();w=q(a);if(w.show!=="none"){w.show.forEach(function(a,b){if(a==="outsideClick"){d.on("click",E);h.on("click",R)}else if(a===w.hide[b]){d.on(a,E)}else if(a){d.on(a,F);d.on(w.hide[b],G)}d.on("keypress",function(a){if(a.which===27){G()}})})}}T();var U=b.$eval(e[m+"Animation"]);y.animation=angular.isDefined(U)?!!U:p.animation;var V;var W=m+"AppendToBody";if(W in e&&e[W]===undefined){V=true}else{V=b.$eval(e[W])}v=angular.isDefined(V)?V:v;if(v){b.$on("$locationChangeSuccess",function a(){if(y.isOpen){J()}})}b.$on("$destroy",function a(){S();M();n.remove(y);y=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h=e.$eval(g.tooltipTemplateTranscludeScope);var i=0,j,k,l;var m=function(){if(k){k.remove();k=null}if(j){j.$destroy();j=null}if(l){a.leave(l).then(function(){k=null});k=l;l=null}};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++i;if(b){d(b,true).then(function(d){if(g!==i){return}var e=h.$new();var k=d;var n=c(k)(e,function(b){m();a.enter(b,f)});j=e;l=n;j.$emit("$includeContentLoaded",b)},function(){if(g===i){m();e.$emit("$includeContentError",b)}});e.$emit("$includeContentRequested",b)}else{m()}});e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}else{c.addClass("top")}if(b.popupClass){c.addClass(b.popupClass)}if(b.animation()){c.addClass(d.tooltipAnimationClass)}}}}]).directive("uibTooltipPopup",function(){return{replace:true,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:true,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:true})}]).directive("uibTooltipHtmlPopup",function(){return{replace:true,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:true})}]);angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:true,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:true})}]).directive("uibPopoverHtmlPopup",function(){return{replace:true,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:true})}]).directive("uibPopoverPopup",function(){return{replace:true,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]);angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:true,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[];a.max=angular.isDefined(a.max)?a.max:c.max;this.addBar=function(b,c,f){if(!e){c.css({transition:"none"})}this.bars.push(b);b.max=a.max;b.title=f&&angular.isDefined(f.title)?f.title:"progressbar";b.$watch("value",function(a){b.recalculatePercentage()});b.recalculatePercentage=function(){var a=d.bars.reduce(function(a,b){b.percent=+(100*b.value/b.max).toFixed(2);return a+b.percent},0);if(a>100){b.percent-=a-100}};b.$on("$destroy",function(){c=null;d.removeBar(b)})};this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1);this.bars.forEach(function(a){a.recalculatePercentage()})};a.$watch("max",function(b){d.bars.forEach(function(b){b.max=a.max;b.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:true,transclude:true,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:true,transclude:true,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:true,transclude:true,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}});angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e;d.$render=this.render;d.$formatters.push(function(a){if(angular.isNumber(a)&&a<<0!==a){a=Math.round(a)}return a});this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn;this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)};this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++){a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b])}return a};this.getTitle=function(a){if(a>=this.titles.length){return a+1}return this.titles[a]};a.rate=function(b){if(!a.readonly&&b>=0&&b<=a.range.length){d.$setViewValue(d.$viewValue===b?0:b);d.$render()}};a.enter=function(b){if(!a.readonly){a.value=b}a.onHover({value:b})};a.reset=function(){a.value=d.$viewValue;a.onLeave()};a.onKeydown=function(b){if(/(37|38|39|40)/.test(b.which)){b.preventDefault();b.stopPropagation();a.rate(a.value+(b.which===38||b.which===39?1:-1))}};this.render=function(){a.value=d.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:true,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}});angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){if(b.active&&b!==a){b.active=false;b.onDeselect();a.selectCalled=false}});a.active=true;if(!a.selectCalled){a.onSelect();a.selectCalled=true}};b.addTab=function a(d){c.push(d);if(c.length===1&&d.active!==false){d.active=true}else if(d.active){b.select(d)}else{d.active=false}};b.removeTab=function a(e){var f=c.indexOf(e);if(e.active&&c.length>1&&!d){var g=f===c.length-1?f-1:f+1;b.select(c[g])}c.splice(f,1)};var d;a.$on("$destroy",function(){d=true})}]).directive("uibTabset",function(){return{transclude:true,replace:true,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"uib/template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):false;a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):false}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:true,templateUrl:"uib/template/tabs/tab.html",transclude:true,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.$watch("active",function(a){if(a){e.select(b)}});b.disabled=false;if(d.disable){b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a})}b.select=function(){if(!b.disabled){b.active=true}};e.addTab(b);b.$on("$destroy",function(){e.removeTab(b)});b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function a(c){if(c){b.html("");b.append(c)}})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){if(a(b)){e.headingElement=b}else{c.append(b)}})})}};function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||a.tagName.toLowerCase()==="uib-tab-heading"||a.tagName.toLowerCase()==="data-uib-tab-heading"||a.tagName.toLowerCase()==="x-uib-tab-heading")}});angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:true,showSeconds:false,meridians:null,readonlyInput:false,mousewheel:true,arrowkeys:true,showSpinners:true,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){var h=new Date,i=[],j={$setViewValue:angular.noop},k=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0;b.removeAttr("tabindex");this.init=function(b,d){j=b;j.$render=this.render;j.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2);var i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;if(i){this.setupMousewheelEvents(e,f,h)}var k=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;if(k){this.setupArrowkeyEvents(e,f,h)}a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput;this.setupInputEvents(e,f,h)};var l=g.hourStep;if(c.hourStep){i.push(a.$parent.$watch(d(c.hourStep),function(a){l=+a}))}var m=g.minuteStep;if(c.minuteStep){i.push(a.$parent.$watch(d(c.minuteStep),function(a){m=+a}))}var n;i.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);n=isNaN(b)?undefined:b}));var o;i.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);o=isNaN(b)?undefined:b}));var p=false;if(c.ngDisabled){i.push(a.$parent.$watch(d(c.ngDisabled),function(a){p=a}))}a.noIncrementHours=function(){var a=z(h,l*60);return p||a>o||a<h&&a<n};a.noDecrementHours=function(){var a=z(h,-l*60);return p||a<n||a>h&&a>o};a.noIncrementMinutes=function(){var a=z(h,m);return p||a>o||a<h&&a<n};a.noDecrementMinutes=function(){var a=z(h,-m);return p||a<n||a>h&&a>o};a.noIncrementSeconds=function(){var a=A(h,q);return p||a>o||a<h&&a<n};a.noDecrementSeconds=function(){var a=A(h,-q);return p||a<n||a>h&&a>o};a.noToggleMeridian=function(){if(h.getHours()<12){return p||z(h,12*60)>o}return p||z(h,-12*60)<n};var q=g.secondStep;if(c.secondStep){i.push(a.$parent.$watch(d(c.secondStep),function(a){q=+a}))}a.showSeconds=g.showSeconds;if(c.showSeconds){i.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b}))}a.showMeridian=g.showMeridian;if(c.showMeridian){i.push(a.$parent.$watch(d(c.showMeridian),function(b){a.showMeridian=!!b;if(j.$error.time){var c=r(),d=s();if(angular.isDefined(c)&&angular.isDefined(d)){h.setHours(c);v()}}else{x()}}))}function r(){var b=+a.hours;var c=a.showMeridian?b>0&&b<13:b>=0&&b<24;if(!c){return undefined}if(a.showMeridian){if(b===12){b=0}if(a.meridian===k[1]){b=b+12}}return b}function s(){var b=+a.minutes;return b>=0&&b<60?b:undefined}function t(){var b=+a.seconds;return b>=0&&b<60?b:undefined}function u(a){if(a===null){return""}return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}this.setupMousewheelEvents=function(b,c,d){var e=function(a){if(a.originalEvent){a=a.originalEvent}var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){if(!p){a.$apply(e(b)?a.incrementHours():a.decrementHours())}b.preventDefault()});c.bind("mousewheel wheel",function(b){if(!p){a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes())}b.preventDefault()});d.bind("mousewheel wheel",function(b){if(!p){a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds())}b.preventDefault()})};this.setupArrowkeyEvents=function(b,c,d){b.bind("keydown",function(b){if(!p){if(b.which===38){b.preventDefault();a.incrementHours();a.$apply()}else if(b.which===40){b.preventDefault();a.decrementHours();a.$apply()}}});c.bind("keydown",function(b){if(!p){if(b.which===38){b.preventDefault();a.incrementMinutes();a.$apply()}else if(b.which===40){b.preventDefault();a.decrementMinutes();a.$apply()}}});d.bind("keydown",function(b){if(!p){if(b.which===38){b.preventDefault();a.incrementSeconds();a.$apply()}else if(b.which===40){b.preventDefault();a.decrementSeconds();a.$apply()}}})};this.setupInputEvents=function(b,c,d){if(a.readonlyInput){a.updateHours=angular.noop;a.updateMinutes=angular.noop;a.updateSeconds=angular.noop;return}var e=function(b,c,d){j.$setViewValue(null);j.$setValidity("time",false);if(angular.isDefined(b)){a.invalidHours=b}if(angular.isDefined(c)){a.invalidMinutes=c}if(angular.isDefined(d)){a.invalidSeconds=d}};a.updateHours=function(){var a=r(),b=s();j.$setDirty();if(angular.isDefined(a)&&angular.isDefined(b)){h.setHours(a);h.setMinutes(b);if(h<n||h>o){e(true)}else{v("h")}}else{e(true)}};b.bind("blur",function(b){j.$setTouched();if(a.hours===null||a.hours===""){e(true)}else if(!a.invalidHours&&a.hours<10){a.$apply(function(){a.hours=u(a.hours)})}});a.updateMinutes=function(){var a=s(),b=r();j.$setDirty();if(angular.isDefined(a)&&angular.isDefined(b)){h.setHours(b);h.setMinutes(a);if(h<n||h>o){e(undefined,true)}else{v("m")}}else{e(undefined,true)}};c.bind("blur",function(b){j.$setTouched();if(a.minutes===null){e(undefined,true)}else if(!a.invalidMinutes&&a.minutes<10){a.$apply(function(){a.minutes=u(a.minutes)})}});a.updateSeconds=function(){var a=t();j.$setDirty();if(angular.isDefined(a)){h.setSeconds(a);v("s")}else{e(undefined,undefined,true)}};d.bind("blur",function(b){if(!a.invalidSeconds&&a.seconds<10){a.$apply(function(){a.seconds=u(a.seconds)})}})};this.render=function(){var b=j.$viewValue;if(isNaN(b)){j.$setValidity("time",false);e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}else{if(b){h=b}if(h<n||h>o){j.$setValidity("time",false);a.invalidHours=true;a.invalidMinutes=true}else{w()}x()}};function v(a){w();j.$setViewValue(new Date(h));x(a)}function w(){j.$setValidity("time",true);a.invalidHours=false;a.invalidMinutes=false;a.invalidSeconds=false}function x(b){if(!j.$modelValue){a.hours=null;a.minutes=null;a.seconds=null;a.meridian=k[0]}else{var c=h.getHours(),d=h.getMinutes(),e=h.getSeconds();if(a.showMeridian){c=c===0||c===12?12:c%12}a.hours=b==="h"?c:u(c);if(b!=="m"){a.minutes=u(d)}a.meridian=h.getHours()<12?k[0]:k[1];if(b!=="s"){a.seconds=u(e)}a.meridian=h.getHours()<12?k[0]:k[1]}}function y(a){h=A(h,a);v()}function z(a,b){return A(a,b*60)}function A(a,b){var c=new Date(a.getTime()+b*1e3);var d=new Date(a);d.setHours(c.getHours(),c.getMinutes(),c.getSeconds());return d}a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners;a.incrementHours=function(){if(!a.noIncrementHours()){y(l*60*60)}};a.decrementHours=function(){if(!a.noDecrementHours()){y(-l*60*60)}};a.incrementMinutes=function(){if(!a.noIncrementMinutes()){y(m*60)}};a.decrementMinutes=function(){if(!a.noDecrementMinutes()){y(-m*60)}};a.incrementSeconds=function(){if(!a.noIncrementSeconds()){y(q)}};a.decrementSeconds=function(){if(!a.noDecrementSeconds()){y(-q)}};a.toggleMeridian=function(){var b=s(),c=r();if(!a.noToggleMeridian()){if(angular.isDefined(b)&&angular.isDefined(c)){y(12*60*(h.getHours()<12?60:-60))}else{a.meridian=a.meridian===k[0]?k[1]:k[0]}}};a.blur=function(){j.$setTouched()};a.$on("$destroy",function(){while(i.length){i.shift()()}})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:true,scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];if(f){e.init(f,b.find("input"))}}}}]);angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d){throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"'+' but got "'+c+'".')}return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=[9,13,27,38,40];var o=200;var p,q;var r=a.$eval(c.typeaheadMinLength);if(!r&&r!==0){r=1}var s=a.$eval(c.typeaheadWaitMs)||0;var t=a.$eval(c.typeaheadEditable)!==false;a.$watch(c.typeaheadEditable,function(a){t=a!==false});var u=e(c.typeaheadLoading).assign||angular.noop;var v=e(c.typeaheadOnSelect);var w=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):false;var x=e(c.typeaheadNoResults).assign||angular.noop;var y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):undefined;var z=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):false;var A=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null;var B=a.$eval(c.typeaheadFocusFirst)!==false;var C=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):false;var D=e(c.typeaheadIsOpen).assign||angular.noop;var E=a.$eval(c.typeaheadShowHint)||false;var F=e(c.ngModel);var G=e(c.ngModel+"($$$p)");var H=function(b,c){if(angular.isFunction(F(a))&&q&&q.$options&&q.$options.getterSetter){return G(b,{$$$p:c})}return F.assign(b,c)};var I=m.parse(c.uibTypeahead);var J;var K;var L=a.$new();var M=a.$on("$destroy",function(){L.$destroy()});L.$on("$destroy",M);var N="typeahead-"+L.$id+"-"+Math.floor(Math.random()*1e4);b.attr({"aria-autocomplete":"list","aria-expanded":false,"aria-owns":N});var O,P;if(E){O=angular.element("<div></div>");O.css("position","relative");b.after(O);P=b.clone();P.attr("placeholder","");P.val("");P.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"});b.css({position:"relative","vertical-align":"top","background-color":"transparent"});O.append(P);P.after(b)}var Q=angular.element("<div uib-typeahead-popup></div>");Q.attr({id:N,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"});if(angular.isDefined(c.typeaheadTemplateUrl)){Q.attr("template-url",c.typeaheadTemplateUrl)}if(angular.isDefined(c.typeaheadPopupTemplateUrl)){Q.attr("popup-template-url",c.typeaheadPopupTemplateUrl)}var R=function(){if(E){P.val("")}};var S=function(){L.matches=[];L.activeIdx=-1;b.attr("aria-expanded",false);R()};var T=function(a){return N+"-option-"+a};L.$watch("activeIdx",function(a){if(a<0){b.removeAttr("aria-activedescendant")}else{b.attr("aria-activedescendant",T(a))}});var U=function(a,b){if(L.matches.length>b&&a){return a.toUpperCase()===L.matches[b].label.toUpperCase()}return false};var V=function(c,d){var e={$viewValue:c};u(a,true);x(a,false);f.when(I.source(a,e)).then(function(f){var g=c===p.$viewValue;if(g&&J){if(f&&f.length>0){L.activeIdx=B?0:-1;x(a,false);L.matches.length=0;for(var h=0;h<f.length;h++){e[I.itemName]=f[h];L.matches.push({id:T(h),label:I.viewMapper(L,e),model:f[h]})}L.query=c;Y();b.attr("aria-expanded",true);if(C&&L.matches.length===1&&U(c,0)){if(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)){k(function(){L.select(0,d)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate["default"])}else{L.select(0,d)}}if(E){var i=L.matches[0].label;if(c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()){P.val(c+i.slice(c.length))}else{P.val("")}}}else{S();x(a,true)}}if(g){u(a,false)}},function(){S();u(a,false);x(a,true)})};if(z){angular.element(i).on("resize",X);h.find("body").on("scroll",X)}var W=k(function(){if(L.matches.length){Y()}L.moveInProgress=false},o);L.moveInProgress=false;function X(){if(!L.moveInProgress){L.moveInProgress=true;L.$digest()}W()}function Y(){L.position=z?l.offset(b):l.position(b);L.position.top+=b.prop("offsetHeight")}L.query=undefined;var Z;var $=function(a){Z=g(function(){V(a)},s)};var _=function(){if(Z){g.cancel(Z)}};S();L.assignIsOpen=function(b){D(a,b)};L.select=function(d,e){var f={};var h,i;K=true;f[I.itemName]=i=L.matches[d].model;h=I.modelMapper(a,f);H(a,h);p.$setValidity("editable",true);p.$setValidity("parse",true);v(a,{$item:i,$model:h,$label:I.viewMapper(a,f),$event:e});S();if(L.$eval(c.typeaheadFocusOnSelect)!==false){g(function(){b[0].focus()},0,false)}};b.on("keydown",function(a){if(L.matches.length===0||n.indexOf(a.which)===-1){return}if(L.activeIdx===-1&&(a.which===9||a.which===13)){S();L.$digest();return}a.preventDefault();var b;switch(a.which){case 9:case 13:L.$apply(function(){if(angular.isNumber(L.debounceUpdate)||angular.isObject(L.debounceUpdate)){k(function(){L.select(L.activeIdx,a)},angular.isNumber(L.debounceUpdate)?L.debounceUpdate:L.debounceUpdate["default"])}else{L.select(L.activeIdx,a)}});break;case 27:a.stopPropagation();S();L.$digest();break;case 38:L.activeIdx=(L.activeIdx>0?L.activeIdx:L.matches.length)-1;L.$digest();b=Q.find("li")[L.activeIdx];b.parentNode.scrollTop=b.offsetTop;break;case 40:L.activeIdx=(L.activeIdx+1)%L.matches.length;L.$digest();b=Q.find("li")[L.activeIdx];b.parentNode.scrollTop=b.offsetTop;break}});b.bind("focus",function(a){J=true;if(r===0&&!p.$viewValue){g(function(){V(p.$viewValue,a)},0)}});b.bind("blur",function(a){if(w&&L.matches.length&&L.activeIdx!==-1&&!K){K=true;L.$apply(function(){if(angular.isObject(L.debounceUpdate)&&angular.isNumber(L.debounceUpdate.blur)){k(function(){L.select(L.activeIdx,a)},L.debounceUpdate.blur)}else{L.select(L.activeIdx,a)}})}if(!t&&p.$error.editable){p.$viewValue="";b.val("")}J=false;K=false});var aa=function(a){if(b[0]!==a.target&&a.which!==3&&L.matches.length!==0){S();if(!j.$$phase){L.$digest()}}};h.on("click",aa);a.$on("$destroy",function(){h.off("click",aa);if(z||A){ba.remove()}if(z){angular.element(i).off("resize",X);h.find("body").off("scroll",X)}Q.remove();if(E){O.remove()}});var ba=d(Q)(L);if(z){h.find("body").append(ba)}else if(A){angular.element(A).eq(0).append(ba)}else{b.after(ba)}this.init=function(b,c){p=b;q=c;L.debounceUpdate=p.$options&&e(p.$options.debounce)(a);p.$parsers.unshift(function(b){J=true;if(r===0||b&&b.length>=r){if(s>0){_();$(b)}else{V(b)}}else{u(a,false);_();S()}if(t){return b}if(!b){p.$setValidity("editable",true);return null}p.$setValidity("editable",false);return undefined});p.$formatters.push(function(b){var c,d;var e={};if(!t){p.$setValidity("editable",true)}if(y){e.$model=b;return y(a,e)}e[I.itemName]=b;c=I.viewMapper(a,e);e[I.itemName]=undefined;d=I.viewMapper(a,e);return c!==d?c:b})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:true,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl;b.isOpen=function(){var a=b.matches.length>0;b.assignIsOpen({isOpen:a});return a};b.isActive=function(a){return b.active===a};b.selectActive=function(a){b.active=a};b.selectMatch=function(c,d){var e=b.debounce();if(angular.isNumber(e)||angular.isObject(e)){a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e["default"])}else{b.select({activeIdx:c,evt:d})}}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c);b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){var d;d=b.has("$sanitize");function e(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function f(a){return/<.*>/g.test(a)}return function(b,g){if(!d&&f(b)){c.warn("Unsafe use of typeahead please use ngSanitize")}b=g?(""+b).replace(new RegExp(e(g),"gi"),"<strong>$&</strong>"):b;if(!d){b=a.trustAsHtml(b)}return b}}]);angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n'+'  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n'+'    <h4 class="panel-title">\n'+'      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n'+"    </h4>\n"+"  </div>\n"+'  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n'+'\t  <div class="panel-body" ng-transclude></div>\n'+"  </div>\n"+"</div>\n"+"")}]);angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]);angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html","<div class=\"alert\" ng-class=\"['alert-' + (type || 'warning'), closeable ? 'alert-dismissible' : null]\" role=\"alert\">\n"+'    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n'+'        <span aria-hidden="true">&times;</span>\n'+'        <span class="sr-only">Close</span>\n'+"    </button>\n"+"    <div ng-transclude></div>\n"+"</div>\n"+"")}]);angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n'+'  <div class="carousel-inner" ng-transclude></div>\n'+'  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n'+'    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n'+'    <span class="sr-only">previous</span>\n'+"  </a>\n"+'  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n'+'    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n'+'    <span class="sr-only">next</span>\n'+"  </a>\n"+'  <ol class="carousel-indicators" ng-show="slides.length > 1">\n'+'    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n'+'      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n'+"    </li>\n"+"  </ol>\n"+"</div>")}]);angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div ng-class="{\n'+"    'active': active\n"+'  }" class="item text-center" ng-transclude></div>\n'+"");
}]);angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n'+'  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n'+'  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n'+'  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n'+"</div>")}]);angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n'+"  <thead>\n"+"    <tr>\n"+'      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n'+'      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n'+'      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n'+"    </tr>\n"+"    <tr>\n"+'      <th ng-if="showWeeks" class="text-center"></th>\n'+'      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n'+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+'    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n'+'      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n'+'      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n'+'        id="{{::dt.uid}}"\n'+'        ng-class="::dt.customClass">\n'+'        <button type="button" class="btn btn-default btn-sm"\n'+'          uib-is-class="\n'+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+'            on dt"\n'+'          ng-click="select(dt.date)"\n'+'          ng-disabled="::dt.disabled"\n'+"          tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n"+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n'+"  <thead>\n"+"    <tr>\n"+'      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n'+'      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n'+'      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n'+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+'    <tr class="uib-months" ng-repeat="row in rows track by $index">\n'+'      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n'+'        id="{{::dt.uid}}"\n'+'        ng-class="::dt.customClass">\n'+'        <button type="button" class="btn btn-default"\n'+'          uib-is-class="\n'+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+'            on dt"\n'+'          ng-click="select(dt.date)"\n'+'          ng-disabled="::dt.disabled"\n'+'          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n'+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/popup.html","<div>\n"+'  <ul class="uib-datepicker-popup dropdown-menu" dropdown-nested ng-if="isOpen" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n'+"    <li ng-transclude></li>\n"+'    <li ng-if="showButtonBar" class="uib-button-bar">\n'+'    <span class="btn-group pull-left">\n'+'      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n'+'      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n'+"    </span>\n"+'      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close()">{{ getText(\'close\') }}</button>\n'+"    </li>\n"+"  </ul>\n"+"</div>\n"+"")}]);angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n'+"  <thead>\n"+"    <tr>\n"+'      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n'+'      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n'+'      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n'+"    </tr>\n"+"  </thead>\n"+"  <tbody>\n"+'    <tr class="uib-years" ng-repeat="row in rows track by $index">\n'+'      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n'+'        id="{{::dt.uid}}"\n'+'        ng-class="::dt.customClass">\n'+'        <button type="button" class="btn btn-default"\n'+'          uib-is-class="\n'+"            'btn-info' for selectedDt,\n"+"            'active' for activeDt\n"+'            on dt"\n'+'          ng-click="select(dt.date)"\n'+'          ng-disabled="::dt.disabled"\n'+'          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n'+"      </td>\n"+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n'+'     uib-modal-animation-class="fade"\n'+'     modal-in-class="in"\n'+"     ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n"+"></div>\n"+"")}]);angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n'+'    uib-modal-animation-class="fade"\n'+'    modal-in-class="in"\n'+"    ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\">\n"+"    <div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n"+"</div>\n"+"")}]);angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<ul class="pager">\n'+'  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n'+'  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n'+"</ul>\n"+"")}]);angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n'+'  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n'+'  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n'+'  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n'+'  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n'+'  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n'+"</ul>\n"+"")}]);angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n'+'  tooltip-animation-class="fade"\n'+"  uib-tooltip-classes\n"+'  ng-class="{ in: isOpen() }">\n'+'  <div class="tooltip-arrow"></div>\n'+'  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n'+"</div>\n"+"")}]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n'+'  tooltip-animation-class="fade"\n'+"  tooltip-classes\n"+'  ng-class="{ in: isOpen() }">\n'+'  <div class="tooltip-arrow"></div>\n'+'  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n'+'  tooltip-animation-class="fade"\n'+"  uib-tooltip-classes\n"+'  ng-class="{ in: isOpen() }">\n'+'  <div class="tooltip-arrow"></div>\n'+'  <div class="tooltip-inner" ng-bind="content"></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n'+'  tooltip-animation-class="fade"\n'+"  uib-tooltip-classes\n"+'  ng-class="{ in: isOpen() }">\n'+'  <div class="tooltip-arrow"></div>\n'+'  <div class="tooltip-inner"\n'+'    uib-tooltip-template-transclude="contentExp()"\n'+'    tooltip-template-transclude-scope="originScope()"></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="popover"\n'+'  tooltip-animation-class="fade"\n'+"  uib-tooltip-classes\n"+'  ng-class="{ in: isOpen() }">\n'+'  <div class="arrow"></div>\n'+"\n"+'  <div class="popover-inner">\n'+'      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n'+'      <div class="popover-content" ng-bind-html="contentExp()"></div>\n'+"  </div>\n"+"</div>\n"+"")}]);angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="popover"\n'+'  tooltip-animation-class="fade"\n'+"  uib-tooltip-classes\n"+'  ng-class="{ in: isOpen() }">\n'+'  <div class="arrow"></div>\n'+"\n"+'  <div class="popover-inner">\n'+'      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n'+'      <div class="popover-content"\n'+'        uib-tooltip-template-transclude="contentExp()"\n'+'        tooltip-template-transclude-scope="originScope()"></div>\n'+"  </div>\n"+"</div>\n"+"")}]);angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="popover"\n'+'  tooltip-animation-class="fade"\n'+"  uib-tooltip-classes\n"+'  ng-class="{ in: isOpen() }">\n'+'  <div class="arrow"></div>\n'+"\n"+'  <div class="popover-inner">\n'+'      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n'+'      <div class="popover-content" ng-bind="content"></div>\n'+"  </div>\n"+"</div>\n"+"")}]);angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n'+"")}]);angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]);angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n'+'  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n'+"</div>\n"+"")}]);angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n'+"    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n"+'    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n'+"</span>\n"+"")}]);angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}" class="uib-tab">\n'+'  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n'+"</li>\n"+"")}]);angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html","<div>\n"+"  <ul class=\"nav nav-{{type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n"+'  <div class="tab-content">\n'+'    <div class="tab-pane" \n'+'         ng-repeat="tab in tabs" \n'+'         ng-class="{active: tab.active}"\n'+'         uib-tab-content-transclude="tab">\n'+"    </div>\n"+"  </div>\n"+"</div>\n"+"")}]);angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n'+"  <tbody>\n"+'    <tr class="text-center" ng-show="::showSpinners">\n'+'      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n'+"      <td>&nbsp;</td>\n"+'      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n'+'      <td ng-show="showSeconds">&nbsp;</td>\n'+'      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n'+'      <td ng-show="showMeridian"></td>\n'+"    </tr>\n"+"    <tr>\n"+'      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n'+'        <input style="width:50px;" type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n'+"      </td>\n"+'      <td class="uib-separator">:</td>\n'+'      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n'+'        <input style="width:50px;" type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n'+"      </td>\n"+'      <td ng-show="showSeconds" class="uib-separator">:</td>\n'+'      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n'+'        <input style="width:50px;" type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n'+"      </td>\n"+'      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n'+"    </tr>\n"+'    <tr class="text-center" ng-show="::showSpinners">\n'+'      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n'+"      <td>&nbsp;</td>\n"+'      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n'+'      <td ng-show="showSeconds">&nbsp;</td>\n'+'      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n'+'      <td ng-show="showMeridian"></td>\n'+"    </tr>\n"+"  </tbody>\n"+"</table>\n"+"")}]);angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html","<a href\n"+'   tabindex="-1"\n'+'   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n'+'   ng-attr-title="{{match.label}}"></a>\n'+"")}]);angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n'+'    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n'+'        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n'+"    </li>\n"+"</ul>\n"+"")}]);angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')});angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-datepicker-popup.dropdown-menu{display:block;}.uib-button-bar{padding:10px 9px 2px;}</style>')});angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>')});angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>')});/** 
* @version 2.1.6
* @license MIT
*/
(function(a,b){"use strict";a.module("smart-table",[]).run(["$templateCache",function(a){a.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination">'+'<li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a ng-click="selectPage(page)">{{page}}</a></li>'+"</ul></nav>")}]);a.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",skipNatural:false,delay:300},pipe:{delay:100}});a.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function c(d,e,f,g){var h=g.stTable;var i=e(h);var j=i.assign;var k;var l=f("orderBy");var m=f("filter");var n=t(i(d));var o={sort:{},search:{},pagination:{start:0,totalItemCount:0}};var p;var q=true;var r=this;var s;function t(a){return a?[].concat(a):[]}function u(){n=t(k(d));if(q===true){r.pipe()}}function v(a,b){if(b.indexOf(".")!=-1){var c=b.split(".");var d=c.pop();var f=c.join(".");var g=e(f)(a);delete g[d];if(Object.keys(g).length==0){v(a,f)}}else{delete a[b]}}if(g.stSafeSrc){k=e(g.stSafeSrc);d.$watch(function(){var a=k(d);return a&&a.length?a[0]:b},function(a,b){if(a!==b){u()}});d.$watch(function(){var a=k(d);return a?a.length:0},function(a,b){if(a!==n.length){u()}});d.$watch(function(){return k(d)},function(a,b){if(a!==b){o.pagination.start=0;u()}})}this.sortBy=function b(c,d){o.sort.predicate=c;o.sort.reverse=d===true;if(a.isFunction(c)){o.sort.functionName=c.name}else{delete o.sort.functionName}o.pagination.start=0;return this.pipe()};this.search=function b(c,d){var f=o.search.predicateObject||{};var g=d?d:"$";c=a.isString(c)?c.trim():c;e(g).assign(f,c);if(!c){v(f,g)}o.search.predicateObject=f;o.pagination.start=0;return this.pipe()};this.pipe=function a(){var c=o.pagination;var e;p=o.search.predicateObject?m(n,o.search.predicateObject):n;if(o.sort.predicate){p=l(p,o.sort.predicate,o.sort.reverse)}c.totalItemCount=p.length;if(c.number!==b){c.numberOfPages=p.length>0?Math.ceil(p.length/c.number):1;c.start=c.start>=p.length?(c.numberOfPages-1)*c.number:c.start;e=p.slice(c.start,c.start+parseInt(c.number))}j(d,e||p)};this.select=function a(c,e){var f=t(i(d));var g=f.indexOf(c);if(g!==-1){if(e==="single"){c.isSelected=c.isSelected!==true;if(s){s.isSelected=false}s=c.isSelected===true?c:b}else{f[g].isSelected=!f[g].isSelected}}};this.slice=function a(b,c){o.pagination.start=b;o.pagination.number=c;return this.pipe()};this.tableState=function a(){return o};this.getFilteredCollection=function a(){return p||n};this.setFilterFunction=function a(b){m=f(b)};this.setSortFunction=function a(b){l=f(b)};this.preventPipeOnWatch=function a(){q=false}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(a,b,c,d){if(c.stSetFilter){d.setFilterFunction(c.stSetFilter)}if(c.stSetSort){d.setSortFunction(c.stSetSort)}}}});a.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(a,b,c){return{require:"^stTable",link:function(d,e,f,g){var h=g;var i=null;var j=f.stDelay||a.search.delay;var k=f.stInputEvent||a.search.inputEvent;f.$observe("stSearch",function(a,b){var c=e[0].value;if(a!==b&&c){g.tableState().search={};h.search(c,a)}});d.$watch(function(){return g.tableState().search},function(a,b){var d=f.stSearch||"$";if(a.predicateObject&&c(d)(a.predicateObject)!==e[0].value){e[0].value=c(d)(a.predicateObject)||""}},true);e.bind(k,function(a){a=a.originalEvent||a;if(i!==null){b.cancel(i)}i=b(function(){h.search(a.target.value,f.stSearch||"");i=null},j)})}}}]);a.module("smart-table").directive("stSelectRow",["stConfig",function(a){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(b,c,d,e){var f=d.stSelectMode||a.select.mode;c.bind("click",function(){b.$apply(function(){e.select(b.row,f)})});b.$watch("row.isSelected",function(b){if(b===true){c.addClass(a.select.selectedClass)}else{c.removeClass(a.select.selectedClass)}})}}}]);a.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(c,d,e){return{restrict:"A",require:"^stTable",link:function(f,g,h,i){var j=h.stSort;var k=d(j);var l=0;var m=h.stClassAscent||c.sort.ascentClass;var n=h.stClassDescent||c.sort.descentClass;var o=[m,n];var p;var q=h.stSkipNatural!==b?h.stSkipNatural:c.sort.skipNatural;var r=null;var s=h.stDelay||c.sort.delay;if(h.stSortDefault){p=f.$eval(h.stSortDefault)!==b?f.$eval(h.stSortDefault):h.stSortDefault}function t(){l++;var b;j=a.isFunction(k(f))||a.isArray(k(f))?k(f):h.stSort;if(l%3===0&&!!q!==true){l=0;i.tableState().sort={};i.tableState().pagination.start=0;b=i.pipe.bind(i)}else{b=i.sortBy.bind(i,j,l%2===0)}if(r!==null){e.cancel(r)}if(s<0){b()}else{r=e(b,s)}}g.bind("click",function a(){if(j){f.$apply(t)}});if(p){l=p==="reverse"?1:0;t()}f.$watch(function(){return i.tableState().sort},function(a){if(a.predicate!==j){l=0;g.removeClass(m).removeClass(n)}else{l=a.reverse===true?2:1;g.removeClass(o[l%2]).addClass(o[l-1])}},true)}}}]);a.module("smart-table").directive("stPagination",["stConfig",function(a){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(b,c){if(c.stTemplate){return c.stTemplate}return a.pagination.template},link:function(b,c,d,e){b.stItemsByPage=b.stItemsByPage?+b.stItemsByPage:a.pagination.itemsByPage;b.stDisplayedPages=b.stDisplayedPages?+b.stDisplayedPages:a.pagination.displayedPages;b.currentPage=1;b.pages=[];function f(){var a=e.tableState().pagination;var c=1;var d;var f;var g=b.currentPage;b.totalItemCount=a.totalItemCount;b.currentPage=Math.floor(a.start/a.number)+1;c=Math.max(c,b.currentPage-Math.abs(Math.floor(b.stDisplayedPages/2)));d=c+b.stDisplayedPages;if(d>a.numberOfPages){d=a.numberOfPages+1;c=Math.max(1,d-b.stDisplayedPages)}b.pages=[];b.numPages=a.numberOfPages;for(f=c;f<d;f++){b.pages.push(f)}if(g!==b.currentPage){b.stPageChange({newPage:b.currentPage})}}b.$watch(function(){return e.tableState().pagination},f,true);b.$watch("stItemsByPage",function(a,c){if(a!==c){b.selectPage(1)}});b.$watch("stDisplayedPages",f);b.selectPage=function(a){if(a>0&&a<=b.numPages){e.slice((a-1)*b.stItemsByPage,b.stItemsByPage)}};if(!e.tableState().pagination.number){e.slice(0,b.stItemsByPage)}}}}]);a.module("smart-table").directive("stPipe",["stConfig","$timeout",function(b,c){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(d,e,f,g){var h=null;if(a.isFunction(d.stPipe)){g.preventPipeOnWatch();g.pipe=function(){if(h!==null){c.cancel(h)}h=c(function(){d.stPipe(g.tableState(),g)},b.pipe.delay);return h}}},post:function(a,b,c,d){d.pipe()}}}}])})(angular);angular.module("fis.bootstrap.accordion",[]);angular.module("fis.bootstrap.calendar",[]);angular.module("fis.bootstrap.dialog",[]);(function(){"use strict";var a=["ui.bootstrap","fis.bootstrap.accordion","fis.bootstrap.calendar","fis.bootstrap.tabs","fis.bootstrap.toggleswitch","fis.bootstrap.notification","fis.bootstrap.dialog","fis.bootstrap.segmentcontrol"];angular.module("fis.bootstrap.components",a)})();angular.module("fis.bootstrap.notification",[]);angular.module("fis.bootstrap.segmentcontrol",[]);angular.module("fis.bootstrap.tabs",[]);angular.module("fis.bootstrap.toggleswitch",[]);(function(){"use strict";angular.module("fis.bootstrap.accordion").decorator("uibAccordionDirective",["$delegate",a]);function a(a){"use strict";var b=a[0];b.templateUrl="accordion/accordion.decorator.html";return a}})();(function(){"use strict";angular.module("fis.bootstrap.accordion").decorator("uibAccordionGroupDirective",["$delegate",a]);function a(a){"use strict";var b=a[0];b.templateUrl="accordion/accordionGroup.decorator.html";return a}})();(function(){"use strict";angular.module("fis.bootstrap.calendar").decorator("uibDatepickerDirective",["$delegate",function(a){var b=a[0];b.templateUrl="calendar/datepicker.decorator.html";return a}])})();(function(){"use strict";angular.module("fis.bootstrap.calendar").decorator("uibDatepickerPopupWrapDirective",["$delegate",function(a){var b=a[0];b.templateUrl="calendar/datepickerPopupWrap.decorator.html";return a}])})();(function(){"use strict";angular.module("fis.bootstrap.calendar").decorator("uibDaypickerDirective",["$delegate",function(a){var b=a[0];b.templateUrl="calendar/daypicker.decorator.html";return a}])})();(function(){"use strict";angular.module("fis.bootstrap.calendar").decorator("uibMonthpickerDirective",["$delegate",function(a){var b=a[0];b.templateUrl="calendar/monthpicker.decorator.html";return a}])})();(function(){"use strict";angular.module("fis.bootstrap.calendar").decorator("uibYearpickerDirective",["$delegate",function(a){var b=a[0];b.templateUrl="calendar/yearpicker.decorator.html";return a}])})();(function(){"use strict";angular.module("fis.bootstrap.dialog").directive("fisBsDialog",a);function a(){"use strict";return{restrict:"E",scope:true,controller:["$scope",function(){}]}}})();(function(){"use strict";angular.module("fis.bootstrap.dialog").directive("fisBsDialogBody",a);function a(){return{restrict:"E",transclude:true,scope:true,require:"^fisBsDialog",templateUrl:"dialog/dialogBody.directive.html"}}})();(function(){"use strict";angular.module("fis.bootstrap.dialog").directive("fisBsDialogFooter",a);function a(){"use strict";return{restrict:"E",transclude:true,scope:true,require:"^fisBsDialog",templateUrl:"dialog/dialogFooter.directive.html"}}})();(function(){"use strict";angular.module("fis.bootstrap.dialog").directive("fisBsDialogHeader",a);function a(){"use strict";return{restrict:"E",transclude:true,scope:true,require:"^fisBsDialog",link:function(a){a.cancel=function(){a.$parent.cancel()}},templateUrl:"dialog/dialogHeader.directive.html"}}})();(function(){"use strict";angular.module("fis.bootstrap.dialog").directive("fisBsNonmodalDraggable",a);a.$inject=["$document"];function a(a){"use strict";return function(c,d){var e=0;var f=0;var g=0;var h=0;d.on("mousedown",function(c){var k=b(d,"fis-bs-modal");if(k){c.preventDefault();e=c.pageX-g;f=c.pageY-h;a.on("mousemove",i);a.on("mouseup",j)}});d.on("$destroy",function(){a.unbind("mousemove",i);a.unbind("mouseup",j)});d.on("hidden.bs.modal.header",function(a){a.preventDefault();e=0;f=0;g=0;h=0});function i(c){h=c.pageY-f;g=c.pageX-e;var i=b(d,"fis-bs-modal")[0];var j=i.offsetWidth;var k=i.offsetHeight;var l=i.offsetLeft;var m=i.offsetTop;var n=i.getBoundingClientRect();var o=a[0].body.clientWidth;var p=a[0].body.clientHeight;if(!l){l=0}if(!m){m=0}p-=10;o-=10;if((n.left>=1||g>l)&&(n.left+1<=o-j||g<l)){i.style.left=g+"px"}if((n.top>=1||h>m)&&(n.top+1<=p-k||h<m)){i.style.top=h+"px"}}function j(){a.unbind("mousemove",i);a.unbind("mouseup",j)}}}function b(a,b){var c=a.parent();var d=true;do{if(!c.length){c=null;d=false}else if(c&&c.hasClass(b)){d=false}else{c=c.parent()}}while(d);return c}})();(function(){"use strict";angular.module("fis.bootstrap.dialog").directive("fisBsOpenDialogOnclick",a);a.$inject=["$uibModal","$parse"];function a(a,b){"use strict";return{restrict:"A",scope:{fisBsDialogSize:"@",fisBsDialogType:"@",fisBsDialogTemplate:"@",fisBsDialogCtrl:"@"},compile:function(){return function(c,d){c.fxn=function(){c.openModal(c.fisBsDialogSize,c.fisBsDialogType,c.fisBsDialogTemplate,c.fisBsDialogCtrl)};c.items=[c.fisBsDialogType];c.openModal=function(b,d,e,f){var g="fis-bs-modal-backdrop";var h="static";var i="dialog/dialog.modal.directive.html";if(d==="non-modal"){g="";h=false;i="dialog/dialog.non-modal.directive.html"}var j=a.open({templateUrl:e,controller:f,windowTemplateUrl:i,size:b,backdropClass:g,backdrop:h,resolve:{items:function(){return c.items}}});return j};var e=b("fxn()");d.bind("click",function(){e(c)})}}}}})();(function(){"use strict";angular.module("fis.bootstrap.notification").directive("fisBsNotification",a);function a(){"use strict";return{restrict:"E",replace:true,scope:{fisBsNotificationsList:"=",fisBsShowStdErr:"=",fisBsStdErrMessage:"=?",fisBsForm:"="},templateUrl:"notification/notification.directive.html"}}})();(function(){"use strict";angular.module("fis.bootstrap.segmentcontrol").directive("fisBsSegmentControl",a);function a(){"use strict";return{restrict:"A",link:function(a,b){b.bind("click",function(a){angular.element(this.children).removeClass("fis-bs-segment-selected");angular.element(a.target).addClass("fis-bs-segment-selected")})}}}})();(function(){"use strict";angular.module("fis.bootstrap.tabs").directive("fisBsDraggable",a);function a(){"use strict";return function(a,b){var c=navigator.userAgent.toLowerCase().indexOf("firefox");if(c<0){var d=b[0];d.draggable=true;d.addEventListener("dragstart",function(a){a.dataTransfer.effectAllowed="move";a.dataTransfer.setData("Text",this.id);this.classList.add("drag");return false},false);d.addEventListener("dragend",function(){this.classList.remove("drag");return false},false)}}}})();(function(){"use strict";angular.module("fis.bootstrap.tabs").directive("fisBsDroppable",a);function a(){"use strict";return{scope:{drop:"&",bin:"="},link:function(a,b){if(navigator.userAgent.toLowerCase().indexOf("firefox")<0){var c=b[0];var d=c.style.background;c.addEventListener("dragover",function(a){a.dataTransfer.dropEffect="move";if(a.preventDefault){a.preventDefault()}this.style.background="lightblue";return false},false);c.addEventListener("dragenter",function(){this.style.background="lightblue";return false},false);c.addEventListener("dragleave",function(){this.classList.remove("over");this.style.background=d;return false},false);c.addEventListener("drop",function(b){if(b.stopPropagation){b.stopPropagation()}this.style.background=d;var c=this.id;var e=document.getElementById(b.dataTransfer.getData("Text"));a.$apply(function(a){var b=a.drop();if(typeof b!=="undefined"){b(e.id.substring(2),c.substring(2))}});return false},false)}}}}})();(function(){"use strict";angular.module("fis.bootstrap.tabs").directive("fisBsScopeElement",a);function a(){"use strict";var a={restrict:"A",compile:function a(){return{pre:function a(b,c,d){b[d.fisBsScopeElement]=c}}}};return a}})();(function(){"use strict";angular.module("fis.bootstrap.tabs").directive("fisBsTabs",a);a.$inject=["$timeout"];function a(a){"use strict";return{restrict:"AE",replace:"true",scope:{tabs:"=",id:"&",remove:"&",select:"&",move:"&",active:"&",initialize:"&"},templateUrl:"tabs/tabs.directive.html",link:function(b){b.$on("resizable::resize",function(){if(b.responsive==="yes"){a(function(){b.resizeTabs()},100)}});if(b.responsive==="yes"){b.incrementalResizeTabs();b.$watch("tabs",function(){b.incrementalResizeTabs()},true)}else{a(function(){b.elemTabsMoreMenu[0].style.display="none";b.setMinWidth()},100);b.elemTabsMoreMenu[0].style.display="none";b.setMinWidth()}if(b.initialize()){b.initialize()(b.elemNavTabs)}},controller:["$scope","$location","$element","$attrs","TabsManager",function(b,c,d,e,f){b.responsive=e.responsive;b.deleteOption=e.deleteOption;b.tabWidth=e.tabWidth;b.currentTab={id:e.defaultTabId};var g=true;b.tabCounter=1;b.showButtons=e.showButtons;b.handleDrop=function(a,c){var d=b.tabs[a];b.tabs.splice(a,1);b.tabs.splice(c,0,d)};b.incrementalResizeTabs=function(){a(function(){b.resizeTabs()},100);a(function(){b.resizeTabs()},200);a(function(){b.resizeTabs();f.register(e.tabs_group_id,b.tabs)},500)};b.setMinWidth=function(){var a=0;var c=b.elemNavTabs.children();var d=c.length;angular.forEach(c,function(b,c){if(c+1!==d){a+=b.offsetWidth+7}});b.elemNavTabs[0].style.minWidth=a+30+"px"};b.moveTab=function(a){if(b.move()){b.move()(a)}else{var c=b.tabs.splice(a,1);b.tabs.unshift(c[0]);b.updateCurrentTabInfo(c[0])}};b.removeTab=function(a,c){if(b.remove()){b.remove()(a,c)}else{b.tabs.splice(a,1);if(c!=="hidden"){b.currentTab="";b.tabWorkspaceContent="";b.template={url:"partials/tabs_delete.html"}}}};b.selectTab=function(a){if(b.select()){b.select()(a)}else{b.updateCurrentTabInfo(a)}};b.activeTab=function(a){if(b.active()){return b.active()(a)}else if(b.currentTab&&a.id===b.currentTab.id){if(g){b.tabWorkspaceContent=" "+a.data;b.template={url:a.url};g=false}return"active"}return"disable"};b.updateCurrentTabInfo=function(a){b.currentTab=a;b.tabWorkspaceContent=" "+a.data;b.template={url:a.url}};b.addTab=function(){b.tabWorkspaceContent="Dynamic tab "+b.tabCounter;b.template={url:"partials/tabs/tab_default_partial.html"};b.currentTab=f.addTab(e.tabs_group_id,"New Tab-"+b.tabCounter,b.tabWorkspaceContent,"TabsController",b.template);b.tabCounter++};b.addTabPartial=function(){b.tabWorkspaceContent='Tab that was added dynamically using "partials/tab2_single_workspace.html" partial';b.template={url:"partials/tabs_tab_single_workspace.html"};b.currentTab=f.addTabAsPartial(e.tabs_group_id,"New Tab from partial-"+b.tabCounter,b.tabWorkspaceContent,"TabsController",b.template);b.tabCounter++};b.deleteTab=function(){if(b.tabs&&b.tabs.length>2){f.removeTab(e.tabs_group_id,2);b.currentTab="";b.tabWorkspaceContent="";b.template={url:"partials/tabs_delete.html"}}};b.setMoreMenuClass=function(){return b.deleteOption==="yes"?"fis-bs-tabs-more-menu-with-delete":""};b.resizeTabs=function(){var a=b.elemNavTabs[0].offsetWidth-15;var c=0;var d=0;var e=10;var f=0;var g=0;b.elemTabsMoreMenu[0].style.display="none";var h=b.elemTabsMoreMenuDropdown.children();var i=b.elemNavTabs.children();var j=i.length;angular.forEach(i,function(b,i){if(i+1!==j){b.style.display="block";c=b.offsetWidth+7;d+=c;if(i===0||d<a){h[i].style.display="none";f++;e+=c}else{b.style.display="none";h[i].style.display="block";g++}}});if(g>0){b.elemTabsMoreMenu[0].style.display="block";var k=b.elemTabsMoreMenu[0].offsetWidth;if(f===1){b.elemNavTabs[0].style.minWidth=e+k+30+"px"}else{e+=k;if(e>a){i[f-1].style.display="none";h[f-1].style.display="block"}angular.forEach(i,function(a,c){if(c+1!==j){if(a.classList.contains("active")){if(a.style.display==="none"){b.moveTab(c)}}}})}}}}]}}})();(function(){"use strict";angular.module("fis.bootstrap.tabs").service("TabsManager",a);a.$inject=[];function a(){"use strict";var a={};var b=1;this.register=function(b,c){a[b]=c};function c(c,d,e,f,g){var h=a[c];if(typeof h==="undefined"){return}var i={};i.title="{{'"+d+"'|translate}}";i.id=".nt"+b;i.data=e;i.url=g.url;h.unshift(i);b++;return i}this.addTab=function(a,b,d,e,f){return c(a,b,d,e,f,false)};this.addTabAsPartial=function(a,b,d,e,f){return c(a,b,d,e,f,true)};this.removeTab=function(b,c){var d=a[b];if(typeof d!=="undefined"&&d.length>2){d.splice(c,1)}}}})();(function(){"use strict";angular.module("fis.bootstrap.toggleswitch").directive("fisBsToggleswitch",a);function a(){"use strict";return{restrict:"E",replace:"true",scope:{fisTsInfosource:"=?",fisTsOnchangeRef:"&fisTsOnchange"},link:function(a,b,c){a.fisTSTrueText=c.fisTsTruetext;a.fisTSFalseText=c.fisTsFalsetext},controller:["$scope","$element","$attrs","$timeout",function(a,b,c,d){a.toggleSwitchElement=b;a.fisTSId=c.fisTsId;a.fisTSName=c.fisTsName;a.fisTSClass="fis-bs-switch";a.fisTSTrueValue=c.fisTsTruevalue;a.fisTSFalseValue=c.fisTsFalsevalue;a.fisTSTrueText=c.fisTsTruetext;a.fisTSFalseText=c.fisTsFalsetext;a.fisTSMinWidth=c.fisTsMinwidth;a.fisTsOnchange=function(){d(function(){a.fisTsOnchangeRef()},0)};a.fisTSHandleLeftSwipe=function(b){if(b.type.search("touch")!==-1){angular.element(a.toggleSwitchElement.children()[0]).prop("checked",false)}};a.fisTSHandleRightSwipe=function(b){if(b.type.search("touch")!==-1){angular.element(a.toggleSwitchElement.children()[0]).prop("checked",true)}}}],templateUrl:"toggleswitch/toggleswitch.directive.html"}}})();angular.module("fis.bootstrap.components").run(["$templateCache",function(a){a.put("dialog/dialog.modal.directive.html","<div tabindex=-1 role=dialog class=\"modal fis-bs-modal\" ng-class=\"{in: animate}\" ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=close($event)><div class=\"modal-dialog fis-bs-modal-dialog\" ng-class=\"{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}\"><div class=\"modal-content fis-bs-modal-content\" uib-modal-transclude></div></div></div>");a.put("dialog/dialog.non-modal.directive.html","<div tabindex=-1 role=dialog class=\"modal fis-bs-modal non-modal fis-bs-non-modal modal-dialog fis-bs-modal-dialog non-modal-dialog fis-bs-non-modal-dialog\" ng-class=\"{in: animate, 'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}\" ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=close($event)><div class=\"modal-content fis-bs-modal-content\" uib-modal-transclude></div></div>");a.put("dialog/dialogBody.directive.html",'<div class="modal-body fis-bs-modal-body fis-bs-dialog-body" ng-transclude></div>');a.put("dialog/dialogFooter.directive.html",'<div class="modal-footer fis-bs-modal-footer fis-bs-dialog-footer" ng-transclude></div>');a.put("dialog/dialogHeader.directive.html",'<div ng-if="modalType == \'modal\' " class="modal-header fis-bs-modal-header fis-bs-dialog-header"><button type=button class="close fis-bs-close" data-dismiss=modal ng-click=cancel($event)><span aria-hidden=true><span class="icon-Close_tab sm-ic"></span></span><span class=sr-only>Close</span></button><h4 class="modal-title fis-bs-modal-title" ng-transclude></h4></div><div ng-if="modalType == \'non-modal\' " class="modal-header fis-bs-modal-header fis-bs-dialog-header fis-bs-non-modal-dialog-header" fis-bs-nonmodal-draggable><button type=button class="close fis-bs-close" data-dismiss=modal ng-click=cancel($event)><span aria-hidden=true><span class="icon-Close_tab sm-ic"></span></span><span class=sr-only>Close</span></button><h4 class="modal-title fis-bs-modal-title" ng-transclude></h4></div>');a.put("dialog/nonModalDraggable.directive.html","<div>This is nonModalDraggable template</div>");a.put("notification/notification.directive.html",'<div><div ng-if="fisBsForm.$invalid && fisBsForm.$dirty && fisBsShowStdErr"><div class=fis-notification-img><span class="icon-Error red"></span></div><div class="fis-notifications fis-error">{{fisBsStdErrMessage|translate}}</div></div><div ng-repeat="notice in fisBsNotificationsList"><ng-switch on=notice.type><div class=fis-notification-img><span ng-switch-when=fis-error class="icon-Error red"></span> <span ng-switch-when=fis-alert class="icon-Error orange"></span> <span ng-switch-when=fis-information class="icon-Information blue"></span> <span ng-switch-when=fis-success class="icon-Posak green_c"></span></div></ng-switch><div class=fis-notifications ng-class=notice.type>{{notice.message|translate}}</div><br></div></div>');a.put("tabs/tabs.directive.html",'<div><div ng-if="showButtons ==\'yes\'"><button id=tabbutton1 type=button class="btn btn-primary fis-bs-btn-primary fis-bs-field fis-bs-actions" ng-model=template ng-click=addTab()>{{"Add a tab"|translate}}</button> <button id=tabbutton2 type=button class="btn btn-primary fis-bs-btn-primary fis-bs-field fis-bs-actions" ng-model=template ng-click=addTabPartial()>{{"Add a tab from partial"|translate}}</button> <button id=tabbutton3 type=button class="btn btn-primary fis-bs-btn-primary fis-bs-field fis-bs-actions" ng-model=template ng-click=deleteTab()>{{"Delete third tab"|translate}}</button></div><div class=fis-bs-tabs><div class=fis-bs-nav-tabs-container><ul fis-bs-scope-element=elemNavTabs class="nav-tabs fis-bs-nav-tabs" style="height: 35px"><li ng-repeat="t in tabs" ng-class=activeTab(t) ng-style="{\'width\': tabWidth}" fis-bs-draggable fis-bs-droppable drop=handleDrop id=li{{$index}} ng-click=selectTab(t)><span id=sp{{$index}}><a href="" class=fis-bs-tabs-text ng-class="{\'fis-bs-tabs-no-delete\' : deleteOption !== \'yes\'}"><span>{{t.title|translate}}</span></a> <a ng-if="deleteOption == \'yes\'" href="" ng-click="removeTab($index, \'visible\'); $event.stopPropagation();" class=fis-bs-tabs-close><span class="glyphicon glyphicon-remove xsm-ic fis-bs-tabs-icon-close"></span></a></span></li><li fis-bs-scope-element=elemTabsMoreMenu class="fis-bs-tabs-more-menu dropdown" uib-dropdown><a class="dropdown-toggle fis-bs-tabs-text" uib-dropdown-toggle href=""><span>{{"More"|translate}}</span><b class=caret></b></a><ul fis-bs-scope-element=elemTabsMoreMenuDropdown class="dropdown-menu fis-bs-dropdown-menu dropdown-menu-right"><li ng-repeat="t in tabs" ng-model=template fis-bs-draggable id=sp{{$index}}><a href="" ng-click=moveTab($index) ng-class=setMoreMenuClass()>{{t.title|translate}}</a> <a ng-if="deleteOption == \'yes\'" ng-click="removeTab($index, \'hidden\')" href="" class=fis-bs-tabs-more-menu-close tabindex=0><span class="glyphicon glyphicon-remove xsm-ic fis-bs-tabs-icon-close"></span></a></li></ul></li></ul></div></div><div ng-include=template.url></div></div>');a.put("toggleswitch/toggleswitch.directive.html",'<div ng-swipe-left=fisTSHandleLeftSwipe($event) ng-swipe-right=fisTSHandleRightSwipe($event) ng-swipe-disable-mouse><input type=checkbox id={{fisTSId}} name={{fisTSName}} ng-change=fisTsOnchange() ng-model=fisTsInfosource class={{fisTSClass}} ng-true-value={{fisTSTrueValue}} ng-false-value="{{fisTSFalseValue}}"><label for={{fisTSId}} display-content-no={{fisTSFalseText|translate}} display-content-yes={{fisTSTrueText|translate}}>&nbsp;</label></div>');a.put("accordion/accordion.decorator.html","<div class=panel-group ng-transclude></div>");a.put("accordion/accordionGroup.decorator.html",'<div class="panel panel-default"><div class="panel-heading fis-bs-accordion-panel-heading"><h5 class="{{isOpen ? \'panel-title fis-bs-accordion-panel-title\':\'panel-title fis-bs-accordion-panel-title collapsed\'}}" ng-click=toggleOpen() fis-unique-id><a href class="accordion-toggle fis-bs-accordion-toggle" uib-accordion-transclude=heading><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a></h5></div><div class="panel-collapse fis-bs-accordion-panel-collapse" uib-collapse=!isOpen><div class="panel-body fis-bs-accordion-panel-body" ng-transclude></div></div></div>');a.put("calendar/datepicker.decorator.html","<div ng-switch=datepickerMode role=application ng-keydown=keydown($event)><uib-daypicker ng-switch-when=day tabindex=0></uib-daypicker><uib-monthpicker ng-switch-when=month tabindex=0></uib-monthpicker><uib-yearpicker ng-switch-when=year tabindex=0></uib-yearpicker></div>");a.put("calendar/datepickerPopupWrap.decorator.html",'<ul class="uib-datepicker-popup dropdown-menu bs-override-style" dropdown-nested ng-if=isOpen style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown=keydown($event) ng-click=$event.stopPropagation()><li ng-transclude></li><li ng-if=showButtonBar style="padding:10px 9px 2px" class=uib-button-bar><span class="btn-group pull-left"><button type=button class="btn btn-sm btn-info fis-bs-calendar-btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')" fis-unique-id>{{ getText(\'current\')|translate }}</button> <button type=button class="btn btn-sm fis-bs-calendar-btn-danger" ng-click=select(null) fis-unique-id>{{ getText(\'clear\')|translate }}</button></span> <button type=button class="btn btn-sm fis-bs-calendar-btn-success pull-right" ng-click=close() fis-unique-id>{{ getText(\'close\')|translate }}</button></li></ul>');a.put("calendar/daypicker.decorator.html",'<table role=grid aria-labelledby={{uniqueId}}-title aria-activedescendant={{activeDateId}}><thead><tr><th><button type=button class=fis-bs-calendar-pull-left ng-click=move(-1) tabindex=-1><i class="glyphicon glyphicon-chevron-left"></i></button></th><th style="border-left:solid 2px #fff; border-right:solid 2px #fff" colspan="{{5 + showWeeks}}"><button id={{uniqueId}}-title role=heading aria-live=assertive aria-atomic=true type=button class=fis-bs-calendar-middle ng-click=toggleMode() tabindex=-1><strong>{{title}}</strong></button></th><th><button type=button class=fis-bs-calendar-pull-right ng-click=move(1) tabindex=-1><i class="glyphicon glyphicon-chevron-right"></i></button></th></tr><tr><th ng-show=showWeeks class=text-center></th><th ng-repeat="label in labels track by $index" class=text-center><small aria-label={{label.full}}>{{label.abbr}}</small></th></tr></thead><tbody><tr ng-repeat="row in rows track by $index" style="border-bottom: 1px solid lightgray;  border-top: 1px solid lightgray;  border-collapse: collapse"><td ng-show=showWeeks class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td><td ng-repeat="dt in row track by dt.date" class=text-center role=gridcell id={{dt.uid}} aria-disabled={{!!dt.disabled}}><button type=button style="width:100%; height:40px; width:40px; border: 0px" class=fis-bs-calendar-cell ng-class="{ \'fis-bs-calendar-current-cell\': dt.current, \n'+"        \t\t\t'fis-bs-calendar-selected-cell': dt.selected, \n"+"        \t\t\t'fis-bs-calendar-cell-active': isActive(dt) && ! dt.selected && !dt.current,\n"+"        \t\t\t'fis-bs-calendar-cell-disabled': dt.disabled,\n"+"        \t\t\t'fis-bs-calendar-cell-muted': dt.secondary\n"+"        \t\t\t}\" ng-click=select(dt.date) ng-disabled=dt.disabled tabindex=-1><span ng-class=\"{'fis-bs-calendar-current-text': dt.current,\n"+"        \t\t\t\t\t\t'fis-bs-calendar-selected-text': dt.selected,\n"+"        \t\t\t\t\t\t'fis-bs-calendar-cell-active': isActive(dt) && ! dt.selected && !dt.current,\n"+"        \t\t\t\t\t\t'fis-bs-calendar-text-muted': dt.secondary \n"+'       \t\t\t\t\t      }">{{dt.label}}</span></button></td></tr></tbody></table>');a.put("calendar/monthpicker.decorator.html",'<table role=grid aria-labelledby={{uniqueId}}-title aria-activedescendant={{activeDateId}}><thead><tr><th><button type=button class="fis-bs-calendar-btn btn-default btn-sm fis-bs-calendar-pull-left" ng-click=move(-1) tabindex=-1><i class="glyphicon glyphicon-chevron-left"></i></button></th><th><button id={{uniqueId}}-title role=heading aria-live=assertive aria-atomic=true type=button class="fis-bs-calendar-midle btn-default btn-sm" ng-click=toggleMode() tabindex=-1 style=width:100%><strong>{{title}}</strong></button></th><th><button type=button class="fis-bs-calendar-btn btn-default btn-sm fis-bs-calendar-pull-right" ng-click=move(1) tabindex=-1><i class="glyphicon glyphicon-chevron-right"></i></button></th></tr></thead><tbody><tr ng-repeat="row in rows track by $index"><td ng-repeat="dt in row track by dt.date" class=text-center role=gridcell id={{dt.uid}} aria-disabled={{!!dt.disabled}}><button type=button style=width:100% class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click=select(dt.date) ng-disabled=dt.disabled tabindex=-1><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button></td></tr></tbody></table>');a.put("calendar/yearpicker.decorator.html",'<table role=grid aria-labelledby={{uniqueId}}-title aria-activedescendant={{activeDateId}}><thead><tr><th><button type=button class="fis-bs-calendar-btn btn-default btn-sm fis-bs-calendar-pull-left" ng-click=move(-1) tabindex=-1><i class="glyphicon glyphicon-chevron-left"></i></button></th><th colspan=3><button id={{uniqueId}}-title role=heading aria-live=assertive aria-atomic=true type=button class="fis-bs-calendar-midle btn-default btn-sm" ng-click=toggleMode() tabindex=-1 style=width:100%><strong>{{title}}</strong></button></th><th><button type=button class="fis-bs-calendar-btn btn-default btn-sm fis-bs-calendar-pull-right" ng-click=move(1) tabindex=-1><i class="glyphicon glyphicon-chevron-right"></i></button></th></tr></thead><tbody><tr ng-repeat="row in rows track by $index"><td ng-repeat="dt in row track by dt.date" class=text-center role=gridcell id={{dt.uid}} aria-disabled={{!!dt.disabled}}><button type=button style=width:100% class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click=select(dt.date) ng-disabled=dt.disabled tabindex=-1><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button></td></tr></tbody></table>')}]);(function(){"use strict";var a=["smart-table","ui.bootstrap","fis.bootstrap.table"];angular.module("fis.bootstrap.table",a);
})();(function(){"use strict";angular.module("fis.bootstrap.table").directive("stRatio",a);function a(){"use strict";return{link:function(a,b,c){var d=c.stRatio;b.css("width",d+"%")}}}})();(function(){"use strict";angular.module("fis.bootstrap.table").directive("fisBsDropdownMultiselect",a);function a(){"use strict";return{restrict:"E",scope:{options:"="},templateUrl:"table/dropdownMultiselect.directive.html",link:function(a){a.setSelectedItem=function(b){b.stopPropagation();var c=this.option.id;a.showHide(c);return false};a.isChecked=function(a){if(a){return"icon-ok"}return false};a.showHide=function(b){var c=a.$parent.roles[b].checkValue;if(c){a.$parent.roles[b].checkValue=false}else{a.$parent.roles[b].checkValue=true}}}}}})();(function(){"use strict";angular.module("fis.bootstrap.table").directive("fisBsPaginationLocal",a);function a(){"use strict";return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageTemplate:"=?"},templateUrl:"table/paginationLocal.directive.html",link:function(a,b,c,d){a.stItemsByPage=a.stItemsByPage?a.stItemsByPage:10;a.stDisplayedPages=a.stDisplayedPages?a.stDisplayedPages:5;a.currentPage=1;a.pages=[];function e(){var b=d.tableState().pagination;var c=1;var e;var f;a.currentPage=Math.floor(b.start/b.number)+1;a.totalItemCount=b.totalItemCount;c=Math.max(c,a.currentPage-Math.abs(Math.floor(a.stDisplayedPages/2)));e=c+a.stDisplayedPages;if(e>b.numberOfPages){e=b.numberOfPages+1;c=Math.max(1,e-a.stDisplayedPages)}a.pages=[];a.numPages=b.numberOfPages;for(f=c;f<e;f++){a.pages.push(f)}}a.$watch(function(){return d.tableState().pagination},e,true);a.$watch("stItemsByPage",function(){a.selectPage(1)});a.$watch("stDisplayedPages",e);a.selectPage=function(b){if(b>0&&b<=a.numPages){d.slice((b-1)*a.stItemsByPage,a.stItemsByPage)}};a.nextPage=function(){if(a.numPages>a.currentPage){var b=a.currentPage+1;d.slice((b-1)*a.stItemsByPage,a.stItemsByPage)}};a.changePageCount=function(){if(a.currentPage===1){return"1-"+a.stItemsByPage}else if(a.currentPage<a.numPages){return a.stItemsByPage*(a.currentPage-1)+1+"-"+a.stItemsByPage*a.currentPage}else if(a.currentPage===a.numPages){return a.stItemsByPage*(a.currentPage-1)+1+"-"+a.totalItemCount}};a.totalRecords=function(){return a.totalItemCount};a.previousPage=function(){if(a.currentPage>1){var b=a.currentPage-1;d.slice((b-1)*a.stItemsByPage,a.stItemsByPage)}};a.lastPage=function(){if(a.numPages>a.currentPage){var b=a.numPages;d.slice((b-1)*a.stItemsByPage,a.stItemsByPage)}};d.slice(0,a.stItemsByPage)}}}})();(function(){"use strict";angular.module("fis.bootstrap.table").directive("fisBsPaginationServer",a);function a(){"use strict";return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageTemplate:"=?",stRetrieveTableData:"&"},templateUrl:"table/paginationServer.directive.html",link:function(a,b,c,d){a.stItemsByPage=a.stItemsByPage?a.stItemsByPage:10;a.stDisplayedPages=a.stDisplayedPages?a.stDisplayedPages:5;a.currentPage=1;a.pages=[];function e(){var b=d.tableState().pagination;b.numberOfPages=a.$parent.numberOfPages;a.totalItemCount=b.totalItemCount;var c=1;var e;c=Math.max(c,a.currentPage-Math.abs(Math.floor(a.stDisplayedPages/2)));e=c+a.stDisplayedPages;if(e>b.numberOfPages){e=b.numberOfPages+1;c=Math.max(1,e-a.stDisplayedPages)}a.pages=[];a.numPages=b.numberOfPages;if(a.totalItemCount>0){f(a.currentPage,a.totalItemCount,a.stItemsByPage,a.stDisplayedPages)}}function f(b,c,d,e){var f=a.$parent.numberOfPages;var h=Math.ceil(e/2);var i;if(b<=h){i="start"}else if(f-h<b){i="end"}else{i="middle"}var j=e<f;var k=1;while(k<=f&&k<=e){var l=g(k,b,e,f);var m=k===2&&(i==="middle"||i==="end");var n=k===e-1&&(i==="middle"||i==="start");if(j&&(m||n)){a.pages.push("...")}else{a.pages.push(l)}k++}}function g(a,b,c,d){var e=Math.ceil(c/2);if(a===c){return d}else if(a===1){return a}else if(c<d){if(d-e<b){return d-c+a}else if(e<b){return b-e+a}return a}return a}a.$watch(function(){return d.tableState().pagination},e,true);a.$watch("stItemsByPage",function(){a.selectPage(1)});a.$watch("stDisplayedPages",e);a.selectPage=function(b){if(b>0&&b<=a.numPages){if(a.stRetrieveTableData()){a.stRetrieveTableData()(b);d.slice((b-1)*a.stItemsByPage,a.stItemsByPage);a.currentPage=b}}};a.nextPage=function(){if(a.numPages>a.currentPage){var b=a.currentPage+1;if(a.stRetrieveTableData()){a.stRetrieveTableData()(b);d.slice((b-1)*a.stItemsByPage,a.stItemsByPage);a.currentPage=b}}};a.previousPage=function(){if(a.currentPage>1){var b=a.currentPage-1;if(a.stRetrieveTableData()){a.stRetrieveTableData()(b);d.slice((b-1)*a.stItemsByPage,a.stItemsByPage);a.currentPage=b}}};a.lastPage=function(){if(a.numPages>a.currentPage){var b=a.numPages;if(a.stRetrieveTableData()){a.stRetrieveTableData()(b);d.slice((b-1)*a.stItemsByPage,a.stItemsByPage);a.currentPage=b}}};d.slice(0,a.stItemsByPage)}}}})();(function(){"use strict";angular.module("fis.bootstrap.table").directive("fisBsShowhideColumns",a);function a(){"use strict";return{link:function(a,b,c){a.$watch(c.fisBsShowhideColumns,function(a){if(a){b.css("display","table-cell")}else{b.css("display","none")}})}}}})();angular.module("fis.bootstrap.table").run(["$templateCache",function(a){a.put("table/dropdownMultiselect.directive.html",'<div class="btn-group multiselect-dropdown" is-open=status.isopen uib-dropdown><button type=button class="btn btn-default uib-dropdown-toggle" uib-dropdown-toggle ng-disabled=disabled>Show <span class=caret></span></button><ul class="dropdown-menu dropdown-menu-custom" role=menu aria-labelledby=dropdownMenu><li ng-repeat="option in options"><a ng-click=setSelectedItem($event);$event.stopPropagation(); ng-model=option.checkValue><span ng-class=isChecked(option.checkValue)></span>{{option.name}}</a></li></ul></div>');a.put("table/paginationLocal.directive.html",'<div class="pagination fis-bs-pagination" ng-if="pages.length >= 2"><ul class="pagination fis-bs-pagination"><li ng-class="{ disabled : currentPage == 1 }"><a href="" ng-click=selectPage(1)>&lt;&lt;</a></li><li ng-class="{ disabled : currentPage == 1 }"><a href="" ng-click=previousPage()>&lt;</a></li><li><a href=""><b>{{changePageCount()}}</b> of {{totalRecords()}}</a></li><li ng-class="{ disabled : currentPage == numPages }" class=ng-scope><a href="" ng-click=nextPage()>&gt;</a></li><li ng-class="{ disabled : currentPage == numPages }" class=ng-scope><a href="" ng-click=lastPage()>&gt;&gt;</a></li></ul></div>');a.put("table/paginationServer.directive.html",'<div class="pagination fis-bs-pagination" ng-if="pages.length >= 2"><ul class="pagination fis-bs-pagination"><li ng-class="{ disabled : currentPage == 1 }"><a ng-click=selectPage(1)>&lt;&lt;</a></li><li ng-class="{ disabled : currentPage == 1 }"><a ng-click=previousPage()>&lt;</a></li><li ng-repeat="page in pages track by $index" ng-class="{active: page==currentPage, disabled : page== \'...\' }"><a ng-click=selectPage(page)>{{page}}</a></li><li ng-class="{ disabled : currentPage == numPages }" class=ng-scope><a ng-click=nextPage()>&gt;</a></li><li ng-class="{ disabled : currentPage == numPages }" class=ng-scope><a ng-click=lastPage()>&gt;&gt;</a></li></ul></div>')}]);