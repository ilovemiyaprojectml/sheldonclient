/*!
@ruf/fis-framework
Version: 4.5.1

© 2018
Fidelity National Information Services, Inc. and/or its subsidiaries - All Rights Reserved worldwide.
This document is protected under the trade secret and copyright laws as the property of Fidelity National Information Services, Inc. and/or its subsidiaries.
Copying, reproduction or distribution should be limited and only to employees with a “need to know” to do their job. Any disclosure of this document to third parties is strictly prohibited.
*/
/*!
 * 
 * @ruf/fis-core-components
 * Version: 4.5.1
 * 
 * © 2018
 * Fidelity National Information Services, Inc. and/or its subsidiaries - All Rights Reserved worldwide.
 * This document is protected under the trade secret and copyright laws as the property of Fidelity National Information Services, Inc. and/or its subsidiaries.
 * Copying, reproduction or distribution should be limited and only to employees with a “need to know” to do their job. Any disclosure of this document to third parties is strictly prohibited.
 * 
 */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(65),n(1);var i=n(63),a=r(i),o=n(61),u=r(o),s=n(2),l=r(s);n(28),n(27);var f=n(31),c=r(f),d=n(7),p=r(d),v=n(13),h=r(v),g=n(23),m=r(g),b=n(35),y=r(b),w=n(39),$=r(w),P=n(48),I=r(P),_=n(51),S=r(_),O=n(55),x=r(O),N=angular.module("fis.core",[l.default,a.default,u.default,c.default,p.default,h.default,m.default,y.default,$.default,I.default,S.default,x.default]);angular.module("fisComponents",[N.name]),N.decorator("$compile",["$delegate",function(e){return e.$$addScopeInfo=function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)},e}]),N.run(["$rootScope",function(e){e.controllersArr=[]}]),N.run(["$sniffer",function(e){var t=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10),n=e.hasEvent;e.hasEvent=function(e){return("input"!==e||10!==t)&&n.call(this,e)}}]),e.exports=N.name},function(e,t){e.exports=angular},function(e,t){e.exports="ngAnimate"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=["typeBasedConstraints",function(e){var t={};return t.getConstraintsByType=function(t){var n=e[t];return angular.isDefined(n)?n:e.string},t}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){return parseInt(e,10)}function t(t){var n,r=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;if(n=t.match(r)){var i=new Date(0),a=0,o=0,u=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(a=e(n[9]+n[10]),o=e(n[9]+n[11])),u.call(i,e(n[1]),e(n[2])-1,e(n[3]));var l=e(n[4]||0)-a,f=e(n[5]||0)-o,c=e(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,l,f,c,d),i}return t}var n=this;n.$get=[function(){function e(e){if(angular.isString(e))this.operator=e||u.operators.AND,this.operands=[];else if(angular.isObject(e)){var t=e,r=u.operators.AND;if(t.operator&&(r=t.operator),u.operators.indexOf(r)===-1)throw new Error("Invalid operator : "+r);var i=u.newCriteria(r);return angular.isArray(t.operands)&&n(t.operands,i),i}}function n(e,t){for(var r=0;r<e.length;r++){var i=e[r];if(i.operator){var a=u.newCriteria(i.operator);i.operands&&(n(i.operands,a),t.add(a))}else t.add(new u.Criterion(i.property,i.value,i.constraint,i.type,i.skipValidation))}}function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}function i(e,n,i){if((angular.isUndefined(e)||""===e)&&0!==e)return s.indexOf(n)!==-1;if(s.indexOf(n)>-1)return!1;if(("integer"===i||"number"===i||"double"===i)&&!r(e))return!1;if(("date"===i||"datetime"===i||"time"===i)&&!e.toISOString)try{new Date(e).toISOString()}catch(n){if(e=t(e),!angular.isUndefined(e))try{return Boolean(angular.isDate(e)?e.toISOString():new Date(e).toISOString())}catch(e){return!1}return!1}return"boolean"!==i||"boolean"==typeof e||"true"===e||"false"===e}function a(e,t,n,r,i){this.property=e||null,this.value=angular.isUndefined(t)?"":t,this.constraint=n||u.constraints.EQ,this.type=r,this.skipValidation=i}function o(e,n){return"integer"===n||"boolean"===n||n&&"double"===n.substring(0,6)||"number"===n?e:"date"===n||"datetime"===n||"time"===n?(e.toISOString||(e=isNaN(Date.parse(e))?t(e):new Date(e)),"datetime'"+e.toISOString()+"'"):"'"+e.toString().replace(/'/g,"''")+"'"}var u={};u.operators=["and","or"],u.operators.AND=u.operators[0],u.operators.OR=u.operators[1],u.constraints=["eq","contains","ne","gt","ge","lt","le","startswith","endswith","is_null","not_contains","not_endswith","not_null","in_rel_range","not_in_rel_range","in_future","in_past","is_between","not_is_between","in","not_in","is_empty","not_empty","not_startswith"],u.constraints.EQ=u.constraints[0],u.constraints.CONTAINS=u.constraints[1],u.constraints.NE=u.constraints[2],u.constraints.GT=u.constraints[3],u.constraints.GE=u.constraints[4],u.constraints.LT=u.constraints[5],u.constraints.LE=u.constraints[6],u.constraints.STARTS_WITH=u.constraints[7],u.constraints.ENDS_WITH=u.constraints[8],u.constraints.IS_NULL=u.constraints[9],u.constraints.NOT_CONTAINS=u.constraints[10],u.constraints.NOT_ENDS_WITH=u.constraints[11],u.constraints.NOT_NULL=u.constraints[12],u.constraints.IN_REL_RANGE=u.constraints[13],u.constraints.NOT_IN_REL_RANGE=u.constraints[14],u.constraints.IN_FUTURE=u.constraints[15],u.constraints.IN_PAST=u.constraints[16],u.constraints.BETWEEN=u.constraints[17],u.constraints.NOT_BETWEEN=u.constraints[18],u.constraints.IN=u.constraints[19],u.constraints.NOT_IN=u.constraints[20],u.constraints.IS_EMPTY=u.constraints[21],u.constraints.NOT_EMPTY=u.constraints[22],u.constraints.NOT_STARTS_WITH=u.constraints[23];var s=[u.constraints.IS_EMPTY,u.constraints.NOT_EMPTY,u.constraints.IS_NULL,u.constraints.NOT_NULL];return e.prototype.setOperator=function(e){if(u.operators.indexOf(e)===-1)throw new Error("Invalid operator : "+e);return this.operator=e,this},e.prototype.add=function(e){return e.validate(),this.operands.push(e),this},e.prototype.setOperands=function(e){return this.operands=e,this},e.prototype.isValid=function(e){if(u.operators.indexOf(this.operator)===-1)return!1;if(e&&0===this.operands.length)return!1;for(var t=0;t<this.operands.length;t++){var n=this.operands[t];if(!angular.isUndefined(n.skipValidation)&&!n.skipValidation&&!n.isValid(!0))return!1;var r=t+1,i=this.operands[r];if(i){if(!angular.isUndefined(i.skipValidation)&&!i.skipValidation&&!i.isValid(!0))return!1;if(u.operators.indexOf(this.operator)===-1)return!1}}return!0},e.prototype.validate=function(){if(!this.isValid())throw new Error("Invalid Criteria: "+this)},e.prototype.validateWithoutError=function(){return console.warn("DEPRECATED: Criteria.validateWithoutError. Use Criteria.isValid."),this.isValid()},e.prototype.toString=function(){var e=this.getAsString(),t="";return e&&(t=e.substring(1),t=t.substring(0,t.length-1)),t},e.prototype.getAsString=function(){for(var e="(",t=0;t<this.operands.length;t++){var n=this.operands[t];e+=n.getAsString();var r=t+1,i=this.operands[r];i&&(e+=" ",e+=this.operator,e+=" ")}return e+=")"},a.prototype.getAsString=function(){var e="";switch(this.constraint){case"startswith":case"endswith":e=this.constraint+"("+this.property+","+o(this.value,this.type)+")";break;case"not_startswith":case"not_endswith":e="not "+this.constraint.substring(this.constraint.indexOf("_")+1)+"("+this.property+","+o(this.value,this.type)+")";break;case"contains":e="substringof("+o(this.value,this.type)+","+this.property+") eq true";break;case"not_contains":e="substringof("+o(this.value,this.type)+","+this.property+") eq false";break;case"is_null":e=this.property+" eq null";break;case"not_null":e=this.property+" ne null";break;case"is_empty":e=this.property+" eq ''";break;case"not_empty":e=this.property+" ne ''";break;default:e=this.skipValidation||u.constraints.indexOf(this.constraint)<0?this.property+" "+this.constraint+" "+this.value:this.property+" "+this.constraint+" "+o(this.value,this.type)}return e},a.prototype.isValid=function(){return!(!this.property||u.constraints.indexOf(this.constraint)===-1||!i(this.value,this.constraint,this.type))},a.prototype.validate=function(){if(!angular.isUndefined(this.skipValidation)&&!this.skipValidation&&!this.isValid())throw new Error("Invalid Criterion: "+this)},a.prototype.validateWithoutError=function(){return console.warn("DEPRECATED: Criterion.validateWithoutError. Use Criterion.isValid."),this.isValid()},a.prototype.setProperty=function(e){if(!e)throw new Error("Invalid property");return this.property=e,this},a.prototype.setValue=function(e){return this.value=e,this},a.prototype.setConstraint=function(e){if(u.constraints.indexOf(e)===-1)throw new Error("Invalid constraint : "+e);return this.constraint=e,this},u.newCriteria=function(t){if(t||(t=u.operators.AND),angular.isString(t)&&u.operators.indexOf(t)===-1)throw new Error("Invalid operator : "+t);return new e(t)},u.Criteria=e,u.Criterion=a,u}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$parse","$timeout","fisMemoryUtilService",function(e,t,n){"ngInject";return{restrict:"A",require:"fisData",link:function(r,i,a,o){if(angular.isUndefined(a.fisDataVar)||0===a.fisDataVar.length)throw new Error("The fisDataVar attribute must have a value.");var u=a.fisDataVar,s=function(i){if(!i||!i.defaultPrevented){var a=t(function(){var t=o.fetchData();t.then(function(t){var n=e(u);n.assign(r,t.data)},function(e){console.warn("Problem loading data: "+e)})});n.cancelTimeoutOnDestroy(r,a,t)}};angular.isDefined(a.fisRefresh)&&r.$on("fisRefresh",s);var l=function(){s()};o.addDataChangedListener(l),s()}}}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisResourceService","$q","$parse","fisCriteriaService","fisElementUtils","$interpolate","$timeout","fisUtilService","fisConfig","fisScopeUtils",function(e,t,n,r,i,a,o,u,s,l){"ngInject";var f="fisParam";return{restrict:"A",priority:600,compile:function(e,t){return t._paramVariables=i.copyProperties(t,f,{}),function(){}},controller:["$attrs","$scope","$element",function(c,d,p){function v(){return angular.isUndefined(c.fisFetchVisibleOnly)||!c.fisFetchVisibleOnly}function h(e){var t=[],n=D.data(e);return angular.forEach(n,function(e){t.push(e)}),t}function g(e){if(e.data)return e;if(angular.isArray(e)){if(e.length>1)return{data:e};if(1===e.length)return{data:e,obj:e[0]}}if(angular.isArray(e))return{data:e};if(D&&D.data){var t={data:[]};if(angular.extend(t,e),"data"!==D.data){var n;angular.isString(D.data)&&(n=u.extractData(D.data,e)),angular.forEach(n,function(e){t.data.push(e)})}return D.total&&(t.total=e[D.total]),"data"!==D.data&&delete t[D.data],"total"!==D.total&&delete t[D.total],t}return{data:[e]}}function m(e,t){return angular.forEach(e,function(e){t=g(e(t)||t)}),t}function b(e){var n,r,i=t.defer();return e.crit&&(e.crit=e.crit.toString()),$&&(e.crit&&(e.$filter=e.crit.toString(),delete e.crit),angular.isNumber(e.offset)&&(e.$skip=e.offset,delete e.offset),angular.isNumber(e.limit)&&(e.$top=e.limit,delete e.limit),e.sort&&(e.$orderby=e.sort,delete e.sort),e.$format="json"),n=I.getData(e,function(){i.resolve(m(E,n))},function(e){i.reject(m(E,e))}),r=i.promise,r.data=n.data,r}function y(t,r){return _?null:(r=r||x&&t.fisData||n(t.fisData)(d),angular.isString(r)?e(r,null,null,D):r?null:e(t.fisData,null,null,D))}var w=this,$="odatav3"===c.fisAdaptor||"odatav3"===s.dataSourceAdaptor;if(!v()){var P=function(){d.allowFetch=p.is(":visible"),d.allowFetch&&d.deferred&&(d.deferred.resolve(w.fetchData(d.lastParams)),d.deferred=void 0,d.lastParams=void 0)};l.postDigest(d,function(){return p.is(":visible")},P,o,!0)}if(!c.fisData)throw new Error("You must provide a value to the fis-data attribute");var I,_=c.fisData.indexOf("(")!==-1,S=c.fisData.indexOf("[")!==-1,O=c.fisData.indexOf("{")!==-1,x=!_&&!S&&!O&&c.fisData.indexOf("/")!==-1,N=[],E=[],C=[],D={data:void 0!==n(c.fisSchemaData)(d)?n(c.fisSchemaData)(d):c.fisSchemaData,total:c.fisSchemaTotal};if(!x&&!_){var T=d.$watch(c.fisData,function(e,t){e&&e!==t&&(I=y(c,e),w.fireDataChanged(e))});d.$on("$destroy",function(){T&&T()})}w.getSchema=function(){return D},w.fireDataChanged=function(e){m(C,e)},w.fetchData=function(e){if(c.fisSort){var o=n(c.fisSort);if(o.assign&&e){var u=[];if($){var s=e.sort;if(s){var l=s.split(",");angular.forEach(l,function(e){var t=e.split(" ");2===t.length&&u.push({field:t[0],dir:t[1]})})}}else angular.forEach(e.sort,function(e){var t=e.split(",");u.push({field:t[0],dir:t[1]})});o.assign(d,1===u.length?u[0]:u)}}if(!v()&&!d.allowFetch){if(d.lastParams=e,d.deferred){var p=t.defer();d.deferred.resolve(p.promise),d.deferred=p}else d.deferred=t.defer();return d.deferred.promise}if(c.fisCriteria){var w,P,S=r.newCriteria(n(c.fisCriteria)(d));e.crit?(P=[],S.operands.concat(e.crit.operands).forEach(function(e){P.indexOf(e)===-1&&P.push(e)}),w=angular.extend(S,e.crit),w.operands=P):w=S,e.crit=w.toString()}if(I=y(c),m(N,e),e=i.copyProperties(c,f,e),d.hasOwnProperty("$$isolateBindings")&&d&&angular.forEach(c._paramVariables,function(t,n){var r=a(t)(d);e[n]=r}),I)return b(e);var O,x=n(c.fisData);if(_)O=t.when(x(d,{params:e})).then(function(e){var t=m(E,g(e));return angular.isFunction(D.data)&&(t.data=h(e)),t},function(){throw new Error("fisData could not get data from "+c.fisData)});else{var C=x(d);if(angular.isFunction(C)){var T=C(e);O=t.when(T).then(function(e){var t=m(E,g(e));return angular.isFunction(D.data)&&(t.data=h(e)),t},function(){throw new Error("fisData could not get data from "+c.fisData)})}else{var j=t.defer(),k=m(E,g(C));angular.isFunction(D.data)&&(k.data=h(C)),j.resolve(k),O=j.promise}}return O},w.addDataChangedListener=function(e){return C.indexOf(e)===-1&&C.push(e),function(){var t=C.indexOf(e);t!==-1&&C.splice(t,1)}},w.addBeforeFetchListener=function(e){return N.indexOf(e)===-1&&N.push(e),function(){var t=N.indexOf(e);t!==-1&&N.splice(t,1)}},w.addAfterFetchListener=function(e){return E.indexOf(e)===-1&&E.push(e),function(){var t=E.indexOf(e);t!==-1&&E.splice(t,1)}}}]}}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(6),u=r(o),s=n(5),l=r(s),f=n(8),c=r(f),d=n(4),p=r(d),v=n(3),h=r(v),g=n(9),m=r(g),b=a.default.module("fis.core.data",[]);b.directive("fisData",u.default),b.directive("fisDataVar",l.default),b.provider("fisResourceService",c.default),b.provider("fisCriteriaService",p.default),b.provider("fisConstraintsFactory",h.default),b.value("typeBasedConstraints",m.default),t.default=b.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=["$resource","fisUtilService",function(e,t){return function(n,r,i,a){var o=e(n,r,i);return o.getData=function(e,n,r){var i={data:[]};return a&&a.data?o.get(e,function(e,r){if(i.data.length=0,angular.extend(i,e),"data"!==a.data)if("none"===a.data){var o={};angular.forEach(e,function(e,t){0!==t.toString().indexOf("$")&&(o[t]=e)}),i.data.push(o)}else{var u;angular.isString(a.data)?u=t.extractData(a.data,e):angular.isFunction(a.data)&&(u=a.data(e)),angular.forEach(u,function(e){i.data.push(e)})}a.total&&(i.total=e[a.total]),"data"!==a.data&&"none"!==a.data&&delete i[a.data],"total"!==a.total&&delete i[a.total],n(i,r)},r):i.data=o.query(e,function(e,t){n(i,t)},r),i},o}}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{value:"eq",label:"is"},{value:"ne",label:"is not"},{value:"is_null",label:"is null"},{value:"not_null",label:"is not null"}],r=n.concat([{value:"gt",label:"greater than"},{value:"ge",label:"greater than or equal to"},{value:"lt",label:"less than"},{value:"le",label:"less than or equal to"}]),i=n.concat([{value:"contains",label:"contains"},{value:"not_contains",label:"not contains"},{value:"is_empty",label:"is empty"},{value:"not_empty",label:"is not empty"},{value:"startswith",label:"starts with"},{value:"not_startswith",label:"not starts with"},{value:"endswith",label:"ends with"},{value:"not_endswith",label:"not ends with"}]);t.default={string:i,integer:r,currency:r,percentage:r,number:r,double:r,date:r,datetime:r,time:r,defaultType:i,boolean:n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisPubSubService",function(e){"ngInject";return{restrict:"A",link:function(t,n,r){var i=r.fisDraggable===!0||"true"===r.fisDraggable;n.attr("draggable",i);var a="fisOnDragStart."+r.fisDragDropType,o="fisOnDrag."+r.fisDragDropType,u="fisOnDragEnd."+r.fisDragDropType;n.get(0).addEventListener("dragstart",function(t){e.publish(a,{event:t})}),n.get(0).addEventListener("dragover",function(e){e.preventDefault()}),n.get(0).addEventListener("drag",function(t){e.publish(o,{event:t})}),n.get(0).addEventListener("dragend",function(t){e.publish(u,{event:t})})}}}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisPubSubService",function(e){"ngInject";return{restrict:"A",link:function(t,n,r){var i="fisOnDragEnter."+r.fisDragDropType,a="fisOnDragLeave."+r.fisDragDropType,o="fisOnDrop."+r.fisDragDropType;n.get(0).addEventListener("dragover",function(e){e.preventDefault()}),n.get(0).addEventListener("dragenter",function(t){e.publish(i,{event:t})}),n.get(0).addEventListener("dragleave",function(t){e.publish(a,{event:t})}),n.get(0).addEventListener("drop",function(t){t.preventDefault(),e.publish(o,{event:t})})}}}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(10),u=r(o),s=n(11),l=r(s),f=a.default.module("fis.core.directives.dragdrop",[]);f.directive("fisDraggable",u.default),f.directive("fisDropTarget",l.default),t.default=f.name},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(17),u=r(o),s=n(12),l=r(s),f=a.default.module("fis.core.directives",[u.default,l.default]);t.default=f.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile",function(e){"ngInject";return{restrict:"A",priority:590,terminal:!0,compile:function(){return function(t,n,r){n.addClass(t.$eval(r.fisApplyClassDirective)),e(n,null,590)(t)}}}}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var e={};return e.copyProperties=function(e,t,n){if(void 0===e)throw"sourceObject must be provided";if(void 0===t||"string"!=typeof t||t.length<1)throw"no not empty string prefix provided. Got "+t;void 0===n&&(n={});var r=Object.keys(e).filter(function(e){return e.substring(0,t.length)===t});return void 0!==r&&angular.forEach(r,function(r){var i=r.substr(t.length);i=i.substring(0,1).toLowerCase()+i.substring(1),n[i]=e[r]}),n},e.invokeAndObserve=function(e,t,n){angular.isDefined(e[t])||n(void 0),e.$observe(t,n)},e}},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisUniqueIdService","fisScopeUtils",function(t,n){"ngInject";function r(e,t,n,r){return r[0]&&r[0].$modelValue||""}function i(e,t){var n=c(t),r=d(t);o(e,t,n),s(e,t,n),u(e,t,r)}function a(e,n){return function(r,i,a,o){void 0===a.fisLabel&&(null!=a.required&&i.find(".control-label").addClass("without-fis-label"),i.find(".controls").addClass("without-fis-label")),a.$observe("ngRequiredInput",function(e){"true"===e&&i.addClass("fis-required")});var u=i.find("input").attr("ng-model");u||(u=i.find("select").attr("ng-model")),t.generateUniqueId(r,i.find(".fis-view-value"),a,"view_"+u),r.fisFieldValueFn=n,e&&e(r,i,a,o)}}function o(t,n,r){var i=t;angular.forEach(r,function(n,r){var a=l(t,r);i=e.omit(i,e.keys(a)),angular.forEach(a,function(e){n.attr(e.name,e.val)})}),angular.forEach(i,function(e,r){if("class"===r)n.addClass(e);else{var i=t.$attr[r];i&&n.attr(i,e)}})}function u(t,n,r){var i=t;angular.forEach(r,function(n,r){var a=f(t,r);i=e.omit(i,e.keys(a)),angular.forEach(a,function(e){"class"===e.name?n.addClass(e.val):n.attr(e.name,e.val)})}),angular.forEach(i,function(e,r){if("class"===r)n.addClass(e);else{var i=t.$attr[r];i&&n.attr(i,e)}})}function s(e,t,n){angular.forEach(n,function(t){t.attr("ng-disabled","fisDisabled"),t.attr("fis-unique-id",""),null!=e.required?t.attr("required",!0):t.attr("ng-required","fisRequired")}),null!=e.required&&t.addClass("fis-required")}function l(e,t){var n={},r="-"+t,i=new RegExp(r+"$");return angular.forEach(e,function(t,a){var o=e.$attr[a];if(o&&o.match(i)){var u=o.substring(0,o.length-r.length);n[a]={name:u,val:t}}}),n}function f(e,t){var n={},r="-"+t,i=new RegExp(r+"$");return angular.forEach(e,function(t,a){var o=e.$attr[a];if(o&&o.match(i)&&"fis-label"!==o){var u=o.substring(0,o.length-r.length);n[a]={name:u,val:t}}}),n}function c(e){for(var t={},n=e[0].querySelectorAll("[fis-input]"),r=0;r<n.length;++r){var i=angular.element(n[r]);t[i.attr("fis-input")||"input"]=i}return t}function d(e){var t={};return e.find("label").each(function(e,n){var r=angular.element(n);t[r.attr("fis-label")||"label"]=r}),t}var p='<div class="fis-field control-group">\n                <%var isExpVal=false;if (field.attrs.fisLabel  || field.attrs.required !== undefined) {if(field.attrs.fisLabel && field.attrs.fisLabel.indexOf("\'") > -1){field.attrs.fisLabel = field.attrs.fisLabel.replace(/\'/g,\'"\');}if(field.attrs.fisLabel && field.attrs.fisLabel.indexOf("{{") > -1){field.attrs.fisLabel = field.attrs.fisLabel.replace(/{|}/g,"");isExpVal=true;}%><label class="control-label"><span><span class="fis-req">*</span><%if(isExpVal){%><span ng-bind-html="<%- field.attrs.fisLabel %>"></span><%} else{%><span ng-bind-html="\'<%- field.attrs.fisLabel %>\'"></span><%}%></span></label><%}%>\n                <div class="controls">\n                    <div ng-show="fisEditMode" class="wrap fis-inputs" fis-unique-id="edit_mode">\n                    <%= field.editTemplate %>\n                    </div>\n                    <div ng-show="!fisEditMode" class="wrap fis-view-value control-label-view" fis-unique-id="not_edit_mode">\n                    <%= field.viewTemplate %>\n                    </div>\n                    <% if (field.attrs.fisInstruct){ %><span ng-show="fisEditMode" class="fis-instruct-message"><%- field.attrs.fisInstruct %></span> <% } %>\n                    <span ng-show="fisEditMode" fis-field-message></span>\n                </div>\n            </div>',v=function(e,t,r,i,a){e.$parent.fisEditMode!==!0&&e.$parent.fisEditMode!==!1&&(e.$parent.fisEditMode=!0),n.watch(e.$parent,r.fisDisabled,function(n){e.fisDisabled=n;var i=a(r.fisRequired)(e);i===!0&&(n===!0?(e.fisRequired=!1,t.removeClass("fis-required")):(e.fisRequired=!0,t.addClass("fis-required")))}),n.watch(e.$parent,r.fisRequired,function(n){e.fisRequired=n,n?t.addClass("fis-required"):null==r.required&&t.removeClass("fis-required")}),n.watch(e.$parent,r.fisEditMode,function(t){e.fisEditMode=t}),e.registeredInputs={};var o=[];e.registerInput=function(t){t.fisProperty&&(e.registeredInputs[t.fisProperty]=t,o.push(t))},e.unregisterInput=function(t){if(t.fisProperty&&e.registeredInputs[t.fisProperty]===t){delete e.registeredInputs[t.fisProperty];var n=o.indexOf(t);n>-1&&delete o[n]}},e.fieldValue=function(){return e.fisFieldValueFn(e,t,r,o)}},h=function(t){var n=this;return t=t||{},n.priority=0,void 0!==t.priority&&(n.priority=t.priority),n.restrict=t.restrict||"ACE",n.require=t.require,n.transclude=t.transclude||!1,n.scope=!0,n.editTemplate=t.editTemplate||"",n.viewTemplate=t.viewTemplate||"{{fieldValue()}}",n.fieldValue=t.fieldValue||r,n.compiledTemplate=e.template(p),n.controller=t.controller||["$scope","$element","$attrs","$transclude","$parse",v],n.compile=function(r,o,u){var s={editTemplate:n.editTemplate,viewTemplate:n.viewTemplate,attrs:o};o.fisSize=o.fisSize||"large";var l=n.compiledTemplate({field:s});l.indexOf("<%")!==-1&&(l=e.template(l)({field:s}));var f,c=angular.element(l);return t.compile?(f=a(t.compile(c,o,u,r),n.fieldValue),i(o,c)):(i(o,c),f=a(t.link||angular.noop,n.fieldValue)),r.replaceWith(c),f},n};return{create:function(e){return new h(e)},_FieldController:v}}]}).call(t,n(64))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(15),u=r(o),s=n(16),l=r(s),f=n(19),c=r(f),d=n(21),p=r(d),v=n(18),h=r(v),g=n(14),m=r(g),b=n(20),y=r(b),w=n(22),$=r(w),P=a.default.module("fis.core.directives.utils",[]);P.factory("fisElementUtils",u.default),P.factory("fisFieldDirectiveFactory",l.default),P.factory("fisScopeUtils",c.default),P.factory("fisUniqueIdService",p.default),P.directive("fisInput",h.default),P.directive("fisApplyClassDirective",m.default),P.directive("fisUniqueId",$.default),["fisReinit","fisRefresh"].forEach(function(e){P.directive(e,(0,y.default)(e))}),t.default=P.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t,n){var r=e.split(".");r.length>1&&n&&n.$ctrl&&"AppComponentController"!==n.$ctrl.constructor.name&&r.splice(0,1),r.length>1&&r.splice(0,1);var i;return i=t?r.join(t).replace(/[[\]]+/g,t):r.join(".")}return{restrict:"AC",priority:400,require:"ngModel",controller:["$scope","$element","$attrs",function(t,n,r){!r.name&&r.ngModel&&(r.name=e(r.ngModel,"_",t))}],link:function(t,n,r,i){n.addClass("fis-input"),t.registerInput&&(i.fisProperty=e(r.ngModel,void 0,t),i.fisInput=r.fisInput||"input",i.fisLabel=r.fisLabel,r.name&&(i.fisName=r.name),t.registerInput(i),n.on("$destroy",function(){t.unregisterInput(i)}))}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={};return e.watch=function(e,t,n,r){if(!n)throw new Error("No callback provided!");return t?void("true"===t?n(!0):"false"===t?n(!1):e.$watch(t,function(e){n(e)})):void(null!=r&&n(r))},e.postDigest=function(e,t,n,r,i){return function(){function a(n){o=e.$watch(function(){o(),s=r(function(){var r=t();r!==u&&(i?!function(t,r){e.$apply(function(){n(t,r)})}(r,u):n(r,u),u=r),a(n)},0,!1)})}var o,u,s;e.$on("$destroy",function(){s&&r.cancel(s),o&&o()}),a(n)}()},e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return{restrict:"A",controller:["$scope","$attrs",function(t,n){var r=this;t.$watch(n[e],function(e,n){e!==n&&r.trigger(t,e,n)},!0),r.trigger=function(t,n,r){t.$broadcast(e,{value:n,oldValue:r})}}]}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){var n=/[^\w_\-]+/g;return t&&(n=/[^\w]+/g),e.replace(n,"_")}function t(e,t){var n=e;return angular.isString(t)&&(n=angular.isString(e)&&e.length>0?e+"_"+t:t),n}var n={generateUniqueId:function(){return function(t,r,i,a,o,u){return angular.isString(a)&&a.indexOf(" ")!==-1?n.generateIdWithStaticSeed(t,r,i,void 0,void 0,e(a,!0),u):"T"===fis.initParams().appStage||"D"===fis.initParams().appStage?n.generateUniqueIdForce(t,r,i,a,o,u):void 0}}(),generateUniqueIdForce:function(){var t={},n=!1;return function(r,i,a,o,u,s){if(n||(r.$root.$on("$routeChangeStart",function(){t={}}),n=!0),!u&&i&&angular.isDefined(i.attr("fisid"))){var l=i.attr("fisid");return l}var f=o||"";return f||(a.ngModel?f=a.ngModel:a.ngClick?f=r.item&&r.item.path?r.item.path:a.ngClick:a.fisI18n&&(f=a.fisI18n)),void 0===s&&(s=""),f=e(f)+s,t[f]?t[f]+=1:t[f]=1,f=f+"_"+t[f],!i||!u&&i.attr("fisid")||i.attr("fisid",f),f}}(),generateIdWithStaticSeed:function(){return function(n,r,i,a,o,u,s){var l=i.fisUniqueIdSeed||a||"";return o&&(l+=o),l=t(l,angular.isArray(u)?u.join("_"):u),l=e(l),void 0===s&&(s=""),l+=s,r&&!r.attr("fisid")&&r.attr("fisid",l),l}}()};return n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisUniqueIdService",function(e){"ngInject";return{restrict:"A",link:function(t,n,r){var i=r.fisSeed;if(void 0===i&&(i=""),"T"===fis.initParams().appStage||"D"===fis.initParams().appStage){i.length>0&&"_"!==i.charAt(0)&&(i="_"+i);var a=n.parents("[fis-seed]");if(a.length>0)for(var o=0;o<a.length;o++){var u=angular.element(a[o]);i=i+"_"+u.attr("fis-seed"),u=void 0}}angular.isDefined(r.fisIdNoIncrement)&&r.fisIdNoIncrement?e.generateIdWithStaticSeed(t,n,r,void 0,void 0,r.fisUniqueId,i):""!==r.fisIdNoIncrement&&null!==r.fisIdNoIncrement?e.generateUniqueId(t,n,r,r.fisUniqueId,void 0,i):e.generateUniqueId(t,n,r,void 0,void 0,i)}}}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(24),u=r(o),s=n(25),l=r(s),f=n(26),c=r(f),d=a.default.module("fis.core.filters",[]);d.filter("interpolate",u.default),d.filter("search",l.default),d.filter("uncamelcase",c.default),t.default=d.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){return function(e,t){if(e){var r=String(e);"object"!==("undefined"==typeof t?"undefined":n(t))&&"array"!=typeof t&&(t=[t]);for(var i in t)if(i){var a=new RegExp("\\{"+i+"\\}","mg");r=r.replace(a,t[i])}return r}return""}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t,n){var r,i=t?Object.keys(t):[];return e.some(function(e){var n=i.every(function(n){return t[n]===e[n]});return!!n&&(r=e,!0)}),r?n?r[n]||"":r:""}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){return e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^\w/,function(e){return e.toUpperCase()}):""}}},function(e,t){"use strict";var n=window.fis=window.sg=window.fis||window.sg||{};n.__angularModule=angular.module,n.__controllers={},angular.module=function(e,t){var r=n.__angularModule(e,t),i=r.controller;return r.controller=function(e,t){var r=t;return angular.isArray(t)&&(r=t[t.length-1]),n.__controllers[e]=r,i.apply(this,arguments)},r}},function(e,t){"use strict";!function(e,t){function n(e,t){for(var n in t)n&&(e[n]=t[n]);return e}function r(){var e=t.querySelector&&t.querySelector("[ng-app]");return e?angular.element(e):null}function i(){var e=r();return e?e.injector():null}var a=null,o={},u=null;angular.extend(e,{version:"4.5.1"}),e.cacheVersion=e.version,e.paths=function(){return{}},e.shim=function(){return{}},e.initParams=function(r){return(r||null===a)&&(r&&(o={},o.version=e.cacheVersion,o.appStage=r.appStage),a=n(a||{appStage:e.utils.getRequestParam("appStage")||"P",baseElement:t,modules:[]},r||{}),"D"===a.appStage&&console.log("- Development mode.")),a},e.getCacheQuery=function(){return o},e.cacheQueryParameter=function(e){console.warn("Please use fisUtilService appendCacheQueryParameter() function for adding cache query parameters to url");var t=o.version;return e&&(t=e),"version="+t+"&appStage="+o.appStage},e.prefixContext=function(t){var r=n({},t),i=e.getLocationPath();if("/"!==i){var a=i.split("/"),o=a.length;a[o-1].indexOf(".")!==-1&&a.splice(o-1,1),i=a.join("/"),i.match(/\/$/)&&(i=i.substr(0,i.length-1));for(var u in r)0===r[u].indexOf("/")&&(r[u]=i+r[u])}return r},e.getLocationPath=function(){return window.location.pathname},e.packages=function(e){var t,n=e.length,r=[];if("D"!==a.appStage)return e;for(t=0;t<n;t++)r.push({name:e[t],main:"dev"});return r},e.bootstrapAngular=function(n){e.utils.getInjector()||(u=angular.bootstrap(t,n))},e.start=function(n){if(n=angular.isObject(n)?e.initParams(n):e.initParams(),!angular.isObject(n))throw new Error("Init params need to be provided to fis.start.");if(!angular.isArray(n.modules))throw new Error("Modules needs to be defined in init parameters.");n.configEndpoint||(n.configEndpoint="api/config"),angular.element(t).ready(function(){e.bootstrapAngular(n.modules)})},e.utils={},e.utils.getRequestParam=function(e){for(var t=function(e){return"string"==typeof e||e instanceof String},n=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)","g"),r=[],i=t(this)?this:window.location.search,a=n.exec(i);a;)r.push(decodeURIComponent(a[1])),a=n.exec(i);return 0===r.length?null:1===r.length?r[0]:r},e.utils.getInjector=function(){return u},angular.element(t).ready(function(){angular.element(t).find("body").removeClass("fis-loading-indicator"),u=i()}),console.log("  ____  _   _ _____\n |  _ \\| | | |  ___|\n | |_) | | | | |_\n |  _ <| |_| |  _|\n |_| \\_\\\\___/|_|\n FIS Responsive UI Framework\n Version: "+e.version+"\n © 2012-"+((new Date).getYear()+1900)+", all rights reserved.\n")}(window.fis=window.sg=window.fis||window.sg||{},document);
},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","fisConfig",function(e,t){"ngInject";function n(e){var n=[];return t&&t.hookListConfig&&(n.push("<div>"),t.hookListConfig.forEach(function(t){"true"===t.enabled&&t.id===e.id&&n.push(r(t))}),n.push("</div>")),n.join("")}function r(e){var t=e.hooks,n=["<div"];return t.forEach(function(e){n.push("<div>"),n.push('<fis-hook id="'),n.push(e),n.push('"'),n.push(" />"),n.push("</div>")}),n.push("</div>"),n.join("")}return{restrict:"E",replace:"true",template:'<div class="hookList" />',link:function(t,r,i){var a=n(i),o=angular.element(a);r.append(o),e(o)(t)}}}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","fisConfig","$templateCache","$parse","fisTemplateCacheService",function(e,t,n,r,i){"ngInject";function a(e,t){var n='<div ng-controller="'+t.ngController+'">',r="</div>";return n+e+r}return{restrict:"E",replace:"true",scope:!0,template:'<div class="hook"></div>',link:function(t,n,o){var u=function(){var e=r(o.fisHookData);t.fisHookData=e(t)};if(o.fisHookData&&(u(),o.$observe("fisHookData",function(){u()})),o.id){var s=o.id,l=i.getTemplate(s);if(angular.isDefined(l)){o.ngController&&(l=a(l,o));var f=angular.element(l);n.append(f),e(f)(t)}}}}}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(30),u=r(o),s=n(29),l=r(s),f=a.default.module("fis.core.hook",[]);f.directive("fisHook",u.default),f.directive("fisHookList",l.default),t.default=f.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t="__NOT_FOUND__",n="en";e.setDefaultLocale=function(e){n=e},e.$get=["$rootScope","$http","$q","$location","fisPubSubService","fisConfig","$translate",function(e,r,i,a,o,u,s){function l(t){var n=a.search().lang||h.defaultLocale();if(n!==t&&u.supportedLanguages){var i;if(u.supportedLanguages.some(function(e){return!!angular.equals(e.value,t)&&(i=e,!0)}),angular.isUndefined(i)){var l=t.split("-");u.supportedLanguages.some(function(e){return!!angular.equals(e.value,l[0])&&(i=e,!0)})}angular.isDefined(i)&&(n=i.value?i.value:n)}r.defaults.headers.common["Accept-Language"]=n,s.use(n),o.publish("fisLocaleSet",n),g.resolve(u.supportedLanguages),e.location=a,e.$watch("location.search().lang",function(t){t&&t!==h.locale()&&(h.locale(t),e.location.search("lang",null))})}function f(){return angular.isDefined(u.locale)?u.locale:d()}function c(){var e=h.defaultLocale();return e=angular.isDefined(u.preferredLocale)&&"browser"===u.preferredLocale?d():f()}function d(){return window.navigator.languages?window.navigator.languages[0]:window.navigator.language?window.navigator.language:window.navigator.userLanguage?window.navigator.userLanguage:"en"}function p(e,n,r,i,a){for(var o=0;o<e.length;o++)if(i[e[o]]!==e[o].trim()){a=i[e[o]];break}return a===t?(null===n||void 0===n)&&r.join(".")||n:a}function v(e){if(angular.isArray(e)){for(var t=angular.copy(e),n=[];t.length>0;)t[0]&&n.push(t.join(".")),t.shift();return n}}var h={},g=i.defer();h.supportedLanguages=g.promise,h.defaultLocale=function(){return n};var m=e.$on("$translateLoadingSuccess",function(){o.publish("shell.i18nReady"),m()});return h.locale=function(e){return e&&(s.use(e),r.defaults.headers.common["Accept-Language"]=e,o.publish("fisLocaleChanged",e)),e||s.proposedLanguage()},h.isTranslationReady=function(){return!(!s.isReady()||null===s.getTranslationTable(s.proposedLanguage()))},l(c()),h.translate=function(e,n){var r=t;if(angular.isString(e)&&(e=e.split(".")),angular.isArray(e)){var i=v(e),a=s.instant(i);return p(i,n,e,a,r)}return n||e},h.translateAsync=function(n,r){var a,o=t,u=i.defer();angular.isString(n)&&(n=n.split("."));var l=v(n),f=e.$on("$translateChangeSuccess",function(){a=s.instant(l);var e=p(l,r,n,a,o);u.resolve(e),f()});return u.promise},h}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{restrict:"A",link:function(e,t,n){if(!n.fisI18n)throw new Error("Should provide a value for the fis-i18n attribute");t.html(e.i18n(n.fisI18n,t.html()||void 0))}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisI18nService","fisViewPanelService",function(e,t){"ngInject";return function(n,r){if(angular.isDefined(n)){if(n.indexOf(".")===-1){var i=t.activeViewPanel();i&&(n=[i.module,i.id,n])}return e.translate(n,r)}}}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(37),u=r(o),s=n(34),l=r(s),f=n(32),c=r(f),d=n(38),p=r(d),v=n(33),h=r(v),g=n(36),m=r(g),b=a.default.module("fis.core.i18n",[]);b.filter("translate",u.default),b.filter("i18n",l.default),b.provider("fisI18nService",c.default),b.provider("$translate",p.default),b.directive("fisI18n",h.default),b.directive("translate",m.default),t.default=b.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{restrict:"AE",link:function(e,t,n){console.warn("You are using dummy translate directive. Please load and use angular-translate in your application or add a dependency on fis.i18n module"),n.translate?t.html(n.translate):t.html(t.text())}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$translate",function(e){"ngInject";return function(t,n){return console.warn("You are using dummy translate filter. Please load and use angular-translate in your application or add a dependency on fis.i18n module"),e.instant(t,n)}}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(){n||(n=!0,console.warn("You are using dummy angular-translate APIs. Please load and use angular-translate in your application or add a dependency on fis.i18n module"))}var t=this,n=!1;t.preferredLanguage=t.use=t.translations=e,t.$get=["$q",function(t){var n="",r=function n(r,i,a,o){e();var u=t.defer();return o?u.resolve(o):u.resolve(n.instant(r)),u.promise};return r.instant=function(t){e();var n="";return angular.isArray(t)&&t.length>0?(n={},t.forEach(function(e){n[e]=e})):n=t,n},r.use=function(t){n=t,e()},r.proposedLanguage=function(){return e(),n},r}]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(40),u=r(o),s=n(41),l=r(s),f=a.default.module("fis.core.pubsub",[]);f.directive("fisPubSub",u.default),f.service("fisPubSubService",l.default),t.default=f.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){return{restrict:"A",controller:["$scope","fisPubSubService",function(e,t){var r=[];e.subscribe=function(e,n){var i=t.subscribe(e,n);return r.push(i),i},e.publish=function(r,i){return"object"===("undefined"==typeof i?"undefined":n(i))&&(i.$scope=e),"$apply"===e.$root.$$phase||"$digest"===e.$root.$$phase?t.publish(r,i):void e.$apply(function(){return t.publish(r,i)})},e.$on("$destroy",function(){for(;r.length>0;)r.pop()()})}]}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$q",function(e){"ngInject";function t(e,t,i){var a=r++;if(t&&e){n[e]=n[e]||{},n[e]._sticky=i||n[e]._sticky,n[e][a]=t,i&&void 0!==n[e]._lastPayload&&t.call(n[e]._lastPayload,n[e]._lastPayload,e);var o=function(){n[e]&&n[e][a]&&delete n[e][a]};return o.topic=e,o.id=a,o}}var n={},r=0;this.publish=function(t,r){var i=e.defer(),a=[],o=n[t]||{};o._sticky&&(o._lastPayload=r);for(var u in o)0!==u.indexOf("_")&&a.push(e.when(o[u].call(r,r,t)));return e.all(a).then(function(e){e.indexOf(!1)>-1?i.reject():i.resolve(e)},function(){i.reject()}),i.promise},this.subscribe=function(e,n,r){return t(e,n,r)},this.unsubscribe=function(e){"function"==typeof e?e():n[e.topic]&&n[e.topic][e.id]&&delete n[e.topic][e.id]}}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=["$window","fisUserContextService",function(e,t){function n(e){var n=t.context()?t.context().userId:null;return r?n?r+a+n+a+e:r+a+e:n?n+a+e:e}var r,i={},a="_",o=!1;return i.init=function(e){r=e,o=!0},i.setItem=function(t,r,i){if(!o)throw new Error("Service not initialized with appId");var a=n(t);if(!e.sessionStorage||!e.localStorage)throw new Error("localStorage/sessionStorage not supported by browser");!i||"session"!==i&&"session"!==i.storageType?e.localStorage.setItem(a,angular.toJson(r)):e.sessionStorage.setItem(a,angular.toJson(r))},i.getItem=function(t){if(!o)throw new Error("Service not initialized with appId");if(e.sessionStorage&&e.localStorage){var r=n(t);return angular.fromJson(e.localStorage.getItem(r))||angular.fromJson(e.sessionStorage.getItem(r))}throw new Error("localStorage/sessionStorage not supported by browser")},i.removeItem=function(t){if(!o)throw new Error("Service not initialized with appId");if(!e.sessionStorage||!e.localStorage)throw new Error("localStorage/sessionStorage not supported by browser");var r=n(t);e.localStorage.removeItem(r),e.sessionStorage.removeItem(r)},i}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$resource","$q","fisPubSubService","$injector",function(e,t,n,r){"ngInject";function i(e,t){e&&n.publish(e,t)}function a(n,a,o,u){var s,l,f=u||n&&n+".loaded";return r.has(n)?(l=r.get(n),i(f,l),l.then=function(e){return e(l)},l):(s=t.defer(),a?(e(a).get(o||{},function(e){var t;s.resolve(e),i(f,e);for(t in e)e.hasOwnProperty(t)&&(s.promise[t]=e[t])},function(e){s.reject(e)}),s.promise):(s.reject("No "+n+" constant found and no URL to GET."),s.promise))}return a}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=this,n="shell.configReady";t.config=function(n){angular.isObject(n)?(n.then=function(e){return e(n)},t.$get=function(){return n}):t.$get=e},e=t.$get=["$resource","$q","fisPubSubService","$injector","fisConditionalLoaderService",function(e,t,r,i,a){var o;return i.has("fisConfig")||console.warn("DEPRECATED. Use a fisConfig constant instead to improve load speed.","https://www.csa.sungard.com/wiki/x/ggfNAg"),o=a("fisConfig",fis.initParams().configEndpoint,{},n),o.then(function(){console.log("- Framework config loaded.")},function(e){if(e.status)throw new Error("Framework config is required!")}),o}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$delegate",function(e){"ngInject";var t="\nSee https://www.csa.sungard.com/wiki/x/9xVMB",n={},r="_any",i=function(t,i){var a;for(a in n)(a===r||t.hasOwnProperty(a))&&n[a](t,i);e(t,i)};return i.intercept=function(e,t){return e?(angular.isFunction(e)&&(t=e,e=r),void(angular.isString(e)&&(angular.isFunction(t)?n[e]=t:delete n[e]))):void delete n[r]},i.intercept("userMessage",function(e){e.message+=t}),i}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$httpProvider",function(e){"ngInject";e.interceptors.push("fisHttpErrorInterceptor")}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=[403];e.setLoginRequiredStatus=function(e){var n;if(t=[],angular.isNumber(e))t=[e];else if(angular.isArray(e))for(n=0;n<e.length;n++)angular.isNumber(e[n])&&t.push(e[n])},e.$get=["$rootScope","$q","fisPubSubService",function(e,n,r){var i=function(e){return e},a=function(i){return t.indexOf(i.status)!==-1&&e.$broadcast("fisLoginRequired",i),(i.status>=400||0===i.status)&&r.publish("fisHTTPError",i),n.reject(i)};return{response:i,responseError:a}}]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(45),u=r(o),s=n(42),l=r(s),f=n(43),c=r(f),d=n(44),p=r(d),v=n(47),h=r(v),g=n(49),m=r(g),b=n(50),y=r(b),w=n(46),$=r(w),P=a.default.module("fis.core.services",[]);P.decorator("$exceptionHandler",u.default),P.provider("fisClientStorageService",l.default),P.provider("fisConfigService",p.default),P.provider("fisHttpErrorInterceptor",h.default),P.provider("fisTemplateCacheService",m.default),P.provider("fisUserContextService",y.default),P.factory("fisConditionalLoaderService",c.default),P.config($.default),t.default=P.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=["$templateCache",function(e){var t={};return t.getTemplate=function(t){return e.get(t)},t.addTemplate=function(t,n){e.put(t,n)},t.removeTemplate=function(t){e.remove(t)},t}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=[function(){var e,t={};return t.context=function(t){if(1!==arguments.length){var n=angular.copy(e);return n}e=t},t}]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(52),u=r(o),s=n(53),l=r(s),f=a.default.module("fis.core.utils",[]);f.provider("fisMemoryUtilService",u.default),f.provider("fisUtilService",l.default),t.default=f.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=[function(){var e={};return e.enabled=!0,e.logging=!1,e.enabled||console.warn("fisMemoryUtilService has been disabled!"),e.callCleanAll=function(t){e.removeListeners(t),e.destroyNode(t)},e.removeListeners=function(t){if(angular.isDefined(t)){var n=$(t);if(1===n.length){var r=n.children();angular.isDefined(r)&&r.length>0&&r.get().forEach(function(t){e.removeListeners(t)})}n.length>1?n.get().forEach(function(t){e.removeListeners(t)}):(n.scope()&&n.scope().$destroy(),n.unbind())}},e.destroyNode=function(t){if(t){if(e.destroyAllChildNodes(t),t.parent){var n=t.parent();e.destroyAllChildNodes(n)}t=null}},e.destroyAllChildNodes=function(t){if(!angular.isUndefined(t)){if(t.length&&1===t.length&&angular.isDefined(t.children())&&t.children().length>0){var n=t.children();n.remove(),n=null}t.length&&t.length>1&&angular.forEach(t,function(t){e.destroyAllChildNodes(t)})}},e.cancelTimeoutOnDestroy=function(e,t,n){angular.isDefined(e)?e.$on("$destroy",function(){t&&n.cancel(t)}):console.warn("Memory cleanup failed scope is undefined")},e.cancelTimeoutOnComponentCtrlDestroy=function(e,t,n){e&&(e.$onDestroy=function(){t&&n.cancel(t)})},e.cancelWatchOnDestroy=function(e,t){e.$on("$destroy",function(){t&&t()})},e.destroyScopeAndData=function(e,t){e&&e.$destroy(),t&&$(t).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")},e.destroyKendoWidgets=function(e){if(e)try{e.destroy(),e=null}catch(e){}},e.purgeAttributes=function(t){if(void 0!==t&&t.length>0)for(var n=0;n<t.length;n++){var r=t[n];if(angular.element(r).removeData().removeAttr(),void 0!==r.attributes&&r.attributes.length>0)for(var i=r.attributes.length-1;i>=0;i--)"class"!==r.attributes[i].name&&r.removeAttribute(r.attributes[i].name);void 0!==r.children&&r.children.length>0&&e.purgeAttributes(r.children),i=void 0}},e}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=[function(){function e(e){var t,n={};return angular.isString(e)?t=e.split("&"):angular.isObject(t)&&(t=e),t.forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n}function t(e){var t="";return Object.keys(e).forEach(function(n){var r=e[n];null!==r&&(t+=n+"=",angular.isDefined(r)&&(t+=r),t+="&")}),t.slice(0,-1)}var n={};return n.calculateContainerWidth=function(e){return parseFloat(e.width())},n.appendQueryParameters=function(n,r){var i=n.match(/^([^?#]*)/i),a=n.match(/\?([^#]*)/i),o=n.match(/(#.*)$/i);i=null===i?"":i[1],o=null===o?"":o[1];var u={};null!==a&&(u=e(a[1])),angular.isString(r)&&(r=e(r));var s=t(angular.extend(u,r));return""!==s&&(i+="?"),i+s+o},n.appendCacheQueryParameter=function(e,t){var r=fis.getCacheQuery();return angular.isDefined(t)&&(r=angular.extend({},r),r.version=t),n.appendQueryParameters(e,r)},n.extractData=function(e,t){var n,r=angular.copy(t),i=e.split(/\.|(\(\))|(\[\d+?])/).filter(function(e){return e});if(1===i.length)n=r[e];else for(var a=/^\[\d+\]$/,o=0;o<i.length;o++){var u;u=a.test(i[o])?r[parseInt(i[o].substr(1),10)]:r[i[o]],angular.isDefined(u)&&(r=u,n=r)}return n},n.booleanCheck=function(e,t){if(void 0===e||null===e)return t;if("boolean"==typeof e)return e;var n=e.toLowerCase();return"true"===n||"false"!==n&&t},n.isNaN=function(e){return"[object Number]"===toString.call(e)&&e!==Number(e)},n}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t,n){if(n.fisElement){var r=e[n.fisElement];r.$element=t}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=r(i),o=n(2),u=r(o),s=n(62),l=r(s),f=n(59),c=r(f),d=n(54),p=r(d),v=n(60),h=r(v),g=n(57),m=r(g),b=n(58),y=r(b),w=n(56),$=r(w),P=a.default.module("fis.core.views",[u.default,l.default]);P.config(c.default),P.directive("fisElement",p.default),P.directive("fisViews",h.default),P.provider("fisViewPanelService",m.default),P.provider("fisViewService",y.default),P.provider("fisNavigationService",$.default),t.default=P.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;e.$get=["fisPubSubService","$q",function(e,t){var n,r={},i=t.defer();return e.subscribe("shell.navReady",function(e){angular.isDefined(e)&&(n=e,i.resolve(n))}),r.setNavigation=function(e){n=e,i.resolve(n)},r.getNavigation=function(){return i.promise},r}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e="mdi",t="custom function",r=this,i=null,a=null,o=!0;this.setViewOpeningStrategy=function(n){angular.isFunction(n)?(i=t,a=n):i=angular.isString(n)?n:e},this.getViewOpeningStrategy=function(){return null===i?e:i===t?a:i},this.setPreventBrowserNavigation=function(e){o=Boolean(e)},this.getPreventBrowserNavigation=function(){return o};var u=function(e,t){angular.extend(this,e),this.$filter=t,this.navItem=angular.copy(e),this.title=e.label};u.prototype.setTitle=function(e){if("object"!==("undefined"==typeof e?"undefined":n(e)))this.navItem.customTitle=e;else{var t="",r="|";e.sep&&(r=e.sep),e.prefix&&(t=e.prefix,t+=r),t+=this.$filter("interpolate")(this.navItem.label,e),e.suffix&&(t+=r,t+=e.suffix),this.navItem.customTitle=t}},u.prototype.setIcon=function(e){this.navItem.customIcon=e},u.prototype.resetIcon=function(){this.navItem.customIcon=void 0},u.prototype.getTitle=function(){return this.navItem&&this.navItem.customTitle?this.navItem.customTitle:this.title},u.prototype.getIcon=function(){return this.navItem&&this.navItem.customIcon?this.navItem.customIcon:this.icon},u.prototype.resetTitle=function(){this.navItem.customTitle=void 0},this.ViewPanel=u,this.$get=["$location","$timeout","fisViewService","fisConfig","$filter","$route","fisPubSubService","fisI18nService","$routeParams","$rootScope","$q","$controller",function(n,o,u,s,l,f,c,d,p,v,h,g){function m(){y(),P(),I(),E(),T(),Gt=setInterval(b,100)}function b(){Wt&&Qt&&Yt&&(clearInterval(Gt),c.publish("shell.viewPanelReady"))}function y(){en={mdi:Ve,browser:Me}}function w(e,t){return t.some(function(t){return e===t.path})}function P(){return angular.isUndefined(Ht)?(Ht=!!(s.widgets&&s.widgets.fisTabsBar&&angular.isDefined(s.widgets.fisTabsBar.keepSameTabsOpenOnReload))&&s.widgets.fisTabsBar.keepSameTabsOpenOnReload,Wt=!0,Ht):(Wt=!0,Ht)}function I(){c.subscribe("shell.navReady",function(e){if(Ht){if(Zt.length>0)for(var t=Zt.length;t-- >0;){var n=Zt[t],i=u.findNavItem(n.path);i||":vmCount"===n.id||Zt.splice(t,1)}}else Zt=[];var a=_(e.main);a.forEach(function(e,t){var n=u.findNavItem(e.path);if(n&&!w(n.path,Zt)){var i=new r.ViewPanel(n,l);Zt.splice(t,0,i)}}),N(),Qt=!0},!0)}function _(e){var t=[],n=0;return e.forEach(function(e){e.location="main",S(e)&&(t[n++]=new r.ViewPanel(e,l))}),t}function S(e){return O(e)||x(e)}function O(e){return angular.isDefined(e.closeable)&&!e.closeable}function x(e){return"dropdown"===e.secondaryNav}function N(){Ft=void 0,zt=void 0,Bt=void 0}function E(){r.getPreventBrowserNavigation()?v.$on("$locationChangeStart",D):v.$on("$locationChangeStart",C)}function C(){c.subscribe("shell.navReady",function(){tn=!0}),!Jt&&tn&&(Xt=!0,Kt.open(n.path())),Jt=!1,Yt=!0}function D(e,t,n){if(Jt)Jt=!1;else{var r=je(t),i=je(n);r!==i&&e.preventDefault()}Yt=!0}function T(){c.subscribe("fisLocaleChanged",function(){var e=Kt.activeViewPanel();u.load().then(function(){o(function(){if(e){var t=u.getItemFromPath2Item(e.path);t?Kt.open(t.path,null,e.params):Kt.open(e.path,null,e.params)}},0)})})}function j(e,t,n){var r=k(e);if(r){var i=n?n:r.params,a=!1;Zt.forEach(function(t){t.path===e.path&&(a=!0)}),!a&&i?e.parentTitle=l("interpolate")(r.label,i):!a&&!i&&r.label&&r.label.indexOf("{")<0&&r.label.indexOf("}")<0&&(e.parentTitle=r.label),e.parentIcon=r.icon?r.icon:null;var o=J(e,t,n);o&&(e=o)}}function k(e){var t=null;return void 0!==e&&null!==e&&(e.unresolvedPath&&(t=K(e.unresolvedPath)),null===t&&(t=K(e.path))),t}function V(e,t,n){e&&e.params&&(e.decodedParams=M(e.params)),c.publish("fisActiveViewPanelChanged",{before:t,after:Ft,currentNavItem:e,event:n})}function M(e){var t={};if(e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r&&"string"==typeof r&&(r.indexOf("%2F")>-1||r.indexOf("%3A")>-1)&&(t[n]=decodeURIComponent(r))}return t}function A(n,o,u){if("boolean"==typeof o)o?pe(n,null,u):ye(n,null,u);else{var s=r.getViewOpeningStrategy();if(angular.isFunction(a)&&i===t)a.call(Kt,n,o,u);else{var l=en[s];angular.isFunction(l)?l.call(Kt,n,o,u):(en[e].call(Kt,n,o,u),console.warn("Unable to find opening strategy "+s+", will use default "+e))}}}function L(e,t){U(e,t),F(e)}function U(e,t){e||""===t||"/"===t||R(d.translate("error-path-not-found",""))}function q(e){return!e&&Zt.length>0}function R(e){var t=new Error("No nav item defined for this path");throw t.userMessage=e,t}function F(e){z(e)&&B(e,d.translate("error-partial-not-found",""))}function z(e){return e&&!e.partial&&!e.secondaryNav&&!e.action&&Zt.length>0}function B(e,t){var n=new Error('Nav item "'+e.label+'" does not have a partial to load');throw n.userMessage=t,n}function H(e,t){for(;e.indexOf(":")>-1;)e=Y(e,t);return e}function W(e,t){for(var n={};e.indexOf(":")>-1;){var r=e.substring(e.indexOf(":")+1),i=r.indexOf("/")>-1?r.substring(0,r.indexOf("/")):r;n[i]=t[i],e=e.substring(e.indexOf(":"+r)+1)}return n}function Q(e){return!/^[a-zA-Z0-9-% ]*$/.test(e)}function Y(e,t){var n,r=e.substring(e.indexOf(":")+1),i=r.indexOf("/")>-1?r.substring(0,r.indexOf("/")):r,a=r.substring(i.length),o=t[i];return o&&(o.toString().indexOf("/")>-1||o.toString().indexOf(":")>-1)?n=encodeURIComponent(o):Q(o)?(n=encodeURIComponent(o),n=decodeURIComponent(n)):n=decodeURIComponent(o),t[i]!==n&&(t[i]=n),e.substring(0,e.indexOf(":"))+n+a}function G(e,t){if(Zt)for(var n=0;n<Zt.length;n++)if(Zt[n].path===e){t&&t.label&&(Zt[n].label=t.label,Zt[n].title=t.label);break}}function K(e){for(var t=e,n=null,r=null;!r&&t;)n=u.findNavItem(t),G(t,n),r=Z(n),t=t.substring(0,t.lastIndexOf("/"));return r&&(r.params=null),r}function Z(e){var t=null;return!e||"menubar"!==e.secondaryNav&&"dropdown"!==e.secondaryNav||(t=e),t}function J(e,t,n){var r=X(e),i=ee(n,r),a=te(i,r);if(ne(a,t,i),ie(r)){var o=k(r),u=ae(r,o),s=null;return se(o),oe(o,a),s=ue(r,o,u),c.publish("fisSecondaryMenuClicked",o),s}}function X(e){var t=e;return t instanceof r.ViewPanel&&(t=t.navItem,t.params&&t.unresolvedPath&&(t.path=t.unresolvedPath)),t}function ee(e,t){var n=e;return n||null===t.params||(n=t.params),n}function te(e,t){var n=angular.copy(t);return e&&t&&(n.unresolvedPath||(n.unresolvedPath=t.path),n.path=H(t.path,e),n.label=l("interpolate")(t.label,e),n.params=e),n}function ne(e,t,n){!(Ae(t)||angular.isUndefined(t)||angular.isObject(t))||fe(e)||re(K(e.path),Kt.activeViewPanel())?ye(e,t,n):pe(e,t)}function re(e,t){var n=!1;if(null!==e&&null!==t){if(e.id===t.id)return!0;if(!angular.isDefined(e.children)||!angular.isArray(e.children))return!1;e.children.forEach(function(e){n!==!0&&(n=re(e,t))})}return n}function ie(e){return e&&(e.secondaryNav||K(e.path)||K(e.unresolvedPath))}function ae(e,t){var n=null;return e.secondaryNav?n=e.children:t&&(n=t.children),n}function oe(e,t){e&&(e.params=t.params)}function ue(e,t,n){var r=angular.extend({},e);return r.children=n,r.secondaryNav=t.secondaryNav,r}function se(e){e&&e.children&&e.children.forEach(function(e){le(e),se(e)})}function le(e){e.partial&&(e.isStatic=!0),e.text=e.label,e.items=e.children,e.partial&&(e.url=e.path)}function fe(e){var t=k(e),n=!1;if(null!==t){x(t)&&(e.secondaryNavParent=t);for(var r=0;r<Zt.length;r++)if(ce(Zt[r],e,t))return n=!0,Ft=Zt[r].path,zt=Zt[r].unresolvedPath,Bt=Zt[r].params,n}}function ce(e,t,n){return t.unresolvedPath?de(e,t,n):e.path.indexOf(n.path)>-1}function de(e,t){for(var n,r,i=!0,a=t.unresolvedPath;i;){var o=a.substring(a.indexOf(":")+1),u=o.indexOf("/")>-1?o.substring(0,o.indexOf("/")):o,s=o.substring(u.length);r=t.params[u],n=a.substring(0,a.indexOf(":"))+r,s.indexOf(":")>-1?a=a.substring(0,a.indexOf(":"))+r+s:i=!1}var l=at(n),f=at(e.path),c=!1;return l.length>f.length&&n.indexOf(e.path)>-1&&(c=!0),e.path.indexOf(n)>-1&&r===e.label||c}function pe(e,t,n){Le(t)&&ye(e,t,n),e&&(ve(e)||he(e),De(e))}function ve(e){return Zt.some(function(t){return t.path===e.path})}function he(e){Zt.push(new r.ViewPanel(e,l)),ge(e,be())}function ge(e,t){c.publish("fisViewPanelOpened",{path:e.path,viewPanel:t})}function me(){return Zt[0]}function be(){return Zt[Zt.length-1]}function ye(e,t,n){!fe(e)&&we(e,t)?pe(e,t,n):Pe(e)&&(Ie(e)||De(e,n))}function we(e,t){return $e(e)||Ae(t)}function $e(e){return e&&0===Zt.length}function Pe(e){return e&&Zt.length>0}function Ie(e,t){var n=Kt.activeViewPanel(),r=!1;return _e(n,e)?(pe(e,t),r=!0):Oe(n,e,t)&&(r=!0),r}function _e(e,t){return e&&Kt.isNonCloseable(e)&&!K(t.path)}function Se(e){if(!e)return null;var t=null;return Zt.forEach(function(n,r){e.path===n.path&&(t=r)}),t}function Oe(e,t,n){var r=xe(t),i=Se(e);return!(!e||r)&&(Ne(e,t,n,i),!0)}function xe(e){return Zt.some(function(t){return t.path===e.path})}function Ne(e,t,n,r){var i=Ee(t,e);i.then(function(){Ce(t,n,r)},function(){c.publish("fisViewPanelReplaceVetoed",{navItem:t,viewPanel:e})})}function Ee(e,t){return c.publish("fisViewPanelReplaceIntent",{path:e.path,viewPanel:t})}function Ce(e,t,n){var i=Zt[n]=new r.ViewPanel(e,l);ge(e.path,i),Te(e),De(e)}function De(e){Ft=e.path,zt=e.unresolvedPath,Bt=e.params,ke(e)}function Te(e){c.publish("fisViewPanelReplaced",{path:e.path})}function je(e){var t=e.lastIndexOf("#"),n=e.lastIndexOf("/"),r=e;return t>n&&(r=e.substring(0,t)),r}function ke(e){o(function(){n.path()===e.path?f.reload():n.path(e.path),Xt?Xt=!1:Jt=!0},0)}function Ve(e,t,n){Le(t)?ye(e,t,n):pe(e,t,n)}function Me(e,t,n){!t||t&&!t.ctrlKey&&!t.metaKey?ye(e,null,n):pe(e,null,n)}function Ae(e){return e===!0||"true"===e}function Le(e){return e===!1||"false"===e}function Ue(){n.hash("")}function qe(e){return void 0===e?"":e}function Re(e,t,n){var r=null,i={};return 2===e.length?(r=Fe(e[1]),Be(t)?r=t:i=e[1]):3===e.length&&(r=t,i=n),{localEvent:r,localParams:i}}function Fe(e){return ze(e)?e:null}function ze(e){return e&&e.target}function Be(e){return"true"===e||"false"===e||e===!0||e===!1}function He(e,t,n){var r=null,i=!1;return Zt.forEach(function(a){a.path===e&&(i=!0,r=a,j(a,t,n))}),{navItem:r,tabFound:i}}function We(e,t,n,r,i,a){return Ye(t,n)?e=Qe(r,i):Ke(t,n)?(e=Ze(t,r,i,a),e&&(t=e.path)):Xe(t,n)&&(e=et(t,r,i)),e&&K(e.path)&&e.partial&&(e.isStatic=!0),e}function Qe(e,t){var n=me();return Ge(n)?(j(n,e,t),n):null}function Ye(e,t){return!e&&t===!1}function Ge(e){return e&&e.path}function Ke(e,t){return e&&0!==e.indexOf("/")&&t===!1}function Ze(e,t,n,r){var i,a=u.findNavItem(e,Ft);if(!a){a=u.findNavItem(e,zt);for(i in Bt)Bt.hasOwnProperty(i)&&(r[i]=Bt[i])}if(a)for(i in Bt)Bt.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=Bt[i]);a&&a.params&&0===Object.keys(r).length&&(r=a.params),(angular.isUndefined(r)||null===r||0===Object.keys(r).length)&&Kt.activeViewPanel()&&(r=Kt.activeViewPanel().params);var o=null;if(a){r=W(a.path,r);var s=H(a.path,r);o=Je(a,s,r),o.unresolvedPath=a.path,j(o,t,n)}return o}function Je(e,t,n){var r={};return angular.copy(e,r),r.path=t,r.label=l("interpolate")(r.label,n),r.params=n,r}function Xe(e,t){return K(e)&&t===!1}function et(e,t,n){var r=u.findNavItem(e);if(!r){var i=nt(r,e);n=i.params,r=i.navItem}return j(r,t,n),r&&(r.params=n),r}function tt(e,t){return Ge(e)||(e=u.findNavItem(t,Ft)),e}function nt(e,t){for(var n=t,r=at(t),i={},a=t,o=null,s=!0;s&&ot(a)&&(n=n.substring(0,n.lastIndexOf("/")),0!==n.length);){var l=u.findNavItem(n);if(l){var f=angular.copy(o);if(o=ft({navItem:e,tokens:r,tempPath:n,tempNavPath:a,tempNavItem:l,hasMoreTokens:!0,parameters:i}),o&&f&&o.navItem&&f.navItem&&o.navItem.id===f.navItem.id)return s=!1,{params:null,navItem:null};if(e=o.navItem,r=o.tokens,n=o.tempPath,a=o.tempNavPath,l=o.tempNavItem,i=o.parameters,!o.hasMoreTokens)break}else if(rt(l,n)){o=ct(e,i,n,a),e=o.navItem,i=o.parameters;break}}var c;if(e){var d=at(e.id)||[];t.indexOf(n)>-1&&d.length>2&&(c=t.substring(n.length+1))}return{params:i,navItem:e,resolvedPath:c}}function rt(e,t){return!e&&0===t.lastIndexOf("/")}function it(e,t){var n=e.id,r=n.substring(0,n.indexOf("/")),i=t.substring(0,t.indexOf("/"));return r===i}function at(e){var t=[];return e&&e.indexOf("/")>-1&&(t=e.split("/")),t}function ot(e){return e&&e.substring(0,e.lastIndexOf("/"))}function ut(e){return e.split("/")}function st(e,t,n,r,i,a){var o={},u=ut(t),s=e.path.split("/");return o.paramName=e.id.substring(e.id.indexOf(":")+1),o.paramVal=ht(e,t,u),o.navItem=angular.copy(e),n===s.length?(o.hasMoreTokens=!1,o.tempPath=r,o.tempNavPath=i):(o.hasMoreTokens=a,lt(e,u),o.tempPath=r+"/"+e.id+"/"+u.join("/"),o.tempNavPath=o.tempPath),o}function lt(e,t){0===e.id.indexOf(":")?t.splice(0,1):t.splice(0,2)}function ft(e){for(var t=e.tempNavPath.substring(e.tempPath.length+1),n=!0;n&&e.tempNavItem.children;){var r=angular.copy(i),i=vt({cont:n,navItem:e.navItem,childPath:t,tokens:e.tokens,tempPath:e.tempPath,tempNavPath:e.tempNavPath,tempNavItem:e.tempNavItem,hasMoreTokens:e.hasMoreTokens,parameters:e.parameters});if(i&&r&&i.navItem&&r.navItem&&i.navItem.id===r.navItem.id)return n=!1,e;n=i.cont,t=i.childPath,e.navItem=i.navItem,e.tokens=i.tokens,e.tempPath=i.tempPath,e.tempNavPath=i.tempNavPath,e.tempNavItem=i.tempNavItem,e.hasMoreTokens=i.hasMoreTokens,e.parameters=i.parameters}return e}function ct(e,t,n,r){var i,a=u.getItemFromPath2Item(n),o=dt(n,r);return null!==a&&(i=pt(a)),t[i]=o,{navItem:a,parameters:t}}function dt(e,t){return t.substring(e.length+1)}function pt(e){return e.id.substring(e.id.indexOf(":")+1)}function vt(e){var t=0,n=null,r=null;for(t=0;t<e.tempNavItem.children.length;t++)if(n=e.tempNavItem.children[t],n&&n.id.indexOf(":")!==-1){var i=0===n.id.indexOf(":")||it(n,e.childPath);if(i){r=st(n,e.childPath,e.tokens.length,e.tempPath,e.tempNavPath,e.hasMoreTokens),e.cont=!1,e.navItem=r.navItem,e.hasMoreTokens=r.hasMoreTokens,e.tempPath=r.tempPath,e.tempNavPath=r.tempNavPath,e.parameters[r.paramName]=r.paramVal;break}}else{for(var a=0;a<e.tokens.length;a++)if(n.id===e.tokens[a]){var o=n.path.split("/");e.tempNavPath=e.tempPath,e.tokens.length===o.length&&(e.hasMoreTokens=!1,e.cont=!1,e.navItem=angular.copy(n));
break}e.cont=!1}return e}function ht(e,t,n){var r;return r=0===e.id.indexOf(":")?n[0]:n[1]}function gt(e,t){return null===e&&angular.isDefined(t)&&(e=t),e}function mt(e,t){return null===e&&angular.isDefined(t)?e=t:angular.isDefined(t)&&$.extend(!0,e,t),e}function bt(e,t,n){return t&&e&&(e instanceof r.ViewPanel&&(e=e.navItem),e=angular.copy(e),e.unresolvedPath||(e.unresolvedPath=e.path),e.path=H(e.path,t),e.path&&e.path.indexOf("/undefined/")>-1&&n&&(e=u.findNavItem(n),e.path=H(e.path,e.params)),e.label=l("interpolate")(e.label,t),n||(e.params=t)),e}function yt(e){var t=null;return t=angular.isDefined(e)?e:Kt.activeViewPanel().path}function wt(e){if($t()){if(void 0!==e&&!e)return null;Ft=be().path}}function $t(){return!Ft&&Zt&&Zt.length>0}function Pt(e){null!==e&&(angular.isUndefined(e.params)||null===e.params?e.params={}:(angular.isUndefined(e.decodedParams)||null===e.decodedParams)&&(e.decodedParams=M(e.params)))}function It(e,t){var n=K(e.path);if(n===e)return!1;if(n){var r=Kt.viewPanels().filter(function(e){return e.path===n.path});return 0===r.length&&Kt.isNonCloseable(n)}return t}function _t(e,t){return t||(e=Kt.activeViewPanel()),e}function St(e){return e||(e=Kt.activeViewPanel().path),e}function Ot(e,t){var n=null;if(t){for(var r=0;r<Zt.length;r++)if(Zt[r].path===t){n=r;break}void 0!==n&&(e=Zt[n])}return{viewPanel:e,tabIndexToRemove:n}}function xt(e,t,n){var r=null,i=h.defer();if(e){e.$isClosing=!0;var a=Mt(e,t);a.then(function(){e=_t(e,t),t=St(t),r=Nt(t),n=Et(n,t),Vt(e,t,n,r),i.resolve()},function(){i.reject("Pos 3")}).finally(function(){o(function(){e.$isClosing=!1},0)})}else i.resolve();return i.promise}function Nt(e){var t=null;return e!==Ft&&(t=Ft),t}function Et(e,t){for(var n=0;n<Zt.length;n++)if(Zt[n].path===t){e=n;break}return e}function Ct(){n.path(""),Jt=!0}function Dt(){var e=be()?be().params:null;Kt.open(be().path,null,e)}function Tt(e){Zt.splice(e,1)}function jt(e){0===Zt.length?Ct():Zt.length>0&&null===e&&Dt()}function kt(e){var t={};return Object.keys(e).forEach(function(n){if(!n.match(/^\$/)){var r=e[n];angular.isFunction(r)||(t[n]=r)}}),t}function Vt(e,t,n,r){null!==n&&(Tt(n),jt(r),e=kt(e),At(e,t))}function Mt(e,t){return c.publish("fisViewPanelCloseIntent",{path:t,viewPanel:e})}function At(e,t){return c.publish("fisViewPanelClosed",{path:t,viewPanel:e})}function Lt(e){return angular.isDefined(e.children)&&e.children.length>0?angular.isUndefined(e.children[0].partial)?Lt(e.children[0]):e.children[0]:null}function Ut(e,t){if(e.$eval)return e;if(t&&t.scope)return t.scope();throw new Error("Cannot find a scope to evaluate expression in.")}function qt(e){return angular.isObject(e)&&angular.isDefined(e.target)&&angular.element(e.target)}function Rt(e,t,n,r){var i,a,o=!1,u=qt(n),s=Ut(e,u);return i=angular.isObject(r)?angular.copy(r):{},i.view=t,i.$scope=s,angular.isString(t.actionController)&&(i.$scope=s=s.$new(),i.$element=u,g(t.actionController,i),o=!0),delete i.$element,i.$event=n,a=s.$eval(t.action,i),o&&s.$destroy(),a}var Ft,zt,Bt,Ht,Wt,Qt,Yt,Gt,Kt={},Zt=[],Jt=!1,Xt=!1,en={},tn=!1;Kt._getSecondaryNavParent=K,Kt._openInNewTab=pe,Kt._openInSameTab=ye,Kt._extractRelativeUrlData=nt,Kt.open=function(t,n,i){angular.isDefined(n)&&Ue();var a=null,u=null,f=qe(t),d=Re(arguments,n,i),p=d.localEvent,h=d.localParams,g=Kt.activeViewPanel(!1),m=He(f,n,i),b=m.navItem,y=m.tabFound,w=!1;Jt=!0;var $;if(b=We(b,f,y,n,i,h),b=tt(b,f),e===r.getViewOpeningStrategy()&&angular.isDefined(n)&&n&&n.shiftKey&&n.shiftKey===!0&&angular.isDefined(b)&&(w=Zt.some(function(e){return e.path===b.path}),w===!1))return void Zt.push(new r.ViewPanel(b,l));if(q(b)&&(a=nt(b,f),u=a.params,b=a.navItem,$=a.resolvedPath),u=gt(u,i),b=bt(b,u,$),void 0!==b&&null!==b&&void 0!==b.parentTitle&&(b.isStatic=!0),L(b,f),angular.isDefined(b)&&angular.isUndefined(b.partial)&&s.widgets&&s.widgets.fisTabsBar){var P=s.widgets.fisTabsBar.openFirstChildIfEmpty;if(angular.isUndefined(P)||P){var I=Lt(b);null!==I&&o(function(){Kt.open(I.path,n,i),c.publish("fisFirstSecondaryItemOpened")})}}K(f)||A(b,p,h),V(b,g,n),void 0===b||b.closeable!==!0&&"true"!==b.closeable&&void 0!==b.closeable||v.$broadcast("fisTabOpened",{path:t}),o(function(){Jt=!1})},Kt.viewPanels=function(){return Zt},Kt.viewPanelByPath=function(e){for(var t,n=0;n<Zt.length;n++)if(Zt[n].path===e){t=Zt[n];break}return t},Kt.reloadActiveViewPanel=function(e,t){for(var n=yt(e),i=null,a=0;a<Zt.length;a++)if(Zt[a].path===n){var o=u.findNavItem(n);if(o)(angular.isUndefined(t)||0===t.length)&&(i=Kt.activeViewPanel().params);else{var s=nt(o,n);o=s.navItem,i=s.params}i=mt(i,t),o=bt(o,i),Zt[a]=new r.ViewPanel(o,l),Kt.open(n,null,i);break}},Kt.activeViewPanel=function(e){var t=null;wt(e);for(var n=0;n<Zt.length;n++)if(Zt[n].path===Ft){t=Zt[n];break}return Pt(t),t},Kt.activeViewPanelIndex=function(){for(var e=0;e<Zt.length;e++)if(Zt[e].path===Ft)return e;return-1},Kt.viewPanelParams=function(){var e={};return Kt.activeViewPanel()&&(e=Kt.activeViewPanel().params),e},Kt.selectedViewPanelPath=function(e){return 0===arguments.length?Ft:(Kt.selectedPanelPath=e,void Kt.open(e))},Kt.resetSelectedViewPanelPath=function(){Ft=void 0},Kt.isNonCloseable=function(e){var t=!1;if(Ge(e)){angular.isDefined(e.closeable)&&(t=!e.closeable);var n=Z(e);n!==e&&(t=It(e,t)),Ge(e)&&x(e)&&(t=!0)}return t},Kt.close=function(e){var t=_t(null,e),n=St(e),r=Ot(t,n),i=r.tabIndexToRemove;return t=r.viewPanel,v.$broadcast("fisTabClosed",{path:e}),xt(t,n,i)},Kt.openView=function(e,t,n){var r=this;if(e.action)return Rt(r,e,t,n);if(e.path)return Kt.open.call(r,e.path,t,n);if(angular.isString(e))return Kt.open.call(r,e,t,n);throw new Error("Cannot open provided view definition object")};var nn;return c.subscribe("fisBeforeNavItemAdd",function(){nn=Kt.activeViewPanel()}),c.subscribe("fisAfterNavItemAdd",function(e){"main"===e.rootNav&&e.itemToAdd.partial&&Zt.push(new r.ViewPanel(e.itemToAdd,l)),e.openItemAfterAdd?Kt.open(e.itemToAdd.path,null,e.openParams):Kt.open(nn.path,null,e.openParams),c.publish("fisAfterNavItemAdded")}),c.subscribe("fisBeforeNavItemRemove",function(){nn=Kt.activeViewPanel()}),c.subscribe("fisAfterNavItemRemove",function(e){for(var t,n=null,r=0;r<Zt.length;r++)if(Zt[r].id===e.itemToRemove.id){n=Zt[r];break}if(!e.openParentNode&&n&&Kt.close(n.path),e.itemToRemove.id!==Kt.activeViewPanel().id&&Kt.activeViewPanel()&&(Kt.activeViewPanel().unresolvedPath||Kt.activeViewPanel().path)){var i=Kt.activeViewPanel().unresolvedPath?Kt.activeViewPanel().unresolvedPath:Kt.activeViewPanel().path;t=K(e.itemToRemove.path);var a=K(i);t&&a&&t.path===a.path&&(n&&Kt.close(n.path),Kt.open(Kt.activeViewPanel().path,null,e.openParams))}e.openParentNode&&e.parentItem&&e.parentItem.partial?Kt.open(e.parentItem.path,null,e.openParams):e.openParentNode&&e.parentItem&&!e.parentItem.partial&&(t=K(e.itemToRemove.path),t?Kt.open(t.path,null,e.openParams):n&&Kt.close(n.path)),c.publish("fisAfterNavItemRemoved")}),m(),Kt}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=[];e.addFilter=function(e){return t.push(e)},e.removeFilter=function(e){delete t[e]},e.remote=!0;var n=null;e.setViews=function(e){n=e};var r="api/navigation.json",i=null;e.endpoint=function(e){return e&&(i=e),i},e.$routeProvider=null,e.$get=["$templateCache","$resource","$route","$rootScope","$log","fisConfig","$q","fisPubSubService","fisUtilService","$injector","fisNavigationService","fisI18nService",function(i,a,o,u,s,l,f,c,d,p,v,h){function g(e,n){for(var r=0;r<t.length;r++)t[r](e,n)}function m(e,t,n){var r=n||[];angular.forEach(e,function(e){var n=t.apply(this,[e,r]);return n!==!1&&(e.children&&(r.push(e),m(e.children,t,r),r.pop()),void(e.quickLinks&&angular.forEach(e.quickLinks,function(n){r.push(e),r.push(n),m(n.children,t,r),r.pop(),r.pop()})))},e)}function b(e){return e.toLowerCase().replace(" ","-")}function y(e,t){if(e.id||(e.id=b(e.label)),!e.path){for(var n=[],r=0;r<t.length;r++)n.push(t[r].id);n.push(e.id),e.path="/"+n.join("/"),V[e.path]=e}void 0!==V[e.path]&&(V[e.path].label=e.label,V[e.path].title=e.title)}function w(e){if(e.id.indexOf("/")>-1){var t=Object.keys(M).some(function(t){return M[t]===e});t||(M[e.id]=e)}}function $(e){angular.forEach(e,function(e){m(e,function(e,t){y(e,t),w(e),e.label&&0===e.label.indexOf("i18n(")&&(e.label=e.label.substring(e.label.indexOf("(")+2,e.label.indexOf(")")-1),h.isTranslationReady()?(e.label=h.translate(e.label),y(e,t),w(e)):h.translateAsync(e.label).then(function(n){e.label=n,y(e,t),w(e)})),e.title&&0===e.title.indexOf("i18n(")&&(e.title=e.title.substring(e.title.indexOf("(")+2,e.title.indexOf(")")-1),h.isTranslationReady()?(e.title=h.translate(e.title),y(e,t),w(e)):h.translateAsync(e.title).then(function(n){e.title=n,y(e,t),w(e)})),e.template&&!e.partial&&(e.partial=e.path+".tpl.html")})})}function P(t){angular.forEach(t,function(t){m(t,function(t){if(t.partial){var n={templateUrl:d.appendCacheQueryParameter(t.partial)};t.template&&i.put(t.partial,t.template),t.controller&&(n.controller=t.controller),n.resolve=I(t),e.$routeProvider.when(t.path,n)}else t.children||t.action||s.warn("Leaf nav item without a partial: "+t.label)})})}function I(e){var t={},n=e.controller&&fis.__controllers[e.controller];return angular.forEach(n,function(n,r){0!==r.indexOf("$")&&(t[r]=_(n,e.args))}),e.args&&(t.args=function(){return e.args}),t}function _(e,t){return angular.isFunction(e)||angular.isArray(e)&&angular.isFunction(e[e.length-1])?function(){return p.invoke(e,this,{args:t})}:e}function S(e,t){return g(e,t),$(e),P(e),e}function O(e,t){var n=f.defer();return a(e).get(t,function(e){var r={};for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];0!==i.indexOf("$")&&(r[i]=a)}x(n,r,t)},function(){n.reject("Could not load navigation from "+e)}),n.promise}function x(e,t,n){return k=S(t,n),e.resolve(k),c.publish("shell.navReady",k),v.setNavigation(k),e.promise}function N(e){var t=null;for(var n in M){var r=n.split("/"),i=e.split("/");if(r.length===i.length){var a=E(r,i);if(a){t=M[n],t.params=a;break}}}return t}function E(e,t){for(var n={},r=0;r<e.length;r++){if(e[r]!==t[r]&&0!==e[r].indexOf(":"))return n=null,!1;if(e[r]!==t[r]&&0===e[r].indexOf(":")){var i=e[r].substring(1),a=t[r];n[i]=a}}return n}function C(e){var t=e.split("/"),n=t.length;if(n<2)return e;if(t[n-1].indexOf(":")===-1)return t[n-1];if(t[n-2].indexOf(":")===-1)return t[n-2];for(var r=n-1;r>0;r--)if(t[r].indexOf(":")===-1)return t[r]}function D(e,t){return e.some(function(e){return e.id===t.id})}function T(e,t){angular.forEach(k,function(n){m(n,function(r){r.path===e.path&&t.apply(this,[n,r])})})}function j(e,t){var n=-1;if(t&&t.children)for(var r=0;r<t.children.length;r++){var i=t.children[r];if(i.id===e.id){n=r;break}}return n}var k=null,V={},M={},A={};return A.load=function(t,i){return t=t||{},V=t.path2Item||{},c.publish("shell.navLoading",!0),i||n?x(f.defer(),angular.copy(i||n),t):e.endpoint()?O(e.endpoint(),t):O(l.endpoints&&l.endpoints.navigation||r,t)},A.loadOnNavChange=function(e,t){e=e||{},V=e.path2Item||{};var n=f.defer();return k=S(angular.copy(t),e),n.resolve(k),c.publish("shell.navChanged",k),v.setNavigation(k),n.promise},A.findNavItem=function(e,t){var n=null;return t=t||"",e&&0!==e.indexOf("/")?(n=V[t+"/"+e])?n:(n=A.getItemFromPath2Item(e),n||(n=N(e)),n):n=V[e]},A.getItemFromPath2Item=function(e){var t=null;for(var n in V)if(V.hasOwnProperty(n)){var r=V[n],i=n.split("/").length,a=e.split("/").length;if((i>2&&a>2&&i===a||i<=2||a<=2)&&C(n)===C(e))return t=r}return t},A.addDynamicItem=function(t,n){V[t.path]=t,e.$routeProvider.when(t.path,n)},A.addNavItem=function(e,t,n,r,i){if(t&&t.id){var a=f.defer();n="true"===n||n===!0,r=jQuery.isEmptyObject(r)?void 0:r,c.publish("fisBeforeNavItemAdd",!0);var o=A.findNavItem(e);if(o)if(t.path=o.path+"/"+t.id,V[t.path]=t,o.children||(o.children=[]),D(o.children,t))a.reject();else{if(i){var u=A.findNavItem(i);if(u){for(var s=-1,l=0;l<o.children.length;l++)if(o.children[l].path===u.path){s=l;break}s>-1&&o.children.splice(s+1,0,t)}}else o.children.push(t);T(o,function(e,t){t.children=o.children}),A.loadOnNavChange({path2Item:V},k).then(function(){c.publish("fisAfterNavItemAdd",{nav:k,itemToAdd:t,parentItem:o,openItemAfterAdd:n,openParams:r}),a.resolve(k)})}else!o&&k[e]&&(t.path="/"+t.id,V[t.path]=t,D(k[e],t)?a.reject():(k[e].push(t),A.loadOnNavChange({path2Item:V},k).then(function(){var i=e;c.publish("fisAfterNavItemAdd",{nav:k,itemToAdd:t,parentItem:o,openItemAfterAdd:n,openParams:r,rootNav:i}),a.resolve(k)})));return a.promise}},A.removeNavItem=function(e,t,n){var r,i=f.defer();t="true"===t||t===!0,c.publish("fisBeforeNavItemRemove",!0);var a=A.findNavItem(e);if(a){var o=a.path.substring(0,a.path.lastIndexOf("/"));if(o){if(r=A.findNavItem(o),!r)for(var u=!0,s=o;u;)s=s.substring(0,s.lastIndexOf("/")),s&&0===s.length?u=!1:(r=A.findNavItem(s),r&&(u=!1));if(r){var l=j(a,r);l>-1&&(r.children.splice(l,1),V[r.path]=r,delete V[a.path],delete M[a.id],T(r,function(e,t){t.children=r.children}))}}else T(a,function(e,t){e.splice(e.indexOf(t),1)});A.loadOnNavChange({path2Item:V},k).then(function(){c.publish("fisAfterNavItemRemove",{nav:k,itemToRemove:a,parentItem:r,openParentNode:t,openParams:n}),i.resolve(k)})}else i.reject();return i.promise},A}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$routeProvider","$locationProvider","fisViewServiceProvider",function(e,t,n){"ngInject";t.hashPrefix(""),n.$routeProvider=e}]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$route","$anchorScroll","$compile","$controller","$animate","fisI18nService","$timeout",function(e,t,n,r,i,a,o){"ngInject";function u(e){return e.$parent.$on("$destroy",function(){e.$$frozen&&e.$freeze(!1),e.$$fisGC=!0}),e.$freeze=function(e){e&&!this.$$frozen?(this.$broadcast("fisFreezing"),this.$$frozen={},this.$$frozen.$parent=this.$parent,this.$parent.$$childHead=null,this.$parent.$$childTail=null,this.$parent=null,this.$broadcast("fisFrozen")):!e&&this.$$frozen&&(this.$broadcast("fisUnfreezing"),this.$parent=this.$$frozen.$parent,this.$parent.$$childHead=this,this.$parent.$$childTail=this,this.$$frozen=null,this.$broadcast("fisUnfrozen"))},e}return{restrict:"EA",scope:!0,replace:!0,controller:["$scope","$attrs","fisPubSubService",function(e,t,n){var r=n.subscribe("shell.i18nReady",function(){e.i18n=function(t,n){if(angular.isDefined(t)){if(t.indexOf(".")===-1){var r=e.activeViewPanel();r&&(t=[r.module,r.id,t])}return a.translate(t,n)}},r()});e.setTitle=function(t){e.activeViewPanel().setTitle(t)},e.resetTitle=function(){e.activeViewPanel().resetTitle()},e.setIcon=function(t){e.activeViewPanel().setIcon(t)},t.fisStacked&&"false"===t.fisStacked?e.fisStacked=!1:e.fisStacked=!0}],template:'<div fis-message-container>\n                  <div class="fis-info-panel"></div>\n                  <div ng-repeat="panel in panels" class="fis-panel-container ng-hide" fis-element="panel" fis-pub-sub></div>\n                  <div class="default-panel"></div>\n                </div>',link:function(s,l,f){function c(e,t){if(Object.keys(e).length>0)for(var n in e)if(e[n]!=t[n])return!1;return!0}function d(o){b=o;var l=e.current,f=l&&l.locals,d=f&&f.$template,p=s.activeViewPanel();if(l&&l.templateUrl&&p&&l.templateUrl.indexOf(p.partial)!==-1&&c(l.pathParams,p.params))if(l&&o.$route&&o.$route.originalPath===l.$$route.originalPath)o.$scope.$freeze(!1),o.$scope.$broadcast("$panelContentLoaded");else if(d){v(o,!1),o.$route=l.$$route,i.enter(angular.element("<div></div>").html(d).contents(),o.$element);var h,g=n(o.$element.contents()),m=o.$element.scope();o.$scope=l.scope=u(m.$new()),o.args&&(o.$scope.viewArgs=o.args),l.controller&&(f.$scope=o.$scope,f.$element=o.$element,h=r(l.controller,f),o.$element.children().data("$ngControllerController",h)),g(o.$scope),o.$scope.$emit("$viewContentLoaded"),o.$scope.$eval(w),t()}else if(o.$scope&&o.args.targetScope.location.$$url){var y;s.alert&&(y=a.translate("error-path-not-found",""))&&s.alert(y,{title:a.translate("error-dialog-title")}),s.open&&s.open(b.path)}}function p(){var e=h();b&&b.$scope&&b.$scope.$$fisGC&&(v(b,!0),b=null),b!==e?(b&&(i.addClass(b.$element,"ng-hide"),b.$element.removeClass("fis-selected"),b.saveState===!1?v(b,!1):b.$scope&&b.$scope.$freeze(!0)),e.$element&&i.removeClass(e.$element,"ng-hide").then(function(){e.$element.addClass("fis-selected"),y&&o.cancel(y),y=o(function(){d(e)},0)})):d(e)}function v(e,t){var n=e.$element.contents();n.length>0&&i.leave(n),e.$scope&&(e.$scope.$destroy(),e.$scope=null,e.$route=null,t&&(e.$element=null))}function h(){return angular.isNumber(s.selectedIndex)&&s.selectedIndex!==-1?s.panels[s.selectedIndex]:g()}function g(){return m||(m={},m.$element=angular.element(l[0].getElementsByClassName("default-panel")[0])),m}var m,b,y,w=f.fisOnLoad||"";s.panels=void 0,s.fisStacked&&f.fisViews&&f.fisSelectedIndex&&(s.$watchCollection(f.fisViews,function(e){s.panels=e}),s.$watch(f.fisSelectedIndex,function(e){s.selectedIndex=e})),l.addClass("fis-view-panel"),s.$on("$routeChangeSuccess",p)}}}]},function(e,t){e.exports="ngResource"},function(e,t){e.exports="ngRoute"},function(e,t){e.exports="ngSanitize"},function(e,t){e.exports=_},function(e,t){e.exports=jQuery}]);
//# sourceMappingURL=fis-core-components.min.js.map;
/*!
 * 
 * @ruf/fis-kendo-components
 * Version: 4.5.1
 * 
 * © 2018
 * Fidelity National Information Services, Inc. and/or its subsidiaries - All Rights Reserved worldwide.
 * This document is protected under the trade secret and copyright laws as the property of Fidelity National Information Services, Inc. and/or its subsidiaries.
 * Copying, reproduction or distribution should be limited and only to employees with a “need to know” to do their job. Any disclosure of this document to third parties is strictly prohibited.
 * 
 */
!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var i=t.slice(1),n=e[t[0]];return function(e,t,a){n.apply(this,[e,t,a].concat(i))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(11),s=n(o),l=i(13),d=n(l),f=i(4),c=n(f),u=i(6),p=n(u),v=i(8),g=n(v),m=i(26),h=n(m),b=i(7),w=n(b),k=i(42),D=n(k),y=i(46),$=n(y),S=i(48),T=n(S),C=i(51),x=n(C),F=i(56),O=n(F),U=i(59),M=n(U),I=i(9),P=n(I),_=r.default.module("fis.kendo",[s.default,d.default,c.default,p.default,g.default,h.default,w.default,D.default,$.default,T.default,x.default,O.default,M.default,P.default]);t.default=_.name},function(e,t){e.exports=_},function(e,t){e.exports=angular},function(e,t){e.exports=kendo},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=n(a),o=i(65),s=n(o);i(3);var l=i(14),d=n(l),f=r.default.module("fis.kendo.base",[s.default,"kendo.directives"]);f.decorator("$resource",d.default),t.default=f.name},function(e,t){e.exports=jQuery},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(15),d=n(l),f=r.default.module("fis.kendo.data",[s.default]);f.provider("fisKendoDataSourceFactory",d.default),t.default=f.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(6),d=n(l),f=i(30),c=n(f),u=i(31),p=n(u),v=i(32),g=n(v),m=i(33),h=n(m),b=i(34),w=n(b),k=i(35),D=n(k),y=r.default.module("fis.kendo.dropdown",[s.default,d.default]);y.directive("fisComboBoxField",c.default),y.provider("fisDropdownKeyHandlerService",p.default),y.provider("fisDropdownUtilService",g.default),y.directive("fisMultiSelectField",h.default),y.directive("fisSelectField",w.default),y.provider("fisSelectFieldService",D.default),t.default=y.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(9),d=n(l),f=i(16),c=n(f),u=i(17),p=n(u),v=i(18),g=n(v),m=i(19),h=n(m),b=i(20),w=n(b),k=i(21),D=n(k),y=i(22),$=n(y),S=i(23),T=n(S),C=r.default.module("fis.kendo.date",[s.default,d.default]);C.directive("fisDateFormat",c.default),C.filter("getDateFormatForKendo",p.default),C.directive("fisDatePickerField",g.default),C.directive("fisDateTimeFormat",h.default),C.provider("fisDateTimeFormatService",w.default),C.directive("fisDateTimePickerField",D.default),C.filter("fisDate",$.default),C.filter("padYear",T.default),t.default=C.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(62),d=n(l),f=i(63),c=n(f),u=i(64),p=n(u),v=r.default.module("fis.kendo.util",[s.default]);v.controller("fis.kendo.UtilController",d.default),v.provider("fisKendoUtilService",c.default),v.run(p.default),t.default=v.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$timeout","fisCriteriaService","fisConstraintsFactory","$compile","fisMemoryUtilService",function(t,i,n,a,r){"ngInject";return{restrict:"AE",template:'<div ng-form name="advancedSearchForm" class="form-inline fisAdvancedSearch">\t                <div fis-select-field fis-size="mini" ng-model-input="criteria.operator" fis-suffix=" of the following are true" fis-data="operators" ng-change-input="conjunctionChanged(criteria)">\t                </div> \t                <div class="btn-group">\t                    <button class="dropdown-toggle" aria-label="Add" fis-unique-id="renderMenuButton" data-toggle="dropdown" ng-click="renderMenu($event)"><i class="glyphicon glyphicon-plus"></i></button>\t                    <ul class="dropdown-menu" ng-show="displayMenu">\t                        <li fis-unique-id="addSingleConstraint" ng-click="addNewCriterion(criteria)">\t                            <a href="">Add Single Constraint</a>\t                        </li>\t                        <li fis-unique-id="addAnyOrAllGroupConstraint" ng-click="addNewCriteria(criteria)">\t                            <a href="">Add Any/All Group</a>\t                        </li>\t                    </ul>\t                </div>\t                <div>\t                    <ul>\t                        <li fis-hierarchy="item in criteria.operands" class="fis-criteria-operands">\t                            <div>\t                                <div ng-if="!!item.operands" class="fis-item-operand">\t                                    <span>{{item.conjunction}}</span>\t                                    <div fis-select-field fis-size="mini" ng-model-input="item.operator" fis-suffix=" of the following are true" ng-change-input="conjunctionChanged(item)" fis-data="operators">\t                                    </div> \t                                    <div class="btn-group">\t                                        <button fis-unique-id="renderMenuButton" class="dropdown-toggle" data-toggle="dropdown" ng-click="renderMenu($event)"><i class="glyphicon glyphicon-plus"></i></button>\t                                        <ul class="dropdown-menu" ng-show="displayMenu">\t                                            <li fis-unique-id="addSingleConstraint" ng-click="addNewCriterion(item)">\t                                                <a href="">Add Single Constraint</a>\t                                            </li>\t                                            <li fis-unique-id="addAnyOrAllGroupConstraint" ng-click="addNewCriteria(item)">\t                                                <a href="">Add Any/All Group</a>\t                                            </li>\t                                        </ul>\t                                    </div>\t                                    <span>\t                                        <button class="pull-right" fis-unique-id ng-click="remove(item)"><i class="glyphicon glyphicon-remove"></i> remove</button>\t                                    </span>\t                                </div>\t                                <div ng-if="item.property !== undefined" class="fis-advanced-search-criterion">\t                                    <span>{{item.conjunction}}</span>\t                                    <div fis-select-field fis-size="medium" \t                                        fis-unique-id="propertyField" ng-model-input="item.property" fis-options="title for field in possibleFields.data" placeholder-input="Choose a property">\t                                    </div>\t                                    <div fis-select-field fis-unique-id="constraintField" ng-model-input="item.constraint" fis-size="medium" tabindex="-1" ng-click="setEventTarget($event)" ng-change-input="constraintChanged(item)" ng-show="item.constraints.length > 0" fis-data="item.constraints || []">\t                                    </div>\t                                    <div fis-text-field fis-unique-id="valueField" ng-model-input="item.value" class="fis-advanced-search-value-field" ng-show-input="displayValueField(item)" fis-size="medium" ng-show-input="item.constraints.length > 0">\t                                    </div>\t                                    <span>\t                                        <button class="pull-right" fis-unique-id  ng-click="remove(item)"><i class="glyphicon glyphicon-remove"></i> remove</button>\t                                    </span>\t                                </div>\t                            </div>\t                            <ul></ul>\t                        </li>\t                    </ul>\t                </div>\t            </div>',scope:{ngModel:"=",fisImmediate:"@"},controller:["$scope","$element","$attrs",function(o,s,l){function d(){$(document).on("click",function(e){o.renderMenu(e)})}function f(t){if(t){var i=e.find(o.possibleFields.data,function(e){return e.field===t});if(i)return i.editorTemplate}return null}function c(t){var i={};i=t instanceof jQuery.Event?t.target:t,D=angular.element(i).parents("div.fis-advanced-search-criterion").find(".fis-advanced-search-value-field");var n=angular.element(D).scope().item,r=e.pluck(n.constraints,"value"),s=n.constraints[r.indexOf(n.constraint)].template;if(y[n.constraint]||(y[n.constraint]={}),s?y[n.constraint].skipValidation=!0:(y[n.constraint].skipValidation=!1,s=f(n.property)),s)u(s,n);else{var l=a('<form name="valueForm" class="fis-advanced-search-value-field"><div fis-text-field ng-model-input="item.value" ng-show-input="displayValueField(item)" fis-size="medium"></form>')(o.$parent.$new());l.scope().item=n,l.scope().displayValueField=o.displayValueField,l.attr("style","display:inline"),angular.element(D).scope().$destroy(),angular.element(D).replaceWith(l)}}function u(e,t){e=angular.element(angular.element(e).attr("ng-show","displayValueField(item)").attr("ng-model-input","item.value")),e=e.wrap('<form name="valueForm" class="fis-advanced-search-value-field"></form>').parent().prop("outerHTML");var i=a(e)(o.$parent.$new());i.attr("ng-show","displayValueField(item)"),i.attr("style","display:inline"),i.scope().item=t,i.scope().displayValueField=o.displayValueField,angular.element(D).replaceWith(i)}function p(){var t=s.find('div[fis-select-field][ng-model-input="item.property"]').find("input"),i=e.find(t,function(e){return!angular.element(e).hasClass("fis-advanced-search-change-listener-added")});i&&(t.off("change",c),t.on("change",c),t.addClass("fis-advanced-search-change-listener-added"),angular.forEach(t,function(e){c(e)}))}function v(e){if(e.operands)for(var t=0;t<e.operands.length;t++){var i=e.operands[t];(t>0&&angular.isUndefined(i.conjunction)||i.operands)&&(i.conjunction=e.operator,v(i))}}function g(e){for(var t=0;t<o.possibleFields.data.length;t++)if(e===o.possibleFields.data[t].field)return o.possibleFields.data[t].dataType;return null}function m(t){var i=e.find(t.constraints,function(e){return e.value===t.constraint});i||(t.constraint=t.constraints[0].value)}function h(e){if(e&&e.operands)for(var t=0;t<e.operands.length;t++){var i=e.operands[t];y[i.constraint]&&y[i.constraint].skipValidation?i.skipValidation=!0:i.skipValidation=!1,h(i);var a=i.property;if(a){var r=null;o.possibleFields&&(r=g(a)),i.type=r||"string",i.constraints=n.getConstraintsByType(i.type),m(i)}else i.constraints=[];var s=t+1,l=e.operands[s];l&&h(l)}}function b(e,t){for(var i=-1,n=0;n<t.operands.length;n++)if(e===t.operands[n]){i=n;break}if(i>-1)t.operands.splice(i,1);else for(var a=0;a<t.operands.length;a++)t.operands[a].operands&&b(e,t.operands[a])}function w(e){e&&(o.possibleFields=e,o.criteria=i.newCriteria(),o.ngModel=angular.copy(o.criteria))}o.immediate=!o.fisImmediate||"false"!==o.fisImmediate;var k=[i.constraints.IS_EMPTY,i.constraints.NOT_EMPTY,i.constraints.IS_NULL,i.constraints.NOT_NULL];o.displayMenu=!1,o.possibleFields=null,o.operators=[{value:"and",label:"All"},{value:"or",label:"Any"}];var D,y={},S=s.controller("fisData"),T=!1;o.renderMenu=function(e){if(o.displayMenu=!0,e){var t=$(e.currentTarget),i=t.next();if(e&&t.hasClass("dropdown-toggle")&&!i.is(":visible")?(i.show(),T||(d(),T=!0)):e&&t.hasClass("dropdown-toggle")&&i.is(":visible")&&i.hide(),!$(e.target).closest(".dropdown-toggle").length&&!$(event.target).is(".dropdown-toggle")){var n=s.find(".dropdown-menu");n.hide()}}};var C=t(p,0);r.cancelTimeoutOnDestroy(o,C,t),o.displayValueField=function(t){return!(!t.constraints||0===t.constraints.length)&&!e.contains(k,t.constraint)},o.constraintChanged=function(t){var i=e.pluck(t.constraints,"value"),n=t.constraints[i.indexOf(t.constraint)].template;if(y[t.constraint]||(y[t.constraint]={}),n)y[t.constraint].skipValidation=!0,u(n,t);else{y[t.constraint].skipValidation=!1;var a=f(t.property);a&&u(a,t)}e.contains(k,t.constraint)&&(t.value="")},o.setEventTarget=function(e){D=angular.element(e.target).parents("div.fis-advanced-search-criterion").find(".fis-advanced-search-value-field")},S.fetchData().then(function(e){o.possibleFields=e},function(e){console.warn("Problem loading data: "+e)});var x=o.$watch("criteria",function(e){if(e&&e.isValid){h(e);for(var t=0;t<e.operands.length;t++){var i=e.operands[t];y[i.constraint]&&(i.skipValidation=y[i.constraint].skipValidation)}o.immediate&&e.isValid()&&(o.ngModel=angular.copy(e))}},!0);r.cancelWatchOnDestroy(o,x),o.ngModel||(o.criteria=i.newCriteria());var F=o.$watch("ngModel",function(e){if(JSON.stringify(e)!==JSON.stringify(o.criteria)){var n=e;n instanceof i.Criteria||(n=i.newCriteria(e)),n.isValid()&&(v(n),o.criteria=angular.copy(n));var a=t(p,0);r.cancelTimeoutOnDestroy(o,a,t)}});r.cancelWatchOnDestroy(o,F),o.addNewCriterion=function(e){var n=new i.Criterion;n.property=o.possibleFields.data[0].field,o.displayMenu=!1,e.operands.push(n),e.operands.length>1&&(n.conjunction=e.operator);var a=t(function(){var e=s.find('div[fis-select-field][ng-model-input="item.property"]').find("input");angular.forEach(e,function(e){e=angular.element(e),e.hasClass("fis-advanced-search-change-listener-added")||(e.on("change",c),e.addClass("fis-advanced-search-change-listener-added"),c(e))})},0);r.cancelTimeoutOnDestroy(o,a,t)},o.addNewCriteria=function(e){var t=i.newCriteria();o.displayMenu=!1,e.operands.push(t),e.operands.length>1&&(t.conjunction=e.operator)},o.conjunctionChanged=function(e){angular.forEach(e.operands,function(t){t.conjunction&&(t.conjunction=e.operator)})},o.remove=function(e){b(e,o.criteria)},o.immediate||o.$on("fisAdvancedSearch.apply",function(){o.applySearch()}),o.applySearch=function(){o.criteria.validate(),o.ngModel=angular.copy(o.criteria);var e=t(function(){},0);r.cancelTimeoutOnDestroy(o,e,t)};var O=o.$watch(l.fisData,function(t,i){!e.isEqual(t,i)&&i&&w(t)},!0);r.cancelWatchOnDestroy(o,O),S.addDataChangedListener(function(e){w(e)})}]}}]}).call(t,i(1))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(7),d=n(l),f=i(10),c=n(f),u=r.default.module("fis.kendo.advancedsearch",[s.default,d.default]);u.directive("fisAdvancedSearch",c.default),t.default=u.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=["fisKendoDataSourceFactory","fisFieldDirectiveFactory","fisMemoryUtilService","$timeout","$window","$sanitize","$parse",function(t,n,a,r,o,s,l){"ngInject";function d(e,t){var i=e.find(".fis-inputs");t.fisPrefix&&i.addClass("input-prepend"),t.fisSuffix&&i.addClass("input-append"),e.find(".controls").addClass("fis-autocomplete-fixed-height")}function f(e,t,i){var n=e.controller("ngModel");if(!n)throw new Error("ngModel required on autocomplete.");return n.$parsers.unshift(function(e){return i.fisSelectMode&&(i.valueWasSelected||!e?i.valueWasSelected=!1:e=n.$modelValue),e}),n}function c(e,t,i,n){var a;if(i.indexOf("#=")!==-1){var r=i.split("- "),o=r[0].substr(r[0].indexOf("#=")+2,r[0].indexOf(" #")-2),s=r[1].substr(r[1].indexOf("#=")+2,r[1].indexOf(" #")-2);a=C({markup:F({firstField:o,secondField:s}),fisFilterField:e,fisDisplayField:t})}else{var l=x({fisDescriptionField:i});a=C({markup:l,fisFilterField:e,fisDisplayField:t})}return $.proxy(kendo.template(a),n)}function u(t,i){i.fisUpdateObject||""===t||e.isUndefined(t)?(i.scope.valueWasSelected=!0,e.isUndefined(t)&&(t=""),i.ngModel.$setViewValue(t),i.ngModel.$commitViewValue()):t&&("string"!=typeof t||i.scope.fisSelectMode?(i.scope.valueWasSelected=!0,i.ngModel.$setViewValue(t[i.fisDisplayField]),i.ngModel.$commitViewValue()):(i.scope.valueWasSelected=!0,i.ngModel.$setViewValue(t),i.ngModel.$commitViewValue())),p(i.scope)}function p(e){e.$$phase||e.$apply()}function v(e,t,i){var n=[];return angular.forEach(i,function(i){e===i[t].toString()&&n.push(i)}),n}function g(e,t){return e.length<t?"":e}function m(e,t){return void 0===e?"":"string"==typeof e?e:e[t]}function h(e,t,i){var n,a=t.dataSource.view().length,r=t.selectedDataItem;if(t.scope.fisSelectMode)if(a>1){var o=v(e,i,t.dataSource.view());n=1===o.length?o[0]:r}else n=1===a?t.dataSource.view()[0]:void 0;else if(a>0){var s=v(e,i,t.dataSource.view());n=s&&1===s.length?s[0]:e}else n=e;return n}function b(e,t){var i=t.dataSource.filter(),n={value:t.ignoreCase?e.toLowerCase():e,operator:t.filter,field:t.fisFilterField};t.fisDisplayField!==t.fisFilterField&&(n={logic:"or",filters:[n,{value:e,operator:"equals",field:t.fisDisplayField}]}),t.dataSource.filter(n),t.dataSource.fetch(function(){var n=h(e,t,t.fisDisplayField),a=m(n,t.fisDisplayField);t.input.val(a),u(n,t),t.dataSource.view().length=0,t.dataSource.filter(i)})}function w(e){return e.scope.fisSelectMode?function(){var t=e.input.val();t=g(t,e.fisMinLength);var i=t;if(t.indexOf("{{")>=0&&t.indexOf("}}")>=0&&(t=""),t&&""!==t)if(0===e.dataSource.view().length)b(t,e);else{var i=h(t,e,e.fisDisplayField),n=m(i,e.fisDisplayField);e.input.val(n),u(i,e),e.dataSource.view().length=0}else e.input.val(t),u(t,e),e.dataSource.view().length=0}:function(){var t=e.input.val(),i=h(t,e,e.fisDisplayField);i?u(i,e):(e.ngModel.$setViewValue(t),e.ngModel.$commitViewValue()),p(e.scope),e.dataSource.view().length=0}}function k(e){return function(){var t=e.input.val();e.scope.fisSelectMode&&(t=g(t,e.fisMinLength));var i=t;if(t&&""!==t&&(i=h(t,e,e.fisFilterField)),i){var n=m(i,e.fisDisplayField);e.input.val(n),u(i,e)}else e.ngModel.$setViewValue(t),e.ngModel.$commitViewValue()}}var D=function(t,i){var n=i.val(),a=i.data("kendoAutoComplete"),r=new RegExp(n,"ig");e.isUndefined(a)||e.isUndefined(a.options.filter)||"startswith"!==a.options.filter||(r=new RegExp("^"+n,"i"));var o=s(t);return o.replace(r,function(e){return"<strong>"+e+"</strong>"})};o.highlightSgAutoCompleteSuggestions=D;var y='<div><div class="fis-autocomplete-item"><table class="fis-autocomplete-list-item-table"><tr> \t                <td class="fis-autocomplete-spacer"></td>\t                <td class="fis-autocomplete-first">\t                    # if (data.<%= fisFilterField %>) { # \t                            #= highlightSgAutoCompleteSuggestions(data.<%= fisDisplayField %>, this) # \t                        # } else {# \t                            #= highlightSgAutoCompleteSuggestions(data, this) # \t                        # }# \t                    </td> \t                    <%= markup %> \t                    <td class="fis-autocomplete-spacer"></td>\t                    <tr></table></div>\t                </div></div>',S='# if (data.<%= fisDescriptionField %>) { # \t                    <td class="fis-autocomplete-spacer"></td>\t                    <td class="fis-autocomplete-second">\t                        #= highlightSgAutoCompleteSuggestions(data.<%= fisDescriptionField %>, this) # \t                    </td> \t                # }# \t            ',T='<td class="fis-autocomplete-spacer"></td>\t              <td class="fis-autocomplete-second">\t                #= highlightSgAutoCompleteSuggestions(data.<%= firstField %>, this) # - #= highlightSgAutoCompleteSuggestions(data.<%= secondField %>, this) # \t              </td> \t             ',C=e.template(y),x=e.template(S),F=e.template(T);return n.create({editTemplate:'<div class="fis-autocomplete <% if(field.attrs.fisSize) {%>fis-autocomplete-<%=field.attrs.fisSize%><% } else {%>fis-autocomplete-large<% }%>">\t                <% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\t                <input fis-input="input" ng-model-options="{ updateOn:\'submit change\', debounce:{  submit:0, change:1 } }" type="text" class="<% if(field.attrs.fisSize) {%>fis-autocomplete-<%=field.attrs.fisSize%><% } else {%>fis-autocomplete-large<% }%>"/>\t                <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %></div>',viewTemplate:'<% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\t                {{fieldValue()}}\t          <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',fieldValue:function(e,t,i,n){return void 0!==n[0]&&"string"==typeof n[0].$modelValue?n[0]&&n[0].$modelValue||"":n[0]&&n[0].$modelValue&&n[0].$modelValue[i.fisDisplayField]||""},require:["fisData","?fisRefresh"],link:function(e,n,o,s){function p(t){if(y){var n=e.$parent.$eval(t);"object"===("undefined"==typeof n?"undefined":i(n))&&(h.val(n[y]),u(n,j))}}var v=s[0],g=s[1];d(n,o);var m,h=n.find("input"),b=o.fisMinLength?parseInt(o.fisMinLength,10):3;e.fisSeparator="";var D=o.fisFilterField||"name",y=o.fisDisplayField||D,S=o.fisUpdateObject&&"true"===o.fisUpdateObject,T=o.fisDescriptionField||"description";e.fisSelectMode=o.fisSelectMode&&"true"===o.fisSelectMode||!o.fisSelectMode,m=f(h,o,e);var C=o.placeholderInput||"",x=o.fisFilter||"contains",F=o.fisLowerCase||"true",O=o.fisColumns;O=l(O)(e);var U,M,I;if(O){U='<div class="dropdown-header"><table style="width: 100%;"><tbody><tr>',M='<table style="width: 100%;"><tbody><tr>';for(var P=0;P<O.length;P++){var _=O[P],V=_.field,L=_.width?_.width+"%":100/O.length+"%";O.length>1&&(U=U+'<td class="k-widget k-header autocomplete-columns-header" style="width: '+L+';">'+_.title+"</td>"),M=angular.isUndefined(_.template)?M+'<td class="autocomplete-columns-items '+_.cls+'" style="width: '+L+';">#= data.'+V+' || ""#</td>':M+'<td class="autocomplete-columns-items '+_.cls+'" style="width: '+L+';">'+_.template+"</td>"}M+="</tr></tbody></table>",U+="</tr></tbody></table></div>"}else I=c(D,y,T,h);var A={};A.serverFiltering="true"===o.fisServerFiltering;var N={};A.serverFiltering&&(N.q="filter.filters[0].value");var E=t.createListDataSource(v.fetchData,N,A);v.addBeforeFetchListener(function(){h.addClass("fis-working-indicator")}),v.addAfterFetchListener(function(){h.removeClass("fis-working-indicator")});var j={input:h,scope:e,ngModel:m,dataSource:E,fisFilterField:D,fisUpdateObject:S,fisDisplayField:y,fisMinLength:b,ignoreCase:"false"!==F,filter:x};h.kendoAutoComplete({filter:x,dataSource:E,minLength:b,placeholder:C,headerTemplate:U?U:void 0,separator:e.fisSeparator,dataTextField:D,template:M?M:I,ignoreCase:"false"!==F,select:function(t){e.valueWasSelected=!0,t&&t.item&&(j.selectedDataItem=this.dataItem(t.item.index()))},close:k(j)});var z=h.data("kendoAutoComplete"),q=function(t){if(!t||!t.defaultPrevented){var i=r(function(){delete e.oldData,E.read()});a.cancelTimeoutOnDestroy(e,i,r)}};e.$on("fisRefresh",q),g&&(g.trigger=q),r(function(){var e=parseFloat(z.wrapper.width());z.list.css("width","auto").css("min-width",e),z.list.find("ul").addClass("fis-autocomplete-ul-animation")},0);var W=r(function(){if(z&&"T"===fis.initParams().appStage){var e=z.element.attr("fisid");z.list.find("ul").attr("fisid",e+"_list_")}},0);a.cancelTimeoutOnDestroy(e,W,r),h.on("blur",w(j)),e.resize=function(e){var t=$(z.parentElement).removeAttr("class");t.css("width",e);var i=$(z.element[0]);i.removeAttr("class"),i.css("width",e);var n=parseInt(i.css("padding-left"))+parseInt(i.css("padding-right"));z.wrapper.css("width",e+n),z.list.css("width",e+n)},e.$on("$destroy",function(){a.destroyKendoWidgets(z)});var R=e.$watch(o.ngModelInput,function(){var e=m.$modelValue;e?"object"===("undefined"==typeof e?"undefined":i(e))&&h.val(e[y]):p(m)});a.cancelWatchOnDestroy(e,R)}})}]}).call(t,i(1))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(6),d=n(l),f=i(12),c=n(f),u=r.default.module("fis.kendo.autocomplete",[s.default,d.default]);u.directive("fisAutocompleteField",c.default),t.default=u.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$delegate",function(e){"ngInject";function t(e,t){var i=Object.getPrototypeOf(e);return i.constructor!==t&&angular.isFunction(i.toJSON)?i.toJSON.call(e):e}function i(){var i=e.apply(e,arguments);return i.prototype.toJSON=function(){var e=t(this,i);return delete e.$promise,delete e.$resolved,e},i}return i}]},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this;t.$get=["$parse","$rootScope",function(t,i){function n(e,i){var n,r={};return angular.forEach(i,function(i,o){angular.isString(i)?n=t(i)(e.data):angular.isNumber(i)?n=t(i.toString())(e.data):angular.isFunction(i)&&(n=i(e.data,r)),void 0!==n&&null!==n&&(r[o]=a(n))}),r}function a(e){return e instanceof Date?e.toISOString():e}function r(t){var i=!1;return e.isUndefined(t.fisLazyLoading)||"true"===t.fisLazyLoading&&(i=!0),i}function o(t){var i="hasItems";return e.isUndefined(t.fisHasChildren)||t.fisHasChildren.length>0&&(i=t.fisHasChildren),i}var s={};return s.createListDataSource=function(e,t,a,r){return new kendo.data.DataSource(angular.extend({transport:{read:function(a){a.data.additionalOpts=r;var o={};r&&r.paramsReady?(o=r.resolvedParams,r.paramsReady=!1):o=n(a,t);var s=e(o);s.then(function(e){void 0===e.total&&(e.total=e.data.length),r&&r.successCb&&r.successCb(e),a.success(e)},function(e){r&&r.errorCb&&r.errorCb({data:e.data,status:e.status,errorType:"fisData"}),a.error(e)}),i.$$phase||i.$apply()}},requestStart:function(e){r&&r.requestStart&&r.requestStart(e)},schema:{data:"data",total:"total"},getAdditionalOptions:function(){return r},setAdditionalOptions:function(e){r=e}},a||{}))},s.createHierarchicalDataSource=function(e,t,a,s){var l,d=r(s),f=o(s);return l=d?{data:"data",total:"total",model:{id:"id",hasChildren:f,fields:{checked:{from:"checked",type:"boolean"}}}}:{data:"data",total:"total",model:{hasChildren:function(e){return e.items&&e.items.length>0},fields:{checked:{from:"checked",type:"boolean"}},children:"items"}},new kendo.data.HierarchicalDataSource(angular.extend({transport:{read:function(a){var r=e(n(a,t));r.then(function(e){void 0===e.total&&(e.total=e.data.length),a.success(e)}),i.$$phase||i.$apply()}},schema:l},a||{}))},s}]}}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$filter","fisDateTimeFormatService",function(t,i){"ngInject";var n=function(e){if(!e)throw new Error("ngModel required in order to format the date.")};return{link:function(t,a,r){var o=a.find("input");0===o.length&&(o=a);var s=o.controller("ngModel");s||(s=a.controller("ngModel")),n(s);var l=!angular.isUndefined(o.data("kendoDatePicker"));if(!l){var d=r.fisLocale,f=r.fisDateFormat,c=!0;(angular.isUndefined(f)||e.isEmpty(f))&&(f=i.getDateFormat(d),c=!1,f=i.formatPlaceHolder(f)),o.attr("placeholder",f.toUpperCase());var u=i.isMidnightUTC(r),p=!1,v=i.getConfigCutoff();angular.isUndefined(r.fisTwoDigitYear)||r.fisTwoDigitYear===!1||(p=!0,v=""!==r.fisTwoDigitYear?parseInt(r.fisTwoDigitYear,10):v,r.$observe("fisTwoDigitYear",function(e){""!==e&&(v=""!==e?parseInt(e,10):v)}),o.blur(function(){var t=g();angular.isUndefined(t)||e.isEmpty(t)?o.val(s.$modelValue):o.val(t)}));var g=function(){var t=i.getDateAsDateObject(s.$modelValue,d,!1,u,r.fisDateOnly);if(!e.isUndefined(t))return kendo.toString(t,f,d)};angular.isUndefined(r.fisCustomValidate)||angular.isUndefined(t[r.fisCustomValidate])||(t.fisCustomValidateFn=t[r.fisCustomValidate]);var m="false"!==r.fisValidateDate;m&&(s.$validators.date=function(e){return angular.isUndefined(t.fisCustomValidateFn)?!(!i.isValid(e)&&!angular.equals(e,"")):t.fisCustomValidateFn(e)});var h=function(e){var i={};return i.scope=t,i.attributes=r,i.isMidnightUTC=u,i.supportTwoDigitYear=p,i.cutOffYear=v,i.dateFormat=f,i.viewValue=e,i.fisLocale=d,i};s.$formatters.push(function(e){var t=e;return e&&(e=isNaN(e)||angular.isDate(e)?i.extractDateFromModelValue(h(e)):new Date(parseInt(e,10)),angular.isUndefined(e)||(t=kendo.toString(e,f,d))),t}),s.$parsers.unshift(function(e){var t=e;return e&&(e=isNaN(e)||angular.isDate(e)?i.extractDateFromViewValue(h(e)):new Date(parseInt(e,10)),angular.isUndefined(e)||(t=e)),t});var b=function(e){o.attr("placeholder",i.formatPlaceHolder(e).toUpperCase())},w=function(){f=i.getDateFormat(d),b(f)};r.$observe("fisLocale",function(e){d=e;var t={format:f,locale:e};k(t)}),r.$observe("fisDateFormat",function(e){var t={format:e,locale:d};k(t)});var k=function(t){angular.isUndefined(r.fisDateFormat)||e.isEmpty(r.fisDateFormat)?w():(f=t.format,b(f)),s.$modelValue&&(s.$modelValue=new Date(s.$modelValue))}}}}}]}).call(t,i(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$locale","fisDateTimeFormatService",function(e,t){"ngInject";return function(e){var i;return"small"!==e&&"full"!==e||(console.warn('Using deprecated date format "'+e+'" - please remove it!'),e=void 0),i=t.getDateFormat()}}]},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","$filter","$timeout","$parse","fisDateTimeFormatService","fisFieldDirectiveFactory","fisMemoryUtilService",function(t,i,n,a,r,o,s){"ngInject";return o.create({editTemplate:'<% if(field.attrs.ngModelInput) {%><input fis-input="input" class="<% if(field.attrs.fisSize) {%>input-<%=field.attrs.fisSize%><% } else {%>input-large<% }%><%if(field.attrs.fisReadonlyInput === "true") {%> date-ready-only<% }%>"></input><% } else{%><input fis-input="input" ng-model="<%= field.attrs.ngModelDate  %>" class="<% if(field.attrs.fisSize) {%>input-<%=field.attrs.fisSize%><% } else {%>input-large<% }%><%if(field.attrs.fisReadonlyInput === "true") {%> date-ready-only<% }%>"><% if(field.attrs.ngModelYear) {%>  <div tabindex="-1" ng-model="<%= field.attrs.ngModelYear %>"   class="year"></div><% }%><% if(field.attrs.ngModelMonth) {%> <div tabindex="-1" ng-model="<%= field.attrs.ngModelMonth %>"  class="month"></div><% }%><% if(field.attrs.ngModelDay) {%>   <div tabindex="-1" ng-model="<%= field.attrs.ngModelDay %>"    class="day"></div><% }%></input><% }%>',viewTemplate:"{{fieldValue()}}",link:function(i,o,l){function d(e){if(void 0===e||null===e||""===e){var t=f.data("kendoDatePicker");t&&(!b||null!==e&&""!==e||L(null),t.value(e),t.dateView.calendar&&t.dateView.calendar.element.find("td.k-state-focused").removeClass("k-state-focused"))}}var f=o.find("input"),c=o.find(".year"),u=o.find(".month"),p=o.find(".day"),v=f.controller("ngModel"),g=c.controller("ngModel"),m=u.controller("ngModel"),h=p.controller("ngModel"),b=!(!g&&!m&&!h),w=l.fisLocale,k=l.fisDateFormat,D=!0;(angular.isUndefined(k)||e.isEmpty(k))&&(k=r.getDateFormat(w),D=!1);var y=r.isMidnightUTC(l),S=!1,T=r.getConfigCutoff();angular.isUndefined(l.fisTwoDigitYear)||l.fisTwoDigitYear===!1||(S=!0,T=""!==l.fisTwoDigitYear?parseInt(l.fisTwoDigitYear,10):T,l.$observe("fisTwoDigitYear",function(e){""!==e&&(T=""!==e?parseInt(e,10):T)}),f.blur(function(){O()}));var C=function(e){var t={};return t.scope=i,t.attributes=l,t.isMidnightUTC=y,t.supportTwoDigitYear=S,t.cutOffYear=T,t.dateFormat=k,t.viewValue=e,t.fisLocale=w,t},x=function(){var t=r.getDateAsDateObject(v.$modelValue,w,!1,y,l.fisDateOnly);return!e.isUndefined(i.fisCustomValidateFn)&&e.isNull(t)&&(t=v.$modelValue),t},F=function(){var e=x();if(e)return kendo.toString(e,k,w)},O=function(){var t=F();e.isUndefined(t)?f.val(v.$modelValue):f.val(t)},U=function(e){
var t=f.data("kendoDatePicker");t.setOptions(e),f.attr("placeholder",r.formatPlaceHolder(e.format).toUpperCase())},M=function(){var e=r.getDatePickerOptions(w);k=r.getDateFormat(w),U(e),v.$modelValue&&(v.$modelValue=new Date(v.$modelValue))},I=function(){var e=null,t=g.$viewValue,i=m.$viewValue,n=h.$viewValue;return t&&i&&n&&(e=new Date(t,i-1,n)),e},P=function(){var e=f.data("kendoDatePicker");angular.isUndefined(e)||angular.isUndefined(i.minDate)||e.min(i.minDate)},_=function(){var e=f.data("kendoDatePicker");angular.isUndefined(e)||angular.isUndefined(i.maxDate)||e.max(i.maxDate)},V=function(e,t){var n=f.data("kendoDatePicker");n&&n.destroy(),f.kendoDatePicker({change:e,open:t,month:{content:'<div fisid="day_#=data.dateString.split("/").join("_")#">#= data.value #</div>'},footer:'<div fisid="today_#=kendo.toString(data, "dd") #">#=kendo.toString(data, "D") #</div>'});var a=f.data("kendoDatePicker").dateView.div;i.$on("$destroy",function(){a.remove()}),P(),_()},L=function(e){var t=null,i=null,n=null;angular.isDate(e)?(f.data("kendoDatePicker").value(e),t=isNaN(e.getFullYear())?void 0:e.getFullYear().toString(),i=isNaN(e.getMonth())?void 0:(e.getMonth()+1).toString(),n=isNaN(e.getDate())?void 0:e.getDate().toString(),g.$setViewValue(t),m.$setViewValue(i),h.$setViewValue(n),v.$setViewValue(e)):null===e&&(g.$setViewValue(""),m.$setViewValue(""),h.$setViewValue(""),v.$setViewValue(""))},A=function(){if(b){var t=function(){var e=I();e&&!isNaN(e.getMonth())&&(v.$setViewValue(e),f.data("kendoDatePicker").value(e))};g.$render=t,m.$render=t,h.$render=t,v.$render=t,V(function(){g.$dirty=!0,m.$dirty=!0,h.$dirty=!0,i.$apply(function(){L(f.data("kendoDatePicker").value())})},function(){var e=f.data("kendoDatePicker");e.value()||(e.dateView.calendar.value(new Date),e.dateView.calendar._value=null)}),f.attr("style","")}else V(function(){v.$dirty=!0,i.$evalAsync(function(){f.data("kendoDatePicker").value()&&($.isEmptyObject(v.$error)||v.$setViewValue(f.data("kendoDatePicker").value()))})},function(){var e=f.data("kendoDatePicker");e.value()||(e.dateView.calendar.value(new Date),e.dateView.calendar._value=null)});var n="false"!==l.fisValidateDate;angular.isUndefined(l.fisCustomValidate)||angular.isUndefined(i[l.fisCustomValidate])||(i.fisCustomValidateFn=i[l.fisCustomValidate]),n&&(v.$validators.date=function(e){return angular.isUndefined(i.fisCustomValidateFn)?!(!r.isValid(e,l.fisDateOnly)&&!angular.equals(e,"")):i.fisCustomValidateFn(e)}),(l.fisMinDate||l.fisMaxDate)&&(v.$validators["date-range"]=function(t){if(r.isValid(t)){var i=f.data("kendoDatePicker");if(!e.isUndefined(i))return r.isValidDateRange(new Date(t),i.min(),i.max(),!0)}return!0}),v.$formatters.push(function(t){var i=t;if(t&&(t=r.extractDateFromModelValue(C(t)),!angular.isUndefined(t))){var n=f.data("kendoDatePicker");e.isUndefined(n)||(n.value(t),i=kendo.toString(t,k,w))}return i}),v.$parsers.unshift(function(e){var t=e;return e&&(e=r.extractDateFromViewValue(C(e)),angular.isUndefined(e)||(t=e)),t instanceof Date&&isNaN(t)?void 0:t}),D||M(),"T"===fis.initParams().appStage&&(o.find(".k-icon").attr("fisid",f.attr("fisid")+"_openWidgetButton"),$(f.data("kendoDatePicker").dateView.div).attr("fisid",f.attr("fisid")+"_calendar"))};i.fieldValue=function(){var e=x();return!angular.isUndefined(e)&&y&&r.isValid(e)&&(e=r.adjustDateViewValueForTimeZone(e)),angular.isUndefined(e)?"":kendo.toString(e,k,w)};var N=i.$watch("fisDisabled",function(e){var t=f.data("kendoDatePicker");t&&t.enable(!e)});if(s.cancelWatchOnDestroy(i,N),i.$on("$destroy",function(){var e=f.data("kendoDatePicker");s.destroyKendoWidgets(e)}),l.ngModelInput){var E=i.$watch(l.ngModelInput,function(e,t){+e!==+t&&d(e)});s.cancelWatchOnDestroy(i,E)}var j=i.$watch(l.ngModelDate,function(e,t){+e!==+t&&d(e)});s.cancelWatchOnDestroy(i,j),l.$observe("fisLocale",function(e){w=e;var t={locale:e,format:k};z(t)}),l.$observe("fisDateFormat",function(e){var t={format:e,locale:w};z(t)});var z=function(t){angular.isUndefined(l.fisDateFormat)||e.isEmpty(l.fisDateFormat)?M():(k=t.format,U(t),v.$modelValue&&(v.$modelValue=new Date(v.$modelValue)))},q=function(){var e=a(l.fisMinDate)(i)||new Date(1900,0,1);return angular.isDate(e)||(e=r.getDateAsDateObject(e,w,!0,y,l.fisDateOnly)),i.minDate=e,P(),i.minDate},W=function(){var e=a(l.fisMaxDate)(i)||new Date(2099,11,31);return angular.isDate(e)||(e=r.getDateAsDateObject(e,w,!0,y,l.fisDateOnly)),i.maxDate=e,_(),i.maxDate};l.fisMinDate=q(),l.fisMaxDate=W(),l.$observe("fisMinDate",function(e){(angular.isUndefined(e)||""===e)&&(e=new Date(1900,0,1)),angular.isDate(e)||(e=r.getDateAsDateObject(e,w,!0,y,l.fisDateOnly)),i.minDate=e,P()}),l.$observe("fisMaxDate",function(e){(angular.isUndefined(e)||""===e)&&(e=new Date(2099,11,31)),angular.isDate(e)||(e=e=r.getDateAsDateObject(e,w,!0,y,l.fisDateOnly)),i.maxDate=e,_()});var R=function(){b?L(null):v.$setViewValue("")};l.$observe("fisReadonlyInput",function(e){if("true"===e){var n=t('<span unselectable="on" class="date-clear-button" role="button"><span unselectable="on" class="clear-icon"></span></span>')(i);void 0!==n.on("click")&&n.on("click",R),f.after(n),f.attr("autocomplete","off")}else"false"===e&&f.attr("autocomplete","on");r.makeWidgetAsReadOnly(e,f)});var H=i.$watch("fisEditMode",function(e){if(e===!0){var t=n(function(){O()},0);i.$on("$destroy",function(){n.cancel(t)})}});s.cancelWatchOnDestroy(i,H),i.resize=function(e){var t=f.data("kendoDatePicker"),i=t._inputWrapper;i.removeClass("fis-input"),i.css("width",e),i.find("input").css("width",e)},A()}})}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$filter","$timeout","fisDateTimeFormatService",function(t,i,n){"ngInject";var a=function(e){if(!e)throw new Error("ngModel required in order to format the date time.")};return{link:function(t,i,r){var o=i.find("input");0===o.length&&(o=i);var s=o.controller("ngModel");s||(s=i.controller("ngModel")),a(s);var l=!angular.isUndefined(o.data("kendoDateTimePicker"));if(!l){var d=r.fisLocale,f="12";angular.isUndefined(r.fisTimeFormat)||e.isEmpty(r.fisTimeFormat)||(f=r.fisTimeFormat);var c=r.fisDateTimeFormat,u=!0;(angular.isUndefined(c)||e.isEmpty(c))&&(u=!1,c=n.getDateTimeFormat(d,f)),o.attr("placeholder",n.formatPlaceHolder(c).toUpperCase());var p=function(){var t;if(t=isNaN(s.$modelValue)||angular.isDate(s.$modelValue)?n.extractDateTimeFromModelValue(m(s.$modelValue)):new Date(parseInt(s.$modelValue,10)),!e.isUndefined(t)&&n.isValidDate(t))return kendo.toString(t,c,d)},v=function(){var t=p();e.isUndefined(t)||o.val(t)};o.blur(function(){t.$$phase||t.$root.$$phase?v():t.$apply(function(){v()})}),e.isUndefined(r.fisCustomValidate)||e.isUndefined(t[r.fisCustomValidate])||(t.fisCustomValidateFn=t[r.fisCustomValidate]);var g="false"!==r.fisValidateDate;g&&(s.$validators.date=function(e){return angular.isUndefined(t.fisCustomValidateFn)?!(!n.isValid(e)&&!angular.equals(e,"")):t.fisCustomValidateFn(e)});var m=function(e){var i={};return i.scope=t,i.attributes=r,i.dateFormat=c,i.viewValue=e,i.fisLocale=d,i};s.$formatters.push(function(e){var t=e;return e&&(e=isNaN(e)||angular.isDate(e)?n.extractDateTimeFromModelValue(m(e)):new Date(parseInt(e,10)),angular.isUndefined(e)||(t=kendo.toString(e,c,d))),t}),s.$parsers.unshift(function(e){var t=e;return e&&(e=isNaN(e)||angular.isDate(e)?n.extractDateTimeFromViewValue(m(e)):new Date(parseInt(e,10)),angular.isUndefined(e)||(t=e)),t});var h=function(e){o.attr("placeholder",n.formatPlaceHolder(e).toUpperCase())},b=function(){c=n.getDateTimeFormat(d),h(c)};r.$observe("fisLocale",function(e){d=e;var t={locale:e,format:c};w(t)}),r.$observe("fisDateTimeFormat",function(e){var t={format:e,locale:d};w(t)});var w=function(t){angular.isUndefined(r.fisDateTimeFormat)||e.isEmpty(r.fisDateTimeFormat)?b():(c=t.format,h(t.format),s.$modelValue&&(s.$modelValue=new Date(s.$modelValue)))}}}}}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this;t.$get=["fisPubSubService","fisConfig","$filter","fisI18nService",function(t,i,n,a){function r(e){return e?kendo.cultures[e]:kendo.culture()}function o(e){var t=r(e);return t.calendars.standard.patterns.d}function s(e,t){return g.getTimeFormat(e,t)}function l(e,t,i){var n=[],a=r(e);n.push(g.getDateTimeFormat(e,t));for(var o in a.calendars.standard.patterns)i===a.calendars.standard.patterns[o]&&n.push(a.calendars.standard.patterns[o]);return n}function d(e,t){var i=parseInt(e,10),n="";return n=i>t?"19":"20",n+e}function f(e,t,i){var n=e.replace(/\w/g,""),a=t.replace(/\w/g,"");if(a===n&&n.length>=1){for(var r=n.substr(0,1),o=e.split(r),s=t.split(r),l=null,f=0;f<s.length;f++)if(s[f].indexOf("y")!==-1){l=f;break}if(l&&2===o[l].length)return o[l]=d(o[l],i),o.join(r)}return e}function c(e,t){return angular.isUndefined(t)||"true"!==t||(angular.isString(e)&&e.lastIndexOf("T")>0&&(e=e.substr(0,e.lastIndexOf("T"))),g.isValidDate(e,"yyyy-MM-dd",!0)&&(e=new Date(n("date")(e)))),e}function u(t,i){var n;return angular.isDate(t.viewValue)?n=t.viewValue:angular.isString(t.viewValue)&&(t.viewValue.indexOf(" ")>0||t.viewValue.lastIndexOf("T")>0)?n=g.getDateTime(t.viewValue,t.fisLocale,t.timeFormat,i):angular.isUndefined(t.dateFormat)||(n=kendo.parseDate(t.viewValue?t.viewValue.toString():t.viewValue,t.dateFormat,t.fisLocale),e.isNull(n)&&(n=g.getDate(t.viewValue,t.fisLocale))),n}var p,v,g={};return p=angular.isUndefined(i.widgets&&i.widgets.fisDatePicker)||angular.isUndefined(i.widgets&&i.widgets.fisDatePicker.cutOffYear)?45:i.widgets.fisDatePicker.cutOffYear,v=angular.isUndefined(i.widgets&&i.widgets.fisDatePicker)||angular.isUndefined(i.widgets&&i.widgets.fisDatePicker.timezone)?"midnight-utc":i.widgets.fisDatePicker.timezone,g.getConfigCutoff=function(){return p},g.getTimezone=function(){return v},g.isMidnightUTC=function(t){return angular.isUndefined(t.fisTimezone)||e.isEmpty(t.fisTimezone)?"browser"!==g.getTimezone():"browser"!==t.fisTimezone},g.validateDate=function(t,i){var n=o(i),a=kendo.parseDate(t?t.toString():t,n);return!e.isNull(a)},g.validateTime=function(t,i,n){var a=s(i,n),r=kendo.parseDate(t?t.toString():t,a);return!e.isNull(r)},g.validateDateTime=function(t,i,n){var a=l(i,n),r=kendo.parseDate(t?t.toString():t,a);return!e.isNull(r)},g.getCulture=function(e){return r(e)},g.getDateFormat=function(e){var t=r(e);return t&&"en"!==t.name&&"en-US"!==t.name?t.calendars.standard.patterns.d:"MM/dd/yyyy"},g.getTimeFormat=function(e,t){var i=r(e);return"24"===t?i&&"en"!==i.name&&"en-US"!==i.name?i.calendars.standard.patterns.t:"HH:mm":i.calendars.standard.patterns.T},g.getDateTimeFormat=function(e,t){var i=r(e);return"24"===t?i&&"en"!==i.name&&"en-US"!==i.name?i.calendars.standard.patterns.g:"MM/dd/yyyy HH:mm":i&&"en"!==i.name&&"en-US"!==i.name?i.calendars.standard.patterns.G:"MM/dd/yyyy h:mm:ss tt"},g.formatDate=function(e,t){return angular.isDate(e)?kendo.toString(e,g.getDateFormat(t)):""},g.formatTime=function(e,t,i){return kendo.toString(e,g.getTimeFormat(t,i))},g.formatDateTime=function(e,t,i){return angular.isDate(e)?kendo.toString(e,g.getDateTimeFormat(t,i)):""},g.getDate=function(e,t){if(angular.isDate(e))return e;var i=o(t);return!angular.isUndefined(e)&&null!==e&&angular.isString(e)&&g.isValidDate(e,"yyyy-MM-dd",!0)&&(i="yyyy-MM-dd"),kendo.parseDate(e?e.toString():e,i)},g.getDateTime=function(e,t,i,n){if(angular.isDate(e))return e;var a=l(t,i,n);return angular.isString(e)&&e.lastIndexOf("T")>0&&g.isValid(e)?new Date(e):kendo.parseDate(e?e.toString():e,a)},g.formatPlaceHolder=function(e){var t=/d/g,i="dd",n=/M/g,a="MM";return e&&(e.indexOf(i)<0&&(e=e.replace(t,i)),e.indexOf(a)<0&&(e=e.replace(n,a))),e},g.getDateTimePickerOptions=function(e,t){var i={};return i.format=g.getDateTimeFormat(e,t),i.timeFormat=g.getTimeFormat(e,t),i.culture=g.getCulture(e),i},g.getDatePickerOptions=function(e){var t={};return t.format=g.getDateFormat(e),t.culture=g.getCulture(e),t},g.isValidDateRange=function(e,t,i,n){var a=!0,r=e;if(n&&angular.isDate(e)){var o=e.getTimezoneOffset();r=new Date(e.getTime()+6e4*o)}var s=t||new Date(1900,0,1),l=i||new Date(2099,11,31);return(e<s||r>l)&&(a=!1),a},g.getDateToBindModel=function(e,t,i){var a;if(angular.isUndefined(e.fisDateOnly)||"true"!==e.fisDateOnly)if(i){if(!angular.isUndefined(t)&&null!==t){var r=new Date(t),o=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));a=o}}else a=t.toISOString();else if(!angular.isUndefined(t)&&null!==t&&this.isValidDate(new Date(t))){var r=new Date(t);a=n("date")(r,"yyyy-MM-dd")}return a},g.getDateTimeAsDateTimeObject=function(t,i,n){var a=t;if(!angular.isUndefined(t)&&!e.isNull(t))return!angular.isDate(t)&&angular.isString(t)&&t.lastIndexOf("T")>0?a=new Date(t):(a=g.getDateTime(t,i,n),e.isNull(a)&&(a=g.getDate(t,i))),a},g.getDateAsDateObject=function(t,i,n,a,r){if(!angular.isUndefined(t)&&!e.isNull(t))return t=c(t,r),t=!angular.isDate(t)&&angular.isString(t)&&(t.lastIndexOf("T")>0||this.isValidDate(t,"yyyy-MM-dd",!0))?new Date(t):g.getDate(t,i),n&&a&&(t=new Date(t),t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))),t},g.extractDateTimeFromModelValue=function(e){return u(e)},g.extractDateFromModelValue=function(e){var t;return e.viewValue=c(e.viewValue,e.attributes.fisDateOnly),t=angular.isDate(e.viewValue)?e.viewValue:angular.isString(e.viewValue)&&e.viewValue.lastIndexOf("T")>0?g.getDateTime(e.viewValue,e.locale,"24"):angular.isUndefined(e.dateFormat)?g.getDate(e.viewValue,e.fisLocale):kendo.parseDate(e.viewValue?e.viewValue.toString():e.viewValue,e.dateFormat,e.fisLocale)},g.extractDateTimeFromViewValue=function(e,t){var i;return angular.isUndefined(e.viewValue)||(i=u(e,t),this.isValidDate(i)||angular.isUndefined(e.scope.fisCustomValidateFn)||(i=e.viewValue)),i},g.extractDateFromViewValue=function(e){e.supportTwoDigitYear&&angular.isString(e.viewValue)&&(e.viewValue=f(e.viewValue,e.dateFormat,e.cutOffYear));var t,i=g.extractDateFromModelValue(e);return angular.isUndefined(e.viewValue)||(t=g.getDateToBindModel(e.attributes,i,e.isMidnightUTC),this.isValidDate(t)||angular.isUndefined(e.scope.fisCustomValidateFn)||(t=e.viewValue)),t},g.makeWidgetAsReadOnly=function(e,t){if("true"===e){var i=!1;t.on("keypress",function(){return!1}).on("keydown",function(e){if(17==e.keyCode&&(i=!0),8==e.keyCode||46==e.keyCode||i&&86==e.keyCode)return!1}).on("keyup",function(e){17==e.keyCode&&(i=!1)})}else t.off("keypress").off("keydown").off("keyup")},g.adjustDateViewValueForTimeZone=function(e){var t=new Date(e),i=t.getTimezoneOffset()*-1;return this.isValidDate(e)&&i>0&&t.setMinutes(t.getMinutes()+720),t},g.isValid=function(e,t){return null!==e&&(void 0===e||(angular.isString(e)&&"true"===t?this.isValidDate(e,"yyyy-MM-dd",!0):this.isValidDate(e)))},g.isValidDate=function(e,t,i){if(null===e)return!1;if(void 0===e)return!0;var r,o=a.defaultLocale();if(r=angular.isString(e)&&e.lastIndexOf("T")>0?this.getDateTimePickerOptions(o):this.getDatePickerOptions(o),t||(t=r.format),i){if(!angular.isString(e)&&!angular.isDate(e))return!1;var s=kendo.parseDate(e,t);return null!=s}return"Invalid Date"!==n("date")(new Date(e),t).toString()},g}]}}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","$filter","$timeout","$parse","fisDateTimeFormatService","fisFieldDirectiveFactory","fisMemoryUtilService","fisUniqueIdService",function(t,i,n,a,r,o,s,l){"ngInject";return o.create({editTemplate:'<input fis-input="input" class="<% if(field.attrs.fisSize) {%>input-<%=field.attrs.fisSize%><% } else {%>input-large<% }%><%if(field.attrs.fisReadonlyInput === "true") {%> date-ready-only<% }%>"/>',viewTemplate:"{{fieldValue()}}",link:function(i,o,d){function f(e){if(void 0===e||null===e||""===e){var t=c.data("kendoDateTimePicker");angular.isUndefined(t)||null===t||t.value(e)}}var c=o.find("input"),u=c.controller("ngModel"),p="12";angular.isUndefined(d.fisTimeFormat)||e.isEmpty(d.fisTimeFormat)||(p=d.fisTimeFormat);var v=d.fisLocale,g=d.fisDateTimeFormat,m=!0;(angular.isUndefined(g)||e.isEmpty(g))&&(g=r.getDateTimeFormat(v,p),m=!1);var h=function(){var e=u.$modelValue;if(!angular.isUndefined(e)){var t=r.getDateTime(e,v,p,g);if(t)return kendo.toString(t,g,v)}},b=function(){var t=c.data("kendoDateTimePicker"),i=t.value();if(angular.isUndefined(i)||e.isNull(i)){var n=u.$modelValue;if(!angular.isUndefined(n)){var a=r.getDateTime(n,v,p);t.value(a)}}},w=function(){b();var e=h();angular.isUndefined(e)||c.val(e)};c.blur(function(){i.$$phase||i.$root.$$phase?w():i.$apply(function(){w()})});var k=function(e){var t=c.data("kendoDateTimePicker");t.setOptions(e),c.attr("placeholder",r.formatPlaceHolder(e.format).toUpperCase())},D=function(){var e=r.getDateTimePickerOptions(v,p);g=r.getDateTimeFormat(v,p),i.$$phase||i.$root.$$phase?k(e):i.$apply(function(){k(e)})},y=function(){var e=c.data("kendoDateTimePicker");angular.isUndefined(e)||angular.isUndefined(i.minDateTime)||e.min(i.minDateTime)},S=function(){var e=c.data("kendoDateTimePicker");angular.isUndefined(e)||angular.isUndefined(i.maxDateTime)||e.max(i.maxDateTime)},T=function(e,t){var i=c.data("kendoDateTimePicker");i&&i.destroy(),c.kendoDateTimePicker({interval:d.fisTimeInterval,change:e,open:t,month:{content:'<div fisid="day_#=data.dateString.split("/").join("_")#">#= data.value #</div>'},footer:'<div fisid="today_#=kendo.toString(data, "dd") #">#=kendo.toString(data, "D") #</div>'}),y(),S()},C=function(e){var t={};return t.scope=i,t.attributes=d,t.dateFormat=g,t.viewValue=e,t.fisLocale=v,t.timeFormat=d.fisTimeFormat||"12",t},x=function(){function e(){var e=n(function(){for(var e=a.attr("fisid"),t=a.find("li"),i=0;i<t.length;i++)t.eq(i).attr("fisid",e+"_entry_"+i)});s.cancelTimeoutOnDestroy(i,e,n)}T(function(){u.$dirty=!0,i.$evalAsync(function(){c.data("kendoDateTimePicker").value()&&($.isEmptyObject(u.$error)||u.$setViewValue(c.data("kendoDateTimePicker").value()))})},function(){var e=c.data("kendoDateTimePicker");e.value()||e.dateView.calendar&&(e.dateView.calendar.value(new Date),e.dateView.calendar._value=null)});var t="false"!==d.fisValidateDate;if(angular.isUndefined(d.fisCustomValidate)||angular.isUndefined(i[d.fisCustomValidate])||(i.fisCustomValidateFn=i[d.fisCustomValidate]),t&&(u.$validators.date=function(e){return angular.isUndefined(i.fisCustomValidateFn)?!(!r.isValid(e)&&!angular.equals(e,"")):i.fisCustomValidateFn(e)}),(d.fisMinDateTime||d.fisMaxDateTime)&&(u.$validators["date-range"]=function(e){if(r.isValid(e)){var t=c.data("kendoDateTimePicker");if(!angular.isUndefined(t)&&null!==t)return r.isValidDateRange(new Date(e),t.min(),t.max())}return!0}),c.data("kendoDateTimePicker").bind("change",function(){c.trigger("change")}),u.$formatters.push(function(e){var t=e;if(e&&(e=r.extractDateTimeFromModelValue(C(e)))){var i=c.data("kendoDateTimePicker");angular.isUndefined(i)||null===i||i.value(e),t=kendo.toString(e,g,v)}return t}),u.$parsers.unshift(function(e){var i=e;return e&&(i=r.extractDateTimeFromViewValue(C(e),g),i?i=i.toISOString():t||(i=e)),null!==i?i:void 0}),m||D(),"T"===fis.initParams().appStage){o.find(".k-i-calendar").attr("fisid",c.attr("fisid")+"_openWidgetCalendarButton"),o.find(".k-i-clock").attr("fisid",c.attr("fisid")+"_openWidgetClockButton"),c.data("kendoDateTimePicker").dateView.div.attr("fisid",c.attr("fisid")+"_calendar");var a=c.data("kendoDateTimePicker").timeView.list;angular.isUndefined(a)||(l.generateUniqueId(i,a,{},d.ngModelInput+"_time_list-container"),e(a))}};i.fieldValue=function(){var e=h();return angular.isUndefined(e)?"":e};var F=i.$watch("fisDisabled",function(e){c.data("kendoDateTimePicker").enable(!e)});if(s.cancelWatchOnDestroy(i,F),i.$on("$destroy",function(){var e=c.data("kendoDateTimePicker");s.destroyKendoWidgets(e)}),d.ngModelInput){var O=i.$watch(d.ngModelInput,function(e,t){+e!==+t&&f(e)});s.cancelWatchOnDestroy(i,O)}d.$observe("fisLocale",function(e){v=e;var t={locale:e,format:g};U(t)}),d.$observe("fisDateTimeFormat",function(e){var t={format:e,locale:v};U(t)});var U=function(t){angular.isUndefined(d.fisDateTimeFormat)||e.isEmpty(d.fisDateTimeFormat)?D():(g=t.format,k(t),u.$modelValue&&(u.$modelValue=new Date(u.$modelValue)))},M=function(){var e=a(d.fisMinDateTime)(i)||new Date(1900,0,1);return angular.isDate(e)||(e=r.getDateTimeAsDateTimeObject(e,v,p)),i.minDateTime=e,y(),i.minDateTime},I=function(){var e=a(d.fisMaxDateTime)(i)||new Date(2099,11,31);return angular.isDate(e)||(e=r.getDateTimeAsDateTimeObject(e,v,p)),i.maxDateTime=e,S(),i.maxDateTime};d.fisMinDateTime=M(),d.fisMaxDateTime=I(),d.$observe("fisMinDateTime",function(e){(angular.isUndefined(e)||""===e)&&(e=new Date(1900,0,1)),angular.isDate(e)||(e=r.getDateTimeAsDateTimeObject(e,v,p)),i.minDateTime=e,y()}),d.$observe("fisMaxDateTime",function(e){(angular.isUndefined(e)||""===e)&&(e=new Date(2099,11,31)),angular.isDate(e)||(e=r.getDateTimeAsDateTimeObject(e,v,p)),i.maxDateTime=e,S()}),d.$observe("fisTimeInterval",function(e){if(!angular.isUndefined(e)){e=e||30;var t=c.data("kendoDateTimePicker");t.setOptions({interval:e})}}),d.$observe("fisTimeFormat",function(e){if(!angular.isUndefined(e)){p=e;var t=r.getDateTimePickerOptions(v,p);g=t.format,k(t),u.$modelValue&&(u.$modelValue=new Date(u.$modelValue))}});var P=function(){u.$setViewValue("")};d.$observe("fisReadonlyInput",function(e){if("true"===e){var n=t('<span unselectable="on" class="date-time-clear-button" role="button"><span unselectable="on" class="clear-icon"></span></span>')(i);void 0!==n.bind("click")&&n.bind("click",P),c.after(n)}r.makeWidgetAsReadOnly(e,c)}),i.resize=function(e){var t=c.data("kendoDateTimePicker"),i=t._inputWrapper;i.removeClass("fis-input"),i.css("width",e),i.find("input").css("width",e)},x()}})}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisDateTimeFormatService",function(t){"ngInject";return function(i,n){if(angular.isDate(i)||(i=angular.isString(i)&&i.indexOf("T")>0?t.getDateTime(i,n,"24"):t.getDate(i,n)),angular.isUndefined(i)||e.isNull(i))return"";var a=t.adjustDateViewValueForTimeZone(i);return t.formatDate(a,n)}}]}).call(t,i(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(e,t){if(e.indexOf("/")!==-1){for(var i=4,n=!0,a=e.split("/"),r=null,o=0;o<a.length;o++)if(a[o].indexOf("y")!==-1){r=o;break}if(t&&t.split){var s=t.split("/");n=s[r]&&s[r].length===i}if(n){var l=i-a[r].length;if(l>0)for(var d=0;d<l;d++)a[r]+="y";e=a.join("/")}}return e}}},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$scope","fisModalDialogService",function(t,i){"ngInject";t.openDialog=i.openDialog,t.closeDialog=i.closeDialog,t.activeDialogs=i.activeDialogs,t.alert=function(e,n){return n=n||{},n.scope=t,i.alert(e,n)},t.prompt=function(e,n){return n=n||{},n.scope=t,i.prompt(e,n)},t.confirm=function(n,a){a=a||{};var r=a&&a.event&&a.event.target&&angular.element(a.event.target).scope()||t;a.scope=r;var o,s;e.isUndefined(a)||(o=a.title?a.title:a,s=a.actions?a.actions:void 0);var l=angular.noop;a&&a.onConfirm&&(angular.isFunction(a.onConfirm)?l=a.onConfirm:angular.isString(a.onConfirm)&&(l=function(){r.$eval(a.onConfirm)}));var d=i.confirm(n,a).then(function(e){return d.value=e,e&&l(),e});return d}}]}).call(t,i(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$rootScope",function(e){"ngInject";e.controllersArr&&e.controllersArr.push("fis.kendo.DialogController")}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(24),d=n(l),f=i(25),c=n(f),u=i(27),p=n(u),v=i(28),g=n(v),m=i(29),h=n(m),b=r.default.module("fis.kendo.dialog",[s.default]);b.controller("fis.kendo.DialogController",d.default),b.directive("fisModalContainer",p.default),b.directive("fisModalDialog",g.default),b.provider("fisModalDialogService",h.default),b.run(c.default),t.default=b.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","$timeout","fisModalDialogService","$q","fisMemoryUtilService",function(t,i,n,a,r){"ngInject";return{template:'<div class="fis-modal-list"><div id="tempDialog"></div></div>',restrict:"EA",replace:!0,link:function(o,s){function l(e){return e.toLowerCase().indexOf("i18n")>=0}function d(e){var t="";return t+=e.contentURL?"<div ng-include src=\"'"+o.dialogObject.contentURL+"'\"></div>":o.dialogObject.content}function f(t,i){var n="";return e.each(t,function(e){n+=l(e.label)?' <button class="'+e.cls+'" id="'+o.$eval(e.label)+i+'" >'+o.$eval(e.label)+"</button>":' <button class="'+e.cls+'"  id="'+e.label+i+'" >'+e.label+"</button>"}),n}o.dialogObject={},o.result={},n.registerModalContainer(o),o.addDialog=function(c){o.dialogObject=c;var u=s.find("#tempDialog"),p="modalDialog-"+(new Date).getTime();if(!e.isUndefined(c)&&void 0!==o.dialogObject.actions&&c!=={}){u.append('<div fis-name="'+p+'" class="fis-modal-dialog" fis-title="'+o.dialogObject.title+'"> <div >'+d(o.dialogObject)+'</div> <fis-footer> <div class="fis-action-bar">'+f(o.dialogObject.actions,p)+"</fis-footer></div></div>"),t(u)(o.dialogObject.scope);var v=a.defer();$(".fis-action-bar").delegate("button","click",function(t){var i="";e.each(o.dialogObject.actions,function(e){if(i=l(e.label)?o.$eval(e.label):e.label,t.target.id===i+p){var a={action:i,close:function(){n.closeDialog()}};v.resolve(a)}o.$apply()})});var g=i(function(){v.promise=n.openDialog(p)});r.cancelTimeoutOnDestroy(o,g,i)}return v.promise}}}}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$timeout","$compile","$location","$rootScope","$parse","fisModalDialogService","fisConfig","$window","fisMemoryUtilService","fisUniqueIdService","$document","fisPubSubService","$interval","$sanitize",function(t,i,n,a,r,o,s,l,d,f,c,u,p,v){"ngInject";function g(e,t,i){e._activePanel=t.location.hash.substring(1),e._activePanel.indexOf("#")!==-1&&(e._activePanel=e._activePanel.substring(0,e._activePanel.indexOf("#"))),e._modalHidden=!1,e._tabModalHidden=!1,e._viewPanelWithModal=-1,e._deregisterLocationChangeSuccess=a.$on("$locationChangeSuccess",function(){n.path()!==e._activePanel&&e.kendoWindow&&e.kendoWindow.is(":visible")?(e._viewPanelWithModal=e._activePanel,e._modalHidden=!0,o.hideNonModalDialog(e._prependedSgName)):e._modalHidden&&n.path()===e._viewPanelWithModal&&(o.showNonModalDialog(e._prependedSgName),e._modalHidden=!1)}),e._tabWithModal=-1,e._tabChangedListener=u.subscribe("fisTabbedComponentList.tabChanged",function(t){e.kendoWindow&&e.kendoWindow.is(":visible")&&"tabbedList"===i.fisSource?(e._tabWithModal=t.oldIndex,e._tabModalHidden=!0,o.hideNonModalDialog(e._prependedSgName)):e._tabModalHidden&&e._tabWithModal===t.newIndex&&(o.showNonModalDialog(e._prependedSgName),e._tabModalHidden=!1),t=void 0})}function m(e){return"false"!==e&&e}function h(e,t){e.title=v(t.fisTitle),e.visible=!1,e.modal=!t.fisModal||"false"!==t.fisModal.toLowerCase(),e.resizable=m(t.fisResizable)||!1,e.width=t.fisWidth({dialogName:t.fisName})||500,e.height=t.fisHeight||"auto",e.maxWidth=t.fisMaxWidth||9999999,e.maxHeight=t.fisMaxHeight||9999999,e.minWidth=t.fisMinWidth||50,e.minHeight=t.fisMinHeight||90,e.draggable=!t.fisDraggable||"false"!==t.fisDraggable.toLowerCase(),e.maximize=m(t.fisMaximize)||!1,e.maximizable=m(t.fisMaximizable)||!1,e.height=e.height>e.maxHeight?e.maxHeight:e.height}return{restrict:"ACE",replace:!0,transclude:!0,scope:{onCloseFn:"&fisOnClose",fisAutoCenter:"@",fisTitle:"@",fisName:"@",fisHeight:"@",fisContentHeight:"@",fisWidth:"&",fisResizable:"@",fisMaxWidth:"@",fisMaxHeight:"@",fisMinWidth:"@",fisMinHeight:"@",fisDraggable:"@",fisMaximizable:"@",fisMaximize:"@",fisWrapContent:"@",fisInclude:"@",fisClass:"@",fisModal:"@"},template:'<div class="k-content"><div kendo-window data-dialog-name="{{fisName}}" k-on-activate="initiateHeightUpdate()" k-on-resize="updateOnResize()" k-options="options"><div class="fis-modal-content-wrapper"><div fis-scrollable class="fis-modal-content" fis-height="fisContentHeight" fis-wrap-content="fisWrapContent" ng-transclude></div></div></div></div>',link:function(n,a,c){var u={};if(u.actions=["custom-close"],n.appliedBindings=!1,a.hide(),!n.fisName)throw new Error("fisModalDialog must have a fis-name defined");n.kendoWindow=a.children().first(),n._prependedSgName=o.prependPanelId(n.fisName),n._deregisterLocationChangeSuccess=void 0,n.fisModal!==!1&&"false"!==n.fisModal||g(n,l,c);var v=!1;s.widgets&&s.widgets.fisModalDialog&&(v=s.widgets.fisModalDialog.maximizable);var m,b=e.isUndefined(n.fisMaximize);m=!b&&"true"===n.fisMaximize;var w,k=e.isUndefined(n.fisMaximizable);w=!k&&"true"===n.fisMaximizable,v?b&&k&&!w&&!m?(u.actions=["Maximize","custom-close"],n.fisMaximizable=!0):b&&!k&&w&&!m?(u.actions=["Maximize","custom-close"],n.fisMaximizable=!0):b||k||w||!m?b||k||!w||m?!b&&!k&&w&&m&&(u.actions=["Maximize","custom-close"],n.fisMaximizable=!0):(u.actions=["Maximize","custom-close"],n.fisMaximizable=!1):(u.actions=["custom-close"],n.fisMaximizable=!0):b||k||w||!m?b||k||!w||m?!b&&!k&&w&&m?(u.actions=["Maximize","custom-close"],n.fisMaximizable=!0):b||k||w||m?b&&!k&&w&&!m&&(u.actions=["Maximize","custom-close"],n.fisMaximizable=!1):(u.actions=["custom-close"],n.fisMaximizable=!1):(u.actions=["Maximize","custom-close"],n.fisMaximizable=!1):(u.actions=["custom-close"],n.fisMaximizable=!0),v=void 0,w=void 0,k=void 0,m=void 0,b=void 0;var D=angular.element('<div fis-message-container class="fis-message-container-div" style="position:absolute; top:0px; left:0px; width:100%; height:0px;"><div class="fis-info-panel" style="width:100%;"></div></div>');D.attr("fis-name",n._prependedSgName),e.isUndefined(n.kendoWindow.find(".fis-action-bar").scope())||(n.kendoWindow.find(".fis-action-bar").scope().fisMessageContainerId=n._prependedSgName),i(D)(n),n.kendoWindow.append(D),D=void 0;var y,$=angular.element(l),S=function(e){switch(e.keyCode){case 27:o.closeDialog(n._prependedSgName)}e=void 0};n.kendoWindow.on("keydown",void 0,S),n.$on("$destroy",function(){n.kendoWindow.off("keydown",S)}),n._browserResizeHandler=function(){e.isUndefined(n.fisAutoCenter)||"true"!==n.fisAutoCenter||e.isUndefined(n.kendoWindow.data("kendoWindow"))||n.kendoWindow.data("kendoWindow").center(),n.updateHeight()},$.bind("resize",n._browserResizeHandler),n._updateFooterPosition=function(e){if("none"!==n.kendoWindow.parents(".k-widget.k-window").css("display")){var t=n.kendoWindow.find(".fis-modal-content-wrapper"),i=Number(t.css("paddingBottom").replace("px",""));"NaN"===i&&(i=0);var a=e?e:n.kendoWindow.find(".fis-footer:visible");if(a.length>0){var r=i,o=(a.outerHeight(),a.find(".fis-action-bar").outerHeight());o>r&&(r=o),y.css({position:"absolute",left:"0px",bottom:"0px",height:r+"px",boxSizing:"border-box"}),r=void 0}a=void 0}},n.updateOnResize=function(){var e=n.kendoWindow.data("kendoWindow"),t="x";void 0!==e.resizing&&void 0!==e.resizing.resizeDirection&&(t=e.resizing.resizeDirection),0!==t.indexOf("n")&&0!==t.indexOf("s")&&"x"!==t||(e.options.isMaximized===!0?(n.state="maximized",n._minimizing=!1):e.options.isMaximized===!1&&"maximized"===n.state?(n.state="minimizing",n._minimizing=!0):(n.state="minimized",n._minimizing=!1),n.updateHeight())},n.decorateSgIdButtons=function(t){if("T"===fis.initParams().appStage&&!e.isUndefined(n.kendoWindow.data("kendoWindow"))){var i=n.kendoWindow.data("kendoWindow").wrapper;n.fisName.indexOf("generated",0)>-1&&(n.fisName="anonymous_dialog");var a=i.find(".k-content");f.generateIdWithStaticSeed(n,a,c,n.fisName,null,"content"),t||(t=i.find(".k-i-custom-close")),f.generateIdWithStaticSeed(n,t,c,n.fisName,"tools","close");var r=i.find(".k-i-maximize ");f.generateIdWithStaticSeed(n,r,c,n.fisName,"tools","maximize");var o=i.find(".k-i-restore ");f.generateIdWithStaticSeed(n,o,c,n.fisName,"tools","restore"),
i=void 0,t=void 0,a=void 0,r=void 0,o=void 0}},n._getFooterBottomCSSVal=function(t){var i=0;return e.isUndefined(t)||(i=parseInt(t.substring(0,t.indexOf("px")))),i},n._resizeModalContentHeight=function(t,i,a,r,o,s){var l=t.find(".fis-modal-content-wrapper"),d=l.find(".fis-modal-content");if(t.css("max-height",""),t.css("height",""),e.isUndefined(i)||e.isNaN(i))d.css("max-height",""),d.css("height",""),n.fisContentHeight="";else{var f=parseInt(l.css("paddingTop")),c=parseInt(d.css("paddingTop")),u=parseInt(d.css("paddingBottom")),p=i-c-u-r+f;d.css("max-height",p),e.isUndefined(a)||a===!1?(d.css("height",p),t.css("height",i),n.fisContentHeight=i):(d.css("height",p),s&&(n.fisContentHeight=i));var v=i-r-d.outerHeight()+o;t.find(".k-window-content").css("padding-top",v+"px")}l=void 0,d=void 0},n.initiateHeightUpdate=function(){n._updateFooterPosition();var e=n.kendoWindow.find(".fis-footer");angular.forEach(e,function(e){n.$watch(function(){return angular.element(e).is(":visible")},function(t,i){t!==i&&n.$evalAsync(function(){n._updateFooterPosition(angular.element(e)),n.updateHeight()})})});var t=function e(t,i){var n=i?0:t.outerHeight(),a=t.hasClass("fis-footer")||"FOOTER"===t.prop("tagName");if(!a&&0===n&&t.children().length>0){var r=0;return angular.forEach(t.children(),function(t){r+=e(angular.element(t),!1)}),r}return!a&&n>0?n:0};if(n.fisResizable===!0||"true"===n.fisResizable){n.parentElem=n.kendoWindow.parents(".k-widget.k-window");var i=p(function(){var e=0,a=n.parentElem;if(0===a.length&&(n.parentElem=n.kendoWindow.parents(".k-widget.k-window")),a.length>0&&"none"!==a.css("display")&&(e=t(n.kendoWindow.find(".fis-modal-content"),!0)),e>0){p.cancel(i);var r="0px";r=void 0!==n.fisHeight?n.fisHeight:e+2*y.outerHeight()+Number(n.kendoWindow.find(".fis-modal-content").css("paddingTop").replace("px",""))+10+"px",n.kendoWindow.css("height",r),n._browserResizeHandler()}},500)}n.$broadcast("fisModalDialog.displayed",[n.fisName])},n.setMinHeight=function(){if("none"!==n.kendoWindow.parents(".k-widget.k-window").css("display")){var e=0;e=Number(n.kendoWindow.css("marginTop").replace("px","")),e+""=="NaN"&&(e=0);var t=n.kendoWindow.outerHeight()+e;n.kendoWindow.parents(".k-widget.k-window").css("minHeight",t+"px"),n.fisMinHeight=t}},n.updateHeight=function(){if(n._updateFooterPosition(),"none"!==n.kendoWindow.parents(".k-widget.k-window").css("display")){var t=n.kendoWindow,i=t.parents(".k-widget.k-window"),a=i.hasClass("k-window-maximized"),r=n.fisResizable,o=parseFloat(angular.element(window).height()),s=i.outerHeight(),l=i.find(".k-window-titlebar").outerHeight(),d=Number(n.kendoWindow.css("marginTop").replace("px",""));d+""=="NaN"&&(d=0);var f=y.outerHeight();null!==f&&void 0!==f||(f=0);var c=parseFloat(i.find(".fis-modal-content-wrapper").height()),u=5;void 0!==r&&i.outerHeight()<d+f+c+u?n.kendoWindow.css("height","50%"):n.kendoWindow.css("height","100%"),void 0!==r&&n.setMinHeight();var p=s,v=!1,g=40;a?(p=o-l,v=!0):!e.isUndefined(n.fisWrapContent)&&"true"===n.fisWrapContent&&e.isUndefined(n.fisHeight)?(p=o-l-g,v=!0):n._minimizing||"true"!==r&&r!==!0?!e.isUndefined(n.fisHeight)&&n._minimizing?(v=!0,p=n.fisHeight-l):!e.isUndefined(n.fisWrapContent)&&"true"===n.fisWrapContent&&e.isUndefined(n.fisHeight)?p=o-l-f-g:void 0!==n.fisHeight?(!e.isUndefined(n.fisMaxHeight)&&n.fisHeight>n.fisMaxHeight&&(n.fisHeight=n.fisMaxHeight),p=parseFloat(n.fisHeight)-l):p=void 0:(v=!0,p=s-l),i.css("minHeight",l+f),n._resizeModalContentHeight(i,p,v,f,l,a),n.fisAutoCenter!==!0&&"true"!==n.fisAutoCenter||n.kendoWindow&&n.kendoWindow.data("kendoWindow")&&n.kendoWindow.data("kendoWindow").center(),n.decorateSgIdButtons(),n._minimizing=!1,a=void 0}};var T=function(t){if(o.activeDialogs.length>0&&e.last(o.activeDialogs).name===n._prependedSgName){if(9!==t.keyCode)return;var i=[];e.each(n.kendoWindow.find(".fis-message-container-div *:focusable,.fis-inputs *:focusable,*:focusable,*:tabbable,.fis-footer *:focusable"),function(e){angular.element(e).is("a, button, select, textarea, :input, [tabindex]")&&i.push(e),e=void 0});i=e.sortBy(i,function(e){return angular.element(e).attr("tabindex")});var a=i.indexOf(t.target),r={};return r=t.shiftKey?0===a?e.last(i):i[a-1]:a===i.length-1?i[0]:i[a+1],r.focus(),t=void 0,r=void 0,a=void 0,i=void 0,!1}};n.kendoWindow.bind("keydown",T),y=a.find("footer"),n.kendoWindow.css("position","relative");var C;o._registerDialog(n._prependedSgName,{name:n._prependedSgName,element:n.kendoWindow,resizeCallback:n.updateHeight,wrapContent:n.fisWrapContent,fisInclude:n.fisInclude,onClose:function(){if(c.fisOnClose)return n.onCloseFn({clearDialog:function(e){var t;if(e=e||{},e.clearMessages!==!1){var i=n.kendoWindow.find("div[fis-message-container]");i.scope().clearMessages(),i=void 0}e.formName?t=n.kendoWindow.find('[name="'+e.formName+'"]'):(t=n.kendoWindow.find("form"),t&&(e.formName=t.attr("name"))),t&&e.formName&&(t.scope()[e.formName].$setPristine(),document.getElementsByName(e.formName)[0].reset(),n.$broadcast("fisClearMessages")),e=void 0,t=void 0}})}});var x=n.$on("fisDisplayMessage",function(){t(function(){var e=n.kendoWindow.find(".fis-message-container-div .fis-info-panel"),t=e.find("ul");parseFloat(t.height())>parseFloat(e.height())&&e.css("height",t.height())},0)});n.$on("$destroy",function(){void 0!==x&&x(),x=void 0});var F=n.$watch(function(e){return e.kendoWindow.parents(".k-widget.k-window").length>0?e.fisName:void 0},function(t){if(void 0!==t){if(void 0!==n.kendoWindow.data("kendoWindow")&&!n.appliedBindings){n.updateHeight(),n.appliedBindings=!0;var r=n.kendoWindow.data("kendoWindow");void 0!==n.fisResizable&&n.setMinHeight();var s=r.wrapper;n.fisClass&&s.addClass(n.fisClass);var l=s.find(".k-i-custom-close").parent(),d=function(t){t.preventDefault(),e.isUndefined(n.$parent.closeDialog)?o.closeDialog(n._prependedSgName):n.$parent.closeDialog(n._prependedSgName)};void 0!==l.on("click")&&l.on("click",d),n.$on("$destroy",function(){l.off("click",d),l=void 0}),n.decorateSgIdButtons(),C=s.children().first().children().first(),C.attr("ng-bind","fisTitle"),i(C)(n),a.remove(),e.isUndefined(n.fisMaximize)||"true"!==n.fisMaximize||(r.options.position.top=0,r.options.position.left=0),e.isUndefined(n.fisMinHeight)||(r.options.minHeight=n.fisMinHeight),e.isUndefined(n.fisMaxHeight)||(r.options.maxHeight=n.fisMaxHeight),r=void 0,s=void 0,C=void 0}var f=angular.element('div[data-dialog-name="'+t+'"]').parents(".k-widget.k-window");e.isUndefined(f)||f.hasClass("fis-non-modal-dialog")||n.fisModal!==!1&&"false"!==n.fisModal||f.addClass("fis-non-modal-dialog"),f=void 0}t=void 0});d.cancelWatchOnDestroy(n,F),n.$on("$destroy",function(){o._unregisterDialog(n._prependedSgName),$.unbind("resize",n._browserResizeHandler),n.kendoWindow.unbind("keydown",T);for(var t=n.kendoWindow.data("kendoWindow"),i=0;i<t.events.length;i++)n.kendoWindow.unbind(t.events[i]);e.isUndefined(n._deregisterLocationChangeSuccess)||(n._deregisterLocationChangeSuccess(),n._deregisterLocationChangeSuccess=void 0),e.isUndefined(n._tabChangedListener)||(n._tabChangedListener(),n._tabChangedListener=void 0),void 0!==n.kendoWindow&&(void 0!==n.kendoWindow.data("kendoWindow")&&void 0!==n.kendoWindow.data("kendoWindow").destroy&&n.kendoWindow.data("kendoWindow").destroy(),d.purgeAttributes(n.kendoWindow),n.kendoWindow.parents(".k-widget.k-window").remove()),void 0!==C&&C.removeData().removeAttr(),void 0!==y&&y.removeData().removeAttr(),a.removeData().removeAttr(),a.remove(),t=void 0,a=void 0,$=void 0,y=void 0}),n.options=u;for(var O=Object.keys(c),U=n.$watch(function(){var e=n.kendoWindow.data("kendoWindow");if(e){for(var t=0;t<O.length;t++){var i=O[t];if(0===i.indexOf("kOn")){var a=i.substring(3);a=a.charAt(0).toLowerCase()+a.slice(1);var o=r(c[i])(n.$parent)?r(c[i])(n.$parent):c[i];e.bind(a,o)}}U()}}),M=0;M<O.length;M++){var I=O[M];if(0===I.indexOf("k")&&0!==I.indexOf("kOn")){var P=I.substring(1);P=P.charAt(0).toLowerCase()+P.slice(1);var _=r(c[I])(n.$parent.$parent)?r(c[I])(n.$parent.$parent):c[I];n.options[P]=_}}h(u,n)}}}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this;t.$get=["$q","$document","$rootScope","$compile","$templateCache","$injector","$timeout","$sanitize","fisI18nService","fisPubSubService","$controller","$http","$window","fisKendoUtilService",function(t,i,n,a,r,o,s,l,d,f,c,u,p,v){function g(e,t,i){var n={};if(n.title=t.title||"",n.scope=t.scope,n.target=t.target,n.width=t.width,n.height=t.height,n.wrapContent=t.wrapContent,n.cls=t.cls,n.uniqueId=i,"alert"===i)n.template='<div class="fis-alert-dialog fis-well">'+l(e)+"</div>",n.actions={ok:{label:d.translate("ok","Ok"),close:!0,cls:"fis-primary"}};else if("prompt"===i){n.template='<div class="fis-prompt-dialog fis-well"><p>'+l(e)+'</p><input type="text" fis-unique-id ng-model="model.value"/></div>',n.actions={ok:{label:d.translate("ok","Ok"),cls:"fis-primary",close:!0},cancel:{label:d.translate("cancel","Cancel"),cls:"fis-secondary",close:!0}};var a=t.model;n.controller=["$scope",function(e){e.model=a,e.$on("$destroy",function(){a=void 0})}]}else if("confirm"===i){n.template='<div class="fis-confirm-dialog fis-well">'+l(e)+"</div>";var r={};t.actions&&t.actions.yesno===!0?(r={yes:{label:d.translate("yes","Yes"),cls:"fis-primary",close:!0},no:{label:d.translate("no","No"),cls:"fis-secondary",close:!0}},t.actions.yes&&t.actions.no&&(t.actions.yes.label&&t.actions.no.label&&(r.yes.label=d.translate("yes",t.actions.yes.label),r.no.label=d.translate("no",t.actions.no.label)),t.actions.yes.cls&&t.actions.no.cls&&(r.yes.cls=t.actions.yes.cls,r.no.cls=t.actions.no.cls),t.actions.yes.close&&t.actions.no.close&&(r.yes.close=t.actions.yes.close,r.no.close=t.actions.no.close))):r=t.actions&&t.actions.cancel&&t.actions.ok?{ok:{label:d.translate("ok",t.actions.ok),cls:"fis-primary",close:!0},cancel:{label:d.translate("cancel",t.actions.cancel),cls:"fis-secondary",close:!0}}:{ok:{label:d.translate("ok","Ok"),cls:"fis-primary",close:!0},cancel:{label:d.translate("cancel","Cancel"),cls:"fis-secondary",close:!0}},n.actions=r,r=void 0}return e=void 0,t=void 0,i=void 0,n}function m(e){if(e.win.options.maximize?e.win.center().open().maximize():e.win.center().open(),F(e)&&O(e),e.resizeCallback(),U(e)){var t={};f.publish("fisModalDialogHasTabbedCompList",t),t=void 0}}function h(t){if(!t.template&&!t.templateUrl)throw new Error("A template or templateUrl needs to be provided to create a dialog.");var n,r,o;return arguments.length>1&&(n=arguments[arguments.length-1],angular.isFunction(n)&&(r=n)),n=void 0,t.name="generated"+_++,o=t.name,b(t).then(function(t){var n=t.dialog,o=w(n,t.$template),l=I.prependPanelId(n.name);if(n.controller){var d=c(n.controller,t);o.children().data("ngControllerController",d),d=void 0}n.unsubscribe=r?f.subscribe("fisModalDialog."+l,r,!0):angular.noop,t.$scope.dialogAction=function(i,n,a){if(!e.isUndefined(P[this.dialogName])&&(I.activeDialogs.length>1&&I.getActiveDialogIndex(this.dialogName)===I.activeDialogs.length-1||1===I.activeDialogs.length&&!e.isUndefined(I.getActiveDialog(this.dialogName)))){var r=this.dialogObject,o=this.dialogName,s=r.actions&&r.actions[i],l=function(){!e.isUndefined(a)&&a||I.closeDialog(o),o=void 0,void 0!==r&&(r.unsubscribe(),r=void 0),void 0!==t&&(t.$scope.$destroy(),t=void 0)};return"close"===i&&e.isUndefined(s)&&(s={close:!0}),f.publish("fisModalDialog."+o,{id:i,dialogName:o,action:s,event:n,close:s.close?angular.noop:l}),s&&s.close&&t.$scope.$evalAsync(function(){l()}),i=void 0,n=void 0,a=void 0,s.close}},t.$scope.dialogObject=n,t.$scope.dialogName=l,a(o)(t.$scope),i.find("body").append(o),s(function(){var e=I.openNamedDialog(l);e=void 0,n=void 0,l=void 0,o=void 0})}),t=void 0,o}function b(e){var i,a=[],s=[];return e.template?i=t.when(e.template):e.templateUrl&&(i=u.get(e.templateUrl,{params:{version:fis.version},cache:r}).then(function(e){return e.data})),angular.forEach(e.resolve||[],function(e,t){s.push(t),a.push(angular.isString(e)?o.get(e):o.invoke(e))}),s.push("$template"),a.push(i),i=void 0,t.all(a).then(function(t){var i={};angular.forEach(t,function(e,t){i[s[t]]=e,e=void 0,t=void 0});var a=e.scope||e.target&&angular.element(e.target).scope()||n;return i.$scope=a.$new(),i.dialog=e,t.length=0,t=void 0,a=void 0,s=void 0,i})}function w(t,i){var n,a,r,o=angular.element("<div fis-modal-dialog>"),s=["name","title","draggable","maximizable","maximize","resizable","width","height","maxWidth","maxHeight","minWidth","minHeight","wrapContent","include","modal"];e.each(s,function(e){void 0!==t[e]&&null!==t[e]&&o.attr("fis-"+e,t[e]),e=void 0});for(var l=Object.keys(t),d=0;d<l.length;d++){var f=l[d];0===f.indexOf("k")&&o.attr(f,t[f])}return e.isUndefined(t.uniqueId)||o.attr("fis-unique-id",t.uniqueId),e.isUndefined(t.wrapContent)||o.attr("fis-wrap-content",t.wrapContent),e.isUndefined(t.maximize)||o.attr("fis-maximize",t.maximize),e.isUndefined(t.maximizable)||o.attr("fis-maximizable",t.maximizable),e.isUndefined(t.include)||o.attr("fis-include",t.include),e.isUndefined(t.cls)||o.attr("fis-class",t.cls),e.isUndefined(t.close)?o.attr("fis-on-close","dialogAction('close', $event, true)"):o.attr("fis-on-close",t.close),o.html(i),t.actions&&(a=angular.element("<fis-footer>"),n=angular.element("<div>"),n.addClass("fis-action-bar"),angular.forEach(t.actions,function(i,a){if(!e.isUndefined(i.cls)){var o="dialog button "+a;r=angular.element('<button fis-unique-id="'+o+'" ng-click="dialogAction(\''+a+"', $event)\">"+i.label+"</button>"),i.cls?r.addClass(i.cls):r.addClass("fis-secondary"),1===e.keys(t.actions).length&&(r.removeClass("fis-secondary"),r.addClass("fis-primary")),"fis-primary"===r.attr("class")&&(r.attr("fis-hotkey","enter"),r.attr("fis-custom-hotkey","false")),n.append(r)}}),a.append(n),o.append(a)),t=void 0,i=void 0,s=void 0,n=void 0,r=void 0,a=void 0,o}function k(t){var i=0;return e.each(t,function(e){e=angular.element(e),parseFloat(e.height())>i&&(i=parseFloat(e.height())),e=void 0}),i}function D(t){var i=parseFloat(angular.element(p).height()),n=parseFloat(angular.element(p).width()),a=0,r=angular.element(".k-widget.k-window.k-state-focused div.k-window-content");if(null!==r.data("kendoWindow")&&r.data("kendoWindow")){var o=r.data("kendoWindow").wrapper;void 0===o&&(o=r.parent());var s=C(o);e.each(s,function(e){e=angular.element(e),parseFloat(e.height())>a&&(a=parseFloat(e.height())),e=void 0});var l=r.data("kendoWindow"),d=l.$angular_scope.fisHeight,f=50;if(a+f>i){if(e.isUndefined(d)||""===d)var c=90*i/100;else var c=d;o.css("height",c+"px");var u=c-80;o.find(".fis-modal-content").css("max-height",+u+"px"),o.find("[fis-scrollable]").css("overflow","auto"),c=void 0,u=void 0,d=void 0}else if(a+f<i){var c="";c=e.isUndefined(d)||""===d?a+f:d,o.css("height",c+"px");var u=c-80;o.find(".fis-modal-content").css("max-height",u+"px"),c=void 0,u=void 0,d=void 0}f=void 0,r.data("kendoWindow").center(),r.data("kendoWindow").$angular_scope.updateHeight(),o=void 0,s=void 0,l=void 0}t=void 0,i=void 0,n=void 0,a=void 0,r=void 0}function y(t){var i=parseFloat(angular.element(p).height()),n=angular.element(".k-widget.k-window.k-state-focused div.k-window-content");if(null!==n.data("kendoWindow")&&n.data("kendoWindow")){var a=n.data("kendoWindow").wrapper,r=a.find("[fis-scrollable]").attr("fis-wrap-content"),o=n.data("kendoWindow"),s=o.$angular_scope.fisHeight;if(r.length>0&&"true"===r&&parseFloat(a.height())<i){var l="";l=e.isUndefined(s)||""===s?parseFloat(a.height()):s,a.css("height",l+"px");var d=l-80;a.find(".fis-modal-content").css("max-height",d+"px")}n.data("kendoWindow").center(),a=void 0,r=void 0,l=void 0,d=void 0,s=void 0,o=void 0}t=void 0,i=void 0,n=void 0}function $(e){var t=angular.element(".k-widget.k-window.k-state-focused div.k-window-content");null!==t.data("kendoWindow")&&t.data("kendoWindow")&&t.data("kendoWindow").center(),t=void 0,e=void 0}function S(t){var i,n,a=t.data("kendoWindow");e.isUndefined(a)||null===a||(i=a.wrapper,n=i.find("fieldset"));var r=10,o=parseFloat(n.width());if(0===o){var s=C(i);e.each(s,function(e){e=angular.element(e);var t=parseFloat(e.width());t>o&&(o=t),r=100,e=void 0,t=void 0}),s=void 0}var l=parseFloat(angular.element(p).width()),d=85*l/100;o>d&&(o=d),T(i,o,r);var f=parseFloat(angular.element(p).height()),c=parseFloat(i.height()),u=85*f/100;c>f&&i.css("height",u+"px"),a=void 0,i=void 0,f=void 0,l=void 0,r=void 0,o=void 0,n=void 0,t=void 0,c=void 0,d=void 0,u=void 0}function T(e,t,i){e.css({width:t+i+"px"}),e=void 0,t=void 0,i=void 0}function C(e){return e.find(".fis-modal-content .fis-fields").find("*")}function x(t){var i=t.find("fieldset"),n=parseFloat(i.width());if(0===n){var a=C(t);e.each(a,function(e){e=angular.element(e);var t=parseFloat(e.width());t>n&&(n=t),e=void 0,t=void 0}),a=void 0,n=void 0,i=void 0}var r=parseFloat(angular.element(p).width());n>r?t.find("[fis-message-container]").css("overflow-y","scroll"):t.find("[fis-message-container]").css("overflow-y",""),t=void 0,r=void 0}function F(e){var t=!1;return void 0!==e.fisInclude&&"true"===e.fisInclude?t=e.fisInclude:e.include&&(t=!0),e=void 0,t}function O(e){var t;t=void 0!==e.win?e.win.wrapper.find("[fis-scrollable]"):e.find("[fis-scrollable]"),t.css("padding-left","0px"),t.css("padding-right","0px"),e=void 0,t=void 0}function U(e){var t=!1,i=e.win.wrapper;return void 0!==i&&(t=i.find("div[fis-tabbed-component-list]").length>0),e=void 0,i=void 0,t}function M(t,i){return e.isString(i)&&0!==t.indexOf(i)?i+"_"+t:(i=void 0,t)}var I={},P={};I.activeDialogs=[],I._getParentDialog=function(e){var t=P[e];if(!t)throw new Error("No such dialog registered by that name: '"+e+"'");return t.element.parents(".k-widget.k-window")},I.hideNonModalDialog=function(e){var t=I._getParentDialog(e);t.css("display","none")},I.showNonModalDialog=function(e){var t=I._getParentDialog(e);t.css("display","block")},I.openDialog=function(t,i){var n="";if(!t)throw new Error("Cannot open a dialog without a name or dialog definition object");return angular.isObject(t)?n=h(t,i):e.isString(t)&&(t=I.prependPanelId(t),I.openNamedDialog(t,i)),t=void 0,i=void 0,n},I.closeDialog=function(i,n){var a,r,o,s=t.defer();r=s.promise;var l=!!e.isUndefined(n)||n;if(e.isString(i)&&(i=I.prependPanelId(i)),I.activeDialogs.length>0)if(e.isUndefined(i))a=I.activeDialogs[I.activeDialogs.length-1],l&&(o=a.onClose()),!e.isUndefined(o)&&v.isPromiseObject(o)?o.then(function(t){e.isUndefined(t)||t!==!1?a.win.close():I.activeDialogs.push(a),I.activeDialogs.pop(),s.resolve(t),a=void 0}):(e.isUndefined(o)||o!==!1?a.win.close():I.activeDialogs.push(a),I.activeDialogs.pop(),s.resolve(o),a=void 0);else{var d,f;e.each(I.activeDialogs,function(e,t){e.name===i&&(d=t,f=e)}),e.isUndefined(d)||e.isUndefined(f)||(l&&(o=f.onClose()),!e.isUndefined(o)&&v.isPromiseObject(o)?o.then(function(t){(e.isUndefined(t)||t!==!1)&&(f.win.close(),I.activeDialogs.splice(d,1),s.resolve(t)),d=void 0,f=void 0}):((e.isUndefined(o)||o!==!1)&&(f.win.close(),I.activeDialogs.splice(d,1),s.resolve(o)),d=void 0,f=void 0))}return l=void 0,i=void 0,n=void 0,r},I._registerDialog=function(e,t){if(P[e])throw t=void 0,new Error("fisModalDialog already registered with that name: "+e);P[e]=t,e=void 0,t=void 0},I._unregisterDialog=function(e){P[e]&&delete P[e],e=void 0},I.alert=function(i,n){var a=t.defer();n=n||{};var r={error:"fis-modal-error-icon",success:"fis-modal-success-icon",warning:"fis-modal-warning-icon"};e.isUndefined(r[n.dialogType])||e.isUndefined(n.headlineMessageText)||(i='<span class="'+r[n.dialogType]+'"></span><span class="fis-modal-custom-header"> '+n.headlineMessageText+'</span><div class="fis-modal-msg">'+i+"</div>");var o=g(i,n,"alert");return I.openDialog(o,function(){a.resolve()}),i=void 0,n=void 0,r=void 0,o=void 0,a.promise},I.prompt=function(e,i){var n=t.defer();i=i||{},i.model={value:i.value};var a=g(e,i,"prompt");return I.openDialog(a,function(e){"ok"===e.id?(n.promise.value=i.model.value,n.resolve(i.model.value)):n.resolve(null),e=void 0}),a=void 0,n.promise},I.confirm=function(e,i){var n=t.defer();i=i||{};var a=g(e,i,"confirm");return I.openDialog(a,function(e){"ok"===e.id||"yes"===e.id?(n.promise.value=!0,n.resolve(!0)):(n.promise.value=n.promise.value||!1,n.resolve(!1)),e=void 0}),e=void 0,i=void 0,a=void 0,n.promise},I.openNamedDialog=function(e){var t=P[e];if(!t)throw new Error("No such dialog registered by that name: '"+e+"'");return t.win=t.element.data("kendoWindow"),I.activeDialogs.push(t),t.win?m(t):angular.element(t.element).scope().$on("kendoWidgetCreated",function(e,i){i&&"Window"===i.options.name&&(t.win=i,m(t))}),e=void 0,t};var _=0;return I.resizeDialog=function(e){return S(e)},I.resizeDialogDown=function(e){return D(e)},I.resizeDialogUp=function(e){return y(e)},I.findLargestItemHeight=function(e){return k(e)},I.findDialogFormFields=function(e){return C(e)},I.resizeDialogMaximizable=function(e){return $(e)},I.setDialogHorizontalScrollbar=function(e){return x(e)},I.setStylingForDialogWithInclude=function(e){return O(e)},I.prependPanelId=function(t){var i=p.location.hash.substring(2);i.indexOf("#")!==-1&&(i=i.substring(0,i.indexOf("#")));var n=i.replace(/\//g,"_"),a=e.contains(t,"_"),r=I.getActiveDialog(t);return I.activeDialogs.length>0&&r&&a?t:M(t,n)},I.getActiveDialog=function(t){var i;return e.each(I.activeDialogs,function(e){e.name===t&&(i=e),e=void 0}),i},I.getActiveDialogIndex=function(t){var i=!1,n=-1;return e.each(I.activeDialogs,function(e){i||(n++,e.name===t&&(i=!0)),e=void 0}),n},I}]}}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisKendoDataSourceFactory","$parse","$timeout","fisFieldDirectiveFactory","fisUniqueIdService","fisElementUtils","fisDropdownUtilService","fisMemoryUtilService",function(t,i,n,a,r,o,s,l){"ngInject";return a.create({editTemplate:'<span data-placeholder="<%- field.attrs.placeholderInput %>">\t                    <input class="<% if(field.attrs.fisSize) {%>input-<%=field.attrs.fisSize%><% } else {%>input-large<% }%>" fis-input="input" ng-transclude />\t                    <span class="add-on"><%- field.attrs.fisSuffix %></span>\t                </span>',transclude:!0,require:["?fisData","?fisReinit"],link:function(i,a,r,d){function f(e,t,i){if(!U)for(var n=0;n<e.length;n++){var a=e[n];a.field===t&&a.value===i?U=!0:a.hasSubgroups&&!U&&f(a.items,t,i)}return U}function c(){var e=$(".k-animation-container");return!!e.is(":visible")}var u,p,v=!1,g=!1,m="label",h="value",b=d[0],w=d[1],k=!0,D=[],y="",S=!1,T=!1;a.find(".controls").addClass("dropdown"),u=a.find("input"),u.find("span").remove(".ng-scope");var C={};C.attrs=r,C.dropdownlist=u,C.dataSourceFactory=t,C.scope=i,C.isRendered=v,C.kendoDropDownList=p,C.valueAsObj=S,C.fisData=b,C.isDropDownListUpdated=g,C.isResetPrevData=k,C.prevData=D,C.prevDataFieldValue=y,C.dataTextField=m,C.dataValueField=h,C.kendoListType="kendoComboBox",C.element=a,C.isNgModelInitialized=T,C.isModelInitialized=!1,e.isUndefined(i.callback)||(C.callback=i.callback),i.$evalAsync(function(){b&&(C.fisDataData=b.fetchData),s.initSelectField(C)}),w&&(w.trigger=function(){var e=n(function(){var e=!1;""!==C.kendoDropDownList.text()&&(e=C.handleInvalidValue(C.kendoDropDownList.text(),!0)),e||s.reInitializeData(C)},0);l.cancelTimeoutOnDestroy(i,e,n)});var x={};if(x=o.copyProperties(r,"fisParam",x),e.each(x,function(e,t){var i=t.charAt(0).toUpperCase()+t.slice(1),n="fisParam"+i;r.$observe(n,function(){s.reInitializeData(C)})}),r.fisData&&r.fisData.indexOf(":")<0)try{var F=i.$watch(r.fisData,function(t,i){e.isNaN(t)||t===i||void 0===t||C.isRendered===!0&&s.reInitializeData(C)});l.cancelWatchOnDestroy(i,F)}catch(e){console.warn("Cannot watch on fis-data expression ",r.fisData)}var O=i.$watch("fisEditMode",function(){var e=u.controller("ngModel");C.ngModel=e,e.$viewValue||v!==!0||C.isModelInitialized||s.initializeModel(C,!1)});l.cancelWatchOnDestroy(i,O),r.$observe("placeholderInput",function(t){e.isUndefined(t)||s.updatePlaceholder(C,t)});var U;C.handleInvalidValue=function(t,i){var n=!1;if(C.attrs.fisGroup&&C.kendoDropDownList.dataSource.group()&&C.kendoDropDownList.dataSource.group().length>1){var a=C.kendoDropDownList.dataSource.view(),r=C.kendoDropDownList.dataSource.group()[C.kendoDropDownList.dataSource.group().length-1].field;U=!1,U=f(a,r,t),U||(n=!0,C.ngModel.$setViewValue(null))}else{var o=C.kendoDropDownList.dataSource.data();if(o&&o.length>0){var s;s=i?C.kendoDropDownList.options.dataTextField:C.kendoDropDownList.options.dataValueField;var l=e.find(o,function(i){if(e.isEqual(i[s],t))return i});e.isUndefined(l)?(n=!0,e.isEmpty(t)&&!t||(C.kendoDropDownList.dataSource.filter({}),C.kendoDropDownList.value(null)),C.ngModel.$setViewValue(null)):e.isEqual(l[s],t)&&""===t&&(n=!0,C.ngModel.$setViewValue(null))}}return n},C.element.on("focusout",function(){var e=function(){C.handleInvalidValue(C.kendoDropDownList.text(),!0),C.kendoDropDownList&&0===C.kendoDropDownList.dataSource.view().length&&C.kendoDropDownList.dataSource.filter({})};"$apply"===i.$$phase||"$digest"===i.$$phase?e():i.$apply(e())}),C.updateKendoDropDownListValue=function(t){!C.isRendered||void 0===C.kendoDropDownList||C.isDropDownListUpdated||"true"===C.attrs.fisServerFiltering||C.attrs.fisGroup?C.isDropDownListUpdated=!1:(angular.isObject(t)&&"true"===r.fisUpdateObject?C.kendoDropDownList.value(t[C.kendoDropDownList.options.dataValueField]):C.kendoDropDownList.value(t),a.on("keydown",function(){var t=c();e.isUndefined(t)||t!==!1||s.changeModelValueForSelectField(C)})),s.addTooltipToSelectedOptions(C)};var M=i.$watch(r.ngModelInput,function(t){e.isUndefined(t)||C.updateKendoDropDownListValue(t)},!0);l.cancelWatchOnDestroy(i,M);var I=i.$watch("fisDisabled",function(e){C.isRendered&&C.kendoDropDownList&&C.kendoDropDownList.enable(!e)});l.cancelWatchOnDestroy(i,I),i.fieldValue=function(){return void 0!==C.kendoDropDownList&&void 0!==C.kendoDropDownList.text()?C.kendoDropDownList.text():""},i.resize=function(e){var t=C.kendoDropDownList;C.element.find(".k-dropdown-wrap").css("width",e),t.element.css("width",e);parseInt(C.element.find(".k-dropdown-wrap").css("padding-left"))+parseInt(C.element.find(".k-dropdown-wrap").css("padding-right"));t.list.css("min-width",""),t.list.css("width","auto")}}})}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this,i={16:!1,18:!1,17:!1,91:!1},n={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"},a={3:["cancel"],9:["tab"],12:["clear"],13:["enter"],16:["shift"],17:["ctrl"],18:["alt","menu"],19:["pause","break"],20:["capslock"],27:["escape","esc"],33:["pageup"],34:["pagedown"],35:["end"],36:["home"],41:["select"],42:["printscreen"],43:["execute"],44:["snapshot"],45:["insert","ins"],46:["delete","del"],47:["help"],91:["command","windows","meta"],92:["command","windows","meta"],93:["command","windows","meta"],144:["numlock","num"],145:["scrolllock","scroll"],112:["f1"],113:["f2"],114:["f3"],115:["f4"],116:["f5"],117:["f6"],118:["f7"],119:["f8"],120:["f9"],121:["f10"],122:["f11"],123:["f12"]};t.$get=[function(){var t={},r=!1;return t.isModifierKeyPressed=function(){var t=!1;return e.each(i,function(e){e&&(t=!0)}),t},t.processKey=function(o){var s,l=!1;return 39===o||40===o?(s="open",40===o&&r&&(r=!1)):37===o||38===o?s="close":e.isUndefined(n[o])?e.isUndefined(a[o])&&!t.isModifierKeyPressed()&&(l=!0):i[o]?i[o]=!1:i[o]=!0,{command:s,isKeyAllowed:l}},t.isDropdownOpened=function(e){return!!e.popup.visible()},t.isDropdownToClose=function(e,t){return 37===t||(r?(r=!1,!0):e.dataSource&&0===e.dataSource.indexOf(e.dataItem(e.current()))?(r=!0,!1):void 0)},t}]}}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this,i={};t.$get=["$parse","$timeout","$q","fisUniqueIdService","fisMemoryUtilService","fisDropdownKeyHandlerService",function(t,n,a,r,o,s){function l(e){if(e.attrs.placeholderInput){var t=e.attrs.placeholderInput.toLowerCase().indexOf("i18n")>=0;t?e.fisPlaceholder=e.scope.$eval(e.attrs.placeholderInput.replace("{{","").replace("}}",""))||"":e.fisPlaceholder=e.attrs.placeholderInput||""}}function d(t){n(function(){if(!e.isUndefined(t.kendoDropDownList)&&!e.isUndefined(t.kendoDropDownList.list))for(var i=t.kendoDropDownList.element.attr("fisid"),n=t.kendoDropDownList.list.find("li"),a=0;a<n.length;a++)n.eq(a).attr("fisid",i+"_entry_"+a)})}function f(e){var t,i=a.defer(),n={};n.serverFiltering="true"===e.attrs.fisServerFiltering;var r={};return n.serverFiltering&&(e.isDropDownListUpdated=!0,r.q="filter.filters[0].value",r.operator="filter.filters[0].operator"),n.group=T(e).group,n.sort=T(e).sort,t=c(e.fisDataData,r,n,e),t.fetch().then(function(){if(e.ngModel&&!e.isRendered&&b(t,e),e.ngModel.$modelValue&&e.updateKendoDropDownListValue&&!e.isDropDownListUpdated){var i=e.ngModel.$modelValue;"kendoMultiSelect"===e.kendoListType&&(i=[],angular.isArray(e.ngModel.$modelValue)?i=e.ngModel.$modelValue:angular.forEach(e.ngModel.$modelValue,function(e){i.push(e)})),e.updateKendoDropDownListValue(i)}}),i.resolve(t),i.promise}function c(e,t,i,n){var a=new kendo.data.DataSource(angular.extend({transport:{read:function(i){var a=p(i,t);if("true"===n.attrs.fisServerFiltering&&n.ngModel.$viewValue&&!n.kendoDropDownList)if(h(n,[]),angular.isArray(n.ngModel.$modelValue)&&"true"===n.attrs.fisUpdateObject){for(var r=n.ngModel.$modelValue,o=[],s=0;s<r.length;s++)o.push(r[s][n.dataValueField]);a.q=o.join()}else angular.isObject(n.ngModel.$modelValue)&&"true"===n.attrs.fisUpdateObject?a.q=n.ngModel.$modelValue[n.dataValueField]:(a.q=n.ngModel.$modelValue,angular.isArray(a.q)&&(a.q=a.q.join()));e(a).then(function(e){var t=u(e,n),a=h(n,t);e.data=a,i.success(e)},function(e){i.error(e)})}},requestStart:function(e){var t=e.sender.read.arguments;t||"true"!==n.attrs.fisServerFiltering||e.preventDefault()},schema:{data:"data",total:"total"}},i||{}));return a}function u(t,i){var n,a={},r=function(e,t){0!==t.toString().indexOf("data")&&(a[t]=e)};if(t&&t.data&&1===t.data.length&&!t.obj)t.data[0].$get||!e.isUndefined(i.attrs.fisSchemaData)&&"none"!==i.attrs.fisSchemaData?(a=[],a.push(t.data[0]),n=a):n=t.data[0];else if(t&&t.data&&0===t.data.length&&(e.isUndefined(i.attrs.fisSchemaData)||"none"===i.attrs.fisSchemaData))e.each(t,r),n=a;else if(t&&t.data&&t.data.length>0){for(var o=0;o<t.data.length;o++){var s=Object.keys(t.data[o]).length;1===s?e.each(t.data[o],r):s>1&&(a=t.data)}n=a}else t&&t.obj?(a=[],a.push(t.obj),n=a):n=[];return n}function p(e,i){var n,a={};return angular.forEach(i,function(i,r){angular.isString(i)?n=t(i)(e.data):angular.isNumber(i)?n=t(i.toString())(e.data):angular.isFunction(i)&&(n=i(e.data,a)),void 0!==n&&null!==n&&(a[r]=v(n))}),a}function v(e){return e instanceof Date?e.toISOString():e}function g(e){var t,i={},n={},a={};if(i.serverFiltering="true"===e.attrs.fisServerFiltering,i.serverFiltering){e.isDropDownListUpdated=!0,n.q="filter.filters[0].value",n.operator="filter.filters[0].operator",t=function(e){var t=e.sender.read.arguments;t||e.preventDefault()},a.requestStart=t;var r={};if(e.ngModel.$viewValue&&!e.kendoDropDownList){if(angular.isArray(e.ngModel.$modelValue)&&"true"===e.attrs.fisUpdateObject){for(var o=e.ngModel.$modelValue,s=[],l=0;l<o.length;l++)s.push(o[l][e.dataValueField]);r.q=s.join()}else angular.isObject(e.ngModel.$modelValue)&&"true"===e.attrs.fisUpdateObject?r.q=e.ngModel.$modelValue[e.dataValueField]:(r.q=e.ngModel.$modelValue,angular.isArray(r.q)&&(r.q=r.q.join()));r.operator=e.attrs.fisFilter||"contains",a.resolvedParams=r,a.paramsReady=!0}else a.paramsReady=!1}return i.group=T(e).group,i.sort=T(e).sort,e.dataSourceFactory.createListDataSource(e.fisDataData,n,i,a)}function m(e,t){var i=h(e,t),n=T(e).group,a=T(e).sort;return new kendo.data.DataSource({data:i,group:n,sort:a})}function h(e,i){var n,a=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,r=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))/;
if(n=i?e.attrs.fisOptions.match(r):e.attrs.fisOptions.match(a),!n)throw new Error("Expected fisOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_'' but got '"+e.attrs.fisOptions+".");var o=n[2]||n[1],s=n[4]||n[6],l=n[5],d=n[2]?n[1]:s,f=[],c=i?i:t(n[7])(e.scope)||[];return o&&(o.indexOf(".")>-1?e.dataTextField=o.substring(o.indexOf(".")+1):e.dataTextField=o),"select"!==d?d.indexOf(".")>-1?e.dataValueField=d.substring(d.indexOf(".")+1):e.dataValueField=d:e.dataValueField=s,f=y(e,c,l,s)}function b(n,a){if(k(n,a),"kendoDropDownList"===a.kendoListType?a.kendoDropDownList=a.dropdownlist.data("kendoDropDownList"):"kendoMultiSelect"===a.kendoListType?a.kendoDropDownList=a.dropdownlist.data("kendoMultiSelect"):"kendoComboBox"===a.kendoListType&&(a.kendoDropDownList=a.dropdownlist.data("kendoComboBox")),a.ngModel.$viewValue?a.isNgModelInitialized=!0:a.isModelInitialized||F.initializeModel(a,!1),"kendoComboBox"!==a.kendoListType&&"kendoMultiSelect"!==a.kendoListType||("kendoComboBox"===a.kendoListType&&(a.kendoDropDownList.input.on("click",function(){s.isDropdownOpened(a.kendoDropDownList)||a.kendoDropDownList.open()}),a.kendoDropDownList.bind("open",function(){a.kendoDropDownList.dataItem()&&"true"!==a.attrs.fisServerFiltering&&a.kendoDropDownList.dataSource.filter({})})),a.kendoDropDownList.input.on("keyup",function(e){var n=s.processKey(e.keyCode);if(a.attrs.fisColumns&&"kendoMultiSelect"!==a.kendoListType&&n.isKeyAllowed){var r=t(a.attrs.fisColumns)(a.scope);if(r){var o=[];i={logic:"or",filters:o};for(var l=0;l<r.length;l++){var d=r[l],f=d.field;"true"!==d.filterable&&d.filterable!==!0||o.push({field:f,operator:"contains",value:e.target.value})}}a.kendoDropDownList.value(e.target.value),""!==e.target.value?a.kendoDropDownList.dataSource.filter(i):(a.kendoDropDownList.options.value="",a.kendoDropDownList.dataSource.filter({})),a.kendoDropDownList.dataSource.view().length>0?a.kendoDropDownList.open():a.kendoDropDownList.popup.open()}n.command&&("open"===n.command&&(s.isDropdownOpened(a.kendoDropDownList)||a.kendoDropDownList.open()),"close"===n.command&&s.isDropdownOpened(a.kendoDropDownList)&&s.isDropdownToClose(a.kendoDropDownList,e.keyCode)&&a.kendoDropDownList.close())})),"kendoComboBox"!==a.kendoListType&&"kendoMultiSelect"!==a.kendoListType||a.kendoDropDownList.input.on("keydown",function(e){a.attrs.fisColumns&&"kendoMultiSelect"!==a.kendoListType&&s.processKey(e.keyCode),27===e.keyCode&&(a.kendoDropDownList.popup.close(),e.preventDefault(),e.stopImmediatePropagation())}),"kendoDropDownList"===a.kendoListType){var l=angular.element(a.element).find(".k-widget.k-dropdown");l.on("keydown",function(e){27===e.keyCode&&(a.kendoDropDownList.popup.close(),e.stopPropagation())})}if("T"===fis.initParams().appStage&&r.generateUniqueId(a.scope,a.kendoDropDownList.list,{},a.attrs.ngModelInput+"_list-container"),!e.isUndefined(a.ngModel.$modelValue)&&!e.isNaN(a.ngModel.$modelValue))if(angular.isArray(a.ngModel.$modelValue)&&"true"===a.attrs.fisUpdateObject){for(var d=a.ngModel.$modelValue,f=[],c=0;c<d.length;c++)f.push(d[c][a.kendoDropDownList.options.dataValueField]);a.kendoDropDownList.value(f)}else a.kendoDropDownList.value(a.ngModel.$modelValue);S(a,!0),a.isRendered=!0,a.scope.$on("$destroy",function(){o.destroyKendoWidgets(a.kendoDropDownList),a={}})}function w(e){e.isChangedCalled=!0,e.scope.$apply(function(){var t=e.dropdownlist.data("kendoMultiSelect");e.dropdownlist.val(e.dropdownlist.data("kendoMultiSelect").value());var i=e.dropdownlist.data("kendoMultiSelect").value();e.attrs.ngChangeInput||(0!==i.length?"true"===e.attrs.fisUpdateObject?n(function(){e.ngModel.$setViewValue(t.dataItems())},0):e.ngModel.$setViewValue(i):n(function(){e.ngModel.$setViewValue(null)})),F.addTooltipToSelectedOptions(e),e.isDropDownListUpdated=!0})}function k(e,t){"kendoDropDownList"===t.kendoListType?t.dropdownlist.kendoDropDownList(D(t,e)):"kendoMultiSelect"===t.kendoListType?t.dropdownlist.kendoMultiSelect(D(t,e)):"kendoComboBox"===t.kendoListType&&t.dropdownlist.kendoComboBox(D(t,e))}function D(e,i){var n;"kendoDropDownList"===e.kendoListType?n=F.changeModelValueForSelectField:"kendoMultiSelect"===e.kendoListType?n=w:"kendoComboBox"===e.kendoListType&&(n=F.changeModelValueForSelectField);var a=function(){$(this.items()).each(function(e,t){if(1===$(t).length&&0===$(t).children().length){var i=$(t).contents()[0];i&&$(t).attr("title",i.textContent)}else if(1===$(t).children().length){var i=$(t).children().contents()[0];i&&$(t).attr("title",i.textContent)}else $(t).children().each(function(e,t){var i=$(t).contents()[0];i&&$(t).attr("title",i.textContent)})}),F.addTooltipToSelectedOptions(e),"T"===fis.initParams().appStage&&d(e)},r=e.attrs.fisColumns;r=t(r)(e.scope);var o,s,l,f,c=[];if(r){f={logic:"or",filters:c},o='<div class="dropdown-header">',s="",l="";for(var u=0;u<r.length;u++){var p=r[u];"kendoMultiSelect"===e.kendoListType&&(p.filterable!==!0&&"true"!==p.filterable||(e.dataTextField=p.field));var v=p.field,g=p.width?p.width+"%":100/r.length+"%";r.length>1&&(o=o+'<span class="k-widget k-header" style="width: '+g+'">'+p.title+"</span>"),angular.isUndefined(p.template)?s=s+"<span class="+p.cls+' style="width: '+g+'">#= data.'+v+' || ""#</span>':s+=p.template,p.display!==!0&&"true"!==p.display||(l=l+"${data."+v+"}"),c.push({field:v,operator:"contains"})}o+="</div>"}var m,h={dataSource:i,headerTemplate:o,close:function(){n(e,i)},filter:e.attrs.fisFilter||"contains",dataTextField:e.dataTextField,dataValueField:e.dataValueField,placeholder:O(e.element),template:s?s:'<dd class="fis-select-dd">${ '+e.dataTextField+" }</dd>",dataBound:a,autoBind:"false"!==e.attrs.kAutoBind&&e.attrs.kAutoBind!==!1,suggest:"true"===e.attrs.fisSelectMode||e.attrs.fisSelectMode===!0},b={close:function(){n(e,i)},dataBound:a},k={dataSource:i,close:function(){n(e,i)},dataTextField:e.dataTextField,dataValueField:e.dataValueField,optionLabel:O(e.element),template:s?s:'<dd class="fis-select-dd">${ '+e.dataTextField+" }</dd>",dataBound:a},D={close:function(){n(e,i)},optionLabel:O(e.element),dataBound:a},y={headerTemplate:o,placeholder:O(e.element),autoClose:"false"!==e.attrs.fisAutoClose,dataSource:i,filter:e.attrs.fisFilter||"contains",change:function(){n(e,i)},dataTextField:e.dataTextField,dataValueField:e.dataValueField,itemTemplate:s?s:'<dd class="fis-select-dd">${ '+e.dataTextField+" }</dd>",tagTemplate:l,dataBound:a,autoBind:"false"!==e.attrs.kAutoBind&&e.attrs.kAutoBind!==!1},S={placeholder:e.fisPlaceholder,autoClose:"false"!==e.attrs.fisAutoClose,change:function(){n(e,i)},dataBound:a};return i?"kendoDropDownList"===e.kendoListType?m=k:"kendoMultiSelect"===e.kendoListType?m=y:"kendoComboBox"===e.kendoListType&&(m=h):"kendoDropDownList"===e.kendoListType?m=D:"kendoMultiSelect"===e.kendoListType?m=S:"kendoComboBox"===e.kendoListType&&(m=b),m}function y(t,i,n,a){var r=n?e.keys(i):i,o=[];if(angular.isArray(i)){for(var s=0;s<i.length;s++)if(!angular.isObject(i[s])){var l={};l[t.dataTextField]=i[s],i.splice(s,1,l)}o=i,o[0]&&!e.has(o[0],t.dataValueField)&&(t.dataValueField=t.dataTextField)}else if(angular.isObject(i)){var d,f;for(d=0;f=r.length,d<f;d++){var c={};c[a]=i[n?c[n]=r[d]:d],o[d]=c}}return o}function S(t,i){var a="fis-selectField-large";void 0!==t.attrs.fisSize&&(a="fis-selectField-"+t.attrs.fisSize),t.attrs.fisData||t.attrs.fisOptions||t.kendoDropDownList.ul.find("li").wrapInner('<dd class="fis-select-dd"></dd>'),i&&t.kendoDropDownList.ul&&t.kendoDropDownList.ul[0].removeAttribute("style"),t.dropdownlist.addClass(a);var r=parseFloat(t.dropdownlist.width());if(r>0?("kendoMultiSelect"!==t.kendoListType&&t.dropdownlist.closest(".k-widget").width(r),t.kendoDropDownList.list.css("white-space","nowrap").css("min-width",r)):(t.dropdownlist.closest(".k-widget").width("160px"),t.kendoDropDownList.list.css("min-width","160px")),"kendoDropDownList"===t.kendoListType||"kendoComboBox"===t.kendoListType)"kendoComboBox"===t.kendoListType?t.kendoDropDownList.list.addClass("fis-combobox-popup"):t.kendoDropDownList.list.css("width","auto");else if("kendoMultiSelect"===t.kendoListType){t.dropdownlist.closest(".k-widget").addClass(a),t.dropdownlist.closest(".k-widget").css("min-width",r),t.kendoDropDownList.input.width(r);var o=t.dropdownlist.closest(".k-widget").find(".k-i-loading");o.removeClass("k-hidden").removeClass("k-icon").addClass("k-i-arrow-60-down"),t.kendoDropDownList.list.addClass("fis-multiselect-popup")}if("kendoComboBox"===t.kendoListType||"kendoMultiSelect"===t.kendoListType)if(t.attrs.fisListContentWidth){var s=parseInt(t.attrs.fisListContentWidth,10);t.kendoDropDownList.list.css("min-width",s),t.kendoDropDownList.list.width(s)}else t.kendoDropDownList.list.css("min-width",r),t.kendoDropDownList.list.css("width","auto");e.isUndefined(t.callback)||n(function(){t.callback(t)})}function T(e){var i,n={},a=[];if(e.attrs.fisGroup){var r="value";if(e.attrs.fisOptions&&(r=C(e)),e.attrs.fisGroup.indexOf(",")===-1&&(i=t(e.attrs.fisGroup)(e.scope)),!i){var o=e.attrs.fisGroup.split(",");i=[];for(var s=0;s<o.length;s++)i.push({field:o[s]})}if(angular.isArray(i)){for(var s=0;s<i.length;s++)a.push({field:i[s].field,dir:i[s].dir?i[s].dir:"asc"});1===i.length&&a.push({field:r,dir:i[0].dir?i[0].dir:"asc"})}else{var l=i.dir?i.dir:"asc";a.push({field:i.field,dir:l}),a.push({field:r,dir:l})}n.group=i,n.sort=a}return n}function C(e){var t,i=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))/,n=e.attrs.fisOptions.match(i),a=n[2]||n[1];return a&&(t=a.indexOf(".")>-1?a.substring(t.indexOf(".")+1):a),t}function x(e,t){var i=parseFloat($(t).width());i+25>e&&$(t).find("span:first").width(e-50)}var F={},O=function(e){var t,i=e.find("[data-placeholder]").data("placeholder");return t="''"!==i?i:" "};return F.initSelectField=function(t){t.ngModel=t.dropdownlist.controller("ngModel");var i;if(l(t),t.attrs.fisData&&t.attrs.fisOptions)f(t);else if(t.attrs.fisData&&!t.attrs.fisOptions)i=g(t),b(i,t);else if(t.attrs.fisOptions&&!t.attrs.fisData)i=m(t),b(i,t);else{i=new kendo.data.DataSource({data:t.element.find("option")}),b(i,t);var n=t.kendoDropDownList.dataSource.data();if(n.length>0&&0===n[0].value.indexOf("?")&&n[0].value.lastIndexOf("?")>0&&""===n[0].text){var a=n[0];t.kendoDropDownList.dataSource.remove(a)}}var r=t.scope.$watch(function(){if($(t.element).is(":visible")&&!t.isNgModelInitialized)if(t.ngModel.$modelValue||t.attrs.placeholderInput){if(t.kendoDropDownList&&!e.isEqual(t.kendoDropDownList.value(),t.ngModel.$modelValue)){if(e.isUndefined(t.ngModel.$modelValue))"kendoMultiSelect"===t.kendoListType?t.kendoDropDownList.value([]):t.kendoDropDownList.value(null);else if(angular.isArray(t.ngModel.$modelValue)&&"true"===t.attrs.fisUpdateObject){for(var i=t.ngModel.$modelValue,n=[],a=0;a<i.length;a++)n.push(i[a][t.kendoDropDownList.options.dataValueField]);t.kendoDropDownList.value(n)}else angular.isObject(t.ngModel.$modelValue)&&"true"===t.attrs.fisUpdateObject?t.kendoDropDownList.value(t.ngModel.$modelValue[t.kendoDropDownList.options.dataValueField]):t.kendoDropDownList.value(t.ngModel.$modelValue);t.isNgModelInitialized=!0}}else F.initializeModel(t,!1)});o.cancelWatchOnDestroy(t.scope,r)},F.updatePlaceholder=function(t,i){"''"===i&&(i=" "),t.kendoDropDownList&&("kendoDropDownList"===t.kendoListType?(t.kendoDropDownList.options.optionLabel=i,e.isUndefined(t.fisPlaceholder)||(t.fisPlaceholder=i)):"kendoMultiSelect"===t.kendoListType?(t.element.find('input[role="listbox"]').val(i),t.kendoDropDownList.options.placeholder=i):"kendoComboBox"===t.kendoListType&&(t.element.find("input").attr("placeholder",i),t.kendoDropDownList.options.placeholder=i))},F.changeModelValueForSelectField=function(t){t.isChangedCalled=!0;var i=function(){var i="kendoDropDownList"===t.kendoListType?"kendoDropDownList":"kendoComboBox",n=t.dropdownlist.data(i),a=angular.copy(n.dataSource.data());n.selectedIndex!==-1&&("true"===t.attrs.fisUpdateObject?"kendoDropDownList"===i?t.ngModel.$setViewValue(a[t.attrs.placeholderInput?n.selectedIndex-1:n.selectedIndex]):t.ngModel.$setViewValue(n.dataItem()):n.dataItem()&&!e.isUndefined(n.dataItem()[t.dataValueField])&&t.ngModel.$setViewValue(n.dataItem()[t.dataValueField])),F.addTooltipToSelectedOptions(t)};"$apply"===t.scope.$$phase||"$digest"===t.scope.$$phase?i():t.scope.$apply(i)},F.initializeModel=function(e,t){if(!e.attrs.placeholderInput&&e.kendoDropDownList){for(var i=e.kendoDropDownList.dataSource.data(),n=e.kendoDropDownList.options.dataValueField,a=0;a<i.length;a++)if("? undefined:undefined ?"!==i[a][n]){"true"===e.attrs.fisUpdateObject?e.ngModel.$setViewValue(i[a]):e.ngModel.$setViewValue(i[a][n]),e.isNgModelInitialized=!0;break}}else t&&(e.ngModel.$setViewValue(null),e.isNgModelInitialized=!0)},F.reInitializeData=function(t){if(t.isChangedCalled=!1,t.kendoDropDownList){if(t.isResetPrevData){var i=t.kendoDropDownList.dataSource.data();0!==i.length&&(t.prevData=angular.copy(t.kendoDropDownList.dataSource.data()),t.prevDataFieldValue=angular.copy(t.kendoDropDownList.options.dataValueField),t.isResetPrevData=!1)}t.attrs.fisOptions&&!t.attrs.fisData?n(function(){t.kendoDropDownList.setDataSource(m(t))},0):t.attrs.fisData&&!t.attrs.fisOptions?t.kendoDropDownList.setDataSource(g(t)):t.attrs.fisData&&t.attrs.fisOptions&&f(t).then(function(e){t.kendoDropDownList.setDataSource(e)}),t.kendoDropDownList.bind("dataBound",function(){var i=t.dropdownlist.controller("ngModel");if(i.$modelValue||t.prevData)if(t.prevData&&0!==t.prevData.length){var n=t.kendoDropDownList.dataSource.data(),a=t.kendoDropDownList.options.dataValueField;if(0===e.intersection(e.pluck(n,a),e.pluck(t.prevData,t.prevDataFieldValue)).length){var r=e.find(n,function(t){if(e.isEqual(t[a],i.$modelValue))return t});e.isUndefined(r)?F.initializeModel(t,!0):F.initializeModel(t,!1),t.isResetPrevData=!0,t.prevData=[],t.prevDataFieldValue=""}}else t.isChangedCalled||(t.isChangedCalled=!0,t.kendoDropDownList.value(i.$modelValue));else F.initializeModel(t,!1);S(t,!1)}),t.kendoDropDownList.bind("cascade",d),d(t)}},F.addTooltipToSelectedOptions=function(e){if("kendoMultiSelect"===e.kendoListType){var t=e.element.find('ul[role="listbox"]'),i=parseFloat($(t).parent().width());$(t.find("li")).each(function(e,t){if(x(i,t),1===$(t).children().length){var n=$(t).children().contents()[0];n&&$(t).attr("title",n.textContent)}else $(t).children().each(function(e,t){var i=$(t).contents()[0];i&&!$(i).hasClass("k-i-close")&&$(t).attr("title",i.textContent)})})}else e.element.find(".k-input")[0]&&e.element.find(".k-input").attr("title",e.element.find(".k-input")[0].value)},F}]}}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=["fisKendoDataSourceFactory","$parse","$timeout","fisFieldDirectiveFactory","fisDropdownUtilService","fisElementUtils","fisMemoryUtilService",function(t,n,a,r,o,s,l){"ngInject";return r.create({editTemplate:'<span data-placeholder="<%- field.attrs.placeholderInput %>">\t                    <input fis-input="input" ng-transclude/>\t                    <span class="add-on"><%= field.attrs.fisSuffix %></span>\t                </span>',transclude:!0,require:["?fisData","?fisReinit"],link:function(n,r,d,f){function c(e){return angular.isArray(e)?"object"===i(e[0])?"objArray":"primitiveArray":"string"==typeof e?"string":void 0}var u,p=!1,v=r.find("input"),g="label",m="value",h="",b=f[0],w=f[1],k=!0,D=[],y="",$=!1,S=!1;r.find(".controls").addClass("dropdown"),v.find("span").remove(".ng-scope");var T={};T.attrs=d,T.element=r,T.kendoDropDownList=u,T.dataTextField=g,T.dataValueField=m,T.fisPlaceholder=h,T.dropdownlist=v,T.dataSourceFactory=t,T.scope=n,T.fisData=b,T.isResetPrevData=k,T.prevData=D,T.prevDataFieldValue=y,T.isDropDownListUpdated=$,T.isRendered=p,T.kendoListType="kendoMultiSelect",T.isNgModelInitialized=S,T.isModelInitialized=!1,n.$evalAsync(function(){b&&(T.fisDataData=b.fetchData),o.initSelectField(T)}),w&&(w.trigger=function(e,t,i){if(angular.isDefined(t)&&t!==i){var n=a(function(){o.reInitializeData(T)},0);l.cancelTimeoutOnDestroy(e,n,a)}});var C={};if(C=s.copyProperties(d,"fisParam",C),e.each(C,function(e,t){var i=t.charAt(0).toUpperCase()+t.slice(1),n="fisParam"+i;d.$observe(n,function(){o.reInitializeData(T)})}),d.fisData&&d.fisData.indexOf(":")<0)try{var x=n.$watch(d.fisData,function(t,i){e.isNaN(t)||t===i||T.isRendered===!0&&o.reInitializeData(T)});l.cancelWatchOnDestroy(n,x)}catch(e){console.warn("Cannot watch on fis-data expression ",d.fisData)}var F=n.$watch("fisEditMode",function(){var e=T.dropdownlist.controller("ngModel");e.$modelValue||T.isRendered!==!0||T.isModelInitialized||o.initializeModel(T)});l.cancelWatchOnDestroy(n,F),d.$observe("placeholderInput",function(t){e.isUndefined(t)||o.updatePlaceholder(T,t)}),T.updateKendoDropDownListValue=function(t){if(!T.isRendered||void 0===T.kendoDropDownList||T.isDropDownListUpdated||"true"===T.attrs.fisServerFiltering||T.attrs.fisGroup)"true"===T.attrs.fisServerFiltering&&(t&&0!==t.length||T.kendoDropDownList&&T.kendoDropDownList.value("")),T.isDropDownListUpdated=!1;else if(T.kendoDropDownList.dataSource.filter({}),void 0!==t)if(null===t)T.kendoDropDownList.value(t);else{var i,r=c(t);if("objArray"===r||t instanceof kendo.data.ObservableArray){var s=T.ngModel.$modelValue||t,d=[];if("true"===T.attrs.fisUpdateObject)for(var f=0;f<s.length;f++)d.push(s[f][T.kendoDropDownList.options.dataValueField]);else if("objArray"===r)for(var f=0;f<s.length;f++)d.push(s[T.kendoDropDownList.options.dataValueField]);else d=e.toArray(t);T.kendoDropDownList.value(d),i=d}else"primitiveArray"===r?(T.kendoDropDownList.value(e.toArray(t)),i=e.toArray(t)):"string"===r?t.split(",").length>1?(T.kendoDropDownList.value(t.split(",")),i=t.split(",")):(T.kendoDropDownList.value(t),i=t):i=t;if(T.kendoDropDownList.value()){var u=a(function(){(0===T.kendoDropDownList.value().length||angular.isArray(i)&&T.kendoDropDownList.value().length!==i.length)&&T.kendoDropDownList.value(i)},0);l.cancelTimeoutOnDestroy(n,u,a)}}o.addTooltipToSelectedOptions(T)};var O=n.$watch(d.ngModelInput,function(e){void 0===e&&(e=""),"string"==typeof e&&e.length>0&&T.ngModel&&T.ngModel.$setViewValue(e.split(",")),T.updateKendoDropDownListValue(e)},!0);l.cancelWatchOnDestroy(n,O);var U=n.$watch("fisDisabled",function(e){T.isRendered&&T.kendoDropDownList&&T.kendoDropDownList.enable(!e)});l.cancelWatchOnDestroy(n,U),n.fieldValue=function(){if(void 0===T.kendoDropDownList)return"";var t=T.kendoDropDownList.dataItems();if(0!==t.length){var i=T.kendoDropDownList.options.dataTextField;return e.pluck(t,i).join(", ")}}}})}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$q","$parse","$timeout","$rootScope","fisFieldDirectiveFactory","fisSelectFieldService","fisMemoryUtilService","fisElementUtils","fisUniqueIdService","fisPubSubService",function(t,i,n,a,r,o,s,l,d,f){"ngInject";return r.create({editTemplate:'<span data-placeholder="<%- field.attrs.placeholderInput %>">\t                    <input kendo-drop-down-list k-options="dropdownOptions" fis-input="input" <% if (field.attrs.fisUpdateObject === "true" && !field.attrs.ngModelOptions) { %> ng-model-options="{debounce: 150}" <% } %> ng-transclude />\t                    <span class="add-on"><%- field.attrs.fisSuffix %></span>\t                </span>',transclude:!0,require:["?fisData","?fisReinit"],link:function(a,r,c,u){function p(e){L&&(angular.isObject(e)&&"true"===c.fisUpdateObject?n(function(){L.value(e[L.options.dataValueField]),U()}):G&&n(function(){L.value(e),G=!1}))}function v(e){if(L=H.data("kendoDropDownList"))e(L);else var t=a.$on("kendoWidgetCreated",function(i,n){n&&".kendoDropDownList"===n.ns&&(L=H.data("kendoDropDownList"),e(n)),t()})}function g(){var e=c.fisColumns;if(e=i(e)(a)){V='<div class="dropdown-header">',_="";for(var t=0;t<e.length;t++){var n=e[t],r=n.field,o=n.width?n.width+"%":100/e.length+"%";e.length>1&&(V=V+'<span class="k-widget k-header" style="width: '+o+'">'+n.title+"</span>"),_=_+"<span class="+n.cls+' style="width: '+o+'">{{dataItem.'+r+"}}</span>"}V+="</div>"}}function m(){var e=t.defer();return c.fisData&&!c.fisOptions?n(function(){o.createSgData(B).then(function(t){e.resolve(t)})}):!c.fisData&&c.fisOptions?n(function(){o.createSgOptionsData(B).then(function(t){e.resolve(t)})}):c.fisData&&c.fisOptions?o.createSgDataAndOptionsDS(B).then(function(t){e.resolve(t)}):o.createStaticOptionsData(B).then(function(t){e.resolve(t)}),e.promise}function h(t){v(function(){var i="fis-selectField-large";void 0!==c.fisSize&&(i="fis-selectField-"+c.fisSize),c.fisData||c.fisOptions||L.ul.find("li").wrapInner('<dd class="fis-select-dd"></dd>'),t&&L.ul&&L.ul[0].removeAttribute("style"),H.addClass(i);var a=parseFloat(H.width());a>0?(H.closest(".k-widget").width(a),L.list.css("white-space","nowrap").css("min-width",a)):(H.closest(".k-widget").width("160px"),L.list.css("min-width","160px")),L.list.css("width","auto"),c.fisMaxListHeight&&L.list.find(".k-list").css("height",c.fisMaxListHeight),L.ul.parent().css("height",L.list.css("height")),e.isUndefined(I)||n(function(){I(B)})})}function b(){v(function(){var e=angular.element(r).is(":hidden");if(c.placeholderInput||!L||M.$viewValue||e)!c.placeholderInput||M.$viewValue||"false"!==c.kAutoBind&&c.kAutoBind!==!1&&a.dropdownOptions.autoBind!==!1||(c.ngChangeInput?a.$evalAsync(function(){M.$setViewValue("")}):a.$evalAsync(function(){M.$setViewValue(null)}));else for(var t=L.dataSource.data(),i=L.options.dataValueField,n=0;n<t.length;n++)if("? undefined:undefined ?"!==t[n][i]){"true"===c.fisUpdateObject?M.$setViewValue(t[n]):M.$setViewValue(t[n][i]);break}})}function w(){var t=H.data("kendoDropDownList");if(t){angular.copy(t.dataSource.data());t.selectedIndex!==-1&&("true"===c.fisUpdateObject?0===t.selectedIndex&&B.attrs.placeholderInput?M.$setViewValue(void 0):M.$setViewValue(t.dataItem()):t.dataItem()&&!e.isUndefined(t.dataItem()[a.dropdownOptions.dataValueField])&&M.$setViewValue(t.dataItem()[a.dropdownOptions.dataValueField])),U()}}function k(e){y();var t=!1;c.fisGroup&&(c.fisGroup.indexOf(",")>-1||angular.isArray(i(c.fisGroup)(a)))&&(t=!0);var n=t?'<dd class="fis-select-dd">${ '+B.dataTextField+" }</dd>":'<dd class="fis-select-dd">{{dataItem.'+B.dataTextField+"}}</dd>";a.dropdownOptions={headerTemplate:V,template:_?_:n,valueTemplate:"{{dataItem."+B.dataTextField+"}}",dataSource:e,dataTextField:B.dataTextField,dataValueField:B.dataValueField,optionLabel:o.evaluatedPlaceholder(r),change:function(){w(B,e)},autoBind:"false"!==c.kAutoBind&&c.kAutoBind!==!1,dataBound:S},c.fisData||c.fisOptions||!M||void 0!==M.$modelValue||(a.dropdownOptions.autoBind=!1),c.fisMaxListHeight&&(a.dropdownOptions.height=c.fisMaxListHeight)}function D(){var e;m().then(function(t){c.fisData&&!c.fisOptions?(t&&t.data()&&(e=t.data()[0]),e&&e.then&&"function"==typeof e.then?e.then(function(e){k(e)},function(e){console.error("error...",e)}):k(t)):k(t)})}function y(){if(c.placeholderInput){var e=c.placeholderInput.toLowerCase().indexOf("i18n")>=0;P=e?a.$eval(c.placeholderInput.replace("{{","").replace("}}",""))||"":c.placeholderInput||""}}function S(){$(this.items()).each(function(e,t){1===$(t).children().length?n(function(){var e=$(t).children().contents();e&&$(t).attr("title",e.text())}):$(t).children().each(function(e,t){n(function(){var e=$(t).contents();e&&$(t).attr("title",e.text())})})}),U(),"T"===fis.initParams().appStage&&T()}function T(){n(function(){if(!e.isUndefined(L)&&!e.isUndefined(L.list))for(var t=L.element.attr("fisid"),i=L.list.find("li"),n=0;n<i.length;n++)i.eq(n).attr("fisid",t+"_entry_"+n)})}function C(e){if(L){if(j){var t=L.dataSource.data();0!==t.length&&(z=angular.copy(L.dataSource.data()),q=angular.copy(L.options.dataValueField),j=!1)}m().then(function(t){L.setDataSource(t),e&&a.$emit("sgSelectFieldReinitialized",{modelname:c.ngModelInput})})}}function x(t){"''"===t&&(t=" "),L&&a.dropdownOptions&&(L.options.optionLabel=t,a.dropdownOptions.optionLabel=t,L.optionLabel.text(t),L.select()<=0&&L.text(t),U(),e.isUndefined(P)||(P=t))}function F(){v(function(){var e=angular.element(r).find(".k-widget.k-dropdown");e.keydown(function(e){27===e.keyCode&&(L.popup.close(),e.stopPropagation())})})}function O(){v(function(){"T"===fis.initParams().appStage&&d.generateUniqueId(a,L.list,{},c.ngModelInput+"_list-container")})}function U(){n(function(){var e=r.attr("title");angular.isUndefined(e)?r.find(".k-input").attr("title",L.text()):r.find(".k-input").attr("title",e)})}var M,I,P,_,V,L,A=u[0],N=u[1],E=!0,j=!0,z=[],q="",W=c.kDataTextField?c.kDataTextField:"label",R=c.kDataValueField?c.kDataValueField:"value";a.dropdownOptions=void 0;var H=r.find("input");H.find("span").remove(".ng-scope");var B={};B.element=r,B.attrs=c,B.dropdownlist=H,B.scope=a,B.fisData=A,B.dataTextField=W,B.dataValueField=R,r.find(".controls").addClass("dropdown"),M=H.controller("ngModel");var G=!1;e.isUndefined(c.fisEllipsed)&&(c.fisEllipsed="false"),A&&(B.fisDataData=A.fetchData),e.isUndefined(a.callback)||(I=a.callback);var K=a.$watch("fisEditMode",function(){M=H.controller("ngModel"),"true"===c.fisUpdateObject&&M.$options&&!M.$options.debounce&&(M.$options.debounce=150)});s.cancelWatchOnDestroy(a,K),c.$observe("placeholderInput",function(t){E?n(function(){E=!1}):v(function(){e.isUndefined(t)||x(t)})}),n(function(){c.placeholderInput&&!e.isUndefined(L)&&"true"!==c.fisUpdateObject&&L.selectedIndex==-1&&L.select(0)});var Y=a.$watch(c.ngModelInput,function(e){void 0===e&&(e=""),v(function(){U(),("true"===c.fisUpdateObject||G)&&p(e)})},!0);s.cancelWatchOnDestroy(a,Y);var Q=a.$watch("fisDisabled",function(e){L&&L.enable(!e)});s.cancelWatchOnDestroy(a,Q),a.$watch(function(){return angular.element(r).is(":hidden")},function(e){e!==!1||!L||"false"!==c.kAutoBind&&c.kAutoBind!==!1||L.dataSource.trigger("change")}),f.subscribe("fisItemChanged",function(e){n(function(){M&&L&&!e[M.fisProperty]&&!M.$viewValue&&(G=!0,L.select(0),L.trigger("change"))})}),c.kNgDelay?a.$parent.$watch(c.kNgDelay,function(e){e===!0&&D()}):D(),g(),b(),F(),O(),h(!0),N&&(N.trigger=function(){C(!0)});var J={};if(J=l.copyProperties(c,"fisParam",J),e.each(J,function(e,t){var i=t.charAt(0).toUpperCase()+t.slice(1),n="fisParam"+i;c.$observe(n,function(){C()})}),c.fisData&&c.fisData.indexOf(":")<0)try{var Z=a.$watch(c.fisData,function(t,i){e.isNaN(t)||t===i||C()});s.cancelWatchOnDestroy(a,Z)}catch(e){console.warn("Cannot watch on fis-data expression ",c.fisData)}a.fieldValue=function(){return void 0!==L&&void 0!==L.text()&&(e.isUndefined(P)||P!==L.text())?L.text():""},a.resize=function(e){r.find(".k-dropdown-wrap").css("width",e),L.element.css("width",e),L.list.css("min-width",""),L.list.css("width","auto")}}})}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this;t.$get=["$parse","$q","fisDropdownKeyHandlerService","fisKendoDataSourceFactory",function(t,i,n,a){function r(e){var t=e.element.find("option"),i=[];if(t&&t.length>0)for(var n=0;n<t.length;n++)i[n]={label:t[n].label,value:t[n].value};return new kendo.data.DataSource({data:i})}function o(e,i){var n,a=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,r=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))/;if(n=i?e.attrs.fisOptions.match(r):e.attrs.fisOptions.match(a),!n)throw new Error("Expected fisOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_'' but got '"+e.attrs.fisOptions+".");var o=n[2]||n[1],l=n[4]||n[6],d=n[5],f=n[2]?n[1]:l,c=[],u=i?i:t(n[7])(e.scope.$parent)||[];return o&&(o.indexOf(".")>-1?e.dataTextField=o.substring(o.indexOf(".")+1):e.dataTextField=o),"select"!==f?f.indexOf(".")>-1?e.dataValueField=f.substring(f.indexOf(".")+1):e.dataValueField=f:e.dataValueField=l,c=s(e,u,d,l)}function s(t,i,n,a){var r=n?e.keys(i):i,o=[];if(angular.isArray(i)){for(var s=0;s<i.length;s++)if(!angular.isObject(i[s])){var l={};l[t.dataTextField]=i[s],i.splice(s,1,l)}o=i,o[0]&&!e.has(o[0],t.dataValueField)&&(t.dataValueField=t.dataTextField)}else if(angular.isObject(i)){var d,f;for(d=0;f=r.length,d<f;d++){var c={};c[a]=i[n?c[n]=r[d]:d],o[d]=c}}return o}function l(e,t,i,n){return new kendo.data.DataSource(angular.extend({transport:{read:function(i){var a=f(i,t);e(a).then(function(e){var t=d(e,n),a=o(n,t);e.data=a,i.success(e)},function(e){i.error(e)})}},requestStart:function(e){var t=e.sender.read.arguments;t||"true"!==n.attrs.fisServerFiltering||e.preventDefault()},schema:{data:"data",total:"total"}},i||{}))}function d(t,i){var n,a={},r=function(e,t){0!==t.toString().indexOf("data")&&(a[t]=e)};if(t&&t.data&&1===t.data.length&&!t.obj)t.data[0].$get||!e.isUndefined(i.attrs.fisSchemaData)&&"none"!==i.attrs.fisSchemaData?(a=[],a.push(t.data[0]),n=a):n=t.data[0];else if(t&&t.data&&0===t.data.length&&(e.isUndefined(i.attrs.fisSchemaData)||"none"===i.attrs.fisSchemaData))e.each(t,r),n=a;else if(t&&t.data&&t.data.length>0){for(var o=0;o<t.data.length;o++){var s=Object.keys(t.data[o]).length;1===s?e.each(t.data[o],r):s>1&&(a=t.data)}n=a}else t&&t.obj?(a=[],a.push(t.obj),n=a):n=[];return n}function f(e,i){var n,a={};return angular.forEach(i,function(i,r){angular.isString(i)?n=t(i)(e.data):angular.isNumber(i)?n=t(i.toString())(e.data):angular.isFunction(i)&&(n=i(e.data,a)),void 0!==n&&null!==n&&(a[r]=c(n))}),a}function c(e){return e instanceof Date?e.toISOString():e}function u(e){var i,n={},a=[];if(e.attrs.fisGroup){var r=e.dataTextField;if(e.attrs.fisOptions&&(r=p(e)),e.attrs.fisGroup.indexOf(",")===-1&&(i=t(e.attrs.fisGroup)(e.scope)),!i){var o=e.attrs.fisGroup.split(",");i=[];for(var s=0;s<o.length;s++)i.push({field:o[s]})}if(angular.isArray(i)){for(var s=0;s<i.length;s++)a.push({field:i[s].field,dir:i[s].dir?i[s].dir:"asc"});1===i.length&&a.push({field:r,dir:i[0].dir?i[0].dir:"asc"})}else{var l=i.dir?i.dir:"asc";a.push({field:i.field,dir:l}),a.push({field:r,dir:l})}n.group=i,n.sort=a}return n}function p(e){var t,i=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))/,n=e.attrs.fisOptions.match(i),a=n[2]||n[1];return a&&(t=a.indexOf(".")>-1?a.substring(t.indexOf(".")+1):a),t}var v={};return v.evaluatedPlaceholder=function(e){var t,i=e.find("[data-placeholder]").data("placeholder");return t="''"!==i?i:" "},v.createSgData=function(e){var t,n=i.defer(),r={},o={};r.serverFiltering="true"===e.attrs.fisServerFiltering;var s={};r.serverFiltering&&(e.isDropDownListUpdated=!0,o.q="filter.filters[0].value",o.operator="filter.filters[0].operator",t=function(e){var t=e.sender.read.arguments;t||e.preventDefault()},s.requestStart=t),r.group=u(e).group,r.sort=u(e).sort;var l=a.createListDataSource(e.fisDataData,o,r,s);return l.fetch().then(function(){n.resolve(l)},function(){n.resolve(l)}),n.promise},v.createStaticOptionsData=function(e){var t=i.defer(),n=r(e);return n.fetch().then(function(){t.resolve(n)},function(){t.resolve(n)}),t.promise},v.createSgOptionsData=function(e,t){var n=i.defer(),a=o(e,t),r=u(e).group,s=u(e).sort,l=new kendo.data.DataSource({data:a,group:r,sort:s});return l.fetch().then(function(){n.resolve(l)},function(){n.resolve(l)}),n.promise},v.createSgDataAndOptionsDS=function(e){var t=i.defer(),n={};n.serverFiltering="true"===e.attrs.fisServerFiltering;var a={};n.serverFiltering&&(e.isDropDownListUpdated=!0,a.q="filter.filters[0].value",a.operator="filter.filters[0].operator"),n.group=u(e).group,n.sort=u(e).sort;var r=l(e.fisDataData,a,n,e);return r.fetch().then(function(){t.resolve(r);
},function(){t.resolve(r)}),t.promise},v}]}}).call(t,i(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$parse","$timeout","fisMemoryUtilService",function(e,t,i){"ngInject";return{restrict:"AC",scope:{actionFn:"&fisCellAction",fisCellAction:"@fisCellAction",fisCellIcon:"@fisCellIcon",fisCellLabel:"@fisCellLabel",fisDisabled:"&fisDisabled"},template:'<div>\t                    <a href="" ng-click="onClick()" ng-if="!isDisabled(fisDisabled)">\t                        <i ng-if="fisCellIcon !== undefined" fis-unique-id="editButton" ng-class="{{fisCellIcon}}" title="{{fisCellLabel}}"></i>\t                        <div ng-if="fisCellIcon === undefined">{{fisCellLabel}}</div>\t                    </a>\t                    <div ng-if="isDisabled(fisDisabled)" class="fis-cursor-not-allowed">\t                        <i ng-if="fisCellIcon !== undefined" ng-class="{{fisCellIcon}}" fis-unique-id="editButton" title="{{fisCellLabel}}"></i>\t                        <div ng-if="fisCellIcon === undefined">{{fisCellLabel}}</div>\t                    </div>\t                </div>',transclude:!0,link:function(n,a,r){var o=t(function(){if(n.fisCellIcon&&0!==n.fisCellIcon.indexOf("{")){var e=a.find("i[title="+n.fisCellLabel+"]");e.addClass(n.fisCellIcon),e.removeAttr("ng-class")}},0);i.cancelTimeoutOnDestroy(n,o,t),n.isDisabled=function(t){return e(t)(n)},n.onClick=function(){r.fisCellAction&&n.actionFn({rowData:n.$parent.rowData})},n.open=n.$parent.open,n.$on("$destroy",function(){n.open=null})}}}]},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{getNumberEditor:function(t,i){var n=t,a="n"+t.toString(),r=!0;!e.isUndefined(i)&&i&&(r=!1);var o=function(e,t){var i=$('<input data-bind="value:'+t.field+'" name='+t.field+">").appendTo(e).kendoNumericTextBox({format:a,decimals:n,spinners:r}),o=$("<span>");return o.attr("class","k-invalid-msg"),o.attr("data-for",t.field),o.appendTo(e),i};return o},getDateTimeEditor:function(e){var t,i=e.getCulture(t),n=e.getDateTimeFormat(t,"12"),a=e.getTimeFormat(t,"12"),r=function(e,t){var r=$('<input data-bind="value:'+t.field+'" name='+t.field+">").appendTo(e).kendoDateTimePicker({culture:i,format:n,timeFormat:a}),o=$("<span>");return o.attr("class","k-invalid-msg"),o.attr("data-for",t.field),o.appendTo(e),r};return r},getTimeEditor:function(e){var t,i=e.getCulture(t),n=e.getTimeFormat(t,"12"),a=function(e,t){var a=$('<input data-bind="value:'+t.field+'" name='+t.field+">").appendTo(e).kendoTimePicker({culture:i,format:n}),r=$("<span>");return r.attr("class","k-invalid-msg"),r.attr("data-for",t.field),r.appendTo(e),a};return a}}}}).call(t,i(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"AC",scope:{fisIndex:"@fisIndex"},replace:!0,template:'<div class="dropdown fis-grid-filter-menu-container"><div><ul class="dropdown-menu pull-right fis-grid-filter-menu-item-container" role="menu"><li fis-unique-id="applyConstraint_constraint_filterMenuContainerIds_{{fisIndex}}" ng-repeat="constraint in columnConstraints.constraints[fisIndex].values" class="fis-grid-filter-menu-item" ng-class="{\'fis-grid-filter-menu-item-selected\': constraint.method === liveFilterCriteria.operands[fisIndex].constraint}" ng-click="applyConstraint(constraint, filterMenuContainerIds[fisIndex])"><div fis-unique-id="filterMenuContainerdiv_{{fisIndex}}" title={{constraint.label}} >{{constraint.label}}</div></li></ul></div><a class="dropdown-toggle k-icon k-filter fis-grid-filter-icon" fis-unique-id="filterIcon_{{fisIndex}}"></a></div>',link:function(e,t){e.columnConstraints=e.$parent.columnConstraints,e.applyConstraint=e.$parent.applyConstraint,e.liveFilterCriteria=e.$parent.liveFilterCriteria,e.$on("$destroy",function(){t.off(),t.remove(),e.columnConstraints=null})}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"C",scope:!0,link:function(){}}}},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this;t.$get=["fisI18nService","fisPubSubService","fisUniqueIdService","fisCriteriaService",function(t,i,n,a){var r=[a.constraints.IS_EMPTY,a.constraints.NOT_EMPTY,a.constraints.IS_NULL,a.constraints.NOT_NULL],o={};return o.getGridName=function(t,i,a){var r,o;return a&&(o=$(a)),t.fisUniqueIdSeed?r=n.generateIdWithStaticSeed(i,o,t):(a&&e.isUndefined(a.fisid)&&(r=n.generateUniqueId(i,o,{},t.fisData)),a?a&&(r=a.fisid):r=n.generateUniqueId(i,void 0,{},t.fisData)),e.isUndefined(r)&&console.warn("Grid has no unique name - please add  a fis-unique-id-seed or defined a unique fis-data source"),o=null,r},o.getCorrectOperator=function(e){return"starts_with"===e?"startswith":"ends_with"===e?"endswith":"not_contains"===e?"doesnotcontain":"ne"===e?"neq":"ge"===e?"gte":"le"===e?"lte":e},o.getCustomDateFilter=function(t,i,n,a){var r=a.gridColumns().filter(function(e){return e.field==i});return n=kendo.format(r[0].format,n),{field:i,operator:function(i){var a=kendo.parseDate(n),r=!1;if(!e.isNull(i)){var o=new Date(i.getFullYear(),i.getMonth(),i.getDate());r="gt"===t?o.getTime()>a.getTime():"lt"===t?o.getTime()<a.getTime():"ge"===t?o.getTime()==a.getTime()||o.getTime()>=a.getTime():"le"===t?o.getTime()==a.getTime()||o.getTime()<=a.getTime():"eq"===t?o.getTime()==a.getTime():o.getTime()!==a.getTime()}return r},value:n}},o.getGridFilterObject=function(t,i,n,a,r){i.logic=t.operator,t.operands&&(i.filters=[]);for(var s=0;s<t.operands.length;s++){var l=t.operands[s];if(l.operands)i.filters.push({}),o.getGridFilterObject(l,i.filters[s],n,a,r);else{var d;if(a&&a.reader&&a.reader.model&&!e.isEmpty(a.reader.model.fields))if("date"===a.reader.model.fields[l.property].type)if(n.fisMode&&"local"===n.fisMode)d=o.getCustomDateFilter(l.constraint,l.property,l.value,r);else{var f=kendo.parseDate(l.value),c=new Date(Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()));d={field:l.property,operator:o.getCorrectOperator(l.constraint),value:c}}else l.value=a.reader.model.fields[l.property].parse(l.value),d={field:l.property,operator:o.getCorrectOperator(l.constraint),value:l.value};else d={field:l.property,operator:o.getCorrectOperator(l.constraint),value:l.value};i.filters.push(d)}}},o.removeEmptySearchCriteria=function(t){for(var i=t.operands.length;i--;){var n=t.operands[i];e.contains(r,n.constraint)||(e.isNull(n.value)||""===n.value)&&t.operands.splice(i,1)}return t},o.buildGridFilterObject=function(t,i,n,r){if(!e.isObject(i))return void handleError(n,"filterArgs must be a valid fisCriteria object",null,"fisCriteria");var s=a.newCriteria(i);try{s.validate()}catch(e){return void handleError(n,e,null,"fisCriteria")}var l={};return o.getGridFilterObject(i,l,r,t,n),l},o.getAvailableHeightInParent=function(t){var i=t.parent(),n=parseFloat(i.height());if(i.children().length>1){var a=i.offset().top,r=t.offset().top,o=r+t.outerHeight(),s=r,l=o,d=!1;e.each(i.children(),function(e){if(e=angular.element(e),e[0]!==t[0])if(d){var i=e.offset().top+e.outerHeight();i>=o&&i>l&&(l=i)}else{var n=e.offset().top;n>=a&&n<s&&(s=n)}else d=!0});var f=r-s,c=l-o;n=n-f-c}return n},o.getCallType=function(t,i){var n="POST",a={Create:{attr:"fisDataCreateType",default:"POST"},Update:{attr:"fisDataUpdateType",default:"PUT"},Delete:{attr:"fisDataDeleteType",default:"DELETE"}};if(!e.isUndefined(a[t])){if(!e.isUndefined(i[a[t].attr]))return i[a[t].attr];if(!e.isUndefined(a[t].default))return a[t].default}return n},o.generateResourceURL=function(t,i,n,a){var r=i.fisData;if("Update"===t||"Delete"===t){if(e.isUndefined(n.options.schema.model.id))return void o.handleError(a,"No unique column identifier provided, please provide schema model using fis-schema",null,"fisSchema");r=i.fisData+"/:id",i["fisData"+t+"ParamId"]="@"+n.options.schema.model.id}return r},o.generateURLParams=function(t,i){var n=i["fisData"+t];if(!e.isUndefined(n)){var a=/\/:\w+/g,r=n.match(a);if(r)for(var o=0;o<r.length;o++){var s=r[o].replace("/:",""),l=s.charAt(0).toUpperCase()+s.slice(1);e.isUndefined(i["fisData"+t+"Param"+l])&&(i["fisData"+t+"Param"+l]="@"+s)}}},o.handleError=function(t,i,n,a){if(e.isUndefined(t.onErrorFn)||!e.isFunction(t.onErrorFn))throw new Error(i);t.onErrorFn({data:i,status:n,errorType:a})},o}]}}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$filter","$parse","$interpolate","fisKendoDataSourceFactory","fisI18nService","$timeout","$compile","fisPubSubService","fisDateTimeFormatService","fisEditorFactory","$resource","fisUniqueIdService","fisElementUtils","fisCriteriaService","fisConstraintsFactory","fisMemoryUtilService","$window","fisGridUtilService","fisConfig","$interval",function(t,i,n,a,r,o,s,l,d,f,c,u,p,v,g,m,h,b,w,k){"ngInject";function D(t,i){var n=t.container.find("select, button, input, .k-dropdown .k-input"),a="grid_filter_"+t.field;e.each(n,function(e){var t="";e.className.indexOf("k-button")>-1?t="_"+e.textContent:e.className.indexOf("k-textbox")>-1?t="_input":e.className.indexOf("k-dropdown")>-1?t="_dropdown":e.className.indexOf("k-input")>-1&&(t="_dropdown_value"),u.generateUniqueId(i,$(e),{},a+t)})}function y(){var e;Qe.date.format="{0:"+d.getDateFormat(e)+"}",Qe.datetime.format="{0:"+d.getDateTimeFormat(e,"12")+"}",Qe.time.format="{0:"+d.getTimeFormat(e,"12")+"}"}function S(e){return!!(e.dataSource.hasChanges()||e.element.find(".k-dirty-cell").length>0)}function T(t){e.each(t,function(e){$(e).addClass("error-row")})}function C(e){var t=S(e),i=e.element.parent().find(".k-grid-toolbar .k-i-check").parent(),n=e.element.parent().find(".k-grid-toolbar .k-i-cancel").parent();O(i,t),O(n,t)}function x(e){var t=(S(e),e.element.parent().find(".k-grid-toolbar .k-i-plus").parent());t.addClass("k-grid-add"),t.removeClass("k-state-disabled"),t.removeAttr("onclick","return false"),C(e)}function F(e){var t=S(e),i=e.element.parent().find(".k-grid-toolbar .k-grid-add");i.removeClass("k-grid-add"),i.addClass("k-state-disabled"),i.attr("onclick","return false");var n=e.element.parent().find(".k-grid-toolbar .k-i-plus").parent();n.hasClass("k-grid-cancel-changes")&&O(i,t)}function O(e,t){if(e&&e.length>0){var i="k-grid-cancel-changes";e.length>=1&&e.eq(0).children().hasClass("k-i-check")&&(i="k-grid-save-changes"),t?e.removeClass("k-state-disabled").addClass(i).removeAttr("disabled"):(e.addClass("k-state-disabled").removeClass(i),e.removeAttr("href").attr("disabled","disabled"))}}function U(e,t){var i=e.container.closest("tr");i.is(":last-child")&&e.model.bind("set",function(){t.content&&(t.content[0].scrollTop=t.content[0].clientHeight)})}function M(t,n,a){function l(){var e=[],a=i(n.fisColumns);angular.forEach(c.columns,function(t){t.hidden||e.push(angular.copy(t))}),a.assign(t.$parent,e),"$apply"!==t.$root.$$phase&&"$digest"!==t.$root.$$phase&&t.$apply()}function d(a){var r,s="false"!==t.columnMenu&&angular.isString(n.fisColumns)&&n.fisColumns.indexOf(",")===-1&&i(n.fisColumns).assign;if(r="show"===a?t.onColumnShowFn:t.onColumnHideFn,!(e.isUndefined(a)||e.isUndefined(a.sender)||e.isUndefined(a.sender.element))){var d=a.sender.element.parents(".fis-grid");ze(d)}return function(e){s&&l(),r({event:e});var i=o(function(){var t=e.sender.element.parents(".fis-grid");ze(t)});t.$on("$destroy",function(){o.cancel(i)})}}function f(e,t){e.selectAllPage=function(){t.selectAll(null,!1)},e.selectAllData=function(){t.selectAll(null,!0)}}var c,u={};if(n.fisSort||t.sortable&&(t.sortable.toUpperCase()==="true".toUpperCase()||t.sortable.toUpperCase()==="single".toUpperCase()||t.sortable.toUpperCase()==="multiple".toUpperCase())){var p;if(t.sortable)p="multiple"===t.sortable?"multiple":"single";else if(n.fisSort){var v=i(n.fisSort)(t.$parent);"single"===v||"multiple"===v||"true"===v||v===!0?p="multiple"===v?"multiple":"single":v&&(p=angular.isArray(v)&&v.length>1?"multiple":"single")}p&&(u.sortable={mode:p,allowUnsort:"multiple"===p})}if(u.selectable=t.selectable&&t.selectable.toUpperCase()==="row".toUpperCase()?t.selectable:t.selectable&&t.selectable.toUpperCase()==="multiple".toUpperCase()?t.selectable:t.selectable&&t.selectable.toUpperCase()==="cell".toUpperCase()?t.selectable:"",u.change=me(t),u.resizable=!0,"true"===n.kReorderable){var g=function(e){var t=e.sender;return e.column.reorderable===!1||t.columns[e.newIndex].reorderable===!1};u.columnReorder=function(e){var i=e.sender;o(g(e)?function(){i.reorderColumn(e.oldIndex,i.columns[e.newIndex]),i.refresh()}:function(){var e="true"===n.fisLiveFiltering?-1:0;t.columns=i.columns.slice(0,e),i.refresh()})}}u.navigatable=!0,u.pageable=t.pageable,!n.fisPageSize||"bottom"!==t.pagerPosition&&"both"!==t.pagerPosition||(u.pageable={pageSizes:t.evaluatedPageSizes,change:function(i){if(!e.isUndefined(n.fisOnPagination)&&e.isFunction(t.onPaginationFn)){var a=z(i.index,t.pagerPrevPage,i.sender.dataSource.totalPages());t.pagerPrevPage=a.nextPage,t.onPaginationFn({event:a})}},messages:{display:r.translate(["fisPager","display"],"{0} - {1} of {2} items"),empty:r.translate(["fisPager","empty"],"No items to display"),allPages:r.translate(["fisPager","allPages"],"All"),page:r.translate(["fisPager","page"],"Page"),of:r.translate(["fisPager","of"],"of {0}"),itemsPerPage:r.translate(["fisPager","itemsPerPage"],"items per page"),first:r.translate(["fisPager","first"],"Go to the first page"),previous:r.translate(["fisPager","previous"],"Go to the previous page"),next:r.translate(["fisPager","next"],"Go to the next page"),last:r.translate(["fisPager","last"],"Go to the last page"),refresh:r.translate(["fisPager","refresh"],"Refresh")}}),t.scrollable?u.scrollable={virtual:t.scrollable}:u.scrollable=!0;var h=G(t.columns,n,t);if(t.isDetail=!e.isUndefined(n.fisDetailGrid),"multiple"===t.selectable&&e.isUndefined(n.fisSchemaColumns)&&e.isUndefined(n.fisSchemaColumnsDefault)){t.gridConfig.deselectQuitsSelectAll===!1&&(t.deselectedRowIds={});var w=We(t,n);if(("false"===w||w===!1)&&angular.isArray(h)){var k={};k=t.pageable?{width:50,reorderable:!1,headerTemplate:'<div><input type="checkbox" ng-model="selection.all" class="select-all" fis-unique-id="select-all-checkbox" /> <a fis-quick-action-menu fis-unique-id="select-all-subMenu" fis-quick-action-data="selectMenu" fis-attach-to-body></a></div> ',template:'<input type="checkbox" class="select-row" ng-disabled="!isRowSelectable(rowData)" ng-click="selectRow($event, rowData)"/>'}:{width:40,reorderable:!1,headerTemplate:'<div><input type="checkbox" fis-unique-id ng-model="selection.all" class="select-all"/></div> ',template:'<input type="checkbox" class="select-row" ng-disabled="!isRowSelectable(rowData)" ng-click="selectRow($event, rowData)"/>'},angular.merge(k,Je),h.splice(0,0,k)}}le(h,t,a),!t.filterable&&e.find(h,function(e){return!!e.filterTemplate})&&(t.filterable="true"),u.columns=h,"true"===t.filterable&&"true"!==n.fisLiveFiltering&&Ve(t,u,n),je(t,u,n,c),Ae(t,u,n,c),t.columnMenu&&"false"!==t.columnMenu&&(u.columnMenu="true"===t.columnMenu?{}:t.columnMenu,e.isObject(u.columnMenu)&&(u.columnMenu.messages={columns:r.translate(["fisGrid","columnMenuColumns"],"Columns"),filter:r.translate(["fisGrid","columnMenuFilter"],"Filter"),sortAscending:r.translate(["fisGrid","columnMenuSortAsc"],"Sort Ascending"),sortDescending:r.translate(["fisGrid","columnMenuSortDesc"],"Sort Descending")}),u.columnMenuInit=function(e){"T"===fis.initParams().appStage&&D(e,t)}),u.columnShow=d("show"),u.columnHide=d("hide"),u.autoBind=!0,e.isUndefined(n.fisSchemaColumns)&&e.isUndefined(n.fisSchemaColumnsDefault)||(u.autoBind=!1),f(t,t),t.selectMenu=[{label:r.translate(["fisGrid","all"],"All"),method:"selectAllData"},{label:r.translate(["fisGrid","this_page"],"This page only"),method:"selectAllPage"}];var y;u.dataBound=function(){"multiple"===n.fisSelectable&&c.table.keydown(function(i){if(32==i.keyCode){var a=$(i.target).find("td.k-state-focused");if(n.fisNoCheckbox){var r=a.parent(),o=U[r.index()],s=t.getIdee(o),l=!1;e.each(t.selection.rows,function(e){o[s]===e[s]&&(l=!0)}),l?r.addClass("k-state-selected"):r.removeClass("k-state-selected")}a.mousedown(),t.selection.rows.length>0&&e.each(U,function(i){var n=t.getIdee(i),a=!1;if(e.each(t.selection.rows,function(e){i[n]===e[n]&&(a=!0)}),a){var r=c.table.find("tr[data-uid="+i.uid+"]");r.addClass("k-state-selected"),r.find(".select-row").prop("checked",!0)}})}});var r=a.find("tbody").find("tr");if(r.addClass("fis-grid-row"),t.rowAttributes){var l=null;try{l=angular.fromJson(t.rowAttributes)}catch(e){l=i(t.rowAttributes)(t.$parent)}l&&l.attributes&&l.attributes.class&&r.addClass(l.attributes.class)}var d,u=0;if(d="local"===t.mode?c.dataSource.view():c.dataSource.data(),void 0!==n.fisContextMenu){var p=a.parents().find('div[fis-name="'+n.fisContextMenu+'"]'),v=P(a,p,c,t),g=angular.element(p.children()[0]).kendoContextMenu(v),m=g.data("kendoContextMenu");if(p[0].attributes["fis-context-menu"]){var h=i(p[0].attributes["fis-context-menu"].value).assign;h&&h(t.$parent,m)}}if(a.on("click",function(){e.isUndefined(m)||m.close()}),angular.forEach(r,function(i){var a=t.$parent.$new();if(c&&c.dataSource.at(0)&&(a.rowData=d[u],a.selectRow=t.selectRow,a.isRowSelectable=t.isRowSelectable,f(a.$parent,t)),e.each(i.cells,function(e,t){a.rowData&&a.rowData.dirty&&a.rowData._dirtyFields&&a.rowData._dirtyFields[c.columns[t].field]&&angular.element(e).addClass("k-dirty-cell").prepend('<span class="k-dirty"></span>'),$(e).unbind("mouseover"),$(e).mouseover(function(t){if(!$(t.target).is("td")){var i=t.target.textContent.trim();""!==i&&(t.target.title=i)}if($(t.target).is("td")&&(0===e.childElementCount||$(e).children("span.k-dirty").length>0)){var n=t.target.textContent.trim();""!==n&&(e.title=n)}})}),"T"===fis.initParams().appStage){var r=b.getGridName(n,t,c),o=r+"_"+u,l=$(i);if(l.attr("fisid",o),t.selectable){var p=l.find("input.select-row");p.attr("fisid","selectRowCheckInput_"+o)}for(var v=l.find(".k-icon.k-i-plus, .k-icon.k-i-minus"),g=0;g<v.length;g++)v.eq(g).attr("fisid",r+"_"+u+"_expandRow");var m=0;e.each(i.cells,function(e){var t=o+"_"+m;$(e).attr("fisid",t),m++})}u++,s(i)(a)}),t.$on("$destroy",function(){a.find(".k-grid-content").find("td").unbind("mouseover")}),"T"===fis.initParams().appStage){var w=b.getGridName(n,t,c),k=a.find("th.k-header");e.each(k,function(e){if(e){e=$(e);var t=e.attr("data-field"),i=e.attr("data-index");void 0===t&&(t=""),e.attr("fisid",w+"_headerCell_"+t+"_"+i),e.find("a").attr("fis-unique-id",t),e.find("span.k-icon").attr("fis-unique-id","arrow_"+t)}}),_e(t,n,c)}var D=c.thead.children("tr:first");t.headerCompiled!==!0&&(s(D)(t),t.headerCompiled=!0),"multiple"===t.selectable&&(D.find('input[ng-model="selection.all"]').off("click"),D.find('input[ng-model="selection.all"]').on("click",function(e){t.selectAll(e,!0),"$apply"!==t.$root.$$phase&&"$digest"!==t.$root.$$phase&&t.$apply()}));var T=c.thead.find("th");if(e.each(T,function(e){var t=angular.element(e).attr("data-title")||"";""!==t.trim()&&$(e).attr("title",t)}),S(),(n.fisBatch||"inline"===n.fisEditable||"incell"===n.fisEditable)&&C(c),"multiple"===t.selectable&&(c.tbody.unbind("mousedown"),c.tbody.on("mousedown",function(i){c.selectable.userEvents._events.move=null,i.stopPropagation();var n;n=e.isUndefined(i.srcElement)?$(i.target):$(i.srcElement);var a=$(n.parent()),r=a.closest(".fis-grid");if(!angular.isUndefined(r.attr("fis-selectable"))&&"multiple"===r.attr("fis-selectable")){var o=!1,s=1;if(n&&(a.is("tr")||a.contents().hasClass("select-row"))){c.tbody.find("td.k-state-selected").removeClass("k-state-selected");var l=$(a.find("input")),d=-1;e.isUndefined(a.attr("class"))||(d=a.attr("class").indexOf("k-state-selected"));var f=n[0].cellIndex,u=c.dataSource.view();"local"===t.mode&&(u=c.dataSource.data()),l.length>0?!f&&!t.deselectCell||!f&&!l.prop("checked")?f=1:!f&&t.deselectCell&&l.prop("checked")&&(f=parseInt(t.deselectCell)):!f&&!t.deselectCell||!f&&d<0?f=1:!f&&t.deselectCell&&d>-1&&(f=parseInt(t.deselectCell)),t.hasDetail&&!e.isUndefined(l.prop("checked"))&&f>1&&(s=2);var p,v;p="function"==typeof t.columns?t.columns():t.columns,e.isUndefined(p)||(e.isString(p)?(p=p.split(","),v=p[f-s]):v=p[f-s].field);var g=$("td:not(:has(input),:has(select),:has(a),:has(button))",a.parent()),m=(angular.element(a).scope().rowData,angular.element(a).scope().rowData),h={data:m[v]};if(!h.data&&g.length>0&&1===f&&(h={data:$(g[0]).text()}),t.selection.cell=h,t.isRowSelectable(m)&&(e.isUndefined(t.editable)||"incell"!==t.editable)){t.selection.currentRow=m;var b,w=l.length>0?l.prop("checked"):d>-1;if(!e.isUndefined(a)&&a.length>0&&(b=a[0].rowIndex),i.shiftKey)i.shiftKey&&!e.isUndefined(y)&&y!==b&&(_(y,b,w,n,t,c),o=!0),i.preventDefault();else{var k=c.element.find("th .select-all").first();w&&n.is("td")?(t.setRowSelectionStatus(m,!1),I(t,c.dataSource,!1,k),o=!0):!w&&n.is("td")&&(t.setRowSelectionStatus(m,!0),I(t,c.dataSource,!0,k),o=!0)}y=b;var D=a;a.is("tr")||(D=a.parent("tr")),Re(t,c,D),o&&he(t),a.is("td")?g.length>0&&1===f?$(g[0]).addClass("k-state-selected"):a.parent().find("td:eq("+f+")").addClass("k-state-selected"):a.find("td:eq("+f+")").addClass("k-state-selected")}}}}),c.tbody.on("mouseup",function(e){var t=c.tbody.find("input.select-row:checked");t.closest("tr").addClass("k-state-selected"),e.stopPropagation()}),c.tbody.on("mousemove",function(e){var t=c.tbody.find("input.select-row:checked");t.closest("tr").addClass("k-state-selected"),e.stopPropagation()})),t.selectable){var x,F,O,U=c.dataSource.view();if(x="multiple"===t.selectable?t.selection.rows:t.selectedDataItems,"multiple"===t.selectable){var M=t.selection.all,V=!1;if(t.gridConfig.deselectQuitsSelectAll===!1&&(M=t.isSelectAll,V=!0),M){F=U.length;for(var L=0;L<F;L++){var A=U[L];if(O=c.table.find("tr[data-uid="+A.uid+"]"),O.scope().isRowSelectable(O.scope().rowData)){var N=t.getIdee(A);(!V||V&&t.deselectedRowIds[A[N]]!==!0)&&t.addToRowSelection(A)}}t.onSelect&&t.onSelect({rows:t.selection.rows,all:t.selection.all,currentRow:null,selection:t.selection})}t.selection.rows.length>0&&e.each(U,function(e){t.markSelectedFromSelection(e)})}}if(n.fisPageSize){var E=i(n.fisPageSize);E&&E.assign&&E.assign(t.$parent,c.dataSource.pageSize())}var j=c.dataSource.sort();if((n.fisSort||n.fisSortable||j&&j.length>1)&&(c.element.find("th").find(".fis-sort-order-indicator").remove(),c.element.find("th").find("a.k-link").append('<span class="fis-sort-order-indicator invisible">0</span>')),"false"!==n.fisShowSortOrder&&j&&j.length>1){var z=1;angular.forEach(j,function(e){var t=e.field,i=c.element.find('th[data-field="'+t+'"]'),n=i.find("a.k-link");n.find(".fis-sort-order-indicator").replaceWith('<span class="fis-sort-order-indicator">'+z+"</span>"),z++})}if(n.fisSort&&"local"===t.mode){var q=i(n.fisSort);q&&q.assign&&q.assign(t.$parent,c.dataSource.sort())}"$apply"!==t.$root.$$phase&&"$digest"!==t.$root.$$phase&&t.$apply(),"true"!==n.fisLiveFiltering&&o(function(){var e=a.find(".k-grid-header");if(e!==[]){var t=a.find(".k-grid-header"),i=($(c.thead).find("tr")[0],parseFloat($(t).height())),n=t.find(".k-grid-column-header-underlay");0===n.length&&(t.append('<div class="k-grid-column-header-underlay"></div>'),n=t.find(".k-grid-column-header-underlay")),n.height(i)}});var W=a.find(".fis-grid-filter-row").length;0===W&&n.fisLiveFiltering&&"true"===n.fisLiveFiltering&&t.addLiveFilter();var R=a.find("div.k-grid-content > div.k-grid-content-expander"),H=parseFloat(a.find("div.k-grid-content").width());if(parseFloat(R.width())<=H&&R.removeClass("k-grid-content-expander"),n.fisDetailData){var B=a.find("div.k-grid-content");B.removeClass("fis-overflow-y-hidden")}},u.dataBinding=function(){c=a.data("kendoGrid"),c.dataSource._filter&&t.selection&&t.selection.rows&&(t.selection.rows.length=0);var e=a.find("tbody").find("tr");o(function(){for(var i=0;i<e.length;i++){var n=angular.element(e[i]);angular.forEach(n.find("[fis-cell-action]"),function(e){var i=angular.element(e).scope();i&&i!==t&&m.destroyScopeAndData(i,e)});var a=n.scope();a&&a!==t&&m.destroyScopeAndData(a,n)}t.kendoPager&&(m.destroyScopeAndData(null,t.kendoPager.element),y=void 0),c&&c.pager&&(m.destroyScopeAndData(null,c.pager.element),y=void 0)})},t.$on("$destroy",function(){u&&(delete u.dataBound,u.dataBound=null,delete u.dataBinding,u.dataBinding=null),m.callCleanAll(u),u=null});var S=function(){if(n.fisEditable){var e=a.find(".k-grid-deleteConfirmation");e.click(function(e){e.preventDefault();var i=$(this).parents("tr:first");o(function(){t.$parent.confirm("Are you sure that you want to delete this record?",{title:"Delete Confirmation"}).then(function(e){e&&c.removeRow($(i))})},0)})}},T="top";if("bottom"===n.fisToolbarLocation&&(T=n.fisToolbarLocation),t.editable){u.editable={mode:t.editable,createAt:T,confirmation:!1},u.cancel=function(i){!e.isUndefined(n.fisOnCancel)&&e.isFunction(t.onCancelFn)&&t.onCancelFn({event:i}),c.dataSource.hasChanges()?(i.preventDefault(),o(function(){t.$parent.confirm(r.translate(["fisGrid","exitEdit"],"There are pending changes. Do you want to exit edit mode?"),{title:"Cancel Edit",actions:{yesno:!0}}).then(function(e){return!e||(c.cancelChanges(),x(c),c.table.off("keydown",M),void 0)})},0)):(c.cancelChanges(),x(c),c.table.off("keydown",M),t.selectable&&c.select("tr:eq("+i.container.index()+")"))};var O=function(e){return t.columns&&t.columns[e].editorTemplate},M=function e(t){27==t.keyCode&&(x(c),c.table.off("keydown",e))},V=function(e){var i=e.data.element,n=kendo._activeElement(),a=e.data.model;if(i&&!$.contains(i[0],n)&&i[0]!==n&&!$(n).closest(".k-animation-container").length)var r=o(function(){r&&o.cancel(r);var e=null;if(0===i.find("form").length){var n=t.$parent.$new();n.rowData=a,e=s(i)(n)}if(0===i.children().length)try{var n=t.$parent.$new();n.rowData=a,e=s(i)(n)}catch(t){e=null}t.$on("$destroy",function(){m.callCleanAll(e),e=null})})};if(u.edit=function(i){var a=We(t,n),r="multiple"!==t.selectable||"false"!==a&&a!==!1?i.container.index():i.container.index()-1;this._current=c.element.find(".k-edit-cell"),"incell"!==t.editable||O(r)||i.container.on("focusout",{element:i.container,model:i.model,index:r},V),!e.isUndefined(n.fisOnEdit)&&e.isFunction(t.onEditFn)&&t.onEditFn({event:i}),"inline"===t.editable&&(F(c),c.table.on("keydown",M));var o=c.element.find(".k-grid-edit-row").length>0||c.element.find("k-edit-cell").length>0;"inline"!==t.editable||o||x(c),C(c),U(i,c),a=void 0},u.save=function(i){!e.isUndefined(n.fisOnSave)&&e.isFunction(t.onSaveFn)&&t.onSaveFn({event:i}),x(c)},u.saveChanges=function(i){!e.isUndefined(n.fisOnSaveChanges)&&e.isFunction(t.onSaveChangesFn)&&t.onSaveChangesFn({event:i}),x(c)},xe(a,u,t,n,/^on(.+)/),"T"===fis.initParams().appStage){var L=b.getGridName(n,t,c);Oe(a,t,L+"_edit",u,"dataBound"),Oe(a,t,L+"_edit",u,"edit"),Oe(a,t,L+"_edit",u,"cancel")}}n.fisToolbar&&(u.toolbar=Ce(t,n.fisToolbar),0===u.toolbar.length&&delete u.toolbar,t.$on("$destroy",function(){u&&u.toolbar&&delete u.toolbar})),u.groupable=n.fisGroupable===!0||"true"===n.fisGroupable;for(var A in n)if(0===A.indexOf("k")){var N=A.substring(1);N=N.substring(0,1).toLowerCase()+N.substring(1),"true"===n[A]?u[N]=!0:u[N]=u[N]=i(n[A])(t.$parent)}return u}function I(t,i,n,a){n?t.selection.rows.length==i._total||t.gridConfig.deselectQuitsSelectAll===!1&&t.isSelectAll&&e.isEmpty(t.deselectedRowIds)?(t.selection.all=!0,a.prop("indeterminate",!1)):(t.selection.all=!1,a.prop("indeterminate",!0)):(t.selection.all=!1,a.prop("indeterminate",t.selection.rows.length>0))}function P(e,t,n,a){var r,o,s,l,d,f={},c=t[0].attributes,u=t[0].getAttribute("fis-target")||"row";"row"===u?d=".fis-grid-row":"column"===u&&(d='td[role="gridcell"]'),f.target=e,f.filter=d,f.open=function(t){if("row"===u)o=$("tr",n.tbody).index(t.target);else if("column"===u){r=$(t.target).closest("tr"),o=$("tr",n.tbody).index(r),s=$("td",r).index(t.target),l=e.find("th").eq(s).attr("data-field");var d=c["fis-column-name"].value;d=i(d)(a)?i(d)(a):d,angular.isArray(d)?d.indexOf(l)<0&&t.preventDefault():l!==d&&t.preventDefault()}a.$parent.rowData=n.dataSource.data()[o],a.$parent.colName=l,"$apply"!==a.$root.$$phase&&"$digest"!==a.$root.$$phase&&a.$apply()};for(var p=0;p<c.length;p++){var v=c[p];if(v.specified&&0===v.name.indexOf("k")){var g=v.name.substring(2);g=g.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});var m=i(v.value)(a.$parent.$parent)?i(v.value)(a.$parent.$parent):v.value;f[g]=m}}return f}function _(e,t,i,n,a,r){var o=e,s=t,l=r.element.find("th .select-all");o>s&&(s=[o,o=s][0]);for(var d=o,f=s;d<=f;d++)i&&n.is("td")?(a.setRowSelectionStatus(r.dataSource.view()[d],!1),I(a,r.dataSource,!1,l)):!i&&n.is("td")&&(a.setRowSelectionStatus(r.dataSource.view()[d],!0),I(a,r.dataSource,!0,l))}function V(t,i,n){var a=["eq","lt","gt","contains","startswith","endswith","doesnotcontain","notstartswith","notendswith","ne","ge","le","neq","gte","lte"],o={ne:"neq",ge:"gte",le:"lte"};if(t){var s={},l=t.split(",");return angular.forEach(l,function(t){t=t.toLowerCase(),e.isUndefined(o[t])||(t=o[t]),a.indexOf(t)>-1&&(s[t]=r.translate(["compareOperators",i,t],t))}),s}var d={},f=angular.copy(g.getConstraintsByType(i));return"string"===i&&(f.push({value:"doesnotcontain",label:r.translate(["compareOperators",i,"doesnotcontain"],"does not contain")}),"local"!==n.fisMode&&(f.push({value:"notstartswith",label:r.translate(["compareOperators",i,"notstartswith"],"not starts with")}),f.push({value:"notendswith",label:r.translate(["compareOperators",i,"notendswith"],"not ends with")}))),angular.forEach(f,function(t){e.contains(a,t.value)&&(e.isUndefined(o[t.value])?d[t.value]=r.translate(["compareOperators",i,t.value],t.label):d[o[t.value]]=r.translate(["compareOperators",i,o[t.value]],t.label))}),d}function L(e){var t={};return t.string=V(e.fisFilterableOperatorsString,"string",e),t.number=V(e.fisFilterableOperatorsNumber,"number",e),t.date=V(e.fisFilterableOperatorsDate,"date",e),t.datetime=V(e.fisFilterableOperatorsDateTime,"date",e),t.time=V(e.fisFilterableOperatorsTime,"date",e),t.boolean=V(e.fisFilterableOperatorsBoolean,"boolean",e),t}function A(t){return""===t.fisSecondFilterCriteria||e.isUndefined(t.fisSecondFilterCriteria)||"false"!==t.fisSecondFilterCriteria}function N(t,n,a,r){var o={};o.serverAggregates=o.serverPaging=o.serverSorting=o.serverFiltering=o.serverGrouping="local"!==t.mode,o.pageSize=t.pageSize;var s,l,d=!e.isUndefined(n.fisOnFiltering)&&n.fisOnFiltering&&e.isFunction(t.onFilteringFn),f=!e.isUndefined(n.fisOnSorting)&&n.fisOnSorting&&e.isFunction(t.onSortingFn),c=!e.isUndefined(n.fisGroup),u=function(i){f&&!e.isEqual(l,i.sender._sort)&&(t.onSortingFn({event:i.sender._sort}),l=i.sender._sort),d&&!e.isEqual(s,i.sender._filter)&&(t.onFilteringFn({event:i.sender._filter||{}}),s=angular.copy(i.sender._filter))};if(a.editable?(o.batch=n.fisBatch,o.schema=Se(t,n),o.change=function(e){u(e),"itemchange"===e.action&&e.field&&(e.items[0]._dirtyFields||(e.items[0]._dirtyFields={}),e.items[0]._dirtyFields[e.field]=!0);var a=r.data("kendoGrid");if((n.fisBatch||"inline"===n.fisEditable||"incell"===n.fisEditable)&&C(a),H(t,a),W(t,a),n.ngModel){var o=i(n.ngModel);o&&o.assign&&o.assign(t.$parent,a.dataSource.data()),a.dataSource.hasChanges()&&t.formCtrl&&t.formCtrl.$setDirty(),"$apply"!==t.$root.$$phase&&"$digest"!==t.$root.$$phase&&t.$apply()}n.fisOnSelect&&t.updateSelectionOnEdit()}):((d||f||c)&&(o.change=u),Be?o.schema=Se(t,n):n.fisSchema&&(o.schema=Se(t,n))),t.sort&&(o.sort=i(n.fisSort)(t.$parent)),n.kAggregate&&(o.aggregate=i(n.kAggregate)(t.$parent)),!e.isUndefined(t.filters)){var p={};b.getGridFilterObject(t.filters,p,n),o.filter=p}return o.group=E(n.fisGroup,t),o}function E(e,t){var n;if(e&&(e.indexOf(",")===-1&&(n=i(e)(t.$parent)),!n)){var a=e.split(",");n=[];for(var r=0;r<a.length;r++)n.push({field:a[r]})}return n}function j(t,i,n){if(t.toLowerCase().indexOf("next")>=0)return++n;if(t.toLowerCase().indexOf("previous")>=0)return--n;if(t.toLowerCase().indexOf("last")>=0)return i;var a=parseInt(t,10);
return e.isNaN(a)?1:a}function z(e,t,i){var n={},a=parseInt(e,10),r=parseInt(t,10);return n.totalPages=i,n.nextPage=a,n.previousPage=void 0===t?1:r,n}function q(t,i){var n,a;if(i.pager&&(n=i.pager.element.find("a"),a=i.pager.element.find(".k-state-selected"),$.merge(n,a||{})),"bottom"!==t.pagerPosition&&t.kendoPager){var r=t.kendoPager,o=r.element.find("a");a=r.element.find(".k-state-selected"),$.merge(o,a||{});var s=e.filter(o,function(e){return!$(e).parent().hasClass("k-grid-toolbar")});n=$.merge(s,n||{})}return n}function W(e,t){var i=t.element.parent().find(".k-grid-toolbar .k-i-cancel").parent();i.unbind("click"),i.click(function(){$(i).hasClass("k-state-disabled")||(x(t),t.cancelChanges())})}function R(e,t){var i=t.element.find(".k-grid-edit-row").length>0||t.element.find("k-edit-cell").length>0;return!!("local"!==e.mode||"local"===e.mode&&i&&"inline"===e.editable)&&(t.element.find(".k-dirty-cell").length>0||i&&t.dataSource.hasChanges())}function H(e,t){var i=$(q(e,t)),n=t.element.find(".k-header a.k-link"),a=$.merge(i,n||{});if(a.unbind("click"),a.click(function(i){if(R(e,t)&&B(i,t,e),!S(t)){x(t);var n=o(function(){H(e,t)},1e3);e.$on("$destroy",function(){n&&o.cancel(n)})}}),null!==t.element){var r=t.element.find(".k-grid-edit");r.unbind("click"),r.click(function(i){R(e,t)&&B(i,t,e)})}e.$on("$destroy",function(){i&&i.unbind("click")})}function B(t,i,n){var a=$(t.target);if(a.hasClass("k-grid-save-changes")===!1){var s=a.closest(".k-grid-edit").length>0,l=i._current,d=i.element.find(".k-dirty-cell");t.preventDefault(),t.stopImmediatePropagation();var f=o(function(){var f;f=0===d.length?r.translate(["fisGrid","exitEdit"],"There are pending changes. Do you want to exit edit mode?"):r.translate(["fisGrid","cancelChanges"],"There are pending changes. Do you want to cancel your edited changes?"),n.$parent.confirm(f,{title:"Cancel Edit",actions:{yesno:!0}}).then(function(r){if(r){if(s)i.editRow(a.closest('[role="row"]'));else{i.dataSource.cancelChanges();var f=j(t.currentTarget.innerHTML||$(t.currentTarget).attr("data-page"),i.dataSource.totalPages(),i.dataSource.page());if("top"!==n.pagerPosition&&"both"!==n.pagerPosition||n.kendoPager.dataSource.page(f),l&&l.hasClass("k-header")){var c=l.attr("data-dir");e.isUndefined(c)&&(c="asc"),i.dataSource.sort({field:l.attr("data-field"),dir:c})}i.dataSource.page(f)}return x(i),!0}return d.length>0?o(function(){n.$root.$$phase||$(d[0]).trigger("click")},0):o(function(){n.$root.$$phase||l.hasClass("k-header")||$(l[0]).trigger("click")},0),!1})},0);n.$on("$destroy",function(){f&&o.cancel(f)})}}function G(t,i,n){if(e.isUndefined(i.fisColumns)&&e.isUndefined(i.fisSchemaColumns)&&e.isUndefined(i.fisSchemaColumnsDefault))return void(i.fisSchemaColumnsDefault="columns");if(!e.isUndefined(i.fisColumns)&&!e.isUndefined(i.fisSchemaColumns))return void b.handleError(n,"Both fis-columns and fis-schema-columns have been defined, please select only one",null,"fisColumns");if(!e.isUndefined(t)){var a,o,s=[];if(angular.isString(t))for(a=t.split(","),o=0;o<a.length;o++)s.push({field:a[o],title:r.translate(a[o],He(a[o]))});else if(angular.isArray(t))s=t;else{if(!angular.isFunction(t))return void b.handleError(n,"No fis-columns/fis-schema-columns provided.",null,"fisColumns");s=t()}return s=Y(s,n),s=se(s,n),s=K(s,n),s=Q(s),s=J(s),angular.copy(s)}}function K(t,i){for(var a=0;a<t.length;a++){var r=t[a];if(!e.isUndefined(r.title)&&!e.isUndefined(i)&&!e.isUndefined(i.$parent)){var o=n(r.title)(i.$parent);r.title=o}}return t}function Y(t){if(Je={},angular.isArray(t))for(var i=0;i<t.length;i++){var n=t[i];e.isUndefined(n.columnType)||"selection"!=n.columnType||(angular.copy(n,Je),t.splice(i,1))}return t}function Q(t){for(var i=0;i<t.length;i++){var n=t[i];if(!e.isUndefined(n.operators)){var a={};a.operators={};var r=Z(t[i].dataType);a.operators[r]={};for(var o=t[i].operators.split(","),s=0;s<o.length;s++){var l=o[s],d=X(r,l);a.operators[r][l]=d}n.filterable=a}}return t}function J(t){for(var i=0;i<t.length;i++){var n=t[i];!e.isUndefined(n.width)&&n.width<70&&(n.width=70)}return t}function Z(e){return"integer"===e||"double"===e?"number":e}function X(e,t){return"string"===e?ee(t):"number"===e?te(t):"date"===e?ie(t):void 0}function ee(e){return"contains"===e?"Contains":"not_contains"===e||"doesnotcontain"===e?"Does not contain":"endswith"===e?"Ends with":"eq"===e?"Is equal":"neq"===e?"Is not equal":"startswith"===e?"Starts with":void 0}function te(e){return"eq"===e?"Is equal":"gt"===e?"Greater than":"ge"===e||"gte"===e?"Greater than or equal to":"lt"===e?"Less than":"lte"===e||"lt"===e?"Is not equal to":"ne"===e||"neq"===e?"Not equal":void 0}function ie(e){return"eq"===e?"Is equal":"ne"===e||"neq"===e?"Not equal":"ge"===e||"gte"===e?"Is after or equal":"gt"===e?"Is after":"lte"===e||"lt"===e?"Is before or equal":"lt"===e?"Is before":void 0}function ne(t,i){var n;if(e.isUndefined(t)&&!e.isUndefined(i))return i;if(e.isObject(t)&&e.isObject(i)){n=i;var a=e.keys(t),r=e.keys(i);e.contains(a,"ng-class")&&e.contains(r,"class")&&e.each(a,function(a){var o=e.find(r,function(e){return e===a});e.isUndefined(o)||(n[o]=t[o]+" "+i[o])});var o=e.difference(a,r),s=e.difference(r,a);e.each(o,function(e){n[e]=t[e]}),e.each(s,function(e){n[e]=i[e]})}return n}function ae(t){return!(!e.isDate(t)&&!d.isValidDate(t,"yyyy-MM-dd",!0))}function re(t,i){var n=!0;if(ae(t)||ae(i)){var a=new Date(i),r=new Date(t),o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));+s!==+o&&(n=!1)}else e.isEqual(t,i)||(n=!1);return n}function oe(e,t){if(e.editorTemplate){var i=e.editorTemplate,n=e.template,a=t,r=!1;e.editor=function(e,l){var d=o(function(){try{i=angular.element(i).wrap('<form class="fis-grid-custom-widget-position" name="cell-'+l.field+'"></form>').parent().prop("outerHTML");var d=s(i)(a.$parent.$new());d.scope().rowData=l.model,d.scope().$watch("rowData."+l.field,function(t,i){angular.isUndefined(t)||re(t,i)||(l.model.dirty=!0,r=!0,l.model.trigger("change",{field:l.field}),"incell"===a.editable&&(e.hasClass("k-dirty-cell")||e.addClass("k-dirty-cell")))},!0),e.empty(),d.appendTo(e)}catch(e){console.error("Error: ",e)}if("incell"===a.editable){if(e.hasClass("k-edit-cell")||e.addClass("k-edit-cell"),e.find(".fis-input").is(":checkbox")){var f=e.find(".fis-field"),c=f.attr("fis-true-value-label"),u=f.attr("fis-false-value-label");if(c&&u){var p=f.attr("ng-true-value-input")||!0,v=e.find(".checkbox-label");v.text("{{ "+f.attr("ng-model-input")+" === "+p+' ? "'+c+'" : "'+u+'" }}'),v.html(s(v.prop("outerHTML"))(d.scope()))}}else{var g=Ze(e);if(g)var h=g.on("focusout",{element:e,model:l.model},function(e){if(g[0].validity&&!g[0].validity.valid)return e.stopImmediatePropagation(),e.preventDefault(),!1;var i,a=e.data.element,s=a.find(".fis-view-value").text(),l=e.data.model,d="",f=function(){o(function(){i=a.find(".k-dirty"),!angular.isUndefined(i)&&i.length>0&&(r=!0),a.empty(),d=angular.isUndefined(n)?s.indexOf("<span>")>-1?s:"<span>"+s+"</span>":n.indexOf("<span>")>-1?n:"<span>"+n+"</span>";var e=et(d,l,t);t.$on("$destroy",function(){m.callCleanAll(e),e=null}),e&&null!==e&&(r&&(a.prepend('<span class="k-dirty"></span>'),r=!1),e.appendTo(a)),a.hasClass("k-edit-cell")&&a.removeClass("k-edit-cell")})};t.$on("$destroy",function(){g.off("focusout",null,h),o(f)}),o(f)})}Xe(e)}});t.$on("$destroy",function(){d&&o.cancel(d)})}}}function se(t,i){if(!angular.isArray(t))return console.warn("Unable to transformDataTypeToColumn, columns are not an array."),t;for(var n=!1,a=0;a<t.length;a++){var r=t[a],o=de(r);if(e.isUndefined(o)||!o.format&&!o.schemaType)oe(t[a],i);else{n=!0,t[a].format=o.format,t[a].schemaType=o.schemaType,e.isUndefined(t[a].editorTemplate)||oe(t[a],i),e.isUndefined(t[a].editor)&&!e.isUndefined(o.editor)&&(t[a].editor=o.editor);var s=angular.copy(o.attributes),l=angular.copy(o.headerAttributes);t[a].attributes=ne(t[a].attributes,s),t[a].headerAttributes=ne(t[a].headerAttributes,l)}}return Be=n===!0,t}function le(e,t,i){return angular.forEach(e,function(e){if(e.filterTemplate){var n=e.filterTemplate,a=t.$parent.$new();e.filterable={ui:function(r){a.filterTimeout=o(function(){var o=r.attr("data-bind"),l="kendoFilterMenu.filterModel."+o.substring(o.indexOf(":")+1).trim(),d=angular.copy(n);d=angular.element(angular.element(d).attr("ng-model-input",l).attr("ng-model",l)),d=d.wrap('<form name="filterForm-'+l+'"></form>').parent().prop("outerHTML");var f=s(d)(a);f.scope().kendoFilterMenu||(f.scope().kendoFilterMenu=$(i.find(".k-grid-header").find('th[data-field="'+e.field+'"]')).data("kendoFilterMenu"));r.replaceWith(f);t.$on("$destroy",function(){m.callCleanAll(d),m.callCleanAll(f),d=null,f=null})},0),a.$on("$destroy",function(){a.filterTimeout&&a.filterTimeout.cancel&&a.filterTimeout.cancel()})}}}}),e}function de(t){var i;if(!e.isEmpty(t)&&!e.isUndefined(t.dataType)){var n=t.dataType.split(":"),a=Qe[n[0].toLowerCase()]||Qe.string;if(i=angular.copy(a),!e.isUndefined(i.precision)){var r=i.precision.valueOf(),o="false"===t.spinner;n[1]&&(r=n[1].valueOf()),i.format=a.format.substring(0,[a.format.length-1])+r+"}","number"===i.schemaType.type&&(i.editor=f.getNumberEditor(r,o))}if("datetime"===i.schemaType.type?i.editor=f.getDateTimeEditor(d):"time"===i.schemaType.type&&(i.editor=f.getTimeEditor(d)),!e.isUndefined(t.align)){var s=t.align.valueOf().toLowerCase();"right"===s?(i.attributes=Ge,i.headerAttributes=Ge):"left"===s?(i.attributes=Ke,i.headerAttributes=Ke):(i.attributes=Ye,i.headerAttributes=Ye)}e.isEmpty(t)||e.isUndefined(t.format)||(i.format=t.format)}return i}function fe(e){var t=null;if(angular.isUndefined(e)||null===e)return t;if(isNaN(e)){if(d.isValid(e)){var i=/\d{4}-\d{2}-\d{2}$/;e.trim().match(i)&&(e=e.replace(/-/g,"/")),t=new Date(e)}}else t=new Date(parseInt(e,10));return t}function ce(t){e.isUndefined(t)&&(t={}),e.isUndefined(t.model)&&(t.model={}),e.isUndefined(t.model.fields)&&(t.model.fields={})}function ue(t,n,a,r){var o=t||{};if(void 0===n&&console.warn("No columnMetadata provided, cannot merge in column dataTypes.."),ce(o),!e.isEmpty(n))for(var s=0;s<n.length;s++){var l=n[s];if(!e.isUndefined(l.field)){var f=l.field.toString(),c=l.schemaType;if(e.isUndefined(c)&&(c={},c.type="string"),e.isUndefined(o.model.fields[f])&&(o.model.fields[f]=c),e.isUndefined(c)||"date"!==o.model.fields[f].type&&"datetime"!==o.model.fields[f].type&&"time"!==o.model.fields[f].type||"date"!==l.dataType&&"datetime"!==l.dataType&&"time"!==l.dataType||(o.model.fields[f].parse=function(t){return!e.isUndefined(t)&&d.isValid(t)?Pe(t,"date"):t}),!e.isUndefined(l.validator)){a.scrollable&&console.warn("Warning - Validators are not supported in scrollable grids!Validator messages may not be in field of view");var u=i(l.validator.method);o.model.fields[f].validation=ge(u,l.validator.message,r)}}}}function pe(t,i){if(ce(t),!e.isEmpty(i))for(var n=0;n<i.length;n++){var a=i[n];if(!e.isUndefined(a.field)){var r=a.field.toString();e.isUndefined(a.schema)||($.extend(!0,a.schema,t.model.fields[r]),t.model.fields[r]=a.schema)}}}function ve(t,n,a,r){if(ce(t),!e.isEmpty(n))for(var o=0;o<n.length;o++){var s=n[o];if(!e.isUndefined(s.field)){var l=s.field.toString();if(!e.isUndefined(s.validator)){a.scrollable&&console.warn("Warning - Validators are not supported in scrollable grids!Validator messages may not be in field of view");var d=i(s.validator.method);e.isUndefined(t.model.fields[l])&&(t.model.fields[l]={}),t.model.fields[l].validation=ge(d,s.validator.message,r)}}}}function ge(t,i,n){var a={custom:function(a){var r=!0;if(e.isUndefined(i)||a.attr("data-custom-msg",i),r=t(a.val()),!r){var o=a.closest("tr");o.is(":last-child")&&n.scrollTop(100)}return a.kendoValidator({validateOnFocus:!1}),r}};return a}function me(e){return"row"===e.selectable&&e.onSelect?function(){for(var t=this.select(),i=[],n=0;n<t.length;n++){var a=angular.element(t[n]).scope().rowData;i.push(a)}e.selectedDataItems=i;var r=i.length>0?i[0]:null,o=this.items().index(t),s=o;this.dataSource.page()&&1!=this.dataSource.page()&&(s=(this.dataSource.page()-1)*this.dataSource.pageSize()+o),e.onSelect({selection:r,row:r,indexOnPage:o,indexInGrid:s}),"$apply"!==e.$root.$$phase&&"$digest"!==e.$root.$$phase&&e.$apply()}:"cell"===e.selectable&&e.onSelect?function(){for(var t=this.select(),i=[],n=0;n<t.length;n++)if(0==this.options.columns[t.index()].selectableField)this.clearSelection();else{var a={};a.cellValue=t.text(),a.cellIndex=t.index(),a.columnName=this.options.columns[t.index()].field,a.rowData=this.dataItem(t.parent("tr")),i.push(a)}e.selectedDataItems=i;var r=i.length>0?i[0]:null,o=t.index(),s=o;e.onSelect({selection:r,cellData:r,indexOnPage:o,indexInGrid:s}),"$apply"!==e.$root.$$phase&&"$digest"!==e.$root.$$phase&&e.$apply()}:void 0}function he(e){"multiple"===e.selectable&&e.onSelect&&e.gridLoaded===!0&&(e.onSelect({rows:e.selection.rows,all:e.selection.all,currentRow:e.selection.currentRow,selection:e.selection,action:e.action,indexOnPage:e.selection.indexOnPage,indexInGrid:e.selection.indexInGrid}),"$apply"!==e.$root.$$phase&&"$digest"!==e.$root.$$phase&&e.$apply())}function be(e,t){e.columns=t.fisColumns;var n;try{e.columns=i(t.fisColumns)(e.$parent),e.columns.then&&(n=e.$parent[t.fisColumns],n&&n.then&&n.then(function(t){e.columns=t},function(t){b.handleError(e,t,null,"fisColumns")}))}catch(i){if(t.fisColumns&&t.fisColumns.indexOf(",")===-1)return void b.handleError(e,i,null,"fisColumns")}return n}function we(e,t){e.detailColumns=t.fisDetailColumns;var n;try{e.detailColumns=i(t.fisDetailColumns)(e.$parent),e.detailColumns||(n=e.$parent[t.fisDetailColumns],n&&n.then&&n.then(function(t){e.detailColumns=t},function(t){b.handleError(e,t,null,"fisDetailColumns")}))}catch(i){if(t.fisDetailColumns&&t.fisDetailColumns.indexOf(",")===-1)return void b.handleError(e,i,null,"fisDetailColumns")}return n}function ke(e){var t=null;return isNaN(e.skip)||(t=e.skip),t}function De(e){var t=null;return isNaN(e.take)||(t=e.take),t}function ye(e){var t,i;if(e.sort&&e.sort.length)for(t=[],i=0;i<e.sort.length;i++)t[i]=e.sort[i].field+","+e.sort[i].dir;return t}function $e(e){var t,i;if(e.sort&&e.sort.length)for(i="",t=0;t<e.sort.length;t++)""!==i&&(i+=","),i=i+e.sort[t].field+" "+e.sort[t].dir;return i}function Se(e,t){var i=t.fisSchema,n={},a=Te(e,i);if(angular.isString(a)){var r=a.split(","),o=t.fisId;o=o||1!==r.length?"id":r[0],n={model:{id:o},data:"data",total:"total"}}else angular.isObject(a)?n=a:angular.isFunction(a)&&(n=a());return n}function Te(e,t){try{var n=i(t)(e.$parent);return n||(n=t),n}catch(e){return t}}function Ce(t,i){var n,a,r,o=["create","cancel","save"],s=[];if(r=Te(t,i),angular.isString(r))for(n=r.split(","),a=0;a<n.length;a++)s.push(n[a]);else angular.isArray(r)?angular.forEach(r,function(e){s.push(e)}):angular.isFunction(r)&&(s=r());return t.editable||(s=e.reject(s,function(e){var t=angular.isString(e)?e:e.name;return o.indexOf(t)!==-1})),s}function xe(e,t,n,a,r){var o=Fe(a,function(t,a,o){var s,l,d=o.match(r);return d&&(s=d[1].charAt(0).toLowerCase()+d[1].slice(1),l=i(a),t[s]=function(t){l(n.$parent,{kendoEvent:t,kendo:e})}),t},{});angular.extend(t,o)}function Fe(t,i,n){return e.each(t,function(e,t){n=i.call(e,n,e,t)}),n}function Oe(e,t,i,n,a){var r=n[a];n[a]=function(n){r&&r(n),Ue(e,t,i)}}function Ue(t,i,n){var a,r=1;i&&i.columns&&"function"==typeof i.columns?a=i.columns():i&&i.columns&&(a=i.columns),t.find("table").each(function(t,o){var s=$(o).find(".k-input"),l=n,d=$(s).closest("tr"),f=$("tr",o.tbody).index(d);f&&(l=l+"row_"+f),s.each(function(t,o){e.isUndefined(a[t].field)?n?($(o).attr("fisid",l+"_"+r),r++):u.generateUniqueId(i,angular.element(o),{},"grid_td"):$(o).attr("fisid",l+"_"+a[t].field)});var c=$(o).find(".k-button");c.each(function(e,t){n?(angular.element(t).scope().rowData,$(t).attr("fisid",n+"_button"+r),r++):u.generateUniqueId(i,angular.element(t),{},"grid_td")})})}function Me(e,t){if(e){var i;i=t.isDetail||!t.hasDetail?e.element.find("tr.fis-grid-row"):e.element.find("tr.k-master-row"),i.removeClass("k-state-selected"),i.find(".select-row").prop("checked",!1),t.selection.rows.length=0,t.selection.all=!1,t.selection.currentRow=null;var n=e.element.find("th .select-all");n.prop("indeterminate",!1),t.gridConfig.deselectQuitsSelectAll===!1&&(t.deselectedRowIds={})}}function Ie(e,t,n){var a=i(t.fisGrid).assign;a&&(n.ready=!0,a(e.$parent,n)),n.isEmpty=function(){return!(0!==n.dataSource.data().length)},n.setSelectable=e.setSelectable,n.setSelected=e.setSelected,n.setSelectableUID=e.setSelectableUID,n.expandAll=e.expandAll,n.collapseAll=e.collapseAll}function Pe(t,i){var n,a;return e.isDate(t)||(a=fe(t),n=angular.isDate(a)),"date"===i?n?a:t:n?kendo.toString(a,"u"):t}function _e(t,i,n){if("T"===fis.initParams().appStage){var a=o(function(){function a(n){var a=n.find(".k-pager-info");u.generateUniqueIdForce(t,a,i,o+"_pagerInfoLabel");var r=n.find(".k-dropdown span.k-input");u.generateUniqueIdForce(t,r,i,o+"_current_per_page");var s=n.find(".k-dropdown select");u.generateUniqueIdForce(t,s,i,o+"_select_per_page");var l=s.find("option");e.each(l,function(e){e=angular.element(e);var n=e.text().trim();u.generateUniqueIdForce(t,e,i,o+"_per_page_option_"+n)});var d=s.data("kendoDropDownList");if(d){var f=d.popup.element;u.generateUniqueIdForce(t,f,i,o+"_select_per_page_popup");var c=f.find("li");e.each(c,function(e){e=angular.element(e);var n=e.text().trim();u.generateUniqueIdForce(t,e,i,o+"_per_page_popup_option_"+n)})}}var r=$(q(t,n)),o=b.getGridName(i,t,n),s=0;n.pager&&("both"!==t.pagerPosition&&"bottom"!==t.pagerPosition||a(n.pager.element),"bottom"!==t.pagerPosition&&t.kendoPager&&a(t.kendoPager.element)),e.each(r,function(e){var n=angular.element(e);if(jQuery.isNumeric(n.text())){var a=n.closest("tr"),r=a.attr("class");if(r&&r.indexOf("k-detail-row")!=-1){var l=a.prev(),d=angular.element(l).scope().rowData,f=t.getIdee(d),c=d[f];u.generateIdWithStaticSeed(t,n,i,o+"_grid_pager","_detail-"+c,"elem-"+n.text())}else{var p="elem-"+n.text();1==n.closest(".k-grid-pager").length&&(p="bottom-"+p),u.generateIdWithStaticSeed(t,n,i,o+"_grid_pager",null,p)}}else{var p="grid_pager_buttons_"+s++;u.generateIdWithStaticSeed(t,n,i,o+"grid_pager_buttons",null,p)}}),e.each(n.element.find(".k-header ul.dropdown-menu li"),function(e){var n=angular.element(e).find("a");"selectAllData"===n.attr("method")?u.generateUniqueIdForce(t,n,i,o+"_select_all"):"selectAllPage"===n.attr("method")&&u.generateUniqueIdForce(t,n,i,o+"_select_page")})},0);t.$on("$destroy",function(){a&&o.cancel(a)})}}function Ve(e,t,i){t.filterable={},t.filterable.operators={},t.filterable.operators=L(i),t.filterable.extra=A(i),t.filterable.messages={and:r.translate(["fisGrid","and"],"And"),or:r.translate(["fisGrid","or"],"Or"),filter:r.translate(["fisGrid","filter"],"Filter"),clear:r.translate(["fisGrid","clear"],"Clear"),info:r.translate(["fisGrid","info"],"Show items with value that:"),isTrue:r.translate(["fisGrid","isTrue"],"is true"),isFalse:r.translate(["fisGrid","isFalse"],"is false")},t.filterMenuInit=function(t){if(t.field&&t.sender.columns){var i=t.field;angular.forEach(t.sender.columns,function(e){"boolean"==e.dataType&&e.field==i&&t.container.find("label").addClass("fis-filter-menu-item-boolean")})}"T"===fis.initParams().appStage&&D(t,e)}}function Le(e,t,i,n,a){t[n].fileName=i+" Export"+a,void 0!=e.exportFileName&&""!=e.exportFileName&&null!=e.exportFileName&&e.exportFileName.length>0&&(e.exportFileName=e.exportFileName.replace(/\.(.*)$/,""),/[A-Za-z0-9]/.test(e.exportFileName)?t[n].fileName=e.exportFileName+a:console.error("Invalid export file name: ",e.exportFileName))}function Ae(e,t,i,n){var a=b.getGridName(i,e,n),r=!1;t.excel={},Le(e,t,a,"excel",".xlsx"),t.excelExport=function(t){if(e.exportHiddenColumns===!0||"true"===e.exportHiddenColumns){var i=Ee(e.columns);r?(Ne(i,!0,t),r=!1):(Ne(i,!1,t),t.preventDefault(),r=!0,setTimeout(function(){t.sender.saveAsExcel()}))}},e.excelAllPages?t.excel.allPages=e.excelAllPages:t.excel.allPages=!1,t.excel.filterable=!!e.filterable,e.$parent.$watch(i.fisExcelAllPages,function(t,i){t!==i&&e.$broadcast("fisReinit")})}function Ne(e,t,i){if(t)for(var n=0;n<e.length;n++)i.sender.hideColumn(e[n]);else for(var n=0;n<e.length;n++)i.sender.showColumn(e[n])}function Ee(e){for(var t=[],i=0;i<e.length;i++)"true"!==e[i].hidden&&e[i].hidden!==!0||t.push(i);return t}function je(e,t,i,n){var a=b.getGridName(i,e,n);t.pdf={},Le(e,t,a,"pdf",".pdf"),e.pdfAllPages?t.pdf.allPages=e.pdfAllPages:t.pdf.allPages=!1;var r=!1;t.pdfExport=function(t){if(e.exportHiddenColumns===!0||"true"===e.exportHiddenColumns){var i=Ee(e.columns);r?t.promise.done(function(){Ne(i,!0,t),r=!1}):(Ne(i,!1,t),t.preventDefault(),r=!0,setTimeout(function(){t.sender.saveAsPDF()}))}},e.$parent.$watch(i.fisPdfAllPages,function(t,i){t!==i&&e.$broadcast("fisReinit")})}function ze(t){if(!e.isUndefined(t))for(var i=t.find(".fis-grid-filter-cell"),n=0;n<i.length;n++){var a=i.eq(n);"none"!==a.css("display")&&qe(a,a.outerWidth())}}function qe(t,i){var n=i-20;n<50&&(n=50);var a=t.find(".k-autocomplete");if(a.length>0){a.removeClass("k-header");var r=a.scope(),o=-15;e.isUndefined(r)||r.resize(n+o)}else{var s=t.find("span.k-widget");if(s.removeClass("k-header"),s.length>0){var o=0,l=s.hasClass("k-numerictextbox");if(l)o=3,s.find(".k-numeric-wrap").css("width",n+o),s.find("input").css("width",n+o);else{var d=s.hasClass("k-combobox");if(d){o=-16;var f=s.scope();e.isUndefined(f)||f.resize(n+o)}else{var c=s.hasClass("k-dropdown");if(c){o=0;var u=s.scope();e.isUndefined(u)||u.resize(n+o)}else{var p=s.hasClass("k-datepicker");if(p){o=3;var v=s.scope();e.isUndefined(v)||v.resize(n+o)}}}}s.css("width",n+o)}else{var g=t.find("input"),o=-16;g.length>0?g.css("width",n+o):t.css("width",n+o)}}}function We(t,i){var n=!1;return e.isUndefined(i.fisNoCheckbox)?e.isUndefined(t.gridConfig.showNoCheckbox)||(n=t.gridConfig.showNoCheckbox):n=i.fisNoCheckbox,n}function Re(e,t,i){i&&(e.selection.indexOnPage=angular.element(t.items()).index(i)),t.dataSource.page()&&1!=t.dataSource.page()?e.selection.indexInGrid=(t.dataSource.page()-1)*t.dataSource.pageSize()+e.selection.indexOnPage:e.selection.indexInGrid=e.selection.indexOnPage}var He=t("uncamelcase"),Be=!1,Ge={class:"datatype-align-right"},Ke={class:"datatype-align-left"},Ye={class:"datatype-align-center"},Qe={integer:{format:"{0:n}",precision:0,schemaType:{type:"number"},attributes:Ge,headerAttributes:Ge},number:{format:"{0:n}",precision:0,schemaType:{type:"number"},attributes:Ge,headerAttributes:Ge},double:{format:"{0:n}",precision:2,schemaType:{type:"number"},attributes:Ge,headerAttributes:Ge},string:{format:"{0}",schemaType:{type:"string"},attributes:Ke,headerAttributes:Ke},currency:{format:"{0:c}",precision:2,schemaType:{type:"number"},attributes:Ge,headerAttributes:Ge},percentage:{format:"{0:p}",precision:2,schemaType:{type:"number"},attributes:Ge,headerAttributes:Ge},date:{format:"{0:MM/dd/yyyy}",schemaType:{type:"date"},attributes:Ge,headerAttributes:Ge},datetime:{format:"{0:MM/dd/yyyy h:mm:ss tt}",schemaType:{type:"datetime"},attributes:Ge,headerAttributes:Ge},time:{format:"{0:h:mm:ss tt}",schemaType:{type:"time"},attributes:Ge,headerAttributes:Ge},boolean:{schemaType:{type:"boolean"}}},Je={};y(),l.subscribe("fisLocaleChanged",function(t){e.isUndefined(t)||y()});var Ze=function(e){var t=e.find(".fis-input:visible");return 0===t.length&&(t=e.find("input:visible")),t.length>0?$(t[t.length-1]):null},Xe=function(e){return o(function(){var t=Ze(e),i=e.find("[fis-select-field], [fis-number-field]");if(i.length>0)var n,a=k(function(){n=e.find(".k-widget"),n.length>0&&(k.cancel(a),void 0===i.attr("fis-select-field")?(t=Ze($(n[0])),t&&t.trigger("focus")):$(n[0]).trigger("focus"))});else t&&t.trigger("focus")})},et=function(e,t,i){try{angular.isFunction(e)&&(e=e(t));var n=i.$parent.$new();n.rowData=t;var a=s(e)(n);return a}catch(i){return console.error("Cell compilation error: ",i,t,e),null}};return{restrict:"AE",scope:{sortable:"@fisSortable",sort:"@fisSort",filterable:"@fisFilterable",columnMenu:"<fisColumnMenu",pageSize:"<fisPageSize",pageSizes:"@fisPageSizes",scrollable:"@fisScrollable",mode:"@fisMode",selectable:"@fisSelectable",selectableCriteria:"@fisSelectableCriteria",rowId:"@fisRowId",editable:"@fisEditable",onSelect:"&fisOnSelect",pagerPosition:"@fisPagerPosition",detailGridRefresh:"<?fisDetailGridRefresh",onEditFn:"&fisOnEdit",onSaveFn:"&fisOnSave",onCancelFn:"&fisOnCancel",onSaveChangesFn:"&fisOnSaveChanges",onPaginationFn:"&fisOnPagination",onSortingFn:"&fisOnSorting",onFilteringFn:"&fisOnFiltering",onColumnShowFn:"&fisOnColumnShow",onColumnHideFn:"&fisOnColumnHide",keepPageOnRefresh:"@fisKeepPageOnRefresh",createSuccessFn:"&fisDataCreateSuccess",createFailFn:"&fisDataCreateFail",updateSuccessFn:"&fisDataUpdateSuccess",updateFailFn:"&fisDataUpdateFail",deleteSuccessFn:"&fisDataDeleteSuccess",deleteFailFn:"&fisDataDeleteFail",filters:"<fisFilters",liveFiltering:"<fisLiveFiltering",uniqueIdSeed:"@fisUniqueIdSeed",onErrorFn:"&fisOnError",liveFilteringApplyButton:"<fisLiveFilteringApplyButton",deselectCell:"<fisDeselectCell",excelAllPages:"<fisExcelAllPages",pdfAllPages:"<fisPdfAllPages",exportFileName:"@fisExportFileName",group:"<fisGroup",exportHiddenColumns:"<fisExportHiddenColumns",rowAttributes:"<?fisRowAttributes"},require:["fisData","?fisRefresh","?fisReinit","?^form"],replace:!0,template:'<div class="fis-grid">\t                  <div class="fis-grid-pager-bar">\t                      <div></div>\t                  </div>\t                  <div></div>\t              </div>',link:function(n,r,d,f){function v(){var e=O.find(".k-grid-pager");e.remove(),e=null}function g(t,i,a){t=t.charAt(0).toUpperCase()+t.slice(1);var r=d["fisData"+t];e.isUndefined(r)&&(r=b.generateResourceURL(t,d,_,n)),b.generateURLParams(t,d);var o=p.copyProperties(d,"fisData"+t+"Param"),s={};return s[a]={isArray:i,method:b.getCallType(t,d)},c(r,o,s)}function k(e){if(e){var t=z.addBeforeFetchListener(function(){if(""===r.attr("fis-detail-grid"))kendo.ui.progress(r.parents("tbody").find(".k-master-row").first(),!0);else{var e=r.find(".k-grid-content");e.length>0&&!isNaN(parseInt(e[0].style.height,10))&&kendo.ui.progress(r,!1),kendo.ui.progress(r,!0)}});n.$on("$destroy",t);var i=z.addAfterFetchListener(function(){""===r.attr("fis-detail-grid")?kendo.ui.progress(r.parents("tbody").find(".k-master-row").first(),!1):kendo.ui.progress(r,!1)});n.$on("$destroy",i)}}function D(t,i){var a=r.find("div.k-grid-content");if(e.isNaN(t)||e.isUndefined(t))return a.css("height","auto"),"auto";var o=r.find("div.k-grid-header"),s=Number(t)-o.outerHeight();if(!n.scrollable&&("bottom"===n.$parent.pagerPosition||"both"===n.$parent.pagerPosition)){var d=r.find("div.k-grid-pager");s-=d.outerHeight()}if(i===!0&&!n.scrollable&&("top"===n.$parent.pagerPosition||"both"===n.$parent.pagerPosition)){var f=r.find(".fis-grid-pager-bar").outerHeight();s-=f}return r.find(".k-grid-toolbar").length>0&&(s-=r.find(".k-grid-toolbar").outerHeight()),0!==s&&0!==f&&(a.css("height",s+"px"),l.publish("heightAdjusted",!0)),n.fisResizeToParent&&a.css("overflow-y","auto"),s}function y(){if(U=M(n,d,O),P=N(n,d,U,O),P.serverPaging&&U.pageable){var o=z.getSchema();o.data||(o.data=K&&!Be?"results":"data"),o.total||(o.total=K&&!Be?"__count":"total")}if((U.editable||Be)&&(P.schema.data||(P.schema.data=K?"results":"data"),P.schema.total||(P.schema.total=K?"__count":"total")),Be!==!0||e.isUndefined(d.fisColumns)||ue(P.schema,U.columns,n,O),pe(P.schema,U.columns),ve(P.schema,U.columns,n,O),!e.isUndefined(d.fisInitialPage)){P.page=parseInt(d.fisInitialPage);var f=z.addAfterFetchListener(te);n.$on("$destroy",f)}var c={};c.columns=n.columns,!e.isUndefined(d.fisOnError)&&e.isFunction(n.onErrorFn)&&(c.errorCb=n.onErrorFn);var u={crit:t("convertKendoFiltersToCriteria"),offset:ke,limit:De,sort:K?$e:ye};K&&o.total&&(u.$inlinecount=function(){return"allpages"}),_=a.createListDataSource(z.fetchData,u,P,c),n.removeActiveCell=function(){r.find("[id=aria-active-cell]")},n.hasDetail=!e.isUndefined(d.fisDetailColumns),d.fisDetailColumns&&(we(n,d),n.detailGridFirstExpandEventFlag={},U.detailInit=function(t){var a={row:t.data,gridId:d.fisGrid};l.publish("fisDetailGridInit",a);var r,o,f="";if(!e.isUndefined(n.detailGridRefresh)){n.detailGridRefresh[t.masterRow.scope().$id]={},n.detailGridFirstExpandEventFlag[t.masterRow.scope().$id]=!0;var c=d.fisDetailGridRefresh+"."+t.masterRow.scope().$id;f='fis-refresh="'+c+'" \n'}if(d.fisDetailData&&d.fisDetailIdColumns)for(var u=i(d.fisDetailIdColumns)(n.$parent),p=0;p<u.length;p++){var v=u[p].name,g=t.data[u[p].value];g=encodeURIComponent(g),o=o?o+v+"="+g+"&":v+"="+g+"&"}else t.data[d.fisDetailData]?(r=t.data[d.fisDetailData]instanceof kendo.data.ObservableArray?t.data[d.fisDetailData].toJSON():t.data[d.fisDetailData],r=JSON.stringify(r),angular.isDefined(r)&&(r=r.replace(/"/g,"'"))):r=d.fisDetailData;var m=["<div fis-grid fis-detail-grid",o?' fis-data="'+d.fisDetailData+"?"+o+'"':"",r?' fis-data="'+r+'"':"",d.fisPagerPosition?' fis-pager-position="'+d.fisPagerPosition+'"':"",d.fisDetailPageSize?' fis-page-size="'+d.fisDetailPageSize+'"':"",d.fisDetailSelectable?' fis-selectable="'+d.fisDetailSelectable+'"':"",d.fisDetailSelectableCriteria?' fis-selectable-criteria="'+d.fisDetailSelectableCriteria+'"':"",d.fisDetailRowId?' fis-row-id="'+d.fisDetailRowId+'"':"",d.fisDetailOnSelect?' fis-on-select="'+d.fisDetailOnSelect+'"':"",d.fisDetailOnPagination?' fis-on-pagination="'+d.fisDetailOnPagination+'"':"",d.fisDetailToolbar?' fis-toolbar="'+d.fisDetailToolbar+'"':"",d.fisDetailSchema?' fis-schema="'+d.fisDetailSchema+'"':"",d.fisDetailEditable?' fis-editable="'+d.fisDetailEditable+'"':"",d.fisDetailSort?' fis-sort="'+d.fisDetailSort+'"':"",d.fisDetailSortable?' fis-sortable="'+d.fisDetailSortable+'"':"",d.fisDetailColumns?' fis-columns="'+d.fisDetailColumns+'"':"",d.fisDetailRefresh?' fis-refresh="'+d.fisDetailRefresh+'"':"",d.fisDetailRowAttributes?' fis-row-attributes="'+d.fisDetailRowAttributes+'"':"","local"===d.fisDetailMode?' fis-mode="local"':' fis-mode="delegate"',"></div>"].join(""),h=t.detailCell.append(m);s(h)(n.$parent)},U.detailExpand=function(t){var i,a=t.masterRow.scope().$id;e.isUndefined(d.fisDetailGridRefresh)?(i={detailGridId:a,refreshAttrName:d.fisDetailGridRefresh,firstExpand:n.detailGridFirstExpandEventFlag[a]},l.publish("fisDetailGridExpanded",i)):(n.detailGridFirstExpandEventFlag[a]===!1?(i={detailGridId:a,refreshAttrName:d.fisDetailGridRefresh,firstExpand:n.detailGridFirstExpandEventFlag[a]},l.publish("fisDetailGridExpanded",i)):(i={detailGridId:a,refreshAttrName:d.fisDetailGridRefresh,firstExpand:n.detailGridFirstExpandEventFlag[a]},l.publish("fisDetailGridExpanded",i),n.detailGridFirstExpandEventFlag[a]=!1),n.$apply())},U.detailCollapse=function(e){var t=e.masterRow.scope().$id,i={detailGridId:t,refreshAttrName:d.fisDetailGridRefresh};l.publish("fisDetailGridCollapsed",i)}),d.fisLiveFiltering&&"true"===d.fisLiveFiltering&&(e.isUndefined(U.columns)||U.columns.push({headerTemplate:"",template:"",reorderable:!1,width:30+("true"===d.fisLiveFilteringApplyButton?30:0)}));var p={},v={},m={},h=!1;e.isUndefined(d.fisBatch)||"true"!==d.fisBatch||(h=!0);var w=function(e,t,i){i({data:e,status:e.status})},k=function(e,t,i){var n=O.find("tr.k-grid-edit-row");if(0===n.length&&(n=O.find("td.k-dirty-cell").closest("tr")),T(n),i){var a=O.data("kendoGrid");a.cancelChanges()}if(t){var r={responseText:e.data};t({data:r,status:"error"})}},D=function(t){e.each(_.options.schema.model.fields,function(i,n){e.isUndefined(i.editable)||i.editable!==!1||delete t[n]})},y=function(e,t,i,a,r,o,s,l){n.$$phase||n.$root.$$phase?$(e,t,i,a,r,o,s,l):n.$apply(function(){$(e,t,i,a,r,o,s,l)})},$=function(e,t,i,n,a,r,o,s){n?I(e,t,i,a.data.models,a,r,o,s):I(e,t,i,a.data,a,r,o,s)},S=function(e){delete e.$promise,delete e.$resolved},C=function(e){angular.isArray(e)?e.forEach(function(e){S(e)}):S(e)},x=function(e){e&&(angular.isArray(e)?angular.forEach(e,function(e){e&&delete e._dirtyFields}):delete e._dirtyFields);
},I=function(e,t,i,n,a,r,o,s){if(d.ngModel)w(n,h,r),a.success({data:n});else{var l,f=e[i];"DELETE"===b.getCallType(t,d)?l=f({},n):(x(n),l=f(n)),l.$promise.then(function(e){if(C(e),w(e,h,r),e){var t={};e.data?t=e:t.data=e,a.success(t)}else a.success()},function(e){k(e,o,s),a.error(e)})}};p=function(t){e.isUndefined(t.data)||(h?e.each(t.data.models,function(e){D(e)}):D(t.data));var i=g("Create",h,"save");y(i,"Create","save",h,t,n.createSuccessFn,n.createFailFn,!1)},v=function(e){var t=g("Update",h,"save");y(t,"Update","save",h,e,n.updateSuccessFn,n.updateFailFn,!1)},m=function(e){var t=g("Delete",h,"delete");y(t,"Delete","delete",h,e,n.deleteSuccessFn,n.deleteFailFn,!0)},_.transport.create=p,_.transport.update=v,_.transport.destroy=m,F(),n.gridLoaded=!0}function S(e,t,i,n){n.thead.append(s(e)(t.$parent))}function x(e,t){var i=e.find(".k-grid-header"),n=$(t.thead).find("tr")[0],a=parseFloat($(n).height()),r=$(t.thead).find("tr")[1],o=parseFloat($(r).height());$(r).addClass("k-filter-row");var s=i.find('[class$="-underlay"]');2!==s.length&&(s.remove(),i.append('<div class="k-grid-column-header-underlay"></div>'),i.append('<div class="k-grid-column-filter-underlay"></div>')),i.find(".k-grid-column-header-underlay").height(a),i.find(".k-grid-column-filter-underlay").height(o).css("top",a),$(r).find("td").css("text-overflow","inherit")}function F(){e.isUndefined(d.fisSchemaColumns)&&e.isUndefined(d.fisSchemaColumnsDefault)?(oe(),Ie(n,d,V)):_.read();var t=o(function(){A=r.attr("style"),A&&(O.attr("style",A),r.attr("style",""));var t=r.find("div.k-grid-content");if(n.scrollable||d.fisHeight||"true"===d.fisResizeToParent||t.addClass("fis-overflow-y-hidden"),e.isUndefined(d.fisHeight)&&"true"!==d.fisResizeToParent){var i=r.find(".k-grid-header");i.css("padding-right","0px")}r.find(".k-grid-header table").css("maxWidth","8000px"),r.find(".k-grid-content table").css("maxWidth","8000px");var a=r.find(".k-grid-header");if(a.css("padding-right","0px"),"true"!==d.fisResizeToParent&&D(d.fisHeight),"true"==d.fisScrollable&&V.dataSource.data()&&0==V.dataSource.data().length){t.css("padding-right","0px");var o=O.find(".k-grid-content-expander");parseFloat(o.width())<=t.width()&&o.removeClass("k-grid-content-expander")}},0);n.$on("$destroy",function(){t&&o.cancel(t)})}var O,U,P,_,V,L,A,E,j=be(n,d);n.liveFilterExists=!1;var z=f[0],q=f[1],R=f[2];n.formCtrl=f[3];var B,K="odatav3"===d.fisAdaptor||"odatav3"===w.dataSourceAdaptor;angular.element(h);void 0!==d.fisContextMenu&&(B=r.parents().find('div[fis-name="'+d.fisContextMenu+'"]'),B.hide()),n.gridConfig={showLoadingIndicator:!0},angular.isDefined(w.widgets)&&(n.gridConfig=e.extend(n.gridConfig,w.widgets.fisGrid)),k(n.gridConfig.showLoadingIndicator),"multiple"===n.selectable?n.selection={rows:[],all:!1,id:n.$id,action:"deselect"}:n.selectedDataItems=[],n.scrollable=n.scrollable&&"true"===n.scrollable,n.scrollable||(n.$parent.pagerPosition="undefined"==typeof d.fisPagerPosition||"undefined"===d.fisPagerPosition?"top":d.fisPagerPosition.toLowerCase()),n.pageSize=n.pageSize<0?0:n.pageSize,n.pageable=!!n.pageSize,n.evaluatedPageSizes=i(n.pageSizes)(n.$parent),n.liveFilterCriteria={},O=r.find(":nth-child(2)");var Y=function(){_.read(),"multiple"===n.selectable&&Me(V,n)},Q=function(e){var t=angular.copy(e);return delete t.$promise,delete t.$resolved,delete t.data,t},J=function(t){var a=d.fisSchemaColumns,o=!1,s=Q(t);if(!e.isEqual(E,s)){if(E=s,!e.isUndefined(d.fisSchemaColumns)||!e.isUndefined(d.fisSchemaColumnsDefault)){o=!0,!e.isUndefined(d.fisSchemaColumnsDefault)&&e.isUndefined(d.fisSchemaColumns)&&(a=d.fisSchemaColumnsDefault);var l=t[a];if(n.liveFiltering&&!e.isUndefined(l)){var f={headerTemplate:"",template:"",reorderable:!1,width:30+("true"===n.liveFilteringApplyButton?30:0)};l.push(f)}var c=G(l,d,n);if(U.columns=c,e.isUndefined(l))return void b.handleError(n,'No default "columns" provided',null,"fisColumns");if(le(c,n,r),!n.filterable&&e.find(c,function(e){return!!e.filterTemplate})&&n.liveFiltering!==!0&&(Ve(n,U,d),n.filterable="true"),"multiple"===n.selectable){var u=We(n,d);if(("false"===u||u===!1)&&angular.isArray(c)){var p={width:40,reorderable:!1,headerTemplate:'<input type="checkbox" ng-model="selection.all" class="select-all" fis-unique-id="select-all-checkbox"/>',template:'<input type="checkbox" class="select-row" ng-disabled="isRowSelectDisabled(rowData)" ng-click="selectRow($event, rowData)"/>'};angular.merge(p,Je),c.splice(0,0,p)}}if(Be===!0){P.schema||(P.schema={}),ue(P.schema,U.columns,n,O),_.reader.model=kendo.data.Model.define({fields:P.schema.model.fields}),_.reader.init(P.schema);var v=_.options.getAdditionalOptions();e.isUndefined(v)&&(v={}),v.columns=U.columns,_.options.setAdditionalOptions(v)}pe(P.schema,U.columns),ve(P.schema,U.columns,n)}var g=d.fisSchemaPageSize?d.fisSchemaPageSize:"pageSize",m=t[g];m&&(o=!0,_._pageSize=m,_._take=m,n.pageable=!!m,_._page=1);var h=d.fisSchemaSort?d.fisSchemaSort:"sort",w=t[h];if(w){if(o=!0,_._sort=w,!n.sortable){var k="single";angular.isArray(w)&&w.length>1&&(k="multiple"),U.sortable={mode:k,allowUnsort:"multiple"===k}}var D=i(d.fisSort);D.assign&&D.assign(n.$parent,w)}var y=d.fisSchemaFilters?d.fisSchemaFilters:"filters",$=t[y];if($){o=!0;var S={};b.getGridFilterObject($,S,d),_._filter=S,n.filterable||n.liveFiltering||Ve(n,U,d);var T=i(d.fisFilters);T.assign&&T.assign(n.$parent,$)}var C=d.fisSchemaPageSizes?d.fisSchemaPageSizes:"pageSizes",x=t[C];x&&(o=!0,n.evaluatedPageSizes=x);var F=d.fisSchemaGroup?d.fisSchemaGroup:"group",M=t[F];M&&_.group(M);var I=d.fisSchemaRowAttributes?d.fisSchemaRowAttributes:"rowsAttributes",L=t[I];L&&(n.rowAttributes=L),o&&(oe(),V.refresh(),Ie(n,d,V))}},Z=z.addDataChangedListener(Y),X=z.addAfterFetchListener(J);n.$on("$destroy",X),n.$on("$destroy",Z),n.isRowSelectable=function(t){if(!e.isUndefined(t)){if(e.isUndefined(d.fisSelectableCriteria))return!0;var i=t[d.fisSelectableCriteria];return e.isBoolean(i)||console.warn("Error: "+d.fisSelectableCriteria+" data field has to be a boolean type"),i}},n.setRowSelectionStatus=function(t,i){var a=d.fisSelectableCriteria;(e.isUndefined(t[a])||1==t[a])&&(i?(n.addToRowSelection(t),n.markSelectedFromSelection(t),n.selection.action="select"):(n.removeFromRowSelection(t),n.selection.action="deselect"))};var ee;n.selectRow=function(t){var i=angular.element(t.target).is(":checked"),a=angular.element(t.target).closest("tr"),r=V.element.find("th .select-all").first(),o=a.scope().rowData;n.selection.currentRow=o;var s=_.view().indexOf(n.selection.currentRow);if(t.shiftKey&&!e.isUndefined(ee)&&ee!==s){var l=ee,d=s;l>d&&(d=[l,l=d][0]);for(var f=l,c=d;f<=c;f++)n.setRowSelectionStatus(_.view()[f],i),I(n,_,i,r)}else n.setRowSelectionStatus(o,i),I(n,_,i,r);Re(n,V,a),ee=s,he(n)},n.getIdee=function(t){var i="id";return e.isUndefined(d.fisRowId)||"undefined"===d.fisRowId||(i=d.fisRowId),e.isUndefined(t[i])||null===t[i]?void b.handleError(n,"Missing row.uid for row selection - have you forgotten to define a row-id?",null,"fisRowId"):i},n.addToRowSelection=function(t){var i=n.getIdee(t),a=!1;e.each(n.selection.rows,function(e){t[i]===e[i]&&(a=!0)}),n.gridConfig.deselectQuitsSelectAll===!1&&e.isObject(n.deselectedRowIds)&&delete n.deselectedRowIds[t[i]],a||n.selection.rows.push(t)},n.markSelectedFromSelection=function(t){var i=n.getIdee(t),a=!1;if(e.each(n.selection.rows,function(e){t[i]===e[i]&&(a=!0)}),a){var r=V.table.find("tr[data-uid="+t.uid+"]");V.select(r),r.find(".select-row").prop("checked",!0)}},n.removeFromRowSelection=function(t){var i=n.getIdee(t),a=!1;e.each(n.selection.rows,function(r,o){if(e.isObject(r)&&t[i]===r[i]){n.selection.rows.splice(o,1);var s=V.table.find("tr[data-uid="+t.uid+"]");s.removeClass("k-state-selected"),s.find(".select-row").prop("checked",!1),a=!0}}),n.gridConfig.deselectQuitsSelectAll===!1&&e.isObject(n.deselectedRowIds)&&(n.deselectedRowIds[t[i]]=!0),a||console.warn("removeFromRowSelection has not found row: "+t[i])},n.expandAll=function(){if(!n.isDetail){var t=V.element.find("tr.k-master-row"),i=angular.element(t);e.each(i,function(e){V.expandRow(e)})}},n.setSelected=function(t,i,a){var r=!1,o=V.dataSource.view(),s=0,l=-1;e.each(o,function(o){var d=o[i];e.isUndefined(d)||e.contains(t,d)&&(n.setRowSelectionStatus(o,a),r=!0,l=s),s++}),n.selection.indexOnPage=l,Re(n,V,null),r&&he(n)},n.collapseAll=function(){if(!n.isDetail){var t=V.element.find("tr.k-master-row"),i=angular.element(t);e.each(i,function(e){V.collapseRow(e)})}},n.updateSelectionOnEdit=function(){"$apply"!==n.$root.$$phase&&"$digest"!==n.$root.$$phase&&n.$apply()},n.isSelectAll=!1,n.selectAll=function(t,i){var a,r=n.gridConfig.selectThisPage;if(r&&r===!0)var o=!1;else var o=!0;var s=V.element.find("th .select-all").first();if(n.selection.currentRow=null,n.selection.indexOnPage=-1,n.selection.indexInGrid=-1,null!==t)a=s.prop("checked");else if(i===!0){var l=s.prop("indeterminate");o=!0,a=l||!s.prop("checked")}else i===!1&&(o=!1,a=!0);if(a){n.selection.all=o;var f=d.fisSelectableCriteria;if(o){var c=V.dataSource.view();"local"===n.mode&&(c=V.dataSource.data());var u=angular.element(c),p=[],v=[];e.each(u,function(t){if(e.isUndefined(t[f])||1==t[f]){n.addToRowSelection(t),v.push(t);var i=t.uid,a=V.element.find("[data-uid="+i+"]"),r=angular.element(a);p.push(r);var o=a.find(".select-row");$(o).prop("checked",!0),V.tbody.children("tr").addClass("k-state-selected")}}),V.select(p),n.gridConfig.deselectQuitsSelectAll===!1&&(n.deselectedRowIds={}),e.isUndefined(d.fisRowId)?(n.selection.rows.length=0,angular.forEach(v,function(e){n.addToRowSelection(e)})):angular.forEach(v,function(t){var i=n.getIdee(t);e.find(n.selection.rows,function(e){return e[i]===t[i]})||n.addToRowSelection(t)}),s.prop("indeterminate",!1)}else{var g;g=n.isDetail||!n.hasDetail?V.element.find("tr.fis-grid-row"):V.element.find("tr.k-master-row"),n.gridConfig.thisPageOnlyDeselectsOthers===!0&&Me(V,n);var u=angular.element(g),p=[];e.each(u,function(t){var i=angular.element(t),a=i.scope().rowData;(e.isUndefined(a[f])||a[f]===!0)&&(n.addToRowSelection(a),p.push(i),$(i.find(".select-row")).prop("checked",!0))}),p.length>0&&V.select(p),s.prop("indeterminate",!0)}n.onSelect&&(n.selection.action="select",n.onSelect({rows:n.selection.rows,all:n.selection.all,currentRow:null,selection:n.selection,action:n.action}))}else n.selection.all=!1,n.selection.action="deselect",Me(V,n),n.onSelect({rows:null,all:n.selection.all,currentRow:null,selection:n.selection,action:n.action});n.isSelectAll=n.selection.all},n.scrollGridIfLastTr=function(e){var t=e.closest("tr");t.is(":last-child")&&V.content.scrollTop(100)};var te=function(e){var t=e&&e.data?e.data.length:0,i=_.page();if("local"===d.fisMode){var n=_.pageSize();(0!==t||1!==i)&&(i-1)*n>=t&&_.page(1)}else 0===t&&i>1&&e.total>0&&_.page(1)};if(l.subscribe("fisTabsBar.tabOpened",function(){e.isNull(r)||e.isUndefined(r)||e.isUndefined(r.attr("fis-height"))||r.css("height","auto")}),d.fisHeight){var ie=n.$parent.$watch(d.fisHeight,function(t,i){e.isEqual(t,i)||D(t)});n.$on("$destroy",function(){ie&&ie()})}if(n.fisResizeToParent="true"===d.fisResizeToParent,n.fisResizeToParent&&e.isUndefined(d.fisHeight)){var ne,ae=function(t){e.isUndefined(ne)||o.cancel(ne),ne=o(function(){r.is(":visible")&&D(b.getAvailableHeightInParent(r),!0)},t)},re=l.subscribe("shell.sizeChange",function(){ae(0)});o(function(){ae(0)}),n.$on("$destroy",function(){ne&&o.cancel(ne),re&&re()})}n.addLiveFilter=function(){var t=r.find(".fis-grid-filter-row").length;if(0===t){var i=o(function(){var t=r.find(".fis-grid-filter-row").length;if(0===t){n.$parent.getGridAttrs=function(){return d},n.$parent.getGrid=function(){return V},n.$parent.getColumns=function(){if(e.isUndefined(n.columns)){var t=We(n,d);"multiple"!==n.selectable||"false"!==t&&t!==!1?n.columns=V.columns:n.columns=V.columns.slice(1)}return n.columns},n.$parent.getFilters=function(){return n.filters};var i='<fis-live-filter grid-columns="getColumns()" get-kendo-grid="getGrid()" grid-attrs="getGridAttrs()" get-filters="getFilters()" />';if(!n.liveFilterExists){e.isUndefined(V)?n.$watch(function(){return!e.isUndefined(V)},function(e){e&&!n.liveFilterExists&&(n.liveFilterExists=!0,S(i,n,r,V),x(r,V))}):(S(i,n,r,V),x(r,V));var a=l.subscribe("shell.condensedToggle",function(){x(r,V)});if(n.$on("$destroy",a),r.is(":visible")){D(b.getAvailableHeightInParent(r),!0)}}}});m.enabled&&n.$on("$destroy",function(){o.cancel(i)})}};var oe=function(){U.dataSource=_,V&&V.destroy(),n.liveFilterExists=!1,L&&L.destroy();var t,i=z.addAfterFetchListener(te);if(n.$on("$destroy",i),O.empty().kendoGrid(U),n.$on("$destroy",function(){t&&(t.$destroy(),t=null)}),!n.scrollable&&n.pageable&&("top"===n.$parent.pagerPosition||"both"===n.$parent.pagerPosition)){var a=r.find(".fis-grid-pager-bar").children().first();a.remove(),n.getDataSource=function(){return _},n.setKendoPager=function(e){n.kendoPager=e};for(var l in d)"kPager"===l.substring(0,6)&&a.attr(l,d[l]);a.attr("fis-pager",""),a.attr("fis-pager-prev-page","pagerPrevPage"),a.attr("kendoPager","kendoPager"),a.attr("fis-on-pagination-fn","onPaginationFn"),a.attr("fis-data-source","getDataSource"),a.attr("fis-pager-evaluated-page-sizes","evaluatedPageSizes"),s(a)(n);var f=a.find(".k-pager-info");!angular.isUndefined(a)&&angular.isFunction(a[0].removeChild)&&!angular.isUndefined(f)&&f.length>0&&(a[0].removeChild(f[0]),a[0].appendChild(f[0])),r.find(".fis-grid-pager-bar")[0].appendChild(a[0]),"top"===n.$parent.pagerPosition&&v()}if(n.scrollable&&v(),V=O.data("kendoGrid"),d.fisToolbar){var c,p=r.find('div[data-role="pager"]'),g=d.fisToolbarLocation;c="bottom"===g?r.children(".k-grid-toolbar"):r.find(".fis-grid-pager-bar").find(".k-grid-toolbar"),c.remove();var h=n.$parent.$new(),w=s(r.find(".k-grid-toolbar"))(h);t=w.scope(),"multiple"===n.selectable&&(t.selection=n.selection),w.find(".k-button").each(function(e,t){u.generateIdWithStaticSeed(n,angular.element(t),d,null,null,"grid_toolbar_btn_"+e)}),w.children().css("margin-right","1em"),"bottom"===g?p.length>0&&!angular.isUndefined(n.pagerPosition)&&"top"!==n.pagerPosition?1===p.length?angular.element(p[0]).append(w):angular.element(p[1]).append(w):r.append(w):p.length>0&&"bottom"!==n.pagerPosition?$(p[0]).parent().append(w):("bottom"===n.pagerPosition||angular.isUndefined(V.dataSource.pageSize()))&&r.find(".fis-grid-pager-bar").append(w);var k=d.fisToolbarClass;k&&w.addClass(k),m.enabled&&n.$on("$destroy",function(){t&&(t.selection&&delete t.selection,m.callCleanAll(w),w=null)})}if((d.fisBatch||"inline"===d.fisEditable||"incell"===d.fisEditable)&&C(V),d.fisCriteria)var y=n.$parent.$watch(d.fisCriteria,function(t,i){e.isEqual(t,i)||se()});if(n.$on("$destroy",function(){y&&y()}),d.fisFilters)var S=n.$parent.$watch(d.fisFilters,function(t,i){if(!e.isEqual(t,i)){var a=o(function(){if(d.fisLiveFiltering)e.isFunction(n.$parent.changeFilter)&&n.$parent.changeFilter(t);else{var i=angular.copy(t);i=b.removeEmptySearchCriteria(i);var a=b.buildGridFilterObject(V.dataSource,i,n,d);e.isEqual(a,_._filter)||_.filter(a)}},0);n.$on("$destroy",function(){a&&o.cancel(a)})}});n.$on("$destroy",function(){S&&S()}),$('[role="grid"]').each(function(e,t){u.generateUniqueId(n,angular.element(t),d,"grid_table")});var T=o(function(){if(H(n,V),W(n,V),"T"===fis.initParams().appStage){var t=$("a.k-grid-filter");e.each(t,function(e){var t=angular.element(e);u.generateUniqueIdForce(n,t,d,"grid_filter_link")})}},1e3);n.$on("$destroy",function(){T&&o.cancel(T)}),"true"!==d.fisResizeToParent&&D(d.fisHeight),n.reinitTriggered&&(n.reinitTriggered=!1)};j?j.then(function(){y()},angular.noop):y();var se=function(e){if(!(e&&e.defaultPrevented||n.reinitTriggered)){var t=o(function(){n.reinitTriggered||("true"===n.keepPageOnRefresh||n.keepPageOnRefresh===!0?_.read():1===_.page()?_.read():(_.page(1),"local"===d.fisMode&&_.read()),"multiple"===n.selectable&&Me(V,n))});n.$on("$destroy",function(){t&&o.cancel(t)})}};n.$on("fisRefresh",se),q&&(q.trigger=se);var de=function(){n.headerCompiled=!1,n.isSelectAll=!1,n.gridConfig.deselectQuitsSelectAll===!1&&(n.deselectedRowIds={}),n.liveFilterExists=!1;var e=$("tr.fis-grid-filter-row");V&&e&&(n.liveFilterExists=!0),y()},fe=function(){j=be(n,d),j?j.then(function(){de()},angular.noop):n.reinitTriggered?n.reinitTriggered&&(n.reinitTriggered=!1):(n.reinitTriggered=!0,de()),"multiple"===n.selectable&&Me(V,n)},ce=n.$on("fisReinit",fe);n.$on("$destroy",function(){ce&&ce()}),R&&(R.trigger=fe),n.$on("fisModalDialog.displayed",function(){x(r,V),V._resize()}),n.$on("$destroy",function(){m.destroyKendoWidgets(V),e.each(n.filterMenuContainerIds,function(e){$("ul[fisid="+e+"]").remove()}),m.destroyKendoWidgets(L),O=null,r.on("$destroy",function(){r&&r.data&&delete r.data,r=null})})}}}]}).call(t,i(1))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(6),d=n(l),f=i(8),c=n(f),u=i(36),p=n(u),v=i(37),g=n(v),m=i(38),h=n(m),b=i(39),w=n(b),k=i(40),D=n(k),y=i(41),$=n(y),S=i(43),T=n(S),C=i(44),x=n(C),F=i(45),O=n(F),U=r.default.module("fis.kendo.grid",[s.default,d.default,c.default]);U.directive("fisCellAction",p.default),U.factory("fisEditorFactory",g.default),U.directive("fisFilterMenu",h.default),U.directive("fisGridRow",w.default),U.provider("fisGridUtilService",D.default),U.directive("fisGrid",$.default),U.filter("convertKendoFiltersToCriteria",T.default),U.directive("fisLiveFilter",x.default),U.directive("fisPager",O.default),t.default=U.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisCriteriaService",function(t){"ngInject";function i(t,i){var n=e.find(i,function(e){return e.field===t});return n?n.dataType:null}var n={eq:t.constraints.EQ,contains:t.constraints.CONTAINS,gte:t.constraints.GE,lte:t.constraints.LE,ne:t.constraints.NE,gt:t.constraints.GT,ge:t.constraints.GE,lt:t.constraints.LT,le:t.constraints.LE,neq:t.constraints.NE,startswith:t.constraints.STARTS_WITH,endswith:t.constraints.ENDS_WITH,doesnotcontain:t.constraints.NOT_CONTAINS,is_empty:t.constraints.IS_EMPTY,not_empty:t.constraints.NOT_EMPTY,is_null:t.constraints.IS_NULL,not_null:t.constraints.NOT_NULL,notstartswith:t.constraints.NOT_STARTS_WITH,notendswith:t.constraints.NOT_ENDS_WITH},a={and:t.operators.AND,or:t.operators.OR};return function(e){if(e.filter){for(var r=a[e.filter.logic],o=t.newCriteria(r),s=0;s<e.filter.filters.length;s++){var l=e.filter.filters[s];if(l.field){var d=new t.Criterion(l.field,l.value,n[l.operator]);if(e.additionalOpts){var f=i(l.field,e.additionalOpts.columns);f&&(d.type=f)}else d.type="string";o.add(d)}else{for(var r=a[l.logic],c=t.newCriteria(r),u=0;u<l.filters.length;u++){var d=new t.Criterion(l.filters[u].field,l.filters[u].value,n[l.filters[u].operator]);if(e.additionalOpts){var f=i(l.filters[u].field,e.additionalOpts.columns);f&&(d.type=f)}else d.type="string";c.add(d)}o.add(c)}}return o}return null}}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisI18nService","fisUniqueIdService","fisMemoryUtilService","$compile","$window","$timeout","fisCriteriaService","fisGridUtilService","fisConfig","fisPubSubService","fisUtilService",function(t,i,n,a,r,o,s,l,d,f,c){"ngInject";function u(t){var i,n=[];e.isString(t)&&(i=t.split(",")),e.isArray(t)&&(i=t);for(var a=0;a<i.length;a++){var r=i[a];e.isString(r)?n.push({field:r}):n.push(r)}return n}function p(e,t,i,n){var a=v(n);g(a,i),t.columnConstraints.constraints=[];for(var r=0;r<i.length;r++)m(i[r],r,n,t,e)}function v(e){var t={multi:!1,detail:!1,number:0};return"multiple"===e.fisSelectable&&(t.multi=!0,t.number++),e.fisDetailColumns&&(t.detail=!0,t.number++),t}function g(t,i){if(t.detail===!0||t.multi===!0||t.detail===!0&t.multi===!0){var n={};n.field="",n.dataType="";for(var a=t.number,r=0;r<a;r++)e.isArray(i)&&i.unshift(n)}}function m(t,i,n,a,r){var o={};o.dataType=t.dataType,e.isUndefined(o.dataType)&&!e.isUndefined(r.options.schema.model)&&t.field&&(e.isUndefined(r.options.schema.model.fields[t.field])?o.dataType="string":o.dataType=r.options.schema.model.fields[t.field].type);var s=h(n,o.dataType);e.isUndefined(s)&&t.operators&&(s=t.operators.split(",")),o.values=b(t,o.dataType,i,i,s),a.columnConstraints.constraints.push(o)}function h(t,i){return"string"!==i||e.isUndefined(t.fisFilterableOperatorsString)?"number"!==i&&"integer"!==i&&"double"!==i||e.isUndefined(t.fisFilterableOperatorsNumber)?"date"!==i||e.isUndefined(t.fisFilterableOperatorsDate)?"datetime"!==i||e.isUndefined(t.fisFilterableOperatorsDateTime)?void 0:t.fisFilterableOperatorsDateTime.split(","):t.fisFilterableOperatorsDate.split(","):t.fisFilterableOperatorsNumber.split(","):t.fisFilterableOperatorsString.split(",")}function b(t,i,n,a,r){return"string"===i||e.isUndefined(i)?w(t,n,a,r):"number"===i||"integer"===i||"double"===i?k(t,n,a,r):"date"===i||"datetime"===i?D(t,n,a,r):"boolean"===i?y(t,n,a,r):void 0}function w(i,n,a,r){var o=!e.isUndefined(i.filterTemplate),s=[{label:t.translate(["compareOperators","string","contains"],"Contains"),method:"contains",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","string","doesnotcontain"],"Does not contain"),method:"not_contains",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","string","endswith"],"Ends with"),method:"endswith",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","string","eq"],"Is equal"),method:"eq",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","string","neq"],"Is not equal"),method:"ne",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","string","startswith"],"Starts with"),method:"startswith",position:a,index:n,hasTemplate:o,placeholder:S(i)}],l=[];return l=T(r,s,l),0===l.length?s:l}function k(i,n,a,r){var o=!e.isUndefined(i.filterTemplate),s=[{label:t.translate(["compareOperators","number","eq"],"Is equal"),method:"eq",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","number","gt"],"Greater than"),method:"gt",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","number","gte"],"Greater than or equal"),method:"ge",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","number","lt"],"Less than"),method:"lt",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","number","lte"],"Less than or equal"),method:"le",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","number","neq"],"Not equal"),method:"ne",position:a,index:n,hasTemplate:o,placeholder:S(i)}],l=[];return l=T(r,s,l),0===l.length?s:l}function D(i,n,a,r){var o=!e.isUndefined(i.filterTemplate),s=[{label:t.translate(["compareOperators","date","eq"],"Is equal to"),method:"eq",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","date","neq"],"Is not equal to"),method:"ne",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","date","gte"],"Is after or equal"),method:"ge",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","date","gt"],"Is after"),method:"gt",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","date","lte"],"Is before or equal"),method:"le",position:a,index:n,hasTemplate:o,placeholder:S(i)},{label:t.translate(["compareOperators","date","lt"],"Is before"),method:"lt",position:a,index:n,hasTemplate:o,placeholder:S(i)}],l=[];return l=T(r,s,l),0===l.length?s:l}function y(i,n,a,r){var o=!e.isUndefined(i.filterTemplate),s=[{label:t.translate(["compareOperators","boolean","eq"],"Is equal"),method:"eq",position:a,index:n,hasTemplate:o},{label:t.translate(["compareOperators","boolean","neq"],"Not equal"),method:"ne",position:a,index:n,hasTemplate:o}],l=[];return l=T(r,s,l),0===l.length?s:l}function S(t){if(!e.isUndefined(t.filterTemplate)&&null!=t.filterTemplate&&t.filterTemplate.indexOf("placeholder-input")>-1){for(var i=t.filterTemplate.split('"'),n=!1,a="",r=0;r<i.length&&!n;r++)i[r].indexOf("placeholder-input")>=0&&(i.length>r+1&&(a=i[r+1]),n=!0);return a}}function T(t,i,n){return!e.isUndefined(t)&&t.length>0&&angular.forEach(i,function(e){angular.forEach(t,function(t){e.method!==t.toLowerCase()&&C(t.toLowerCase())!==e.method||n.push(e)})}),n}function C(e){return"startswith"===e?"starts_with":"endswith"===e?"ends_with":"doesnotcontain"===e?"not_contains":"neq"===e?"ne":"gte"===e?"ge":"lte"===e?"le":e}function x(t,i,n,a){var r=[],o={};a===!0?o=i.liveFilterCriteria.operands:i.liveFilterCriteria.operator="and",i.liveFilterCriteria.operands=[],!e.isUndefined(i.filters)&&e.isArray(i.filters.operands)&&i.filters.operands.length>0&&(o=F(i.filters.operands),r=e.pluck(o,"property")),r=e.pluck(o,"property");for(var s=0;s<n.length;s++){var l={},d=n[s];l.property=d.field;var f=e.indexOf(r,l.property);if(f>-1)l.value=o[f].value,l.constraint=o[f].constraint;else{var c=d.dataType;e.isUndefined(c)&&!e.isUndefined(t.options.schema.model)&&d.field&&(c=e.isUndefined(t.options.schema.model.fields[d.field])?"string":t.options.schema.model.fields[d.field].type),l.value="",l.constraint=O(c,d,i.columnConstraints)}i.liveFilterCriteria.operands.push(l)}}function F(t){var i=[],n=[],a=function t(a){e.isUndefined(a.operator)?e.contains(i,a.property)||(i.push(a.property),n.push(a)):e.each(a.operands,t)};return e.each(t,a),n}function O(t,i,n){return i.operators?C(i.operators.split(",")[0]):"string"===t||e.isUndefined(t)?!e.isUndefined(i.filterTemplate)&&null!==i.filterTemplate&&i.filterTemplate.indexOf("fis-select-field")>-1?"eq":"contains":"number"===t||"integer"===t||"double"===t||"date"===t||"datetime"===t||"boolean"===t?U(t,n):void 0}function U(t,i){var n="eq",a=!1;return e.each(i,function(i){e.each(i,function(i){if(t===i.dataType){i.values;e.each(i.values,function(e){"eq"===e.method&&(a=!0)}),!a&&i.values.length>0&&(n=i.values[0].method)}})}),n}function M(e,t,i,a,r,s){var l=I(t,e,i);_(i,t,a,r,s),N(e,t,i,a,r),B(i,l,s),c.booleanCheck(r.fisLiveFilteringApplyButton,!1)&&G(i,l,t,s),n.cancelTimeoutOnDestroy(i,o(function(){Z(t)}),o)}function I(e,t,i){var n=t.thead.find(".fis-grid-filter-row");return n.children().length>0&&n.empty(),n=e,P(n,t),a(n)(i.$parent),n}function P(t,i){for(var n=i.thead.find("th").length,a=0;a<n;a++){var r=i.columns[a],o=$('<td class="fis-grid-filter-cell" style="border:0;">');e.isUndefined(r)||(!e.isUndefined(r.hidden)&r.hidden&&o.addClass("fis-grid-filter-cell-hidden"),e.isUndefined(r.headerAttributes)||o.addClass(r.headerAttributes.class)),t.append(o)}t.find("td:last").addClass("fis-clear-button-column")}function _(t,i,r,s,l){$("body").children('ul[data-parent="'+l+'"]').remove();for(var d=v(s),f=i.find(".fis-grid-filter-cell"),c=d.number;c<r.length;c++){var u=r[c],p=f.eq(c);if(e.isUndefined(u.filterable)||u.filterable){var g=a('<div fis-filter-menu fis-index="'+c+'"></div>')(t);g.find("ul").attr("data-parent",l),V(f.length,c,$(g),p,t),A(c,p,t,l),n.enabled&&t.$on("$destroy",function(){var e=o(function(){n.callCleanAll(g),o.cancel(e)},0);g=null})}}n.enabled&&t.$on("$destroy",function(){e.each(f,function(e){var t=o(function(){n.callCleanAll(e),o.cancel(t)});e=null})})}function V(e,t,i,n,a){t<e-1&&n.append(i),L(i,a,"filterMenuContainer")}function L(e,t,n){if(e.is("div")){var a=e.find("ul");e=angular.element(a),a=null}i.generateUniqueIdForce(t,e,{},n)}function A(e,t,i,r){var s=t.find("ul[fisid^=filterMenuContainer_]");i.$on("$destroy",function(){s.remove(),s=void 0}),i.filterMenuContainerIds[e]=s.attr("fisid");var l=t.find(".dropdown-toggle");l.attr("ng-click","showFilterMenu($event,filterMenuContainerIds["+e+"],'"+r+"')");var d=a(l)(i);angular.element(l).replaceWith(d),n.enabled&&i.$on("$destroy",function(){var e=o(function(){o.cancel(e),n.callCleanAll(d),n.callCleanAll(l)});d=null,l=null,s=null})}function N(t,i,n,a,r){var s,d=[],f=t.thead.find("tr").eq(0),c=f.find("th");e.each(c,function(e){var t=$(e);"none"!==t.css("display")?t.outerWidth()<22?s=o(function(){d.push(t.outerWidth())},0):d.push(t.outerWidth()):d.push(0)});var u=i.find(".fis-grid-filter-cell"),p=l.getGridName(r,n,null);e.each(a,function(o,s){var l=u.eq(s);if(!e.isUndefined(o.field)&&o.field.length>0&&(e.isUndefined(o.filterable)||o.filterable)){(e.isUndefined(o.dataType)||0===o.dataType.length)&&(o.dataType="string");var f,c=r.fisLiveFilteringApplyButton,v={dataSource:t.dataSource,column:o,columnWidth:d[s],scope:n,index:s,numColumns:a.length,element:l,applyButton:c,gridHeight:r.fisHeight,userDefWidth:o.width};if(o.filterTemplate)f=E(v,p);else{f=H(v,r,p,i,s);var g=i.find(".fis-grid-filter-cell:eq("+s+")");g.append(f)}g=null,f=null,l=null}}),n.$on("fisModalDialog.displayed",function(){Z(i)}),n.$on("$destroy",function(){f=null,c=null,o.cancel(s),s=null})}function E(t,i){var n=t.scope.$parent.$new(),r=angular.element(t.column.filterTemplate);r=j(r,t.index,t.applyButton,t.scope);var o=angular.element('<div class="fis-gridFilter-widget-position"><form fis-stacked="false" name="filterForm-liveFilterCriteria.operands['+t.index+'].value"></form></div>');o.find("form").append(r),t.element.append(o);var s=t.columnWidth;e.isUndefined(t.userDefWidth)||(s=t.userDefWidth),n.callback=function(e){z(e.dropdownlist.parents("td"),s)};var l=a(o)(n);return t.element.css("width",s),q(l,t.scope),z(l,s),"$apply"!==n.$$phase&&"$digest"!==n.$$phase&&n.$apply(),c.booleanCheck(t.applyButton,!1)||(e.isUndefined(r.attr("fis-number-field"))&&e.isUndefined(r.attr("fis-select-field"))&&e.isUndefined(r.attr("fis-autocomplete-field"))&&e.isUndefined(r.attr("fis-date-picker-field"))&&e.isUndefined(r.attr("fis-combo-box-field"))?W(l):t.scope.$parent.$on("kendoWidgetCreated",function(e,t){"NumericTextBox"===t.options.name&&W(l,1)})),t.scope.$on("$destroy",function(){n.$destroy(),n=null,l.remove(),l=null,t=null}),R(t.scope,l,i),l}function j(t,i,n){return t.attr("ng-model-input","liveFilterCriteria.operands["+i+"].value"),e.isUndefined(t.attr("fis-number-field"))?t.attr("placeholder-input","{{ getPlaceholder("+i+") }}"):t.attr("placeholder-input","'{{ getPlaceholder("+i+") }}'"),t.attr("ng-keydown","filterInputKeyDown($event)"),c.booleanCheck(n,!1)||(e.isUndefined(t.attr("fis-select-field"))&&e.isUndefined(t.attr("fis-combo-box-field"))?e.isUndefined(t.attr("fis-autocomplete-field"))||t.attr("ng-change-input","applyFiltering()"):t.attr("ng-change-input","applyFiltering()")),t}function z(t,i){var n=i-30;(isNaN(n)||n<30)&&(n=120);var a=t.find(".k-autocomplete");if(a.length>0){a.removeClass("k-header");var r=a.scope(),o=-10;e.isUndefined(r)||r.resize(n+o)}else{var s=t.find("span.k-widget");if(s.removeClass("k-header"),s.length>0){var o=0,l=s.hasClass("k-numerictextbox");if(l)o=1,s.find(".k-numeric-wrap").css("width",n+o),s.find("input").css("width",n+5),s.find("input").css("display","inline");else{var d=s.hasClass("k-combobox");if(d){o=-21;var f=s.scope();e.isUndefined(f)||(s.find("input").css("width",n+o),s.find(".k-dropdown-wrap").css("width",n+10))}else{var c=s.hasClass("k-dropdown");if(c){o=0;var u=s.scope();!e.isUndefined(u)}else{var p=s.hasClass("k-datepicker");if(p){o=3;var v=s.scope();e.isUndefined(v)||v.resize(n+o),s.find(".k-picker-wrap").css("width",n+o)}}}}s.css("width",n+o)}else{var g=t.find("div[fis-radio-field]");if(g.length>0)e.each(g,function(e){$(e).find("input").css("width","20px")});else{var m=t.find("input"),o=-21;m.length>0?m.css("width",n+o):t.css("width",n+o)}}}}function q(t,i){!e.isUndefined(t.scope())&&e.isUndefined(t.scope().liveFilterCriteria)&&(t.scope().liveFilterCriteria=i.liveFilterCriteria,t.scope().getPlaceholder=i.getPlaceholder,t.scope().filterInputKeyDown=i.filterInputKeyDown,t.scope().applyFiltering=i.applyFiltering)}function W(t,i){var n=t.find("input.k-input, input.fis-input");e.isUndefined(i)||(n=n.eq(i)),n.on("blur",function(){
t.scope().applyFiltering()})}function R(e,t,n){var a=n+"_live_filter_",r="";t.is("input")?r="input":t.is("button")&&(r="button");var o=$(t).find("input[fis-input]");o.length>0?i.generateUniqueId(e,o,{},a+r,!0):i.generateUniqueId(e,t,{},a+r),o=null}function H(e,t,i,n){var r;r='<input ng-change="checkFilterInputValue()" ng-keyup="filterInputKeyDown($event)" ng-model="liveFilterCriteria.operands['+e.index+'].value" ng-model-options="{ updateOn:\'change submit blur default\', debounce:{ change:0, submit:0, blur:0, default:0 } }" type="search" class="fis-grid-filter-cell-input" placeholder="{{ getPlaceholder('+e.index+') }}">';var o=a(r)(e.scope),s=e.columnWidth;return o.css("width",s),n.find(".k-grid td").css("text-overflow","inherit"),z(o,s),R(e.scope,o,i),c.booleanCheck(e.applyButton,!1)||($(o).on("blur",function(){e.scope.applyFiltering()}),e.scope.$on("$destroy",function(){o.off("blur"),o=null})),L(o,e.scope,"filterCellInput"),o}function B(e,t,i){var n=t.find("td.fis-clear-button-column"),r='<button class="k-button fis-grid-filter-clear-button" ng-click="clearFilterValues()"><i class="fis-legacy-icon fis-legacy-i-pass"></i></button>',o=a(r)(e);R(e,o,i),n.append(o)}function G(e,t,i,n){var r=t.find("td.fis-clear-button-column"),o='<button class="k-button fis-grid-filter-apply-button ng-scope" ng-click="applyFilterValues()"><i class="fis-legacy-icon fis-legacy-i-ok fis-grid-filter-apply-icon"></i></button>',s=a(o)(e);R(e,s,n),r.append(s),e.liveFilteringApplyButton=!0}function K(e,t,i,n,a){a!==!0&&(Y(e),Q(e)),J(e,n,t,i)}function Y(e){function t(e){for(var t=e.sender.columns,i=e.sender.thead,n=0;n<t.length;n++)if(e.column.field===t[n].field){var a=i.find(".fis-grid-filter-row td").eq(n);a.toggleClass("fis-grid-filter-cell-hidden",e.column.hidden)}}e.bind("columnShow",t),e.bind("columnHide",t)}function Q(t){function i(t){var i=t.newWidth,n=t.sender.columns,a=-1,r=0,o=0;t.sender.thead.find(".k-hierarchy-cell.k-header").length>0&&(o=1);for(var s=0;s<n.length;s++){var l=n[s];if(l.hidden&&r++,l===t.column){a=s+o;break}}if(!e.isUndefined(t.column)){var d=e.isNumber(t.column.minWidth)?t.column.minWidth:70;if(i<d){i=d,t.sender.thead.siblings("colgroup").children().eq(a-r).width(i),t.sender.tbody.siblings("colgroup").children().eq(a-r).width(i);var f=i-t.newWidth,c=t.sender.thead.parent(),u=t.sender.tbody.parent();return c.width(parseFloat(c.width())+f),u.width(parseFloat(u.width())+f),t.column.width=i,t.oldWidth=t.newWidth,t.newWidth=i,void t.sender.trigger("columnResize",t)}}var p=t.sender.thead.find(".fis-grid-filter-cell").eq(a);z(p,i)}t.bind("columnResize",i)}function J(e,t,i,n){function a(){n.find(".fis-grid-filter-cell").length>0&&Z(n)}var o=l.getGridName(t,i,e)+"windowResizeNamespace",s=angular.element(r);s.off("resize."+o),s.on("resize."+o,a),i.$on("$destroy",function(){s.off("resize."+o)})}function Z(t){if(!e.isUndefined(t))for(var i=t.find(".fis-grid-filter-cell"),n=0;n<i.length;n++){var a=i.eq(n);"none"!==a.css("display")?z(a,a.outerWidth()):z(a,180)}}function X(e,t){t.filter(e)}function ee(e,t,i,n,a,r){p(e.dataSource,t,a,n),x(e.dataSource,t,a,r),M(e,i,t,a,n,l.getGridName(n,t,e),r),K(e,t,i,a,n,r)}return{restrict:"E",replace:!0,scope:{gridColumns:"&gridColumns",kendoGrid:"&getKendoGrid",gridAttrs:"&gridAttrs",filters:"&getFilters"},template:'<tr role="row" class="fis-grid-filter-row"></tr>',link:function(t,i){f.subscribe("fisTabsBar.tabOpened",function(){var e=o(function(){i.siblings().find("th").each(function(e,t){i.find("td").each(function(){$(this).css("width",t.offsetWidth)})}),Z(i)},10);t.$on("$destroy",function(){o.cancel(e)})}),f.subscribe("fisTabsBar.tabClosed",function(){var e=o(function(){i.siblings().find("th").each(function(e,t){i.find("td").each(function(){var e=t.offsetWidth;0==e&&(e=210),$(this).css("width",e)})}),Z(i)},10);t.$on("$destroy",function(){o.cancel(e)})}),f.subscribe("fisResponsiveService.browserResized",function(){var e=o(function(){i.siblings().find("th").each(function(e,t){i.find("td").each(function(){$(this).css("width",t.offsetWidth)})})},10);Z(i),t.$on("$destroy",function(){o.cancel(e)})}),t.filterInputKeyDown=function(e){13===e.keyCode?(t.applyFiltering(),e.target.focus(),e.preventDefault()):9===e.keyCode?t.liveFilteringApplyButton||t.applyFiltering():8!==e.keyCode&&46!==e.keyCode||""!==angular.element(e.currenTarget).val()||X({},g)},t.applyFiltering=function(){var i=angular.copy(t.liveFilterCriteria);if(i=l.removeEmptySearchCriteria(i),0===i.operands.length){if(!e.isUndefined(p.dataSource.filter())&&p.dataSource.filter().filters.length>0){X({},p.dataSource);var n=$(".k-grid-content").find("div")[0].clientWidth;$(".k-grid-content div").css("width",n-20)}}else{var a=l.buildGridFilterObject(p.dataSource,i,t,s);e.isEqual(a,g._filter)||X(a,p.dataSource)}},t.checkFilterInputValue=function(){for(var e=!0,i=0;i<t.liveFilterCriteria.operands.length;i++){var n=t.liveFilterCriteria.operands[i];null!==n.value&&0!==n.value.length?e=!1:null===n.value&&(n.value="")}},t.showFilterMenu=function(e,t,i){var n=$('ul[fisid="'+t+'"][data-parent="'+i+'"]'),a=n.is(":visible");if(b(),!a){e.preventDefault(),e.stopImmediatePropagation();var r=$(window).scrollTop(),o=$(e.currentTarget),s=o.offset(),l=s.top+o.outerHeight()-r;$("body").append(n),n.show();var d=o.offset().left+4;n.css({width:"50px",top:l+"px",position:"fixed",left:d,"z-index":"99999"}),w(!0)}},t.applyConstraint=function(i,n){var a=parseInt(i.position,10);t.liveFilterCriteria.operands[a].constraint=i.method;var r=!e.isUndefined(t.liveFilterCriteria.operands[a].value)&&""!=t.liveFilterCriteria.operands[a].value,o=!c.booleanCheck(t.liveFilteringApplyButton,!1);r&&o&&t.applyFiltering(),b(n)},t.getPlaceholder=function(i){var n=t.liveFilterCriteria.operands[i].constraint;if(!e.isUndefined(n))for(var a=0;a<t.columnConstraints.constraints[i].values.length;a++){if(!e.isUndefined(t.columnConstraints.constraints[i].values[a].placeholder))return t.columnConstraints.constraints[i].values[a].placeholder;if(t.columnConstraints.constraints[i].values[a].method===n||t.columnConstraints.constraints[i].values[a].method===C(n))return t.columnConstraints.constraints[i].values[a].label}return"Not Found"},t.applyFilterValues=function(){t.applyFiltering()},t.clearFilterValues=function(){var e=g;if(s.fisFilters){var i={};l.getGridFilterObject(t.filters,i,s,e,t),X(i,e),x(e,t,a)}else{X({},e);for(var n=0;n<t.liveFilterCriteria.operands.length;n++)t.liveFilterCriteria.operands[n].value=""}};var n=t.gridColumns(),a=u(n),s=t.gridAttrs(),p=t.kendoGrid(),g=p.dataSource;l.getGridName(s,t,p);if(t.filters=t.filters(),s.fisFilters&&(t.$parent.changeFilter=function(i){e.each(i.operands,function(i){e.each(t.liveFilterCriteria.operands,function(e){e.value="",e.property===i.property&&(e.value=i.value)})});var n=l.buildGridFilterObject(g,i,t,s);e.isEqual(n,g._filter)||X(n,p.dataSource)}),t.liveFilterCriteria={},t.columnConstraints={},t.filterMenuContainerIds=[],ee(p,t,i,s,a),"true"===s.kReorderable){var m=angular.isDefined(d.widgets)&&angular.isDefined(d.widgets.fisGrid)&&d.widgets.fisGrid.showLoadingIndicator!==!1&&"false"!==d.widgets.fisGrid.showLoadingIndicator,h=function(e){var t=e.sender;return e.column.reorderable===!1||t.columns[e.newIndex].reorderable===!1};p.bind("columnReorder",function(e){var n=e.sender;if(!h(e)){var a=v(s).number;m&&kendo.ui.progress(n.thead,!0),o(function(){ee(n,t,i,s,n.columns.slice(a,-1),!0),kendo.ui.progress(n.thead,!1)},0)}})}var b=function(t){e.isString(t)?$("ul[fisid="+t+"]").hide():$("ul[fisid^=filterMenuContainer_]").hide(),w(!1)},w=function(e){var i=l.getGridName(s,t,p)+"LiveFilterNameSpace",n=function(e){e.stopPropagation(),$(e.target).hasClass("fis-grid-filter-menu-item-container")||b()};return function(e){var t=angular.element(r);e?(t.on("click."+i,n),t.on("scroll."+i,b)):(t.off("click."+i),t.off("scroll."+i))}(e)}}}}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$parse","fisI18nService",function(t,i){"ngInject";return{replace:!0,scope:{getDataSource:"=fisDataSource",pagerEvaluatedPageSizes:"=fisPagerEvaluatedPageSizes",pagerPrevPage:"=fisPagerPrevPage",onPaginationFn:"=fisOnPaginationFn"},link:function(n,a,r){n._buildPaginationEvent=function(e,t,i){var n={},a=parseInt(e,10),r=parseInt(t,10);return n.totalPages=i,n.nextPage=a,n.previousPage=void 0===t?1:r,n},a.find(".k-pager-sizes").remove();var o={dataSource:n.getDataSource(),pageSizes:n.pagerEvaluatedPageSizes,change:function(t){if(n.previousSelection=void 0,!e.isUndefined(r.fisOnPaginationFn)&&e.isFunction(n.onPaginationFn)){var i=n._buildPaginationEvent(t.index,n.pagerPrevPage,t.sender.dataSource.totalPages());n.pagerPrevPage=i.nextPage,n.onPaginationFn({event:i})}},messages:{display:i.translate(["fisPager","display"],"{0} - {1} of {2} items"),empty:i.translate(["fisPager","empty"],"No items to display"),allPages:i.translate(["fisPager","allPages"],"All"),page:i.translate(["fisPager","page"],"Page"),of:i.translate(["fisPager","of"],"of {0}"),itemsPerPage:i.translate(["fisPager","itemsPerPage"],"items per page"),first:i.translate(["fisPager","first"],"Go to the first page"),previous:i.translate(["fisPager","previous"],"Go to the previous page"),next:i.translate(["fisPager","next"],"Go to the next page"),last:i.translate(["fisPager","last"],"Go to the last page"),refresh:i.translate(["fisPager","refresh"],"Refresh")}};for(var s in r)if("kpager"===s.substring(0,6)){var l=s.substring(6);l=l.substring(0,6).toLowerCase()+l.substring(6),"true"===r[s]?o[l]=!0:o[l]=t(r[s])(n.$parent)}a.kendoPager(o),n.$parent.setKendoPager(a.data("kendoPager"))}}}]}).call(t,i(1))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(7),d=n(l),f=i(47),c=n(f),u=r.default.module("fis.kendo.language",[s.default,d.default]);u.directive("fisLanguageChooser",c.default),t.default=u.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisI18nService","$filter","fisUniqueIdService","$timeout","fisMemoryUtilService",function(e,t,i,n,a){"ngInject";return{template:'<input fis-unique-id="language-chooser" />',restrict:"EA",replace:!0,transclude:!1,link:function(t,r){function o(){for(var e=$(".k-list-container"),n=0;n<e.length;n++)i.generateUniqueId(t,$(e[n]),{},"language-list-container")}e.supportedLanguages.then(function(i){function s(){var i=n(function(){e.locale(r.val())});a.cancelTimeoutOnDestroy(t,i,n)}var l=[];l.push({label:e.translate("choose.language","Choose Language"),value:""});for(var d=e.locale(),f=0,c=0;c<i.length;c++)i[c].value===d&&(f=c+1),l.push(i[c]);r.kendoDropDownList({dataTextField:"label",dataValueField:"value",dataSource:l,index:f,open:o,change:s});var u=r.css("width");r.closest(".k-widget").width(u),r.data("kendoDropDownList").list.css("min-width",u)})}}}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(49),d=n(l),f=i(50),c=n(f),u=r.default.module("fis.kendo.menubar",[s.default]);u.directive("fisMenuBar",d.default),u.directive("fisSecondaryMenu",c.default),t.default=u.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{template:'<div class="k-content">\t                <ul id="menu"></ul>\t            </div>',restrict:"EA",replace:!0,scope:!1,require:"fisData",link:function(e,t,i,n){function a(e){return"T"===fis.initParams().appStage?'id="'+e+'"':""}function r(e,t){var i="";return angular.forEach(e,function(e,n){e.id||(e.id=e.label.toLowerCase().replace(" ","-"));var o="";if(o=void 0!==t?t+"/"+e.id:"/"+e.id,!e.path){for(var s=[],l=0;l<n.length;l++)s.push(n[l].id);s.push(e.id),e.path=o}if(!e.secondaryNav){var d=e.path.split("/");e.children&&e.children.length>0&&d.length<4?i=i+"<li "+a(e.id)+">"+e.label+"<ul>"+r(e.children,o)+"</ul></li>":e.partial&&(i=i+"<li><a "+a(e.id)+' href="#'+e.path+'">'+e.label+"</a></li>")}}),i}e.menuItems={};var o=n.fetchData();o.then(function(t){e.menuItems=t},function(e){console.warn("Problem loading data: "+e)}),e.$watch("menuItems",function(e){var n="default",a="horizontal";if("left"===i.fisMenuOrientation?(n="left",a="vertical"):"right"===i.fisMenuOrientation?(n="right",a="vertical"):"top"===i.fisMenuOrientation&&(n="top"),e){var o=r(e.data),s=t.find("#menu");s.html(o).kendoMenu({orientation:a,direction:n,select:function(){s.data("kendoMenu").close()}})}},!0)}}}},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisPubSubService","fisViewService","$rootScope","$controller","$timeout","$compile","$sce",function(t,i,n,a,r,o,s){"ngInject";function l(e,t){var i="";t&&(i="fis-secondary-menu-top "),d(e,i)}function d(e,t){e&&(e.cls&&(t+=e.cls),e.cssClass=t)}var f=angular.element("body"),c="fisSecondaryMenuAdded",u="fisSecondaryMenuRemoved";return n.$on(c,function(){f.addClass("fis-secondary-menu-present")}),n.$on(u,function(){f.removeClass("fis-secondary-menu-present")}),{template:'<div ng-show="secondaryMenuBarItems != null" class="k-content">\t                <ul></ul>\t            </div>',restrict:"EA",replace:!0,scope:{},link:function(n,a){function r(e){h.find(".fis-state-selected").removeClass("fis-state-selected"),$(e).addClass("fis-state-selected");var t=$(".k-state-active",a);t.length>0&&$(t[0].parentElement).addClass("fis-state-selected")}function d(e){e.preventDefault(),r(e.item);var t=angular.element(e.item).children(".k-link").attr("href");t&&(n.$parent.open(t,{},n.secondaryMenuBarItems[0].params),b.close())}function f(t,i){var n=[];return t&&e.each(t,function(t){l(t,i);var a=s.getTrustedHtml(t.label);if(t.items){var r=e.clone(t);r.items=f(t.items,!1),t.icon&&(delete r.icon,r.spriteCssClass=t.icon),t.label&&(t.encoded=!1,t.label=a,t.text=a,t.label.indexOf("{{")>-1&&(t.text=t.label=t.label.replace(/{|}/g,""))),r.isValid===!0&&n.push(r)}else!(t.partial||t.action||t.actionController)||"hide"===t.cls||t.id&&t.id.indexOf(":")!==-1||(t.icon&&(t.spriteCssClass=t.icon),t.label&&(t.encoded=!1,t.label=a,t.text=a,t.label.indexOf("{{")>-1&&(t.text=t.label=t.label.replace(/{|}/g,""))),m(t),t.isValid===!0&&n.push(t))}),n}function p(t){t&&e.each(t,function(t){if(t.items){var i=e.clone(t);i.items=p(t.items),t.partial&&"hide"!==t.cls&&(t.isValid=!0,m(t),v(t.items)||(t.items=null))}else(t.partial||t.action||t.actionController)&&"hide"!==t.cls&&(t.isValid=!0,m(t))})}function v(e){for(var t=!1,i=0;i<e.length;i++){var n=e[i];if((n.partial||n.action||v(n.items))&&"hide"!==n.cls){t=!0;break}}return t}function g(e,t){for(var i=0;i<e.length;i++){var n=e[i],a=t[i];if(n.items){var r=angular.element(a).find("li");g(n.items,r)}else{var s=angular.element(a),l=s.scope();n&&a&&n.actionController&&(s.attr("ng-controller",n.actionController),s.attr("ng-click",n.action),o(s)(l))}}}function m(e){var t=e.path,n=t;if(n&&(n=n.substring(0,n.lastIndexOf("/")),""!==n)){var a=i.findNavItem(n);a&&(a.isValid=!0,m(a))}}a.addClass("fis-secondary-menu");var h=a.find("ul");t.subscribe("fisFirstSecondaryItemOpened",function(){r(h.find("li:eq(0)"))});var b=h.kendoMenu({openOnClick:!0,select:d,hoverDelay:10}).data("kendoMenu");t.subscribe("shell.navChanged",function(){n.reloadSecondaryMenu=!0},!0),t.subscribe("fisAfterNavItemAdded",function(){n.reloadSecondaryMenu=!0},!0),t.subscribe("fisAfterNavItemRemoved",function(){n.reloadSecondaryMenu=!0,b.element.children().remove()},!0),t.subscribe("fisSecondaryMenuClicked",function(e){if("menubar"===e.secondaryNav){var t=b.element.children().length;p(e.children);var i=f(e.children,!0);n.secondaryMenuBarItems=i,n.secondaryMenuBarItems&&n.secondaryMenuBarItems.length>0&&e.params&&!jQuery.isEmptyObject(e.params)&&(n.secondaryMenuBarItems[0].params=e.params),n.label!==e.label&&(b.element.children().remove(),t=0),n.label!==e.label&&0===t&&b.append(n.secondaryMenuBarItems,h),n.label=e.label,n.reloadSecondaryMenu===!0&&(b.element.children().remove(),b.append(n.secondaryMenuBarItems,h),n.reloadSecondaryMenu=!1),n.secondaryMenuBarItems&&n.secondaryMenuBarItems.length>0?(g(i,b.element.children()),n.$parent.$emit(c)):n.$parent.$emit(u)}else n.secondaryMenuBarItems=null,n.$parent.$emit(u)},!0),t.subscribe("fisViewPanelReplaceVetoed",function(e){var t=e.viewPanel.navItem;t&&t.path&&(h.find(".fis-state-selected").removeClass("fis-state-selected"),h.find('a[href="'+t.path+'"]').closest(".fis-secondary-menu-top").addClass("fis-state-selected"))}),t.subscribe("fisViewPanelClosed",function(){n.$parent.viewPanels()&&0===n.$parent.viewPanels().length&&(n.secondaryMenuBarItems=null,n.$parent.$emit(u))}),t.subscribe("fisActiveViewPanelChanged",function(e){var t=e.currentNavItem;(!t||"menubar"!==t.secondaryNav&&t.isStatic!==!0)&&(n.secondaryMenuBarItems=null,n.$parent.$emit(u)),t&&t.path&&(h.find(".fis-state-selected").removeClass("fis-state-selected"),h.find('a[href="'+t.path+'"]').closest(".fis-secondary-menu-top").addClass("fis-state-selected"))})}}}]}).call(t,i(1))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(52),d=n(l),f=i(53),c=n(f),u=i(54),p=n(u),v=i(55),g=n(v),m=r.default.module("fis.kendo.number",[s.default]);m.directive("fisNumberField",d.default),m.directive("fisNumberFormat",c.default),m.provider("fisNumberFormatService",p.default),m.filter("fisNumber",g.default),t.default=m.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisFieldDirectiveFactory","fisNumberFormatService","$compile","fisMemoryUtilService","$timeout",function(t,i,n,a,r){"ngInject";return t.create({clearPlaceholder:!0,editTemplate:'<input fis-unique-id fis-input="input" kendo-numeric-text-box k-options="numberOptions" ng-model="<%= field.attrs.ngModelInput %> " k-change="callChangeFn"/>',viewTemplate:"{{numericfieldValue()}}<% if(field.attrs.fisSuffix) {%> {{ fisSuffix }}<% } %>",link:function(t,a,o){function s(i){if(""===i)return"";i.indexOf(",")>=0&&(i=i.replace(",","."));var n=parseFloat(i);return e.isUndefined(o.fisNumberFormat)||o.fisNumberFormat.indexOf("xp")===-1||(n=n?n/100:n),n=+n.toFixed(t.numberOptions.decimals),e.isNaN(n)?void 0:n}function l(){var e=g.parent();e.find(".k-select").wrap('<span class="fis-number-field-suffix-wrap"></span>');var i=n('<span ng-if="fisSuffix" class="add-on" title="{{fisSuffix}}">{{ fisSuffix }}</span>')(t);e.find(".fis-number-field-suffix-wrap").prepend(i)}function d(i,n){var a=n(i);return(e.isNaN(a)||e.isUndefined(a))&&(a=t.$eval(i)),a}function f(e,t){try{e=JSON.parse(e)}catch(i){e=t}return e}function c(i){var n=a.find("input[kendo-numeric-text-box]").data("kendoNumericTextBox");n?i(n):t.$on("kendoWidgetCreated",function(e,t){t&&i(t)}),r(function(){var t=a.find("input");e.each(t,function(t){var i=$(t).attr("placeholder");if(!e.isUndefined(i)&&""!==i){var n=i.replace(/\'/g,"");""!==n&&$(t).attr("placeholder",n),n=null}i=null})})}function u(e){return"false"!==e&&e}t.placeholderValue="";var p,v,g=a.find("input").length>0?a.find("input"):a,m=!1;a.find("input").removeAttr("placeholder");var h=function(e){e&&e.currentTarget&&e.currentTarget.value&&r(function(){var t=e.currentTarget.value.length;e.currentTarget.setSelectionRange(t,t)},0)};a.find("input").on("focus",h),g.attr("autocomplete","off");var b=g.controller("ngModel");b.$formatters.push(function(t){if(e.isUndefined(t)){var i=a.find("input[kendo-numeric-text-box]").data("kendoNumericTextBox");return i&&i.value(null),null}return e.isUndefined(o.fisNumberFormat)||o.fisNumberFormat.indexOf("xp")===-1?t:null===t?null:100*t}),b.$validators.min=function(t){return e.isUndefined(o.fisNumberFormat)||o.fisNumberFormat.indexOf("xp")===-1||(t*=100),!(!e.isUndefined(p)&&t<p)},b.$validators.max=function(t){return e.isUndefined(o.fisNumberFormat)||o.fisNumberFormat.indexOf("xp")===-1||(t*=100),!(!e.isUndefined(v)&&t>v)},b.$parsers.push(s),t.numberOptions={format:o.fisNumberFormat||i.getDefaultFormat(),decimals:e.isUndefined(o.fisDecimals)?20:o.fisDecimals,culture:o.fisLocale,step:o.step||1,spinners:u(o.spinners),min:null,max:null,spin:function(e){e.sender&&e.sender.element&&e.sender.element.trigger("change")}},t.numericfieldValue=function(){var n=t.$eval(o.ngModelInput),a="";return e.isNumber(n)?(e.isUndefined(o.fisNumberFormat)||o.fisNumberFormat.indexOf("xp")===-1||(n=n?100*n:n),a=i.formatNumber(n,t.fisNumberFormat,t.fisLocale)):e.isUndefined(n)||(a=n),a},t.$watch("numberOptions",function(t){c(function(i){t&&i.setOptions(t);var n=b.$modelValue;!e.isUndefined(o.fisNumberFormat)&&o.fisNumberFormat.indexOf("xp")!==-1&&n&&(n*=100),i._change(n)})},!0),t.fisSuffix=o.fisSuffix,o.$observe("ngChangeInput",function(e){t.changeInputFn=t[e]}),t.callChangeFn=function(e){t.changeInputFn&&t.changeInputFn(e)},o.$observe("fisDecimals",function(i){if(!e.isUndefined(i)){var n=d(i,f);t.numberOptions.decimals=e.isUndefined(n)?20:n}}),o.$observe("step",function(i){e.isUndefined(i)||(t.numberOptions.step=d(i,f)||1)}),o.$observe("minInput",function(t){e.isUndefined(t)||(p=d(t,parseFloat))}),o.$observe("maxInput",function(t){e.isUndefined(t)||(v=d(t,parseFloat))}),o.$observe("spinners",function(i){e.isUndefined(i)?t.numberOptions.spinners=!0:t.numberOptions.spinners=u(i)}),o.$observe("placeholderInput",function(t){c(function(){e.isUndefined(t)||""===t||a.find("input:eq(0)").attr("placeholder",t)})}),o.$observe("readonlyInput",function(t){e.isUndefined(t)||(t=f(t,!1),c(function(e){e&&e.readonly(t)}))}),o.$observe("fisSuffix",function(i){c(function(n){n&&(t.fisSuffix=i,e.isUndefined(i)||!m&&i&&(l(),m=!0))})}),o.$observe("fisSize",function(e){c(function(){var t=g.parent();t.addClass("input-append"),o.fisSize?(t.addClass("input-"+e),t.find("input").addClass("input-"+e)):(t.addClass("input-large"),t.find("input").addClass("input-large"))})}),t.$watch("fisDisabled",function(t){e.isUndefined(t)||(t=f(t,!1),c(function(e){e&&e.enable(!t)}))}),"T"===fis.initParams().appStage&&c(function(){a.find(".k-icon.k-i-arrow-60-up").attr("fisid",g.attr("fisid")+"_increaseNumberButton"),a.find(".k-icon.k-i-arrow-60-down").attr("fisid",g.attr("fisid")+"_decreaseNumberButton"),a.find("input:eq(0)").attr("fisid",g.attr("fisid")+"_formattedNumberField")}),t.$on("$destroy",function(){a.find("input").off("focus",h);var e=a.find("input[kendo-numeric-text-box]").data("kendoNumericTextBox");e&&e.destroy()})}})}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$filter","fisNumberFormatService",function(t,i){"ngInject";return{link:function(t,n,a){var r=n.find("input").length>0?n.find("input"):n,o=!e.isUndefined($(r).attr("kendo-numeric-text-box"));if(!o){var s=r.controller("ngModel");s||(s=n.controller("ngModel"));var l=function(e){var n="";return e&&(n=i.formatNumber(s.$modelValue,t.fisNumberFormat,t.fisLocale)),n};s.$formatters.unshift(l);var d=function(t){var i;if(t){i=e.isNumber(t)?t:kendo.parseFloat(t,a.fisLocale);var n=r.data("kendoNumericTextBox");return n&&(e.isNumber(n.options.decimals)&&n.options.decimals>0&&(i=i.toFixed(n.options.decimals)),e.isNumber(n.options.min)&&i<n.options.min&&n.value(null),e.isNumber(n.options.max)&&i>n.options.max&&n.value(null)),i}return t};s.$parsers.unshift(d),t.fieldValue=function(){var n="";return e.isNumber(s.$modelValue)?n=i.formatNumber(s.$modelValue,t.fisNumberFormat,t.fisLocale):e.isUndefined(s.$modelValue)||(n=s.$modelValue),n}}a.$observe("fisLocale",function(e){t.fisLocale=e,t.numberOptions&&(t.numberOptions.culture=e),s&&s.$modelValue&&(s.$modelValue+=1)}),a.$observe("fisNumberFormat",function(n){var a=n;if(n.indexOf("sp")!==-1||n.indexOf("xp")!==-1){var r=n.substring(2);try{if(""!==r){n="#.";var o=parseInt(r);if(e.isNaN(o))throw new Error("Invalid number format: "+a);for(var l=0;l<o;l++)n+="#"}else n="#";n+=" \\%"}catch(e){throw new Error("Invalid number format: "+a)}}e.isEmpty(n)&&(n=i.getDefaultFormat()),t.fisNumberFormat=n,t.numberOptions&&(t.numberOptions.format=n),s&&s.$modelValue&&(s.$modelValue+=1)})}}}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this;t.$get=["fisI18nService","fisPubSubService","fisConfig",function(t,i,n){function a(e){var i;return i=e?e:t.locale()}var r={},o="#.####################";return angular.isUndefined(n.widgets)||angular.isUndefined(n.widgets.fisNumberFormat)||angular.isUndefined(n.widgets.fisNumberFormat.defaultFormat)||(o=n.widgets.fisNumberFormat.defaultFormat),r.getDefaultLocale=function(){return a()},r._getDefaultFormatString=function(){var e;return e=locale?locale:t.locale()},r.getDefaultFormat=function(){return o},r.formatNumber=function(t,i,n){if(e.isString(t)){var s=kendo.parseFloat(t);e.isNumber(s)&&(t=s)}if(!e.isNumber(t)||e.isNaN(t))return"";(e.isUndefined(i)||0===i.length)&&(i=o),!angular.isString(i)||0!==i.indexOf("xp")&&0!==i.indexOf("sp")||(i=r.getCustomFormat(i));var l=kendo.toString(t,i,a(n));return l},r.getCustomFormat=function(t){if(0===t.indexOf("xp"))return t.replace("xp","p");var i=t.substring(2);try{if(""!==i){t="#.";var n=parseInt(i);if(e.isNaN(n))throw new Error("Invalid number format: "+userFormat);for(var a=0;a<n;a++)t+="#"}else t="#";t+=" \\%"}catch(e){throw new Error("Invalid number format: "+userFormat)}return t},r}]}}).call(t,i(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisNumberFormatService",function(e){"ngInject";return function(t,i,n){return e.formatNumber(t,i,n)}}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(6),d=n(l),f=i(57),c=n(f),u=i(58),p=n(u),v=r.default.module("fis.kendo.tabs",[s.default,d.default]);v.service("fisOverflowService",c.default),v.directive("fisTabbedComponentList",p.default),t.default=v.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t="visible",i="overflow",n=this;this.calculateVisibleTabs=function(a,r){var o={};o[i]=[],o[t]=[];var s=0,l=0,d=-1,f=r;if(e.each(a,function(e){if(n.validateTab(e)===!1)throw new Error("Invalid overflow tab object provided");s+=e.width,f-=e.width,e.index=l;r>s?o[t].push(e):e.active===!1&&(o[i].push(e),d=l,f+=e.width,s-=e.width),l++}),f<=0)for(var c=o[t];f<=0;){var u=c.length-1,p=c[u];if(e.isUndefined(p))break;f+=p.width,o[i].push(p),o[t].splice(u,1)}return o},this.isSpaceAvailable=function(t,i){var a=0;return e.each(t,function(e){if(n.validateTab(e)===!1)throw new Error("Invalid overflow tab object provided");a+=e.width}),i>a},this.availableSpace=function(t,i){var a=0;return e.each(t,function(e){if(n.validateTab(e)===!1)throw new Error("Invalid overflow tab object provided");a+=e.width}),i-a},this.validateTab=function(t){return!e.isUndefined(t.active)&&!e.isUndefined(t.width)}}}).call(t,i(1))},function(module,exports,__webpack_require__){(function(_){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.default=["fisKendoDataSourceFactory","$compile","$timeout","$parse","$window","fisOverflowService","fisUtilService","fisUniqueIdService","fisPubSubService","fisMemoryUtilService","fisKendoUtilService","$sanitize",function(fisKendoDataSourceFactory,$compile,$timeout,$parse,$window,fisOverflowService,fisUtilService,fisUniqueIdService,fisPubSubService,fisMemoryUtilService,fisKendoUtilService,$sanitize){"ngInject";function exposeWidgetAPI(e,t,i){var n=$parse(t.fisTabbedComponentList).assign;n&&n(e.$parent,i),i.overflowTabs=e.overflowTabs,i.closeTab=e.closeTab,i.addTab=e.addTab,i.moveOverflowTabToTabstrip=e.moveOverflowTabToTabstrip}var overflow={tabMaxWidth:220,tabsWidthBuffer:90,tabstripWidthBuffer:140,tabstripWidthBufferMaxWidthTab:240,tabstripWidthBufferAfterResize:280};return{restrict:"AEC",require:["fisData","?fisRefresh"],template:'<div class="kendo-tab-strip" k-ng-delay="noptions"></div>',scope:{callBackFn:"&fisOnClose"},link:function link(scope,element,attrs,ctrls){function onSelect(e){var t=previousTabIndex,i=jQuery(e.item).attr("index");if(i){previousTabIndex=parseInt(i,10);var n=e.item.textContent;$(e.item).find(".fis-close").length>0&&(n=n.slice(0,-1).trim());var a=angular.element(e.contentElement),r=_.find(scope.data,function(e){var t=$.parseHTML(e.label)[0].data;return t===n});if(n&&""!==n){if(_.contains(scope.loaded,n))$timeout(r&&r.args?function(){a.children().eq(0).scope().tabArgs=r.args}:function(){a.children().eq(0).scope().tabArgs={}});else{var o;r&&r.partial?o=$compile('<div><div class="fis-tab-data" ng-include="\''+fisUtilService.appendCacheQueryParameter(r.partial)+"'\"></div></div>")(scope.$parent):r&&r.template&&(o=$compile("<div>"+r.template+"</div>")(scope.$parent));var s=o.scope();r&&r.args?s.tabArgs=r.args:s.tabArgs={},a.children().eq(0).remove(),a.append(o),$compile(a)(scope.$parent),$timeout(function(){scope.$apply()}),scope.loaded.push(n)}if(!_.isUndefined(scope.onSelect))if(scope.firstSelectDone){var l=scope.$parent.$eval(scope.onSelect);l&&l(e)}else scope.firstSelectDone=!0}fisMemoryUtilService.cancelTimeoutOnDestroy(scope,selectTimeout,$timeout),fisPubSubService.publish("fisTabbedComponentList.tabChanged",{newIndex:previousTabIndex,oldIndex:t})}}function onShow(){scope.$parent.$broadcast("stretchToBottom")}function addUniqueId(e,t){var i=angular.element(e),n=angular.element(t),a=i.text();a&&(n.attr("fis-unique-id","content_"+a.replace(", ","_")),$compile(t)(scope.$parent))}function addUniqueIds(e){var t=e.tabGroup.children();_.each(t,function(t,i){var n=e.contentElement(i);addUniqueId(t,n)})}function handleOverflowIndexSelection(e){var t=getTabFromIndex(e);_.isUndefined(t)||scope.moveOverflowTabToTabstripOnClick(null,t.title,scope.overflowTabs)}function handleNonOverflowIndexSelection(e){var t=getNonOverflowTabItemIndexes();t.indexOf(e)!==-1&&kendoTabstrip.select(e)}function onDataFetch(e){scope.data=e.data;var t=element.find(".kendo-tab-strip"),i=[];scope.loaded=[],scope.isShown=!1,kendoTabstrip.remove(kendoTabstrip.tabGroup.children());var n=0,a=[],r=[];_.each(e.data,function(e,t){i[t]=e.label=$sanitize(e.label),kendoTabstrip.append({text:'<div id="label" class="fis-tabbed-label">'+e.label+"</div>",content:"<div></div>",encoded:!1}),_.isUndefined(e.hotkey)||_.isNull(e.hotkey)?a.push(e.label):(a.push(e.label+" - "+e.hotkey),r.push(e.hotkey))});var o=getTabStripItemsElement(t).find(".k-item");_.each(o,function(e){angular.element(e).attr("title",$.parseHTML(a[n])[0].data),angular.element(e).attr("hotkey",r[n]),angular.element(e).attr("index",n),n++});var s=t.find("div#label");if(_.each(s,function(e,t){var i=scope.data[t].closeable;if(i=angular.isDefined(i)?JSON.parse(i):i,_.isBoolean(i)){if(i){var n=$compile('<span class="fis-cover"><span fis-unique-id class="fis-close" aria-label="close" ng-click=\'close($event)\'>&times;</span></span>')(scope);angular.element(e).append(n)}}else{var n=$compile('<span class="fis-cover"><span fis-unique-id class="fis-close" ng-if="closeable" aria-label="close" ng-click=\'close($event)\'>&times;</span></span>')(scope);angular.element(e).append(n)}}),kendoTabstrip.select(scope.openTabIndex),addUniqueIds(kendoTabstrip),exposeWidgetAPI(scope,attrs,kendoTabstrip),"false"!==attrs.fisOverflow){var l=addUniqueTabstripIds(t),d=[];scope.overflowTabs[l]=d,scope.overflowCaretWidth="20px",kendoTabstrip.tabstripId=l,kendoTabstrip.append({text:'<div id="overflow'+l+'" fisid="overflow'+l+'"><div ng-style="{textAlign:\'center\', width:overflowCaretWidth}" class="dropdown" name="dropdownContainer"><a class="dropdown-toggle fis-tabbed-overflow-menu-caret" ng-click="showOverflowMenu($event,overflowTabs)"><b class="caret" ng-class="caretDirection()"></b></a><ul class="dropdown-menu pull-right fis-tabbed-overflow-menu-tab-container" name="tabbedComponentListOverflowContainer" id="overflowContainer'+l+'" role="menu"><li ng-repeat="item in overflowTabs[tabstripId]" class="fis-tabbed-overflow-menu-tab"><div fis-unique-id ng-click=showOverflowTabItem(item) title={{item}} >{{item}}</div></li></ul></div>',
content:"",encoded:!1}),"left"!=tabPosition&&"right"!=tabPosition||(scope.overflowCaretWidth=parseFloat(kendoTabstrip.element.find("ul").width())),addShowOverflowFunction(l),addMoveOverflowTabFunction(l);var f=$timeout(function(){addStylingAndUniqeIdToOverflowTab(l);var e=scope.$watch(function(){return element.is(":visible")},function(e){e===!0&&resizeList()});fisMemoryUtilService.cancelWatchOnDestroy(scope,e),removeLinksFromOverflowTab(l),hideOverflowIfNoMoreTabs(l),bindClickToWindow(l)});fisMemoryUtilService.cancelTimeoutOnDestroy(scope,f,$timeout)}}function bindClickToWindow(e){viewWindow.bind("click",{tabstripId:e},clickHandler)}function addStylingAndUniqeIdToOverflowTab(e){var t=getTabStripItemsElement().find("li.k-last").addClass("fis-tabbed-overflow-container");t.attr("id","overflowTab"+e)}function removeLinksFromOverflowTab(e){$("#overflowContainer"+e+" li").each(function(){$(this).find("a").replaceWith(function(){return this.innerHTML})})}function addShowOverflowFunction(e){var t=getTabStripItemsElement(tabstrip).find("#overflow"+e).closest("li");t.attr("ng-click","showOverflowMenu($event, overflowTabs)");var i=$compile(t[0])(scope);angular.element(t).replaceWith(i)}function addMoveOverflowTabFunction(e){var t=tabstrip.find("#overflowContainer"+e),i=t.closest("li");i.attr("ng-click","moveOverflowTabToTabstripOnClick($event, item, overflowTabs)");var n=$compile('<ul fis-unique-id="fis-overflow-menu_'+e+'" style="z-index: 1" class="dropdown-menu pull-right fis-tabbed-overflow-menu-tab-container" id="overflowContainer'+e+'" role="menu"><li sq-unique-id="{{item}}_'+e+'" title="{{item}}" class="fis-tabbed-label fis-tabbed-overflow-menu-tab" ng-click="moveOverflowTabToTabstripOnClick($event, item, overflowTabs)" ng-repeat="item in viewOverflowTabs(overflowTabs)">{{item}}</li></ul>')(scope);angular.element(t).replaceWith(n)}function addUniqueTabstripIds(e){var t=attrs.fisTabbedComponentList||attrs.name||"";return fisUniqueIdService.generateUniqueIdForce(scope,e,{},t)}function unwrapTabs(e){var t=[];return _.each(e,function(e){t.push(e.rawTab.title)}),t}function resizeList(){if(scope.ready){var e;for(var t in scope.overflowTabs)e=t;var i=element.find(".k-tabstrip"),n=calculateContainerWidth(i);if(n<0){var a=$timeout(function(){n=parseFloat(i.width()),doResize(n,e)},0);fisMemoryUtilService.cancelTimeoutOnDestroy(scope,a,$timeout)}else doResize(n,e)}}function doResize(e,t){var i=getTabStripItemsElement(),n=i.find("li:not(.fis-tabbed-overflow-menu-tab):not(.k-last)"),a=wrapTabObjects(n),r=fisOverflowService.calculateVisibleTabs(a,e),o=unwrapTabs(r.visible),s=unwrapTabs(r.overflow),l=0;_.each(r.overflow,function(e){scope.moveTabToOverflow(t,e.title),hideTabOnTabstrip(e.index),showOverflowIfHasTabs(t),l+=1});var d=_.filter(o,function(e){return _.contains(scope.overflowTabs[t],e)});!_.isUndefined(d)&&_.isArray(o)&&n.length>0&&d.length>0&&(scope.moveTabFromOverflow(t,d),r=fisOverflowService.calculateVisibleTabs(a,e),s=unwrapTabs(r.overflow),scope.overflowTabs[t]=s),hideOverflowIfNoMoreTabs(t);var f=tabstripWidthAfterResizingFinished(null,e);if(f){var c=$("[fisid="+t+"] li:not(.fis-tabbed-overflow-menu-tab):not(.k-last):not(#overflowTab"+t+")");$.each(c,function(e){showAllTabsOnTabstrip(e),scope.overflowTabs[t].length=0}),hideOverflowTab(t)}}function showOverflowIfHasTabs(e){void 0!==scope.overflowTabs[e]&&scope.overflowTabs[e].length>0&&getTabStripItemsElement().find(".fis-tabbed-overflow-container").show()}function hideOverflowIfNoMoreTabs(e){void 0!==scope.overflowTabs[e]&&0===scope.overflowTabs[e].length&&getTabStripItemsElement().find(".fis-tabbed-overflow-container").hide()}function tabstripWidthAfterResizingFinished(e,t){var i;if(null===t){var n=element.find("div [fisid="+e+"]");i=calculateContainerWidth(n)}else i=t;var a=getTabStripItemsElement().find("li:not(.k-last):visible"),r=overflow.tabstripWidthBufferAfterResize;return angular.forEach(a,function(e){r+=calculateTabWidth(e)}),i>r}function calculateContainerWidth(e){var t=overflow.tabsWidthBuffer,i=fisUtilService.calculateContainerWidth(e);return i-t}function calculateTabWidth(e){var t=angular.element(e),i=parseFloat(t.width());return i>overflow.tabMaxWidth&&(i=overflow.tabMaxWidth),i}function atLeastOneTabHasMaxWidth(e){for(var t=!1,i=0;i<e.length;i++){var n=angular.element(e[i]),a=parseFloat(n.width());if(a>=overflow.tabMaxWidth){t=!0;break}}return t}function hideTabOnTabstrip(e){$(kendoTabstrip.items()[e]).attr("style","display:none")}function setTabAsSelected(e){var t=getTabStripItemsElement().find('li[title="'+e+'"]').index();kendoTabstrip.select(t)}function showTabOnTabstrip(e,t){var i=getTabStripItemsElement().find('li[title="'+t+'"]'),n=i.attr("title");if(n===t){var a=i.index();$(kendoTabstrip.items()[a]).show()}}function showAllTabsOnTabstrip(e){$(kendoTabstrip.items()[e]).show()}function reverseTabs(e){var t=_.toArray(e.slice(0));return t.reverse()}function hideOverflowTab(){getTabStripItemsElement().find(".fis-tabbed-overflow-container").css("display","none")}function hideOverflowMenu(e){$("#overflowContainer"+e).hide()}function wrapTabObject(e){var t={};return t.rawTab=e,t.width=calculateTabWidth(e),t.title=e.title,t.active=$(e).hasClass("k-state-active"),t}function wrapTabObjects(e){var t=[];return _.each(e,function(e){if(e.title.length>0){var i=wrapTabObject(e);t.push(i)}}),t}if(scope.openTabIndex=0,isNaN(parseInt(attrs.fisOpenTabIndex,10)))try{scope.openTabIndex=$parse(attrs.fisOpenTabIndex)(scope)}catch(e){}else scope.openTabIndex=attrs.fisOpenTabIndex?Number(attrs.fisOpenTabIndex):0;var validTabPositions=["left","right","top","bottom"],tabPosition=validTabPositions.indexOf(attrs.fisTabPosition)>-1?attrs.fisTabPosition:"top";scope.closeable=!(!attrs.fisCloseable||"false"===attrs.fisCloseable);var fisData=ctrls[0],fisRefresh=ctrls[1];scope.overflowTabs={};var getTabStripItemsElement=function(e){return(e||element).find(".k-tabstrip-items:first")};if(scope.ready=!0,scope.resizeTimeOut={},!_.isUndefined(attrs.fisOnSelect)){var funcName=attrs.fisOnSelect.substring(0,attrs.fisOnSelect.indexOf("("));scope.onSelect=funcName,scope.firstSelectDone=!1}var dataSource=fisKendoDataSourceFactory.createListDataSource(fisData.fetchData);dataSource.bind("requestEnd",function(e){var t=e.response.data,i=t.length,n="";if(_.each(t,function(e,t){_.isUndefined(e.hotkey)||_.isNull(e.hotkey)||(n+=e.hotkey,t+1!==i&&(n+=","))}),""!==n){var a=element.find(".kendo-tab-strip"),r=$("<div></div>");r.attr("fis-on-hotkey-event","openTabByHotkey(e)"),r.attr("fis-hotkey",n),r.attr("fis-custom-hotkey","false"),$compile(r)(scope),a.append(r)}});var viewWindow=angular.element($window);scope.openTabByHotkey=function(){var e=this.fisHotKeyPressedKey;if(!_.isUndefined(e)){var t=getTabStripItemsElement().find('li[hotkey="'+e+'"]').index();kendoTabstrip.select(t)}};var getOverflowTabItemIndexes=function(){var e;for(var t in scope.overflowTabs)e=t;var i=scope.overflowTabs[e]?scope.overflowTabs[e]:[],n=[];return _.each(kendoTabstrip.items(),function(e){var t=jQuery(e).attr("index");if(t)for(var a=0;a<i.length;a++)if(e.title===i[a]){n.push(parseInt(t,10));break}}),n},itemOverflowTabIndex=function(e){for(var t=getOverflowTabItemIndexes(),i=0;i<t.length;i++)if(t[i]===e)return i},getNonOverflowTabItemIndexes=function(){var e;for(var t in scope.overflowTabs)e=t;var i=scope.overflowTabs[e]?scope.overflowTabs[e]:[],n=[],a=[];return _.each(kendoTabstrip.items(),function(e){var t=jQuery(e).attr("index");if(t){n.push(parseInt(t,10));for(var r=0;r<i.length;r++)if(e.title===i[r]){a.push(parseInt(t,10));break}}}),_.difference(n,a)},previousTabIndex=-1,indexToSelect=-1,selectTimeout=null,getTabFromIndex=function(e){var t;return _.each(kendoTabstrip.items(),function(i){var n=parseInt(jQuery(i).attr("index"),10);n===e&&(t=i)}),t},fetchRequiredItem=function(e){var t=getNonOverflowTabItemIndexes();return indexToSelect="home"===e?t[0]:"end"===e?t[t.length-1]:"prev"===e?previousTabIndex===t[0]?t[t.length-1]:t[t.indexOf(previousTabIndex)-1]:previousTabIndex===t[t.length-1]?t[0]:t[t.indexOf(previousTabIndex)+1],previousTabIndex=indexToSelect,getTabFromIndex(indexToSelect)},getItem=function e(t){var i=fetchRequiredItem(t);return jQuery(i).hasClass("k-state-disabled")&&(i=e(t)),i},keyDownHandler=function(e){var t,i=e.keyCode;if("tabstrip"===jQuery(e.target).attr("data-role")){switch(i){case 35:t="end";break;case 36:t="home";break;case 37:case 38:t="prev";break;case 39:case 40:t="next"}if(t){e.stopPropagation();var n=getItem(t);kendoTabstrip.select(n)}}};element.on("keydown",keyDownHandler),attrs.$observe("fisCloseable",function(e){scope.closeable=JSON.parse(e)}),attrs.fisOpenTabIndex=attrs.fisOpenTabIndex||"0",attrs.$observe("fisOpenTabIndex",function(e){if(isNaN(parseInt(e,10)))try{e=$parse(e)(scope)}catch(e){}void 0===e&&(e=0),scope.openTabIndex=e});var openIndexWatch=scope.$watch("openTabIndex",function(e){if(void 0!==e&&""!==e)if(0===kendoTabstrip.select().length)kendoTabstrip.select(e);else{var t=parseInt(e,10);if(scope.overflowTabs&&0!==scope.overflowTabs.length){var i=itemOverflowTabIndex(t);_.isUndefined(i)?handleNonOverflowIndexSelection(t):handleOverflowIndexSelection(t)}else handleNonOverflowIndexSelection(t)}});fisMemoryUtilService.cancelWatchOnDestroy(scope,openIndexWatch);var tabstrip=element.find(".kendo-tab-strip");tabstrip.kendoTabStrip({select:onSelect,show:onShow,scrollable:!1,tabPosition:tabPosition,animation:{open:{effects:"fadeIn"}}});var setOptionsTimeout=$timeout(function(){kendoTabstrip.setOptions({navigatable:!1})});fisMemoryUtilService.cancelTimeoutOnDestroy(scope,setOptionsTimeout,$timeout);var kendoTabstrip=tabstrip.data("kendoTabStrip");scope.$on("$destroy",function(){element.off("keydown",keyDownHandler),viewWindow.unbind("click",clickHandler),viewWindow.unbind("resize",resizeHandler),viewWindow.unbind("resizeEnd",resizeEndHandler),$(window).unbind("scroll",scrollHandler),unsubscribe(),fisMemoryUtilService.destroyKendoWidgets(kendoTabstrip),angular.element("ul#overflowContainer"+kendoTabstrip.tabstripId+":visible").remove()});var clickHandler=function(e){e.stopPropagation(),$(e.target).hasClass("fis-tabbed-overflow-menu-tab-container")||hideOverflowMenu(e.data.tabstripId)};scope.showOverflowMenu=function(e,t){if(void 0!==t){var i;for(var n in t)i=n;e.preventDefault(),e.stopImmediatePropagation();var a,r=$("#overflowContainer"+i),o=$(window).scrollTop(),s=$(".fis-tabbed-overflow-menu-caret")&&$(e.currentTarget),l=s.offset();if("left"==tabPosition||"right"==tabPosition){var d=l.top+s.outerHeight()-o-parseFloat(r.height());a="left"==tabPosition?s.offset().left:s.offset().left-180}else{var d=l.top+s.outerHeight()-o;if("bottom"==tabPosition)var d=l.top+s.outerHeight()-o-parseFloat(r.height());a=s.offset().left-180}$("body").append(r),r.toggle(),r.css({width:"220px",top:d+"px",position:"fixed",left:a,"z-index":10009})}},scope.caretDirection=function(){return"fis-caret-position-"+tabPosition};var scrollHandler=function(){var e;for(var t in scope.overflowTabs)e=t;hideOverflowMenu(e)};$(window).bind("scroll",scrollHandler),scope.viewOverflowTabs=function(e){if(void 0!==e){var t;for(var i in e)t=i;return scope.overflowTabs[t]}return[]},scope.moveOverflowTabToTabstripOnClick=function(e,t,i){if(void 0!==i){var n;for(var a in i)n=a;var r,o,s,l;s=getTabStripItemsElement(),l=calculateContainerWidth(s);var d=s.find('li[title="'+t+'"]:not(.k-last)');do{r=s.find('li[title]:not([title="'+t+'"]):not(.k-last):visible'),o=wrapTabObjects(r);var f=r[r.length-1];!_.isUndefined(f)&&!_.isUndefined(f.title)&&f.title.length>0&&(scope.overflowTabs[n].unshift($(f).attr("title")),_.each(kendoTabstrip.items(),function(e){e.title===f.title&&$(e).hide()}),r.splice(r.length-1,1),r.push(d[0]),o=wrapTabObjects(r))}while(fisOverflowService.isSpaceAvailable(o,l)===!1&&"left"!==tabPosition&&"right"!==tabPosition);var c=getTabStripItemsElement().find('li[title="'+t+'"]:hidden'),u=scope.overflowTabs[n].indexOf(c.attr("title"));setTabAsSelected(t),scope.overflowTabs[n].splice(u,1),showTabOnTabstrip(n,t),hideOverflowIfNoMoreTabs(n)}},scope.moveOverflowTabToTabstrip=function(e,t){var i=$timeout(function(){if(""==e||!e)return void console.warn("Invalid TabStrip ID... ",e);var i=getTabStripItemsElement().find('> li[title="'+t+'"]:hidden').not(".k-last").show();if(i.length>0){var n=scope.overflowTabs[e].indexOf(t);n>-1&&(setTabAsSelected(t),scope.overflowTabs[e].splice(n,1));var a,r,o,s;a=element.find(".k-tabstrip"),r=calculateContainerWidth(a);do{o=getTabStripItemsElement().find('li[title]:not([title="'+t+'"]):not(.k-last):visible'),s=wrapTabObjects(o);var l=o[o.length-1];_.isUndefined(l)||_.contains(scope.overflowTabs[e],$(l).attr("title"))||(scope.overflowTabs[e].unshift($(l).attr("title")),_.each(kendoTabstrip.items(),function(e){e.title===l.title&&$(e).hide()})),scope.$$phase||scope.$apply()}while(fisOverflowService.isSpaceAvailable(s,r)===!1);scope.$apply()}});fisMemoryUtilService.cancelTimeoutOnDestroy(scope,i,$timeout)},scope.addTab=function(newTab){var newTabObj=angular.copy(newTab),tabstrip=element.find(".kendo-tab-strip"),kendoTabStrip=tabstrip.data("kendoTabStrip"),tabItems=tabstrip.data("kendoTabStrip").tabGroup.children(),idx;if(angular.isUndefined(newTabObj.idx)?idx=tabItems.last().index():(idx=parseInt(newTabObj.idx,10),(isNaN(idx)||idx>tabItems.length)&&(console.warn("Entered value is not a valid integer....."),idx=tabItems.last().index())),newTabObj.label&&(newTabObj.partial||newTabObj.template)){kendoTabStrip.insertBefore({text:'<div id="label" class="fis-tabbed-label">'+newTabObj.label+"</div>",contentUrl:newTabObj.partial,encoded:!1},tabItems.eq(idx));var itemCnt=0,items=tabstrip.find(".k-item").not(".k-last");_.each(items,function(e){angular.element(e).attr("index",itemCnt),itemCnt++}),kendoTabstrip.tabGroup.children().eq(idx).attr("title",newTabObj.label);var validArg;"tabArgs"in newTabObj&&""!=newTabObj.tabArgs?(validArg=eval("("+newTabObj.tabArgs+")"),validArg&&"object"===("undefined"==typeof validArg?"undefined":_typeof(validArg))&&(newTabObj.args=validArg,delete newTabObj.tabArgs)):delete newTabObj.tabArgs,scope.data.splice(idx,0,newTabObj),kendoTabStrip.select(idx);var newTabElem=kendoTabStrip.tabGroup.children().eq(idx),newContentElem=kendoTabStrip.contentElement(idx);addUniqueId(newTabElem,newContentElem),kendoTabStrip.tabGroup.children().eq(idx).addClass("k-state-active");var tabLabel=kendoTabStrip.tabGroup.children().eq(idx).find(".fis-tabbed-label");if(newTabObj.closeable){var closeableVal=newTabObj.closeable,compiledClose=$compile('<span class="fis-cover"><span fis-unique-id class="fis-close" aria-label="close" ng-click=\'close($event)\'> &times;</span></span>')(scope);angular.element(tabLabel).append(compiledClose)}resizeList()}},scope.closeTab=function(e){var t=element.find(".kendo-tab-strip"),i=getTabStripItemsElement(t).find("> li[title='"+e+"']");if(i){var n,a=kendoTabstrip.select();i[0]===a[0]&&(n=i.next().length?i.next():i.prev());var r=t.attr("fisid"),o=scope.overflowTabs[r],s=i.attr("title"),l=_.indexOf(o,s);l>-1&&o.splice(l,1);var d,f=scope.loaded.indexOf(s);if(attrs.fisOnClose&&!angular.isUndefined(scope.callBackFn)&&!angular.isUndefined(i)&&i.length>0){var c={currentTabElem:a,nextTabElem:n};d=scope.callBackFn({tabParams:c}),tabCloseHandler(d,n,i)}else closeCurrentTabFromTabstrip(i,n);f&&f>-1&&scope.loaded.splice(f,1),resizeList()}},scope.close=function(e){var t,i=$(e.target).closest("li"),n=kendoTabstrip.select();if(i[0]===n[0]){var a=i.next(),r=jQuery(a).attr("index");if(!_.isUndefined(a)&&r){var o=itemOverflowTabIndex(parseInt(r,10));t=_.isUndefined(o)||0===o?a:getTabFromIndex(getOverflowTabItemIndexes()[0])}else{var s=i.prev().length?i.prev():i.next(),r=jQuery(s).attr("index");if(0===itemOverflowTabIndex(parseInt(r,10)))t=s;else{var l=getOverflowTabItemIndexes();t=l[0]?getTabFromIndex(l[0]):s}}}var d,f=i.attr("title"),c=scope.loaded.indexOf(f);if(attrs.fisOnClose&&!angular.isUndefined(scope.callBackFn)&&!angular.isUndefined(i)&&i.length>0){e.stopPropagation();var u={currentTabElem:n,nextTabElem:t,eventObj:e};d=scope.callBackFn({tabParams:u}),tabCloseHandler(d,t,i)}else closeCurrentTabFromTabstrip(i,t);c&&c>-1&&scope.loaded.splice(c,1),resizeList()};var tabCloseHandler=function(e,t,i){!angular.isUndefined(e)&&fisKendoUtilService.isPromiseObject(e)?e.then(function(e){(angular.isUndefined(e)||e!==!1)&&closeCurrentTabFromTabstrip(i,t)}):(angular.isUndefined(e)||e!==!1)&&closeCurrentTabFromTabstrip(i,t)},closeCurrentTabFromTabstrip=function(e,t){kendoTabstrip.remove(e),t&&kendoTabstrip.select(t),resizeList()};fisData.addAfterFetchListener(onDataFetch);var refresh=function(e){if(!e||!e.defaultPrevented){var t=$timeout(function(){dataSource.read()});fisMemoryUtilService.cancelTimeoutOnDestroy(scope,t,$timeout)}};scope.$on("fisRefresh",refresh),fisRefresh&&(fisRefresh.trigger=refresh),dataSource.read();var resizeHandler=function(){$(this).trigger("resizeEnd")};viewWindow.bind("resize",resizeHandler);var resizeEndHandler=function(){if("false"!==attrs.fisOverflow){var e=scope.overflowTabs[0];for(var t in scope.overflowTabs)e=t;resizeList(),$("#overflowContainer"+e).css("display","none")}};viewWindow.bind("resizeEnd",resizeEndHandler),scope.moveTabFromOverflow=function(e,t){for(var i=reverseTabs(t),n=0;n<i.length;n++){var a=element.find(".k-tabstrip"),r=calculateContainerWidth(a),o=getTabStripItemsElement().find("li:not(.fis-tabbed-overflow-menu-tab):not(.k-last):visible"),s=wrapTabObjects(o),l=fisOverflowService.isSpaceAvailable(s,r);l&&showTabOnTabstrip(e,i[n])}},scope.moveTabToOverflow=function(e,t){t.length>0&&!_.contains(scope.overflowTabs[e],t)&&scope.overflowTabs[e].push(t)};var unsubscribe=fisPubSubService.subscribe("fisModalDialogHasTabbedCompList",function(){resizeList()})}}}]}).call(exports,__webpack_require__(1))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(5);var a=i(2),r=n(a);i(3);var o=i(4),s=n(o),l=i(6),d=n(l),f=i(60),c=n(f),u=i(61),p=n(u),v=r.default.module("fis.kendo.treeview",[s.default,d.default]);v.directive("fisTreeNode",c.default),v.directive("fisTreeView",p.default),t.default=v.name},39,function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","$parse","fisKendoDataSourceFactory","$timeout","fisI18nService","fisUniqueIdService","fisMemoryUtilService",function(t,i,n,a,r,o,s){"ngInject";function l(e,t,i){for(var n=0;n<e.length;n++)e[n].checked&&t.push(e[n].id),e[n].hasChildren?l(e[n].children.view(),t,i):e[n].checked&&i.push(e[n].id)}function d(t){var i;return e.isUndefined(t.fisPageLabel)||(i=t.fisPageLabel),i}function f(t){var i=!1;return e.isUndefined(t.fisLazyLoading)||"true"===t.fisLazyLoading&&(i=!0),i}function c(t){var i;return e.isUndefined(t.fisPageSize)||(i=t.fisPageSize),i}return{restrict:"AEC",require:["fisData","?fisRefresh"],scope:{clickFn:"&fisOnClick",expandFn:"&fisOnExpand",collapseFn:"&fisOnCollapse",checkboxSelect:"&fisCheckboxOnSelect",checkFn:"&fisOnCheck"},template:'<div class="treeView"></div>',controller:["$scope",function(e){e.page=1,e.showMoreEnabled=!0,e.showMore=function(){e.showMoreEnabled&&(e.page+=1)},e.checkedNodes="",e.getSelectedNodes=function(){return e.checkedNodes},e.setSelectedNodesAndLeaves=function(t,i){e.checkboxSelect({nodes:t.join(","),leaves:i.join(",")})},e.setSelectedNodesAndLeavesOnModel=function(t,i){e.$parent.checked&&(t&&t.length>0?e.$parent.checked.nodes=t:e.$parent.checked.nodes=[],i&&i.length>0?e.$parent.checked.leaves=i:e.$parent.checked.leaves=[])}}],link:function(u,p,v,g){function m(i){var n;n=e.isUndefined(i.node)?p:i.node;var a=!e.isUndefined(v.fisQuickActionData&&v.fisQuickActionData.length>0),r=!e.isUndefined(v.fisQuickActionDataBranch&&v.fisQuickActionDataBranch.length>0);if(!V&&(a||r)){var s=p.find(".treeView");s.addClass("fis-quick-action-menu"),e.isUndefined(v.fisId)||s.attr("fis-id",v.fisId+"_qam"),a&&s.attr("fis-quick-action-data",v.fisQuickActionData),r&&s.attr("fis-quick-action-data-branch",v.fisQuickActionDataBranch),t(s)(u),V=!0}var l=n.find("span[ng-click]").not(".fis-tree-node");if(l&&l.length&&l.length>0){l.addClass("fis-tree-node");var d=t(l)(u.$parent),f=p.find(".treeView").data("kendoTreeView");e.each(d,function(e){var t=angular.element(e).scope();f&&f.dataSource.at(0)&&(t.nodeData=f.dataItem(e))})}var c=n.find(".k-in");e.each(c,function(e){var t=angular.element(e);o.generateUniqueId(u,t,{},t.text())});var g=n.find('input[type="checkbox"]');e.each(g,function(e){var t=angular.element(e);o.generateUniqueId(u,t,{},"cb_"+t.attr("id"))})}function h(t){if(e.isUndefined(u.oldData))u.oldData=t.response.data;else{var i=a(function(){var e=p.find(".k-first");e.length?W.data("kendoTreeView").insertBefore(u.oldData,e):(W.data("kendoTreeView").append(u.oldData),D()),t.response.data.length<u.pageSize&&D(),u.oldData=u.oldData.concat(t.response.data)});s.cancelTimeoutOnDestroy(u,i,a)}}function b(e){u.expandFn({event:e,node:L.dataItem(e.node)}),"$apply"!==u.$root.$$phase&&"$digest"!==u.$root.$$phase&&u.$apply()}function w(e){u.collapseFn({event:e,node:L.dataItem(e.node)}),"$apply"!==u.$root.$$phase&&"$digest"!==u.$root.$$phase&&u.$apply()}function k(e){u.checkFn({event:e,node:L.dataItem(e.node)}),"$apply"!==u.$root.$$phase&&"$digest"!==u.$root.$$phase&&u.$apply()}function D(){u.showMoreEnabled=!1;var e=p.find(".treePaging");e.removeClass("treePaging"),e.addClass("treePagingDisabled"),p.find(".fis-legacy-i-arrow_down").remove()}function y(){if(!e.isUndefined(v.fisQuickActionData&&v.fisQuickActionData.length>0))return'# if(!item.items && !item.hasItems) { # <span class="qactions-target icon-chevron-down " qaid="#: item.id #" /># } #'}function S(){if(!e.isUndefined(v.fisQuickActionDataBranch&&v.fisQuickActionDataBranch.length>0))return'# if(item.items || item.hasItems) { # <span class="qactions-target qactions-branch icon-chevron-down " qaid="#: item.id #" /># } #'}function T(){var t=["<span"];return e.isUndefined(v.fisOnClick)||(t.push(' ng-click="'),t.push(v.fisOnClick),t.push('" ')),t.push(">"),t.push("#: item.title #"),t.push("</span>"),t.push(y()),t.push(S()),kendo.template(t.join(""))}function C(){var e='<input type="checkbox" # if (item.id) {# id="#: item.id#" # } if (item.checked) {# checked #  } if (item.enabled == false) {# class="fis-cursor-not-allowed k-state-disabled" onclick="return false;" onkeydown="return false;" #  }#></input>';return kendo.template(e)}function x(t){var i=!0;return e.isUndefined(t.fisCheckChildren)||"false"===t.fisCheckChildren&&(i=!1),{checkChildren:i,template:C()}}function F(i){e.isUndefined(v.fisOnClick)||a(function(){var e=angular.element(i.element[0]).find(".k-in");angular.forEach(e,function(e){var i=e.children[1].attributes["ng-click"].value,n=angular.element(e.children[1]).scope();$(e).attr("ng-click",i),$(e.children[1]).removeAttr("ng-click"),t(e)(n),$(e.children[1]).unbind("click")})},0)}function O(e,t){if("T"===fis.initParams().appStage){var i=a(function(){var i=e.find(".k-icon"),n=e.find(".k-in").attr("fisid"),a="";t.name?(a=t.name,i.each(function(e){$(this).attr("fisid","fis-tree-view-"+a+"-icon-"+e)})):(a=n,i.each(function(e){$(this).attr("fisid","fis-tree-view-"+a[e]+"-icon-"+e)}))},0);s.cancelTimeoutOnDestroy(u,i,a)}}function U(e,t){for(var i,n=t,a=0;a<e.length;a++){var r=e[a];if(0===n.indexOf(r.id)){var o=n.substring(0,n.indexOf("/"));if(""!==o&&(n=n.substring(o.length+1),i=r),t===n){K=!0,G=r;break}if(r.hasChildren&&(U(r.children.view(),n),G))break}}return G}function M(t){var i=['<div id="showMore" class="treePaging" ng-click="showMore()" ng-disabled="!showMoreEnabled">'];i.push('<i class="fis-legacy-icon fis-legacy-i-arrow_down" />');var n=d(t);return e.isUndefined(n)||0===n.length?i.push(r.translate("fisTreeView.showMore","Show More")):i.push(n),i.push('<i class="fis-legacy-icon fis-legacy-i-arrow_down" />'),i.push("</div>"),i.join("")}function I(e,t,n){var a=i(t.fisTreeView).assign;a&&a(e.$parent,n),n.selectNode=e.selectNode}var P=g[0],_=g[1],V=!1,L=p.find(".treeView"),A=angular.element(L);P.addBeforeFetchListener(function(){kendo.ui.progress(A,!0)}),P.addAfterFetchListener(function(){kendo.ui.progress(A,!1),O(p,v)});var N,E={},j=f(v);N=j?{id:function(t){if(!e.isEmpty(t))return t.id}}:{q:"filter.filters[0].value"};var z=c(v);e.isUndefined(z)||(N.limit=parseInt(z,10),N.offset=u.page,u.pageSize=N.limit);var q=n.createHierarchicalDataSource(P.fetchData,N,E,v);q.bind("requestEnd",h);var W,R=T();if(e.isUndefined(v.fisCheckbox))W=A.kendoTreeView({dataSource:q,autoBind:!1,dataTextField:["title"],loadOnDemand:j,dataSpriteCssClassField:["icon"],dataBound:m,template:R,expand:b,collapse:w}),L=A.data("kendoTreeView"),F(L),q.read();else{var H=a(function(){W=A.kendoTreeView({dataSource:q,checkboxes:x(v),dataTextField:["title"],loadOnDemand:j,dataSpriteCssClassField:["icon"],dataBound:m,template:R,expand:b,collapse:w,check:k}),L=A.data("kendoTreeView"),F(L),L.dataSource.bind("change",function(){var e=[],t=[];l(L.dataSource.view(),e,t),u.setSelectedNodesAndLeaves(e,t,v),u.setSelectedNodesAndLeavesOnModel(e,t)})});s.cancelTimeoutOnDestroy(u,H,a)}var B=function(e){if(!e||!e.defaultPrevented){var t=a(function(){delete u.oldData,q.read()});s.cancelTimeoutOnDestroy(u,t,a)}};u.$on("fisRefresh",B),_&&(_.trigger=B),$(".k-treeview > .k-group").addClass("k-treeview-lines"),O(p,v),u.selectNode=function(e){var t,i=L.dataSource.view();return t=U(i,e),t&&L.select(L.findByUid(t.uid)),t};var G,K=!1;if(!e.isUndefined(c(v))){var Y=M(v);Y=t(Y)(u),o.generateUniqueId(u,Y,v,"showMore"),$(Y).insertAfter(A)}var Q=u.$watch("page",function(t,i){if(t!==i){var n=c(v);e.isUndefined(n)||(N.limit=parseInt(n,10),N.offset=u.page),q.read()}});s.cancelWatchOnDestroy(u,Q),I(u,v,L)}}}]}).call(t,i(1))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$scope","$timeout","fisKendoUtilService","fisPubSubService",function(t,i,n,a){"ngInject";var r=[];r.push(a.subscribe("fisLocaleChanged",function(e){n.updateKendoLocale(e)})),t.$on("$destroy",function(){e.each(r,function(e){e()}),i.cancel(resizeTimeout)})}]}).call(t,i(1))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";function e(e){return $.expr.filters.visible(e)&&!$(e).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var t=this;t.$get=[function(){var e={};return e.updateKendoLocale=function(e){var t,i,n=$("[data-role=datepicker],[data-role=timepicker],[data-role=datetimepicker],[data-role=numerictextbox]"),a=0,r=n.length;for(kendo.culture(e);a<r;a++)t=kendo.widgetInstance(n.eq(a),kendo.ui),t&&(i=t.value(),t.options.name.indexOf("Picker")!==-1&&(t.options.format=void 0,t.options.timeFormat=void 0),t.setOptions(t.options),t.value(i))},e.isPromiseObject=function(e){return!!e.then&&"function"==typeof e.then},e}],jQuery.extend($.expr[":"],{focusable:function(t,i){var n,a,r,o=t.nodeName.toLowerCase();return"area"===o?(n=t.parentNode,a=n.name,!(!t.href||!a||"map"!==n.nodeName.toLowerCase())&&(r=$("img[usemap='#"+a+"']")[0],!!r&&e(r))):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&e(t)}})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$rootScope","fisPubSubService","fisKendoUtilService",function(e,t,i){"ngInject";e.controllersArr&&e.controllersArr.push("fis.kendo.UtilController");var n=t.subscribe("fisLocaleSet",function(e){i.updateKendoLocale(e),n(),n=null})}]},function(e,t){e.exports="fis.widgets"}]));
//# sourceMappingURL=fis-kendo-components.min.js.map;
/*!
 * 
 * @ruf/fis-widgets
 * Version: 4.5.0
 * 
 * © 2018
 * Fidelity National Information Services, Inc. and/or its subsidiaries - All Rights Reserved worldwide.
 * This document is protected under the trade secret and copyright laws as the property of Fidelity National Information Services, Inc. and/or its subsidiaries.
 * Copying, reproduction or distribution should be limited and only to employees with a “need to know” to do their job. Any disclosure of this document to third parties is strictly prohibited.
 * 
 */
!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var i=t.slice(1),n=e[t[0]];return function(e,t,a){n.apply(this,[e,t,a].concat(i))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),i(3);var a=i(1),s=n(a),r=i(138),o=n(r);i(24);var l=i(65),f=n(l),u=i(86),d=n(u),c=i(104),p=n(c),g=i(124),m=n(g),v=i(128),h=n(v),b=i(135),S=n(b),I=s.default.module("fis.widgets",[o.default,f.default,d.default,p.default,m.default,h.default,S.default]);t.default=I.name},function(e,t){e.exports=angular},function(e,t){e.exports=_},function(e,t){e.exports=jQuery},function(e,t){},4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,function(e,t){e.exports="<header class=fis-page-header> <h1>{{ $ctrl.title }} <small><span ng-bind-html=$ctrl.subtitle></span></small> </h1> <div class=fis-controls ng-transclude></div> </header> "},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","fisI18nService","fisUtilService","$parse","$window","$document","$timeout","fisMemoryUtilService",function(t,i,n,a,s,r,o,l){"ngInject";return{transclude:!0,require:["fisData","?fisRefresh"],template:'<div class="accordion" role="tablist" fis-pub-sub></div>',scope:{openPanelIndex:"=?fisOpenPanelIndex"},link:function(f,u,d,c){function p(t){var i=!1;return e.isUndefined(t.fisLazyLoading)||"true"===t.fisLazyLoading&&(i=!0),i}function g(e){O.empty();var i=T(e,L,w,p(d)),n=t(angular.element(i))(f);O.append(n),t(n)(f.$parent),(!f.openPanelIndex||f.openPanelIndex>=e.length)&&(f.openPanelIndex=0);var a=v(u,f.openPanelIndex,f,e);b(u,e,a),f.setHeight()}function m(e){x&&f.$apply(function(){f.openPanelIndex=e})}function v(e,t,i){var n=e.find(".accordion-body"),a=0;return angular.forEach(n,function(e){e=angular.element(e);var i=$(e).parents(".accordion "),n=i.find(".accordion-heading"),s=i.find(".accordion-body");if(a===t){D(!1,s,n),D(!0,e,$(n[t]));var r=$(n[t]).find(".accordion-toggle").attr("href"),l=i.find(r);h(l,t),o(function(){N=!1,m(parseInt(t,10)),N=!0})}else t<0&&D(!1,s,n);a+=1}),i.collapseHandler=function(e){var t=$(e.currentTarget).find(".accordion-toggle").attr("href"),i=$(".accordion "+t),n=i.parents(".accordion "),a=i.closest(".accordion").find(".accordion-heading"),s=$(n).find(".accordion-body");if($(e.currentTarget).is(".fis-accordion-heading-wrapper-active"))D(!1,s,a),o(function(){N=!1,m(-1),N=!0});else{D(!1,s,a),D(!0,i,$(e.currentTarget));var r=S(t);h(i,r),o(function(){N=!1,m(parseInt(r,10)),N=!0})}},n}function h(e,i){var a=k[i].partial;if(a){var s=e.find(".accordion-inner"),r=s.scope();s.empty();var l=["<div>"],u=a;u=n.appendCacheQueryParameter(u),_(l,u),l.push("</div>");var d=l.join("");d=angular.element(d),s.append(t(d)(r)),o(function(){f.$apply()})}}function b(t,i,n){angular.forEach(i,function(t,i){if(!e.isUndefined(t.args)){var a=t.args,s=n[i];s=angular.element(s);var r=s.scope();r.panelArgs=a}})}function S(e){if(e){var t=e.split("_"),i=t.length-1;if(i>-1)return t[i]}return 0}function I(e,t,n){var a=['<div><div ng-click="collapseHandler($event)" role="tab" class="fis-accordion-heading accordion-heading" '];return a.push(' fis-unique-id="'+i.translate(e,e)+'"'),a.push('aria-controls="'+t+'"'),a.push(" >"),a.push('<div class="accordion-toggle " data-parent="#'),a.push(n),a.push('_parent" href="#'+t+'">'),a.push('<span class="fis-accordion-caret" '),"T"===fis.initParams().appStage&&(a.push('" fisid="'),a.push(t),a.push('_caret" ')),a.push("/>"),a.push(i.translate(e,e)),a.push("</div></div></div>"),a.join("")}function y(e,t,i,n,a){var s=['<div id="'];return s.push(i),"T"===fis.initParams().appStage&&(s.push('" fisid="'),s.push(i)),s.push('" class="accordion-body fis-tab-data" role="tabpanel"><div class="fis-accordion-inner-wrapper"><div class="accordion-inner"'),n&&""!==n&&s.push(' style="height:'+n+'px; overflow:auto;" '),s.push(">"),a&&f.openPanelIndex!==t||(e.indexOf(".html")>0?_(s,e):s.push(e)),s.push("</div></div></div>"),s.join("")}function T(e,t,i,a){var s=[],r=0,o=null;return s.push('<div class="accordion-group">'),angular.forEach(e,function(e){var l=t+"_collapse_"+r;s.push(I(e.label,l,t)),e.partial?(o=e.partial,o=n.appendCacheQueryParameter(o)):o=e.template,s.push(y(o,r,l,i,a)),r+=1}),s.push("</div>"),s.join("")}function _(e,t){e.push("<ng-include src=\"'"),e.push(t),e.push("'\"/>")}function D(e,t,i){e?t.slideDown(300).addClass("open"):t.slideUp(300).removeClass("open"),i&&M(e,i)}function M(e,t){e?(t.addClass("fis-accordion-heading-wrapper-active").removeClass("fis-accordion-heading-wrapper-not-active"),t.attr("aria-expanded",!0),t.find(".fis-accordion-heading").addClass("fis-accordion-heading-active").removeClass("fis-accordion-heading-not-active"),t.find(".fis-accordion-caret").addClass("fis-accordion-caret-active").removeClass("fis-accordion-caret-not-active")):(t.removeClass("fis-accordion-heading-wrapper-active").addClass("fis-accordion-heading-wrapper-not-active"),t.attr("aria-expanded",!1),t.find(".fis-accordion-heading").removeClass("fis-accordion-heading-active").addClass("fis-accordion-heading-not-active"),t.find(".fis-accordion-caret").removeClass("fis-accordion-caret-active").addClass("fis-accordion-caret-not-active")),f.setHeight()}var P=c[0],C=c[1];f.fisFixedHeight=d.fisFixedHeight;var E=d.fisFixedHeight,w=d.fisContentHeight,L=d.name,O=u.find(".accordion"),x=Boolean(a(d.fisOpenPanelIndex).assign),A=angular.element(O);A.attr("id",L+"_parent"),E&&""!==E&&(A.css("height",E+"px"),A.css("overflow","auto"));var k,R=P.fetchData(),N=!0;f.subscribe("fisSidebarVisibilityChanged",function(e){"sidebar"===f.fisFixedHeight&&e.newValue===!0&&f.setHeight()}),R.then(function(e){k=e.data,f.$evalAsync(function(){g(k)})},function(e){console.warn("Problem loading data: "+e)}),angular.element(s).bind("resize",function(){f.setHeight()}),f.setHeight=function(){var e=o(function(){if("sidebar"===f.fisFixedHeight||"viewPanel"===f.fisFixedHeight){var e,t,i=0,n=u.find(".accordion");if(n.height(500),"sidebar"===f.fisFixedHeight){var a=u.closest(".fis-sidebar");t=parseInt(a.find(".fis-sidebar-content").height(),10),e=parseInt(a.find(".sidebar-list").height(),10),i=0}"viewPanel"===f.fisFixedHeight&&(t=parseInt($(s).height(),10),e=parseInt(r.height(),10),i=0),j(n,e,t,i)}},0);l.cancelTimeoutOnDestroy(f,e,o)};var j=function(e,t,i,n){var a=u.find(".fis-accordion-heading-wrapper-active");if(0===a.length)return e.css("height","auto"),void e.css("overflow","auto");f.fixedHeight=t-parseInt(e.height(),10);var s=i-f.fixedHeight-n;s<120&&(s=120);var r=e.find(".fis-accordion-heading-wrapper-not-active"),o=35*r.length,l=34*a.length,d=s-(o+l+5);d<50&&(d=50);var c=a.next(".accordion-body").find(".fis-accordion-inner-wrapper");c.css("height",d),c.css("overflow","auto"),e.css("height",s),e.css("overflow","auto")},U=function(e){return/^\+?(0|[1-9]\d*)$/.test(e)},F=f.$watch("openPanelIndex",function(e,t){if(e!==t&&N){var i=U(e);e=i&&e<k.length?e:0;var n=u.find(".open"),a=u.find(".accordion-heading");if(n.length&&D(!1,$(n),a),i){var s=u.find(".accordion-body")[e],r=$(a[e]),o=$(r).find(".accordion-toggle").attr("href"),l=S(o);s&&(N=!0,D(!0,$(s),r),h($(s),l))}}});l.cancelWatchOnDestroy(f,F);var q=function(e){if(!e||!e.defaultPrevented){var t=o(function(){g(k,!0)});l.cancelTimeoutOnDestroy(f,t,o)}};f.$on("fisRefresh",q),C&&(C.trigger=q)}}}],i(4)}).call(t,i(2))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(26),o=n(r),l=s.default.module("fis.widgets.components.accordion",[]);l.directive("fisAccordion",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisConfig","$parse","$compile","fisMemoryUtilService",function(e,t,i,n){"ngInject";function a(e,t,i){e.empty(),t.empty(),i.empty()}function s(e,t){var i=Object.keys(t);angular.forEach(i,function(i){"label"!==i&&e.attr(i,t[i])}),e.append(t.label)}function r(e,n,a,s){var r=e.find("div.fis-primary-block"),o=e.find("div.fis-secondary-block"),l=e.find("div.fis-tertiary-block");if(n.attr("fis-button")){var f=t(n.attr("fis-button"))(s);"primary"===f?r.append(n):"secondary"===f?o.append(n):"tertiary"===f?l.append(n):o.append(n)}else"fis-primary"===a?r.append(i(angular.element(n))(s)):"fis-secondary"===a?o.append(i(angular.element(n))(s)):"fis-tertiary"===a&&l.append(i(angular.element(n))(s))}return{restrict:"C",replace:!0,transclude:!0,require:"?fisData",template:'<div class="clearfix">\n\t\t\t\t\t<div class="fis-block">\n\t\t\t\t\t\t<div class="fis-primary-block"></div>\n\t\t\t\t\t\t<div class="fis-secondary-block"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fis-tertiary-block"></div>\n\t\t\t</div>',compile:function(i,o,l){return function(i,o,f,u){var d=o.find("div.fis-primary-block"),c=o.find("div.fis-secondary-block"),p=o.find("div.fis-tertiary-block"),g=[];if(u){var m=i.$watch(f.fisData,function(){u.fetchData().then(function(e){a(d,c,p),g=e.data,angular.isArray(g)&&angular.forEach(g,function(e){var t=angular.element("<button/>");s(t,e),r(o,t,e.class,i)})})});n.cancelWatchOnDestroy(i,m)}l(i,function(e){var n=e.filter(":button");angular.forEach(n,function(e){if(angular.element(e).attr("fis-button")){var n=t(angular.element(e).attr("fis-button"))(i);"primary"===n?d.append(e):"secondary"===n?c.append(e):"tertiary"===n?p.append(e):c.append(e)}else angular.element(e).hasClass("fis-primary")?d.append(e):angular.element(e).hasClass("fis-secondary")?c.append(e):angular.element(e).hasClass("fis-tertiary")&&p.append(e)})}),e.primaryActionsFirst===!0&&o.addClass("fis-primary-first")}}}}],i(5)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(28),o=n(r),l=s.default.module("fis.widgets.components.action-bar",[]);l.directive("fisActionBar",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(6),t.default={bindings:{clickFn:"&fisMethod"},template:'<i class="clickIcon {{$ctrl.icon}}" ng-click="$ctrl.clickIcon($event)"></i>',controller:["fisConfig","$attrs",function(e,t){var i=this;i.icon=t.icon?t.icon:"glyphicon glyphicon-stop",i.clickIcon=function(e){e&&e.stopPropagation(),angular.isFunction(i.clickFn)&&i.clickFn({event:e})}}]}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(30),o=n(r),l=s.default.module("fis.widgets.components.click-icon",[]);l.component("fisClickIcon",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(7),t.default={}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(32),o=n(r),l=s.default.module("fis.widgets.components.dropdown-menu",[]);l.component("fisDropdownMenu",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i,n){"ngInject";return{restrict:"EA",replace:"true",scope:{},template:'<div class="fixedMenu"></div>',controller:["$element","$scope",function(e,t){t.closeQuickActions=function(){t.onClose&&t.onClose(),e.css("display","none")}}],link:function(a,s,o){function f(e){s.empty();var t=u(e.items),i=angular.element(t);i.on("click","a",{},function(t){var i=o.id,n=angular.element(t.target),s=n.text();l.default.isUndefined(n.attr("id"))||(s=n.attr("id")),l.default.isUndefined(n.attr("method"))||e.methods[n.attr("method")](i,s),a.closeQuickActions()}),s.append(i)}function u(e){var t='<div class="dropdown open"><ul class="dropdown-menu">';return l.default.each(e,function(e){var i="";!l.default.isUndefined(e.method)&&e.method.length>0&&(i='method="'+e.method+'"');var s="";!l.default.isUndefined(e.id)&&e.id.length>0&&(s='id="'+e.id+'"');var r="<li><a "+s+' class="fixedMenuItem" '+i+">"+e.label+"</a></li>",o=angular.element(r);n.generateUniqueId(a,o,{},e.label),t+=o[0].outerHTML}),t+="</ul></div>"}s.outside||!function(e){e.fn.outside=function(t,i){return this.each(function(){var n=this;e(document).on(t,function a(s){s.target===n||e.contains(n,s.target)||(i.apply(n,[s]),n.parentNode||e(document.body).off(t,a))})})}}(r.default);var d=function(){a.onClose&&a.onClose(),s.css("display","none")};s.outside("click",function(){d&&d()}),e.addEventListener("scroll",d),t.subscribe("fisTabsBar.tabClosed",d);var c=function(e){s.css("display","inline"),s.css("left",e.position.left).css("top",e.position.top+"px"),a.onClose=e.onClose,f(e)};i.register(o.id,c),a.$on("$destroy",function(){e.removeEventListener("scroll",d),d=void 0})}}}a.$inject=["$window","fisPubSubService","fisFixedMenuService","fisUniqueIdService"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,i(8);var s=i(3),r=n(s),o=i(2),l=n(o)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(34),o=n(r),l=s.default.module("fis.widgets.components.fixed-menu",[]);l.directive("fisFixedMenu",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={template:'<footer class="fis-footer" fis-unique-id="footer"><p ng-if="$ctrl.summary">{{$ctrl.summary}}</p><span ng-transclude></span></footer>',transclude:!0,bindings:{summary:"@fisSummaryText"}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(36),o=n(r),l=s.default.module("fis.widgets.components.footer",[]);l.component("fisFooter",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","fisFieldDirectiveFactory","fisMemoryUtilService","$timeout",function(e,t,i,n){"ngInject";return t.create({viewTemplate:'{{fieldValue().join(",")}}',fieldValue:function(e,t,i,n){function a(e,t){t.fisLabel?e.push(t.fisLabel):e.push(t.$modelValue)}var r=[],o=t.find(".fis-input").length;return angular.forEach(n,function(e){s.default.isUndefined(e)||s.default.isUndefined(e.$modelValue)||(1===o?a(r,e):e.$modelValue&&e.$viewValue&&o>1&&a(r,e))}),r},require:"?fisData",compile:function(t,a,r,o){return function(t,a,r,l){function f(i,n,a,o){var l=i.find(".fis-inputs"),f=n.find("input"),d=!0;0===f.length&&(f=angular.element("<input/>"),d=!1);var c=0;angular.forEach(f,function(e){e=angular.element(e);var i=e.attr("ng-model");if(!i&&!a)throw new Error("One of the checkbox inputs is missing a ng-model attribute. "+e);var f=i;f||(f=a,e.attr("name")&&(f+="."+e.attr("name"))),e.attr("ng-model",f),e.attr("fis-unique-id",""),d?e.attr("fis-input","input"+c++):e.attr("fis-input","input"),e.attr("ng-true-value",n.attr("ng-true-value-input")),e.attr("ng-false-value",n.attr("ng-false-value-input"));var p=e.attr("fis-disabled");s.default.isUndefined(p)?e.attr("ng-disabled","fisDisabled"):e.attr("ng-disabled",p),e.attr("type",o),e.attr("ng-change",n.attr("ng-change-input"));var g='<span class="checkbox-label">'+(e.attr("fis-label")||"")+"</span>";u(e,t.$eval(f)),l.append(angular.element('<label class="fis-checkbox '+o+" "+o+"-"+(void 0!==r.fisInline&&(""===r.fisInline||"true"===r.fisInline.toLowerCase())&&"inline"||"")+'"></label>').append(e[0]).append('<span class="checkbox-icon"></span>').append(g))}),e(l)(t)}function u(e,t){var i=a.attr("fis-true-value-label"),n=a.attr("fis-false-value-label");!s.default.isUndefined(e)&&e.length>0&&!s.default.isUndefined(t)&&(e.attr("ng-true-value")!=t&&1!=t&&!e[0].checked||s.default.isUndefined(i)||""===i?e.attr("ng-false-value")!=t&&0!=t&&e[0].checked||s.default.isUndefined(n)||""===n||e.attr("fis-label",n):e.attr("fis-label",i)),i=void 0,n=void 0}function d(){var e=a.find(".fis-checkbox");angular.forEach(e,function(e){$(e).remove()})}function c(){l.fetchData().then(function(e){d();for(var t=e.data,i=0;i<t.length;i++){var n=t[i].name,s=t[i].label;o.append('<input name="'+n+'" fis-label="'+s+'"/>')}f(a,o,v,m)})}function p(e){var t=a.find(".fis-input");s.default.isUndefined(t)||1!==t.length||(u(t,e),g(t)),t=void 0}function g(e){var t=a.find(".control-label-view");!s.default.isUndefined(t)&&!s.default.isUndefined(e)&&!s.default.isUndefined(e.attr("fis-label"))&&t.length>0&&(t[0].innerHTML=e.attr("fis-label")),t=void 0}var m="checkbox",v=r.ngModel||r.ngModelInput;if(delete r.ngModel,l?c():f(a,o,v,m),r.fisData&&r.fisData.indexOf(":")<0)try{var h=t.$watch(r.fisData,function(e,t){s.default.isNaN(e)||e===t||c()});i.cancelWatchOnDestroy(t,h)}catch(e){console.warn("Cannot watch on fis-data expression ",r.fisData)}var b=t.$watch(r.ngModelInput,function(e,t){e!==t&&n(function(){p(e)})},!0);i.cancelWatchOnDestroy(t,b),t.$on("$destroy",function(){d()})}}})}],i(9);var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(38),o=n(r),l=s.default.module("fis.widgets.components.forms.checkbox-field",[]);l.directive("fisCheckboxField",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","fisFieldDirectiveFactory",function(e,t){"ngInject";return t.create({editTemplate:'\n      <% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n        <input fis-input="input" type="email" class="input-<%= field.attrs.fisSize %>"/>\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',viewTemplate:'\n      <% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n        <a>{{fieldValue()}}</a>\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',link:function(t,i,n){var a=i.find(".fis-inputs");n.fisPrefix&&a.addClass("input-prepend"),n.fisSuffix&&a.addClass("input-append");var s=angular.element(i).find(".fis-view-value").find("a");s.attr("href","mailto:{{fieldValue()}}"),e(s)(t)}})}],i(10)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(40),o=n(r),l=s.default.module("fis.widgets.components.forms.email-field",[]);l.directive("fisEmailField",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisFieldDirectiveFactory",function(e){"ngInject";return e.create({transclude:!0,editTemplate:"<div ng-transclude></div>"})}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(42),o=n(r),l=s.default.module("fis.widgets.components.forms.field",[]);l.directive("fisField",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisScopeUtils",function(e){"ngInject";function t(e){var t={},i={},n={};return s.default.each(s.default.keys(e.$attr),function(a){if(a.match(/^sg/))t[a]=e[a];else if(a.match(/^ng/)){var s=e.$attr[a];i[s]=e[a]}else n[a]=e[a]}),{fisAttrs:t,ngAttrs:i,htmlAttrs:n}}var i='<div\n      <% _.each(data.htmlAttrs, function(value, key) { %>\n        <%= key %>="<%= value %>"\n      <% }); %>\n      >\n      <fieldset ng-class="{\'form-horizontal\': !isStacked}">\n        <%= data.contents %>\n      </fieldset>\n    </div>',n=s.default.template(i);return{restrict:"EA",scope:!0,controller:["$scope",function(e){e.fisDisabled=!1,e.fisEditMode=!0,e.isStacked=!1,e.stackedLabels=function(t){return null!=t&&(e.isStacked=Boolean(t)),e.isStacked},e.disabledFields=function(t){return null!=t&&(e.fisDisabled=Boolean(t)),e.fisDisabled},e.editMode=function(t){return null!=t&&(e.fisEditMode=Boolean(t)),e.fisEditMode}}],compile:function(i,a){var s=i.html(),r=t(a);r.contents=s;var o=n({data:r});return i.replaceWith(o),function(t,i,n){i.addClass("fis-fields"),t.fisDisabled=t.$eval(n.fisDisabled)||!1,t.fisEditMode=t.$eval(n.fisEditMode)||!0,t.isStacked=t.$eval(n.fisStacked)||!1;var a=n.fisSizeLabel;void 0!=a&&(""==a&&(a="large"),i.addClass("fis-label-size-"+a)),e.watch(t.$parent,n.fisDisabled,t.disabledFields),e.watch(t.$parent,n.fisStacked,t.stackedLabels),e.watch(t.$parent,n.fisEditMode,t.editMode,!0)}}}}];var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(44),o=n(r),l=s.default.module("fis.widgets.components.forms.fields",[]);l.directive("fisFields",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"E",link:function(e,t,i){e.$watch(i.name+".$dirty",function(t,n){t!==n&&t===!0?e.$emit("fisFormDirty",i.name):t!==n&&t===!1&&e.$emit("fisFormClean",i.name)}),e.$watch(i.name+".$invalid",function(t,n){t!==n&&t===!0?e.$emit("fisFormInvalid",i.name):t!==n&&t===!1&&e.$emit("fisFormValid",i.name)})}}},i(11)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(46),o=n(r),l=s.default.module("fis.widgets.components.forms.form",[]);l.directive("form",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(39),o=n(r),l=i(41),f=n(l),u=i(43),d=n(u),c=i(45),p=n(c),g=i(47),m=n(g),v=i(49),h=n(v),b=i(51),S=n(b),I=i(53),y=n(I),T=i(55),_=n(T),D=i(57),M=n(D),P=s.default.module("fis.widgets.components.forms",[o.default,f.default,d.default,p.default,m.default,h.default,S.default,y.default,_.default,M.default]);t.default=P.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(50),o=n(r),l=s.default.module("fis.widgets.components.forms.password-field",[]);l.directive("fisPasswordField",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisFieldDirectiveFactory",function(e){"ngInject";return e.create({editTemplate:'<% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n      <input ng-focus="removeInputEvent()" fis-input="input" type="password"\n      class="input-<%= field.attrs.fisSize %>"\n      />\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',viewTemplate:'<% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n      {{fieldValue() | obfuscate}}\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',link:function(e,t,i){var n=t.find(".fis-inputs");i.fisPrefix&&n.addClass("input-prepend"),i.fisSuffix&&n.addClass("input-append")}})}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(52),o=n(r),l=s.default.module("fis.widgets.components.forms.radio-field",[]);l.directive("fisRadioField",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","fisFieldDirectiveFactory","fisMemoryUtilService",function(e,t,i){"ngInject";return t.create({fieldValue:function(e,t,i,n){var a,r=[];!s.default.isUndefined(n)&&n.length>0&&(a=String(n[0].$modelValue));var o=t.find("input");return angular.forEach(o,function(e){e=angular.element(e);var t=e.attr("value");if(t===a){var i=e.attr("fis-label");s.default.isUndefined(i)||(r=i)}}),0===r.length&&(r=""),r},require:"?fisData",compile:function(t,n,a,r){return function(t,n,a,o){function l(i,n,r,o){var l=i.find(".fis-inputs"),f=n.find("input"),u=0;angular.forEach(f,function(e){e=angular.element(e);var t=e.attr("ng-model")||r;if(e.attr("tabindex","0"),e.attr("role","radio"),!t)throw new Error("One of the checkbox inputs is missing a ng-model attribute. "+e);if(e.attr("name")&&(t+="."+e.attr("name")),e.attr("ng-model",t),e.attr("name")||e.attr("name",t),e.attr("fis-unique-id",""),e.attr("fis-input","input"+u++),null!=a.required&&void 0!=a.required)e.attr("required",a.required);else if(null!=a.fisRequired&&void 0!=a.fisRequired){var i="true"===a.fisRequired;e.attr("required",i)}var f=e.attr("fis-disabled");s.default.isUndefined(f)?e.attr("ng-disabled","fisDisabled"):e.attr("ng-disabled",f),e.attr("type",o),e.attr("ng-change",n.attr("ng-change-input"));var d='<span class="radio-label">'+(e.attr("fis-label")||"")+"</span>";l.append(angular.element('<label class="fis-radio '+o+" "+o+"-"+(void 0!==a.fisInline&&(""===a.fisInline||"true"===a.fisInline.toLowerCase())&&"inline"||"")+'"></label>').append(e[0]).append('<span class="radio-icon"></span>').append(d))}),e(l)(t)}function f(){var e=n.find(".fis-radio");angular.forEach(e,function(e){$(e).remove()})}function u(){o.fetchData().then(function(e){f();for(var t=e.data,i=0;i<t.length;i++){var a=t[i].value,s=t[i].label;"string"==typeof a?r.append('<input value="'+a+'" fis-label="'+s+'"/>'):r.append('<input ng-value="'+a+'" fis-label="'+s+'"/>')}l(n,r,c,d)})}var d="radio",c=a.ngModel||a.ngModelInput;if(delete a.ngModel,o?u():l(n,r,c,d),a.fisData&&a.fisData.indexOf(":")<0)try{var p=t.$watch(a.fisData,function(e,t){s.default.isNaN(e)||e===t||u()});i.cancelWatchOnDestroy(t,p)}catch(e){console.warn("Cannot watch on fis-data expression ",a.fisData)}t.$on("$destroy",function(){f()})}}})}],i(12);var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(54),o=n(r),l=s.default.module("fis.widgets.components.forms.search-field",[]);l.directive("fisSearchField",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisFieldDirectiveFactory",function(e){"ngInject";return e.create({editTemplate:'<% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n      <input fis-input="input" type="search"\n        class="input-<%= field.attrs.fisSize %>"\n      />\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',viewTemplate:'<% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n      {{fieldValue()}}\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',link:function(e,t,i){var n=t.find(".fis-inputs");i.fisPrefix&&n.addClass("input-prepend"),i.fisSuffix&&n.addClass("input-append")}})}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(56),o=n(r),l=s.default.module("fis.widgets.components.forms.text-field",[]);l.directive("fisTextField",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisFieldDirectiveFactory",function(e){"ngInject";return e.create({editTemplate:'<% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n      <input fis-input="input" type="text" role="textbox" aria-disabled="{{setAriaDisabled()}}"\n        class="form-control input-<%= field.attrs.fisSize %>"\n      />\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',viewTemplate:'<% if (field.attrs.fisPrefix){ %><span class="add-on"><%- field.attrs.fisPrefix %></span> <% } %>\n      {{fieldValue()}}\n      <% if (field.attrs.fisSuffix){ %><span class="add-on"><%- field.attrs.fisSuffix %></span> <% } %>',link:function(e,t,i){function n(){return e.$eval(i.fisDisabled)}var a=t.find(".fis-inputs");i.fisPrefix&&a.addClass("input-prepend"),i.fisSuffix&&a.addClass("input-append"),e.setAriaDisabled=function(){return Boolean(n())}}})}],i(13)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(58),o=n(r),l=s.default.module("fis.widgets.components.forms.textarea-field",[]);l.directive("fisTextareaField",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisFieldDirectiveFactory",function(e){"ngInject";return e.create({editTemplate:'<textarea fis-input="input" role="textbox" aria-multiline="true" class="input-<%= field.attrs.fisSize %>">{{fieldValue()}}</textarea>',viewTemplate:'<div class="input-<%= field.attrs.fisSize %>"><p>{{fieldValue()}}</p></div>',link:function(e,t,i){var n=t.find("textarea"),a=t.find(".fis-view-value > div"),s={"max-height":"","overflow-y":"","overflow-x":""};n.css("resize","none"),i.$observe("fisResizable",function(e){document&&document.documentMode&&document.documentMode>9?"horizontal"===e?($(n).resizable({handles:"e"}),$(n).next().addClass("fis-resize-handler-ie-horizontal ui-icon ui-icon-gripsmall-diagonal-se")):"vertical"===e?($(n).resizable({handles:"s"}),$(n).next().addClass("fis-resize-handler-ie-vertical ui-icon ui-icon-gripsmall-diagonal-se")):"both"===e&&($(n).resizable({handles:"se"}),$(n).next().addClass("fis-resize-handler-ie-both")):"horizontal"!==e&&"vertical"!==e&&"both"!==e||n.css("resize",e)}),a.css(s),i.$observe("fisViewModeMaxHeight",function(e){var t={};t=!isNaN(e)&&e>=0?{"max-height":e+"px","overflow-x":"hidden","overflow-y":"auto"}:s,a.css(t)}),e=void 0,t=void 0,i=void 0}})}],i(14)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{template:'<header class="fis-header"><h2>{{title}}</h2><div class="fis-controls" ng-transclude></div></header>',restrict:"EA",replace:!0,transclude:!0,scope:{title:"@fisTitle",icon:"@fisIcon"}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(59),o=n(r),l=s.default.module("fis.widgets.components.header",[]);l.directive("fisHeader",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$parse","$window","$timeout","$location","fisPubSubService",function(e,t,i,n,a){"ngInject";function r(e,t,i,n,a){s.default.filter=function(e){var t=(e.target||e.srcElement).tagName;return"INPUT"===t||"SELECT"===t||"TEXTAREA"===t?s.default.setScope("input"):s.default.setScope("normal"),!0},o.default.isUndefined(n.fisGlobal)||"true"!==n.fisGlobal||(0,s.default)(t,"input",function(t){if(p&&a.is(":visible"))return o.default.isUndefined(n.fisOnHotkeyEvent)||l(t,e),e.$apply(i(e,{})),!1}),(0,s.default)(t,"normal",function(t){if(p&&a.is(":visible"))return o.default.isUndefined(n.fisOnHotkeyEvent)||l(t,e),e.$apply(i(e,{})),!1})}function l(e,t){var i=String.fromCharCode(e.keyCode),n="",a=[];e.shiftKey&&a.push("shift"),e.altKey&&a.push("alt"),e.metaKey&&a.push("meta"),e.ctrlKey&&a.push("ctrl"),e.altGraphKey&&a.push("altGraph"),o.default.each(a,function(e){n+=e+"+"}),n+=i,t.fisHotKeyPressedKey=n.toLowerCase()}function f(){var e=t.location.hash.substring(2);e.indexOf("#")!==-1&&(e=e.substring(0,e.indexOf("#")));var i=e.replace(/\//g,"_");return i}function u(){
i(function(){var e,t=f();for(var i in c)if(i!==t){var n=c[i];for(e=0;e<n.length;e++)s.default.unbind(n[e].hotkey,"normal"),s.default.unbind(n[e].hotkey,"input")}else{var a=c[t];if(a)for(e=0;e<a.length;e++)r(a[e].scope,a[e].hotkey,a[e].eventHandler,a[e].attrs,a[e].elem)}d=[]})}var d=[],c={},p=!0;return a.subscribe("fisActiveViewPanelChanged",function(){u()}),a.subscribe("fisViewPanelClosed",function(){u()}),{restrict:"AEC",link:function(t,i,n){var a,l=e(n.ngClick),u=!0;o.default.isUndefined(n.fisOnHotkeyEvent)||(l=e(n.fisOnHotkeyEvent)),l&&(n.$observe("fisHotkey",function(e){o.default.isUndefined(a)||(s.default.unbind(a,"normal"),s.default.unbind(a,"input")),n.fisCustomHotkey&&(u=n.fisCustomHotkey),r(t,e,l,n,i);var p={};p.eventHandler=l,p.hotkey=e,p.scope=t,p.attrs=n,p.elem=i,a=e,1==u&&d.push(p);var g=f();g&&d.length>0&&(c[g]=d)}),n.$observe("disabled",function(e){o.default.isBoolean(e)&&(p=!e)}),n.$observe("fisGlobal",function(e){angular.isUndefined(e)||(s.default.unbind(n.fisHotkey,"normal"),s.default.unbind(n.fisHotkey,"input"),r(t,n.fisHotkey,l,n,i))}))}}}];var a=i(139),s=n(a),r=i(2),o=n(r)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(61),o=n(r),l=s.default.module("fis.widgets.components.hotkey",[]);l.directive("fisHotkey",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var e=0;return{restrict:"AE",require:"ngModel",replace:!1,scope:{localModel:"=ngModel",fisSrc:"@",fisPosition:"@",fisAlt:"@"},template:'<div class="fis-image-select"><label for="{{uid}}" ng-class="{sgimagedesaturate: !localModel}"><img alt="{{fisAlt}}"/><span class="fis-image-select-icon"></span></label><input type="checkbox" id="{{uid}}" ng-model="localModel" fis-unique-id="fis-image-select"/></div>',link:function(t,i,n){var a=i.find("img");t.uid="fis-image-select-"+e++,n.fisSrc&&a.attr("src",n.fisSrc),n.fisSize&&i.find(".fis-image-select").addClass("fis-image-select-"+n.fisSize),t.fisPosition&&i.find(".fis-image-select").addClass("fis-position-"+t.fisPosition)}}},i(15)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(63),o=n(r),l=s.default.module("fis.widgets.components.image-select",[]);l.directive("fisImageSelect",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(27),o=n(r),l=i(29),f=n(l),u=i(31),d=n(u),c=i(33),p=n(c),g=i(35),m=n(g),v=i(37),h=n(v),b=i(48),S=n(b),I=i(60),y=n(I),T=i(62),_=n(T),D=i(64),M=n(D),P=i(66),C=n(P),E=i(68),w=n(E),L=i(70),O=n(L),$=i(72),x=n($),A=i(74),k=n(A),R=i(76),N=n(R),j=i(78),U=n(j),F=i(82),q=n(F),B=i(80),G=n(B),H=i(84),V=n(H),z=s.default.module("fis.widgets.components",[o.default,f.default,d.default,p.default,m.default,h.default,S.default,y.default,_.default,M.default,C.default,w.default,O.default,x.default,k.default,N.default,U.default,q.default,G.default,V.default]);t.default=z.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(67),o=n(r),l=s.default.module("fis.widgets.components.info-panel",[]);l.directive("fisInfoPanel",o.default),t.default=l.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisMemoryUtilService","fisInfoPanelConfigService","$timeout",function(t,i,n){"ngInject";return{template:'<div ng-hide="displayMessageOnPanel()" ng-class="msgClass()" ng-click="showDetails()">\n                  <button ng-show="closeable" fis-unique-id="closeButton" type="button" class="close" aria-label="close" ng-click="dismissMessages(); stopAnimation(); $event.stopPropagation();"><i class="glyphicon glyphicon-remove"></i></button>\n                  <ul><li aria-live="polite" aria-atomic="false" ng-repeat="msg in messages" ng-bind-html="msg.message || msg.msg"></li></ul>\n                  </div>',restrict:"ACE",replace:!0,scope:!0,controller:["$scope","$element",function(a,s){function r(){s.hasClass(m)&&s.removeClass(m),m=void 0;var e=a.infoPanelDef.size||S.size,t=a.infoPanelDef.position||S.position;e?m="fis-info-panel-size-"+e:t&&(m="fis-info-panel-size-default"),m&&s.addClass(m)}function o(){s.hasClass(v)&&s.removeClass(v),v=void 0;var e=a.infoPanelDef.position||S.position;e&&(v="fis-info-panel-position-"+e),v&&s.addClass(v)}function l(){a.messages&&0!==a.messages.length&&a.dismissMessages&&a.dismissMessages(),s.css("visibility","hidden"),s.off("mouseenter mouseleave")}function f(){s.stop(!0,!1),s.css("opacity","1"),s.css("display","block"),s.css("visibility","visible")}function u(e){n(function(){s.fadeOut(e,l)}),s.hover(function(){s.stop(!0,!1).fadeOut(),s.stop(!0,!0).fadeIn(0)},function(){s.fadeOut(e,l)})}function d(){var e;if(a.infoPanelDef.animation?e=a.infoPanelDef.animation.timeout:S.animation&&(e=S.animation.timeout),e?angular.isObject(e)?e=parseInt(e[a.messages[0].type],10):angular.isString(e)&&(e=parseInt(e,10)):e=1e4,0!==e)if(s.is(":visible"))u(e);else{var i=n(function(){u(e)},0);t.cancelTimeoutOnDestroy(a,i,n)}a.timeout=e}function c(){angular.isFunction(a.infoPanelDef.clickHandler)&&(a.showDetails=function(){a.stopAnimation(),a.infoPanelDef.clickHandler(a.infoPanelDef.response)})}function p(){r(),o(),d(),c()}function g(){e.isUndefined(a.infoPanelDef)||a.infoPanelDef.isMessageShown||(s.stop(!0,!1).fadeOut(),f(),a.infoPanelDef.isMessageShown=!0,p())}var m,v,h=["info","success","warning","error"],b=["alert fis-info glyphicon glyphicon-info-sign","alert fis-success glyphicon glyphicon-ok","alert fis-warning glyphicon glyphicon-warning-sign","alert fis-error glyphicon glyphicon-warning-sign"],S={};S=i.getAnimationTimeout(),a.msgClass=function(){if(a.messages&&0===a.messages.length)return"hide";var e=0;return angular.forEach(a.messages,function(t){e=Math.max(e,h.indexOf(t.type))}),g(),0===a.timeout&&3===e?a.closeable=!0:a.closeable=e<=3,b[e]},a.stopAnimation=function(){s.stop(!0,!0).fadeOut(0),s.off("mouseenter mouseleave"),l()};var I=a.$watch("messages",function(e){e&&0===e.length&&s.is(":visible")&&l()},!0);t.cancelWatchOnDestroy(a,I)}],compile:function(){return function(e,t){t.hasClass("fis-info-panel")||t.addClass("fis-info-panel")}}}}],i(16)}).call(t,i(2))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(69),o=n(r),l=s.default.module("fis.widgets.components.list-builder",[]);l.directive("fisListBuilder",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisI18nService","$compile","$timeout","fisSortService","$parse","fisUniqueIdService","fisMemoryUtilService","fisElementUtils","fisPubSubService",function(e,t,i,n,a,r,o,l,f){"ngInject";function u(e,t){if(!s.default.isUndefined(e)&&0!==e.length){var i=s.default.pluck(e,"value");e.length=0,s.default.each(t,function(t){i.indexOf(t.value)>-1&&e.push(t)})}}function d(e,t){if("alphabetical-asc"===e.fisSort||"alphabetical-desc"===e.fisSort)n.sort(t,e.fisSort,e.caseSensitiveSorting);else if((s.default.isUndefined(e.fisSort)||"natural"===e.fisSort)&&"false"===e.fisManualOrder)if(e.isGroupedList)for(var i in e.groupedAllDataUnindexed)t&&t.length>0&&t[0].group===i&&u(t,e.groupedAllDataUnindexed[i]);else u(t,e.allDataUnindexed)}return{restrict:"EA",template:'<div class="fis-list-builder">\n                <!--Left hand ListBox-->\n                <div class="fis-list-builder-left-container">\n                    <p class="fis-list-builder-title" fis-unique-id="leftListBoxTitle{{uniqueSeed}}" ng-if="showLabel">{{ labelLeft }}</p>\n                    <input id="left_filter_box" ng-disabled="fisDisabled" ng-if="showFilter" fis-unique-id="leftSearchFilter{{uniqueSeed}}" ng-model="filterLeft.text" class="fis-list-builder-search-filter" name="fis-list-builder-search" type="search" placeholder="Filter..."/>\n                    <div class="fis-list-builder-left-inner-container">\n                    <div class="k-loading-mask" ng-if="isLoading.left"><span class="k-loading-text">Loading...</span>\n                    <div class="k-loading-image"></div>\n                        <div class="k-loading-color"></div>\n                    </div>\n                    <div class="fis-list-builder-left" fis-unique-id="leftListBox{{uniqueSeed}}">\n                    <div ng-if="isGroupedList">\n                    <div ng-repeat="(groupName,data) in visibleGroupLeftData track by groupName">\n                        <span ng-if="data.length"><strong fis-unique-id="group_name_left">{{groupName}}</strong></span>\n                        <ul><li ng-init="getClassList(item.class)" fis-unique-id="left_{{item.label.trim()}}{{uniqueSeed}}" ng-class="{ \'fis-list-builder-option\': !isSelected(item, \'left\'), \'fis-list-builder-option-selected\': isSelected(item, \'left\'), \'fisDisabled\':fisDisabled, \'{{classList.list}}\':{{classList.isClassPresent}}}"\n                             ng-repeat="item in data track by item.value"\n                             ng-click="fisDisabled || changeItemWrapper(item, \'left\')" ng-dblclick="fisDisabled || changeItemWrapper(item, \'left\'); fisDisabled || moveToRightBox();"\n                            unselectable="on"\n                            >{{item.label.trim()}}</li></ul></div>\n                    </div>\n                    <div ng-if="!isGroupedList" >\n                        <ul><li ng-init="getClassList(item.class)" fis-unique-id="left_{{item.label.trim()}}{{uniqueSeed}}" ng-class="{ \'fis-list-builder-option\': !isSelected(item, \'left\'), \'fis-list-builder-option-selected\': isSelected(item, \'left\'), \'fisDisabled\':fisDisabled, \'{{classList.list}}\':{{classList.isClassPresent}}}"\n                         ng-repeat="item in visibleLeftData track by item.value"\n                         ng-click="fisDisabled || changeItemWrapper(item, \'left\')" ng-dblclick="fisDisabled || changeItemWrapper(item, \'left\'); fisDisabled || moveToRightBox();"\n                        unselectable="on"\n                        >{{item.label.trim()}}</li></ul>\n                    </div>\n                </div>\n                </div>\n                 </div>\n                <!--Buttons -->\n                <div class="fis-list-builder-holder fis-list-builder-holder-middle" >\n                    <div class="fis-list-builder-middle-floater"></div>\n                    <div class="fis-list-builder-middle">\n                        <div ng-click="fisDisabled || moveAllToRightBox()" ng-class="{\'fis-list-builder-button\':true, \'fisDisabled\': fisDisabled}" fis-unique-id="moveAllRightButtonListBox{{uniqueSeed}}" aria-label="move all to right"><div class="fis-list-builder-right-right-icon"></div></div>\n                        <div class="fis-list-builder-spacer"/>\n                        <div ng-click="fisDisabled || moveToRightBox()" ng-class="{\'fis-list-builder-button\':true, \'fisDisabled\': fisDisabled}" fis-unique-id="moveRightButtonListBox{{uniqueSeed}}" aria-label="move to right"><div class="fis-list-builder-right-icon"></div></div>\n                        <div class="fis-list-builder-spacer"/>\n                        <div ng-click="fisDisabled || moveToLeftBox()" ng-class="{\'fis-list-builder-button\':true, \'fisDisabled\': fisDisabled}" fis-unique-id="moveLeftButtonListBox{{uniqueSeed}}" aria-label="move to left"><div class="fis-list-builder-left-icon"></div></div>\n                        <div class="fis-list-builder-spacer"/>\n                        <div ng-click="fisDisabled || moveAllToLeftBox()" ng-class="{\'fis-list-builder-button\':true, \'fisDisabled\': fisDisabled}" fis-unique-id="moveAllLeftButtonListBox{{uniqueSeed}}" aria-label="move all to left"><div class="fis-list-builder-left-left-icon"></div></div>\n                    </div>\n                </div>\n                    <!--Right hand ListBox-->\n                    <div class="fis-list-builder-right-container">\n                    <p class="fis-list-builder-title" fis-unique-id="rightListBoxTitle{{uniqueSeed}}" ng-if="showLabel">{{ labelRight }}</p>\n                    <input id="right_filter_box" ng-disabled="fisDisabled" ng-if="showFilter" fis-unique-id="rightSearchFilter{{uniqueSeed}}" ng-model="filterRight.text" class="fis-list-builder-search-filter" name="fis-list-builder-search" type="search" placeholder="Filter..." />\n                    <div class="fis-list-builder-right-inner-container">\n                    <div class="k-loading-mask" ng-if="isLoading.right"><span class="k-loading-text">Loading...</span>\n                    <div class="k-loading-image"></div>\n                        <div class="k-loading-color"></div>\n                    </div>\n                    <div class="fis-list-builder-right" fis-unique-id="rightListBox{{uniqueSeed}}">\n                    <div ng-if="isGroupedList">\n                        <div ng-repeat="(groupName,data) in visibleGroupRightData">\n                        <span ng-if="data.length"><strong fis-unique-id="group_name_right">{{groupName}}</strong></span>                        <ul><li ng-init="getClassList(item.class)" fis-unique-id="right_{{item.label.trim()}}{{uniqueSeed}}" ng-class="{ \'fis-list-builder-option\': !isSelected(item, \'right\'), \'fis-list-builder-option-selected\': isSelected(item, \'right\'), \'fisDisabled\':fisDisabled, \'{{classList.list}}\':{{classList.isClassPresent}}}"\n                        ng-repeat="item in data track by item.value" class= {{}}\n                        unselectable="on"\n                        ng-click="fisDisabled || changeItemWrapper(item, \'right\')" ng-dblclick="fisDisabled || changeItemWrapper(item, \'right\');fisDisabled || moveToLeftBox();"\n                        >{{item.label.trim()}}</li></ul></div>\n                    </div>\n                    <div ng-if="!isGroupedList">\n                        <ul><li ng-init="getClassList(item.class)" fis-unique-id="right_{{item.label.trim()}}{{uniqueSeed}}" ng-class="{ \'fis-list-builder-option\': !isSelected(item, \'right\'), \'fis-list-builder-option-selected\': isSelected(item, \'right\'), \'fisDisabled\':fisDisabled, \'{{classList.list}}\':{{classList.isClassPresent}}}"\n                        ng-repeat="item in visibleRightData track by item.value"\n                        unselectable="on"\n                        ng-click="fisDisabled || changeItemWrapper(item, \'right\')" ng-dblclick="fisDisabled || changeItemWrapper(item, \'right\');fisDisabled || moveToLeftBox();"\n                        >{{item.label.trim()}}</li></ul>\n                    </div>\n                    </div>\n                    </div>\n                </div>\n                <span ng-class="{\'fisDisabled\': fisDisabled}"></span>\n                <div class="fis-list-builder-holder fis-list-builder-holder-updown" name="fis-list-builder-holder-right">\n                    <div class="fis-list-builder-updown-floater"></div>\n                    <div class="fis-list-builder-updown" ng-if="showUpDownButtons">\n                        <div ng-click="fisDisabled || moveSelectedUpOrDown(true)" ng-class="{\'fisDisabled\': fisDisabled}" class = "fis-list-builder-button fis-list-builder-button-up" fis-unique-id="upButtonListBox{{uniqueSeed}}" aria-label="move selected item up" ><div class="fis-list-builder-up-icon" ></div></div>\n                        <div class="fis-list-builder-spacer"/>\n                        <div ng-click="fisDisabled || moveSelectedUpOrDown(false)" ng-class="{\'fisDisabled\': fisDisabled}" class = "fis-list-builder-button" fis-unique-id="downButtonListBox{{uniqueSeed}}" aria-label="move selected item down"><div class="fis-list-builder-down-icon"></div></div>\n                    </div>\n                </div>\n                </div>',require:["fisData","?fisRefresh","?fisReinit"],scope:{selectedRightData:"=?fisSelectedData",fisManualOrder:"@",labelLeft:"@fisLabelLeft",uniqueSeed:"@fisUniqueIdSeed",labelRight:"@fisLabelRight",fisCustomFilterLeft:"&fisCustomFilterLeft",fisDisabled:"@fisDisabled"},controller:["$element","$scope","$attrs",function(e,t,a){function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,i){var n=t["selectedItem"+r(i)],a=t["visible"+r(i)+"Data"],o=t.lastItemClicked[i].start,l=t.lastItemClicked[i].endOld;return t.isGroupedList&&(a=h(i,!0)),s.default.contains(n,e)?s.default.contains(n,e)&&n.length>1&&(n=[],n.push(e)):(t.ctrlPressed!==!0&&t.shiftPressed!==!0&&(n=[]),t.shiftPressed!==!0||s.default.isUndefined(o)?n.push(e):(s.default.isUndefined(l)||(n=m(a,o,l,n)),n=g(a,e,o,n))),n}function c(e){t.shiftPressed||(t.lastItemClicked[e].start=void 0,t.lastItemClicked[e].endOld=void 0)}function p(e,i){t.shiftPressed?t.lastItemClicked[i].endOld=e:t.lastItemClicked[i].start=e}function g(e,i,n,a){var s=!1;a&&!t.isGroupedList&&(a.length=0);for(var r=0;r<e.length;r++){var o=e[r];if(s||o!==i&&o!==n){if(s&&(a.push(o),o===i||o===n))break}else a.push(o),s=!0}return a}function m(e,t,i,n){for(var a=!1,s=0;s<e.length;s++){var r=e[s];if(a||r!==t&&r!==i){if(a&&(r!==t&&v(n,r),r===t||r===i))return n}else r===i&&v(n,r),a=!0}}function v(e,t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}t.lastItemClicked={left:{},right:{}},t.rightData=[],t.leftData=[],t.allData={},t.allDataUnindexed=[],t.filterRight={},t.filterRight.text="",t.filterLeft={},t.filterLeft.text="",t.showLabel=!1,t.showFilter=!1,t.leftLabel=void 0,t.rightLabel=void 0,t.showUpDownButtons=!0,t.ctrlPressed=!1,t.shiftPressed=!1,t.isGroupedList=!1,t.groupListLeft={},t.visibleGroupLeftData={},t.groupListRight={},t.visibleGroupRightData={},t.movingDataFromLeft=!0,t.movingDataFromRight=!0,t.groupedAllDataUnindexed=[],t.isSelected=function(e,i){return s.default.contains(t["selectedItem"+r(i)],e)},t.classList={},t.classList.list="",t.classList.isClassPresent=!1,t.getClassList=function(e){"string"==typeof e?t.classList.list=e.replace(/,/g," "):angular.isArray(e)&&(t.classList.list=e.toString().replace(/,/g," ")),t.classList.isClassPresent=!angular.isUndefined(e)},t.changeItemWrapper=function(e,i){c(i),t["selectedItem"+r(i)]=l(e,i),p(e,i)};var h=function(e,i){var n={},a=[];i?n=t["visibleGroup"+r(e)+"Data"]:"left"===e?(n=$.extend(!0,{},t.groupListLeft),_(n,t.visibleGroupRightData)):(n=$.extend(!0,{},t.groupListRight),_(n,t.visibleGroupLeftData));for(var s in n)a=a.concat(n[s]);return a};t.moveElement=function(e,t,i){var n,a;return!(t<0||t>=e.length)&&(n=t+i,!(n<0||n>=e.length||n===t)&&(a=e[n],e[n]=e[t],e[t]=a,!0))},t.moveSelectedUpOrDown=function(e){var i,n=t.selectedItemRight;if(0!==n.length)if(t.isGroupedList)for(var a in t.visibleGroupRightData)n&&1===n.length&&a===n[0].group&&(i=[],i=i.concat(t.visibleGroupRightData[a]),b(e,i,n,t.visibleGroupRightData[a]));else i=[],i=i.concat(t.rightData),b(e,i,n)};var b=function(e,i,n,a){e||i.reverse(),n.length>0&&s.default.each(i,function(e,a){s.default.contains(n,e)&&t.moveElement(i,a,-1)}),e||i.reverse(),t.isGroupedList?(a.length=0,angular.forEach(i,function(e){a.push(e)})):t.rightData=i};t.moveTo=function(e,i,a){var r=[],o=!1,l=!1,f=!1;angular.forEach(e,function(e){r.push(e)}),r.length>1&&("add-top"!==t.fisSort&&"add-bottom"!==t.fisSort&&"natural"!==t.fisSort||(t.isGroupedList&&(i=i[r[0].group],l=!0),u(r,i)),"add-top"!==t.fisSort&&"natural"!==t.fisSort||(r=r.reverse())),s.default.each(r,function(e){t.isGroupedList&&(f||(a=a[e.group],f=!0),l||(i=i[e.group],l=!0)),void 0===e||s.default.contains(a,e)||("add-bottom"===t.fisSort||"add-top"===t.fisSort?n.addItemToList(a,e,t.fisSort):(a.unshift(e),o=!0),s.default.each(i,function(t,n){s.default.isUndefined(t)||e.value!==t.value||i.splice(n,1)}))}),o&&"false"===t.fisManualOrder&&d(t,a)},t.setLoadingIconsStatus=function(e,i){"left"===e?t.isLoading.left=i:"right"===e?t.isLoading.right=i:"both"===e&&(t.isLoading.left=i,t.isLoading.right=i)},t.moveToRightBox=function(){if(!s.default.isEmpty(t.selectedItemLeft)){t.setLoadingIconsStatus("both",!0);var e=i(function(){if(t.isGroupedList){var e=S(t.selectedItemLeft);for(var i in e)t.moveTo(e[i],t.visibleGroupLeftData,t.visibleGroupRightData);t.movingDataFromLeft=!0,I(t.groupListRight,t.visibleGroupRightData)}else t.moveTo(t.selectedItemLeft,t.leftData,t.rightData);t.selectedItemLeft=[],t.filterBothData(),t.setLoadingIconsStatus("both",!1),f.publish("fis.lb.moved-selected-right",{leftdata:t.leftData,rightdata:t.rightData})});o.cancelTimeoutOnDestroy(t,e,i)}};var S=function(e){for(var t={},i=0;i<e.length;i++)angular.isUndefined(t[e[i].group])&&(t[e[i].group]=[]),t[e[i].group].push(e[i]);return t};t.moveToLeftBox=function(){if(!s.default.isEmpty(t.selectedItemRight)){t.setLoadingIconsStatus("both",!0);var e=i(function(){if(t.isGroupedList){var e=S(t.selectedItemRight);for(var i in e)t.moveTo(e[i],t.visibleGroupRightData,t.visibleGroupLeftData);t.movingDataFromRight=!0,I(t.groupListLeft,t.visibleGroupLeftData)}else t.moveTo(t.selectedItemRight,t.rightData,t.leftData);t.selectedItemRight=[],t.filterBothData(),t.setLoadingIconsStatus("both",!1),f.publish("fis.lb.moved-selected-left",{leftdata:t.leftData,rightdata:t.rightData})});o.cancelTimeoutOnDestroy(t,e,i)}};var I=function(e,t){for(var i in t)for(var n=s.default.pluck(e[i],"value"),a=0;a<t[i].length;a++)n.indexOf(t[i][a].value)<0&&e[i].push(t[i][a])};t.moveAllToLeftBox=function(){t.setLoadingIconsStatus("both",!0);var e=i(function(){if(t.isGroupedList){for(var e in t.visibleGroupRightData)t.moveTo(t.visibleGroupRightData[e],t.visibleGroupRightData,t.visibleGroupLeftData);t.movingDataFromRight=!0,I(t.groupListLeft,t.visibleGroupLeftData)}else t.moveTo(t.visibleRightData,t.rightData,t.leftData);t.filterBothData(),t.setLoadingIconsStatus("both",!1),f.publish("fis.lb.moved-all-left",{leftdata:t.leftData,rightdata:t.rightData})});o.cancelTimeoutOnDestroy(t,e,i)},t.moveAllToRightBox=function(){t.setLoadingIconsStatus("both",!0);var e=i(function(){if(t.isGroupedList){for(var e in t.visibleGroupLeftData)t.moveTo(t.visibleGroupLeftData[e],t.visibleGroupLeftData,t.visibleGroupRightData);t.movingDataFromLeft=!0,I(t.groupListRight,t.visibleGroupRightData)}else t.moveTo(t.visibleLeftData,t.leftData,t.rightData);t.filterBothData(),t.setLoadingIconsStatus("both",!1),f.publish("fis.lb.moved-all-right",{leftdata:t.leftData,rightdata:t.rightData})});o.cancelTimeoutOnDestroy(t,e,i)},t.filterBothData=function(){y(),T()};var y=function(){if(s.default.isEmpty(t.leftData)&&!t.isGroupedList)t.visibleLeftData=t.leftData,t.dataInLoadingPhase||t.setLoadingIconsStatus("left",!1);else if(s.default.isEmpty(t.groupListLeft)&&t.isGroupedList)t.visibleGroupLeftData=$.extend(!0,{},t.groupListLeft),t.dataInLoadingPhase||t.setLoadingIconsStatus("left",!1);else{t.setLoadingIconsStatus("left",!0);var e=i(function(){var e,i=t.filterLeft.text.toLowerCase(),n=s.default.isString(i)&&i.length>0,r=!s.default.isUndefined(a.fisCustomFilterLeft)&&a.fisCustomFilterLeft.length>0;if(n||r)if(t.isGroupedList){var o=[];o=s.default.filter(h("left"),function(e){return(!n||e.label.toLowerCase().indexOf(i)!==-1||e.group.toLowerCase().indexOf(i)!==-1)&&(!r||t.fisCustomFilterLeft({item:e}))});for(e in t.visibleGroupLeftData)t.visibleGroupLeftData[e].length=0;for(var l=0;l<o.length;l++)angular.isUndefined(t.visibleGroupLeftData[o[l].group])&&(t.visibleGroupLeftData[o[l].group]=[]),t.visibleGroupLeftData[o[l].group].push(o[l]);t.movingDataFromLeft=!1}else t.visibleLeftData=s.default.filter(t.leftData,function(e){return(!n||e.label.toLowerCase().indexOf(i)!==-1)&&(!r||t.fisCustomFilterLeft({item:e}))});else t.isGroupedList&&!t.movingDataFromLeft?(_(t.groupListLeft,t.visibleGroupRightData),t.visibleGroupLeftData=$.extend(!0,{},t.groupListLeft),t.movingDataFromLeft=!0):t.visibleLeftData=t.leftData;if(t.isGroupedList)for(e in t.visibleGroupLeftData)d(t,t.visibleGroupLeftData[e]);else d(t,t.visibleLeftData);t.setLoadingIconsStatus("left",!1)});o.cancelTimeoutOnDestroy(t,e,i)}};t.$watch("filterLeft.text",y),t.$watch("leftData",y,!0);var T=function(){if(s.default.isEmpty(t.rightData)&&!t.isGroupedList)t.visibleRightData=t.rightData;else if(s.default.isEmpty(t.groupListRight)&&t.isGroupedList)t.visibleGroupRightData=$.extend(!0,{},t.groupListRight);else{t.setLoadingIconsStatus("right",!0);var e=i(function(){var e,i=t.filterRight.text.toLowerCase();if(s.default.isString(i)&&i.length>0)if(t.isGroupedList){var n=[];n=s.default.filter(h("right"),function(e){return e.label.toLowerCase().indexOf(i)!==-1||e.group.toLowerCase().indexOf(i)!==-1});for(e in t.visibleGroupRightData)t.visibleGroupRightData[e]=[];for(var a=0;a<n.length;a++)angular.isUndefined(t.visibleGroupRightData[n[a].group])&&(t.visibleGroupRightData[n[a].group]=[]),t.visibleGroupRightData[n[a].group].push(n[a]);t.movingDataFromRight=!1}else t.visibleRightData=s.default.filter(t.rightData,function(e){return e.label.toLowerCase().indexOf(i)!==-1});else t.isGroupedList&&!t.movingDataFromRight?(_(t.groupListRight,t.visibleGroupLeftData),t.visibleGroupRightData=$.extend(!0,{},t.groupListRight),t.movingDataFromRight=!0):t.visibleRightData=t.rightData;if(t.isGroupedList)for(e in t.visibleGroupRightData)d(t,t.visibleGroupRightData[e]);else d(t,t.visibleRightData);t.setLoadingIconsStatus("right",!1)});o.cancelTimeoutOnDestroy(t,e,i)}};t.$watch("filterRight.text",T);var _=function(e,t){for(var i in t)if(e[i]&&e[i].length>0)for(var n=0;n<e[i].length;n++)for(var a=0;a<t[i].length;a++)if(e[i][n].label.trim()===t[i][a].label.trim()){e[i].splice(n,1),n--;break}};if(t.$watch("selectedRightData",function(e){var n=i(function(){if(!s.default.isEmpty(t.allData)&&!t.isGroupedList){s.default.isUndefined(t.leftData)&&(t.leftData=[]);var i=s.default.pluck(t.leftData,"value");t.rightData.length=0,t.leftData.length=0;var n,a=s.default.pluck(t.allDataUnindexed,"value"),r=s.default.difference(a,e);if("natural"===t.fisSort)n=r;else{var o=s.default.difference(r,i);if(o.length>0){var l=s.default.intersection(i,r);n=l.concat(o)}else n=s.default.intersection(i,r)}s.default.each(e,function(e){angular.isUndefined(e)||t.rightData.push(t.allData[e])}),s.default.each(n,function(e){angular.isUndefined(e)||t.leftData.push(t.allData[e])}),d(t,t.leftData),d(t,t.rightData)}},0);o.cancelTimeoutOnDestroy(t,n,i)},!0),t.$watch("rightData",function(e,i){if(e.length!==i.length||0!==e.length){t.leftData=s.default.union(t.leftData,t.rightData);var n=[];s.default.isUndefined(t.rightData)||(n=s.default.pluck(t.rightData,"value")),t.leftData=s.default.filter(t.leftData,function(e){return!!e&&!s.default.contains(n,e.value)}),T()}}),a.fisData&&a.fisData.indexOf(":")<0)try{var D=t.$parent.$watch(a.fisData,function(e){!angular.isUndefined(t.selectedRightData)&&t.selectedRightData.length>0&&!t.isGroupedList&&(t.rightData.length=0,angular.forEach(t.selectedRightData,function(i){angular.forEach(e,function(e){e.value===i&&t.rightData.push(e)})}))},!0);o.cancelWatchOnDestroy(t,D)}catch(e){console.warn("Cannot watch on fis-data expression ",a.fisData)}t.$watch("visibleRightData",function(e,i){if(0!==s.default.difference(e,i).length||0!==s.default.difference(i,e).length){s.default.isUndefined(t.selectedRightData)&&(t.selectedRightData=[]),t.selectedRightData.length=0;var n=s.default.pluck(t.rightData,"value");s.default.each(n,function(e){angular.isUndefined(e)||t.selectedRightData.push(e)})}},!0),t.$watch("visibleGroupRightData",function(e,i){if(0!==s.default.difference(e,i).length||0!==s.default.difference(i,e).length){s.default.isUndefined(t.selectedRightData)&&(t.selectedRightData=[]),t.selectedRightData.length=0;for(var n in t.visibleGroupRightData){var a=s.default.pluck(t.visibleGroupRightData[n],"value");s.default.each(a,function(e){angular.isUndefined(e)||t.selectedRightData.push(e)})}}},!0)}],link:function(e,t,a,r){function u(e,t){return e=s.default.reject(e,function(e){return e.value===t})}function c(t,i){i&&(e.allDataUnindexed=s.default.clone(t),e.allData=s.default.indexBy(t,"value"),s.default.each(e.selectedRightData,function(t){var i=s.default.pluck(e.rightData,"value");s.default.isUndefined(e.allData[t])?e.rightData=u(e.rightData,t):s.default.contains(i,t)||e.rightData.push(e.allData[t])})),d(e,e.rightData);var n=s.default.chain(e.rightData);if(!n.isUndefined().value()&&n.size().value()>0){var a=t,r=s.default.pluck(e.rightData,"value");s.default.each(r,function(e){a=u(a,e)}),e.leftData=angular.copy(a)}else e.leftData=angular.copy(t),s.default.isUndefined(e.rightData)&&(e.rightData=[]);var o=$("div.fis-list-builder option");s.default.each(o,function(e){e=angular.element(e),e.toggleClass("fis-list-builder-option")}),e.dataInLoadingPhase=!1,e.setLoadingIconsStatus("both",!1)}function p(e){var t=e.reduce(function(e,t){return v.indexOf(t.value)>-1?(e.rightBoxData=e.rightBoxData||[],e.leftBoxData=e.leftBoxData||[],e.rightBoxData.push(t)):(e.leftBoxData=e.leftBoxData||[],e.rightBoxData=e.rightBoxData||[],e.leftBoxData.push(t)),e},{});return t}function g(e,t){var i=e.children("div"),n=i.filter(':not([class*="-floater"])'),a=i.filter('[class*="-floater"]');t>0&&e.css({"margin-top":t});var s=(e.outerHeight()-n.outerHeight())/2;a.css("height",s+"px")}function m(e,t){e?t.addClass("fis-list-builder-disabled"):t.removeClass("fis-list-builder-disabled")}e.caseSensitiveSorting="true"===a.fisSortCaseSensitive,e.fisDisabled=!1;var v=e.selectedRightData||[],h=r[0],b=r[1],S=r[2];e.size=parseInt(a.fisSize,10),e.fisSort=a.fisSort?a.fisSort:"natural";var I,y=21,T=7,_=!s.default.isUndefined(e.fisManualOrder)&&"false"===e.fisManualOrder,D=!s.default.isUndefined(e.fisSort)&&("alphabetical-asc"===e.fisSort||"alphabetical-desc"===e.fisSort);(_||D)&&(e.showUpDownButtons=!1),I=void 0!==a.fisSize&&a.fisSize>T?a.fisSize:T;var M=I*y,P=t.find(".fis-list-builder-left, .fis-list-builder-right, .fis-list-builder-holder");s.default.each(P,function(e){e=angular.element(e),e.css("height",M)}),e.selectedItemLeft=[],e.selectedItemRight=[],e.dataInLoadingPhase=!0,e.isLoading={left:!0,right:!1};var C=function(){h.fetchData().then(function(i){if(e.isGroupedList="true"===a.fisGroupedList,e.isGroupedList){!e.fisSort||"alphabetical-asc"!==e.fisSort&&"alphabetical-desc"!==e.fisSort||(i.data=i.data.sort(function(t,i){var n=t.data[0].group.toLowerCase(),a=i.data[0].group.toLowerCase();if("alphabetical-asc"===e.fisSort){if(n<a)return-1;if(n>a)return 1}else if("alphabetical-desc"===e.fisSort){if(n<a)return 1;if(n>a)return-1}return 0}));for(var s=0;s<i.data.length;s++)e.groupListLeft[i.data[s].data[0].group]=p(i.data[s].data).leftBoxData,e.groupListRight[i.data[s].data[0].group]=p(i.data[s].data).rightBoxData,e.visibleGroupRightData[i.data[s].data[0].group]=p(i.data[s].data).rightBoxData,"alphabetical-asc"!==e.fisSort&&"alphabetical-desc"!==e.fisSort||n.sort(e.groupListLeft[i.data[s].data[0].group],e.fisSort,e.caseSensitiveSorting);e.visibleGroupLeftData=$.extend(!0,{},e.groupListLeft),e.groupedAllDataUnindexed=$.extend(!0,{},e.groupListLeft),e.dataInLoadingPhase=!1,e.setLoadingIconsStatus("both",!1)}else"alphabetical-asc"!==e.fisSort&&"alphabetical-desc"!==e.fisSort||n.sort(i.data,e.fisSort,e.caseSensitiveSorting),c(i.data,!0);document&&document.documentMode&&document.documentMode>9&&t.find("input").bind("input",L),f.publish("fis.lb.data-loaded",{data:i.data})},function(e){console.warn("Problem loading data: "+e)})};C();var E=function(t){(t.ctrlKey||t.metaKey)&&(e.ctrlPressed=!0),t.shiftKey&&(e.shiftPressed=!0)},w=function(){e.ctrlPressed=!1,e.shiftPressed=!1},L=function(){""===this.value&&("left_filter_box"===this.id?e.filterLeft.text="":"right_filter_box"===this.id&&(e.filterRight.text=""),e.$$phase||e.$apply())};$(window).bind("keydown",E),$(window).bind("keyup",w),e.$on("$destroy",function(){$(window).unbind("keydown",E),$(window).unbind("keyup",w)}),h.addDataChangedListener(function(t){
e.setLoadingIconsStatus("left",!0);var n=i(function(){c(t,!0)});o.cancelTimeoutOnDestroy(e,n,i)}),h.addAfterFetchListener(function(){e.dataFetchedComplete=!0});var O=t.find(".fis-list-builder-left-container"),x=t.find(".fis-list-builder-holder-middle"),A=t.find(".fis-list-builder-right-container"),k=t.find(".fis-list-builder-holder-updown"),R=i(function(){var t=0;e.showLabel&&(t+=Math.max(O.find(".fis-list-builder-title").outerHeight(),A.find(".fis-list-builder-title").outerHeight())),e.showFilter&&(t+=Math.max(O.find(".fis-list-builder-search-filter").outerHeight(),A.find(".fis-list-builder-search-filter").outerHeight())),g(x,t),g(k,t)});if(o.cancelTimeoutOnDestroy(e,R,i),e.showLabel=!s.default.isUndefined(a.fisLabelLeft)||!s.default.isUndefined(a.fisLabelRight),!s.default.isUndefined(a.fisFilterable)){e.showFilter=!0;var N=i(function(){var e=t.find(".fis-list-builder-search-filter"),i=t.find(".fis-list-builder-title"),n=parseInt(e.css("padding-left").replace("px",""),10),a=parseInt(e.css("padding-right").replace("px",""),10),r=n+a;s.default.each(e,function(){e.css({width:parseFloat(i.width())-r+"px"})})});o.cancelTimeoutOnDestroy(e,N,i)}var j=function(t){t&&t.defaultPrevented||e.filterBothData()};e.$on("fisRefresh",j),b&&(b.trigger=j),S&&(S.trigger=function(){var t=i(function(){C()},0);o.cancelTimeoutOnDestroy(e,t,i)});var U={};U=l.copyProperties(a,"fisParam",U),s.default.each(U,function(t,i){var n=i.charAt(0).toUpperCase()+i.slice(1),s="fisParam"+n;a.$observe(s,function(){e.$broadcast("fisReinit")})}),e.$parent.$watch(a.fisDisabled,function(i){if(!s.default.isUndefined(i))try{e.fisDisabled=JSON.parse(i),m(e.fisDisabled,t)}catch(e){console.error("fis-disabled should be a boolean value")}},!0),a.$observe("fisDisabled",function(i){if(!s.default.isUndefined(i)){try{e.fisDisabled=JSON.parse(i)}catch(t){e.fisDisabled=e.$parent.$eval(i)}m(e.fisDisabled,t)}})}}}],i(17);var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(71),o=n(r),l=s.default.module("fis.widgets.components.message",[]);l.component("fisMessage",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(18),t.default={template:'<div class="alert alert-info" ng-class="$ctrl.isVisible">\n                <button ng-show="{{$ctrl.fisDismiss}}" type="button" class="close" ng-click="$ctrl.close();$ctrl.fisOnClose()">&times;</button>\n                <div ng-transclude></div>\n                <div ng-repeat="message in $ctrl.messages">\n                {{::message}}\n                </div>\n            </div>',transclude:!0,replace:!0,require:{fisData:"?fisData"},bindings:{fisOnClose:"&",fisDismiss:"<fisDismiss"},controller:[function(){var e=this;e.$onInit=function(){e.fisData&&e.fisData.fetchData().then(function(t){e.messages=t.data})},e.$onChanges=function(t){e.fisDismiss=void 0!==t.fisDismiss.currentValue&&t.fisDismiss.currentValue!==!1,t.fisData&&(e.fisData.fetchData?e.fisData.fetchData().then(function(t){e.messages=e.messages.concat(t.data)}):e.messages=e.fisData)},e.close=function(){e.isVisible="hide"}}]}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(73),o=n(r),l=s.default.module("fis.widgets.components.page-header",[]);l.component("fisPageHeader",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(){var e=this;e.$onChanges=function(t){t.subtitle&&e.subtitle&&e.subtitle.indexOf("{{")>=0&&(e.subtitle=e.subtitle.replace(/{|}/g,""))}}Object.defineProperty(t,"__esModule",{value:!0}),i(19);var s=i(25),r=n(s);t.default={template:r.default,transclude:!0,bindings:{title:"@fisTitle",subtitle:"@fisSubtitle"},controller:a}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(75),o=n(r),l=s.default.module("fis.widgets.components.panel",[]);l.directive("fisPanel",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisPubSubService","$timeout","fisElementUtils",function(e,t,i){"ngInject";return{restrict:"ACE",scope:{title:"@fisTitle",summary:"@fisFooterText",contentHeight:"@fisContentHeight"},template:'<div><header fis-header fis-title="{{title}}"></header><div fis-scrollable fis-unique-id="sg_panel_content" class="fis-panel-content" fis-height="{{contentHeight}}" ></div><fis-footer fis-summary-text="{{summary}}"></fis-footer></div>',transclude:!0,compile:function(n,a,r){return function(n,a,o){var l,f=a.find("> div fis-footer"),u=a.find("> div > header"),d=a.find(".fis-panel-content"),c=!s.default.isUndefined(o.fisStretchToBottom)&&(s.default.isUndefined(o.fisHeight)||""===o.fisHeight);a.addClass("fis-panel");var p=function(){a.addClass("stretch-bottom-panel");var e=0,t=0;u.length>0&&u.is(":visible")&&(e=u.outerHeight()),f.length>0&&angular.element(f[0].firstChild).is(":visible")&&(t=angular.element(f[0].firstChild).outerHeight()),d.css("top",e),d.css("bottom",t),t+e+d.outerHeight()>a.innerHeight()&&a.innerHeight(t+e+d.outerHeight())},g=function(){t(function(){c&&a.hasClass("stretched-to-bottom")&&p()})};if(r(n.$parent,function(e){var t=e.filter("header");t.length?(u.replaceWith(t),u=t):i.invokeAndObserve(o,"fisTitle",function(e){e?u.show():u.hide(),g()});var n=e.filter("fis-footer");n.length?(f.replaceWith(n),f=n):i.invokeAndObserve(o,"fisFooterText",function(e){e?f.show():f.hide(),g()}),d.append(e.not(t).not(n))}),c){var m=[],v=function(){a.is(":visible")&&(a.hasClass("stretched-to-bottom")||a.hasClass("stretch-bottom-panel"))&&(p(),c=!1)};m.push(e.subscribe("shell.sizeChange",v)),m.push(e.subscribe("shell.condensedToggle",v)),m.push(e.subscribe("fisThemeChanged",v)),n.$on("$panelContentLoaded",function(){e.publish("shell.sizeChange",{})}),t(function(){p()}),n.$on("$destroy",function(){m&&s.default.each(m,function(e){e()})})}i.invokeAndObserve(o,"fisHeight",function(e){!c&&e&&(a.css("position","relative"),f.css({position:"absolute",bottom:0}),l=a.find("> div"),l.css({position:"absolute",top:0,bottom:0,left:0,right:0}),n.contentHeight=l.innerHeight()-u.outerHeight()-f.outerHeight())}),i.invokeAndObserve(o,"fisContentHeight",function(){e.publish("heightAdjusted",!1)})}}}}],i(20);var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(77),o=n(r),l=s.default.module("fis.widgets.components.quick-action-menu",[]);l.directive("fisQuickActionMenu",o.default),t.default=l.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$compile","fisQuickActionsService",function(t,i){"ngInject";return{restrict:"AEC",link:function(n,a,s){function r(e){var t;e||(e=window.event),e.preventDefault(),e.stopPropagation(),t=angular.element(e.target).hasClass("qactions-target")?e.target:a.find("span.qactions-target.icon-chevron-down");var s=angular.element(t).hasClass("qactions-branch"),r=s?n.quickActionsMenuElementForBranch:n.quickActionsMenuElement,o=angular.element(t).attr("qaid"),u=angular.element(t);f?i.openQuickActionMenuOnBody(r,u,o):i.openQuickActionMenu(r,u,o),l.chevron=u,l.hiddenElement=r,i.registerClickHandlers(r,u)}var o=angular.element('<div class="qactions-container"><div class="qactions-transclude"></div><span class="qactions-chevron"></span></div>'),l=n.$parent,f=!1,u="span.qactions-target.icon-chevron-down";if(a.attr({tabindex:"0","aria-haspopup":!0,"aria-pressed":!1}),a.hasClass("fis-quick-action-menu")||a.addClass("fis-quick-action-menu"),e.isUndefined(s.fisAttachToBody)||(f=!0),!e.isUndefined(s.fisQuickActionWrap)){u=null;var d=a.children();a.children().remove(),a.append(o),a.find("div.qactions-transclude").append(d)}var c=a.find("span.qactions-target.icon-chevron-down");if(0===c.length){var p=a.find("span.qactions-chevron"),g=angular.element('<span class="qactions-target icon-chevron-down " qaid="'+s.fisId+'" />');e.isUndefined(s.fisQuickActionWrap)?a.append(g):p.append(g),l=n}a.on("click","span.qactions-target.icon-chevron-down.qactions-branch",r),n.quickActionsMenuElementForBranch=i.addQuickActionMenu(t,l,a,s.fisQuickActionDataBranch),a.on("click",u,r),n.quickActionsMenuElement=i.addQuickActionMenu(t,l,a,s.fisQuickActionData)}}}],i(21)}).call(t,i(2))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(79),o=n(r),l=s.default.module("fis.widgets.components.quick-actions",[]);l.directive("fisQuickActions",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$sanitize","fisUniqueIdService",function(e,t){"ngInject";return{restrict:"ACE",require:"fisData",template:"<div></div>",controller:["$element","$scope","fisQuickActionsService",function(e,t,i){t.closeQuickActions=function(){var n=t.hiddenElement?t.hiddenElement:e;i.closeQuickActionMenu(n,t.chevron)}}],link:function(i,n,a,r){function o(){var e=n.attr("qaid");return e}function l(e){var t=f(e),a=angular.element(t);a.on("click","a",{},function(e){var t=o(),n=angular.element(e.target);if(s.default.isUndefined(n.attr("path")))s.default.isUndefined(n.attr("method"))?s.default.isUndefined(n.attr("dialog"))||i.openDialog(n.attr("dialog")):i[n.attr("method")](t,n.text());else{var a={nodeId:t};i.open(n.attr("path"),e,a)}i.closeQuickActions()}),n.append(a)}function f(a){var r='<div class="dropdown open"><ul class="dropdown-menu">';return s.default.each(a,function(a){var o="";!s.default.isUndefined(a.path)&&a.path.length>0?o='path="'+e(a.path)+'"':!s.default.isUndefined(a.method)&&a.method.length>0?o='method="'+e(a.method)+'"':!s.default.isUndefined(a.dialog)&&a.dialog.length>0&&(o='dialog="'+e(a.dialog)+'"');var l=e(a.label),f=l;s.default.isUndefined(n.attr("fis-seed"))||(f=e(n.attr("fis-seed"))+"_"+f);var u='<li><a class="quickActionMenuItem" '+o+">"+l+"</a></li>",d=angular.element(u);t.generateUniqueId(i,d,{},f),r+=d[0].outerHTML}),r+="</ul></div>"}r.addDataChangedListener(function(e){n.find("div.dropdown").remove(),l(e)});var u=r.fetchData();u.then(function(e){var t=e.data;l(t)},function(e){console.warn("Problem loading data: "+e)})}}}];var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(81),o=n(r),l=s.default.module("fis.widgets.components.summary-item",[]);l.directive("fisSummaryItem",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:'<li><div class="fis-title">{{title}}</div><div class="fis-value" ng-transclude></div></li>',restrict:"EA",replace:!0,transclude:!0,scope:{title:"@fisTitle"}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(83),o=n(r),l=s.default.module("fis.widgets.components.summary",[]);l.directive("fisSummary",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{template:'<ul class="fis-summary" ng-transclude></ul>',restrict:"EA",replace:!0,transclude:!0,scope:!1}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(85),o=n(r),l=s.default.module("fis.widgets.components.user-info",[]);l.component("fisUserInfo",o.default),t.default=l.name},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(22),t.default={bindings:{info:"<fisInfo"},template:'<li>\n      <section class="fis-user-info" >\n        <div class="fis-user-icon-ll-row clearfix">\n          <div class="fis-user-icon-div" ng-model="userinfo">\n            <span ng-if="!$ctrl.info.profileImg" class="icon-Person_Customer fis-user-icon xlrg-ic"></span>\n            <img  ng-if="$ctrl.info.profileImg" class="fis-user-img" ng-src="{{$ctrl.info.profileImg}}"/>\n          </div>\n          <div class="fis-user-last-login-div">\n            <span class="fis-uname fis-sm-user">{{$ctrl.info.firstName+ " "+$ctrl.info.lastName}}</span>\n            <div>\n              <span>{{::"fisUserInfo.lastLoginOn" | i18n : "last sign on"}}: </span>\n              <span class="fis-ll-span">{{$ctrl.info.lastLogin | date:"MM/dd/yyyy - h:mma"}}</span>\n            </div>\n          </div>\n        </div>\n      </section>\n    </li>'}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(87),o=n(r),l=i(88),f=n(l),u=i(89),d=n(u),c=s.default.module("fis.widgets.controllers",[]);c.controller("fis.fisComponents.ItemController",o.default),c.controller("fis.fisComponents.ListController",f.default),c.controller("fis.fisComponents.RouteMasterDetailsController",["$scope","$resource","$document","$q","fisPubSubService","args","fisListMixin","fisItemMixin","fisCRUDTransitionsMixin","fisCustomActionsMixin",d.default]),c.controller("fis.fisComponents.MasterDetailsController",["$scope","$resource","$document","$q","fisPubSubService","$element","fisListMixin","fisItemMixin","fisCRUDTransitionsMixin","fisCustomActionsMixin",d.default]),t.default=c.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),s=n(a),r=function e(t,i,n,a,r,o){"ngInject";var l=this;r.call(e.prototype),o.call(e.prototype);var f={};a.scope().panel&&a.scope().panel.args&&(f=a.scope().panel.args),f.url||(f=t.$eval(a.attr("fis-args"))),f.actions||(f.actions={}),l.args=f,f.actions.update={method:"PUT"},l.$scope=t,l.$resource=i,l.$document=n;try{var u=t.$eval(f.url);u&&(f.url=t.$eval(f.url))}catch(e){}l.itemResource=i(f.url,f.paramDefaults,f.actions);var d=null;t.findByCriteria=function(e){l.transitionTo(l.TRANSITIONS.SELECT_ITEM,e)},l.onSelectItem=function(e){var i={};e&&e.criteria?l.findByCriteria(i,function(e){t.item=e[0],d=angular.copy(t.item)},angular.noop):l.findOne(i,function(e){t.item=e,d=angular.copy(t.item)},angular.noop)},t.save=function(){l.transitionTo(l.TRANSITIONS.SAVE,t.item)},l.onSave=function(e){l.save(e,null,function(e){t.item=e,l.setCurrentState(l.STATES.VIEW_PRISTINE),l.setFormsToPristine()},function(e){t.displayMessage(e.data.messages)})},t.edit=function(e){l.transitionTo(l.TRANSITIONS.EDIT,{id:e})},t.cancel=function(e,t){l.currentState===l.STATES.EDIT_DIRTY?l.transitionTo(l.TRANSITIONS.CANCEL,{id:e,editMode:t}):l.currentState!==l.STATES.EDIT_PRISTINE&&l.currentState!==l.STATES.VIEW_PRISTINE||l.transitionTo(l.TRANSITIONS.CANCEL_EDIT,{id:e,editMode:t})},l.onCancel=function(){s.default.extend(!0,t.item,d),d=null,l.setFormsToPristine()},t.reset=function(e){l.transitionTo(l.TRANSITIONS.RESET,{id:e})},l.onReset=function(){t.item=angular.copy(d),s.default.extend(!0,t.item,d),l.setFormsToPristine()},l.addToScope(t),l.setInitialState(this.STATES.NO_ITEM),l.setCurrentState(this.STATES.NO_ITEM);var c=f.initialEditMode||!1;t.findByCriteria({editMode:c})};r.$inject=["$scope","$resource","$document","$element","fisItemMixin","fisCRUDTransitionsMixin"],t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,i,n,a,s,r){"ngInject";var o=this;a.call(e.prototype),s.call(e.prototype),r.call(e.prototype),o.args=n,o.$scope=t,o.$resource=i,o.itemResource=i(n.url,n.paramDefaults,n.actions),t.findAll=o.findAll,t.selectItem=o.selectItem,t.items=o.findAll(),t.findById=o.findById,t.select=function(e){o.transitionTo(o.TRANSITIONS.SELECT_ITEM,e)},o.onSelectItem=function(e){t.item=o.selectItem(e)},t.customAction=function(e,t){o.customAction(e,t)},o.setInitialState(this.STATES.NO_ITEM),o.setCurrentState(this.STATES.NO_ITEM),o.addToScope(t)};i.$inject=["$scope","$resource","args","fisListMixin","fisCRUDTransitionsMixin","fisCustomActionsMixin"],t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=i(3),r=n(s),o=function e(t,i,n,s,o,l,f,u,d,c){"ngInject";var p=this;f.call(e.prototype),u.call(e.prototype),d.call(e.prototype),c.call(e.prototype),p.args=l,p.$scope=t,p.$resource=i,p.$document=n,l.url||(l=t.$eval(l.attr("fis-args")));try{l.url=t.$eval(l.url)}catch(e){}l.actions||(l.actions={}),l.actions.update||(l.actions.update={}),l.actions.update.method="PUT",p.itemResource=i(l.url,l.paramDefaults,l.actions),t.selectItem=p.selectItem,t.findAll=function(){var e=s.defer(),i=o.subscribe("fisOpStateSet",function(n){"SUCCESS"===n.opState&&"FindAll"===n.opName?e.resolve(t.items):"FAILURE"===n.opState&&"FindAll"===n.opName&&e.reject(n.opMessage),i()});return p.findAll(),e.promise},t.findById=function(e){var t=s.defer(),i=o.subscribe("fisOpStateSet",function(e){"SUCCESS"===e.opState&&"FindById"===e.opName&&t.resolve(e.opObj),i()});return p.findById(e),t.promise},t.args=function(){return l};var g=null;p.onFetchList=function(e){e&&!e.fetchStrategy?p.findByCriteria(e,function(e){t.items=e},angular.noop):e||(t.items=p.findAll())},t.create=function(){t.clearMessages&&t.clearMessages(),t.newItem=!0,p.transitionTo(p.TRANSITIONS.CREATE)},p.onCreate=function(){t.item=p.create(),o.publish("fisItemChanged",t.item)},t.findByCriteria=function(e){p.setCurrentState(p.STATES.NO_LIST),p.transitionTo(p.TRANSITIONS.FETCH_LIST,e)},t.select=function(e,t){angular.isArray(e)&&1===e.length&&(e=e[0]),this.clearMessages&&this.clearMessages();var i={editMode:t};"object"===("undefined"==typeof e?"undefined":a(e))?i.item=e:i.id=e,p.transitionTo(p.TRANSITIONS.SELECT_ITEM,i)},p.onSelectItem=function(e){e.id?t.item=p.selectItem(e.id):e.item?t.item=e.item:t.item=e,g=angular.copy(t.item),o.publish("fisItemChanged",t.item)},t.save=function(e){e=e!==!1,t.sourceScope=this;var i=s.defer();p.transitionTo(p.TRANSITIONS.SAVE,t.item,e);var n=o.subscribe("fisOpStateSet",function(e){"SUCCESS"===e.opState&&"Save"===e.opName?i.resolve(t.item):"FAILURE"===e.opState&&"Save"===e.opName&&i.reject(e.opMessage),n()});return i.promise},p.onSave=function(e,i){p.save(e,t.newItem,function(e){l.fetchStrategy&&"delegate"!==l.fetchStrategy&&(t.items=p.findAll());var i={};i.item=e,p.onSelectItem(i),o.publish("fisOpStateSet",{opState:"SUCCESS",opName:"Save"}),t.$broadcast("fisRefresh","items"),p.currentState=p.STATES.VIEW_PRISTINE,p.setFormsToPristine(),t.newItem=!1},function(e){i&&(t.sourceScope?t.sourceScope.displayMessage(e.data.messages):t.displayMessage(e.data.messages)),o.publish("fisOpStateSet",{opState:"FAILURE",opName:"Save",opMessage:e.data.messages})}),t.resetTitle&&t.resetTitle()},t.edit=function(e){t.clearMessages&&t.clearMessages(),t.newItem=!1,p.transitionTo(p.TRANSITIONS.EDIT,{id:e})},t.cancel=function(e,i){p.currentState===p.STATES.VIEW_PRISTINE?p.transitionTo(p.TRANSITIONS.CANCEL,{id:e,editMode:i}):p.currentState!==p.STATES.EDIT_PRISTINE&&p.currentState!==p.STATES.EDIT_DIRTY&&p.currentState!==p.STATES.EDIT_INVALID||p.transitionTo(p.TRANSITIONS.CANCEL_EDIT,{id:e,editMode:i}),t.resetTitle&&t.resetTitle()},p.onCancel=function(){r.default.extend(!0,t.item,g),g=null,p.setFormsToPristine()},t.reset=function(e){p.transitionTo(p.TRANSITIONS.RESET,{id:e})},p.onReset=function(e){if(e.id){t.item=p.findById(e.id);var i=t.item;r.default.extend(!0,i,g)}else angular.forEach(t.item,function(e,i){t.item[i]=""});p.setFormsToPristine()},t.remove=function(e,i){i=i!==!1,t.sourceScope=this;var n=s.defer();p.transitionTo(p.TRANSITIONS.REMOVE,e,i);var a=o.subscribe("fisOpStateSet",function(t){"SUCCESS"===t.opState&&"Remove"===t.opName?n.resolve(e):"FAILURE"===t.opState&&"Remove"===t.opName&&n.reject(t.opMessage),a()});return n.promise},p.onRemove=function(e,i){p.remove(e,function(){l.fetchStrategy&&"delegate"!==l.fetchStrategy&&(t.items=p.findAll()),t.$broadcast("fisRefresh","items"),p.currentState=p.STATES.NO_ITEM,o.publish("fisOpStateSet",{opState:"SUCCESS",opName:"Remove"})},function(e){i&&(t.sourceScope?t.sourceScope.displayMessage(e.data.messages):t.displayMessage(e.data.messages)),o.publish("fisOpStateSet",{opState:"FAILURE",opName:"Remove",opMessage:e.data.messages})})},t.customAction=function(e,t){p.customAction(e,t)},p.setInitialState(p.STATES.NO_LIST),p.setCurrentState(p.STATES.NO_LIST),l.fetchStrategy?"search"!==l.fetchStrategy&&p.transitionTo(p.TRANSITIONS.FETCH_LIST):p.transitionTo(p.TRANSITIONS.FETCH_LIST,{fetchStrategy:"delegate"}),p.addToScope(t)};o.$inject=["$scope","$resource","$document","$q","fisPubSubService","argsOrElem","fisListMixin","fisItemMixin","fisCRUDTransitionsMixin","fisCustomActionsMixin"],t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisUniqueIdService","fisMemoryUtilService",function(e,t){"ngInject";return{restrict:"AC",link:function(i,n,a){e.generateUniqueId(i,n,a);var s=a.fisButton,r=function(e){var t="btn btn-secondary fis-secondary";n.hasClass("btn btn-primary")?n.removeClass("btn").removeClass("btn-primary").removeClass("fis-primary"):n.hasClass("btn btn-secondary")?n.removeClass("btn").removeClass("btn-secondary").removeClass("fis-secondary"):n.hasClass("btn btn-tertiary")&&n.removeClass("btn").removeClass("btn-link").removeClass("btn-tertiary").removeClass("fis-tertiary"),"primary"===e?t="btn btn-primary fis-primary":"secondary"===e?t="btn btn-secondary fis-secondary":"tertiary"===e&&(t="btn-link btn btn-tertiary fis-tertiary"),n.addClass(t)},o=i.$watch(s,function(e){r(e)},!0);t.cancelWatchOnDestroy(i,o)}}}],i(23)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(90),o=n(r),l=s.default.module("fis.widgets.directives.button",[]);l.directive("fisButton",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["$timeout","fisMemoryUtilService",function(e,t){"ngInject";return{restrict:"A",require:"?fisReinit",replace:!1,link:function(i,n,a,s){function r(){n.css({top:(parseInt(angular.element(o).height(),10)-angular.element(n).outerHeight(!0))/2+angular.element(o).scrollTop()+"px",left:(parseInt(angular.element(o).width(),10)-angular.element(n).outerWidth(!0))/2+angular.element(o).scrollLeft()+"px"})}n.hide(),n.css("position","fixed");var o=a.fisCenter?window[a.fisCenter]:":parent";s&&(s.trigger=function(){var n=e(function(){r()});t.cancelTimeoutOnDestroy(i,n,e)});var l=e(function(){n.show(),r(),angular.element(window).resize(function(){r()})});t.cancelTimeoutOnDestroy(i,l,e)}}}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(92),o=n(r),l=s.default.module("fis.widgets.directives.center",[]);l.directive("fisCenter",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";function e(e,t,i,n){function a(){e.$apply(s)}function s(){n.$setViewValue(t.html())}var r="blur keyup change";n&&(n.$render=function(){t.html(n.$viewValue||"")},i.$observe("fisUpdateOn",function(e){t.unbind(r,a),r=e||r,t.bind(r,a)}),t.text()&&s())}return{restrict:"A",require:"?ngModel",link:e}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(94),o=n(r),l=s.default.module("fis.widgets.directives.content-editable",[]);l.directive("contenteditable",o.default),t.default=l.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){return["fisPubSubService",function(i){"ngInject";return{priority:500,link:function(n,a,s){s.$observe(t.name,function(n){n.match(/^\d+$/)&&(n+="px"),i.subscribe("heightAdjusted",function(i){i&&!e.isUndefined(i)||a.css(t.css,n)})})}}}]}}).call(t,i(2))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(96),o=n(r),l=s.default.module("fis.widgets.directives.css-dimension",[]);[{name:"fisHeight",css:"height"},{name:"fisMaxHeight",css:"maxHeight"},{name:"fisWidth",css:"width"},{name:"fisMaxWidth",css:"maxWidth"}].forEach(function(e){l.directive(e.name,(0,o.default)(e))}),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisI18nService","fisScopeUtils","$filter","fisMessageContainerUtilService",function(e,t,i,n){"ngInject";function a(e,t){if(t.for){var i={},n=e[t.for];return n.fisProperty?(i[n.fisProperty]=n,i):(i[n.$name.replace("_",".")]=n,i)}return e.registeredInputs}function r(e,t,n){var a=t.messages;e.$dirty&&(s.default.isUndefined(n)||0===n.length||s.default.each(n,function(e){t.messages[e]&&(t.messages[e]=null,delete t.messages[e])}),angular.forEach(e.$error,function(e,n){e&&(t.messages[n]=i("i18n")(o+n,a[n]))},e))}var o="error-";return{restrict:"CA",template:'<span fis-unique-id="fieldmessage" role="alert" aria-live="polite" aria-atomic="true" aria-relevant="all" class="help-block" ng-bind-html="fieldMessages()"></span>',replace:!0,require:["fisFieldMessage","^?ngForm","^?form"],scope:!0,controller:["$scope","$element","$attrs",function(e){e.messages={},e.fieldMessages=function(){return s.default.values(e.messages).join(", ")},e.clearMessages=function(){e.messages={},angular.forEach(e.registeredInputs,function(e){e.$setPristine()})},this.clearMessages=e.clearMessages,e.$on("fisClearMessages",function(){e.clearMessages()})}],link:function(i,l,f,u){var d=l.closest(".fis-field"),c=a(i,f);u[0].inputs={},angular.forEach(c,function(e){e.fisProperty&&(u[0].inputs.fisProperty=e.fisProperty),e.fisName&&(u[0].inputs.fisName=e.fisName)}),u[0].addMessage=function(t){if(t.msg?i.messages[t.code]=e.translate(o+t.code,t.msg):t.message&&(i.messages[t.code]=e.translate(o+t.code,t.message)),"error"===t.type&&t.property){var n=!1,a=c[t.property];a.$dirty=!0,a.$setValidity(t.code,!1),n=!0,a.$parsers.unshift(function(e){if(n){var r=s.default.keys(a.$error);angular.forEach(r,function(e){t.code===e&&(i.messages[e]&&(i.messages[e]=null,delete i.messages[e]),a.$setValidity(e,!0),n=!1,d&&d.removeClass("fis-invalid").addClass("fis-valid"))})}return e})}},u[0].removeMessageClass=function(){var e=u[1]||u[2];if(!e||e&&!e.$name)throw new Error("fisFieldMessage needs to be in a named form");d&&!e.$invalid&&d.removeClass("fis-invalid")},i.registerFieldMessage=n.registerFieldMessage,i.unregisterFieldMessage=n.unregisterFieldMessage,i.registerFieldMessage&&(i.registerFieldMessage(u[0],s.default.keys(c)),l.parent().bind("$destroy",function(){i.unregisterFieldMessage(u[0],s.default.keys(c))})),angular.forEach(c,function(e){var n=e,a=u[1]||u[2];if(!a||a&&!a.$name)throw new Error("fisFieldMessage needs to be in a named form");var o=a.$name+"."+e.$name+".";try{t.watch(i,o+"$dirty",function(e){d&&(e?d.addClass("fis-dirty").removeClass("fis-pristine"):d.removeClass("fis-dirty").addClass("fis-pristine")),r(n,i)}),t.watch(i,o+"$invalid",function(e){d&&(e?d.addClass("fis-invalid").removeClass("fis-valid"):d.removeClass("fis-invalid").addClass("fis-valid")),r(n,i)}),i.$watch(o+"$error",function(e,t){var a=[];s.default.isEqual(t,e)||(!s.default.isEmpty(t)&&s.default.isEmpty(e)?a=s.default.keys(t):s.default.isEmpty(t)||(a=s.default.difference(s.default.keys(t),s.default.keys(e)))),r(n,i,a)},!0)}catch(e){}})}}}];var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(98),o=n(r),l=s.default.module("fis.widgets.directives.field-message",[]);l.directive("fisFieldMessage",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return{restrict:"C",link:function(e,t){t.addClass("row")}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(100),o=n(r),l=s.default.module("fis.widgets.directives.grid-layout",[]);l.directive("fisGridLayout",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisUniqueIdService",function(e){"ngInject";return{priority:1e3,restrict:"A",transclude:"element",compile:function(t,i,n){var a,s,r,o;if(a=i.fisHierarchy.match(/^(.*) in ((?:.*\.)?(.*))$/),!a)throw new Error('fisHierarchy should be in the form of "<item> in <rootObj>.<childrenProperty>"');return s=a[1],r=a[2],o=a[3],function(t,i,a){function l(e){for(var t=d.length;t--;)if(d[t].scope[s]===e)return d.splice(t,1)[0]}var f,u=i[0].parentNode,d=[],c=u.nodeName;"T"===fis.initParams().appStage&&(f=a.fisid||a.fisUniqueId||"fisHierarchy",f=e.generateUniqueId(t,$(u),a,f)),t.$watch(r,function(i){if(i){var a,r=[],p=0;for(function t(i,a,u,p){for(var g,m,v,h,b,S=0,I=i.length,y=I-1,T=!1;S<I;++S)g=a.childNodes[S],m=i[S],v=l(m),v&&v.parentScope!==u&&(d.push(v),v=null),v?v.element!==g&&a.insertBefore(v.element,g):n(u.$new(),function(t,i){var n=a.attributes.getNamedItem("fisid");if(i[s]=m,v={scope:i,parentScope:u,element:t[0],branch:t.find(c)[0]},"T"===fis.initParams().appStage&&e.generateUniqueId(i,t,{},null!==n?n.value:f,!0),!v.branch){var r=angular.element("<"+c+' class="fis-branch"></'+c+">");"T"===fis.initParams().appStage&&e.generateUniqueId(i,r,{},t.attr("fisid")?t.attr("fisid"):f),v.branch=r[0],t.append(v.branch),T=!0}a.insertBefore(v.element,g?g:null)}),h=v.scope,h.$depth=p,h.$index=S,h.$first=0===S,h.$last=S===y,h.$middle=!(h.$first||h.$last),r.push(v),b=m[o],b&&b.length?t(b,v.branch,h,p+1):T&&angular.element(v.branch).remove()}(i,u,t,0),p=d.length;p--;)a=d[p],a.scope&&a.scope.$destroy(),a.element&&a.element.parentNode&&a.element.parentNode.removeChild(a.element);d=r}},!0)}}}}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(102),o=n(r),l=s.default.module("fis.widgets.directives.hierarchy",[]);l.directive("fisHierarchy",o.default),t.default=l.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(91),o=n(r),l=i(93),f=n(l),u=i(95),d=n(u),c=i(97),p=n(c),g=i(99),m=n(g),v=i(101),h=n(v),b=i(103),S=n(b),I=i(105),y=n(I),T=i(107),_=n(T),D=i(109),M=n(D),P=i(111),C=n(P),E=i(113),w=n(E),L=i(115),O=n(L),$=i(117),x=n($),A=i(119),k=n(A),R=i(121),N=n(R),j=s.default.module("fis.widgets.directives",[o.default,f.default,d.default,p.default,m.default,h.default,S.default,y.default,_.default,M.default,C.default,w.default,O.default,x.default,k.default,N.default]);t.default=j.name},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(106),o=n(r),l=s.default.module("fis.widgets.directives.message-container",[]);l.directive("fisMessageContainer",o.default),t.default=l.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisPubSubService","fisConfig","$window","fisViewPanelService","fisI18nService","fisMessageContainerUtilService",function(t,i,n,a,s,r){"ngInject";return{restrict:"AC",scope:!0,link:function(e,t,i){if(i.fisName){var a=n.location.hash.substring(2);
a.indexOf("#")!==-1&&(a=a.substring(0,a.indexOf("#")));var s=a.replace(/\//g,"_");if(0!==i.fisName.indexOf(s)){var r=s+"_"+i.fisName;t.attr("fis-name",r)}}e.$on("$destroy",function(){t.removeData().removeAttr()})},controller:["$scope",function(n){r.messageScope=n,r.parentScope||(r.parentScope=n),n.messageCache=[],n.addMessageToCache=r.addMessageToCache,n.removeMessageFromCacheForPath=r.removeMessageFromCacheForPath,n.removeMessageFromCacheForActivePanelPath=r.removeMessageFromCacheForActivePanelPath,n.displayMessageOnPanel=r.displayMessageOnPanel,n.isActivePanelPathInCache=r.isActivePanelPathInCache,n.isMessageInCache=r.isMessageInCache,n.isPathInCache=r.isPathInCache,n.findMessagesForPath=r.findMessagesForPath,i.httpErrorSubscription&&i.httpErrorSubscription.enabled&&t.subscribe("fisHTTPError",function(t){var a=i.httpErrorSubscription.errorLocation,r={};if(e.isUndefined(a))t.status&&(r.msg=s.translate(t.status.toString()),r.type="error");else if("response"===a)r=t;else{for(var o=a.split(".");o.length&&(t=t[o.shift()]););r=t}n.displayMessage(r)});var a=t.subscribe("fisViewPanelClosed",function(e){n.isPathInCache(e.path)&&n.removeMessageFromCacheForPath(e.path)}),o=t.subscribe("fisActiveViewPanelChanged",function(e){r.activePanel=e.currentNavItem;var t=e.after;if(n.isPathInCache(t)){var i=n.findMessagesForPath(t);n.displayMessage(i.messages,i.msgScope)}});n.$on("$destroy",function(){o(),a()}),n.messages=[],n.$on("fisDisplayMessage",function(t,i,a){if(e.isUndefined(a)&&!e.isUndefined(t.targetScope.fisMessageContainerId))for(var s=t.targetScope.fisMessageContainerId,r=0;r<i.length;r++){var o=i[r];o.property||(o.target=s),o=void 0}n.displayMessage(i,a),t.stopPropagation&&t.stopPropagation()}),n.registerFieldMessage=r.registerFieldMessage,n.unregisterFieldMessage=r.unregisterFieldMessage,n.displayMessage=r.displayMessage,n.dismissMessages=r.dismissMessages,n.clearMessages=r.clearMessages}]}}]}).call(t,i(2))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(108),o=n(r),l=s.default.module("fis.widgets.directives.offset",[]);[1,2,3,4,5,6,7,8,9,10,11].forEach(function(e){l.directive("fisOffset"+e,(0,o.default)(e))}),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){"ngInject";return{restrict:"C",link:function(t,i){i.addClass("col-md-offset-"+e)}}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(110),o=n(r),l=s.default.module("fis.widgets.directives.primary",[]);l.directive("fisPrimary",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisUniqueIdService",function(e){"ngInject";return{restrict:"AC",link:function(t,i,n){e.generateUniqueId(t,i,n),i.addClass("btn btn-primary fis-primary"),i.attr("role","button")}}}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(112),o=n(r),l=s.default.module("fis.widgets.directives.scrollable",[]);l.directive("fisScrollable",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{link:function(e,t,i){i.$observe("fisScrollable",function(e){switch(e){case"x":t.css("overflow",""),t.css("overflow-x","auto");break;case"y":t.css("overflow",""),t.css("overflow-y","auto");break;case"false":t.css("overflow",""),t.css("overflow-x",""),t.css("overflow-y","");break;default:t.css("overflow","auto")}})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(114),o=n(r),l=s.default.module("fis.widgets.directives.secondary",[]);l.directive("fisSecondary",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisUniqueIdService",function(e){"ngInject";return{restrict:"AC",link:function(t,i,n){e.generateUniqueId(t,i,n),i.addClass("btn fis-secondary"),i.attr("role","button")}}}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(116),o=n(r),l=s.default.module("fis.widgets.directives.span",[]);[1,2,3,4,5,6,7,8,9,10,11,12].forEach(function(e){l.directive("fisSpan"+e,(0,o.default)(e))}),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return{restrict:"C",link:function(t,i){i.addClass("col-sm-"+e)}}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(118),o=n(r),l=s.default.module("fis.widgets.directives.tab-data",[]);l.directive("fisTabData",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{restrict:"C",scope:!0}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(120),o=n(r),l=s.default.module("fis.widgets.directives.tertiary",[]);l.directive("fisTertiary",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisUniqueIdService",function(e){"ngInject";return{restrict:"AC",link:function(t,i,n){e.generateUniqueId(t,i,n),i.addClass("btn btn-link fis-tertiary"),i.attr("role","button")}}}]},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(122),o=n(r),l=s.default.module("fis.widgets.directives.visible",[]);l.directive("fisVisible",o.default),t.default=l.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e,t,i){e.$watch(i.fisVisible,function(e){t.css("visibility",e?"visible":"hidden")})}}},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(t){return e.isUndefined(t)||null===t?t:t.replace(/"/g,"&quot;")}}}).call(t,i(2))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(123),o=n(r),l=i(125),f=n(l),u=i(126),d=n(u),c=s.default.module("fis.widgets.filters",[]);c.filter("htmlQuotes",o.default),c.filter("obfuscate",f.default),c.filter("stripHtml",d.default),t.default=c.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(e){return e?"********":""}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(e){var t="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",i=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+t+">[\\s\\S]*?</script\\s*|style\\b"+t+">[\\s\\S]*?</style\\s*|/?[a-z]"+t+")>","gi");return e?e.replace(i,"").replace(/</g,"&lt;"):""}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var e=this;e.fixedMenuConfig={},e.name="",e.registeredMenus={},e.$get=[function(){var t={},i=function(e,t,i){var n=isNaN(t)===!1?t:0,a=isNaN(i)===!1?i:0;if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),o=r.left||r.x||0,l=r.top||r.y||0;n+=o+r.width,a+=l+r.height}else for(;!s.default.isUndefined(e)&&!s.default.isNull(e);){var f=e.offsetTop,u=e.offsetLeft;(s.default.isNaN(u)||s.default.isUndefined(u))&&(u=0),(s.default.isNaN(f)||s.default.isUndefined(f))&&(f=0),n+=u-e.scrollLeft,a+=f-e.scrollTop,e=e.offsetParent}return{top:a,left:n}};return t.register=function(t,i){e.name=t,e.callBackFn=i,e.registeredMenus[t]=i},t.openMenu=function(t){t.position=i(t.event.target,t.offsetX,t.offsetY),e.registeredMenus[t.name]&&e.registeredMenus[t.name](t)},t}]};var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(127),o=n(r),l=i(129),f=n(l),u=i(131),d=n(u),c=i(132),p=n(c),g=i(130),m=n(g),v=s.default.module("fis.widgets.services",[]);v.provider("fisFixedMenuService",o.default),v.provider("fisInfoPanelConfigService",f.default),v.provider("fisQuickActionsService",d.default),v.provider("fisSortService",p.default),v.provider("fisMessageContainerUtilService",m.default),t.default=v.name},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var t=this;t.$get=["fisConfig",function(t){var i={};return i.fisInfoPanel={},i.fisInfoPanel.animation={},i.fisInfoPanel.animation.timeout={},i.fisInfoPanel.animation.timeout.info=1e4,i.fisInfoPanel.animation.timeout.success=1e4,i.fisInfoPanel.animation.timeout.warning=1e4,i.fisInfoPanel.animation.timeout.error=1e4,t&&t.widgets&&t.widgets.fisInfoPanel&&t.widgets.fisInfoPanel.animation&&t.widgets.fisInfoPanel.animation.timeout&&(t.widgets.fisInfoPanel.animation.timeout.info&&(i.fisInfoPanel.animation.timeout.info=t.widgets.fisInfoPanel.animation.timeout.info),t.widgets.fisInfoPanel.animation.timeout.success&&(i.fisInfoPanel.animation.timeout.success=t.widgets.fisInfoPanel.animation.timeout.success),t.widgets.fisInfoPanel.animation.timeout.warning&&(i.fisInfoPanel.animation.timeout.warning=t.widgets.fisInfoPanel.animation.timeout.warning),t.widgets.fisInfoPanel.animation.timeout.error&&(i.fisInfoPanel.animation.timeout.error=t.widgets.fisInfoPanel.animation.timeout.error)),i.getAnimationTimeout=function(){return i.fisInfoPanel},i.setAnimationTimeout=function(t){t&&(e.isUndefined(t.error)||(i.fisInfoPanel.animation.timeout.error=t.error),e.isUndefined(t.warning)||(i.fisInfoPanel.animation.timeout.warning=t.warning),e.isUndefined(t.success)||(i.fisInfoPanel.animation.timeout.success=t.success),e.isUndefined(t.info)||(i.fisInfoPanel.animation.timeout.info=t.info))},i}]}}).call(t,i(2))},function(e,t,i){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var t=this;t.$get=["fisI18nService","$filter","fisViewPanelService","$window",function(t,n,a,s){function r(e){var t=e;if("object"!==("undefined"==typeof e?"undefined":i(e))||0!==Object.keys(e).length){if(!e.messages)if(e.msg||e.message)t={messages:[e]};else if("string"==typeof e)t={messages:[{msg:e,type:"error"}]};else{if(!angular.isArray(e))throw new Error("Cant understand messages");t={messages:e}}return angular.forEach(t.messages,function(e,i){if(angular.isString(e)&&(t.messages[i]={msg:e},e=t.messages[i]),!e.code&&!e.msg&&!e.message)throw new Error("Message cant be shown as it doesnt contain msg or code.");e.type||(e.type="error")}),t}}function o(e){var t=jQuery.find('[fis-message-container][fis-name="'+e+'"]'),i=s.location.hash.substring(2).replace(/\//g,"_");return 0===t.length&&(t=jQuery.find('[fis-message-container][fis-name="'+i+"_"+e+'"]')),0===t.length&&(t=jQuery.find('.fis-message-container [fis-name="'+e+'"]')),0===t.length&&(t=jQuery.find('.fis-message-container [fis-name="'+i+"_"+e+'"]')),t}var l={},f=n("interpolate");l.activePanel={};var u;return l.addMessageToCache=function(e,t){if(t&&(l.messageScope=t),!l.isMessageInCache(e)){var i=l.activePanel;if(l.isActivePanelPathInCache()){if(!l.isMessageInCache(e)){var n=l.findMessagesForPath(i.path);n.messages.push(e)}}else l.messageScope.messageCache.push({path:i.path,messages:[e],msgScope:t})}},l.removeMessageFromCacheForPath=function(e){for(var t in l.messageScope.messageCache)l.messageScope.messageCache[t].path===e&&l.messageScope.messageCache.splice(t,1)},l.displayMessageOnPanel=function(){return!l.isActivePanelPathInCache()},l.isActivePanelPathInCache=function(){for(var e in l.messageScope.messageCache)if(l.messageScope.messageCache[e].path===l.activePanel.path)return!0;return!1},l.isMessageInCache=function(e){for(var t in l.messageScope.messageCache){var i=l.messageScope.messageCache[t].messages;for(var n in i)if(i[n].msg===e.msg)return!0}return!1},l.isPathInCache=function(e){for(var t in l.messageScope.messageCache)if(l.messageScope.messageCache[t].path===e)return!0;return!1},l.findMessagesForPath=function(e){for(var t in l.messageScope.messageCache)if(l.messageScope.messageCache[t].path===e)return l.messageScope.messageCache[t];return{}},l.fieldMessageMap=[],l.registerFieldMessage=function(e,t){var i=a.activeViewPanel();i&&l.messageScope&&(l.messageScope.activePanel=i),angular.forEach(t,function(t){var i={};e.panelId=l.activePanel.id,i[t]=e,l.fieldMessageMap.push(i)})},l.unregisterFieldMessage=function(e,t){angular.forEach(t,function(t){angular.forEach(l.fieldMessageMap,function(i,n){i[t]===e&&l.fieldMessageMap.splice(n,1)})})},l.displayMessage=function(i,n){var a,s,d,c=l.parentScope;if(c.infoPanelDef={},c.infoPanelDef.isMessageShown=!1,n&&(angular.isString(n)?(a=o(n),a.length>0&&(c=angular.element(a[0]).scope())):angular.isObject(n)&&(n.$id&&(c=n),angular.isString(n.target)&&(a=o(n.target),a.length>0&&(c=angular.element(a[0]).scope())),angular.isObject(n.infoPanelDef)&&(c.infoPanelDef=n.infoPanelDef,c.infoPanelDef.response=i))),c.clearMessages(),i=r(angular.copy(i)),!e.isUndefined(i)&&!e.isUndefined(i.messages)){for(d=0;d<i.messages.length;d++)s=i.messages[d],s&&s.target&&angular.isString(s.target)&&(a=o(s.target),a.length>0&&angular.element(a[0]).scope().clearMessages());for(d=0;d<i.messages.length;d++)if(s=i.messages[d],s.msg?s.msg=s.code&&t.translate(s.code,s.msg)||s.msg:s.message&&(s.message=s.code&&t.translate(s.code,s.message)||s.message),s.property)if(s.msg?s.msg=f(s.msg,t.translate(s.property,s.property)):s.message&&(s.message=f(s.message,t.translate(s.property,s.property))),s.code&&0!==l.fieldMessageMap.length){var p=!1;angular.forEach(l.fieldMessageMap,function(e){e[s.property]&&e[s.property].panelId===l.activePanel.id&&(s.name&&""!=s.name?e[s.property].inputs.fisName&&e[s.property].inputs.fisName==s.name&&(e[s.property].addMessage(s),p=!0):(e[s.property].addMessage(s),p=!0))}),p||(e.isUndefined(c.infoPanelDef)&&(c.infoPanelDef={}),c.infoPanelDef.isMessageShown=!1,c.messages.push(s),c.addMessageToCache(s,c))}else e.isUndefined(c.infoPanelDef)&&(c.infoPanelDef={}),c.infoPanelDef.isMessageShown=!1,c.messages.push(s),l.addMessageToCache(s,c);else s.target?(a=o(s.target),a.length>0&&(u=angular.element(a[0]).scope(),e.isUndefined(u.infoPanelDef)&&(u.infoPanelDef={}),u.infoPanelDef.isMessageShown=!1,u.messages.push(s),l.addMessageToCache(s,u))):(e.isUndefined(c.infoPanelDef)&&(c.infoPanelDef={}),c.infoPanelDef.isMessageShown=!1,c.messages.push(s),c.addMessageToCache(s,c))}},l.dismissMessages=function(e){var t=l.messageScope;if(e&&angular.isString(e)){var i=o(e);i.length>0&&(t=angular.element(i[0]).scope())}t.messages=[],l.parentScope.messages=[],u&&(u.messages=[]),l.removeMessageFromCacheForPath(l.activePanel.path)},l.clearMessages=function(e){var t=l.messageScope;if(e&&angular.isString(e)){var i=o(e);i.length>0&&(t=angular.element(i[0]).scope())}t.dismissMessages(),angular.forEach(l.fieldMessageMap,function(e){angular.forEach(e,function(e){e.clearMessages(),e.removeMessageClass()})})},l}]}}).call(t,i(2))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";var e=this;e.$get=[function(){function e(){var e=window,t=document,i=t.documentElement,n=t.getElementsByTagName("body")[0],a=e.innerWidth||i.clientWidth||n.clientWidth,s=e.innerHeight||i.clientHeight||n.clientHeight;return{width:a,height:s}}var t={};t.openQuickActionMenu=function(t,n,a){var s=angular.element.find("div.qactions-show")[0],r=angular.element.find("span.icon-chevron-down.show")[0];s&&(angular.element(s).removeClass("qactions-show"),angular.element(s).addClass("qactions-hide"),angular.element(r).removeClass("show")),t.attr("style",""),t.find(".dropdown-menu").attr("style",""),t.find(".dropdown-menu").attr("role","menu"),t.find(".dropdown-menu > li").attr({role:"menuitem",tabindex:"0"}),t.attr("qaid",a),t.removeClass("qactions-hide"),t.addClass("qactions-show");var o=e(),l=i(n[0]),f=n.position(),u={},d={};u["z-index"]=5e3,d["z-index"]=5e3,o.width-l.left<160?u.left=f.left-170:u.left=f.left-10;var c=angular.element(document).find(".fis-content-wrapper"),p=c.offset();p&&p.top<0?u.top=f.top-p.top+100:u.top=f.top+10;var g=parseInt(t.find(".dropdown-menu").height(),10);o.height-l.top<g+80&&(d.top=-(g+10)),t.css(u),t.find(".dropdown-menu").css(d)},t.openQuickActionMenuOnBody=function(e,t,i){e.attr("qaid",i),t.addClass("show");var n=t.offset(),a={};a["z-index"]=5e3,a.left=n.left,a.top=n.top,e.removeClass("qactions-hide"),e.addClass("qactions-show"),e.appendTo("body"),e.css(a)},t.registerClickHandlers=function(e,i){angular.element("html").bind("click.quickactions",function(n){var a=angular.element(n.target).attr("class");(s.default.isUndefined(a)||a&&a.indexOf("qactions-target")<0&&a.indexOf("quickActionMenuItem")<0&&e.attr("class").indexOf("qactions-show")>0)&&t.closeQuickActionMenu(e,i)})},t.unregisterClickHandlers=function(){angular.element("html").unbind("click.quickactions")},t.closeQuickActionMenu=function(e,i){e.attr("qaid",""),e.removeClass("qactions-show"),e.addClass("qactions-hide"),s.default.isUndefined(i)||i.removeClass("show"),t.unregisterClickHandlers()},t.addQuickActionMenu=function(e,t,i,n){if(!s.default.isUndefined(n&&n>0)){var a="";s.default.isUndefined(i.attr("fis-id"))||(a=' fis-seed="'+i.attr("fis-id")+'" ');var r="<div fis-quick-actions "+a+'fis-data="'+n+'"  class="quickActionsMenu qactions-hide"  ng-mouseleave="closeQuickActions()"></div>',o=e(r)(t);return i.after(o),o}};var i=function(e){for(var t=0,i=0;!(s.default.isUndefined(e)||s.default.isNull(e)||s.default.isNaN(e.offsetLeft)||s.default.isNaN(e.offsetTop));)t+=e.offsetLeft-e.scrollLeft,i+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:i,left:t}};return t}]};var a=i(2),s=n(a)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";function e(e,i){var n,a,s,r;return e.label&&i.label?(n=e.label,a=i.label):(n=e,a=i),t.sortCaseSensitive||(s=n.toLowerCase(),r=a.toLowerCase(),s!==r&&(n=s,a=r)),n>a?1:n<a?-1:0}var t=this;t.sortCaseSensitive=!0;var i=function(e){return e},n=function(i,n){return f(i)?(t.sortCaseSensitive=n,i.sort(e)):i.sort(),i},a=function(i,n){return f(i)?(t.sortCaseSensitive=n,i.sort(e)):i.sort(),i.reverse(),i},r=function(e,t,i){return e.unshift(i),e},o=function(e,t,i){return e.push(i),e},l={natural:i,"alphabetical-asc":n,"alphabetical-desc":a,"add-top":r,"add-bottom":o},f=function(e){return e.length>0&&!s.default.isUndefined($(e[0]).prop("label"))};t.$get=["fisConfig",function(e){e&&e.widgets&&e.widgets.fisListBuilder&&e.widgets.fisListBuilder.sortCaseSensitive&&(t.sortCaseSensitive=e.widgets.fisListBuilder.sortCaseSensitive);var i={};return i.sort=function(e,i,n){s.default.isUndefined(n)&&(n=t.sortCaseSensitive);var a;return a=s.default.isUndefined(i)||s.default.isUndefined(l[i])?l.natural(e,n):l[i](e,n)},i.addItemToList=function(e,t,i,n){var a;return a=s.default.isUndefined(i)||s.default.isUndefined(l[i])||s.default.isUndefined(t)?l["add-bottom"](e,n,t):l[i](e,n,t)},i}]};var a=i(2),s=n(a)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(){return this.customAction=function(e,t){var i=this;this.itemResource[e](t,function(){i.$scope.items=i.findAll()},function(e){e.data&&i.$scope.displayMessage(e.data.messages)})},this}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(){return this.STATES={NO_LIST:0,NO_ITEM:1,VIEW_PRISTINE:2,EDIT_PRISTINE:3,EDIT_DIRTY:4,EDIT_INVALID:5},this.TRANSITIONS={FETCH_LIST:0,CREATE:1,SELECT_ITEM:2,SAVE:3,CANCEL_EDIT:4,CANCEL:5,EDIT:6,SOIL:7,CLEAN:8,RESET:9,REMOVE:10,INVALID:11,VALID:12},this.dirtyFormNames=[],this.setInitialState=function(e){this.initialState=e},this.setCurrentState=function(e){this.currentState=e},this.transitionTo=function(e,t,i){switch(e){case this.TRANSITIONS.FETCH_LIST:this.currentState===this.STATES.NO_LIST&&(this.onFetchList(t),this.currentState=this.STATES.NO_ITEM);break;case this.TRANSITIONS.CREATE:this.currentState!==this.STATES.NO_ITEM&&this.currentState!==this.STATES.EDIT_PRISTINE&&this.currentState!==this.STATES.VIEW_PRISTINE&&this.currentState!==this.STATES.EDIT_INVALID||(this.onCreate(t),this.currentState=this.STATES.EDIT_PRISTINE);break;case this.TRANSITIONS.SELECT_ITEM:this.currentState!==this.STATES.NO_ITEM&&this.currentState!==this.STATES.EDIT_PRISTINE&&this.currentState!==this.STATES.VIEW_PRISTINE||(this.onSelectItem(t),t&&t.editMode===!0?this.currentState=this.STATES.EDIT_PRISTINE:this.currentState=this.STATES.VIEW_PRISTINE);break;case this.TRANSITIONS.SAVE:this.currentState===this.STATES.EDIT_INVALID||this.currentState!==this.STATES.EDIT_DIRTY&&this.currentState!==this.STATES.EDIT_PRISTINE||this.onSave(t,i);break;case this.TRANSITIONS.CANCEL_EDIT:this.currentState!==this.STATES.EDIT_PRISTINE&&this.currentState!==this.STATES.EDIT_DIRTY&&this.currentState!==this.STATES.EDIT_INVALID||(this.onCancel(t),t.editMode===!0?this.currentState=this.STATES.NO_ITEM:this.currentState=this.STATES.VIEW_PRISTINE);break;case this.TRANSITIONS.CANCEL:this.currentState===this.STATES.VIEW_PRISTINE&&(this.currentState=this.STATES.NO_ITEM);break;case this.TRANSITIONS.EDIT:this.currentState!==this.STATES.NO_ITEM&&this.currentState!==this.STATES.VIEW_PRISTINE&&this.currentState!==this.STATES.EDIT_PRISTINE&&this.currentState!==this.STATES.EDIT_DIRTY||(this.onSelectItem(t),this.currentState=this.STATES.EDIT_PRISTINE);break;case this.TRANSITIONS.SOIL:this.currentState===this.STATES.EDIT_PRISTINE&&(this.currentState=this.STATES.EDIT_DIRTY);break;case this.TRANSITIONS.CLEAN:this.currentState===this.STATES.EDIT_DIRTY&&(this.currentState=this.STATES.EDIT_PRISTINE);break;case this.TRANSITIONS.RESET:this.currentState!==this.STATES.EDIT_DIRTY&&this.currentState!==this.STATES.EDIT_INVALID&&this.currentState!==this.STATES.EDIT_PRISTINE||(this.onReset(t),this.currentState=this.STATES.EDIT_PRISTINE);break;case this.TRANSITIONS.REMOVE:this.currentState!==this.STATES.NO_LIST&&this.onRemove(t,i);break;case this.TRANSITIONS.INVALID:this.currentState===this.STATES.EDIT_DIRTY&&(this.currentState=this.STATES.EDIT_INVALID);break;case this.TRANSITIONS.VALID:this.currentState===this.STATES.EDIT_INVALID&&(this.currentState=this.STATES.EDIT_DIRTY)}},this.setFormsToPristine=function(){for(var e=0;e<this.dirtyFormNames.length;e++){var t=this.$document.find('form[name="'+this.dirtyFormNames[e]+'"]');t.scope()[this.dirtyFormNames[e]].$setPristine()}},this.addToScope=function(e){var t=this;e.isNoItem=function(){return t.currentState===t.STATES.NO_ITEM},e.isViewPristine=function(){return t.currentState===t.STATES.VIEW_PRISTINE},e.isEditPristine=function(){return t.currentState===t.STATES.EDIT_PRISTINE},e.isEditDirty=function(){return t.currentState===t.STATES.EDIT_DIRTY},e.isEdit=function(){return t.currentState===t.STATES.EDIT_PRISTINE||t.currentState===t.STATES.EDIT_DIRTY||t.currentState===t.STATES.EDIT_INVALID},e.isInvalid=function(){return t.currentState===t.STATES.EDIT_INVALID},e.$on("fisFormDirty",function(e,i){t.transitionTo(t.TRANSITIONS.SOIL),t.dirtyFormNames.push(i),e.stopPropagation()}),e.$on("fisFormClean",function(e,i){t.transitionTo(t.TRANSITIONS.CLEAN),t.dirtyFormNames.splice(t.dirtyFormNames.indexOf(i)),e.stopPropagation()}),e.$on("fisFormInvalid",function(e){t.transitionTo(t.TRANSITIONS.INVALID),e.stopPropagation()}),e.$on("fisFormValid",function(e){t.transitionTo(t.TRANSITIONS.VALID),e.stopPropagation()})},this}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(1),s=n(a),r=i(134),o=n(r),l=i(133),f=n(l),u=i(136),d=n(u),c=i(137),p=n(c),g=s.default.module("fis.widgets.utils",[]);g.factory("fisCRUDTransitionsMixin",o.default),g.factory("fisCustomActionsMixin",f.default),g.factory("fisItemMixin",d.default),g.factory("fisListMixin",p.default),t.default=g.name},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){"ngInject";return function(){return this.create=function(){return new this.itemResource},this.save=function(e,t,i,n){t?e.$save(i,n):e.$update(i,n)},this.remove=function(e,t,i){this.itemResource.remove({id:e},t,i)},this.findByCriteria=function(e,t,i){return this.itemResource.query(e,t,i)},this.findOne=function(e,t,i){return this.itemResource.get(e,t,i)},this}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=["fisPubSubService",function(e){"ngInject";return function(){return this.selectItem=function(e){if(e)return this.findById(e)},this.findAll=function(){return this.itemResource.query({},function(){e.publish("fisOpStateSet",{opState:"SUCCESS",opName:"FindAll"})},function(t){this.$scope.displayMessage(t.data.messages),e.publish("fisOpStateSet",{opState:"FAILURE",opName:"findAll",opMessage:t.data.messages})})},this.findById=function(t){var i=null,n=this.args.paramDefaults&&this.args.paramDefaults.id?this.args.paramDefaults.id.substring(1):"id";return s.default.find(this.$scope.items,function(e){e[n]===t&&(i=e)}),null===i?this.itemResource.get({id:t},angular.noop,angular.noop):(e.publish("fisOpStateSet",{opState:"SUCCESS",opName:"FindById",opObj:i}),i)},this}}];var a=i(2),s=n(a)},function(e,t){e.exports="fis.core"},function(e,t){e.exports=key}]));
//# sourceMappingURL=fis-widgets.min.js.map;
/*!
 * 
 * @ruf/fis-shell
 * Version: 4.5.0
 * 
 * © 2018
 * Fidelity National Information Services, Inc. and/or its subsidiaries - All Rights Reserved worldwide.
 * This document is protected under the trade secret and copyright laws as the property of Fidelity National Information Services, Inc. and/or its subsidiaries.
 * Copying, reproduction or distribution should be limited and only to employees with a “need to know” to do their job. Any disclosure of this document to third parties is strictly prohibited.
 * 
 */
!function(e){function i(n){if(t[n])return t[n].exports;var a=t[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}(function(e){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))switch(typeof e[i]){case"function":break;case"object":e[i]=function(i){var t=i.slice(1),n=e[i[0]];return function(e,i,a){n.apply(this,[e,i,a].concat(t))}}(e[i]);break;default:e[i]=e[e[i]]}return e}([function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),t(69);var a=t(1),s=n(a),r=t(68),o=n(r),l=t(67),c=n(l),d=t(61),u=n(d),f=t(57),p=n(f),v=t(27),m=n(v),h=s.default.module("shell.init",[]);h.run(["$log","$window",function(e,i){e.log("Initializing shell."),i.onerror=function(i,t,n){return e.error(i,[t,n]),!1}}]);var b=s.default.module("shell",[o.default,c.default,p.default,m.default,u.default,"shell.init"]);i.default=b.name},function(e,i){e.exports=angular},function(e,i){e.exports=_},function(e,i){},3,3,3,3,3,3,3,3,3,3,function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["fisPubSubService","fisConfig","fisViewPanelService",function(e,i,t){"ngInject";return{restrict:"ACE",transclude:!0,scope:!0,template:'<div class="breadcrumb-container" ng-if="showCrumbs()">\t                            <div ng-transclude></div>\t                       </div>',link:function(n){n.showBreadcrumbs=!0,i&&i.shell&&i.shell.fisShell&&(n.showBreadcrumbs=i.shell.fisShell.showBreadcrumbs),n.showBreadcrumbs&&(e.subscribe("fisBreadcrumbsPresent",function(){n.addClass("fis-breadcrumb-container-present")}),e.subscribe("fisBreadcrumbsRemoved",function(){n.removeClass("fis-breadcrumb-container-present")})),n.addClass=function(e){var i=angular.element("body");i.addClass(e)},n.removeClass=function(e){var i=angular.element("body");i.removeClass(e)},n.showCrumbs=function(){var e=t.activeViewPanel();if(e){var i=t._getSecondaryNavParent(e.path);if(i&&("menubar"==i.secondaryNav||"dropdown"==i.secondaryNav)&&e.parentTitle==i.label&&e.id!=i.id&&"breadcrumbs"in e)return e.breadcrumbs!==!1&&e.breadcrumbs!==!0?n.showBreadcrumbs:(e.breadcrumbs===!1?n.removeClass("fis-breadcrumb-container-present"):n.addClass("fis-breadcrumb-container-present"),e.breadcrumbs)}return n.showBreadcrumbs}}}}],t(3)},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$filter","fisPubSubService","fisUniqueIdService","fisMemoryUtilService",function(i,t,n,a){"ngInject";function s(i,t,n,a,s){var r={};return r.valid=i,e.isUndefined(t)||(r.navItem=t,e.isUndefined(s)?e.isUndefined(t.label)?r.label="Undefined":r.label=t.label:r.label=s,t.partial||t.secondaryNav?r.clickable=!0:r.clickable=!1),e.isUndefined(n)||(r.path=n),r}return{restrict:"ACE",scope:{fisViewPanel:"&fisViewpanel",fisPath:"&fisPath",clickFn:"&fisMethod",navItemFn:"&fisNavItemMethod"},template:'<div ng-if="crumbs.length > 0">\t                        <ol class="breadcrumb">\t                          <li ng-repeat="crumb in crumbs">\t                            <span ng-if="crumb.clickable == true">\t                              <a href="" fis-unique-id="breadcrumb {{crumb.id}}" fis-id-no-increment="true" ng-click="clickCrumb(crumb)"><span ng-bind-html="getValidLabel(crumb)"></span></a>\t                            </span>\t                            <span ng-if="crumb.clickable == false" >\t                                   {{crumb.label}} <span class="breadcrumb-separator">&gt;</span> \t                               </span>\t                          </li>\t                        </ol>\t                       </div>',controller:["$scope",function(e){e.crumbs=[]}],link:function(r,o,l){function c(i,t,n){f=[];var a=0,s=!0,r=1,o=!1;return e.each(i,function(i){if(!e.isUndefined(i)&&r>=n){var l=d(i,t);if(s&&l.valid&&(l.navItem.partial||l.navItem.secondaryNav?s=!1:l.valid=!1),l.valid&&l.navItem.secondaryNav&&!o&&(o=!0),l.valid&&o){r++;var c=decodeURIComponent(angular.copy(l.label));f[a++]={path:l.path,label:c,params:t,clickable:l.clickable,id:l.navItem.id}}}}),f}function d(e,t){var n,a={};return e&&(e.label&&e.label.indexOf("{")>-1&&e.label.indexOf("{")>-1&&(n=i("interpolate")(e.label,t)),a=s(!0,e,e.path,null,n)),a}function u(e){var i=[],t=[];if(e){i.push(e);var n=e.unresolvedPath?e.unresolvedPath:e.path;if(n){for(var a=n.substring(0,n.lastIndexOf("/"));a;){var s=r.navItemFn({pathElement:a});s&&i.push(s),a=a.substring(0,a.lastIndexOf("/"))}for(var o=i.length-1;o>=0;o--)t.push(i[o])}}return t}var f;r.getValidLabel=function(e){return e.label.indexOf("{{")>-1&&(e.label=e.label.replace(/{|}/g,"")),e.label},r.clickCrumb=function(e){r.clickFn({crumb:e})};var p=1;e.isUndefined(l.fisMinimumNavLevel)||(p=l.fisMinimumNavLevel);var v=!1;l.fisInShell&&"true"===l.fisInShell&&(v=!0);var m=o.find(".breadcrumbs");n.generateUniqueIdForce(r,angular.element(m),{},"breadcrumbs");var h=function(){return e.isObject(r.fisViewPanel())?{path:r.fisViewPanel().path,title:r.fisViewPanel().title,navItem:r.fisViewPanel().navItem,params:r.fisViewPanel().params}:!e.isObject(r.fisViewPanel())&&e.isString(r.fisPath())?{path:r.fisPath()}:void 0},b=r.$watch(h,function(i){if(!e.isUndefined(i)){var n,a=[];i.navItem?a=u(i.navItem):(n=r.navItemFn({pathElement:i.path}),a=u(n)),r.crumbs=c(a,i.params,p),v&&(r.crumbs&&r.crumbs.length>0?t.publish("fisBreadcrumbsPresent",{}):t.publish("fisBreadcrumbsRemoved",{}))}},!0);a.cancelWatchOnDestroy(r,b),t.subscribe("fisViewPanelClosed",function(){r.$parent.viewPanels()&&0===r.$parent.viewPanels().length&&(r.crumbs=null,t.publish("fisBreadcrumbsRemoved",{}))})}}}],t(4)}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(15),o=n(r),l=t(14),c=n(l),d=s.default.module("shell.components.breadcrumb",[]);d.directive("fisBreadcrumb",o.default),d.directive("fisBreadcrumbContainer",c.default),i.default=d.name},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$sce",function(e){"ngInject";return{template:'<iframe fis-unique-id ng-src="{{getTrustedURL()}}" fis-stretch-to-bottom ></iframe>',restrict:"A",replace:!0,link:function(i,t,n){t.addClass("fis-content-frame"),i.getTrustedURL=function(){return e.trustAsResourceUrl(n.fisSrc)}}}}],t(5)},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(17),o=n(r),l=t(19),c=n(l),d=s.default.module("shell.components.content-frame",[]);d.directive("fisContentFrame",o.default),d.directive("fisStretchToBottom",c.default),i.default=d.name},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$window","$timeout","fisPubSubService",function(e,i,t){"ngInject";return{restrict:"A",require:"?fisReinit",replace:!1,link:function(e,n,a,s){function r(){var e=n.offset(),i=0===e.top&&0===e.left;if(!i)if(e.top<o.windowHeight){var t=parseInt(n.css("margin-bottom"),10),a=o.windowHeight-e.top-o.footerHeight-t-20;n.outerHeight(a)}else n.removeClass("stretched-to-bottom")}var o=e.shell&&e.shell.sizes||e.$parent&&e.$parent.shell&&e.$parent.shell.sizes||{};s&&(s.trigger=function(){i(function(){r()})}),setTimeout(function(){n.attr("class")&&n.attr("class").split(" ").indexOf("k-splitter")!=-1&&n.data("kendoSplitter").resize()},0);var l=t.subscribe("shell.sizeChange",function(e){0!=Object.keys(e).length&&(o=e),0!=Object.keys(o).length&&r()});e.$on("$destroy",function(){l()}),e.$on("stretchToBottom",r),e.$on("$panelContentLoaded",function(){r(),t.publish("shell.sizeChange",{})}),e.$watch("messages",r)}}}]},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={template:'<div fis-dropdown-secondary-menu-directive="$ctrl.toggled">\t        <div class="dropdown-toggle masthead-title fis-dropdown-toggle" ng-click="$ctrl.toggleDropdownMenu($event)">\t            <i ng-if="$ctrl.item.icon" class="{{$ctrl.item.icon}}"></i>\t            <span>{{$ctrl.item.label}}</span>\t            <b class="caret"></b>\t       </div>\t       <div ng-if="$ctrl.isResponsive" style="display:none;">\t            <ul class="accordion fis-off-canvas-top-bar">\t                <li class="accordion-group leaf collapsed" ng-repeat="child in $ctrl.item.children">\t                   <a href="">\t                        <div fis-unique-id ng-if="child.partial"  ng-class="{ \'fis-dropdown-set-underline\' : child.underlineClass == true}" ng-click="$ctrl.openChild(child, false)"><span></span>{{child.label}}</div>\t                    </a>\t               </li>\t            </ul>\t        </div>\t       <div ng-if="!$ctrl.isResponsive" fis-unique-id="{{$ctrl.item.id}}_masthead" style="position:fixed; top:inherit; left:inherit" class="dropdown-menu masthead-nowrap fis-tabs-bar-dropdown">\t           <ul class="masthead">\t               <li ng-repeat="child in $ctrl.item.children">\t                   <a href="">\t                        <div fis-unique-id ng-if="child.partial"  ng-class="{ \'fis-dropdown-set-underline\' : child.underlineClass == true}" ng-click="$ctrl.openChild(child, false)"><span></span>{{child.label}}</div>\t                    </a>\t               </li>\t           </ul>\t       </div></div>',bindings:{item:"<fisNavItem"},controller:["fisPubSubService","fisViewService","fisViewPanelService","fisResponsiveService","fisTabsBarService",function(e,i,t,n,a){function s(){var e=t.activeViewPanel();angular.forEach(l.item.children,function(i){i.path==e.path?i.underlineClass=!0:i.underlineClass=!1})}function r(e){e&&(e.hide(),a.openedDropDown=void 0)}function o(e){e&&(e.show(),a.openedDropDown=e)}var l=this;l.$onInit=function(){l.isResponsive=n.isResponsive(),s(),e.subscribe("fisResponsiveService.isResponsive",function(e){l.isResponsive=e})},$(document).on("click",function(){r(a.openedDropDown)}),l.toggled=!1,l.toggleDropdownMenu=function(e){if(e){e.stopPropagation();var i=angular.element(e.currentTarget),t=i.next(),n=t.is(":visible");n?r(t):(r(a.openedDropDown),o(t))}l.toggled=!l.toggled},l.openChild=function(e,i){t.open(e.path,i),e.underlineClass=!0,angular.forEach(l.item.children,function(i){i.path!=e.path&&(i.underlineClass=!1)})}}]}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";return{link:function(e,i,t){e.$watch(t.fisDropdownSecondaryMenuDirective,function(){var e=i.offset().left,t=i.closest(".fis-tab-container").css("padding-left"),n=e-parseInt(t);i.find(".dropdown-menu").offset({left:n})})}}}},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(20),o=n(r),l=t(21),c=n(l),d=s.default.module("shell.components.dropdown-secondary-menu",[]);d.component("fisDropdownSecondaryMenu",o.default),d.directive("fisDropdownSecondaryMenuDirective",c.default),i.default=d.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["fisCurrentYearService","$rootScope","fisPubSubService","$filter","fisConfig",function(i,t,n,a,s){"ngInject";return{template:'\t      <div class="row">\t        <div class="fis-footer-bar" ng-class="{ \'fis-collapsible\': viewModel.collapsible === true }">\t              <div class="inner-footer">\t                  <div class="col-sm-5 col-md-6 col-lg-6"><span class="fis-copyright" href="#"  ng-bind-html="viewModel.copyright" ></span></div>\t                  <div class="col-sm-7 col-md-6 col-lg-6"><div class="fis-controls" ng-transclude></div></div>\t              </div>\t            </div>\t        </div>',restrict:"EA",replace:!0,transclude:!0,scope:{copyright:"@",fisSticky:"@",fisCollapsible:"@"},controller:["$scope",function(t){function n(e){switch(e.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}t.viewModel={collapsible:!1,copyright:"",sticky:!0,config:{sticky:void 0,collapsible:void 0}};var r=t.viewModel;if(t.$watch("copyright",function(e){r.copyright=a("interpolate")(e,[i])}),!angular.isUndefined(s&&s.widgets)){var o=s.widgets;if(!angular.isUndefined(o.fisFooterBar)){var l=o.fisFooterBar;angular.isUndefined(l.isSticky)||(r.config.sticky=r.sticky=e.isBoolean(l.isSticky)?l.isSticky:n(l.isSticky)),angular.isUndefined(l.isCollapsible)||(r.config.collapsible=r.collapsible=e.isBoolean(l.isCollapsible)?l.isCollapsible:n(l.isCollapsible))}}}],link:function(i,a,s){function r(){if(o.sticky)a.length>0&&a.parent().css("position","fixed");else{var e=angular.element("div.fis-view-panel");if(e){var t=e.children("div:not(.fis-info-panel)"),n=null;t.length>0&&(n=t[i.$parent.activeViewPanelIndex()],n&&(angular.element(n).find("iframe").length>0?a.parent().css("position","fixed"):a.parent().css("position","relative")))}}}var o=i.viewModel;s.$observe("fisSticky",function(i){o.sticky=!e.isUndefined(o.sticky)||!i||"false"!==i.toString().toLowerCase()}),s.$observe("fisCollapsible",function(i){o.collapsible=!(!e.isUndefined(o.collapsible)||!i||"true"!==i.toString().toLowerCase())}),i.$watch("viewModel.sticky",function(e){r(),e?$("body").addClass("fis-footer-sticky"):$("body").removeClass("fis-footer-sticky")}),i.$watch("viewModel.collapsible",function(e){e?$("body").addClass("fis-footer-collapsible"):$("body").removeClass("fis-footer-collapsible")}),n.subscribe("fisActiveViewPanelChanged",function(){r()}),t.$on("$viewContentLoaded",function(){r()}),i.$parent.registerFooter&&i.$parent.registerFooter(a)}}}],t(6)}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(23),o=n(r),l=s.default.module("shell.components.footer-bar",[]);l.directive("fisFooterBar",o.default),i.default=l.name},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$compile","fisPubSubService",function(e,i){"ngInject";return{template:'<ul class="navbar-nav nav pull-right">\t                            <li ng-repeat="item in topLevelFooterItems" ng-class="{dropdown : item.children}">\t                      <a ng-if="!item.children && (item.action || item.partial || item.controller)" href="" tabindex="-1">\t                      <i ng-if="item.icon" class="{{item.icon}}"></i>\t                                <div fis-unique-id ng-if="item.partial" ng-click="open(item.path, $event)"><span ng-bind-html="getValidLabel(item)"></span>\t                                </div>\t                                <div ng-if="!item.partial" fis-unique-id><span ng-bind-html="getValidLabel(item)"></span>\t                                </div></a>\t                      <span class="noLinkSpan" ng-if="!(item.action || item.partial || item.controller)" fis-unique-id ng-bind-html="getValidLabel(item)"></span>\t                    </li>\t                  </ul>',restrict:"EA",replace:!0,controller:["$scope","$controller",function(e){var t;e.getValidLabel=function(e){return e.label&&e.label.indexOf("{{")>-1&&(e.label=e.label.replace(/{|}/g,"")),e.label},e.hasDynamicAction=function(e){return t=e,!e.partial&&e.actionController&&e.action},i.subscribe("shell.navReady",function(i){e.topLevelFooterItems=i.footer},!0),i.subscribe("shell.navChanged",function(i){e.topLevelFooterItems=i.footer},!0)}],link:function(i,t){i.$watch("topLevelFooterItems",function(i,n){if(i!==n){var a=t.children();angular.forEach(a,function(i){var t=angular.element(i),n=t.scope(),a=n.item;(a.cls||a.actionController)&&(a.cls&&t.addClass(a.cls),a.actionController&&(t.attr("ng-controller",a.actionController),t.attr("ng-click",a.action)),t.removeAttr("ng-repeat"),e(t)(n))})}})}}}]},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(25),o=n(r),l=s.default.module("shell.components.footer-menu",[]);l.directive("fisFooterMenu",o.default),i.default=l.name},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(16),o=n(r),l=t(18),c=n(l),d=t(22),u=n(d),f=t(24),p=n(f),v=t(26),m=n(v),h=t(28),b=n(h),g=t(30),w=n(g),y=t(32),M=n(y),$=t(34),C=n($),S=t(38),I=n(S),T=t(36),P=n(T),k=t(40),_=n(k),O=t(42),x=n(O),V=t(44),E=n(V),A=t(46),j=n(A),U=t(48),L=n(U),W=t(50),N=n(W),D=t(52),R=n(D),q=t(54),B=n(q),F=s.default.module("shell.components",[o.default,c.default,u.default,p.default,m.default,b.default,w.default,M.default,C.default,I.default,P.default,_.default,x.default,E.default,j.default,L.default,N.default,R.default,B.default]);i.default=F.name},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(29),o=n(r),l=s.default.module("shell.components.insert-view",[]);l.directive("fisInsertView",o.default),i.default=l.name},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["fisViewService",function(e){"ngInject";return{template:'<div ng-controller="ctrlr" ng-include="view.partial"></div>',restrict:"AE",scope:!0,controller:["$scope","$attrs","$element","$parse","$controller",function(i,t,n,a,s){var r=t.fisInsertView;if(angular.isString(t.fisInsertView)&&t.fisInsertView.indexOf("/")===-1&&(r=a(t.fisInsertView)(i)),angular.isObject(r)?i.view=r:angular.isString(r)&&(i.view=e.getItemFromPath2Item(r)),!i.view.partial)throw new Error('Invalid View "'+i.view.id+'". It does not have a partial.');i.view&&i.view.args&&(i.args=i.view.args,i.viewArgs=i.args),i.ctrlr=function(){return i.view.controller&&i.args?s(i.view.controller,{$scope:i,args:i.args}):i.view.controller?s(i.view.controller,{$scope:i}):angular.noop}}]}}]},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(31),o=n(r),l=s.default.module("shell.components.navigation-link",[]);l.directive("fisNavigationLink",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";var i={replace:!0,restrict:"A",scope:!0,template:'\t            <span class="fis-navigation-link">\t                <span ng-if="viewModel.hasAction">\t                    <span ng-if="viewModel.hasActionController" ng-controller="viewModel.getActionController" class="fis-dynamic-action">\t                        <a href="" title="{{ fisModel.title }}" ng-click="executeAction(fisModel.action)">{{viewModel.label}}</a>\t                    </span>\t                    <span ng-if="!viewModel.hasActionController" ng-class="{ \'fis-dynamic-action\': fisModel.action }">\t                        <a href="" title="{{ fisModel.title }}" ng-click="executeAction(fisModel.action)">{{viewModel.label}}</a>\t                    </span>\t                </span>\t                <span ng-if="!viewModel.hasAction">\t                    <span>\t                        <a href="" title="{{ fisModel.title }}" ng-click="navigateToPath($event)">{{viewModel.label}}</a>\t                    </span>\t                </span>\t            </span>',controller:["$scope","$controller","$filter","$element","$attrs","$transclude","$compile","fisAltMenu","$timeout",function(i,t,n,a,s,r,o,l){function c(e,n){var o={$scope:i,$element:a,$attrs:s,$transclude:r};e._actionController=t(n,o)}i.fisModel=null,i.viewModel={_actionControlle:{},getActionController:function(){return i.viewModel._actionController},hasAction:!1,hasActionController:!1,hasParams:!1,hasPartial:!0},i.$watch("fisModel.actionController",function(t){i.viewModel.hasActionController=!e.isUndefined(t)&&null!==t,i.viewModel.hasActionController&&c(i.viewModel,t)}),i.executeAction=function(e){i.$eval(e),i.fisNavigationLinkClicked&&i.fisNavigationLinkClicked()},i.navigateToPath=function(e){e.altKey?(l.showAltMenu(a,i.fisModel,i,e),e.preventDefault(),e.stopPropagation()):(i.fisNavigationLinkClicked&&i.fisNavigationLinkClicked(),i.open(i.fisModel.path,e))},i.$watch("fisModel.action",function(t){i.viewModel.hasAction=!e.isUndefined(t)}),i.$watch("fisModel.label",function(e){i.viewModel.label=e}),i.$watch("fisModel.params",function(t){i.viewModel.hasParams=!e.isUndefined(t)&&null!==t}),i.$watch("fisModel.partial",function(t){i.viewModel.hasPartial=!e.isUndefined(t)})}],link:function(e,i,t){e.$watch(t.fisModel,function(i){e.fisModel=i}),t.fisClicked&&e.$watch(t.fisClicked,function(i){e.fisClicked=i})}};return i}}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(33),o=n(r),l=s.default.module("shell.components.off-canvas-menu",[]);l.directive("fisOffCanvasMenu",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";return{restrict:"EA",replace:!0,template:'<ul class="fis-off-canvas-menu accordion">\t                <li fis-hierarchy="item in startMenuModel.menuItems.children" ng-show="item.showOffCanvas" ng-class="getItemStateClasses(item, $index)" ng-click="toggleItem(item, $index);$event.stopPropagation();">\t                    <span ng-if="item.children.length > 0" ng-click="toggleItem(item, $index);$event.stopPropagation();">{{item.view.label}}</span>\t                    <div ng-if="item.children.length === 0" title="{{item.view.title}}" class="accordion-toggle"><div fis-navigation-link fis-model="item.view"></div></div>\t                </li>\t              </ul>',scope:!0,controller:["$scope",function(i){i.currentItemId=null,i.currentItem=null,i.expandedItems={},i.menuIndexer=0,i.open=i.$parent.open,i.collapseItem=function(e){delete i.expandedItems[e.view.path],e.children instanceof Array&&e.children.forEach(function(e){i.collapseItem(e)})},i.toggleItem=function(e){e.children instanceof Array&&e.children.length>0&&(i.expandedItems[e.view.path]?(i.collapseItem(e),delete i.expandedItems[e.view.path]):i.expandedItems[e.view.path]=!0)},i.getItemStateClasses=function(t){var n=[];return t&&(n.push(0===e.size(t.children)?"leaf":"branch"),n.push(i.expandedItems[t.view.path]?"expanded":"collapsed"),n.push(i.currentItemId===t.view.path?"current":"")),n.join(" ").trim()}}]}},t(7)}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(35),o=n(r),l=s.default.module("shell.components.shell",[]);l.directive("fisShell",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["fisConfig",function(i){"ngInject";function t(i){if(!i)return{header:!0,nav:!0,views:!0,sidebar:!0,footer:!0};var t={};return e.each(i.split(/[, ]/),function(e){e=angular.element.trim(e).toLowerCase(),e&&(t[e]=!0)}),t}return{restrict:"ACE",replace:!0,transclude:!0,scope:!1,template:function(e,i){return'<div class="app" '+(void 0!==i.fisNoController?"":'ng-controller="fis.shell.Controller"')+'>\t                    <header role="banner">\t                    <div id="skipMainContent">\t                        <a href="#mainContent">Skip to main Content</a>\t                    </div>\t                        <div fis-hotkey="f5" fis-custom-hotkey="false" fis-global="true" ng-click="reloadActivePage()" />\t                        <div fis-top-bar data-app-title="{{config.appTitle}}" data-cm-guid="{{config.cmGuid}}" data-cm-base-url="{{config.cmBaseUrl}}">\t                            <div fis-utility-menu></div>\t                        </div>\t                    </header>\t                    <nav role="navigation">\t                    <div fis-tabs-bar fis-tabs-closing-menu fis-tabs-overflow-menu></div>\t                    <div fis-breadcrumb-container>\t                        <div fis-breadcrumb fis-viewpanel="activeViewPanel()" fis-minimum-nav-level="1" fis-method="open(crumb.path, null, crumb.params)" fis-in-shell="true" fis-nav-item-method="findNavItem(pathElement)"></div>\t                    </div>\t                </nav>\t                    <div role="main"  class="container-fluid fis-content-wrapper">\t                        <div id="mainContent" fis-views="viewPanels()" fis-selected-index="activeViewPanelIndex()" fis-stacked="{{config.preserveState}}"></div>\t                        <div fis-sidebar fis-mode="{{config.sidebar.mode}}" fis-title="{{config.sidebar.title}}"  fis-position="{{config.sidebar.position}}" fis-width="{{config.sidebar.width}}" fis-minimum-width="{{config.sidebar.minimumWidth}}" fis-maximum-width="{{config.sidebar.maximumWidth}}" fis-enabled="{{config.sidebar.enabled}}" fis-name="{{config.sidebar.name}}" fis-opened= "{{config.sidebar.opened}}" fis-pinned= "{{config.sidebar.pinned}}">\t                            <fis-sidebar-menu></fis-sidebar-menu>\t                        </div>\t                    </div>\t                    <footer role="contentinfo">\t                        <div fis-footer-bar data-copyright="&copy; {0} FIS">\t                            <div fis-footer-menu></div>\t                        </div>\t                    </footer>\t                </div>'},compile:function(e,n,a){var s=e.children(),r=t(n.fisWith);return r.header||angular.element(s[0]).empty(),r.nav||angular.element(s[1]).empty(),r.views||angular.element(s[2]).children().first().remove(),r.sidebar||angular.element(s[2]).children().last().remove(),r.footer||angular.element(s[3]).empty(),function(e,t){function s(e){var i=$("body");"always"===e?i.hasClass("fis-responsive-shell")||i.addClass("fis-responsive-shell"):i.removeClass("fis-responsive-shell")}var o=t.children();t.addClass("fis-shell"),a(e,function(e){var i;if(e.length>0){if((i=e.filter("header")).length){if(r.header)throw new Error("header provided as child of fis-shell but default header already used");angular.element(o[0]).replaceWith(i)}if((i=e.filter("nav")).length){if(r.nav)throw new Error("nav provided as child of fis-shell but default nav already used");angular.element(o[1]).replaceWith(i)}if((i=e.filter(":not(header):not(footer):not(nav)")).length&&angular.element(o[2]).prepend(i),(i=e.filter("footer")).length){if(r.footer)throw new Error("footer provided as child of fis-shell but default footer already used");angular.element(o[3]).replaceWith(i)}}});var l;if(l={isResponsive:"always",setByAttribute:!1},!l.setByAttribute&&i&&i.shell&&i.shell.fisShell){var c=i.shell.fisShell.isResponsive;"always"!==c&&"never"!==c&&"by-user-agent"!==c||(l.isResponsive=c,s(l.isResponsive))}n.$observe("fisIsResponsive",function(e){"always"!==e&&"never"!==e&&"by-user-agent"!==e||(l.isResponsive=e,l.setByAttribute=!0,s(l.isResponsive))}),s(l.isResponsive)}}}}],t(8)}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(37),o=n(r),l=s.default.module("shell.components.side-bar-menu",[]);l.component("fisSidebarMenu",o.default),i.default=l.name},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={template:'\t                <ul class="sidebar-list">\t                    <li ng-repeat="item in $ctrl.sidebars">\t                        <div fis-insert-view="$ctrl.updatePartial(item)" /></div>\t                    </li>\t                </ul>',controller:["fisPubSubService","fisUtilService","$timeout",function(e,i,t){var n=this;n.updatePartial=function(e){var t=angular.copy(e);return t.partial&&(t.partial=i.appendCacheQueryParameter(t.partial)),t},e.subscribe("shell.navReady",function(e){t(function(){n.sidebars=e.sidebar})},!0),e.subscribe("shell.navChanged",function(e){t(function(){n.sidebars=e.sidebar})},!0)}]}},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(39),o=n(r),l=s.default.module("shell.components.side-bar",[]);l.directive("fisSidebar",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["fisSidebarStateService","$timeout","$compile","fisMemoryUtilService","fisPubSubService",function(i,t,n,a,s){"ngInject";var r={dragging:!1,enabled:!1,maximumWidth:900,minimumWidth:100,mode:"click",name:"",opened:!1,openingTimeout:null,pinned:!1,position:"right",resizeTimeout:null,title:"",width:350},o={replace:!0,restrict:"EA",scope:!0,template:'\t        <div id="sidebar" fis-unique-id ng-class="{ \'fis-sidebar\':true, \'fis-sidebar-hover\': sidebar.mode === \'hover\', \'fis-sidebar-enabled\': sidebar.enabled, \'fis-sidebar-opened\': sidebar.opened, \'fis-sidebar-right\': sidebar.position === \'right\', \'fis-sidebar-left\': sidebar.position === \'left\', \'fis-sidebar-pinned\': sidebar.pinned }" fis-pub-sub>\t        <div class="fis-sidebar-toggle-well">\t            <div class="fis-sidebar-toggle" aria-expanded={{sidebar.opened===true}} ng-click="toggleSidebarClick($event)">\t            <div class="fis-sidebar-toggle-content">\t              <span id="caret" fis-unique-id class="fis-sidebar-caret" ng-if="sidebar.position === \'right\'" />\t              <span class="fis-sidebar-toggle-title">{{sidebar.title}}</span>\t              <span id="caret" fis-unique-id class="fis-sidebar-caret" ng-if="sidebar.position === \'left\'"  />\t              </div>\t            </div>\t          </div>\t          <div class="fis-sidebar-content-well" fis-unique-id>\t          <!--ng-animate="\'fis-sidebar-content-transition\'" ng-show="sidebar.opened"-->\t                    <div class="fis-sidebar-resize" fis-draggable="true" fis-drag-drop-type="fisSideBar"></div>\t                        <div class="fis-sidebar-content-well-container">\t                           <div class="fis-sidebar-content-well-outer">\t                                 <div class="fis-sidebar-content-well-inner">\t                                        <div class="fis-sidebar-title-well">\t                                            <div tabindex={{sidebar.opened===true?0:-1}} aria-pressed={{sidebar.pinned}} class="fis-sidebar-title" ng-click="sidebar.pinned = !sidebar.pinned"><span>{{ sidebar.title }}</span></div>\t                                            <div tabindex={{sidebar.opened===true?0:-1}} aria-pressed={{sidebar.pinned}} aria-label="pin sidebar" fis-unique-id class="fis-sidebar-pin glyphicon glyphicon-pushpin" ng-click="sidebar.pinned = !sidebar.pinned"></div>\t                                        </div>\t                                        <div class="fis-sidebar-content" ng-show="sidebar.opened" ng-transclude></div>\t                                 </div>\t                           </div>\t                      </div>\t                     </div>\t        </div>',transclude:!0,controller:["$scope",function(t){t.sidebar={dragging:r.dragging,enabled:r.enabled,maximumWidth:r.maximumWidth,minimumWidth:r.minimumWidth,mode:r.mode,name:r.name,opened:r.opened,openingTimeout:r.openingTimeout,pinned:r.pinned,position:r.position,resizeTimeout:r.resizeTimeout,title:r.title,width:r.width};var n,a;t.$watch("sidebar.dragging",function(e){if("boolean"!=typeof e)throw new TypeError("The 'sidebar.dragging' property was assigned an invalid value.")}),t.$watch("sidebar.enabled",function(e){if("boolean"!=typeof e)throw new TypeError("The 'sidebar.enabled' property was assigned an invalid value.");e===!1?(n=t.sidebar.opened,a=t.sidebar.pinned,t.sidebar.pinned=!1,t.sidebar.opened=!1):(void 0!==n&&(t.sidebar.opened=n),void 0!==a&&(t.sidebar.pinned=a))}),t.$watch("sidebar.maximumWidth",function(e){if("number"!=typeof e)throw new TypeError("The 'sidebar.maximumWidth' property was assigned an invalid value.");if(t.sidebar.maximumWidth<t.sidebar.minimumWidth)throw new TypeError("The 'sidebar.maximumWidth' property was assigned a value less than the minimumWidth.");
t.sidebar.width>e&&(t.sidebar.width=e)}),t.$watch("sidebar.minimumWidth",function(e){if("number"!=typeof e)throw new TypeError("The 'sidebar.minimumWidth' property was assigned an invalid value.");if(t.sidebar.maximumWidth<t.sidebar.minimumWidth)throw new TypeError("The 'sidebar.minimumWidth' property was assigned a value greater than the maximumWidth.");t.sidebar.width<e&&(t.sidebar.width=e)}),t.$watch("sidebar.mode",function(e){if("string"!=typeof e)throw new TypeError("The 'sidebar.mode' property was assigned an invalid value.");if(e=e.trim().toLowerCase(),"click"!==e&&"hover"!==e)throw new TypeError("The 'sidebar.mode' property was assigned an invalid value.")}),t.$watch("sidebar.name",function(e,n){if("string"!=typeof e)throw new TypeError("The 'sidebar.name' property was assigned an invalid value.");if(!i.registerSidebar)throw new Error("Cannot register sidebar - no registerSidebar in service");"string"==typeof n&&i.unregisterSidebar(n),i.registerSidebar(e,t)}),t.$watch("sidebar.opened",function(e,i){if("boolean"!=typeof e)throw new TypeError("The 'sidebar.opened' property was assigned an invalid value.");t.publish("fisSidebarVisibilityChanged",{newValue:e,oldValue:i})}),t.$watch("sidebar.pinned",function(e,n){if("boolean"!=typeof e)throw new TypeError("The 'sidebar.pinned' property was assigned an invalid value.");e&&!i.isOpened(t.sidebar.name)&&i.openSidebar(t.sidebar.name),t.publish("fisSidebarPinStateChanged",{newValue:e,oldValue:n})}),t.$watch("sidebar.position",function(e){if("string"!=typeof e)throw new TypeError("The 'sidebar.position' property was assigned an invalid value.");if(e=e.trim().toLowerCase(),"right"!==e&&"left"!==e)throw new TypeError("The 'sidebar.position' property was assigned an invalid value.")}),t.$watch("sidebar.title",function(e){if("string"!=typeof e)throw new TypeError("The 'sidebar.title' property was assigned an invalid value.")}),t.$watch("sidebar.width",function(i){var n=!1;if(e.isString(i)&&(i=parseInt(i.toString().replace("px",""),10),n=!0),"number"!=typeof i)throw new TypeError("The 'sidebar.width' property was assigned an invalid value.");i>t.sidebar.maximumWidth?(i=t.sidebar.maximumWidth,n=!0):i<t.sidebar.minimumWidth&&(i=t.sidebar.minimumWidth,n=!0),n&&(t.sidebar.width=i)}),t.$on("$destroy",function(){i.unregisterSidebar&&t.sidebar.name.length>0&&i.unregisterSidebar(t.sidebar.name)})}],link:function(i,o,l){var c=function(e,i){var t=$("body"),n=t.hasClass(i);e?n||t.addClass(i):n&&t.removeClass(i)};i.sidebarContentMarkup=o.find(".fis-sidebar-content")[0].innerHTML,i.reload=function(){var e=o.find(".fis-sidebar-content");e.empty();var t=angular.element($(".fis-sidebar-content")).scope();if("undefined"!=typeof t&&null!==t){var a=t.$$childHead;"undefined"!=typeof a&&null!==a&&a.$destroy()}var s=n(i.sidebarContentMarkup)(i);e.append(s),"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply()};var d=function(e){i.sidebar.dragging||(i.sidebar.openingTimeout=null,i.sidebar.opened=e,"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply())};i.toggleSidebarClick=function(e){"click"===i.sidebar.mode&&d(!i.sidebar.opened),e.stopPropagation(),"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply()};var u=function(e){if("click"!==i.sidebar.mode&&!i.sidebar.pinned&&(i.sidebar.opened||!$(e.srcElement).hasClass("fis-sidebar-toggle-well"))){i.sidebar.openingTimeout&&(t.cancel(i.sidebar.openingTimeout),i.sidebar.openingTimeout=null);var n=e.type;i.sidebar.openingTimeout=t(function(){d("mouseenter"===n)},350),a.cancelTimeoutOnDestroy(i,i.sidebar.openingTimeout,t)}e.stopPropagation(),"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply()},f=function(e){var i=$("body"),t=i.hasClass("fis-sidebar-right"),n=i.hasClass("fis-sidebar-left"),a="right"===e;a||n||i.addClass("fis-sidebar-left"),a&&n&&i.removeClass("fis-sidebar-left"),a&&!t&&i.addClass("fis-sidebar-right"),!a&&t&&i.removeClass("fis-sidebar-right")},p=function(e){var n=t(function(){i.sidebar.pinned&&(h.css("margin-left",""),h.css("margin-right","")),f(e),g(i.sidebar.width),m.show(),i.sidebar.pinned&&o.toggleClass("fis-sidebar-notransition")},50);a.cancelTimeoutOnDestroy(i,n,t)},v=o.find(".fis-sidebar-toggle"),m=(o.find(".fis-sidebar-resize"),o.find(".fis-sidebar-content-well")),h=$(".fis-view-panel");o.on("mouseenter mouseleave",u),v.on("mouseenter",u);var b;s.subscribe("fisOnDragStart.fisSideBar",function(e){var t=e.event;i.sidebar.dragging=!0,i.sidebar.dragStartX=i.sidebar.width,b=t.clientX,"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply()}),s.subscribe("fisOnDrag.fisSideBar",function(e){i.sidebar.dragging=!0;var t="right"===i.sidebar.position?1:-1,n=i.sidebar.dragStartX,a=b,s=e.event.clientX;s>0&&(i.sidebar.width=n+(a-s)*t)}),s.subscribe("fisOnDragEnd.fisSideBar",function(){i.sidebar.dragging=!1,i.sidebar.dragStartX=0,"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply()});var g=function(e){var t=e+"px",n=e*-1+"px";i.sidebar.pinned?h.css("margin-"+i.sidebar.position,t):(h.css("margin-left",""),h.css("margin-right","")),m.css("width",t),m.css("right",""),m.css("left",""),m.css(i.sidebar.position,n)},w=function(e){if(""!==e&&!isNaN(e))return parseInt(e,10)};l.$observe("fisEnabled",function(e){e="string"==typeof e&&"true"===e.trim().toLowerCase()||r.enabled,i.sidebar.enabled=e}),l.$observe("fisMode",function(e){e="string"==typeof e&&"hover"===e.trim().toLowerCase()?"hover":r.mode,i.sidebar.mode=e}),l.$observe("fisName",function(e){e="string"==typeof e?e.trim():r.name,i.sidebar.name=e}),l.$observe("fisPosition",function(e){e="string"==typeof e&&"left"===e.trim().toLowerCase()?"left":r.position,i.sidebar.position=e}),l.$observe("fisTitle",function(e){e="string"==typeof e?e.trim():r.name,i.sidebar.title=e}),l.$observe("fisWidth",function(t){t=w(t),e.isUndefined(t)&&(t=r.width),i.sidebar.width=t}),l.$observe("fisMinimumWidth",function(t){t=w(t),e.isUndefined(t)&&(t=r.minimumWidth),i.sidebar.minimumWidth=t}),l.$observe("fisMaximumWidth",function(t){t=w(t),e.isUndefined(t)&&(t=r.maximumWidth),i.sidebar.maximumWidth=t}),l.$observe("fisOpened",function(e){var n=t(function(){e=e===!0||"string"==typeof e&&"true"===e.trim().toLowerCase()||r.opened,i.sidebar.opened===!1&&(i.sidebar.opened=e,"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply())},0);a.cancelTimeoutOnDestroy(i,n,t)}),l.$observe("fisPinned",function(e){var n=t(function(){e=e===!0||"string"==typeof e&&"true"===e.trim().toLowerCase()||r.pinned,i.sidebar.pinned===!1&&(i.sidebar.pinned=e,"$apply"!==i.$root.$$phase&&"$digest"!==i.$root.$$phase&&i.$apply())},0);a.cancelTimeoutOnDestroy(i,n,t)});var y=i.$watch("sidebar.enabled",function(e){c(e,"fis-sidebar-enabled")});a.cancelWatchOnDestroy(i,y);var M=i.$watch("sidebar.dragging",function(e){c(e,"fis-sidebar-dragging")});a.cancelWatchOnDestroy(i,M);var C=i.$watch("sidebar.pinned",function(e){c(e,"fis-sidebar-pinned"),g(i.sidebar.width)});a.cancelWatchOnDestroy(i,C);var S=i.$watch("sidebar.position",function(e){m.hide(),i.sidebar.pinned&&o.toggleClass("fis-sidebar-notransition"),p(e)});a.cancelWatchOnDestroy(i,S);var I=i.$watch("sidebar.width",function(e){g(parseInt(e,10))});a.cancelWatchOnDestroy(i,I)}};return o}],t(9)}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(41),o=n(r),l=s.default.module("shell.components.start-menu",[]);l.directive("fisStartMenu",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$controller","$compile","fisPubSubService","fisStartMenuService","$timeout","fisConfig","fisMemoryUtilService",function(i,t,n,a,s,r,o){"ngInject";return{restrict:"EA",replace:!0,template:"\t        <div class=\"fis-start-menu transitions-enable\" ng-class=\"{ 'fis-start-menu-quick-links-right': startMenuModel.quickLinksOrientation === 'right', 'fis-start-menu-search-disabled': !startMenuModel.searchable, 'fis-start-menu-opened': !startMenuModel.closed }\" fis-visible=\"(startMenuModel.enabled && (!startMenuModel.closed))\">\t          <div fis-off-canvas-menu ng-if=\"isResponsive\"></div>\t        </div>",scope:!0,controller:["$scope","fisPubSubService","fisStartMenuService",function(i,t,n){function a(i){return e.filter(i,function(i){var t=i&&e.size(i.children)>0&&e.has(i,"label")&&(e.isUndefined(i.closeable)||i.closeable);return t})}function l(t,n){return{view:t,children:0!==e.size(t.secondaryNav)?[]:i.getViewsAsMenuItems(t.children,t),parent:n?n:null}}function c(e,i){return""===i||null!=e&&String(e).indexOf(i)!==-1}function d(e){switch(e.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function u(e){for(var i=!1,t=0;t<e.length;t++)if((e[t].view.secondaryNav||e[t].view.partial||e[t].view.action||u(e[t].children))&&"hide"!==e[t].view.cls){i=!0;break}return i}function f(i){if(i.children&&i.children.length>0){var t=e.filter(i.children,function(e){if("hide"===e.view.cls)return e});if(i.children.length===t.length)return!1;if(!u(i.children))return!1}return!0}function p(t){m.navMap={};var n=!1;(e.isUndefined(m.searchSections)||0===m.searchSections.length)&&(m.searchSections=["main"]),e.each(m.searchSections,function(i){m.navMap[i]=a(t[i]),n=n||e.isArray(m.navMap[i])&&m.navMap[i].length>0}),m.primitiveViews=m.navMap.main;var s=m.showEmptyMenu&&m.searchable;if(m.enabled=e.size(m.primitiveViews)>0||s&&n,m.views=m.primitiveViews.slice(0),m.searchable&&m.views.push(m.searchableView),m.menuItems.children=i.getViewsAsMenuItems(m.views),e.each(m.menuItems.children,function(t){var n=i.groupChildlessViews(t.children,t);e.isNull(n)||(e.each(n.children,function(i){var n=!1;e.each(t.children,function(e,a){n||i.view.id!==e.view.id||(t.children.splice(a,1),n=!0)})}),t.children.unshift(n))}),angular.forEach(m.menuItems.children,function(e){i.isItemInViewToShow(e)}),m.enabled&&e.size(m.menuItems.children)>0)for(var r=m.menuItems.children,o=0;o<r.length&&("hide"===r[o].view.cls||(m.selectedMenuItem=r[o],!f(m.selectedMenuItem)));o++);i.$broadcast("fisViews",m.views)}function v(e){if(i.navTimeout!==-1){var t=s(function(){p(e)},i.navTimeout);o.cancelTimeoutOnDestroy(i,t,s)}else p(e)}i.navTimeout=-1,r&&r.menuApi&&r.menuApi.navTimeout&&(e.isNumber(r.menuApi.navTimeout)?i.navTimeout=r.menuApi.navTimeout:i.navTimeout=100),i.startMenuModel={closeOnMouseExit:!0,closed:!0,enabled:!0,menuItems:{},primitiveViews:null,quickLinksOrientation:"left",searchable:!0,searchableView:{id:"SearchItem",label:"Search",location:"",path:""},selectedMenuItem:null,views:null};var m=i.startMenuModel;if(m.menuDirectiveName=n.getMenuDirectiveName(),i.getViewsAsMenuItems=function(i,t){var n=[];return e.size(i)>0&&e.each(i,function(e){c(e.id,":")||n.push(l(e,t))}),n},i.groupChildlessViews=function(i,t){var n=[],a={};return angular.copy(t,a),a.view.children=[],a.parent=t.view,e.size(i)>0&&e.each(i,function(i){0===e.size(i.children)&&n.push(i)}),e.size(n)>0?a.children=n:a=null,a},i.resetSearch=function(){i.startMenuModel.searchable&&(e.last(m.menuItems.children).children=[])},i.toggle=function(){i.isResponsive?m.closed=!m.closed:e.size(i.startMenuModel.menuDirectiveName)>0&&(m.closed=!m.closed)},i.isItemInViewToShow=function(t){var n=!0,a="SearchItem"===t.view.id;if(t.children&&t.children.length>0&&!u(t.children)&&(n=!1),t.parent&&"hide"===t.parent.cls)n=!1;else if(t.children&&t.children.length>0){var s=e.filter(t.children,function(e){if("hide"===e.view.cls)return e});t.children.length===s.length&&(n=!1)}t.isPrimaryNav=n,t.isSearchResult=a,t.showOffCanvas=n&&!a,t.showMenu=n||a,angular.forEach(t.children,function(e){i.isItemInViewToShow(e)})},t.subscribe("shell.navReady",function(e){v(e)},!0),t.subscribe("shell.navChanged",function(e){v(e)},!0),t.subscribe("fisStartMenuToggleVisibility",i.toggle),r&&r.menuApi){var h=r.menuApi;angular.isUndefined(h)||(angular.isUndefined(h.searchEnabled)||(m.searchable=h.searchEnabled||d(h.searchEnabled.toString())),angular.isUndefined(h.closeOnMouseExit)||(m.closeOnMouseExit=h.closeOnMouseExit||d(h.closeOnMouseExit.toString())),angular.isUndefined(h.quickLinksOrientation)||(m.quickLinksOrientation=h.quickLinksOrientation),angular.isUndefined(h.searchSections)||(m.searchSections=h.searchSections),angular.isUndefined(h.searchSections)||(m.showEmptyMenu=h.showEmptyMenu))}t.subscribe("fisMenuChanged",function(e){i.$broadcast("fisViews",e)},!0),t.subscribe("fisMenuReset",function(){i.resetSearch()}),t.subscribe("fisStartMenu.setSearchable",function(e){m.searchable=!!e}),t.subscribe("fisStartMenu.setCloseOnMouseExit",function(e){m.closeOnMouseExit=!!e}),t.subscribe("fisStartMenu.setQuickLinksOrientation",function(e){m.quickLinksOrientation=e}),t.subscribe("fisStartMenu.setLoadingIndicator",function(e){m.loadingIndicator=!!e}),t.subscribe("fisStartMenu.setShowEmptyMenu",function(e){m.showEmptyMenu=!!e}),i.$watch("startMenuModel.searchable",function(e){t.publish("fisStartMenu.searchable",e)}),i.$watch("startMenuModel.closeOnMouseExit",function(e){t.publish("fisStartMenu.closeOnMouseExit",e)}),i.$watch("startMenuModel.quickLinksOrientation",function(e){t.publish("fisStartMenu.quickLinksOrientation",e)}),i.$watch("startMenuModel.showEmptyMenu",function(e){t.publish("fisStartMenu.showEmptyMenu",e)})}],link:function(i,a){if(i.$watch("startMenuModel.enabled",function(e){e?$("body").removeClass("fis-start-menu-disabled"):$("body").addClass("fis-start-menu-disabled")}),i.$watch("startMenuModel.closed",function(e){e?($("body").removeClass("fis-start-menu-opened"),i.startMenu&&(i.startMenu.opened=!1)):($("body").addClass("fis-start-menu-opened"),i.startMenu&&(i.startMenu.opened=!0)),e===!1&&n.publish("shell.resumeMMWatch"),i.startMenuModel.showEmptyMenu&&i.startMenuModel.searchable&&n.publish("shell.navLoading",!1)}),e.size(i.startMenuModel.menuDirectiveName)>0){var s=$("<div "+i.startMenuModel.menuDirectiveName+' ng-if="!isResponsive"></div>');a.prepend(s),t(s)(i),i.startMenuModel.enabled=!0}else i.startMenuModel.enabled=!1}}}],t(10)}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(43),o=n(r),l=s.default.module("shell.components.tabs-bar",[]);l.directive("fisTabsBar",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";function i(){var e='<div fis-tabs-width fis-tabs-details="{{getItemTitle(item)}}" fis-tabs-closable="renderClose(item.view)" fis-tabs-front-icon="hasItemIcon(item)">\t                        <span class="fisTabCustomClass">\t                            <div ng-if="hasItemIcon(item)" class="fis-legacy-icon" fis-unique-id="{{item.view.title}}_icon"><i class="{{ getItemIcon(item) }}"></i></div>\t                            <span tabindex={{isResponsive?!startMenu.opened?-1:0:0}} class="fis-tab-label" ng-dblclick="rename(item.view, $event)" ng-if="!item.view.editMode" ng-bind-html="getItemTitle(item)"></span>\t                            <input class="input-small" ng-blur="setTitle(item.view, $event)" ng-keyup="onKeyUp(item.view, $event)" ng-show="item.view.renamable && item.view.editMode"/>\t                        </span>\t                        <span class="fisTabIcons">\t                            <span class="fis-innertabicon" ng-if="renderClose(item.view)"><fis-hook id="multiWindowClickIcon" fis-hook-data="{{item}}"></fis-hook></span>\t                            <span class="fis-cover">\t                                <span aria-label="close" tabindex={{isResponsive?!startMenu.opened?-1:0:0}} fis-unique-id ng-if="renderClose(item.view)" class="fis-close" ng-click="close($event, item.view.path)">&times;</span>\t                            </span>\t                        </span>\t                    </div>';return e}return{scope:!0,template:'\t            <div>\t                <div class="fis-tabs-bar">\t                    <button class="fis-home" fis-hotkey="{{config.menuApi.hotkey || \'ctrl+m, ⌘+m\'}}" fis-custom-hotkey="false" fis-global="true" ng-mouseout="suspendWatches()" ng-if="showMenuButton()" ng-click="startMenu.toggle()">\t                        <span ng-if="(showMenuLoader && !menuLoading) || !showMenuLoader"><!----><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></span>\t                        <span class="k-loading" ng-if="menuLoading && showMenuLoader"><!----> </span>\t                    </button>\t            <div class="fis-displaypanel" ng-show="showPanels">\t                        <ul class="nav nav-tabs" fis-hotkey="alt+left, alt+right" fis-custom-hotkey="false" fis-on-hotkey-event="keyboardNavigation($event)" fis-global="true">\t                    <li ng-repeat="item in tabs track by $index" data-path="{{item.path}}" aria-selected="{{getClass(item.view).indexOf(\'fis-active\')>-1?true:false}}" ng-class="getClass(item.view)" class="fis-tab fis-nav-tab" fis-draggable="{{isDraggable(item.view)}}" fis-drop-target fis-drag-drop-type="fisTabsBar">\t                                <div ng-if="item.view.secondaryNavParent.secondaryNav === \'dropdown\'" fis-unique-id tabindex={{isResponsive?!startMenu.opened?-1:0:0}} ng-class="{\'fis-cursor-pointer\':item.view.renamable && getClass(item.view.path)===\'fis-active\', \'tabIcon\':hasItemIcon(item)}" class="fis-tab-container fis-tab-container-responsive" title="{{ prependTitle(item)}}">\t                                    <fis-dropdown-secondary-menu fis-nav-item="item.view.secondaryNavParent">\t                                    </fis-dropdown-secondary-menu>\t                                </div>\t                                <div ng-if="(item.view.secondaryNav !== \'dropdown\' && item.view.secondaryNavParent.secondaryNav !== \'dropdown\')" fis-unique-id tabindex={{isResponsive?!startMenu.opened?-1:0:0}}  ng-class="{\'fis-cursor-pointer\':item.view.renamable && getClass(item.view.path)===\'fis-active\', \'tabIcon\':hasItemIcon(item)}" class="fis-tab-container" ng-click="openItem(item, $event)" title="{{ prependTitle(item) }}">\t                                    <div ng-class="{\'fis-has-icon\': hasItemIcon(item)}" class="label-icon-wrapper ">\t                                        '+i()+'</div>\t                                </div>\t                                <div ng-if="(item.view.secondaryNav === \'dropdown\' && item.view.secondaryNavParent.secondaryNav !== \'dropdown\')" fis-unique-id tabindex={{isResponsive?!startMenu.opened?-1:0:0}} ng-class="{\'fis-cursor-pointer\':item.view.renamable && getClass(item.view.path)===\'fis-active\', \'tabIcon\':hasItemIcon(item)}" class="fis-tab-container fis-tab-container-responsive " title="{{ prependTitle(item)}}">\t                                    <div ng-if="item.view.secondaryNav === \'dropdown\'">\t                                        <fis-dropdown-secondary-menu fis-nav-item="item.view">\t                                        </fis-dropdown-secondary-menu>\t                                    </div>\t                                </div>\t                                <ul ng-if="isResponsive && activeViewPanel().path === item.path && secondaryMenuBarItems.items.length > 0" class="accordion fis-off-canvas-top-bar">\t                                    <li class="accordion-group" fis-hierarchy="child in secondaryMenuBarItems.items" ng-show="isItemInViewToShow(child)" ng-class="getItemStateClasses(child, $index)" ng-click="toggleItem(child, $index);$event.stopPropagation();">\t                                        <span ng-if="child.items.length > 0" ng-click="toggleItem(child, $index);$event.stopPropagation();">{{child.label}}</span>\t                                        <div ng-if="!child.items || child.items.length === 0" title="{{child.title}}" class="accordion-toggle"><div fis-navigation-link fis-model="child"></div></div>\t                                    </li>\t                                </ul>\t                            </li>\t                            <li class="fis-tab fis-non-draggable fis-new-workspace-tab" aria-label="Add view menu item" tabindex={{isResponsive?!startMenu.opened?-1:0:0}} ng-click="openNewWorkspace()" ng-if="viewMenuPresent">\t                                <div><i class="glyphicon glyphicon-plus"></i></div>\t                            </li>\t                        </ul>\t          </div>\t        </div>\t        <div fis-start-menu></div>\t                <fis-hook id="multiWindowFixedMenu"></fis-hook>\t                <fis-hook id="multiWindowBaseController"></fis-hook>\t                <div class="fis-subnav-bar">\t                    <div fis-secondary-menu></div>\t                </div>\t      </div>',restrict:"EA",replace:!0,transclude:!0,controller:["$element","$scope","$rootScope","fisViewPanelService","$timeout","fisPubSubService","fisConfig","fisUniqueIdService","fisResponsiveService","fisMemoryUtilService","$compile","fisStartMenuService","fisViewService",function(t,n,a,s,r,o,l,c,d,u,f,p,v){function m(i){i&&e.each(i,function(i){if(i.items){var t=e.clone(i);t.items=m(i.items)}else i.partial&&"hide"!==i.cls&&(i.isValid=!0,h(i))})}function h(e){var i=e.path,t=i;if(t&&(t=t.substring(0,t.lastIndexOf("/")),""!==t)){var n=v.findNavItem(t);n&&(n.isValid=!0,h(n))}}function b(i){var t=[];return i&&e.each(i,function(i){if(i.items){var n=e.clone(i);n.items=b(i.items,!1),i.icon&&(delete n.icon,n.spriteCssClass=i.icon),n.isValid===!0&&t.push(n)}else!i.partial||"hide"===i.cls||i.id&&i.id.indexOf(":")!==-1||(i.icon&&(i.spriteCssClass=i.icon),h(i),i.isValid===!0&&t.push(i))}),t}function g(i){n.viewMenuPresent=!1,i.viewMenu&&i.viewMenu.length>0&&(n.viewMenuPresent=!0,P=i.viewMenu[0].path),i.main&&e.size(i.main)>0&&(n.navHasMain=!0),w(!1)}function w(i){e.isUndefined(i)?i=!0:e.isBoolean(i)||(i=!1),n.menuLoading=i}function y(e){for(var i=!1,t=0;t<e.length;t++)if((e[t].secondaryNav||e[t].partial||e[t].action||y(e[t].children))&&"hide"!==e[t].cls){i=!0;break}return i}function M(e){var i=t.find('.nav > li.fis-tab[data-path ="'+e+'"]').next(".fis-tab");return!i.hasClass("fis-new-workspace-tab")}function C(e){var i=t.find('.nav > li.fis-tab[data-path ="'+e+'"]').prev(".fis-tab");return i.hasClass("fis-tab")}function S(e){var i=t.find('.nav > li.fis-tab[data-path ="'+e+'"]').next(".fis-tab");return i.attr("data-path")}function I(e){var i=t.find('.nav > li.fis-tab[data-path ="'+e+'"]').prev(".fis-tab");return i.attr("data-path")}function T(e){return e=e.trim(),215===e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-2).trim()),e}var P="",k=1,_=null;n.currentItemId=null,n.currentItem=null,n.expandedItems={},n.menuIndexer=0,n.$on("$destroy",function(){_&&r.cancel(_)}),n.updateTabTitle=!1,n.isResponsive=d.isResponsive(),n.showMenuLoader=!1,n.showMenuButton=e.size(p.menuDirectiveName)>0,n.menuLoading=void 0,o.subscribe("fisStartMenu.setLoadingIndicator",function(e){n.showMenuLoader=!!e}),n.$watch("showMenuLoader",function(e){o.publish("fisStartMenu.loadingIndicator",e)}),n.navHasMain=!1,o.subscribe("fisTabsBar.updateTabTitle",function(e){n.updateTabTitle=e}),o.subscribe("fisTabsBar.tooltipPrependTitle",function(e){n.tooltipPrependTitle=e}),n.getItemStateClasses=function(i){var t=[];return t.push(0===e.size(i.children)?"leaf":"branch"),t.push(n.expandedItems[i.path]?"expanded":"collapsed"),t.push(n.currentItemId===i.path?"current":""),t.join(" ").trim()},n.collapseItem=function(e){delete n.expandedItems[e.path],e.items instanceof Array&&e.items.forEach(function(e){n.collapseItem(e)})},n.toggleItem=function(e){e.children instanceof Array&&e.children.length>0&&(n.expandedItems[e.path]?(n.collapseItem(e),delete n.expandedItems[e.path]):n.expandedItems[e.path]=!0)},n.showMenuButton=function(){var i=!1;return i=!!n.isResponsive||e.size(p.getMenuDirectiveName())>0&&n.navHasMain};var O=r(function(){var e=t.find("i.glyphicon.glyphicon-plus"),i=t.find(".fis-home");c.generateUniqueId(n,e,{},"plus_btn"),c.generateUniqueId(n,i,{},"startMenu_toggle_")},2e3);u.cancelTimeoutOnDestroy(n,O,r),o.subscribe("fisActiveViewPanelChanged",function(e){var i=e.currentNavItem;(!i||"menubar"!==i.secondaryNav&&i.isStatic!==!0)&&(n.secondaryMenuBarItems=null)}),o.subscribe("fisSecondaryMenuClicked",function(e){if("menubar"===e.secondaryNav){m(e.children);var i=b(e.children,!0);n.secondaryMenuBarItems={items:i}}else n.secondaryMenuBarItems=null},!0),o.subscribe("fisViewPanelClosed",function(){0===e.size(n.viewPanels())&&(n.secondaryMenuBarItems=null)}),o.subscribe("shell.navReady",function(e){g(e)},!0),o.subscribe("shell.navChanged",function(e){g(e)},!0),o.subscribe("shell.navLoading",w),l.widgets&&l.widgets.fisTabsBar&&(n.updateTabTitle=l.widgets.fisTabsBar.updateTabTitle,n.tooltipPrependTitle=l.widgets.fisTabsBar.tooltipPrependTitle),l.menuApi&&l.menuApi.loadingIndicator?(n.showMenuLoader=l.menuApi.loadingIndicator,e.isUndefined(n.menuLoading)&&w(!0)):console.warn("No menu loader config entry found"),n.isItemInViewToShow=function(i){if("SearchItem"===i.id)return!0;if(i.children&&i.children.length>0&&!y(i.children))return!1;if(i.parent&&"hide"===i.parent.cls)return!1;if(i.children&&i.children.length>0){var t=e.filter(i.children,function(e){if("hide"===e.cls)return e});if(i.children.length===t.length)return!1}return!0},n.openNewWorkspace=function(){var i=function(){return P+"/"+k},t=function(e){return e.path===a},a=i();(e.any(n.tabs,t)||e.any(n.overflowViewModel.overflow,t))&&k++,n.openPath(i(),!0),k++},n.rename=function(e,i){if(e.renamable){e.editMode=!0;var t=angular.element(i.target).next(),a=r(function(){t.focus()},0);u.cancelTimeoutOnDestroy(n,a,r),e.draggable=!1}},n.getItemTitle=function(i){return e.isUndefined(i)||e.isUndefined(i.label)||e.isUndefined(i.view.label)||i.label&&(i.label.indexOf("{{")>-1||i.view.label.indexOf("{{")>-1)&&(i.view.title=i.view.title.replace(/{|}/g,""),i.view.label=i.label=i.label.replace(/{|}/g,"")),i.view.navItem&&i.view.navItem.customTitle?(i.view.navItem.customTitle.indexOf("{{")>-1&&(i.view.navItem.customTitle=i.view.navItem.customTitle.replace(/{|}/g,"")),i.view.navItem.customTitle):n.updateTabTitle||e.isUndefined(i.parentTitle)?i.view.title:i.parentTitle},n.prependTitle=function(i){var t,a=n.getItemTitle(i);return e.isUndefined(i)||e.isUndefined(i.view)||e.isUndefined(i.view.navItem)||e.isUndefined(i.view.navItem.title)||e.isString(i)||(t=i.view.navItem.title),n.tooltipPrependTitle&&!e.isUndefined(t)&&a!==t?t+" - "+a:a},n.getItemIcon=function(i){return i.view.navItem&&i.view.navItem.customIcon?i.view.navItem.customIcon:n.updateTabTitle?i.view.icon:e.isNull(i.parentIcon)?"":e.isUndefined(i.parentIcon)?i.view.icon:i.parentIcon},n.hasItemIcon=function(i){var t=n.getItemIcon(i);return!(e.isUndefined(t)||""===t||null===t)},n.resetTitle=function(i,t){if(!e.isUndefined(i.originalTitle)){var n=i.getTitle();i.title=i.originalTitle;var s=angular.element(t.target),r={oldValue:n,newValue:i.getTitle()};s.val(i.getTitle()),a.$broadcast("fisViewPanelTitleChanged",r)}},n.setTitle=function(i,t){e.isUndefined(i.originalTitle)&&(i.originalTitle=i.getTitle());var n=i.getTitle(),s=angular.element(t.target);if(""===jQuery.trim(s.val()))i.setTitle(n),s.val(n);else{i.setTitle(jQuery.trim(s.val()));var r={oldValue:n,newValue:i.getTitle()};s.val(i.getTitle()),a.$broadcast("fisViewPanelTitleChanged",r)}i.editMode=!1},n.onKeyUp=function(e,i){if(13===i.keyCode)n.setTitle(e,i);else if(27===i.keyCode){var t=angular.element(i.target);t.val(e.getTitle()),e.editMode=!1}},n.$watch(function(){return d.isResponsive()},function(e){n.isResponsive=e});var x=function(){return e.reduce(n.viewPanels(),function(e,i){return e+i.path+i.title+"|"},"")};n.$watch("tabs",function(t,a){if(t!==a&&t.length>0){"T"===fis.initParams().appStage&&angular.forEach(t,function(e,i){var t;if(a.length>i&&(t=a[i]),!angular.equals(e,t)){var s=n.getAllTabs();angular.forEach(s,function(i){var t=angular.element(i),n=t.scope().item;n===e&&(c.generateUniqueIdForce(t.scope(),t.find(".fis-tab-label"),{},n.label,!0),c.generateUniqueIdForce(t.scope(),t.find(".fis-cover .fis-close"),{},n.label+"_close_icon",!0))})}});var s=r(function(){function t(e,i,t){f(e)(t.scope()),e.scope().$apply(),e.removeClass("compiled"),i.replaceWith(e)}var a=n.getAllTabs();angular.forEach(a,function(n){var a,s,r=angular.element($(n).find(".fisTabCustomClass")),o=angular.element(n);o.scope().item&&(s=angular.element(angular.element(i()).find(".fisTabCustomClass")),a=o.scope().item.view),(e.isUndefined(a)||e.isUndefined(a.args)||e.isUndefined(a.args.tabClass)||!r.hasClass("compiled"))&&(e.isUndefined(a)||e.isUndefined(a.args)||e.isUndefined(a.args.tabClass)||r.hasClass("compiled"))?a&&r.hasClass("fisTabCustomClass")&&r.hasClass("compiled")&&t(s,r,o):(a.args.tabClass&&(s.addClass(a.args.tabClass),s.addClass("compiled")),f(s)(o.scope()),s.scope()&&s.scope().$apply(),r.replaceWith(s),0!==r.find('[ng-dblclick="rename(item.view, $event)"]').length&&0!==s.find('[ng-blur="setTitle(item.view, $event)"]').length||console.warn(a.args.tabClass+" results in tab["+a.label+"] not being renamable"))})},0);u.cancelTimeoutOnDestroy(n,s,r)}}),n.$watch(x,function(){var i=n.viewPanels(),t=n.overflowViewModel?e.map(n.overflowViewModel.overflow,"view"):[],a=e.filter(i,function(i){return e.every(t,function(e){return i.path!==e.path})}),s=e.filter(i,function(i){return e.some(t,function(e){return i.path===e.path})}),r=[];angular.forEach(a,function(e){var i={label:e.label,icon:e.icon,path:e.path,view:e,parentTitle:e.parentTitle,parentIcon:e.parentIcon};r.push(i)});var o=[];angular.forEach(s,function(e){o.push({path:e.path,view:e})}),n.tabs=r,n.overflowViewModel&&(n.overflowViewModel.overflow=o)}),n.tabs=[],n.showPanels=!0,n.tabsHistory=[],n.fisPubSubService=o,n.startMenu={toggle:function(){if(!d.isResponsive()){var i=t.find(".fis-start-menu").scope();e.isObject(i)&&i.startMenuModel.closed&&o.publish("shell.navLoading",!0)}r(function(){n.fisPubSubService.publish("fisStartMenuToggleVisibility",{}),n.resumeWatches()})},opened:!1},n.getAllTabs=function(){return t.find(".nav > li.fis-tab")},n.getNavTabs=function(){return t.find(".nav > li.fis-tab[data-path]")},n.getAllNavTabs=function(){return n.getNavTabs(!0)},n.viewPanels=function(){return s.viewPanels()},n.getClass=function(e){var i=[];return s.selectedViewPanelPath()===e.path?i.push("fis-active"):i.push("fis-inactive"),e.draggable===!1&&i.push("fis-non-draggable"),n.renderClose(e)&&i.push("fis-closable"),i},n.renderClose=function(e){return!s.isNonCloseable(e)},n.openPath=function(e,i,t){s.open(e,i,t)},n.openItem=function(e,i,t){o.publish("fisTabsBar.tabOpened"),s.open(e.view.path,i,t)},n.keyboardNavigation=function(e){var i=e?e:window.event,n=t.find("li.fis-active"),a=n.attr("data-path");M(a)&&39==i.keyCode&&i.altKey?s.open(S(a)):C(a)&&37==i.keyCode&&i.altKey&&s.open(I(a))};var V,E;n.isDraggable=function(e){return!e||e.draggable!==!1},o.subscribe("fisOnDragStart.fisTabsBar",function(e){var i=e.event;V=i.target,E=T(i.target.innerText)}),o.subscribe("fisOnDrop.fisTabsBar",function(e){var i=e.event,t=n.tabs.indexOf($.grep(n.tabs,function(e){return e.label===E})[0]),a=n.tabs.indexOf($.grep(n.tabs,function(e){return e.label===i.target.innerText})[0]);if(t>=0&&a>=0){var s=n.tabs.splice(t,1)[0];n.tabs.splice(a,0,s),n.$apply()}}),n.close=function(e,i){o.publish("fisTabsBar.tabClosed"),e&&e.stopPropagation(),s.close(i).catch(angular.noop)},n.resumeWatches=function(){if(e.isNull(_)){var i=$(".fis-start-menu-content-area").scope();e.isObject(i)&&o.publish("shell.resumeWatch",i)}},n.suspendWatches=function(){var i=$(".fis-start-menu").scope(),t=i.startMenuModel.closed,n=$(":hover > button.fis-home").length>0;e.isNull(_)&&t===!0&&n===!1&&(_=r(function(){var i=$(".fis-start-menu").scope(),t=$(".fis-start-menu-content-area").scope(),n=i.startMenuModel.closed;n===!0&&e.isObject(t)&&o.publish("shell.suspendWatch",t),r.cancel(_),_=null;
},250))}}],compile:function(){return function(){$(".fis-displaypanel ul.nav-tabs")}}}},t(12),t(11)}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(45),o=n(r),l=s.default.module("shell.components.tabs-closing-menu",[]);l.directive("fisTabsClosingMenu",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$compile","fisConfig",function(i,t){"ngInject";return{restrict:"A",priority:510,controller:["$scope","$timeout","$rootScope","fisViewPanelService","fisPubSubService","fisI18nService",function(i,n,a,s,r,o){function l(i){var t=s.viewPanels();e.each(t,function(e){s.isNonCloseable(e)||i&&s.activeViewPanel().path===e.path&&i===!0||s.close(e.path)})}function c(t){var n=t.find(".fis-close-menu-tab"),a=s.viewPanels(),r=0;e.each(a,function(e){s.isNonCloseable(e)||(i.canClose=!0,r++,s.activeViewPanel().path===e.path&&(i.canCloseNotActive=!0))}),r<2&&(i.canCloseNotActive=!1),r<1&&(i.canClose=!1),d(n[0],i.canClose),d(n[1],i.canCloseNotActive)}function d(e,i){i?($(e).removeClass("disabled"),$(e).addClass("enabled")):($(e).addClass("disabled"),$(e).removeClass("enabled"))}i.menuEnabled="notReady",i.ready=!1,i.i18={},i.canClose=!1,i.canCloseNotActive=!1,i.isAllCloseable,i.mousebusy=!1,r.subscribe("shell.navReady",function(){i.ready=!0,i.i18.close=o.translate("fisTabsClosingMenu.closeall","Close all Tabs"),i.i18.closeEA=o.translate("fisTabsClosingMenu.closeallnotActive","Close all but Active tab")}),e.isUndefined(t.widgets&&t.widgets.fisTabsClosingMenu)||(i.menuEnabled=t.widgets.fisTabsClosingMenu),i.getCloseableTabs=function(){var t=s.viewPanels(),n=0;return e.each(t,function(e){s.isNonCloseable(e)||(i.canClose=!0,n++,s.activeViewPanel().path===e.path&&(i.canCloseNotActive=!0))}),n>0?i.isAllCloseable=!0:i.isAllCloseable=!1,i.isAllCloseable},i.toggleClosingMenu=function(e){var t=$(".fis-close-menu-tab-container"),n=$(window).scrollTop(),a=$(e.currentTarget),s=a.offset(),r=s.top+a.outerHeight()-n,o=9;r-=o,c(t),$("body").append(t),t.toggle(),t.css({position:"fixed",top:r+"px ",right:$(window).outerWidth()-a.offset().left-a.outerWidth()}),$(".fis-close-menu-tab").first().focus(),i.closeMenu(t)},i.closeMenu=function(e){i.mousebusy=!i.mousebusy,e.toggle(i.mousebusy),i.mousebusy===!0&&$(".fis-close-menu-tab").first().focus()},$(document).click(function(e){$(e.target).closest(".fis-close-tabs-container").length||(i.mousebusy=!1,$(".fis-close-menu-tab-container").toggle(i.mousebusy))}),i.closeAllTabs=function(){i.canClose&&($(".fis-close-menu-tab-container").toggle(),l())},i.closeAllOtherTabs=function(){i.canCloseNotActive&&($(".fis-close-menu-tab-container").toggle(),l(!0))}}],link:function(e,t){var n=function(){var t='<li ng-show="getCloseableTabs()" class="pull-right fis-close-tabs-container fis-tab fis-non-draggable" ng-click="toggleClosingMenu($event)">\t                         <div ng-show="true" class="fis-close-tabs-icon-holder">\t                             <i class="dropdown-toggle glyphicon glyphicon-remove" aria-label="Close" fis-unique-id "></i> \t                             <ul class="dropdown-menu pull-right fis-close-menu-tab-container" role="menu">\t                                 <li  class="fis-close-menu-tab" fis-unique-id aria-label="close all tabs" ng-click="closeAllTabs($event)" id="fis-close-menu-tab_1">\t                                    <span class="glyphicon glyphicon-remove"/><span class="fis-close-menu-tab-spacer"/><span>{{i18.close}}</span></li>\t                                 <li  class="fis-close-menu-tab" fis-unique-id ng-click="closeAllOtherTabs($event)" id="fis-close-menu-tab_2">\t                                    <span class="glyphicon glyphicon-remove"/><span class="fis-close-menu-tab-spacer"/><span>{{i18.closeEA}}</span></li>\t                             </ul>\t                         </div>\t                     </li>',n=i(angular.element(t))(e);n.find(".fis-close-menu-tab-container");return n};e.$watch("menuEnabled",function(e){if($("body").toggleClass("fis-tab-closing-menu-enabled",e.enabled),e.enabled===!0){t.parent().addClass("fis-tab-closing-menu-enabed");var i=n(),a=t.find(".nav");a.append(i)}e.enabled===!1&&$(".fis-overflow-container").addClass("fis-overflow-no-close-menu")})}}}]}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(47),o=n(r),l=s.default.module("shell.components.tabs-overflow-menu",[]);l.directive("fisTabsOverflowMenu",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$compile","$window","$timeout","fisUniqueIdService","fisResponsiveService","fisViewPanelService","fisPubSubService","fisMemoryUtilService","$interval",function(i,t,n,a,s,r,o,l,c){"ngInject";return{restrict:"A",priority:500,controller:["$element","$scope","$timeout","$window","$rootScope","fisViewPanelService",function(i,t,n,a,s,r){var o=void 0;t.overflowViewModel=o={activeTab:void 0,addToOverflow:void 0,addToTabs:void 0,clicked:void 0,hasViewPanels:!1,newWorkspaceTab:void 0,overflow:[],removeFromOverflow:void 0,removeFromTabs:void 0,showDropdown:!1,ready:!1};var l=function(i){return e.isObject(i)?e.has(i,"path")&&e.isString(i.path)&&!c(i.path)?!(!e.has(i,"view")||!e.isObject(i.view))||(console.warn("Cannot move an empty view panel."),!1):(console.warn("Cannot move an empty path."),!1):(console.warn("Cannot move an empty tab."),!1)},c=function(e){return null==e&&(e=""),/^\s*$/.test(e)};o.removeFromOverflow=function(i){var t="",n=!1,a=-1;if(e.isString(i)){if(c(i))return console.warn("Cannot move an empty path."),null;t=i}else{if(!l(i))return null;t=i.path}var s=e.find(o.overflow,function(e,i){return e.path===t&&(n=!0,a=i,!0)});return n&&a!==-1&&o.overflow.splice(a,1),e.isEmpty(s)?null:s},o.removeFromTabs=function(i){var n="",a=!1,s=-1;if(e.isString(i)){if(c(i))return console.warn("Cannot move an empty path."),null;n=i}else{if(!l(i))return null;n=i.path}if(r.selectedViewPanelPath()===n)return console.warn("Cannot move the active view panel."),null;var o=e.find(t.tabs,function(e,i){return e.path===n&&(a=!0,s=i,!0)});return a&&s!==-1&&t.tabs.splice(s,1),e.isEmpty(o)?null:o},o.addToOverflow=function(i){if(!l(i))return null;var t=e.any(o.overflow,function(e){return i.path===e.path});t||o.overflow.unshift(i)},o.addToTabs=function(i){if(!l(i))return null;var n=e.any(t.tabs,function(e){return i.path===e.path});n||t.tabs.push(i)},o.toggleMenu=function(){o.showDropdown=!o.showDropdown},o.clicked=function(e){return!!l(e)&&(o.removeFromOverflow(e),o.addToTabs(e),void r.open(e.path,"true"))},o.moveOverflowToTabs=function(){t.tabs=t.tabs.concat(o.overflow),o.overflow.length=0},t.$watch(function(){return e.size(o.overflow)>0},function(e){o.hasViewPanels=e})}],link:function(a,s){var r,d=a.overflowViewModel,u=$("body"),f=!0,p='\t                <li ng-repeat="item in overflowViewModel.overflow" data-path="{{item.path}}" ng-class="getClass(item.view)" class="fis-tab fis-overflow-tab" style="visibility: hidden !important;">\t                    <div fis-unique-id ng-class="{\'fis-cursor-pointer\':item.view.renamable && getClass(item.view.path)===\'fis-active\', \'tabIcon\':hasItemIcon(item)}" class="fis-tab-container" title="{{ prependTitle(item) }}">\t                        <div ng-class="{\'fis-has-icon\': hasItemIcon(item)}" class="label-icon-wrapper">\t                            <div ng-if="hasItemIcon(item)" class="fis-legacy-icon" fis-unique-id="{{item.view.title}}_icon"><i class="{{ getItemIcon(item) }}"></i></div>\t                            <span class="fis-tab-label" ng-if="!item.view.editMode" ng-bind-html="getItemTitle(item)"></span>\t                            <input class="input-small" ng-blur="setTitle(item.view, $event)" ng-show="item.view.renamable && item.view.editMode"/>\t                            <span class="fis-cover"><span fis-unique-id ng-if="renderClose(item.view)" class="fis-close">&times;</span></span>\t                        </div>\t                    </div>\t                </li>',v='\t                <li class="pull-right fis-overflow-container">\t                    <div ng-show="overflowViewModel.hasViewPanels">\t                        <div class="dropdown fis-overflow-menu">\t                            <a class="dropdown-toggle fis-overflow-menu-caret" fis-unique-id ng-click="overflowViewModel.toggleMenu()"><b class="caret"></b></a>\t                            <ul class="dropdown-menu pull-right fis-overflow-menu-tab-container" fis-unique-id="overFlowMenuList" role="menu" ng-show="overflowViewModel.showDropdown">\t                                <li ng-repeat="item in overflowViewModel.overflow" ng-class="getClass(item.view.path)" class="fis-overflow-menu-tab">\t                                    <div fis-unique-id ng-click="overflowViewModel.clicked(item)" title="{{ getItemTitle(item) }}">\t                                        <span class="fis-overflow-icon-container"><span ng-if="!hasItemIcon(item)" class="fis-overflow-icon-filler"></span><i ng-if="hasItemIcon(item)" class="{{ getItemIcon(item) }}" ></i></span>\t                                        <span class="fis-label" ng-bind-html="getItemTitle(item)"></span>\t                                    </div>\t                                </li>\t                            </ul>\t                        </div>\t                    </div>\t                </li>',m={nav:s.find(".nav"),container:void 0,tabs:void 0,toggle:void 0,dropdown:void 0},h=function(){m.container=i(angular.element(v))(a),m.tabs=i(angular.element(p))(a),m.toggle=m.container.find(".fis-overflow-menu-caret"),m.dropdown=m.container.find(".fis-overflow-menu-tab-container"),m.nav.append(m.tabs),m.nav.append(m.container),s.outside||!function(e){e.fn.outside=function(i,t){return this.each(function(){var n=(e(this),this);e(document).bind(i,function a(s){s.target===n||e.contains(n,s.target)||(t.apply(n,[s]),n.parentNode||e(document.body).unbind(i,a))})})}}(jQuery),u.append(m.dropdown),$(document).on("click",function(e){$(e.target).closest(".fis-overflow-container").length||(a.overflowViewModel.showDropdown=!1,"$apply"!==a.$$phase&&"$digest"!==a.$$phase&&a.$apply())})},b=function(){r||(r=n(function(){if(f)var e=c(function(){u.hasClass("hidden")||(c.cancel(e),g(),r=null,f=!1)},100);else g(),r=null},32))},g=function i(){if(!a.isResponsive&&!u.hasClass("hidden")){var t=m.nav.find(".fis-nav-tab");if(0!=e.size(t)){var s=m.nav.find(".fis-new-workspace-tab"),r=t.filter(".fis-active"),o=t.filter(":first").offset().top,c=!1;if(e.find(m.nav.find(".fis-overflow-tab").get(),function(e){var e=$(e);return o!==e.offset().top||(d.addToTabs(d.removeFromOverflow(e.attr("data-path"))),c=!0,!1)}),e.find(t.filter(":not(.fis-active)").get().reverse(),function(e){var e=$(e);return o===e.offset().top||(d.addToOverflow(d.removeFromTabs(e.attr("data-path"))),c=!0,!1)}),c){var f=n(function(){i()},0);return void l.cancelTimeoutOnDestroy(a,f,n)}if(e.size(r)>0&&o!==r.offset().top&&(d.addToOverflow(d.removeFromTabs(t.filter(":not(.fis-active)").last().attr("data-path"))),c=!0),c){var p=n(function(){i()},0);return void l.cancelTimeoutOnDestroy(a,p,n)}var v=s.outerWidth(!0)||0,h=m.nav.find(".fis-close-tabs-container").outerWidth(!0),b=s.offset(),g=m.nav.outerWidth(!0)-(b&&b.left||0),w=g-v-h;if(e.size(s)>0&&(o!==s.offset().top||w<m.container.outerWidth(!0)+22)&&(d.addToOverflow(d.removeFromTabs(t.filter(":not(.fis-active)").last().attr("data-path"))),c=!0),c){var y=n(function(){i()},0);l.cancelTimeoutOnDestroy(a,y,n)}}}};h(),a.$watch("overflowViewModel.hasViewPanels",function(e){$(".app > nav").toggleClass("fis-tab-overflow-menu-enabled",e),u.toggleClass("fis-tab-overflow-menu-enabled",e)}),a.$watch("overflowViewModel.showDropdown",function(){m.dropdown.css({right:parseFloat($(t).width())-m.toggle.offset().left-m.toggle.outerWidth()})}),a.$watch("isResponsive",function(e){e?d.moveOverflowToTabs():b()}),o.subscribe("fisActiveViewPanelChanged",function(){b()}),o.subscribe("fisViewPanelClosed",function(){b()}),o.subscribe("shell.navReady",function(){d.ready=!0,b()}),$(t).bind("resize",function(){b(),a.$digest()})}}}]}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(49),o=n(r),l=s.default.module("shell.components.tabs-width",[]);l.directive("fisTabsWidth",o.default),i.default=l.name},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$timeout","$interval",function(e,i){"ngInject";return{restrict:"A",scope:{fisTabsDetails:"@",fisTabsClosable:"=",fisTabsFrontIcon:"="},link:function(t,n,a){t.initial=!0;var s=function a(){e(function(){var s,r=n.find(".fis-tab-label"),o=n.find(".fisTabIcons");o.css("width","auto"),r.css("width","auto"),e(function(){s=parseFloat(o.width());var e=200-s-4;parseFloat(n.width())>200&&(t.fisTabsFrontIcon&&(e-=21),r.css("width",e))},1),(0==parseFloat(o.width())||0==parseFloat(r.width())||parseFloat(n.width())>200)&&t.initial&&(t._widthInterval=i(function(){(0==parseFloat(r.width())||parseFloat(n.width())>200)&&(a(),i.cancel(t._widthInterval))},500,120),t.$on("$destroy",function(){i.cancel(t._widthInterval)})),t.initial=!1},0)};t.fisTabsClosable&&(s(),a.$observe("fisTabsDetails",function(){s()}))}}}]},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(51),o=n(r),l=s.default.module("shell.components.theme",[]);l.directive("fisTheme",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$document","$timeout","fisConfig","fisPubSubService","fisUtilService",function(i,t,n,a,s){"ngInject";return{template:"",restrict:"AEC",replace:!0,link:function(r,o,l){function c(){var e=t(function n(){"hidden"!==i.find("body").css("visibility")?(t.cancel(e),i.find("body").removeClass("loading-indicator hidden")):e=t(n,100)},100)}function d(t){var n=0;if(r.customstyle&&(e.isString(r.customstyle)?t.stylesheets.push(r.customstyle):t.stylesheets=t.stylesheets.concat(r.customstyle)),i.find("body").append("<style> .fis-theme { visibility: hidden;} </style>"),t.stylesheets)for(n=0;n<t.stylesheets.length;n++){var a=t.rel?t.rel:"stylesheet",o=t.stylesheets[n];o=s.appendCacheQueryParameter(o),l.fisThemeParams&&(o=s.appendQueryParameters(o,l.fisThemeParams)),i.find("body").append('<link class="theme" rel='+a+' type="text/css" href='+o+"></link>")}if(t.scripts)for(n=0;n<t.scripts.length;n++){var c=t.scripts[n];c=s.appendCacheQueryParameter(c),l.fisThemeParams&&(c=s.appendQueryParameters(c,l.fisThemeParams));var d=i[0].createElement("script");d.setAttribute("class","theme"),d.src=c,i.find("head")[0].appendChild(d)}}function u(){i.find("link.theme, script.theme").remove()}i.find("body").addClass("hidden"),i.find("body").addClass("fis-theme"),r.customstyle="",n.endpoints&&n.endpoints.styles&&(r.customstyle=n.endpoints.styles),r.currentTheme.then(function(e){d(e),c()}),a.subscribe("fisThemeChanged",function(e){e.theme.then(function(e){i.find("body").addClass("loading-indicator hidden"),u(),d(e),c()})})}}}]}).call(i,t(2))},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(53),o=n(r),l=s.default.module("shell.components.top-bar",[]);l.directive("fisTopBar",o.default),i.default=l.name},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";return{template:'<div class="fis-top-bar navbar-static-top">\t      <div class="top-bar-container">\t                  <div class="row">\t                    <div class="brand-logo">\t                      <div class="pull-left"><div class="logo-container"><div id="SGCommonMenu" class="fis-common-menu" fis-common-menu cm-base-url="{{cmBaseUrl}}" cm-guid="{{cmGuid}}"></div></div></div>\t                      <div class="brand-title"><h1>{{appTitle}}</h1></div>\t                    </div>\t                    <div class="utility-menu"><div class="fis-controls" ng-transclude></div></div>\t              </div>\t          </div>\t      </div>',restrict:"EA",replace:!0,transclude:!0,scope:{appTitle:"@",cmGuid:"@",cmBaseUrl:"@"}}},t(13)},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(55),o=n(r),l=s.default.module("shell.components.utility-menu",[]);l.directive("fisUtilityMenu",o.default),i.default=l.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$compile","fisPubSubService","$timeout","fisMemoryUtilService",function(i,t,n,a){"ngInject";function s(e,i){e.attr("ng-controller",i.actionController),e.attr("ng-click",i.action),e.removeAttr("ng-repeat")}return{template:'<ul class="nav navbar-nav pull-right">\t                <li fis-unique-id="top_level_utility_{{item.id}}" ng-repeat="item in topLevelUtilityItems" ng-class="{dropdown : item.children}">\t                    <a fis-unique-id ng-if="!(item.children && item.children.length > 0) && item.partial" href="#" ng-click="open(item.path, $event)">\t                        <i ng-if="item.icon" class="{{item.icon}}"></i>\t                        <span ng-bind-html="getValidLabel(item)"></span>\t                    </a>\t                    <a tabindex="-1" fis-unique-id ng-if="!(item.children && item.children.length > 0) && !item.partial && !item.menuPartial && item.action" href="" ng-click="item.action;">\t                        <i ng-if="item.icon" class="{{item.icon}}"></i>\t                        <span ng-bind-html="getValidLabel(item)"></span>\t                    </a>\t                    <span class="noLinkSpan" ng-if="(!item.children.length && !(item.action || item.partial || item.controller || item.menuPartial))" fis-unique-id> <i ng-if="item.icon" class="{{item.icon}}"></i>\t                    {{item.label}}</span>\t                    <a fis-unique-id="{{item.label}}_masthead_title" ng-if="(item.children && item.children.length > 0) || item.menuPartial " href="" class="dropdown-toggle masthead-title" data-toggle="dropdown" ng-click="toggleDropdownMenu($event)">\t                        <i ng-if="item.icon" class="{{item.icon}}"></i>\t                        <span ng-bind-html="getValidLabel(item)"></span>\t                        <b class="caret"></b>\t                    </a>\t                    <div fis-unique-id="{{item.id}}_masthead" ng-if="(item.children && item.children.length > 0) || item.menuPartial" class="dropdown-menu masthead-nowrap" >\t                        <div class="masthead" ng-include="item.menuPartial"></div>\t                        <ul class="masthead">\t                            <li ng-repeat="child in item.children">\t                                <a href="">\t                                    <div fis-unique-id ng-if="child.partial" ng-click="open(child.path)"><span ng-bind-html="getValidLabel(child)"></span>    </div>\t                                    <div fis-unique-id ng-if="!child.partial"><i ng-if="child.icon" class="{{child.icon}}"></i><span ng-bind-html="getValidLabel(child)"></span></div>\t                                </a>\t                            </li>\t                        </ul>\t                    </div>\t                </li>\t            </ul>',restrict:"EA",replace:!0,controller:["$scope","$controller",function(i){var n;i.getValidLabel=function(i){if(!e.isUndefined(i))return i.label&&i.label.indexOf("{{")>-1&&(i.label=i.label.replace(/{|}/g,"")),i.label},i.hasDynamicAction=function(e){return n=e,!e.partial&&e.actionController&&e.action},t.subscribe("shell.navReady",function(e){i.topLevelUtilityItems=e.utility},!0),t.subscribe("shell.navChanged",function(e){i.topLevelUtilityItems=e.utility},!0)}],link:function(t,r){function o(e){e&&(e.hide(),c=void 0)}function l(e){e&&(e.show(),c=e)}var c;r.outside||!function(e){e.fn.outside=function(i,t){return this.each(function(){var n=(e(this),this);e(document).bind(i,function a(s){s.target===n||e.contains(n,s.target)||(t.apply(n,[s]),n.parentNode||e(document.body).unbind(i,a))})})}}(jQuery);$(document).on("click",function(){o(c)});t.toggleDropdownMenu=function(e){if(e){e.stopPropagation();var i=$(e.currentTarget),t=i.next(),n=i.hasClass("dropdown-toggle"),a=t.is(":visible");n&&(a?o(t):(o(c),l(t)))}},t.$watch("topLevelUtilityItems",function(o,l){if(o!==l){var c=n(function(){var t=r.children();angular.forEach(t,function(t){var n=angular.element(t),a=n.scope(),r=a.item;if((r.cls||r.actionController)&&(r.cls&&n.addClass(a.item.cls),r.actionController&&s(n,r)),r.icon){var o=n.find(".dropdown-toggle")[0];if(o){var l=angular.element(o).find("i")[0];if(l){var c=angular.element(l);c.addClass(r.icon),i(c)(a)}}}if(r.children&&r.children.length>0){var d=n.find("div.dropdown-menu")[0],u=angular.element(d).find("li");angular.forEach(u,function(i){var t=angular.element(i),n=t.scope().child;e.isUndefined(n)||!n.cls&&!n.actionController||(n.cls&&t.addClass(n.cls),n.actionController&&s(t,n))})}}),angular.forEach(t,function(t){var n=angular.element(t),a=n.scope(),s=a.item;if(s.cls||s.actionController){n.removeAttr("ng-repeat");var r=n.find("[ng-repeat]");r.removeAttr("ng-repeat"),i(n)(a)}if(s.children&&s.children.length>0){var o=n.find("div.dropdown-menu")[0],l=angular.element(o).find("li");angular.forEach(l,function(t){var n=angular.element(t),a=n.scope().child;if(!e.isUndefined(a)&&(a.cls||a.actionController)){n.removeAttr("ng-repeat"),i(n)(n.scope());var s=n.find("[ng-repeat]");s.removeAttr("ng-repeat")}})}})},0);a.cancelTimeoutOnDestroy(t,c,n)}})}}}]}).call(i,t(2))},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$scope",function(e){"ngInject";e.openInTab=function(){e.open(this.fisModel.originalNavigation.path,this.$event)}}]},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(56),o=n(r),l=t(58),c=n(l),d=s.default.module("shell.controllers",[]);d.controller("altClickController",o.default),d.controller("fis.shell.Controller",c.default),i.default=d.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["$scope","$location","fisViewService","fisViewPanelService","fisConfig","fisI18nService","fisThemeService","fisClientStorageService","$q","fisPubSubService","$window","$document","$log","$timeout","$exceptionHandler","$controller","$rootScope",function(i,t,n,a,s,r,o,l,c,d,u,f,p,v,m,h,b){"ngInject";function g(){C=null;var t={};$?$.hasClass("fis-collapsible")?t.footerHeight=5:t.footerHeight=$.outerHeight():t.footerHeight=0;var n=angular.element(u);t.windowHeight=parseFloat(n.height()),t.windowWidth=parseFloat(n.width()),e.isEqual(t,i.shell.sizes)||(i.shell.sizes=t,d.publish("shell.sizeChange",i.shell.sizes))}var w=c.defer();i.config=s,l.init(s.appId);var y=o.apply();y.then(function(){w.resolve(y)}),s.windowTitle&&(f.title=s.windowTitle),m.intercept("userMessage",function(e){i.alert(e.userMessage,{title:r.translate("error-dialog-title","")})});var M=d.subscribe("shell.i18nReady",function(){i.i18n=function(e,i){return e.indexOf(".")===-1&&(e=["shell",e]),r.translate(e,i)},M()});i.reloadActivePage=function(){a.reloadActiveViewPanel()},i.open=a.open,i.close=a.close,i.activeViewPanel=a.activeViewPanel,i.activeViewPanelIndex=a.activeViewPanelIndex,i.viewPanels=a.viewPanels,i.findNavItem=n.findNavItem,i.log=function(){p.log.apply(this,arguments)},n.load().then(function(){a.open(t.path())}),i.currentTheme=w.promise,i.applyTheme=function(e){i.currentTheme.then(function(t){var n=angular.isString(e)?e:e.id;t.id!==n&&(l.setItem("currentTheme",e),i.currentTheme=o.apply(e),d.publish("fisThemeChanged",{theme:i.currentTheme}))})},i.previewTheme=function(e){i.currentTheme.then(function(t){var n=angular.isString(e)?e:e.id;t.id!==n&&(i.currentTheme=o.apply(e),d.publish("fisThemeChanged",{theme:i.currentTheme}))})},i.openWindow=function(e,i,t,n){u.open(e,i||"_blank",t,n)},i.shell={sizes:{}};var $;i.registerFooter=function(e){$=e};var C,S=[],I=function(){C&&v.cancel(C),C=v(g,150)};if(S.push(d.subscribe("shell.navReady",I)),S.push(d.subscribe("shell.navLoading",I)),S.push(d.subscribe("shell.shell.suspendWatch",I)),S.push(d.subscribe("fisThemeChanged",I)),angular.element(u).on("resize",I),I(),i.$on("$destroy",function(){e.each(S,function(e){e()}),v.cancel(C)}),b.controllersArr&&b.controllersArr.length>0)for(var T=0;T<b.controllersArr.length;T++)h(b.controllersArr[T],{$scope:i})}]}).call(i,t(2))},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=["fisNavigationService","$compile","$controller",function(i,t,n){"ngInject";function a(i,t,n){e.each(t,function(e){if(e.controller){var a=e.controller;s(t,a,i,n),t.hasActionController=!0}})}function s(e,i,t,a){var s={$scope:a,$element:t};e._actionController=n(i,s)}function r(e,i,t){var n=i.offset(),a={},s={};t.offset()?s=t.offset():(s.top=135,s.left=300);var r=30,o=2;a.top=o+(n.top-s.top),a.left=r+(n.left-s.left),a.position="inherit";var l=t;if(l.length<1)return void console.warn("Unable to position the alt-menu successfully : fis-sitemap not found.");var c=parseFloat(l.height()),d=l.offset(),u={};u.top=n.top-d.top,u.left=n.left-d.left,c/3*2<u.top&&(a.top=a.top-30),e.css(a)}function o(i,n){e.each(i.altMenu,function(e){e.originalNavigation=n}),e.each(i.clsMenu,function(e){e.originalNavigation=n});var a='<div id="altmenu"><ul class="alt-nav-link dropdown-menu pull-right">\t                <ul >\t                    <li fisid="altmenu_{{item.id}}" ng-repeat="item in altMenu">\t                          <div fis-navigation-link fis-model="item" class="alt-menu-link"></div>\t                    </li>';return i.clsMenu.length>0&&e.each(i.clsMenu,function(e,t){a=a+'<li class="'+i.clsMenu[t].cls+'" fis-model="clsMenu['+t+']" ></li>'}),a+="</ul></div>",t(a)(i)}var l,c={},d=i.getNavigation();return d.then(function(e){l=e.altMenu},function(e){console.warn("Loading Navigation for alt menu failed: "+e)},function(e){l=e.altMenu}),c.showAltMenu=function(i,t,n,s){if(e.isUndefined(l))console.warn("AltMenu is not loaded from navigation.");else{a(i,l,n),n.altMenu=[],n.clsMenu=[],e.each(l,function(e){(e.controller||e.action)&&n.altMenu.push(e),e.cls&&n.clsMenu.push(e)});var c=o(n,t),d=i.offset(),u=$("#altmenu");u.length>0&&u.remove();var f=i.parents().find(".fis-sitemap");$(f).append(c),c.outside&&c.outside("click",function(){c.hide(),i.find("#altmenu").remove(),n.$digest()}),r(c,i,f,d,s)}},c}]}).call(i,t(2))},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=(new Date).getFullYear()},function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var a=t(1),s=n(a),r=t(59),o=n(r),l=t(62),c=n(l),d=t(60),u=n(d),f=t(63),p=n(f),v=t(64),m=n(v),h=t(65),b=n(h),g=t(66),w=n(g),y=s.default.module("shell.services",[]);y.factory("fisAltMenu",o.default),y.value("fisCurrentYearService",u.default),y.provider("fisResponsiveService",c.default),y.provider("fisSidebarStateService",p.default),y.provider("fisStartMenuService",m.default),y.provider("fisTabsBarService",b.default),y.provider("fisThemeService",w.default),i.default=y.name},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";var i=this;i.$get=["fisPubSubService",function(i){var t,n,a,s={},r={small:768,medium:1024,large:1e5};return $(window).resize(function(){s.getWidth(!0),s.getHeight(!0);i.publish("fisResponsiveService.browserResized")}),s.getMaxWidthScreenSize=function(){return Object.keys(r).reduce(function(i,t){var n=r[t];return e.isUndefined(i)&&s.getWidth()<=n&&(i=t),i},void 0)},s.getMaxWidthScreenSizes=function(){return r},s.getWidth=function(n){if(e.isUndefined(t)||n){var r="undefined"!=typeof window&&window,o="undefined"!=typeof document&&document,l=o&&o.documentElement,c=l.clientWidth<r.innerWidth?function(){return r.innerWidth}:function(){return l.clientWidth};t=c();var d=s.isResponsive();a!==d&&(i.publish("fisResponsiveService.isResponsive",d),a=d)}return t},s.getHeight=function(i){if(e.isUndefined(n)||i){var t="undefined"!=typeof window&&window,a="undefined"!=typeof document&&document,s=a&&a.documentElement,r=s.clientHeight<t.innerHeight?function(){return t.innerHeight}:function(){return s.clientHeight};n=r()}return n},s.isResponsive=function(){var i=["small","medium"];return s.isResponsiveEnabled()&&e.includes(i,s.getMaxWidthScreenSize())},s.isResponsiveEnabled=function(){return $("body").hasClass("fis-responsive-shell")},s}]}}).call(i,t(2))},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";var i=this;i.sidebarControllers={},i.$get=[function(){function t(t,n){var a=i.sidebarControllers[t];e.isUndefined(a)?console.warn("Could not set opened state for unregistered sidebar "+t):a.sidebar.opened=n}function n(t,n){var a=i.sidebarControllers[t];e.isUndefined(a)?console.warn("Could not set pinned state for unregistered sidebar "+t):a.sidebar.pinned=n}var a={};return a.registerSidebar=function(e,t){i.sidebarControllers[e]=t},a.openSidebar=function(e){t(e,!0)},a.closeSidebar=function(e){t(e,!1)},a.clickPin=function(e){var t=i.sidebarControllers[e];t.sidebar.pinned=!t.sidebar.pinned},a.updateSidebarPosition=function(e,t){i.sidebarControllers[e].sidebar.position=t},a.reloadSidebar=function(e){i.sidebarControllers[e].reload()},a.updateSidebarEnabled=function(e,t){i.sidebarControllers[e].sidebar.enabled=t},a.updateSidebarMode=function(e,t){i.sidebarControllers[e].sidebar.mode=t},a.updateSidebarWidth=function(e,t){i.sidebarControllers[e].sidebar.width=t},a.updateSidebarMaximumWidth=function(e,t){i.sidebarControllers[e].sidebar.maximumWidth=t},a.updateSidebarMinimumWidth=function(e,t){i.sidebarControllers[e].sidebar.minimumWidth=t},a.unregisterSidebar=function(e){if(i.sidebarControllers.indexOf){var t=i.sidebarControllers.indexOf(e);t>-1&&i.sidebarControllers.splice(t,1)}},a.isOpened=function(t){var n=i.sidebarControllers[t];return e.isUndefined(n)?void console.warn("Could not get opened state for unregistered sidebar "+t):n.sidebar.opened},a.isPinned=function(t){var n=i.sidebarControllers[t];return e.isUndefined(n)?void console.warn("Could not get pinned state for unregistered sidebar "+t):n.sidebar.pinned},a.getSidebar=function(t){var n=i.sidebarControllers[t];return e.isUndefined(n)?void console.warn("Could not get unregistered sidebar "+t):n.sidebar},a.pinSidebar=function(e){n(e,!0)},a.unpinSidebar=function(e){n(e,!1)},a.updateSidebarTitle=function(t,n){var a=i.sidebarControllers[t];e.isUndefined(a)||(a.sidebar.title=n)},a}]}}).call(i,t(2))},function(e,i,t){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";var i=this;i.menuDirectiveName="",i.$get=["fisPubSubService",function(t){var n={},a={closeOnMouseExit:!0,searchable:!0,quickLinksOrientation:"left",showEmptyMenu:!1,loadingIndicator:!1};return n.getMenuDirectiveName=function(){return i.menuDirectiveName},t.subscribe("fisStartMenu.closeOnMouseExit",function(e){a.closeOnMouseExit=!!e}),t.subscribe("fisStartMenu.searchable",function(e){a.searchable=!!e}),t.subscribe("fisStartMenu.quickLinksOrientation",function(i){var t="left";e.isString(i)&&"right"===i.trim().toLowerCase()&&(t="right"),a.quickLinksOrientation=t}),t.subscribe("fisStartMenu.showEmptyMenu",function(e){a.showEmptyMenu=!!e}),t.subscribe("fisStartMenu.loadingIndicator",function(e){a.loadingIndicator=!!e;
}),n.GetCloseOnMouseExit=function(){return a.closeOnMouseExit},n.SetCloseOnMouseExit=function(i){a.closeOnMouseExit=e.isBoolean(i)?i:"true"===i.trim().toLowerCase(),t.publish("fisStartMenu.setCloseOnMouseExit",a.closeOnMouseExit)},n.GetSearchable=function(){return a.searchable},n.SetSearchable=function(i){a.searchable=e.isBoolean(i)?i:"true"===i.trim().toLowerCase(),t.publish("fisStartMenu.setSearchable",a.searchable)},n.GetLoadingIndicator=function(){return a.loadingIndicator},n.SetLoadingIndicator=function(i){a.loadingIndicator=e.isBoolean(i)?i:"true"===i.trim().toLowerCase(),t.publish("fisStartMenu.setLoadingIndicator",a.loadingIndicator)},n.GetShowEmptyMenu=function(){return a.showEmptyMenu},n.SetShowEmptyMenu=function(i){a.showEmptyMenu=e.isBoolean(i)?i:"true"===i.trim().toLowerCase(),t.publish("fisStartMenu.setShowEmptyMenu",a.showEmptyMenu)},n.GetQuickLinksOrientation=function(){return a.quickLinksOrientation},n.SetQuickLinksOrientation=function(i){var n="left";e.isString(i)&&"right"===i.trim().toLowerCase()&&(n="right"),a.quickLinksOrientation=n,t.publish("fisStartMenu.setQuickLinksOrientation",a.quickLinksOrientation)},n}]}}).call(i,t(2))},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";var e=this;e.$get=["fisPubSubService",function(e){var i={};return i.openedDropDown=void 0,i.setUpdateTabTitle=function(i){e.publish("fisTabsBar.updateTabTitle",i)},i.setTooltipPrependTitle=function(i){e.publish("fisTabsBar.tooltipPrependTitle",i)},i}]}},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){"ngInject";var e=this,i=e.defaultTheme={id:"default",name:"Plateau",stylesheets:["node_modules/@ruf/fis-theme-plateau/dist/kendo.min.css","node_modules/@ruf/fis-theme-plateau/dist/style.min.css"],rel:"stylesheet",scripts:[]};"D"===fis.initParams().appStage&&(i.stylesheets=["node_modules/@ruf/fis-theme-plateau/kendo.less","node_modules/@ruf/fis-theme-plateau/style.less"],i.scripts=["node_modules/@ruf/less.js/less.js"],i.rel="stylesheet/less"),e.$get=["$resource","$q","fisConfig","fisClientStorageService",function(e,t,n,a){var s={},r=i,o=!1;return s.apply=function(s){var l=t.defer();if(s&&s.stylesheets)l.resolve(s),r=s;else{var c=a.getItem("currentTheme");if(c&&o&&(a.removeItem("currentTheme"),o=!1,c=null),c&&c.id)r=c,l.resolve(c);else if(n.endpoints&&n.endpoints.theme){var d=angular.isString(s)?{context:s}:s||{};d.appStage=fis.initParams().appStage,e(n.endpoints.theme+"/current").get(d||{},function(e){e.id||(l.resolve(i),r=i),l.resolve(e)},function(){l.resolve(i),r=i})}else r=i,l.resolve(r)}return l.promise},s.themes=function(){var i=t.defer();if(n.endpoints&&n.endpoints.theme){var a={};a.appStage=fis.initParams().appStage,e(n.endpoints.theme).query(a||{},function(e){i.resolve(e)},function(){})}else i.resolve([]);return i.promise},s.removeStoredTheme=function(){o=!0},s}]}},function(e,i){e.exports="fis.core"},function(e,i){e.exports="ngResource"},function(e,i){e.exports=jQuery}]));
//# sourceMappingURL=fis-shell.min.js.map;
/*!
 * 
 * @ruf/fis-bootstrap
 * Version: 4.5.0
 * 
 * © 2016
 * Fidelity National Information Services, Inc. and/or its subsidiaries - All Rights Reserved worldwide.
 * This document is protected under the trade secret and copyright laws as the property of Fidelity National Information Services, Inc. and/or its subsidiaries.
 * Copying, reproduction or distribution should be limited and only to employees with a “need to know” to do their job. Any disclosure of this document to third parties is strictly prohibited.
 * 
 */
!function(t){function o(e){if(r[e])return r[e].exports;var s=r[e]={exports:{},id:e,loaded:!1};return t[e].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}var r={};return o.m=t,o.c=r,o.p="",o(0)}([function(t,o,r){"use strict";r(2),r(3),r(1),t.exports="fis.bootstrap"},function(t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=["fis.bootstrap.components","fis.bootstrap.table"];angular.module("fis.bootstrap",r);var e=angular.module("fisBsStarterKit",["fis.bootstrap"]);o.default=e.name},function(t,o){t.exports="fis.bootstrap.components"},function(t,o){t.exports="fis.bootstrap.table"}]);
//# sourceMappingURL=fis-bootstrap.min.js.map