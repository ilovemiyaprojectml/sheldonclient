<section ng-controller="responsiveTableData">
    <header fis-page-header fis-title="Bootstrap Table Widget"><div><i class="glyphicon glyphicon-info-sign"></i> For more on this widget, visit the <a href="https://www.csa.sungard.com/wiki/display/html/Tables" target="wiki">this page</a></div></header>

    <div dui-toc></div>

    <div fis-panel fis-title="Table with expanding row detail">
        <div class="fis-subheader"><p>This illustrates responsive table with sorting, expandable rows,
            delete/add record, link inside a row and menu item features built
            inside the component. Please note that sorting is associated with main data row and not the expanded row.</p></div>
        <div class="fis-well">
            <div class="fis-bs-widget">
                <button fis-unique-id="button" type="button" ng-click="addRow();toggleDetail('-1')"
                        class="btn btn-sm custom-button_table">Add New Row</button>
                <div class="table-responsive">
                    <table st-table=displayDataCollection st-safe-src="tableDataArr"
                           class="table">
                        <thead>
                        <tr class="header">
                            <th st-sort="data1" st-ratio="30"><a class="remove-decoration" ui-sref="none">{{displayDataCollection[0].title1}}</a></th>
                            <th st-sort="data3" st-ratio="20"><a class="remove-decoration" ui-sref="none">{{displayDataCollection[0].title2}}</a></th>
                            <th st-sort="data4" st-ratio="20"><a class="remove-decoration" ui-sref="none">{{displayDataCollection[0].title3}}</a></th>
                            <th st-sort="data5" class="hidden-xs" st-ratio="20"><a
                                    class="remove-decoration" ui-sref="none">{{displayDataCollection[0].title4}}</a></th>
                            <th st-ratio="10"></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr class="expanding-table-row"
                            ng-repeat-start="row in displayDataCollection" st-select-row="row">
                            <td st-ratio="30"><a
                                    class="remove-decoration {{(activePosition == $index)?'table_arrow_open':'table_arrow_collapse'}}"
                                    ui-sref="none" ng-click="toggleDetail($index)" fis-unique-id="arrow"></a>
                                {{row.data1}},{{row.data2}}</td>
                            <td st-ratio="20">{{row.data3}}</td>
                            <td st-ratio="20">{{row.data4|date:'MM/dd/yyyy'}}</td>
                            width is added for long header title to fix the column width resizing issue  during sorting
                            <td class="hidden-xs" st-ratio="20"><a href="" ng-click="showMessage(row)"><u>{{row.data5}}</u></a></td>
                            <td st-ratio="10"><button type="button" ng-click="removeRow(row);toggleDetail('-1')"
                                                      class="btn btn-sm">
                                <span class="icon-Delete"></span>
                            </button></td>
                        </tr>
                        <tr class="extra-row" ng-show="activePosition == $index"
                            ng-repeat-end="">
                            <td class="custom_td" colspan="2">
                                <div>
                                    <span class="expandable_text_title">Tax ID:</span><span
                                        class="expandable_text_data">{{row.taxid}}</span>
                                </div>
                                <div>
                                    <span class="expandable_text_title">License:</span><span
                                        class="expandable_text_data">{{row.license}}</span>
                                </div>
                            </td>
                            <td class="custom_td" colspan="3">
                                <div>
                                    <span class="expandable_text_title">Role:</span><span
                                        class="expandable_text_data">{{row.role}}</span>
                                </div>
                                <div>
                                    <span class="expandable_text_title">Alias:</span><span
                                        class="expandable_text_data">{{row.alias}}</span>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</section>